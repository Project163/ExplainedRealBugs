[{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475135117","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475135117","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475135117,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTEzNTExNw==","user":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T07:36:05Z","updated_at":"2019-03-21T07:36:36Z","body":"That's how permissions work, nothing todo with syncthing. Watching requires more of them.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475135117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2218949571,"node_id":"MDExOkNsb3NlZEV2ZW50MjIxODk0OTU3MQ==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2218949571","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-03-21T07:36:05Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475140439","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475140439","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475140439,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTE0MDQzOQ==","user":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T08:05:35Z","updated_at":"2019-03-21T08:05:35Z","body":"Could you elaborate to explain why the older version (<1.0) didn't require those permissions? The old watcher in version 0.14.49 has been working perfectly fine *without* the \"List folder\" permission in any ancestor directory.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475140439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475153153","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475153153","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475153153,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTE1MzE1Mw==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T08:59:15Z","updated_at":"2019-03-21T09:00:56Z","body":"Did the watcher actually *watch* or did it just not complain? If it actually did watch for changes successfully this sounds like a genuine issue, although one on a dependency of ours (the watching package).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475153153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475153172","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475153172","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475153172,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTE1MzE3Mg==","user":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T08:59:20Z","updated_at":"2019-03-21T08:59:58Z","body":"Perhaps @imsodin can comment, but my money is that it was caused by a change in go that broke watching roots of drives, as I don't think watching was touched for a while.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475153172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2219086773,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIxOTA4Njc3Mw==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2219086773","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-21T08:59:21Z","performed_via_github_app":null},{"id":2219086774,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMTkwODY3NzQ=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2219086774","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-21T08:59:21Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475158649","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475158649","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475158649,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTE1ODY0OQ==","user":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T09:20:07Z","updated_at":"2019-03-21T09:20:07Z","body":"According to the log message, I can pin down the error to [this line of code](https://github.com/syncthing/syncthing/blob/03d0f0dc340764b95112080471b28414ef6cff3b/lib/model/folder.go#L357)\r\n\r\n    eventChan, err := f.Filesystem().Watch(\".\", ignores, ctx, f.IgnorePerms)\r\n\r\nwhich probably goes down to [basicfs_watch](https://github.com/syncthing/syncthing/blob/03d0f0dc340764b95112080471b28414ef6cff3b/lib/fs/basicfs_watch.go#L49):\r\n\r\n    err = notify.Watch(filepath.Join(absName, \"...\"), backendChan, eventMask)\r\n\r\nTherefore the problem might be introduced by recent modification to the [syncthing/notify](https://github.com/syncthing/notify/commits/master) codes. There have been 20 commits since the release of version 0.14.49.\r\n\r\nI don't have a development environment to further analyze the error. It would be easier for you to pin it down in a debugger.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475158649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475160962","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475160962","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475160962,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTE2MDk2Mg==","user":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T09:28:16Z","updated_at":"2019-03-21T09:28:16Z","body":"@calmh The older version of syncthing did watch for changes successfully. I've been using it for 6 months. Any file modification event is usually detected in seconds although the re-scanning period is set to 1 hour.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475160962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2219148973,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjIxOTE0ODk3Mw==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2219148973","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-21T09:28:19Z","performed_via_github_app":null},{"id":2219148975,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIyMTkxNDg5NzU=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2219148975","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-21T09:28:19Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475164809","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475164809","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475164809,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTE2NDgwOQ==","user":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T09:42:29Z","updated_at":"2019-03-21T09:42:29Z","body":"I guess this has some merit to it, but I suspect the `...` is necessery","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475164809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2219180295,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQyMjE5MTgwMjk1","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2219180295","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2019-03-21T09:42:29Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475194999","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475194999","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475194999,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTE5NDk5OQ==","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T11:31:21Z","updated_at":"2019-03-21T11:31:51Z","body":">     1. Create a folder `C:\\parent\\child` and configure Syncthing to monitor it.\r\n> \r\n>     2. In the access control list (ACL) of folder `C:\\parent` , unset the \"List Folder\" permission and keep the \"Traverse Folder\" permission allowed.\r\n> \r\n>     3. Enable all permissions for folder `C:\\parent\\child`.\r\n\r\nI understand this such, that the folder root directory is `C:\\parent\\child` and the directory without the \"List folder\" permission is `C:\\parent`, i.e. a parent of the root. I don't see how that is possible, as the watcher library only operates below the folder root, i.e. should never list the contents of `C:\\parent`. Could you please double check this.\r\n\r\nAlso if you can run a few Syncthing version between 0.14.49 and 1.0.0  to further narrow down the moment in which the behaviour changed, that would be very helpful.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475194999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475275310","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475275310","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475275310,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTI3NTMxMA==","user":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T15:25:12Z","updated_at":"2019-03-21T15:25:12Z","body":"## Test setup\r\nI've setup the folder permission using the following script\r\n\r\n```\r\nicacls C:\\parent /grant:r syncuser:(X)\r\nicacls C:\\parent\\child /grant:r syncuser:(OI)(CI)(M)\r\nicacls C:\\parent /inheritance:d\r\nicacls C:\\parent /remove:g Users\r\nicacls C:\\parent /remove:g \"Authenticated Users\"\r\n```\r\nwhere `syncuser` is the user who runs Syncthing. \r\n\r\n\r\n\r\n## Results\r\n\r\n### Version 0.14.49\r\n\r\nFile watcher works normally.\r\n<img src=\"https://user-images.githubusercontent.com/8292110/54762555-a5f65b00-4bf4-11e9-982d-f519792a083e.png\" width=\"300\">\r\n\r\n\r\n### Version 0.14.50\r\n\r\nFile watcher fails to start.\r\n<img src=\"https://user-images.githubusercontent.com/8292110/54762699-de963480-4bf4-11e9-80ce-439fdf8b240c.png\" width=\"300\">\r\n\r\n### Version 1.1.0\r\n\r\nFile watcher fails to start.\r\n<img src=\"https://user-images.githubusercontent.com/8292110/54762730-f077d780-4bf4-11e9-912b-70b61c1eb982.png\" width=\"300\">\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475275310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475279700","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475279700","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475279700,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTI3OTcwMA==","user":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T15:34:37Z","updated_at":"2019-03-21T15:34:37Z","body":"Probably commit [c2ff49](https://github.com/syncthing/syncthing/commit/c2ff49ed436614cc0a6a0332bd1f3fa63b608a0d#diff-e532ba17c62ef31e448d9f2a775d20f2) accidentally introduced this problem, because it refactored lots of codes in the `fs` (FileSystem) package.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475279700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475300609","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475300609","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475300609,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTMwMDYwOQ==","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T16:22:01Z","updated_at":"2019-03-21T16:22:01Z","body":"Ah yep, I forgot about the symlink handling business - thanks for the thorough debugging!  \r\nI can't be entirely sure, but I'd bet the error comes from `filepath.EvalSymlink` on your root path (which was introduced in that commit, but not accidentally). That performs all kinds of magic on all parents, so I guess some of that requires the missing permission. Unfortunately I don't see a way around this, as evaluating potential symlinks is required to be able to use the paths reported by the notify library (which are evaluated too) - see https://github.com/syncthing/syncthing/issues/5043, which was fixed by https://github.com/syncthing/syncthing/commit/c2ff49ed436614cc0a6a0332bd1f3fa63b608a0d.\r\n\r\nTo check my hypothesis you could run the following script: https://gist.github.com/imsodin/b1bfc8a17180404cfcc3ef4da1107c7b (`go run notifyWinSym.go`).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475300609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475331314","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475331314","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475331314,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTMzMTMxNA==","user":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T17:37:25Z","updated_at":"2019-03-21T17:37:25Z","body":"I've run your script and both lines fail with \"access denied\" error.\r\nThat confirms your theory: The error does come from [EvalSymlinks](https://github.com/syncthing/syncthing/blob/73fa7a6e5bdbfdda8f988625b016db5eef4e6672/lib/fs/basicfs_windows.go#L215).","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475331314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475335774","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475335774","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475335774,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTMzNTc3NA==","user":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T17:49:20Z","updated_at":"2019-03-21T17:49:20Z","body":"In version 0.14.49 you also called [`EvalSymlinks`](https://github.com/syncthing/syncthing/blob/6b82538e623feb4df2bef9fc4b37d581de96309a/lib/fs/basicfs.go#L56). There, if an error occurs, the `root` path is used instead. So the watcher can continue to work.\r\n\r\n\trootSymlinkEvaluated, err := filepath.EvalSymlinks(root)\r\n\tif err != nil {\r\n\t\trootSymlinkEvaluated = root\r\n         }\r\n\r\nIs it possible to restore this nice old behavior? ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475335774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475336115","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475336115","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475336115,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTMzNjExNQ==","user":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T17:50:18Z","updated_at":"2019-03-21T17:50:18Z","body":"That's the wrong thing to do however, so I'd say no.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475336115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475336860","html_url":"https://github.com/syncthing/syncthing/issues/5609#issuecomment-475336860","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5609","id":475336860,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTMzNjg2MA==","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T17:52:16Z","updated_at":"2019-03-21T17:52:16Z","body":"Nope, because it wasn't nice at all, it resulted in panics: https://github.com/syncthing/syncthing/issues/5043\r\n\r\nThere would have to be another workaround and/or diving into `filepath.EvalSymlinks` to find the root cause (in the hopes that it can be circumvented). I must admit I don't see a workaround and am not much inclined to invest time into any diving.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/475336860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2220570626,"node_id":"MDExOkNsb3NlZEV2ZW50MjIyMDU3MDYyNg==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2220570626","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-03-21T17:56:06Z","state_reason":null,"performed_via_github_app":null},{"id":2220631508,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMjA2MzE1MDg=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2220631508","actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9f8102f2232b4483db7c5ca9255673072ae80e16","commit_url":"https://api.github.com/repos/gdlmx/syncthing/commits/9f8102f2232b4483db7c5ca9255673072ae80e16","created_at":"2019-03-21T18:17:39Z","performed_via_github_app":null},{"id":2220984956,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMjA5ODQ5NTY=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2220984956","actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7b27a1471bbf68f87ede96f829ad1f2f38742d16","commit_url":"https://api.github.com/repos/gdlmx/syncthing/commits/7b27a1471bbf68f87ede96f829ad1f2f38742d16","created_at":"2019-03-21T20:42:14Z","performed_via_github_app":null},{"id":2221016461,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMjEwMTY0NjE=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2221016461","actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a8f2bba5d3fa8474417cdf561c6d4f3ed17a0555","commit_url":"https://api.github.com/repos/gdlmx/syncthing/commits/a8f2bba5d3fa8474417cdf561c6d4f3ed17a0555","created_at":"2019-03-21T20:55:14Z","performed_via_github_app":null},{"id":2221044623,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMjEwNDQ2MjM=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2221044623","actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e4f02bbd746104685d31647711a6e35beca0dc4b","commit_url":"https://api.github.com/repos/gdlmx/syncthing/commits/e4f02bbd746104685d31647711a6e35beca0dc4b","created_at":"2019-03-21T21:07:12Z","performed_via_github_app":null},{"actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-21T21:20:37Z","updated_at":"2019-03-21T21:20:37Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/5611","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/5611/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/5611/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/5611/events","html_url":"https://github.com/syncthing/syncthing/pull/5611","id":423947171,"node_id":"MDExOlB1bGxSZXF1ZXN0MjYzNDA4NzM2","number":5611,"title":"lib/fs: Fallback EvalSymlinks method on windows (fixes #5609)","user":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/36","html_url":"https://github.com/syncthing/syncthing/milestone/36","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/36/labels","id":4301629,"node_id":"MDk6TWlsZXN0b25lNDMwMTYyOQ==","number":36,"title":"v1.2.0","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":64,"state":"closed","created_at":"2019-05-10T07:12:15Z","updated_at":"2019-07-09T06:30:26Z","due_on":"2019-07-09T07:00:00Z","closed_at":"2019-07-09T06:30:26Z"},"comments":6,"created_at":"2019-03-21T21:20:37Z","updated_at":"2020-06-10T07:02:46Z","closed_at":"2019-06-10T12:33:54Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":14712850,"node_id":"MDEwOlJlcG9zaXRvcnkxNDcxMjg1MA==","name":"syncthing","full_name":"syncthing/syncthing","private":false,"owner":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/syncthing/syncthing","description":"Open Source Continuous File Synchronization","fork":false,"url":"https://api.github.com/repos/syncthing/syncthing","forks_url":"https://api.github.com/repos/syncthing/syncthing/forks","keys_url":"https://api.github.com/repos/syncthing/syncthing/keys{/key_id}","collaborators_url":"https://api.github.com/repos/syncthing/syncthing/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/syncthing/syncthing/teams","hooks_url":"https://api.github.com/repos/syncthing/syncthing/hooks","issue_events_url":"https://api.github.com/repos/syncthing/syncthing/issues/events{/number}","events_url":"https://api.github.com/repos/syncthing/syncthing/events","assignees_url":"https://api.github.com/repos/syncthing/syncthing/assignees{/user}","branches_url":"https://api.github.com/repos/syncthing/syncthing/branches{/branch}","tags_url":"https://api.github.com/repos/syncthing/syncthing/tags","blobs_url":"https://api.github.com/repos/syncthing/syncthing/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/syncthing/syncthing/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/syncthing/syncthing/git/refs{/sha}","trees_url":"https://api.github.com/repos/syncthing/syncthing/git/trees{/sha}","statuses_url":"https://api.github.com/repos/syncthing/syncthing/statuses/{sha}","languages_url":"https://api.github.com/repos/syncthing/syncthing/languages","stargazers_url":"https://api.github.com/repos/syncthing/syncthing/stargazers","contributors_url":"https://api.github.com/repos/syncthing/syncthing/contributors","subscribers_url":"https://api.github.com/repos/syncthing/syncthing/subscribers","subscription_url":"https://api.github.com/repos/syncthing/syncthing/subscription","commits_url":"https://api.github.com/repos/syncthing/syncthing/commits{/sha}","git_commits_url":"https://api.github.com/repos/syncthing/syncthing/git/commits{/sha}","comments_url":"https://api.github.com/repos/syncthing/syncthing/comments{/number}","issue_comment_url":"https://api.github.com/repos/syncthing/syncthing/issues/comments{/number}","contents_url":"https://api.github.com/repos/syncthing/syncthing/contents/{+path}","compare_url":"https://api.github.com/repos/syncthing/syncthing/compare/{base}...{head}","merges_url":"https://api.github.com/repos/syncthing/syncthing/merges","archive_url":"https://api.github.com/repos/syncthing/syncthing/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/syncthing/syncthing/downloads","issues_url":"https://api.github.com/repos/syncthing/syncthing/issues{/number}","pulls_url":"https://api.github.com/repos/syncthing/syncthing/pulls{/number}","milestones_url":"https://api.github.com/repos/syncthing/syncthing/milestones{/number}","notifications_url":"https://api.github.com/repos/syncthing/syncthing/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/syncthing/syncthing/labels{/name}","releases_url":"https://api.github.com/repos/syncthing/syncthing/releases{/id}","deployments_url":"https://api.github.com/repos/syncthing/syncthing/deployments","created_at":"2013-11-26T09:48:21Z","updated_at":"2025-11-09T22:07:32Z","pushed_at":"2025-11-04T08:20:50Z","git_url":"git://github.com/syncthing/syncthing.git","ssh_url":"git@github.com:syncthing/syncthing.git","clone_url":"https://github.com/syncthing/syncthing.git","svn_url":"https://github.com/syncthing/syncthing","homepage":"https://syncthing.net/","size":124346,"stargazers_count":77446,"watchers_count":77446,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4825,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":361,"license":{"key":"mpl-2.0","name":"Mozilla Public License 2.0","spdx_id":"MPL-2.0","url":"https://api.github.com/licenses/mpl-2.0","node_id":"MDc6TGljZW5zZTE0"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["go","p2p","peer-to-peer","synchronization"],"visibility":"public","forks":4825,"open_issues":361,"watchers":77446,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/syncthing/syncthing/pulls/5611","html_url":"https://github.com/syncthing/syncthing/pull/5611","diff_url":"https://github.com/syncthing/syncthing/pull/5611.diff","patch_url":"https://github.com/syncthing/syncthing/pull/5611.patch","merged_at":"2019-06-10T12:33:54Z"},"body":"### Purpose\r\n\r\nThis PR fixes #5609 by circumventing the \"access denied\" error of `filepath.EvalSymlinks`. In the current implementation of `EvalSymlinks`, it makes a [`FindFirstFile` system call](https://github.com/golang/go/blob/44d3bb998ca00e49d9e0138954287af206b614bf/src/path/filepath/symlink_windows.go#L34) for every ancestor directories. Therefore it will fail if If the user lacks access permission to any of those ancestors.\r\n\r\nThis PR introduces a fallback method to get the [\"normalized\"](https://docs.microsoft.com/en-us/windows/desktop/api/fileapi/nf-fileapi-getfinalpathnamebyhandlew#remarks) path from a more suitable WinAPI call, `GetFinalPathNameByHandle` which tries to query the norm path from the file system directly without visiting any ancestor directory. Therefore it can circumvent the above problem.\r\n\r\nBy definition, the norm path doesn't contain any symlink or short 8.3 file names. The case of the path components should also be correct. \r\n\r\n### Testing\r\n\r\nA unit test function `TestGetFinalPath` is composed to test normal windows paths as long as a path to a special folder structure with ACLs that will trigger the issue [#5609](https://github.com/syncthing/syncthing/issues/5609#issuecomment-475275310). This test finishes successfully on Windows 10 (build 1809).\r\n\r\n## Authorship\r\n\r\nThe PR is authored by Mingxuan Lin\r\n\r\n","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/5611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/5611/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":2221432462,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyMjE0MzI0NjI=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2221432462","actor":{"login":"gdlmx","id":8292110,"node_id":"MDQ6VXNlcjgyOTIxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/8292110?v=4","gravatar_id":"","url":"https://api.github.com/users/gdlmx","html_url":"https://github.com/gdlmx","followers_url":"https://api.github.com/users/gdlmx/followers","following_url":"https://api.github.com/users/gdlmx/following{/other_user}","gists_url":"https://api.github.com/users/gdlmx/gists{/gist_id}","starred_url":"https://api.github.com/users/gdlmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdlmx/subscriptions","organizations_url":"https://api.github.com/users/gdlmx/orgs","repos_url":"https://api.github.com/users/gdlmx/repos","events_url":"https://api.github.com/users/gdlmx/events{/privacy}","received_events_url":"https://api.github.com/users/gdlmx/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"fa0a12ae717b52cde86e655da609deb5f87d6176","commit_url":"https://api.github.com/repos/gdlmx/syncthing/commits/fa0a12ae717b52cde86e655da609deb5f87d6176","created_at":"2019-03-22T01:16:33Z","performed_via_github_app":null},{"id":2400823350,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI0MDA4MjMzNTA=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2400823350","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"eb4fe808c512e75971f0e5ee7558025954c7449c","commit_url":"https://api.github.com/repos/syncthing/syncthing/commits/eb4fe808c512e75971f0e5ee7558025954c7449c","created_at":"2019-06-10T12:33:59Z","performed_via_github_app":null},{"id":2403110951,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDI0MDMxMTA5NTE=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/2403110951","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2019-06-11T07:20:42Z","milestone":{"title":"v1.2.0"},"performed_via_github_app":null}]