{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9870","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/9870/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/9870/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/9870/events","html_url":"https://github.com/syncthing/syncthing/issues/9870","id":2740469955,"node_id":"I_kwDOAOCAEs6jWEDD","number":9870,"title":"Fails with Go 1.24: runtime go1.24rc1 not found in compat.yaml","user":{"login":"stefanb","id":319826,"node_id":"MDQ6VXNlcjMxOTgyNg==","avatar_url":"https://avatars.githubusercontent.com/u/319826?v=4","gravatar_id":"","url":"https://api.github.com/users/stefanb","html_url":"https://github.com/stefanb","followers_url":"https://api.github.com/users/stefanb/followers","following_url":"https://api.github.com/users/stefanb/following{/other_user}","gists_url":"https://api.github.com/users/stefanb/gists{/gist_id}","starred_url":"https://api.github.com/users/stefanb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefanb/subscriptions","organizations_url":"https://api.github.com/users/stefanb/orgs","repos_url":"https://api.github.com/users/stefanb/repos","events_url":"https://api.github.com/users/stefanb/events{/privacy}","received_events_url":"https://api.github.com/users/stefanb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":122660823,"node_id":"MDU6TGFiZWwxMjI2NjA4MjM=","url":"https://api.github.com/repos/syncthing/syncthing/labels/build","name":"build","color":"1d76db","default":false,"description":"Issues caused by or requiring changes to the build system (scripts or Docker image)"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/114","html_url":"https://github.com/syncthing/syncthing/milestone/114","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/114/labels","id":11987773,"node_id":"MI_kwDOAOCAEs4Atus9","number":114,"title":"v1.29.0","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":21,"state":"closed","created_at":"2024-12-03T12:05:06Z","updated_at":"2025-01-08T11:48:50Z","due_on":"2025-01-07T08:00:00Z","closed_at":"2025-01-08T11:48:50Z"},"comments":4,"created_at":"2024-12-15T09:38:28Z","updated_at":"2024-12-20T08:59:11Z","closed_at":"2024-12-15T10:09:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What happened?\r\n\r\nðŸ‘‹ Hey, while trying to build and test this in with rc1 pre-release version of Go 1.24 in:\r\n* https://github.com/Homebrew/homebrew-core/pull/201070\r\n\r\nwe noticed the same [error](https://github.com/Homebrew/homebrew-core/actions/runs/12321762564/job/34395108252?pr=201070#step:3:18214) on all platforms, mentioning `runtime go1.24rc1 not found in compat.yaml`, referring to https://github.com/syncthing/syncthing/blob/main/compat.yaml\r\n\r\nGo 1.24 is currently in rc1 release stage, but final is scheduled to be released in February 2025.\r\n\r\nPossibly related:\r\n* https://github.com/syncthing/syncthing/issues/9290\r\n* https://github.com/syncthing/syncthing/pull/9700\r\n\r\n### Syncthing version\r\n\r\nv1.28.1\r\n\r\n### Platform & operating system\r\n\r\nAll\r\n\r\n### Browser version\r\n\r\nN/A\r\n\r\n### Relevant log output\r\n\r\n```shell\r\n==> go run build.go --version v1.28.1 --no-upgrade tar\r\n  Last 150 lines from /Users/brew/actions-runner/_work/homebrew-core/homebrew-core/bottles/logs/syncthing/01.go:\r\n  2024-12-14 08:08:16 +0000\r\n  \r\n  go\r\n  run\r\n  build.go\r\n  --version\r\n  v1.28.1\r\n  --no-upgrade\r\n  tar\r\n  \r\n  go: downloading github.com/shirou/gopsutil/v4 v4.24.9\r\n  go: downloading github.com/ebitengine/purego v0.8.0\r\n  Notice: Next generation GUI will not be built; see --with-next-gen-gui.\r\n  go: downloading github.com/alecthomas/kong v1.2.1\r\n  go: downloading github.com/thejerf/suture/v4 v4.0.5\r\n  go: downloading github.com/willabides/kongplete v0.4.0\r\n  go: downloading github.com/AudriusButkevicius/recli v0.0.7-0.20220911121932-d000ce8fbf0f\r\n  go: downloading github.com/greatroar/blobloom v0.8.0\r\n  go: downloading github.com/miscreant/miscreant.go v0.0.0-20200214223636-26d376326b75\r\n  go: downloading github.com/syncthing/notify v0.0.0-20210616190510-c6b7342338d2\r\n  go: downloading github.com/riywo/loginshell v0.0.0-20200815045211-7d26008be1ab\r\n  go: downloading github.com/prometheus/common v0.60.0\r\n  go: downloading github.com/calmh/incontainer v1.0.0\r\n  go: downloading github.com/julienschmidt/httprouter v1.3.0\r\n  go: downloading github.com/vitrun/qart v0.0.0-20160531060029-bf64b92db6b0\r\n  go: downloading github.com/quic-go/quic-go v0.48.0\r\n  go: downloading github.com/calmh/glob v0.0.0-20220615080505-1d823af5017b\r\n  go: downloading github.com/go-asn1-ber/asn1-ber v1.5.7\r\n  go: downloading github.com/jackpal/gateway v1.0.15\r\n  go: downloading github.com/jackpal/go-nat-pmp v1.0.2\r\n  go: downloading github.com/ccding/go-stun v0.1.5\r\n  go: downloading github.com/chmduquesne/rollinghash v4.0.0+incompatible\r\n  go: downloading github.com/calmh/xdr v1.2.0\r\n  go: downloading golang.org/x/exp v0.0.0-20241009180824-f66d83c29e7c\r\n  github.com/ebitengine/purego/internal/cgo\r\n  github.com/shirou/gopsutil/v4/common\r\n  github.com/ebitengine/purego/internal/strings\r\n  github.com/alecthomas/kong\r\n  github.com/syncthing/syncthing/lib/build\r\n  github.com/AudriusButkevicius/recli\r\n  github.com/syncthing/syncthing/lib/ignore/ignoreresult\r\n  github.com/prometheus/common/model\r\n  github.com/syncthing/syncthing/lib/logger\r\n  github.com/miscreant/miscreant.go/block\r\n  github.com/prometheus/common/expfmt\r\n  github.com/prometheus/client_golang/prometheus/internal\r\n  github.com/ebitengine/purego\r\n  github.com/syncthing/notify\r\n  github.com/miscreant/miscreant.go/cmac\r\n  github.com/miscreant/miscreant.go/pmac\r\n  github.com/shirou/gopsutil/v4/internal/common\r\n  github.com/miscreant/miscreant.go\r\n  github.com/prometheus/client_golang/prometheus\r\n  github.com/syncthing/syncthing/lib/rand\r\n  github.com/shirou/gopsutil/v4/disk\r\n  github.com/syncthing/syncthing/proto/ext\r\n  golang.org/x/crypto/scrypt\r\n  github.com/syncthing/syncthing/lib/sync\r\n  github.com/greatroar/blobloom\r\n  github.com/thejerf/suture/v4\r\n  github.com/syncthing/syncthing/lib/db/backend\r\n  github.com/syncthing/syncthing/lib/sliceutil\r\n  github.com/syncthing/syncthing/lib/connections/registry\r\n  github.com/syncthing/syncthing/lib/stringutil\r\n  github.com/syncthing/syncthing/lib/dialer\r\n  github.com/prometheus/client_golang/prometheus/promauto\r\n  github.com/syncthing/syncthing/lib/svcutil\r\n  github.com/syncthing/syncthing/lib/netutil\r\n  github.com/syncthing/syncthing/lib/structutil\r\n  github.com/syncthing/syncthing/lib/events\r\n  github.com/syncthing/syncthing/lib/protocol\r\n  github.com/syncthing/syncthing/lib/upgrade\r\n  github.com/gobwas/glob/match\r\n  github.com/calmh/incontainer\r\n  github.com/gobwas/glob/compiler\r\n  github.com/Azure/go-ntlmssp\r\n  github.com/gobwas/glob\r\n  github.com/go-asn1-ber/asn1-ber\r\n  github.com/julienschmidt/httprouter\r\n  github.com/go-ldap/ldap/v3\r\n  github.com/prometheus/client_golang/prometheus/promhttp\r\n  github.com/syncthing/syncthing/lib/assets\r\n  github.com/syncthing/syncthing/lib/api/auto\r\n  golang.org/x/exp/rand\r\n  github.com/quic-go/quic-go/internal/protocol\r\n  github.com/quic-go/quic-go/internal/utils\r\n  github.com/quic-go/quic-go/internal/qerr\r\n  github.com/quic-go/quic-go/quicvarint\r\n  github.com/quic-go/quic-go/internal/flowcontrol\r\n  github.com/quic-go/quic-go/internal/qtls\r\n  github.com/quic-go/quic-go/internal/utils/linkedlist\r\n  github.com/quic-go/quic-go/internal/wire\r\n  github.com/quic-go/quic-go/internal/utils/ringbuffer\r\n  github.com/syncthing/syncthing/lib/beacon\r\n  github.com/jackpal/go-nat-pmp\r\n  golang.org/x/net/route\r\n  github.com/calmh/xdr\r\n  github.com/quic-go/quic-go/logging\r\n  github.com/syncthing/syncthing/lib/relay/protocol\r\n  github.com/jackpal/gateway\r\n  github.com/quic-go/quic-go/internal/congestion\r\n  github.com/quic-go/quic-go/internal/ackhandler\r\n  github.com/quic-go/quic-go/internal/handshake\r\n  github.com/syncthing/syncthing/lib/semaphore\r\n  github.com/ccding/go-stun/stun\r\n  github.com/syncthing/syncthing/lib/tlsutil\r\n  github.com/quic-go/quic-go\r\n  github.com/syncthing/syncthing/lib/ur/contract\r\n  github.com/chmduquesne/rollinghash\r\n  github.com/vitrun/qart/gf256\r\n  github.com/chmduquesne/rollinghash/adler32\r\n  github.com/vitrun/qart/coding\r\n  github.com/syncthing/syncthing/lib/weakhash\r\n  github.com/vitrun/qart/qr\r\n  github.com/syncthing/syncthing/lib/automaxprocs\r\n  github.com/riywo/loginshell\r\n  github.com/willabides/kongplete/internal/positionalpredictor\r\n  github.com/willabides/kongplete\r\n  # github.com/syncthing/notify\r\n  cgo-gcc-prolog:219:2: warning: 'FSEventStreamScheduleWithRunLoop' is deprecated: first deprecated in macOS 13.0 - Use FSEventStreamSetDispatchQueue instead. [-Wdeprecated-declarations]\r\n  /Library/Developer/CommandLineTools/SDKs/MacOSX15.sdk/System/Library/Frameworks/CoreServices.framework/Frameworks/FSEvents.framework/Headers/FSEvents.h:1154:1: note: 'FSEventStreamScheduleWithRunLoop' has been explicitly marked deprecated here\r\n  github.com/syncthing/syncthing/lib/fs\r\n  github.com/syncthing/syncthing/lib/osutil\r\n  github.com/syncthing/syncthing/lib/locations\r\n  github.com/syncthing/syncthing/cmd/syncthing/cmdutil\r\n  github.com/syncthing/syncthing/lib/ignore\r\n  github.com/syncthing/syncthing/lib/relay/client\r\n  github.com/syncthing/syncthing/lib/db\r\n  github.com/syncthing/syncthing/lib/scanner\r\n  github.com/syncthing/syncthing/lib/stats\r\n  github.com/syncthing/syncthing/lib/config\r\n  github.com/syncthing/syncthing/cmd/syncthing/decrypt\r\n  github.com/syncthing/syncthing/cmd/syncthing/cli\r\n  github.com/syncthing/syncthing/lib/nat\r\n  github.com/syncthing/syncthing/lib/discover\r\n  github.com/syncthing/syncthing/lib/pmp\r\n  github.com/syncthing/syncthing/lib/stun\r\n  github.com/syncthing/syncthing/lib/upnp\r\n  github.com/syncthing/syncthing/lib/versioner\r\n  github.com/syncthing/syncthing/lib/watchaggregator\r\n  github.com/syncthing/syncthing/lib/connections\r\n  github.com/syncthing/syncthing/lib/ur\r\n  github.com/syncthing/syncthing/lib/model\r\n  github.com/syncthing/syncthing/lib/api\r\n  github.com/syncthing/syncthing/lib/syncthing\r\n  github.com/syncthing/syncthing/cmd/syncthing/generate\r\n  github.com/syncthing/syncthing/cmd/syncthing\r\n  syncthing-macos-arm64-v1.28.1.tar.gz\r\n  runtime go1.24rc1 not found in compat.yaml\r\n  exit status 1\r\n```\r\n","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/9870/timeline","performed_via_github_app":null,"state_reason":"completed"}