{"url":"https://api.github.com/repos/syncthing/syncthing/issues/1434","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/1434/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/1434/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/1434/events","html_url":"https://github.com/syncthing/syncthing/issues/1434","id":60403361,"node_id":"MDU6SXNzdWU2MDQwMzM2MQ==","number":1434,"title":"Syncthing GUI can inundate Syncthing with pending requests","user":{"login":"canton7","id":568104,"node_id":"MDQ6VXNlcjU2ODEwNA==","avatar_url":"https://avatars.githubusercontent.com/u/568104?v=4","gravatar_id":"","url":"https://api.github.com/users/canton7","html_url":"https://github.com/canton7","followers_url":"https://api.github.com/users/canton7/followers","following_url":"https://api.github.com/users/canton7/following{/other_user}","gists_url":"https://api.github.com/users/canton7/gists{/gist_id}","starred_url":"https://api.github.com/users/canton7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/canton7/subscriptions","organizations_url":"https://api.github.com/users/canton7/orgs","repos_url":"https://api.github.com/users/canton7/repos","events_url":"https://api.github.com/users/canton7/events{/privacy}","received_events_url":"https://api.github.com/users/canton7/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":26,"created_at":"2015-03-09T20:21:08Z","updated_at":"2017-06-16T21:09:03Z","closed_at":"2015-11-19T14:33:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi,\n\nAs mentioned in #867, I'm seeing issues where GUI starts sending polls to Syncthing before the previous polls have completed. This snowballs, resulting in the Syncthing having to process lots of duplicate requests. Everything does recover, but it takes a fair while.\n\nNow, Syncthing is running on a low-power device here - an ODROID-C1 - but the GUI could still play more nicely.\n\nI've yet to find a nice way of capturing a single screenshot which contains all the information I want to convey. So, I'll describe what happens for now:\n1. Load the GUI. A bunch of requests go out, and typically 'connections' or 'report' can take up to a minute to respond.\n2. In the meantime, the GUI has requested the 'model' resource for all folders, and all connections for all devices on all models. This adds up to quite a lot of pending connections!\n3. 'system', 'connections', and 'errors' then start stacking up - I can get quite a few simultaneous sets of these 3 before the original holdup clears.\n\nSuggestions:\n- Don't schedule one poll before the previous poll has finished. \n- Consider limiting the total number of pending requests.\n\nThanks!\n","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/1434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/1434/timeline","performed_via_github_app":null,"state_reason":"completed"}