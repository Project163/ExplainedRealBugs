{"url":"https://api.github.com/repos/syncthing/syncthing/issues/8277","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/8277/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/8277/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/8277/events","html_url":"https://github.com/syncthing/syncthing/issues/8277","id":1202998761,"node_id":"I_kwDOAOCAEs5HtE3p","number":8277,"title":"Mutual encrypted sharing doesn't work (both sides with password)","user":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/91","html_url":"https://github.com/syncthing/syncthing/milestone/91","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/91/labels","id":9144143,"node_id":"MI_kwDOAOCAEs4Ai4dP","number":91,"title":"v1.23.3","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":21,"state":"closed","created_at":"2023-03-10T13:43:52Z","updated_at":"2023-04-04T07:19:46Z","due_on":"2023-04-04T07:00:00Z","closed_at":"2023-04-04T07:19:46Z"},"comments":11,"created_at":"2022-04-13T08:57:07Z","updated_at":"2024-03-17T18:44:22Z","closed_at":"2023-03-18T09:22:21Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Please forgive me if I'm wrong here, but I remember this being mentioned on the forum as untested, but as something that \"should still work\". However, in my testing, it seems to always fail with a \"generic error\".\r\n\r\n1. On Device 1, add a new folder filled with some files to Syncthing.\r\n2. Share the folder with Device 2, setting a password on it.\r\n3. On Device 2, accept the folder, but change the type to \"Send & Receive\", while also inputting the same password.\r\n4. The two devices connect and try to sync the files, but the process fails with a \"generic error\".\r\n\r\nThe final result looks like this:\r\n\r\n![image](https://user-images.githubusercontent.com/5626656/163138964-bf492b63-7915-4cac-a692-33b78b8a2a14.png)\r\n![image](https://user-images.githubusercontent.com/5626656/163138972-a98cf008-3bcd-4117-b591-d32fa4b2c0c6.png)\r\n![image](https://user-images.githubusercontent.com/5626656/163138979-06e875cf-c417-4f82-957e-8a2555a8f64b.png)\r\n\r\nBelow are logs with `db,model` enabled:\r\n\r\n- [syncthing1.log](https://github.com/syncthing/syncthing/files/8479798/syncthing1.log)\r\n- [syncthing2.log](https://github.com/syncthing/syncthing/files/8479800/syncthing2.log)\r\n\r\nAll testing was done under Windows 10, on two different PCs. The problem isn't limited to the latest code either, as I've tested Syncthing versions up to v1.18.6, and the same errors pop up on all of them.","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/8277/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/8277/timeline","performed_via_github_app":null,"state_reason":"completed"}