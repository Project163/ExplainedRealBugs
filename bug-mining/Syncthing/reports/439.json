{"url":"https://api.github.com/repos/syncthing/syncthing/issues/2872","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/2872/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/2872/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/2872/events","html_url":"https://github.com/syncthing/syncthing/issues/2872","id":143209349,"node_id":"MDU6SXNzdWUxNDMyMDkzNDk=","number":2872,"title":"Sudden database panic that I don't recognize from before...","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-03-24T10:26:00Z","updated_at":"2017-06-16T21:02:20Z","closed_at":"2016-04-09T07:46:22Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```\npanic: unexpected EOF\n\ngoroutine 8840 [running]:\npanic(0xadb420, 0xc82000a130)\n        /usr/local/go/src/runtime/panic.go:464 +0x3ef fp=0xc838ed0c50 sp=0xc838ed0bd0\ngithub.com/syncthing/syncthing/lib/db.readWriteTransaction.updateGlobal(0xc84e7757d0, 0xc82000e080, 0xc84c25e240, 0xc831ef4fa8, 0x7, 0x8, 0xc83a363260, 0x20, 0x20, 0xc8232a2170, ...)\n        /home/jenkins/workspace/syncthing/src/github.com/syncthing/syncthing/lib/db/leveldb_transactions.go:106 +0x4ec fp=0xc838ed1200 sp=0xc838ed0c50\ngithub.com/syncthing/syncthing/lib/db.(*Instance).genericReplace(0xc82000e080, 0xc831ef4fa8, 0x7, 0x8, 0xc83a363260, 0x20, 0x20, 0xc838c7e000, 0x3e8, 0x3e8, ...)\n        /home/jenkins/workspace/syncthing/src/github.com/syncthing/syncthing/lib/db/leveldb_dbinstance.go:145 +0x1879 fp=0xc838ed15d8 sp=0xc838ed1200\ngithub.com/syncthing/syncthing/lib/db.(*Instance).replace(0xc82000e080, 0xc831ef4fa8, 0x7, 0x8, 0xc83a363260, 0x20, 0x20, 0xc838c7e000, 0x3e8, 0x3e8, ...)\n        /home/jenkins/workspace/syncthing/src/github.com/syncthing/syncthing/lib/db/leveldb_dbinstance.go:201 +0xd5 fp=0xc838ed1660 sp=0xc838ed15d8\ngithub.com/syncthing/syncthing/lib/db.(*FileSet).Replace(0xc821fef580, 0xc7a34034fd19c7f8, 0xfdc965b617ce28bc, 0x9de315f22ff97ec9, 0x1f25db58bd15f992, 0xc838c7e000, 0x3e8, 0x3e8)\n        /home/jenkins/workspace/syncthing/src/github.com/syncthing/syncthing/lib/db/set.go:128 +0x409 fp=0xc838ed1770 sp=0xc838ed1660\ngithub.com/syncthing/syncthing/lib/model.(*Model).Index(0xc8200f05a0, 0xc7a34034fd19c7f8, 0xfdc965b617ce28bc, 0x9de315f22ff97ec9, 0x1f25db58bd15f992, 0xc8232a2004, 0x7, 0xc838c7e000, 0x3e8, 0x3e8, ...)\n        /home/jenkins/workspace/syncthing/src/github.com/syncthing/syncthing/lib/model/model.go:545 +0x98c fp=0xc838ed1a80 sp=0xc838ed1770\ngithub.com/syncthing/syncthing/lib/protocol.nativeModel.Index(0xfffffd7ffe9c2850, 0xc8200f05a0, 0xc7a34034fd19c7f8, 0xfdc965b617ce28bc, 0x9de315f22ff97ec9, 0x1f25db58bd15f992, 0xc8232a2004, 0x7, 0xc838c7e000, 0x3e8, ...)\n        /home/jenkins/workspace/syncthing/src/github.com/syncthing/syncthing/lib/protocol/nativemodel_unix.go:14 +0xc3 fp=0xc838ed1b08 sp=0xc838ed1a80\ngithub.com/syncthing/syncthing/lib/protocol.(*nativeModel).Index(0xc83a733ac0, 0xc7a34034fd19c7f8, 0xfdc965b617ce28bc, 0x9de315f22ff97ec9, 0x1f25db58bd15f992, 0xc8232a2004, 0x7, 0xc838c7e000, 0x3e8, 0x3e8, ...)\n        <autogenerated>:81 +0x126 fp=0xc838ed1b88 sp=0xc838ed1b08\ngithub.com/syncthing/syncthing/lib/protocol.(*rawConnection).handleIndex(0xc8207d2000, 0xc8232a2004, 0x7, 0xc838c7e000, 0x3e8, 0x3e8, 0x0, 0x0, 0x0, 0x0)\n        /home/jenkins/workspace/syncthing/src/github.com/syncthing/syncthing/lib/protocol/protocol.go:492 +0x390 fp=0xc838ed1c58 sp=0xc838ed1b88\ngithub.com/syncthing/syncthing/lib/protocol.(*rawConnection).readerLoop(0xc8207d2000, 0x0, 0x0)\n        /home/jenkins/workspace/syncthing/src/github.com/syncthing/syncthing/lib/protocol/protocol.go:338 +0xf8b fp=0xc838ed1f58 sp=0xc838ed1c58\nruntime.goexit()\n        /usr/local/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc838ed1f60 sp=0xc838ed1f58\ncreated by github.com/syncthing/syncthing/lib/protocol.(*rawConnection).Start\n        /home/jenkins/workspace/syncthing/src/github.com/syncthing/syncthing/lib/protocol/protocol.go:193 +0x39\n```\n### Version Information\n\nsyncthing v0.13.0-beta.0+147-g31362df \"Copper Cockroach\" (go1.6 solaris-amd64) unknown-user@lxslave.syncthing.net 2016-03-22 20:53:56 UTC\n\nSunOS anto.nym.se 5.11 joyent_20160304T005100Z i86pc i386 i86pc\n","closed_by":{"login":"st-review","id":16196517,"node_id":"MDQ6VXNlcjE2MTk2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/16196517?v=4","gravatar_id":"","url":"https://api.github.com/users/st-review","html_url":"https://github.com/st-review","followers_url":"https://api.github.com/users/st-review/followers","following_url":"https://api.github.com/users/st-review/following{/other_user}","gists_url":"https://api.github.com/users/st-review/gists{/gist_id}","starred_url":"https://api.github.com/users/st-review/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/st-review/subscriptions","organizations_url":"https://api.github.com/users/st-review/orgs","repos_url":"https://api.github.com/users/st-review/repos","events_url":"https://api.github.com/users/st-review/events{/privacy}","received_events_url":"https://api.github.com/users/st-review/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/2872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/2872/timeline","performed_via_github_app":null,"state_reason":"completed"}