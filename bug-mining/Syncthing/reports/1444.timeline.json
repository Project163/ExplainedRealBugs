[{"id":14120034881,"node_id":"LE_lADOAOCAEs6VOdZ_zwAAAANJnqJB","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/14120034881","actor":{"login":"mcexit","id":107651011,"node_id":"U_kgDOBmqfww","avatar_url":"https://avatars.githubusercontent.com/u/107651011?v=4","gravatar_id":"","url":"https://api.github.com/users/mcexit","html_url":"https://github.com/mcexit","followers_url":"https://api.github.com/users/mcexit/followers","following_url":"https://api.github.com/users/mcexit/following{/other_user}","gists_url":"https://api.github.com/users/mcexit/gists{/gist_id}","starred_url":"https://api.github.com/users/mcexit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcexit/subscriptions","organizations_url":"https://api.github.com/users/mcexit/orgs","repos_url":"https://api.github.com/users/mcexit/repos","events_url":"https://api.github.com/users/mcexit/events{/privacy}","received_events_url":"https://api.github.com/users/mcexit/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-03T19:18:02Z","label":{"name":"bug","color":"d93f0b"},"performed_via_github_app":null},{"id":14120034889,"node_id":"LE_lADOAOCAEs6VOdZ_zwAAAANJnqJJ","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/14120034889","actor":{"login":"mcexit","id":107651011,"node_id":"U_kgDOBmqfww","avatar_url":"https://avatars.githubusercontent.com/u/107651011?v=4","gravatar_id":"","url":"https://api.github.com/users/mcexit","html_url":"https://github.com/mcexit","followers_url":"https://api.github.com/users/mcexit/followers","following_url":"https://api.github.com/users/mcexit/following{/other_user}","gists_url":"https://api.github.com/users/mcexit/gists{/gist_id}","starred_url":"https://api.github.com/users/mcexit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcexit/subscriptions","organizations_url":"https://api.github.com/users/mcexit/orgs","repos_url":"https://api.github.com/users/mcexit/repos","events_url":"https://api.github.com/users/mcexit/events{/privacy}","received_events_url":"https://api.github.com/users/mcexit/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-03T19:18:02Z","label":{"name":"needs-triage","color":"ce23af"},"performed_via_github_app":null},{"id":14120036943,"node_id":"RTE_lADOAOCAEs6VOdZ_zwAAAANJnqpP","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/14120036943","actor":{"login":"mcexit","id":107651011,"node_id":"U_kgDOBmqfww","avatar_url":"https://avatars.githubusercontent.com/u/107651011?v=4","gravatar_id":"","url":"https://api.github.com/users/mcexit","html_url":"https://github.com/mcexit","followers_url":"https://api.github.com/users/mcexit/followers","following_url":"https://api.github.com/users/mcexit/following{/other_user}","gists_url":"https://api.github.com/users/mcexit/gists{/gist_id}","starred_url":"https://api.github.com/users/mcexit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcexit/subscriptions","organizations_url":"https://api.github.com/users/mcexit/orgs","repos_url":"https://api.github.com/users/mcexit/repos","events_url":"https://api.github.com/users/mcexit/events{/privacy}","received_events_url":"https://api.github.com/users/mcexit/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2024-09-03T19:18:13Z","rename":{"from":"Symcthing v1.27.11 on desktop claims there are Local Additions for all folders from Android v1.27.10","to":"Syncthing v1.27.11 on desktop claims there are Local Additions for all folders from Android v1.27.10"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2327315282","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2327315282","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2327315282,"node_id":"IC_kwDOAOCAEs6KuANS","user":{"login":"Knaspin","id":62482967,"node_id":"MDQ6VXNlcjYyNDgyOTY3","avatar_url":"https://avatars.githubusercontent.com/u/62482967?v=4","gravatar_id":"","url":"https://api.github.com/users/Knaspin","html_url":"https://github.com/Knaspin","followers_url":"https://api.github.com/users/Knaspin/followers","following_url":"https://api.github.com/users/Knaspin/following{/other_user}","gists_url":"https://api.github.com/users/Knaspin/gists{/gist_id}","starred_url":"https://api.github.com/users/Knaspin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Knaspin/subscriptions","organizations_url":"https://api.github.com/users/Knaspin/orgs","repos_url":"https://api.github.com/users/Knaspin/repos","events_url":"https://api.github.com/users/Knaspin/events{/privacy}","received_events_url":"https://api.github.com/users/Knaspin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-03T19:52:53Z","updated_at":"2024-09-03T19:54:09Z","body":"Having the same issue. Also checked hashes between files and they remained unchanged.\r\n\r\nIn my case, it is only affecting Windows clients with 1.27.11. Other clients do not show \"Local Additions\" after syncing. \r\n\r\nGoing back to 1.27.10 on the Windows machines (but keeping the Linux machines on 1.27.11) solves the issue.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2327315282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Knaspin","id":62482967,"node_id":"MDQ6VXNlcjYyNDgyOTY3","avatar_url":"https://avatars.githubusercontent.com/u/62482967?v=4","gravatar_id":"","url":"https://api.github.com/users/Knaspin","html_url":"https://github.com/Knaspin","followers_url":"https://api.github.com/users/Knaspin/followers","following_url":"https://api.github.com/users/Knaspin/following{/other_user}","gists_url":"https://api.github.com/users/Knaspin/gists{/gist_id}","starred_url":"https://api.github.com/users/Knaspin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Knaspin/subscriptions","organizations_url":"https://api.github.com/users/Knaspin/orgs","repos_url":"https://api.github.com/users/Knaspin/repos","events_url":"https://api.github.com/users/Knaspin/events{/privacy}","received_events_url":"https://api.github.com/users/Knaspin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2327527484","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2327527484","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2327527484,"node_id":"IC_kwDOAOCAEs6Ku0A8","user":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-03T22:07:50Z","updated_at":"2024-09-03T22:45:19Z","body":"I can confirm the issue. It happens when using v1.27.11 on Windows. The Android side can still be on v1.27.10 (or older).\r\n\r\nI've compared a sample file. The left is Android, the right is Windows.\r\n\r\n![image](https://github.com/user-attachments/assets/5edb1059-3d9c-4391-8d04-be57b8819a0d)\r\n\r\n**Edit**: I can also confirm that downgrading to Syncthing v1.27.10 gets read of the \"local additions\".\r\n\r\nThis is the same comparison as above but with v1.27.10. The left is Android, the right is Windows.\r\n\r\n![image](https://github.com/user-attachments/assets/52dc3115-4e90-4d58-9b22-3a9f98b9fb63)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2327527484/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2327557349","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2327557349","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2327557349,"node_id":"IC_kwDOAOCAEs6Ku7Tl","user":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-03T22:34:40Z","updated_at":"2024-09-03T22:34:40Z","body":"I've narrowed down the culprit to https://github.com/syncthing/syncthing/commit/7517d18fbbf34b42aa3d4b231018d2ee704a159d.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2327557349/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2327923311","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2327923311","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2327923311,"node_id":"IC_kwDOAOCAEs6KwUpv","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T04:59:43Z","updated_at":"2024-09-04T04:59:43Z","body":"The info from the mtimefs layer is missing in 1.27.11, resulting in truncated mtime and thus the difference.\r\n\r\n> I've narrowed down the culprit to https://github.com/syncthing/syncthing/commit/7517d18fbbf34b42aa3d4b231018d2ee704a159d.\r\n\r\nThat certainly makes sense in that said PR touches the filesystem layer. However I have no clue yet what happens/goes wrong. Just in case there's an additional hint to be had there: What exactly did you do to narrow that down?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2327923311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2327928305","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2327928305","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2327928305,"node_id":"IC_kwDOAOCAEs6KwV3x","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T05:04:53Z","updated_at":"2024-09-04T06:25:53Z","body":"Also could you check the involved filenames on disk on devices - any case differences? E.g. the \".pdf\" being \".PDF\" somewhere else.\r\n\r\nI presume not, the case fs doesn't change names, it just ensures there's no conflicts, but I am grasping for any straws. Also if anyone disagrees that case fs doesn't change names, that would be helpful info too - then I could see how we lose mtimefs info.\r\n\r\n@tomasz1986 If you could provide debug logs with scanner and walkfs logs while reproducing the issue, that would be great too. If you can reproduce in isolation with a single file, that's of course best, but I'll also take huge dumps to sift through (privately if necessary). For reproducing I'd almost bet you need to set it up on 1.27.10 to get the file into the DB, and then upgrade - I would not be surprised if directly starting on 1.27.11 doesn't show the same problem.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2327928305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14124347462,"node_id":"MEE_lADOAOCAEs6VOdZ_zwAAAANJ4HBG","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/14124347462","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-04T05:21:30Z","performed_via_github_app":null},{"id":14124347473,"node_id":"SE_lADOAOCAEs6VOdZ_zwAAAANJ4HBR","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/14124347473","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-04T05:21:30Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2327953770","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2327953770","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2327953770,"node_id":"IC_kwDOAOCAEs6KwcFq","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T05:30:16Z","updated_at":"2024-09-04T05:32:54Z","body":"The `err: {}` for mtime also looks suspicious - in other places that's `err: null`. Probably not relevant though: It's definitely an error type that gets marshalled, and that would result in a string if non-nil/empty.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2327953770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328050924","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2328050924","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2328050924,"node_id":"IC_kwDOAOCAEs6Kwzzs","user":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T06:49:15Z","updated_at":"2024-09-04T06:49:15Z","body":"> What exactly did you do to narrow that down?\r\n\r\nSorry for being too brief (it was late at night ðŸ™). I just cherry-picked the commit on top of v1.27.10.\r\n\r\n> Also could you check the involved filenames on disk on devices - any case differences? E.g. the \".pdf\" being \".PDF\" somewhere else.\r\n\r\nThat's not it for sure. All files in my random test folder were marked as \"local additions\", with no exception.\r\n\r\nJust for the record, what I did specifically when testing was:\r\n\r\n1. Still at v1.27.10 on both sides, share the `/sdcard/Download` folder from Android to a Windows device.\r\n2. Accept the folder on Windows as Receive Only under a completely new path, and let it sync.\r\n3. At this point, the folder is \"Up to Date\" on both sides.\r\n4. Shut Syncthing down on Windows, upgrade it to v1.27.10+7517d18, then restart.\r\n5. All files in the folder are now marked \"local additions\".\r\n\r\n> @tomasz1986 If you could provide debug logs with scanner and walkfs logs while reproducing the issue, that would be great too. If you can reproduce in isolation with a single file, that's of course best, but I'll also take huge dumps to sift through (privately if necessary). For reproducing I'd almost bet you need to set it up on 1.27.10 to get the file into the DB, and then upgrade - I would not be surprised if directly starting on 1.27.11 doesn't show the same problem.\r\n\r\nWill provide the logs soon ðŸ™‚.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328050924/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14125099721,"node_id":"MEE_lADOAOCAEs6VOdZ_zwAAAANJ6-rJ","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/14125099721","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-04T06:49:16Z","performed_via_github_app":null},{"id":14125099731,"node_id":"SE_lADOAOCAEs6VOdZ_zwAAAANJ6-rT","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/14125099731","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-04T06:49:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328060337","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2328060337","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2328060337,"node_id":"IC_kwDOAOCAEs6Kw2Gx","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T06:54:54Z","updated_at":"2024-09-04T06:54:54Z","body":"I didn't look at the code yet, but I suspect this is a question of mtimefs wrapping. The loss of precision in the timestamp looks like we're now looking at the raw on-disk timestamp instead of the one returned by mtimefs.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328060337/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328139873","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2328139873","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2328139873,"node_id":"IC_kwDOAOCAEs6KxJhh","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T07:39:44Z","updated_at":"2024-09-04T07:39:44Z","body":"Yep, indeed. I tried to write a reproducer based on that assumption but failed. Do you spot anything wrong with it? https://github.com/syncthing/syncthing/pull/9680","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328139873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328192279","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2328192279","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2328192279,"node_id":"IC_kwDOAOCAEs6KxWUX","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T08:06:50Z","updated_at":"2024-09-04T08:07:37Z","body":"So a couple of things that may be relevant, the mtimefs has a case insensitivity option that I don't see that we ever set (?) and I wonder if the switcheroo makes a difference if we no longer case-sanitise the folder root for walking, making the existing mtimefs entries no longer match?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328192279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328331988","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2328331988","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2328331988,"node_id":"IC_kwDOAOCAEs6Kx4bU","user":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T09:12:55Z","updated_at":"2024-09-04T10:10:24Z","body":"This is a debug log from the Windows side:\r\n\r\n1. Initially, Android runs v1.27.11, Windows runs v1.27.10.\r\n2. Share a new folder from Android to Windows. Accept it on Windows as Receive Only.\r\n3. Add a new file on Android and let it sync to Windows.\r\n4. Exit Syncthing on Windows and upgrade it to v1.27.11.\r\n5. Start Syncthing on Windows. The file is now marked as \"local addition\".\r\n\r\n[syncthing-windows.log](https://github.com/user-attachments/files/16865035/syncthing-windows.log)\r\n\r\nDo you need the same from the Android side or is this enough? Asking because I forgot to enable debug logging there ðŸ˜³, so I would have to repeat the process.\r\n\r\n**Edit**:\r\n\r\nAdding the Android non-debug log for context:\r\n\r\n[syncthing-android.log](https://github.com/user-attachments/files/16868558/syncthing-android.log)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328331988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328385503","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2328385503","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2328385503,"node_id":"IC_kwDOAOCAEs6KyFff","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T09:37:39Z","updated_at":"2024-09-04T10:44:35Z","body":"> mtimefs has a case insensitivity option that I don't see that we ever set (?) \r\n\r\nThat confused me too when I created the test. As far as I see it never was used except for tests. So I just ignored it.\r\n\r\n> if we no longer case-sanitise the folder root for walking, making the existing mtimefs entries no longer match?\r\n\r\nmtimefs stores it's stuff by relative paths, so the root being sanitised or not shouldn't matter. And we anyway never case-resolve the root. Actually we never \"resolve\" a case ever, we only complain if there's a case conflict. We do not change the casing to the \"correct one\" in the case filesystem layer. That's why I fail to see how changing the order could lead to not finding entries in mtimefs. It very much looks like that's happening though. Then again if all files are affected, it might not even be directly related to case lookups but some other wrapping failure.\r\n\r\n@tomasz1986 Haven't yet have time to look at the logs - thanks for providing them. I don't think the android side is relevant at all except maybe for context, so no debug logging there should be fine.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328385503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14127385409,"node_id":"MEE_lADOAOCAEs6VOdZ_zwAAAANKDstB","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/14127385409","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-04T09:37:41Z","performed_via_github_app":null},{"id":14127385425,"node_id":"SE_lADOAOCAEs6VOdZ_zwAAAANKDstR","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/14127385425","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-04T09:37:41Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328455553","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2328455553","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2328455553,"node_id":"IC_kwDOAOCAEs6KyWmB","user":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T10:11:10Z","updated_at":"2024-09-04T10:11:41Z","body":"> I don't think the android side is relevant at all except maybe for context, so no debug logging there should be fine.\r\n\r\nI've added the standard log from Android for context above.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328455553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328576894","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2328576894","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2328576894,"node_id":"IC_kwDOAOCAEs6Ky0N-","user":{"login":"akronym0","id":86428317,"node_id":"MDQ6VXNlcjg2NDI4MzE3","avatar_url":"https://avatars.githubusercontent.com/u/86428317?v=4","gravatar_id":"","url":"https://api.github.com/users/akronym0","html_url":"https://github.com/akronym0","followers_url":"https://api.github.com/users/akronym0/followers","following_url":"https://api.github.com/users/akronym0/following{/other_user}","gists_url":"https://api.github.com/users/akronym0/gists{/gist_id}","starred_url":"https://api.github.com/users/akronym0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akronym0/subscriptions","organizations_url":"https://api.github.com/users/akronym0/orgs","repos_url":"https://api.github.com/users/akronym0/repos","events_url":"https://api.github.com/users/akronym0/events{/privacy}","received_events_url":"https://api.github.com/users/akronym0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T10:56:27Z","updated_at":"2024-09-04T10:57:10Z","body":"I also encountered this bug. Android and Linux synchronization. All Linux \"receive only\" folders showed the \"local additions\" message even though there were no local additions. Downgrading to 1.27.10 on Linux solved this issue.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2328576894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"akronym0","id":86428317,"node_id":"MDQ6VXNlcjg2NDI4MzE3","avatar_url":"https://avatars.githubusercontent.com/u/86428317?v=4","gravatar_id":"","url":"https://api.github.com/users/akronym0","html_url":"https://github.com/akronym0","followers_url":"https://api.github.com/users/akronym0/followers","following_url":"https://api.github.com/users/akronym0/following{/other_user}","gists_url":"https://api.github.com/users/akronym0/gists{/gist_id}","starred_url":"https://api.github.com/users/akronym0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akronym0/subscriptions","organizations_url":"https://api.github.com/users/akronym0/orgs","repos_url":"https://api.github.com/users/akronym0/repos","events_url":"https://api.github.com/users/akronym0/events{/privacy}","received_events_url":"https://api.github.com/users/akronym0/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2329187349","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2329187349","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2329187349,"node_id":"IC_kwDOAOCAEs6K1JQV","user":{"login":"nathanielcwm","id":22572406,"node_id":"MDQ6VXNlcjIyNTcyNDA2","avatar_url":"https://avatars.githubusercontent.com/u/22572406?v=4","gravatar_id":"","url":"https://api.github.com/users/nathanielcwm","html_url":"https://github.com/nathanielcwm","followers_url":"https://api.github.com/users/nathanielcwm/followers","following_url":"https://api.github.com/users/nathanielcwm/following{/other_user}","gists_url":"https://api.github.com/users/nathanielcwm/gists{/gist_id}","starred_url":"https://api.github.com/users/nathanielcwm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nathanielcwm/subscriptions","organizations_url":"https://api.github.com/users/nathanielcwm/orgs","repos_url":"https://api.github.com/users/nathanielcwm/repos","events_url":"https://api.github.com/users/nathanielcwm/events{/privacy}","received_events_url":"https://api.github.com/users/nathanielcwm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T14:14:29Z","updated_at":"2024-09-04T14:19:01Z","body":"This problem also seems to affect send & receive folders on Linux on 1.27.10.\r\n\r\nEverything is marked as out of sync if there is a 1.27.11 client in my setup.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2329187349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nathanielcwm","id":22572406,"node_id":"MDQ6VXNlcjIyNTcyNDA2","avatar_url":"https://avatars.githubusercontent.com/u/22572406?v=4","gravatar_id":"","url":"https://api.github.com/users/nathanielcwm","html_url":"https://github.com/nathanielcwm","followers_url":"https://api.github.com/users/nathanielcwm/followers","following_url":"https://api.github.com/users/nathanielcwm/following{/other_user}","gists_url":"https://api.github.com/users/nathanielcwm/gists{/gist_id}","starred_url":"https://api.github.com/users/nathanielcwm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nathanielcwm/subscriptions","organizations_url":"https://api.github.com/users/nathanielcwm/orgs","repos_url":"https://api.github.com/users/nathanielcwm/repos","events_url":"https://api.github.com/users/nathanielcwm/events{/privacy}","received_events_url":"https://api.github.com/users/nathanielcwm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2329918981","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2329918981","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2329918981,"node_id":"IC_kwDOAOCAEs6K374F","user":{"login":"milroneth","id":6500579,"node_id":"MDQ6VXNlcjY1MDA1Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/6500579?v=4","gravatar_id":"","url":"https://api.github.com/users/milroneth","html_url":"https://github.com/milroneth","followers_url":"https://api.github.com/users/milroneth/followers","following_url":"https://api.github.com/users/milroneth/following{/other_user}","gists_url":"https://api.github.com/users/milroneth/gists{/gist_id}","starred_url":"https://api.github.com/users/milroneth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milroneth/subscriptions","organizations_url":"https://api.github.com/users/milroneth/orgs","repos_url":"https://api.github.com/users/milroneth/repos","events_url":"https://api.github.com/users/milroneth/events{/privacy}","received_events_url":"https://api.github.com/users/milroneth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-04T20:33:25Z","updated_at":"2024-09-04T20:48:30Z","body":"I'm on Windows, Syncthing 1.27.11\r\nMy observation if it helps: it does this even when it has never talked to the other devices to know if anything actually changed. I know this as I have a second Android phone that syncs in send-only and has been off since Syncthing updated on my PC which is receive-only, but it still shows Local additions. It is not all files in the receive-only folder, only some of them.\r\n\r\nI also have another folder that is receive-only, that was originally shared with 2 other devices which I have since removed but I kept the folder (unshared). I am not 100% sure, but from looking at the \"Local additions\" to this specific folder that I can kinda recognise by eye, it seems to affect all the files that have been changed and pulled since the original sync. So the other devices had around 3500 text files in said folder which I pulled when I set up the receive-only folder on my PC, some of them changed over time, until I stopped syncing it and removed those devices 2 months ago.\r\n\r\nNow it shows 145 files as local additions and from my understanding it's all the files that were edited during the time that sync was running on it, but none that was only pulled once at first run.\r\n\r\nNot sure if any of this might point to a specific part of the codebase, but it may click to people that understand it.\r\n\r\n\r\nEDIT: I downgraded to 1.27.10\r\nThe one file that really synced from my phone while the PC was on 1.27.11, was subsequently marked as a Local change as soon as I went back to 1.27.10. They just don't like each other apparently.\r\n\r\nEDIT2: Modification timestamps for the file on the filesystem seem identical to the last digit, even after I pressed \"Revert Local Changes\" on 1.27.10 to make the warning go away.\r\n\r\n```\r\nC:\\Users\\milroneth>nTimeview_v1.0_x64.exe C:\\Syncthing\\edanna-storage\\Download\\app-release.apk\r\nnTimeview, Version 1.0\r\nCopyright (C) 2019 Benjamin Lim\r\nAvailable for free from https://limbenjamin.com/pages/ntimetools\r\n\r\nFilesystem type:                NTFS\r\nFilename:                       C:\\Syncthing\\edanna-storage\\Download\\app-release.apk\r\nFile size:                      50369716\r\n\r\n[M] Last Write Time:            2024-09-04 20:05:41.8443973 UTC\r\n[A] Last Access Time:           2024-09-04 20:39:04.2372867 UTC\r\n[C] Metadata Change Time:       2024-09-04 20:39:09.9447138 UTC\r\n[B] Creation Time:              2024-09-04 20:06:24.7087224 UTC\r\n\r\n\r\nC:\\Users\\milroneth>nTimeview_v1.0_x64.exe C:\\Syncthing\\edanna-storage\\Download\\app-release.apk\r\nnTimeview, Version 1.0\r\nCopyright (C) 2019 Benjamin Lim\r\nAvailable for free from https://limbenjamin.com/pages/ntimetools\r\n\r\nFilesystem type:                NTFS\r\nFilename:                       C:\\Syncthing\\edanna-storage\\Download\\app-release.apk\r\nFile size:                      50369716\r\n\r\n[M] Last Write Time:            2024-09-04 20:05:41.8443973 UTC\r\n[A] Last Access Time:           2024-09-04 20:05:41.8443973 UTC\r\n[C] Metadata Change Time:       2024-09-04 20:43:18.0793859 UTC\r\n[B] Creation Time:              2024-09-04 20:06:24.7087224 UTC\r\n```\r\nFirst is file as synced by .11 and marked \"changed\" by .10\r\nSecond is after changes reverted","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2329918981/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"milroneth","id":6500579,"node_id":"MDQ6VXNlcjY1MDA1Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/6500579?v=4","gravatar_id":"","url":"https://api.github.com/users/milroneth","html_url":"https://github.com/milroneth","followers_url":"https://api.github.com/users/milroneth/followers","following_url":"https://api.github.com/users/milroneth/following{/other_user}","gists_url":"https://api.github.com/users/milroneth/gists{/gist_id}","starred_url":"https://api.github.com/users/milroneth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milroneth/subscriptions","organizations_url":"https://api.github.com/users/milroneth/orgs","repos_url":"https://api.github.com/users/milroneth/repos","events_url":"https://api.github.com/users/milroneth/events{/privacy}","received_events_url":"https://api.github.com/users/milroneth/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2330496264","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2330496264","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2330496264,"node_id":"IC_kwDOAOCAEs6K6I0I","user":{"login":"Mzdyl","id":25149539,"node_id":"MDQ6VXNlcjI1MTQ5NTM5","avatar_url":"https://avatars.githubusercontent.com/u/25149539?v=4","gravatar_id":"","url":"https://api.github.com/users/Mzdyl","html_url":"https://github.com/Mzdyl","followers_url":"https://api.github.com/users/Mzdyl/followers","following_url":"https://api.github.com/users/Mzdyl/following{/other_user}","gists_url":"https://api.github.com/users/Mzdyl/gists{/gist_id}","starred_url":"https://api.github.com/users/Mzdyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mzdyl/subscriptions","organizations_url":"https://api.github.com/users/Mzdyl/orgs","repos_url":"https://api.github.com/users/Mzdyl/repos","events_url":"https://api.github.com/users/Mzdyl/events{/privacy}","received_events_url":"https://api.github.com/users/Mzdyl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-05T02:53:15Z","updated_at":"2024-09-05T02:53:15Z","body":"In the same situation, on Mac (sending) and Windows (receiving) platforms, files synchronized perfectly in version 1.27.10, but in version 1.27.11 on the Windows side, the locally added files are displayed. Moreover, the bug seems to be related to time; my two computers had a 3-minute time difference. After updating the time, the number of locally added files decreased from over 8,400 to over 8,100.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2330496264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Mzdyl","id":25149539,"node_id":"MDQ6VXNlcjI1MTQ5NTM5","avatar_url":"https://avatars.githubusercontent.com/u/25149539?v=4","gravatar_id":"","url":"https://api.github.com/users/Mzdyl","html_url":"https://github.com/Mzdyl","followers_url":"https://api.github.com/users/Mzdyl/followers","following_url":"https://api.github.com/users/Mzdyl/following{/other_user}","gists_url":"https://api.github.com/users/Mzdyl/gists{/gist_id}","starred_url":"https://api.github.com/users/Mzdyl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mzdyl/subscriptions","organizations_url":"https://api.github.com/users/Mzdyl/orgs","repos_url":"https://api.github.com/users/Mzdyl/repos","events_url":"https://api.github.com/users/Mzdyl/events{/privacy}","received_events_url":"https://api.github.com/users/Mzdyl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2331847305","html_url":"https://github.com/syncthing/syncthing/issues/9677#issuecomment-2331847305","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9677","id":2331847305,"node_id":"IC_kwDOAOCAEs6K_SqJ","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-05T14:31:48Z","updated_at":"2024-09-05T14:55:18Z","body":"So I've found the problem, just need to hack up a neat solution to it as well (which is more difficult that it would seem at first glance).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/2331847305/reactions","total_count":7,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":7,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-06T05:11:35Z","updated_at":"2024-09-06T05:11:35Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9685","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/9685/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/9685/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/9685/events","html_url":"https://github.com/syncthing/syncthing/pull/9685","id":2509531571,"node_id":"PR_kwDOAOCAEs56nn6Q","number":9685,"title":"lib/fs: Fix (remove) casefs caching","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-09-06T05:11:35Z","updated_at":"2025-05-26T13:42:10Z","closed_at":"2024-09-11T08:56:48Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":true,"repository":{"id":14712850,"node_id":"MDEwOlJlcG9zaXRvcnkxNDcxMjg1MA==","name":"syncthing","full_name":"syncthing/syncthing","private":false,"owner":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/syncthing/syncthing","description":"Open Source Continuous File Synchronization","fork":false,"url":"https://api.github.com/repos/syncthing/syncthing","forks_url":"https://api.github.com/repos/syncthing/syncthing/forks","keys_url":"https://api.github.com/repos/syncthing/syncthing/keys{/key_id}","collaborators_url":"https://api.github.com/repos/syncthing/syncthing/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/syncthing/syncthing/teams","hooks_url":"https://api.github.com/repos/syncthing/syncthing/hooks","issue_events_url":"https://api.github.com/repos/syncthing/syncthing/issues/events{/number}","events_url":"https://api.github.com/repos/syncthing/syncthing/events","assignees_url":"https://api.github.com/repos/syncthing/syncthing/assignees{/user}","branches_url":"https://api.github.com/repos/syncthing/syncthing/branches{/branch}","tags_url":"https://api.github.com/repos/syncthing/syncthing/tags","blobs_url":"https://api.github.com/repos/syncthing/syncthing/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/syncthing/syncthing/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/syncthing/syncthing/git/refs{/sha}","trees_url":"https://api.github.com/repos/syncthing/syncthing/git/trees{/sha}","statuses_url":"https://api.github.com/repos/syncthing/syncthing/statuses/{sha}","languages_url":"https://api.github.com/repos/syncthing/syncthing/languages","stargazers_url":"https://api.github.com/repos/syncthing/syncthing/stargazers","contributors_url":"https://api.github.com/repos/syncthing/syncthing/contributors","subscribers_url":"https://api.github.com/repos/syncthing/syncthing/subscribers","subscription_url":"https://api.github.com/repos/syncthing/syncthing/subscription","commits_url":"https://api.github.com/repos/syncthing/syncthing/commits{/sha}","git_commits_url":"https://api.github.com/repos/syncthing/syncthing/git/commits{/sha}","comments_url":"https://api.github.com/repos/syncthing/syncthing/comments{/number}","issue_comment_url":"https://api.github.com/repos/syncthing/syncthing/issues/comments{/number}","contents_url":"https://api.github.com/repos/syncthing/syncthing/contents/{+path}","compare_url":"https://api.github.com/repos/syncthing/syncthing/compare/{base}...{head}","merges_url":"https://api.github.com/repos/syncthing/syncthing/merges","archive_url":"https://api.github.com/repos/syncthing/syncthing/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/syncthing/syncthing/downloads","issues_url":"https://api.github.com/repos/syncthing/syncthing/issues{/number}","pulls_url":"https://api.github.com/repos/syncthing/syncthing/pulls{/number}","milestones_url":"https://api.github.com/repos/syncthing/syncthing/milestones{/number}","notifications_url":"https://api.github.com/repos/syncthing/syncthing/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/syncthing/syncthing/labels{/name}","releases_url":"https://api.github.com/repos/syncthing/syncthing/releases{/id}","deployments_url":"https://api.github.com/repos/syncthing/syncthing/deployments","created_at":"2013-11-26T09:48:21Z","updated_at":"2025-11-09T22:23:05Z","pushed_at":"2025-11-04T08:20:50Z","git_url":"git://github.com/syncthing/syncthing.git","ssh_url":"git@github.com:syncthing/syncthing.git","clone_url":"https://github.com/syncthing/syncthing.git","svn_url":"https://github.com/syncthing/syncthing","homepage":"https://syncthing.net/","size":124346,"stargazers_count":77447,"watchers_count":77447,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4825,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":361,"license":{"key":"mpl-2.0","name":"Mozilla Public License 2.0","spdx_id":"MPL-2.0","url":"https://api.github.com/licenses/mpl-2.0","node_id":"MDc6TGljZW5zZTE0"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["go","p2p","peer-to-peer","synchronization"],"visibility":"public","forks":4825,"open_issues":361,"watchers":77447,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/syncthing/syncthing/pulls/9685","html_url":"https://github.com/syncthing/syncthing/pull/9685","diff_url":"https://github.com/syncthing/syncthing/pull/9685.diff","patch_url":"https://github.com/syncthing/syncthing/pull/9685.patch","merged_at":null},"body":"@imsodin ðŸ‘‹ \r\n\r\nThis is a somewhat unclean patch as I'm doing a couple of things at once, but we can sort that out in time. The main thing is that I want a discussion around the caching of caseFs instances. That's what causes the problem in #9677, because at the end of the chain in NewFilesystem we try to wrap it in a caseFs, but then the caseFs registry pulls a switcheroo on us and gives us a different wrapped filesystem that doesn't have an mtimeFs in the stack. This happens because we only sometimes create with an mtimeFs -- namely when we have a FileSet (database) available.\r\n\r\nNow, I completely forget why we thought we needed to cache caseFs instances. As far as I can tell we create essentially two \"kinds\" of FS instances -- very short lives ones here and there when we want to check folder health and free space and such, and these don't include mtimeFs in the stack, or the long lived one that is set in the folder instance and shares the folder lifetime.\r\n\r\nThe current cache manager does one other thing though and that is it periodically clears the cache inside the cacheFs. We could potentially do that some other way, like the folder itself could explicitly do it when it completes a scan/pull cycle for example.","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/9685/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":14157691967,"node_id":"UNLE_lADOAOCAEs6VOdZ_zwAAAANL3Tw_","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/14157691967","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2024-09-06T07:16:46Z","label":{"name":"needs-triage","color":"ce23af"},"performed_via_github_app":null},{"id":14157692923,"node_id":"MIE_lADOAOCAEs6VOdZ_zwAAAANL3T_7","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/14157692923","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2024-09-06T07:16:52Z","milestone":{"title":"v1.27.12"},"performed_via_github_app":null}]