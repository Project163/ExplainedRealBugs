{"url":"https://api.github.com/repos/syncthing/syncthing/issues/5979","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/5979/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/5979/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/5979/events","html_url":"https://github.com/syncthing/syncthing/issues/5979","id":485791280,"node_id":"MDU6SXNzdWU0ODU3OTEyODA=","number":5979,"title":"UNIX socket permission bits","user":{"login":"andreymal","id":3236464,"node_id":"MDQ6VXNlcjMyMzY0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3236464?v=4","gravatar_id":"","url":"https://api.github.com/users/andreymal","html_url":"https://github.com/andreymal","followers_url":"https://api.github.com/users/andreymal/followers","following_url":"https://api.github.com/users/andreymal/following{/other_user}","gists_url":"https://api.github.com/users/andreymal/gists{/gist_id}","starred_url":"https://api.github.com/users/andreymal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreymal/subscriptions","organizations_url":"https://api.github.com/users/andreymal/orgs","repos_url":"https://api.github.com/users/andreymal/repos","events_url":"https://api.github.com/users/andreymal/events{/privacy}","received_events_url":"https://api.github.com/users/andreymal/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767667,"node_id":"MDU6TGFiZWw2Nzc2NzY2Nw==","url":"https://api.github.com/repos/syncthing/syncthing/labels/enhancement","name":"enhancement","color":"0e8a16","default":true,"description":"New features or improvements of some kind, as opposed to a problem (bug)"},{"id":169370104,"node_id":"MDU6TGFiZWwxNjkzNzAxMDQ=","url":"https://api.github.com/repos/syncthing/syncthing/labels/good%20first%20issue","name":"good first issue","color":"0052cc","default":true,"description":"Good starting points for new contributors"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/45","html_url":"https://github.com/syncthing/syncthing/milestone/45","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/45/labels","id":5131386,"node_id":"MDk6TWlsZXN0b25lNTEzMTM4Ng==","number":45,"title":"v1.4.1","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":36,"state":"closed","created_at":"2020-02-22T08:43:02Z","updated_at":"2020-04-08T08:51:24Z","due_on":"2020-04-07T07:00:00Z","closed_at":"2020-04-07T06:00:20Z"},"comments":9,"created_at":"2019-08-27T12:51:42Z","updated_at":"2021-02-18T07:02:52Z","closed_at":"2020-02-18T07:52:19Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I tried to use a UNIX socket with nginx, but the default permission bits for the socket are 644:\r\n\r\n```\r\n$ ls -l syncthing.sock \r\nsrwxr-xr-x 1 syncthing syncthing 0 авг 27 15:32 syncthing.sock\r\n```\r\n\r\nNginx uses `www-data` user, and that's why it can't use this UNIX socket and prints \"Permission denied\".\r\n\r\nI can change these permission bits using umask 0007 to make it work, but this solution is not suitable in all cases.\r\n\r\nIt would be nice to have an option that controls socket permission bits (and maybe even a group).","closed_by":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/5979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/5979/timeline","performed_via_github_app":null,"state_reason":"completed"}