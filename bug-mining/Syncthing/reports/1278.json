{"url":"https://api.github.com/repos/syncthing/syncthing/issues/8014","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/8014/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/8014/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/8014/events","html_url":"https://github.com/syncthing/syncthing/issues/8014","id":1031856727,"node_id":"I_kwDOAOCAEs49gOJX","number":8014,"title":"Send TLS SNI to relay server","user":{"login":"hbielenia","id":13271065,"node_id":"MDQ6VXNlcjEzMjcxMDY1","avatar_url":"https://avatars.githubusercontent.com/u/13271065?v=4","gravatar_id":"","url":"https://api.github.com/users/hbielenia","html_url":"https://github.com/hbielenia","followers_url":"https://api.github.com/users/hbielenia/followers","following_url":"https://api.github.com/users/hbielenia/following{/other_user}","gists_url":"https://api.github.com/users/hbielenia/gists{/gist_id}","starred_url":"https://api.github.com/users/hbielenia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbielenia/subscriptions","organizations_url":"https://api.github.com/users/hbielenia/orgs","repos_url":"https://api.github.com/users/hbielenia/repos","events_url":"https://api.github.com/users/hbielenia/events{/privacy}","received_events_url":"https://api.github.com/users/hbielenia/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767667,"node_id":"MDU6TGFiZWw2Nzc2NzY2Nw==","url":"https://api.github.com/repos/syncthing/syncthing/labels/enhancement","name":"enhancement","color":"0e8a16","default":true,"description":"New features or improvements of some kind, as opposed to a problem (bug)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/72","html_url":"https://github.com/syncthing/syncthing/milestone/72","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/72/labels","id":7317795,"node_id":"MI_kwDOAOCAEs4Ab6kj","number":72,"title":"v1.18.5","description":"","creator":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":20,"state":"closed","created_at":"2021-11-02T17:29:41Z","updated_at":"2021-12-07T10:16:21Z","due_on":"2021-12-02T08:00:00Z","closed_at":"2021-12-07T10:16:21Z"},"comments":1,"created_at":"2021-10-20T21:46:39Z","updated_at":"2023-03-10T11:47:29Z","closed_at":"2021-11-22T07:31:04Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The SNI issue is briefly discussed here, but without conclusion: https://forum.syncthing.net/t/sync-routing-to-multiple-instances-in-kubernetes/17361\r\n\r\nSending SNI would make it possible to host relay server along with other processes using it's port, which naturally matters most when hosting it on port 443. Using relay server on HTTPS port helps with obfuscating the traffic since both protocols use TLS.\r\n\r\nTo me, it's a matter of choice between one solution or another where both potentially give up a (very little) part of user's privacy. Assuming I don't wanna spare a separate server on relay, either I choose to host relay server on different port - which will make the traffic more visible, or to host it under a separate hostname, which then needs SNI to distinguish it and forward the traffic. Currently, changing the port is only option, while I would prefer to use multiple hostnames setup. Thats because I can pick an innocent looking hostname and pretend it's just an HTTPS endpoint, while TLS-encrypted traffic on port other than 443 is immediate red light to anyone who's eavesdropping.","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/8014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/8014/timeline","performed_via_github_app":null,"state_reason":"completed"}