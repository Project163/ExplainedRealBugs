{"url":"https://api.github.com/repos/syncthing/syncthing/issues/3165","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/3165/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/3165/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/3165/events","html_url":"https://github.com/syncthing/syncthing/issues/3165","id":156244088,"node_id":"MDU6SXNzdWUxNTYyNDQwODg=","number":3165,"title":"Syncthing uses incorrect timezone for Last-Modified header","user":{"login":"canton7","id":568104,"node_id":"MDQ6VXNlcjU2ODEwNA==","avatar_url":"https://avatars.githubusercontent.com/u/568104?v=4","gravatar_id":"","url":"https://api.github.com/users/canton7","html_url":"https://github.com/canton7","followers_url":"https://api.github.com/users/canton7/followers","following_url":"https://api.github.com/users/canton7/following{/other_user}","gists_url":"https://api.github.com/users/canton7/gists{/gist_id}","starred_url":"https://api.github.com/users/canton7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/canton7/subscriptions","organizations_url":"https://api.github.com/users/canton7/orgs","repos_url":"https://api.github.com/users/canton7/repos","events_url":"https://api.github.com/users/canton7/events{/privacy}","received_events_url":"https://api.github.com/users/canton7/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-05-23T10:03:42Z","updated_at":"2017-06-16T21:00:53Z","closed_at":"2016-05-23T12:16:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Syncthing sets the Last-Modified header on static assets to the time at which the config was last committed. However, it sets a local time, whereas the docs for `http.TimeFormat` specify that the time must be UTC.\n\nThis can result in a Last-Modified time in the future for timezones ahead of GMT, or a time before the config was committed for timezones behind GMT.\n\nThis is probably partially responsible for the reports of the UI showing \"Unknown Device\" with an empty folder list when people upgrade to 0.13. I say \"partially\" because I know there have been reports from people ahead of GMT, so something else is at play as well here....\n\nSee [here](https://github.com/syncthing/syncthing/blob/4bc2b3f3690c755a8ffb22862915e286bdc24702/cmd/syncthing/gui.go#L1257), [here](https://github.com/syncthing/syncthing/blob/4bc2b3f3690c755a8ffb22862915e286bdc24702/cmd/syncthing/gui.go#L1300), and [here](https://github.com/syncthing/syncthing/blob/4bc2b3f3690c755a8ffb22862915e286bdc24702/cmd/syncthing/gui.go#L301).\n","closed_by":{"login":"st-review","id":16196517,"node_id":"MDQ6VXNlcjE2MTk2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/16196517?v=4","gravatar_id":"","url":"https://api.github.com/users/st-review","html_url":"https://github.com/st-review","followers_url":"https://api.github.com/users/st-review/followers","following_url":"https://api.github.com/users/st-review/following{/other_user}","gists_url":"https://api.github.com/users/st-review/gists{/gist_id}","starred_url":"https://api.github.com/users/st-review/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/st-review/subscriptions","organizations_url":"https://api.github.com/users/st-review/orgs","repos_url":"https://api.github.com/users/st-review/repos","events_url":"https://api.github.com/users/st-review/events{/privacy}","received_events_url":"https://api.github.com/users/st-review/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/3165/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/3165/timeline","performed_via_github_app":null,"state_reason":"completed"}