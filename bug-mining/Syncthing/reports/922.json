{"url":"https://api.github.com/repos/syncthing/syncthing/issues/5631","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/5631/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/5631/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/5631/events","html_url":"https://github.com/syncthing/syncthing/issues/5631","id":427227499,"node_id":"MDU6SXNzdWU0MjcyMjc0OTk=","number":5631,"title":"Dockerfile ENTRYPOINT doesn't pass along extra arguments from \"docker run\"","user":{"login":"tomjakubowski","id":667901,"node_id":"MDQ6VXNlcjY2NzkwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/667901?v=4","gravatar_id":"","url":"https://api.github.com/users/tomjakubowski","html_url":"https://github.com/tomjakubowski","followers_url":"https://api.github.com/users/tomjakubowski/followers","following_url":"https://api.github.com/users/tomjakubowski/following{/other_user}","gists_url":"https://api.github.com/users/tomjakubowski/gists{/gist_id}","starred_url":"https://api.github.com/users/tomjakubowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomjakubowski/subscriptions","organizations_url":"https://api.github.com/users/tomjakubowski/orgs","repos_url":"https://api.github.com/users/tomjakubowski/repos","events_url":"https://api.github.com/users/tomjakubowski/events{/privacy}","received_events_url":"https://api.github.com/users/tomjakubowski/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767667,"node_id":"MDU6TGFiZWw2Nzc2NzY2Nw==","url":"https://api.github.com/repos/syncthing/syncthing/labels/enhancement","name":"enhancement","color":"0e8a16","default":true,"description":"New features or improvements of some kind, as opposed to a problem (bug)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/36","html_url":"https://github.com/syncthing/syncthing/milestone/36","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/36/labels","id":4301629,"node_id":"MDk6TWlsZXN0b25lNDMwMTYyOQ==","number":36,"title":"v1.2.0","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":64,"state":"closed","created_at":"2019-05-10T07:12:15Z","updated_at":"2019-07-09T06:30:26Z","due_on":"2019-07-09T07:00:00Z","closed_at":"2019-07-09T06:30:26Z"},"comments":2,"created_at":"2019-03-30T01:28:34Z","updated_at":"2020-05-17T07:02:30Z","closed_at":"2019-05-18T06:43:58Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When I'm running syncthing from the Docker image, I would often like to pass it additional command line arguments. My expectation, based on other \"application\" images I've used (pdal is one example), is that extra arguments to `docker run` would be passed on to `syncthing` in the container.\r\n\r\nTo reproduce:\r\n\r\n```\r\ndocker run --pull syncthing/syncthing -help\r\n```\r\n\r\nExpected behavior: help text is printed, as with `syncthing -help`.\r\n\r\nActual behavior: `syncthing` starts like nothing was passed:\r\n\r\n```\r\n% docker run syncthing/syncthing -help\r\n[monitor] 01:23:27 INFO: Starting syncthing\r\n[start] 01:23:27 INFO: Generating ECDSA key and certificate for syncthing...\r\n[BRLLT] 01:23:27 INFO: syncthing v1.1.0 \"Erbium Earthworm\" (go1.11.6 linux-amd64) docker@syncthing.net 2019-02-25 18:25:08 UTC\r\n[BRLLT] 01:23:27 INFO: My ID: BRLLTIP-EZSBBHZ-OZJLDQH-SPQWQGD-VT7UQWK-MFFNRSM-5G72AVM-XOEXYA7\r\n[BRLLT] 01:23:28 INFO: Single thread SHA256 performance is 380 MB/s using crypto/sha256 (377 MB/s using minio/sha256-simd).\r\n[... truncated]\r\n```\r\n\r\nDocker image version: 61de83be0df4\r\n\r\n- - -\r\n\r\nI believe this can be addressed through some combination of using the _exec form_ of `ENTRYPOINT` and, optionally, `CMD` for \"default\" arguments that would be thrown away if the user provides any. See https://docs.docker.com/engine/reference/builder/#entrypoint","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/5631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/5631/timeline","performed_via_github_app":null,"state_reason":"completed"}