{"url":"https://api.github.com/repos/syncthing/syncthing/issues/4464","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/4464/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/4464/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/4464/events","html_url":"https://github.com/syncthing/syncthing/issues/4464","id":268678876,"node_id":"MDU6SXNzdWUyNjg2Nzg4NzY=","number":4464,"title":"Folder no longer stopped on error","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"},{"id":753433298,"node_id":"MDU6TGFiZWw3NTM0MzMyOTg=","url":"https://api.github.com/repos/syncthing/syncthing/labels/skip-changelog","name":"skip-changelog","color":"7fffb4","default":false,"description":"Bugs that have never been in a released stable version, and as such excluded from the release notes"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2017-10-26T08:56:52Z","updated_at":"2018-10-27T07:01:31Z","closed_at":"2017-10-26T11:49:14Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"After #4455 my nonexistent folders are no longer stopped on error. For example I have a Folder foto/2017` on `/Volumes/samsung-1tb` which is an external SSD that is not present when I start Syncthing:\r\n\r\n```\r\njb@unu:~ $ syncthing\r\n[monitor] 10:52:59 INFO: Starting syncthing\r\n[SYNO4] 10:52:59 INFO: syncthing v0.14.40-rc.1 \"Dysprosium Dragonfly\" (go1.9 darwin-amd64) jb@unu.kastelo.net 2017-10-24 07:58:55 UTC\r\n[SYNO4] 10:52:59 INFO: My ID: SYNO4VL-TKVFF25-QKC2T3V-TTK4BGU-D2ZA5OT-PDKSI3R-3P4JQVS-BL4VXAC\r\n[SYNO4] 10:53:00 INFO: Single thread SHA256 performance is 362 MB/s using minio/sha256-simd (359 MB/s using crypto/sha256).\r\n[SYNO4] 10:53:01 INFO: Hashing performance with weak hash is 300.30 MB/s\r\n[SYNO4] 10:53:01 INFO: Hashing performance without weak hash is 348.51 MB/s\r\n[SYNO4] 10:53:01 INFO: Weak hash enabled, as it has an acceptable performance impact.\r\n[SYNO4] 10:53:02 INFO: Starting deadlock detector with 20m0s timeout\r\n[SYNO4] 10:53:02 INFO: Ready to synchronize documents (readonly)\r\n[SYNO4] 10:53:03 INFO: Ready to synchronize \"Lightroom\" (lightroom) (readonly)\r\n[SYNO4] 10:53:04 INFO: Ready to synchronize \"foto/2017\" (2fyjq-jrfpr) (readonly)\r\n[SYNO4] 10:53:04 INFO: Ready to synchronize \"Transfer\" (4vcqq-sciqk) (readwrite)\r\n[SYNO4] 10:53:04 INFO: Send rate is unlimited, receive rate is unlimited\r\n[SYNO4] 10:53:04 INFO: Rate limits do not apply to LAN connections\r\n[SYNO4] 10:53:04 INFO: Using discovery server https://discovery-v4-2.syncthing.net/v2/?id=DVU36WY-H3LVZHW-E6LLFRE-YAFN5EL-HILWRYP-OC2M47J-Z4PE62Y-ADIBDQC\r\n[SYNO4] 10:53:04 INFO: Using discovery server https://discovery-v4-3.syncthing.net/v2/?id=VK6HNJ3-VVMM66S-HRVWSCR-IXEHL2H-U4AQ4MW-UCPQBWX-J2L2UBK-NVZRDQZ\r\n[SYNO4] 10:53:04 INFO: Using discovery server https://discovery-v4-4.syncthing.net/v2/?id=LYXKCHX-VI3NYZR-ALCJBHF-WMZYSPK-QG6QJA3-MPFYMSO-U56GTUK-NA2MIAW\r\n[SYNO4] 10:53:04 INFO: Using discovery server https://discovery-v6-2.syncthing.net/v2/?id=DVU36WY-H3LVZHW-E6LLFRE-YAFN5EL-HILWRYP-OC2M47J-Z4PE62Y-ADIBDQC\r\n[SYNO4] 10:53:04 INFO: Using discovery server https://discovery-v6-3.syncthing.net/v2/?id=VK6HNJ3-VVMM66S-HRVWSCR-IXEHL2H-U4AQ4MW-UCPQBWX-J2L2UBK-NVZRDQZ\r\n[SYNO4] 10:53:04 INFO: Using discovery server https://discovery-v6-4.syncthing.net/v2/?id=LYXKCHX-VI3NYZR-ALCJBHF-WMZYSPK-QG6QJA3-MPFYMSO-U56GTUK-NA2MIAW\r\n[SYNO4] 10:53:04 INFO: Started filesystem watcher for folder \"Transfer\" (4vcqq-sciqk)\r\n[SYNO4] 10:53:04 WARNING: Failed to start filesystem watcher for folder \"foto/2017\" (2fyjq-jrfpr): lstat /Volumes/samsung-1tb: no such file or directory\r\n[SYNO4] 10:53:04 WARNING: Error on folder \"foto/2017\" (2fyjq-jrfpr): folder path missing\r\n[SYNO4] 10:53:04 WARNING: Failed to start filesystem watcher for folder \"foto/2017\" (2fyjq-jrfpr): lstat /Volumes/samsung-1tb: no such file or directory\r\n[SYNO4] 10:53:04 INFO: TCP listener ([::]:22000) starting\r\n[SYNO4] 10:53:04 INFO: Started filesystem watcher for folder documents\r\n[SYNO4] 10:53:04 INFO: KCP listener ([::]:22020) starting\r\n[SYNO4] 10:53:04 INFO: Started filesystem watcher for folder \"Lightroom\" (lightroom)\r\n[SYNO4] 10:53:04 INFO: Completed initial scan of readwrite folder \"Transfer\" (4vcqq-sciqk)\r\n[SYNO4] 10:53:04 INFO: Device ITZRNXE-YNROGBZ-HXTH5P7-VK5NYE5-QHRQGE2-7JQ6VNJ-KZUEDIU-5PPR5AM is \"pseudo.nym.se\" at [dynamic]\r\n[SYNO4] 10:53:04 INFO: Device SYNO4VL-TKVFF25-QKC2T3V-TTK4BGU-D2ZA5OT-PDKSI3R-3P4JQVS-BL4VXAC is \"syno.nym.se\" at [dynamic]\r\n[SYNO4] 10:53:04 INFO: Anonymous usage reporting is always enabled for candidate releases.\r\n[SYNO4] 10:53:04 INFO: No automatic upgrades; STNOUPGRADE environment variable defined.\r\n[SYNO4] 10:53:04 INFO: GUI and API listening on 127.0.0.1:8385\r\n[SYNO4] 10:53:04 INFO: Access the GUI via the following URL: http://127.0.0.1:8385/\r\n[SYNO4] 10:53:05 INFO: Completed initial scan of readonly folder documents\r\n[SYNO4] 10:53:07 INFO: Completed initial scan of readonly folder \"Lightroom\" (lightroom)\r\n[SYNO4] 10:53:14 INFO: kcp://0.0.0.0:22020 detected NAT type: Symetric NAT\r\n[SYNO4] 10:53:14 INFO: kcp://0.0.0.0:22020 resolved external address kcp://94.255.169.149:26240 (via stun.voip.aebc.com:3478)\r\n[SYNO4] 10:53:28 INFO: Established secure connection to ITZRNXE-YNROGBZ-HXTH5P7-VK5NYE5-QHRQGE2-7JQ6VNJ-KZUEDIU-5PPR5AM at [::]:22020-[2001:7a0:8003:32::11]:22020 (kcp-client) (TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305)\r\n[SYNO4] 10:53:28 INFO: Device ITZRNXE-YNROGBZ-HXTH5P7-VK5NYE5-QHRQGE2-7JQ6VNJ-KZUEDIU-5PPR5AM client is \"syncthing v0.14.40-rc.2\" named \"pseudo.nym.se\"\r\n[SYNO4] 10:53:29 INFO: Established secure connection to ITZRNXE-YNROGBZ-HXTH5P7-VK5NYE5-QHRQGE2-7JQ6VNJ-KZUEDIU-5PPR5AM at 172.16.33.87:60344-94.255.169.149:22000 (tcp-client) (TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305)\r\n[SYNO4] 10:53:29 INFO: Replacing old connection [::]:22020-[2001:7a0:8003:32::11]:22020/kcp-client with 172.16.33.87:60344-94.255.169.149:22000/tcp-client for ITZRNXE-YNROGBZ-HXTH5P7-VK5NYE5-QHRQGE2-7JQ6VNJ-KZUEDIU-5PPR5AM\r\n[SYNO4] 10:53:29 INFO: Connection to ITZRNXE-YNROGBZ-HXTH5P7-VK5NYE5-QHRQGE2-7JQ6VNJ-KZUEDIU-5PPR5AM closed: reading length: broken pipe\r\n[SYNO4] 10:53:29 INFO: Device ITZRNXE-YNROGBZ-HXTH5P7-VK5NYE5-QHRQGE2-7JQ6VNJ-KZUEDIU-5PPR5AM client is \"syncthing v0.14.40-rc.2\" named \"pseudo.nym.se\"\r\n```\r\n\r\nFolder is green in the UI:\r\n\r\n![screen shot 2017-10-26 at 10 55 55](https://user-images.githubusercontent.com/125426/32043880-42d5fbfc-ba3c-11e7-8f0a-fd6bc75d40dc.png)\r\n\r\nOn the plus side, my files haven't been deleted! :) (i.e., it still aborts the scan in time)\r\n\r\nThis should be fixed for 0.14.40.","closed_by":{"login":"st-review","id":16196517,"node_id":"MDQ6VXNlcjE2MTk2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/16196517?v=4","gravatar_id":"","url":"https://api.github.com/users/st-review","html_url":"https://github.com/st-review","followers_url":"https://api.github.com/users/st-review/followers","following_url":"https://api.github.com/users/st-review/following{/other_user}","gists_url":"https://api.github.com/users/st-review/gists{/gist_id}","starred_url":"https://api.github.com/users/st-review/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/st-review/subscriptions","organizations_url":"https://api.github.com/users/st-review/orgs","repos_url":"https://api.github.com/users/st-review/repos","events_url":"https://api.github.com/users/st-review/events{/privacy}","received_events_url":"https://api.github.com/users/st-review/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/4464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/4464/timeline","performed_via_github_app":null,"state_reason":"completed"}