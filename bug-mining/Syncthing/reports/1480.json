{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9916","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/9916/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/9916/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/9916/events","html_url":"https://github.com/syncthing/syncthing/issues/9916","id":2781467637,"node_id":"I_kwDOAOCAEs6lydP1","number":9916,"title":"Cli commands for defaults folder config don't set value for versioning","user":{"login":"ShPakvel","id":282805,"node_id":"MDQ6VXNlcjI4MjgwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/282805?v=4","gravatar_id":"","url":"https://api.github.com/users/ShPakvel","html_url":"https://github.com/ShPakvel","followers_url":"https://api.github.com/users/ShPakvel/followers","following_url":"https://api.github.com/users/ShPakvel/following{/other_user}","gists_url":"https://api.github.com/users/ShPakvel/gists{/gist_id}","starred_url":"https://api.github.com/users/ShPakvel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShPakvel/subscriptions","organizations_url":"https://api.github.com/users/ShPakvel/orgs","repos_url":"https://api.github.com/users/ShPakvel/repos","events_url":"https://api.github.com/users/ShPakvel/events{/privacy}","received_events_url":"https://api.github.com/users/ShPakvel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/122","html_url":"https://github.com/syncthing/syncthing/milestone/122","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/122/labels","id":12930794,"node_id":"MI_kwDOAOCAEs4AxU7q","number":122,"title":"v1.29.7","description":null,"creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":11,"state":"closed","created_at":"2025-05-21T06:33:40Z","updated_at":"2025-10-26T14:30:44Z","due_on":null,"closed_at":"2025-05-26T13:22:19Z"},"comments":1,"created_at":"2025-01-11T00:34:09Z","updated_at":"2025-05-21T06:33:42Z","closed_at":"2025-05-09T05:40:33Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What happened?\r\n\r\nFollowing cli commands for defaults folder config don't set value for versioning.\r\nFrom GUI it is possible to set this values for default folder config.\r\nAnd similar commands for specific folder created also work.\r\n\r\n```sh\r\nsyncthing cli config defaults folder versioning type set simple\r\nsyncthing cli config defaults folder versioning params set keep 5\r\nsyncthing cli config defaults folder versioning params set cleanoutDays 0\r\n```\r\n\r\nHere is example of similar commands for specific folder that work.\r\n\r\n```sh\r\nsyncthing cli config folders specific_folder_name versioning type set simple\r\nsyncthing cli config folders specific_folder_name versioning params set keep 5\r\nsyncthing cli config folders specific_folder_name versioning params set cleanoutDays 0\r\n```\r\n\r\nI am testing it inside official syncthing docker image container. \"image: syncthing/syncthing:latest\".\r\n\r\nversion from cli:\r\n\r\n```sh\r\n/ # syncthing cli show version\r\n{\r\n  \"arch\": \"amd64\",\r\n  \"codename\": \"Gold Grasshopper\",\r\n  \"container\": true,\r\n  \"date\": \"2025-01-09T20:47:10Z\",\r\n  \"extra\": \"\",\r\n  \"isBeta\": false,\r\n  \"isCandidate\": false,\r\n  \"isRelease\": true,\r\n  \"longVersion\": \"syncthing v1.29.1 \\\"Gold Grasshopper\\\" (go1.23.4 linux-amd64) docker@github.syncthing.net 2025-01-09 20:47:10 UTC [noupgrade]\",\r\n  \"os\": \"linux\",\r\n  \"stamp\": \"1736455630\",\r\n  \"tags\": [\r\n    \"noupgrade\"\r\n  ],\r\n  \"user\": \"docker\",\r\n  \"version\": \"v1.29.1\"\r\n}\r\n```\r\n\r\n### Syncthing version\r\n\r\nv1.29.1\r\n\r\n### Platform & operating system\r\n\r\nLimux amd64\r\n\r\n### Browser version\r\n\r\n_No response_\r\n\r\n### Relevant log output\r\n\r\n```shell\r\n/ # syncthing cli config defaults folder versioning type set simple\r\n/ # syncthing cli config defaults folder versioning type get\r\nsimple\r\n/ # syncthing cli config defaults folder versioning params set keep 5\r\n/ # syncthing cli config defaults folder versioning params get keep\r\nsyncthing: error: unsupported kind: invalid [utils.go:94]\r\n/ # syncthing cli config defaults folder versioning params set cleanoutDays 0\r\n/ # syncthing cli config defaults folder versioning params get cleanoutDays\r\nsyncthing: error: unsupported kind: invalid [utils.go:94]\r\n/ # syncthing cli config defaults folder versioning dump-json\r\n{\r\n  \"type\": \"simple\",\r\n  \"params\": {},\r\n  \"cleanupIntervalS\": 3600,\r\n  \"fsPath\": \"\",\r\n  \"fsType\": \"basic\"\r\n}\r\n```\r\n","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/9916/timeline","performed_via_github_app":null,"state_reason":"completed"}