[{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/554615026","html_url":"https://github.com/syncthing/syncthing/issues/5731#issuecomment-554615026","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5731","id":554615026,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDYxNTAyNg==","user":{"login":"dugwood","id":5517743,"node_id":"MDQ6VXNlcjU1MTc3NDM=","avatar_url":"https://avatars.githubusercontent.com/u/5517743?v=4","gravatar_id":"","url":"https://api.github.com/users/dugwood","html_url":"https://github.com/dugwood","followers_url":"https://api.github.com/users/dugwood/followers","following_url":"https://api.github.com/users/dugwood/following{/other_user}","gists_url":"https://api.github.com/users/dugwood/gists{/gist_id}","starred_url":"https://api.github.com/users/dugwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dugwood/subscriptions","organizations_url":"https://api.github.com/users/dugwood/orgs","repos_url":"https://api.github.com/users/dugwood/repos","events_url":"https://api.github.com/users/dugwood/events{/privacy}","received_events_url":"https://api.github.com/users/dugwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-16T08:02:22Z","updated_at":"2019-11-16T08:02:22Z","body":"Same issue today, with version 1.3.1.\r\n\r\n- Directories in repository: `208277`\r\n- Directories in repository that are ignored in `.stignore`: at least `148350` (difficult to determine this with `find` and `.stignore` syntax). So at most there's `59927` directories to watch\r\n- inotify limit: `fs.inotify.max_user_watches = 204800`\r\n\r\nSetting inotify limit to 209k fixes it. So there's clearly an issue with inotify, listening to directories that are ignored. Perhaps it's because we can't define exactly what directories are to be ignored, for example with subdirectories that would be included when created.\r\n\r\nSo the good call would be to increase level of error, from `DEBUG` to `WARN` (and perhaps limit error logging to one every 1 minute, so that we don't flood the logs). I've looked at the code, but I clearly don't understand `go` :smile: ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/554615026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dugwood","id":5517743,"node_id":"MDQ6VXNlcjU1MTc3NDM=","avatar_url":"https://avatars.githubusercontent.com/u/5517743?v=4","gravatar_id":"","url":"https://api.github.com/users/dugwood","html_url":"https://github.com/dugwood","followers_url":"https://api.github.com/users/dugwood/followers","following_url":"https://api.github.com/users/dugwood/following{/other_user}","gists_url":"https://api.github.com/users/dugwood/gists{/gist_id}","starred_url":"https://api.github.com/users/dugwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dugwood/subscriptions","organizations_url":"https://api.github.com/users/dugwood/orgs","repos_url":"https://api.github.com/users/dugwood/repos","events_url":"https://api.github.com/users/dugwood/events{/privacy}","received_events_url":"https://api.github.com/users/dugwood/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/554623822","html_url":"https://github.com/syncthing/syncthing/issues/5731#issuecomment-554623822","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5731","id":554623822,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDYyMzgyMg==","user":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-16T10:15:27Z","updated_at":"2019-11-16T10:15:27Z","body":"If you have excluded ignore patterns, all paths are watched, because things like `!**.mp3` requires us to watch everything.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/554623822/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3189709101,"node_id":"MDEyOkxhYmVsZWRFdmVudDMxODk3MDkxMDE=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3189709101","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-04-01T21:15:47Z","label":{"name":"bug","color":"d93f0b"},"performed_via_github_app":null},{"id":3189709588,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzE4OTcwOTU4OA==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3189709588","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2020-04-01T21:15:56Z","rename":{"from":"Syncthing 100% CPU because of inotify limits - How to know the upper limit?","to":"Syncthing 100% CPU because of inotify limits exceeded"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/607493792","html_url":"https://github.com/syncthing/syncthing/issues/5731#issuecomment-607493792","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5731","id":607493792,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzQ5Mzc5Mg==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T21:16:29Z","updated_at":"2020-04-01T21:16:29Z","body":"Bug here seems to be too insistent retries to set up the watcher. It should not be frequent enough to cause persistent high CPU.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/607493792/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/613630495","html_url":"https://github.com/syncthing/syncthing/issues/5731#issuecomment-613630495","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5731","id":613630495,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzYzMDQ5NQ==","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T19:13:09Z","updated_at":"2020-04-14T19:13:09Z","body":"We retry watching once a minute - I wouldn't expect that to create any significant resource usage.\r\n\r\nPlease enable `model` and `watchaggregator` debug log facilities and share those logs.\r\n\r\n> * hitting the inotify limit should be reported as `INFO` or `WARNING` in the logs. I've searched a lot before understanding why my files were not in sync, enabling verbose helped a lot, because the message was clear: inotify issue (+ link to how to deal with the issue).\r\n\r\nWatch errors at setup are logged at info level, watch errors after setup at warning level but just once.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/613630495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3232537736,"node_id":"MDEyOkxhYmVsZWRFdmVudDMyMzI1Mzc3MzY=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3232537736","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-04-14T19:13:47Z","label":{"name":"waiting-for-info","color":"a1fced"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/614706487","html_url":"https://github.com/syncthing/syncthing/issues/5731#issuecomment-614706487","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5731","id":614706487,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDcwNjQ4Nw==","user":{"login":"dugwood","id":5517743,"node_id":"MDQ6VXNlcjU1MTc3NDM=","avatar_url":"https://avatars.githubusercontent.com/u/5517743?v=4","gravatar_id":"","url":"https://api.github.com/users/dugwood","html_url":"https://github.com/dugwood","followers_url":"https://api.github.com/users/dugwood/followers","following_url":"https://api.github.com/users/dugwood/following{/other_user}","gists_url":"https://api.github.com/users/dugwood/gists{/gist_id}","starred_url":"https://api.github.com/users/dugwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dugwood/subscriptions","organizations_url":"https://api.github.com/users/dugwood/orgs","repos_url":"https://api.github.com/users/dugwood/repos","events_url":"https://api.github.com/users/dugwood/events{/privacy}","received_events_url":"https://api.github.com/users/dugwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T14:58:36Z","updated_at":"2020-04-16T14:58:58Z","body":"@imsodin I've tried with `model` and I can confirm what you said, once every minute there's an INFO log:\r\n\r\n> 2020/04/16 16:24:21.489330 folder.go:716: INFO: Error while trying to start filesystem watcher for folder \"xxx\" (xxx), trying again in 1min: failed to setup inotify handler. Please increase inotify limits, see https://docs.syncthing.net/users/faq.html#inotify-limits\r\n\r\nMy remark about INFO and WARNING was the need to see that a new problem arise: if first setup is good, but after a while the directory may have many more files, hence the issue isn't visible (as it's an INFO level, which isn't the default log level AFAIK).\r\n\r\nI can see CPU spike just after the watcher's start. So every minute, watcher tries to run, get the inotify limit, and stops after a few seconds:\r\n\r\n> 2020/04/16 16:43:05.084726 folder.go:180: DEBUG: sendreceive/xxx@xxx Delaying scan\r\n> 2020/04/16 16:43:05.084792 folder.go:172: DEBUG: sendreceive/xxx@xxx Scanning due to timer\r\n> 2020/04/16 16:43:11.115586 folder.go:247: DEBUG: sendreceive/xxx@xxx next rescan in 29h28m40.855753856s\r\n\r\nHere there 2 timestamps: 16:43:05 to 16:43:11, during which the CPU is 100%. So every minute, there's a 100% CPU spike. And the next one is run at 16:44:05, so exactly 1 minute after the previous try. It should start 1 minute after the end of spike.\r\n\r\nBut in the end, the whole issue is that it's hard to find out that the 100% CPU is linked to inotify limit... To me it boils down to:\r\n - increasing level for «Error while trying...» from INFO to WARN\r\n - increasing the 1 minute delay (not essential, and perhaps first retry after 1 min, then after 2 min, ...)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/614706487/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dugwood","id":5517743,"node_id":"MDQ6VXNlcjU1MTc3NDM=","avatar_url":"https://avatars.githubusercontent.com/u/5517743?v=4","gravatar_id":"","url":"https://api.github.com/users/dugwood","html_url":"https://github.com/dugwood","followers_url":"https://api.github.com/users/dugwood/followers","following_url":"https://api.github.com/users/dugwood/following{/other_user}","gists_url":"https://api.github.com/users/dugwood/gists{/gist_id}","starred_url":"https://api.github.com/users/dugwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dugwood/subscriptions","organizations_url":"https://api.github.com/users/dugwood/orgs","repos_url":"https://api.github.com/users/dugwood/repos","events_url":"https://api.github.com/users/dugwood/events{/privacy}","received_events_url":"https://api.github.com/users/dugwood/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3240346784,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI0MDM0Njc4NA==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3240346784","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-16T14:58:36Z","performed_via_github_app":null},{"id":3240346796,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyNDAzNDY3OTY=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3240346796","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-16T14:58:36Z","performed_via_github_app":null},{"id":3240669657,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzI0MDY2OTY1Nw==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3240669657","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2020-04-16T16:06:04Z","rename":{"from":"Syncthing 100% CPU because of inotify limits exceeded","to":"100% CPU every minute on watch setup retry without warning"},"performed_via_github_app":null},{"id":3240670155,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MzI0MDY3MDE1NQ==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3240670155","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2020-04-16T16:06:11Z","label":{"name":"waiting-for-info","color":"a1fced"},"performed_via_github_app":null},{"id":3241918995,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMyNDE5MTg5OTU=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3241918995","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1757d0fb1209df11bf221eb6cd1e7a8b10a97f84","commit_url":"https://api.github.com/repos/imsodin/syncthing/commits/1757d0fb1209df11bf221eb6cd1e7a8b10a97f84","created_at":"2020-04-16T21:30:33Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/614908607","html_url":"https://github.com/syncthing/syncthing/issues/5731#issuecomment-614908607","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5731","id":614908607,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDkwODYwNw==","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T21:34:36Z","updated_at":"2020-04-16T21:34:36Z","body":"Actually the logging is fine: The warning only occurs on the error that was previously a panic: If an event is registered outside of the shared folder (which should never happen). Otherwise it is info logs (which is the normal level) and the notification in the UI - I think that's enough given it's not an essential component.\r\n\r\nFor the increasing setup delay, see https://github.com/syncthing/syncthing/pull/6544","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/614908607/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/615134040","html_url":"https://github.com/syncthing/syncthing/issues/5731#issuecomment-615134040","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5731","id":615134040,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTEzNDA0MA==","user":{"login":"dugwood","id":5517743,"node_id":"MDQ6VXNlcjU1MTc3NDM=","avatar_url":"https://avatars.githubusercontent.com/u/5517743?v=4","gravatar_id":"","url":"https://api.github.com/users/dugwood","html_url":"https://github.com/dugwood","followers_url":"https://api.github.com/users/dugwood/followers","following_url":"https://api.github.com/users/dugwood/following{/other_user}","gists_url":"https://api.github.com/users/dugwood/gists{/gist_id}","starred_url":"https://api.github.com/users/dugwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dugwood/subscriptions","organizations_url":"https://api.github.com/users/dugwood/orgs","repos_url":"https://api.github.com/users/dugwood/repos","events_url":"https://api.github.com/users/dugwood/events{/privacy}","received_events_url":"https://api.github.com/users/dugwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T09:05:56Z","updated_at":"2020-04-17T09:05:56Z","body":"Thanks @imsodin I'll close this as soon as the increasing delay is committed. You may do it right now if you like.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/615134040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dugwood","id":5517743,"node_id":"MDQ6VXNlcjU1MTc3NDM=","avatar_url":"https://avatars.githubusercontent.com/u/5517743?v=4","gravatar_id":"","url":"https://api.github.com/users/dugwood","html_url":"https://github.com/dugwood","followers_url":"https://api.github.com/users/dugwood/followers","following_url":"https://api.github.com/users/dugwood/following{/other_user}","gists_url":"https://api.github.com/users/dugwood/gists{/gist_id}","starred_url":"https://api.github.com/users/dugwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dugwood/subscriptions","organizations_url":"https://api.github.com/users/dugwood/orgs","repos_url":"https://api.github.com/users/dugwood/repos","events_url":"https://api.github.com/users/dugwood/events{/privacy}","received_events_url":"https://api.github.com/users/dugwood/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3243499050,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzI0MzQ5OTA1MA==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3243499050","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-04-17T09:05:56Z","performed_via_github_app":null},{"id":3243499051,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyNDM0OTkwNTE=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3243499051","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-04-17T09:05:57Z","performed_via_github_app":null},{"id":3243513393,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzI0MzUxMzM5Mw==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3243513393","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2020-04-17T09:10:08Z","rename":{"from":"100% CPU every minute on watch setup retry without warning","to":"100% CPU every minute on watch setup retry"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/615136307","html_url":"https://github.com/syncthing/syncthing/issues/5731#issuecomment-615136307","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/5731","id":615136307,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTEzNjMwNw==","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-17T09:10:53Z","updated_at":"2020-04-17T09:10:53Z","body":"No need to do anything manually for closing, the issue gets closed automatically (well by commit keyword) once the linked PR is merged.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/615136307/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3244953744,"node_id":"MDExOkNsb3NlZEV2ZW50MzI0NDk1Mzc0NA==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3244953744","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"49798552f26e568c2b71d458e943c03b1ab8da72","commit_url":"https://api.github.com/repos/syncthing/syncthing/commits/49798552f26e568c2b71d458e943c03b1ab8da72","created_at":"2020-04-17T15:43:45Z","state_reason":null,"performed_via_github_app":null},{"id":3257837747,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDMyNTc4Mzc3NDc=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3257837747","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2020-04-21T20:45:53Z","milestone":{"title":"v1.5.1"},"performed_via_github_app":null},{"id":3292357352,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMyOTIzNTczNTI=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3292357352","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"dd458546cf404e4272c5edafcb686b73d5c5d010","commit_url":"https://api.github.com/repos/MpoyiMmg/syncthing/commits/dd458546cf404e4272c5edafcb686b73d5c5d010","created_at":"2020-05-01T06:20:49Z","performed_via_github_app":null},{"id":4608738634,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ2MDg3Mzg2MzQ=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4608738634","actor":{"login":"st-review","id":16196517,"node_id":"MDQ6VXNlcjE2MTk2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/16196517?v=4","gravatar_id":"","url":"https://api.github.com/users/st-review","html_url":"https://github.com/st-review","followers_url":"https://api.github.com/users/st-review/followers","following_url":"https://api.github.com/users/st-review/following{/other_user}","gists_url":"https://api.github.com/users/st-review/gists{/gist_id}","starred_url":"https://api.github.com/users/st-review/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/st-review/subscriptions","organizations_url":"https://api.github.com/users/st-review/orgs","repos_url":"https://api.github.com/users/st-review/repos","events_url":"https://api.github.com/users/st-review/events{/privacy}","received_events_url":"https://api.github.com/users/st-review/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-04-18T07:02:21Z","label":{"name":"frozen-due-to-age","color":"eeeeee"},"performed_via_github_app":null},{"id":4608738640,"node_id":"MDExOkxvY2tlZEV2ZW50NDYwODczODY0MA==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4608738640","actor":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2021-04-18T07:02:21Z","lock_reason":null,"performed_via_github_app":null}]