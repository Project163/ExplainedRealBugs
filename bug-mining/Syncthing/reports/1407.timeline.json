[{"id":10434921708,"node_id":"LE_lADOAOCAEs5xqMy2zwAAAAJt-ETs","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10434921708","actor":{"login":"zechnkaas","id":7140356,"node_id":"MDQ6VXNlcjcxNDAzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7140356?v=4","gravatar_id":"","url":"https://api.github.com/users/zechnkaas","html_url":"https://github.com/zechnkaas","followers_url":"https://api.github.com/users/zechnkaas/followers","following_url":"https://api.github.com/users/zechnkaas/following{/other_user}","gists_url":"https://api.github.com/users/zechnkaas/gists{/gist_id}","starred_url":"https://api.github.com/users/zechnkaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zechnkaas/subscriptions","organizations_url":"https://api.github.com/users/zechnkaas/orgs","repos_url":"https://api.github.com/users/zechnkaas/repos","events_url":"https://api.github.com/users/zechnkaas/events{/privacy}","received_events_url":"https://api.github.com/users/zechnkaas/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-09-21T12:41:35Z","label":{"name":"bug","color":"d93f0b"},"performed_via_github_app":null},{"id":10434921717,"node_id":"LE_lADOAOCAEs5xqMy2zwAAAAJt-ET1","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10434921717","actor":{"login":"zechnkaas","id":7140356,"node_id":"MDQ6VXNlcjcxNDAzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7140356?v=4","gravatar_id":"","url":"https://api.github.com/users/zechnkaas","html_url":"https://github.com/zechnkaas","followers_url":"https://api.github.com/users/zechnkaas/followers","following_url":"https://api.github.com/users/zechnkaas/following{/other_user}","gists_url":"https://api.github.com/users/zechnkaas/gists{/gist_id}","starred_url":"https://api.github.com/users/zechnkaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zechnkaas/subscriptions","organizations_url":"https://api.github.com/users/zechnkaas/orgs","repos_url":"https://api.github.com/users/zechnkaas/repos","events_url":"https://api.github.com/users/zechnkaas/events{/privacy}","received_events_url":"https://api.github.com/users/zechnkaas/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-09-21T12:41:35Z","label":{"name":"needs-triage","color":"ce23af"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1729518534","html_url":"https://github.com/syncthing/syncthing/issues/9120#issuecomment-1729518534","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9120","id":1729518534,"node_id":"IC_kwDOAOCAEs5nFlvG","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-21T13:00:04Z","updated_at":"2023-09-21T13:01:15Z","body":"Interesting. I think the main difference between the two is that we build 1.24.0 with Go 1.21 and the older one with Go 1.20. Full logs from the failure with STTRACE=model,fs might be enlightening.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1729518534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1729628246","html_url":"https://github.com/syncthing/syncthing/issues/9120#issuecomment-1729628246","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9120","id":1729628246,"node_id":"IC_kwDOAOCAEs5nGAhW","user":{"login":"zechnkaas","id":7140356,"node_id":"MDQ6VXNlcjcxNDAzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7140356?v=4","gravatar_id":"","url":"https://api.github.com/users/zechnkaas","html_url":"https://github.com/zechnkaas","followers_url":"https://api.github.com/users/zechnkaas/followers","following_url":"https://api.github.com/users/zechnkaas/following{/other_user}","gists_url":"https://api.github.com/users/zechnkaas/gists{/gist_id}","starred_url":"https://api.github.com/users/zechnkaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zechnkaas/subscriptions","organizations_url":"https://api.github.com/users/zechnkaas/orgs","repos_url":"https://api.github.com/users/zechnkaas/repos","events_url":"https://api.github.com/users/zechnkaas/events{/privacy}","received_events_url":"https://api.github.com/users/zechnkaas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-21T13:50:56Z","updated_at":"2023-09-21T14:05:00Z","body":"is this sufficient?\r\n\r\n```\r\n[QP7B2] 2023/09/21 15:43:58.970866 logfs.go:61: DEBUG: traversessymlink.go:51 basic D:\\SEC Lstat temp {0xc00efbd5e0} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.970866 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=1835008 s=131072\r\n[QP7B2] 2023/09/21 15:43:58.971379 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=2490368 s=131072 t=false\r\n[QP7B2] 2023/09/21 15:43:58.971390 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=2883584 s=131072 t=false\r\n[QP7B2] 2023/09/21 15:43:58.971390 logfs.go:61: DEBUG: model.go:1934 basic D:\\SEC Lstat temp\\somefile.csv {0xc00ee8d880} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.980749 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=1703936 s=131072\r\n[QP7B2] 2023/09/21 15:43:58.980749 logfs.go:61: DEBUG: model.go:1934 basic D:\\SEC Lstat temp\\somefile.csv {0xc00f22e540} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.980749 logfs.go:61: DEBUG: model.go:1934 basic D:\\SEC Lstat temp\\somefile.csv {0xc00f0d9e30} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.980749 logfs.go:61: DEBUG: model.go:1934 basic D:\\SEC Lstat temp\\somefile.csv {0xc00f22e460} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.981283 logfs.go:61: DEBUG: model.go:1934 basic D:\\SEC Lstat temp\\somefile.csv {0xc00f31c0e0} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.981283 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=2228224 s=131072\r\n[QP7B2] 2023/09/21 15:43:58.981283 logfs.go:61: DEBUG: traversessymlink.go:51 basic D:\\SEC Lstat temp {0xc00f0d9f10} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.981283 logfs.go:61: DEBUG: model.go:1934 basic D:\\SEC Lstat temp\\somefile.csv {0xc00f0f2620} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.981283 logfs.go:61: DEBUG: traversessymlink.go:51 basic D:\\SEC Lstat temp {0xc00f400f50} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.981283 logfs.go:61: DEBUG: model.go:1934 basic D:\\SEC Lstat temp\\somefile.csv {0xc00f400e00} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.981283 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=2359296 s=131072\r\n[QP7B2] 2023/09/21 15:43:58.981283 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=2621440 s=131072 t=false\r\n[QP7B2] 2023/09/21 15:43:58.981283 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=1441792 s=131072\r\n[QP7B2] 2023/09/21 15:43:58.981283 logfs.go:61: DEBUG: model.go:1934 basic D:\\SEC Lstat temp\\somefile.csv {0xc00ef65340} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.981283 logfs.go:61: DEBUG: model.go:1934 basic D:\\SEC Lstat temp\\somefile.csv {0xc00f401030} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.981819 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=2490368 s=131072\r\n[QP7B2] 2023/09/21 15:43:58.981819 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=1572864 s=131072\r\n[QP7B2] 2023/09/21 15:43:58.981819 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=1966080 s=131072\r\n[QP7B2] 2023/09/21 15:43:58.981819 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=2097152 s=131072\r\n[QP7B2] 2023/09/21 15:43:58.982994 logfs.go:61: DEBUG: traversessymlink.go:51 basic D:\\SEC Lstat temp {0xc00f2e0000} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.982994 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=2883584 s=131072\r\n[QP7B2] 2023/09/21 15:43:58.982994 logfs.go:61: DEBUG: model.go:1934 basic D:\\SEC Lstat temp\\somefile.csv {0xc00ef65490} <nil>\r\n[QP7B2] 2023/09/21 15:43:58.982994 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile.csv\" o=2621440 s=131072\r\n[QP7B2] 2023/09/21 15:43:59.109211 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile2.csv.csv\" o=8126464 s=131072 t=false\r\n[QP7B2] 2023/09/21 15:43:59.118763 logfs.go:61: DEBUG: traversessymlink.go:51 basic D:\\SEC Lstat temp {0xc00ef656c0} <nil>\r\n[QP7B2] 2023/09/21 15:43:59.118763 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile2.csv.csv\" o=8388608 s=131072 t=false\r\n[QP7B2] 2023/09/21 15:43:59.118763 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile2.csv.csv\" o=8257536 s=131072 t=false\r\n[QP7B2] 2023/09/21 15:43:59.118763 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile2.csv.csv\" o=8781824 s=131072 t=false\r\n[QP7B2] 2023/09/21 15:43:59.119306 logfs.go:61: DEBUG: traversessymlink.go:51 basic D:\\SEC Lstat temp {0xc00f4011f0} <nil>\r\n[QP7B2] 2023/09/21 15:43:59.119306 logfs.go:61: DEBUG: model.go:1934 basic D:\\SEC Lstat temp\\somefile2.csv.csv {0xc00ef657a0} <nil>\r\n[QP7B2] 2023/09/21 15:43:59.119306 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile2.csv.csv\" o=8126464 s=131072\r\n[QP7B2] 2023/09/21 15:43:59.119306 logfs.go:61: DEBUG: traversessymlink.go:51 basic D:\\SEC Lstat temp {0xc00f2e00e0} <nil>\r\n[QP7B2] 2023/09/21 15:43:59.119306 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile2.csv.csv\" o=8519680 s=131072 t=false\r\n[QP7B2] 2023/09/21 15:43:59.119306 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile2.csv.csv\" o=8912896 s=131072 t=false\r\n[QP7B2] 2023/09/21 15:43:59.119306 logfs.go:61: DEBUG: traversessymlink.go:51 basic D:\\SEC Lstat temp {0xc00f137c00} <nil>\r\n[QP7B2] 2023/09/21 15:43:59.119306 logfs.go:61: DEBUG: traversessymlink.go:51 basic D:\\SEC Lstat temp {0xc00f401420} <nil>\r\n[QP7B2] 2023/09/21 15:43:59.119815 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile2.csv.csv\" o=8650752 s=131072 t=false\r\n[QP7B2] 2023/09/21 15:43:59.119847 logfs.go:61: DEBUG: traversessymlink.go:51 basic D:\\SEC Lstat temp {0xc00f0f29a0} <nil>\r\n[QP7B2] 2023/09/21 15:43:59.119847 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile2.csv.csv\" o=9175040 s=131072 t=false\r\n[QP7B2] 2023/09/21 15:43:59.119847 logfs.go:61: DEBUG: traversessymlink.go:51 basic D:\\SEC Lstat temp {0xc00efbd6c0} <nil>\r\n[QP7B2] 2023/09/21 15:43:59.119847 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile2.csv.csv\" o=9043968 s=131072 t=false\r\n[QP7B2] 2023/09/21 15:43:59.119847 logfs.go:61: DEBUG: model.go:1934 basic D:\\SEC Lstat temp\\somefile2.csv.csv {0xc00ef658f0} <nil>\r\n[QP7B2] 2023/09/21 15:43:59.119847 model.go:1937: DEBUG: model@0xc000355040 REQ(in) failed stating file (<nil>): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile2.csv.csv\" o=8388608 s=131072\r\n[QP7B2] 2023/09/21 15:43:59.119847 model.go:1875: DEBUG: model@0xc000355040 REQ(in): 4IXYROE-A4TLOX2-L46XRLN-AJ266NV-KWLJ3OR-UMLZ3UV-RFRPV4P-G4NWBA7: \"cdkwq-5hfwx\" / \"temp\\\\somefile2.csv.csv\" o=9306112 s=131072 t=false\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1729628246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zechnkaas","id":7140356,"node_id":"MDQ6VXNlcjcxNDAzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7140356?v=4","gravatar_id":"","url":"https://api.github.com/users/zechnkaas","html_url":"https://github.com/zechnkaas","followers_url":"https://api.github.com/users/zechnkaas/followers","following_url":"https://api.github.com/users/zechnkaas/following{/other_user}","gists_url":"https://api.github.com/users/zechnkaas/gists{/gist_id}","starred_url":"https://api.github.com/users/zechnkaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zechnkaas/subscriptions","organizations_url":"https://api.github.com/users/zechnkaas/orgs","repos_url":"https://api.github.com/users/zechnkaas/repos","events_url":"https://api.github.com/users/zechnkaas/events{/privacy}","received_events_url":"https://api.github.com/users/zechnkaas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1729940793","html_url":"https://github.com/syncthing/syncthing/issues/9120#issuecomment-1729940793","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9120","id":1729940793,"node_id":"IC_kwDOAOCAEs5nHM05","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-21T16:44:40Z","updated_at":"2023-09-21T16:46:49Z","body":"Check before that log in model:\r\n\r\n> \tif info, err := folderFs.Lstat(name); err != nil || !info.IsRegular() {\r\n\r\nGiven the error is nil, it apparently thinks this is not a regular file. You did not change anything regarding ntfs/deduplication in parallel with this upgrade, right?\r\n\r\nI don't see anything directly related in go1.21 changelogs, but there seems to have been changes in `os` / `io/fs`, so maybe it's a regression.\r\n\r\nCan you check that file for any special attributes/types/whatever one can see if one inspects it with standard windows tools please.  \r\n(We should add the `LStat` result to the `/rest/debug/file` endpoint, would be handy for these cases.)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1729940793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1729963162","html_url":"https://github.com/syncthing/syncthing/issues/9120#issuecomment-1729963162","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9120","id":1729963162,"node_id":"IC_kwDOAOCAEs5nHSSa","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-21T16:58:08Z","updated_at":"2023-09-21T18:16:43Z","body":"This commit might well be related, as it deals with reparse points and so does ntfs deduplication:\r\n\r\nhttps://github.com/golang/go/commit/3e44b7d07a7b3c6233eb1bf4cf3cb00a0b85adec\r\nhttps://learn.microsoft.com/en-us/windows-server/storage/data-deduplication/understand\r\n\r\nThe commit message talks about symlinks and them being rare, seems like they weren't aware of the connection to ntfs deduplication (not that surprising). Posted to golang-nuts: https://groups.google.com/g/golang-nuts/c/YtBDdIgxazY","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1729963162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1729982360","html_url":"https://github.com/syncthing/syncthing/issues/9120#issuecomment-1729982360","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9120","id":1729982360,"node_id":"IC_kwDOAOCAEs5nHW-Y","user":{"login":"zechnkaas","id":7140356,"node_id":"MDQ6VXNlcjcxNDAzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7140356?v=4","gravatar_id":"","url":"https://api.github.com/users/zechnkaas","html_url":"https://github.com/zechnkaas","followers_url":"https://api.github.com/users/zechnkaas/followers","following_url":"https://api.github.com/users/zechnkaas/following{/other_user}","gists_url":"https://api.github.com/users/zechnkaas/gists{/gist_id}","starred_url":"https://api.github.com/users/zechnkaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zechnkaas/subscriptions","organizations_url":"https://api.github.com/users/zechnkaas/orgs","repos_url":"https://api.github.com/users/zechnkaas/repos","events_url":"https://api.github.com/users/zechnkaas/events{/privacy}","received_events_url":"https://api.github.com/users/zechnkaas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-21T17:10:50Z","updated_at":"2023-09-21T17:10:50Z","body":"No Special attributes but as far as I see for now, if the file is pulled before it is duplicated it is just working as expected.\nI will try to set up a testing server later. Then I will be able to provide you the full log. (I truncated the file as ~1500 files were missing)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1729982360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zechnkaas","id":7140356,"node_id":"MDQ6VXNlcjcxNDAzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7140356?v=4","gravatar_id":"","url":"https://api.github.com/users/zechnkaas","html_url":"https://github.com/zechnkaas","followers_url":"https://api.github.com/users/zechnkaas/followers","following_url":"https://api.github.com/users/zechnkaas/following{/other_user}","gists_url":"https://api.github.com/users/zechnkaas/gists{/gist_id}","starred_url":"https://api.github.com/users/zechnkaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zechnkaas/subscriptions","organizations_url":"https://api.github.com/users/zechnkaas/orgs","repos_url":"https://api.github.com/users/zechnkaas/repos","events_url":"https://api.github.com/users/zechnkaas/events{/privacy}","received_events_url":"https://api.github.com/users/zechnkaas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1729991726","html_url":"https://github.com/syncthing/syncthing/issues/9120#issuecomment-1729991726","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9120","id":1729991726,"node_id":"IC_kwDOAOCAEs5nHZQu","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-21T17:16:36Z","updated_at":"2023-09-21T17:16:36Z","body":"I mean if you can confirm that it works before dedupe, and not after, and that it worked with the previous version and not anymore now, then I think the case is pretty clear already together with the logs you already provided - thanks for that.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1729991726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1730152075","html_url":"https://github.com/syncthing/syncthing/issues/9120#issuecomment-1730152075","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9120","id":1730152075,"node_id":"IC_kwDOAOCAEs5nIAaL","user":{"login":"zechnkaas","id":7140356,"node_id":"MDQ6VXNlcjcxNDAzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7140356?v=4","gravatar_id":"","url":"https://api.github.com/users/zechnkaas","html_url":"https://github.com/zechnkaas","followers_url":"https://api.github.com/users/zechnkaas/followers","following_url":"https://api.github.com/users/zechnkaas/following{/other_user}","gists_url":"https://api.github.com/users/zechnkaas/gists{/gist_id}","starred_url":"https://api.github.com/users/zechnkaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zechnkaas/subscriptions","organizations_url":"https://api.github.com/users/zechnkaas/orgs","repos_url":"https://api.github.com/users/zechnkaas/repos","events_url":"https://api.github.com/users/zechnkaas/events{/privacy}","received_events_url":"https://api.github.com/users/zechnkaas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-21T19:11:47Z","updated_at":"2023-09-21T19:11:47Z","body":"Okay i have to correct myself, indexer seems also to have no access to deduped files\r\n\r\nHere the full log wiith a non deduped folder and a deduped folder:\r\n\r\n```\r\n2023/09/21 21:02:46.941480 filesystem_copy_range.go:26: DEBUG: Registering duplicate_extents copyRange method\r\n2023/09/21 21:02:46.942010 filesystem_copy_range.go:26: DEBUG: Registering all copyRange method\r\n2023/09/21 21:02:46.942010 filesystem_copy_range.go:26: DEBUG: Registering standard copyRange method\r\n2023/09/21 21:02:46.943603 logfs.go:73: DEBUG: utils.go:27 basic D:\\SyncThing2 MkdirAll . -rwx------ <nil>\r\n2023/09/21 21:02:46.943603 logfs.go:115: DEBUG: utils.go:32 basic D:\\SyncThing2 Stat . {0xc0002a3960} <nil>\r\n2023/09/21 21:02:46.943603 logfs.go:31: DEBUG: utils.go:38 basic D:\\SyncThing2 Chmod . -rwx------ <nil>\r\n[start] 2023/09/21 21:02:46.943603 main.go:544: INFO: syncthing v1.24.0 \"Fermium Flea\" (go1.21.0 windows-amd64) builder@github.syncthing.net 2023-08-23 10:28:48 UTC\r\n[SX4F4] 2023/09/21 21:02:47.218717 syncthing.go:154: INFO: My ID: SX4F4FC-5RVT46Q-QX67UGC-3XAS2NA-XIOY4ZO-XWUTV3W-NJX4AI3-MEUV4QD\r\n[SX4F4] 2023/09/21 21:02:48.120585 sha256.go:88: INFO: Single thread SHA256 performance is 376 MB/s using crypto/sha256 (375 MB/s using minio/sha256-simd).\r\n[SX4F4] 2023/09/21 21:02:48.584594 syncthing.go:186: INFO: Hashing performance is 322.58 MB/s\r\n[SX4F4] 2023/09/21 21:02:48.584753 progressemitter.go:228: DEBUG: progress emitter: updated interval 5s\r\n[SX4F4] 2023/09/21 21:02:48.584753 limiter.go:162: INFO: Overall send rate is unlimited, receive rate is unlimited\r\n[SX4F4] 2023/09/21 21:02:48.584753 relay_listen.go:57: INFO: Relay listener (dynamic+https://relays.syncthing.net/endpoint) starting\r\n[SX4F4] 2023/09/21 21:02:48.584753 manager.go:92: INFO: Using discovery mechanism: global discovery server https://discovery.syncthing.net/v2/?noannounce&id=LYXKCHX-VI3NYZR-ALCJBHF-WMZYSPK-QG6QJA3-MPFYMSO-U56GTUK-NA2MIAW\r\n[SX4F4] 2023/09/21 21:02:48.584753 manager.go:92: INFO: Using discovery mechanism: global discovery server https://discovery-v4.syncthing.net/v2/?nolookup&id=LYXKCHX-VI3NYZR-ALCJBHF-WMZYSPK-QG6QJA3-MPFYMSO-U56GTUK-NA2MIAW\r\n[SX4F4] 2023/09/21 21:02:48.584753 manager.go:92: INFO: Using discovery mechanism: global discovery server https://discovery-v6.syncthing.net/v2/?nolookup&id=LYXKCHX-VI3NYZR-ALCJBHF-WMZYSPK-QG6QJA3-MPFYMSO-U56GTUK-NA2MIAW\r\n[SX4F4] 2023/09/21 21:02:48.585276 manager.go:92: INFO: Using discovery mechanism: IPv4 local broadcast discovery on port 21027\r\n[SX4F4] 2023/09/21 21:02:48.585276 manager.go:92: INFO: Using discovery mechanism: IPv6 local multicast discovery on address [ff12::8384]:21027\r\n[SX4F4] 2023/09/21 21:02:48.585276 logfs.go:79: DEBUG: ignore.go:383 basic F:\\Deduped Open .stignore <nil> open \\\\?\\F:\\Deduped\\.stignore: The system cannot find the file specified.\r\n[SX4F4] 2023/09/21 21:02:48.585276 logfs.go:115: DEBUG: folderconfiguration.go:161 basic F:\\Deduped Stat . {0xc0000b4230} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.585276 logfs.go:115: DEBUG: folderconfiguration.go:120 basic F:\\Deduped Stat . {0xc0000b4310} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.585796 progressemitter.go:79: DEBUG: progress emitter: timer - looking after 0\r\n[SX4F4] 2023/09/21 21:02:48.585796 progressemitter.go:98: DEBUG: progress emitter: nothing new\r\n[SX4F4] 2023/09/21 21:02:48.586280 logfs.go:115: DEBUG: folderconfiguration.go:138 basic F:\\Deduped Stat .stfolder {0xc0000b43f0} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.586280 logfs.go:145: DEBUG: model.go:402 basic F:\\Deduped Hide .stfolder <nil>\r\n[SX4F4] 2023/09/21 21:02:48.586280 logfs.go:145: DEBUG: model.go:403 basic F:\\Deduped Hide .stversions The system cannot find the file specified.\r\n[SX4F4] 2023/09/21 21:02:48.586280 logfs.go:145: DEBUG: model.go:404 basic F:\\Deduped Hide .stignore The system cannot find the file specified.\r\n[SX4F4] 2023/09/21 21:02:48.586280 model.go:424: INFO: Ready to synchronize \"DedupData\" (6qfz6-aatus) (sendreceive)\r\n[SX4F4] 2023/09/21 21:02:48.586800 folder.go:153: DEBUG: sendreceive/6qfz6-aatus@0xc000182400 starting\r\n[SX4F4] 2023/09/21 21:02:48.586800 logfs.go:115: DEBUG: folderconfiguration.go:120 basic F:\\Deduped Stat . {0xc000226310} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.586800 logfs.go:115: DEBUG: folderconfiguration.go:138 basic F:\\Deduped Stat .stfolder {0xc0002263f0} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.586800 logfs.go:79: DEBUG: ignore.go:383 basic F:\\ControlData Open .stignore <nil> open \\\\?\\F:\\ControlData\\.stignore: The system cannot find the file specified.\r\n[SX4F4] 2023/09/21 21:02:48.586800 logfs.go:163: DEBUG: folder.go:338 basic D:\\SyncThing2\\index-v0.14.0.db Usage . {3482379812864 4000768262144} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.586800 logfs.go:79: DEBUG: ignore.go:383 basic F:\\Deduped Open .stignore <nil> open \\\\?\\F:\\Deduped\\.stignore: The system cannot find the file specified.\r\n[SX4F4] 2023/09/21 21:02:48.587326 folder.go:204: DEBUG: sendreceive/6qfz6-aatus@0xc000182400 Scanning due to timer\r\n[SX4F4] 2023/09/21 21:02:48.587326 folder.go:437: DEBUG: sendreceive/6qfz6-aatus@0xc000182400 scanning\r\n[SX4F4] 2023/09/21 21:02:48.587326 logfs.go:115: DEBUG: folderconfiguration.go:120 basic F:\\Deduped Stat . {0xc0002265b0} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.587326 logfs.go:115: DEBUG: folderconfiguration.go:138 basic F:\\Deduped Stat .stfolder {0xc000226690} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.587326 api.go:403: INFO: GUI and API listening on 127.0.0.1:8384\r\n[SX4F4] 2023/09/21 21:02:48.587326 api.go:404: INFO: Access the GUI via the following URL: http://127.0.0.1:8384/\r\n[SX4F4] 2023/09/21 21:02:48.587326 logfs.go:163: DEBUG: folder.go:338 basic D:\\SyncThing2\\index-v0.14.0.db Usage . {3482379812864 4000768262144} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.587326 syncthing.go:321: INFO: My name is \"TESTSERVER\"\r\n[SX4F4] 2023/09/21 21:02:48.587326 syncthing.go:324: INFO: Device IUUIKA4-EGUU3MX-DQT4LQA-QD75I5X-NH6OCRO-4U44TFK-WX7ZDBZ-6ZCC7QA is \"UPC\" at [dynamic]\r\n[SX4F4] 2023/09/21 21:02:48.587797 logfs.go:79: DEBUG: ignore.go:383 basic F:\\Deduped Open .stignore <nil> open \\\\?\\F:\\Deduped\\.stignore: The system cannot find the file specified.\r\n[SX4F4] 2023/09/21 21:02:48.587797 logfs.go:145: DEBUG: model.go:402 basic F:\\ControlData Hide .stfolder <nil>\r\n[SX4F4] 2023/09/21 21:02:48.587797 logfs.go:145: DEBUG: model.go:403 basic F:\\ControlData Hide .stversions The system cannot find the file specified.\r\n[SX4F4] 2023/09/21 21:02:48.587797 logfs.go:133: DEBUG: folder.go:1024 basic F:\\Deduped Watch . Matcher/[]@0xc0002b8090 false <nil>\r\n[SX4F4] 2023/09/21 21:02:48.587797 folder.go:1038: DEBUG: Started filesystem watcher for folder \"DedupData\" (6qfz6-aatus)\r\n[SX4F4] 2023/09/21 21:02:48.587797 logfs.go:145: DEBUG: model.go:404 basic F:\\ControlData Hide .stignore The system cannot find the file specified.\r\n[SX4F4] 2023/09/21 21:02:48.587797 logfs.go:151: DEBUG: main.go:881 basic D:\\SyncThing2 Glob panic-*.log [] <nil>\r\n[SX4F4] 2023/09/21 21:02:48.587797 model.go:424: INFO: Ready to synchronize \"ControlData\" (zzofn-dcjut) (sendreceive)\r\n[SX4F4] 2023/09/21 21:02:48.587797 folder.go:153: DEBUG: sendreceive/zzofn-dcjut@0xc001489000 starting\r\n[SX4F4] 2023/09/21 21:02:48.587797 logfs.go:115: DEBUG: folderconfiguration.go:120 basic F:\\ControlData Stat . {0xc0001970a0} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.587797 logfs.go:115: DEBUG: folderconfiguration.go:138 basic F:\\ControlData Stat .stfolder {0xc000197180} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.588308 logfs.go:163: DEBUG: folder.go:338 basic D:\\SyncThing2\\index-v0.14.0.db Usage . {3482379812864 4000768262144} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.591569 walkfs.go:84: DEBUG: walk: path=.\r\n[SX4F4] 2023/09/21 21:02:48.591569 logfs.go:151: DEBUG: main.go:881 basic D:\\SyncThing2 Glob index [] <nil>\r\n[SX4F4] 2023/09/21 21:02:48.591569 logfs.go:79: DEBUG: ignore.go:383 basic F:\\ControlData Open .stignore <nil> open \\\\?\\F:\\ControlData\\.stignore: The system cannot find the file specified.\r\n[SX4F4] 2023/09/21 21:02:48.591569 folder.go:204: DEBUG: sendreceive/zzofn-dcjut@0xc001489000 Scanning due to timer\r\n[SX4F4] 2023/09/21 21:02:48.591569 folder.go:437: DEBUG: sendreceive/zzofn-dcjut@0xc001489000 scanning\r\n[SX4F4] 2023/09/21 21:02:48.592107 walkfs.go:84: DEBUG: walk: path=.stfolder\r\n[SX4F4] 2023/09/21 21:02:48.592107 logfs.go:115: DEBUG: folderconfiguration.go:120 basic F:\\ControlData Stat . {0xc000197340} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592107 logfs.go:115: DEBUG: folderconfiguration.go:138 basic F:\\ControlData Stat .stfolder {0xc000197420} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592107 logfs.go:151: DEBUG: main.go:881 basic D:\\SyncThing2 Glob index*.converted [] <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592107 logfs.go:163: DEBUG: folder.go:338 basic D:\\SyncThing2\\index-v0.14.0.db Usage . {3482379812864 4000768262144} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592107 walkfs.go:84: DEBUG: walk: path=Test-1.txt\r\n[SX4F4] 2023/09/21 21:02:48.592107 logfs.go:151: DEBUG: main.go:881 basic D:\\SyncThing2 Glob config.xml.v* [config.xml.v0] <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592107 logfs.go:79: DEBUG: ignore.go:383 basic F:\\ControlData Open .stignore <nil> open \\\\?\\F:\\ControlData\\.stignore: The system cannot find the file specified.\r\n[SX4F4] 2023/09/21 21:02:48.592107 walkfs.go:84: DEBUG: walk: path=Test-10.txt\r\n[SX4F4] 2023/09/21 21:02:48.592107 logfs.go:133: DEBUG: folder.go:1024 basic F:\\ControlData Watch . Matcher/[]@0xc0000e85a0 false <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592107 folder.go:1038: DEBUG: Started filesystem watcher for folder \"ControlData\" (zzofn-dcjut)\r\n[SX4F4] 2023/09/21 21:02:48.592107 logfs.go:61: DEBUG: main.go:888 basic D:\\SyncThing2 Lstat config.xml.v0 {0xc000a9e3f0} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592638 walkfs.go:84: DEBUG: walk: path=Test-2.txt\r\n[SX4F4] 2023/09/21 21:02:48.592638 logfs.go:151: DEBUG: main.go:881 basic D:\\SyncThing2 Glob support-bundle-* [] <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592638 walkfs.go:84: DEBUG: walk: path=.\r\n[SX4F4] 2023/09/21 21:02:48.592638 logfs.go:151: DEBUG: main.go:881 basic D:\\SyncThing2 Glob tmp-index-sorter.* [] <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592638 walkfs.go:84: DEBUG: walk: path=Test-3.txt\r\n[SX4F4] 2023/09/21 21:02:48.592638 logfs.go:151: DEBUG: main.go:881 basic D:\\SyncThing2 Glob audit-*.log [] <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592638 walkfs.go:84: DEBUG: walk: path=.stfolder\r\n[SX4F4] 2023/09/21 21:02:48.592638 walkfs.go:84: DEBUG: walk: path=Test-1.txt\r\n[SX4F4] 2023/09/21 21:02:48.592638 walkfs.go:84: DEBUG: walk: path=Test-4.txt\r\n[SX4F4] 2023/09/21 21:02:48.592638 logfs.go:151: DEBUG: main.go:881 basic D:\\SyncThing2 Glob index-v0.11.0.db [] <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592638 logfs.go:151: DEBUG: main.go:881 basic D:\\SyncThing2 Glob index-v0.13.0.db [] <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592638 walkfs.go:84: DEBUG: walk: path=Test-5.txt\r\n[SX4F4] 2023/09/21 21:02:48.592638 logfs.go:151: DEBUG: main.go:881 basic D:\\SyncThing2 Glob *.idx.gz [] <nil>\r\n[SX4F4] 2023/09/21 21:02:48.592638 walkfs.go:84: DEBUG: walk: path=Test-10.txt\r\n[SX4F4] 2023/09/21 21:02:48.593173 logfs.go:151: DEBUG: main.go:881 basic D:\\SyncThing2 Glob backup-of-v0.8 [] <nil>\r\n[SX4F4] 2023/09/21 21:02:48.593173 walkfs.go:84: DEBUG: walk: path=Test-6.txt\r\n[SX4F4] 2023/09/21 21:02:48.593173 walkfs.go:84: DEBUG: walk: path=Test-2.txt\r\n[SX4F4] 2023/09/21 21:02:48.593173 walkfs.go:84: DEBUG: walk: path=Test-3.txt\r\n[SX4F4] 2023/09/21 21:02:48.593173 walkfs.go:84: DEBUG: walk: path=Test-7.txt\r\n[SX4F4] 2023/09/21 21:02:48.593173 walkfs.go:84: DEBUG: walk: path=Test-4.txt\r\n[SX4F4] 2023/09/21 21:02:48.593173 walkfs.go:84: DEBUG: walk: path=Test-5.txt\r\n[SX4F4] 2023/09/21 21:02:48.593173 walkfs.go:84: DEBUG: walk: path=Test-8.txt\r\n[SX4F4] 2023/09/21 21:02:48.608376 walkfs.go:84: DEBUG: walk: path=Test-6.txt\r\n[SX4F4] 2023/09/21 21:02:48.608916 quic_listen.go:123: INFO: QUIC listener ([::]:22000) starting\r\n[SX4F4] 2023/09/21 21:02:48.608916 tcp_listen.go:77: INFO: TCP listener ([::]:22000) starting\r\n[SX4F4] 2023/09/21 21:02:48.608916 walkfs.go:84: DEBUG: walk: path=Test-9.txt\r\n[SX4F4] 2023/09/21 21:02:48.608916 logfs.go:127: DEBUG: walk.go:235 basic F:\\Deduped Walk . 0x14a7020 <nil>\r\n[SX4F4] 2023/09/21 21:02:48.608916 walkfs.go:84: DEBUG: walk: path=Test-7.txt\r\n[SX4F4] 2023/09/21 21:02:48.608916 folder.go:506: DEBUG: sendreceive/6qfz6-aatus@0xc000182400 finished scanning, detected 0 changes\r\n[SX4F4] 2023/09/21 21:02:48.608916 walkfs.go:84: DEBUG: walk: path=Test-8.txt\r\n[SX4F4] 2023/09/21 21:02:48.608916 folder.go:925: INFO: Completed initial scan of sendreceive folder \"DedupData\" (6qfz6-aatus)\r\n[SX4F4] 2023/09/21 21:02:48.608916 folder.go:312: DEBUG: sendreceive/6qfz6-aatus@0xc000182400 next rescan in 1h9m55.054759709s\r\n[SX4F4] 2023/09/21 21:02:48.609442 walkfs.go:84: DEBUG: walk: path=Test-9.txt\r\n[SX4F4] 2023/09/21 21:02:48.609458 logfs.go:127: DEBUG: walk.go:235 basic F:\\ControlData Walk . 0x14a7020 <nil>\r\n[SX4F4] 2023/09/21 21:02:48.609458 logfs.go:61: DEBUG: osutil.go:134 basic F:\\ControlData Lstat Test-1.txt {0xc000142540} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.609458 logfs.go:61: DEBUG: osutil.go:134 basic F:\\ControlData Lstat Test-10.txt {0xc000142690} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.609458 logfs.go:61: DEBUG: osutil.go:134 basic F:\\ControlData Lstat Test-2.txt {0xc000142770} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.609458 logfs.go:61: DEBUG: osutil.go:134 basic F:\\ControlData Lstat Test-3.txt {0xc000142850} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.609458 logfs.go:61: DEBUG: osutil.go:134 basic F:\\ControlData Lstat Test-4.txt {0xc0001429a0} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.609458 logfs.go:61: DEBUG: osutil.go:134 basic F:\\ControlData Lstat Test-5.txt {0xc000142b60} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.609458 logfs.go:61: DEBUG: osutil.go:134 basic F:\\ControlData Lstat Test-6.txt {0xc000142cb0} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.609458 logfs.go:61: DEBUG: osutil.go:134 basic F:\\ControlData Lstat Test-7.txt {0xc000142d90} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.609989 logfs.go:61: DEBUG: osutil.go:134 basic F:\\ControlData Lstat Test-8.txt {0xc000142e70} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.609989 logfs.go:61: DEBUG: osutil.go:134 basic F:\\ControlData Lstat Test-9.txt {0xc000142f50} <nil>\r\n[SX4F4] 2023/09/21 21:02:48.609989 folder.go:506: DEBUG: sendreceive/zzofn-dcjut@0xc001489000 finished scanning, detected 0 changes\r\n[SX4F4] 2023/09/21 21:02:48.609989 folder.go:925: INFO: Completed initial scan of sendreceive folder \"ControlData\" (zzofn-dcjut)\r\n[SX4F4] 2023/09/21 21:02:48.609989 folder.go:312: DEBUG: sendreceive/zzofn-dcjut@0xc001489000 next rescan in 52m1.46765327s\r\n[SX4F4] 2023/09/21 21:02:48.825865 service.go:427: INFO: Established secure connection to IUUIKA4-EGUU3MX-DQT4LQA-QD75I5X-NH6OCRO-4U44TFK-WX7ZDBZ-6ZCC7QA at 192.168.10.4:22000-192.168.10.30:22000/tcp-client/TLS1.3-TLS_AES_128_GCM_SHA256/LAN-P10\r\n[SX4F4] 2023/09/21 21:02:48.825865 indexhandler.go:448: DEBUG: Removing index handler for device IUUIKA4 and folder 6qfz6-aatus\r\n[SX4F4] 2023/09/21 21:02:48.825865 indexhandler.go:451: DEBUG: Removed index handler for device IUUIKA4 and folder 6qfz6-aatus\r\n[SX4F4] 2023/09/21 21:02:48.825865 indexhandler.go:448: DEBUG: Removing index handler for device IUUIKA4 and folder zzofn-dcjut\r\n[SX4F4] 2023/09/21 21:02:48.825865 indexhandler.go:451: DEBUG: Removed index handler for device IUUIKA4 and folder zzofn-dcjut\r\n[SX4F4] 2023/09/21 21:02:48.826374 model.go:2286: INFO: Device IUUIKA4-EGUU3MX-DQT4LQA-QD75I5X-NH6OCRO-4U44TFK-WX7ZDBZ-6ZCC7QA client is \"syncthing v1.24.0\" named \"UPC\" at 192.168.10.4:22000-192.168.10.30:22000/tcp-client/TLS1.3-TLS_AES_128_GCM_SHA256/LAN-P10\r\n[SX4F4] 2023/09/21 21:02:48.826935 model.go:1171: DEBUG: Handling ClusterConfig from IUUIKA4\r\n[SX4F4] 2023/09/21 21:02:49.316505 progressemitter.go:285: DEBUG: progress emitter: bytes completed for 6qfz6-aatus: 0\r\n[SX4F4] 2023/09/21 21:02:49.316505 model.go:929: DEBUG: model@0xc00020bd40 Completion(7777777-777777N-7777777-777777N-7777777-777777N-7777777-77777Q4, \"6qfz6-aatus\"): map[completion:100 globalBytes:0 globalItems:0 needBytes:0 needDeletes:0 needItems:0 remoteState:unknown sequence:0]\r\n[SX4F4] 2023/09/21 21:02:49.317560 progressemitter.go:285: DEBUG: progress emitter: bytes completed for zzofn-dcjut: 0\r\n[SX4F4] 2023/09/21 21:02:49.318622 model.go:929: DEBUG: model@0xc00020bd40 Completion(7777777-777777N-7777777-777777N-7777777-777777N-7777777-77777Q4, \"zzofn-dcjut\"): map[completion:100 globalBytes:104857600 globalItems:10 needBytes:0 needDeletes:0 needItems:0 remoteState:unknown sequence:10]\r\n[SX4F4] 2023/09/21 21:02:49.962510 progressemitter.go:285: DEBUG: progress emitter: bytes completed for 6qfz6-aatus: 0\r\n[SX4F4] 2023/09/21 21:02:49.963058 progressemitter.go:285: DEBUG: progress emitter: bytes completed for zzofn-dcjut: 0\r\n[SX4F4] 2023/09/21 21:02:52.645308 service.go:277: INFO: Connection from IUUIKA4-EGUU3MX-DQT4LQA-QD75I5X-NH6OCRO-4U44TFK-WX7ZDBZ-6ZCC7QA at 192.168.10.30:22000 (quic-server) rejected: already connected to this device\r\n[SX4F4] 2023/09/21 21:02:58.444916 quic_listen.go:58: INFO: quic://0.0.0.0:22000 detected NAT type: Symmetric NAT\r\n[SX4F4] 2023/09/21 21:02:58.882685 service.go:103: INFO: Detected 0 NAT services\r\n[SX4F4] 2023/09/21 21:03:17.753594 service.go:371: INFO: Failed to exchange Hello messages with IUUIKA4-EGUU3MX-DQT4LQA-QD75I5X-NH6OCRO-4U44TFK-WX7ZDBZ-6ZCC7QA at 192.168.10.4:22000-192.168.10.30:59109/tcp-server/TLS1.3-TLS_AES_128_GCM_SHA256/LAN-P10: write tcp 192.168.10.4:22000->192.168.10.30:59109: wsasend: An existing connection was forcibly closed by the remote host.\r\n[SX4F4] 2023/09/21 21:03:19.999186 progressemitter.go:75: DEBUG: progress emitter: stopping\r\n[SX4F4] 2023/09/21 21:03:19.999186 folder.go:182: DEBUG: sendreceive/zzofn-dcjut@0xc001489000 exiting\r\n[SX4F4] 2023/09/21 21:03:19.999186 basicfs_watch.go:112: DEBUG: basic F:\\ControlData Watch: Stopped\r\n[SX4F4] 2023/09/21 21:03:19.999186 basicfs_watch.go:112: DEBUG: basic F:\\Deduped Watch: Stopped\r\n[SX4F4] 2023/09/21 21:03:19.999186 quic_listen.go:147: INFO: QUIC listener ([::]:22000) shutting down\r\n[SX4F4] 2023/09/21 21:03:19.999186 folder.go:182: DEBUG: sendreceive/6qfz6-aatus@0xc000182400 exiting\r\n[SX4F4] 2023/09/21 21:03:20.003467 relay_listen.go:65: INFO: Relay listener (dynamic+https://relays.syncthing.net/endpoint) shutting down\r\n[SX4F4] 2023/09/21 21:03:20.003467 model.go:1802: INFO: Connection to IUUIKA4-EGUU3MX-DQT4LQA-QD75I5X-NH6OCRO-4U44TFK-WX7ZDBZ-6ZCC7QA at 192.168.10.4:22000-192.168.10.30:22000/tcp-client/TLS1.3-TLS_AES_128_GCM_SHA256/LAN-P10 closed: Syncthing is being stopped\r\n[SX4F4] 2023/09/21 21:03:20.755833 tcp_listen.go:112: INFO: TCP listener ([::]:22000) shutting down\r\n[SX4F4] 2023/09/21 21:03:20.756388 syncthing.go:360: INFO: Exiting\r\n\r\n```\r\n\r\nAlso if you have the posibility to try yourself. the script below creates a virtual disk, formats it, enables dedup, creates Testdata in 2 folders, one will be deduped one not. Windows Server needed (>= 2016) and the dedup feature added\r\n\r\n```\r\n$VHD   = New-VHD -Path D:\\DedupTest.vhdx -SizeBytes 1GB\r\n$mount = $VHD | Mount-VHD -Passthru\r\n$mount | Initialize-Disk -PartitionStyle GPT\r\n$part  = New-Partition -DiskNumber $mount.DiskNumber -UseMaximumSize -AssignDriveLetter\r\n$Vol   = $part | Format-Volume -FileSystem NTFS -NewFileSystemLabel \"TestDedup\"\r\nEnable-DedupVolume -Volume ($part.DriveLetter + \":\") -UsageType Default\r\nNew-Item -Path ($part.DriveLetter + \":\\ControlData\") -ItemType Directory | Out-Null\r\nSet-DedupVolume -Volume ($part.DriveLetter + \":\") -MinimumFileAgeDays 0 -ExcludeFolder ($part.DriveLetter + \":\\ControlData\")\r\n$count = 0\r\ndo{\r\n$count++\r\n    $out = New-Object byte[] 10MB; \r\n    (New-Object Random).NextBytes($out); \r\n    [IO.File]::WriteAllBytes(($part.DriveLetter + \":\\ControlData\\Test-$count.txt\"), $out)\r\n}until($count -eq 10)\r\nCopy-Item ($part.DriveLetter + \":\\ControlData\") -Destination ($part.DriveLetter + \":\\Deduped\\\") -Recurse\r\nStart-DedupJob -Volume ($part.DriveLetter + \":\") -Priority High -Type Optimization\r\ndo{Start-Sleep -Seconds 1}until($null -eq (Get-DedupJob))\r\nGet-DedupStatus\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1730152075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zechnkaas","id":7140356,"node_id":"MDQ6VXNlcjcxNDAzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7140356?v=4","gravatar_id":"","url":"https://api.github.com/users/zechnkaas","html_url":"https://github.com/zechnkaas","followers_url":"https://api.github.com/users/zechnkaas/followers","following_url":"https://api.github.com/users/zechnkaas/following{/other_user}","gists_url":"https://api.github.com/users/zechnkaas/gists{/gist_id}","starred_url":"https://api.github.com/users/zechnkaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zechnkaas/subscriptions","organizations_url":"https://api.github.com/users/zechnkaas/orgs","repos_url":"https://api.github.com/users/zechnkaas/repos","events_url":"https://api.github.com/users/zechnkaas/events{/privacy}","received_events_url":"https://api.github.com/users/zechnkaas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10573729527,"node_id":"UNLE_lADOAOCAEs5xqMy2zwAAAAJ2Pk73","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10573729527","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2023-10-06T11:06:25Z","label":{"name":"needs-triage","color":"ce23af"},"performed_via_github_app":null},{"id":10573733844,"node_id":"RTE_lADOAOCAEs5xqMy2zwAAAAJ2Pl_U","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10573733844","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2023-10-06T11:06:58Z","rename":{"from":"files will not poll on deduped volumes with V1.24.0","to":"Deduplicated files on Windows aren't treated as regular files any more (Go 1.21)"},"performed_via_github_app":null},{"actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-06T21:09:28Z","updated_at":"2023-10-06T21:09:28Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/golang/go/issues/63429","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/63429/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/63429/comments","events_url":"https://api.github.com/repos/golang/go/issues/63429/events","html_url":"https://github.com/golang/go/issues/63429","id":1930936302,"node_id":"I_kwDOAWBuf85zF7_u","number":63429,"title":"os: NTFS deduped file changed from regular to irregular","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":199753992,"node_id":"MDU6TGFiZWwxOTk3NTM5OTI=","url":"https://api.github.com/repos/golang/go/labels/OS-Windows","name":"OS-Windows","color":"ededed","default":false,"description":null},{"id":373399998,"node_id":"MDU6TGFiZWwzNzMzOTk5OTg=","url":"https://api.github.com/repos/golang/go/labels/NeedsFix","name":"NeedsFix","color":"ededed","default":false,"description":"The path to resolution is known, but the work has not been done."},{"id":398069301,"node_id":"MDU6TGFiZWwzOTgwNjkzMDE=","url":"https://api.github.com/repos/golang/go/labels/FrozenDueToAge","name":"FrozenDueToAge","color":"1d76db","default":false,"description":null}],"state":"closed","locked":true,"assignee":{"login":"bcmills","id":5200974,"node_id":"MDQ6VXNlcjUyMDA5NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5200974?v=4","gravatar_id":"","url":"https://api.github.com/users/bcmills","html_url":"https://github.com/bcmills","followers_url":"https://api.github.com/users/bcmills/followers","following_url":"https://api.github.com/users/bcmills/following{/other_user}","gists_url":"https://api.github.com/users/bcmills/gists{/gist_id}","starred_url":"https://api.github.com/users/bcmills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcmills/subscriptions","organizations_url":"https://api.github.com/users/bcmills/orgs","repos_url":"https://api.github.com/users/bcmills/repos","events_url":"https://api.github.com/users/bcmills/events{/privacy}","received_events_url":"https://api.github.com/users/bcmills/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"bcmills","id":5200974,"node_id":"MDQ6VXNlcjUyMDA5NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5200974?v=4","gravatar_id":"","url":"https://api.github.com/users/bcmills","html_url":"https://github.com/bcmills","followers_url":"https://api.github.com/users/bcmills/followers","following_url":"https://api.github.com/users/bcmills/following{/other_user}","gists_url":"https://api.github.com/users/bcmills/gists{/gist_id}","starred_url":"https://api.github.com/users/bcmills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcmills/subscriptions","organizations_url":"https://api.github.com/users/bcmills/orgs","repos_url":"https://api.github.com/users/bcmills/repos","events_url":"https://api.github.com/users/bcmills/events{/privacy}","received_events_url":"https://api.github.com/users/bcmills/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/298","html_url":"https://github.com/golang/go/milestone/298","labels_url":"https://api.github.com/repos/golang/go/milestones/298/labels","id":8868146,"node_id":"MI_kwDOAWBuf84Ah1Ey","number":298,"title":"Go1.22","description":null,"creator":{"login":"cherrymui","id":14119929,"node_id":"MDQ6VXNlcjE0MTE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/14119929?v=4","gravatar_id":"","url":"https://api.github.com/users/cherrymui","html_url":"https://github.com/cherrymui","followers_url":"https://api.github.com/users/cherrymui/followers","following_url":"https://api.github.com/users/cherrymui/following{/other_user}","gists_url":"https://api.github.com/users/cherrymui/gists{/gist_id}","starred_url":"https://api.github.com/users/cherrymui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cherrymui/subscriptions","organizations_url":"https://api.github.com/users/cherrymui/orgs","repos_url":"https://api.github.com/users/cherrymui/repos","events_url":"https://api.github.com/users/cherrymui/events{/privacy}","received_events_url":"https://api.github.com/users/cherrymui/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":401,"state":"closed","created_at":"2023-01-17T19:58:40Z","updated_at":"2025-08-12T00:03:30Z","due_on":null,"closed_at":"2024-02-06T22:29:15Z"},"comments":15,"created_at":"2023-10-06T21:09:27Z","updated_at":"2025-02-18T15:45:26Z","closed_at":"2023-11-01T19:02:11Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":23096959,"node_id":"MDEwOlJlcG9zaXRvcnkyMzA5Njk1OQ==","name":"go","full_name":"golang/go","private":false,"owner":{"login":"golang","id":4314092,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzMTQwOTI=","avatar_url":"https://avatars.githubusercontent.com/u/4314092?v=4","gravatar_id":"","url":"https://api.github.com/users/golang","html_url":"https://github.com/golang","followers_url":"https://api.github.com/users/golang/followers","following_url":"https://api.github.com/users/golang/following{/other_user}","gists_url":"https://api.github.com/users/golang/gists{/gist_id}","starred_url":"https://api.github.com/users/golang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/golang/subscriptions","organizations_url":"https://api.github.com/users/golang/orgs","repos_url":"https://api.github.com/users/golang/repos","events_url":"https://api.github.com/users/golang/events{/privacy}","received_events_url":"https://api.github.com/users/golang/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/golang/go","description":"The Go programming language","fork":false,"url":"https://api.github.com/repos/golang/go","forks_url":"https://api.github.com/repos/golang/go/forks","keys_url":"https://api.github.com/repos/golang/go/keys{/key_id}","collaborators_url":"https://api.github.com/repos/golang/go/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/golang/go/teams","hooks_url":"https://api.github.com/repos/golang/go/hooks","issue_events_url":"https://api.github.com/repos/golang/go/issues/events{/number}","events_url":"https://api.github.com/repos/golang/go/events","assignees_url":"https://api.github.com/repos/golang/go/assignees{/user}","branches_url":"https://api.github.com/repos/golang/go/branches{/branch}","tags_url":"https://api.github.com/repos/golang/go/tags","blobs_url":"https://api.github.com/repos/golang/go/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/golang/go/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/golang/go/git/refs{/sha}","trees_url":"https://api.github.com/repos/golang/go/git/trees{/sha}","statuses_url":"https://api.github.com/repos/golang/go/statuses/{sha}","languages_url":"https://api.github.com/repos/golang/go/languages","stargazers_url":"https://api.github.com/repos/golang/go/stargazers","contributors_url":"https://api.github.com/repos/golang/go/contributors","subscribers_url":"https://api.github.com/repos/golang/go/subscribers","subscription_url":"https://api.github.com/repos/golang/go/subscription","commits_url":"https://api.github.com/repos/golang/go/commits{/sha}","git_commits_url":"https://api.github.com/repos/golang/go/git/commits{/sha}","comments_url":"https://api.github.com/repos/golang/go/comments{/number}","issue_comment_url":"https://api.github.com/repos/golang/go/issues/comments{/number}","contents_url":"https://api.github.com/repos/golang/go/contents/{+path}","compare_url":"https://api.github.com/repos/golang/go/compare/{base}...{head}","merges_url":"https://api.github.com/repos/golang/go/merges","archive_url":"https://api.github.com/repos/golang/go/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/golang/go/downloads","issues_url":"https://api.github.com/repos/golang/go/issues{/number}","pulls_url":"https://api.github.com/repos/golang/go/pulls{/number}","milestones_url":"https://api.github.com/repos/golang/go/milestones{/number}","notifications_url":"https://api.github.com/repos/golang/go/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/golang/go/labels{/name}","releases_url":"https://api.github.com/repos/golang/go/releases{/id}","deployments_url":"https://api.github.com/repos/golang/go/deployments","created_at":"2014-08-19T04:33:40Z","updated_at":"2025-11-09T20:18:50Z","pushed_at":"2025-11-08T12:26:57Z","git_url":"git://github.com/golang/go.git","ssh_url":"git@github.com:golang/go.git","clone_url":"https://github.com/golang/go.git","svn_url":"https://github.com/golang/go","homepage":"https://go.dev","size":416665,"stargazers_count":130762,"watchers_count":130762,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":18450,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":9590,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","golang","language","programming-language"],"visibility":"public","forks":18450,"open_issues":9590,"watchers":130762,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"This issue is a followup to a golang-nuts discussion: https://groups.google.com/g/golang-nuts/c/YtBDdIgxazY/m/-X1Gc0xWBwAJ\r\n@qmuntal asked me to file an issue there.\r\n\r\n### What version of Go are you using (`go version`)?\r\n\r\n<pre>\r\n$ go version\r\ngo version go1.21.1 windows/amd64\r\n</pre>\r\n\r\n### Does this issue reproduce with the latest release?\r\n\r\nI didn't try, but given the underlying issue (see below) it's unlikely to have changed - I don't have a system to repro.\r\n\r\n### What operating system and processor architecture are you using (`go env`)?\r\n\r\nSame here, not my system where the repro happened: A windows system with an ntfs filesystem with deduplication is needed\r\n\r\n### What did you do?\r\n\r\n1. Create a file on an ntfs filesystem with deduplication, copy it and wait for deduplication to happen.\r\n2. Run `os.Lstat` on the deduplicated file.\r\n\r\n### What did you expect to see?\r\n\r\nIn go <=1.20 the result of `os.Lstat` gave `.IsRegular() == true`, which is expected.\r\n\r\n### What did you see instead?\r\n\r\nIn go1.21 it's false and it's considered a symlink.\r\n\r\nThis broke syncing of those files in syncthing, where this issue was originally reported: https://github.com/syncthing/syncthing/issues/9120\r\n\r\nQuoting @qmuntal from golang-nuts:\r\n\r\n> Having said this, I've done a quick web search looking what other frameworks and applications do with IO_REPARSE_TAG_DEDUP, and the quorum seems to be that it can be treated as a regular file, Windows handles it transparently without user intervention.\r\n> For example, boost recently started treating it as a regular file: [Treat dedup files as regular files on Windows.  boostorg/filesystem@141727b (github.com)](https://github.com/boostorg/filesystem/commit/141727b568fad2fecb77b2233a407cf4c00638b8).\r\n> \r\n> Please file an issue proposing to special-case IO_REPARSE_TAG_DEDUP as a regular file. We can continue the discussion there. Meanwhile, or if the proposal is not approved, you can still manually get the reparse tag for all non-regular files (e.g. [src/os/types_windows.go#L51-L62](https://github.com/golang/go/blob/795414d1c628f763defa43199ab51ea3dc3241d8/src/os/types_windows.go#L51-L62)), and special case whatever reparse tags you need.\r\n\r\nAlso given go <=1.20 already had the desired behaviour (deduped file was considered regular), I'd personally consider this a regression and would appreciated if a fix could be backported to go1.21.","reactions":{"url":"https://api.github.com/repos/golang/go/issues/63429/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/golang/go/issues/63429/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":10617147535,"node_id":"REFE_lADOAOCAEs5xqMy2zwAAAAJ41NCP","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10617147535","actor":{"login":"er-pa","id":43787840,"node_id":"MDQ6VXNlcjQzNzg3ODQw","avatar_url":"https://avatars.githubusercontent.com/u/43787840?v=4","gravatar_id":"","url":"https://api.github.com/users/er-pa","html_url":"https://github.com/er-pa","followers_url":"https://api.github.com/users/er-pa/followers","following_url":"https://api.github.com/users/er-pa/following{/other_user}","gists_url":"https://api.github.com/users/er-pa/gists{/gist_id}","starred_url":"https://api.github.com/users/er-pa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/er-pa/subscriptions","organizations_url":"https://api.github.com/users/er-pa/orgs","repos_url":"https://api.github.com/users/er-pa/repos","events_url":"https://api.github.com/users/er-pa/events{/privacy}","received_events_url":"https://api.github.com/users/er-pa/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c5526257d3eb926f9ba9c54c8e0083e4635b248d","commit_url":"https://api.github.com/repos/er-pa/syncthing/commits/c5526257d3eb926f9ba9c54c8e0083e4635b248d","created_at":"2023-10-11T11:16:49Z","performed_via_github_app":null},{"id":10618181099,"node_id":"CE_lADOAOCAEs5xqMy2zwAAAAJ45JXr","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10618181099","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"9553365d31b0d0c14f0d59cee14ec2b24fa7c8ba","commit_url":"https://api.github.com/repos/syncthing/syncthing/commits/9553365d31b0d0c14f0d59cee14ec2b24fa7c8ba","created_at":"2023-10-11T12:40:59Z","state_reason":null,"performed_via_github_app":null},{"id":10628895877,"node_id":"MIE_lADOAOCAEs5xqMy2zwAAAAJ5iBSF","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10628895877","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-10-12T09:00:26Z","milestone":{"title":"v1.26.0"},"performed_via_github_app":null},{"id":10652833748,"node_id":"REFE_lADOAOCAEs5xqMy2zwAAAAJ69VfU","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10652833748","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"afaa98a2c725a17a8b6dc6bc489dc9443054b011","commit_url":"https://api.github.com/repos/syncthing/syncthing/commits/afaa98a2c725a17a8b6dc6bc489dc9443054b011","created_at":"2023-10-14T10:10:16Z","performed_via_github_app":null},{"id":10657474468,"node_id":"REFE_lADOAOCAEs5xqMy2zwAAAAJ7PCek","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10657474468","actor":{"login":"claraphyll","id":22559310,"node_id":"MDQ6VXNlcjIyNTU5MzEw","avatar_url":"https://avatars.githubusercontent.com/u/22559310?v=4","gravatar_id":"","url":"https://api.github.com/users/claraphyll","html_url":"https://github.com/claraphyll","followers_url":"https://api.github.com/users/claraphyll/followers","following_url":"https://api.github.com/users/claraphyll/following{/other_user}","gists_url":"https://api.github.com/users/claraphyll/gists{/gist_id}","starred_url":"https://api.github.com/users/claraphyll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/claraphyll/subscriptions","organizations_url":"https://api.github.com/users/claraphyll/orgs","repos_url":"https://api.github.com/users/claraphyll/repos","events_url":"https://api.github.com/users/claraphyll/events{/privacy}","received_events_url":"https://api.github.com/users/claraphyll/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"917698d8c7950f5b115e8efcfa9d98dff588908a","commit_url":"https://api.github.com/repos/claraphyll/syncthing/commits/917698d8c7950f5b115e8efcfa9d98dff588908a","created_at":"2023-10-15T11:29:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1773898271","html_url":"https://github.com/syncthing/syncthing/issues/9120#issuecomment-1773898271","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9120","id":1773898271,"node_id":"IC_kwDOAOCAEs5pu4of","user":{"login":"zechnkaas","id":7140356,"node_id":"MDQ6VXNlcjcxNDAzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7140356?v=4","gravatar_id":"","url":"https://api.github.com/users/zechnkaas","html_url":"https://github.com/zechnkaas","followers_url":"https://api.github.com/users/zechnkaas/followers","following_url":"https://api.github.com/users/zechnkaas/following{/other_user}","gists_url":"https://api.github.com/users/zechnkaas/gists{/gist_id}","starred_url":"https://api.github.com/users/zechnkaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zechnkaas/subscriptions","organizations_url":"https://api.github.com/users/zechnkaas/orgs","repos_url":"https://api.github.com/users/zechnkaas/repos","events_url":"https://api.github.com/users/zechnkaas/events{/privacy}","received_events_url":"https://api.github.com/users/zechnkaas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-21T19:14:15Z","updated_at":"2023-10-21T19:14:15Z","body":"Thank you, seems eveything is working as expected rc1!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1773898271/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zechnkaas","id":7140356,"node_id":"MDQ6VXNlcjcxNDAzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7140356?v=4","gravatar_id":"","url":"https://api.github.com/users/zechnkaas","html_url":"https://github.com/zechnkaas","followers_url":"https://api.github.com/users/zechnkaas/followers","following_url":"https://api.github.com/users/zechnkaas/following{/other_user}","gists_url":"https://api.github.com/users/zechnkaas/gists{/gist_id}","starred_url":"https://api.github.com/users/zechnkaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zechnkaas/subscriptions","organizations_url":"https://api.github.com/users/zechnkaas/orgs","repos_url":"https://api.github.com/users/zechnkaas/repos","events_url":"https://api.github.com/users/zechnkaas/events{/privacy}","received_events_url":"https://api.github.com/users/zechnkaas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"jirijanata","id":14040091,"node_id":"MDQ6VXNlcjE0MDQwMDkx","avatar_url":"https://avatars.githubusercontent.com/u/14040091?v=4","gravatar_id":"","url":"https://api.github.com/users/jirijanata","html_url":"https://github.com/jirijanata","followers_url":"https://api.github.com/users/jirijanata/followers","following_url":"https://api.github.com/users/jirijanata/following{/other_user}","gists_url":"https://api.github.com/users/jirijanata/gists{/gist_id}","starred_url":"https://api.github.com/users/jirijanata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jirijanata/subscriptions","organizations_url":"https://api.github.com/users/jirijanata/orgs","repos_url":"https://api.github.com/users/jirijanata/repos","events_url":"https://api.github.com/users/jirijanata/events{/privacy}","received_events_url":"https://api.github.com/users/jirijanata/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-27T03:33:03Z","updated_at":"2023-11-27T03:33:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/restic/restic/issues/4574","repository_url":"https://api.github.com/repos/restic/restic","labels_url":"https://api.github.com/repos/restic/restic/issues/4574/labels{/name}","comments_url":"https://api.github.com/repos/restic/restic/issues/4574/comments","events_url":"https://api.github.com/repos/restic/restic/issues/4574/events","html_url":"https://github.com/restic/restic/issues/4574","id":2011419285,"node_id":"I_kwDOASUPCM5349KV","number":4574,"title":"Deduplicated files on Windows cannot be backed up - Go Version Problem","user":{"login":"jirijanata","id":14040091,"node_id":"MDQ6VXNlcjE0MDQwMDkx","avatar_url":"https://avatars.githubusercontent.com/u/14040091?v=4","gravatar_id":"","url":"https://api.github.com/users/jirijanata","html_url":"https://github.com/jirijanata","followers_url":"https://api.github.com/users/jirijanata/followers","following_url":"https://api.github.com/users/jirijanata/following{/other_user}","gists_url":"https://api.github.com/users/jirijanata/gists{/gist_id}","starred_url":"https://api.github.com/users/jirijanata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jirijanata/subscriptions","organizations_url":"https://api.github.com/users/jirijanata/orgs","repos_url":"https://api.github.com/users/jirijanata/repos","events_url":"https://api.github.com/users/jirijanata/events{/privacy}","received_events_url":"https://api.github.com/users/jirijanata/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":95485885,"node_id":"MDU6TGFiZWw5NTQ4NTg4NQ==","url":"https://api.github.com/repos/restic/restic/labels/type:%20bug","name":"type: bug","color":"ee0000","default":false,"description":""},{"id":148214858,"node_id":"MDU6TGFiZWwxNDgyMTQ4NTg=","url":"https://api.github.com/repos/restic/restic/labels/category:%20backup","name":"category: backup","color":"d4c5f9","default":false,"description":""},{"id":281195111,"node_id":"MDU6TGFiZWwyODExOTUxMTE=","url":"https://api.github.com/repos/restic/restic/labels/platform:%20windows","name":"platform: windows","color":"008000","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-11-27T03:33:03Z","updated_at":"2024-01-07T09:44:52Z","closed_at":"2024-01-07T09:44:52Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":19205896,"node_id":"MDEwOlJlcG9zaXRvcnkxOTIwNTg5Ng==","name":"restic","full_name":"restic/restic","private":false,"owner":{"login":"restic","id":10073512,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEwMDczNTEy","avatar_url":"https://avatars.githubusercontent.com/u/10073512?v=4","gravatar_id":"","url":"https://api.github.com/users/restic","html_url":"https://github.com/restic","followers_url":"https://api.github.com/users/restic/followers","following_url":"https://api.github.com/users/restic/following{/other_user}","gists_url":"https://api.github.com/users/restic/gists{/gist_id}","starred_url":"https://api.github.com/users/restic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/restic/subscriptions","organizations_url":"https://api.github.com/users/restic/orgs","repos_url":"https://api.github.com/users/restic/repos","events_url":"https://api.github.com/users/restic/events{/privacy}","received_events_url":"https://api.github.com/users/restic/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/restic/restic","description":"Fast, secure, efficient backup program","fork":false,"url":"https://api.github.com/repos/restic/restic","forks_url":"https://api.github.com/repos/restic/restic/forks","keys_url":"https://api.github.com/repos/restic/restic/keys{/key_id}","collaborators_url":"https://api.github.com/repos/restic/restic/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/restic/restic/teams","hooks_url":"https://api.github.com/repos/restic/restic/hooks","issue_events_url":"https://api.github.com/repos/restic/restic/issues/events{/number}","events_url":"https://api.github.com/repos/restic/restic/events","assignees_url":"https://api.github.com/repos/restic/restic/assignees{/user}","branches_url":"https://api.github.com/repos/restic/restic/branches{/branch}","tags_url":"https://api.github.com/repos/restic/restic/tags","blobs_url":"https://api.github.com/repos/restic/restic/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/restic/restic/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/restic/restic/git/refs{/sha}","trees_url":"https://api.github.com/repos/restic/restic/git/trees{/sha}","statuses_url":"https://api.github.com/repos/restic/restic/statuses/{sha}","languages_url":"https://api.github.com/repos/restic/restic/languages","stargazers_url":"https://api.github.com/repos/restic/restic/stargazers","contributors_url":"https://api.github.com/repos/restic/restic/contributors","subscribers_url":"https://api.github.com/repos/restic/restic/subscribers","subscription_url":"https://api.github.com/repos/restic/restic/subscription","commits_url":"https://api.github.com/repos/restic/restic/commits{/sha}","git_commits_url":"https://api.github.com/repos/restic/restic/git/commits{/sha}","comments_url":"https://api.github.com/repos/restic/restic/comments{/number}","issue_comment_url":"https://api.github.com/repos/restic/restic/issues/comments{/number}","contents_url":"https://api.github.com/repos/restic/restic/contents/{+path}","compare_url":"https://api.github.com/repos/restic/restic/compare/{base}...{head}","merges_url":"https://api.github.com/repos/restic/restic/merges","archive_url":"https://api.github.com/repos/restic/restic/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/restic/restic/downloads","issues_url":"https://api.github.com/repos/restic/restic/issues{/number}","pulls_url":"https://api.github.com/repos/restic/restic/pulls{/number}","milestones_url":"https://api.github.com/repos/restic/restic/milestones{/number}","notifications_url":"https://api.github.com/repos/restic/restic/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/restic/restic/labels{/name}","releases_url":"https://api.github.com/repos/restic/restic/releases{/id}","deployments_url":"https://api.github.com/repos/restic/restic/deployments","created_at":"2014-04-27T14:07:58Z","updated_at":"2025-11-09T21:26:32Z","pushed_at":"2025-11-01T01:02:32Z","git_url":"git://github.com/restic/restic.git","ssh_url":"git@github.com:restic/restic.git","clone_url":"https://github.com/restic/restic.git","svn_url":"https://github.com/restic/restic","homepage":"https://restic.net","size":69985,"stargazers_count":30720,"watchers_count":30720,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1670,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":511,"license":{"key":"bsd-2-clause","name":"BSD 2-Clause \"Simplified\" License","spdx_id":"BSD-2-Clause","url":"https://api.github.com/licenses/bsd-2-clause","node_id":"MDc6TGljZW5zZTQ="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["backup","dedupe","deduplication","go","restic","secure-by-default"],"visibility":"public","forks":1670,"open_issues":511,"watchers":30720,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Output of `restic version`\r\n--------------------------\r\nrestic 0.16.2 compiled with go1.21.3 on windows/amd64\r\n\r\n\r\nWhat backend/service did you use to store the repository?\r\n---------------------------------------------------------\r\nborgbase (restic mode)\r\n\r\n\r\nProblem description / Steps to reproduce\r\n----------------------------------------\r\nWhen I try to backup file, which is deduplicated on Windows Server, it fails.\r\n```\r\nrestic -r rest:https://xxx@xxx.repo.borgbase.com backup \"D:\\deduplicated.file\"\r\nrepository xxx opened (version 2, compression level auto)\r\nusing parent snapshot xxx\r\n[0:00] 100.00%  2 / 2 index files loaded\r\nerror: invalid node type \"\"\r\n\r\nFiles:           0 new,     0 changed,     0 unmodified\r\nDirs:            0 new,     0 changed,     2 unmodified\r\nAdded to the repository: 0 B   (0 B   stored)\r\n\r\nprocessed 0 files, 0 B in 0:02\r\nsnapshot xxx saved\r\nWarning: at least one source file could not be read\r\n```\r\n\r\nExpected behavior\r\n-----------------\r\nRestic should be able to back up deduplicated files.\r\n\r\nMost likely the same problem was in Syncthing and it's related to the Go 1.21 Version. It looks, that it should be fixed in Go 1.21.5 (not released as of 27. November 2023).\r\nhttps://github.com/syncthing/syncthing/issues/9120\r\nhttps://github.com/golang/go/issues/63429\r\n\r\nDid restic help you today? Did it make you happy in any way?\r\n------------------------------------------------------------\r\nOf course :)","reactions":{"url":"https://api.github.com/repos/restic/restic/issues/4574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/restic/restic/issues/4574/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":11619813281,"node_id":"REFE_lADOAOCAEs5xqMy2zwAAAAK0mEeh","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/11619813281","actor":{"login":"AndiDog","id":1376043,"node_id":"MDQ6VXNlcjEzNzYwNDM=","avatar_url":"https://avatars.githubusercontent.com/u/1376043?v=4","gravatar_id":"","url":"https://api.github.com/users/AndiDog","html_url":"https://github.com/AndiDog","followers_url":"https://api.github.com/users/AndiDog/followers","following_url":"https://api.github.com/users/AndiDog/following{/other_user}","gists_url":"https://api.github.com/users/AndiDog/gists{/gist_id}","starred_url":"https://api.github.com/users/AndiDog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndiDog/subscriptions","organizations_url":"https://api.github.com/users/AndiDog/orgs","repos_url":"https://api.github.com/users/AndiDog/repos","events_url":"https://api.github.com/users/AndiDog/events{/privacy}","received_events_url":"https://api.github.com/users/AndiDog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9553365d31b0d0c14f0d59cee14ec2b24fa7c8ba","commit_url":"https://api.github.com/repos/AndiDog/syncthing/commits/9553365d31b0d0c14f0d59cee14ec2b24fa7c8ba","created_at":"2024-01-28T12:19:35Z","performed_via_github_app":null},{"id":17194486134,"node_id":"LE_lADOAOCAEs5xqMy2zwAAAAQA3wl2","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/17194486134","actor":{"login":"st-review","id":16196517,"node_id":"MDQ6VXNlcjE2MTk2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/16196517?v=4","gravatar_id":"","url":"https://api.github.com/users/st-review","html_url":"https://github.com/st-review","followers_url":"https://api.github.com/users/st-review/followers","following_url":"https://api.github.com/users/st-review/following{/other_user}","gists_url":"https://api.github.com/users/st-review/gists{/gist_id}","starred_url":"https://api.github.com/users/st-review/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/st-review/subscriptions","organizations_url":"https://api.github.com/users/st-review/orgs","repos_url":"https://api.github.com/users/st-review/repos","events_url":"https://api.github.com/users/st-review/events{/privacy}","received_events_url":"https://api.github.com/users/st-review/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-04-09T18:54:26Z","label":{"name":"frozen-due-to-age","color":"eeeeee"},"performed_via_github_app":null},{"id":17194486324,"node_id":"LOE_lADOAOCAEs5xqMy2zwAAAAQA3wo0","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/17194486324","actor":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2025-04-09T18:54:27Z","lock_reason":null,"performed_via_github_app":null}]