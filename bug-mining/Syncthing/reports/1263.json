{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7704","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/7704/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/7704/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/7704/events","html_url":"https://github.com/syncthing/syncthing/issues/7704","id":898805377,"node_id":"MDU6SXNzdWU4OTg4MDUzNzc=","number":7704,"title":"Changing folder type from receive encrypted to a different type corrupts the database","user":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/68","html_url":"https://github.com/syncthing/syncthing/milestone/68","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/68/labels","id":6942408,"node_id":"MDk6TWlsZXN0b25lNjk0MjQwOA==","number":68,"title":"v1.18.1","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":27,"state":"closed","created_at":"2021-07-13T14:49:48Z","updated_at":"2021-08-03T06:52:13Z","due_on":"2021-08-03T07:00:00Z","closed_at":"2021-08-03T06:45:27Z"},"comments":0,"created_at":"2021-05-22T13:38:54Z","updated_at":"2022-08-11T07:13:12Z","closed_at":"2021-07-03T11:47:05Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I know that this should not be done, but it is technically possible to do, so I'm reporting anyway, just in case.\r\n\r\n1. On Device 1, create a new folder with some files.\r\n2. On Device 1, share the new folder with Device 2 as RE.\r\n3. On Device 2, accept the new folder as RE and let it sync.\r\n4. On Device 2, change the folder type to SR in the Adv. Configuration.\r\n5. On Device 1, remove the folder password.\r\n6. Both devices now mark the folder as \"Up to Date\".\r\n\r\n![image](https://user-images.githubusercontent.com/5626656/119228408-d4ae4a00-bb4d-11eb-954f-136310bb003b.png)\r\n![image](https://user-images.githubusercontent.com/5626656/119228410-d6780d80-bb4d-11eb-9ade-d593dfacda02.png)\r\n\r\nIt would be cool if changing the folder type for RE folders could be prevented completely, but I'm not sure if this is even possible.","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/7704/timeline","performed_via_github_app":null,"state_reason":"completed"}