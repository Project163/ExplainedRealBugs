{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9913","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/9913/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/9913/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/9913/events","html_url":"https://github.com/syncthing/syncthing/issues/9913","id":2780318663,"node_id":"I_kwDOAOCAEs6luEvH","number":9913,"title":"panic: string field contains invalid UTF-8 [recovered]","user":{"login":"m23project","id":3884803,"node_id":"MDQ6VXNlcjM4ODQ4MDM=","avatar_url":"https://avatars.githubusercontent.com/u/3884803?v=4","gravatar_id":"","url":"https://api.github.com/users/m23project","html_url":"https://github.com/m23project","followers_url":"https://api.github.com/users/m23project/followers","following_url":"https://api.github.com/users/m23project/following{/other_user}","gists_url":"https://api.github.com/users/m23project/gists{/gist_id}","starred_url":"https://api.github.com/users/m23project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/m23project/subscriptions","organizations_url":"https://api.github.com/users/m23project/orgs","repos_url":"https://api.github.com/users/m23project/repos","events_url":"https://api.github.com/users/m23project/events{/privacy}","received_events_url":"https://api.github.com/users/m23project/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":2043110077,"node_id":"MDU6TGFiZWwyMDQzMTEwMDc3","url":"https://api.github.com/repos/syncthing/syncthing/labels/needs-triage","name":"needs-triage","color":"ce23af","default":false,"description":"New issues needed to be validated"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/116","html_url":"https://github.com/syncthing/syncthing/milestone/116","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/116/labels","id":12148052,"node_id":"MI_kwDOAOCAEs4AuV1U","number":116,"title":"v1.29.2","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":2,"state":"closed","created_at":"2025-01-10T13:40:39Z","updated_at":"2025-01-13T10:13:20Z","due_on":"2025-02-04T08:00:00Z","closed_at":"2025-01-13T10:13:20Z"},"comments":12,"created_at":"2025-01-10T14:28:00Z","updated_at":"2025-01-12T15:21:53Z","closed_at":"2025-01-11T16:38:31Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What happened?\n\nHi,\r\n\r\nSyncthing crashes with \"panic: string field contains invalid UTF-8 [recovered]\" since a few days. I'm running Syncthing on Debian 12 and Linux Mint 22 64 bit PCs and one Rapspberry Pi OS (32 bit), that is used for encrypted storing and broadcasting the synced directories.The crash happens on all machines but the Pi.\r\n\r\nThe setup worked for about 3 years without problem. I used ISO-8859-15 for filename encoding before the crash happened and converted the filenames to UTF-8 now in case that it could cause the problem. But the crash still happened.\r\n\r\nI tried `syncthing -reset-database` and `syncthing --verbose` and enabling debugging in the config.xml, but it didn't help or didn't give me hints how to resolv the issue by myselv.\r\n\r\nBy changing the contents of a synced directory it seems that Syncthing crashes when scanning a subdirectory name that contains an \"Ã¼\".\r\n\r\nWould be great, if it can be fixed or if you could give a hint what changes I should do locally (eg. configuration).\r\n\r\nThank you,\r\n Hauke\n\n### Syncthing version\n\nv1.29.1\n\n### Platform & operating system\n\nDebian 12 AMD64, Linux Mint 22 AMD64\n\n### Browser version\n\n_No response_\n\n### Relevant log output\n\n```shell\n[EEZTP] 2025/01/10 15:03:54 WARNING: Aborted scan due to an unexpected error: context canceled\r\npanic: string field contains invalid UTF-8 [recovered]\r\n[monitor] 2025/01/10 15:03:54 WARNING: Panic detected, writing to \"/home/test/.local/state/syncthing/panic-20250110-150354.log\"\r\n[monitor] 2025/01/10 15:03:54 WARNING: Please check for existing issues with similar panic message at https://github.com/syncthing/syncthing/issues/\r\n[monitor] 2025/01/10 15:03:54 WARNING: If no issue with similar panic message exists, please create a new issue with the panic log attached\r\n[monitor] 2025/01/10 15:03:54 INFO: Syncthing exited: exit status 2\r\n[monitor] 2025/01/10 15:03:55 WARNING: 4 restarts in 7.119028171s; not retrying further\n```\n","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9913/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/9913/timeline","performed_via_github_app":null,"state_reason":"completed"}