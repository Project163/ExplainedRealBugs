{"url":"https://api.github.com/repos/syncthing/syncthing/issues/1339","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/1339/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/1339/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/1339/events","html_url":"https://github.com/syncthing/syncthing/issues/1339","id":57084689,"node_id":"MDU6SXNzdWU1NzA4NDY4OQ==","number":1339,"title":"syncthing doesn't honor umask","user":{"login":"dr4Ke","id":128122,"node_id":"MDQ6VXNlcjEyODEyMg==","avatar_url":"https://avatars.githubusercontent.com/u/128122?v=4","gravatar_id":"","url":"https://api.github.com/users/dr4Ke","html_url":"https://github.com/dr4Ke","followers_url":"https://api.github.com/users/dr4Ke/followers","following_url":"https://api.github.com/users/dr4Ke/following{/other_user}","gists_url":"https://api.github.com/users/dr4Ke/gists{/gist_id}","starred_url":"https://api.github.com/users/dr4Ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dr4Ke/subscriptions","organizations_url":"https://api.github.com/users/dr4Ke/orgs","repos_url":"https://api.github.com/users/dr4Ke/repos","events_url":"https://api.github.com/users/dr4Ke/events{/privacy}","received_events_url":"https://api.github.com/users/dr4Ke/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767667,"node_id":"MDU6TGFiZWw2Nzc2NzY2Nw==","url":"https://api.github.com/repos/syncthing/syncthing/labels/enhancement","name":"enhancement","color":"0e8a16","default":true,"description":"New features or improvements of some kind, as opposed to a problem (bug)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2015-02-09T20:26:17Z","updated_at":"2017-06-16T21:09:28Z","closed_at":"2015-05-25T06:34:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm using syncthing 0.10.21 on archlinux and debian (3 machines). I'm syncing some folders, shared between local users. For those folders, I want to:\n- ignore permissions as the files have different owners and only the owner can change permissions (so syncthing is not able to do it and generates lots of errors if permissions are not ignored)\n- have syncthing create files with `rw-rw-r--` permissions.\n\nSo I tried to set the syncthing umask to `0002` as I did for the local users, but it continues to create the synced files with `rw-r--r--`. I did that by overloading the syncthing systemd unit with:\n\n```\n[Service]\nUMask=0002\n```\n\nI checked that this umask is actually applied to the syncthing process with gdb and `call umask(0)` as suggested by http://stackoverflow.com/a/165718/335197\n\nI didn't look at the code to investigate more yet. Do you have any idea?\n","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/1339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/1339/timeline","performed_via_github_app":null,"state_reason":"completed"}