[{"id":10731566336,"node_id":"LE_lADOAOCAEs50jzzAzwAAAAJ_prUA","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10731566336","actor":{"login":"hholst80","id":6200749,"node_id":"MDQ6VXNlcjYyMDA3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/6200749?v=4","gravatar_id":"","url":"https://api.github.com/users/hholst80","html_url":"https://github.com/hholst80","followers_url":"https://api.github.com/users/hholst80/followers","following_url":"https://api.github.com/users/hholst80/following{/other_user}","gists_url":"https://api.github.com/users/hholst80/gists{/gist_id}","starred_url":"https://api.github.com/users/hholst80/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hholst80/subscriptions","organizations_url":"https://api.github.com/users/hholst80/orgs","repos_url":"https://api.github.com/users/hholst80/repos","events_url":"https://api.github.com/users/hholst80/events{/privacy}","received_events_url":"https://api.github.com/users/hholst80/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-10-21T15:44:24Z","label":{"name":"enhancement","color":"0e8a16"},"performed_via_github_app":null},{"id":10731566337,"node_id":"LE_lADOAOCAEs50jzzAzwAAAAJ_prUB","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10731566337","actor":{"login":"hholst80","id":6200749,"node_id":"MDQ6VXNlcjYyMDA3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/6200749?v=4","gravatar_id":"","url":"https://api.github.com/users/hholst80","html_url":"https://github.com/hholst80","followers_url":"https://api.github.com/users/hholst80/followers","following_url":"https://api.github.com/users/hholst80/following{/other_user}","gists_url":"https://api.github.com/users/hholst80/gists{/gist_id}","starred_url":"https://api.github.com/users/hholst80/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hholst80/subscriptions","organizations_url":"https://api.github.com/users/hholst80/orgs","repos_url":"https://api.github.com/users/hholst80/repos","events_url":"https://api.github.com/users/hholst80/events{/privacy}","received_events_url":"https://api.github.com/users/hholst80/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-10-21T15:44:24Z","label":{"name":"needs-triage","color":"ce23af"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1773844725","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1773844725","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1773844725,"node_id":"IC_kwDOAOCAEs5purj1","user":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-21T16:17:45Z","updated_at":"2023-10-21T16:17:45Z","body":"Duplicate of https://github.com/syncthing/syncthing/issues/8102?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1773844725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1773857758","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1773857758","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1773857758,"node_id":"IC_kwDOAOCAEs5puuve","user":{"login":"hholst80","id":6200749,"node_id":"MDQ6VXNlcjYyMDA3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/6200749?v=4","gravatar_id":"","url":"https://api.github.com/users/hholst80","html_url":"https://github.com/hholst80","followers_url":"https://api.github.com/users/hholst80/followers","following_url":"https://api.github.com/users/hholst80/following{/other_user}","gists_url":"https://api.github.com/users/hholst80/gists{/gist_id}","starred_url":"https://api.github.com/users/hholst80/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hholst80/subscriptions","organizations_url":"https://api.github.com/users/hholst80/orgs","repos_url":"https://api.github.com/users/hholst80/repos","events_url":"https://api.github.com/users/hholst80/events{/privacy}","received_events_url":"https://api.github.com/users/hholst80/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-21T16:49:25Z","updated_at":"2023-10-21T16:49:43Z","body":"It is related to the issue, but no attempt was made to solve it.  I think that if we involve the same people again, we will reach the same conclusions.\r\n\r\nIf an application uses XDG conventions then it must adhere to the conventions.  What is stored in `.config/syncthing` right now is a mix of things that XDG defines.  Syncthing acknowledges this (config *and* data = home directory), but out of the box it opts to a imperfect solution that will lead to *recoverable data loss* in certain scenarios.\r\n\r\nST will warn for this, after the fact, but then it is typically too late.\r\n\r\nA sensible solution is to use `--home=.local/share/syncthing` which so far seems to solve most things. There are parts of the config that are sharable between machines, but there are others that are not.  An ambitious change would be to split up the config into parts that are local and those that can roam across multiple machines.\r\n\r\nMigrating this won't be easy but until this is resolved ST will continue to break in the use case where users share .config across multiple machines. Which I suppose is a common use case.\r\n\r\nMigration path:\r\n\r\nStart using `.local/share/syncthing` as primary location; if not found revert to `.config/syncthing` and warn user about deprecation and link to a post which describes how to move `.config/syncthing` to `.local/share/syncthing`.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1773857758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hholst80","id":6200749,"node_id":"MDQ6VXNlcjYyMDA3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/6200749?v=4","gravatar_id":"","url":"https://api.github.com/users/hholst80","html_url":"https://github.com/hholst80","followers_url":"https://api.github.com/users/hholst80/followers","following_url":"https://api.github.com/users/hholst80/following{/other_user}","gists_url":"https://api.github.com/users/hholst80/gists{/gist_id}","starred_url":"https://api.github.com/users/hholst80/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hholst80/subscriptions","organizations_url":"https://api.github.com/users/hholst80/orgs","repos_url":"https://api.github.com/users/hholst80/repos","events_url":"https://api.github.com/users/hholst80/events{/privacy}","received_events_url":"https://api.github.com/users/hholst80/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1773896975","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1773896975","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1773896975,"node_id":"IC_kwDOAOCAEs5pu4UP","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-21T19:09:21Z","updated_at":"2023-10-21T19:09:21Z","body":"We're not going to change where things are stored by default, but you have --data and --config to accomplish what you want. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1773896975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10731967897,"node_id":"CE_lADOAOCAEs50jzzAzwAAAAJ_rNWZ","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10731967897","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-10-21T19:10:31Z","state_reason":"not_planned","performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1773948581","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1773948581","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1773948581,"node_id":"IC_kwDOAOCAEs5pvE6l","user":{"login":"hholst80","id":6200749,"node_id":"MDQ6VXNlcjYyMDA3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/6200749?v=4","gravatar_id":"","url":"https://api.github.com/users/hholst80","html_url":"https://github.com/hholst80","followers_url":"https://api.github.com/users/hholst80/followers","following_url":"https://api.github.com/users/hholst80/following{/other_user}","gists_url":"https://api.github.com/users/hholst80/gists{/gist_id}","starred_url":"https://api.github.com/users/hholst80/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hholst80/subscriptions","organizations_url":"https://api.github.com/users/hholst80/orgs","repos_url":"https://api.github.com/users/hholst80/repos","events_url":"https://api.github.com/users/hholst80/events{/privacy}","received_events_url":"https://api.github.com/users/hholst80/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-21T23:57:58Z","updated_at":"2023-10-21T23:57:58Z","body":"Why should users have to opt in not to have their data destroyed? Can you give a rationale so users finding this issue later will understand why it makes sense?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1773948581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hholst80","id":6200749,"node_id":"MDQ6VXNlcjYyMDA3NDk=","avatar_url":"https://avatars.githubusercontent.com/u/6200749?v=4","gravatar_id":"","url":"https://api.github.com/users/hholst80","html_url":"https://github.com/hholst80","followers_url":"https://api.github.com/users/hholst80/followers","following_url":"https://api.github.com/users/hholst80/following{/other_user}","gists_url":"https://api.github.com/users/hholst80/gists{/gist_id}","starred_url":"https://api.github.com/users/hholst80/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hholst80/subscriptions","organizations_url":"https://api.github.com/users/hholst80/orgs","repos_url":"https://api.github.com/users/hholst80/repos","events_url":"https://api.github.com/users/hholst80/events{/privacy}","received_events_url":"https://api.github.com/users/hholst80/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774014755","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1774014755","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1774014755,"node_id":"IC_kwDOAOCAEs5pvVEj","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T07:03:50Z","updated_at":"2023-10-22T07:04:54Z","body":"Syncthing does what you want if you take minimal steps to indicate that the system wants to use XDG, for example by setting `XDG_DATA_HOME`\r\n\r\nhttps://docs.syncthing.net/users/config.html\r\n\r\n> The database is stored either in the same directory as the config (usually the default), but may also be located in one of the following directories (Unix-like platforms only):\r\n>\r\n> - If a database exists in the old default location, that location is still used.\r\n> - If $XDG_DATA_HOME is set, use $XDG_DATA_HOME/syncthing.\r\n> - If ~/.local/share/syncthing exists, use that location.\r\n> - Use the old default location (same as config).\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774014755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774071314","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1774071314","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1774071314,"node_id":"IC_kwDOAOCAEs5pvi4S","user":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T11:43:22Z","updated_at":"2023-10-22T11:43:22Z","body":"I agree, however, that the Right Thing to do for Syncthing would be to handle `$XDG_CONFIG_HOME` as indicated in the XDG spec.  People expect to be able to freely copy their \"configuration\" (i.e. `~/.config/*`) to another machine without causing harm.  Witnessed here for example with catastrophic consequences: https://forum.syncthing.net/t/copying-old-syncthing-config-led-to-data-loss/20976\r\n\r\nThere are clear rules laid out in the spec regarding which default values to fall back to if the variables are not defined.  Thus our requirement of needing to define the variable to make it \"adhere to the spec\" is actually not doing that.  Instead, we use a path by default that provokes certain expectations (sharability), but put stuff there that certainly doesn't meet them.\r\n\r\nIMO the right location for the database would be under `$XDG_STATE_HOME/syncthing`, respectively `~/.local/state/syncthing/`.  The device ID (certificate and key) is kind of \"configuration\", but definitely not sharable, thus should probably live there as well.  Even the XML configuration is not really sharable, because it's not holding just user preferences, but sharing relationships that are specific to this user's instance running on exactly this device.\r\n\r\nThey're also not \"data\" as the XDG spec generalizes, since there is no evidence that `.local/share/` should *not* be shared among devices for the same user.  That's where the XDG model doesn't really suit Syncthing's needs, but I think we made the wrong choice using `~/.config` by default.  By the way, the `--config` and `--data` separation is orthogonal to the issue, because it is intended to flexibly place the DB on a storage medium best suited for the I/O access patterns.\r\n\r\nSo I'd favor changing the default for new installations to keep both config and database in the `$XDG_STATE_HOME` paths, avoiding the reported sharing problems.  Keeping the old paths' fallback logic intact of course.  It would also better cover the common use-case of wanting to share the `~/.config` hierarchy completely, without needing ignore patterns.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774071314/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774077300","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1774077300","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1774077300,"node_id":"IC_kwDOAOCAEs5pvkV0","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T12:10:58Z","updated_at":"2023-10-22T12:11:57Z","body":"As far as I understand the XDG \"standard\" was never intended to apply to things like user apps (it's for reference by other XDG stuff to decide where to place menu items and whatnot) and doesn't say anything about user-*and-machine*-specific state like Syncthing keeps. Then people got annoyed by dotfile clutter and latched on to whatever they could find that claimed to be a standard and here we are, with people demanding we adhere to something that's both ill-conceived and ill-suited to the purpose. Trying to shoehorn our stuff into some directory plan that was never designed for it was a mistake to begin with.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774077300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T12:43:48Z","updated_at":"2023-10-22T12:43:48Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9179","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/9179/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/9179/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/9179/events","html_url":"https://github.com/syncthing/syncthing/issues/9179","id":1955885163,"node_id":"I_kwDOAOCAEs50lHBr","number":9179,"title":"spurious log file in $XDG_CONFIG_HOME","user":{"login":"hydrargyrum","id":2804645,"node_id":"MDQ6VXNlcjI4MDQ2NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2804645?v=4","gravatar_id":"","url":"https://api.github.com/users/hydrargyrum","html_url":"https://github.com/hydrargyrum","followers_url":"https://api.github.com/users/hydrargyrum/followers","following_url":"https://api.github.com/users/hydrargyrum/following{/other_user}","gists_url":"https://api.github.com/users/hydrargyrum/gists{/gist_id}","starred_url":"https://api.github.com/users/hydrargyrum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hydrargyrum/subscriptions","organizations_url":"https://api.github.com/users/hydrargyrum/orgs","repos_url":"https://api.github.com/users/hydrargyrum/repos","events_url":"https://api.github.com/users/hydrargyrum/events{/privacy}","received_events_url":"https://api.github.com/users/hydrargyrum/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/99","html_url":"https://github.com/syncthing/syncthing/milestone/99","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/99/labels","id":10184364,"node_id":"MI_kwDOAOCAEs4Am2as","number":99,"title":"v1.27.0","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":20,"state":"closed","created_at":"2023-11-14T08:21:19Z","updated_at":"2023-12-07T21:55:10Z","due_on":"2023-12-05T08:00:00Z","closed_at":"2023-12-05T07:01:06Z"},"comments":12,"created_at":"2023-10-22T12:35:21Z","updated_at":"2025-04-09T18:53:43Z","closed_at":"2023-10-25T09:16:33Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":14712850,"node_id":"MDEwOlJlcG9zaXRvcnkxNDcxMjg1MA==","name":"syncthing","full_name":"syncthing/syncthing","private":false,"owner":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/syncthing/syncthing","description":"Open Source Continuous File Synchronization","fork":false,"url":"https://api.github.com/repos/syncthing/syncthing","forks_url":"https://api.github.com/repos/syncthing/syncthing/forks","keys_url":"https://api.github.com/repos/syncthing/syncthing/keys{/key_id}","collaborators_url":"https://api.github.com/repos/syncthing/syncthing/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/syncthing/syncthing/teams","hooks_url":"https://api.github.com/repos/syncthing/syncthing/hooks","issue_events_url":"https://api.github.com/repos/syncthing/syncthing/issues/events{/number}","events_url":"https://api.github.com/repos/syncthing/syncthing/events","assignees_url":"https://api.github.com/repos/syncthing/syncthing/assignees{/user}","branches_url":"https://api.github.com/repos/syncthing/syncthing/branches{/branch}","tags_url":"https://api.github.com/repos/syncthing/syncthing/tags","blobs_url":"https://api.github.com/repos/syncthing/syncthing/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/syncthing/syncthing/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/syncthing/syncthing/git/refs{/sha}","trees_url":"https://api.github.com/repos/syncthing/syncthing/git/trees{/sha}","statuses_url":"https://api.github.com/repos/syncthing/syncthing/statuses/{sha}","languages_url":"https://api.github.com/repos/syncthing/syncthing/languages","stargazers_url":"https://api.github.com/repos/syncthing/syncthing/stargazers","contributors_url":"https://api.github.com/repos/syncthing/syncthing/contributors","subscribers_url":"https://api.github.com/repos/syncthing/syncthing/subscribers","subscription_url":"https://api.github.com/repos/syncthing/syncthing/subscription","commits_url":"https://api.github.com/repos/syncthing/syncthing/commits{/sha}","git_commits_url":"https://api.github.com/repos/syncthing/syncthing/git/commits{/sha}","comments_url":"https://api.github.com/repos/syncthing/syncthing/comments{/number}","issue_comment_url":"https://api.github.com/repos/syncthing/syncthing/issues/comments{/number}","contents_url":"https://api.github.com/repos/syncthing/syncthing/contents/{+path}","compare_url":"https://api.github.com/repos/syncthing/syncthing/compare/{base}...{head}","merges_url":"https://api.github.com/repos/syncthing/syncthing/merges","archive_url":"https://api.github.com/repos/syncthing/syncthing/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/syncthing/syncthing/downloads","issues_url":"https://api.github.com/repos/syncthing/syncthing/issues{/number}","pulls_url":"https://api.github.com/repos/syncthing/syncthing/pulls{/number}","milestones_url":"https://api.github.com/repos/syncthing/syncthing/milestones{/number}","notifications_url":"https://api.github.com/repos/syncthing/syncthing/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/syncthing/syncthing/labels{/name}","releases_url":"https://api.github.com/repos/syncthing/syncthing/releases{/id}","deployments_url":"https://api.github.com/repos/syncthing/syncthing/deployments","created_at":"2013-11-26T09:48:21Z","updated_at":"2025-11-09T22:23:05Z","pushed_at":"2025-11-04T08:20:50Z","git_url":"git://github.com/syncthing/syncthing.git","ssh_url":"git@github.com:syncthing/syncthing.git","clone_url":"https://github.com/syncthing/syncthing.git","svn_url":"https://github.com/syncthing/syncthing","homepage":"https://syncthing.net/","size":124346,"stargazers_count":77447,"watchers_count":77447,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4825,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":361,"license":{"key":"mpl-2.0","name":"Mozilla Public License 2.0","spdx_id":"MPL-2.0","url":"https://api.github.com/licenses/mpl-2.0","node_id":"MDc6TGljZW5zZTE0"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["go","p2p","peer-to-peer","synchronization"],"visibility":"public","forks":4825,"open_issues":361,"watchers":77447,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"In default configuration\r\n\r\nAccording to [spec](https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html)\r\n\r\n> $XDG_CONFIG_HOME defines the base directory relative to which user-specific configuration files should be stored\r\n\r\nSo this file should not be there: `~/.config/syncthing/syncthing.log`\r\n\r\nThis is more suitable:\r\n\r\n>  The $XDG_STATE_HOME contains state data that should persist between (application) restarts, but that is not important or portable enough to the user that it should be stored in $XDG_DATA_HOME. It may contain: \r\n> - actions history (logs, history, recently used files, …)","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/9179/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774099800","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1774099800","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1774099800,"node_id":"IC_kwDOAOCAEs5pvp1Y","user":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T13:44:44Z","updated_at":"2023-10-22T13:44:44Z","body":"It was really a double-mistake.  If the XDG path is unfit for the purpose, we should have chosen (or kept?) `~/.syncthing/`.  But when jumping on the XDG train, we chose a subdirectory there which does not align well with how Syncthing uses it, and `$XDG_STATE_HOME` would have been more appropriate.  I definitely agree that the XDG spec does not apply well to Syncthing as a user-and-machine specific service, but I wouldn't call it ill-conceived overall.\r\n\r\nSince we are here and using a path (by default) for which certain rules are laid out and widely accepted, further troubles are to be expected if we don't change that.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774099800/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774100623","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1774100623","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1774100623,"node_id":"IC_kwDOAOCAEs5pvqCP","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T13:48:19Z","updated_at":"2023-10-22T13:48:19Z","body":"It's a series of mistakes. We started with ~/.syncthing indeed, everything since that point was driven by someone yelling about xdg but apparently no one understanding it, which I can't say I blame anyone for since it isn't written for us. The \"state\" stuff being discussed now seems to be some new addition and again I don't really see that it applies very well to us. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774100623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774103486","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1774103486","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1774103486,"node_id":"IC_kwDOAOCAEs5pvqu-","user":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T14:01:03Z","updated_at":"2023-10-22T14:01:53Z","body":"Not very well, but at least it's the best one of the defined options.  Whatever we do, staying in `~/.config` is harmful, as witnessed in the forum topic.  So either back out from XDG completely, or switch to `$XDG_STATE_HOME`, to avoid breaking people's expectations from the paths used.\r\n\r\nI do see some value in not cluttering the dotfile space further, so the second option seems more appealing to me.  Would need to see consensus on that before starting to work on it, though.  And I can't promise to find time for it anytime soon.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774103486/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774106947","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1774106947","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1774106947,"node_id":"IC_kwDOAOCAEs5pvrlD","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T14:15:48Z","updated_at":"2023-10-22T14:24:42Z","body":"So, trying to read the tea leaves:\r\n\r\n> $XDG_STATE_HOME defines the base directory relative to which user-specific state files should be stored. If $XDG_STATE_HOME is either not set or empty, a default equal to $HOME/.local/state should be used.\r\n> The $XDG_STATE_HOME contains state data that should persist between (application) restarts, but that is not important or portable enough to the user that it should be stored in $XDG_DATA_HOME. It may contain:\r\n> - actions history (logs, history, recently used files, …)\r\n> - current state of the application that can be reused on a restart (view, layout, open files, undo history, …)\r\n\r\nOur stuff is certainly \"not portable enough\", if that means portable to a different machine. I would not argue it's unimportant though, if one wants Syncthing to work. It sounds like \"important\" data should be in XDG_DATA_HOME?\r\n\r\nThe current \"data\" definition seems to be:\r\n\r\n> $XDG_DATA_HOME defines the base directory relative to which user-specific data files should be stored. If $XDG_DATA_HOME is either not set or empty, a default equal to $HOME/.local/share should be used.\r\n\r\nThis is from the \"environment variables\" section of https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html, are you guys reading something else that has actual definitions of what's supposed to be in these directories, where are the specific expectations on these directories coming from?\r\n\r\nI see no discussion of what is machine-specific vs user-specific vs both...\r\n\r\nEdit: Reading in *other places than the so called standard*, it seems XDG_DATA_HOME should be analogous to /usr/share (\"The /usr/share hierarchy is for all read-only architecture independent data files.\") while the new XDG_STATE_HOME should be analogous to /var/lib (\"This hierarchy holds state information pertaining to an application or the system. State information is data that programs modify while they run, and that pertains to one specific host. Users must never need to modify files in /var/lib to configure a package's operation, and the specific file hierarchy used to store the data must not be exposed to regular users.\"). Given that, we should certainly put all our stuff in XDG_STATE_HOME and then leave it at that... (quotes from https://refspecs.linuxfoundation.org/FHS_3.0/fhs-3.0.html)\r\n\r\nOf course, we \"expose\" stuff that would be under /var/lib-equivalent, by documenting it, which I guess is then wrong. Maybe we should remove our config docs and consider it private...","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774106947/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774108879","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1774108879","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1774108879,"node_id":"IC_kwDOAOCAEs5pvsDP","user":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T14:23:50Z","updated_at":"2023-10-22T14:24:43Z","body":"There is the philosophical analogy to `/usr/share/` mentioned in https://wiki.archlinux.org/title/XDG_Base_Directory#User_directories, which is of course not part of the standard though.  Following that analogy leads to the Filesystem Hierarchy Standard at https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch04s11.html#purpose26, which describes the platform- and machine dependency in much more detail.\r\n\r\nEDIT: Your edit exactly describes my reasoning.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774108879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774109536","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1774109536","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1774109536,"node_id":"IC_kwDOAOCAEs5pvsNg","user":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T14:26:41Z","updated_at":"2023-10-22T14:26:41Z","body":"> Of course, we \"expose\" stuff that would be under /var/lib-equivalent, by documenting it, which I guess is then wrong. Maybe we should remove our config docs and consider it private...\r\n\r\nNo, please not.  We'd need a separate developer documentation then for people interacting with it outside of the GUI itself.  Such as wrappers and people making scripted deployments for example.  That would be worthwhile in itself (together with the API and protocol specs), but currently not within scope or the available developer capacity :-)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774109536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774109840","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1774109840","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1774109840,"node_id":"IC_kwDOAOCAEs5pvsSQ","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T14:27:54Z","updated_at":"2023-10-22T14:27:54Z","body":"I was being facetious. We should certainly not remove our docs. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774109840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774110645","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1774110645","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1774110645,"node_id":"IC_kwDOAOCAEs5pvse1","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T14:31:10Z","updated_at":"2023-10-22T14:32:08Z","body":"So, for the record, I consider the XDG standard badly written, ill-defined, misunderstood, and misapplied. However, people keep insisting that it should apply, and that we should follow it, despite it also being a moving target. Fine, we can do that. On the plus side, it cleans things up in the sense that it consolidates all our stuff in one directory again, and also clarifies that users should not sync, share, care about or fiddle with the files in there. That's good. Carry on.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1774110645/reactions","total_count":5,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10733406575,"node_id":"REE_lADOAOCAEs50jzzAzwAAAAJ_wslv","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10733406575","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2023-10-22T14:31:10Z","state_reason":"reopened","performed_via_github_app":null},{"id":10733412327,"node_id":"RTE_lADOAOCAEs50jzzAzwAAAAJ_wt_n","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10733412327","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2023-10-22T14:34:25Z","rename":{"from":"Proper use of XDG directories","to":"Default config (state) dir on Unixes should be ~/.local/state/syncthing ($XDG_STATE_HOME/syncthing)"},"performed_via_github_app":null},{"id":10733413006,"node_id":"UNLE_lADOAOCAEs50jzzAzwAAAAJ_wuKO","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10733413006","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2023-10-22T14:34:53Z","label":{"name":"needs-triage","color":"ce23af"},"performed_via_github_app":null},{"id":10733960998,"node_id":"REFE_lADOAOCAEs50jzzAzwAAAAJ_yz8m","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10733960998","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"40c94691a5ea2af740528a3c6b0003e3e45f0d38","commit_url":"https://api.github.com/repos/calmh/syncthing/commits/40c94691a5ea2af740528a3c6b0003e3e45f0d38","created_at":"2023-10-22T20:29:04Z","performed_via_github_app":null},{"id":10764554361,"node_id":"CE_lADOAOCAEs50jzzAzwAAAAKBnhB5","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10764554361","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"b5082f6af8b0a70afd3bc42977dad26920e72b68","commit_url":"https://api.github.com/repos/syncthing/syncthing/commits/b5082f6af8b0a70afd3bc42977dad26920e72b68","created_at":"2023-10-25T09:16:33Z","state_reason":null,"performed_via_github_app":null},{"id":10951119273,"node_id":"MIE_lADOAOCAEs50jzzAzwAAAAKMvNGp","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/10951119273","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-11-14T08:21:21Z","milestone":{"title":"v1.26.1"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1827586547","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1827586547","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1827586547,"node_id":"IC_kwDOAOCAEs5s7sHz","user":{"login":"piotr-dobrogost","id":92239,"node_id":"MDQ6VXNlcjkyMjM5","avatar_url":"https://avatars.githubusercontent.com/u/92239?v=4","gravatar_id":"","url":"https://api.github.com/users/piotr-dobrogost","html_url":"https://github.com/piotr-dobrogost","followers_url":"https://api.github.com/users/piotr-dobrogost/followers","following_url":"https://api.github.com/users/piotr-dobrogost/following{/other_user}","gists_url":"https://api.github.com/users/piotr-dobrogost/gists{/gist_id}","starred_url":"https://api.github.com/users/piotr-dobrogost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/piotr-dobrogost/subscriptions","organizations_url":"https://api.github.com/users/piotr-dobrogost/orgs","repos_url":"https://api.github.com/users/piotr-dobrogost/repos","events_url":"https://api.github.com/users/piotr-dobrogost/events{/privacy}","received_events_url":"https://api.github.com/users/piotr-dobrogost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-27T10:45:49Z","updated_at":"2023-11-27T10:45:49Z","body":"> (…) despite it also being a moving target\r\n\r\nJust wanted to note that most useful specifications are live meaning they adapt to ever changing environment they live in and they are being refined to better convey the ideas behind them. Calling it a _moving target_ is not fair.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1827586547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"piotr-dobrogost","id":92239,"node_id":"MDQ6VXNlcjkyMjM5","avatar_url":"https://avatars.githubusercontent.com/u/92239?v=4","gravatar_id":"","url":"https://api.github.com/users/piotr-dobrogost","html_url":"https://github.com/piotr-dobrogost","followers_url":"https://api.github.com/users/piotr-dobrogost/followers","following_url":"https://api.github.com/users/piotr-dobrogost/following{/other_user}","gists_url":"https://api.github.com/users/piotr-dobrogost/gists{/gist_id}","starred_url":"https://api.github.com/users/piotr-dobrogost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/piotr-dobrogost/subscriptions","organizations_url":"https://api.github.com/users/piotr-dobrogost/orgs","repos_url":"https://api.github.com/users/piotr-dobrogost/repos","events_url":"https://api.github.com/users/piotr-dobrogost/events{/privacy}","received_events_url":"https://api.github.com/users/piotr-dobrogost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1827612297","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1827612297","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1827612297,"node_id":"IC_kwDOAOCAEs5s7yaJ","user":{"login":"piotr-dobrogost","id":92239,"node_id":"MDQ6VXNlcjkyMjM5","avatar_url":"https://avatars.githubusercontent.com/u/92239?v=4","gravatar_id":"","url":"https://api.github.com/users/piotr-dobrogost","html_url":"https://github.com/piotr-dobrogost","followers_url":"https://api.github.com/users/piotr-dobrogost/followers","following_url":"https://api.github.com/users/piotr-dobrogost/following{/other_user}","gists_url":"https://api.github.com/users/piotr-dobrogost/gists{/gist_id}","starred_url":"https://api.github.com/users/piotr-dobrogost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/piotr-dobrogost/subscriptions","organizations_url":"https://api.github.com/users/piotr-dobrogost/orgs","repos_url":"https://api.github.com/users/piotr-dobrogost/repos","events_url":"https://api.github.com/users/piotr-dobrogost/events{/privacy}","received_events_url":"https://api.github.com/users/piotr-dobrogost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-27T11:01:47Z","updated_at":"2023-11-27T11:01:47Z","body":"You could consider unlocking https://github.com/syncthing/syncthing/issues/8102 and relocking it again which I believe should result in that issue getting a comment with a link to this one (which hasn't been created in the first place because of the lock).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1827612297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"piotr-dobrogost","id":92239,"node_id":"MDQ6VXNlcjkyMjM5","avatar_url":"https://avatars.githubusercontent.com/u/92239?v=4","gravatar_id":"","url":"https://api.github.com/users/piotr-dobrogost","html_url":"https://github.com/piotr-dobrogost","followers_url":"https://api.github.com/users/piotr-dobrogost/followers","following_url":"https://api.github.com/users/piotr-dobrogost/following{/other_user}","gists_url":"https://api.github.com/users/piotr-dobrogost/gists{/gist_id}","starred_url":"https://api.github.com/users/piotr-dobrogost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/piotr-dobrogost/subscriptions","organizations_url":"https://api.github.com/users/piotr-dobrogost/orgs","repos_url":"https://api.github.com/users/piotr-dobrogost/repos","events_url":"https://api.github.com/users/piotr-dobrogost/events{/privacy}","received_events_url":"https://api.github.com/users/piotr-dobrogost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1828435769","html_url":"https://github.com/syncthing/syncthing/issues/9178#issuecomment-1828435769","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/9178","id":1828435769,"node_id":"IC_kwDOAOCAEs5s-7c5","user":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-27T18:57:23Z","updated_at":"2023-11-27T18:57:23Z","body":"Right, already forgot that we had discussed this back there.  You gave the link right here, think that's enough.  #8102 was already closed and we did reference two other issues in the PR.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1828435769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-10T09:40:09Z","updated_at":"2023-12-10T09:40:09Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9272","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/9272/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/9272/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/9272/events","html_url":"https://github.com/syncthing/syncthing/issues/9272","id":2034286868,"node_id":"I_kwDOAOCAEs55QMEU","number":9272,"title":"Respect the file structure","user":{"login":"Jacques-z","id":89645196,"node_id":"MDQ6VXNlcjg5NjQ1MTk2","avatar_url":"https://avatars.githubusercontent.com/u/89645196?v=4","gravatar_id":"","url":"https://api.github.com/users/Jacques-z","html_url":"https://github.com/Jacques-z","followers_url":"https://api.github.com/users/Jacques-z/followers","following_url":"https://api.github.com/users/Jacques-z/following{/other_user}","gists_url":"https://api.github.com/users/Jacques-z/gists{/gist_id}","starred_url":"https://api.github.com/users/Jacques-z/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jacques-z/subscriptions","organizations_url":"https://api.github.com/users/Jacques-z/orgs","repos_url":"https://api.github.com/users/Jacques-z/repos","events_url":"https://api.github.com/users/Jacques-z/events{/privacy}","received_events_url":"https://api.github.com/users/Jacques-z/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767667,"node_id":"MDU6TGFiZWw2Nzc2NzY2Nw==","url":"https://api.github.com/repos/syncthing/syncthing/labels/enhancement","name":"enhancement","color":"0e8a16","default":true,"description":"New features or improvements of some kind, as opposed to a problem (bug)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"},{"id":2043110077,"node_id":"MDU6TGFiZWwyMDQzMTEwMDc3","url":"https://api.github.com/repos/syncthing/syncthing/labels/needs-triage","name":"needs-triage","color":"ce23af","default":false,"description":"New issues needed to be validated"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-12-10T09:18:47Z","updated_at":"2025-04-09T18:51:36Z","closed_at":"2023-12-10T09:40:08Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":14712850,"node_id":"MDEwOlJlcG9zaXRvcnkxNDcxMjg1MA==","name":"syncthing","full_name":"syncthing/syncthing","private":false,"owner":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/syncthing/syncthing","description":"Open Source Continuous File Synchronization","fork":false,"url":"https://api.github.com/repos/syncthing/syncthing","forks_url":"https://api.github.com/repos/syncthing/syncthing/forks","keys_url":"https://api.github.com/repos/syncthing/syncthing/keys{/key_id}","collaborators_url":"https://api.github.com/repos/syncthing/syncthing/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/syncthing/syncthing/teams","hooks_url":"https://api.github.com/repos/syncthing/syncthing/hooks","issue_events_url":"https://api.github.com/repos/syncthing/syncthing/issues/events{/number}","events_url":"https://api.github.com/repos/syncthing/syncthing/events","assignees_url":"https://api.github.com/repos/syncthing/syncthing/assignees{/user}","branches_url":"https://api.github.com/repos/syncthing/syncthing/branches{/branch}","tags_url":"https://api.github.com/repos/syncthing/syncthing/tags","blobs_url":"https://api.github.com/repos/syncthing/syncthing/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/syncthing/syncthing/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/syncthing/syncthing/git/refs{/sha}","trees_url":"https://api.github.com/repos/syncthing/syncthing/git/trees{/sha}","statuses_url":"https://api.github.com/repos/syncthing/syncthing/statuses/{sha}","languages_url":"https://api.github.com/repos/syncthing/syncthing/languages","stargazers_url":"https://api.github.com/repos/syncthing/syncthing/stargazers","contributors_url":"https://api.github.com/repos/syncthing/syncthing/contributors","subscribers_url":"https://api.github.com/repos/syncthing/syncthing/subscribers","subscription_url":"https://api.github.com/repos/syncthing/syncthing/subscription","commits_url":"https://api.github.com/repos/syncthing/syncthing/commits{/sha}","git_commits_url":"https://api.github.com/repos/syncthing/syncthing/git/commits{/sha}","comments_url":"https://api.github.com/repos/syncthing/syncthing/comments{/number}","issue_comment_url":"https://api.github.com/repos/syncthing/syncthing/issues/comments{/number}","contents_url":"https://api.github.com/repos/syncthing/syncthing/contents/{+path}","compare_url":"https://api.github.com/repos/syncthing/syncthing/compare/{base}...{head}","merges_url":"https://api.github.com/repos/syncthing/syncthing/merges","archive_url":"https://api.github.com/repos/syncthing/syncthing/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/syncthing/syncthing/downloads","issues_url":"https://api.github.com/repos/syncthing/syncthing/issues{/number}","pulls_url":"https://api.github.com/repos/syncthing/syncthing/pulls{/number}","milestones_url":"https://api.github.com/repos/syncthing/syncthing/milestones{/number}","notifications_url":"https://api.github.com/repos/syncthing/syncthing/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/syncthing/syncthing/labels{/name}","releases_url":"https://api.github.com/repos/syncthing/syncthing/releases{/id}","deployments_url":"https://api.github.com/repos/syncthing/syncthing/deployments","created_at":"2013-11-26T09:48:21Z","updated_at":"2025-11-09T22:23:05Z","pushed_at":"2025-11-04T08:20:50Z","git_url":"git://github.com/syncthing/syncthing.git","ssh_url":"git@github.com:syncthing/syncthing.git","clone_url":"https://github.com/syncthing/syncthing.git","svn_url":"https://github.com/syncthing/syncthing","homepage":"https://syncthing.net/","size":124346,"stargazers_count":77447,"watchers_count":77447,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4825,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":361,"license":{"key":"mpl-2.0","name":"Mozilla Public License 2.0","spdx_id":"MPL-2.0","url":"https://api.github.com/licenses/mpl-2.0","node_id":"MDc6TGljZW5zZTE0"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["go","p2p","peer-to-peer","synchronization"],"visibility":"public","forks":4825,"open_issues":361,"watchers":77447,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I found syncthing putting things like `index.db` or `log`s in the config folder.\r\n\r\nI'm not an expert about this, but I feel this inappropriate.\r\nAs different folders are for different purposes and meanings, they don't seem to be belong to this place.\r\nI guess they are supposed to be stored in somewhere like `.local/share` or `.cache`? \r\nAt least not in `.config`.\r\nBTW, those `pem`s may also be better stored somewhere else?\r\n\r\nPut files in where they meant to be could **let users find what they want more quickly and more accurate, avoiding lots of search on net or in docs**.\r\n\r\nCould you please adapt syncthing to follow convention of Unix?\r\n\r\n---\r\nBelow this line describe I the reason I issued this.\r\n**WARNING**: tedious and not much relevant, just for background info.\r\n\r\nI really love syncthing so that I made some experiments, one of them caused something harmless but annoying.\r\n\r\nI had one folder `X` shared by two devices, one phone who uses syncthing-fork, the other, pad who uses `syncthing` through termux.\r\nI deleted the folder from the shared folders list on pad, then used phone to ask for share again, and accepted on the pad immediately. \r\nHowever, instead of an `up to date`, what I got was something like `out of sync`.\r\nThe `global state` contains twice the actual files, and when I click `items out of sync`, it was empty with only page numbers.\r\nThen I tried a few times deleting or moving destination, now global state is 6 times the actual size, while local state 4 times it.\r\n\r\nAnyway, wherever syncthing got such misunderstand, I thought I could simply remove relevant files to solve the problem.\r\nBut I failed.\r\nI don't know which files are save to remove and which are not, I even don't know where those relevant files are.\r\nI've looked up using `find ~ -name \"*sync*\"`(searching for st would lead to too much results) but found nothing I wanted.\r\nAlso I looked up `.cache` and `.local{,/share}`.\r\n\r\nActually, despite the error msg, syncthing is working well.\r\nBut I just feel so uneasy about that.\r\nSo I decided to open this issue.\r\n\r\nI know I shouldn't put two problems in one issue, but I don't mean to issue this problem, as it's only for background info.\r\nAs for the error msg, it's ok. \r\nI surely can live with it.","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/9272/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":11202699768,"node_id":"REFE_lADOAOCAEs50jzzAzwAAAAKbu6H4","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/11202699768","actor":{"login":"Martchus","id":10248953,"node_id":"MDQ6VXNlcjEwMjQ4OTUz","avatar_url":"https://avatars.githubusercontent.com/u/10248953?v=4","gravatar_id":"","url":"https://api.github.com/users/Martchus","html_url":"https://github.com/Martchus","followers_url":"https://api.github.com/users/Martchus/followers","following_url":"https://api.github.com/users/Martchus/following{/other_user}","gists_url":"https://api.github.com/users/Martchus/gists{/gist_id}","starred_url":"https://api.github.com/users/Martchus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Martchus/subscriptions","organizations_url":"https://api.github.com/users/Martchus/orgs","repos_url":"https://api.github.com/users/Martchus/repos","events_url":"https://api.github.com/users/Martchus/events{/privacy}","received_events_url":"https://api.github.com/users/Martchus/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"efa6775369f3593d4f8fc231b6a932a23e5492f5","commit_url":"https://api.github.com/repos/Martchus/syncthingtray/commits/efa6775369f3593d4f8fc231b6a932a23e5492f5","created_at":"2023-12-10T11:43:48Z","performed_via_github_app":null}]