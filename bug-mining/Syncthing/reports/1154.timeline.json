[{"id":3882908712,"node_id":"MDEyOkxhYmVsZWRFdmVudDM4ODI5MDg3MTI=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3882908712","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-10-15T18:03:13Z","label":{"name":"bug","color":"d93f0b"},"performed_via_github_app":null},{"id":3882908716,"node_id":"MDEyOkxhYmVsZWRFdmVudDM4ODI5MDg3MTY=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3882908716","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-10-15T18:03:13Z","label":{"name":"needs-triage","color":"ce23af"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/712265039","html_url":"https://github.com/syncthing/syncthing/issues/7036#issuecomment-712265039","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/7036","id":712265039,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjI2NTAzOQ==","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-19T15:58:34Z","updated_at":"2020-10-19T15:58:34Z","body":"I can't reproduce unfortunately - does it work consistently for you? Can you enable model and db debug logging while reproducing and share those logs.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/712265039/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/712323226","html_url":"https://github.com/syncthing/syncthing/issues/7036#issuecomment-712323226","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/7036","id":712323226,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjMyMzIyNg==","user":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-19T17:38:19Z","updated_at":"2020-10-19T17:52:58Z","body":"You cannot reproduce this, because I have missed a few required steps, which I apologise for. This is actually a little bit crazy. I have just re-tested everything, and below is the actual way to reproduce the problem.\r\n\r\nHow to reproduce:\r\n\r\n1. Create and share an empty folder between 3 devices - A, B, and C. \r\n2. Add a few large files to the folder on A.\r\n3. **Let the files sync, then delete them on A, and let the deletions sync.**\r\n4. **Re-add the files again to the folder on A.**\r\n5. While the files are still being pushed from A to B and C, shut Syncthing down on A.\r\n6. **Replace the Syncthing binary on A with a newer/different version.**\r\n7. Restart Syncthing on A.\r\n8. Wait for the previously interrupted synchronisation to finish.\r\n9. **B and C are stuck trying to sync the files to to each other, but they exist there already.**\r\n\r\nJust in case, here are the logs with `db` and `model` enabled.\r\n\r\n[syncthing1.log](https://github.com/syncthing/syncthing/files/5403680/syncthing1.log) (Device A)\r\n[syncthing2.log](https://github.com/syncthing/syncthing/files/5403681/syncthing2.log) (Device B)\r\n[syncthing3.log](https://github.com/syncthing/syncthing/files/5403682/syncthing3.log) (Device C)\r\n\r\nPerhaps there is a simpler way to reproduce this, but I have tried multiple times, and it seems that all these steps are required. Firstly, the files need to have already been present in the databases before, even if they do not exist now. Secondly, there needs to be an upgrade/replacement of the Syncthing binary in between the interrupted synchronisation. Lastly, more than 2 devices need to be involved for the error to occur. Also, sometimes both B and C are stuck in sync, and sometimes only one of them, but I do not know why it is so.\r\n\r\nJust for the record, I missed the step 3. in my original instructions, because I had already been adding and removing the files during the testing, so I did not realise that there was a difference there. As for the step 6., the thing is that once the problem has occurred once, it will also keep re-occurring later when reproducing following the same steps, i.e. the binary upgrade is not necessary anymore. I have only managed to find these two requirements now after deleting the original databases and starting from scratch.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/712323226/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tomasz1986","id":5626656,"node_id":"MDQ6VXNlcjU2MjY2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5626656?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz1986","html_url":"https://github.com/tomasz1986","followers_url":"https://api.github.com/users/tomasz1986/followers","following_url":"https://api.github.com/users/tomasz1986/following{/other_user}","gists_url":"https://api.github.com/users/tomasz1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz1986/subscriptions","organizations_url":"https://api.github.com/users/tomasz1986/orgs","repos_url":"https://api.github.com/users/tomasz1986/repos","events_url":"https://api.github.com/users/tomasz1986/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz1986/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/712404873","html_url":"https://github.com/syncthing/syncthing/issues/7036#issuecomment-712404873","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/7036","id":712404873,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjQwNDg3Mw==","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-19T19:52:09Z","updated_at":"2020-10-19T19:52:09Z","body":"Thanks for the logs. After a bit of staring I noticed a smoking gun (after index reset of A, B suddenly needed two items instead of just the one) and now managed to reproduce it in a unit test. Now I can look into the cause and a fix :)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/712404873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3895253305,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50Mzg5NTI1MzMwNQ==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3895253305","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2020-10-19T19:52:16Z","label":{"name":"needs-triage","color":"ce23af"},"performed_via_github_app":null},{"id":3895253385,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQzODk1MjUzMzg1","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3895253385","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2020-10-19T19:52:17Z","assignee":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":3895332848,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM4OTUzMzI4NDg=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3895332848","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a9fa264d6028083ce0aa9400f294bfef73479fc5","commit_url":"https://api.github.com/repos/imsodin/syncthing/commits/a9fa264d6028083ce0aa9400f294bfef73479fc5","created_at":"2020-10-19T20:13:29Z","performed_via_github_app":null},{"id":3895342749,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM4OTUzNDI3NDk=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3895342749","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2c4c7158badc0a74d196c9c31b577bb5849d7a80","commit_url":"https://api.github.com/repos/imsodin/syncthing/commits/2c4c7158badc0a74d196c9c31b577bb5849d7a80","created_at":"2020-10-19T20:16:02Z","performed_via_github_app":null},{"actor":{"login":"KRMisha","id":30484238,"node_id":"MDQ6VXNlcjMwNDg0MjM4","avatar_url":"https://avatars.githubusercontent.com/u/30484238?v=4","gravatar_id":"","url":"https://api.github.com/users/KRMisha","html_url":"https://github.com/KRMisha","followers_url":"https://api.github.com/users/KRMisha/followers","following_url":"https://api.github.com/users/KRMisha/following{/other_user}","gists_url":"https://api.github.com/users/KRMisha/gists{/gist_id}","starred_url":"https://api.github.com/users/KRMisha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KRMisha/subscriptions","organizations_url":"https://api.github.com/users/KRMisha/orgs","repos_url":"https://api.github.com/users/KRMisha/repos","events_url":"https://api.github.com/users/KRMisha/events{/privacy}","received_events_url":"https://api.github.com/users/KRMisha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-20T21:30:09Z","updated_at":"2020-10-20T21:30:09Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7046","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/7046/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/7046/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/7046/events","html_url":"https://github.com/syncthing/syncthing/issues/7046","id":725956882,"node_id":"MDU6SXNzdWU3MjU5NTY4ODI=","number":7046,"title":"Ignored files considered \"Out of Sync Items\" despite folder being \"Up to Date\"","user":{"login":"KRMisha","id":30484238,"node_id":"MDQ6VXNlcjMwNDg0MjM4","avatar_url":"https://avatars.githubusercontent.com/u/30484238?v=4","gravatar_id":"","url":"https://api.github.com/users/KRMisha","html_url":"https://github.com/KRMisha","followers_url":"https://api.github.com/users/KRMisha/followers","following_url":"https://api.github.com/users/KRMisha/following{/other_user}","gists_url":"https://api.github.com/users/KRMisha/gists{/gist_id}","starred_url":"https://api.github.com/users/KRMisha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KRMisha/subscriptions","organizations_url":"https://api.github.com/users/KRMisha/orgs","repos_url":"https://api.github.com/users/KRMisha/repos","events_url":"https://api.github.com/users/KRMisha/events{/privacy}","received_events_url":"https://api.github.com/users/KRMisha/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"},{"id":2043110077,"node_id":"MDU6TGFiZWwyMDQzMTEwMDc3","url":"https://api.github.com/repos/syncthing/syncthing/labels/needs-triage","name":"needs-triage","color":"ce23af","default":false,"description":"New issues needed to be validated"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-10-20T21:27:58Z","updated_at":"2021-11-10T07:02:58Z","closed_at":"2020-11-09T11:11:24Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":14712850,"node_id":"MDEwOlJlcG9zaXRvcnkxNDcxMjg1MA==","name":"syncthing","full_name":"syncthing/syncthing","private":false,"owner":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/syncthing/syncthing","description":"Open Source Continuous File Synchronization","fork":false,"url":"https://api.github.com/repos/syncthing/syncthing","forks_url":"https://api.github.com/repos/syncthing/syncthing/forks","keys_url":"https://api.github.com/repos/syncthing/syncthing/keys{/key_id}","collaborators_url":"https://api.github.com/repos/syncthing/syncthing/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/syncthing/syncthing/teams","hooks_url":"https://api.github.com/repos/syncthing/syncthing/hooks","issue_events_url":"https://api.github.com/repos/syncthing/syncthing/issues/events{/number}","events_url":"https://api.github.com/repos/syncthing/syncthing/events","assignees_url":"https://api.github.com/repos/syncthing/syncthing/assignees{/user}","branches_url":"https://api.github.com/repos/syncthing/syncthing/branches{/branch}","tags_url":"https://api.github.com/repos/syncthing/syncthing/tags","blobs_url":"https://api.github.com/repos/syncthing/syncthing/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/syncthing/syncthing/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/syncthing/syncthing/git/refs{/sha}","trees_url":"https://api.github.com/repos/syncthing/syncthing/git/trees{/sha}","statuses_url":"https://api.github.com/repos/syncthing/syncthing/statuses/{sha}","languages_url":"https://api.github.com/repos/syncthing/syncthing/languages","stargazers_url":"https://api.github.com/repos/syncthing/syncthing/stargazers","contributors_url":"https://api.github.com/repos/syncthing/syncthing/contributors","subscribers_url":"https://api.github.com/repos/syncthing/syncthing/subscribers","subscription_url":"https://api.github.com/repos/syncthing/syncthing/subscription","commits_url":"https://api.github.com/repos/syncthing/syncthing/commits{/sha}","git_commits_url":"https://api.github.com/repos/syncthing/syncthing/git/commits{/sha}","comments_url":"https://api.github.com/repos/syncthing/syncthing/comments{/number}","issue_comment_url":"https://api.github.com/repos/syncthing/syncthing/issues/comments{/number}","contents_url":"https://api.github.com/repos/syncthing/syncthing/contents/{+path}","compare_url":"https://api.github.com/repos/syncthing/syncthing/compare/{base}...{head}","merges_url":"https://api.github.com/repos/syncthing/syncthing/merges","archive_url":"https://api.github.com/repos/syncthing/syncthing/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/syncthing/syncthing/downloads","issues_url":"https://api.github.com/repos/syncthing/syncthing/issues{/number}","pulls_url":"https://api.github.com/repos/syncthing/syncthing/pulls{/number}","milestones_url":"https://api.github.com/repos/syncthing/syncthing/milestones{/number}","notifications_url":"https://api.github.com/repos/syncthing/syncthing/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/syncthing/syncthing/labels{/name}","releases_url":"https://api.github.com/repos/syncthing/syncthing/releases{/id}","deployments_url":"https://api.github.com/repos/syncthing/syncthing/deployments","created_at":"2013-11-26T09:48:21Z","updated_at":"2025-11-09T22:07:32Z","pushed_at":"2025-11-04T08:20:50Z","git_url":"git://github.com/syncthing/syncthing.git","ssh_url":"git@github.com:syncthing/syncthing.git","clone_url":"https://github.com/syncthing/syncthing.git","svn_url":"https://github.com/syncthing/syncthing","homepage":"https://syncthing.net/","size":124346,"stargazers_count":77446,"watchers_count":77446,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4825,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":361,"license":{"key":"mpl-2.0","name":"Mozilla Public License 2.0","spdx_id":"MPL-2.0","url":"https://api.github.com/licenses/mpl-2.0","node_id":"MDc6TGljZW5zZTE0"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["go","p2p","peer-to-peer","synchronization"],"visibility":"public","forks":4825,"open_issues":361,"watchers":77446,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Files are being marked as \"Out of Sync\" in the device overview section, despite both folders being up to date. The files in question are files which were deleted from the device which is consired the \"modifying device\". The files are in the .stignore for both devices, and are not physically present anymore. Syncthing on the receiving device seems to be trying to sync the deletion of the files. May be related to: https://forum.syncthing.net/t/folders-up-to-date-but-stuck-in-syncing-with-empty-out-of-sync-items/15667/10\r\n\r\nReceiving device (\"dreamrunner-k\"):\r\n![image](https://user-images.githubusercontent.com/30484238/96644824-9d499780-12f7-11eb-88d8-2d67fe8be340.png)\r\n![image](https://user-images.githubusercontent.com/30484238/96644860-af2b3a80-12f7-11eb-8a02-ae107b23a0aa.png)\r\n\r\nSending device (\"Vault111\"):\r\n![image](https://user-images.githubusercontent.com/30484238/96644790-8e62e500-12f7-11eb-9c95-899ba5a15d92.png)\r\n\r\n### Potential reproduction steps\r\n> I have not verified these, but I suspect the strange combination of steps (or some slight variation of these) may have triggered the error. I am not sure these exact steps will be able to reproduce the error.\r\n1. Prerequisites: 3 devices, all in sync with the files in question, nothing in .stignore.\r\n1. Initially, all devices have the files. Both the receiving and sending device are synced, as well as the 3rd device. 3rd device is initially off.\r\n1. Delete files from the sending device. Let receiving device sync.\r\n1. Add files to .stignore on the receiving device.\r\n1. Add files to .stignore on the sending device.\r\n1. Turn off receiving device.\r\n1. Turn on 3rd device. Since the deleted files are in the .stignore on the sending device, the files do not get deleted on the 3rd device (this is expected of course).\r\n1. Remove files from .stignore on the sending device. Let the 3rd device sync, which will delete the files.\r\n1. Add files back on the 3rd device. Let the sending device sync, and this will re-add the files to the sending device.\r\n1. Add the files back to .stignore on the sending device.\r\n1. Add files to .stignore on the 3rd device.\r\n1. Delete files from the 3rd device directly (not through syncing).\r\n1. Turn off 3rd device.\r\n1. Delete files from the sending device directly (not through syncing).\r\n1. Turn on receiving device. The bug may now appear (I'm not certain if these steps will be able to reproduce the error).\r\n\r\n### Failed attempts to resolve the situation\r\n- Restarting both sending and receiving devices.\r\n- Pausing/unpausing the folder or devices.\r\n- Removing the files from both devices' .stignore files.\r\n\r\n### What does resolve the situation\r\n- Turn on 3rd device while both receiving and sending devices are on.\r\n\r\nThis may be related to #7036, although I'm not entirely sure. Thank you everyone for all your hard work to make Syncthing a great piece of software!","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7046/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/7046/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":3902097884,"node_id":"MDExOkNsb3NlZEV2ZW50MzkwMjA5Nzg4NA==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3902097884","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"27c91c57d5cab2b2c0d74a753a74304a4feb576f","commit_url":"https://api.github.com/repos/syncthing/syncthing/commits/27c91c57d5cab2b2c0d74a753a74304a4feb576f","created_at":"2020-10-21T06:26:13Z","state_reason":null,"performed_via_github_app":null},{"id":3903051233,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDM5MDMwNTEyMzM=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/3903051233","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2020-10-21T10:15:39Z","milestone":{"title":"v1.11.0"},"performed_via_github_app":null},{"id":5496343586,"node_id":"LE_lADOAOCAEs4rEUHozwAAAAFHm4wi","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/5496343586","actor":{"login":"st-review","id":16196517,"node_id":"MDQ6VXNlcjE2MTk2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/16196517?v=4","gravatar_id":"","url":"https://api.github.com/users/st-review","html_url":"https://github.com/st-review","followers_url":"https://api.github.com/users/st-review/followers","following_url":"https://api.github.com/users/st-review/following{/other_user}","gists_url":"https://api.github.com/users/st-review/gists{/gist_id}","starred_url":"https://api.github.com/users/st-review/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/st-review/subscriptions","organizations_url":"https://api.github.com/users/st-review/orgs","repos_url":"https://api.github.com/users/st-review/repos","events_url":"https://api.github.com/users/st-review/events{/privacy}","received_events_url":"https://api.github.com/users/st-review/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-10-21T07:02:40Z","label":{"name":"frozen-due-to-age","color":"eeeeee"},"performed_via_github_app":null},{"id":5496343620,"node_id":"LOE_lADOAOCAEs4rEUHozwAAAAFHm4xE","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/5496343620","actor":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2021-10-21T07:02:41Z","lock_reason":null,"performed_via_github_app":null}]