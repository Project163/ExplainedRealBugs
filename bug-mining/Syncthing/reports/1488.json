{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9927","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/9927/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/9927/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/9927/events","html_url":"https://github.com/syncthing/syncthing/issues/9927","id":2795033655,"node_id":"I_kwDOAOCAEs6mmNQ3","number":9927,"title":"FS notification watch aggregator stuck spinning on timers (\"CPU Usage High with no mission\")","user":{"login":"zhengran14","id":12780695,"node_id":"MDQ6VXNlcjEyNzgwNjk1","avatar_url":"https://avatars.githubusercontent.com/u/12780695?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengran14","html_url":"https://github.com/zhengran14","followers_url":"https://api.github.com/users/zhengran14/followers","following_url":"https://api.github.com/users/zhengran14/following{/other_user}","gists_url":"https://api.github.com/users/zhengran14/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengran14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengran14/subscriptions","organizations_url":"https://api.github.com/users/zhengran14/orgs","repos_url":"https://api.github.com/users/zhengran14/repos","events_url":"https://api.github.com/users/zhengran14/events{/privacy}","received_events_url":"https://api.github.com/users/zhengran14/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/119","html_url":"https://github.com/syncthing/syncthing/milestone/119","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/119/labels","id":12635859,"node_id":"MI_kwDOAOCAEs4AwM7T","number":119,"title":"v2.0.0","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":79,"state":"closed","created_at":"2025-03-29T14:10:29Z","updated_at":"2025-08-12T06:17:02Z","due_on":"2025-08-12T07:00:00Z","closed_at":"2025-08-12T06:17:02Z"},"comments":20,"created_at":"2025-01-17T09:56:43Z","updated_at":"2025-08-12T06:12:56Z","closed_at":"2025-06-13T22:16:23Z","author_association":"NONE","type":{"id":818058,"node_id":"IT_kwDOAHRk8s4ADHuK","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T10:48:46Z","updated_at":"2024-07-26T10:15:52Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What happened?\n\nI encountered this issue on both v1.20 and v1.27.7. Currently, the situation is that I don't have any tasks (there might have been some in the past, but at least right now there are no tasks), and CPU usage randomly spikes to very high levels. At this point, restarting syncthing resolves the issue, but whether it will reoccur or how long it will take to appear is uncertain.\nThis is the pprof I capturedï¼š\n[cpu pprof](https://github.com/zhengran14/SyncthingProblem/blob/main/syncthing-cpu-linux-amd64-v1.27.7-xnas-s20250108195554-160609.pprof)\n[heap pprof](https://github.com/zhengran14/SyncthingProblem/blob/main/syncthing-heap-linux-amd64-v1.27.7-xnas-s20250108195554-160654.pprof)\n\n\nThis is the top output:\n```bash\n      flat  flat%   sum%        cum   cum%\n    8130ms 20.71% 20.71%     8130ms 20.71%  math.archExp\n    7710ms 19.64% 40.35%     7710ms 19.64%  runtime.memclrNoHeapPointers\n    3730ms  9.50% 49.85%     3980ms 10.14%  math.log1p\n    1310ms  3.34% 53.18%     3970ms 10.11%  runtime.scanobject\n    1240ms  3.16% 56.34%     1240ms  3.16%  math.archLog\n    1160ms  2.95% 59.30%    16150ms 41.14%  github.com/greatroar/blobloom.fpRate\n     590ms  1.50% 60.80%     2340ms  5.96%  github.com/greatroar/blobloom.logPoisson\n     540ms  1.38% 62.18%      810ms  2.06%  runtime.findObject\n     530ms  1.35% 63.53%      530ms  1.35%  runtime.(*mspan).base (inline)\n     490ms  1.25% 64.77%      490ms  1.25%  runtime.futex\n```\n\n### Syncthing version\n\nv1.27.7\n\n### Platform & operating system\n\nLinux amd64 Debian\n\n### Browser version\n\nSafari, Chrome\n\n### Relevant log output\n\n```shell\n\n```","closed_by":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9927/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/9927/timeline","performed_via_github_app":null,"state_reason":"completed"}