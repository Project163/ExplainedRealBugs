{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7178","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/7178/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/7178/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/7178/events","html_url":"https://github.com/syncthing/syncthing/issues/7178","id":755672790,"node_id":"MDU6SXNzdWU3NTU2NzI3OTA=","number":7178,"title":"Pending devices and folders should live in the database instead of configuration","user":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767667,"node_id":"MDU6TGFiZWw2Nzc2NzY2Nw==","url":"https://api.github.com/repos/syncthing/syncthing/labels/enhancement","name":"enhancement","color":"0e8a16","default":true,"description":"New features or improvements of some kind, as opposed to a problem (bug)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/59","html_url":"https://github.com/syncthing/syncthing/milestone/59","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/59/labels","id":6215237,"node_id":"MDk6TWlsZXN0b25lNjIxNTIzNw==","number":59,"title":"v1.13.0","description":"This release adds configuration options for min/max connections (see https://docs.syncthing.net/advanced/option-connection-limits.html) and moves the storage of pending devices/folders from the config to the database (see https://docs.syncthing.net/dev/rest.html#cluster-endpoints).","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":45,"state":"closed","created_at":"2020-12-15T13:04:43Z","updated_at":"2021-02-02T16:05:22Z","due_on":"2021-02-02T08:00:00Z","closed_at":"2021-02-02T16:05:22Z"},"comments":0,"created_at":"2020-12-02T22:59:00Z","updated_at":"2021-12-18T07:02:23Z","closed_at":"2020-12-17T18:54:32Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The record of \"pending\" devices and folders is based on connection attempts and folders announced through the ClusterConfig BEP message.  That collected information does not belong in the configuration file, which expresses user preferences and deliberate choices.  It was however stored there because of the similarity between pending and ignored records, which used the same data structure side by side.\r\n\r\nPossibly writing the configuration every time a ClusterConfig message comes in is also bad for performance and might mess with external tools handling the config.xml.\r\n\r\nA better place for this type of information would be the database, which already holds persisted data collected during scanning and some other details which are not strictly configuration.","closed_by":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/7178/timeline","performed_via_github_app":null,"state_reason":"completed"}