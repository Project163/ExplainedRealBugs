{"url":"https://api.github.com/repos/syncthing/syncthing/issues/2012","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/2012/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/2012/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/2012/events","html_url":"https://github.com/syncthing/syncthing/issues/2012","id":92063129,"node_id":"MDU6SXNzdWU5MjA2MzEyOQ==","number":2012,"title":"Setguid permission is not preserved on new subfolders","user":{"login":"brgmnn","id":1955273,"node_id":"MDQ6VXNlcjE5NTUyNzM=","avatar_url":"https://avatars.githubusercontent.com/u/1955273?v=4","gravatar_id":"","url":"https://api.github.com/users/brgmnn","html_url":"https://github.com/brgmnn","followers_url":"https://api.github.com/users/brgmnn/followers","following_url":"https://api.github.com/users/brgmnn/following{/other_user}","gists_url":"https://api.github.com/users/brgmnn/gists{/gist_id}","starred_url":"https://api.github.com/users/brgmnn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brgmnn/subscriptions","organizations_url":"https://api.github.com/users/brgmnn/orgs","repos_url":"https://api.github.com/users/brgmnn/repos","events_url":"https://api.github.com/users/brgmnn/events{/privacy}","received_events_url":"https://api.github.com/users/brgmnn/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2015-06-30T11:13:20Z","updated_at":"2017-06-16T21:06:22Z","closed_at":"2015-07-04T17:37:24Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The setguid bit on new folders created by syncthing is not preserved when those new folders are created as children of a folder with the setguid bit enabled.\n\nMy system is Debian Jessie 8.1 and I'm running Syncthing v0.11.10 (from the debian release channel).\n\nI expected the setgid bit to be preserved as it is when using `mkdir` from the command line. This is a problem as I have a shared folder between multiple users all in a common group and I would like to keep all newly created folders owned by that group. As it stands, I have a top folder called `music` with permissions `drwxrwsr-x+`, when Syncthing creates a sub-folder `Queen` that folder does not inherit setguid and instead has permissions `drwxrwxr-x+` (note that it should be `drwxrwsr-x+`). This is a problem as when Syncthing creates a sub-folder of `Queen`, `Queen/Jazz` that folder now has syncthing as it's group as opposed to `media`, the shared group I would like. Now other users cannot access `Queen/Jazz`.\n\nI have tried creating folders and files on the command line under different user accounts and everything is working as I expect so I'm confident I've set up my permissions, groups and ACLs correctly and hence why I suspect this is an issue in Syncthing.\n\nI may also be able to submit a pull request to fix this but I would greatly appreciate a few pointers towards the relevant areas of code that I should look at.\n","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/2012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/2012/timeline","performed_via_github_app":null,"state_reason":"completed"}