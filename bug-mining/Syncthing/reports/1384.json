{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9001","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/9001/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/9001/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/9001/events","html_url":"https://github.com/syncthing/syncthing/issues/9001","id":1820079086,"node_id":"I_kwDOAOCAEs5sfDPu","number":9001,"title":"relaysrv crash after some weeks of operation","user":{"login":"phloggu","id":12578290,"node_id":"MDQ6VXNlcjEyNTc4Mjkw","avatar_url":"https://avatars.githubusercontent.com/u/12578290?v=4","gravatar_id":"","url":"https://api.github.com/users/phloggu","html_url":"https://github.com/phloggu","followers_url":"https://api.github.com/users/phloggu/followers","following_url":"https://api.github.com/users/phloggu/following{/other_user}","gists_url":"https://api.github.com/users/phloggu/gists{/gist_id}","starred_url":"https://api.github.com/users/phloggu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phloggu/subscriptions","organizations_url":"https://api.github.com/users/phloggu/orgs","repos_url":"https://api.github.com/users/phloggu/repos","events_url":"https://api.github.com/users/phloggu/events{/privacy}","received_events_url":"https://api.github.com/users/phloggu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/95","html_url":"https://github.com/syncthing/syncthing/milestone/95","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/95/labels","id":9623598,"node_id":"MI_kwDOAOCAEs4Aktgu","number":95,"title":"v1.23.7","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":32,"state":"closed","created_at":"2023-07-06T11:38:07Z","updated_at":"2023-08-09T09:10:02Z","due_on":"2023-08-08T07:00:00Z","closed_at":"2023-08-09T09:10:02Z"},"comments":4,"created_at":"2023-07-25T10:59:03Z","updated_at":"2024-07-26T18:44:38Z","closed_at":"2023-07-26T22:55:51Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"strelaysrv v1.22.1 \"Fermium Flea\" (go1.19.2 linux-amd64) deb@build.syncthing.net 2022-11-02 06:27:53 UTC [noupgrade]\r\n\r\nAfter some weeks of operation syncthing relayserver crashes with (from the debug log):\r\n```\r\nsyncthing-relaysrv: panic: runtime error: invalid memory address or nil pointer dereference\r\nsyncthing-relaysrv: [signal SIGSEGV: segmentation violation code=0x1 addr=0x30 pc=0x9cd307]\r\nsyncthing-relaysrv: \r\nsyncthing-relaysrv: goroutine 14 [running]:\r\nsyncthing-relaysrv: main.listener({0x0?, 0x0?}, {0xaf26dc?, 0x0?}, 0xc00026e000, {0x0, 0x0})\r\nsyncthing-relaysrv: #011github.com/syncthing/syncthing/cmd/strelaysrv/listener.go:40 +0xc7\r\nsyncthing-relaysrv: created by main.main\r\nsyncthing-relaysrv: #011github.com/syncthing/syncthing/cmd/strelaysrv/main.go:280 +0x2213\r\n```\r\nNo unusual action is logged before the crash.\r\nThere is no hint in the syslog.\r\nThere were around 7000 session handled on the day of the crash. \r\nThe crash happened already several times. I've never experienced such a crash with versions before 1.22.1.\r\n","closed_by":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/9001/timeline","performed_via_github_app":null,"state_reason":"completed"}