{"url":"https://api.github.com/repos/syncthing/syncthing/issues/4875","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/4875/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/4875/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/4875/events","html_url":"https://github.com/syncthing/syncthing/issues/4875","id":313515213,"node_id":"MDU6SXNzdWUzMTM1MTUyMTM=","number":4875,"title":"Zeroed local/global \"state\" (local files untouched) and remote file deletion with root Windows symlink","user":{"login":"PrototypeNM1","id":2732021,"node_id":"MDQ6VXNlcjI3MzIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/2732021?v=4","gravatar_id":"","url":"https://api.github.com/users/PrototypeNM1","html_url":"https://github.com/PrototypeNM1","followers_url":"https://api.github.com/users/PrototypeNM1/followers","following_url":"https://api.github.com/users/PrototypeNM1/following{/other_user}","gists_url":"https://api.github.com/users/PrototypeNM1/gists{/gist_id}","starred_url":"https://api.github.com/users/PrototypeNM1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PrototypeNM1/subscriptions","organizations_url":"https://api.github.com/users/PrototypeNM1/orgs","repos_url":"https://api.github.com/users/PrototypeNM1/repos","events_url":"https://api.github.com/users/PrototypeNM1/events{/privacy}","received_events_url":"https://api.github.com/users/PrototypeNM1/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/21","html_url":"https://github.com/syncthing/syncthing/milestone/21","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/21/labels","id":3216518,"node_id":"MDk6TWlsZXN0b25lMzIxNjUxOA==","number":21,"title":"v0.14.47","description":null,"creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":10,"state":"closed","created_at":"2018-03-26T09:31:04Z","updated_at":"2018-06-06T21:34:12Z","due_on":null,"closed_at":"2018-05-01T10:36:09Z"},"comments":9,"created_at":"2018-04-11T22:53:49Z","updated_at":"2019-04-18T07:02:42Z","closed_at":"2018-04-17T20:53:11Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When specifying a sync directory as a symlink to another drive and using the filesystem watcher I receive the following error on Windows:\r\n\r\nFailed to start filesystem watcher for folder \"Documents\" (mqanr-z452q): GetFileAttributesEx /S:\\Documents: The filename, directory name, or volume label syntax is incorrect.\r\n\r\nThe path provided in Syncthing's config is \"~/Documents\", I suspect the / is not being stripped given GetFileAttributesEx **/S:\\...** I verified the ~ is not related to the issue by also specifying the absolute path and verifying the error persists.\r\n\r\nAlso triggered by this is that after a seemingly successful scan of the directory and it's contents (e.g. the number of files and folders look correct) the files and folders drop to 0, and remote devices empty their drives resulting is data loss on remote devices (note the local sync folders are unaffected).\r\n\r\n### Version Information\r\n\r\nSyncthing Version: v0.14.46\r\nOS Version: Windows 10\r\n\r\n","closed_by":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/4875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/4875/timeline","performed_via_github_app":null,"state_reason":"completed"}