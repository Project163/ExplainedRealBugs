{"url":"https://api.github.com/repos/syncthing/syncthing/issues/6075","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/6075/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/6075/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/6075/events","html_url":"https://github.com/syncthing/syncthing/issues/6075","id":504806869,"node_id":"MDU6SXNzdWU1MDQ4MDY4Njk=","number":6075,"title":"Feature: API check sync status of folder[s]","user":{"login":"supersexy","id":11744844,"node_id":"MDQ6VXNlcjExNzQ0ODQ0","avatar_url":"https://avatars.githubusercontent.com/u/11744844?v=4","gravatar_id":"","url":"https://api.github.com/users/supersexy","html_url":"https://github.com/supersexy","followers_url":"https://api.github.com/users/supersexy/followers","following_url":"https://api.github.com/users/supersexy/following{/other_user}","gists_url":"https://api.github.com/users/supersexy/gists{/gist_id}","starred_url":"https://api.github.com/users/supersexy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/supersexy/subscriptions","organizations_url":"https://api.github.com/users/supersexy/orgs","repos_url":"https://api.github.com/users/supersexy/repos","events_url":"https://api.github.com/users/supersexy/events{/privacy}","received_events_url":"https://api.github.com/users/supersexy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767667,"node_id":"MDU6TGFiZWw2Nzc2NzY2Nw==","url":"https://api.github.com/repos/syncthing/syncthing/labels/enhancement","name":"enhancement","color":"0e8a16","default":true,"description":"New features or improvements of some kind, as opposed to a problem (bug)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/51","html_url":"https://github.com/syncthing/syncthing/milestone/51","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/51/labels","id":5546853,"node_id":"MDk6TWlsZXN0b25lNTU0Njg1Mw==","number":51,"title":"v1.8.0","description":"This release:\r\n\r\n- adds the experimental `copyRangeMethod` config on folders, for use on filesystems with copy-on-write support. Please see https://docs.syncthing.net/advanced/folder-copyrangemethod.html for details.\r\n\r\n- adds TCP hole punching, used to establish high performance TCP connections in certain NAT scenarios where only relay or QUIC connections could be used previously.\r\n\r\n- adds a configuration to file versioning for how often to run cleanup. This defaults to once an hour, but is configurable from very frequently to never.","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":71,"state":"closed","created_at":"2020-06-16T13:44:35Z","updated_at":"2020-08-11T09:10:41Z","due_on":"2020-08-18T07:00:00Z","closed_at":"2020-08-11T09:10:41Z"},"comments":5,"created_at":"2019-10-09T18:04:22Z","updated_at":"2025-09-22T19:44:53Z","closed_at":"2020-07-03T06:48:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Sorry, I can not find a reliable, supported way to do an api call that reports about the sync status of one or all folder(s). I would like to do something on a folder with a bash script, but only if that folder is synced.\r\n\r\nI found a few hints in the forum:\r\nhttps://docs.syncthing.net/rest/db-completion-get.html looks like a simple `completion < 100` will do it, however my local computer gives me this result for a folder:\r\n```json\r\n{\r\n  \"completion\": 0,\r\n  \"globalBytes\": 2027069255,\r\n  \"needBytes\": 2027069255,\r\n  \"needDeletes\": 0,\r\n  \"needItems\": 251738\r\n}\r\n```\r\nValue of `completion` is 0 - why that? So that easy one will not work. Unfortunately I can not find any hint in the docs that helps me.\r\n\r\nThen I found https://docs.syncthing.net/rest/db-status-get.html - here I _guess_ that `needBytes` could be a good indicator if a directory is synced, but I am not sure - I would like to not guess.\r\n\r\nI have to dig much too deep for such a fundamentally important info - the syncthing api should make it much easier to get the sync status.\r\n\r\nSo I would like to propose an API call `GET rest/db/sync` that will give simple binary yes/no results about the sync status of all folders if called without options or of one folder if called with an optional folder name.\r\n\r\nMeanwhile it would be very lovely if anybody would like to tell me what is the most reliable way to get the current sync status of a folder, thanks!\r\n","closed_by":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/6075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/6075/timeline","performed_via_github_app":null,"state_reason":"completed"}