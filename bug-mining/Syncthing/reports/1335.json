{"url":"https://api.github.com/repos/syncthing/syncthing/issues/8430","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/8430/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/8430/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/8430/events","html_url":"https://github.com/syncthing/syncthing/issues/8430","id":1303115693,"node_id":"I_kwDOAOCAEs5Nq_et","number":8430,"title":"Add HTTP health check without using API Token","user":{"login":"richie-tt","id":22921911,"node_id":"MDQ6VXNlcjIyOTIxOTEx","avatar_url":"https://avatars.githubusercontent.com/u/22921911?v=4","gravatar_id":"","url":"https://api.github.com/users/richie-tt","html_url":"https://github.com/richie-tt","followers_url":"https://api.github.com/users/richie-tt/followers","following_url":"https://api.github.com/users/richie-tt/following{/other_user}","gists_url":"https://api.github.com/users/richie-tt/gists{/gist_id}","starred_url":"https://api.github.com/users/richie-tt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richie-tt/subscriptions","organizations_url":"https://api.github.com/users/richie-tt/orgs","repos_url":"https://api.github.com/users/richie-tt/repos","events_url":"https://api.github.com/users/richie-tt/events{/privacy}","received_events_url":"https://api.github.com/users/richie-tt/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767667,"node_id":"MDU6TGFiZWw2Nzc2NzY2Nw==","url":"https://api.github.com/repos/syncthing/syncthing/labels/enhancement","name":"enhancement","color":"0e8a16","default":true,"description":"New features or improvements of some kind, as opposed to a problem (bug)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":{"login":"er-pa","id":43787840,"node_id":"MDQ6VXNlcjQzNzg3ODQw","avatar_url":"https://avatars.githubusercontent.com/u/43787840?v=4","gravatar_id":"","url":"https://api.github.com/users/er-pa","html_url":"https://github.com/er-pa","followers_url":"https://api.github.com/users/er-pa/followers","following_url":"https://api.github.com/users/er-pa/following{/other_user}","gists_url":"https://api.github.com/users/er-pa/gists{/gist_id}","starred_url":"https://api.github.com/users/er-pa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/er-pa/subscriptions","organizations_url":"https://api.github.com/users/er-pa/orgs","repos_url":"https://api.github.com/users/er-pa/repos","events_url":"https://api.github.com/users/er-pa/events{/privacy}","received_events_url":"https://api.github.com/users/er-pa/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"er-pa","id":43787840,"node_id":"MDQ6VXNlcjQzNzg3ODQw","avatar_url":"https://avatars.githubusercontent.com/u/43787840?v=4","gravatar_id":"","url":"https://api.github.com/users/er-pa","html_url":"https://github.com/er-pa","followers_url":"https://api.github.com/users/er-pa/followers","following_url":"https://api.github.com/users/er-pa/following{/other_user}","gists_url":"https://api.github.com/users/er-pa/gists{/gist_id}","starred_url":"https://api.github.com/users/er-pa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/er-pa/subscriptions","organizations_url":"https://api.github.com/users/er-pa/orgs","repos_url":"https://api.github.com/users/er-pa/repos","events_url":"https://api.github.com/users/er-pa/events{/privacy}","received_events_url":"https://api.github.com/users/er-pa/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/86","html_url":"https://github.com/syncthing/syncthing/milestone/86","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/86/labels","id":8440894,"node_id":"MI_kwDOAOCAEs4AgMw-","number":86,"title":"v1.22.1","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":23,"state":"closed","created_at":"2022-09-20T09:35:07Z","updated_at":"2022-11-02T07:52:29Z","due_on":"2022-11-01T07:00:00Z","closed_at":"2022-11-02T07:52:29Z"},"comments":4,"created_at":"2022-07-13T08:50:20Z","updated_at":"2023-10-12T07:55:28Z","closed_at":"2022-10-06T19:28:51Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"/kind feature\r\n\r\n**Description**\r\nEach Router or API gateway (for example [Traefik](https://doc.traefik.io/traefik/routing/services/#health-check)) can verify if the destination service is working correctly, usually connecting on a specific path `/status` and only receiving an empty HTML body with HTTP code `200 OK` or `500 ERROR`. Such a check gives two crucial information to the gateway:\r\n - service is working correctly and it's ready for incoming traffic\r\n - service is operated from a network point of view (network and firewall are configured correctly)\r\n \r\nI would like to have the possibility to check the status of  [syncthing](https://github.com/syncthing/syncthing) by HTTP request.\r\nI know I could try to query [/rest/system/ping](https://docs.syncthing.net/rest/system-ping-get.html) but the problem is that the REST requires to use of API Token for authorization.  I don't want to put full RW API Token just to check PING and some API gateways are not able to send extra headers just for heatlcheck. \r\n\r\nI am open to any suggestion on how I could achieve an HTTP health check without API Token","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/8430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/8430/timeline","performed_via_github_app":null,"state_reason":"completed"}