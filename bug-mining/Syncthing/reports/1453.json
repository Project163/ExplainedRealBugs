{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9775","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/9775/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/9775/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/9775/events","html_url":"https://github.com/syncthing/syncthing/issues/9775","id":2598310478,"node_id":"I_kwDOAOCAEs6a3xJO","number":9775,"title":"Junctions as dirs doesn't work anymore","user":{"login":"hardtopnet","id":54667527,"node_id":"MDQ6VXNlcjU0NjY3NTI3","avatar_url":"https://avatars.githubusercontent.com/u/54667527?v=4","gravatar_id":"","url":"https://api.github.com/users/hardtopnet","html_url":"https://github.com/hardtopnet","followers_url":"https://api.github.com/users/hardtopnet/followers","following_url":"https://api.github.com/users/hardtopnet/following{/other_user}","gists_url":"https://api.github.com/users/hardtopnet/gists{/gist_id}","starred_url":"https://api.github.com/users/hardtopnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hardtopnet/subscriptions","organizations_url":"https://api.github.com/users/hardtopnet/orgs","repos_url":"https://api.github.com/users/hardtopnet/repos","events_url":"https://api.github.com/users/hardtopnet/events{/privacy}","received_events_url":"https://api.github.com/users/hardtopnet/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"}],"state":"closed","locked":false,"assignee":{"login":"rasa","id":220772,"node_id":"MDQ6VXNlcjIyMDc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/220772?v=4","gravatar_id":"","url":"https://api.github.com/users/rasa","html_url":"https://github.com/rasa","followers_url":"https://api.github.com/users/rasa/followers","following_url":"https://api.github.com/users/rasa/following{/other_user}","gists_url":"https://api.github.com/users/rasa/gists{/gist_id}","starred_url":"https://api.github.com/users/rasa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rasa/subscriptions","organizations_url":"https://api.github.com/users/rasa/orgs","repos_url":"https://api.github.com/users/rasa/repos","events_url":"https://api.github.com/users/rasa/events{/privacy}","received_events_url":"https://api.github.com/users/rasa/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"rasa","id":220772,"node_id":"MDQ6VXNlcjIyMDc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/220772?v=4","gravatar_id":"","url":"https://api.github.com/users/rasa","html_url":"https://github.com/rasa","followers_url":"https://api.github.com/users/rasa/followers","following_url":"https://api.github.com/users/rasa/following{/other_user}","gists_url":"https://api.github.com/users/rasa/gists{/gist_id}","starred_url":"https://api.github.com/users/rasa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rasa/subscriptions","organizations_url":"https://api.github.com/users/rasa/orgs","repos_url":"https://api.github.com/users/rasa/repos","events_url":"https://api.github.com/users/rasa/events{/privacy}","received_events_url":"https://api.github.com/users/rasa/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/113","html_url":"https://github.com/syncthing/syncthing/milestone/113","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/113/labels","id":11763248,"node_id":"MI_kwDOAOCAEs4As34w","number":113,"title":"v1.28.1","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":25,"state":"closed","created_at":"2024-10-20T06:52:06Z","updated_at":"2024-12-03T12:03:10Z","due_on":"2024-12-03T08:00:00Z","closed_at":"2024-12-03T12:03:10Z"},"comments":14,"created_at":"2024-10-18T20:11:34Z","updated_at":"2024-11-23T00:25:12Z","closed_at":"2024-10-27T15:08:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What happened?\r\n\r\nI used to be able to sync the contents of NTFS junction directories. I recently noticed that it doesn't seem to work anymore.\r\n\r\nI tried on 2 different machines, one with admin/systemwide install, the other with user install. On the systemwide install I added SyncthingServiceAcct to the perms on the sync'ed folder. The _Junctions as dirs_ option is set. \r\n\r\nRelevant logs below.\r\n\r\nHere are some screenshots:\r\n![syncthing_main](https://github.com/user-attachments/assets/9f85bbd5-fcfe-4494-a186-c336cecf9eda)\r\n![files](https://github.com/user-attachments/assets/b4e08b5f-5321-4fba-95df-5c453097abb1)\r\n![options](https://github.com/user-attachments/assets/71523094-7113-4494-bc43-eae9b4ab9331)\r\n![perms](https://github.com/user-attachments/assets/94928024-32a6-4fb2-a863-ff559e66db9a)\r\n\r\n\r\n\r\n### Syncthing version\r\n\r\nv1.28.0\r\n\r\n### Platform & operating system\r\n\r\nWindows 10 Pro x64 \r\n\r\n### Browser version\r\n\r\nBrave Browser 1.71.114\r\n\r\n### Relevant log output\r\n\r\n2024-10-18 22:21:00 casefs.go:255 basic c:\\aaa\\junction Stat . {0xc00013c070} <nil>\r\n2024-10-18 22:21:00 casefs.go:255 basic c:\\aaa\\junction Stat .stfolder {0xc00013c230} <nil>\r\n2024-10-18 22:21:00 casefs.go:479 basic c:\\aaa\\junction DirNames . [.stfolder file junctiontotarget] <nil>\r\n2024-10-18 22:21:00 logfs.go:173 basic C:\\ProgramData\\Syncthing\\index-v0.14.0.db Usage . {702322937856 999533756416} <nil>\r\n2024-10-18 22:21:00 log 40 StateChanged map[duration:182.8508201 folder:dayss-x9hqe from:idle to:scan-waiting]\r\n2024-10-18 22:21:00 walker/dayss-x9hqe@0xc0000e76b0 Walk [] Matcher/[]@0xc0002422d0\r\n2024-10-18 22:21:00 log 41 StateChanged map[duration:0.8508201 folder:dayss-x9hqe from:scan-waiting to:scanning]\r\n2024-10-18 22:21:00 walk: path=.\r\n2024-10-18 22:21:00 ancestorDirList: Contains 'junction'\r\n2024-10-18 22:21:00 ancestorDirList: Push 'junction'\r\n2024-10-18 22:21:00 walk: path=.stfolder\r\n2024-10-18 22:21:00 walker/dayss-x9hqe@0xc0000e76b0 ignored (internal): .stfolder\r\n2024-10-18 22:21:00 walk: path=file\r\n2024-10-18 22:21:00 walker/dayss-x9hqe@0xc0000e76b0 checking: File{Name:\"file\", Sequence:0, Permissions:0644, ModTime:2024-10-18 21:11:45.2540096 +0200 CEST, Version:{[{62S6MDD 1729282860}]}, VersionHash:, Length:7, Deleted:false, Invalid:false, LocalFlags:0x0, NoPermissions:false, BlockSize:131072, NumBlocks:0, BlocksHash:, Platform:{<nil> <nil> <nil> <nil> <nil> <nil>}, InodeChangeTime:1970-01-01 01:00:00 +0100 CET}\r\n2024-10-18 22:21:00 walker/dayss-x9hqe@0xc0000e76b0 unchanged: File{Name:\"file\", Sequence:1, Permissions:0644, ModTime:2024-10-18 21:11:45.2540096 +0200 CEST, Version:{[{62S6MDD 1729282860}]}, VersionHash:, Length:7, Deleted:false, Invalid:false, LocalFlags:0x0, NoPermissions:false, BlockSize:131072, NumBlocks:1, BlocksHash:d3535c46046caa8f282f78819d9f8616010eacd1d507e952c833a67ada965799, Platform:{<nil> <nil> <nil> <nil> <nil> <nil>}, InodeChangeTime:1970-01-01 01:00:00 +0100 CET}\r\n2024-10-18 22:21:00 walk: path=junctiontotarget\r\n2024-10-18 22:21:00 ancestorDirList: Pop 'junction'\r\n2024-10-18 22:21:00 log 42 StateChanged map[duration:0.8525193 folder:dayss-x9hqe from:scanning to:idle]\r\n","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9775/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/9775/timeline","performed_via_github_app":null,"state_reason":"completed"}