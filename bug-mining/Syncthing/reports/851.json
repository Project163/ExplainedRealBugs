{"url":"https://api.github.com/repos/syncthing/syncthing/issues/5323","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/5323/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/5323/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/5323/events","html_url":"https://github.com/syncthing/syncthing/issues/5323","id":379975557,"node_id":"MDU6SXNzdWUzNzk5NzU1NTc=","number":5323,"title":"Files not deleted properly when one side has ignore permissions set","user":{"login":"AndreasVS","id":17129357,"node_id":"MDQ6VXNlcjE3MTI5MzU3","avatar_url":"https://avatars.githubusercontent.com/u/17129357?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasVS","html_url":"https://github.com/AndreasVS","followers_url":"https://api.github.com/users/AndreasVS/followers","following_url":"https://api.github.com/users/AndreasVS/following{/other_user}","gists_url":"https://api.github.com/users/AndreasVS/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasVS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasVS/subscriptions","organizations_url":"https://api.github.com/users/AndreasVS/orgs","repos_url":"https://api.github.com/users/AndreasVS/repos","events_url":"https://api.github.com/users/AndreasVS/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasVS/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/27","html_url":"https://github.com/syncthing/syncthing/milestone/27","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/27/labels","id":3723802,"node_id":"MDk6TWlsZXN0b25lMzcyMzgwMg==","number":27,"title":"v0.14.53","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":39,"state":"closed","created_at":"2018-10-09T11:15:15Z","updated_at":"2018-12-04T12:46:30Z","due_on":"2018-12-04T08:00:00Z","closed_at":"2018-12-04T12:46:30Z"},"comments":0,"created_at":"2018-11-12T22:21:01Z","updated_at":"2019-11-14T07:02:21Z","closed_at":"2018-11-13T07:54:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What happened ###\r\n\r\nFiles deleted on one node will not be deleted on the second node.\r\n\r\n### Steps to reproduce the problem ###\r\n\r\nThere are two nodes A (Win10) and B (Synology DS415+) with a shared folder, everything is “Up to date”. A: Ignore permissions = NO / B: Ignore permissions = YES \r\n\r\nI added a file “P.JPG” from A into the folder and waited for the sync to complete. Both nodes show “Up to date”.\r\n\r\nWhen I now delete the file on node A, the corresponding file “P.JPG” on node B will not be deleted.\r\n\r\nhttps://forum.syncthing.net/t/0-14-52-file-deletion-issues/12436\r\n\r\nHere are some pictures: both files on Synology File Manager \r\n![screenshot filestation](https://user-images.githubusercontent.com/17129357/48378466-fe5e9e80-e6d0-11e8-9328-0b122814e9a6.png)\r\n\r\nboth files with ssh/ls:\r\n![screenshot ssh](https://user-images.githubusercontent.com/17129357/48378477-061e4300-e6d1-11e8-87c5-d9ab00a7da4a.png)\r\n\r\nsyncthing on B after deleting both files\r\n![screenshot synology folder](https://user-images.githubusercontent.com/17129357/48378486-10d8d800-e6d1-11e8-9f78-a595d245dbc6.png)\r\n\r\nthe error message \r\n![screenshot syncthing error 1](https://user-images.githubusercontent.com/17129357/48378497-1a624000-e6d1-11e8-90b5-c38cc73ede39.png)\r\n\r\nand the corresponding loglines:\r\n![screenshot syncthing logs](https://user-images.githubusercontent.com/17129357/48378503-1d5d3080-e6d1-11e8-9f81-5f8780351171.png)\r\n\r\nWorkaround: after changing \"Ignore permissions\" on B to NO, everything works as expected.\r\n\r\n \r\n### Version Information\r\n\r\nSyncthing Version: v0.14.52 (both nodes)\r\nOS Version: Windows 10 (A) / Synology DSM 6.2 (B)\r\nBrowser Version: SyncTrayzor (A) / Chrome for GUI-B","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/5323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/5323/timeline","performed_via_github_app":null,"state_reason":"completed"}