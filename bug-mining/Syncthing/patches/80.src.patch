diff --git a/internal/model/model.go b/internal/model/model.go
index f976abf6b..546150b79 100644
--- a/internal/model/model.go
+++ b/internal/model/model.go
@@ -1216,7 +1216,9 @@ func (m *Model) CurrentLocalVersion(folder string) uint64 {
 
 	fs, ok := m.folderFiles[folder]
 	if !ok {
-		panic("bug: LocalVersion called for nonexistent folder " + folder)
+		// The folder might not exist, since this can be called with a user
+		// specified folder name from the REST interface.
+		return 0
 	}
 
 	return fs.LocalVersion(protocol.LocalDeviceID)
