diff --git a/internal/fnmatch/fnmatch_test.go b/internal/fnmatch/fnmatch_test.go
index 6cac943d2..86372dcb2 100644
--- a/internal/fnmatch/fnmatch_test.go
+++ b/internal/fnmatch/fnmatch_test.go
@@ -55,6 +55,7 @@ var testcases = []testcase{
 	{"foo.txt", "foo.TXT", CaseFold, true},
 	{"(?i)foo.txt", "foo.TXT", 0, true},
 	{"(?i)**foo.txt", "/dev/tmp/foo.TXT", 0, true},
+	{"(?i)!**foo.txt", "/dev/tmp/foo.TXT", 0, false},
 
 	// These characters are literals in glob, but not in regexp.
 	{"hey$hello", "hey$hello", 0, true},
