diff --git a/build.go b/build.go
index 265172f16..b6cb54db6 100644
--- a/build.go
+++ b/build.go
@@ -188,7 +188,18 @@ func setup() {
 
 func test(pkg string) {
 	setBuildEnv()
-	runPrint("go", "test", "-short", "-race", "-timeout", "60s", pkg)
+	useRace := runtime.GOARCH == "amd64"
+	switch runtime.GOOS {
+	case "darwin", "linux", "freebsd", "windows":
+	default:
+		useRace = false
+	}
+
+	if useRace {
+		runPrint("go", "test", "-short", "-race", "-timeout", "60s", pkg)
+	} else {
+		runPrint("go", "test", "-short", "-timeout", "60s", pkg)
+	}
 }
 
 func bench(pkg string) {
