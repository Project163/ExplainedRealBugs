diff --git a/lib/discover/cache.go b/lib/discover/cache.go
index a4809b9dd..0ccfab1fe 100644
--- a/lib/discover/cache.go
+++ b/lib/discover/cache.go
@@ -109,6 +109,12 @@ func (m *CachingMux) Lookup(deviceID protocol.DeviceID) (direct []string, relays
 				when:   time.Now(),
 				found:  len(td)+len(tr) > 0,
 			})
+		} else {
+			// Lookup returned error, add a negative cache entry.
+			m.caches[i].Set(deviceID, CacheEntry{
+				when:  time.Now(),
+				found: false,
+			})
 		}
 	}
 	m.mut.Unlock()
