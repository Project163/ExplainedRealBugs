diff --git a/lib/sync/sync.go b/lib/sync/sync.go
index 783ae2526..8035c7594 100644
--- a/lib/sync/sync.go
+++ b/lib/sync/sync.go
@@ -123,7 +123,7 @@ func (m *loggedRWMutex) Lock() {
 
 	atomic.StoreInt32(&m.logUnlockers, 1)
 	m.RWMutex.Lock()
-	m.logUnlockers = 0
+	atomic.StoreInt32(&m.logUnlockers, 0)
 
 	holder := getHolder()
 	m.holder.Store(holder)
