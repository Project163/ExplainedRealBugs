diff --git a/internal/versioner/util.go b/internal/versioner/util.go
index b5984f803..5fdc08cef 100644
--- a/internal/versioner/util.go
+++ b/internal/versioner/util.go
@@ -28,7 +28,7 @@ func taggedFilename(name, tag string) string {
 	return filepath.Join(dir, withoutExt+"~"+tag+ext)
 }
 
-var tagExp = regexp.MustCompile(`~([^~.]+)(?:\.[^.]+)?$`)
+var tagExp = regexp.MustCompile(`.*~([^~.]+)(?:\.[^.]+)?$`)
 
 // Returns the tag from a filename, whether at the end or middle.
 func filenameTag(path string) string {
diff --git a/internal/versioner/versioner_test.go b/internal/versioner/versioner_test.go
index a1bd8674a..2a95aabd5 100644
--- a/internal/versioner/versioner_test.go
+++ b/internal/versioner/versioner_test.go
@@ -25,10 +25,14 @@ func TestTaggedFilename(t *testing.T) {
 		{filepath.Join("foo", "bar.baz"), "tag", filepath.Join("foo", "bar~tag.baz")},
 		{"bar.baz", "tag", "bar~tag.baz"},
 		{"bar", "tag", "bar~tag"},
+		{"~$ufheft2.docx", "20140612-200554", "~$ufheft2~20140612-200554.docx"},
+		{"alle~4.mgz", "20141106-094415", "alle~4~20141106-094415.mgz"},
 
 		// Parsing test only
 		{"", "tag-only", "foo/bar.baz~tag-only"},
 		{"", "tag-only", "bar.baz~tag-only"},
+		{"", "20140612-200554", "~$ufheft2.docx~20140612-200554"},
+		{"", "20141106-094415", "alle~4.mgz~20141106-094415"},
 	}
 
 	for _, tc := range cases {
