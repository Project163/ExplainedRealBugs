diff --git a/model/model.go b/model/model.go
index ec8915ed3..3c2103bf5 100644
--- a/model/model.go
+++ b/model/model.go
@@ -475,7 +475,7 @@ func (m *Model) ClusterConfig(nodeID protocol.NodeID, cm protocol.ClusterConfigM
 				var id protocol.NodeID
 				copy(id[:], node.ID)
 
-				if _, ok := m.nodeRepos[id]; !ok {
+				if m.cfg.GetNodeConfiguration(id)==nil {
 					// The node is currently unknown. Add it to the config.
 
 					l.Infof("Adding node %v to config (vouched for by introducer %v)", id, nodeID)
