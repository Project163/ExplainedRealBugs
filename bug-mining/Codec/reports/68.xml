<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:24:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CODEC-121] QuotedPrintableCodec does not support soft line break per the &apos;quoted-printable&apos; example on Wikipedia</title>
                <link>https://issues.apache.org/jira/browse/CODEC-121</link>
                <project id="12310464" key="CODEC">Commons Codec</project>
                    <description>&lt;p&gt;Writing a unit test I discovered that the example Wikipedia uses for quoted-printable data does not decode but instead throws an exception.  &lt;br/&gt;
Their example is here:  &lt;a href=&quot;http://en.wikipedia.org/wiki/Quoted-printable#Example&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://en.wikipedia.org/wiki/Quoted-printable#Example&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;test:&lt;/p&gt;

&lt;p&gt;  String qpdata   = &quot;If you believe that truth=3Dbeauty, then surely=20=\r\n&quot; +&lt;br/&gt;
		    &quot;mathematics is the most beautiful branch of philosophy.&quot;;&lt;/p&gt;

&lt;p&gt;  String expected = &quot;If you believe that truth=beauty, then surely &quot; +&lt;br/&gt;
		    &quot;mathematics is the most beautiful branch of philosophy.&quot;;&lt;/p&gt;

&lt;p&gt;  assertEquals( expected,  new QuotedPrintableCodec().decode(qpdata) );&lt;/p&gt;

&lt;p&gt;I suppose I could fix if you like but currently I&apos;m not a registered developer.  &lt;/p&gt;

</description>
                <environment>&lt;p&gt;I tested on Windows 7.&lt;/p&gt;</environment>
        <key id="12504931">CODEC-121</key>
            <summary>QuotedPrintableCodec does not support soft line break per the &apos;quoted-printable&apos; example on Wikipedia</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="javajohn">Java John</reporter>
                        <labels>
                            <label>codec</label>
                            <label>decode</label>
                            <label>quoted-printable</label>
                    </labels>
                <created>Thu, 21 Apr 2011 22:56:38 +0000</created>
                <updated>Mon, 10 Nov 2014 03:12:28 +0000</updated>
                            <resolved>Wed, 5 Nov 2014 23:44:39 +0000</resolved>
                                    <version>1.5</version>
                    <version>1.6</version>
                                    <fixVersion>1.10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13023307" author="garydgregory" created="Fri, 22 Apr 2011 18:06:37 +0000"  >&lt;p&gt;Feel free to submit a patch here. Thank you.&lt;/p&gt;</comment>
                            <comment id="13028913" author="garydgregory" created="Wed, 4 May 2011 19:35:54 +0000"  >&lt;p&gt;Note that the class is documented as not implementing soft line breaks:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Rules #3, #4, and #5 of the quoted-printable spec are not implemented yet because the complete quoted-printable spec does not lend itself well into the byte[] oriented codec framework. Complete the codec once the streamable codec framework is ready. The motivation behind providing the codec in a partial form is that it can already come in handy for those applications that do not require quoted-printable line formatting (rules #3, #4, #5), for instance Q codec. &lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13028991" author="javajohn" created="Wed, 4 May 2011 21:49:03 +0000"  >
&lt;p&gt;Yes, but I think it should.  It does not look good that the example the world is likely to see if one search for this stuff is not supported.&lt;/p&gt;

&lt;p&gt;I do not have time to work on this now but I may get a chance to in a few weeks.  &lt;/p&gt;

&lt;p&gt;john&lt;/p&gt;



</comment>
                            <comment id="13029023" author="garydgregory" created="Wed, 4 May 2011 22:51:25 +0000"  >&lt;p&gt;Sounds good John. See you then. &lt;/p&gt;</comment>
                            <comment id="13147889" author="bayard" created="Thu, 10 Nov 2011 18:27:43 +0000"  >&lt;p&gt;Assigning to 1.6, but going to depend on whether anyone wants to sit and code a solution.&lt;/p&gt;</comment>
                            <comment id="13222012" author="tn" created="Sun, 4 Mar 2012 21:17:00 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I worked on this issue and came up with a patch to fully support the quoted-printable spec.&lt;/p&gt;

&lt;p&gt;There are some simplifications to keep the code still simple and small:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;do not split on words like in the wikipedia example, but rather at a fixed position&lt;/li&gt;
	&lt;li&gt;break at position 73 rather than filling up to pos 76 if possible&lt;/li&gt;
	&lt;li&gt;treat last two octets separately to simplify the rule that &apos;=&apos; must not be the ultimate or penultimate character&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13222099" author="garydgregory" created="Mon, 5 Mar 2012 01:17:14 +0000"  >&lt;p&gt;Hello Thomas,&lt;/p&gt;

&lt;p&gt;Thank you for the patch. Could you please create it against the latest from trunk please? I am getting errors applying the patch as it is.&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="13222203" author="tn" created="Mon, 5 Mar 2012 07:47:42 +0000"  >&lt;p&gt;Hi Gary,&lt;/p&gt;

&lt;p&gt;the latest commit to codec was 1296456, and the patch was created from 1296812 (using svn diff files &amp;gt; patch).&lt;br/&gt;
When I apply the patch myself (patch -p0 &amp;lt; patch), I get the following message:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;patching file src/main/java/org/apache/commons/codec/net/QuotedPrintableCodec.java
Hunk #1 succeeded at 42 with fuzz 1.
patching file src/test/java/org/apache/commons/codec/net/QuotedPrintableCodecTest.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The result is ok. The revision number will continue to increase even if there are no commits to codec, or am I doing something wrong?&lt;/p&gt;</comment>
                            <comment id="13222674" author="garydgregory" created="Mon, 5 Mar 2012 22:22:04 +0000"  >&lt;p&gt;Hi Thomas,&lt;/p&gt;

&lt;p&gt;I was able to apply the patch after increasing the fuzz factor from 0 to 1.&lt;/p&gt;

&lt;p&gt;The next issue is that, while the patch applies and the tests pass, we&apos;ve now lost some code coverage.&lt;/p&gt;

&lt;p&gt;You can see 100% code coverage for QuotedPrintableCodec here: &lt;a href=&quot;http://commons.apache.org/codec/cobertura/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/codec/cobertura/index.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;With this patch, we have a couple of holes and the coverage goes down to 97/90 for line/branch coverage.&lt;/p&gt;

&lt;p&gt;I&apos;d like to keep QuotedPrintableCodec at 100/100.&lt;/p&gt;

&lt;p&gt;Can you provide a patch that keeps code coverage at 100/100?&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="13222703" author="javajohn" created="Mon, 5 Mar 2012 22:45:54 +0000"  >
&lt;p&gt;Thanks Thomas.  I would have liked to get back to this one but have too many other issues on my plate.  This was a low priority for me.&lt;/p&gt;

&lt;p&gt;Nice work!&lt;/p&gt;

&lt;p&gt;John&lt;/p&gt;


</comment>
                            <comment id="13223667" author="tn" created="Tue, 6 Mar 2012 21:16:08 +0000"  >&lt;p&gt;Hi Gary,&lt;/p&gt;

&lt;p&gt;I have updated the patch, it now gets 100% test coverage.&lt;/p&gt;

&lt;p&gt;Additionally, I have added a missing case of not encoded whitespace before a soft break and moved some repeated code into dedicated private methods to make the code more readable.&lt;/p&gt;</comment>
                            <comment id="13224428" author="garydgregory" created="Wed, 7 Mar 2012 15:35:44 +0000"  >&lt;p&gt;Patch applied with slight modifications. Thank you!&lt;/p&gt;</comment>
                            <comment id="13232802" author="tn" created="Mon, 19 Mar 2012 18:33:04 +0000"  >&lt;p&gt;Postponed to 2.0 due to incompatibility with prior releases of 1.x&lt;/p&gt;</comment>
                            <comment id="13232823" author="tn" created="Mon, 19 Mar 2012 19:11:14 +0000"  >&lt;p&gt;Attached the reverted changes for later inclusion.&lt;/p&gt;</comment>
                            <comment id="14198390" author="tn" created="Wed, 5 Nov 2014 14:14:13 +0000"  >&lt;p&gt;I have revisited my original patch and created a new one that should be backwards compatible:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;add a new strict mode parameter to the codec: if strict=true implement the full ruleset of the quoted-printable spec&lt;/li&gt;
	&lt;li&gt;decode can handle softline breaks regardless of the strict parameter, this should be backwards compatible, previously an input with soft line breaks resulting in an exception&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Would be nice to still include it in 1.10.&lt;/p&gt;</comment>
                            <comment id="14198632" author="garydgregory" created="Wed, 5 Nov 2014 16:50:20 +0000"  >&lt;p&gt;I am wondering if the strict boolean should be an enum instead in order to allow for other settings in the future and more clarity. Booleans can be cryptic, so even if there are no other settings later, the code might look better with a &lt;tt&gt;Policy.STRICT&lt;/tt&gt; and &lt;tt&gt;Policy.LENIENT&lt;/tt&gt; in the code instead of &lt;tt&gt;true&lt;/tt&gt; and &lt;tt&gt;false&lt;/tt&gt;. Feel free to come up with a better name than &lt;tt&gt;Policy&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="14199038" author="tn" created="Wed, 5 Nov 2014 20:37:40 +0000"  >&lt;p&gt;I don&apos;t mind if it&apos;s a boolean flag or an enum, the name &quot;strict&quot; was more like a compromise and I did not find a better name yet.&lt;/p&gt;

&lt;p&gt;But I do not think that there will be other policies that we might implement for this codec, either it is the full (strict) mode or the simple one without line breaks which is also used by QCodec.&lt;/p&gt;</comment>
                            <comment id="14199390" author="garydgregory" created="Wed, 5 Nov 2014 23:44:39 +0000"  >&lt;p&gt;Patch applied. Thank you.&lt;/p&gt;</comment>
                            <comment id="14204282" author="garydgregory" created="Mon, 10 Nov 2014 03:12:28 +0000"  >&lt;p&gt;We released 1.10 today.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12518926" name="CODEC-121_postponed.patch" size="17136" author="tn" created="Mon, 19 Mar 2012 19:11:14 +0000"/>
                            <attachment id="12679528" name="CODEC-121_v2.patch" size="21422" author="tn" created="Wed, 5 Nov 2014 14:14:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ftpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90413</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>