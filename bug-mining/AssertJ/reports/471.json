{"url":"https://api.github.com/repos/assertj/assertj/issues/2610","repository_url":"https://api.github.com/repos/assertj/assertj","labels_url":"https://api.github.com/repos/assertj/assertj/issues/2610/labels{/name}","comments_url":"https://api.github.com/repos/assertj/assertj/issues/2610/comments","events_url":"https://api.github.com/repos/assertj/assertj/issues/2610/events","html_url":"https://github.com/assertj/assertj/issues/2610","id":1233770335,"node_id":"I_kwDOAIX3Vs5Jiddf","number":2610,"title":"Comparing only fields of different classes can pass with different values of the compared fields","user":{"login":"rd-martin-bonev","id":67091255,"node_id":"MDQ6VXNlcjY3MDkxMjU1","avatar_url":"https://avatars.githubusercontent.com/u/67091255?v=4","gravatar_id":"","url":"https://api.github.com/users/rd-martin-bonev","html_url":"https://github.com/rd-martin-bonev","followers_url":"https://api.github.com/users/rd-martin-bonev/followers","following_url":"https://api.github.com/users/rd-martin-bonev/following{/other_user}","gists_url":"https://api.github.com/users/rd-martin-bonev/gists{/gist_id}","starred_url":"https://api.github.com/users/rd-martin-bonev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rd-martin-bonev/subscriptions","organizations_url":"https://api.github.com/users/rd-martin-bonev/orgs","repos_url":"https://api.github.com/users/rd-martin-bonev/repos","events_url":"https://api.github.com/users/rd-martin-bonev/events{/privacy}","received_events_url":"https://api.github.com/users/rd-martin-bonev/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":734184708,"node_id":"MDU6TGFiZWw3MzQxODQ3MDg=","url":"https://api.github.com/repos/assertj/assertj/labels/theme:%20recursive%20comparison","name":"theme: recursive comparison","color":"FEF2C0","default":false,"description":"An issue related to the recursive comparison"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/assertj/assertj/milestones/63","html_url":"https://github.com/assertj/assertj/milestone/63","labels_url":"https://api.github.com/repos/assertj/assertj/milestones/63/labels","id":7421574,"node_id":"MI_kwDOAIX3Vs4AcT6G","number":63,"title":"3.23.0","description":"","creator":{"login":"scordio","id":26772046,"node_id":"MDQ6VXNlcjI2NzcyMDQ2","avatar_url":"https://avatars.githubusercontent.com/u/26772046?v=4","gravatar_id":"","url":"https://api.github.com/users/scordio","html_url":"https://github.com/scordio","followers_url":"https://api.github.com/users/scordio/followers","following_url":"https://api.github.com/users/scordio/following{/other_user}","gists_url":"https://api.github.com/users/scordio/gists{/gist_id}","starred_url":"https://api.github.com/users/scordio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scordio/subscriptions","organizations_url":"https://api.github.com/users/scordio/orgs","repos_url":"https://api.github.com/users/scordio/repos","events_url":"https://api.github.com/users/scordio/events{/privacy}","received_events_url":"https://api.github.com/users/scordio/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2021-11-23T09:28:57Z","updated_at":"2024-04-17T06:38:09Z","due_on":"2022-04-30T07:00:00Z","closed_at":"2022-05-31T17:11:02Z"},"comments":1,"created_at":"2022-05-12T10:19:32Z","updated_at":"2024-10-02T23:55:08Z","closed_at":"2022-05-16T09:36:36Z","author_association":"NONE","type":{"id":2594683,"node_id":"IT_kwDOASBds84AJ5d7","name":"üêõ Bug","description":" A general bug ","color":"red","created_at":"2024-01-25T19:41:59Z","updated_at":"2025-05-30T17:34:50Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### Summary\r\nWhen comparing different classes and specifying `comparingOnlyFields` the assertion could pass even if the compared values are different if one of the classes has more fields than the other.\r\n\r\nI tested using the code in the main branch (ee52be2c).\r\n\r\n#### Example\r\n\r\n```java\r\npublic class ComparingOnlyTest {\r\n  static class A1 {\r\n    public final int a, b;\r\n    public A1(int a, int b) {\r\n      this.a = a;\r\n      this.b = b;\r\n    }\r\n  }\r\n  static class A2 {\r\n    public final int a;\r\n    public A2(int a) {\r\n      this.a = a;\r\n    }\r\n  }\r\n\r\n  @Test\r\n  public void testComparingOnly() {\r\n    A1 a1 = new A1(1, 2);\r\n    A2 a2 = new A2(2);\r\n\r\n    // This passes. Switching the places of a1 and a2 causes the assertion to fail as expected\r\n    Assertions.assertThat(a1).usingRecursiveComparison().comparingOnlyFields(\"a\").isEqualTo(a2);\r\n  }\r\n}\r\n```\r\n","closed_by":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/assertj/assertj/issues/2610/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/assertj/assertj/issues/2610/timeline","performed_via_github_app":null,"state_reason":"completed"}