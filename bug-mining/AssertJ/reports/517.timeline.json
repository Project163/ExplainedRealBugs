[{"id":11854400200,"node_id":"LE_lADOAIX3Vs5_u3DOzwAAAALCk8rI","url":"https://api.github.com/repos/assertj/assertj/issues/events/11854400200","actor":{"login":"scordio","id":26772046,"node_id":"MDQ6VXNlcjI2NzcyMDQ2","avatar_url":"https://avatars.githubusercontent.com/u/26772046?v=4","gravatar_id":"","url":"https://api.github.com/users/scordio","html_url":"https://github.com/scordio","followers_url":"https://api.github.com/users/scordio/followers","following_url":"https://api.github.com/users/scordio/following{/other_user}","gists_url":"https://api.github.com/users/scordio/gists{/gist_id}","starred_url":"https://api.github.com/users/scordio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scordio/subscriptions","organizations_url":"https://api.github.com/users/scordio/orgs","repos_url":"https://api.github.com/users/scordio/repos","events_url":"https://api.github.com/users/scordio/events{/privacy}","received_events_url":"https://api.github.com/users/scordio/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-02-19T21:31:04Z","label":{"name":"theme: recursive comparison","color":"FEF2C0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/assertj/assertj/issues/comments/1953219996","html_url":"https://github.com/assertj/assertj/issues/3369#issuecomment-1953219996","issue_url":"https://api.github.com/repos/assertj/assertj/issues/3369","id":1953219996,"node_id":"IC_kwDOAIX3Vs50a8Wc","user":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-19T22:15:08Z","updated_at":"2024-02-19T22:15:08Z","body":"> At this moment I do not think AssertJ supports non-accessible classes and fields with Java 17+. \r\n\r\nWe know AssertJ can't introspect Java base types so it compares them with equals, this is not unreasonable since at some point you have to compare something.  \r\n\r\nHere are a couple ways of getting around your problem\r\n\r\n- select the fields to compare with [comparingOnlyFields](https://www.javadoc.io/static/org.assertj/assertj-core/3.25.3/org/assertj/core/api/RecursiveComparisonAssert.html#comparingOnlyFields(java.lang.String...)) or [comparingOnlyFieldsOfTypes](https://www.javadoc.io/static/org.assertj/assertj-core/3.25.3/org/assertj/core/api/RecursiveComparisonAssert.html#comparingOnlyFieldsOfTypes(java.lang.Class...))\r\n- registering a bi-predicate to compare certain [fields](https://www.javadoc.io/static/org.assertj/assertj-core/3.25.3/org/assertj/core/api/RecursiveComparisonAssert.html#withEqualsForFields(java.util.function.BiPredicate,java.lang.String...)) or [types](https://www.javadoc.io/static/org.assertj/assertj-core/3.25.3/org/assertj/core/api/RecursiveComparisonAssert.html#withEqualsForType(java.util.function.BiPredicate,java.lang.Class))\r\n\r\nWould that help ? \r\n\r\nThere is also the option of adding specific logic to certain type, for example the recursive comparison does not introspect `Optional` but simply get their values and compare them. If that makes sense for other java types we could do that.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/assertj/assertj/issues/comments/1953219996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/assertj/assertj/issues/comments/1953615601","html_url":"https://github.com/assertj/assertj/issues/3369#issuecomment-1953615601","issue_url":"https://api.github.com/repos/assertj/assertj/issues/3369","id":1953615601,"node_id":"IC_kwDOAIX3Vs50cc7x","user":{"login":"Meijuh","id":1567680,"node_id":"MDQ6VXNlcjE1Njc2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1567680?v=4","gravatar_id":"","url":"https://api.github.com/users/Meijuh","html_url":"https://github.com/Meijuh","followers_url":"https://api.github.com/users/Meijuh/followers","following_url":"https://api.github.com/users/Meijuh/following{/other_user}","gists_url":"https://api.github.com/users/Meijuh/gists{/gist_id}","starred_url":"https://api.github.com/users/Meijuh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meijuh/subscriptions","organizations_url":"https://api.github.com/users/Meijuh/orgs","repos_url":"https://api.github.com/users/Meijuh/repos","events_url":"https://api.github.com/users/Meijuh/events{/privacy}","received_events_url":"https://api.github.com/users/Meijuh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-20T07:21:35Z","updated_at":"2024-02-20T07:21:35Z","body":"> Would that help ?\r\n\r\nThat would solve my problem, but:\r\n\r\n- I would have to always look into the deep insides of code I may know nothing about,\r\n- do this whenever I write a recursive comparison.\r\n\r\nMaybe my example above is not perfect. In a production example I get the following errors if I include comparing `ReentrantReadWriteLock.class`:\r\n```\r\nfield/property 'httpClient.cookieStore.lock' differ:\r\n- actual value  : java.util.concurrent.locks.ReentrantReadWriteLock@7c88d04f[Write locks = 0, Read locks = 0]\r\n- expected value: java.util.concurrent.locks.ReentrantReadWriteLock@71df5f30[Write locks = 0, Read locks = 0]\r\n```\r\nI guess above happens due to https://github.com/assertj/assertj/issues/2450, which will always give me a false positive?\r\n\r\nAnother example of a field I can not access:\r\n```\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.concurrent.locks.Condition java.util.concurrent.ThreadPoolExecutor.termination accessible: module java.base does not \"opens java.util.concurrent\" to unnamed module @53ce1329\r\n```\r\nAbove two errors gives me reason to believe I will not be able to do a full equivalence check anyway. So might as well ignore fields of particular types always.\r\n\r\nSo my suggestion is `.ignoreNonExportedPackages()` should always contain packages with such classes, instead of writing `comparingOnlyFields` or `comparingOnlyFieldsOfTypes` in all my assertions and in all my code bases.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/assertj/assertj/issues/comments/1953615601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Meijuh","id":1567680,"node_id":"MDQ6VXNlcjE1Njc2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1567680?v=4","gravatar_id":"","url":"https://api.github.com/users/Meijuh","html_url":"https://github.com/Meijuh","followers_url":"https://api.github.com/users/Meijuh/followers","following_url":"https://api.github.com/users/Meijuh/following{/other_user}","gists_url":"https://api.github.com/users/Meijuh/gists{/gist_id}","starred_url":"https://api.github.com/users/Meijuh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meijuh/subscriptions","organizations_url":"https://api.github.com/users/Meijuh/orgs","repos_url":"https://api.github.com/users/Meijuh/repos","events_url":"https://api.github.com/users/Meijuh/events{/privacy}","received_events_url":"https://api.github.com/users/Meijuh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/assertj/assertj/issues/comments/1958070019","html_url":"https://github.com/assertj/assertj/issues/3369#issuecomment-1958070019","issue_url":"https://api.github.com/repos/assertj/assertj/issues/3369","id":1958070019,"node_id":"IC_kwDOAIX3Vs50tccD","user":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-21T22:01:26Z","updated_at":"2024-02-21T22:01:26Z","body":"I'm not opposed to the principle of having `ignoreNonExportedPackages` although I don't think there are so many problematic types, most of them would have an overridden `equals`. \r\n\r\nWhat might be unclear for users is the content of all these non exported packages, would there be cases where is makes sense to compare them with their `equals` method ?\r\n\r\nI'm happy to get a contribution on this one if you feel like it.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/assertj/assertj/issues/comments/1958070019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-26T11:05:15Z","updated_at":"2024-02-26T11:05:15Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/assertj/assertj/issues/3379","repository_url":"https://api.github.com/repos/assertj/assertj","labels_url":"https://api.github.com/repos/assertj/assertj/issues/3379/labels{/name}","comments_url":"https://api.github.com/repos/assertj/assertj/issues/3379/comments","events_url":"https://api.github.com/repos/assertj/assertj/issues/3379/events","html_url":"https://github.com/assertj/assertj/issues/3379","id":2153671417,"node_id":"I_kwDOAIX3Vs6AXmr5","number":3379,"title":"AssertJ: issue with Assertions.assertThat().usingRecursiveComparison().isEqualTo()","user":{"login":"surinderkamboj","id":9209381,"node_id":"MDQ6VXNlcjkyMDkzODE=","avatar_url":"https://avatars.githubusercontent.com/u/9209381?v=4","gravatar_id":"","url":"https://api.github.com/users/surinderkamboj","html_url":"https://github.com/surinderkamboj","followers_url":"https://api.github.com/users/surinderkamboj/followers","following_url":"https://api.github.com/users/surinderkamboj/following{/other_user}","gists_url":"https://api.github.com/users/surinderkamboj/gists{/gist_id}","starred_url":"https://api.github.com/users/surinderkamboj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surinderkamboj/subscriptions","organizations_url":"https://api.github.com/users/surinderkamboj/orgs","repos_url":"https://api.github.com/users/surinderkamboj/repos","events_url":"https://api.github.com/users/surinderkamboj/events{/privacy}","received_events_url":"https://api.github.com/users/surinderkamboj/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":734184708,"node_id":"MDU6TGFiZWw3MzQxODQ3MDg=","url":"https://api.github.com/repos/assertj/assertj/labels/theme:%20recursive%20comparison","name":"theme: recursive comparison","color":"FEF2C0","default":false,"description":"An issue related to the recursive comparison"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/assertj/assertj/milestones/70","html_url":"https://github.com/assertj/assertj/milestone/70","labels_url":"https://api.github.com/repos/assertj/assertj/milestones/70/labels","id":9863589,"node_id":"MI_kwDOAIX3Vs4AloGl","number":70,"title":"3.26.0","description":"","creator":{"login":"scordio","id":26772046,"node_id":"MDQ6VXNlcjI2NzcyMDQ2","avatar_url":"https://avatars.githubusercontent.com/u/26772046?v=4","gravatar_id":"","url":"https://api.github.com/users/scordio","html_url":"https://github.com/scordio","followers_url":"https://api.github.com/users/scordio/followers","following_url":"https://api.github.com/users/scordio/following{/other_user}","gists_url":"https://api.github.com/users/scordio/gists{/gist_id}","starred_url":"https://api.github.com/users/scordio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scordio/subscriptions","organizations_url":"https://api.github.com/users/scordio/orgs","repos_url":"https://api.github.com/users/scordio/repos","events_url":"https://api.github.com/users/scordio/events{/privacy}","received_events_url":"https://api.github.com/users/scordio/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":33,"state":"closed","created_at":"2023-08-31T07:52:15Z","updated_at":"2024-05-27T06:04:13Z","due_on":null,"closed_at":"2024-05-27T06:04:13Z"},"comments":6,"created_at":"2024-02-26T09:24:11Z","updated_at":"2024-03-31T22:10:32Z","closed_at":"2024-03-31T22:09:43Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":8779606,"node_id":"MDEwOlJlcG9zaXRvcnk4Nzc5NjA2","name":"assertj","full_name":"assertj/assertj","private":false,"owner":{"login":"assertj","id":18898355,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE4ODk4MzU1","avatar_url":"https://avatars.githubusercontent.com/u/18898355?v=4","gravatar_id":"","url":"https://api.github.com/users/assertj","html_url":"https://github.com/assertj","followers_url":"https://api.github.com/users/assertj/followers","following_url":"https://api.github.com/users/assertj/following{/other_user}","gists_url":"https://api.github.com/users/assertj/gists{/gist_id}","starred_url":"https://api.github.com/users/assertj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/assertj/subscriptions","organizations_url":"https://api.github.com/users/assertj/orgs","repos_url":"https://api.github.com/users/assertj/repos","events_url":"https://api.github.com/users/assertj/events{/privacy}","received_events_url":"https://api.github.com/users/assertj/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/assertj/assertj","description":"Fluent testing assertions for Java and the JVM","fork":false,"url":"https://api.github.com/repos/assertj/assertj","forks_url":"https://api.github.com/repos/assertj/assertj/forks","keys_url":"https://api.github.com/repos/assertj/assertj/keys{/key_id}","collaborators_url":"https://api.github.com/repos/assertj/assertj/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/assertj/assertj/teams","hooks_url":"https://api.github.com/repos/assertj/assertj/hooks","issue_events_url":"https://api.github.com/repos/assertj/assertj/issues/events{/number}","events_url":"https://api.github.com/repos/assertj/assertj/events","assignees_url":"https://api.github.com/repos/assertj/assertj/assignees{/user}","branches_url":"https://api.github.com/repos/assertj/assertj/branches{/branch}","tags_url":"https://api.github.com/repos/assertj/assertj/tags","blobs_url":"https://api.github.com/repos/assertj/assertj/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/assertj/assertj/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/assertj/assertj/git/refs{/sha}","trees_url":"https://api.github.com/repos/assertj/assertj/git/trees{/sha}","statuses_url":"https://api.github.com/repos/assertj/assertj/statuses/{sha}","languages_url":"https://api.github.com/repos/assertj/assertj/languages","stargazers_url":"https://api.github.com/repos/assertj/assertj/stargazers","contributors_url":"https://api.github.com/repos/assertj/assertj/contributors","subscribers_url":"https://api.github.com/repos/assertj/assertj/subscribers","subscription_url":"https://api.github.com/repos/assertj/assertj/subscription","commits_url":"https://api.github.com/repos/assertj/assertj/commits{/sha}","git_commits_url":"https://api.github.com/repos/assertj/assertj/git/commits{/sha}","comments_url":"https://api.github.com/repos/assertj/assertj/comments{/number}","issue_comment_url":"https://api.github.com/repos/assertj/assertj/issues/comments{/number}","contents_url":"https://api.github.com/repos/assertj/assertj/contents/{+path}","compare_url":"https://api.github.com/repos/assertj/assertj/compare/{base}...{head}","merges_url":"https://api.github.com/repos/assertj/assertj/merges","archive_url":"https://api.github.com/repos/assertj/assertj/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/assertj/assertj/downloads","issues_url":"https://api.github.com/repos/assertj/assertj/issues{/number}","pulls_url":"https://api.github.com/repos/assertj/assertj/pulls{/number}","milestones_url":"https://api.github.com/repos/assertj/assertj/milestones{/number}","notifications_url":"https://api.github.com/repos/assertj/assertj/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/assertj/assertj/labels{/name}","releases_url":"https://api.github.com/repos/assertj/assertj/releases{/id}","deployments_url":"https://api.github.com/repos/assertj/assertj/deployments","created_at":"2013-03-14T16:18:49Z","updated_at":"2025-11-10T06:07:45Z","pushed_at":"2025-11-10T06:07:40Z","git_url":"git://github.com/assertj/assertj.git","ssh_url":"git@github.com:assertj/assertj.git","clone_url":"https://github.com/assertj/assertj.git","svn_url":"https://github.com/assertj/assertj","homepage":"https://assertj.github.io/doc/","size":52196,"stargazers_count":2769,"watchers_count":2769,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":754,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":248,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["assertions","assertj","groovy","hacktoberfest","java","kotlin","testing","typed-assertions"],"visibility":"public","forks":754,"open_issues":248,"watchers":2769,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Recursive comparision is getting failed after spring boot upgrade to 3.2.1 with JDK 17.**\r\nAfter spring boot upgrade the test cases are faling. Upgraded from spring boot 2.7.18 to 3.2.1.\r\n\r\n* assertj core version:3.24.2\r\n* java version: 17\r\n* test framework version: Junit 5\r\n* os (if relevant):  window\r\n\r\n**below are the steps to reporduce the issue**\r\n\r\n```\r\n\r\n       public class ContactUpdateQueueModel\r\n        {\r\n               private String id;\r\n               private String contactId;\r\n               private String backend;\r\n               private String contactType;\r\n        }\r\n\r\n        Map<String, Direction> sortMap = new HashMap<>();\r\n        sortMap.put(\"contactId\", Direction.ASC);\r\n        sortMap.put(\"updateTimeStamp\", Direction.ASC);\r\n        RepositoryItemReader<ContactUpdateQueueModel> AMSactual= new RepositoryItemReader<>();\r\n        AMSactual.setRepository(repository);\r\n        AMSactual.setMethodName(\"findUpdate\");\r\n        AMSactual.setSort(sortMap);\r\n        AMSactual.setSaveState(false);\r\n        AMSactual.setPageSize(250);\r\n        reader.setArguments(Arrays.asList(\"AMS\", \"PENDING\"));\r\n\r\n        Map<String, Direction> sortMap = new HashMap<>();\r\n        sortMap.put(\"contactId\", Direction.ASC);\r\n        sortMap.put(\"updateTimeStamp\", Direction.ASC);\r\n        RepositoryItemReader<ContactUpdateQueueModel> AMSexpected = new RepositoryItemReader<>();\r\n        AMSexpected.setRepository(repository);\r\n        AMSexpected.setMethodName(\"findUpdate\");\r\n        AMSexpected.setSort(sortMap);\r\n        AMSexpected.setSaveState(false);\r\n        AMSexpected.setPageSize(250);\r\n        AMSexpected.setArguments(Arrays.asList(\"AMS\", \"PENDING\"));\r\n\r\n        assertThat(AMSactual).usingRecursiveComparison().isEqualTo(AMSexpected);\r\n```\r\n\r\nBut from version 3.24.2, we get the following instead:\r\n\r\n```\r\njava.lang.AssertionError: \r\nExpecting actual:\r\n  org.springframework.batch.item.data.RepositoryItemReader@632ceb35\r\nto be equal to:\r\n  org.springframework.batch.item.data.RepositoryItemReader@1c93f6e1\r\nwhen recursively comparing field by field, but found the following difference:\r\n\r\nfield/property 'lock' differ:\r\n- actual value  : java.util.concurrent.locks.ReentrantLock@34c01041[Unlocked]\r\n- expected value: java.util.concurrent.locks.ReentrantLock@76f4b65[Unlocked]\r\n\r\nThe recursive comparison was performed with this configuration:\r\n- no overridden equals methods were used in the comparison (except for java types)\r\n- these types were compared with the following comparators:\r\n  - java.lang.Double -> DoubleComparator[precision=1.0E-15]\r\n  - java.lang.Float -> FloatComparator[precision=1.0E-6]\r\n  - java.nio.file.Path -> lexicographic comparator (Path natural order)\r\n- actual and expected objects and their fields were compared field by field recursively even if they were not of the same type, this allows for example to compare a Person to a PersonDto (call strictTypeChecking(true) to change that behavior).\r\n- the introspection strategy used was: DefaultRecursiveComparisonIntrospectionStrategy\r\n\r\n\tat com.fis.payments.apex.batch.reader.TerminalContactAssignmentQueueReaderTest.testGetReader(TerminalContactAssignmentQueueReaderTest.java:62)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/assertj/assertj/issues/3379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/assertj/assertj/issues/3379/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":11928403974,"node_id":"MIE_lADOAIX3Vs5_u3DOzwAAAALG_QAG","url":"https://api.github.com/repos/assertj/assertj/issues/events/11928403974","actor":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2024-02-26T22:25:32Z","milestone":{"title":"3.26.0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/assertj/assertj/issues/comments/1974860413","html_url":"https://github.com/assertj/assertj/issues/3369#issuecomment-1974860413","issue_url":"https://api.github.com/repos/assertj/assertj/issues/3369","id":1974860413,"node_id":"IC_kwDOAIX3Vs51tfp9","user":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-02T17:35:17Z","updated_at":"2024-03-02T17:35:17Z","body":"@Meijuh do you have a clear definition of \"non exported\" packages? \r\nI'm asking for two reasons, first to guide the implementation (is there is an obvious way to detect that) and the documentation","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/assertj/assertj/issues/comments/1974860413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11987870259,"node_id":"MEE_lADOAIX3Vs5_u3DOzwAAAALKiGIz","url":"https://api.github.com/repos/assertj/assertj/issues/events/11987870259","actor":{"login":"Meijuh","id":1567680,"node_id":"MDQ6VXNlcjE1Njc2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1567680?v=4","gravatar_id":"","url":"https://api.github.com/users/Meijuh","html_url":"https://github.com/Meijuh","followers_url":"https://api.github.com/users/Meijuh/followers","following_url":"https://api.github.com/users/Meijuh/following{/other_user}","gists_url":"https://api.github.com/users/Meijuh/gists{/gist_id}","starred_url":"https://api.github.com/users/Meijuh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meijuh/subscriptions","organizations_url":"https://api.github.com/users/Meijuh/orgs","repos_url":"https://api.github.com/users/Meijuh/repos","events_url":"https://api.github.com/users/Meijuh/events{/privacy}","received_events_url":"https://api.github.com/users/Meijuh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-03-02T17:35:18Z","performed_via_github_app":null},{"id":11987870261,"node_id":"SE_lADOAIX3Vs5_u3DOzwAAAALKiGI1","url":"https://api.github.com/repos/assertj/assertj/issues/events/11987870261","actor":{"login":"Meijuh","id":1567680,"node_id":"MDQ6VXNlcjE1Njc2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1567680?v=4","gravatar_id":"","url":"https://api.github.com/users/Meijuh","html_url":"https://github.com/Meijuh","followers_url":"https://api.github.com/users/Meijuh/followers","following_url":"https://api.github.com/users/Meijuh/following{/other_user}","gists_url":"https://api.github.com/users/Meijuh/gists{/gist_id}","starred_url":"https://api.github.com/users/Meijuh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meijuh/subscriptions","organizations_url":"https://api.github.com/users/Meijuh/orgs","repos_url":"https://api.github.com/users/Meijuh/repos","events_url":"https://api.github.com/users/Meijuh/events{/privacy}","received_events_url":"https://api.github.com/users/Meijuh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-03-02T17:35:18Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/assertj/assertj/issues/comments/1974861188","html_url":"https://github.com/assertj/assertj/issues/3369#issuecomment-1974861188","issue_url":"https://api.github.com/repos/assertj/assertj/issues/3369","id":1974861188,"node_id":"IC_kwDOAIX3Vs51tf2E","user":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-02T17:38:48Z","updated_at":"2024-03-02T17:38:48Z","body":"I'm leaning towards adding two options to the recursive comparison:\r\n\r\n- `ignoringTypesMatchingRegexes(string... regexes)` so that one can discard a bunch of types in packages\r\n- `usingEqualsForTypesMatchingRegexes(string... regexes)` similar to the previous but instead of ignoring we would use `equals` to compare these values","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/assertj/assertj/issues/comments/1974861188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12144171513,"node_id":"AE_lADOAIX3Vs5_u3DOzwAAAALT2Vn5","url":"https://api.github.com/repos/assertj/assertj/issues/events/12144171513","actor":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-03-17T22:10:05Z","assignee":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":12304880162,"node_id":"CE_lADOAIX3Vs5_u3DOzwAAAALdbZIi","url":"https://api.github.com/repos/assertj/assertj/issues/events/12304880162","actor":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"8a7843e2d8621cae892c938996be6c294c3152ce","commit_url":"https://api.github.com/repos/assertj/assertj/commits/8a7843e2d8621cae892c938996be6c294c3152ce","created_at":"2024-03-31T22:00:59Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/assertj/assertj/issues/comments/2028924945","html_url":"https://github.com/assertj/assertj/issues/3369#issuecomment-2028924945","issue_url":"https://api.github.com/repos/assertj/assertj/issues/3369","id":2028924945,"node_id":"IC_kwDOAIX3Vs547vAR","user":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-31T22:07:06Z","updated_at":"2024-03-31T22:07:06Z","body":"I have added `ignoringFieldsOfTypesMatchingRegexes(String... regexes)` but not yet `ignoringFieldsOfTypesMatchingRegexes` since I think the case we are trying to solve is for java types that can't be introspected and the recursive comparison already uses `equals` for them.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/assertj/assertj/issues/comments/2028924945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12308165019,"node_id":"REFE_lADOAIX3Vs5_u3DOzwAAAALdn7Gb","url":"https://api.github.com/repos/assertj/assertj/issues/events/12308165019","actor":{"login":"Banuelorigni","id":75022269,"node_id":"MDQ6VXNlcjc1MDIyMjY5","avatar_url":"https://avatars.githubusercontent.com/u/75022269?v=4","gravatar_id":"","url":"https://api.github.com/users/Banuelorigni","html_url":"https://github.com/Banuelorigni","followers_url":"https://api.github.com/users/Banuelorigni/followers","following_url":"https://api.github.com/users/Banuelorigni/following{/other_user}","gists_url":"https://api.github.com/users/Banuelorigni/gists{/gist_id}","starred_url":"https://api.github.com/users/Banuelorigni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Banuelorigni/subscriptions","organizations_url":"https://api.github.com/users/Banuelorigni/orgs","repos_url":"https://api.github.com/users/Banuelorigni/repos","events_url":"https://api.github.com/users/Banuelorigni/events{/privacy}","received_events_url":"https://api.github.com/users/Banuelorigni/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8a7843e2d8621cae892c938996be6c294c3152ce","commit_url":"https://api.github.com/repos/Banuelorigni/assertj/commits/8a7843e2d8621cae892c938996be6c294c3152ce","created_at":"2024-04-01T08:27:29Z","performed_via_github_app":null}]