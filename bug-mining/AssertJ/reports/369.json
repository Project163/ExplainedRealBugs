{"url":"https://api.github.com/repos/assertj/assertj/issues/1881","repository_url":"https://api.github.com/repos/assertj/assertj","labels_url":"https://api.github.com/repos/assertj/assertj/issues/1881/labels{/name}","comments_url":"https://api.github.com/repos/assertj/assertj/issues/1881/comments","events_url":"https://api.github.com/repos/assertj/assertj/issues/1881/events","html_url":"https://github.com/assertj/assertj/issues/1881","id":623804003,"node_id":"MDU6SXNzdWU2MjM4MDQwMDM=","number":1881,"title":"Allow element comparator to use the new recursive comparison","user":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-05-24T06:18:37Z","updated_at":"2020-06-07T05:10:36Z","closed_at":"2020-06-07T05:10:36Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### Summary\r\n\r\nThe current `usingRecursiveFieldByFieldElementComparator`is fairly rigid as it is not based on the new recursive comparison.\r\n\r\nOpening it to the new recursive comparison would make much more flexible allowing users to call iterable assertions (when the new recursive API only exposes `isEqualTo` assertion). \r\n\r\nThis approach does not expose a nice fluent API like `RecursiveComparisonAssert`, users will have to build the `RecursiveComparisonConfiguration` to use, this can be made more user friendly by adding a builder to `RecursiveComparisonConfiguration`.\r\n\r\nShould we change to `usingRecursiveFieldByFieldElementComparator`  to be `usingConfigurableRecursiveFieldByFieldElementComparator(newRecursiveComparisonConfiguration())` ?\r\n\r\nThat would be a breaking change and make methods like `usingComparatorForElementFieldsWithNames`, `usingComparatorForElementFieldsWithType`, `usingElementComparatorOnFields` irrelevant.\r\n\r\nThe API for recursive comparison should be cleaned as it exposes (too) many way to perform recursive comparison.\r\n\r\n#### Example\r\n\r\n```java\r\nFoo actual = new Foo(\"1\", new Bar(1));\r\nFoo other = new Foo(\"2\", new Bar(1));\r\n\r\nRecursiveComparisonConfiguration configuration = new RecursiveComparisonConfiguration();\r\nconfiguration.ignoreFields(\"id\");\r\n\r\n// succeeds as we ignore id which differs in \r\nassertThat(list(actual)).usingConfigurableRecursiveFieldByFieldElementComparator(configuration)\r\n                        .contains(other);\r\n```\r\nwhere `Foo` and `Bar` are defined like:\r\n```java\r\npublic static class Foo {\r\n  String id;\r\n  Bar bar;\r\n  public Foo(String id, Bar bar) {\r\n    this.id = id;\r\n    this.bar = bar;\r\n  }\r\n}\r\n\r\npublic static class Bar {\r\n  public int id;\r\n  public Bar(int id) {\r\n    this.id = id;\r\n  }\r\n}\r\n```\r\n\r\n","closed_by":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/assertj/assertj/issues/1881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/assertj/assertj/issues/1881/timeline","performed_via_github_app":null,"state_reason":"completed"}