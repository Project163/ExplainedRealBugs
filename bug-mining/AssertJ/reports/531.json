{"url":"https://api.github.com/repos/assertj/assertj/issues/3489","repository_url":"https://api.github.com/repos/assertj/assertj","labels_url":"https://api.github.com/repos/assertj/assertj/issues/3489/labels{/name}","comments_url":"https://api.github.com/repos/assertj/assertj/issues/3489/comments","events_url":"https://api.github.com/repos/assertj/assertj/issues/3489/events","html_url":"https://github.com/assertj/assertj/issues/3489","id":2317624439,"node_id":"I_kwDOAIX3Vs6KJCR3","number":3489,"title":"Add `actual()` to access the object under test","user":{"login":"goatfryed","id":34626811,"node_id":"MDQ6VXNlcjM0NjI2ODEx","avatar_url":"https://avatars.githubusercontent.com/u/34626811?v=4","gravatar_id":"","url":"https://api.github.com/users/goatfryed","html_url":"https://github.com/goatfryed","followers_url":"https://api.github.com/users/goatfryed/followers","following_url":"https://api.github.com/users/goatfryed/following{/other_user}","gists_url":"https://api.github.com/users/goatfryed/gists{/gist_id}","starred_url":"https://api.github.com/users/goatfryed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/goatfryed/subscriptions","organizations_url":"https://api.github.com/users/goatfryed/orgs","repos_url":"https://api.github.com/users/goatfryed/repos","events_url":"https://api.github.com/users/goatfryed/events{/privacy}","received_events_url":"https://api.github.com/users/goatfryed/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/assertj/assertj/milestones/74","html_url":"https://github.com/assertj/assertj/milestone/74","labels_url":"https://api.github.com/repos/assertj/assertj/milestones/74/labels","id":10798443,"node_id":"MI_kwDOAIX3Vs4ApMVr","number":74,"title":"3.27.0","description":"","creator":{"login":"scordio","id":26772046,"node_id":"MDQ6VXNlcjI2NzcyMDQ2","avatar_url":"https://avatars.githubusercontent.com/u/26772046?v=4","gravatar_id":"","url":"https://api.github.com/users/scordio","html_url":"https://github.com/scordio","followers_url":"https://api.github.com/users/scordio/followers","following_url":"https://api.github.com/users/scordio/following{/other_user}","gists_url":"https://api.github.com/users/scordio/gists{/gist_id}","starred_url":"https://api.github.com/users/scordio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scordio/subscriptions","organizations_url":"https://api.github.com/users/scordio/orgs","repos_url":"https://api.github.com/users/scordio/repos","events_url":"https://api.github.com/users/scordio/events{/privacy}","received_events_url":"https://api.github.com/users/scordio/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":38,"state":"closed","created_at":"2024-04-09T21:33:05Z","updated_at":"2025-01-18T09:29:37Z","due_on":null,"closed_at":"2024-12-20T14:04:21Z"},"comments":7,"created_at":"2024-05-26T10:18:14Z","updated_at":"2024-12-14T01:42:38Z","closed_at":"2024-08-20T21:10:51Z","author_association":"NONE","type":{"id":23783641,"node_id":"IT_kwDOASBds84BaujZ","name":"âœ¨ New Feature","description":" A new feature","color":"green","created_at":"2024-10-02T23:32:21Z","updated_at":"2025-05-30T17:35:23Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### Feature summary\r\nI propose the additional of a unwrap method to get the actual value of the current Assert\r\n\r\n#### Example\r\n```java\r\nString objName = assertThat(obj).extracting(MyClass::getName).isNotNull().unwrap()\r\n```\r\n\r\n#### Reasoning\r\nIdeally, in unit tests and with assertJ's fluent api, there should be little need to get the actual value back.\r\nThe use of some unwrap method might indicate bad test design, because a test should do only one thing and if you need a nested value for anything other than more assertions, your test does more than one one thing probably.\r\n\r\nI assume this is part of the reason why it doesn't exist at the moment. No need/could promote bad practice.\r\n\r\nLately, I've used assertJ a lot for system integration tests on rest api level as well together with other great libraries like awaitility. I often find myself in the situation that I need to verify nested objects and then continue with them.\r\n\r\nCompare this case\r\n```java\r\nvar order = orderApi.getOrder(orderId);\r\nvar troubleTicketRef = assertThat(order)\r\n    /* ... order assertions */\r\n    .extracting(Order::getPositions)\r\n    .asInstanceOf(list(Position.class))\r\n    .singleElement()\r\n        /* ... position assertions */\r\n        .extracting(Position::getReferences)\r\n        .asInstanceOf(list(Reference.class))\r\n        .filteredOn(\"type\", \"troubleTicket\")\r\n        .singleElement()\r\n            /* ... assertions on config reference **/\r\n            .unwrap();\r\n\r\nvar troubleTicket = troubleTicketApi.get(troubleTicketRef.getId());\r\nassertThat(troubleTicket)\r\n    /* ... */;\r\n```\r\n\r\nAt that point I find myself to replicate a lot of the access or assertion logic, because I can't just simply get Y out of the assertion chain.\r\n\r\nA workaround is to use satisfy to save the actual value in a reference and retrieve it by side effect, but that is ugly of course.\r\n\r\nSo for use cases on a higher level than unit tests, I think an unwrap method would be a great addition.\r\n\r\nSorry, if this was asked before. I searched through the repository to find something similar. I would have made a simple PR and let you decide there for this minor addition, but I wanted to understand and respect the project philosophy before I do that.\r\n","closed_by":{"login":"joel-costigliola","id":382613,"node_id":"MDQ6VXNlcjM4MjYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/382613?v=4","gravatar_id":"","url":"https://api.github.com/users/joel-costigliola","html_url":"https://github.com/joel-costigliola","followers_url":"https://api.github.com/users/joel-costigliola/followers","following_url":"https://api.github.com/users/joel-costigliola/following{/other_user}","gists_url":"https://api.github.com/users/joel-costigliola/gists{/gist_id}","starred_url":"https://api.github.com/users/joel-costigliola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joel-costigliola/subscriptions","organizations_url":"https://api.github.com/users/joel-costigliola/orgs","repos_url":"https://api.github.com/users/joel-costigliola/repos","events_url":"https://api.github.com/users/joel-costigliola/events{/privacy}","received_events_url":"https://api.github.com/users/joel-costigliola/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/assertj/assertj/issues/3489/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/assertj/assertj/issues/3489/timeline","performed_via_github_app":null,"state_reason":"completed"}