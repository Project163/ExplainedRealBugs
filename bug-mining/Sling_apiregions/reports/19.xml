<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:35:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SLING-11383] Configuration API validation fails for internal names with LENIENT mode</title>
                <link>https://issues.apache.org/jira/browse/SLING-11383</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Consider the following configuration-api&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-quote&quot;&gt;&quot;configuration-api:JSON&quot;&lt;/span&gt;: {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;factory-configurations&quot;&lt;/span&gt;: {
      &lt;span class=&quot;code-quote&quot;&gt;&quot;my.service.pid&quot;&lt;/span&gt;: {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;mode&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;LENIENT&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;region&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;GLOBAL&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;internal-names&quot;&lt;/span&gt;: [
          &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&quot;&lt;/span&gt;
        ]
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As a user I would expect to get a warning when I have a configuration &lt;tt&gt;my.service.pid~default&lt;/tt&gt; in my project, but the actual result is an error.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Configuration my.service.pid~&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;: Factory configuration with name is not allowed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The reason for that is that the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-extension-apiregions/blob/org.apache.sling.feature.extension.apiregions-1.6.0/src/main/java/org/apache/sling/feature/extension/apiregions/api/config/validation/FeatureValidator.java#L156&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;FeatureValidator&lt;/a&gt; does not use the configuration description&apos;s validation mode but the one of the ConfigurationApi.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13448940">SLING-11383</key>
            <summary>Configuration API validation fails for internal names with LENIENT mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="diru">Dirk Rudolph</assignee>
                                    <reporter username="diru">Dirk Rudolph</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jun 2022 07:50:53 +0000</created>
                <updated>Mon, 11 Jul 2022 05:13:58 +0000</updated>
                            <resolved>Wed, 8 Jun 2022 11:56:13 +0000</resolved>
                                    <version>Feature Model API Regions Extension 1.6.0</version>
                                    <fixVersion>Feature Model API Regions Extension 1.6.2</fixVersion>
                                    <component>Feature Model Analyser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17551514" author="cziegeler" created="Wed, 8 Jun 2022 09:47:47 +0000"  >&lt;p&gt;I think we need a complete test case here. Keep in mind that this heavily depends on the region of the feature which contains the configuration. &lt;/p&gt;</comment>
                            <comment id="17551517" author="diru" created="Wed, 8 Jun 2022 10:02:51 +0000"  >&lt;p&gt;Wouldn&apos;t it be as simple as taking the validation mode from the FactoryConfigurationDescription and if not set falling back to the one defined for the ConfigurationApi? This would be the same pattern that I see in the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-extension-apiregions/blob/4f871d436dd3f8b500f0f690342d8e3b7e7c5897/src/main/java/org/apache/sling/feature/extension/apiregions/api/config/validation/ConfigurationValidator.java#L103&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ConfigurationValidator&lt;/a&gt;, or am I missing something here?&lt;/p&gt;</comment>
                            <comment id="17551518" author="cziegeler" created="Wed, 8 Jun 2022 10:05:39 +0000"  >&lt;p&gt;Maybe, I thought the impl already does it and we have covered this per unit tests.&lt;br/&gt;
But yes, now I see what you mean. I assume that applies to most checks done in that area.&lt;br/&gt;
Still, we should cover it with tests as apparently it isn&apos;t yet&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 22 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z131ko:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>