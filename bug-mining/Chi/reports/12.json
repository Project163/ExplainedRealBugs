{"url":"https://api.github.com/repos/go-chi/chi/issues/277","repository_url":"https://api.github.com/repos/go-chi/chi","labels_url":"https://api.github.com/repos/go-chi/chi/issues/277/labels{/name}","comments_url":"https://api.github.com/repos/go-chi/chi/issues/277/comments","events_url":"https://api.github.com/repos/go-chi/chi/issues/277/events","html_url":"https://github.com/go-chi/chi/issues/277","id":273147909,"node_id":"MDU6SXNzdWUyNzMxNDc5MDk=","number":277,"title":"Panic on empty path segments in request","user":{"login":"cskr","id":173476,"node_id":"MDQ6VXNlcjE3MzQ3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/173476?v=4","gravatar_id":"","url":"https://api.github.com/users/cskr","html_url":"https://github.com/cskr","followers_url":"https://api.github.com/users/cskr/followers","following_url":"https://api.github.com/users/cskr/following{/other_user}","gists_url":"https://api.github.com/users/cskr/gists{/gist_id}","starred_url":"https://api.github.com/users/cskr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cskr/subscriptions","organizations_url":"https://api.github.com/users/cskr/orgs","repos_url":"https://api.github.com/users/cskr/repos","events_url":"https://api.github.com/users/cskr/events{/privacy}","received_events_url":"https://api.github.com/users/cskr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-11-11T14:10:06Z","updated_at":"2017-11-20T15:13:06Z","closed_at":"2017-11-20T15:10:25Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`chi.URLParam` panics when path segments matching path variables is empty.\r\n\r\nchi version: 94e6bc0\r\nGo version: go1.9.2 linux/amd64\r\n\r\nSample code for reproduction:\r\n\r\n```\r\npackage main\r\n\r\nimport (\r\n\t\"fmt\"\r\n\t\"net/http\"\r\n\r\n\t\"github.com/go-chi/chi\"\r\n)\r\n\r\nfunc main() {\r\n\tmux := chi.NewMux()\r\n\tmux.Get(\"/prefix/{x}/{y}/suffix\", func(w http.ResponseWriter, r *http.Request) {\r\n\t\tfmt.Fprintln(w, chi.URLParam(r, \"x\"), chi.URLParam(r, \"y\"))\r\n\t})\r\n\r\n\thttp.ListenAndServe(\":8080\", mux)\r\n}\r\n```\r\n\r\ncurl command:\r\n\r\n```\r\ncurl 'http://localhost:8080/prefix///suffix'\r\n```\r\n\r\nPanic:\r\n\r\n```\r\n2017/11/11 19:31:39 http: panic serving 127.0.0.1:52118: runtime error: index out of range\r\ngoroutine 5 [running]:\r\nnet/http.(*conn).serve.func1(0xc42007ad20)\r\n\t$GOROOT/src/net/http/server.go:1697 +0xd0\r\npanic(0x675140, 0x82f160)\r\n\t$GOROOT/src/runtime/panic.go:491 +0x283\r\ngithub.com/go-chi/chi.(*Context).URLParam(0xc4200fc000, 0x6c5b1c, 0x1, 0x0, 0xc420010ac0)\r\n\t$HOME/go/src/github.com/go-chi/chi/context.go:74 +0x102\r\ngithub.com/go-chi/chi.URLParam(0xc4200f6100, 0x6c5b1c, 0x1, 0x8, 0xc4200ee048)\r\n\t$HOME/go/src/github.com/go-chi/chi/context.go:108 +0x6e\r\nmain.main.func1(0x805f20, 0xc4200f8000, 0xc4200f6100)\r\n\t$HOME/test.go:13 +0x55\r\nnet/http.HandlerFunc.ServeHTTP(0x6d8940, 0x805f20, 0xc4200f8000, 0xc4200f6100)\r\n\t$GOROOT/src/net/http/server.go:1918 +0x44\r\ngithub.com/go-chi/chi.(*Mux).routeHTTP(0xc420060120, 0x805f20, 0xc4200f8000, 0xc4200f6100)\r\n\t$HOME/go/src/github.com/go-chi/chi/mux.go:428 +0x289\r\ngithub.com/go-chi/chi.(*Mux).(github.com/go-chi/chi.routeHTTP)-fm(0x805f20, 0xc4200f8000, 0xc4200f6100)\r\n\t$HOME/go/src/github.com/go-chi/chi/mux.go:372 +0x48\r\nnet/http.HandlerFunc.ServeHTTP(0xc420010a20, 0x805f20, 0xc4200f8000, 0xc4200f6100)\r\n\t$GOROOT/src/net/http/server.go:1918 +0x44\r\ngithub.com/go-chi/chi.(*Mux).ServeHTTP(0xc420060120, 0x805f20, 0xc4200f8000, 0xc4200f6000)\r\n\t$HOME/go/src/github.com/go-chi/chi/mux.go:81 +0x221\r\nnet/http.serverHandler.ServeHTTP(0xc420078dd0, 0x805f20, 0xc4200f8000, 0xc4200f6000)\r\n\t$GOROOT/src/net/http/server.go:2619 +0xb4\r\nnet/http.(*conn).serve(0xc42007ad20, 0x806460, 0xc42005e280)\r\n\t$GOROOT/src/net/http/server.go:1801 +0x71d\r\ncreated by net/http.(*Server).Serve\r\n\t$GOROOT/src/net/http/server.go:2720 +0x288\r\n```","closed_by":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-chi/chi/issues/277/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-chi/chi/issues/277/timeline","performed_via_github_app":null,"state_reason":"completed"}