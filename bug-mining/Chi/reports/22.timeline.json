[{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/784172718","html_url":"https://github.com/go-chi/chi/issues/587#issuecomment-784172718","issue_url":"https://api.github.com/repos/go-chi/chi/issues/587","id":784172718,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NDE3MjcxOA==","user":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-23T12:39:51Z","updated_at":"2021-02-23T12:39:51Z","body":"thanks for the report. I thought there was a test cases in the code checking against this very issue but perhaps not. I suspect the issue started from here https://github.com/go-chi/chi/commit/894714a52f0c36c24e608bd18723cd7fc7285092","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/784172718/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/788004834","html_url":"https://github.com/go-chi/chi/issues/587#issuecomment-788004834","issue_url":"https://api.github.com/repos/go-chi/chi/issues/587","id":788004834,"node_id":"MDEyOklzc3VlQ29tbWVudDc4ODAwNDgzNA==","user":{"login":"vadimi","id":1156106,"node_id":"MDQ6VXNlcjExNTYxMDY=","avatar_url":"https://avatars.githubusercontent.com/u/1156106?v=4","gravatar_id":"","url":"https://api.github.com/users/vadimi","html_url":"https://github.com/vadimi","followers_url":"https://api.github.com/users/vadimi/followers","following_url":"https://api.github.com/users/vadimi/following{/other_user}","gists_url":"https://api.github.com/users/vadimi/gists{/gist_id}","starred_url":"https://api.github.com/users/vadimi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vadimi/subscriptions","organizations_url":"https://api.github.com/users/vadimi/orgs","repos_url":"https://api.github.com/users/vadimi/repos","events_url":"https://api.github.com/users/vadimi/events{/privacy}","received_events_url":"https://api.github.com/users/vadimi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-01T14:48:24Z","updated_at":"2021-03-01T14:48:24Z","body":"it seems like `MethodNotAllowed` middleware has the same issue: 00cc734b678d2a08839ee2e35904e0b0e46c479d","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/788004834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vadimi","id":1156106,"node_id":"MDQ6VXNlcjExNTYxMDY=","avatar_url":"https://avatars.githubusercontent.com/u/1156106?v=4","gravatar_id":"","url":"https://api.github.com/users/vadimi","html_url":"https://github.com/vadimi","followers_url":"https://api.github.com/users/vadimi/followers","following_url":"https://api.github.com/users/vadimi/following{/other_user}","gists_url":"https://api.github.com/users/vadimi/gists{/gist_id}","starred_url":"https://api.github.com/users/vadimi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vadimi/subscriptions","organizations_url":"https://api.github.com/users/vadimi/orgs","repos_url":"https://api.github.com/users/vadimi/repos","events_url":"https://api.github.com/users/vadimi/events{/privacy}","received_events_url":"https://api.github.com/users/vadimi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/806408459","html_url":"https://github.com/go-chi/chi/issues/587#issuecomment-806408459","issue_url":"https://api.github.com/repos/go-chi/chi/issues/587","id":806408459,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjQwODQ1OQ==","user":{"login":"stephenafamo","id":13472455,"node_id":"MDQ6VXNlcjEzNDcyNDU1","avatar_url":"https://avatars.githubusercontent.com/u/13472455?v=4","gravatar_id":"","url":"https://api.github.com/users/stephenafamo","html_url":"https://github.com/stephenafamo","followers_url":"https://api.github.com/users/stephenafamo/followers","following_url":"https://api.github.com/users/stephenafamo/following{/other_user}","gists_url":"https://api.github.com/users/stephenafamo/gists{/gist_id}","starred_url":"https://api.github.com/users/stephenafamo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephenafamo/subscriptions","organizations_url":"https://api.github.com/users/stephenafamo/orgs","repos_url":"https://api.github.com/users/stephenafamo/repos","events_url":"https://api.github.com/users/stephenafamo/events{/privacy}","received_events_url":"https://api.github.com/users/stephenafamo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T06:51:00Z","updated_at":"2021-03-25T06:51:00Z","body":"Just ran into this same thing.\r\n\r\nIf `NotAllowed()` is called **AFTER** setting middlewares, the middlewares will be called twice when the route is not found.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/806408459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stephenafamo","id":13472455,"node_id":"MDQ6VXNlcjEzNDcyNDU1","avatar_url":"https://avatars.githubusercontent.com/u/13472455?v=4","gravatar_id":"","url":"https://api.github.com/users/stephenafamo","html_url":"https://github.com/stephenafamo","followers_url":"https://api.github.com/users/stephenafamo/followers","following_url":"https://api.github.com/users/stephenafamo/following{/other_user}","gists_url":"https://api.github.com/users/stephenafamo/gists{/gist_id}","starred_url":"https://api.github.com/users/stephenafamo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephenafamo/subscriptions","organizations_url":"https://api.github.com/users/stephenafamo/orgs","repos_url":"https://api.github.com/users/stephenafamo/repos","events_url":"https://api.github.com/users/stephenafamo/events{/privacy}","received_events_url":"https://api.github.com/users/stephenafamo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/806553822","html_url":"https://github.com/go-chi/chi/issues/587#issuecomment-806553822","issue_url":"https://api.github.com/repos/go-chi/chi/issues/587","id":806553822,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjU1MzgyMg==","user":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T10:57:22Z","updated_at":"2021-03-25T10:57:22Z","body":"Yes it’s a known regression. I’ll fix it when I have time ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/806553822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4507641959,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ1MDc2NDE5NTk=","url":"https://api.github.com/repos/go-chi/chi/issues/events/4507641959","actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b9da5d80fe02a90ca61b3bb21fa1f614eabcd360","commit_url":"https://api.github.com/repos/go-chi/chi/commits/b9da5d80fe02a90ca61b3bb21fa1f614eabcd360","created_at":"2021-03-25T12:51:20Z","performed_via_github_app":null},{"actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T12:53:34Z","updated_at":"2021-03-25T12:53:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-chi/chi/issues/606","repository_url":"https://api.github.com/repos/go-chi/chi","labels_url":"https://api.github.com/repos/go-chi/chi/issues/606/labels{/name}","comments_url":"https://api.github.com/repos/go-chi/chi/issues/606/comments","events_url":"https://api.github.com/repos/go-chi/chi/issues/606/events","html_url":"https://github.com/go-chi/chi/pull/606","id":840896933,"node_id":"MDExOlB1bGxSZXF1ZXN0NjAwNzExNzQz","number":606,"title":"fix #587 by reverting 894714a and 00cc734","user":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-03-25T12:51:48Z","updated_at":"2021-03-25T12:56:36Z","closed_at":"2021-03-25T12:56:33Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":44344606,"node_id":"MDEwOlJlcG9zaXRvcnk0NDM0NDYwNg==","name":"chi","full_name":"go-chi/chi","private":false,"owner":{"login":"go-chi","id":29575368,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI5NTc1MzY4","avatar_url":"https://avatars.githubusercontent.com/u/29575368?v=4","gravatar_id":"","url":"https://api.github.com/users/go-chi","html_url":"https://github.com/go-chi","followers_url":"https://api.github.com/users/go-chi/followers","following_url":"https://api.github.com/users/go-chi/following{/other_user}","gists_url":"https://api.github.com/users/go-chi/gists{/gist_id}","starred_url":"https://api.github.com/users/go-chi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-chi/subscriptions","organizations_url":"https://api.github.com/users/go-chi/orgs","repos_url":"https://api.github.com/users/go-chi/repos","events_url":"https://api.github.com/users/go-chi/events{/privacy}","received_events_url":"https://api.github.com/users/go-chi/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-chi/chi","description":"lightweight, idiomatic and composable router for building Go HTTP services","fork":false,"url":"https://api.github.com/repos/go-chi/chi","forks_url":"https://api.github.com/repos/go-chi/chi/forks","keys_url":"https://api.github.com/repos/go-chi/chi/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-chi/chi/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-chi/chi/teams","hooks_url":"https://api.github.com/repos/go-chi/chi/hooks","issue_events_url":"https://api.github.com/repos/go-chi/chi/issues/events{/number}","events_url":"https://api.github.com/repos/go-chi/chi/events","assignees_url":"https://api.github.com/repos/go-chi/chi/assignees{/user}","branches_url":"https://api.github.com/repos/go-chi/chi/branches{/branch}","tags_url":"https://api.github.com/repos/go-chi/chi/tags","blobs_url":"https://api.github.com/repos/go-chi/chi/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-chi/chi/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-chi/chi/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-chi/chi/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-chi/chi/statuses/{sha}","languages_url":"https://api.github.com/repos/go-chi/chi/languages","stargazers_url":"https://api.github.com/repos/go-chi/chi/stargazers","contributors_url":"https://api.github.com/repos/go-chi/chi/contributors","subscribers_url":"https://api.github.com/repos/go-chi/chi/subscribers","subscription_url":"https://api.github.com/repos/go-chi/chi/subscription","commits_url":"https://api.github.com/repos/go-chi/chi/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-chi/chi/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-chi/chi/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-chi/chi/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-chi/chi/contents/{+path}","compare_url":"https://api.github.com/repos/go-chi/chi/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-chi/chi/merges","archive_url":"https://api.github.com/repos/go-chi/chi/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-chi/chi/downloads","issues_url":"https://api.github.com/repos/go-chi/chi/issues{/number}","pulls_url":"https://api.github.com/repos/go-chi/chi/pulls{/number}","milestones_url":"https://api.github.com/repos/go-chi/chi/milestones{/number}","notifications_url":"https://api.github.com/repos/go-chi/chi/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-chi/chi/labels{/name}","releases_url":"https://api.github.com/repos/go-chi/chi/releases{/id}","deployments_url":"https://api.github.com/repos/go-chi/chi/deployments","created_at":"2015-10-15T20:46:29Z","updated_at":"2025-11-09T19:42:49Z","pushed_at":"2025-10-09T19:21:01Z","git_url":"git://github.com/go-chi/chi.git","ssh_url":"git@github.com:go-chi/chi.git","clone_url":"https://github.com/go-chi/chi.git","svn_url":"https://github.com/go-chi/chi","homepage":"https://go-chi.io","size":3799,"stargazers_count":20829,"watchers_count":20829,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":1053,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":87,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","context","go","golang","http","microservices","middleware","rest-api","router"],"visibility":"public","forks":1053,"open_issues":87,"watchers":20829,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/go-chi/chi/pulls/606","html_url":"https://github.com/go-chi/chi/pull/606","diff_url":"https://github.com/go-chi/chi/pull/606.diff","patch_url":"https://github.com/go-chi/chi/pull/606.patch","merged_at":"2021-03-25T12:56:33Z"},"body":"fixes #587 \r\n\r\nreverts commits 894714a and 00cc734\r\n\r\nHowever, it would still be nice in the future to add support (with proper tests) for the very small edge case the above commits solved. But Im reverting for now as the system is better without them, and more correct. ","reactions":{"url":"https://api.github.com/repos/go-chi/chi/issues/606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-chi/chi/issues/606/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":4507666881,"node_id":"MDExOkNsb3NlZEV2ZW50NDUwNzY2Njg4MQ==","url":"https://api.github.com/repos/go-chi/chi/issues/events/4507666881","actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-03-25T12:56:33Z","state_reason":null,"performed_via_github_app":null},{"id":4507666969,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ1MDc2NjY5Njk=","url":"https://api.github.com/repos/go-chi/chi/issues/events/4507666969","actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"969d7fcccb46710a67a9380877cfb50610490b6a","commit_url":"https://api.github.com/repos/go-chi/chi/commits/969d7fcccb46710a67a9380877cfb50610490b6a","created_at":"2021-03-25T12:56:34Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/806707001","html_url":"https://github.com/go-chi/chi/issues/587#issuecomment-806707001","issue_url":"https://api.github.com/repos/go-chi/chi/issues/587","id":806707001,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjcwNzAwMQ==","user":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T13:05:37Z","updated_at":"2021-03-25T13:05:37Z","body":"released a new version with the fix, https://github.com/go-chi/chi/releases/tag/v5.0.2","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/806707001/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/1258609802","html_url":"https://github.com/go-chi/chi/issues/587#issuecomment-1258609802","issue_url":"https://api.github.com/repos/go-chi/chi/issues/587","id":1258609802,"node_id":"IC_kwDOAqSlHs5LBNyK","user":{"login":"atombender","id":50314,"node_id":"MDQ6VXNlcjUwMzE0","avatar_url":"https://avatars.githubusercontent.com/u/50314?v=4","gravatar_id":"","url":"https://api.github.com/users/atombender","html_url":"https://github.com/atombender","followers_url":"https://api.github.com/users/atombender/followers","following_url":"https://api.github.com/users/atombender/following{/other_user}","gists_url":"https://api.github.com/users/atombender/gists{/gist_id}","starred_url":"https://api.github.com/users/atombender/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atombender/subscriptions","organizations_url":"https://api.github.com/users/atombender/orgs","repos_url":"https://api.github.com/users/atombender/repos","events_url":"https://api.github.com/users/atombender/events{/privacy}","received_events_url":"https://api.github.com/users/atombender/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-26T20:41:32Z","updated_at":"2022-09-26T20:41:32Z","body":"Still seeing this with 5.0.2. Basic code:\r\n\r\n```go\r\nr := chi.NewRouter().With(someMiddleware)\r\nr.Route(\"/v1\", func(r chi.Router) {\r\n  r.Get(\"/\", someHandler)\r\n})\r\nr.NotFound(func(w http.ResponseWriter, r *http.Request) {\r\n  ...\r\n})\r\n```\r\n\r\nWhen the `NotFound` handler is invoked, the `someMiddleware` middleware is invoked twice.\r\n\r\nNotice the use of `With()` here. Does not happen if I move the `With()` into the nested router.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/1258609802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"atombender","id":50314,"node_id":"MDQ6VXNlcjUwMzE0","avatar_url":"https://avatars.githubusercontent.com/u/50314?v=4","gravatar_id":"","url":"https://api.github.com/users/atombender","html_url":"https://github.com/atombender","followers_url":"https://api.github.com/users/atombender/followers","following_url":"https://api.github.com/users/atombender/following{/other_user}","gists_url":"https://api.github.com/users/atombender/gists{/gist_id}","starred_url":"https://api.github.com/users/atombender/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atombender/subscriptions","organizations_url":"https://api.github.com/users/atombender/orgs","repos_url":"https://api.github.com/users/atombender/repos","events_url":"https://api.github.com/users/atombender/events{/privacy}","received_events_url":"https://api.github.com/users/atombender/received_events","type":"User","user_view_type":"public","site_admin":false}}]