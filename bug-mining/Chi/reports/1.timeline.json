[{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/220787976","html_url":"https://github.com/go-chi/chi/issues/42#issuecomment-220787976","issue_url":"https://api.github.com/repos/go-chi/chi/issues/42","id":220787976,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDc4Nzk3Ng==","user":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-21T16:45:12Z","updated_at":"2016-05-21T16:45:12Z","body":"Good tip, I'll see about adding a nicer panic message, cuz it will still have to panic without an err check\n\n> On May 21, 2016, at 4:34 PM, Mgen notifications@github.com wrote:\n> \n> I accidentally mounted an empty router, I didn't realise it, and it was hard to find out the problem due to the weird error message.\n> \n> Code to reproduce this issue\n> \n> package main\n> \n> import (\n>     \"net/http\"\n>     \"github.com/pressly/chi\"\n> )\n> \n> func main() {\n>     r := chi.NewRouter()\n> \n> ```\n> apiRouter := chi.NewRouter()\n> r.Handle(\"/api\", apiRouter)\n> \n> http.ListenAndServe(\":3000\", r)\n> ```\n> \n> }\n> 127.0.0.1:3000/abc: 404 page.\n> 127.0.0.1:3000/api: panics.\n> 127.0.0.1:3000/api/abc: panics.\n> \n> Full error log:\n> \n> 2016/05/21 23:18:24 http: panic serving 127.0.0.1:49239: runtime error: invalid memory address or nil pointer dereference\n> goroutine 8 [running]:\n> net/http.(_conn).serve.func1(0xc82005e980)\n>     /usr/local/Cellar/go/1.6/libexec/src/net/http/server.go:1389 +0xc1\n> panic(0x325240, 0xc82000a1a0)\n>     /usr/local/Cellar/go/1.6/libexec/src/runtime/panic.go:426 +0x4e9\n> github.com/pressly/chi.(_Mux).ServeHTTPC(0xc8200125a0, 0x1a55910, 0xc820010cc0, 0x1a55858, 0xc8200f41a0, 0xc8200c2380)\n>     /Users/Mgen/go/src/github.com/pressly/chi/mux.go:283 +0x648\n> github.com/pressly/chi.treeRouter.ServeHTTPC(0xc820014e40, 0x0, 0x1a55910, 0xc820010cc0, 0x1a55858, 0xc8200f41a0, 0xc8200c2380)\n>     /Users/Mgen/go/src/github.com/pressly/chi/mux.go:352 +0x324\n> github.com/pressly/chi.(_treeRouter).ServeHTTPC(0xc82000af80, 0x1a55910, 0xc820010cc0, 0x1a55858, 0xc8200f41a0, 0xc8200c2380)\n>     <autogenerated>:18 +0xca\n> github.com/pressly/chi.(_Mux).ServeHTTPC(0xc820012550, 0x0, 0x0, 0x1a55858, 0xc8200f41a0, 0xc8200c2380)\n>     /Users/Mgen/go/src/github.com/pressly/chi/mux.go:266 +0x112\n> github.com/pressly/chi.(_Mux).ServeHTTP(0xc820012550, 0x1a55858, 0xc8200f41a0, 0xc8200c2380)\n>     /Users/Mgen/go/src/github.com/pressly/chi/mux.go:258 +0x4b\n> net/http.serverHandler.ServeHTTP(0xc82005e080, 0x1a55858, 0xc8200f41a0, 0xc8200c2380)\n>     /usr/local/Cellar/go/1.6/libexec/src/net/http/server.go:2081 +0x19e\n> net/http.(_conn).serve(0xc82005e980)\n>     /usr/local/Cellar/go/1.6/libexec/src/net/http/server.go:1472 +0xf2e\n> created by net/http.(*Server).Serve\n>     /usr/local/Cellar/go/1.6/libexec/src/net/http/server.go:2137 +0x44e\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly or view it on GitHub\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/220787976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":701152751,"node_id":"MDExOkNsb3NlZEV2ZW50NzAxMTUyNzUx","url":"https://api.github.com/repos/go-chi/chi/issues/events/701152751","actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"dcbb8f81eea01aaaa5b6f9bffc229e9e9e0256bb","commit_url":"https://api.github.com/repos/go-chi/chi/commits/dcbb8f81eea01aaaa5b6f9bffc229e9e9e0256bb","created_at":"2016-06-22T21:59:19Z","state_reason":null,"performed_via_github_app":null}]