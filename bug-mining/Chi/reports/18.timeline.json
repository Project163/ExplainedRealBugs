[{"actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-08T01:46:30Z","updated_at":"2019-01-08T01:46:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-chi/chi/issues/378","repository_url":"https://api.github.com/repos/go-chi/chi","labels_url":"https://api.github.com/repos/go-chi/chi/issues/378/labels{/name}","comments_url":"https://api.github.com/repos/go-chi/chi/issues/378/comments","events_url":"https://api.github.com/repos/go-chi/chi/issues/378/events","html_url":"https://github.com/go-chi/chi/pull/378","id":396717121,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQyODMzMzU4","number":378,"title":"chi v4","user":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2019-01-08T01:40:55Z","updated_at":"2019-01-11T01:48:29Z","closed_at":"2019-01-09T14:32:44Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":44344606,"node_id":"MDEwOlJlcG9zaXRvcnk0NDM0NDYwNg==","name":"chi","full_name":"go-chi/chi","private":false,"owner":{"login":"go-chi","id":29575368,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI5NTc1MzY4","avatar_url":"https://avatars.githubusercontent.com/u/29575368?v=4","gravatar_id":"","url":"https://api.github.com/users/go-chi","html_url":"https://github.com/go-chi","followers_url":"https://api.github.com/users/go-chi/followers","following_url":"https://api.github.com/users/go-chi/following{/other_user}","gists_url":"https://api.github.com/users/go-chi/gists{/gist_id}","starred_url":"https://api.github.com/users/go-chi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-chi/subscriptions","organizations_url":"https://api.github.com/users/go-chi/orgs","repos_url":"https://api.github.com/users/go-chi/repos","events_url":"https://api.github.com/users/go-chi/events{/privacy}","received_events_url":"https://api.github.com/users/go-chi/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-chi/chi","description":"lightweight, idiomatic and composable router for building Go HTTP services","fork":false,"url":"https://api.github.com/repos/go-chi/chi","forks_url":"https://api.github.com/repos/go-chi/chi/forks","keys_url":"https://api.github.com/repos/go-chi/chi/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-chi/chi/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-chi/chi/teams","hooks_url":"https://api.github.com/repos/go-chi/chi/hooks","issue_events_url":"https://api.github.com/repos/go-chi/chi/issues/events{/number}","events_url":"https://api.github.com/repos/go-chi/chi/events","assignees_url":"https://api.github.com/repos/go-chi/chi/assignees{/user}","branches_url":"https://api.github.com/repos/go-chi/chi/branches{/branch}","tags_url":"https://api.github.com/repos/go-chi/chi/tags","blobs_url":"https://api.github.com/repos/go-chi/chi/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-chi/chi/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-chi/chi/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-chi/chi/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-chi/chi/statuses/{sha}","languages_url":"https://api.github.com/repos/go-chi/chi/languages","stargazers_url":"https://api.github.com/repos/go-chi/chi/stargazers","contributors_url":"https://api.github.com/repos/go-chi/chi/contributors","subscribers_url":"https://api.github.com/repos/go-chi/chi/subscribers","subscription_url":"https://api.github.com/repos/go-chi/chi/subscription","commits_url":"https://api.github.com/repos/go-chi/chi/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-chi/chi/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-chi/chi/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-chi/chi/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-chi/chi/contents/{+path}","compare_url":"https://api.github.com/repos/go-chi/chi/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-chi/chi/merges","archive_url":"https://api.github.com/repos/go-chi/chi/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-chi/chi/downloads","issues_url":"https://api.github.com/repos/go-chi/chi/issues{/number}","pulls_url":"https://api.github.com/repos/go-chi/chi/pulls{/number}","milestones_url":"https://api.github.com/repos/go-chi/chi/milestones{/number}","notifications_url":"https://api.github.com/repos/go-chi/chi/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-chi/chi/labels{/name}","releases_url":"https://api.github.com/repos/go-chi/chi/releases{/id}","deployments_url":"https://api.github.com/repos/go-chi/chi/deployments","created_at":"2015-10-15T20:46:29Z","updated_at":"2025-11-09T19:42:49Z","pushed_at":"2025-10-09T19:21:01Z","git_url":"git://github.com/go-chi/chi.git","ssh_url":"git@github.com:go-chi/chi.git","clone_url":"https://github.com/go-chi/chi.git","svn_url":"https://github.com/go-chi/chi","homepage":"https://go-chi.io","size":3799,"stargazers_count":20829,"watchers_count":20829,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":1053,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":87,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","context","go","golang","http","microservices","middleware","rest-api","router"],"visibility":"public","forks":1053,"open_issues":87,"watchers":20829,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/go-chi/chi/pulls/378","html_url":"https://github.com/go-chi/chi/pull/378","diff_url":"https://github.com/go-chi/chi/pull/378.diff","patch_url":"https://github.com/go-chi/chi/pull/378.patch","merged_at":"2019-01-09T14:32:44Z"},"body":"chi is a pretty minimal library and has been hardened over the years, so v4 won't introduce any big changes other then a few minor things like..\r\n\r\n- [x] chi's Go support will be inline with Go's own support - #366 - therefore, we remove support for Go 1.7 and 1.8, and stop tracking 1.9\r\n- [x] return 404 for mux with empty routes #362\r\n- [x] additional check to ensure wildcard is at the end of a url pattern #333\r\n- [x] middleware: deprecate support for CloseNotifier - #347\r\n- [ ] Optimal Go module handling #302 - some community submissions: #364 #370 #379\r\n\r\n:)","reactions":{"url":"https://api.github.com/repos/go-chi/chi/issues/378/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":3,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-chi/chi/issues/378/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":2060998511,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIwNjA5OTg1MTE=","url":"https://api.github.com/repos/go-chi/chi/issues/events/2060998511","actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6c5205e8ab32d2cfc730ff039403647116755396","commit_url":"https://api.github.com/repos/go-chi/chi/commits/6c5205e8ab32d2cfc730ff039403647116755396","created_at":"2019-01-08T18:36:58Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/452405308","html_url":"https://github.com/go-chi/chi/issues/347#issuecomment-452405308","issue_url":"https://api.github.com/repos/go-chi/chi/issues/347","id":452405308,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MjQwNTMwOA==","user":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-08T18:37:03Z","updated_at":"2019-01-08T18:37:03Z","body":"done in #378 ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-chi/chi/issues/comments/452405308/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2063229282,"node_id":"MDExOkNsb3NlZEV2ZW50MjA2MzIyOTI4Mg==","url":"https://api.github.com/repos/go-chi/chi/issues/events/2063229282","actor":{"login":"pkieltyka","id":18831,"node_id":"MDQ6VXNlcjE4ODMx","avatar_url":"https://avatars.githubusercontent.com/u/18831?v=4","gravatar_id":"","url":"https://api.github.com/users/pkieltyka","html_url":"https://github.com/pkieltyka","followers_url":"https://api.github.com/users/pkieltyka/followers","following_url":"https://api.github.com/users/pkieltyka/following{/other_user}","gists_url":"https://api.github.com/users/pkieltyka/gists{/gist_id}","starred_url":"https://api.github.com/users/pkieltyka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkieltyka/subscriptions","organizations_url":"https://api.github.com/users/pkieltyka/orgs","repos_url":"https://api.github.com/users/pkieltyka/repos","events_url":"https://api.github.com/users/pkieltyka/events{/privacy}","received_events_url":"https://api.github.com/users/pkieltyka/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"c88f06fe6419037c86b3b26a4a67470621f458ad","commit_url":"https://api.github.com/repos/go-chi/chi/commits/c88f06fe6419037c86b3b26a4a67470621f458ad","created_at":"2019-01-09T14:32:47Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"alexandrevicenzi","id":2637672,"node_id":"MDQ6VXNlcjI2Mzc2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2637672?v=4","gravatar_id":"","url":"https://api.github.com/users/alexandrevicenzi","html_url":"https://github.com/alexandrevicenzi","followers_url":"https://api.github.com/users/alexandrevicenzi/followers","following_url":"https://api.github.com/users/alexandrevicenzi/following{/other_user}","gists_url":"https://api.github.com/users/alexandrevicenzi/gists{/gist_id}","starred_url":"https://api.github.com/users/alexandrevicenzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexandrevicenzi/subscriptions","organizations_url":"https://api.github.com/users/alexandrevicenzi/orgs","repos_url":"https://api.github.com/users/alexandrevicenzi/repos","events_url":"https://api.github.com/users/alexandrevicenzi/events{/privacy}","received_events_url":"https://api.github.com/users/alexandrevicenzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-11T09:06:08Z","updated_at":"2019-09-11T09:06:08Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/alexandrevicenzi/go-sse/issues/8","repository_url":"https://api.github.com/repos/alexandrevicenzi/go-sse","labels_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/issues/8/labels{/name}","comments_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/issues/8/comments","events_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/issues/8/events","html_url":"https://github.com/alexandrevicenzi/go-sse/issues/8","id":492032466,"node_id":"MDU6SXNzdWU0OTIwMzI0NjY=","number":8,"title":"*middleware.compressResponseWriter is not http.CloseNotifier:","user":{"login":"joselbr2099","id":17169699,"node_id":"MDQ6VXNlcjE3MTY5Njk5","avatar_url":"https://avatars.githubusercontent.com/u/17169699?v=4","gravatar_id":"","url":"https://api.github.com/users/joselbr2099","html_url":"https://github.com/joselbr2099","followers_url":"https://api.github.com/users/joselbr2099/followers","following_url":"https://api.github.com/users/joselbr2099/following{/other_user}","gists_url":"https://api.github.com/users/joselbr2099/gists{/gist_id}","starred_url":"https://api.github.com/users/joselbr2099/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joselbr2099/subscriptions","organizations_url":"https://api.github.com/users/joselbr2099/orgs","repos_url":"https://api.github.com/users/joselbr2099/repos","events_url":"https://api.github.com/users/joselbr2099/events{/privacy}","received_events_url":"https://api.github.com/users/joselbr2099/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":415323948,"node_id":"MDU6TGFiZWw0MTUzMjM5NDg=","url":"https://api.github.com/repos/alexandrevicenzi/go-sse/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-09-11T05:56:20Z","updated_at":"2020-02-20T19:27:53Z","closed_at":"2020-02-20T19:27:53Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":64352022,"node_id":"MDEwOlJlcG9zaXRvcnk2NDM1MjAyMg==","name":"go-sse","full_name":"alexandrevicenzi/go-sse","private":false,"owner":{"login":"alexandrevicenzi","id":2637672,"node_id":"MDQ6VXNlcjI2Mzc2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2637672?v=4","gravatar_id":"","url":"https://api.github.com/users/alexandrevicenzi","html_url":"https://github.com/alexandrevicenzi","followers_url":"https://api.github.com/users/alexandrevicenzi/followers","following_url":"https://api.github.com/users/alexandrevicenzi/following{/other_user}","gists_url":"https://api.github.com/users/alexandrevicenzi/gists{/gist_id}","starred_url":"https://api.github.com/users/alexandrevicenzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexandrevicenzi/subscriptions","organizations_url":"https://api.github.com/users/alexandrevicenzi/orgs","repos_url":"https://api.github.com/users/alexandrevicenzi/repos","events_url":"https://api.github.com/users/alexandrevicenzi/events{/privacy}","received_events_url":"https://api.github.com/users/alexandrevicenzi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/alexandrevicenzi/go-sse","description":"Server-Sent Events for Go","fork":false,"url":"https://api.github.com/repos/alexandrevicenzi/go-sse","forks_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/forks","keys_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/keys{/key_id}","collaborators_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/teams","hooks_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/hooks","issue_events_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/issues/events{/number}","events_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/events","assignees_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/assignees{/user}","branches_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/branches{/branch}","tags_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/tags","blobs_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/git/refs{/sha}","trees_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/git/trees{/sha}","statuses_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/statuses/{sha}","languages_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/languages","stargazers_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/stargazers","contributors_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/contributors","subscribers_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/subscribers","subscription_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/subscription","commits_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/commits{/sha}","git_commits_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/git/commits{/sha}","comments_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/comments{/number}","issue_comment_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/issues/comments{/number}","contents_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/contents/{+path}","compare_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/compare/{base}...{head}","merges_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/merges","archive_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/downloads","issues_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/issues{/number}","pulls_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/pulls{/number}","milestones_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/milestones{/number}","notifications_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/labels{/name}","releases_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/releases{/id}","deployments_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/deployments","created_at":"2016-07-28T00:52:52Z","updated_at":"2025-09-12T15:34:46Z","pushed_at":"2023-06-15T08:59:10Z","git_url":"git://github.com/alexandrevicenzi/go-sse.git","ssh_url":"git@github.com:alexandrevicenzi/go-sse.git","clone_url":"https://github.com/alexandrevicenzi/go-sse.git","svn_url":"https://github.com/alexandrevicenzi/go-sse","homepage":"","size":46,"stargazers_count":179,"watchers_count":179,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":43,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":10,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["event-source","go","golang","server","server-sent-events","sse"],"visibility":"public","forks":43,"open_issues":10,"watchers":179,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hello!!!\r\nTry using go-see with go-chi as a router by changing:\r\n\r\n    http.Handle(\"/events/\", s)\r\n\r\nby:\r\n\r\n    r.Mount(\"/events/\", s)\r\n\r\nbut I get the following error:\r\n\r\n    panic: interface conversion: *middleware.compressResponseWriter is not http.CloseNotifier: missing method CloseNotify\r\n    ...\r\n    .../github.com/alexandrevicenzi/go-sse/sse.go:82 +0x4c4\r\n\r\nI hope you can help me\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/alexandrevicenzi/go-sse/issues/8/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/alexandrevicenzi/go-sse/issues/8/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"leighmcculloch","id":351529,"node_id":"MDQ6VXNlcjM1MTUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/351529?v=4","gravatar_id":"","url":"https://api.github.com/users/leighmcculloch","html_url":"https://github.com/leighmcculloch","followers_url":"https://api.github.com/users/leighmcculloch/followers","following_url":"https://api.github.com/users/leighmcculloch/following{/other_user}","gists_url":"https://api.github.com/users/leighmcculloch/gists{/gist_id}","starred_url":"https://api.github.com/users/leighmcculloch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leighmcculloch/subscriptions","organizations_url":"https://api.github.com/users/leighmcculloch/orgs","repos_url":"https://api.github.com/users/leighmcculloch/repos","events_url":"https://api.github.com/users/leighmcculloch/events{/privacy}","received_events_url":"https://api.github.com/users/leighmcculloch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T22:10:26Z","updated_at":"2020-02-10T22:10:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/stellar/go/issues/2256","repository_url":"https://api.github.com/repos/stellar/go","labels_url":"https://api.github.com/repos/stellar/go/issues/2256/labels{/name}","comments_url":"https://api.github.com/repos/stellar/go/issues/2256/comments","events_url":"https://api.github.com/repos/stellar/go/issues/2256/events","html_url":"https://github.com/stellar/go/pull/2256","id":562859117,"node_id":"MDExOlB1bGxSZXF1ZXN0MzczMzc5MjI2","number":2256,"title":"services/horizon/internal/httpx: remove obsolete CloseNotifier code","user":{"login":"leighmcculloch","id":351529,"node_id":"MDQ6VXNlcjM1MTUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/351529?v=4","gravatar_id":"","url":"https://api.github.com/users/leighmcculloch","html_url":"https://github.com/leighmcculloch","followers_url":"https://api.github.com/users/leighmcculloch/followers","following_url":"https://api.github.com/users/leighmcculloch/following{/other_user}","gists_url":"https://api.github.com/users/leighmcculloch/gists{/gist_id}","starred_url":"https://api.github.com/users/leighmcculloch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leighmcculloch/subscriptions","organizations_url":"https://api.github.com/users/leighmcculloch/orgs","repos_url":"https://api.github.com/users/leighmcculloch/repos","events_url":"https://api.github.com/users/leighmcculloch/events{/privacy}","received_events_url":"https://api.github.com/users/leighmcculloch/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"leighmcculloch","id":351529,"node_id":"MDQ6VXNlcjM1MTUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/351529?v=4","gravatar_id":"","url":"https://api.github.com/users/leighmcculloch","html_url":"https://github.com/leighmcculloch","followers_url":"https://api.github.com/users/leighmcculloch/followers","following_url":"https://api.github.com/users/leighmcculloch/following{/other_user}","gists_url":"https://api.github.com/users/leighmcculloch/gists{/gist_id}","starred_url":"https://api.github.com/users/leighmcculloch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leighmcculloch/subscriptions","organizations_url":"https://api.github.com/users/leighmcculloch/orgs","repos_url":"https://api.github.com/users/leighmcculloch/repos","events_url":"https://api.github.com/users/leighmcculloch/events{/privacy}","received_events_url":"https://api.github.com/users/leighmcculloch/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"leighmcculloch","id":351529,"node_id":"MDQ6VXNlcjM1MTUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/351529?v=4","gravatar_id":"","url":"https://api.github.com/users/leighmcculloch","html_url":"https://github.com/leighmcculloch","followers_url":"https://api.github.com/users/leighmcculloch/followers","following_url":"https://api.github.com/users/leighmcculloch/following{/other_user}","gists_url":"https://api.github.com/users/leighmcculloch/gists{/gist_id}","starred_url":"https://api.github.com/users/leighmcculloch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leighmcculloch/subscriptions","organizations_url":"https://api.github.com/users/leighmcculloch/orgs","repos_url":"https://api.github.com/users/leighmcculloch/repos","events_url":"https://api.github.com/users/leighmcculloch/events{/privacy}","received_events_url":"https://api.github.com/users/leighmcculloch/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2020-02-10T22:10:26Z","updated_at":"2020-02-11T19:06:14Z","closed_at":"2020-02-11T19:06:11Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":64954128,"node_id":"MDEwOlJlcG9zaXRvcnk2NDk1NDEyOA==","name":"go","full_name":"stellar/go","private":false,"owner":{"login":"stellar","id":7386716,"node_id":"MDEyOk9yZ2FuaXphdGlvbjczODY3MTY=","avatar_url":"https://avatars.githubusercontent.com/u/7386716?v=4","gravatar_id":"","url":"https://api.github.com/users/stellar","html_url":"https://github.com/stellar","followers_url":"https://api.github.com/users/stellar/followers","following_url":"https://api.github.com/users/stellar/following{/other_user}","gists_url":"https://api.github.com/users/stellar/gists{/gist_id}","starred_url":"https://api.github.com/users/stellar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stellar/subscriptions","organizations_url":"https://api.github.com/users/stellar/orgs","repos_url":"https://api.github.com/users/stellar/repos","events_url":"https://api.github.com/users/stellar/events{/privacy}","received_events_url":"https://api.github.com/users/stellar/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/stellar/go","description":"Stellar's public monorepo of go code","fork":false,"url":"https://api.github.com/repos/stellar/go","forks_url":"https://api.github.com/repos/stellar/go/forks","keys_url":"https://api.github.com/repos/stellar/go/keys{/key_id}","collaborators_url":"https://api.github.com/repos/stellar/go/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/stellar/go/teams","hooks_url":"https://api.github.com/repos/stellar/go/hooks","issue_events_url":"https://api.github.com/repos/stellar/go/issues/events{/number}","events_url":"https://api.github.com/repos/stellar/go/events","assignees_url":"https://api.github.com/repos/stellar/go/assignees{/user}","branches_url":"https://api.github.com/repos/stellar/go/branches{/branch}","tags_url":"https://api.github.com/repos/stellar/go/tags","blobs_url":"https://api.github.com/repos/stellar/go/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/stellar/go/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/stellar/go/git/refs{/sha}","trees_url":"https://api.github.com/repos/stellar/go/git/trees{/sha}","statuses_url":"https://api.github.com/repos/stellar/go/statuses/{sha}","languages_url":"https://api.github.com/repos/stellar/go/languages","stargazers_url":"https://api.github.com/repos/stellar/go/stargazers","contributors_url":"https://api.github.com/repos/stellar/go/contributors","subscribers_url":"https://api.github.com/repos/stellar/go/subscribers","subscription_url":"https://api.github.com/repos/stellar/go/subscription","commits_url":"https://api.github.com/repos/stellar/go/commits{/sha}","git_commits_url":"https://api.github.com/repos/stellar/go/git/commits{/sha}","comments_url":"https://api.github.com/repos/stellar/go/comments{/number}","issue_comment_url":"https://api.github.com/repos/stellar/go/issues/comments{/number}","contents_url":"https://api.github.com/repos/stellar/go/contents/{+path}","compare_url":"https://api.github.com/repos/stellar/go/compare/{base}...{head}","merges_url":"https://api.github.com/repos/stellar/go/merges","archive_url":"https://api.github.com/repos/stellar/go/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/stellar/go/downloads","issues_url":"https://api.github.com/repos/stellar/go/issues{/number}","pulls_url":"https://api.github.com/repos/stellar/go/pulls{/number}","milestones_url":"https://api.github.com/repos/stellar/go/milestones{/number}","notifications_url":"https://api.github.com/repos/stellar/go/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/stellar/go/labels{/name}","releases_url":"https://api.github.com/repos/stellar/go/releases{/id}","deployments_url":"https://api.github.com/repos/stellar/go/deployments","created_at":"2016-08-04T17:27:50Z","updated_at":"2025-11-06T20:54:24Z","pushed_at":"2025-11-07T22:43:32Z","git_url":"git://github.com/stellar/go.git","ssh_url":"git@github.com:stellar/go.git","clone_url":"https://github.com/stellar/go.git","svn_url":"https://github.com/stellar/go","homepage":"https://stellar.org/developers","size":80163,"stargazers_count":1366,"watchers_count":1366,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":537,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":64,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["blockchain","cryptocurrency","horizon","stellar"],"visibility":"public","forks":537,"open_issues":64,"watchers":1366,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/stellar/go/pulls/2256","html_url":"https://github.com/stellar/go/pull/2256","diff_url":"https://github.com/stellar/go/pull/2256.diff","patch_url":"https://github.com/stellar/go/pull/2256.patch","merged_at":"2020-02-11T19:06:11Z"},"body":"<!-- If you're making a doc PR or something tiny where the below is irrelevant, delete this\r\ntemplate and use a short description, but in your description aim to include both what the\r\nchange is, and why it is being made, with enough context for anyone to understand. -->\r\n\r\n<details>\r\n  <summary>PR Checklist</summary>\r\n  \r\n### PR Structure\r\n\r\n* [ ] This PR has reasonably narrow scope (if not, break it down into smaller PRs).\r\n* [ ] This PR avoids mixing refactoring changes with feature changes (split into two PRs\r\n  otherwise).\r\n* [ ] This PR's title starts with name of package that is most changed in the PR, ex.\r\n  `services/friendbot`, or `all` or `doc` if the changes are broad or impact many\r\n  packages.\r\n\r\n### Thoroughness\r\n\r\n* [ ] This PR adds tests for the most critical parts of the new functionality or fixes.\r\n* [ ] I've updated any docs ([developer docs](https://www.stellar.org/developers/reference/), `.md`\r\n  files, etc... affected by this change). Take a look in the `docs` folder for a given service,\r\n  like [this one](https://github.com/stellar/go/tree/master/services/horizon/internal/docs).\r\n\r\n### Release planning\r\n\r\n* [ ] I've updated the relevant CHANGELOG ([here](services/horizon/CHANGELOG.md) for Horizon) if\r\n  needed with deprecations, added features, breaking changes, and DB schema changes.\r\n* [ ] I've decided if this PR requires a new major/minor version according to\r\n  [semver](https://semver.org/), or if it's mainly a patch change. The PR is targeted at the next\r\n  release branch if it's not a patch change.\r\n</details>\r\n\r\n### What\r\n\r\nRemove old code that uses a http.ResponseWriter's CloseNotifier channel to cause the request's context to be canceled on the server side.\r\n\r\n### Why\r\n\r\nI want to upgrade us to chi v4 which no longer supports CloseNotifier and I want to remove any use of it in our code to ensure we aren't dependent on chi providing ResponseWriter's that support it. It turns out the removed code is no longer necessary and can be just deleted without any new functionality. In Go 1.8  the context was changed to automatically cancel if the client closes its connection and so we do not need to also listen to the CloseNotifier channel or replace it with anything else.\r\n\r\nAs a bonus this also reduces the number of Go routines required to handle each request in Horizon by one.\r\n\r\n### References\r\n\r\nGo 1.8 Release Notes:\r\n\r\n>The Context returned by Request.Context is canceled if the underlying net.Conn closes. For instance, if the user closes their browser in the middle of a slow request, the Handler can now detect that the user is gone. This complements the existing CloseNotifier support.\r\n\r\nhttps://golang.org/doc/go1.8#net_http\r\n\r\nThe CloseNotifier interface has been deprecated since Go 1.8:\r\n\r\nhttps://golang.org/pkg/net/http/#CloseNotifier\r\n\r\nThe muxer/router we use, `chi`, removed any functionality relating to CloseNotifier in its major 4.0.0 release:\r\n\r\nhttps://github.com/go-chi/chi/issues/347\r\n\r\n### Testing\r\n\r\nI wrote the included test and confirmed that it fails on Go 1.7 when the code in the httpx package was deleted and passes when it is present. I then ran this test with and without the deleted code in Go 1.8 and Go 1.13 and in both cases it passes, which confirms that this would have been fine to remove once the oldest version of Go we supported was 1.8.\r\n\r\n### Known limitations\r\n\r\nN/A\r\n","reactions":{"url":"https://api.github.com/repos/stellar/go/issues/2256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/stellar/go/issues/2256/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":3027836084,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMwMjc4MzYwODQ=","url":"https://api.github.com/repos/go-chi/chi/issues/events/3027836084","actor":{"login":"leighmcculloch","id":351529,"node_id":"MDQ6VXNlcjM1MTUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/351529?v=4","gravatar_id":"","url":"https://api.github.com/users/leighmcculloch","html_url":"https://github.com/leighmcculloch","followers_url":"https://api.github.com/users/leighmcculloch/followers","following_url":"https://api.github.com/users/leighmcculloch/following{/other_user}","gists_url":"https://api.github.com/users/leighmcculloch/gists{/gist_id}","starred_url":"https://api.github.com/users/leighmcculloch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leighmcculloch/subscriptions","organizations_url":"https://api.github.com/users/leighmcculloch/orgs","repos_url":"https://api.github.com/users/leighmcculloch/repos","events_url":"https://api.github.com/users/leighmcculloch/events{/privacy}","received_events_url":"https://api.github.com/users/leighmcculloch/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"232f45591b861cdf4fd0096550009a32debdbf47","commit_url":"https://api.github.com/repos/stellar/go/commits/232f45591b861cdf4fd0096550009a32debdbf47","created_at":"2020-02-11T19:06:12Z","performed_via_github_app":null},{"actor":{"login":"bravecorvus","id":7355573,"node_id":"MDQ6VXNlcjczNTU1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/7355573?v=4","gravatar_id":"","url":"https://api.github.com/users/bravecorvus","html_url":"https://github.com/bravecorvus","followers_url":"https://api.github.com/users/bravecorvus/followers","following_url":"https://api.github.com/users/bravecorvus/following{/other_user}","gists_url":"https://api.github.com/users/bravecorvus/gists{/gist_id}","starred_url":"https://api.github.com/users/bravecorvus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bravecorvus/subscriptions","organizations_url":"https://api.github.com/users/bravecorvus/orgs","repos_url":"https://api.github.com/users/bravecorvus/repos","events_url":"https://api.github.com/users/bravecorvus/events{/privacy}","received_events_url":"https://api.github.com/users/bravecorvus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-13T06:15:04Z","updated_at":"2021-02-13T06:15:04Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-chi/chi/issues/582","repository_url":"https://api.github.com/repos/go-chi/chi","labels_url":"https://api.github.com/repos/go-chi/chi/issues/582/labels{/name}","comments_url":"https://api.github.com/repos/go-chi/chi/issues/582/comments","events_url":"https://api.github.com/repos/go-chi/chi/issues/582/events","html_url":"https://github.com/go-chi/chi/issues/582","id":807687520,"node_id":"MDU6SXNzdWU4MDc2ODc1MjA=","number":582,"title":"Using r.Use(middleware.Logger) breaks w.(http.CloseNotifier).CloseNotify()","user":{"login":"bravecorvus","id":7355573,"node_id":"MDQ6VXNlcjczNTU1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/7355573?v=4","gravatar_id":"","url":"https://api.github.com/users/bravecorvus","html_url":"https://github.com/bravecorvus","followers_url":"https://api.github.com/users/bravecorvus/followers","following_url":"https://api.github.com/users/bravecorvus/following{/other_user}","gists_url":"https://api.github.com/users/bravecorvus/gists{/gist_id}","starred_url":"https://api.github.com/users/bravecorvus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bravecorvus/subscriptions","organizations_url":"https://api.github.com/users/bravecorvus/orgs","repos_url":"https://api.github.com/users/bravecorvus/repos","events_url":"https://api.github.com/users/bravecorvus/events{/privacy}","received_events_url":"https://api.github.com/users/bravecorvus/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-02-13T06:15:04Z","updated_at":"2022-01-03T18:30:26Z","closed_at":"2022-01-03T18:30:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":44344606,"node_id":"MDEwOlJlcG9zaXRvcnk0NDM0NDYwNg==","name":"chi","full_name":"go-chi/chi","private":false,"owner":{"login":"go-chi","id":29575368,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI5NTc1MzY4","avatar_url":"https://avatars.githubusercontent.com/u/29575368?v=4","gravatar_id":"","url":"https://api.github.com/users/go-chi","html_url":"https://github.com/go-chi","followers_url":"https://api.github.com/users/go-chi/followers","following_url":"https://api.github.com/users/go-chi/following{/other_user}","gists_url":"https://api.github.com/users/go-chi/gists{/gist_id}","starred_url":"https://api.github.com/users/go-chi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-chi/subscriptions","organizations_url":"https://api.github.com/users/go-chi/orgs","repos_url":"https://api.github.com/users/go-chi/repos","events_url":"https://api.github.com/users/go-chi/events{/privacy}","received_events_url":"https://api.github.com/users/go-chi/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-chi/chi","description":"lightweight, idiomatic and composable router for building Go HTTP services","fork":false,"url":"https://api.github.com/repos/go-chi/chi","forks_url":"https://api.github.com/repos/go-chi/chi/forks","keys_url":"https://api.github.com/repos/go-chi/chi/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-chi/chi/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-chi/chi/teams","hooks_url":"https://api.github.com/repos/go-chi/chi/hooks","issue_events_url":"https://api.github.com/repos/go-chi/chi/issues/events{/number}","events_url":"https://api.github.com/repos/go-chi/chi/events","assignees_url":"https://api.github.com/repos/go-chi/chi/assignees{/user}","branches_url":"https://api.github.com/repos/go-chi/chi/branches{/branch}","tags_url":"https://api.github.com/repos/go-chi/chi/tags","blobs_url":"https://api.github.com/repos/go-chi/chi/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-chi/chi/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-chi/chi/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-chi/chi/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-chi/chi/statuses/{sha}","languages_url":"https://api.github.com/repos/go-chi/chi/languages","stargazers_url":"https://api.github.com/repos/go-chi/chi/stargazers","contributors_url":"https://api.github.com/repos/go-chi/chi/contributors","subscribers_url":"https://api.github.com/repos/go-chi/chi/subscribers","subscription_url":"https://api.github.com/repos/go-chi/chi/subscription","commits_url":"https://api.github.com/repos/go-chi/chi/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-chi/chi/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-chi/chi/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-chi/chi/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-chi/chi/contents/{+path}","compare_url":"https://api.github.com/repos/go-chi/chi/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-chi/chi/merges","archive_url":"https://api.github.com/repos/go-chi/chi/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-chi/chi/downloads","issues_url":"https://api.github.com/repos/go-chi/chi/issues{/number}","pulls_url":"https://api.github.com/repos/go-chi/chi/pulls{/number}","milestones_url":"https://api.github.com/repos/go-chi/chi/milestones{/number}","notifications_url":"https://api.github.com/repos/go-chi/chi/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-chi/chi/labels{/name}","releases_url":"https://api.github.com/repos/go-chi/chi/releases{/id}","deployments_url":"https://api.github.com/repos/go-chi/chi/deployments","created_at":"2015-10-15T20:46:29Z","updated_at":"2025-11-09T19:42:49Z","pushed_at":"2025-10-09T19:21:01Z","git_url":"git://github.com/go-chi/chi.git","ssh_url":"git@github.com:go-chi/chi.git","clone_url":"https://github.com/go-chi/chi.git","svn_url":"https://github.com/go-chi/chi","homepage":"https://go-chi.io","size":3799,"stargazers_count":20829,"watchers_count":20829,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":1053,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":87,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","context","go","golang","http","microservices","middleware","rest-api","router"],"visibility":"public","forks":1053,"open_issues":87,"watchers":20829,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I understand that `CloseNotifier` has been deprecated on chi@v4 according to [https://github.com/go-chi/chi/issues/347](https://github.com/go-chi/chi/issues/347).\r\n\r\nHowever, I had a problem which I could only solve by using the following code in my handler func:\r\n\r\n```go\r\nfunc HandlerFunc(w http.ResponseWriter, r *http.Request) {\r\n\tnotify := w.(http.CloseNotifier).CloseNotify()\r\n\r\n\tgo func() {\r\n\t\t<-notify\r\n\t\tlog.Println(\"HTTP Client prematurely killed the request before the ProcessLivenessVideoForVerificationV1 handler func could respond!!!\")\r\n\t}()\r\n\r\n}\r\n```\r\n\r\nIf there is a way to do this same thing in `Request.Context`, please show me. I looked around, but could not find anything that fit the exact need: which was to detect when an HTTP client terminated the request before the HandlerFunc had the chance to respond.\r\n\r\nBack to my issue:\r\n\r\nWhen registering the above endpoint to `r := chi.NewRouter`, and using: `r.Use(middleware.Logger)`, I get a stacktrace I do not quite understand:\r\n\r\n```\r\n panic: interface conversion: *middleware.httpFancyWriter is not http.CloseNotifier: missing method CloseNotify\r\n```\r\n\r\nWhen I take out the Logger middleware, the HandlerFunc operates just fine even with the CloseNotifier deprecation.\r\n\r\n\r\n---\r\n\r\n\r\n## Full Example\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t\"fmt\"\r\n\t\"net/http\"\r\n\t\"time\"\r\n\r\n\t\"github.com/go-chi/chi\"\r\n\t\"github.com/go-chi/chi/middleware\"\r\n)\r\n\r\nfunc main() {\r\n\r\n\trouter := chi.NewRouter()\r\n\trouter.Use(middleware.RealIP)\r\n\trouter.Use(middleware.RequestID)\r\n\trouter.Use(middleware.Recoverer)\r\n\trouter.Use(middleware.Logger) // Commenting this out makes the code work\r\n\r\n\trouter.Get(\"/\", func(w http.ResponseWriter, r *http.Request) {\r\n\r\n\t\tnotify := w.(http.CloseNotifier).CloseNotify()\r\n\r\n\t\tgo func() {\r\n\t\t\t<-notify\r\n\t\t\tfmt.Println(\"HTTP Client prematurely killed the request\")\r\n\t\t}()\r\n\r\n\t\ttime.Sleep(10 * time.Second)\r\n\r\n\t\tw.Write([]byte(\"Hello World\"))\r\n\t})\r\n\r\n\thttp.ListenAndServe(\":9000\", router)\r\n\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/go-chi/chi/issues/582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-chi/chi/issues/582/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":14604563095,"node_id":"REFE_lADOAqSlHs4VJPZqzwAAAANmf_KX","url":"https://api.github.com/repos/go-chi/chi/issues/events/14604563095","actor":{"login":"blueszs","id":14171467,"node_id":"MDQ6VXNlcjE0MTcxNDY3","avatar_url":"https://avatars.githubusercontent.com/u/14171467?v=4","gravatar_id":"","url":"https://api.github.com/users/blueszs","html_url":"https://github.com/blueszs","followers_url":"https://api.github.com/users/blueszs/followers","following_url":"https://api.github.com/users/blueszs/following{/other_user}","gists_url":"https://api.github.com/users/blueszs/gists{/gist_id}","starred_url":"https://api.github.com/users/blueszs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blueszs/subscriptions","organizations_url":"https://api.github.com/users/blueszs/orgs","repos_url":"https://api.github.com/users/blueszs/repos","events_url":"https://api.github.com/users/blueszs/events{/privacy}","received_events_url":"https://api.github.com/users/blueszs/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c88f06fe6419037c86b3b26a4a67470621f458ad","commit_url":"https://api.github.com/repos/blueszs/chi/commits/c88f06fe6419037c86b3b26a4a67470621f458ad","created_at":"2024-10-11T07:43:21Z","performed_via_github_app":null}]