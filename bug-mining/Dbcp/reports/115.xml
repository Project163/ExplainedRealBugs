<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:48:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DBCP-351] setAutoCommit called too many times</title>
                <link>https://issues.apache.org/jira/browse/DBCP-351</link>
                <project id="12310469" key="DBCP">Commons DBCP</project>
                    <description>&lt;p&gt;passivateObject in PoolableConnectionFactory sets autoCommit to true, even if defaultAutoCommit is set to false. This results in two extra db queries for every use of the connection (set false, do work, set true). This creates a significant amount of overhead, even if the connection is never even used.&lt;/p&gt;

&lt;p&gt;I propose it be changed to:&lt;/p&gt;

&lt;p&gt;if(conn.getAutoCommit() != _defaultAutoCommit)&lt;br/&gt;
{&lt;br/&gt;
  conn.setAutoCommit(_defaultAutoCommit);&lt;br/&gt;
}&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12497329">DBCP-351</key>
            <summary>setAutoCommit called too many times</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="orangedog">OD</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Feb 2011 12:47:48 +0000</created>
                <updated>Sat, 31 May 2014 04:11:47 +0000</updated>
                            <resolved>Fri, 14 Feb 2014 11:47:39 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12989249" author="psteitz" created="Tue, 1 Feb 2011 15:34:25 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/DBCP-97&quot; title=&quot;setAutoCommit(true) when returning connection to the pool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DBCP-97&quot;&gt;&lt;del&gt;DBCP-97&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/DBCP-102&quot; title=&quot;[dbcp] setReadOnly &amp;amp; setAutoCommit called too many times&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DBCP-102&quot;&gt;&lt;del&gt;DBCP-102&lt;/del&gt;&lt;/a&gt;, especially the comment by Dain in &lt;a href=&quot;https://issues.apache.org/jira/browse/DBCP-97&quot; title=&quot;setAutoCommit(true) when returning connection to the pool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DBCP-97&quot;&gt;&lt;del&gt;DBCP-97&lt;/del&gt;&lt;/a&gt;.  We can discuss changing the implementation, but I tend to agree with Dain that it is better for passivate to prevent idle connections from holding open database transactions.  Given the back-and-forth on this, it might be best to make the behavior configurable.  Anyone have any better ideas?&lt;/p&gt;</comment>
                            <comment id="13023601" author="psteitz" created="Sat, 23 Apr 2011 20:48:33 +0000"  >&lt;p&gt;Changing fix version to 2.0.  I am still not sure how, if at all, we should address this; but I don&apos;t think this can be addressed in a patch release.&lt;/p&gt;</comment>
                            <comment id="13068061" author="jameshowe" created="Tue, 19 Jul 2011 23:21:21 +0000"  >&lt;p&gt;Re. Dain&apos;s comment, there&apos;s only a transaction open if one has sent BEGIN without then sending COMMIT/ROLLBACK, which should always have been done on return to pool.&lt;/p&gt;

&lt;p&gt;Would overall performance not be better if new connections are added to the pool to replace disconnected ones, rather than adding all this extra traffic on every request so that the existing connections can use autoReconnect?&lt;/p&gt;</comment>
                            <comment id="13901361" author="markt" created="Fri, 14 Feb 2014 11:47:39 +0000"  >&lt;p&gt;New option enableAutoCommitOnReturn added.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ftxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90447</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>