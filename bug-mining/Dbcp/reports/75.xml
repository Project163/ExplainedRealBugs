<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:47:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DBCP-320] .PerUserPoolDataSource.poolKeys can grow without limit</title>
                <link>https://issues.apache.org/jira/browse/DBCP-320</link>
                <project id="12310469" key="DBCP">Commons DBCP</project>
                    <description>&lt;p&gt;The private static variable .PerUserPoolDataSource.poolKeys (a HashMap) only ever has items added to it; the contents are never cleared.&lt;/p&gt;

&lt;p&gt;Every different datasource generates a new HashMap entry; every username+password generates a new entry in that map.&lt;/p&gt;

&lt;p&gt;This might perhaps become a problem for long-running applications with lots of different users.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12445466">DBCP-320</key>
            <summary>.PerUserPoolDataSource.poolKeys can grow without limit</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Jan 2010 01:04:43 +0000</created>
                <updated>Mon, 15 Feb 2010 01:42:15 +0000</updated>
                            <resolved>Sun, 17 Jan 2010 22:05:32 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12800287" author="sebb@apache.org" created="Thu, 14 Jan 2010 18:23:38 +0000"  >&lt;p&gt;As far as I can make out, the Map is being used as a cache for PoolKey objects.&lt;/p&gt;

&lt;p&gt;As these are immutable and relatively small, it seems to me that caching them serves little purpose - the class might as well create the PoolKey each time.&lt;/p&gt;

&lt;p&gt;If caching is necessary, then surely it would be better to use an instance variable to hold the cache, and make the cache an LRUMap, as is done for SharedPoolDataSource?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;although that class has even less need for a cache!&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="12801492" author="psteitz" created="Sun, 17 Jan 2010 20:14:54 +0000"  >&lt;p&gt;I agree - looks to me as though poolKeys can safely be eliminated.  It appears to be a global cache for UserKey objects, reused across PerUserPoolDataSource instances and to have no purpose other than caching the PoolKeys.  It is private and used only in getPoolKey.&lt;/p&gt;</comment>
                            <comment id="12801526" author="psteitz" created="Sun, 17 Jan 2010 22:05:32 +0000"  >&lt;p&gt;Fixed in r900226&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>114597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uxgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>178561</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>