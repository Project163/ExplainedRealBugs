{"url":"https://api.github.com/repos/starship/starship/issues/686","repository_url":"https://api.github.com/repos/starship/starship","labels_url":"https://api.github.com/repos/starship/starship/issues/686/labels{/name}","comments_url":"https://api.github.com/repos/starship/starship/issues/686/comments","events_url":"https://api.github.com/repos/starship/starship/issues/686/events","html_url":"https://github.com/starship/starship/issues/686","id":532783415,"node_id":"MDU6SXNzdWU1MzI3ODM0MTU=","number":686,"title":"Untracked files and staged files are not shown in empty git repository","user":{"login":"erikhuizinga","id":19374736,"node_id":"MDQ6VXNlcjE5Mzc0NzM2","avatar_url":"https://avatars.githubusercontent.com/u/19374736?v=4","gravatar_id":"","url":"https://api.github.com/users/erikhuizinga","html_url":"https://github.com/erikhuizinga","followers_url":"https://api.github.com/users/erikhuizinga/followers","following_url":"https://api.github.com/users/erikhuizinga/following{/other_user}","gists_url":"https://api.github.com/users/erikhuizinga/gists{/gist_id}","starred_url":"https://api.github.com/users/erikhuizinga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikhuizinga/subscriptions","organizations_url":"https://api.github.com/users/erikhuizinga/orgs","repos_url":"https://api.github.com/users/erikhuizinga/repos","events_url":"https://api.github.com/users/erikhuizinga/events{/privacy}","received_events_url":"https://api.github.com/users/erikhuizinga/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1300028463,"node_id":"MDU6TGFiZWwxMzAwMDI4NDYz","url":"https://api.github.com/repos/starship/starship/labels/%F0%9F%90%9B%20bug","name":"üêõ bug","color":"d73a4a","default":false,"description":"Something isn't working as expected."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-12-04T16:08:07Z","updated_at":"2020-05-06T09:19:54Z","closed_at":"2020-05-06T09:19:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Bug Report\r\n\r\n#### Current Behavior\r\n<!-- A clear and concise description of the behavior. -->\r\n\r\nIn an empty git repository (`git init` in an empty dir), when files are created (e.g. `touch file`) then Starship doesn't show there are untracked files. Similarly, when something is staged (e.g. `git add file`), Starship doesn't show these untracked or staged files.\r\n\r\nNote that Starship does detect the user is in a Git repository: note the (default config) prompt changes after `git init`.\r\n\r\n#### Expected Behavior\r\n<!-- A clear and concise description of what you expected to happen. -->\r\n\r\nAs a user I expect Starship to show me my Git status in a just initialised Git repo, i.e. untracked files (and count) and staged files (and count). Maybe there are more possibilities in an empty repo concerning status, but these two are common.\r\n\r\n#### Additional context/Screenshots\r\n<!-- Add any other context about the problem here. If applicable, add screenshots to help explain. -->\r\n\r\nN/A\r\n\r\n#### Environment\r\n- Starship version: `starship 0.27.0`\r\n- Shell type: bash\r\n- Shell version: `GNU bash, version 5.0.11(1)-release (x86_64-apple-darwin18.6.0)`\r\n- Shell plugin manager: N/A\r\n- Terminal emulator: Terminal\r\n- Operating system: macOS 10.14.6 (18G1012)\r\n\r\n#### Relevant Shell Configuration\r\n<!-- \r\n  Based on the shell you use, please paste the appropriate configuration.\r\n    Fish users: ~/.config/fish/config.fish\r\n    Zsh users: ~/.zshrc\r\n-->\r\n\r\nN/A\r\n\r\n#### Starship Configuration\r\n<!-- Can be found in $XDG_CONFIG_HOME/starship.toml or  ~/.config/starship.toml -->\r\n\r\ndefault\r\n\r\n#### Possible Solution\r\n<!--- Only if you have suggestions on a fix for the bug -->\r\n\r\nIt appears that Starship detects that the user is in a Git repo: the repo's name appears instead of the working directory. Somehow Starship should/could detect that there are no Git commits or branches, or maybe some Git log tells the latest action was `git init`? Somehow Starship should/could keep track of the current `git status`, which is a valid command at this stage.","closed_by":{"login":"andytom","id":108836,"node_id":"MDQ6VXNlcjEwODgzNg==","avatar_url":"https://avatars.githubusercontent.com/u/108836?v=4","gravatar_id":"","url":"https://api.github.com/users/andytom","html_url":"https://github.com/andytom","followers_url":"https://api.github.com/users/andytom/followers","following_url":"https://api.github.com/users/andytom/following{/other_user}","gists_url":"https://api.github.com/users/andytom/gists{/gist_id}","starred_url":"https://api.github.com/users/andytom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andytom/subscriptions","organizations_url":"https://api.github.com/users/andytom/orgs","repos_url":"https://api.github.com/users/andytom/repos","events_url":"https://api.github.com/users/andytom/events{/privacy}","received_events_url":"https://api.github.com/users/andytom/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/starship/starship/issues/686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/starship/starship/issues/686/timeline","performed_via_github_app":null,"state_reason":"completed"}