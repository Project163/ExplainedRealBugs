{"url":"https://api.github.com/repos/starship/starship/issues/3821","repository_url":"https://api.github.com/repos/starship/starship","labels_url":"https://api.github.com/repos/starship/starship/issues/3821/labels{/name}","comments_url":"https://api.github.com/repos/starship/starship/issues/3821/comments","events_url":"https://api.github.com/repos/starship/starship/issues/3821/events","html_url":"https://github.com/starship/starship/issues/3821","id":1188030788,"node_id":"I_kwDOCqswNs5Gz-lE","number":3821,"title":"Container module incorrectly shows \"Systemd\" in ubuntu:20.04 Docker container","user":{"login":"christoph-blessing","id":33834216,"node_id":"MDQ6VXNlcjMzODM0MjE2","avatar_url":"https://avatars.githubusercontent.com/u/33834216?v=4","gravatar_id":"","url":"https://api.github.com/users/christoph-blessing","html_url":"https://github.com/christoph-blessing","followers_url":"https://api.github.com/users/christoph-blessing/followers","following_url":"https://api.github.com/users/christoph-blessing/following{/other_user}","gists_url":"https://api.github.com/users/christoph-blessing/gists{/gist_id}","starred_url":"https://api.github.com/users/christoph-blessing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christoph-blessing/subscriptions","organizations_url":"https://api.github.com/users/christoph-blessing/orgs","repos_url":"https://api.github.com/users/christoph-blessing/repos","events_url":"https://api.github.com/users/christoph-blessing/events{/privacy}","received_events_url":"https://api.github.com/users/christoph-blessing/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1300028463,"node_id":"MDU6TGFiZWwxMzAwMDI4NDYz","url":"https://api.github.com/repos/starship/starship/labels/%F0%9F%90%9B%20bug","name":"üêõ bug","color":"d73a4a","default":false,"description":"Something isn't working as expected."},{"id":1324164943,"node_id":"MDU6TGFiZWwxMzI0MTY0OTQz","url":"https://api.github.com/repos/starship/starship/labels/%F0%9F%8C%B1%20good%20first%20issue","name":"üå± good first issue","color":"ffa0e1","default":false,"description":"Good first issue to get your feet wet."}],"state":"closed","locked":false,"assignee":{"login":"younes-io","id":3153107,"node_id":"MDQ6VXNlcjMxNTMxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/3153107?v=4","gravatar_id":"","url":"https://api.github.com/users/younes-io","html_url":"https://github.com/younes-io","followers_url":"https://api.github.com/users/younes-io/followers","following_url":"https://api.github.com/users/younes-io/following{/other_user}","gists_url":"https://api.github.com/users/younes-io/gists{/gist_id}","starred_url":"https://api.github.com/users/younes-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/younes-io/subscriptions","organizations_url":"https://api.github.com/users/younes-io/orgs","repos_url":"https://api.github.com/users/younes-io/repos","events_url":"https://api.github.com/users/younes-io/events{/privacy}","received_events_url":"https://api.github.com/users/younes-io/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"younes-io","id":3153107,"node_id":"MDQ6VXNlcjMxNTMxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/3153107?v=4","gravatar_id":"","url":"https://api.github.com/users/younes-io","html_url":"https://github.com/younes-io","followers_url":"https://api.github.com/users/younes-io/followers","following_url":"https://api.github.com/users/younes-io/following{/other_user}","gists_url":"https://api.github.com/users/younes-io/gists{/gist_id}","starred_url":"https://api.github.com/users/younes-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/younes-io/subscriptions","organizations_url":"https://api.github.com/users/younes-io/orgs","repos_url":"https://api.github.com/users/younes-io/repos","events_url":"https://api.github.com/users/younes-io/events{/privacy}","received_events_url":"https://api.github.com/users/younes-io/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":5,"created_at":"2022-03-31T12:49:50Z","updated_at":"2023-01-22T22:36:44Z","closed_at":"2023-01-22T22:36:44Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### Current Behavior\r\nThe container module shows \"Systemd\" instead of \"Docker\" if inside a container created from the ubuntu:20.04 Docker image.\r\n\r\n#### Expected Behavior\r\nIt should show \"Docker\" if inside a Docker container.\r\n\r\n#### Additional context/Screenshots\r\nThe container module checks if the path `/run/systemd/container` exists to determine if it is a Systemd container. For some reason the above mentioned path exists in the mentioned image.\r\n\r\n#### Possible Solution\r\nA relatively simple fix would be to move the check for \"Docker\" before the one for \"Systemd\". Currently the Docker check comes after the Systemd check.\r\n\r\n#### Environment\r\n- Starship version: 1.5.4\r\n- zsh version: zsh 5.8 (x86_64-ubuntu-linux-gnu)\r\n- Operating system: Ubuntu 20.04\r\n- Terminal emulator: <unknown terminal> <unknown version>\r\n- Git Commit Hash: d420a63e\r\n- Branch/Tag: v1.5.4\r\n- Rust Version: rustc 1.59.0 (9d1b2106e 2022-02-23)\r\n- Rust channel:  release\r\n- Build Time: 2022-03-24 19:18:47 +00:00\r\n#### Relevant Shell Configuration\r\n\r\n```bash\r\n<unknown config>\r\n```\r\n\r\n#### Starship Configuration\r\n\r\n```toml\r\n[aws]\r\ndisabled = true\r\n\r\n[container]\r\nformat = \"[$symbol]($style) \"\r\n\r\n```","closed_by":{"login":"andytom","id":108836,"node_id":"MDQ6VXNlcjEwODgzNg==","avatar_url":"https://avatars.githubusercontent.com/u/108836?v=4","gravatar_id":"","url":"https://api.github.com/users/andytom","html_url":"https://github.com/andytom","followers_url":"https://api.github.com/users/andytom/followers","following_url":"https://api.github.com/users/andytom/following{/other_user}","gists_url":"https://api.github.com/users/andytom/gists{/gist_id}","starred_url":"https://api.github.com/users/andytom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andytom/subscriptions","organizations_url":"https://api.github.com/users/andytom/orgs","repos_url":"https://api.github.com/users/andytom/repos","events_url":"https://api.github.com/users/andytom/events{/privacy}","received_events_url":"https://api.github.com/users/andytom/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/starship/starship/issues/3821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/starship/starship/issues/3821/timeline","performed_via_github_app":null,"state_reason":"completed"}