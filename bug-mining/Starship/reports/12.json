{"url":"https://api.github.com/repos/starship/starship/issues/1371","repository_url":"https://api.github.com/repos/starship/starship","labels_url":"https://api.github.com/repos/starship/starship/issues/1371/labels{/name}","comments_url":"https://api.github.com/repos/starship/starship/issues/1371/comments","events_url":"https://api.github.com/repos/starship/starship/issues/1371/events","html_url":"https://github.com/starship/starship/issues/1371","id":642612408,"node_id":"MDU6SXNzdWU2NDI2MTI0MDg=","number":1371,"title":"Git status deleted and renamed show up for both changes in the working directory and in staging.","user":{"login":"philipbordallo","id":9970403,"node_id":"MDQ6VXNlcjk5NzA0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/9970403?v=4","gravatar_id":"","url":"https://api.github.com/users/philipbordallo","html_url":"https://github.com/philipbordallo","followers_url":"https://api.github.com/users/philipbordallo/followers","following_url":"https://api.github.com/users/philipbordallo/following{/other_user}","gists_url":"https://api.github.com/users/philipbordallo/gists{/gist_id}","starred_url":"https://api.github.com/users/philipbordallo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philipbordallo/subscriptions","organizations_url":"https://api.github.com/users/philipbordallo/orgs","repos_url":"https://api.github.com/users/philipbordallo/repos","events_url":"https://api.github.com/users/philipbordallo/events{/privacy}","received_events_url":"https://api.github.com/users/philipbordallo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1300028463,"node_id":"MDU6TGFiZWwxMzAwMDI4NDYz","url":"https://api.github.com/repos/starship/starship/labels/%F0%9F%90%9B%20bug","name":"üêõ bug","color":"d73a4a","default":false,"description":"Something isn't working as expected."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-21T18:07:58Z","updated_at":"2020-07-14T21:08:58Z","closed_at":"2020-07-14T21:08:58Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\r\n                                ‚ö†Ô∏è IMPORTANT: Please run the following command to create an issue:\r\n                                                                         \r\n                                                                            starship bug-report\r\n\r\n                                      An issue will be pre-populated with your system's configuration, \r\n                                                          making the process a whole lot quicker üòä\r\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\r\n-->\r\n\r\n## Bug Report\r\n\r\n#### Current Behavior\r\nGit status `deleted` and `renamed ` symbols show up for both changes in the working directory and for when a file is staged.\r\n\r\n#### Expected Behavior\r\nGit status `deleted` and `renamed ` symbols show up for when a file is staged.\r\n\r\n#### Additional context/Screenshots\r\nIn the [documentation](https://starship.rs/config/#git-status), `deleted ` and `renamed` are both described as being related to when a file is in the staging area. But it looks like `deleted` and `renamed` symbols show up regardless of whether they are in staging or the working directory.\r\n\r\n\r\nHere's an example, given this setup:\r\n```sh\r\nexample-repo on ÓÇ† release \r\n‚ùØ tree\r\n.\r\n‚îú‚îÄ‚îÄ one.txt\r\n‚îî‚îÄ‚îÄ two.txt\r\n\r\n0 directories, 2 files\r\n```\r\n\r\nIf I delete **one.txt**, and rename **two.txt** to **three.txt**, I see the `deleted` and `renamed` symbols even though the files are part of the working directory.\r\n\r\n```sh\r\nexample-repo on ÓÇ† release [‚úò¬ª] \r\n‚ùØ git status --long\r\nOn branch release\r\nChanges not staged for commit:\r\n  (use \"git add/rm <file>...\" to update what will be committed)\r\n  (use \"git restore <file>...\" to discard changes in working directory)\r\n\tdeleted:    one.txt\r\n\tdeleted:    two.txt\r\n\r\nUntracked files:\r\n  (use \"git add <file>...\" to include in what will be committed)\r\n\tthree.txt\r\n\r\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\r\n```\r\n\r\nAnd adding them to staging, the symbols remain (matching what's stated in the documentation).\r\n\r\n```sh\r\nexample-repo on ÓÇ† release [‚úò¬ª] \r\n‚ùØ git status --long\r\nOn branch release\r\nChanges to be committed:\r\n  (use \"git restore --staged <file>...\" to unstage)\r\n\trenamed:    one.txt -> three.txt\r\n\tdeleted:    two.txt\r\n```\r\n\r\n#### Environment\r\n- Starship version: starship 0.42.0\r\n- Shell type: zsh\r\n- Shell version: zsh 5.8\r\n- Terminal emulator: Terminal.app\r\n- Operating system: macOS 10.14.6\r\n","closed_by":{"login":"andytom","id":108836,"node_id":"MDQ6VXNlcjEwODgzNg==","avatar_url":"https://avatars.githubusercontent.com/u/108836?v=4","gravatar_id":"","url":"https://api.github.com/users/andytom","html_url":"https://github.com/andytom","followers_url":"https://api.github.com/users/andytom/followers","following_url":"https://api.github.com/users/andytom/following{/other_user}","gists_url":"https://api.github.com/users/andytom/gists{/gist_id}","starred_url":"https://api.github.com/users/andytom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andytom/subscriptions","organizations_url":"https://api.github.com/users/andytom/orgs","repos_url":"https://api.github.com/users/andytom/repos","events_url":"https://api.github.com/users/andytom/events{/privacy}","received_events_url":"https://api.github.com/users/andytom/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/starship/starship/issues/1371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/starship/starship/issues/1371/timeline","performed_via_github_app":null,"state_reason":"completed"}