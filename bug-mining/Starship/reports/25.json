{"url":"https://api.github.com/repos/starship/starship/issues/3709","repository_url":"https://api.github.com/repos/starship/starship","labels_url":"https://api.github.com/repos/starship/starship/issues/3709/labels{/name}","comments_url":"https://api.github.com/repos/starship/starship/issues/3709/comments","events_url":"https://api.github.com/repos/starship/starship/issues/3709/events","html_url":"https://github.com/starship/starship/issues/3709","id":1163482075,"node_id":"I_kwDOCqswNs5FWVPb","number":3709,"title":"Starship fails to update from v1.3.0 to v1.4.0 on Windows 11","user":{"login":"matchai","id":4658208,"node_id":"MDQ6VXNlcjQ2NTgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/4658208?v=4","gravatar_id":"","url":"https://api.github.com/users/matchai","html_url":"https://github.com/matchai","followers_url":"https://api.github.com/users/matchai/followers","following_url":"https://api.github.com/users/matchai/following{/other_user}","gists_url":"https://api.github.com/users/matchai/gists{/gist_id}","starred_url":"https://api.github.com/users/matchai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matchai/subscriptions","organizations_url":"https://api.github.com/users/matchai/orgs","repos_url":"https://api.github.com/users/matchai/repos","events_url":"https://api.github.com/users/matchai/events{/privacy}","received_events_url":"https://api.github.com/users/matchai/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1300028463,"node_id":"MDU6TGFiZWwxMzAwMDI4NDYz","url":"https://api.github.com/repos/starship/starship/labels/%F0%9F%90%9B%20bug","name":"üêõ bug","color":"d73a4a","default":false,"description":"Something isn't working as expected."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-03-09T04:39:57Z","updated_at":"2022-03-09T08:05:02Z","closed_at":"2022-03-09T08:05:02Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Issue created from the following discussion: https://github.com/starship/starship/discussions/3707\r\n\r\nIt seems to me like we may need to add the manifest to the `include` field in `Cargo.toml`.\r\n\r\nDoes that sound right to you @segevfiner and @davidkna?\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **linqingyao** March  8, 2022</sup>\r\nI used cargo Install-update-a for the update.\r\nHere are the update tips and failure tips.\r\n\r\n```\r\nPackage             Installed  Latest   Needs update\r\nstarship            v1.3.0     v1.4.0   Yes\r\n.......\r\nUpdating starship\r\n    Updating crates.io index\r\n  Installing starship v1.4.0\r\n   Compiling autocfg v1.1.0\r\n   Compiling version_check v0.9.4\r\n.......\r\nerror: failed to run custom build command for `starship v1.4.0`\r\n\r\nCaused by:\r\n  process didn't exit successfully: `C:\\Users\\26504\\AppData\\Local\\Temp\\cargo-installReEnDA\\release\\build\\starship-2184158819d86872\\build-script-build` (exit code: 1)\r\n  --- stdout\r\n  could not find repository from 'C:\\Users\\26504\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\starship-1.4.0'; class=Repository (6); code=NotFound (-3)\r\n  cargo:rerun-if-env-changed=SOURCE_DATE_EPOCH\r\n  cargo:rerun-if-env-changed=SHORT_COMMIT\r\n  cargo:rerun-if-env-changed=GIT_CLEAN\r\n  cargo:rerun-if-env-changed=PKG_DESCRIPTION\r\n  cargo:rerun-if-env-changed=PKG_VERSION_PRE\r\n  cargo:rerun-if-env-changed=BUILD_TIME\r\n  cargo:rerun-if-env-changed=COMMIT_HASH\r\n  cargo:rerun-if-env-changed=BUILD_TIME_2822\r\n  cargo:rerun-if-env-changed=COMMIT_AUTHOR\r\n  cargo:rerun-if-env-changed=BUILD_TARGET_ARCH\r\n  cargo:rerun-if-env-changed=PKG_VERSION_PATCH\r\n  cargo:rerun-if-env-changed=BUILD_OS\r\n  cargo:rerun-if-env-changed=CARGO_TREE\r\n  cargo:rerun-if-env-changed=COMMIT_DATE_2822\r\n  cargo:rerun-if-env-changed=COMMIT_DATE\r\n  cargo:rerun-if-env-changed=BUILD_TARGET\r\n  cargo:rerun-if-env-changed=BUILD_TIME_3339\r\n  cargo:rerun-if-env-changed=BRANCH\r\n  cargo:rerun-if-env-changed=TAG\r\n  cargo:rerun-if-env-changed=COMMIT_DATE_3339\r\n  cargo:rerun-if-env-changed=CARGO_VERSION\r\n  cargo:rerun-if-env-changed=PROJECT_NAME\r\n  cargo:rerun-if-env-changed=PKG_VERSION_MAJOR\r\n  cargo:rerun-if-env-changed=PKG_VERSION_MINOR\r\n  cargo:rerun-if-env-changed=RUST_CHANNEL\r\n  cargo:rerun-if-env-changed=COMMIT_EMAIL\r\n  cargo:rerun-if-env-changed=RUST_VERSION\r\n  cargo:rerun-if-env-changed=GIT_STATUS_FILE\r\n  cargo:rerun-if-env-changed=PKG_VERSION\r\n  cargo:rerun-if-env-changed=BUILD_RUST_CHANNEL\r\n  package.metadata does not exist\r\n  \"C:\\\\Program Files (x86)\\\\Windows Kits\\\\10\\\\bin\\\\10.0.19041.0\\\\x64\\\\rc.exe\"\r\n  Selected RC path: 'C:\\Program Files (x86)\\Windows Kits\\10\\bin\\10.0.19041.0\\x64\\rc.exe'\r\n  RC Output:\r\n  Microsoft (R) Windows (R) Resource Compiler Version 10.0.10011.16384\r\n  Copyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\n\r\n  C:\\Users\\26504\\AppData\\Local\\Temp\\cargo-installReEnDA\\release\\build\\starship-15f47efae5847737\\out\\resource.rc(25) : error RC2135 : file not found: starship.exe.manifest\r\n\r\n  ------\r\n  RC Error:\r\n\r\n  ------\r\n\r\n  --- stderr\r\n  fatal: not a git repository (or any of the parent directories): .git\r\n  fatal: not a git repository (or any of the parent directories): .git\r\n  Error: Custom { kind: Other, error: \"Could not compile resource file\" }\r\nwarning: build failed, waiting for other jobs to finish...\r\nerror: failed to compile `starship v1.4.0`, intermediate artifacts can be found at `C:\\Users\\26504\\AppData\\Local\\Temp\\cargo-installReEnDA`\r\n\r\nCaused by:\r\n  build failed\r\n\r\n\r\nUpdated 0 packages.\r\nFailed to update starship.\r\n```\r\n</div>","closed_by":{"login":"davidkna","id":835177,"node_id":"MDQ6VXNlcjgzNTE3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/835177?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkna","html_url":"https://github.com/davidkna","followers_url":"https://api.github.com/users/davidkna/followers","following_url":"https://api.github.com/users/davidkna/following{/other_user}","gists_url":"https://api.github.com/users/davidkna/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkna/subscriptions","organizations_url":"https://api.github.com/users/davidkna/orgs","repos_url":"https://api.github.com/users/davidkna/repos","events_url":"https://api.github.com/users/davidkna/events{/privacy}","received_events_url":"https://api.github.com/users/davidkna/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/starship/starship/issues/3709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/starship/starship/issues/3709/timeline","performed_via_github_app":null,"state_reason":"completed"}