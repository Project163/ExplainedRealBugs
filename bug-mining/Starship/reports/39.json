{"url":"https://api.github.com/repos/starship/starship/issues/6870","repository_url":"https://api.github.com/repos/starship/starship","labels_url":"https://api.github.com/repos/starship/starship/issues/6870/labels{/name}","comments_url":"https://api.github.com/repos/starship/starship/issues/6870/comments","events_url":"https://api.github.com/repos/starship/starship/issues/6870/events","html_url":"https://github.com/starship/starship/issues/6870","id":3273726579,"node_id":"I_kwDOCqswNs7DIRpz","number":6870,"title":"username module's SSH detection stops working if detect_env_vars is set.","user":{"login":"LunarLambda","id":38919842,"node_id":"MDQ6VXNlcjM4OTE5ODQy","avatar_url":"https://avatars.githubusercontent.com/u/38919842?v=4","gravatar_id":"","url":"https://api.github.com/users/LunarLambda","html_url":"https://github.com/LunarLambda","followers_url":"https://api.github.com/users/LunarLambda/followers","following_url":"https://api.github.com/users/LunarLambda/following{/other_user}","gists_url":"https://api.github.com/users/LunarLambda/gists{/gist_id}","starred_url":"https://api.github.com/users/LunarLambda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LunarLambda/subscriptions","organizations_url":"https://api.github.com/users/LunarLambda/orgs","repos_url":"https://api.github.com/users/LunarLambda/repos","events_url":"https://api.github.com/users/LunarLambda/events{/privacy}","received_events_url":"https://api.github.com/users/LunarLambda/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1300028463,"node_id":"MDU6TGFiZWwxMzAwMDI4NDYz","url":"https://api.github.com/repos/starship/starship/labels/%F0%9F%90%9B%20bug","name":"üêõ bug","color":"d73a4a","default":false,"description":"Something isn't working as expected."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-07-29T13:48:12Z","updated_at":"2025-09-07T19:22:34Z","closed_at":"2025-09-07T19:22:34Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n  ‚ö†Ô∏è IMPORTANT: Please run the following command to create an issue:\n\n  starship bug-report\n\n  An issue will be pre-populated with your system's configuration,\n  making the process a whole lot quicker üòä\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n-->\n\n## Bug Report\n\n#### Additional context/Screenshots\n<!-- Add any other context about the problem here. If applicable, add screenshots to help explain. -->\n\n<img width=\"562\" height=\"113\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e871bd45-3b4b-46ed-ac0b-68f1308a13c4\" />\n<br>\n<img width=\"543\" height=\"91\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f5d4e982-c104-4ea6-8f9c-0697648914e1\" />\n<br>\n<img width=\"224\" height=\"31\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/9fdd587b-0a1a-4430-a3da-281831f4e911\" />\n<br>\n<img width=\"526\" height=\"98\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/fb971cbd-dd92-404d-956e-d5229511b284\" />\n<br>\n<img width=\"190\" height=\"62\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4170f25d-ccbd-4e1e-a957-c5a696f586eb\" />\n\n#### Possible Solution\n<!--- Only if you have suggestions on a fix for the bug -->\n\n#### Environment\n- Starship version: 1.23.0\n- Shell type: zsh\n- Shell version: 5.9\n- Shell plugin manager: none\n- Terminal emulator: Wezterm\n- Operating system: Arch Linux\n\n#### Relevant Shell Configuration\n<!--\n  Based on the shell you use, please paste the appropriate configuration.\n  The default location for your shell is:\n    Bash: ~/.bashrc\n    Zsh: ~/.zshrc\n    Fish: ~/.config/fish/config.fish\n    Xonsh: ~/.config/xonsh/rc.xsh\n    Elvish: ~/.config/elvish/rc.elv\n    Nushell: $nu.config-path\n    Ion: ~/.config/ion/initrc\n-->\n\n```\nReproduces with zsh -df (no config sourced whatsoever)\n```\n\n#### Starship Configuration\n<!-- Can be found in  ~/.config/starship.toml -->\n\n```toml\nformat = \"\"\"\n$directory\\\n$git_branch\\\n$git_commit\\\n$git_state\\\n$git_status\\\n$line_break\\\n$jobs\\\n($username$hostname )\\\n$character\\\n\"\"\"\n\n[directory]\nread_only = \" ro\"\ntruncate_to_repo = false\nuse_os_path_sep = false\n\n[git_branch]\nsymbol = \"git \"\n\n[git_commit]\ntag_symbol = \" tag \"\n\n[username]\nformat = \"[$user]($style)\"\ndetect_env_vars = [\"SUDO_USER\", \"SUDO_UID\"]\n\n[hostname]\nstyle = \"bold blue\"\nformat = \"@[$hostname]($style)\"\n```\n","closed_by":{"login":"andytom","id":108836,"node_id":"MDQ6VXNlcjEwODgzNg==","avatar_url":"https://avatars.githubusercontent.com/u/108836?v=4","gravatar_id":"","url":"https://api.github.com/users/andytom","html_url":"https://github.com/andytom","followers_url":"https://api.github.com/users/andytom/followers","following_url":"https://api.github.com/users/andytom/following{/other_user}","gists_url":"https://api.github.com/users/andytom/gists{/gist_id}","starred_url":"https://api.github.com/users/andytom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andytom/subscriptions","organizations_url":"https://api.github.com/users/andytom/orgs","repos_url":"https://api.github.com/users/andytom/repos","events_url":"https://api.github.com/users/andytom/events{/privacy}","received_events_url":"https://api.github.com/users/andytom/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/starship/starship/issues/6870/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/starship/starship/issues/6870/timeline","performed_via_github_app":null,"state_reason":"completed"}