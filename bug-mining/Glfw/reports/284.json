{"url":"https://api.github.com/repos/glfw/glfw/issues/1695","repository_url":"https://api.github.com/repos/glfw/glfw","labels_url":"https://api.github.com/repos/glfw/glfw/issues/1695/labels{/name}","comments_url":"https://api.github.com/repos/glfw/glfw/issues/1695/comments","events_url":"https://api.github.com/repos/glfw/glfw/issues/1695/events","html_url":"https://github.com/glfw/glfw/issues/1695","id":620157700,"node_id":"MDU6SXNzdWU2MjAxNTc3MDA=","number":1695,"title":"Robustness of GL header include guard","user":{"login":"tombsar","id":3090978,"node_id":"MDQ6VXNlcjMwOTA5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/3090978?v=4","gravatar_id":"","url":"https://api.github.com/users/tombsar","html_url":"https://github.com/tombsar","followers_url":"https://api.github.com/users/tombsar/followers","following_url":"https://api.github.com/users/tombsar/following{/other_user}","gists_url":"https://api.github.com/users/tombsar/gists{/gist_id}","starred_url":"https://api.github.com/users/tombsar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tombsar/subscriptions","organizations_url":"https://api.github.com/users/tombsar/orgs","repos_url":"https://api.github.com/users/tombsar/repos","events_url":"https://api.github.com/users/tombsar/events{/privacy}","received_events_url":"https://api.github.com/users/tombsar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":36425440,"node_id":"MDU6TGFiZWwzNjQyNTQ0MA==","url":"https://api.github.com/repos/glfw/glfw/labels/bug","name":"bug","color":"b60205","default":true,"description":"Bug reports and bugfix pull requests"},{"id":37364584,"node_id":"MDU6TGFiZWwzNzM2NDU4NA==","url":"https://api.github.com/repos/glfw/glfw/labels/verified","name":"verified","color":"0e8a16","default":false,"description":"Reproduced or otherwise verified bugs"}],"state":"closed","locked":false,"assignee":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/glfw/glfw/milestones/17","html_url":"https://github.com/glfw/glfw/milestone/17","labels_url":"https://api.github.com/repos/glfw/glfw/milestones/17/labels","id":5011324,"node_id":"MDk6TWlsZXN0b25lNTAxMTMyNA==","number":17,"title":"3.3.3","description":"","creator":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":57,"state":"closed","created_at":"2020-01-16T16:23:30Z","updated_at":"2024-04-15T13:42:32Z","due_on":null,"closed_at":"2021-02-23T20:16:42Z"},"comments":9,"created_at":"2020-05-18T12:11:13Z","updated_at":"2020-06-02T17:04:03Z","closed_at":"2020-06-02T16:57:37Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Yesterday I tried to integrate glad into a project using OpenGL ES, and had to spend an hour diagnosing the most frustrating compile errors of my life (thanks gcc!) caused by, it turns out, inclusion of both glad.h (explicitly by me) and gl.h (implicitly by glfw).\r\n\r\nI understood from the documentation (https://www.glfw.org/docs/latest/context_guide.html#context_glext_auto) that:\r\n\r\n> By including the glad header before the GLFW header, it suppresses the development environment's OpenGL or OpenGL ES header.\r\n\r\nHowever I don't see any mechanism in glfw3.h that enforces this; it looks as though in the absence of any `GLFW_INCLUDE_*` defines, GL/gl.h is included unconditionally (https://github.com/glfw/glfw/blob/master/include/GLFW/glfw3.h#L210).\r\n\r\ngl.h has an include guard to prevent duplicate inclusion, but the guard has a different name for each version of OpenGL. Hence, the inclusion of GLES/gl.h (or equivalent glad.h) does not prevent the inclusion of GL/gl.h.\r\n\r\nEasy to work around once I found the issue, (`#define GL_INCLUDE_NONE`), but it would be great if I didn't need to do that.\r\n\r\nAt the moment I'm wondering why `GL_INCLUDE_NONE` isn't the default behaviour, making the user specifically ask if they want glfw to include an OpenGL header. ~~Obviously that's a breaking change, so could only be considered for glfw 4.~~ Significant change, but not necessarily **breaking**.\r\n\r\nIn the meantime, I think we need at least an update to the documentation to make this behaviour more obvious, if not an actual fix.\r\n\r\nThoughts?","closed_by":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/glfw/glfw/issues/1695/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/glfw/glfw/issues/1695/timeline","performed_via_github_app":null,"state_reason":"completed"}