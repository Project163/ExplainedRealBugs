{"url":"https://api.github.com/repos/glfw/glfw/issues/1450","repository_url":"https://api.github.com/repos/glfw/glfw","labels_url":"https://api.github.com/repos/glfw/glfw/issues/1450/labels{/name}","comments_url":"https://api.github.com/repos/glfw/glfw/issues/1450/comments","events_url":"https://api.github.com/repos/glfw/glfw/issues/1450/events","html_url":"https://github.com/glfw/glfw/issues/1450","id":422760849,"node_id":"MDU6SXNzdWU0MjI3NjA4NDk=","number":1450,"title":"GLFW crash on Wayland when plugging in mouse after window is created","user":{"login":"joeroback","id":156174,"node_id":"MDQ6VXNlcjE1NjE3NA==","avatar_url":"https://avatars.githubusercontent.com/u/156174?v=4","gravatar_id":"","url":"https://api.github.com/users/joeroback","html_url":"https://github.com/joeroback","followers_url":"https://api.github.com/users/joeroback/followers","following_url":"https://api.github.com/users/joeroback/following{/other_user}","gists_url":"https://api.github.com/users/joeroback/gists{/gist_id}","starred_url":"https://api.github.com/users/joeroback/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joeroback/subscriptions","organizations_url":"https://api.github.com/users/joeroback/orgs","repos_url":"https://api.github.com/users/joeroback/repos","events_url":"https://api.github.com/users/joeroback/events{/privacy}","received_events_url":"https://api.github.com/users/joeroback/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":36425440,"node_id":"MDU6TGFiZWwzNjQyNTQ0MA==","url":"https://api.github.com/repos/glfw/glfw/labels/bug","name":"bug","color":"b60205","default":true,"description":"Bug reports and bugfix pull requests"},{"id":37364584,"node_id":"MDU6TGFiZWwzNzM2NDU4NA==","url":"https://api.github.com/repos/glfw/glfw/labels/verified","name":"verified","color":"0e8a16","default":false,"description":"Reproduced or otherwise verified bugs"},{"id":89092389,"node_id":"MDU6TGFiZWw4OTA5MjM4OQ==","url":"https://api.github.com/repos/glfw/glfw/labels/Wayland","name":"Wayland","color":"ffbc00","default":false,"description":""},{"id":1572895686,"node_id":"MDU6TGFiZWwxNTcyODk1Njg2","url":"https://api.github.com/repos/glfw/glfw/labels/input","name":"input","color":"d4c5f9","default":false,"description":"Keyboard, joystick or mouse"}],"state":"closed","locked":false,"assignee":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/glfw/glfw/milestones/23","html_url":"https://github.com/glfw/glfw/milestone/23","labels_url":"https://api.github.com/repos/glfw/glfw/milestones/23/labels","id":8185249,"node_id":"MI_kwDOAJFXBc4AfOWh","number":23,"title":"3.3.9","description":"","creator":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":29,"state":"closed","created_at":"2022-07-11T18:36:03Z","updated_at":"2024-02-05T16:21:00Z","due_on":null,"closed_at":"2023-12-12T17:59:26Z"},"comments":0,"created_at":"2019-03-19T14:22:54Z","updated_at":"2022-07-22T15:58:56Z","closed_at":"2022-07-22T15:58:56Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"GLFW crash on Wayland when plugging in mouse after window is created\r\n\r\nUbuntu 16.04 aarch64/ARMv8 / Wayland\r\nGLFW 3.3 (30faf19)\r\n\r\n```\r\nlibwayland-client0:arm64   1.12.0-1~ubuntu16.04.2\r\nlibwayland-cursor0:arm64   1.9.0-1\r\nlibwayland-egl1-mesa:arm64 11.2.0-1ubuntu2\r\nlibwayland-server0:arm64   1.9.0-1\r\n```\r\n\r\nBacktrace\r\n```\r\n(gdb) backtrace\r\n#0  wl_cursor_theme_get_cursor (theme=0x0, name=0x7f88264ee8 \"left_ptr\") at cursor/wayland-cursor.c:457\r\n#1  0x0000007f882440d8 in _glfwPlatformSetCursor () from /opt/nvidia/lime/lime-1.2/libcarb.windowing-glfw.plugin.so\r\n#2  0x0000007f88240308 in pointerHandleEnter () from /opt/nvidia/lime/lime-1.2/libcarb.windowing-glfw.plugin.so\r\n#3  0x0000007f8819be60 in ffi_call_SYSV () from /usr/lib/aarch64-linux-gnu/libffi.so.6\r\n#4  0x0000007f8819c7b8 in ffi_call () from /usr/lib/aarch64-linux-gnu/libffi.so.6\r\n#5  0x0000007f881d0e08 in wl_closure_invoke (closure=<optimized out>, flags=12238568, target=0x7d19d0, opcode=127, data=0x7f883da298) at src/connection.c:935\r\n#6  0x0000007f881cdd74 in dispatch_event (display=display@entry=0x7b26a0, queue=0x7b2768) at src/wayland-client.c:1310\r\n#7  0x0000007f881cef88 in dispatch_queue (queue=0x7b2768, display=0x7b26a0) at src/wayland-client.c:1456\r\n#8  wl_display_dispatch_queue_pending (display=0x7b26a0, queue=0x7b2768) at src/wayland-client.c:1698\r\n#9  0x0000007f88241d50 in handleEvents () from /opt/nvidia/lime/lime-1.2/libcarb.windowing-glfw.plugin.so\r\n#10 0x0000007f882374f0 in carb::windowing::pollEvents () at ../../../source/plugins/carb.windowing-glfw/Windowing.cpp:1029\r\n#11 0x0000007f882eaa0c in lime::application::Host::update (this=0x7aba00) at ../../../source/plugins/lime/application/impl/Host.cpp:616\r\n#12 0x0000000000404378 in main (argc=<optimized out>, argv=<optimized out>) at ../../../source/apps/viewer/viewer.cpp:288\r\n```\r\n\r\nIt seems like if input devices are connected after `glfwInitialize()`, `wl_cursor_theme_load()` will be missed, resulting in `theme=0x0`","closed_by":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/glfw/glfw/issues/1450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/glfw/glfw/issues/1450/timeline","performed_via_github_app":null,"state_reason":"completed"}