{"url":"https://api.github.com/repos/glfw/glfw/issues/1991","repository_url":"https://api.github.com/repos/glfw/glfw","labels_url":"https://api.github.com/repos/glfw/glfw/issues/1991/labels{/name}","comments_url":"https://api.github.com/repos/glfw/glfw/issues/1991/comments","events_url":"https://api.github.com/repos/glfw/glfw/issues/1991/events","html_url":"https://github.com/glfw/glfw/issues/1991","id":1054180775,"node_id":"I_kwDOAJFXBc4-1YWn","number":1991,"title":"Window drag and resize not working","user":{"login":"mCodingLLC","id":72399781,"node_id":"MDEyOk9yZ2FuaXphdGlvbjcyMzk5Nzgx","avatar_url":"https://avatars.githubusercontent.com/u/72399781?v=4","gravatar_id":"","url":"https://api.github.com/users/mCodingLLC","html_url":"https://github.com/mCodingLLC","followers_url":"https://api.github.com/users/mCodingLLC/followers","following_url":"https://api.github.com/users/mCodingLLC/following{/other_user}","gists_url":"https://api.github.com/users/mCodingLLC/gists{/gist_id}","starred_url":"https://api.github.com/users/mCodingLLC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mCodingLLC/subscriptions","organizations_url":"https://api.github.com/users/mCodingLLC/orgs","repos_url":"https://api.github.com/users/mCodingLLC/repos","events_url":"https://api.github.com/users/mCodingLLC/events{/privacy}","received_events_url":"https://api.github.com/users/mCodingLLC/received_events","type":"Organization","user_view_type":"public","site_admin":false},"labels":[{"id":36425440,"node_id":"MDU6TGFiZWwzNjQyNTQ0MA==","url":"https://api.github.com/repos/glfw/glfw/labels/bug","name":"bug","color":"b60205","default":true,"description":"Bug reports and bugfix pull requests"},{"id":37364584,"node_id":"MDU6TGFiZWwzNzM2NDU4NA==","url":"https://api.github.com/repos/glfw/glfw/labels/verified","name":"verified","color":"0e8a16","default":false,"description":"Reproduced or otherwise verified bugs"},{"id":89092389,"node_id":"MDU6TGFiZWw4OTA5MjM4OQ==","url":"https://api.github.com/repos/glfw/glfw/labels/Wayland","name":"Wayland","color":"ffbc00","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/glfw/glfw/milestones/22","html_url":"https://github.com/glfw/glfw/milestone/22","labels_url":"https://api.github.com/repos/glfw/glfw/milestones/22/labels","id":7762419,"node_id":"MI_kwDOAJFXBc4AdnHz","number":22,"title":"3.3.8","description":"","creator":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":24,"state":"closed","created_at":"2022-03-13T15:55:18Z","updated_at":"2024-02-05T14:14:23Z","due_on":null,"closed_at":"2022-07-21T14:49:38Z"},"comments":3,"created_at":"2021-11-15T22:31:06Z","updated_at":"2024-01-21T14:28:54Z","closed_at":"2022-06-21T20:03:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm using an Ubuntu VM (which now uses Wayland by default) and I'm finding that window dragging and resizing does not work properly. If I try to drag the window, most of the time it will resize instead of drag. Furthermore, when resizing (intentionally or not) the window continually grows instead of resizing according to the mouse. This seems to me like an issue with how window decorations are implemented.\r\n\r\nI've attached a quick mp4 of this happening.\r\n\r\nhttps://user-images.githubusercontent.com/72399781/141862196-712a0ac9-1271-4256-b43c-f80500026916.mp4\r\n\r\nI'm using the following example code I found [here](https://askubuntu.com/questions/244133/how-do-i-get-egl-and-opengles-libraries-for-ubuntu-running-on-virtualbox).\r\n\r\n```c\r\n#include <stdio.h>\r\n#include <stdlib.h>\r\n\r\n#define GLFW_INCLUDE_ES2\r\n#include <GLFW/glfw3.h>\r\n\r\nstatic const GLuint WIDTH = 800;\r\nstatic const GLuint HEIGHT = 600;\r\nstatic const GLchar* vertex_shader_source =\r\n    \"#version 100\\n\"\r\n    \"attribute vec3 position;\\n\"\r\n    \"void main() {\\n\"\r\n    \"   gl_Position = vec4(position, 1.0);\\n\"\r\n    \"}\\n\";\r\nstatic const GLchar* fragment_shader_source =\r\n    \"#version 100\\n\"\r\n    \"void main() {\\n\"\r\n    \"   gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\\n\"\r\n    \"}\\n\";\r\nstatic const GLfloat vertices[] = {\r\n        0.0f,  0.5f, 0.0f,\r\n        0.5f, -0.5f, 0.0f,\r\n    -0.5f, -0.5f, 0.0f,\r\n};\r\n\r\nGLint common_get_shader_program(const char *vertex_shader_source, const char *fragment_shader_source) {\r\n    enum Consts {INFOLOG_LEN = 512};\r\n    GLchar infoLog[INFOLOG_LEN];\r\n    GLint fragment_shader;\r\n    GLint shader_program;\r\n    GLint success;\r\n    GLint vertex_shader;\r\n\r\n    /* Vertex shader */\r\n    vertex_shader = glCreateShader(GL_VERTEX_SHADER);\r\n    glShaderSource(vertex_shader, 1, &vertex_shader_source, NULL);\r\n    glCompileShader(vertex_shader);\r\n    glGetShaderiv(vertex_shader, GL_COMPILE_STATUS, &success);\r\n    if (!success) {\r\n        glGetShaderInfoLog(vertex_shader, INFOLOG_LEN, NULL, infoLog);\r\n        printf(\"ERROR::SHADER::VERTEX::COMPILATION_FAILED\\n%s\\n\", infoLog);\r\n    }\r\n\r\n    /* Fragment shader */\r\n    fragment_shader = glCreateShader(GL_FRAGMENT_SHADER);\r\n    glShaderSource(fragment_shader, 1, &fragment_shader_source, NULL);\r\n    glCompileShader(fragment_shader);\r\n    glGetShaderiv(fragment_shader, GL_COMPILE_STATUS, &success);\r\n    if (!success) {\r\n        glGetShaderInfoLog(fragment_shader, INFOLOG_LEN, NULL, infoLog);\r\n        printf(\"ERROR::SHADER::FRAGMENT::COMPILATION_FAILED\\n%s\\n\", infoLog);\r\n    }\r\n\r\n    /* Link shaders */\r\n    shader_program = glCreateProgram();\r\n    glAttachShader(shader_program, vertex_shader);\r\n    glAttachShader(shader_program, fragment_shader);\r\n    glLinkProgram(shader_program);\r\n    glGetProgramiv(shader_program, GL_LINK_STATUS, &success);\r\n    if (!success) {\r\n        glGetProgramInfoLog(shader_program, INFOLOG_LEN, NULL, infoLog);\r\n        printf(\"ERROR::SHADER::PROGRAM::LINKING_FAILED\\n%s\\n\", infoLog);\r\n    }\r\n\r\n    glDeleteShader(vertex_shader);\r\n    glDeleteShader(fragment_shader);\r\n    return shader_program;\r\n}\r\n\r\nint main(void) {\r\n    GLuint shader_program, vbo;\r\n    GLint pos;\r\n    GLFWwindow* window;\r\n\r\n    glfwInit();\r\n    glfwWindowHint(GLFW_CLIENT_API, GLFW_OPENGL_ES_API);\r\n    glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 2);\r\n    glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 0);\r\n    window = glfwCreateWindow(WIDTH, HEIGHT, __FILE__, NULL, NULL);\r\n    glfwMakeContextCurrent(window);\r\n\r\n    printf(\"GL_VERSION  : %s\\n\", glGetString(GL_VERSION) );\r\n    printf(\"GL_RENDERER : %s\\n\", glGetString(GL_RENDERER) );\r\n\r\n    shader_program = common_get_shader_program(vertex_shader_source, fragment_shader_source);\r\n    pos = glGetAttribLocation(shader_program, \"position\");\r\n\r\n    glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\r\n    glViewport(0, 0, WIDTH, HEIGHT);\r\n\r\n    glGenBuffers(1, &vbo);\r\n    glBindBuffer(GL_ARRAY_BUFFER, vbo);\r\n    glBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);\r\n    glVertexAttribPointer(pos, 3, GL_FLOAT, GL_FALSE, 0, (GLvoid*)0);\r\n    glEnableVertexAttribArray(pos);\r\n    glBindBuffer(GL_ARRAY_BUFFER, 0);\r\n\r\n    while (!glfwWindowShouldClose(window)) {\r\n        glfwPollEvents();\r\n        glClear(GL_COLOR_BUFFER_BIT);\r\n        glUseProgram(shader_program);\r\n        glDrawArrays(GL_TRIANGLES, 0, 3);\r\n        glfwSwapBuffers(window);\r\n    }\r\n    glDeleteBuffers(1, &vbo);\r\n    glfwTerminate();\r\n    return EXIT_SUCCESS;\r\n}\r\n\r\n```\r\n\r\nI compile with\r\n\r\n    gcc glfwtest.c -lGLESv2 -lglfw\r\n","closed_by":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/glfw/glfw/issues/1991/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/glfw/glfw/issues/1991/timeline","performed_via_github_app":null,"state_reason":"completed"}