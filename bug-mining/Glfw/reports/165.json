{"url":"https://api.github.com/repos/glfw/glfw/issues/889","repository_url":"https://api.github.com/repos/glfw/glfw","labels_url":"https://api.github.com/repos/glfw/glfw/issues/889/labels{/name}","comments_url":"https://api.github.com/repos/glfw/glfw/issues/889/comments","events_url":"https://api.github.com/repos/glfw/glfw/issues/889/events","html_url":"https://github.com/glfw/glfw/issues/889","id":185807896,"node_id":"MDU6SXNzdWUxODU4MDc4OTY=","number":889,"title":"Joystick hat is not a set of buttons","user":{"login":"yerejm","id":10362852,"node_id":"MDQ6VXNlcjEwMzYyODUy","avatar_url":"https://avatars.githubusercontent.com/u/10362852?v=4","gravatar_id":"","url":"https://api.github.com/users/yerejm","html_url":"https://github.com/yerejm","followers_url":"https://api.github.com/users/yerejm/followers","following_url":"https://api.github.com/users/yerejm/following{/other_user}","gists_url":"https://api.github.com/users/yerejm/gists{/gist_id}","starred_url":"https://api.github.com/users/yerejm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yerejm/subscriptions","organizations_url":"https://api.github.com/users/yerejm/orgs","repos_url":"https://api.github.com/users/yerejm/repos","events_url":"https://api.github.com/users/yerejm/events{/privacy}","received_events_url":"https://api.github.com/users/yerejm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":36425442,"node_id":"MDU6TGFiZWwzNjQyNTQ0Mg==","url":"https://api.github.com/repos/glfw/glfw/labels/enhancement","name":"enhancement","color":"c7def8","default":true,"description":"Feature suggestions and PRs"},{"id":37361162,"node_id":"MDU6TGFiZWwzNzM2MTE2Mg==","url":"https://api.github.com/repos/glfw/glfw/labels/macOS","name":"macOS","color":"1d76db","default":false,"description":""},{"id":37361218,"node_id":"MDU6TGFiZWwzNzM2MTIxOA==","url":"https://api.github.com/repos/glfw/glfw/labels/Windows","name":"Windows","color":"0078d6","default":false,"description":"Win32 specific (not Cygwin or WSL)"},{"id":417091543,"node_id":"MDU6TGFiZWw0MTcwOTE1NDM=","url":"https://api.github.com/repos/glfw/glfw/labels/Linux","name":"Linux","color":"ffffff","default":false,"description":"Linux specific (any window system)"}],"state":"closed","locked":false,"assignee":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/glfw/glfw/milestones/12","html_url":"https://github.com/glfw/glfw/milestone/12","labels_url":"https://api.github.com/repos/glfw/glfw/milestones/12/labels","id":1586124,"node_id":"MDk6TWlsZXN0b25lMTU4NjEyNA==","number":12,"title":"3.3","description":"","creator":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":266,"state":"closed","created_at":"2016-02-16T16:04:47Z","updated_at":"2019-07-21T23:55:22Z","due_on":null,"closed_at":"2019-04-16T00:42:23Z"},"comments":5,"created_at":"2016-10-27T23:48:46Z","updated_at":"2017-03-10T14:30:00Z","closed_at":"2017-03-06T02:24:02Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The handling of the joystick hat seems flawed.\n\nCurrently the 9 possible states are treated as distinct buttons, but this is problematic because the diagonal directions are detected as two buttons. For example, UP and UPLEFT cannot be distinguished simply via the API. The callback model proposed by #856 would pass through UPLEFT as two distinct button pushes for UP and LEFT. This may not be desirable.\n\nIf the caller is responsible for working out the hat state, then there isn't a simple way to distinguish between a joystick with a hat and a joystick without a hat when the button count matches. For example, a joystick with a primary and secondary trigger and a hat would show up as 6 buttons as would a joystick with a primary and secondary trigger and 4 extra buttons and no hat. I suppose the last four buttons could be tested with user input to determine this, but it seems drastic to ask the user for help when GLFW can figure it out already.\n\nAlso, the code for hat processing seems to indicate that multiple hats are possible.\nPerhaps retrieved using `const int *glfwGetJoystickHats(int joystick_id, int *count)`?\n\nSo is it possible for the hat to not be treated as extra buttons but as its own thing? For example, `int glfwGetJoystickHat(int joystick_id, int hat_id)` returning the direction where direction is 0 for the neutral (centered) position and 1, 2, 3, etc for each of the possible directions (clockwise). A reason to not use the `GLFW_PRESSED`/`GLFW_RELEASED` style would be that it is impossible for the hat to be in more than one direction. In other words, the hat could be seen as being a single button, not a set of individual buttons.\n\nA possible callback model API would take a function signature `void(*fn)(int joystick_id, int hat_id, int direction)`.\n","closed_by":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/glfw/glfw/issues/889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/glfw/glfw/issues/889/timeline","performed_via_github_app":null,"state_reason":"completed"}