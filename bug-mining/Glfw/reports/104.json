{"url":"https://api.github.com/repos/glfw/glfw/issues/694","repository_url":"https://api.github.com/repos/glfw/glfw","labels_url":"https://api.github.com/repos/glfw/glfw/issues/694/labels{/name}","comments_url":"https://api.github.com/repos/glfw/glfw/issues/694/comments","events_url":"https://api.github.com/repos/glfw/glfw/issues/694/events","html_url":"https://github.com/glfw/glfw/issues/694","id":128701645,"node_id":"MDU6SXNzdWUxMjg3MDE2NDU=","number":694,"title":"Presence of game pad causes segmentation fault (and proposed fix)","user":{"login":"jtdaugherty","id":427221,"node_id":"MDQ6VXNlcjQyNzIyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/427221?v=4","gravatar_id":"","url":"https://api.github.com/users/jtdaugherty","html_url":"https://github.com/jtdaugherty","followers_url":"https://api.github.com/users/jtdaugherty/followers","following_url":"https://api.github.com/users/jtdaugherty/following{/other_user}","gists_url":"https://api.github.com/users/jtdaugherty/gists{/gist_id}","starred_url":"https://api.github.com/users/jtdaugherty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtdaugherty/subscriptions","organizations_url":"https://api.github.com/users/jtdaugherty/orgs","repos_url":"https://api.github.com/users/jtdaugherty/repos","events_url":"https://api.github.com/users/jtdaugherty/events{/privacy}","received_events_url":"https://api.github.com/users/jtdaugherty/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":36425440,"node_id":"MDU6TGFiZWwzNjQyNTQ0MA==","url":"https://api.github.com/repos/glfw/glfw/labels/bug","name":"bug","color":"b60205","default":true,"description":"Bug reports and bugfix pull requests"},{"id":37361162,"node_id":"MDU6TGFiZWwzNzM2MTE2Mg==","url":"https://api.github.com/repos/glfw/glfw/labels/macOS","name":"macOS","color":"1d76db","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/glfw/glfw/milestones/6","html_url":"https://github.com/glfw/glfw/milestone/6","labels_url":"https://api.github.com/repos/glfw/glfw/milestones/6/labels","id":395627,"node_id":"MDk6TWlsZXN0b25lMzk1NjI3","number":6,"title":"3.2","description":"","creator":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":94,"state":"closed","created_at":"2013-08-06T14:04:59Z","updated_at":"2017-10-31T18:14:40Z","due_on":null,"closed_at":"2016-06-02T13:32:18Z"},"comments":2,"created_at":"2016-01-26T02:20:06Z","updated_at":"2016-02-10T05:57:27Z","closed_at":"2016-02-09T06:52:50Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I am experiencing a segmentation fault inside of GLFW version `3.1.2`. All that is required to trigger this for me is to:\n- Connect one of my game pads (http://www.amazon.com/Buffalo-Classic-USB-Gamepad-PC/dp/B002B9XB0E)\n- Call `glfwInit()`\n\nI believe the problem is that `src/cocoa_joystick.m` line 280 is not checking for a possible `NULL` return value from `IOHIDDeviceGetProperty`. Then `NULL` is passed to `CFStringGetCString` which crashes. I've found reports of other applications crashing with this symptom when `NULL` is passed to that function. When I unplug the game pad, `glfwInit()` runs successfully.\n\nI'd submit a pull request but I can't test this first since I can't get glfw3 to link on my machine.\n\nFor completeness, here is the call stack:\n\n```\nProcess 3963 stopped\n* thread #1: tid = 0x890a, 0x00007fff8b29587c CoreFoundation`CFStringGetCString + 44, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x0)\n    frame #0: 0x00007fff8b29587c CoreFoundation`CFStringGetCString + 44\nCoreFoundation`CFStringGetCString:\n->  0x7fff8b29587c <+44>: movq   (%r12), %rax\n    0x7fff8b295880 <+48>: testq  %rax, %rax\n    0x7fff8b295883 <+51>: je     0x7fff8b2958c4            ; <+116>\n    0x7fff8b295885 <+53>: leaq   -0x13d4bba4(%rip), %rcx   ; __CFConstantStringClassReferencePtr\n(lldb) bt\n* thread #1: tid = 0x890a, 0x00007fff8b29587c CoreFoundation`CFStringGetCString + 44, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x0)\n  * frame #0: 0x00007fff8b29587c CoreFoundation`CFStringGetCString + 44\n    frame #1: 0x0000000100011f86 libglfw3.3.dylib`matchCallback + 148\n    frame #2: 0x00007fff8a848c21 IOKit`__IOHIDManagerDeviceApplier + 153\n    frame #3: 0x00007fff8b2c0372 CoreFoundation`__CFSetApplyFunction_block_invoke + 18\n    frame #4: 0x00007fff8b2a4f80 CoreFoundation`CFBasicHashApply + 128\n    frame #5: 0x00007fff8b2c030a CoreFoundation`CFSetApplyFunction + 186\n    frame #6: 0x00007fff8a849e86 IOKit`__IOHIDManagerInitialEnumCallback + 58\n    frame #7: 0x00007fff8b2e15c1 CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17\n    frame #8: 0x00007fff8b2d341c CoreFoundation`__CFRunLoopDoSources0 + 556\n    frame #9: 0x00007fff8b2d293f CoreFoundation`__CFRunLoopRun + 927\n    frame #10: 0x00007fff8b2d2338 CoreFoundation`CFRunLoopRunSpecific + 296\n    frame #11: 0x000000010000e63d libglfw3.3.dylib`_glfwPlatformInit + 1287\n    frame #12: 0x000000010000bcf2 libglfw3.3.dylib`glfwInit + 42\n    frame #13: 0x0000000100002268 t2`main + 2776\n    frame #14: 0x00007fff92d2b5ad libdyld.dylib`start + 1\n```\n","closed_by":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/glfw/glfw/issues/694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/glfw/glfw/issues/694/timeline","performed_via_github_app":null,"state_reason":"completed"}