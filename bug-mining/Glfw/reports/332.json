{"url":"https://api.github.com/repos/glfw/glfw/issues/2016","repository_url":"https://api.github.com/repos/glfw/glfw","labels_url":"https://api.github.com/repos/glfw/glfw/issues/2016/labels{/name}","comments_url":"https://api.github.com/repos/glfw/glfw/issues/2016/comments","events_url":"https://api.github.com/repos/glfw/glfw/issues/2016/events","html_url":"https://github.com/glfw/glfw/issues/2016","id":1088111091,"node_id":"I_kwDOAJFXBc5A20Hz","number":2016,"title":"Can't build project on latest master with GLFW_BUILD_WAYLAND=ON due to redefinition errors","user":{"login":"warisb","id":29346402,"node_id":"MDQ6VXNlcjI5MzQ2NDAy","avatar_url":"https://avatars.githubusercontent.com/u/29346402?v=4","gravatar_id":"","url":"https://api.github.com/users/warisb","html_url":"https://github.com/warisb","followers_url":"https://api.github.com/users/warisb/followers","following_url":"https://api.github.com/users/warisb/following{/other_user}","gists_url":"https://api.github.com/users/warisb/gists{/gist_id}","starred_url":"https://api.github.com/users/warisb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/warisb/subscriptions","organizations_url":"https://api.github.com/users/warisb/orgs","repos_url":"https://api.github.com/users/warisb/repos","events_url":"https://api.github.com/users/warisb/events{/privacy}","received_events_url":"https://api.github.com/users/warisb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":36425440,"node_id":"MDU6TGFiZWwzNjQyNTQ0MA==","url":"https://api.github.com/repos/glfw/glfw/labels/bug","name":"bug","color":"b60205","default":true,"description":"Bug reports and bugfix pull requests"},{"id":37364584,"node_id":"MDU6TGFiZWwzNzM2NDU4NA==","url":"https://api.github.com/repos/glfw/glfw/labels/verified","name":"verified","color":"0e8a16","default":false,"description":"Reproduced or otherwise verified bugs"},{"id":89092389,"node_id":"MDU6TGFiZWw4OTA5MjM4OQ==","url":"https://api.github.com/repos/glfw/glfw/labels/Wayland","name":"Wayland","color":"ffbc00","default":false,"description":""},{"id":701426160,"node_id":"MDU6TGFiZWw3MDE0MjYxNjA=","url":"https://api.github.com/repos/glfw/glfw/labels/build","name":"build","color":"e0e0e0","default":false,"description":"Build file bugs and PRs (not compilation errors)"}],"state":"closed","locked":false,"assignee":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/glfw/glfw/milestones/13","html_url":"https://github.com/glfw/glfw/milestone/13","labels_url":"https://api.github.com/repos/glfw/glfw/milestones/13/labels","id":1805405,"node_id":"MDk6TWlsZXN0b25lMTgwNTQwNQ==","number":13,"title":"3.4","description":"","creator":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":91,"state":"closed","created_at":"2016-06-02T16:19:22Z","updated_at":"2024-04-15T13:42:33Z","due_on":null,"closed_at":"2024-02-23T12:42:01Z"},"comments":7,"created_at":"2021-12-24T03:00:22Z","updated_at":"2022-04-29T14:57:09Z","closed_at":"2022-04-28T20:20:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"OS and version:  Ubuntu 18.04\r\nCompiler version: GCC 7.5.0\r\nRelease or commit: master, commit 7d060ba4f1237c87ed53e007db619da8c25df282\r\nBuild log:\r\n```\r\nwboonyasiriwat@tervdilinaws53:~/dev/glfw-waris/build$ cmake -GNinja -DCMAKE_BUILD_TYPE=Debug -DGLFW_BUILD_WAYLAND=1 -DCMAKE_INSTALL_PREFIX=~/install -DBUILD_SHARED_LIBS=ON ..\r\n-- The C compiler identification is GNU 7.5.0\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Check for working C compiler: /usr/bin/cc - skipped\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Failed\r\n-- Looking for pthread_create in pthreads\r\n-- Looking for pthread_create in pthreads - not found\r\n-- Looking for pthread_create in pthread\r\n-- Looking for pthread_create in pthread - found\r\n-- Found Threads: TRUE  \r\n-- Could NOT find Doxygen (missing: DOXYGEN_EXECUTABLE) \r\n-- Including Wayland support\r\n-- Including X11 support\r\n-- Looking for include file xkbcommon/xkbcommon-compose.h\r\n-- Looking for include file xkbcommon/xkbcommon-compose.h - found\r\n-- Looking for memfd_create\r\n-- Looking for memfd_create - found\r\n-- Found PkgConfig: /usr/bin/pkg-config (found version \"0.29.1\") \r\n-- Checking for module 'wayland-protocols>=1.15'\r\n--   Found wayland-protocols, version 1.20\r\n-- Checking for modules 'wayland-client>=0.2.7;wayland-cursor>=0.2.7;wayland-egl>=0.2.7;xkbcommon'\r\n--   Found wayland-client, version 1.16.0\r\n--   Found wayland-cursor, version 1.16.0\r\n--   Found wayland-egl, version 18.1.0\r\n--   Found xkbcommon, version 0.8.2\r\n-- Found X11: /usr/include   \r\n-- Looking for XOpenDisplay in /usr/lib/x86_64-linux-gnu/libX11.so;/usr/lib/x86_64-linux-gnu/libXext.so\r\n-- Looking for XOpenDisplay in /usr/lib/x86_64-linux-gnu/libX11.so;/usr/lib/x86_64-linux-gnu/libXext.so - found\r\n-- Looking for gethostbyname\r\n-- Looking for gethostbyname - found\r\n-- Looking for connect\r\n-- Looking for connect - found\r\n-- Looking for remove\r\n-- Looking for remove - found\r\n-- Looking for shmat\r\n-- Looking for shmat - found\r\n-- Looking for IceConnectionNumber in ICE\r\n-- Looking for IceConnectionNumber in ICE - found\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /home/wboonyasiriwat/dev/glfw-waris/build\r\nwboonyasiriwat@tervdilinaws53:~/dev/glfw-waris/build$ \r\nwboonyasiriwat@tervdilinaws53:~/dev/glfw-waris/build$ ninja\r\n[33/114] Building C object src/CMakeFiles/glfw.dir/wl_init.c.o\r\nFAILED: src/CMakeFiles/glfw.dir/wl_init.c.o \r\n/usr/bin/cc -DHAVE_MEMFD_CREATE -DHAVE_XKBCOMMON_COMPOSE_H -D_DEFAULT_SOURCE -D_GLFW_BUILD_DLL -D_GLFW_WAYLAND -D_GLFW_X11 -I/home/wboonyasiriwat/dev/glfw-waris/include -I/home/wboonyasiriwat/dev/glfw-waris/src -I/home/wboonyasiriwat/dev/glfw-waris/build/src -g -fPIC -Wall -fvisibility=hidden -std=c99 -MD -MT src/CMakeFiles/glfw.dir/wl_init.c.o -MF src/CMakeFiles/glfw.dir/wl_init.c.o.d -o src/CMakeFiles/glfw.dir/wl_init.c.o -c /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c\r\nIn file included from /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c:52:0:\r\n/home/wboonyasiriwat/dev/glfw-waris/build/src/wayland-xdg-shell-client-protocol-code.h:53:35: error: redefinition of ‘types’\r\n static const struct wl_interface *types[] = {\r\n                                   ^~~~~\r\nIn file included from /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c:51:0:\r\n/home/wboonyasiriwat/dev/glfw-waris/build/src/wayland-client-protocol-code.h:61:35: note: previous definition of ‘types’ was here\r\n static const struct wl_interface *types[] = {\r\n                                   ^~~~~\r\nIn file included from /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c:53:0:\r\n/home/wboonyasiriwat/dev/glfw-waris/build/src/wayland-xdg-decoration-client-protocol-code.h:43:35: error: redefinition of ‘types’\r\n static const struct wl_interface *types[] = {\r\n                                   ^~~~~\r\nIn file included from /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c:52:0:\r\n/home/wboonyasiriwat/dev/glfw-waris/build/src/wayland-xdg-shell-client-protocol-code.h:53:35: note: previous definition of ‘types’ was here\r\n static const struct wl_interface *types[] = {\r\n                                   ^~~~~\r\nIn file included from /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c:54:0:\r\n/home/wboonyasiriwat/dev/glfw-waris/build/src/wayland-viewporter-client-protocol-code.h:43:35: error: redefinition of ‘types’\r\n static const struct wl_interface *types[] = {\r\n                                   ^~~~~\r\nIn file included from /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c:53:0:\r\n/home/wboonyasiriwat/dev/glfw-waris/build/src/wayland-xdg-decoration-client-protocol-code.h:43:35: note: previous definition of ‘types’ was here\r\n static const struct wl_interface *types[] = {\r\n                                   ^~~~~\r\nIn file included from /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c:55:0:\r\n/home/wboonyasiriwat/dev/glfw-waris/build/src/wayland-relative-pointer-unstable-v1-client-protocol-code.h:44:35: error: redefinition of ‘types’\r\n static const struct wl_interface *types[] = {\r\n                                   ^~~~~\r\nIn file included from /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c:54:0:\r\n/home/wboonyasiriwat/dev/glfw-waris/build/src/wayland-viewporter-client-protocol-code.h:43:35: note: previous definition of ‘types’ was here\r\n static const struct wl_interface *types[] = {\r\n                                   ^~~~~\r\nIn file included from /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c:56:0:\r\n/home/wboonyasiriwat/dev/glfw-waris/build/src/wayland-pointer-constraints-unstable-v1-client-protocol-code.h:47:35: error: redefinition of ‘types’\r\n static const struct wl_interface *types[] = {\r\n                                   ^~~~~\r\nIn file included from /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c:55:0:\r\n/home/wboonyasiriwat/dev/glfw-waris/build/src/wayland-relative-pointer-unstable-v1-client-protocol-code.h:44:35: note: previous definition of ‘types’ was here\r\n static const struct wl_interface *types[] = {\r\n                                   ^~~~~\r\nIn file included from /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c:57:0:\r\n/home/wboonyasiriwat/dev/glfw-waris/build/src/wayland-idle-inhibit-unstable-v1-client-protocol-code.h:43:35: error: redefinition of ‘types’\r\n static const struct wl_interface *types[] = {\r\n                                   ^~~~~\r\nIn file included from /home/wboonyasiriwat/dev/glfw-waris/src/wl_init.c:56:0:\r\n/home/wboonyasiriwat/dev/glfw-waris/build/src/wayland-pointer-constraints-unstable-v1-client-protocol-code.h:47:35: note: previous definition of ‘types’ was here\r\n static const struct wl_interface *types[] = {\r\n                                   ^~~~~\r\n[50/114] Building C object examples/CMakeFiles/splitview.dir/splitview.c.o\r\nninja: build stopped: subcommand failed.\r\nwboonyasiriwat@tervdilinaws53:~/dev/glfw-waris/build$ \r\n\r\n```\r\n\r\n\r\nNote that I have wayland-protocols version 1.15 built and installed from source. I also tried with 1.20 and did not help.","closed_by":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/glfw/glfw/issues/2016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/glfw/glfw/issues/2016/timeline","performed_via_github_app":null,"state_reason":"completed"}