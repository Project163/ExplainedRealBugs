{"url":"https://api.github.com/repos/glfw/glfw/issues/1511","repository_url":"https://api.github.com/repos/glfw/glfw","labels_url":"https://api.github.com/repos/glfw/glfw/issues/1511/labels{/name}","comments_url":"https://api.github.com/repos/glfw/glfw/issues/1511/comments","events_url":"https://api.github.com/repos/glfw/glfw/issues/1511/events","html_url":"https://github.com/glfw/glfw/issues/1511","id":457218394,"node_id":"MDU6SXNzdWU0NTcyMTgzOTQ=","number":1511,"title":"Window scaling broken on Windows 8.1","user":{"login":"ghuser404","id":33043976,"node_id":"MDQ6VXNlcjMzMDQzOTc2","avatar_url":"https://avatars.githubusercontent.com/u/33043976?v=4","gravatar_id":"","url":"https://api.github.com/users/ghuser404","html_url":"https://github.com/ghuser404","followers_url":"https://api.github.com/users/ghuser404/followers","following_url":"https://api.github.com/users/ghuser404/following{/other_user}","gists_url":"https://api.github.com/users/ghuser404/gists{/gist_id}","starred_url":"https://api.github.com/users/ghuser404/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghuser404/subscriptions","organizations_url":"https://api.github.com/users/ghuser404/orgs","repos_url":"https://api.github.com/users/ghuser404/repos","events_url":"https://api.github.com/users/ghuser404/events{/privacy}","received_events_url":"https://api.github.com/users/ghuser404/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":36425440,"node_id":"MDU6TGFiZWwzNjQyNTQ0MA==","url":"https://api.github.com/repos/glfw/glfw/labels/bug","name":"bug","color":"b60205","default":true,"description":"Bug reports and bugfix pull requests"},{"id":37361218,"node_id":"MDU6TGFiZWwzNzM2MTIxOA==","url":"https://api.github.com/repos/glfw/glfw/labels/Windows","name":"Windows","color":"0078d6","default":false,"description":"Win32 specific (not Cygwin or WSL)"},{"id":37364584,"node_id":"MDU6TGFiZWwzNzM2NDU4NA==","url":"https://api.github.com/repos/glfw/glfw/labels/verified","name":"verified","color":"0e8a16","default":false,"description":"Reproduced or otherwise verified bugs"},{"id":340758867,"node_id":"MDU6TGFiZWwzNDA3NTg4Njc=","url":"https://api.github.com/repos/glfw/glfw/labels/High%20DPI","name":"High DPI","color":"e0e0e0","default":false,"description":"High resolution display specific"}],"state":"closed","locked":false,"assignee":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/glfw/glfw/milestones/17","html_url":"https://github.com/glfw/glfw/milestone/17","labels_url":"https://api.github.com/repos/glfw/glfw/milestones/17/labels","id":5011324,"node_id":"MDk6TWlsZXN0b25lNTAxMTMyNA==","number":17,"title":"3.3.3","description":"","creator":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":57,"state":"closed","created_at":"2020-01-16T16:23:30Z","updated_at":"2024-04-15T13:42:32Z","due_on":null,"closed_at":"2021-02-23T20:16:42Z"},"comments":1,"created_at":"2019-06-18T01:37:24Z","updated_at":"2021-08-31T17:04:02Z","closed_at":"2021-02-11T17:20:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Here I list my concerns about window scaling. I'm going to discuss only Windows platform here.\r\n\r\n1\\. **WM_DPICHANGED** - introduced in Windows 8.1, but GLFW only handles it for Windows 10 Creators Update, which is using PMv2; Windows 8.1 is using PMv1, but that message is relevant to PMv1 too, I believe.\r\n>This message is only relevant for PROCESS_PER_MONITOR_DPI_AWARE applications or DPI_AWARENESS_PER_MONITOR_AWARE threads.\r\n>https://docs.microsoft.com/en-us/windows/desktop/hidpi/wm-dpichanged\r\n\r\nIs there some idea behind this that we don't want to scale the window on DPI change on Windows 8.1? Maybe some lacking features in PMv1?\r\n\r\n2\\. **WM_GETDPISCALEDSIZE** - introduced in Windows 10 Creators Update. According to MSDN, it is only relevant if you want to scale non-linearly.\r\n>As linear DPI scaling is the default behavior, this is only useful in scenarios where the window wants to scale non-linearly.\r\n>https://docs.microsoft.com/en-us/windows/desktop/hidpi/wm-getdpiscaledsize\r\n\r\nThe reason why this needs to be changed in WM_GETDPISCALEDSIZE is stated here, I believe.\r\n>When Windows sends your application window a WM_DPICHANGED message, this message includes a suggested rectangle that you should use to resize your window. It is critical that your application use this rectangle to resize itself, as this will:\r\n>\r\n>Ensure that the mouse cursor will stay in the same relative position on the Window when dragging between displays\r\nPrevent the application window from getting into a recursive dpi-change cycle where one DPI change triggers a subsequent DPI change, which triggers yet another DPI change.\r\n>https://docs.microsoft.com/en-us/windows/desktop/hidpi/high-dpi-desktop-application-development-on-windows\r\n\r\nGLFW is using this message just to keep the same window size in pixels if `GLFW_SCALE_TO_MONITOR` is equal to `GLFW_FALSE`. However, this behaviour can be reached by not changing position/size in `WM_DPICHANGED`, just like Windows 8.1 does currently. I'm not sure if it is legal, but GLFW already does it for Windows 8.1.\r\n\r\n3\\. **GLFW_SCALE_TO_MONITOR** - for Windows 8.1 this is only used during initialization. By simply handling `WM_DPICHANGED`, Windows 8.1 could have windows scale properly on DPI change.","closed_by":{"login":"elmindreda","id":133714,"node_id":"MDQ6VXNlcjEzMzcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/133714?v=4","gravatar_id":"","url":"https://api.github.com/users/elmindreda","html_url":"https://github.com/elmindreda","followers_url":"https://api.github.com/users/elmindreda/followers","following_url":"https://api.github.com/users/elmindreda/following{/other_user}","gists_url":"https://api.github.com/users/elmindreda/gists{/gist_id}","starred_url":"https://api.github.com/users/elmindreda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elmindreda/subscriptions","organizations_url":"https://api.github.com/users/elmindreda/orgs","repos_url":"https://api.github.com/users/elmindreda/repos","events_url":"https://api.github.com/users/elmindreda/events{/privacy}","received_events_url":"https://api.github.com/users/elmindreda/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/glfw/glfw/issues/1511/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/glfw/glfw/issues/1511/timeline","performed_via_github_app":null,"state_reason":"completed"}