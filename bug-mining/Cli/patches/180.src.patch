diff --git a/xdocs/changes.xml b/xdocs/changes.xml
new file mode 100644
index 00000000..07662d29
--- /dev/null
+++ b/xdocs/changes.xml
@@ -0,0 +1,138 @@
+<?xml version="1.0"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one or more
+  contributor license agreements.  See the NOTICE file distributed with
+  this work for additional information regarding copyright ownership.
+  The ASF licenses this file to You under the Apache License, Version 2.0
+  (the "License"); you may not use this file except in compliance with
+  the License.  You may obtain a copy of the License at
+
+       http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing, software
+   distributed under the License is distributed on an "AS IS" BASIS,
+   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+   See the License for the specific language governing permissions and
+   limitations under the License.
+-->
+
+<document>
+  <properties>
+    <title>Commons CLI Release Notes</title>
+  </properties>
+  <body>
+
+    <release version="1.2" date="2009-03-19" description="This is a maintenance release containing bug fixes.">
+      <action type="fix" dev="oheger" issue="CLI-175">
+        Test class BugCLI162Test fails under Windows
+      </action>
+      <action type="fix" dev="joehni" issue="CLI-177">
+        OptionBuilder is not reseted in case of an IAE at create.
+      </action>
+      <action type="remove" dev="bayard">
+        Ant build system removed. 
+      </action>
+      <action type="fix" dev="ebourg" issue="CLI-154">
+        Incomplete usage documentation about Java property option.
+      </action>
+      <action type="fix" dev="bayard" issue="CLI-170">
+        TypeHandler prints messages to stderr.
+      </action>
+      <action type="fix" dev="bayard" issue="CLI-170">
+        TypeHandler prints messages to stderr.
+      </action>
+      <action type="fix" dev="bayard" issue="CLI-162">
+        Infinite loop in the wrapping code of HelpFormatter.
+      </action>
+      <action type="fix" dev="sgoeschl">
+        Fixing some minor javadoc issues.
+      </action>
+      <action type="fix" dev="ebourg" issue="CLI-137">
+        The number of arguments defined for an option specifies the arguments per occurrence of the option
+        and not for all occurrences. This was a major regression in CLI 1.1 which prevented the use of repeated options.
+      </action>
+      <action type="add" dev="ebourg">
+        Added a getOptionProperties() method in the CommandLine class to retrieve easily the key/value pairs
+        specified with options like -Dkey1=value1 -Dkey2=value2.
+      </action>
+      <action type="update" dev="ebourg" issue="CLI-157">
+        GnuParser now supports long options with an '=' sign (ie. --foo=bar and -foo=bar)
+      </action>
+      <action type="fix" dev="ebourg" issue="CLI-164">
+        PosixParser no longer ignores unrecognized short options.
+      </action>
+      <action type="fix" dev="ebourg" issue="CLI-163">
+        PosixParser no longer stops the bursting process of a token if stopAtNonOption is enabled and a non option
+        character is encountered.
+      </action>
+      <action type="fix" dev="ebourg" issue="CLI-165">
+        PosixParser no longer keeps processing the tokens after an unrecognized long option
+        when stopAtNonOption is enabled.
+      </action>
+      <action type="fix" dev="ebourg" issue="CLI-156">
+        Required options are properly checked if an Options instance is used twice to parse a command line.
+      </action>
+      <action type="update" dev="bayard" issue="CLI-155">
+        The ordering of options can be defined in help messages.
+      </action>
+      <action type="fix" dev="bayard" issue="CLI-151" due-to="Dan Armbrust">
+        The line wrapping in HelpFormatter now works properly. This caused CLI-162, and thus there was a feature change 
+        for the HelpFormatter in that it is strict on width now rather than what seemed to be lenience before. Text without 
+        whitespace will be cut off to fit in the spacing, and an IllegalStateException will be thrown if it is impossible 
+        to output the information due to spacing constraints. 
+      </action>
+      <action type="fix" dev="bayard" issue="CLI-149">
+        The message of MissingOptionException has been improved.
+      </action>
+      <action type="update" dev="ebourg" issue="CLI-86">
+        The exceptions have been enhanced with methods to retrieve easily the related options.
+      </action>
+      <action type="fix" dev="bayard" issue="CLI-141" due-to="Henning Schmiedehausen, Bjorn Townsend">
+        Option.toString() now reports arguments properly.
+      </action>
+      <action type="update" dev="bayard" issue="CLI-142" due-to="Henning Schmiedehausen">
+        The Parser class has been changed to be more easily extendable.
+      </action>
+      <action type="update" dev="bayard" issue="CLI-140">
+        The following classes are now serializable: Option, OptionGroup, CommandLine and Options.
+      </action>
+      <action type="remove" dev="ebourg">
+        OptionValidator is no longer public, its methods were all private.
+      </action>
+    </release>
+
+    <release version="1.1" date="2007-07-08" description="This is a maintenance release containing bug fixes.">
+
+      <action type="fix" issue="CLI-2">Wrong usage summary. </action>
+      <action type="fix" issue="CLI-5">Dependecy on commons-lang-2.0 but commons-lang-1.0 is obtained. </action>
+      <action type="fix" issue="CLI-8">Line separator as first char for helpformatter (footer) throws exception. </action>
+      <action type="fix" issue="CLI-13">CommandLine.getOptionValue() behaves contrary to docs. </action>
+      <action type="fix" issue="CLI-21">clone method in Option should use super.clone(). </action>
+      <action type="fix" issue="CLI-23">Passing properties in Parser does not work for options with a single argument. </action>
+      <action type="fix" issue="CLI-26">Only long options without short option seems to be noticed. </action>
+      <action type="fix" issue="CLI-28">Infinite Loop in Command-Line processing. </action>
+      <action type="fix" issue="CLI-29">Options should not be able to be added more than once. </action>
+      <action type="fix" issue="CLI-35">HelpFormatter doesn't sort options properly. </action>
+      <action type="fix" issue="CLI-38">HelpFormatter doesn't function correctly for options with only LongOpt. </action>
+      <action type="fix" issue="CLI-44">Document enhancement. </action>
+      <action type="fix" issue="CLI-45">Documentation errors. </action>
+      <action type="fix" issue="CLI-51">Parameter value "-something" misinterpreted as a parameter. </action>
+      <action type="fix" issue="CLI-56">clone() method doesn't fully clone contents. </action>
+      <action type="fix" issue="CLI-59">No Javadoc for HelpFormatter!. </action>
+      <action type="fix" issue="CLI-65">Parser breaks up command line parms into single characters. </action>
+      <action type="fix" issue="CLI-67">Missing arguments in HelpFormatter.renderOptions(..). </action>
+      <action type="fix" issue="CLI-69">Error parsing option arguments. </action>
+      <action type="fix" issue="CLI-71">A weakness of parser. </action>
+      <action type="add" issue="CLI-78">Setting description of a Option. </action>
+      <action type="fix" issue="CLI-129">CLI_1_BRANCH build.xml doesn't work. </action>
+      <action type="fix" issue="CLI-130">Remove the Commons Lang dependency. </action>
+      <action type="fix" issue="CLI-131">Options class returns options in random order. </action>
+      <action type="fix" issue="CLI-132">MissingOptionException should contain a useful error message. </action>
+      <action type="fix" issue="CLI-133">NullPointerException in Util.stripLeadingHyphens when passed a null argument. </action>
+      <action type="fix" issue="CLI-134">1.1 is not backwards compatible because it adds methods to the CommandLineParser interface. </action>
+      <action type="fix" issue="CLI-135">Backwards compatibility between 1.1 and 1.0 broken due to Option.addValue removal. </action>
+
+    </release>   
+
+  </body>
+</document>
diff --git a/xdocs/download_cli.xml b/xdocs/download_cli.xml
new file mode 100644
index 00000000..6008e915
--- /dev/null
+++ b/xdocs/download_cli.xml
@@ -0,0 +1,145 @@
+<?xml version="1.0"?>
+<!--
+Licensed to the Apache Software Foundation (ASF) under one or more
+contributor license agreements.  See the NOTICE file distributed with
+this work for additional information regarding copyright ownership.
+The ASF licenses this file to You under the Apache License, Version 2.0
+(the "License"); you may not use this file except in compliance with
+the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing, software
+distributed under the License is distributed on an "AS IS" BASIS,
+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+See the License for the specific language governing permissions and
+limitations under the License.
+-->
+<!--
+ +======================================================================+
+ |****                                                              ****|
+ |****      THIS FILE IS GENERATED BY THE COMMONS BUILD PLUGIN      ****|
+ |****                    DO NOT EDIT DIRECTLY                      ****|
+ |****                                                              ****|
+ +======================================================================+
+ | TEMPLATE FILE: download-page-template.xml                            |
+ | commons-build-plugin/trunk/src/main/resources/commons-xdoc-templates |
+ +======================================================================+
+ |                                                                      |
+ | 1) Re-generate using: mvn commons:download-page                      |
+ |                                                                      |
+ | 2) Set the following properties in the component's pom:              |
+ |    - commons.componentid (required, alphabetic, lower case)          |
+ |    - commons.release.version (required)                              |
+ |    - commons.binary.suffix (optional)                                |
+ |      (defaults to "-bin", set to "" for pre-maven2 releases)         |
+ |                                                                      |
+ | 3) Example Properties                                                |
+ |                                                                      |
+ |  <properties>                                                        |
+ |    <commons.componentid>math</commons.componentid>                   |
+ |    <commons.release.version>1.2</commons.release.version>            |
+ |  </properties>                                                       |
+ |                                                                      |
+ +======================================================================+
+-->
+<document>
+  <properties>
+    <title>Download Commons CLI</title>
+    <author email="dev@commons.apache.org">Commons Documentation Team</author>
+  </properties>
+  <body>
+    <section name="Download Commons CLI">
+      <p>
+        We recommend you use a mirror to download our release
+        builds, but you <strong>must</strong> verify the integrity of
+        the downloaded files using signatures downloaded from our main 
+        distribution directories. Recent releases (48 hours) may not yet
+        be available from the mirrors.
+      </p>
+
+      <p>
+        You are currently using <b>[preferred]</b>.  If you
+        encounter a problem with this mirror, please select another
+        mirror.  If all mirrors are failing, there are <i>backup</i>
+        mirrors (at the end of the mirrors list) that should be
+        available.
+        <br></br>
+        [if-any logo]<a href="[link]"><img align="right" src="[logo]" border="0"></img></a>[end]
+      </p>
+
+      <form action="[location]" method="get" id="SelectMirror">
+        <p>
+          Other mirrors: 
+          <select name="Preferred">
+          [if-any http]
+            [for http]<option value="[http]">[http]</option>[end]
+          [end]
+          [if-any ftp]
+            [for ftp]<option value="[ftp]">[ftp]</option>[end]
+          [end]
+          [if-any backup]
+            [for backup]<option value="[backup]">[backup] (backup)</option>[end]
+          [end]
+          </select>
+          <input type="submit" value="Change"></input>
+        </p>
+      </form>
+
+      <p>
+        The <code>KEYS</code> link links to the code signing keys used to sign the product.
+        The <code>PGP</code> link downloads the OpenPGP compatible signature from our main site. 
+        The <code>MD5</code> link downloads the checksum from the main site.
+      </p>
+
+      <p>
+        For more information concerning Commons CLI, see the 
+        <a href="index.html" class="name">Commons CLI</a> web site.
+      </p>
+
+      <p>
+        <div class="links"><span class="link"><a href="http://www.apache.org/dist/commons/KEYS">KEYS</a></span></div>
+        <ul class="downloads">
+          <li class="group"><div class="links"><span class="label">Binary</span></div>
+            <ul>
+              <li class="download"><a href="[preferred]/commons/cli/binaries/commons-cli-1.2.tar.gz">1.2.tar.gz</a>
+                <ul class="attributes">
+                  <li><span class="md5">[<a href="http://www.apache.org/dist/commons/cli/binaries/commons-cli-1.2.tar.gz.md5">md5</a>]</span>
+                      <span class="pgp">[<a href="http://www.apache.org/dist/commons/cli/binaries/commons-cli-1.2.tar.gz.asc">pgp</a>]</span>
+                  </li>
+                </ul>
+              </li>
+              <li class="download"><a href="[preferred]/commons/cli/binaries/commons-cli-1.2.zip">1.2.zip</a>
+                <ul class="attributes">
+                  <li><span class="md5">[<a href="http://www.apache.org/dist/commons/cli/binaries/commons-cli-1.2.zip.md5">md5</a>]</span>
+                      <span class="pgp">[<a href="http://www.apache.org/dist/commons/cli/binaries/commons-cli-1.2.zip.asc">pgp</a>]</span>
+                  </li>
+                </ul>
+              </li>
+            </ul>
+          </li>
+          <li class="group"><div class="links"><span class="label">Source</span></div>
+            <ul>
+              <li class="download"><a href="[preferred]/commons/cli/source/commons-cli-1.2-src.tar.gz">1.2.tar.gz</a>
+                <ul class="attributes">
+                  <li><span class="md5">[<a href="http://www.apache.org/dist/commons/cli/source/commons-cli-1.2-src.tar.gz.md5">md5</a>]</span>
+                      <span class="pgp">[<a href="http://www.apache.org/dist/commons/cli/source/commons-cli-1.2-src.tar.gz.asc">pgp</a>]</span>
+                  </li>
+                </ul>
+              </li>
+              <li class="download"><a href="[preferred]/commons/cli/source/commons-cli-1.2-src.zip">1.2.zip</a>
+                <ul class="attributes">
+                  <li><span class="md5">[<a href="http://www.apache.org/dist/commons/cli/source/commons-cli-1.2-src.zip.md5">md5</a>]</span>
+                      <span class="pgp">[<a href="http://www.apache.org/dist/commons/cli/source/commons-cli-1.2-src.zip.asc">pgp</a>]</span>
+                  </li>
+                </ul>
+              </li>
+            </ul>
+          </li>
+          <li class="download"><a href="[preferred]/commons/cli/">browse download area</a></li>
+          <li><a href="http://archive.apache.org/dist/commons/cli/">archives...</a></li>
+        </ul>
+      </p>
+    </section>
+  </body>
+</document>
diff --git a/xdocs/examples/ant.xml b/xdocs/examples/ant.xml
new file mode 100644
index 00000000..8be3bf5c
--- /dev/null
+++ b/xdocs/examples/ant.xml
@@ -0,0 +1,301 @@
+<?xml version="1.0"?>
+<!--
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
+<document>
+
+  <properties>
+    <author email="dev@commons.apache.org">commons-dev</author>
+    <title>Examples - ant</title>
+  </properties>
+
+  <body>
+    <section name="ant">
+      <p>
+        This example works through modelling Apache Ant using CLI2, the 
+        example is based on Apache Ant version 1.6.1 compiled on February 12 
+        2004.
+      </p>
+      <p>
+        "Apache Ant is a Java-based build tool. In theory, it is kind of like 
+        Make, but without Make's wrinkles." - For more information please 
+        visit <a href="http://ant.apache.org/">http://ant.apache.org/</a>
+      </p>
+      <subsection name="Modelling">
+      <p>
+        To model the ant options we first need to create some Builders so that 
+        each of the option instances can be created:
+      </p>
+<source>final DefaultOptionBuilder obuilder = new DefaultOptionBuilder();
+final ArgumentBuilder abuilder = new ArgumentBuilder();
+final GroupBuilder gbuilder = new GroupBuilder();</source>
+      <p>
+      	For each option we create an Option instance that will model it, built 
+      	using the Builder instances above:
+      </p>
+<source>Option help =
+    obuilder
+        .withShortName("help")
+        .withShortName("h")
+        .withDescription("print this message")
+        .create();
+Option projecthelp =
+    obuilder
+        .withShortName("projecthelp")
+        .withShortName("p")
+        .withDescription("print project help information")
+        .create();
+Option version =
+    obuilder
+        .withShortName("version")
+        .withDescription("print the version information and exit")
+        .create();
+Option diagnostics =
+    obuilder
+        .withShortName("diagnostics")
+        .withDescription("print information that might be helpful to diagnose or report problems.")
+        .create();
+Option quiet =
+    obuilder
+        .withShortName("quiet")
+        .withShortName("q")
+        .withDescription("be extra quiet")
+        .create();
+Option verbose =
+    obuilder
+        .withShortName("verbose")
+        .withShortName("v")
+        .withDescription("be extra verbose")
+        .create();
+Option debug =
+    obuilder
+        .withShortName("debug")
+        .withShortName("d")
+        .withDescription("print debugging information")
+        .create();
+Option emacs =
+    obuilder
+        .withShortName("emacs")
+        .withShortName("e")
+        .withDescription("produce logging information without adornments")
+        .create();
+Option lib =
+    obuilder
+        .withShortName("lib")
+        .withDescription("specifies a path to search for jars and classes")
+        .withArgument(
+            abuilder
+                .withName("path")
+                .withMinimum(1)
+                .withMaximum(1)
+                .create())
+        .create();
+Option logfile =
+    obuilder
+        .withShortName("logfile")
+        .withShortName("l")
+        .withDescription("use given file for log")
+        .withArgument(
+            abuilder
+                .withName("file")
+                .withMinimum(1)
+                .withMaximum(1)
+                .create())
+        .create();
+Option logger =
+    obuilder
+        .withShortName("logger")
+        .withDescription("the class which is to perform logging")
+        .withArgument(
+            abuilder
+                .withName("classname")
+                .withMinimum(1)
+                .withMaximum(1)
+                .create())
+        .create();
+Option listener =
+    obuilder
+        .withShortName("listener")
+        .withDescription("add an instance of class as a project listener")
+        .withArgument(
+            abuilder
+                .withName("classname")
+                .withMinimum(1)
+                .withMaximum(1)
+                .create())
+        .create();
+Option noinput =
+    obuilder
+        .withShortName("noinput")
+        .withDescription("do not allow interactive input")
+        .create();
+Option buildfile =
+    obuilder
+        .withShortName("buildfile")
+        .withShortName("file")
+        .withShortName("f")
+        .withDescription("use given buildfile")
+        .withArgument(
+            abuilder
+                .withName("file")
+                .withMinimum(1)
+                .withMaximum(1)
+                .create())
+        .create();
+Option property = new PropertyOption();
+Option propertyfile =
+    obuilder
+        .withShortName("propertyfile")
+        .withDescription("load all properties from file with -D properties taking precedence")
+        .withArgument(
+            abuilder
+                .withName("name")
+                .withMinimum(1)
+                .withMaximum(1)
+                .create())
+        .create();
+Option inputhandler =
+    obuilder
+        .withShortName("inputhandler")
+        .withDescription("the class which will handle input requests")
+        .withArgument(
+            abuilder
+                .withName("class")
+                .withMinimum(1)
+                .withMaximum(1)
+                .create())
+        .create();
+Option find =
+    obuilder
+        .withShortName("find")
+        .withShortName("s")
+        .withDescription("search for buildfile towards the root of the filesystem and use it")
+        .withArgument(
+            abuilder
+                .withName("file")
+                .withMinimum(1)
+                .withMaximum(1)
+                .create())
+        .create();
+Option targets = abuilder.withName("target").create();</source>
+      <p>
+        We now create a Group instance consisting of all the above options:
+      </p>
+<source>Group options =
+    gbuilder
+        .withName("options")
+        .withOption(help)
+        .withOption(projecthelp)
+        .withOption(version)
+        .withOption(diagnostics)
+        .withOption(quiet)
+        .withOption(verbose)
+        .withOption(debug)
+        .withOption(emacs)
+        .withOption(lib)
+        .withOption(logfile)
+        .withOption(logger)
+        .withOption(listener)
+        .withOption(noinput)
+        .withOption(buildfile)
+        .withOption(property)
+        .withOption(propertyfile)
+        .withOption(inputhandler)
+        .withOption(find)
+        .withOption(targets)
+        .create();</source>
+      </subsection>
+      <subsection name="Querying">
+      <p>
+        Once the model is built, a CommandLine needs to be parsed:
+      </p>
+<source>Parser parser = new Parser();
+parser.setGroup(options);
+CommandLine cl = parser.parse(args);</source>
+      <p>
+        The CommandLine can be tested for the presence of options using the 
+        hasOption() methods which take either an option instance or a trigger 
+        value to lookup against:
+      </p>
+<source>if(cl.hasOption(help)) {
+    //displayHelp();
+    return;
+}
+if(cl.hasOption("-version")) {
+    //displayVersion();
+    return;
+}</source>
+      <p>
+        For those options that have an argument, the argument needs to be 
+        extracted and processed:
+      </p>
+<source>if(cl.hasOption(logfile)) {
+    String file = (String)cl.getValue(logfile);
+    //setLogFile(file);
+}</source>
+      <p>
+        Each target for ant to process could then be processed in order as 
+        specified:
+      </p>
+<source>List targetList = cl.getValues(targets);
+for (Iterator i = targetList.iterator(); i.hasNext();) {
+    String target = (String) i.next();
+    //doTarget(target);
+}</source>
+      </subsection>
+      <subsection name="Helping">
+      <p>
+        To generate a help page for ant we first need to create a 
+        HelpFormatter and set some basic properties.  The shell command is 
+        the command that the user would have typed to invoke the application, 
+        and the group is the group of options that compose the model.
+      </p>
+<source>HelpFormatter hf = new HelpFormatter();
+hf.setShellCommand("ant");
+hf.setGroup(options);</source>
+      <p>
+        The first section of help will display the full usage string for the 
+        application, the appearence of this line can be adjusted using the 
+        HelpFormatter's fullUsageSettings property:
+      </p>
+<source>hf.getFullUsageSettings().add(DisplaySetting.DISPLAY_GROUP_NAME);
+hf.getFullUsageSettings().add(DisplaySetting.DISPLAY_GROUP_ARGUMENT);
+hf.getFullUsageSettings().remove(DisplaySetting.DISPLAY_GROUP_EXPANDED);</source>
+      <p>
+        The main body of the help is based on a line or more of information 
+        about each option in the model.  DisplaySettings can be used again to 
+        adjust which items are included in this display and which aren't.  In 
+        this case, we don't want to display any groups as the top one is the 
+        only one present and can be inferred:
+      </p>
+<source>hf.getDisplaySettings().remove(DisplaySetting.DISPLAY_GROUP_ARGUMENT);</source>
+      <p>
+        Each of the options identified by the displaySettings above has some 
+        usage information displayed, usually this will be a minimal set of 
+        DisplaySettings but these can be adjusted to get the desired effect:
+      </p>
+<source>hf.getLineUsageSettings().add(DisplaySetting.DISPLAY_PROPERTY_OPTION);
+hf.getLineUsageSettings().add(DisplaySetting.DISPLAY_PARENT_ARGUMENT);
+hf.getLineUsageSettings().add(DisplaySetting.DISPLAY_ARGUMENT_BRACKETED);</source>
+      <p>
+        Finally, the help can be printed to System.out with a simple call to 
+        <code>print()</code>:
+      </p>
+<source>hf.print();</source>
+      </subsection>
+    </section>
+  </body>
+</document>
diff --git a/xdocs/examples/index.xml b/xdocs/examples/index.xml
new file mode 100644
index 00000000..b3865e01
--- /dev/null
+++ b/xdocs/examples/index.xml
@@ -0,0 +1,49 @@
+<?xml version="1.0"?>
+<!--
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
+<document>
+
+  <properties>
+    <author email="dev@commons.apache.org">commons-dev</author>
+    <title>Examples</title>
+  </properties>
+
+  <body>
+    <section name="Overview">
+      <p>
+        The examples section aims to show how a variety of applications and 
+        tools could be modelled using CLI2.  We make no claim that these tools 
+        use CLI2 in their implementation but simply use their interfaces to 
+        demonstrate commonly needed features.  Some examples will make 
+        simplifications to keep the documentation consise.
+      </p>
+      <p>
+        Many aspects of the API are touched upon but few are described in 
+        great detail.  If more information is required then the reader is 
+        encouraged to review the API documentation and look at the unit tests 
+        for inspiration.  Failing that, further advice and discussion can be 
+        found on the <code>user@commons.apache.org</code> mailing list.
+      </p>
+    </section>
+
+    <section name="Examples">
+      <ul>
+        <li><a href="ant.html">ant</a></li>
+      </ul>
+    </section>
+  </body>
+</document>
diff --git a/xdocs/images/1x1.gif b/xdocs/images/1x1.gif
new file mode 100755
index 00000000..35d42e80
Binary files /dev/null and b/xdocs/images/1x1.gif differ
diff --git a/xdocs/images/logo.jpg b/xdocs/images/logo.jpg
new file mode 100644
index 00000000..bcb74222
Binary files /dev/null and b/xdocs/images/logo.jpg differ
diff --git a/xdocs/images/logo.png b/xdocs/images/logo.png
new file mode 100644
index 00000000..7c689339
Binary files /dev/null and b/xdocs/images/logo.png differ
diff --git a/xdocs/images/options.png b/xdocs/images/options.png
new file mode 100644
index 00000000..b0f9d8fe
Binary files /dev/null and b/xdocs/images/options.png differ
diff --git a/xdocs/images/svg/commandlines.svg b/xdocs/images/svg/commandlines.svg
new file mode 100644
index 00000000..3ab520cb
--- /dev/null
+++ b/xdocs/images/svg/commandlines.svg
@@ -0,0 +1,57 @@
+<?xml version="1.0" standalone="no"?>
+<?xml-stylesheet type="text/css" href="diagrams.css" ?>
+<!--
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+-->
+<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
+
+<svg id="root" width="420" height="360" x="0" y="0">
+
+<script type="text/ecmascript" xlink:href="diagrams.js"/>
+<script type="text/ecmascript" xlink:href="diagrams-cli2.js"/>
+<script type="text/ecmascript">
+
+displayAttributes = false;
+displayMethods = false;
+
+</script>
+
+<g 
+	onload="new PackageSymbol('org.apache.commons.cli2',400,340).insert(evt)" 
+	transform="translate(10,10)"><g transform="translate(10,30)">
+	
+	<g transform="translate(  0, 30)" class="option"   onload="CommandLine.insert(evt);" />
+	<g transform="translate(  0,130)" class="group"    onload="WriteableCommandLine.insert(evt);"/>
+	
+	<g 
+		onload="new PackageSymbol('commandline',180,300).insert(evt)" 
+		transform="translate(200,0)"><g transform="translate(10,30)">
+		
+		<g transform="translate(0,  0)" class="option"   onload="Parser.insert(evt);" />
+		<g transform="translate(0, 50)" class="parent"   onload="DefaultingCommandLine.insert(evt);" />
+		<g transform="translate(0,100)" class="parent"   onload="PropertiesCommandLine.insert(evt);" />
+		<g transform="translate(0,190)" class="parent"   onload="PreferencesCommandLine.insert(evt);" />
+	</g></g>
+<!--	
+-->
+
+<polyline class="extends"    points="80,130 80,70"/>
+<polyline class="implements" points="210, 95 180, 95 180,45 170,45"/>
+<polyline class="implements" points="210,145 180,145 180,45 170,45"/>
+<polyline class="implements" points="210,235 180,235 180,45 170,45"/>
+
+</g></g>
+</svg>
\ No newline at end of file
diff --git a/xdocs/images/svg/diagrams-cli2.js b/xdocs/images/svg/diagrams-cli2.js
new file mode 100644
index 00000000..9f1a9a27
--- /dev/null
+++ b/xdocs/images/svg/diagrams-cli2.js
@@ -0,0 +1,291 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+ 
+var Option = new Interface("Option");
+Option.addMethod("process(...)");
+Option.addMethod("canProcess(...)");
+Option.addMethod("getTriggers()");
+Option.addMethod("getPrefixes()");
+Option.addMethod("validate(...)");
+Option.addMethod("helpLines(...)");
+Option.addMethod("appendUsage(...)");
+Option.addMethod("getPreferredName()");
+Option.addMethod("getDescription()");
+Option.addMethod("getId()");
+Option.addMethod("findOption(...)");
+
+var Group = new Interface("Group");
+Group.addMethod("appendUsage(...)");
+Group.addNote("-a | -b | -c | -d | -e");
+
+var Parent = new Interface("Parent");
+Parent.addMethod("processParent(...)");
+Parent.addNote("-f <arg1>");
+
+var Argument = new Interface("Argument");
+Argument.addMethod("getInitialSeparator()");
+Argument.addMethod("processValues(...)");
+Argument.addMethod("validate(...)");
+Argument.addNote("<arg1> [<arg2> ...]");
+
+var CommandLine = new Interface("CommandLine");
+CommandLine.addMethod("hasOption(...)");
+CommandLine.addMethod("getOption(...)");
+CommandLine.addMethod("getValue(...)");
+CommandLine.addMethod("getValues(...)");
+CommandLine.addMethod("getSwitch(...)");
+CommandLine.addMethod("getProperty(...)");
+CommandLine.addMethod("getProperties()");
+CommandLine.addMethod("getOptionCount(...)");
+CommandLine.addMethod("getOptions()");
+CommandLine.addMethod("getOptionTriggers()");
+
+var WriteableCommandLine = new Interface("WriteableCommandLine");
+WriteableCommandLine.addMethod("addOption(...)");
+WriteableCommandLine.addMethod("addValue(...)");
+WriteableCommandLine.addMethod("addSwitch(...)");
+WriteableCommandLine.addMethod("addProperty(...)");
+WriteableCommandLine.addMethod("looksLikeOption(...)");
+
+
+
+
+
+var PropertyOption = new Class("PropertyOption");
+PropertyOption.addAttribute("optionString");
+PropertyOption.addAttribute("description");
+PropertyOption.addAttribute("prefixes");
+PropertyOption.addNote("-Dproperty=value");
+
+var DefaultOption = new Class("DefaultOption");
+DefaultOption.addAttribute("optionString");
+DefaultOption.addAttribute("description");
+DefaultOption.addAttribute("prefixes");
+DefaultOption.addNote("-f (--file, --filelist)");
+
+var Command = new Class("Command");
+Command.addAttribute("preferredName");
+Command.addAttribute("aliases");
+Command.addAttribute("required");
+Command.addAttribute("triggers");
+Command.addNote("update (up, upd)");
+
+var Switch = new Class("Switch");
+Switch.addAttribute("enabledPrefix");
+Switch.addAttribute("disabledPrefix");
+Switch.addAttribute("preferredName");
+Switch.addAttribute("aliases");
+Switch.addAttribute("required");
+Switch.addAttribute("triggers");
+Switch.addAttribute("prefixes");
+Switch.addNote("+d|-d (+display|-display)");
+
+var SourceDestArgument = new Class("SourceDestArgument");
+SourceDestArgument.addAttribute("preferredName");
+SourceDestArgument.addAttribute("aliases");
+SourceDestArgument.addAttribute("required");
+SourceDestArgument.addAttribute("triggers");
+SourceDestArgument.addNote("<src1> <src2> ... <dst>");
+
+
+
+
+var Parser = new Class("Parser");
+Parser.addMethod("parse(...)");
+Parser.addMethod("parseAndHelp(...)");
+Parser.addMethod("setGroup(...)");
+Parser.addMethod("setHelpFormatter(...)");
+Parser.addMethod("setHelpOption(...)");
+Parser.addMethod("setHelpTrigger(...)");
+
+var DefaultingCommandLine = new Class("DefaultingCommandLine");
+DefaultingCommandLine.addMethod("appendCommandLine(...)");
+DefaultingCommandLine.addMethod("insertCommandLine(...)");
+DefaultingCommandLine.addMethod("commandLines()");
+
+var PropertiesCommandLine = new Class("PropertiesCommandLine");
+PropertiesCommandLine.addAttribute("properties");
+PropertiesCommandLine.addNote("java.util.Properties");
+
+var PreferencesCommandLine = new Class("PreferencesCommandLine");
+PreferencesCommandLine.addAttribute("preferences");
+PreferencesCommandLine.addNote("java.util.prefs.Preferences");
+
+
+
+
+
+var ArgumentBuilder = new Class("ArgumentBuilder");
+ArgumentBuilder.addMethod("withId(...)");
+ArgumentBuilder.addMethod("withName(...)");
+ArgumentBuilder.addMethod("withDescription(...)");
+ArgumentBuilder.addMethod("withConsumeRemaining(...)");
+ArgumentBuilder.addMethod("withValidator(...)");
+ArgumentBuilder.addMethod("withMinimum(...)");
+ArgumentBuilder.addMethod("withMaximum(...)");
+ArgumentBuilder.addMethod("withDefault(...)");
+ArgumentBuilder.addMethod("withDefaults(...)");
+ArgumentBuilder.addMethod("withInitialSeparator(...)");
+ArgumentBuilder.addMethod("withSubsequentSeparator(...)");
+ArgumentBuilder.addMethod("create()");
+ArgumentBuilder.addMethod("reset()");
+
+var CommandBuilder = new Class("CommandBuilder");
+CommandBuilder.addMethod("withId(...)");
+CommandBuilder.addMethod("withName(...)");
+CommandBuilder.addMethod("withDescription(...)");
+CommandBuilder.addMethod("withArgument(...)");
+CommandBuilder.addMethod("withChildren(...)");
+CommandBuilder.addMethod("withRequired(...)");
+CommandBuilder.addMethod("create()");
+CommandBuilder.addMethod("reset()");
+
+var DefaultOptionBuilder = new Class("DefaultOptionBuilder");
+DefaultOptionBuilder.addMethod("withId(...)");
+DefaultOptionBuilder.addMethod("withShortName(...)");
+DefaultOptionBuilder.addMethod("withLongName(...)");
+DefaultOptionBuilder.addMethod("withDescription(...)");
+DefaultOptionBuilder.addMethod("withArgument(...)");
+DefaultOptionBuilder.addMethod("withChildren(...)");
+DefaultOptionBuilder.addMethod("withRequired(...)");
+DefaultOptionBuilder.addMethod("create()");
+DefaultOptionBuilder.addMethod("reset()");
+DefaultOptionBuilder.addAttribute("shortPrefix");
+DefaultOptionBuilder.addAttribute("longPrefix");
+DefaultOptionBuilder.addAttribute("burstEnabled");
+
+var DefaultOptionBuilder = new Class("DefaultOptionBuilder");
+DefaultOptionBuilder.addMethod("withId(...)");
+DefaultOptionBuilder.addMethod("withShortName(...)");
+DefaultOptionBuilder.addMethod("withLongName(...)");
+DefaultOptionBuilder.addMethod("withDescription(...)");
+DefaultOptionBuilder.addMethod("withArgument(...)");
+DefaultOptionBuilder.addMethod("withChildren(...)");
+DefaultOptionBuilder.addMethod("withRequired(...)");
+DefaultOptionBuilder.addMethod("create()");
+DefaultOptionBuilder.addMethod("reset()");
+
+var GroupBuilder = new Class("GroupBuilder");
+GroupBuilder.addMethod("withName(...)");
+GroupBuilder.addMethod("withDescription(...)");
+GroupBuilder.addMethod("withOption(...)");
+GroupBuilder.addMethod("withMinimum(...)");
+GroupBuilder.addMethod("withMaximum(...)");
+GroupBuilder.addMethod("create()");
+GroupBuilder.addMethod("reset()");
+
+var PatternBuilder = new Class("PatternBuilder");
+PatternBuilder.addMethod("withPattern(...)");
+PatternBuilder.addMethod("create()");
+PatternBuilder.addMethod("reset()");
+PatternBuilder.addAttribute("groupBuilder");
+PatternBuilder.addAttribute("optionBuilder");
+PatternBuilder.addAttribute("argumentBuilder");
+
+var SwitchBuilder = new Class("SwitchBuilder");
+SwitchBuilder.addMethod("withId(...)");
+SwitchBuilder.addMethod("withName(...)");
+SwitchBuilder.addMethod("withDescription(...)");
+SwitchBuilder.addMethod("withArgument(...)");
+SwitchBuilder.addMethod("withChildren(...)");
+SwitchBuilder.addMethod("withRequired(...)");
+SwitchBuilder.addMethod("create()");
+SwitchBuilder.addMethod("reset()");
+SwitchBuilder.addAttribute("enabledPrefix");
+SwitchBuilder.addAttribute("disabledPrefix");
+
+
+
+var Validator = new Class("Validator");
+Validator.addMethod("validate(...)");
+
+var ClassValidator = new Class("ClassValidator");
+ClassValidator.addAttribute("classLoader");
+ClassValidator.addAttribute("instance");
+ClassValidator.addAttribute("loadable");
+
+var DateValidator = new Class("DateValidator");
+DateValidator.addAttribute("formats");
+DateValidator.addAttribute("minimum");
+DateValidator.addAttribute("maximum");
+
+var EnumValidator = new Class("EnumValidator");
+EnumValidator.addAttribute("validValues");
+
+var FileValidator = new Class("FileValidator");
+FileValidator.addAttribute("directory");
+FileValidator.addAttribute("existing");
+FileValidator.addAttribute("file");
+FileValidator.addAttribute("hidden");
+FileValidator.addAttribute("readable");
+FileValidator.addAttribute("writable");
+
+var FileValidator = new Class("FileValidator");
+FileValidator.addAttribute("format");
+FileValidator.addAttribute("minimum");
+FileValidator.addAttribute("maximum");
+
+var UrlValidator = new Class("UrlValidator");
+UrlValidator.addAttribute("format");
+UrlValidator.addAttribute("minimum");
+UrlValidator.addAttribute("maximum");
+
+
+
+
+var Comparators = new Class("Comparators");
+Comparators.addMethod("chain(...)");
+Comparators.addMethod("commandFirst(...)");
+Comparators.addMethod("commandLast(...)");
+Comparators.addMethod("defaultOptionFirst(...)");
+Comparators.addMethod("defaultOptionLast(...)");
+Comparators.addMethod("groupFirst(...)");
+Comparators.addMethod("groupLast(...)");
+Comparators.addMethod("namedFirst(...)");
+Comparators.addMethod("namedLast(...)");
+Comparators.addMethod("preferredNameFirst(...)");
+Comparators.addMethod("preferredNameLast(...)");
+Comparators.addMethod("requiredFirst(...)");
+Comparators.addMethod("requiredLast(...)");
+Comparators.addMethod("switchFirst(...)");
+Comparators.addMethod("switchLast(...)");
+
+var HelpFormatter = new Class("HelpFormatter");
+HelpFormatter.addMethod("print()");
+HelpFormatter.addMethod("printDivider()");
+HelpFormatter.addMethod("printException()");
+HelpFormatter.addMethod("printFooter()");
+HelpFormatter.addMethod("printGutterLeft()");
+HelpFormatter.addMethod("printGutterRight()");
+HelpFormatter.addMethod("printHeader()");
+HelpFormatter.addMethod("printHelp()");
+HelpFormatter.addMethod("printUsage()");
+HelpFormatter.addAttribute("comparator");
+HelpFormatter.addAttribute("displaySettings");
+HelpFormatter.addAttribute("divider");
+HelpFormatter.addAttribute("exception");
+HelpFormatter.addAttribute("footer");
+HelpFormatter.addAttribute("fullUsageSettings");
+HelpFormatter.addAttribute("group");
+HelpFormatter.addAttribute("gutterCenter");
+HelpFormatter.addAttribute("gutterLeft");
+HelpFormatter.addAttribute("gutterRight");
+HelpFormatter.addAttribute("header");
+HelpFormatter.addAttribute("lineUsageSettings");
+HelpFormatter.addAttribute("pageWidth");
+HelpFormatter.addAttribute("printWriter");
+HelpFormatter.addAttribute("shellCommand");
diff --git a/xdocs/images/svg/diagrams.css b/xdocs/images/svg/diagrams.css
new file mode 100644
index 00000000..d8691da0
--- /dev/null
+++ b/xdocs/images/svg/diagrams.css
@@ -0,0 +1,65 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+ 
+.option .outline, .option polygon.note {
+	fill:rgb(191,255,255);
+}
+.group rect.outline, .group polygon.note {
+	fill:rgb(255,191,191);
+}
+
+.parent rect.outline, .parent polygon.note {
+	fill:rgb(191,255,191);
+}
+.argument rect.outline, .argument polygon.note {
+	fill:rgb(191,191,255);
+}
+.property rect.outline, .property polygon.note {
+	fill:rgb(255,191,255);
+}
+
+.package rect {
+	fill:rgb(255,255,191);
+}
+
+.package rect.inner {
+	fill: rgb(255,255,255);
+	stroke: none;
+}
+
+text.title {
+	text-anchor: middle;
+}
+
+.type text {
+	fill: rgb(0,0,0);
+}
+rect, line, polygon, polyline {
+	stroke:rgb(0,0,0);
+	stroke-width:2;
+	stroke-linejoin: bevel;
+	stroke-linecap: round;
+}
+
+.implements, .extends {
+	fill: none;
+	marker-end: url(util.svg#HollowArrow); 
+}
+
+.implements, .note.connect {
+	stroke-dasharray: 5;
+}
diff --git a/xdocs/images/svg/diagrams.js b/xdocs/images/svg/diagrams.js
new file mode 100644
index 00000000..4e8a5a72
--- /dev/null
+++ b/xdocs/images/svg/diagrams.js
@@ -0,0 +1,368 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+ 
+
+var textHeight = 10;
+var padding = 10;
+var namespace = "http://www.w3.org/2000/svg";
+
+var displayAttributes = true;
+var displayMethods = true;
+var displayNotes = true;
+
+function Type(name){
+	this.width = 160;
+	this.style = "type";
+	
+	this.insert = function(evt){
+		y = 0;
+		y = this.insertOutline(evt,y);
+		y = this.insertName(evt,y);
+		if(displayAttributes==true){
+			y = this.insertAttributes(evt,y);
+		}
+		if(displayMethods==true){
+			y = this.insertMethods(evt,y);
+		}
+		if(displayNotes==true){
+			y = this.insertNotes(evt,y);
+		}
+	}
+	
+	this.height = function(){
+		height = 0;
+		height += this.heightName();
+		if(displayAttributes==true){
+			height += this.heightAttributes();
+		}
+		if(displayMethods==true){
+			height += this.heightMethods();
+		}
+		return height;
+	}
+	
+	
+	
+	
+	
+	
+	this.insertOutline = function(evt,y){
+
+		style = evt.target.getAttributeNS(null, "class");
+		evt.target.setAttributeNS(null,"class",style+" "+this.style);
+
+		e = document.createElementNS(namespace, "rect");
+		e.setAttributeNS(null, "x", 0);
+		e.setAttributeNS(null, "y", 0);
+		e.setAttributeNS(null, "width",  this.width);
+		e.setAttributeNS(null, "height", this.height());
+        	e.setAttributeNS(null, "class", "outline");
+        	evt.target.appendChild(e);
+
+		return y;
+	}
+	
+	
+	
+	
+	
+	
+	
+	this.name = name;
+	
+	this.heightName = function(){
+		return padding * 2 + textHeight;
+	}
+	
+	this.insertName = function(evt,y){
+	
+		y += padding;
+		y += textHeight;
+		
+		e = document.createElementNS(namespace, "text");
+		e.setAttributeNS(null, "x", this.width/2);
+		e.setAttributeNS(null, "y", y);
+		e.setAttributeNS(null, "class", "title");
+		e.appendChild(document.createTextNode(this.name));
+		evt.target.appendChild(e);
+        
+		y += padding;
+	
+		return y;
+	}
+	
+	
+	
+	
+	
+	
+	
+	this.attributeList = new Array();
+	this.attributeCount = 0;
+	
+	this.addAttribute = function(text){
+		this.attributeList[this.attributeCount++]=text;
+	}
+	
+	this.heightAttributes = function(){
+		if(this.attributeCount>0){
+			return padding * 2 + this.attributeCount*textHeight;
+		}
+		else{
+			return padding;
+		}
+	}
+	
+	this.insertAttributes = function(evt,y){
+	
+		e = document.createElementNS(namespace, "line");
+		e.setAttributeNS(null, "x1", 0);
+		e.setAttributeNS(null, "y1", y);
+		e.setAttributeNS(null, "x2", this.width);
+		e.setAttributeNS(null, "y2", y);
+		e.setAttributeNS(null, "class", "divider");
+		evt.target.appendChild(e);
+		
+		y += padding;
+		
+		for(i=0;i<this.attributeCount;++i){
+			y += textHeight;
+			
+			e = document.createElementNS(namespace, "text");
+			e.setAttributeNS(null, "x", padding);
+			e.setAttributeNS(null, "y", y);
+			e.setAttributeNS(null, "class", "attribute");
+			e.appendChild(document.createTextNode(this.attributeList[i]));
+			evt.target.appendChild(e);
+		}
+		
+		if(this.attributeCount>0){
+			y += padding;
+		}
+	
+		return y;
+	}
+	
+	
+	
+	
+	
+	this.methodList = new Array();
+	this.methodCount = 0;
+	
+	this.addMethod = function(text){
+		this.methodList[this.methodCount++]=text;
+	}
+	
+	this.heightMethods = function(){
+		if(this.methodCount>0){
+			return padding * 2 + this.methodCount*textHeight;
+		}
+		else{
+			return padding;
+		}
+	}
+	
+	this.insertMethods = function(evt,y){
+	
+		e = document.createElementNS(namespace, "line");
+		e.setAttributeNS(null, "x1", 0);
+		e.setAttributeNS(null, "y1", y);
+		e.setAttributeNS(null, "x2", this.width);
+		e.setAttributeNS(null, "y2", y);
+		e.setAttributeNS(null, "class", "divider");
+		evt.target.appendChild(e);
+		
+		y += padding;
+		
+		for(i=0;i<this.methodCount;++i){
+			y += textHeight;
+			
+			e = document.createElementNS(namespace, "text");
+			e.setAttributeNS(null, "x", padding);
+			e.setAttributeNS(null, "y", y);
+			e.setAttributeNS(null, "class", "method");
+			e.appendChild(document.createTextNode(this.methodList[i]));
+			evt.target.appendChild(e);
+		}
+		
+		if(this.methodCount>0){
+			y += padding;
+		}
+	
+		return y;
+	}
+	
+	
+	
+	
+	
+	this.noteList = new Array();
+	this.noteCount = 0;
+	
+	this.addNote = function(text){
+		this.noteList[this.noteCount++]=text;
+	}
+	
+	this.insertNotes = function(evt,y){
+		if(this.noteCount>0){
+			joinTop = y;
+		
+			y += padding;
+			
+			e = document.createElementNS(namespace, "line");
+			e.setAttributeNS(null, "x1", this.width/2-padding*2);
+			e.setAttributeNS(null, "y1", y);
+			e.setAttributeNS(null, "x2", this.width/2+padding*2);
+			e.setAttributeNS(null, "y2", joinTop);
+			e.setAttributeNS(null, "class", "note connect");
+			evt.target.appendChild(e);
+			
+			
+			
+			height = this.heightNotes();
+			
+			e = document.createElementNS(namespace, "polygon");
+			e.setAttributeNS(null, "points", "0,"+(y+padding)+" 0,"+(y+height)+" "+this.width+","+(y+height)+" "+this.width+","+y+" "+padding+","+y);
+			e.setAttributeNS(null, "class", "note");
+			evt.target.appendChild(e);
+			
+			e = document.createElementNS(namespace, "polygon");
+			e.setAttributeNS(null, "points", ""+padding+","+y+" 0,"+(y+padding)+" "+padding+","+(y+padding));
+			e.setAttributeNS(null, "class", "note corner");
+			evt.target.appendChild(e);
+			
+			y += padding;
+			
+		
+			for(i=0;i<this.noteCount;++i){
+				y += textHeight;
+
+				e = document.createElementNS(namespace, "text");
+				e.setAttributeNS(null, "x", padding);
+				e.setAttributeNS(null, "y", y);
+				e.setAttributeNS(null, "class", "note");
+				e.appendChild(document.createTextNode(this.noteList[i]));
+				evt.target.appendChild(e);
+			}
+		}
+	}
+	
+	this.heightNotes = function(){
+		if(this.noteCount>0){
+			return padding*2 + this.noteCount*textHeight;
+		}
+	}
+}
+
+function Interface(name){
+	this.superclass = Type;
+	this.superclass(name);
+	delete this.superclass; 
+	this.rounded = true;
+	
+	this.insertOutline = function(evt,y){
+
+		style = evt.target.getAttributeNS(null, "class");
+		evt.target.setAttributeNS(null,"class",style+" "+this.style);
+
+		e = document.createElementNS(namespace, "rect");
+		e.setAttributeNS(null, "x", 0);
+		e.setAttributeNS(null, "y", 0);
+		e.setAttributeNS(null, "width",  this.width);
+		e.setAttributeNS(null, "height", this.height());
+		e.setAttributeNS(null, "rx", padding*1.5);
+		e.setAttributeNS(null, "ry", padding*1.5);
+        	e.setAttributeNS(null, "class", "outline");
+		evt.target.appendChild(e);
+
+		return y;
+	}
+	
+	this.heightAttributes = function(){
+		return 0;
+	}
+	
+	this.insertAttributes = function(evt,y){
+		return y;
+	}
+	
+}
+Interface.prototype = new Type;
+
+function Class(name){
+	this.superclass = Type;
+	this.superclass(name);
+	delete this.superclass; 
+	this.rounded = false;
+}
+Class.prototype = new Type;
+
+
+
+
+function PackageSymbol(name,width,height){
+	this.name = name;
+	this.nameWidth = 150;
+	this.width = width;
+	this.height = height;
+	
+	this.insert = function(evt){
+		
+		style = evt.target.getAttributeNS(null, "class");
+		evt.target.setAttributeNS(null,"class",style+" package");
+		
+		first = evt.target.getFirstChild();
+		
+		e = document.createElementNS(namespace, "rect");
+		e.setAttributeNS(null, "x", 0);
+		e.setAttributeNS(null, "y", 0);
+		e.setAttributeNS(null, "width", this.nameWidth);
+		e.setAttributeNS(null, "height", textHeight+padding);
+		e.setAttributeNS(null, "class", "outline");
+		e.appendChild(document.createTextNode(this.name));
+		evt.target.insertBefore(e,first);
+		
+		e = document.createElementNS(namespace, "text");
+		e.setAttributeNS(null, "x", this.nameWidth/2);
+		e.setAttributeNS(null, "y", textHeight+padding/2);
+		e.setAttributeNS(null, "class", "title");
+		e.appendChild(document.createTextNode(this.name));
+		evt.target.insertBefore(e,first);
+		
+		e = document.createElementNS(namespace, "rect");
+		e.setAttributeNS(null, "x", 0);
+		e.setAttributeNS(null, "y", textHeight+padding);
+		e.setAttributeNS(null, "width", this.width);
+		e.setAttributeNS(null, "height", this.height-textHeight-padding);
+		e.setAttributeNS(null, "class", "outline");
+		e.appendChild(document.createTextNode(this.name));
+		evt.target.insertBefore(e,first);
+		
+		e = document.createElementNS(namespace, "rect");
+		e.setAttributeNS(null, "x", padding);
+		e.setAttributeNS(null, "y", textHeight+padding*2);
+		e.setAttributeNS(null, "width", this.width-padding*2);
+		e.setAttributeNS(null, "height", this.height-textHeight-padding*3);
+		e.setAttributeNS(null, "class", "inner");
+		e.appendChild(document.createTextNode(this.name));
+		evt.target.insertBefore(e,first);
+		
+		
+	}
+}
+
diff --git a/xdocs/images/svg/options.svg b/xdocs/images/svg/options.svg
new file mode 100644
index 00000000..cdb5160f
--- /dev/null
+++ b/xdocs/images/svg/options.svg
@@ -0,0 +1,66 @@
+<?xml version="1.0" standalone="no"?>
+<?xml-stylesheet type="text/css" href="diagrams.css" ?>
+<!--
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+-->
+<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
+<svg id="root" width="460" height="530" x="0" y="0">
+
+<script type="text/ecmascript" xlink:href="diagrams.js"/>
+<script type="text/ecmascript" xlink:href="diagrams-cli2.js"/>
+<script type="text/ecmascript">
+
+displayAttributes = false;
+displayMethods = false;
+
+</script>
+
+<g 
+	onload="new PackageSymbol('org.apache.commons.cli2',440,510).insert(evt)" 
+	transform="translate(10,10)"><g transform="translate(10,30)">
+	
+	<g transform="translate(  0, 30)" class="option"   onload="Option.insert(evt);" />
+	<g transform="translate( 50,120)" class="group"    onload="Group.insert(evt);"/>
+	<g transform="translate( 50,210)" class="parent"   onload="Parent.insert(evt);"/>
+	<g transform="translate( 50,390)" class="argument" onload="Argument.insert(evt);"/>
+	
+	
+	<g 
+		onload="new PackageSymbol('option',180,470).insert(evt)" 
+		transform="translate(240,0)"><g transform="translate(10,30)">
+		
+		<g transform="translate(0,  0)" class="option"   onload="PropertyOption.insert(evt);" />
+		<g transform="translate(0, 90)" class="parent"   onload="DefaultOption.insert(evt);" />
+		<g transform="translate(0,180)" class="parent"   onload="Command.insert(evt);" />
+		<g transform="translate(0,270)" class="parent"   onload="Switch.insert(evt);" />
+		<g transform="translate(0,360)" class="argument" onload="SourceDestArgument.insert(evt);" />
+	</g></g>
+</g></g>
+
+<polyline class="implements" points="270,85 190,85 "/>
+
+<polyline class="implements" points="270,175 250,175 250,265 240,265"/>
+<polyline class="implements" points="270,265 250,265 250,265 240,265"/>
+<polyline class="implements" points="270,355 250,355 250,265 240,265"/>
+
+<polyline class="implements" points="270,445 240,445 "/>
+
+<polyline class="extends" points="70,445 40,445 40,110"/>
+<polyline class="extends" points="70,265 40,265 40,110"/>
+<polyline class="extends" points="70,175 40,175 40,110"/>
+
+
+</svg>
\ No newline at end of file
diff --git a/xdocs/images/svg/util.svg b/xdocs/images/svg/util.svg
new file mode 100644
index 00000000..b86d760c
--- /dev/null
+++ b/xdocs/images/svg/util.svg
@@ -0,0 +1,47 @@
+<?xml version="1.0" standalone="no"?>
+<!--
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+-->
+<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
+<svg width="1" height="1">
+	<defs>
+        <marker 
+            id="FilledArrow"
+            viewBox="0 0 10 10" refX="0" refY="5" 
+            markerUnits="strokeWidth"
+            markerWidth="5" markerHeight="14"
+            orient="auto"
+            >
+            <path 
+                d="M 10 0 L 0 5 L 10 10 L 10 0 Z" 
+                fill="rgb(0,0,0)"
+                />
+        </marker>
+        <marker 
+            id="HollowArrow"
+            markerUnits="userSpaceOnUse"
+            rexX="10" refY="5"
+            markerWidth="20" markerHeight="20"
+            orient="auto"
+            >
+            <path 
+                d="M 10 5 L 1 0 L 1 10 L 10 5 " 
+                fill="rgb(255,255,255)"
+                stroke="rgb(0,0,0)"
+                />
+        </marker>
+	</defs>	
+</svg>
\ No newline at end of file
diff --git a/xdocs/index.xml b/xdocs/index.xml
new file mode 100644
index 00000000..215bc31d
--- /dev/null
+++ b/xdocs/index.xml
@@ -0,0 +1,191 @@
+<?xml version="1.0"?>
+<!--
+  Licensed to the Apache Software Foundation (ASF) under one
+  or more contributor license agreements.  See the NOTICE file
+  distributed with this work for additional information
+  regarding copyright ownership.  The ASF licenses this file
+  to you under the Apache License, Version 2.0 (the
+  "License"); you may not use this file except in compliance
+  with the License.  You may obtain a copy of the License at
+ 
+  http://www.apache.org/licenses/LICENSE-2.0
+ 
+  Unless required by applicable law or agreed to in writing,
+  software distributed under the License is distributed on an
+  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+  KIND, either express or implied.  See the License for the
+  specific language governing permissions and limitations
+  under the License.
+-->
+<document>
+
+  <properties>
+    <title>Home</title>
+    <author email="dev@commons.apache.org">commons-dev</author>
+  </properties>
+
+  <body>
+    <section name="Commons CLI">
+      <p>
+        The Apache Commons CLI library provides an API for parsing command line options passed to programs.
+        It's also able to print help messages detailing the options available for a command line tool.
+      </p>
+      <p>
+        Commons CLI supports different types of options:
+      </p>
+      <ul>
+        <li>POSIX like options (ie. <code>tar -zxvf foo.tar.gz</code>)</li>
+        <li>GNU like long options (ie. <code>du --human-readable --max-depth=1</code>)</li>
+        <li>Java like properties (ie. <code>java -Djava.awt.headless=true -Djava.net.useSystemProxies=true Foo</code>)</li>
+        <li>Short options with value attached (ie. <code>gcc -O2 foo.c</code>)</li>
+        <li>long options with single hyphen (ie. <code>ant -projecthelp</code>)</li>
+      </ul>
+      <p>
+        A typical help message displayed by Commons CLI looks like this:
+      </p>
+      <source>
+usage: ls
+ -A,--almost-all          do not list implied . and ..
+ -a,--all                 do not hide entries starting with .
+ -B,--ignore-backups      do not list implied entried ending with ~
+ -b,--escape              print octal escapes for nongraphic characters
+    --block-size &lt;SIZE>   use SIZE-byte blocks
+ -c                       with -lt: sort by, and show, ctime (time of last
+                          modification of file status information) with
+                          -l:show ctime and sort by name otherwise: sort
+                          by ctime
+ -C                       list entries by columns
+      </source>
+      <p>
+        Check out the <a href="introduction.html">introduction</a> page for a detailed presentation.
+      </p>
+    </section>
+
+    <section name="1.x vs 2.x?">
+      <p>Commons CLI 1.0 was formed from the merger of ideas and code from three different libraries -
+      Werken, Avalon and Optz. In dealing with the bugs and the feature requests a freshly designed and not
+      backwards compatible CLI 2 was created, but never finished or released. Since then bugfix releases
+      have been made for CLI 1.</p>
+
+      <p>The current plan is to maintain the 1.x line until CLI 2 is officially released. The 2.x design is generally
+      preferred and is in use, however there is no current activity to make a 2.0 release. To this end, the 1.2
+      release is recommended to most users while the 2.x line is recommended for anyone interested in helping to get
+      this better API released.</p>
+    </section>
+
+    <section name="Documentation">
+      <p>
+        A full <a href="introduction.html">User's Guide</a> is available
+        as are various <a href="project-reports.html">project reports</a>.
+      </p>
+      <p>
+        The Javadoc API documents are available online:
+      </p>
+      <ul>
+        <li><a href="api-release/index.html">CLI 1.2 (current release)</a></li>
+        <li><a href="api-1.1/index.html">CLI 1.1</a></li>
+        <li><a href="api-1.0/index.html">CLI 1.0</a></li>
+        <li><a href="apidocs/index.html">CLI 2.0-SNAPSHOT (latest SVN)</a></li>
+      </ul>
+      <p>
+        The <a href="source-repository.html">Subversion repository</a> can be
+        <a href="http://svn.apache.org/viewvc/commons/proper/cli/trunk/">browsed</a>.
+      </p>
+    </section>
+
+    <section name="Releases">
+      <p>
+        The latest version is v1.2. -
+        <a href="http://commons.apache.org/downloads/download_cli.cgi">Download now!</a>
+        <br/>
+        The <a href="release_1_2.html">release notes</a> are also available.
+      </p>
+      <p>
+        For previous releases, see the <a href="http://archive.apache.org/dist/commons/cli/">Apache Archive</a>.
+      </p>
+    </section>
+
+    <section name="Support">
+      <p>The <a href="mail-lists.html">commons mailing lists</a> act as the main support forum. The user list
+      is suitable for most library usage queries. The dev list is intended for the development discussion. Please
+      remember that the lists are shared between all commons components, so prefix your email subject by
+      <code>[cli]</code>.</p>
+
+      <p>Issues may be reported via the <a href="issue-tracking.html">ASF JIRA</a>.</p>
+    </section>
+
+
+      <!--      <p>
+              CLI1 was formed by the merger of ideas and code from three different
+              libraries and allows most simple interfaces to be modelled.  CLI1
+              became increasingly difficult to maintain and develop further and so
+              CLI2 has been developed with the goals of clearer responsibilities and
+              being more flexible.  The intention is that CLI2 should be able to
+              model a far greater selection of interfaces and do so more completely,
+              validating as much as possible.
+            </p>
+            <p>
+              The redesigned CLI2 is rooted in the <code>org.apache.commons.cli2</code>
+              package and the distribution retains the <code>org.apache.commons.cli</code>
+              package so that the upgrade doesn't break old code.  The CLI1 package
+              should be regarded as deprecated to encourage the transition to the
+              more flexible CLI2 framework but minor bug fixes and patches may be
+              accepted to ensure that CLI1 based applications continue to function as
+              expected.
+            </p>
+            <p>
+              The rest of the documentation is split into the following three sections:
+              <ul>
+                <li><a href="manual/index.html">CLI2</a> - a reference manual for version 2</li>
+                <li><a href="introduction.html">CLI1</a> - documentation for version 1 </li>
+                <li><a href="examples/index.html">Examples</a> - a selection of worked examples demonstrating CLI2 features</li>
+              </ul>
+            </p>
+            <p>
+              The latest version of this documentation is available on the web:
+              <ul>
+                <li><a href="http://commons.apache.org/cli/">http://commons.apache.org/cli/</a></li>
+                <li>
+                  <a href="http://commons.apache.org/cli/commons-cli.pdf">http://commons.apache.org/cli/commons-cli.pdf</a>
+                  <a href="http://commons.apache.org/cli/commons-cli.pdf"><img border="0" src="images/pdf.gif"/></a>
+                </li>
+              </ul>
+            </p>
+          </section>
+          <section name="Dependancies">
+            <p>
+              The generated list of <a href="dependencies.html">dependencies</a>
+              lists the libraries needed to compile and test Commons CLI.  To use
+              the precompiled distribution none of these dependancies are strictly
+              necessary.  The following is a breakdown of what is required and when:
+            </p>
+            <table>
+              <tr>
+                <th>Library</th><th>Usage</th>
+              </tr>
+              <tr>
+                <td>Java 1.2</td>
+                <td>This is the minimum java level needed to use CLI2</td>
+              </tr>
+              <tr>
+                <td>Java 1.4</td>
+                <td>Needed if the PreferencesCommandLine is needed</td>
+              </tr>
+              <tr>
+                <td>commons-lang</td>
+                <td>Needed if the CLI1 package is being used</td>
+              </tr>
+              <tr>
+                <td>jdepend</td>
+                <td>Needed to build and test CLI2 only</td>
+              </tr>
+              <tr>
+                <td>junit</td>
+                <td>Needed to build and test CLI1 and CLI2</td>
+              </tr>
+            </table>
+          </section>
+      -->
+  </body>
+
+</document>
diff --git a/xdocs/introduction.xml b/xdocs/introduction.xml
new file mode 100644
index 00000000..0557d37a
--- /dev/null
+++ b/xdocs/introduction.xml
@@ -0,0 +1,101 @@
+<?xml version="1.0"?>
+<!--
+  Licensed to the Apache Software Foundation (ASF) under one
+  or more contributor license agreements.  See the NOTICE file
+  distributed with this work for additional information
+  regarding copyright ownership.  The ASF licenses this file
+  to you under the Apache License, Version 2.0 (the
+  "License"); you may not use this file except in compliance
+  with the License.  You may obtain a copy of the License at
+ 
+  http://www.apache.org/licenses/LICENSE-2.0
+ 
+  Unless required by applicable law or agreed to in writing,
+  software distributed under the License is distributed on an
+  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+  KIND, either express or implied.  See the License for the
+  specific language governing permissions and limitations
+  under the License.
+-->
+<document>
+
+  <properties>
+    <author email="dev@commons.apache.org">commons-dev</author>
+    <title>Introduction</title>
+  </properties>
+
+  <body>
+    <section name="Introduction">
+      <p>
+        There are three stages to command line processing.  They are the
+        definition, parsing and interrogation stages.  The following 
+        sections will discuss each of these stages in turn, and discuss how
+        to implement them with CLI.
+      </p>
+    </section>
+    <section name="Definition Stage">
+      <p>
+        Each command line must define the set of options that will be used 
+        to define the interface to the application.
+      </p>
+      <p>
+        CLI uses the <a href="api-1.2/org/apache/commons/cli/Options.html">
+        Options</a> class, as a container for 
+        <a href="api-1.2/org/apache/commons/cli/Option.html">
+        Option</a> instances.  There are two ways to create
+        <code>Option</code>s in CLI.  One of them is via the constructors,
+        the other way is via the factory methods defined in 
+        <code>Options</code>.
+      </p>
+      <p>
+        The <a href="usage.html">Usage Scenarios</a> document provides
+        examples how to create an <code>Options</code> object and also
+        provides some real world examples.
+      </p>
+      <p>
+        The result of the definition stage is an <code>Options</code> 
+        instance.
+      </p>
+    </section>
+    <section name="Parsing Stage">
+      <p>
+        The parsing stage is where the text passed into the 
+        application via the command line is processed.  The text is 
+        processed according to the rules defined by the parser 
+        implementation.
+      </p>
+      <p>
+        The <code>parse</code> method defined on 
+        <a href="api-1.2/org/apache/commons/cli/CommandLineParser.html">
+        CommandLineParser</a> takes an <code>Options</code>
+        instance and a <code>String[]</code> of arguments and 
+        returns a 
+        <a href="api-1.2/org/apache/commons/cli/CommandLine.html">
+        CommandLine</a>.
+      </p>
+      <p>
+        The result of the parsing stage is a <code>CommandLine</code>
+        instance.
+      </p>
+    </section>
+    <section name="Interrogation Stage">
+      <p>
+        The interrogation stage is where the application querys the
+        <code>CommandLine</code> to decide what execution branch to
+        take depending on boolean options and uses the option values
+        to provide the application data.
+      </p>
+      <p>
+        This stage is implemented in the user code.  The accessor methods 
+        on <code>CommandLine</code> provide the interrogation capability
+        to the user code.
+      </p>
+      <p>
+        The result of the interrogation stage is that the user code 
+        is fully informed of all the text that was supplied on the command
+        line and processed according to the parser and <code>Options</code>
+        rules.
+      </p>
+    </section>
+  </body>
+</document>
diff --git a/xdocs/issue-tracking.xml b/xdocs/issue-tracking.xml
new file mode 100644
index 00000000..c7e749c4
--- /dev/null
+++ b/xdocs/issue-tracking.xml
@@ -0,0 +1,102 @@
+<?xml version="1.0"?>
+<!--
+Licensed to the Apache Software Foundation (ASF) under one or more
+contributor license agreements.  See the NOTICE file distributed with
+this work for additional information regarding copyright ownership.
+The ASF licenses this file to You under the Apache License, Version 2.0
+(the "License"); you may not use this file except in compliance with
+the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing, software
+distributed under the License is distributed on an "AS IS" BASIS,
+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+See the License for the specific language governing permissions and
+limitations under the License.
+-->
+<!--
+ +======================================================================+
+ |****                                                              ****|
+ |****      THIS FILE IS GENERATED BY THE COMMONS BUILD PLUGIN      ****|
+ |****                    DO NOT EDIT DIRECTLY                      ****|
+ |****                                                              ****|
+ +======================================================================+
+ | TEMPLATE FILE: issue-tracking-template.xml                           |
+ | commons-build-plugin/trunk/src/main/resources/commons-xdoc-templates |
+ +======================================================================+
+ |                                                                      |
+ | 1) Re-generate using: mvn commons:jira-page                          |
+ |                                                                      |
+ | 2) Set the following properties in the component's pom:              |
+ |    - commons.jira.id  (required, alphabetic, upper case)             |
+ |    - commons.jira.pid (required, numeric)                            |
+ |                                                                      |
+ | 3) Example Properties                                                |
+ |                                                                      |
+ |  <properties>                                                        |
+ |    <commons.jira.id>MATH</commons.jira.id>                           |
+ |    <commons.jira.pid>12310485</commons.jira.pid>                     |
+ |  </properties>                                                       |
+ |                                                                      |
+ +======================================================================+
+-->
+<document>
+  <properties>
+    <title>Commons CLI Issue tracking</title>
+    <author email="dev@commons.apache.org">Commons Documentation Team</author>
+  </properties>
+  <body>
+
+    <section name="Commons CLI Issue tracking">
+      <p>
+      Commons CLI uses <a href="http://issues.apache.org/jira/">ASF JIRA</a> for tracking issues.
+      See the <a href="http://issues.apache.org/jira/browse/CLI">Commons CLI JIRA project page</a>.
+      </p>
+
+      <p>
+      To use JIRA you may need to <a href="http://issues.apache.org/jira/secure/Signup!default.jspa">create an account</a>
+      (if you have previously created/updated Commons issues using Bugzilla an account will have been automatically
+      created and you can use the <a href="http://issues.apache.org/jira/secure/ForgotPassword!default.jspa">Forgot Password</a>
+      page to get a new password).
+      </p>
+
+      <p>
+      If you would like to report a bug, or raise an enhancement request with
+      Commons CLI please do the following:
+      <ol>
+        <li><a href="http://issues.apache.org/jira/secure/IssueNavigator.jspa?reset=true&amp;pid=12310463&amp;sorter/field=issuekey&amp;sorter/order=DESC&amp;status=1&amp;status=3&amp;status=4">Search existing open bugs</a>.
+            If you find your issue listed then please add a comment with your details.</li>
+        <li><a href="mail-lists.html">Search the mailing list archive(s)</a>.
+            You may find your issue or idea has already been discussed.</li>
+        <li>Decide if your issue is a bug or an enhancement.</li>
+        <li>Submit either a <a href="http://issues.apache.org/jira/secure/CreateIssueDetails!init.jspa?pid=12310463&amp;issuetype=1&amp;priority=4&amp;assignee=-1">bug report</a>
+            or <a href="http://issues.apache.org/jira/secure/CreateIssueDetails!init.jspa?pid=12310463&amp;issuetype=4&amp;priority=4&amp;assignee=-1">enhancement request</a>.</li>
+      </ol>
+      </p>
+
+      <p>
+      Please also remember these points:
+      <ul>
+        <li>the more information you provide, the better we can help you</li>
+        <li>test cases are vital, particularly for any proposed enhancements</li>
+        <li>the developers of Commons CLI are all unpaid volunteers</li>
+      </ul>
+      </p>
+
+      <p>
+      For more information on subversion and creating patches see the
+      <a href="http://www.apache.org/dev/contributors.html">Apache Contributors Guide</a>.
+      </p>
+
+      <p>
+      You may also find these links useful:
+      <ul>
+        <li><a href="http://issues.apache.org/jira/secure/IssueNavigator.jspa?reset=true&amp;pid=12310463&amp;sorter/field=issuekey&amp;sorter/order=DESC&amp;status=1&amp;status=3&amp;status=4">All Open Commons CLI bugs</a></li>
+        <li><a href="http://issues.apache.org/jira/secure/IssueNavigator.jspa?reset=true&amp;pid=12310463&amp;sorter/field=issuekey&amp;sorter/order=DESC&amp;status=5&amp;status=6">All Resolved Commons CLI bugs</a></li>
+        <li><a href="http://issues.apache.org/jira/secure/IssueNavigator.jspa?reset=true&amp;pid=12310463&amp;sorter/field=issuekey&amp;sorter/order=DESC">All Commons CLI bugs</a></li>
+      </ul>
+      </p>
+    </section>
+  </body>
+</document>
diff --git a/xdocs/manual/index.xml b/xdocs/manual/index.xml
new file mode 100644
index 00000000..b9c83f39
--- /dev/null
+++ b/xdocs/manual/index.xml
@@ -0,0 +1,190 @@
+<?xml version="1.0"?>
+<!--
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
+<document>
+    
+    <properties>
+        <author email="dev@commons.apache.org">commons-dev</author>
+        <title>CLI2 - Overview</title>
+    </properties>
+    
+    <body>
+        <section name="Overview">
+            <p> 
+                CLI Breaks down command line processing into three distinct phases, the
+                first of which is to create a model of the command line you wish to process. The
+                second phase is arguably the most important as it involves processing the
+                command line arguments of the application according to the model created.
+                Finally the parsed command line is available to be queried by the
+                application proper.  The phases are discussed in more detail below.
+            </p>
+            <subsection name="Modelling the interface">
+                <p> 
+                    In CLI2 a command line is modelled as a Group composed of many Options.
+                    There are a number different Option implementations available to be
+                    used including DefaultOption, Switch and Command which may all have an
+                    Argument and/or a Group of child options associated with them. An
+                    example of where this parental relationship could be used is where you
+                    need to allow for the following scenario where one option
+                    only makes sense within the context of another:
+                </p>
+                <p><code>myapp --output path/to/file --xml</code></p>
+                <p>
+                    Typically this command line would be modelled as a DefaultOption
+                    (<code>--output</code>) with an Argument (to capture
+                    <code>path/to/file</code>) and a Group of children consisting of a
+                    DefaultOption (<code>--xml</code>) since the format only applies if the 
+                    output is specified
+                </p>
+                <p>
+                    The various Option implementations provided need careful configuration 
+                    and constructors take a complex set of arguments.  To ease the construction 
+                    of these options *Builder classes (e.g. DefaultOptionBuilder, GroupBuilder 
+                    and ArgumentBuilder) have been supplied following the 
+                    <a href="http://c2.com/cgi/wiki?BuilderPattern">Builder Pattern</a> 
+                    which essentially involves using the DefaultOptionBuilder class to create 
+                    instances of DefaultOption using descriptive method calls instead of 
+                    anonymous arguments to a constructor.  The following example demonstrates how 
+                    the command line shown above could be modelled in code:
+                </p>
+                <source>
+DefaultOptionBuilder oBuilder = new DefaultOptionBuilder();
+ArgumentBuilder aBuilder = new ArgumentBuilder();
+GroupBuilder gBuilder = new GroupBuilder();
+
+DefaultOption xmlOption = 
+    oBuilder
+        .withLongName("xml")
+        .withDescription("Output using xml format")
+        .create();
+
+Argument pathArgument = 
+    aBuilder
+        .withName("path")
+        .withMinimum(1)
+        .withMaximum(1)
+        .create();
+
+Group outputChildren = 
+    gBuilder
+        .withOption(xmlOption)
+        .create();
+
+Option outputOption = 
+    oBuilder
+        .withLongName("output")
+        .withDescription("Outputs to a file")
+        .withArgument(pathArgument)
+        .withChildren(outputChildren)
+        .create();
+                </source>
+                <p>
+                    The <a href="options.html">Options</a> and 
+                    <a href="builders.html">Builders</a> sections of the manual discuss these 
+                    features in greater detail.
+                </p>
+                <p>
+                    Once all the options have been composed into a Group modelling the complete 
+                    option model then we are ready to parse a command line.
+                </p>
+            </subsection>
+            <subsection name="Parsing the command line">
+                <p>
+                    The Parser class can be used to parse an array of arguments against the 
+                    option model into a CommandLine.  The parsing is driven by the 
+                    <code>parse(String[])</code> method which delegates to the option model to do 
+                    the actual parsing, with each Option implementation providing its own parsing 
+                    logic.  The <code>parseAndHelp(String[])</code> method attempts to simplify 
+                    the use of the former method by automatically handling any <code>--help</code> 
+                    options and displaying error messages where appropriate.
+                </p>
+                <p>
+                    The HelpFormatter class is designed to allow the option model to be described 
+                    to the user in a manner typical of command line applications.  The 
+                    HelpFormatter is designed with flexibility in mind so it should be possible to 
+                    control exactly which structures are described to the user and what level of 
+                    detail to use.  
+                </p>
+                <p>
+                    Any errors that occur while parsing result in an OptionException being thrown 
+                    which attempt to provide a meaningful message describing the problem to the 
+                    user.  Parser's <code>parseAndHelp(String[])</code> method catches any 
+                    OptionException and uses the HelpFormatter to display to the user:
+                </p>
+                <source>
+// configure the options
+Group options = ...;
+                    
+// configure a HelpFormatter
+HelpFormatter hf = new HelpFormatter();
+
+// configure a parser
+Parser p = new Parser();
+p.setGroup(options);
+p.setHelpFormatter(hf);
+p.setHelpTrigger("--help");
+CommandLine cl = p.parseAndHelp(new String[]{});
+                    
+// abort application if no CommandLine was parsed
+if(cl==null) {
+    System.exit(-1);
+}
+                </source>
+                
+                <p>
+                    Assuming that OptionExceptions have been averted then the next step is to have 
+                    the application query the resulting CommandLine instance.
+                </p>
+            </subsection>
+            <subsection name="Querying the result">
+                <p>
+                    The CommandLine interface provides lots of ways to look up information either 
+                    by Option instance or by a String representing any of the forms valid on the 
+                    command line.  For example if an option is configured with multiple names 
+                    (e.g. <code>-?</code>, <code>-h</code>, <code>--help</code>) then any of the 
+                    those strings can be used to look up the value irrespective of which form 
+                    appeared on the command line.
+                </p>
+                <p>
+                    The <code>hasOption()</code> family of methods can be used to simply test for 
+                    the presence of options, while the <code>getValues()</code> family of methods 
+                    can be used to retrieve the values associated with Arguments.  The status of 
+                    any Switch options can be detected through the use of <code>getSwitch()</code> 
+                    methods which will return a Boolean if set or null otherwise:
+                </p>
+                <source>
+// if we have --output option
+if(cl.hasOption("--output")) {
+    // grab the path
+    String path = (String)cl.getValue("--output");
+    // grab the format
+    boolean xml = cl.hasOption("--xml");
+    // configure the application's output
+    configureOutput(path,xml);
+}
+                </source>
+                <p>
+                    To enable complex CommandLine configurations alternative implementations are 
+                    provided that can wrap a Properties or Preferences instance as a CommandLine.
+                    These can then be combined with the DefaultingCommandLine and the parsed 
+                    CommandLine to provide a variety of different defaulting and overriding 
+                    scenarios.  
+                </p>
+            </subsection>
+        </section>
+    </body>
+</document>
diff --git a/xdocs/manual/options.xml b/xdocs/manual/options.xml
new file mode 100644
index 00000000..f61be976
--- /dev/null
+++ b/xdocs/manual/options.xml
@@ -0,0 +1,377 @@
+<?xml version="1.0"?>
+<!--
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
+<document>
+
+  <properties>
+    <author email="dev@commons.apache.org">commons-dev</author>
+    <title>CLI2 - Options</title>
+  </properties>
+
+  <body>
+    <section name="Options">
+      <subsection name="Option">
+      <p>
+        In CLI2 every element of the command line interface is modelled as an 
+        Option instance, and has the following readonly properties that are 
+        inherited by all other Option implementations:
+      </p>
+      <table>
+        <tr>
+          <th>Property</th><th>Type</th><th>Description</th>
+        </tr>
+        <tr>
+          <td>id</td>
+          <td>int</td>
+          <td>
+            Some people find it useful to give each option a unique identifer 
+            so that they can use the options within a java <code>switch</code>
+            statement.  This value is entirely optional and it is up to the 
+            user to ensure any uniqueness.
+          </td>
+        </tr>
+        <tr>
+          <td>preferredName</td>
+          <td>String</td>
+          <td>
+            Every option has a preferred name that can be used for the minimal 
+            <code>toString()</code> implementation.  Options can usually have 
+            many additional names too.
+          </td>
+        </tr>
+        <tr>
+          <td>required</td>
+          <td>boolean</td>
+          <td>
+            True here indicates that the command line is invalid if this 
+            option doesn't appear on it.
+          </td>
+        </tr>
+      </table>
+      </subsection>
+      
+      <subsection name="Group">
+      <source>-a|-b|-c|-d|-e</source>
+      <p>
+        Groups are possible the least intuitive form of Option since they 
+        actually represent a collection of other options.  Most member Options 
+        can appear on a command line in any order with the exception of 
+        Arguments; they must appear in the given order as there is no other 
+        way to identify one from another.  An additional restriction of the 
+        standard Group implementation is that only the final argument can have 
+        variable size (differing minimum and maximum).
+      </p>
+      <p>
+        Groups inherit all the properties of Options.
+      </p>
+      <table>
+        <tr>
+          <th>Property</th><th>Type</th><th>Description</th>
+        </tr>
+        <tr>
+          <td>minimum</td>
+          <td>int</td>
+          <td>
+            The minimum number of member options that must be present on the 
+            command line for this group to be valid.  Typically this will 
+            either be 0 where the group is optional or 1 to indicate at least 
+            one of them is needed.  This value does not count anonymous 
+            options.
+          </td>
+        </tr>
+        <tr>
+          <td>maximum</td>
+          <td>int</td>
+          <td>
+            The maximum number of options from this Group that can appear in a
+            command line.  This would typically be used if you wanted to 
+            create an exclusive group where a maximum of 1 member is allowed 
+            to appear.  This value does not count anonymous options.
+          </td>
+        </tr>
+      </table>
+      </subsection>
+      
+      <subsection name="Argument">
+      <source>&lt;arg1&gt; [&lt;arg2&gt; ...]</source>
+      <p>
+        Arguments are used to pass in values from the command line, for 
+        example to pass in a list of files to be operated on.  Arguments can 
+        appear in two different situations within an option model, the most 
+        frequently used situation is where the value found should be associated 
+        with a Parent option; in this situation the value is expected to 
+        immediately follow the Parent in the command line.  The second 
+        scenario where Arguments are used is when they are added to a Group 
+        directly rather than being composed with a Parent first.  These 
+        'anonymous' arguments have nothing that identifies them on the 
+        command line other than the order in which they appear.
+      </p>
+      <p>
+        Multiple values may be parsed by a single argument and the minimum 
+        and maximum attributes can used to control their validity, 
+        additionally a Validator may be used to identify whether individual 
+        values are valid.  In some situations it can be useful to parse the 
+        supplied string into multiple values and so the initialSeparator and 
+        subsequentSeparator attributes can be used; assuming an 
+        initialSeparator of '=' and a subsequentSeparator of ',', the 
+        string '--file=a,b,c' would be split into a parent option '--file', 
+        and the values 'a', 'b' and 'c'.
+      </p>
+      <p>
+        Arguments inherit all the properties of Options.
+      </p>
+      <table>
+        <tr>
+          <th>Property</th><th>Type</th><th>Description</th>
+        </tr>
+        <tr>
+          <td>minimum</td>
+          <td>int</td>
+          <td>
+            The minimum number of values that must be present for the 
+            Argument to be valid.  The default of 0 implies that the argument 
+            is optional.
+          </td>
+        </tr>
+        <tr>
+          <td>maximum</td>
+          <td>int</td>
+          <td>
+            The maximum number of values that can appear in a valid command 
+            line.  A value less than minimum is not allowed.
+          </td>
+        </tr>
+        <tr>
+          <td>consumeRemaining</td>
+          <td>String</td>
+          <td>
+            A string that can be used to avoid parsing of the remaining 
+            values as options.  Typically '--' is used and allows file names 
+            to be used as values even though they look like options.
+          </td>
+        </tr>
+        <tr>
+          <td>initialSeparator</td>
+          <td>char</td>
+          <td>
+          	A character used to indicate the end of the parent option and the 
+          	beginning of the values.
+          </td>
+        </tr>
+        <tr>
+          <td>subsequentSeparator</td>
+          <td>char</td>
+          <td>
+          	A character used to indicate the boundry between two values in a 
+          	single string.
+          </td>
+        </tr>
+        <tr>
+          <td>defaultValue</td>
+          <td>Object</td>
+          <td>
+          	A value to be used when no other is supplied.
+          </td>
+        </tr>
+      </table>
+      </subsection>
+      
+      <subsection name="Parent">
+      <source>--parent &lt;arg&gt; --child1|--child2</source>
+      <p>
+        Parent options allow an argument to be tied to some othe option, 
+        additionally a group of child options can also be added to the parent.
+        The argument and child options are only valid in the presence of the 
+        parent option, must appear on the command line with the child options 
+        following the argument.
+      </p>
+      <p>
+        Parents are not usable in themselves but DefaultOption, Switch and 
+        Command all inherit the parent features.  Parents inherit the 
+        properties of Options.
+      </p>
+      <table>
+        <tr>
+          <th>Property</th><th>Type</th><th>Description</th>
+        </tr>
+        <tr>
+          <td>argument</td>
+          <td>Argument</td>
+          <td>
+            The Argument to delegate value processing to.  This property is 
+            optional.
+          </td>
+        </tr>
+        <tr>
+          <td>children</td>
+          <td>Group</td>
+          <td>
+            The Group to delegate child processing to.  This property is 
+            optional.
+          </td>
+        </tr>
+      </table>
+      </subsection>
+      
+      
+      
+      <subsection name="DefaultOption">
+      <source>--file (-f)</source>
+      <p>
+        The default option allows an option to exist with both long and short 
+        aliases.  Ordinarily the short aliases would be a single character 
+        long and allow a series of options <code>-x -v -f</code> to be 
+        concatenated into a single element <code>-xvf</code> on the command 
+        line.  This bursting of concatenated options can be turned off if 
+        necessary and the single character restriction can be ignored where 
+        bursting is not required.
+      </p>
+      <p>
+        DefaultOptions inherit all the properties of Options and Parents.
+      </p>
+      <table>
+        <tr>
+          <th>Property</th><th>Type</th><th>Description</th>
+        </tr>
+        <tr>
+          <td>shortName</td>
+          <td>String</td>
+          <td>
+            The short name of the option.  At least one short or long name is 
+            required.
+          </td>
+        </tr>
+        <tr>
+          <td>longName</td>
+          <td>String</td>
+          <td>
+            The long name of the option.  At least one short or long name is 
+            required.
+          </td>
+        </tr>
+        <tr>
+          <td>burstEnabled</td>
+          <td>boolean</td>
+          <td>
+            Whether to allow this option to be concatenated with others.
+          </td>
+        </tr>
+      </table>
+      </subsection>
+      
+      
+      <subsection name="Command">
+      <source>update (up,upd)</source>
+      <p>
+        Commands are basically an option without an identifying prefix and 
+        are usually found in applications that implement a suite of tools 
+        within a single application.  Any of a number of aliases can appear 
+        on the command line with idenentical meaning.
+      </p>
+      <p>
+        Commands inherit all the properties of Options and Parents.
+      </p>
+      </subsection>
+      
+      <subsection name="Switch">
+      <source>+display|-display</source>
+      <p>
+        Switches allow the user to turn a feature on or off.  This becomes 
+        useful when the value would otherwise be taken from a different 
+        source and could change, for example the default value could be 
+        configurable by the user.  A default switch value can be supplied in 
+        case no other source exists and the application writer has a 
+        preference.
+      </p>
+      <p>
+        Switches inherit all the properties of Options and Parents.
+      </p>
+      <table>
+        <tr>
+          <th>Property</th><th>Type</th><th>Description</th>
+        </tr>
+        <tr>
+          <td>defaultSwitch</td>
+          <td>Boolean</td>
+          <td>
+            The value to be used if the option has not been configured.  If 
+            not set the value <code>null</code> is used.
+          </td>
+        </tr>
+      </table>
+      </subsection>
+      
+      <subsection name="PropertyOption">
+      <source>-Dproperty=value</source>
+      <p>
+        Property options allow arbitrary name value pairs to be passed in by 
+        the user.  This style of option is often used to emulate the java 
+        <code>-D</code> option.
+      </p>
+      <p>
+        PropertyOptions inherit the properties of Options.
+      </p>
+      <table>
+        <tr>
+          <th>Property</th><th>Type</th><th>Description</th>
+        </tr>
+        <tr>
+          <td>optionString</td>
+          <td>String</td>
+          <td>
+            The prefix for this option, defaults to <code>-D</code>.
+          </td>
+        </tr>
+      </table>
+      </subsection>
+      
+      <subsection name="SourceDestArgument">
+      
+      
+      
+      <source>&lt;src1&gt; [&lt;src2&gt; ...] &lt;dest&gt;</source>
+      <p>
+        Groups have the restriction that only the final argument can have 
+        variable size.  Using the SourceDestArgument this rule can appear 
+        to be relaxed by shifting the variable size argument to an earlier 
+        position.  A SourceDestArgument is implemented by composing two other 
+        options together.  This option would typically be used when modelling 
+        commands like the unix cp command, 
+      </p>
+      <table>
+        <tr>
+          <th>Property</th><th>Type</th><th>Description</th>
+        </tr>
+        <tr>
+          <td>source</td>
+          <td>Argument</td>
+          <td>
+            The variable size first argument.
+          </td>
+        </tr>
+        <tr>
+          <td>dest</td>
+          <td>Argument</td>
+          <td>
+            The fixed size last argument.
+          </td>
+        </tr>
+      </table>
+      </subsection>
+    </section>
+  </body>
+</document>
diff --git a/xdocs/manual/validators.xml b/xdocs/manual/validators.xml
new file mode 100644
index 00000000..b6e76f90
--- /dev/null
+++ b/xdocs/manual/validators.xml
@@ -0,0 +1,202 @@
+<?xml version="1.0"?>
+<!--
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
+<document>
+
+  <properties>
+    <author email="dev@commons.apache.org">commons-dev</author>
+    <title>CLI2 - Validators</title>
+  </properties>
+
+  <body>
+    <section name="Validators">
+      <p>
+        CLI2 provides a mechanism to validate argument values.  The <code>Validator</code>
+        interface must be implemented to create an argument validator.  This interface has
+        a single method <code>validate(java.util.List values) throws InvalidArgumentException</code>.
+      </p>
+      <p>
+        CLI2 has some standard validators included.  They validate the following:
+      </p>
+      <ul>
+        <li>Java class</li>
+        <li>date</li>
+        <li>enumeration</li>
+        <li>file path</li>
+        <li>number</li>
+        <li>URL</li>
+      </ul>
+      
+      <subsection name="ClassValidator">
+        <p>
+          The <code>ClassValidator</code> validates a value using three criteria:
+        </p>
+        <ol>
+          <li>the value adheres to the Java Language Specification rules</li>
+          <li>the class specified by the name is loadable</li>
+          <li>the class specified by the name can be instantiated</li>
+        </ol>
+        <source>// 1.
+ClassValidator validator = new ClassValidator();
+// 2.
+validator.setLoadable(true);
+// 3.
+validator.setLoadable(true);</source>
+        <p>
+        TODO: add section about values being replaced with class instances
+        </p>
+      </subsection>
+      
+      <subsection name="DateValidator">
+        <p>
+          The <code>DateValidator</code> validates values against a 
+          <code>java.text.DateFormat</code>.  There are three helper methods
+          that create built-in validators.
+        </p>
+        <ol>
+          <li><code>getDateInstance</code> returns a validator for the default
+          date format for the default locale.
+          </li>
+          <li><code>getTimeInstance</code> returns a validator for the default
+          time format for the default locale.
+          </li>
+          <li><code>getDateTimeInstance</code> returns a validator for the default
+          date and time format for the default locale.
+          </li>
+        </ol>
+        <p>
+          A <code>DateValidator</code> can also be created by passing your
+          a custom <code>DateFormat</code> into the constructor.
+        </p>
+        <source>DateFormat myFormat = DateFormat.getDateInstance( DateFormat.LONG, Locale.UK );
+DateValidator myValidator = new DateValidator( myFormat );</source>
+        <p>
+          In addition to basic format checking you can also check if the date/time specified
+          is before/after a specific date/time.  The lower bound is set using the 
+          <code>setMinimum( java.util.Date )</code>, and the upper bound is set using
+          the <code>setMaximum( java.util.Date )</code>.
+        </p>
+        <p>
+        TODO: add section about values being replaced with date instances
+        </p>
+      </subsection>
+      
+      <subsection name="EnumValidator">
+        <p>
+          The <code>EnumValidator</code> validates values against a list of
+          allowed string values.  The values that are allowed are specified in
+          a <code>java.util.Set</code> and passed in to the constructor.
+        </p>
+        <source>Set enumSet = new TreeSet();
+enumSet.add("red");
+enumSet.add("green");
+enumSet.add("blue");
+       
+EnumValidator validator = new EnumValidator( enumSet );</source>
+      </subsection>
+      
+      <subsection name="FileValidator">
+        <p>
+          The <code>FileValidator</code> validates that values represent
+          existing files.  You can also specify a combination of the 
+          following additional criteria:
+        </p>
+        <ol>
+          <li>value is a file</li>
+          <li>value is a directory</li>
+          <li>the file is writable</li>
+          <li>the file is readable</li>
+          <li>the file is hidden</li>
+        </ol>
+        <p>
+          Each of the criteria listed here are specified using the appropriate
+          setter.
+        </p>
+        <p>
+          There are three helper methods to create validators:
+        </p>
+        <ol>
+          <li><code>getExistingInstance</code> returns a validator that ensures
+          a value represents an existing file.
+          </li>
+          <li><code>getExistingFileInstance</code> returns a validator that ensures
+          a value represents an existing file that is not a directory.
+          </li>
+          <li><code>getExistingDirectoryInstance</code> returns a validator that ensures
+          a value represents an existing file this is a directory.
+          </li>
+        </ol>
+        <source>// validate that the value represents a file that exists
+FileValidator validator = FileValidator.getExistingInstance();
+
+// ensure it's not a hidden file
+validator.setHidden( false );
+
+// ensure it's a writable file
+validator.setWritable( true );</source>
+        
+      </subsection>
+      
+      <subsection name="NumberValidator">
+        <p>
+          The <code>NumberValidator</code> validates that values adhere to 
+          certain rules like the following:
+        </p>
+        <ol>
+          <li><code>getCurrencyInstance</code> returns a validator for the default
+          currency format for the default locale.
+          </li>
+          <li><code>getPercentInstance</code> returns a validator for the default
+          percent format for the default locale.
+          </li>
+          <li><code>getIntegerInstance</code> returns a validator for the default
+          integer format for the default locale.
+          </li>
+          <li><code>getNumberInstance</code> returns a validator for the default
+          number format for the default locale.
+          </li>
+        </ol>
+        <p>
+          A <code>NumberValidator</code> can also be created by passing your
+          a custom <code>NumberFormat</code> into the constructor.
+        </p>
+        <source>NumberFormat myFormat = NumberFormat.getCurrencyInstance( Locale.UK );
+NumberValidator myValidator = new NumberValidator( myFormat );</source>
+        <p>
+          In addition to basic format checking you can also check if the number specified
+          is less than or greater than a specific number.  The lower bound is set using 
+          the <code>setMinimum( Number )</code>, and the upper bound is set using
+          the <code>setMaximum( Number )</code>.
+        </p>
+      </subsection>
+      
+      <subsection name="UrlValidator">
+        <p>
+          A <code>UrlValidator</code> validates that values are URLs and if you
+          choose it will also validate the protocol is of the type you have
+          specified.
+        </p>
+        <source>UrlValidator validator = new UrlValidator();
+
+// only accept https URLs
+validator.setProtocol("https");</source>
+        
+      </subsection>
+
+    </section>
+  </body>
+</document>
diff --git a/xdocs/properties.xml b/xdocs/properties.xml
new file mode 100644
index 00000000..2976747a
--- /dev/null
+++ b/xdocs/properties.xml
@@ -0,0 +1,115 @@
+<?xml version="1.0"?>
+<!--
+  Licensed to the Apache Software Foundation (ASF) under one
+  or more contributor license agreements.  See the NOTICE file
+  distributed with this work for additional information
+  regarding copyright ownership.  The ASF licenses this file
+  to you under the Apache License, Version 2.0 (the
+  "License"); you may not use this file except in compliance
+  with the License.  You may obtain a copy of the License at
+ 
+  http://www.apache.org/licenses/LICENSE-2.0
+ 
+  Unless required by applicable law or agreed to in writing,
+  software distributed under the License is distributed on an
+  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+  KIND, either express or implied.  See the License for the
+  specific language governing permissions and limitations
+  under the License.
+-->
+<document>
+
+  <properties>
+    <author email="dev@commons.apache.org">commons-dev</author>
+    <title>Option Properties</title>
+  </properties>
+
+  <body>
+    <section name="Option Properties">
+      <p>
+        The following are the properties that each 
+        <a href="api-1.2/org/apache/commons/cli/Option.html">Option</a> has.  All of these
+        can be set using the accessors or using the methods
+        defined in the
+        <a href="api-1.2/org/apache/commons/cli/OptionBuilder.html">OptionBuilder</a>.
+      </p>
+      <table>
+        <tr>
+          <th>Name</th>
+          <th>Type</th>
+          <th>Description</th>
+        </tr>
+        <tr>
+          <td>opt</td>
+          <td>java.lang.String</td>
+          <td>the identification string of the Option.</td>
+        </tr>
+        <tr>
+          <td>longOpt</td>
+          <td>java.lang.String</td>
+          <td>an alias and more descriptive identification string</td>
+        </tr>
+        <tr>
+          <td>description</td>
+          <td>java.lang.String</td>
+          <td>a description of the function of the option</td>
+        </tr>
+        <tr>
+          <td>required</td>
+          <td>boolean</td>
+          <td>a flag to say whether the option <b>must</b> appear on 
+            the command line.</td>
+        </tr>
+        <tr>
+          <td>multipleArgs</td>
+          <td>boolean</td>
+          <td>a flag to say whether the option takes multiple argument 
+            values</td>
+        </tr>
+        <tr>
+          <td>arg</td>
+          <td>boolean</td>
+          <td>a flag to say whether the option takes an argument</td>
+        </tr>
+        <tr>
+          <td>args</td>
+          <td>boolean</td>
+          <td>a flag to say whether the option takes more than one argument</td>
+        </tr>
+        <tr>
+          <td>optionalArg</td>
+          <td>boolean</td>
+          <td>a flag to say whether the option's argument is optional</td>
+        </tr>
+        <tr>
+          <td>argName</td>
+          <td>java.lang.String</td>
+          <td>the name of the argument value for the usage statement</td>
+        </tr>
+        <tr>
+          <td>valueSeparator</td>
+          <td>char</td>
+          <td>the character value used to split the argument string, that
+            is used in conjunction with multipleArgs e.g.
+            if the separator is ',' and the argument string is 'a,b,c' then
+            there are three argument values, 'a', 'b' and 'c'.</td>
+        </tr>
+        <tr>
+          <td>type</td>
+          <td>java.lang.Object</td>
+          <td>the type of the argument</td>
+        </tr>
+        <tr>
+          <td>value</td>
+          <td>java.lang.String</td>
+          <td>the value of the option</td>
+        </tr>
+        <tr>
+          <td>values</td>
+          <td>java.lang.String[]</td>
+          <td>the values of the option</td>
+        </tr>
+      </table>
+    </section>
+  </body>
+</document>
diff --git a/xdocs/release_1_0.xml b/xdocs/release_1_0.xml
new file mode 100644
index 00000000..0ac1aa11
--- /dev/null
+++ b/xdocs/release_1_0.xml
@@ -0,0 +1,45 @@
+<?xml version="1.0"?>
+<!--
+Licensed to the Apache Software Foundation (ASF) under one or more
+contributor license agreements.  See the NOTICE file distributed with
+this work for additional information regarding copyright ownership.
+The ASF licenses this file to You under the Apache License, Version 2.0
+(the "License"); you may not use this file except in compliance with
+the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing, software
+distributed under the License is distributed on an "AS IS" BASIS,
+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+See the License for the specific language governing permissions and
+limitations under the License.
+-->
+<document>
+ <properties>
+  <title>Release notes for CLI 1.0</title>
+  <author email="dev@commons.apache.org">Commons Documentation Team</author>
+ </properties>
+<body>
+
+<section name="Release notes">
+<p>
+These are the release notes for Commons CLI 1.0.
+<source>
+INTRODUCTION:
+
+This document contains the release notes for this version of the Commons
+CLI package. Commons CLI provides a simple API for working with the
+command line arguments and options.
+
+This is the first release of the CLI component, therefore all features are new, 
+there are no bug-fixes, nothing is deprecated and there are no changes.
+
+For more information, read the documentation on the project site at 
+http://commons.apache.org/cli/
+</source>
+</p>
+</section>
+
+</body>
+</document>
diff --git a/xdocs/release_1_2.xml b/xdocs/release_1_2.xml
new file mode 100644
index 00000000..24777c73
--- /dev/null
+++ b/xdocs/release_1_2.xml
@@ -0,0 +1,101 @@
+<?xml version="1.0"?>
+<!--
+Licensed to the Apache Software Foundation (ASF) under one or more
+contributor license agreements.  See the NOTICE file distributed with
+this work for additional information regarding copyright ownership.
+The ASF licenses this file to You under the Apache License, Version 2.0
+(the "License"); you may not use this file except in compliance with
+the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing, software
+distributed under the License is distributed on an "AS IS" BASIS,
+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+See the License for the specific language governing permissions and
+limitations under the License.
+-->
+<document>
+ <properties>
+  <title>Release notes for CLI 1.2</title>
+  <author email="dev@commons.apache.org">Commons Documentation Team</author>
+ </properties>
+<body>
+
+<section name="Release notes">
+
+  <p>These are the release notes for Commons CLI 1.2.</p>
+
+<source>
+INTRODUCTION:
+
+This document contains the release notes for this version of the Commons CLI
+package. Commons CLI provides a simple API for working with the command line
+arguments and options.
+
+Commons CLI 1.2 is a bugfix release. The following notable changes were made:
+
+ * A major regression introduced in CLI 1.1 that prevented the usage of repeated options has been fixed.
+ * Several parser issues have been fixed, especially with the PosixParser.
+ * HelpFormatter now wraps the lines properly
+ * The ordering of the option in the help message can now be defined.
+ * Various API enhancements (improved exceptions, serializable classes)
+
+Commons CLI 1.2 is binary compatible with the previous versions, except for
+the OptionValidator class that is no longer public.
+
+More information can be found on the project site at http://commons.apache.org/cli
+
+
+NEW FEATURES:
+
+  * The method getOptionProperties() in the CommandLine class was added
+    to retrieve easily the key/value pairs specified with options like
+    -Dkey1=value1 -Dkey2=value2.
+
+  * GnuParser now supports long options with an '=' sign
+    (ie. --foo=bar and -foo=bar) (CLI-157)
+
+  * The ordering of options can be defined in help messages. (CLI-155)
+
+
+BUG FIXES:
+
+  * The number of arguments defined for an option specifies the arguments
+    per occurrence of the option and not for all occurrences. (CLI-137)
+
+  * PosixParser no longer ignores unrecognized short options. (CLI-164)
+
+  * PosixParser no longer stops the bursting process of a token if stopAtNonOption
+    is enabled and a non option character is encountered. (CLI-163)
+
+  * PosixParser no longer keeps processing the tokens after an unrecognized
+    long option when stopAtNonOption is enabled. (CLI-165)
+
+  * Required options are properly checked if an Options instance is used twice
+    to parse a command line. (CLI-156)
+
+  * The line wrapping in HelpFormatter now works properly. (CLI-151)
+
+
+CHANGES:
+
+  * The message of MissingOptionException has been improved. (CLI-149)
+
+  * The exceptions have been enhanced with methods to retrieve easily
+    the related options. (CLI-86)
+
+  * Option.toString() now reports arguments properly. (CLI-141)
+
+  * The Parser class has been changed to be more easily extendable. (CLI-142)
+
+  * The following classes are now serializable: Option, OptionGroup,
+    CommandLine and Options. (CLI-140)
+
+  * OptionValidator is no longer public, its methods were all private.
+</source>
+
+</section>
+
+</body>
+</document>
diff --git a/xdocs/style/project.css b/xdocs/style/project.css
new file mode 100644
index 00000000..c1d541c8
--- /dev/null
+++ b/xdocs/style/project.css
@@ -0,0 +1 @@
+@import url("http://commons.apache.org/style/commons-maven.css");
diff --git a/xdocs/upgrading-1.0-to-1.1.xml b/xdocs/upgrading-1.0-to-1.1.xml
new file mode 100644
index 00000000..866477fb
--- /dev/null
+++ b/xdocs/upgrading-1.0-to-1.1.xml
@@ -0,0 +1,48 @@
+<?xml version="1.0"?>
+<!--
+Licensed to the Apache Software Foundation (ASF) under one or more
+contributor license agreements.  See the NOTICE file distributed with
+this work for additional information regarding copyright ownership.
+The ASF licenses this file to You under the Apache License, Version 2.0
+(the "License"); you may not use this file except in compliance with
+the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing, software
+distributed under the License is distributed on an "AS IS" BASIS,
+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+See the License for the specific language governing permissions and
+limitations under the License.
+-->
+<document>
+ <properties>
+  <title>Upgrading from 1.0 to 1.1</title>
+  <author email="dev@commons.apache.org">Commons Documentation Team</author>
+ </properties>
+<body>
+<!-- ================================================== -->
+<section name="Upgrading from 1.0 to 1.1">
+  <p>CLI 1.1 is a bugfix release of CLI. The following changes notable API changes were made: </p>
+
+  <ul>
+    <li>The Parser abstract class has two additional parse methods that take a Properties parameter. </li>
+    <li>The HelpFormatter class had publicly accessible fields. These should now be accessed via
+        get/set methods and the public fields are deprecated. </li>
+    <li>The Option class addValue(String) method now throws UnsupportedOperationException. </li>
+    <li>OptionValidator is a newly added class. </li>
+    <li>Option's now have equals(Object) and hashCode() methods. </li>
+    <li>The Option class also received two new methods, setDescription(String) and hasValueSeparator();boolean. </li>
+  </ul>
+
+  <p>The jar should be API backwards compatible, though if you were calling addValue(String) then you won't be happy. Please 
+     let us know your use case if that is so. </p>
+
+</section>
+<section name="Bugs fixed in 1.1">
+  <p>The list of bugs fixed in 1.1 may be seen via the 
+    <a href="changes-report.html#1_1">changes report</a>. </p>
+</section>
+<!-- ================================================== -->
+</body>
+</document>
diff --git a/xdocs/usage.xml b/xdocs/usage.xml
new file mode 100644
index 00000000..f27d6560
--- /dev/null
+++ b/xdocs/usage.xml
@@ -0,0 +1,376 @@
+<?xml version="1.0"?>
+<!--
+  Licensed to the Apache Software Foundation (ASF) under one
+  or more contributor license agreements.  See the NOTICE file
+  distributed with this work for additional information
+  regarding copyright ownership.  The ASF licenses this file
+  to you under the Apache License, Version 2.0 (the
+  "License"); you may not use this file except in compliance
+  with the License.  You may obtain a copy of the License at
+ 
+  http://www.apache.org/licenses/LICENSE-2.0
+ 
+  Unless required by applicable law or agreed to in writing,
+  software distributed under the License is distributed on an
+  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+  KIND, either express or implied.  See the License for the
+  specific language governing permissions and limitations
+  under the License.
+-->
+<document>
+
+  <properties>
+    <author email="dev@commons.apache.org">commons-dev</author>
+    <title>Usage Scenarios</title>
+  </properties>
+
+  <body>
+    <section name="Usage Scenarios">
+      <p>
+        The following sections describe some example scenarios on how to 
+        use CLI in applications.
+      </p>
+
+      <subsection name="Using a boolean option">
+        <p>
+          A boolean option is represented on a command line by the presence
+          of the option, i.e. if the option is found then the option value
+          is <code>true</code>, otherwise the value is <code>false</code>.
+        </p>
+        <p>
+          The <code>DateApp</code> utility prints the current date to standard
+          output.  If the <code>-t</code> option is present the current time is 
+          also printed.
+        </p>
+      </subsection>
+      <subsection name="Create the Options">
+        <p>
+          An <a href="api-1.2/org/apache/commons/cli/Options.html">
+          Options</a> object must be created and the <code>Option</code> must be 
+          added to it.
+        </p>
+        <source>
+// create Options object
+Options options = new Options();
+
+// add t option
+options.addOption("t", false, "display current time");</source>
+          <p>
+            The <code>addOption</code> method has three parameters.  The first
+            parameter is a <code>java.lang.String</code> that represents the option. 
+            The second parameter is a <code>boolean</code> that specifies whether the
+            option requires an argument or not.  In the case of a boolean option
+            (sometimes referred to as a flag) an argument value is not present so
+            <code>false</code> is passed.  The third parameter is the description
+            of the option.  This description will be used in the usage text of the
+            application.
+          </p>
+      </subsection>
+      <subsection name="Parsing the command line arguments">
+        <p>
+          The <code>parse</code> methods of <code>CommandLineParser</code> are used 
+          to parse the command line arguments.  The <code>PosixPaser</code> is
+          great when you need to handle options that are one character long,
+          like the <code>t</code> option in this example.
+        </p>
+        <source>CommandLineParser parser = new PosixParser();
+CommandLine cmd = parser.parse( options, args);</source>
+        <p>
+          Now we need to check if the <code>t</code> option is present.  To do
+          this we will interrogate the 
+          <a href="api-1.2/org/apache/commons/cli/CommandLine.html">CommandLine
+          </a> object.  The <code>hasOption</code> method takes a 
+          <code>java.lang.String</code> parameter and returns <code>true</code> if the option 
+          represented by the <code>java.lang.String</code> is present, otherwise 
+          it returns <code>false</code>.
+        </p>
+        <source>if(cmd.hasOption("t")) {
+    // print the date and time
+}
+else {
+    // print the date
+}</source>
+      </subsection>
+      <subsection name="International Time">
+        <p>
+          The <code>InternationalDateApp</code> utility extends the 
+          <code>DateApp</code> utility by providing the ability to print the
+          date and time in any country in the world.  To facilitate this a new
+          command line option, <code>c</code>, has been introduced.
+        </p>
+        <source>// add c option
+options.addOption("c", true, "country code");</source>
+        <p>
+          The second parameter is <code>true</code> this time.  This specifies that the
+          <code>c</code> option requires an argument value.  If the required option
+          argument value is specified on the command line it is returned,
+          otherwise <code>null</code> is returned.
+        </p>
+      </subsection>
+      <subsection name="Retrieving the argument value">
+        <p>
+          The <code>getOptionValue</code> methods of <code>CommandLine</code> are
+          used to retrieve the argument values of options.
+        </p>
+        <source>// get c option value
+String countryCode = cmd.getOptionValue("c");
+
+if(countryCode == null) {
+    // print default date
+}
+else {
+    // print date for country specified by countryCode
+}</source>
+      </subsection>
+    </section>
+
+    <section name="Ant Example">
+      <p>
+        One of the most ubiquitous Java applications 
+        <a href="http://ant.apache.org/">Ant</a> will be used
+        here to illustrate how to create the <code>Options</code> required.  The following
+        is the help output for Ant.
+      </p>
+      <source>ant [options] [target [target2 [target3] ...]]
+  Options: 
+  -help                  print this message
+  -projecthelp           print project help information
+  -version               print the version information and exit
+  -quiet                 be extra quiet
+  -verbose               be extra verbose
+  -debug                 print debugging information
+  -emacs                 produce logging information without adornments
+  -logfile &lt;file&gt;        use given file for log
+  -logger &lt;classname&gt;    the class which is to perform logging
+  -listener &lt;classname&gt;  add an instance of class as a project listener
+  -buildfile &lt;file&gt;      use given buildfile
+  -D&lt;property>=&lt;value&gt;   use value for given property
+  -find &lt;file&gt;           search for buildfile towards the root of the
+                         filesystem and use it</source>
+      <subsection name="Boolean Options">
+        <p>
+          Lets create the boolean options for the application as they
+          are the easiest to create.  For clarity the constructors for
+          <code>Option</code> are used here.
+        </p>
+        <source>Option help = new Option( "help", "print this message" );
+Option projecthelp = new Option( "projecthelp", "print project help information" );
+Option version = new Option( "version", "print the version information and exit" );
+Option quiet = new Option( "quiet", "be extra quiet" );
+Option verbose = new Option( "verbose", "be extra verbose" );
+Option debug = new Option( "debug", "print debugging information" );
+Option emacs = new Option( "emacs",
+                           "produce logging information without adornments" );</source>
+      </subsection>
+      <subsection name="Argument Options">
+        <p> 
+          The argument options are created using the <code>OptionBuilder</code>.
+        </p>
+        <source>Option logfile   = OptionBuilder.withArgName( "file" )
+                                .hasArg()
+                                .withDescription(  "use given file for log" )
+                                .create( "logfile" );
+
+Option logger    = OptionBuilder.withArgName( "classname" )
+                                .hasArg()
+                                .withDescription( "the class which it to perform "
+                                                  + "logging" )
+                                .create( "logger" );
+
+Option listener  = OptionBuilder.withArgName( "classname" )
+                                .hasArg()
+                                .withDescription( "add an instance of class as "
+                                                  + "a project listener" )
+                                .create( "listener"); 
+
+Option buildfile = OptionBuilder.withArgName( "file" )
+                                .hasArg()
+                                .withDescription(  "use given buildfile" )
+                                .create( "buildfile");
+
+Option find      = OptionBuilder.withArgName( "file" )
+                                .hasArg()
+                                .withDescription( "search for buildfile towards the "
+                                                  + "root of the filesystem and use it" )
+                                .create( "find" );</source>
+      </subsection>
+      <subsection name="Java Property Option">
+        <p>
+          The last option to create is the Java property and it is also created
+          using the OptionBuilder.
+        </p>
+        <source>Option property  = OptionBuilder.withArgName( "property=value" )
+                                .hasArgs(2)
+                                .withValueSeparator()
+                                .withDescription( "use value for given property" )
+                                .create( "D" );</source>
+
+          The map of properties specified by this option can later be retrieved by
+          calling <code>getOptionProperties("D")</code> on the <code>CommandLine</code>.
+
+      </subsection>
+      <subsection name="Create the Options">
+        <p>
+          Now that we have created each 
+          <a href="api-1.2/org/apache/commons/cli/Option.html">Option</a> we need
+          to create the 
+          <a href="api-1.2/org/apache/commons/cli/Options.html">Options</a>
+          instance.  This is achieved using the 
+          <a href="api-1.2/org/apache/commons/cli/CommandLine.html#addOption(org.apache.commons.cli.Option)">addOption</a>
+          method of <code>Options</code>.
+        </p>
+        <source>Options options = new Options();
+
+options.addOption( help );
+options.addOption( projecthelp );
+options.addOption( version );
+options.addOption( quiet );
+options.addOption( verbose );
+options.addOption( debug );
+options.addOption( emacs );
+options.addOption( logfile );
+options.addOption( logger );
+options.addOption( listener );
+options.addOption( buildfile );
+options.addOption( find );
+options.addOption( property );</source>
+        <p>
+          All the preperation is now complete and we are now ready to
+          parse the command line arguments.
+        </p>
+      </subsection>
+      <subsection name="Create the Parser">
+        <p>
+          We now need to create a <code>Parser</code>.  This will parse the command
+          line arguments, using the rules specified by the <code>Options</code> and
+          return an instance of <a href="api-1.2/org/apache/commons/cli/CommandLine.html">CommandLine</a>.
+          This time we will use a <a href="api-1.2/org/apache/commons/cli/GnuParser.html">GnuParser</a>
+          which is able to handle options that are more than one character long.
+        </p>
+        <source>public static void main( String[] args ) {
+    // create the parser
+    CommandLineParser parser = new GnuParser();
+    try {
+        // parse the command line arguments
+        CommandLine line = parser.parse( options, args );
+    }
+    catch( ParseException exp ) {
+        // oops, something went wrong
+        System.err.println( "Parsing failed.  Reason: " + exp.getMessage() );
+    }
+}</source>
+      </subsection>
+      <subsection name="Querying the commandline">
+        <p>
+          To see if an option has been passed the <code>hasOption</code>
+          method is used.  The argument value can be retrieved using
+          the <code>getOptionValue</code> method.
+        </p>
+        <source>// has the buildfile argument been passed?
+if( line.hasOption( "buildfile" ) ) {
+    // initialise the member variable
+    this.buildfile = line.getOptionValue( "buildfile" );
+}</source>
+      </subsection>
+      <subsection name="Usage/Help">
+        <p>
+          CLI also provides the means to automatically generate usage
+          and help information.  This is achieved with the
+          <a href="api-1.2/org/apache/commons/cli/HelpFormatter.html">HelpFormatter</a>
+          class.
+        </p>
+        <source>// automatically generate the help statement
+HelpFormatter formatter = new HelpFormatter();
+formatter.printHelp( "ant", options );</source>
+        <p>
+          When executed the following output is produced:
+        </p>
+        <source>usage: ant
+-D &lt;property=value&gt;     use value for given property
+-buildfile &lt;file&gt;       use given buildfile
+-debug                  print debugging information
+-emacs                  produce logging information without adornments
+-file &lt;file&gt;            search for buildfile towards the root of the
+                        filesystem and use it
+-help                   print this message
+-listener &lt;classname&gt;   add an instance of class as a project listener
+-logger &lt;classname&gt;     the class which it to perform logging
+-projecthelp            print project help information
+-quiet                  be extra quiet
+-verbose                be extra verbose
+-version                print the version information and exit</source>
+        <p>
+          If you also require to have a usage statement printed 
+          then calling <code>formatter.printHelp( "ant", options, true )</code>
+          will generate a usage statment as well as the help information.
+        </p>
+      </subsection>
+    </section>
+
+    <section name="ls Example">
+      <p>
+        One of the most widely used command line applications in the *nix world
+        is <code>ls</code>.  To parse a command line for an application like this
+        we will use the <a href="api-1.2/org/apache/commons/cli/PosixParser.html">PosixParser</a>.
+        Due to the large number of options required for <code>ls</code> this
+        example will only cover a small proportion of the options.  The following
+        is a section of the help output.
+      </p>
+      <source>Usage: ls [OPTION]... [FILE]...
+List information about the FILEs (the current directory by default).
+Sort entries alphabetically if none of -cftuSUX nor --sort.
+
+-a, --all                  do not hide entries starting with .
+-A, --almost-all           do not list implied . and ..
+-b, --escape               print octal escapes for nongraphic characters
+    --block-size=SIZE      use SIZE-byte blocks
+-B, --ignore-backups       do not list implied entries ending with ~
+-c                         with -lt: sort by, and show, ctime (time of last
+                           modification of file status information)
+                           with -l: show ctime and sort by name
+                           otherwise: sort by ctime
+-C                         list entries by columns</source>
+      <p>
+        The following is the code that is used to create the 
+        <a href="api-1.2/org/apache/commons/cli/Options.html">Options</a> for this example.
+      </p>
+      <source>// create the command line parser
+CommandLineParser parser = new PosixParser();
+
+// create the Options
+Options options = new Options();
+options.addOption( "a", "all", false, "do not hide entries starting with ." );
+options.addOption( "A", "almost-all", false, "do not list implied . and .." );
+options.addOption( "b", "escape", false, "print octal escapes for nongraphic "
+                                         + "characters" );
+options.addOption( OptionBuilder.withLongOpt( "block-size" )
+                                .withDescription( "use SIZE-byte blocks" )
+                                .hasArg()
+                                .withArgName("SIZE")
+                                .create() );
+options.addOption( "B", "ignore-backups", false, "do not list implied entried "
+                                                 + "ending with ~");
+options.addOption( "c", false, "with -lt: sort by, and show, ctime (time of last " 
+                               + "modification of file status information) with "
+                               + "-l:show ctime and sort by name otherwise: sort "
+                               + "by ctime" );
+options.addOption( "C", false, "list entries by columns" );
+
+String[] args = new String[]{ "--block-size=10" };
+
+try {
+    // parse the command line arguments
+    CommandLine line = parser.parse( options, args );
+
+    // validate that block-size has been set
+    if( line.hasOption( "block-size" ) ) {
+        // print the value of block-size
+        System.out.println( line.getOptionValue( "block-size" ) );
+    }
+}
+catch( ParseException exp ) {
+    System.out.println( "Unexpected exception:" + exp.getMessage() );
+}</source>
+    </section>
+  </body>
+</document>
