<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sun Nov 09 05:51:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CLI-224] OptionBuilder only has static methods, yet many return an OptionBuilder instance</title>
                <link>https://issues.apache.org/jira/browse/CLI-224</link>
                <project id="12310463" key="CLI">Commons CLI</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CLI-83&quot; title=&quot;OptionBuilder only has static methods, yet many return an OptionBuilder instance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CLI-83&quot;&gt;&lt;del&gt;CLI-83&lt;/del&gt;&lt;/a&gt; was closed as fixed in 2.0, but it seems that there is no current plan to release CLI 2.0.  Could this fix be rolled into the 1.x line?  I&apos;m attaching a new version of option builder that addresses the issue (named DefaultOptionBuilder to maintain backwards compatability) and a unit test for it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534732">CLI-224</key>
            <summary>OptionBuilder only has static methods, yet many return an OptionBuilder instance</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="brian.blount@zilliant.com">Brian Blount</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Dec 2011 02:52:29 +0000</created>
                <updated>Sat, 9 May 2015 18:43:37 +0000</updated>
                            <resolved>Mon, 11 Feb 2013 10:14:39 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                    <component>CLI-1.x</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13170117" author="ebourg" created="Thu, 15 Dec 2011 10:47:31 +0000"  >&lt;p&gt;Thank you for the code Brian, a revamped builder could be included in the 1.x line, but I&apos;m still hesitating on the proper way do to it. The existing OptionBuilder can&apos;t be changed due to binary compatibility issues, so another class has to provide the builder mechanism. I haven&apos;t found an elegant solution yet: &quot;DefaultOptionBuilder&quot; looks a bit heavy, &quot;Options&quot; is already used, &quot;OptBuilder&quot; is shorter but probably less explicit.&lt;/p&gt;

&lt;p&gt;The solution might be to add chained withXXX() setters to the Option class. Building an option would then look like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Option(&lt;span class=&quot;code-quote&quot;&gt;&quot;f&quot;&lt;/span&gt;).withLongOpt(&lt;span class=&quot;code-quote&quot;&gt;&quot;file&quot;&lt;/span&gt;).withDescription(&lt;span class=&quot;code-quote&quot;&gt;&quot;Input file&quot;&lt;/span&gt;).withArg();&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Any input on this matter is welcome.&lt;/p&gt;</comment>
                            <comment id="13458190" author="dmjones500" created="Tue, 18 Sep 2012 21:24:34 +0000"  >&lt;p&gt;How about embedding a Builder class within Option and deprecating the public Option constructors and the OptionBuilder class. Hence we can:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Option.Builder(&lt;span class=&quot;code-quote&quot;&gt;&quot;opt&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;description&quot;&lt;/span&gt;).argName(&lt;span class=&quot;code-quote&quot;&gt;&quot;Foo&quot;&lt;/span&gt;).build();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;without impacting existing code. (This embedded builder style is suggested by Joshua Bloch in Effective Java.)&lt;/p&gt;</comment>
                            <comment id="13459929" author="dmjones500" created="Thu, 20 Sep 2012 20:41:00 +0000"  >&lt;p&gt;Attached is an alternative patch (commons-cli-&lt;a href=&quot;https://issues.apache.org/jira/browse/CLI-224&quot; title=&quot;OptionBuilder only has static methods, yet many return an OptionBuilder instance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CLI-224&quot;&gt;&lt;del&gt;CLI-224&lt;/del&gt;&lt;/a&gt;.patch), based on my suggestion of a nested builder class. I must thank Brian for the design of the unit test, which I have used in my patch.&lt;/p&gt;

&lt;p&gt;I welcome comments.&lt;/p&gt;</comment>
                            <comment id="13460625" author="dmjones500" created="Fri, 21 Sep 2012 17:11:05 +0000"  >&lt;p&gt;Corrected patch (missed Apache licence statement in new unit test).&lt;/p&gt;</comment>
                            <comment id="13460651" author="brian.blount@zilliant.com" created="Fri, 21 Sep 2012 17:45:44 +0000"  >&lt;p&gt;Duncan, this approach looks great to me.  Will there be a new release of 1.x with this change?&lt;/p&gt;</comment>
                            <comment id="13460660" author="dmjones500" created="Fri, 21 Sep 2012 17:54:16 +0000"  >&lt;p&gt;I&apos;ve emailed the developer list to seek feedback on this issue. Hopefully it will result in somebody reviewing the patches and committing something to trunk. As for the next release, I&apos;m not sure the plans for this, sorry.&lt;/p&gt;</comment>
                            <comment id="13575699" author="tn" created="Mon, 11 Feb 2013 09:26:41 +0000"  >&lt;p&gt;I like the second patch too, it is much cleaner than the OptionBuilder we have now in place.&lt;br/&gt;
I am going to integrate this patch and deprecate the OptionBuilder as a consequence.&lt;/p&gt;</comment>
                            <comment id="13575716" author="tn" created="Mon, 11 Feb 2013 10:14:39 +0000"  >&lt;p&gt;Applied patch in r1444720 with minor modifications (javadoc, formatting).&lt;/p&gt;

&lt;p&gt;Thanks for the patch!&lt;/p&gt;</comment>
                            <comment id="13575772" author="tn" created="Mon, 11 Feb 2013 13:03:10 +0000"  >&lt;p&gt;Added also a default constructor for Option.Builder(), as the current OptionBuilder also allows the following:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  OptionBuilder.withLongOpt(&quot;v&quot;).create()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;with the Builder it will be like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  new Option.Builder().longOpt(&quot;v&quot;).build();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What about a static factory method, as always typing new may be tedious?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  Option.builder().longOpt(&quot;v&quot;)......build();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13580012" author="dmjones500" created="Sat, 16 Feb 2013 20:01:15 +0000"  >&lt;blockquote&gt;
&lt;p&gt;What about a static factory method, as always typing new may be tedious?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  Option.builder().longOpt(&lt;span class=&quot;code-quote&quot;&gt;&quot;v&quot;&lt;/span&gt;)......build();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, that&apos;s a good idea. Do you propose to make the Builder constructors private or are you leaving those as an alternative?&lt;/p&gt;</comment>
                            <comment id="13580160" author="tn" created="Sun, 17 Feb 2013 10:33:26 +0000"  >&lt;p&gt;Yes, I think the Builder ctors should be private.&lt;/p&gt;</comment>
                            <comment id="13580165" author="tn" created="Sun, 17 Feb 2013 11:11:22 +0000"  >&lt;p&gt;Applied changes as discussed on ml in r1447005.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12637381">CLI-235</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12506964" name="DefaultOptionBuilder.java" size="11220" author="brian.blount@zilliant.com" created="Mon, 12 Dec 2011 02:54:32 +0000"/>
                            <attachment id="12506965" name="DefaultOptionBuilderTest.java" size="4497" author="brian.blount@zilliant.com" created="Mon, 12 Dec 2011 02:54:32 +0000"/>
                            <attachment id="12546066" name="commons-cli-CLI-224.patch" size="11117" author="dmjones500" created="Fri, 21 Sep 2012 17:11:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05uan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>