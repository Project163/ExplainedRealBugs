<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sun Nov 09 05:51:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CLI-254] &quot;test&quot; gets parsed as test, quotes die :-(</title>
                <link>https://issues.apache.org/jira/browse/CLI-254</link>
                <project id="12310463" key="CLI">Commons CLI</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def cli = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CliBuilder()
cli.with {
  f longOpt:&lt;span class=&quot;code-quote&quot;&gt;&apos;json-filter&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;jq expression&apos;&lt;/span&gt;, args: 1
}
def vals = [&lt;span class=&quot;code-quote&quot;&gt;&apos;test&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;t&lt;span class=&quot;code-quote&quot;&gt;&quot;es&quot;&lt;/span&gt;t&apos;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-quote&quot;&gt;&apos;test&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;test&apos;&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-quote&quot;&gt;&apos;test&apos;&lt;/span&gt;&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-quote&quot;&gt;&quot;test&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;test&quot;&lt;/span&gt;&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;&apos;&lt;/span&gt;]
vals.each {
  def opt = cli.parse([&lt;span class=&quot;code-quote&quot;&gt;&apos;-f&apos;&lt;/span&gt;, it])
  &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; opt.f == it
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It fails on last entry: &quot;test&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12839562">CLI-254</key>
            <summary>&quot;test&quot; gets parsed as test, quotes die :-(</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="neopaf">Alexander Petrossian (PAF)</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Jun 2015 14:09:15 +0000</created>
                <updated>Thu, 7 Mar 2024 07:26:10 +0000</updated>
                            <resolved>Thu, 7 Mar 2024 07:26:10 +0000</resolved>
                                    <version>1.3</version>
                                                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="10200">2h 50m</timespent>
                                <comments>
                            <comment id="14596504" author="britter" created="Mon, 22 Jun 2015 19:31:05 +0000"  >&lt;p&gt;Translating the groovy test case from above gives the following (which also fails):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testQuotes() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        DefaultParser parser = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultParser();
        Options ops = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Options();
        ops.addOption(Option.builder(&lt;span class=&quot;code-quote&quot;&gt;&quot;f&quot;&lt;/span&gt;).longOpt(&lt;span class=&quot;code-quote&quot;&gt;&quot;json-filter&quot;&lt;/span&gt;).desc(&lt;span class=&quot;code-quote&quot;&gt;&quot;jq expression&quot;&lt;/span&gt;).hasArg().build());

        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] vals = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[8];
        vals[0] = &lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;;
        vals[1] = &lt;span class=&quot;code-quote&quot;&gt;&quot;t\&quot;&lt;/span&gt;es\&lt;span class=&quot;code-quote&quot;&gt;&quot;t&quot;&lt;/span&gt;;
        vals[2] = &lt;span class=&quot;code-quote&quot;&gt;&quot;\&apos;test&quot;&lt;/span&gt;;
        vals[3] = &lt;span class=&quot;code-quote&quot;&gt;&quot;test\&apos;&quot;&lt;/span&gt;;
        vals[4] = &lt;span class=&quot;code-quote&quot;&gt;&quot;\&lt;span class=&quot;code-quote&quot;&gt;&apos;test\&apos;&lt;/span&gt;&quot;&lt;/span&gt;;
        vals[5] = &lt;span class=&quot;code-quote&quot;&gt;&quot;\&quot;&lt;/span&gt;test&quot;;
        vals[6] = &lt;span class=&quot;code-quote&quot;&gt;&quot;test\&quot;&lt;/span&gt;&quot;;
        vals[7] = &lt;span class=&quot;code-quote&quot;&gt;&quot;\&quot;&lt;/span&gt;test\&quot;&quot;;

        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; val : vals) {
            CommandLine cli = parser.parse(ops, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[]{&lt;span class=&quot;code-quote&quot;&gt;&quot;-f&quot;&lt;/span&gt;, val});
            assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;Parsing &quot;&lt;/span&gt; + val, val, cli.getOptionValue(&lt;span class=&quot;code-quote&quot;&gt;&quot;f&quot;&lt;/span&gt;));
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14596507" author="britter" created="Mon, 22 Jun 2015 19:31:43 +0000"  >&lt;p&gt;Fails with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.junit.ComparisonFailure: Parsing &lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt; 
Expected :&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;
Actual   :test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16767467" author="elserj" created="Wed, 13 Feb 2019 19:04:18 +0000"  >&lt;p&gt;I think we&apos;re seeing this over in &lt;a href=&quot;https://issues.apache.org/jira/browse/PHOENIX-3710&quot; title=&quot;Cannot use lowername data table name with indextool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PHOENIX-3710&quot;&gt;&lt;del&gt;PHOENIX-3710&lt;/del&gt;&lt;/a&gt;. FWIW, it seems like using &lt;tt&gt;--name=&apos;&quot;value&quot;&apos;&lt;/tt&gt; (instead of &lt;tt&gt;&#8211;name &apos;&quot;value&quot;&apos;&lt;/tt&gt;) will actually get the double-quotes around &lt;tt&gt;value&lt;/tt&gt; preserved correctly.&lt;/p&gt;</comment>
                            <comment id="16768091" author="britter" created="Thu, 14 Feb 2019 11:03:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elserj&quot; class=&quot;user-hover&quot; rel=&quot;elserj&quot;&gt;elserj&lt;/a&gt; I currently don&apos;t have time to fix this. Do you want to provide a fix? Pushing a new CLI release has been on my list for ages...&lt;/p&gt;</comment>
                            <comment id="17274281" author="stoty" created="Fri, 29 Jan 2021 10:03:24 +0000"  >&lt;p&gt;I propose the fix in &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/commons-cli/pull/58&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-cli/pull/58&lt;/a&gt;&lt;br/&gt;
, which adds a new constructor option to make sure we don&apos;t break code that depends on the existing implementation.&lt;/p&gt;</comment>
                            <comment id="17425565" author="garydgregory" created="Thu, 7 Oct 2021 13:51:41 +0000"  >&lt;p&gt;I think the default behavior is correct, for example &lt;tt&gt;--file &quot;a/path to/file with spaces.txt&quot;&lt;/tt&gt; should give me the String &lt;tt&gt;a/path to/file with spaces.txt&lt;/tt&gt; and &lt;em&gt;not&lt;/em&gt; &lt;tt&gt;&quot;a/path to/file with spaces.txt&quot;&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I am OK with adding a ParserBuilder so we do not start growing constructors on the parser. This could also be a per-option flag since we already have &lt;tt&gt;Option.Builder&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17425571" author="stoty" created="Thu, 7 Oct 2021 14:00:40 +0000"  >&lt;p&gt;The shell will already process and remove the quotes in your example, so the program never sees them.&lt;/p&gt;

&lt;p&gt;The library currently strips the quotes even if you jump through hoops to preserve them, i.e.&lt;br/&gt;
--file &apos;&quot;a/path to/file with spaces.txt&quot;&apos; &lt;/p&gt;

&lt;p&gt;I agree on not complicating the constructor.&lt;/p&gt;

&lt;p&gt;I&apos;m going to refactor the PR to add a ParserBuilder, hopefully soon.&lt;/p&gt;</comment>
                            <comment id="17425966" author="stoty" created="Fri, 8 Oct 2021 05:53:04 +0000"  >&lt;p&gt;I have rebased the patch to master, and added a Builder for DefaultParser.&lt;/p&gt;</comment>
                            <comment id="17432826" author="stoty" created="Fri, 22 Oct 2021 06:33:36 +0000"  >&lt;p&gt;Thanks for merging the fix &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;.&lt;br/&gt;
I think this can be resolved now.&lt;/p&gt;</comment>
                            <comment id="17824285" author="claudenw" created="Thu, 7 Mar 2024 07:26:10 +0000"  >&lt;p&gt;The solution was to add a&#160; DefaultParser.Builder with the option setStripLeadingAndTrailingQuotes to change the way quotes are handled.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13048124">PHOENIX-3710</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12427551">CLI-185</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13355354">PHOENIX-6349</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12811555">GROOVY-7352</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://issues.apache.org/jira/browse/GROOVY-7352]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gc7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>