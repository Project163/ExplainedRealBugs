diff --git a/src/main/java/org/apache/commons/mail/ByteArrayDataSource.java b/src/main/java/org/apache/commons/mail/ByteArrayDataSource.java
index 1cf9873..b6b5b02 100644
--- a/src/main/java/org/apache/commons/mail/ByteArrayDataSource.java
+++ b/src/main/java/org/apache/commons/mail/ByteArrayDataSource.java
@@ -34,6 +34,10 @@ import javax.activation.DataSource;
  * - a byte array<br>
  * - a String<br>
  *
+ * <p>
+ * From version 1.3.1, it is possible to set a name for this DataSource,
+ * and it is recommended to do so.
+ *
  * @since 1.0
  * @author <a href="mailto:colin.chalmers@maxware.nl">Colin Chalmers</a>
  * @author <a href="mailto:jon@latchkey.com">Jon S. Stevens</a>
@@ -51,6 +55,13 @@ public class ByteArrayDataSource implements DataSource
     /** The Content-type. */
     private final String type; // = "application/octet-stream";
 
+    /**
+     * The name associated with this data source.
+     * By default, the name is an empty string, similar to javax.mail.util.ByteArrayDataSource.
+     * @since 1.3.1
+     */
+    private String name = "";
+    
     /**
      * Create a datasource from a byte array.
      *
@@ -202,6 +213,17 @@ public class ByteArrayDataSource implements DataSource
         return new ByteArrayInputStream(baos.toByteArray());
     }
 
+    /**
+     * Sets the name for this DataSource.
+     *
+     * @param name The name.
+     * @since 1.3.1
+     */
+    public void setName(String name)
+    {
+        this.name = name;
+    }
+
     /**
      * Get the name.
      *
@@ -210,7 +232,7 @@ public class ByteArrayDataSource implements DataSource
      */
     public String getName()
     {
-        return "ByteArrayDataSource";
+        return name;
     }
 
     /**
diff --git a/src/main/java/org/apache/commons/mail/ImageHtmlEmail.java b/src/main/java/org/apache/commons/mail/ImageHtmlEmail.java
index 4c337bd..01fadad 100644
--- a/src/main/java/org/apache/commons/mail/ImageHtmlEmail.java
+++ b/src/main/java/org/apache/commons/mail/ImageHtmlEmail.java
@@ -161,6 +161,11 @@ public class ImageHtmlEmail extends HtmlEmail
             if (dataSource != null)
             {
                 String name = dataSource.getName();
+                if (EmailUtils.isEmpty(name))
+                {
+                    name = resourceLocation;
+                }
+
                 String cid = cidCache.get(name);
 
                 if (cid == null)
diff --git a/src/main/java/org/apache/commons/mail/resolver/DataSourceClassPathResolver.java b/src/main/java/org/apache/commons/mail/resolver/DataSourceClassPathResolver.java
index dca4f9b..633d909 100644
--- a/src/main/java/org/apache/commons/mail/resolver/DataSourceClassPathResolver.java
+++ b/src/main/java/org/apache/commons/mail/resolver/DataSourceClassPathResolver.java
@@ -93,7 +93,11 @@ public class DataSourceClassPathResolver extends DataSourceBaseResolver
 
                 if (is != null)
                 {
-                    result = new ByteArrayDataSource(is, mimeType);
+                    ByteArrayDataSource ds = new ByteArrayDataSource(is, mimeType);
+                    // EMAIL-125: set the name of the DataSource to the normalized resource URL
+                    // similar to other DataSource implementations, e.g. FileDataSource, URLDataSource
+                    ds.setName(DataSourceClassPathResolver.class.getResource(resourceName).toString());
+                    result = ds;
                 }
                 else
                 {
diff --git a/src/test/java/org/apache/commons/mail/ImageHtmlEmailTest.java b/src/test/java/org/apache/commons/mail/ImageHtmlEmailTest.java
index c109da2..dd5e375 100644
--- a/src/test/java/org/apache/commons/mail/ImageHtmlEmailTest.java
+++ b/src/test/java/org/apache/commons/mail/ImageHtmlEmailTest.java
@@ -278,6 +278,48 @@ public class ImageHtmlEmailTest extends HtmlEmailTest {
         assertTrue(mimeMessageParser.getAttachmentList().size() == 1);
     }
 
+    public void testSendHTMLAutoResolveMultipleFiles() throws Exception {
+        Logger.getLogger(ImageHtmlEmail.class.getName()).setLevel(Level.FINEST);
+
+        // Create the email message
+        getMailServer();
+
+        String strSubject = "Test HTML Send default";
+
+        email = new MockImageHtmlEmailConcrete();
+        DataSourceResolver dataSourceResolver = new DataSourceClassPathResolver("/", true);
+
+        email.setDataSourceResolver(dataSourceResolver);
+        email.setHostName(strTestMailServer);
+        email.setSmtpPort(getMailServerPort());
+        email.setFrom(strTestMailFrom);
+        email.addTo(strTestMailTo);
+        email.setSubject(strSubject);
+
+        String html = "<p>First image  <img src=\"images/contentTypeTest.gif\"/></p>" +
+                      "<p>Second image <img src=\"images/contentTypeTest.jpg\"/></p>" +
+                      "<p>Third image  <img src=\"images/contentTypeTest.png\"/></p>";
+
+        // set the html message
+        email.setHtmlMsg(html);
+
+        // set the alternative message
+        email.setTextMsg("Your email client does not support HTML messages");
+
+        // send the email
+        email.send();
+
+        fakeMailServer.stop();
+
+        assertEquals(1, fakeMailServer.getMessages().size());
+        MimeMessage mimeMessage = fakeMailServer.getMessages().get(0).getMimeMessage();
+        MimeMessageUtils.writeMimeMessage(mimeMessage, new File("./target/test-emails/testSendHTMLAutoMultipleFiles.eml"));
+
+        MimeMessageParser mimeMessageParser = new MimeMessageParser(mimeMessage).parse();
+        assertTrue(mimeMessageParser.getHtmlContent().indexOf("\"cid:") >= 0);
+        assertTrue(mimeMessageParser.getAttachmentList().size() == 3);
+    }
+
     public void testRegex() {
         Pattern pattern = Pattern.compile(ImageHtmlEmail.REGEX_IMG_SRC);
 
