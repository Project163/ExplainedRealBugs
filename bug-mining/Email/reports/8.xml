<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:53:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[EMAIL-79] SimpleEmail#setMsg() with UTF-8 content honors correct charset in header, but doesn&apos;t encode the content correctly</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-79</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;When I create a new SimpleEmail and use setMsg(some-utf8-text), the Content-Type header of the generated email correctly changes to UTF-8, but the content is not encoded correctly.&lt;/p&gt;

&lt;p&gt;Adding setCharset(&quot;UTF-8&quot;) solves the problem, but that shouldn&apos;t be needed, as the change of Content-Type header indicates.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows Vista, JDK 1.6.0_06&lt;/p&gt;</environment>
        <key id="12396809">EMAIL-79</key>
            <summary>SimpleEmail#setMsg() with UTF-8 content honors correct charset in header, but doesn&apos;t encode the content correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="edvin">Edvin Syse</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 May 2008 13:36:11 +0000</created>
                <updated>Sat, 23 Oct 2010 22:25:50 +0000</updated>
                            <resolved>Sun, 5 Apr 2009 20:17:07 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12650445" author="corsc" created="Tue, 25 Nov 2008 02:16:15 +0000"  >&lt;p&gt;Edvin,&lt;/p&gt;

&lt;p&gt;I tried looking into this for you and were unable to come up with a test to prove this condition.&lt;br/&gt;
Could you please see if you can create one so I can move this forward for you?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="12650486" author="edvin" created="Tue, 25 Nov 2008 08:12:15 +0000"  >&lt;p&gt;Please se attached MailTest.java and message.eml and the resulting email when recieved. You need to put commons-email-1.1.jar and mail-1.4.jar on the classpath to run the test. As you see, the subject is encoded correctly, but the body is qp-encoded with latin-1 charset instead of UTF-8. I ran the program with -Dfile.encoding=&quot;UTF-8&quot;. It&apos;s easy to spot, since the each qp-encoded letter in the body only consist of one encoded one-byte sequence instead of two.&lt;/p&gt;</comment>
                            <comment id="12651277" author="corsc" created="Thu, 27 Nov 2008 08:03:08 +0000"  >&lt;p&gt;Edvin,&lt;/p&gt;

&lt;p&gt;I am not sure this is what you wanted but the changes contained are making the simple (and HTML) email classes utilize the charset and content type settings better than they were. (in some cases they werent being used previously)&lt;/p&gt;

&lt;p&gt;You still have to do a email.setCharset() call in order to ensure both the subject and message bodies have the encoding set but I personally feel this is acceptable.  Perhaps because I dont see how the encoding can be reliably determined dynamically or even if it could, it is in side the scope of this library.&lt;/p&gt;</comment>
                            <comment id="12651997" author="edvin" created="Mon, 1 Dec 2008 13:33:12 +0000"  >&lt;p&gt;Thanks, hopefully that will do the trick! I agree that one cannot always determine the correct encoding, but I think it is reasonable that the same encoding should be used in both subject and body even if you don&apos;t supply something explicitely, don&apos;t you agree?&lt;/p&gt;</comment>
                            <comment id="12652237" author="corsc" created="Tue, 2 Dec 2008 02:14:06 +0000"  >&lt;p&gt;That certainly seems logical. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12671232" author="sgoeschl" created="Fri, 6 Feb 2009 18:30:58 +0000"  >&lt;p&gt;I applied the patch but it is breaking a few tests&lt;/p&gt;

&lt;p&gt;  testSendNoAttachments(org.apache.commons.mail.SendWithAttachmentsTest)&lt;br/&gt;
  testSendWAttachments(org.apache.commons.mail.SendWithAttachmentsTest)&lt;br/&gt;
  testSend(org.apache.commons.mail.HtmlEmailTest)&lt;br/&gt;
  testSend2(org.apache.commons.mail.HtmlEmailTest)&lt;br/&gt;
  testHtmlMailMimeLayout(org.apache.commons.mail.EmailLiveTest)&lt;br/&gt;
  testSend(org.apache.commons.mail.MultiPartEmailTest)&lt;/p&gt;

&lt;p&gt;I try to commit my pending changes so that you can have a look at the problems&lt;/p&gt;</comment>
                            <comment id="12672499" author="corsc" created="Wed, 11 Feb 2009 04:07:03 +0000"  >&lt;p&gt;New version of the patch that replaces the earlier one.&lt;/p&gt;

&lt;p&gt;Tests against the current trunk are working again.&lt;/p&gt;</comment>
                            <comment id="12695907" author="sgoeschl" created="Sun, 5 Apr 2009 20:17:07 +0000"  >&lt;p&gt;Works now - thx&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12399963" name="EMAIL-79-patch-v2.txt" size="4482" author="corsc" created="Wed, 11 Feb 2009 04:07:02 +0000"/>
                            <attachment id="12394818" name="EMAIL-79-patch.txt" size="3483" author="corsc" created="Thu, 27 Nov 2008 08:03:08 +0000"/>
                            <attachment id="12394636" name="EmailTest.zip" size="1199" author="edvin" created="Tue, 25 Nov 2008 08:12:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56904</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vmtb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>