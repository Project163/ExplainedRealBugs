<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:54:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[EMAIL-137] MimeMessageParser throws ClassCastException for HtmlEmail</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-137</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;MimeMessageParser throws ClassCastException when parsing just created and built HtmlEmail:&lt;/p&gt;

&lt;p&gt;java.lang.ClassCastException: javax.mail.internet.MimeMultipart cannot be cast to java.lang.String&lt;br/&gt;
    at org.apache.commons.mail.util.MimeMessageParser.parse(MimeMessageParser.java:176) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-email-1.3.2.jar:1.3.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
    at org.apache.commons.mail.util.MimeMessageParser.parse(MimeMessageParser.java:85) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;commons-email-1.3.2.jar:1.3.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
    at utils.EmailSender$.emailForAutomation(EmailSender.scala:382) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;classes/:na&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Here is the test code:&lt;/p&gt;

&lt;p&gt;def emailForAutomation(email: HtmlEmail): String = {&lt;/p&gt;

&lt;p&gt;  email.buildMimeMessage()&lt;br/&gt;
  val mimeMessage = email.getMimeMessage()&lt;/p&gt;

&lt;p&gt;  val parser = new MimeMessageParser(mimeMessage)&lt;br/&gt;
  parser.parse()&lt;/p&gt;

&lt;p&gt;  parser.getHtmlContent()&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 1.6 + Scala 2.10.3 + Play! 2.2.2&lt;/p&gt;</environment>
        <key id="12709459">EMAIL-137</key>
            <summary>MimeMessageParser throws ClassCastException for HtmlEmail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alboko">Alex Kogan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 Apr 2014 16:36:18 +0000</created>
                <updated>Wed, 9 Jul 2014 20:17:41 +0000</updated>
                            <resolved>Tue, 29 Apr 2014 22:33:48 +0000</resolved>
                                    <version>1.3.2</version>
                                    <fixVersion>1.3.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13984910" author="tn" created="Tue, 29 Apr 2014 22:33:48 +0000"  >&lt;p&gt;Fixed in r1591128.&lt;/p&gt;

&lt;p&gt;The problem was that MimePart.isMimeType() was returning wrong results in case of empty content.&lt;/p&gt;

&lt;p&gt;The mime type detection has been improved, and the exception should not occur anymore.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>387781</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 29 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1usuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>388042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>