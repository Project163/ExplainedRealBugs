<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:53:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[EMAIL-35] [email] Embedding raw DataSource Attachments</title>
                <link>https://issues.apache.org/jira/browse/EMAIL-35</link>
                <project id="12310474" key="EMAIL">Commons Email</project>
                    <description>&lt;p&gt;I kick myself for not submitting this prior to 1.0.  An important feature&lt;br/&gt;
missing from org.apache.commons.mail.HtmlEmail is the ability to embed an&lt;br/&gt;
arbitrary DataSource object.  The current API only allows you to embed from a&lt;br/&gt;
URL.  My usage of CommonsEmail often includes the generation of image data&lt;br/&gt;
on-the-fly, where it does not exist at a pre-defined URL.  &lt;/p&gt;

&lt;p&gt;I propose the addition of a key method:&lt;/p&gt;

&lt;p&gt;public String embed(DataSource datasource, String name, String cid) throws&lt;br/&gt;
EmailException&lt;/p&gt;

&lt;p&gt;This will allow us to attach our own datasources in addition to defining our own&lt;br/&gt;
content-ids.  Helper methods can be created to auto-generate CIDs when needed&lt;br/&gt;
and allow for backwards compatability.  I&apos;ve found that being able to provide my&lt;br/&gt;
own defined CIDs has been very helpful in referencing them in my velocity email&lt;br/&gt;
templates.&lt;/p&gt;

&lt;p&gt;I will attach the current EnhancedHtmlEmail class that I have been using for a&lt;br/&gt;
year or so.  It extends HtmlEmail to provide the methods explained above.  I&lt;br/&gt;
would hope to have this capability introduced into the HtmlEmail class.&lt;/p&gt;

&lt;p&gt;Feel free to contact me to discuss further!  Thanks.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342585">EMAIL-35</key>
            <summary>[email] Embedding raw DataSource Attachments</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bens">Ben Speakmon</assignee>
                                    <reporter username="wolfeb@mitre.org">Brandon Wolfe</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Sep 2005 23:07:01 +0000</created>
                <updated>Sat, 9 Jun 2007 23:48:56 +0000</updated>
                            <resolved>Sat, 9 Jun 2007 23:48:56 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12410484" author="wolfeb@mitre.org" created="Wed, 28 Sep 2005 23:09:55 +0000"  >&lt;p&gt;Created an attachment (id=16543)&lt;br/&gt;
Proposed enhancement methods for HtmlEmail class.  Integrate into the API...&lt;/p&gt;</comment>
                            <comment id="12410485" author="diongillard" created="Sun, 12 Feb 2006 20:38:48 +0000"  >&lt;p&gt;This requires an extra dependency on commons-lang which I&apos;d prefer not to have,&lt;br/&gt;
if possible.&lt;/p&gt;

&lt;p&gt;Got another simpler way of getting the cid?&lt;/p&gt;</comment>
                            <comment id="12410486" author="ottuzzi@gmail.com" created="Mon, 13 Feb 2006 20:58:18 +0000"  >&lt;p&gt;(In reply to comment #2)&lt;br/&gt;
&amp;gt; This requires an extra dependency on commons-lang which I&apos;d prefer not to have,&lt;br/&gt;
&amp;gt; if possible.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Got another simpler way of getting the cid?&lt;/p&gt;

&lt;p&gt;You can use EmailUtils.randomAlphabetic() to get what you are looking for.&lt;/p&gt;</comment>
                            <comment id="12461874" author="bens" created="Wed, 3 Jan 2007 00:19:55 +0000"  >&lt;p&gt;I&apos;m attaching a patch against the current HtmlEmail.java that adds Brandon&apos;s changes as well as some added documentation. There&apos;s also a patch for HtmlEmailTest updating testEmbed() to exercise the new embed() methods.&lt;/p&gt;</comment>
                            <comment id="12480073" author="mortenhattesen" created="Mon, 12 Mar 2007 12:54:54 +0000"  >&lt;p&gt;Any chance this patch could be applied sometime soon, so a version 1.1 could be made available?&lt;/p&gt;</comment>
                            <comment id="12503128" author="bens" created="Sat, 9 Jun 2007 23:48:56 +0000"  >&lt;p&gt;I just got in a fix for this. In addition to embedding plain DataSources, you can also now embed Files directly.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12343044">EMAIL-22</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12333824" name="ASF.LICENSE.NOT.GRANTED--EnhancedHtmlEmail.java" size="2976" author="wolfeb@mitre.org" created="Wed, 28 Sep 2005 23:09:55 +0000"/>
                            <attachment id="12348179" name="HtmlEmail.patch" size="5962" author="bens" created="Wed, 3 Jan 2007 00:19:22 +0000"/>
                            <attachment id="12348180" name="HtmlEmailTest.patch" size="1352" author="bens" created="Wed, 3 Jan 2007 00:19:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36844</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vm9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>182579</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>