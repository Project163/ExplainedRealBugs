{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2599","repository_url":"https://api.github.com/repos/seanmonstar/reqwest","labels_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2599/labels{/name}","comments_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2599/comments","events_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2599/events","html_url":"https://github.com/seanmonstar/reqwest/issues/2599","id":2917845228,"node_id":"I_kwDOA7dkLM6t6sjs","number":2599,"title":"The new Windows ProxyOverride handling unconditionally overrides the env var NoProxy behavior","user":{"login":"drewkett","id":2132248,"node_id":"MDQ6VXNlcjIxMzIyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/2132248?v=4","gravatar_id":"","url":"https://api.github.com/users/drewkett","html_url":"https://github.com/drewkett","followers_url":"https://api.github.com/users/drewkett/followers","following_url":"https://api.github.com/users/drewkett/following{/other_user}","gists_url":"https://api.github.com/users/drewkett/gists{/gist_id}","starred_url":"https://api.github.com/users/drewkett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewkett/subscriptions","organizations_url":"https://api.github.com/users/drewkett/orgs","repos_url":"https://api.github.com/users/drewkett/repos","events_url":"https://api.github.com/users/drewkett/events{/privacy}","received_events_url":"https://api.github.com/users/drewkett/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2025-03-13T16:54:53Z","updated_at":"2025-03-18T14:11:36Z","closed_at":"2025-03-18T14:11:36Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I believe the new handling of looking at ProxyOverride in #2559 now unconditionally overrides any NO_PROXY environment variables on Windows. This breaks current workflows for me. My expectation is that those settings would be appended to the list of no proxy settings found from the environment variables. Or at a minimum not override the ones from the environment variables if the environment variable isn't set.\n\nSpecifically this change is what i'm referring to, where the windows block is new with the mentioned PR.\n```\n        proxy.no_proxy = NoProxy::from_env();\n\n        #[cfg(target_os = \"windows\")]\n        {\n            let win_exceptions: String = get_windows_proxy_exceptions();\n            proxy.no_proxy = NoProxy::from_string(&win_exceptions);\n        }\n\n```","closed_by":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2599/timeline","performed_via_github_app":null,"state_reason":"completed"}