[{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016368156","html_url":"https://github.com/seanmonstar/reqwest/issues/2202#issuecomment-2016368156","issue_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2202","id":2016368156,"node_id":"IC_kwDOA7dkLM54L1Yc","user":{"login":"cxw620","id":70561268,"node_id":"MDQ6VXNlcjcwNTYxMjY4","avatar_url":"https://avatars.githubusercontent.com/u/70561268?v=4","gravatar_id":"","url":"https://api.github.com/users/cxw620","html_url":"https://github.com/cxw620","followers_url":"https://api.github.com/users/cxw620/followers","following_url":"https://api.github.com/users/cxw620/following{/other_user}","gists_url":"https://api.github.com/users/cxw620/gists{/gist_id}","starred_url":"https://api.github.com/users/cxw620/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cxw620/subscriptions","organizations_url":"https://api.github.com/users/cxw620/orgs","repos_url":"https://api.github.com/users/cxw620/repos","events_url":"https://api.github.com/users/cxw620/events{/privacy}","received_events_url":"https://api.github.com/users/cxw620/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T06:02:50Z","updated_at":"2024-03-23T06:02:50Z","body":"Cannot reproduce. You may check if you request were risk controlled for missing headers, invalid UA, etc.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016368156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cxw620","id":70561268,"node_id":"MDQ6VXNlcjcwNTYxMjY4","avatar_url":"https://avatars.githubusercontent.com/u/70561268?v=4","gravatar_id":"","url":"https://api.github.com/users/cxw620","html_url":"https://github.com/cxw620","followers_url":"https://api.github.com/users/cxw620/followers","following_url":"https://api.github.com/users/cxw620/following{/other_user}","gists_url":"https://api.github.com/users/cxw620/gists{/gist_id}","starred_url":"https://api.github.com/users/cxw620/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cxw620/subscriptions","organizations_url":"https://api.github.com/users/cxw620/orgs","repos_url":"https://api.github.com/users/cxw620/repos","events_url":"https://api.github.com/users/cxw620/events{/privacy}","received_events_url":"https://api.github.com/users/cxw620/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016521336","html_url":"https://github.com/seanmonstar/reqwest/issues/2202#issuecomment-2016521336","issue_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2202","id":2016521336,"node_id":"IC_kwDOA7dkLM54Max4","user":{"login":"NTmatter","id":243993,"node_id":"MDQ6VXNlcjI0Mzk5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/243993?v=4","gravatar_id":"","url":"https://api.github.com/users/NTmatter","html_url":"https://github.com/NTmatter","followers_url":"https://api.github.com/users/NTmatter/followers","following_url":"https://api.github.com/users/NTmatter/following{/other_user}","gists_url":"https://api.github.com/users/NTmatter/gists{/gist_id}","starred_url":"https://api.github.com/users/NTmatter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NTmatter/subscriptions","organizations_url":"https://api.github.com/users/NTmatter/orgs","repos_url":"https://api.github.com/users/NTmatter/repos","events_url":"https://api.github.com/users/NTmatter/events{/privacy}","received_events_url":"https://api.github.com/users/NTmatter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T15:13:17Z","updated_at":"2024-03-23T15:13:17Z","body":"Thanks for taking a look. I don't think the headers are the issue in this case, but it's definitely possible that the problem lies elsewhere, probably a weird interaction between Figma's tech stack and Reqwest's dependencies. I'll try to do some additional testing, varying by egress location, platform, architecture, and TLS provider.\r\n\r\nWith regards to bad headers, I'm intentionally not submitting any headers to keep the test case brief. With the code as written I get a 200 Success in 0.11.27, and a 400 Error on 0.12.x. The code, hardware, environment, and IP address are all identical. If _you_ aren't experiencing the same change of behavior between versions, then something subtle and strange is happening somewhere. :)\r\n\r\nJust to add some data points, `https://api.figma.com/v1/me`,  0.11.27 correctly returns a 403 Forbidden with body `{\"status\":403, \"err\": \"Invalid token\"}` whereas 0.12.1 still comes back with a 400 Bad Request error identical to the above. When supplying a proper bearer token, I'm able to query the API without issue in 0.11.27, while I only get 400's in 0.12.x.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016521336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NTmatter","id":243993,"node_id":"MDQ6VXNlcjI0Mzk5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/243993?v=4","gravatar_id":"","url":"https://api.github.com/users/NTmatter","html_url":"https://github.com/NTmatter","followers_url":"https://api.github.com/users/NTmatter/followers","following_url":"https://api.github.com/users/NTmatter/following{/other_user}","gists_url":"https://api.github.com/users/NTmatter/gists{/gist_id}","starred_url":"https://api.github.com/users/NTmatter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NTmatter/subscriptions","organizations_url":"https://api.github.com/users/NTmatter/orgs","repos_url":"https://api.github.com/users/NTmatter/repos","events_url":"https://api.github.com/users/NTmatter/events{/privacy}","received_events_url":"https://api.github.com/users/NTmatter/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016525950","html_url":"https://github.com/seanmonstar/reqwest/issues/2202#issuecomment-2016525950","issue_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2202","id":2016525950,"node_id":"IC_kwDOA7dkLM54Mb5-","user":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T15:32:04Z","updated_at":"2024-03-23T15:32:04Z","body":"Is it the HTTP version? I wonder if the recent fix for ALPN is what was missing?","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016525950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016554013","html_url":"https://github.com/seanmonstar/reqwest/issues/2202#issuecomment-2016554013","issue_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2202","id":2016554013,"node_id":"IC_kwDOA7dkLM54Miwd","user":{"login":"NTmatter","id":243993,"node_id":"MDQ6VXNlcjI0Mzk5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/243993?v=4","gravatar_id":"","url":"https://api.github.com/users/NTmatter","html_url":"https://github.com/NTmatter","followers_url":"https://api.github.com/users/NTmatter/followers","following_url":"https://api.github.com/users/NTmatter/following{/other_user}","gists_url":"https://api.github.com/users/NTmatter/gists{/gist_id}","starred_url":"https://api.github.com/users/NTmatter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NTmatter/subscriptions","organizations_url":"https://api.github.com/users/NTmatter/orgs","repos_url":"https://api.github.com/users/NTmatter/repos","events_url":"https://api.github.com/users/NTmatter/events{/privacy}","received_events_url":"https://api.github.com/users/NTmatter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T17:26:22Z","updated_at":"2024-03-23T17:26:22Z","body":"I tried adding the `native-tls-alpn` feature, and all of my 0.12 tests are failing, rather than just the ones against the API.\r\n`thread 'figma_root_12' panicked at src/main.rs:23:59:\r\ncalled `Result::unwrap()` on an `Err` value: reqwest::Error { kind: Request, url: Url { scheme: \"https\", cannot_be_a_base: false, username: \"\", password: None, host: Some(Domain(\"figma.com\")), port: None, path: \"/\", query: None, fragment: None }, source: Error { kind: SendRequest, source: Some(hyper::Error(Parse(Version))) } }`\r\n\r\nUpdated main.rs for easier testing:\r\n```rust\r\n#[tokio::main]\r\nasync fn main() {\r\n    println!(\"It Works! (on my machine)\");\r\n}\r\n\r\n#[tokio::test]\r\nasync fn figma_root_11() {\r\n    let res = reqwest_11::get(\"https://figma.com/\").await.unwrap();\r\n    assert_eq!(res.status(), 200, \"Expected 200 Success: {res:#?}\");\r\n}\r\n\r\n#[tokio::test]\r\nasync fn figma_root_12() {\r\n    let res = reqwest_12::get(\"https://figma.com/\").await.unwrap();\r\n    assert_eq!(res.status(), 200, \"Expected 200 Success: {res:#?}\");\r\n}\r\n\r\n#[tokio::test]\r\nasync fn figma_www_root_11() {\r\n    let res = reqwest_11::get(\"https://www.figma.com/\").await.unwrap();\r\n    assert_eq!(res.status(), 200, \"Expected 200 Success: {res:#?}\");\r\n}\r\n\r\n#[tokio::test]\r\nasync fn figma_www_root_12() {\r\n    let res = reqwest_12::get(\"https://www.figma.com/\").await.unwrap();\r\n    assert_eq!(res.status(), 200, \"Expected 200 Success: {res:#?}\");\r\n}\r\n\r\n#[tokio::test]\r\nasync fn figma_api_root_11() {\r\n    let res = reqwest_11::get(\"https://api.figma.com/\").await.unwrap();\r\n    assert_eq!(res.status(), 200, \"Expected 200 Success: {res:#?}\");\r\n}\r\n\r\n#[tokio::test]\r\nasync fn figma_api_root_12() {\r\n    let res = reqwest_12::get(\"https://api.figma.com/\").await.unwrap();\r\n    assert_eq!(res.status(), 200, \"Expected 200 Success: {res:#?}\");\r\n}\r\n\r\n#[tokio::test]\r\nasync fn figma_api_me_11() {\r\n    let res = reqwest_11::get(\"https://api.figma.com/v1/me\")\r\n        .await\r\n        .unwrap();\r\n    assert_eq!(res.status(), 403, \"Expected 403 Forbidden: {res:#?}\");\r\n}\r\n\r\n#[tokio::test]\r\nasync fn figma_api_api_me_12() {\r\n    let res = reqwest_12::get(\"https://api.figma.com/v1/me\")\r\n        .await\r\n        .unwrap();\r\n    assert_eq!(res.status(), 403, \"Expected 403 Forbidden: {res:#?}\");\r\n}\r\n```\r\n\r\ncargo.toml:\r\n```toml\r\n[package]\r\nname = \"reqwest-narrowing\"\r\nversion = \"0.1.0\"\r\nedition = \"2021\"\r\npublish = false\r\n\r\n[dependencies]\r\nanyhow = \"1.0.81\"\r\nreqwest_11 = { package = \"reqwest\", version = \"=0.11.27\",  default-features = false, features = [\"default-tls\", \"native-tls-alpn\"]  }\r\nreqwest_12 = { package = \"reqwest\", version = \"=0.12.1\", default-features = false, features = [\"default-tls\", \"native-tls-alpn\"]  }\r\ntokio = { version = \"1.36.0\", features = [\"full\"] }\r\n```\r\n\r\nUsing `native-tls` without `native-tls-alpn`, I get the original errors. Looking a bit more closely at it, CloudFront is definitely unhappy with something.\r\n```text\r\nthread 'figma_api_root_12' panicked at src/main.rs:39:5:\r\nassertion `left == right` failed: Expected 200 Success: Response {\r\n    url: Url {\r\n        scheme: \"https\",\r\n        cannot_be_a_base: false,\r\n        username: \"\",\r\n        password: None,\r\n        host: Some(\r\n            Domain(\r\n                \"api.figma.com\",\r\n            ),\r\n        ),\r\n        port: None,\r\n        path: \"/\",\r\n        query: None,\r\n        fragment: None,\r\n    },\r\n    status: 400,\r\n    headers: {\r\n        \"content-type\": \"text/html\",\r\n        \"content-length\": \"122\",\r\n        \"connection\": \"keep-alive\",\r\n        \"server\": \"awselb/2.0\",\r\n        \"date\": \"Sat, 23 Mar 2024 17:15:28 GMT\",\r\n        \"x-cache\": \"Error from cloudfront\",\r\n        \"via\": \"1.1 9857ab0da41c7a88865f55b9cdc654ac.cloudfront.net (CloudFront)\",\r\n        \"x-amz-cf-pop\": \"BRU50-P1\",\r\n        \"alt-svc\": \"h3=\\\":443\\\"; ma=86400\",\r\n        \"x-amz-cf-id\": \"KjDkHp4V54YzJ07HnVqvrRR84p5spOSlo_ZERc4pJreT3iB2Z-BPjQ==\",\r\n        \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\r\n    },\r\n}\r\n  left: 400\r\n right: 200\r\n```\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016554013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NTmatter","id":243993,"node_id":"MDQ6VXNlcjI0Mzk5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/243993?v=4","gravatar_id":"","url":"https://api.github.com/users/NTmatter","html_url":"https://github.com/NTmatter","followers_url":"https://api.github.com/users/NTmatter/followers","following_url":"https://api.github.com/users/NTmatter/following{/other_user}","gists_url":"https://api.github.com/users/NTmatter/gists{/gist_id}","starred_url":"https://api.github.com/users/NTmatter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NTmatter/subscriptions","organizations_url":"https://api.github.com/users/NTmatter/orgs","repos_url":"https://api.github.com/users/NTmatter/repos","events_url":"https://api.github.com/users/NTmatter/events{/privacy}","received_events_url":"https://api.github.com/users/NTmatter/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016555392","html_url":"https://github.com/seanmonstar/reqwest/issues/2202#issuecomment-2016555392","issue_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2202","id":2016555392,"node_id":"IC_kwDOA7dkLM54MjGA","user":{"login":"cxw620","id":70561268,"node_id":"MDQ6VXNlcjcwNTYxMjY4","avatar_url":"https://avatars.githubusercontent.com/u/70561268?v=4","gravatar_id":"","url":"https://api.github.com/users/cxw620","html_url":"https://github.com/cxw620","followers_url":"https://api.github.com/users/cxw620/followers","following_url":"https://api.github.com/users/cxw620/following{/other_user}","gists_url":"https://api.github.com/users/cxw620/gists{/gist_id}","starred_url":"https://api.github.com/users/cxw620/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cxw620/subscriptions","organizations_url":"https://api.github.com/users/cxw620/orgs","repos_url":"https://api.github.com/users/cxw620/repos","events_url":"https://api.github.com/users/cxw620/events{/privacy}","received_events_url":"https://api.github.com/users/cxw620/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T17:31:49Z","updated_at":"2024-03-23T19:06:54Z","body":"I successfully reproduce it and native-tls alpn should take the blame. #2165 partially fix this issue(through feat `native-tls-alpn` enabled). I'm investigating details.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016555392/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cxw620","id":70561268,"node_id":"MDQ6VXNlcjcwNTYxMjY4","avatar_url":"https://avatars.githubusercontent.com/u/70561268?v=4","gravatar_id":"","url":"https://api.github.com/users/cxw620","html_url":"https://github.com/cxw620","followers_url":"https://api.github.com/users/cxw620/followers","following_url":"https://api.github.com/users/cxw620/following{/other_user}","gists_url":"https://api.github.com/users/cxw620/gists{/gist_id}","starred_url":"https://api.github.com/users/cxw620/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cxw620/subscriptions","organizations_url":"https://api.github.com/users/cxw620/orgs","repos_url":"https://api.github.com/users/cxw620/repos","events_url":"https://api.github.com/users/cxw620/events{/privacy}","received_events_url":"https://api.github.com/users/cxw620/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016556217","html_url":"https://github.com/seanmonstar/reqwest/issues/2202#issuecomment-2016556217","issue_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2202","id":2016556217,"node_id":"IC_kwDOA7dkLM54MjS5","user":{"login":"NTmatter","id":243993,"node_id":"MDQ6VXNlcjI0Mzk5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/243993?v=4","gravatar_id":"","url":"https://api.github.com/users/NTmatter","html_url":"https://github.com/NTmatter","followers_url":"https://api.github.com/users/NTmatter/followers","following_url":"https://api.github.com/users/NTmatter/following{/other_user}","gists_url":"https://api.github.com/users/NTmatter/gists{/gist_id}","starred_url":"https://api.github.com/users/NTmatter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NTmatter/subscriptions","organizations_url":"https://api.github.com/users/NTmatter/orgs","repos_url":"https://api.github.com/users/NTmatter/repos","events_url":"https://api.github.com/users/NTmatter/events{/privacy}","received_events_url":"https://api.github.com/users/NTmatter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T17:35:03Z","updated_at":"2024-03-23T17:35:03Z","body":"With regards to HTTP version, I've tried forcing HTTP 1:\r\n```rust\r\n#[tokio::test]\r\nasync fn figma_api_root_http1_12() {\r\n    let client = reqwest_12::Client::builder().http1_only().build().unwrap();\r\n    let res = client.get(\"https://api.figma.com/\")\r\n        .send()\r\n        .await\r\n        .unwrap();\r\n    assert_eq!(res.status(), 200, \"Expected 403 Forbidden: {res:#?}\");\r\n}\r\n\r\n#[tokio::test]\r\nasync fn figma_api_root_http1_11() {\r\n    let client = reqwest_11::Client::builder().http1_only().build().unwrap();\r\n    let res = client.get(\"https://api.figma.com/\")\r\n        .send()\r\n        .await\r\n        .unwrap();\r\n    assert_eq!(res.status(), 200, \"Expected 403 Forbidden: {res:#?}\");\r\n}\r\n```\r\n\r\nStill no luck in 0.12:\r\n```text\r\nthread 'figma_api_root_http1_12' panicked at src/main.rs:66:5:\r\nassertion `left == right` failed: Expected 403 Forbidden: Response {\r\n    url: Url {\r\n        scheme: \"https\",\r\n        cannot_be_a_base: false,\r\n        username: \"\",\r\n        password: None,\r\n        host: Some(\r\n            Domain(\r\n                \"api.figma.com\",\r\n            ),\r\n        ),\r\n        port: None,\r\n        path: \"/\",\r\n        query: None,\r\n        fragment: None,\r\n    },\r\n    status: 400,\r\n    headers: {\r\n        \"content-type\": \"text/html\",\r\n        \"content-length\": \"122\",\r\n        \"connection\": \"keep-alive\",\r\n        \"server\": \"awselb/2.0\",\r\n        \"date\": \"Sat, 23 Mar 2024 17:34:07 GMT\",\r\n        \"x-cache\": \"Error from cloudfront\",\r\n        \"via\": \"1.1 00f66bc6263192200d1a0cdb83e969f8.cloudfront.net (CloudFront)\",\r\n        \"x-amz-cf-pop\": \"AMS1-P1\",\r\n        \"alt-svc\": \"h3=\\\":443\\\"; ma=86400\",\r\n        \"x-amz-cf-id\": \"EteG0kIXI6Rp5Nea2spoG8GO1apYn8leUqtCg0umO4hJAtNGC00__A==\",\r\n        \"strict-transport-security\": \"max-age=31536000; includeSubDomains; preload\",\r\n    },\r\n}\r\n  left: 400\r\n right: 200\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016556217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"NTmatter","id":243993,"node_id":"MDQ6VXNlcjI0Mzk5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/243993?v=4","gravatar_id":"","url":"https://api.github.com/users/NTmatter","html_url":"https://github.com/NTmatter","followers_url":"https://api.github.com/users/NTmatter/followers","following_url":"https://api.github.com/users/NTmatter/following{/other_user}","gists_url":"https://api.github.com/users/NTmatter/gists{/gist_id}","starred_url":"https://api.github.com/users/NTmatter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NTmatter/subscriptions","organizations_url":"https://api.github.com/users/NTmatter/orgs","repos_url":"https://api.github.com/users/NTmatter/repos","events_url":"https://api.github.com/users/NTmatter/events{/privacy}","received_events_url":"https://api.github.com/users/NTmatter/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016577201","html_url":"https://github.com/seanmonstar/reqwest/issues/2202#issuecomment-2016577201","issue_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2202","id":2016577201,"node_id":"IC_kwDOA7dkLM54Moax","user":{"login":"cxw620","id":70561268,"node_id":"MDQ6VXNlcjcwNTYxMjY4","avatar_url":"https://avatars.githubusercontent.com/u/70561268?v=4","gravatar_id":"","url":"https://api.github.com/users/cxw620","html_url":"https://github.com/cxw620","followers_url":"https://api.github.com/users/cxw620/followers","following_url":"https://api.github.com/users/cxw620/following{/other_user}","gists_url":"https://api.github.com/users/cxw620/gists{/gist_id}","starred_url":"https://api.github.com/users/cxw620/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cxw620/subscriptions","organizations_url":"https://api.github.com/users/cxw620/orgs","repos_url":"https://api.github.com/users/cxw620/repos","events_url":"https://api.github.com/users/cxw620/events{/privacy}","received_events_url":"https://api.github.com/users/cxw620/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T19:04:08Z","updated_at":"2024-03-23T19:07:51Z","body":"Through investgation, I think `reqwest` may do nothing wrong but `hyper`.\r\n\r\n0.11.27\r\n```\r\nGET /v1/me HTTP/1.1\r\naccept: */*\r\nhost: api.figma.com\r\n```\r\n\r\n0.12.1\r\n```\r\nGET /v1/me HTTP/1.1\r\naccept: */*\r\nhost: api.figma.com\r\ncontent-length: 0\r\n```\r\n\r\nWe can see what's different is just `content-length`.\r\n\r\nIt's added here in hyper:\r\n![image](https://github.com/seanmonstar/reqwest/assets/70561268/240f9a59-24ba-496e-aec6-587af99a2ab7)\r\n\r\nTested manually with `openssl s_client -connect api.figma.com:443`:\r\n\r\n![image](https://github.com/seanmonstar/reqwest/assets/70561268/4513747f-27c9-44e3-9123-dce62a02674f)\r\n![image](https://github.com/seanmonstar/reqwest/assets/70561268/b5d69a86-c3e1-4852-937a-b1e66010ec40)\r\n![image](https://github.com/seanmonstar/reqwest/assets/70561268/882d7efb-71f7-42a2-aba3-890f1aa6634b)\r\n![image](https://github.com/seanmonstar/reqwest/assets/70561268/ff63ab51-2742-4a74-a846-674fa065fced)\r\n\r\nSo funny test result...\r\n\r\nWhen enable alpn, h2 will be used and `content-length` will not be added, so everything works well.\r\n\r\nNot familiar with `hyper` and more details should be investigated.\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016577201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cxw620","id":70561268,"node_id":"MDQ6VXNlcjcwNTYxMjY4","avatar_url":"https://avatars.githubusercontent.com/u/70561268?v=4","gravatar_id":"","url":"https://api.github.com/users/cxw620","html_url":"https://github.com/cxw620","followers_url":"https://api.github.com/users/cxw620/followers","following_url":"https://api.github.com/users/cxw620/following{/other_user}","gists_url":"https://api.github.com/users/cxw620/gists{/gist_id}","starred_url":"https://api.github.com/users/cxw620/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cxw620/subscriptions","organizations_url":"https://api.github.com/users/cxw620/orgs","repos_url":"https://api.github.com/users/cxw620/repos","events_url":"https://api.github.com/users/cxw620/events{/privacy}","received_events_url":"https://api.github.com/users/cxw620/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016580250","html_url":"https://github.com/seanmonstar/reqwest/issues/2202#issuecomment-2016580250","issue_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2202","id":2016580250,"node_id":"IC_kwDOA7dkLM54MpKa","user":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-23T19:17:30Z","updated_at":"2024-03-23T19:17:30Z","body":"Hmmm. Or it could be that as part of the upgrade, since I changed around the body implementation, it might be indicating there is a body to send (but ends up being empty).","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2016580250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"blyxxyz","id":15526524,"node_id":"MDQ6VXNlcjE1NTI2NTI0","avatar_url":"https://avatars.githubusercontent.com/u/15526524?v=4","gravatar_id":"","url":"https://api.github.com/users/blyxxyz","html_url":"https://github.com/blyxxyz","followers_url":"https://api.github.com/users/blyxxyz/followers","following_url":"https://api.github.com/users/blyxxyz/following{/other_user}","gists_url":"https://api.github.com/users/blyxxyz/gists{/gist_id}","starred_url":"https://api.github.com/users/blyxxyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blyxxyz/subscriptions","organizations_url":"https://api.github.com/users/blyxxyz/orgs","repos_url":"https://api.github.com/users/blyxxyz/repos","events_url":"https://api.github.com/users/blyxxyz/events{/privacy}","received_events_url":"https://api.github.com/users/blyxxyz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-25T21:46:36Z","updated_at":"2024-03-25T21:46:36Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/ducaale/xh/issues/357","repository_url":"https://api.github.com/repos/ducaale/xh","labels_url":"https://api.github.com/repos/ducaale/xh/issues/357/labels{/name}","comments_url":"https://api.github.com/repos/ducaale/xh/issues/357/comments","events_url":"https://api.github.com/repos/ducaale/xh/issues/357/events","html_url":"https://github.com/ducaale/xh/pull/357","id":2201940118,"node_id":"PR_kwDOEY4I3c5qdW2J","number":357,"title":"hyper v1 upgrade","user":{"login":"zuisong","id":19145952,"node_id":"MDQ6VXNlcjE5MTQ1OTUy","avatar_url":"https://avatars.githubusercontent.com/u/19145952?v=4","gravatar_id":"","url":"https://api.github.com/users/zuisong","html_url":"https://github.com/zuisong","followers_url":"https://api.github.com/users/zuisong/followers","following_url":"https://api.github.com/users/zuisong/following{/other_user}","gists_url":"https://api.github.com/users/zuisong/gists{/gist_id}","starred_url":"https://api.github.com/users/zuisong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuisong/subscriptions","organizations_url":"https://api.github.com/users/zuisong/orgs","repos_url":"https://api.github.com/users/zuisong/repos","events_url":"https://api.github.com/users/zuisong/events{/privacy}","received_events_url":"https://api.github.com/users/zuisong/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2024-03-22T08:15:54Z","updated_at":"2024-04-05T16:52:51Z","closed_at":"2024-04-05T16:47:41Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":294521053,"node_id":"MDEwOlJlcG9zaXRvcnkyOTQ1MjEwNTM=","name":"xh","full_name":"ducaale/xh","private":false,"owner":{"login":"ducaale","id":16341131,"node_id":"MDQ6VXNlcjE2MzQxMTMx","avatar_url":"https://avatars.githubusercontent.com/u/16341131?v=4","gravatar_id":"","url":"https://api.github.com/users/ducaale","html_url":"https://github.com/ducaale","followers_url":"https://api.github.com/users/ducaale/followers","following_url":"https://api.github.com/users/ducaale/following{/other_user}","gists_url":"https://api.github.com/users/ducaale/gists{/gist_id}","starred_url":"https://api.github.com/users/ducaale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ducaale/subscriptions","organizations_url":"https://api.github.com/users/ducaale/orgs","repos_url":"https://api.github.com/users/ducaale/repos","events_url":"https://api.github.com/users/ducaale/events{/privacy}","received_events_url":"https://api.github.com/users/ducaale/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ducaale/xh","description":"Friendly and fast tool for sending HTTP requests","fork":false,"url":"https://api.github.com/repos/ducaale/xh","forks_url":"https://api.github.com/repos/ducaale/xh/forks","keys_url":"https://api.github.com/repos/ducaale/xh/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ducaale/xh/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ducaale/xh/teams","hooks_url":"https://api.github.com/repos/ducaale/xh/hooks","issue_events_url":"https://api.github.com/repos/ducaale/xh/issues/events{/number}","events_url":"https://api.github.com/repos/ducaale/xh/events","assignees_url":"https://api.github.com/repos/ducaale/xh/assignees{/user}","branches_url":"https://api.github.com/repos/ducaale/xh/branches{/branch}","tags_url":"https://api.github.com/repos/ducaale/xh/tags","blobs_url":"https://api.github.com/repos/ducaale/xh/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ducaale/xh/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ducaale/xh/git/refs{/sha}","trees_url":"https://api.github.com/repos/ducaale/xh/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ducaale/xh/statuses/{sha}","languages_url":"https://api.github.com/repos/ducaale/xh/languages","stargazers_url":"https://api.github.com/repos/ducaale/xh/stargazers","contributors_url":"https://api.github.com/repos/ducaale/xh/contributors","subscribers_url":"https://api.github.com/repos/ducaale/xh/subscribers","subscription_url":"https://api.github.com/repos/ducaale/xh/subscription","commits_url":"https://api.github.com/repos/ducaale/xh/commits{/sha}","git_commits_url":"https://api.github.com/repos/ducaale/xh/git/commits{/sha}","comments_url":"https://api.github.com/repos/ducaale/xh/comments{/number}","issue_comment_url":"https://api.github.com/repos/ducaale/xh/issues/comments{/number}","contents_url":"https://api.github.com/repos/ducaale/xh/contents/{+path}","compare_url":"https://api.github.com/repos/ducaale/xh/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ducaale/xh/merges","archive_url":"https://api.github.com/repos/ducaale/xh/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ducaale/xh/downloads","issues_url":"https://api.github.com/repos/ducaale/xh/issues{/number}","pulls_url":"https://api.github.com/repos/ducaale/xh/pulls{/number}","milestones_url":"https://api.github.com/repos/ducaale/xh/milestones{/number}","notifications_url":"https://api.github.com/repos/ducaale/xh/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ducaale/xh/labels{/name}","releases_url":"https://api.github.com/repos/ducaale/xh/releases{/id}","deployments_url":"https://api.github.com/repos/ducaale/xh/deployments","created_at":"2020-09-10T20:58:13Z","updated_at":"2025-11-09T14:29:50Z","pushed_at":"2025-10-17T16:16:05Z","git_url":"git://github.com/ducaale/xh.git","ssh_url":"git@github.com:ducaale/xh.git","clone_url":"https://github.com/ducaale/xh.git","svn_url":"https://github.com/ducaale/xh","homepage":"","size":2655,"stargazers_count":7273,"watchers_count":7273,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":112,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":33,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api-testing","cli","developer-tools","http-client","rust","terminal"],"visibility":"public","forks":112,"open_issues":33,"watchers":7273,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/ducaale/xh/pulls/357","html_url":"https://github.com/ducaale/xh/pull/357","diff_url":"https://github.com/ducaale/xh/pull/357.diff","patch_url":"https://github.com/ducaale/xh/pull/357.patch","merged_at":"2024-04-05T16:47:41Z"},"body":null,"reactions":{"url":"https://api.github.com/repos/ducaale/xh/issues/357/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":3,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ducaale/xh/issues/357/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2019348340","html_url":"https://github.com/seanmonstar/reqwest/issues/2202#issuecomment-2019348340","issue_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2202","id":2019348340,"node_id":"IC_kwDOA7dkLM54XM90","user":{"login":"zuisong","id":19145952,"node_id":"MDQ6VXNlcjE5MTQ1OTUy","avatar_url":"https://avatars.githubusercontent.com/u/19145952?v=4","gravatar_id":"","url":"https://api.github.com/users/zuisong","html_url":"https://github.com/zuisong","followers_url":"https://api.github.com/users/zuisong/followers","following_url":"https://api.github.com/users/zuisong/following{/other_user}","gists_url":"https://api.github.com/users/zuisong/gists{/gist_id}","starred_url":"https://api.github.com/users/zuisong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuisong/subscriptions","organizations_url":"https://api.github.com/users/zuisong/orgs","repos_url":"https://api.github.com/users/zuisong/repos","events_url":"https://api.github.com/users/zuisong/events{/privacy}","received_events_url":"https://api.github.com/users/zuisong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T04:11:56Z","updated_at":"2024-03-26T07:15:41Z","body":"I am willing to try to fix this issue.\r\n\r\n\r\nWhen making a request to an HTTPS website, a Content-Length: 0 request header is added. \r\n\r\nHowever, for HTTP websites, this request header is not added.\r\n\r\n\r\n---\r\nrequest to `https://httpbin.org/anything` \r\n```\r\n❯ cargo run --example simple  https://httpbin.org/anything\r\n    Finished dev [unoptimized + debuginfo] target(s) in 0.18s\r\n     Running `/Users/chen/.rust-target/debug/examples/simple 'https://httpbin.org/anything'`\r\nFetching \"https://httpbin.org/anything\"...\r\nResponse: HTTP/1.1 200 OK\r\nHeaders: {\r\n    \"date\": \"Tue, 26 Mar 2024 07:03:33 GMT\",\r\n    \"content-type\": \"application/json\",\r\n    \"content-length\": \"339\",\r\n    \"connection\": \"keep-alive\",\r\n    \"server\": \"gunicorn/19.9.0\",\r\n    \"access-control-allow-origin\": \"*\",\r\n    \"access-control-allow-credentials\": \"true\",\r\n}\r\n\r\n{\r\n  \"args\": {}, \r\n  \"data\": \"\", \r\n  \"files\": {}, \r\n  \"form\": {}, \r\n  \"headers\": {\r\n    \"Accept\": \"*/*\", \r\n    \"Content-Length\": \"0\", \r\n    \"Host\": \"httpbin.org\", \r\n    \"X-Amzn-Trace-Id\": \"Root=1-66027345-4fa3fe350e01878628a9e502\"\r\n  }, \r\n  \"json\": null, \r\n  \"method\": \"GET\", \r\n  \"origin\": \"103.167.134.150\", \r\n  \"url\": \"https://httpbin.org/anything\"\r\n}\r\n```\r\nrequest to `http://httpbin.org/anything` \r\n```\r\n❯ cargo run --example simple  http://httpbin.org/anything\r\n    Finished dev [unoptimized + debuginfo] target(s) in 0.18s\r\n     Running `/Users/chen/.rust-target/debug/examples/simple 'http://httpbin.org/anything'`\r\nFetching \"http://httpbin.org/anything\"...\r\nResponse: HTTP/1.1 200 OK\r\nHeaders: {\r\n    \"connection\": \"close\",\r\n    \"content-length\": \"383\",\r\n    \"access-control-allow-credentials\": \"true\",\r\n    \"access-control-allow-origin\": \"*\",\r\n    \"content-type\": \"application/json\",\r\n    \"date\": \"Tue, 26 Mar 2024 07:03:48 GMT\",\r\n    \"server\": \"gunicorn/19.9.0\",\r\n}\r\n\r\n{\r\n  \"args\": {}, \r\n  \"data\": \"\", \r\n  \"files\": {}, \r\n  \"form\": {}, \r\n  \"headers\": {\r\n    \"Accept\": \"*/*\", \r\n    \"Accept-Encoding\": \"gzip\", \r\n    \"Host\": \"httpbin.org\", \r\n    \"User-Agent\": \"Go-http-client/1.1\", \r\n    \"X-Amzn-Trace-Id\": \"Root=1-66027354-206384396fcdddbc0e226b85\"\r\n  }, \r\n  \"json\": null, \r\n  \"method\": \"GET\", \r\n  \"origin\": \"103.167.134.150\", \r\n  \"url\": \"http://httpbin.org/anything\"\r\n}\r\n```\r\n\r\n\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2019348340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zuisong","id":19145952,"node_id":"MDQ6VXNlcjE5MTQ1OTUy","avatar_url":"https://avatars.githubusercontent.com/u/19145952?v=4","gravatar_id":"","url":"https://api.github.com/users/zuisong","html_url":"https://github.com/zuisong","followers_url":"https://api.github.com/users/zuisong/followers","following_url":"https://api.github.com/users/zuisong/following{/other_user}","gists_url":"https://api.github.com/users/zuisong/gists{/gist_id}","starred_url":"https://api.github.com/users/zuisong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuisong/subscriptions","organizations_url":"https://api.github.com/users/zuisong/orgs","repos_url":"https://api.github.com/users/zuisong/repos","events_url":"https://api.github.com/users/zuisong/events{/privacy}","received_events_url":"https://api.github.com/users/zuisong/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"zuisong","id":19145952,"node_id":"MDQ6VXNlcjE5MTQ1OTUy","avatar_url":"https://avatars.githubusercontent.com/u/19145952?v=4","gravatar_id":"","url":"https://api.github.com/users/zuisong","html_url":"https://github.com/zuisong","followers_url":"https://api.github.com/users/zuisong/followers","following_url":"https://api.github.com/users/zuisong/following{/other_user}","gists_url":"https://api.github.com/users/zuisong/gists{/gist_id}","starred_url":"https://api.github.com/users/zuisong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuisong/subscriptions","organizations_url":"https://api.github.com/users/zuisong/orgs","repos_url":"https://api.github.com/users/zuisong/repos","events_url":"https://api.github.com/users/zuisong/events{/privacy}","received_events_url":"https://api.github.com/users/zuisong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-26T07:12:06Z","updated_at":"2024-03-26T07:12:06Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2207","repository_url":"https://api.github.com/repos/seanmonstar/reqwest","labels_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2207/labels{/name}","comments_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2207/comments","events_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2207/events","html_url":"https://github.com/seanmonstar/reqwest/pull/2207","id":2207429550,"node_id":"PR_kwDOA7dkLM5qv0dw","number":2207,"title":"fix: accidentally set content-length to 0","user":{"login":"zuisong","id":19145952,"node_id":"MDQ6VXNlcjE5MTQ1OTUy","avatar_url":"https://avatars.githubusercontent.com/u/19145952?v=4","gravatar_id":"","url":"https://api.github.com/users/zuisong","html_url":"https://github.com/zuisong","followers_url":"https://api.github.com/users/zuisong/followers","following_url":"https://api.github.com/users/zuisong/following{/other_user}","gists_url":"https://api.github.com/users/zuisong/gists{/gist_id}","starred_url":"https://api.github.com/users/zuisong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuisong/subscriptions","organizations_url":"https://api.github.com/users/zuisong/orgs","repos_url":"https://api.github.com/users/zuisong/repos","events_url":"https://api.github.com/users/zuisong/events{/privacy}","received_events_url":"https://api.github.com/users/zuisong/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2024-03-26T07:12:05Z","updated_at":"2024-03-27T13:08:28Z","closed_at":"2024-03-27T12:58:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":62350380,"node_id":"MDEwOlJlcG9zaXRvcnk2MjM1MDM4MA==","name":"reqwest","full_name":"seanmonstar/reqwest","private":false,"owner":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/seanmonstar/reqwest","description":"An easy and powerful Rust HTTP Client","fork":false,"url":"https://api.github.com/repos/seanmonstar/reqwest","forks_url":"https://api.github.com/repos/seanmonstar/reqwest/forks","keys_url":"https://api.github.com/repos/seanmonstar/reqwest/keys{/key_id}","collaborators_url":"https://api.github.com/repos/seanmonstar/reqwest/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/seanmonstar/reqwest/teams","hooks_url":"https://api.github.com/repos/seanmonstar/reqwest/hooks","issue_events_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/events{/number}","events_url":"https://api.github.com/repos/seanmonstar/reqwest/events","assignees_url":"https://api.github.com/repos/seanmonstar/reqwest/assignees{/user}","branches_url":"https://api.github.com/repos/seanmonstar/reqwest/branches{/branch}","tags_url":"https://api.github.com/repos/seanmonstar/reqwest/tags","blobs_url":"https://api.github.com/repos/seanmonstar/reqwest/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/seanmonstar/reqwest/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/seanmonstar/reqwest/git/refs{/sha}","trees_url":"https://api.github.com/repos/seanmonstar/reqwest/git/trees{/sha}","statuses_url":"https://api.github.com/repos/seanmonstar/reqwest/statuses/{sha}","languages_url":"https://api.github.com/repos/seanmonstar/reqwest/languages","stargazers_url":"https://api.github.com/repos/seanmonstar/reqwest/stargazers","contributors_url":"https://api.github.com/repos/seanmonstar/reqwest/contributors","subscribers_url":"https://api.github.com/repos/seanmonstar/reqwest/subscribers","subscription_url":"https://api.github.com/repos/seanmonstar/reqwest/subscription","commits_url":"https://api.github.com/repos/seanmonstar/reqwest/commits{/sha}","git_commits_url":"https://api.github.com/repos/seanmonstar/reqwest/git/commits{/sha}","comments_url":"https://api.github.com/repos/seanmonstar/reqwest/comments{/number}","issue_comment_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments{/number}","contents_url":"https://api.github.com/repos/seanmonstar/reqwest/contents/{+path}","compare_url":"https://api.github.com/repos/seanmonstar/reqwest/compare/{base}...{head}","merges_url":"https://api.github.com/repos/seanmonstar/reqwest/merges","archive_url":"https://api.github.com/repos/seanmonstar/reqwest/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/seanmonstar/reqwest/downloads","issues_url":"https://api.github.com/repos/seanmonstar/reqwest/issues{/number}","pulls_url":"https://api.github.com/repos/seanmonstar/reqwest/pulls{/number}","milestones_url":"https://api.github.com/repos/seanmonstar/reqwest/milestones{/number}","notifications_url":"https://api.github.com/repos/seanmonstar/reqwest/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/seanmonstar/reqwest/labels{/name}","releases_url":"https://api.github.com/repos/seanmonstar/reqwest/releases{/id}","deployments_url":"https://api.github.com/repos/seanmonstar/reqwest/deployments","created_at":"2016-07-01T00:23:08Z","updated_at":"2025-11-09T16:08:54Z","pushed_at":"2025-11-04T17:45:57Z","git_url":"git://github.com/seanmonstar/reqwest.git","ssh_url":"git@github.com:seanmonstar/reqwest.git","clone_url":"https://github.com/seanmonstar/reqwest.git","svn_url":"https://github.com/seanmonstar/reqwest","homepage":"https://docs.rs/reqwest","size":2370,"stargazers_count":11139,"watchers_count":11139,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1300,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":440,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["http","http-client","rust"],"visibility":"public","forks":1300,"open_issues":440,"watchers":11139,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/seanmonstar/reqwest/pulls/2207","html_url":"https://github.com/seanmonstar/reqwest/pull/2207","diff_url":"https://github.com/seanmonstar/reqwest/pull/2207.diff","patch_url":"https://github.com/seanmonstar/reqwest/pull/2207.patch","merged_at":"2024-03-27T12:58:37Z"},"body":"closes #2202 ","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2207/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":12265295586,"node_id":"CE_lADOA7dkLM6DVGwVzwAAAALbEY7i","url":"https://api.github.com/repos/seanmonstar/reqwest/issues/events/12265295586","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-03-27T12:58:39Z","state_reason":null,"performed_via_github_app":null},{"id":12265295711,"node_id":"REFE_lADOA7dkLM6DVGwVzwAAAALbEY9f","url":"https://api.github.com/repos/seanmonstar/reqwest/issues/events/12265295711","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"68a3f5803b03393938c39a3794a5a9e5f5264796","commit_url":"https://api.github.com/repos/seanmonstar/reqwest/commits/68a3f5803b03393938c39a3794a5a9e5f5264796","created_at":"2024-03-27T12:58:39Z","performed_via_github_app":null},{"id":15178778621,"node_id":"REFE_lADOA7dkLM6DVGwVzwAAAAOIucf9","url":"https://api.github.com/repos/seanmonstar/reqwest/issues/events/15178778621","actor":{"login":"Nutomic","id":1044450,"node_id":"MDQ6VXNlcjEwNDQ0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1044450?v=4","gravatar_id":"","url":"https://api.github.com/users/Nutomic","html_url":"https://github.com/Nutomic","followers_url":"https://api.github.com/users/Nutomic/followers","following_url":"https://api.github.com/users/Nutomic/following{/other_user}","gists_url":"https://api.github.com/users/Nutomic/gists{/gist_id}","starred_url":"https://api.github.com/users/Nutomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nutomic/subscriptions","organizations_url":"https://api.github.com/users/Nutomic/orgs","repos_url":"https://api.github.com/users/Nutomic/repos","events_url":"https://api.github.com/users/Nutomic/events{/privacy}","received_events_url":"https://api.github.com/users/Nutomic/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"aed1d1326f2c81bbc99e30c7f71ab9efdc688770","commit_url":"https://api.github.com/repos/Nutomic/reqwest/commits/aed1d1326f2c81bbc99e30c7f71ab9efdc688770","created_at":"2024-11-07T11:18:48Z","performed_via_github_app":null}]