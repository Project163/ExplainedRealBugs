[{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2923969196","html_url":"https://github.com/seanmonstar/reqwest/issues/2705#issuecomment-2923969196","issue_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2705","id":2923969196,"node_id":"IC_kwDOA7dkLM6uSDqs","user":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-31T01:55:11Z","updated_at":"2025-05-31T01:55:11Z","body":"Ah, we refactored the redirect code, that's probably it.\n\ncc @linyihai in case you want to take a look.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2923969196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17894395620,"node_id":"MEE_lADOA7dkLM65CppDzwAAAAQqls7k","url":"https://api.github.com/repos/seanmonstar/reqwest/issues/events/17894395620","actor":{"login":"linyihai","id":18266718,"node_id":"MDQ6VXNlcjE4MjY2NzE4","avatar_url":"https://avatars.githubusercontent.com/u/18266718?v=4","gravatar_id":"","url":"https://api.github.com/users/linyihai","html_url":"https://github.com/linyihai","followers_url":"https://api.github.com/users/linyihai/followers","following_url":"https://api.github.com/users/linyihai/following{/other_user}","gists_url":"https://api.github.com/users/linyihai/gists{/gist_id}","starred_url":"https://api.github.com/users/linyihai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyihai/subscriptions","organizations_url":"https://api.github.com/users/linyihai/orgs","repos_url":"https://api.github.com/users/linyihai/repos","events_url":"https://api.github.com/users/linyihai/events{/privacy}","received_events_url":"https://api.github.com/users/linyihai/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-05-31T01:55:12Z","performed_via_github_app":null},{"id":17894395624,"node_id":"SE_lADOA7dkLM65CppDzwAAAAQqls7o","url":"https://api.github.com/repos/seanmonstar/reqwest/issues/events/17894395624","actor":{"login":"linyihai","id":18266718,"node_id":"MDQ6VXNlcjE4MjY2NzE4","avatar_url":"https://avatars.githubusercontent.com/u/18266718?v=4","gravatar_id":"","url":"https://api.github.com/users/linyihai","html_url":"https://github.com/linyihai","followers_url":"https://api.github.com/users/linyihai/followers","following_url":"https://api.github.com/users/linyihai/following{/other_user}","gists_url":"https://api.github.com/users/linyihai/gists{/gist_id}","starred_url":"https://api.github.com/users/linyihai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyihai/subscriptions","organizations_url":"https://api.github.com/users/linyihai/orgs","repos_url":"https://api.github.com/users/linyihai/repos","events_url":"https://api.github.com/users/linyihai/events{/privacy}","received_events_url":"https://api.github.com/users/linyihai/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-05-31T01:55:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2924649444","html_url":"https://github.com/seanmonstar/reqwest/issues/2705#issuecomment-2924649444","issue_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2705","id":2924649444,"node_id":"IC_kwDOA7dkLM6uUpvk","user":{"login":"Xuanwo","id":5351546,"node_id":"MDQ6VXNlcjUzNTE1NDY=","avatar_url":"https://avatars.githubusercontent.com/u/5351546?v=4","gravatar_id":"","url":"https://api.github.com/users/Xuanwo","html_url":"https://github.com/Xuanwo","followers_url":"https://api.github.com/users/Xuanwo/followers","following_url":"https://api.github.com/users/Xuanwo/following{/other_user}","gists_url":"https://api.github.com/users/Xuanwo/gists{/gist_id}","starred_url":"https://api.github.com/users/Xuanwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xuanwo/subscriptions","organizations_url":"https://api.github.com/users/Xuanwo/orgs","repos_url":"https://api.github.com/users/Xuanwo/repos","events_url":"https://api.github.com/users/Xuanwo/events{/privacy}","received_events_url":"https://api.github.com/users/Xuanwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-31T08:09:04Z","updated_at":"2025-05-31T08:15:21Z","body":"We used to have logic like:\n\n![Image](https://github.com/user-attachments/assets/2b33c14f-9386-4f48-afe2-2cd5c50e3bc1)\n\nBut tower-http didn't handle them anyway.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2924649444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Xuanwo","id":5351546,"node_id":"MDQ6VXNlcjUzNTE1NDY=","avatar_url":"https://avatars.githubusercontent.com/u/5351546?v=4","gravatar_id":"","url":"https://api.github.com/users/Xuanwo","html_url":"https://github.com/Xuanwo","followers_url":"https://api.github.com/users/Xuanwo/followers","following_url":"https://api.github.com/users/Xuanwo/following{/other_user}","gists_url":"https://api.github.com/users/Xuanwo/gists{/gist_id}","starred_url":"https://api.github.com/users/Xuanwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xuanwo/subscriptions","organizations_url":"https://api.github.com/users/Xuanwo/orgs","repos_url":"https://api.github.com/users/Xuanwo/repos","events_url":"https://api.github.com/users/Xuanwo/events{/privacy}","received_events_url":"https://api.github.com/users/Xuanwo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17899064159,"node_id":"REFE_lADOA7dkLM65CppDzwAAAAQq3gtf","url":"https://api.github.com/repos/seanmonstar/reqwest/issues/events/17899064159","actor":{"login":"18o","id":14882753,"node_id":"MDQ6VXNlcjE0ODgyNzUz","avatar_url":"https://avatars.githubusercontent.com/u/14882753?v=4","gravatar_id":"","url":"https://api.github.com/users/18o","html_url":"https://github.com/18o","followers_url":"https://api.github.com/users/18o/followers","following_url":"https://api.github.com/users/18o/following{/other_user}","gists_url":"https://api.github.com/users/18o/gists{/gist_id}","starred_url":"https://api.github.com/users/18o/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/18o/subscriptions","organizations_url":"https://api.github.com/users/18o/orgs","repos_url":"https://api.github.com/users/18o/repos","events_url":"https://api.github.com/users/18o/events{/privacy}","received_events_url":"https://api.github.com/users/18o/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2e980cf73dc73643dbac2f69900aa8b15b10175f","commit_url":"https://api.github.com/repos/18o/reqwest/commits/2e980cf73dc73643dbac2f69900aa8b15b10175f","created_at":"2025-05-31T09:33:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2925214823","html_url":"https://github.com/seanmonstar/reqwest/issues/2705#issuecomment-2925214823","issue_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2705","id":2925214823,"node_id":"IC_kwDOA7dkLM6uWzxn","user":{"login":"linyihai","id":18266718,"node_id":"MDQ6VXNlcjE4MjY2NzE4","avatar_url":"https://avatars.githubusercontent.com/u/18266718?v=4","gravatar_id":"","url":"https://api.github.com/users/linyihai","html_url":"https://github.com/linyihai","followers_url":"https://api.github.com/users/linyihai/followers","following_url":"https://api.github.com/users/linyihai/following{/other_user}","gists_url":"https://api.github.com/users/linyihai/gists{/gist_id}","starred_url":"https://api.github.com/users/linyihai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyihai/subscriptions","organizations_url":"https://api.github.com/users/linyihai/orgs","repos_url":"https://api.github.com/users/linyihai/repos","events_url":"https://api.github.com/users/linyihai/events{/privacy}","received_events_url":"https://api.github.com/users/linyihai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-31T13:51:12Z","updated_at":"2025-05-31T13:51:12Z","body":"Thanks for ping me :) .  Bases on the discussion above, I did overlooked removing the headers ...","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments/2925214823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"linyihai","id":18266718,"node_id":"MDQ6VXNlcjE4MjY2NzE4","avatar_url":"https://avatars.githubusercontent.com/u/18266718?v=4","gravatar_id":"","url":"https://api.github.com/users/linyihai","html_url":"https://github.com/linyihai","followers_url":"https://api.github.com/users/linyihai/followers","following_url":"https://api.github.com/users/linyihai/following{/other_user}","gists_url":"https://api.github.com/users/linyihai/gists{/gist_id}","starred_url":"https://api.github.com/users/linyihai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyihai/subscriptions","organizations_url":"https://api.github.com/users/linyihai/orgs","repos_url":"https://api.github.com/users/linyihai/repos","events_url":"https://api.github.com/users/linyihai/events{/privacy}","received_events_url":"https://api.github.com/users/linyihai/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"linyihai","id":18266718,"node_id":"MDQ6VXNlcjE4MjY2NzE4","avatar_url":"https://avatars.githubusercontent.com/u/18266718?v=4","gravatar_id":"","url":"https://api.github.com/users/linyihai","html_url":"https://github.com/linyihai","followers_url":"https://api.github.com/users/linyihai/followers","following_url":"https://api.github.com/users/linyihai/following{/other_user}","gists_url":"https://api.github.com/users/linyihai/gists{/gist_id}","starred_url":"https://api.github.com/users/linyihai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyihai/subscriptions","organizations_url":"https://api.github.com/users/linyihai/orgs","repos_url":"https://api.github.com/users/linyihai/repos","events_url":"https://api.github.com/users/linyihai/events{/privacy}","received_events_url":"https://api.github.com/users/linyihai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-01T06:10:28Z","updated_at":"2025-06-01T06:10:28Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2709","repository_url":"https://api.github.com/repos/seanmonstar/reqwest","labels_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2709/labels{/name}","comments_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2709/comments","events_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2709/events","html_url":"https://github.com/seanmonstar/reqwest/pull/2709","id":3106690955,"node_id":"PR_kwDOA7dkLM6Yc7MC","number":2709,"title":"fix(redirect): Using `tower-http` patch to fix invalid `content-length` header","user":{"login":"linyihai","id":18266718,"node_id":"MDQ6VXNlcjE4MjY2NzE4","avatar_url":"https://avatars.githubusercontent.com/u/18266718?v=4","gravatar_id":"","url":"https://api.github.com/users/linyihai","html_url":"https://github.com/linyihai","followers_url":"https://api.github.com/users/linyihai/followers","following_url":"https://api.github.com/users/linyihai/following{/other_user}","gists_url":"https://api.github.com/users/linyihai/gists{/gist_id}","starred_url":"https://api.github.com/users/linyihai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyihai/subscriptions","organizations_url":"https://api.github.com/users/linyihai/orgs","repos_url":"https://api.github.com/users/linyihai/repos","events_url":"https://api.github.com/users/linyihai/events{/privacy}","received_events_url":"https://api.github.com/users/linyihai/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-06-01T06:10:26Z","updated_at":"2025-06-04T01:31:00Z","closed_at":"2025-06-02T12:03:47Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":62350380,"node_id":"MDEwOlJlcG9zaXRvcnk2MjM1MDM4MA==","name":"reqwest","full_name":"seanmonstar/reqwest","private":false,"owner":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/seanmonstar/reqwest","description":"An easy and powerful Rust HTTP Client","fork":false,"url":"https://api.github.com/repos/seanmonstar/reqwest","forks_url":"https://api.github.com/repos/seanmonstar/reqwest/forks","keys_url":"https://api.github.com/repos/seanmonstar/reqwest/keys{/key_id}","collaborators_url":"https://api.github.com/repos/seanmonstar/reqwest/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/seanmonstar/reqwest/teams","hooks_url":"https://api.github.com/repos/seanmonstar/reqwest/hooks","issue_events_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/events{/number}","events_url":"https://api.github.com/repos/seanmonstar/reqwest/events","assignees_url":"https://api.github.com/repos/seanmonstar/reqwest/assignees{/user}","branches_url":"https://api.github.com/repos/seanmonstar/reqwest/branches{/branch}","tags_url":"https://api.github.com/repos/seanmonstar/reqwest/tags","blobs_url":"https://api.github.com/repos/seanmonstar/reqwest/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/seanmonstar/reqwest/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/seanmonstar/reqwest/git/refs{/sha}","trees_url":"https://api.github.com/repos/seanmonstar/reqwest/git/trees{/sha}","statuses_url":"https://api.github.com/repos/seanmonstar/reqwest/statuses/{sha}","languages_url":"https://api.github.com/repos/seanmonstar/reqwest/languages","stargazers_url":"https://api.github.com/repos/seanmonstar/reqwest/stargazers","contributors_url":"https://api.github.com/repos/seanmonstar/reqwest/contributors","subscribers_url":"https://api.github.com/repos/seanmonstar/reqwest/subscribers","subscription_url":"https://api.github.com/repos/seanmonstar/reqwest/subscription","commits_url":"https://api.github.com/repos/seanmonstar/reqwest/commits{/sha}","git_commits_url":"https://api.github.com/repos/seanmonstar/reqwest/git/commits{/sha}","comments_url":"https://api.github.com/repos/seanmonstar/reqwest/comments{/number}","issue_comment_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/comments{/number}","contents_url":"https://api.github.com/repos/seanmonstar/reqwest/contents/{+path}","compare_url":"https://api.github.com/repos/seanmonstar/reqwest/compare/{base}...{head}","merges_url":"https://api.github.com/repos/seanmonstar/reqwest/merges","archive_url":"https://api.github.com/repos/seanmonstar/reqwest/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/seanmonstar/reqwest/downloads","issues_url":"https://api.github.com/repos/seanmonstar/reqwest/issues{/number}","pulls_url":"https://api.github.com/repos/seanmonstar/reqwest/pulls{/number}","milestones_url":"https://api.github.com/repos/seanmonstar/reqwest/milestones{/number}","notifications_url":"https://api.github.com/repos/seanmonstar/reqwest/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/seanmonstar/reqwest/labels{/name}","releases_url":"https://api.github.com/repos/seanmonstar/reqwest/releases{/id}","deployments_url":"https://api.github.com/repos/seanmonstar/reqwest/deployments","created_at":"2016-07-01T00:23:08Z","updated_at":"2025-11-09T16:08:54Z","pushed_at":"2025-11-04T17:45:57Z","git_url":"git://github.com/seanmonstar/reqwest.git","ssh_url":"git@github.com:seanmonstar/reqwest.git","clone_url":"https://github.com/seanmonstar/reqwest.git","svn_url":"https://github.com/seanmonstar/reqwest","homepage":"https://docs.rs/reqwest","size":2370,"stargazers_count":11139,"watchers_count":11139,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1300,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":440,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["http","http-client","rust"],"visibility":"public","forks":1300,"open_issues":440,"watchers":11139,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/seanmonstar/reqwest/pulls/2709","html_url":"https://github.com/seanmonstar/reqwest/pull/2709","diff_url":"https://github.com/seanmonstar/reqwest/pull/2709.diff","patch_url":"https://github.com/seanmonstar/reqwest/pull/2709.patch","merged_at":"2025-06-02T12:03:47Z"},"body":"## What's this PR want to do?\r\n\r\nFixes #2705 \r\n\r\ncc https://github.com/seanmonstar/reqwest/pull/2706 may be relevant\r\n\r\n## How to test ?\r\n\r\nthe first commit add test and the second commit applied the patch(needs merge by `tower-http`) to fix the issue.\r\n","reactions":{"url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/seanmonstar/reqwest/issues/2709/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"linyihai","id":18266718,"node_id":"MDQ6VXNlcjE4MjY2NzE4","avatar_url":"https://avatars.githubusercontent.com/u/18266718?v=4","gravatar_id":"","url":"https://api.github.com/users/linyihai","html_url":"https://github.com/linyihai","followers_url":"https://api.github.com/users/linyihai/followers","following_url":"https://api.github.com/users/linyihai/following{/other_user}","gists_url":"https://api.github.com/users/linyihai/gists{/gist_id}","starred_url":"https://api.github.com/users/linyihai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyihai/subscriptions","organizations_url":"https://api.github.com/users/linyihai/orgs","repos_url":"https://api.github.com/users/linyihai/repos","events_url":"https://api.github.com/users/linyihai/events{/privacy}","received_events_url":"https://api.github.com/users/linyihai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-01T06:29:28Z","updated_at":"2025-06-01T06:29:28Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/tower-rs/tower-http/issues/575","repository_url":"https://api.github.com/repos/tower-rs/tower-http","labels_url":"https://api.github.com/repos/tower-rs/tower-http/issues/575/labels{/name}","comments_url":"https://api.github.com/repos/tower-rs/tower-http/issues/575/comments","events_url":"https://api.github.com/repos/tower-rs/tower-http/issues/575/events","html_url":"https://github.com/tower-rs/tower-http/pull/575","id":3106720285,"node_id":"PR_kwDOBxBwNc6YdA8b","number":575,"title":"feat(redirect): Removed `headers` after empty payload set.","user":{"login":"linyihai","id":18266718,"node_id":"MDQ6VXNlcjE4MjY2NzE4","avatar_url":"https://avatars.githubusercontent.com/u/18266718?v=4","gravatar_id":"","url":"https://api.github.com/users/linyihai","html_url":"https://github.com/linyihai","followers_url":"https://api.github.com/users/linyihai/followers","following_url":"https://api.github.com/users/linyihai/following{/other_user}","gists_url":"https://api.github.com/users/linyihai/gists{/gist_id}","starred_url":"https://api.github.com/users/linyihai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyihai/subscriptions","organizations_url":"https://api.github.com/users/linyihai/orgs","repos_url":"https://api.github.com/users/linyihai/repos","events_url":"https://api.github.com/users/linyihai/events{/privacy}","received_events_url":"https://api.github.com/users/linyihai/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-06-01T06:29:27Z","updated_at":"2025-06-04T01:31:19Z","closed_at":"2025-06-01T20:14:54Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":118517813,"node_id":"MDEwOlJlcG9zaXRvcnkxMTg1MTc4MTM=","name":"tower-http","full_name":"tower-rs/tower-http","private":false,"owner":{"login":"tower-rs","id":26263939,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI2MjYzOTM5","avatar_url":"https://avatars.githubusercontent.com/u/26263939?v=4","gravatar_id":"","url":"https://api.github.com/users/tower-rs","html_url":"https://github.com/tower-rs","followers_url":"https://api.github.com/users/tower-rs/followers","following_url":"https://api.github.com/users/tower-rs/following{/other_user}","gists_url":"https://api.github.com/users/tower-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/tower-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tower-rs/subscriptions","organizations_url":"https://api.github.com/users/tower-rs/orgs","repos_url":"https://api.github.com/users/tower-rs/repos","events_url":"https://api.github.com/users/tower-rs/events{/privacy}","received_events_url":"https://api.github.com/users/tower-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/tower-rs/tower-http","description":"HTTP specific Tower utilities.","fork":false,"url":"https://api.github.com/repos/tower-rs/tower-http","forks_url":"https://api.github.com/repos/tower-rs/tower-http/forks","keys_url":"https://api.github.com/repos/tower-rs/tower-http/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tower-rs/tower-http/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tower-rs/tower-http/teams","hooks_url":"https://api.github.com/repos/tower-rs/tower-http/hooks","issue_events_url":"https://api.github.com/repos/tower-rs/tower-http/issues/events{/number}","events_url":"https://api.github.com/repos/tower-rs/tower-http/events","assignees_url":"https://api.github.com/repos/tower-rs/tower-http/assignees{/user}","branches_url":"https://api.github.com/repos/tower-rs/tower-http/branches{/branch}","tags_url":"https://api.github.com/repos/tower-rs/tower-http/tags","blobs_url":"https://api.github.com/repos/tower-rs/tower-http/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tower-rs/tower-http/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tower-rs/tower-http/git/refs{/sha}","trees_url":"https://api.github.com/repos/tower-rs/tower-http/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tower-rs/tower-http/statuses/{sha}","languages_url":"https://api.github.com/repos/tower-rs/tower-http/languages","stargazers_url":"https://api.github.com/repos/tower-rs/tower-http/stargazers","contributors_url":"https://api.github.com/repos/tower-rs/tower-http/contributors","subscribers_url":"https://api.github.com/repos/tower-rs/tower-http/subscribers","subscription_url":"https://api.github.com/repos/tower-rs/tower-http/subscription","commits_url":"https://api.github.com/repos/tower-rs/tower-http/commits{/sha}","git_commits_url":"https://api.github.com/repos/tower-rs/tower-http/git/commits{/sha}","comments_url":"https://api.github.com/repos/tower-rs/tower-http/comments{/number}","issue_comment_url":"https://api.github.com/repos/tower-rs/tower-http/issues/comments{/number}","contents_url":"https://api.github.com/repos/tower-rs/tower-http/contents/{+path}","compare_url":"https://api.github.com/repos/tower-rs/tower-http/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tower-rs/tower-http/merges","archive_url":"https://api.github.com/repos/tower-rs/tower-http/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tower-rs/tower-http/downloads","issues_url":"https://api.github.com/repos/tower-rs/tower-http/issues{/number}","pulls_url":"https://api.github.com/repos/tower-rs/tower-http/pulls{/number}","milestones_url":"https://api.github.com/repos/tower-rs/tower-http/milestones{/number}","notifications_url":"https://api.github.com/repos/tower-rs/tower-http/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tower-rs/tower-http/labels{/name}","releases_url":"https://api.github.com/repos/tower-rs/tower-http/releases{/id}","deployments_url":"https://api.github.com/repos/tower-rs/tower-http/deployments","created_at":"2018-01-22T21:30:55Z","updated_at":"2025-11-06T23:10:36Z","pushed_at":"2025-10-21T20:45:09Z","git_url":"git://github.com/tower-rs/tower-http.git","ssh_url":"git@github.com:tower-rs/tower-http.git","clone_url":"https://github.com/tower-rs/tower-http.git","svn_url":"https://github.com/tower-rs/tower-http","homepage":null,"size":3071,"stargazers_count":819,"watchers_count":819,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":208,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":69,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":208,"open_issues":69,"watchers":819,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/tower-rs/tower-http/pulls/575","html_url":"https://github.com/tower-rs/tower-http/pull/575","diff_url":"https://github.com/tower-rs/tower-http/pull/575.diff","patch_url":"https://github.com/tower-rs/tower-http/pull/575.patch","merged_at":"2025-06-01T20:14:54Z"},"body":"<!--\r\nThank you for your Pull Request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests.\r\n\r\nContributors guide: https://github.com/tower-rs/tower-http/blob/master/CONTRIBUTING.md\r\n-->\r\n\r\n## Motivation\r\n\r\n<!--\r\nExplain the context and why you're making that change. What is the problem\r\nyou're trying to solve? If a new feature is being added, describe the intended\r\nuse case that feature fulfills.\r\n-->\r\n\r\nThis patch removed the `content-type`, `content-length`, `content-encoding`, `transfer-encoding` headers in the follow_redirect::poll after the response `body` is set to empty. This logic works well in `reqwest`.\r\n\r\nCurrently, the follow_redirect::poll doesn't remove these `header` after redirecting, this behavior is a violation of the [HTTP/1.1 spec](https://datatracker.ietf.org/doc/html/rfc7230#section-3.3.2)\r\n\r\nAlso see https://github.com/seanmonstar/reqwest/issues/2705\r\n\r\n## Solution\r\n\r\n<!--\r\nSummarize the solution and provide any necessary context needed to understand\r\nthe code change.\r\n-->\r\n\r\nRemove the headers before making redirection\r\n","reactions":{"url":"https://api.github.com/repos/tower-rs/tower-http/issues/575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tower-rs/tower-http/issues/575/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":17931886057,"node_id":"CE_lADOA7dkLM65CppDzwAAAAQs0t3p","url":"https://api.github.com/repos/seanmonstar/reqwest/issues/events/17931886057","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-06-02T12:03:48Z","state_reason":null,"performed_via_github_app":null},{"id":17931886080,"node_id":"REFE_lADOA7dkLM65CppDzwAAAAQs0t4A","url":"https://api.github.com/repos/seanmonstar/reqwest/issues/events/17931886080","actor":{"login":"seanmonstar","id":51479,"node_id":"MDQ6VXNlcjUxNDc5","avatar_url":"https://avatars.githubusercontent.com/u/51479?v=4","gravatar_id":"","url":"https://api.github.com/users/seanmonstar","html_url":"https://github.com/seanmonstar","followers_url":"https://api.github.com/users/seanmonstar/followers","following_url":"https://api.github.com/users/seanmonstar/following{/other_user}","gists_url":"https://api.github.com/users/seanmonstar/gists{/gist_id}","starred_url":"https://api.github.com/users/seanmonstar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seanmonstar/subscriptions","organizations_url":"https://api.github.com/users/seanmonstar/orgs","repos_url":"https://api.github.com/users/seanmonstar/repos","events_url":"https://api.github.com/users/seanmonstar/events{/privacy}","received_events_url":"https://api.github.com/users/seanmonstar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"35b6c837cd957d935b83116ac7171274d960167a","commit_url":"https://api.github.com/repos/seanmonstar/reqwest/commits/35b6c837cd957d935b83116ac7171274d960167a","created_at":"2025-06-02T12:03:48Z","performed_via_github_app":null}]