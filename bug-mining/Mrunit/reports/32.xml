<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:41:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MRUNIT-163] getTaskAttemptID is missing from context</title>
                <link>https://issues.apache.org/jira/browse/MRUNIT-163</link>
                <project id="12311292" key="MRUNIT">MRUnit</project>
                    <description>&lt;p&gt;I&apos;m trying to get the task attempt id in my reducer test code however it&apos;s null:&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.mapreduce.TaskAttemptContext.getTaskAttemptID()&lt;/p&gt;

&lt;p&gt;It would be good to provide a value for this to the user code.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12617238">MRUNIT-163</key>
            <summary>getTaskAttemptID is missing from context</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dbeech">Dave Beech</assignee>
                                    <reporter username="phunt">Patrick D. Hunt</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Nov 2012 23:37:36 +0000</created>
                <updated>Fri, 1 Mar 2013 17:26:58 +0000</updated>
                            <resolved>Fri, 1 Mar 2013 17:26:58 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13502481" author="dbeech" created="Thu, 22 Nov 2012 00:34:02 +0000"  >&lt;p&gt;Would you need to specify the value when you set up the test, or would a hardcoded dummy value like &quot;attempt_000000000000_00000_r_000000_0&quot; be OK?&lt;/p&gt;</comment>
                            <comment id="13502503" author="phunt" created="Thu, 22 Nov 2012 01:07:56 +0000"  >&lt;p&gt;I think a dummy would be fine to start. For my case at least.&lt;/p&gt;

&lt;p&gt;fyi I found a workaround:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    Reducer&amp;lt;Text, SolrInputDocumentWritable, Text, SolrInputDocumentWritable&amp;gt;.Context context = reduceDriver.getContext();
    when(context.getTaskAttemptID()).thenAnswer(new Answer&amp;lt;TaskAttemptID&amp;gt;() {
      @Override
      public TaskAttemptID answer(final InvocationOnMock invocation) {
        return new TaskAttemptID(new TaskID(), 0);
      }
    });
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13507537" author="dbeech" created="Fri, 30 Nov 2012 18:44:34 +0000"  >&lt;p&gt;I&apos;ve added this mocked method into the map and reduce context objects. &lt;/p&gt;</comment>
                            <comment id="13507588" author="hudson" created="Fri, 30 Nov 2012 19:34:26 +0000"  >&lt;p&gt;Integrated in mrunit-trunk #488 (See &lt;a href=&quot;https://builds.apache.org/job/mrunit-trunk/488/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/mrunit-trunk/488/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MRUNIT-163&quot; title=&quot;getTaskAttemptID is missing from context&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MRUNIT-163&quot;&gt;&lt;del&gt;MRUNIT-163&lt;/del&gt;&lt;/a&gt;: getTaskAttemptID is missing from context (Revision 319e6bbd00582624afb4d953a020af72c27e9e02)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
dbeech : &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=mrunit.git&amp;amp;a=commit&amp;amp;h=319e6bbd00582624afb4d953a020af72c27e9e02&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=mrunit.git&amp;amp;a=commit&amp;amp;h=319e6bbd00582624afb4d953a020af72c27e9e02&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/mrunit/internal/mapreduce/MockReduceContextWrapper.java&lt;/li&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/mrunit/mapreduce/TestMapDriver.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/mrunit/internal/mapreduce/MockMapContextWrapper.java&lt;/li&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/mrunit/mapreduce/TestReduceDriver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13509853" author="dbeech" created="Tue, 4 Dec 2012 16:56:16 +0000"  >&lt;p&gt;The TaskAttemptID class constructor has changed in Hadoop 2 and my patch doesn&apos;t build. Committing a fix. &lt;/p&gt;</comment>
                            <comment id="13510919" author="hudson" created="Wed, 5 Dec 2012 23:38:40 +0000"  >&lt;p&gt;Integrated in mrunit-trunk #506 (See &lt;a href=&quot;https://builds.apache.org/job/mrunit-trunk/506/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/mrunit-trunk/506/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MRUNIT-163&quot; title=&quot;getTaskAttemptID is missing from context&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MRUNIT-163&quot;&gt;&lt;del&gt;MRUNIT-163&lt;/del&gt;&lt;/a&gt;: getTaskAttemptID is missing from context (Revision 59aa9dc1871d99495196f11f6014e34557b46b85)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
dbeech : &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=mrunit.git&amp;amp;a=commit&amp;amp;h=59aa9dc1871d99495196f11f6014e34557b46b85&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=mrunit.git&amp;amp;a=commit&amp;amp;h=59aa9dc1871d99495196f11f6014e34557b46b85&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/mrunit/internal/mapreduce/MockMapContextWrapper.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/mrunit/internal/mapreduce/MockReduceContextWrapper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13512020" author="phunt" created="Thu, 6 Dec 2012 19:11:48 +0000"  >&lt;p&gt;This is working for me, thanks!&lt;/p&gt;</comment>
                            <comment id="13590740" author="brocknoland" created="Fri, 1 Mar 2013 17:26:58 +0000"  >&lt;p&gt;This has been committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lp7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124733</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>