<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:41:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MRUNIT-97] InputSplit causes NullPointerException in mapreduce api</title>
                <link>https://issues.apache.org/jira/browse/MRUNIT-97</link>
                <project id="12311292" key="MRUNIT">MRUnit</project>
                    <description>&lt;p&gt;I believe that you can&apos;t test input split filename and distributed cache at the moment.&lt;/p&gt;

&lt;p&gt;If you could file a JIRA on &lt;a href=&quot;https://issues.apache.org/jira/browse/MRUNIT&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MRUNIT&lt;/a&gt;, I&apos;m sure that someone would look on that sooner or later.&lt;/p&gt;

&lt;p&gt;Jarcec&lt;/p&gt;

&lt;p&gt;On Apr 11, 2012, at 7:53 AM, Ajay Srivastava wrote:&lt;/p&gt;

&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;I am planning to use mrunit in one of the projects and written some test cases. These test cases run fine for simple map reduce jobs but give error for most of the others.&lt;/p&gt;

&lt;p&gt;For an example, in one of the map reduce job I have following code in setup method of Mapper class.&lt;/p&gt;

&lt;p&gt;context.getInputSplit()).getPath(); &lt;/p&gt;

&lt;p&gt;I get null pointer exception at above statement.  Is there a way that I can set this context in test code ? If not, how can this kind of mrjobs be tested.&lt;br/&gt;
Similarly we are using DistributedCache in some of our mr jobs. How can I test such jobs? Is there a mockup available for DistributedCache class in mrunit.&lt;/p&gt;


&lt;p&gt;Regards,&lt;br/&gt;
Ajay Srivastava&lt;/p&gt;</description>
                <environment></environment>
        <key id="12550526">MRUNIT-97</key>
            <summary>InputSplit causes NullPointerException in mapreduce api</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dbeech">Dave Beech</assignee>
                                    <reporter username="ajayksri">Ajay Srivastava</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Apr 2012 13:22:23 +0000</created>
                <updated>Mon, 16 Apr 2012 05:28:03 +0000</updated>
                            <resolved>Fri, 13 Apr 2012 21:20:07 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13252871" author="dbeech" created="Thu, 12 Apr 2012 21:36:58 +0000"  >&lt;p&gt;Hi. I&apos;ve created a patch which addresses the NullPointerException problem - it simply adds an extra stubbed method call on MockMapContextWrapper which returns an instance of MockInputSplit when getInputSplit() is called.  &lt;/p&gt;

&lt;p&gt;This could be further extended - maybe you&apos;d want to specify in your test what the file path / length of the input split should be? At the moment these values are hardcoded but this could easily be changed. &lt;/p&gt;

&lt;p&gt;As for testing DistributedCache, I think this would be more difficult since these are mostly static methods and cannot be mocked by Mockito. However, I believe there are other mocking frameworks that can do this (PowerMock for instance). Has anyone else got experience here?&lt;/p&gt;</comment>
                            <comment id="13253756" author="brocknoland" created="Fri, 13 Apr 2012 21:20:07 +0000"  >&lt;p&gt;Thank you for the patch Dave! Committed in 1325959.&lt;/p&gt;

&lt;p&gt;Ajay, I created a seperate JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/MRUNIT-98&quot; title=&quot;DistributedCache support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MRUNIT-98&quot;&gt;&lt;del&gt;MRUNIT-98&lt;/del&gt;&lt;/a&gt; for DCache Support&lt;/p&gt;</comment>
                            <comment id="13254053" author="dbeech" created="Sat, 14 Apr 2012 08:00:21 +0000"  >&lt;p&gt;Thanks Brock! I&apos;ll take a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/MRUNIT-98&quot; title=&quot;DistributedCache support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MRUNIT-98&quot;&gt;&lt;del&gt;MRUNIT-98&lt;/del&gt;&lt;/a&gt; next&lt;/p&gt;</comment>
                            <comment id="13254423" author="brocknoland" created="Sun, 15 Apr 2012 20:28:48 +0000"  >&lt;p&gt;1326419. in the 0.9.0 branch&lt;/p&gt;</comment>
                            <comment id="13254514" author="ajayksri" created="Mon, 16 Apr 2012 05:28:02 +0000"  >&lt;p&gt;Thanks Brock and Dave.&lt;br/&gt;
I will try the patch early next week.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12550879">MRUNIT-98</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12522491" name="MRUNIT-97.patch" size="4853" author="dbeech" created="Thu, 12 Apr 2012 21:36:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235390</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0y60n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>197444</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>