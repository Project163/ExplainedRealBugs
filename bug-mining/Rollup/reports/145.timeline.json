[{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/461152137","html_url":"https://github.com/rollup/rollup/issues/2680#issuecomment-461152137","issue_url":"https://api.github.com/repos/rollup/rollup/issues/2680","id":461152137,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTE1MjEzNw==","user":{"login":"gund","id":3644678,"node_id":"MDQ6VXNlcjM2NDQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/3644678?v=4","gravatar_id":"","url":"https://api.github.com/users/gund","html_url":"https://github.com/gund","followers_url":"https://api.github.com/users/gund/followers","following_url":"https://api.github.com/users/gund/following{/other_user}","gists_url":"https://api.github.com/users/gund/gists{/gist_id}","starred_url":"https://api.github.com/users/gund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gund/subscriptions","organizations_url":"https://api.github.com/users/gund/orgs","repos_url":"https://api.github.com/users/gund/repos","events_url":"https://api.github.com/users/gund/events{/privacy}","received_events_url":"https://api.github.com/users/gund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-06T19:20:57Z","updated_at":"2019-02-07T11:35:03Z","body":"I hit same bug rendering compiled bundles broken.\r\n\r\nHere is [simple example](https://rollupjs.org/repl?version=1.1.2&shareable=JTdCJTIybW9kdWxlcyUyMiUzQSU1QiU3QiUyMm5hbWUlMjIlM0ElMjJtYWluLmpzJTIyJTJDJTIyY29kZSUyMiUzQSUyMmltcG9ydCUyMColMjBhcyUyMHQlMjBmcm9tJTIwJ2h0dHBzJTNBJTJGJTJGdW5wa2cuY29tJTJGaW8tdHMlNDAxLjguMSUyRmxpYiUyRmluZGV4LmpzJyU1Q24lNUNuY29uc29sZS5sb2codC51bmRlZmluZWQpJTNCJTVDbiU1Q24lMkYlMkYlMjBCUk9LRU4hJTIwTXVzdCUyMGJlJTIwcmVuYW1lZCUyMHNhbWUlMjBhcyUyMCU2MHVuZGVmaW5lZCUyNDElNjAlNUNuY29uc29sZS5sb2codC5udWxsKSUzQiU1Q25jb25zb2xlLmxvZyh0LnN0YXRpYyklM0IlNUNuY29uc29sZS5sb2codC5pZiklM0IlNUNuY29uc29sZS5sb2codC5lbHNlKSUzQiU1Q25jb25zb2xlLmxvZyh0LmNsYXNzKSUzQiU1Q25jb25zb2xlLmxvZyh0LmltcG9ydCklM0IlNUNuJTIyJTJDJTIyaXNFbnRyeSUyMiUzQXRydWUlN0QlNUQlMkMlMjJvcHRpb25zJTIyJTNBJTdCJTIyZm9ybWF0JTIyJTNBJTIyZXNtJTIyJTJDJTIybmFtZSUyMiUzQSUyMm15QnVuZGxlJTIyJTJDJTIyYW1kJTIyJTNBJTdCJTIyaWQlMjIlM0ElMjIlMjIlN0QlMkMlMjJnbG9iYWxzJTIyJTNBJTdCJTdEJTdEJTJDJTIyZXhhbXBsZSUyMiUzQW51bGwlN0Q=).\r\n\r\nI'm using `io-ts` library inside my own library and it has exports named `undefined` and `null`.\r\n\r\nWhile `undefined` is being renamed to `undefined$1`, `null` is kept not renamed so generated code is invalid.\r\n\r\n**NOTE:** This is only a bug while emitting in `esm` and `systemjs` format.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/461152137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gund","id":3644678,"node_id":"MDQ6VXNlcjM2NDQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/3644678?v=4","gravatar_id":"","url":"https://api.github.com/users/gund","html_url":"https://github.com/gund","followers_url":"https://api.github.com/users/gund/followers","following_url":"https://api.github.com/users/gund/following{/other_user}","gists_url":"https://api.github.com/users/gund/gists{/gist_id}","starred_url":"https://api.github.com/users/gund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gund/subscriptions","organizations_url":"https://api.github.com/users/gund/orgs","repos_url":"https://api.github.com/users/gund/repos","events_url":"https://api.github.com/users/gund/events{/privacy}","received_events_url":"https://api.github.com/users/gund/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"gund","id":3644678,"node_id":"MDQ6VXNlcjM2NDQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/3644678?v=4","gravatar_id":"","url":"https://api.github.com/users/gund","html_url":"https://github.com/gund","followers_url":"https://api.github.com/users/gund/followers","following_url":"https://api.github.com/users/gund/following{/other_user}","gists_url":"https://api.github.com/users/gund/gists{/gist_id}","starred_url":"https://api.github.com/users/gund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gund/subscriptions","organizations_url":"https://api.github.com/users/gund/orgs","repos_url":"https://api.github.com/users/gund/repos","events_url":"https://api.github.com/users/gund/events{/privacy}","received_events_url":"https://api.github.com/users/gund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-06T19:28:51Z","updated_at":"2019-02-06T19:28:51Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/orchestratora/gen-io-ts/issues/5","repository_url":"https://api.github.com/repos/orchestratora/gen-io-ts","labels_url":"https://api.github.com/repos/orchestratora/gen-io-ts/issues/5/labels{/name}","comments_url":"https://api.github.com/repos/orchestratora/gen-io-ts/issues/5/comments","events_url":"https://api.github.com/repos/orchestratora/gen-io-ts/issues/5/events","html_url":"https://github.com/orchestratora/gen-io-ts/issues/5","id":407393943,"node_id":"MDU6SXNzdWU0MDczOTM5NDM=","number":5,"title":"[Bug] Broken FESM bundles","user":{"login":"gund","id":3644678,"node_id":"MDQ6VXNlcjM2NDQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/3644678?v=4","gravatar_id":"","url":"https://api.github.com/users/gund","html_url":"https://github.com/gund","followers_url":"https://api.github.com/users/gund/followers","following_url":"https://api.github.com/users/gund/following{/other_user}","gists_url":"https://api.github.com/users/gund/gists{/gist_id}","starred_url":"https://api.github.com/users/gund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gund/subscriptions","organizations_url":"https://api.github.com/users/gund/orgs","repos_url":"https://api.github.com/users/gund/repos","events_url":"https://api.github.com/users/gund/events{/privacy}","received_events_url":"https://api.github.com/users/gund/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1201327663,"node_id":"MDU6TGFiZWwxMjAxMzI3NjYz","url":"https://api.github.com/repos/orchestratora/gen-io-ts/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1205372554,"node_id":"MDU6TGFiZWwxMjA1MzcyNTU0","url":"https://api.github.com/repos/orchestratora/gen-io-ts/labels/released","name":"released","color":"ededed","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-02-06T19:28:50Z","updated_at":"2019-11-20T00:09:47Z","closed_at":"2019-11-20T00:05:33Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":166731409,"node_id":"MDEwOlJlcG9zaXRvcnkxNjY3MzE0MDk=","name":"gen-io-ts","full_name":"orchestratora/gen-io-ts","private":false,"owner":{"login":"orchestratora","id":44171130,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ0MTcxMTMw","avatar_url":"https://avatars.githubusercontent.com/u/44171130?v=4","gravatar_id":"","url":"https://api.github.com/users/orchestratora","html_url":"https://github.com/orchestratora","followers_url":"https://api.github.com/users/orchestratora/followers","following_url":"https://api.github.com/users/orchestratora/following{/other_user}","gists_url":"https://api.github.com/users/orchestratora/gists{/gist_id}","starred_url":"https://api.github.com/users/orchestratora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orchestratora/subscriptions","organizations_url":"https://api.github.com/users/orchestratora/orgs","repos_url":"https://api.github.com/users/orchestratora/repos","events_url":"https://api.github.com/users/orchestratora/events{/privacy}","received_events_url":"https://api.github.com/users/orchestratora/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/orchestratora/gen-io-ts","description":"Generate io-ts codecs for classes by decorating props","fork":false,"url":"https://api.github.com/repos/orchestratora/gen-io-ts","forks_url":"https://api.github.com/repos/orchestratora/gen-io-ts/forks","keys_url":"https://api.github.com/repos/orchestratora/gen-io-ts/keys{/key_id}","collaborators_url":"https://api.github.com/repos/orchestratora/gen-io-ts/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/orchestratora/gen-io-ts/teams","hooks_url":"https://api.github.com/repos/orchestratora/gen-io-ts/hooks","issue_events_url":"https://api.github.com/repos/orchestratora/gen-io-ts/issues/events{/number}","events_url":"https://api.github.com/repos/orchestratora/gen-io-ts/events","assignees_url":"https://api.github.com/repos/orchestratora/gen-io-ts/assignees{/user}","branches_url":"https://api.github.com/repos/orchestratora/gen-io-ts/branches{/branch}","tags_url":"https://api.github.com/repos/orchestratora/gen-io-ts/tags","blobs_url":"https://api.github.com/repos/orchestratora/gen-io-ts/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/orchestratora/gen-io-ts/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/orchestratora/gen-io-ts/git/refs{/sha}","trees_url":"https://api.github.com/repos/orchestratora/gen-io-ts/git/trees{/sha}","statuses_url":"https://api.github.com/repos/orchestratora/gen-io-ts/statuses/{sha}","languages_url":"https://api.github.com/repos/orchestratora/gen-io-ts/languages","stargazers_url":"https://api.github.com/repos/orchestratora/gen-io-ts/stargazers","contributors_url":"https://api.github.com/repos/orchestratora/gen-io-ts/contributors","subscribers_url":"https://api.github.com/repos/orchestratora/gen-io-ts/subscribers","subscription_url":"https://api.github.com/repos/orchestratora/gen-io-ts/subscription","commits_url":"https://api.github.com/repos/orchestratora/gen-io-ts/commits{/sha}","git_commits_url":"https://api.github.com/repos/orchestratora/gen-io-ts/git/commits{/sha}","comments_url":"https://api.github.com/repos/orchestratora/gen-io-ts/comments{/number}","issue_comment_url":"https://api.github.com/repos/orchestratora/gen-io-ts/issues/comments{/number}","contents_url":"https://api.github.com/repos/orchestratora/gen-io-ts/contents/{+path}","compare_url":"https://api.github.com/repos/orchestratora/gen-io-ts/compare/{base}...{head}","merges_url":"https://api.github.com/repos/orchestratora/gen-io-ts/merges","archive_url":"https://api.github.com/repos/orchestratora/gen-io-ts/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/orchestratora/gen-io-ts/downloads","issues_url":"https://api.github.com/repos/orchestratora/gen-io-ts/issues{/number}","pulls_url":"https://api.github.com/repos/orchestratora/gen-io-ts/pulls{/number}","milestones_url":"https://api.github.com/repos/orchestratora/gen-io-ts/milestones{/number}","notifications_url":"https://api.github.com/repos/orchestratora/gen-io-ts/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/orchestratora/gen-io-ts/labels{/name}","releases_url":"https://api.github.com/repos/orchestratora/gen-io-ts/releases{/id}","deployments_url":"https://api.github.com/repos/orchestratora/gen-io-ts/deployments","created_at":"2019-01-21T01:45:49Z","updated_at":"2024-07-07T05:09:30Z","pushed_at":"2022-06-10T00:40:25Z","git_url":"git://github.com/orchestratora/gen-io-ts.git","ssh_url":"git@github.com:orchestratora/gen-io-ts.git","clone_url":"https://github.com/orchestratora/gen-io-ts.git","svn_url":"https://github.com/orchestratora/gen-io-ts","homepage":null,"size":1280,"stargazers_count":2,"watchers_count":2,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":4,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["generate","io-ts","runtime","types","validation"],"visibility":"public","forks":1,"open_issues":4,"watchers":2,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Compiled FESM5 and FESM2015 bundles are broken due to https://github.com/rollup/rollup/issues/2680 bug.\r\n\r\nEmitted import statements contain non-renamed `null` identifiers from `io-ts` library.\r\n","reactions":{"url":"https://api.github.com/repos/orchestratora/gen-io-ts/issues/5/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/orchestratora/gen-io-ts/issues/5/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/461314255","html_url":"https://github.com/rollup/rollup/issues/2680#issuecomment-461314255","issue_url":"https://api.github.com/repos/rollup/rollup/issues/2680","id":461314255,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTMxNDI1NQ==","user":{"login":"matthiasg","id":231889,"node_id":"MDQ6VXNlcjIzMTg4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/231889?v=4","gravatar_id":"","url":"https://api.github.com/users/matthiasg","html_url":"https://github.com/matthiasg","followers_url":"https://api.github.com/users/matthiasg/followers","following_url":"https://api.github.com/users/matthiasg/following{/other_user}","gists_url":"https://api.github.com/users/matthiasg/gists{/gist_id}","starred_url":"https://api.github.com/users/matthiasg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthiasg/subscriptions","organizations_url":"https://api.github.com/users/matthiasg/orgs","repos_url":"https://api.github.com/users/matthiasg/repos","events_url":"https://api.github.com/users/matthiasg/events{/privacy}","received_events_url":"https://api.github.com/users/matthiasg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-07T07:28:12Z","updated_at":"2019-02-07T07:28:27Z","body":"BTW: Workaround right now is a little involved.\r\n\r\nin my case\r\n\r\n```\r\nconst staticPropertyName = 'static'\r\nexpress[staticPropertyName](...)\r\n```\r\n\r\nIt has to be indirected via a variable, calling `express['static']` gets resolved and renaming on import as in `import { static as renamedStatic } from 'express'` also gets resolved and thus doesn't work.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/461314255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"matthiasg","id":231889,"node_id":"MDQ6VXNlcjIzMTg4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/231889?v=4","gravatar_id":"","url":"https://api.github.com/users/matthiasg","html_url":"https://github.com/matthiasg","followers_url":"https://api.github.com/users/matthiasg/followers","following_url":"https://api.github.com/users/matthiasg/following{/other_user}","gists_url":"https://api.github.com/users/matthiasg/gists{/gist_id}","starred_url":"https://api.github.com/users/matthiasg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthiasg/subscriptions","organizations_url":"https://api.github.com/users/matthiasg/orgs","repos_url":"https://api.github.com/users/matthiasg/repos","events_url":"https://api.github.com/users/matthiasg/events{/privacy}","received_events_url":"https://api.github.com/users/matthiasg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/461363640","html_url":"https://github.com/rollup/rollup/issues/2680#issuecomment-461363640","issue_url":"https://api.github.com/repos/rollup/rollup/issues/2680","id":461363640,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTM2MzY0MA==","user":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-07T10:24:12Z","updated_at":"2019-02-07T10:24:12Z","body":"Hi, thanks for this issue. As a matter of fact, I am currently working on a complete revamp of the variable resolution/deconflicting logic where it would be easy to incorporate these fixes. Will still take a little while, though.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/461363640/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2123636935,"node_id":"MDEyOkxhYmVsZWRFdmVudDIxMjM2MzY5MzU=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2123636935","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-02-07T10:24:17Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":2123637144,"node_id":"MDEyOkxhYmVsZWRFdmVudDIxMjM2MzcxNDQ=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2123637144","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-02-07T10:24:24Z","label":{"name":"scope-hoisting","color":"59f7dc"},"performed_via_github_app":null},{"id":2124775804,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIxMjQ3NzU4MDQ=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2124775804","actor":{"login":"gund","id":3644678,"node_id":"MDQ6VXNlcjM2NDQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/3644678?v=4","gravatar_id":"","url":"https://api.github.com/users/gund","html_url":"https://github.com/gund","followers_url":"https://api.github.com/users/gund/followers","following_url":"https://api.github.com/users/gund/following{/other_user}","gists_url":"https://api.github.com/users/gund/gists{/gist_id}","starred_url":"https://api.github.com/users/gund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gund/subscriptions","organizations_url":"https://api.github.com/users/gund/orgs","repos_url":"https://api.github.com/users/gund/repos","events_url":"https://api.github.com/users/gund/events{/privacy}","received_events_url":"https://api.github.com/users/gund/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9513f9832375c3962e64150d422a2acf82b34104","commit_url":"https://api.github.com/repos/orchestratora/gen-io-ts/commits/9513f9832375c3962e64150d422a2acf82b34104","created_at":"2019-02-07T17:41:17Z","performed_via_github_app":null},{"id":2135712034,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIxMzU3MTIwMzQ=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2135712034","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2437040ad18c1ea8416198a0e6465e2559c9d853","commit_url":"https://api.github.com/repos/rollup/rollup/commits/2437040ad18c1ea8416198a0e6465e2559c9d853","created_at":"2019-02-13T05:23:09Z","performed_via_github_app":null},{"actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-13T07:48:46Z","updated_at":"2019-02-13T07:48:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rollup/rollup/issues/2689","repository_url":"https://api.github.com/repos/rollup/rollup","labels_url":"https://api.github.com/repos/rollup/rollup/issues/2689/labels{/name}","comments_url":"https://api.github.com/repos/rollup/rollup/issues/2689/comments","events_url":"https://api.github.com/repos/rollup/rollup/issues/2689/events","html_url":"https://github.com/rollup/rollup/pull/2689","id":409669958,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUyNTkyNTU4","number":2689,"title":"Reimplement variable deconflicting logic","user":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-02-13T07:48:45Z","updated_at":"2019-02-17T14:10:11Z","closed_at":"2019-02-17T08:20:56Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":35640229,"node_id":"MDEwOlJlcG9zaXRvcnkzNTY0MDIyOQ==","name":"rollup","full_name":"rollup/rollup","private":false,"owner":{"login":"rollup","id":12554859,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEyNTU0ODU5","avatar_url":"https://avatars.githubusercontent.com/u/12554859?v=4","gravatar_id":"","url":"https://api.github.com/users/rollup","html_url":"https://github.com/rollup","followers_url":"https://api.github.com/users/rollup/followers","following_url":"https://api.github.com/users/rollup/following{/other_user}","gists_url":"https://api.github.com/users/rollup/gists{/gist_id}","starred_url":"https://api.github.com/users/rollup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rollup/subscriptions","organizations_url":"https://api.github.com/users/rollup/orgs","repos_url":"https://api.github.com/users/rollup/repos","events_url":"https://api.github.com/users/rollup/events{/privacy}","received_events_url":"https://api.github.com/users/rollup/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rollup/rollup","description":"Next-generation ES module bundler","fork":false,"url":"https://api.github.com/repos/rollup/rollup","forks_url":"https://api.github.com/repos/rollup/rollup/forks","keys_url":"https://api.github.com/repos/rollup/rollup/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rollup/rollup/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rollup/rollup/teams","hooks_url":"https://api.github.com/repos/rollup/rollup/hooks","issue_events_url":"https://api.github.com/repos/rollup/rollup/issues/events{/number}","events_url":"https://api.github.com/repos/rollup/rollup/events","assignees_url":"https://api.github.com/repos/rollup/rollup/assignees{/user}","branches_url":"https://api.github.com/repos/rollup/rollup/branches{/branch}","tags_url":"https://api.github.com/repos/rollup/rollup/tags","blobs_url":"https://api.github.com/repos/rollup/rollup/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rollup/rollup/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rollup/rollup/git/refs{/sha}","trees_url":"https://api.github.com/repos/rollup/rollup/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rollup/rollup/statuses/{sha}","languages_url":"https://api.github.com/repos/rollup/rollup/languages","stargazers_url":"https://api.github.com/repos/rollup/rollup/stargazers","contributors_url":"https://api.github.com/repos/rollup/rollup/contributors","subscribers_url":"https://api.github.com/repos/rollup/rollup/subscribers","subscription_url":"https://api.github.com/repos/rollup/rollup/subscription","commits_url":"https://api.github.com/repos/rollup/rollup/commits{/sha}","git_commits_url":"https://api.github.com/repos/rollup/rollup/git/commits{/sha}","comments_url":"https://api.github.com/repos/rollup/rollup/comments{/number}","issue_comment_url":"https://api.github.com/repos/rollup/rollup/issues/comments{/number}","contents_url":"https://api.github.com/repos/rollup/rollup/contents/{+path}","compare_url":"https://api.github.com/repos/rollup/rollup/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rollup/rollup/merges","archive_url":"https://api.github.com/repos/rollup/rollup/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rollup/rollup/downloads","issues_url":"https://api.github.com/repos/rollup/rollup/issues{/number}","pulls_url":"https://api.github.com/repos/rollup/rollup/pulls{/number}","milestones_url":"https://api.github.com/repos/rollup/rollup/milestones{/number}","notifications_url":"https://api.github.com/repos/rollup/rollup/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rollup/rollup/labels{/name}","releases_url":"https://api.github.com/repos/rollup/rollup/releases{/id}","deployments_url":"https://api.github.com/repos/rollup/rollup/deployments","created_at":"2015-05-14T22:26:28Z","updated_at":"2025-11-09T07:58:19Z","pushed_at":"2025-11-08T17:11:17Z","git_url":"git://github.com/rollup/rollup.git","ssh_url":"git@github.com:rollup/rollup.git","clone_url":"https://github.com/rollup/rollup.git","svn_url":"https://github.com/rollup/rollup","homepage":"https://rollupjs.org","size":32539,"stargazers_count":26104,"watchers_count":26104,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":1649,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":602,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1649,"open_issues":602,"watchers":26104,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rollup/rollup/pulls/2689","html_url":"https://github.com/rollup/rollup/pull/2689","diff_url":"https://github.com/rollup/rollup/pull/2689.diff","patch_url":"https://github.com/rollup/rollup/pull/2689.patch","merged_at":"2019-02-17T08:20:56Z"},"body":"<!--\r\n  âš¡ï¸ katchow! We â¤ï¸ Pull Requests!\r\n\r\n  If you remove or skip this template, you'll make the ðŸ¼ sad and the mighty god\r\n  of Github will appear and pile-drive the close button from a great height\r\n  while making animal noises.\r\n\r\n  Pull Request Requirements:\r\n  * Please include tests to illustrate the problem this PR resolves.\r\n  * Please lint your changes by running `npm run lint` before creating a PR.\r\n  * Please update the documentation in `/docs` where necessary\r\n\r\n  Please place an x (no spaces - [x]) in all [ ] that apply.\r\n-->\r\n\r\nThis PR contains:\r\n- [x] bugfix\r\n- [ ] feature\r\n- [x] refactor\r\n- [ ] documentation\r\n- [ ] other\r\n\r\nAre tests included?\r\n- [x] yes (*bugfixes and features will not be merged without tests*)\r\n- [ ] no\r\n\r\nBreaking Changes?\r\n- [ ] yes (*breaking changes will not be merged unless absolutely necessary*)\r\n- [x] no\r\n\r\nList any relevant issue numbers:\r\nResolves #2680 \r\nResolves #2683\r\n\r\n### Description\r\n\r\nI know my output is not as much as it used to be at the moment due to my family + day job taking its toll but this is what I have been working on the last weeks. This is basically a complete rework of the name deconflicting logic that lies at the core of scope-hoisting.\r\n\r\nThat old logic needed to make quite a few assumptions such as certain variable names not appearing (ever wondered why we had $1 and $$1 variables? This was really just a hack to heuristically avoid name clashes). #2683 is a nice example where this went wrong.\r\n\r\nBut no more!\r\n\r\nThe new logic already starts in the phase where internal variable objects are associated with variables defined in the code. During this stage, each scope now takes note which variables from outside are used by the code in this scope. To compensate for the additional logic, this noting is also used as caching i.e. when a variable is used more than once in a scope or sub-scope, only the first access will cause a full lookup while the remaining accesses get the cached result.\r\n\r\nNow during the actual deconflicting phase, i.e. the phase where all variables receive their final render names, these results are used to deconflict all variables that would otherwise shadow actually used other variablesâ€”and only those! As a result, there will now be actually noticeably fewer renames!\r\n\r\nAlso, variables can now have two \"render names\": A \"base\" name and another name. If the base name is present, then this variable is actually rendered as an object member access, i.e. `baseName.variableName`. In such a situation, of course, only the base name needs to be considered in deconflicting.\r\n\r\nOther improvements:\r\n- Formats are taken into account, e.g. with the ESM target, `module` or `exports` will usually not be deconflicted automatically as they do not correspond to format specific globals\r\n- Tree-shaking information is taken into account. Now, tree-shaken variables will no longer cause other variables to be renamed\r\n- Reserved words are now taken into account, i.e. a variable will never be called `static` or `await`. My hope is that this will resolve #2680, @matthiasg @gund please tell me if this is not the case.\r\n- Furthermore with the new logic, it was easy to switch some naming priorities. Now inside each chunk, local names take precedence over imported (e.g. external) names. For instance when importing `React.Component` and locally defining a `Component`, then the imported one will become a `Component$1` while the local one retains its name. My hope is that this change will make the code of libraries nicer overall but please give feedback if I overlooked something here.\r\n\r\nThis will also form a nice base for future improvements. For instance it would now be quite easy to minify all variable names using this logic. Of course this would probably not be very useful without minifying white-space as well. Another feature I hope to work on soon is merging block scopes into other scopes during rendering, getting rid of some unnecessary curly braces when tree-shaking.\r\n\r\n<!--\r\n  Please be thorough and clearly explain the problem being solved.\r\n  * If this PR adds a feature, look for previous discussion on the feature by searching the issues first.\r\n  * Is this PR related to an issue?\r\n-->\r\n","reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/2689/reactions","total_count":12,"+1":4,"-1":0,"laugh":0,"hooray":6,"confused":0,"heart":1,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/rollup/rollup/issues/2689/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/463097503","html_url":"https://github.com/rollup/rollup/issues/2680#issuecomment-463097503","issue_url":"https://api.github.com/repos/rollup/rollup/issues/2680","id":463097503,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzA5NzUwMw==","user":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-13T08:00:53Z","updated_at":"2019-02-13T08:00:53Z","body":"Possible fix a #2689 ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/463097503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2135938040,"node_id":"MDEyOkxhYmVsZWRFdmVudDIxMzU5MzgwNDA=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2135938040","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-02-13T08:01:00Z","label":{"name":"has PR","color":"38d136"},"performed_via_github_app":null},{"id":2140042705,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIxNDAwNDI3MDU=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2140042705","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"acc18e2ef04e6d59015c13aac328153e4fc624e9","commit_url":"https://api.github.com/repos/rollup/rollup/commits/acc18e2ef04e6d59015c13aac328153e4fc624e9","created_at":"2019-02-14T15:38:49Z","performed_via_github_app":null},{"id":2144559893,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIxNDQ1NTk4OTM=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2144559893","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5eec80abb7f4edfb5c037eb0a2132c6ae1ed0ce2","commit_url":"https://api.github.com/repos/rollup/rollup/commits/5eec80abb7f4edfb5c037eb0a2132c6ae1ed0ce2","created_at":"2019-02-17T07:50:34Z","performed_via_github_app":null},{"id":2144569376,"node_id":"MDExOkNsb3NlZEV2ZW50MjE0NDU2OTM3Ng==","url":"https://api.github.com/repos/rollup/rollup/issues/events/2144569376","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-02-17T08:20:56Z","state_reason":null,"performed_via_github_app":null},{"id":2144569392,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIxNDQ1NjkzOTI=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2144569392","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"19a772797d52cfa65f61d2c1835c8f4c2ba31f94","commit_url":"https://api.github.com/repos/rollup/rollup/commits/19a772797d52cfa65f61d2c1835c8f4c2ba31f94","created_at":"2019-02-17T08:21:00Z","performed_via_github_app":null},{"actor":{"login":"gund","id":3644678,"node_id":"MDQ6VXNlcjM2NDQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/3644678?v=4","gravatar_id":"","url":"https://api.github.com/users/gund","html_url":"https://github.com/gund","followers_url":"https://api.github.com/users/gund/followers","following_url":"https://api.github.com/users/gund/following{/other_user}","gists_url":"https://api.github.com/users/gund/gists{/gist_id}","starred_url":"https://api.github.com/users/gund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gund/subscriptions","organizations_url":"https://api.github.com/users/gund/orgs","repos_url":"https://api.github.com/users/gund/repos","events_url":"https://api.github.com/users/gund/events{/privacy}","received_events_url":"https://api.github.com/users/gund/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-27T00:23:41Z","updated_at":"2019-02-27T00:23:41Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/ng-packagr/ng-packagr/issues/1227","repository_url":"https://api.github.com/repos/ng-packagr/ng-packagr","labels_url":"https://api.github.com/repos/ng-packagr/ng-packagr/issues/1227/labels{/name}","comments_url":"https://api.github.com/repos/ng-packagr/ng-packagr/issues/1227/comments","events_url":"https://api.github.com/repos/ng-packagr/ng-packagr/issues/1227/events","html_url":"https://github.com/ng-packagr/ng-packagr/issues/1227","id":414884940,"node_id":"MDU6SXNzdWU0MTQ4ODQ5NDA=","number":1227,"title":"Update rollup version","user":{"login":"gund","id":3644678,"node_id":"MDQ6VXNlcjM2NDQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/3644678?v=4","gravatar_id":"","url":"https://api.github.com/users/gund","html_url":"https://github.com/gund","followers_url":"https://api.github.com/users/gund/followers","following_url":"https://api.github.com/users/gund/following{/other_user}","gists_url":"https://api.github.com/users/gund/gists{/gist_id}","starred_url":"https://api.github.com/users/gund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gund/subscriptions","organizations_url":"https://api.github.com/users/gund/orgs","repos_url":"https://api.github.com/users/gund/repos","events_url":"https://api.github.com/users/gund/events{/privacy}","received_events_url":"https://api.github.com/users/gund/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":606999530,"node_id":"MDU6TGFiZWw2MDY5OTk1MzA=","url":"https://api.github.com/repos/ng-packagr/ng-packagr/labels/feature","name":"feature","color":"1d76db","default":false,"description":""}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-02-27T00:23:41Z","updated_at":"2020-06-19T11:03:48Z","closed_at":"2019-03-12T05:41:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":91553810,"node_id":"MDEwOlJlcG9zaXRvcnk5MTU1MzgxMA==","name":"ng-packagr","full_name":"ng-packagr/ng-packagr","private":false,"owner":{"login":"ng-packagr","id":42751888,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQyNzUxODg4","avatar_url":"https://avatars.githubusercontent.com/u/42751888?v=4","gravatar_id":"","url":"https://api.github.com/users/ng-packagr","html_url":"https://github.com/ng-packagr","followers_url":"https://api.github.com/users/ng-packagr/followers","following_url":"https://api.github.com/users/ng-packagr/following{/other_user}","gists_url":"https://api.github.com/users/ng-packagr/gists{/gist_id}","starred_url":"https://api.github.com/users/ng-packagr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ng-packagr/subscriptions","organizations_url":"https://api.github.com/users/ng-packagr/orgs","repos_url":"https://api.github.com/users/ng-packagr/repos","events_url":"https://api.github.com/users/ng-packagr/events{/privacy}","received_events_url":"https://api.github.com/users/ng-packagr/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ng-packagr/ng-packagr","description":"Compile and package Angular libraries in Angular Package Format (APF)","fork":false,"url":"https://api.github.com/repos/ng-packagr/ng-packagr","forks_url":"https://api.github.com/repos/ng-packagr/ng-packagr/forks","keys_url":"https://api.github.com/repos/ng-packagr/ng-packagr/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ng-packagr/ng-packagr/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ng-packagr/ng-packagr/teams","hooks_url":"https://api.github.com/repos/ng-packagr/ng-packagr/hooks","issue_events_url":"https://api.github.com/repos/ng-packagr/ng-packagr/issues/events{/number}","events_url":"https://api.github.com/repos/ng-packagr/ng-packagr/events","assignees_url":"https://api.github.com/repos/ng-packagr/ng-packagr/assignees{/user}","branches_url":"https://api.github.com/repos/ng-packagr/ng-packagr/branches{/branch}","tags_url":"https://api.github.com/repos/ng-packagr/ng-packagr/tags","blobs_url":"https://api.github.com/repos/ng-packagr/ng-packagr/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ng-packagr/ng-packagr/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ng-packagr/ng-packagr/git/refs{/sha}","trees_url":"https://api.github.com/repos/ng-packagr/ng-packagr/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ng-packagr/ng-packagr/statuses/{sha}","languages_url":"https://api.github.com/repos/ng-packagr/ng-packagr/languages","stargazers_url":"https://api.github.com/repos/ng-packagr/ng-packagr/stargazers","contributors_url":"https://api.github.com/repos/ng-packagr/ng-packagr/contributors","subscribers_url":"https://api.github.com/repos/ng-packagr/ng-packagr/subscribers","subscription_url":"https://api.github.com/repos/ng-packagr/ng-packagr/subscription","commits_url":"https://api.github.com/repos/ng-packagr/ng-packagr/commits{/sha}","git_commits_url":"https://api.github.com/repos/ng-packagr/ng-packagr/git/commits{/sha}","comments_url":"https://api.github.com/repos/ng-packagr/ng-packagr/comments{/number}","issue_comment_url":"https://api.github.com/repos/ng-packagr/ng-packagr/issues/comments{/number}","contents_url":"https://api.github.com/repos/ng-packagr/ng-packagr/contents/{+path}","compare_url":"https://api.github.com/repos/ng-packagr/ng-packagr/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ng-packagr/ng-packagr/merges","archive_url":"https://api.github.com/repos/ng-packagr/ng-packagr/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ng-packagr/ng-packagr/downloads","issues_url":"https://api.github.com/repos/ng-packagr/ng-packagr/issues{/number}","pulls_url":"https://api.github.com/repos/ng-packagr/ng-packagr/pulls{/number}","milestones_url":"https://api.github.com/repos/ng-packagr/ng-packagr/milestones{/number}","notifications_url":"https://api.github.com/repos/ng-packagr/ng-packagr/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ng-packagr/ng-packagr/labels{/name}","releases_url":"https://api.github.com/repos/ng-packagr/ng-packagr/releases{/id}","deployments_url":"https://api.github.com/repos/ng-packagr/ng-packagr/deployments","created_at":"2017-05-17T08:43:27Z","updated_at":"2025-11-09T19:20:57Z","pushed_at":"2025-11-09T19:20:53Z","git_url":"git://github.com/ng-packagr/ng-packagr.git","ssh_url":"git@github.com:ng-packagr/ng-packagr.git","clone_url":"https://github.com/ng-packagr/ng-packagr.git","svn_url":"https://github.com/ng-packagr/ng-packagr","homepage":"","size":25728,"stargazers_count":1857,"watchers_count":1857,"language":"TypeScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":297,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":18,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["angular","angular-cli","angular-library","angular-package-format","component-library","css","html","less","scss","stylus","typescript"],"visibility":"public","forks":297,"open_issues":18,"watchers":1857,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## Type of Issue\r\n\r\n```\r\n[ ] Bug Report\r\n[x] Feature Request\r\n```\r\n\r\n## Description\r\n\r\nCurrent version of rollup being used has a major flaw in flat module bundles as it does not rename most of the reserved words (only `undefined`) in import statements (see https://github.com/rollup/rollup/issues/2680).\r\n\r\nThat issue was addressed in `rollup@1.2.0` via https://github.com/rollup/rollup/pull/2689.\r\n\r\nSo my question is can ng-packagr update it's version of rollup so we can have proper FESM bundles?\r\n\r\n#### How To Reproduce\r\n\r\nSee [this example](https://rollupjs.org/repl?version=1.1.2&shareable=JTdCJTIybW9kdWxlcyUyMiUzQSU1QiU3QiUyMm5hbWUlMjIlM0ElMjJtYWluLmpzJTIyJTJDJTIyY29kZSUyMiUzQSUyMmltcG9ydCUyMColMjBhcyUyMHQlMjBmcm9tJTIwJ2h0dHBzJTNBJTJGJTJGdW5wa2cuY29tJTJGaW8tdHMlNDAxLjguMSUyRmxpYiUyRmluZGV4LmpzJyU1Q24lNUNuY29uc29sZS5sb2codC51bmRlZmluZWQpJTNCJTVDbiU1Q24lMkYlMkYlMjBCUk9LRU4hJTIwTXVzdCUyMGJlJTIwcmVuYW1lZCUyMHNhbWUlMjBhcyUyMCU2MHVuZGVmaW5lZCUyNDElNjAlNUNuY29uc29sZS5sb2codC5udWxsKSUzQiU1Q25jb25zb2xlLmxvZyh0LnN0YXRpYyklM0IlNUNuY29uc29sZS5sb2codC5pZiklM0IlNUNuY29uc29sZS5sb2codC5lbHNlKSUzQiU1Q25jb25zb2xlLmxvZyh0LmNsYXNzKSUzQiU1Q25jb25zb2xlLmxvZyh0LmltcG9ydCklM0IlNUNuJTIyJTJDJTIyaXNFbnRyeSUyMiUzQXRydWUlN0QlNUQlMkMlMjJvcHRpb25zJTIyJTNBJTdCJTIyZm9ybWF0JTIyJTNBJTIyZXNtJTIyJTJDJTIybmFtZSUyMiUzQSUyMm15QnVuZGxlJTIyJTJDJTIyYW1kJTIyJTNBJTdCJTIyaWQlMjIlM0ElMjIlMjIlN0QlMkMlMjJnbG9iYWxzJTIyJTNBJTdCJTdEJTdEJTJDJTIyZXhhbXBsZSUyMiUzQW51bGwlN0Q=) to understand the problem.\r\n\r\n#### Expected Behaviour\r\n\r\nFESM bundles should be properly flattened via newest version of rollup.\r\n\r\n#### Version Information\r\n\r\n```\r\n$ node_modules/.bin/ng-packagr --version\r\nng-packagr:            4.7.1\r\n@angular/compiler:     7.2.6\r\nrollup:                0.67.4\r\ntsickle:               0.34.3\r\ntypescript:            3.2.4\r\nnode: 11.9.0\r\nnpm: 6.5.0\r\nrollup: 0.67.4 (from package-lock.json file)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/ng-packagr/ng-packagr/issues/1227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/ng-packagr/ng-packagr/issues/1227/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]