[{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/552469302","html_url":"https://github.com/rollup/rollup/issues/3225#issuecomment-552469302","issue_url":"https://api.github.com/repos/rollup/rollup/issues/3225","id":552469302,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQ2OTMwMg==","user":{"login":"shellscape","id":76371,"node_id":"MDQ6VXNlcjc2Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/76371?v=4","gravatar_id":"","url":"https://api.github.com/users/shellscape","html_url":"https://github.com/shellscape","followers_url":"https://api.github.com/users/shellscape/followers","following_url":"https://api.github.com/users/shellscape/following{/other_user}","gists_url":"https://api.github.com/users/shellscape/gists{/gist_id}","starred_url":"https://api.github.com/users/shellscape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shellscape/subscriptions","organizations_url":"https://api.github.com/users/shellscape/orgs","repos_url":"https://api.github.com/users/shellscape/repos","events_url":"https://api.github.com/users/shellscape/events{/privacy}","received_events_url":"https://api.github.com/users/shellscape/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T14:33:48Z","updated_at":"2019-11-11T14:33:48Z","body":"Thanks for opening an issue. Could you link to your project or any relevant source that would provide context for the request? As this would be a breaking change, maximum information is important.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/552469302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"shellscape","id":76371,"node_id":"MDQ6VXNlcjc2Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/76371?v=4","gravatar_id":"","url":"https://api.github.com/users/shellscape","html_url":"https://github.com/shellscape","followers_url":"https://api.github.com/users/shellscape/followers","following_url":"https://api.github.com/users/shellscape/following{/other_user}","gists_url":"https://api.github.com/users/shellscape/gists{/gist_id}","starred_url":"https://api.github.com/users/shellscape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shellscape/subscriptions","organizations_url":"https://api.github.com/users/shellscape/orgs","repos_url":"https://api.github.com/users/shellscape/repos","events_url":"https://api.github.com/users/shellscape/events{/privacy}","received_events_url":"https://api.github.com/users/shellscape/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/552507285","html_url":"https://github.com/rollup/rollup/issues/3225#issuecomment-552507285","issue_url":"https://api.github.com/repos/rollup/rollup/issues/3225","id":552507285,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjUwNzI4NQ==","user":{"login":"jdanyow","id":1306747,"node_id":"MDQ6VXNlcjEzMDY3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/1306747?v=4","gravatar_id":"","url":"https://api.github.com/users/jdanyow","html_url":"https://github.com/jdanyow","followers_url":"https://api.github.com/users/jdanyow/followers","following_url":"https://api.github.com/users/jdanyow/following{/other_user}","gists_url":"https://api.github.com/users/jdanyow/gists{/gist_id}","starred_url":"https://api.github.com/users/jdanyow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdanyow/subscriptions","organizations_url":"https://api.github.com/users/jdanyow/orgs","repos_url":"https://api.github.com/users/jdanyow/repos","events_url":"https://api.github.com/users/jdanyow/events{/privacy}","received_events_url":"https://api.github.com/users/jdanyow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T16:10:16Z","updated_at":"2019-11-11T16:52:19Z","body":"Sure, thanks for considering this. I can't link to the repo because it's private but here's the code.\r\n\r\nThis class is part of a system that bundles chai tests and executes them in headless chrome (puppeteer) or in cloudflare workers. The bundle never needs to be written to disk because it's served from memory with the http module or posted to the cloudflare api to enable testing in the code's true target environment (cloudflare worker).\r\n\r\nSpecifically, in the `async bundle() {` method below, by the time the watcher's BUNDLE_END event has fired the bundle has been generated and written to disk. I would like to be able to generate myself and avoid the write to disk because the file isn't needed and causes collisions / requires cleanup.\r\n\r\n```js\r\n// @ts-check\r\n\r\nconst EventEmitter = require('events');\r\nconst { rollup, watch } = require('rollup');\r\nconst glob = require('fast-glob');\r\nconst typescript = require('rollup-plugin-typescript2');\r\nconst virtual = require('rollup-plugin-virtual');\r\n\r\n/**\r\n * Bundles specs into a single file using rollup\r\n */\r\nclass Bundler extends EventEmitter {\r\n  /** @type {import('rollup').OutputOptions} */\r\n  outputOptions = {\r\n    file: '/dev/null', // no way to prevent rollup.watch from writing to disk\r\n    format: 'iife',\r\n    globals: { 'chai': 'chai' }\r\n  };\r\n\r\n  /**\r\n   * @param {string[]} globs \r\n   * @param {boolean} watch \r\n   */\r\n  constructor(globs, watch) {\r\n    super();\r\n    this.globs = globs;\r\n    this.watch = watch;\r\n    this.code = '';\r\n    this.bundled = new Promise(resolve => this.setBundled = resolve);\r\n  }\r\n\r\n  async bundle() {\r\n    const inputOptions = await this.getInputOptions();\r\n\r\n    if (this.watch) {\r\n      /** @type {import('rollup').RollupWatchOptions} */\r\n      const watchOptions = {\r\n        ...inputOptions,\r\n        output: this.outputOptions\r\n      }\r\n      const watcher = watch([watchOptions]);\r\n      watcher.on('event', async ({ code, result: bundle }) => {\r\n        if (code !== 'BUNDLE_END') {\r\n          return;\r\n        }\r\n\r\n        // *** At this point the bundle has been written to disk \r\n        // *** which is not required for my use case.\r\n\r\n        this.updateCode(bundle);\r\n      });\r\n    } else {\r\n      const bundle = await rollup(inputOptions);\r\n      this.updateCode(bundle);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {import('rollup').RollupBuild} bundle\r\n   */\r\n  async updateCode(bundle) {\r\n    const { output } = await bundle.generate(this.outputOptions);\r\n    this.code = output[0].code;\r\n    this.setBundled();\r\n    this.emit('bundled');\r\n  }\r\n\r\n  async generateVirtualEntry() {\r\n    /** @type {string[]} */\r\n    const specs = (await Promise.all(this.globs.map(pattern => glob(pattern))))\r\n      // @ts-ignore (flat is not in tslib yet)\r\n      .flat()\r\n      .filter((x, i, a) => a.indexOf(x) === i);\r\n    return specs.map(spec => `import './${spec}';`).join('\\n');\r\n  }\r\n\r\n  async getInputOptions() {\r\n    const entrySource = await this.generateVirtualEntry();\r\n\r\n    /** @type {import('rollup').RollupOptions} */\r\n    const inputOptions = {\r\n      input: 'entry.ts',\r\n      plugins: [\r\n        virtual({ 'entry.ts': entrySource }),\r\n        // @ts-ignore\r\n        typescript({})\r\n      ],\r\n      external: ['chai'],\r\n    };\r\n\r\n    return inputOptions;\r\n  }\r\n}\r\n\r\nmodule.exports.Bundler = Bundler;\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/552507285/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jdanyow","id":1306747,"node_id":"MDQ6VXNlcjEzMDY3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/1306747?v=4","gravatar_id":"","url":"https://api.github.com/users/jdanyow","html_url":"https://github.com/jdanyow","followers_url":"https://api.github.com/users/jdanyow/followers","following_url":"https://api.github.com/users/jdanyow/following{/other_user}","gists_url":"https://api.github.com/users/jdanyow/gists{/gist_id}","starred_url":"https://api.github.com/users/jdanyow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdanyow/subscriptions","organizations_url":"https://api.github.com/users/jdanyow/orgs","repos_url":"https://api.github.com/users/jdanyow/repos","events_url":"https://api.github.com/users/jdanyow/events{/privacy}","received_events_url":"https://api.github.com/users/jdanyow/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2798510389,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc5ODUxMDM4OQ==","url":"https://api.github.com/repos/rollup/rollup/issues/events/2798510389","actor":{"login":"jdanyow","id":1306747,"node_id":"MDQ6VXNlcjEzMDY3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/1306747?v=4","gravatar_id":"","url":"https://api.github.com/users/jdanyow","html_url":"https://github.com/jdanyow","followers_url":"https://api.github.com/users/jdanyow/followers","following_url":"https://api.github.com/users/jdanyow/following{/other_user}","gists_url":"https://api.github.com/users/jdanyow/gists{/gist_id}","starred_url":"https://api.github.com/users/jdanyow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdanyow/subscriptions","organizations_url":"https://api.github.com/users/jdanyow/orgs","repos_url":"https://api.github.com/users/jdanyow/repos","events_url":"https://api.github.com/users/jdanyow/events{/privacy}","received_events_url":"https://api.github.com/users/jdanyow/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-14T10:26:46Z","performed_via_github_app":null},{"id":2798510391,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3OTg1MTAzOTE=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2798510391","actor":{"login":"jdanyow","id":1306747,"node_id":"MDQ6VXNlcjEzMDY3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/1306747?v=4","gravatar_id":"","url":"https://api.github.com/users/jdanyow","html_url":"https://github.com/jdanyow","followers_url":"https://api.github.com/users/jdanyow/followers","following_url":"https://api.github.com/users/jdanyow/following{/other_user}","gists_url":"https://api.github.com/users/jdanyow/gists{/gist_id}","starred_url":"https://api.github.com/users/jdanyow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdanyow/subscriptions","organizations_url":"https://api.github.com/users/jdanyow/orgs","repos_url":"https://api.github.com/users/jdanyow/repos","events_url":"https://api.github.com/users/jdanyow/events{/privacy}","received_events_url":"https://api.github.com/users/jdanyow/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-14T10:26:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/553888951","html_url":"https://github.com/rollup/rollup/issues/3225#issuecomment-553888951","issue_url":"https://api.github.com/repos/rollup/rollup/issues/3225","id":553888951,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mzg4ODk1MQ==","user":{"login":"shellscape","id":76371,"node_id":"MDQ6VXNlcjc2Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/76371?v=4","gravatar_id":"","url":"https://api.github.com/users/shellscape","html_url":"https://github.com/shellscape","followers_url":"https://api.github.com/users/shellscape/followers","following_url":"https://api.github.com/users/shellscape/following{/other_user}","gists_url":"https://api.github.com/users/shellscape/gists{/gist_id}","starred_url":"https://api.github.com/users/shellscape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shellscape/subscriptions","organizations_url":"https://api.github.com/users/shellscape/orgs","repos_url":"https://api.github.com/users/shellscape/repos","events_url":"https://api.github.com/users/shellscape/events{/privacy}","received_events_url":"https://api.github.com/users/shellscape/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T13:32:01Z","updated_at":"2019-11-14T14:22:39Z","body":"@PepsRyuu while we're fans of what you're doing with Nollup, it's a tad improper to redirect (advertise?) folks to your project within another project's issues. The OP has several methods of contact on their profile, and that would be a more apt method of communication to tell them about the benefits of Nollup.\r\n\r\nI'd like to get this issue back on topic and see if we can't improve Rollup with the OP's help. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/553888951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"shellscape","id":76371,"node_id":"MDQ6VXNlcjc2Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/76371?v=4","gravatar_id":"","url":"https://api.github.com/users/shellscape","html_url":"https://github.com/shellscape","followers_url":"https://api.github.com/users/shellscape/followers","following_url":"https://api.github.com/users/shellscape/following{/other_user}","gists_url":"https://api.github.com/users/shellscape/gists{/gist_id}","starred_url":"https://api.github.com/users/shellscape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shellscape/subscriptions","organizations_url":"https://api.github.com/users/shellscape/orgs","repos_url":"https://api.github.com/users/shellscape/repos","events_url":"https://api.github.com/users/shellscape/events{/privacy}","received_events_url":"https://api.github.com/users/shellscape/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2799063961,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc5OTA2Mzk2MQ==","url":"https://api.github.com/repos/rollup/rollup/issues/events/2799063961","actor":{"login":"PepsRyuu","id":6637882,"node_id":"MDQ6VXNlcjY2Mzc4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/6637882?v=4","gravatar_id":"","url":"https://api.github.com/users/PepsRyuu","html_url":"https://github.com/PepsRyuu","followers_url":"https://api.github.com/users/PepsRyuu/followers","following_url":"https://api.github.com/users/PepsRyuu/following{/other_user}","gists_url":"https://api.github.com/users/PepsRyuu/gists{/gist_id}","starred_url":"https://api.github.com/users/PepsRyuu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PepsRyuu/subscriptions","organizations_url":"https://api.github.com/users/PepsRyuu/orgs","repos_url":"https://api.github.com/users/PepsRyuu/repos","events_url":"https://api.github.com/users/PepsRyuu/events{/privacy}","received_events_url":"https://api.github.com/users/PepsRyuu/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-14T13:32:01Z","performed_via_github_app":null},{"id":2799063963,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3OTkwNjM5NjM=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2799063963","actor":{"login":"PepsRyuu","id":6637882,"node_id":"MDQ6VXNlcjY2Mzc4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/6637882?v=4","gravatar_id":"","url":"https://api.github.com/users/PepsRyuu","html_url":"https://github.com/PepsRyuu","followers_url":"https://api.github.com/users/PepsRyuu/followers","following_url":"https://api.github.com/users/PepsRyuu/following{/other_user}","gists_url":"https://api.github.com/users/PepsRyuu/gists{/gist_id}","starred_url":"https://api.github.com/users/PepsRyuu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PepsRyuu/subscriptions","organizations_url":"https://api.github.com/users/PepsRyuu/orgs","repos_url":"https://api.github.com/users/PepsRyuu/repos","events_url":"https://api.github.com/users/PepsRyuu/events{/privacy}","received_events_url":"https://api.github.com/users/PepsRyuu/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-14T13:32:01Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/553896508","html_url":"https://github.com/rollup/rollup/issues/3225#issuecomment-553896508","issue_url":"https://api.github.com/repos/rollup/rollup/issues/3225","id":553896508,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mzg5NjUwOA==","user":{"login":"shellscape","id":76371,"node_id":"MDQ6VXNlcjc2Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/76371?v=4","gravatar_id":"","url":"https://api.github.com/users/shellscape","html_url":"https://github.com/shellscape","followers_url":"https://api.github.com/users/shellscape/followers","following_url":"https://api.github.com/users/shellscape/following{/other_user}","gists_url":"https://api.github.com/users/shellscape/gists{/gist_id}","starred_url":"https://api.github.com/users/shellscape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shellscape/subscriptions","organizations_url":"https://api.github.com/users/shellscape/orgs","repos_url":"https://api.github.com/users/shellscape/repos","events_url":"https://api.github.com/users/shellscape/events{/privacy}","received_events_url":"https://api.github.com/users/shellscape/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T13:51:27Z","updated_at":"2019-11-14T13:51:27Z","body":"@jdanyow I think there's merit to getting rollup to a place where we can support that. _(ping @lukastaegert)_","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/553896508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"shellscape","id":76371,"node_id":"MDQ6VXNlcjc2Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/76371?v=4","gravatar_id":"","url":"https://api.github.com/users/shellscape","html_url":"https://github.com/shellscape","followers_url":"https://api.github.com/users/shellscape/followers","following_url":"https://api.github.com/users/shellscape/following{/other_user}","gists_url":"https://api.github.com/users/shellscape/gists{/gist_id}","starred_url":"https://api.github.com/users/shellscape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shellscape/subscriptions","organizations_url":"https://api.github.com/users/shellscape/orgs","repos_url":"https://api.github.com/users/shellscape/repos","events_url":"https://api.github.com/users/shellscape/events{/privacy}","received_events_url":"https://api.github.com/users/shellscape/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2799131424,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc5OTEzMTQyNA==","url":"https://api.github.com/repos/rollup/rollup/issues/events/2799131424","actor":{"login":"jdanyow","id":1306747,"node_id":"MDQ6VXNlcjEzMDY3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/1306747?v=4","gravatar_id":"","url":"https://api.github.com/users/jdanyow","html_url":"https://github.com/jdanyow","followers_url":"https://api.github.com/users/jdanyow/followers","following_url":"https://api.github.com/users/jdanyow/following{/other_user}","gists_url":"https://api.github.com/users/jdanyow/gists{/gist_id}","starred_url":"https://api.github.com/users/jdanyow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdanyow/subscriptions","organizations_url":"https://api.github.com/users/jdanyow/orgs","repos_url":"https://api.github.com/users/jdanyow/repos","events_url":"https://api.github.com/users/jdanyow/events{/privacy}","received_events_url":"https://api.github.com/users/jdanyow/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-14T13:51:28Z","performed_via_github_app":null},{"id":2799131426,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3OTkxMzE0MjY=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2799131426","actor":{"login":"jdanyow","id":1306747,"node_id":"MDQ6VXNlcjEzMDY3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/1306747?v=4","gravatar_id":"","url":"https://api.github.com/users/jdanyow","html_url":"https://github.com/jdanyow","followers_url":"https://api.github.com/users/jdanyow/followers","following_url":"https://api.github.com/users/jdanyow/following{/other_user}","gists_url":"https://api.github.com/users/jdanyow/gists{/gist_id}","starred_url":"https://api.github.com/users/jdanyow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdanyow/subscriptions","organizations_url":"https://api.github.com/users/jdanyow/orgs","repos_url":"https://api.github.com/users/jdanyow/repos","events_url":"https://api.github.com/users/jdanyow/events{/privacy}","received_events_url":"https://api.github.com/users/jdanyow/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-14T13:51:28Z","performed_via_github_app":null},{"id":2799131433,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc5OTEzMTQzMw==","url":"https://api.github.com/repos/rollup/rollup/issues/events/2799131433","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-14T13:51:28Z","performed_via_github_app":null},{"id":2799131435,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3OTkxMzE0MzU=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2799131435","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-14T13:51:28Z","performed_via_github_app":null},{"id":2799132678,"node_id":"MDEyOkxhYmVsZWRFdmVudDI3OTkxMzI2Nzg=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2799132678","actor":{"login":"shellscape","id":76371,"node_id":"MDQ6VXNlcjc2Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/76371?v=4","gravatar_id":"","url":"https://api.github.com/users/shellscape","html_url":"https://github.com/shellscape","followers_url":"https://api.github.com/users/shellscape/followers","following_url":"https://api.github.com/users/shellscape/following{/other_user}","gists_url":"https://api.github.com/users/shellscape/gists{/gist_id}","starred_url":"https://api.github.com/users/shellscape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shellscape/subscriptions","organizations_url":"https://api.github.com/users/shellscape/orgs","repos_url":"https://api.github.com/users/shellscape/repos","events_url":"https://api.github.com/users/shellscape/events{/privacy}","received_events_url":"https://api.github.com/users/shellscape/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-11-14T13:51:49Z","label":{"name":"sÂ² ðŸ”¥ðŸ”¥ important","color":"FB8C00"},"performed_via_github_app":null},{"id":2799132681,"node_id":"MDEyOkxhYmVsZWRFdmVudDI3OTkxMzI2ODE=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2799132681","actor":{"login":"shellscape","id":76371,"node_id":"MDQ6VXNlcjc2Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/76371?v=4","gravatar_id":"","url":"https://api.github.com/users/shellscape","html_url":"https://github.com/shellscape","followers_url":"https://api.github.com/users/shellscape/followers","following_url":"https://api.github.com/users/shellscape/following{/other_user}","gists_url":"https://api.github.com/users/shellscape/gists{/gist_id}","starred_url":"https://api.github.com/users/shellscape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shellscape/subscriptions","organizations_url":"https://api.github.com/users/shellscape/orgs","repos_url":"https://api.github.com/users/shellscape/repos","events_url":"https://api.github.com/users/shellscape/events{/privacy}","received_events_url":"https://api.github.com/users/shellscape/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-11-14T13:51:49Z","label":{"name":"tÂ³ âœ¨ enhancement","color":"03a9f4"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/553900117","html_url":"https://github.com/rollup/rollup/issues/3225#issuecomment-553900117","issue_url":"https://api.github.com/repos/rollup/rollup/issues/3225","id":553900117,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzkwMDExNw==","user":{"login":"PepsRyuu","id":6637882,"node_id":"MDQ6VXNlcjY2Mzc4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/6637882?v=4","gravatar_id":"","url":"https://api.github.com/users/PepsRyuu","html_url":"https://github.com/PepsRyuu","followers_url":"https://api.github.com/users/PepsRyuu/followers","following_url":"https://api.github.com/users/PepsRyuu/following{/other_user}","gists_url":"https://api.github.com/users/PepsRyuu/gists{/gist_id}","starred_url":"https://api.github.com/users/PepsRyuu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PepsRyuu/subscriptions","organizations_url":"https://api.github.com/users/PepsRyuu/orgs","repos_url":"https://api.github.com/users/PepsRyuu/repos","events_url":"https://api.github.com/users/PepsRyuu/events{/privacy}","received_events_url":"https://api.github.com/users/PepsRyuu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T14:00:04Z","updated_at":"2019-11-14T14:00:04Z","body":"@shellscape My apologies. I wasn't aware that the rules have changed, and that we weren't allowed to link to third-party plugins and tools, even if they're listed on Rollup sites. Feels a bit weird to pretend that workarounds don't exist. Figured it would be wiser to unblock and solve user problems immediately while a proper solution is being developed in parallel which can take a significant amount of time.\r\n\r\nI have removed the post. Will refrain from sharing third-party links in the future.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/553900117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"PepsRyuu","id":6637882,"node_id":"MDQ6VXNlcjY2Mzc4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/6637882?v=4","gravatar_id":"","url":"https://api.github.com/users/PepsRyuu","html_url":"https://github.com/PepsRyuu","followers_url":"https://api.github.com/users/PepsRyuu/followers","following_url":"https://api.github.com/users/PepsRyuu/following{/other_user}","gists_url":"https://api.github.com/users/PepsRyuu/gists{/gist_id}","starred_url":"https://api.github.com/users/PepsRyuu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PepsRyuu/subscriptions","organizations_url":"https://api.github.com/users/PepsRyuu/orgs","repos_url":"https://api.github.com/users/PepsRyuu/repos","events_url":"https://api.github.com/users/PepsRyuu/events{/privacy}","received_events_url":"https://api.github.com/users/PepsRyuu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2799160751,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjc5OTE2MDc1MQ==","url":"https://api.github.com/repos/rollup/rollup/issues/events/2799160751","actor":{"login":"shellscape","id":76371,"node_id":"MDQ6VXNlcjc2Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/76371?v=4","gravatar_id":"","url":"https://api.github.com/users/shellscape","html_url":"https://github.com/shellscape","followers_url":"https://api.github.com/users/shellscape/followers","following_url":"https://api.github.com/users/shellscape/following{/other_user}","gists_url":"https://api.github.com/users/shellscape/gists{/gist_id}","starred_url":"https://api.github.com/users/shellscape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shellscape/subscriptions","organizations_url":"https://api.github.com/users/shellscape/orgs","repos_url":"https://api.github.com/users/shellscape/repos","events_url":"https://api.github.com/users/shellscape/events{/privacy}","received_events_url":"https://api.github.com/users/shellscape/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-11-14T14:00:04Z","performed_via_github_app":null},{"id":2799160754,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI3OTkxNjA3NTQ=","url":"https://api.github.com/repos/rollup/rollup/issues/events/2799160754","actor":{"login":"shellscape","id":76371,"node_id":"MDQ6VXNlcjc2Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/76371?v=4","gravatar_id":"","url":"https://api.github.com/users/shellscape","html_url":"https://github.com/shellscape","followers_url":"https://api.github.com/users/shellscape/followers","following_url":"https://api.github.com/users/shellscape/following{/other_user}","gists_url":"https://api.github.com/users/shellscape/gists{/gist_id}","starred_url":"https://api.github.com/users/shellscape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shellscape/subscriptions","organizations_url":"https://api.github.com/users/shellscape/orgs","repos_url":"https://api.github.com/users/shellscape/repos","events_url":"https://api.github.com/users/shellscape/events{/privacy}","received_events_url":"https://api.github.com/users/shellscape/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-11-14T14:00:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/553911725","html_url":"https://github.com/rollup/rollup/issues/3225#issuecomment-553911725","issue_url":"https://api.github.com/repos/rollup/rollup/issues/3225","id":553911725,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzkxMTcyNQ==","user":{"login":"shellscape","id":76371,"node_id":"MDQ6VXNlcjc2Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/76371?v=4","gravatar_id":"","url":"https://api.github.com/users/shellscape","html_url":"https://github.com/shellscape","followers_url":"https://api.github.com/users/shellscape/followers","following_url":"https://api.github.com/users/shellscape/following{/other_user}","gists_url":"https://api.github.com/users/shellscape/gists{/gist_id}","starred_url":"https://api.github.com/users/shellscape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shellscape/subscriptions","organizations_url":"https://api.github.com/users/shellscape/orgs","repos_url":"https://api.github.com/users/shellscape/repos","events_url":"https://api.github.com/users/shellscape/events{/privacy}","received_events_url":"https://api.github.com/users/shellscape/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T14:28:21Z","updated_at":"2019-11-14T14:28:21Z","body":"There's no need to apologize, and there are no official rules about that or third party links. It's just timing. If we'd already evaluated the request and determined that it wasn't a good fit for Rollup or that it was a `wontfix` situation then yes, absolutely a workaround is appropriate.\r\n\r\nThe issue is pretty fresh, we'd like to work on improving Rollup rather than sending them elsewhere (which more often than not will derail the discussion). That's why I used the phrase \"a _tad_ improper,\" meaning a very small amount. We've sent users to Nollup many many times, but only after working through an issue first.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/comments/553911725/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"shellscape","id":76371,"node_id":"MDQ6VXNlcjc2Mzcx","avatar_url":"https://avatars.githubusercontent.com/u/76371?v=4","gravatar_id":"","url":"https://api.github.com/users/shellscape","html_url":"https://github.com/shellscape","followers_url":"https://api.github.com/users/shellscape/followers","following_url":"https://api.github.com/users/shellscape/following{/other_user}","gists_url":"https://api.github.com/users/shellscape/gists{/gist_id}","starred_url":"https://api.github.com/users/shellscape/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shellscape/subscriptions","organizations_url":"https://api.github.com/users/shellscape/orgs","repos_url":"https://api.github.com/users/shellscape/repos","events_url":"https://api.github.com/users/shellscape/events{/privacy}","received_events_url":"https://api.github.com/users/shellscape/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3151956124,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMxNTE5NTYxMjQ=","url":"https://api.github.com/repos/rollup/rollup/issues/events/3151956124","actor":{"login":"lukeed","id":5855893,"node_id":"MDQ6VXNlcjU4NTU4OTM=","avatar_url":"https://avatars.githubusercontent.com/u/5855893?v=4","gravatar_id":"","url":"https://api.github.com/users/lukeed","html_url":"https://github.com/lukeed","followers_url":"https://api.github.com/users/lukeed/followers","following_url":"https://api.github.com/users/lukeed/following{/other_user}","gists_url":"https://api.github.com/users/lukeed/gists{/gist_id}","starred_url":"https://api.github.com/users/lukeed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukeed/subscriptions","organizations_url":"https://api.github.com/users/lukeed/orgs","repos_url":"https://api.github.com/users/lukeed/repos","events_url":"https://api.github.com/users/lukeed/events{/privacy}","received_events_url":"https://api.github.com/users/lukeed/received_events","type":"User","user_view_type":"public","site_admin":true},"event":"referenced","commit_id":"d7b22a3d9491dc68d33fcef80b0cc21d0d77f8f8","commit_url":"https://api.github.com/repos/lukeed/rollup/commits/d7b22a3d9491dc68d33fcef80b0cc21d0d77f8f8","created_at":"2020-03-21T18:05:20Z","performed_via_github_app":null},{"actor":{"login":"lukeed","id":5855893,"node_id":"MDQ6VXNlcjU4NTU4OTM=","avatar_url":"https://avatars.githubusercontent.com/u/5855893?v=4","gravatar_id":"","url":"https://api.github.com/users/lukeed","html_url":"https://github.com/lukeed","followers_url":"https://api.github.com/users/lukeed/followers","following_url":"https://api.github.com/users/lukeed/following{/other_user}","gists_url":"https://api.github.com/users/lukeed/gists{/gist_id}","starred_url":"https://api.github.com/users/lukeed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukeed/subscriptions","organizations_url":"https://api.github.com/users/lukeed/orgs","repos_url":"https://api.github.com/users/lukeed/repos","events_url":"https://api.github.com/users/lukeed/events{/privacy}","received_events_url":"https://api.github.com/users/lukeed/received_events","type":"User","user_view_type":"public","site_admin":true},"created_at":"2020-03-21T18:07:58Z","updated_at":"2020-03-21T18:07:58Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rollup/rollup/issues/3454","repository_url":"https://api.github.com/repos/rollup/rollup","labels_url":"https://api.github.com/repos/rollup/rollup/issues/3454/labels{/name}","comments_url":"https://api.github.com/repos/rollup/rollup/issues/3454/comments","events_url":"https://api.github.com/repos/rollup/rollup/issues/3454/events","html_url":"https://github.com/rollup/rollup/pull/3454","id":585549783,"node_id":"MDExOlB1bGxSZXF1ZXN0MzkxODkxODQ5","number":3454,"title":"feat(watch): add `skipWrite` option","user":{"login":"lukeed","id":5855893,"node_id":"MDQ6VXNlcjU4NTU4OTM=","avatar_url":"https://avatars.githubusercontent.com/u/5855893?v=4","gravatar_id":"","url":"https://api.github.com/users/lukeed","html_url":"https://github.com/lukeed","followers_url":"https://api.github.com/users/lukeed/followers","following_url":"https://api.github.com/users/lukeed/following{/other_user}","gists_url":"https://api.github.com/users/lukeed/gists{/gist_id}","starred_url":"https://api.github.com/users/lukeed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukeed/subscriptions","organizations_url":"https://api.github.com/users/lukeed/orgs","repos_url":"https://api.github.com/users/lukeed/repos","events_url":"https://api.github.com/users/lukeed/events{/privacy}","received_events_url":"https://api.github.com/users/lukeed/received_events","type":"User","user_view_type":"public","site_admin":true},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-03-21T18:07:58Z","updated_at":"2020-03-24T16:02:06Z","closed_at":"2020-03-24T15:28:29Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":35640229,"node_id":"MDEwOlJlcG9zaXRvcnkzNTY0MDIyOQ==","name":"rollup","full_name":"rollup/rollup","private":false,"owner":{"login":"rollup","id":12554859,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEyNTU0ODU5","avatar_url":"https://avatars.githubusercontent.com/u/12554859?v=4","gravatar_id":"","url":"https://api.github.com/users/rollup","html_url":"https://github.com/rollup","followers_url":"https://api.github.com/users/rollup/followers","following_url":"https://api.github.com/users/rollup/following{/other_user}","gists_url":"https://api.github.com/users/rollup/gists{/gist_id}","starred_url":"https://api.github.com/users/rollup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rollup/subscriptions","organizations_url":"https://api.github.com/users/rollup/orgs","repos_url":"https://api.github.com/users/rollup/repos","events_url":"https://api.github.com/users/rollup/events{/privacy}","received_events_url":"https://api.github.com/users/rollup/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rollup/rollup","description":"Next-generation ES module bundler","fork":false,"url":"https://api.github.com/repos/rollup/rollup","forks_url":"https://api.github.com/repos/rollup/rollup/forks","keys_url":"https://api.github.com/repos/rollup/rollup/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rollup/rollup/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rollup/rollup/teams","hooks_url":"https://api.github.com/repos/rollup/rollup/hooks","issue_events_url":"https://api.github.com/repos/rollup/rollup/issues/events{/number}","events_url":"https://api.github.com/repos/rollup/rollup/events","assignees_url":"https://api.github.com/repos/rollup/rollup/assignees{/user}","branches_url":"https://api.github.com/repos/rollup/rollup/branches{/branch}","tags_url":"https://api.github.com/repos/rollup/rollup/tags","blobs_url":"https://api.github.com/repos/rollup/rollup/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rollup/rollup/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rollup/rollup/git/refs{/sha}","trees_url":"https://api.github.com/repos/rollup/rollup/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rollup/rollup/statuses/{sha}","languages_url":"https://api.github.com/repos/rollup/rollup/languages","stargazers_url":"https://api.github.com/repos/rollup/rollup/stargazers","contributors_url":"https://api.github.com/repos/rollup/rollup/contributors","subscribers_url":"https://api.github.com/repos/rollup/rollup/subscribers","subscription_url":"https://api.github.com/repos/rollup/rollup/subscription","commits_url":"https://api.github.com/repos/rollup/rollup/commits{/sha}","git_commits_url":"https://api.github.com/repos/rollup/rollup/git/commits{/sha}","comments_url":"https://api.github.com/repos/rollup/rollup/comments{/number}","issue_comment_url":"https://api.github.com/repos/rollup/rollup/issues/comments{/number}","contents_url":"https://api.github.com/repos/rollup/rollup/contents/{+path}","compare_url":"https://api.github.com/repos/rollup/rollup/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rollup/rollup/merges","archive_url":"https://api.github.com/repos/rollup/rollup/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rollup/rollup/downloads","issues_url":"https://api.github.com/repos/rollup/rollup/issues{/number}","pulls_url":"https://api.github.com/repos/rollup/rollup/pulls{/number}","milestones_url":"https://api.github.com/repos/rollup/rollup/milestones{/number}","notifications_url":"https://api.github.com/repos/rollup/rollup/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rollup/rollup/labels{/name}","releases_url":"https://api.github.com/repos/rollup/rollup/releases{/id}","deployments_url":"https://api.github.com/repos/rollup/rollup/deployments","created_at":"2015-05-14T22:26:28Z","updated_at":"2025-11-09T07:58:19Z","pushed_at":"2025-11-08T17:11:17Z","git_url":"git://github.com/rollup/rollup.git","ssh_url":"git@github.com:rollup/rollup.git","clone_url":"https://github.com/rollup/rollup.git","svn_url":"https://github.com/rollup/rollup","homepage":"https://rollupjs.org","size":32539,"stargazers_count":26104,"watchers_count":26104,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":1649,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":602,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1649,"open_issues":602,"watchers":26104,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/rollup/rollup/pulls/3454","html_url":"https://github.com/rollup/rollup/pull/3454","diff_url":"https://github.com/rollup/rollup/pull/3454.diff","patch_url":"https://github.com/rollup/rollup/pull/3454.patch","merged_at":"2020-03-24T15:28:29Z"},"body":"This PR contains:\r\n- [ ] bugfix\r\n- [x] feature\r\n- [ ] refactor\r\n- [x] documentation\r\n- [ ] other\r\n\r\nAre tests included?\r\n- [x] yes (*bugfixes and features will not be merged without tests*)\r\n- [ ] no\r\n\r\nBreaking Changes?\r\n- [ ] yes (*breaking changes will not be merged unless absolutely necessary*)\r\n- [x] no\r\n\r\nList any relevant issue numbers: #3225\r\n\r\n### Description\r\n\r\n<!--\r\n  Please be thorough and clearly explain the problem being solved.\r\n  * If this PR adds a feature, look for previous discussion on the feature by searching the issues first.\r\n  * Is this PR related to an issue?\r\n-->\r\n\r\nThis change allows programmatic `rollup.watch` users to opt _out_ of automatic `bundle.write` calls. This definitely won't be the common use case, but it's been requested (a few times) in the past for certain scenarios.","reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/3454/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rollup/rollup/issues/3454/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":3160200920,"node_id":"MDExOkNsb3NlZEV2ZW50MzE2MDIwMDkyMA==","url":"https://api.github.com/repos/rollup/rollup/issues/events/3160200920","actor":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"485700e2886be3959f765877533800ad0859b533","commit_url":"https://api.github.com/repos/rollup/rollup/commits/485700e2886be3959f765877533800ad0859b533","created_at":"2020-03-24T15:28:31Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"surmon-china","id":14019524,"node_id":"MDQ6VXNlcjE0MDE5NTI0","avatar_url":"https://avatars.githubusercontent.com/u/14019524?v=4","gravatar_id":"","url":"https://api.github.com/users/surmon-china","html_url":"https://github.com/surmon-china","followers_url":"https://api.github.com/users/surmon-china/followers","following_url":"https://api.github.com/users/surmon-china/following{/other_user}","gists_url":"https://api.github.com/users/surmon-china/gists{/gist_id}","starred_url":"https://api.github.com/users/surmon-china/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surmon-china/subscriptions","organizations_url":"https://api.github.com/users/surmon-china/orgs","repos_url":"https://api.github.com/users/surmon-china/repos","events_url":"https://api.github.com/users/surmon-china/events{/privacy}","received_events_url":"https://api.github.com/users/surmon-china/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-28T08:05:14Z","updated_at":"2020-10-28T08:05:14Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/vitejs/vite/issues/972","repository_url":"https://api.github.com/repos/vitejs/vite","labels_url":"https://api.github.com/repos/vitejs/vite/issues/972/labels{/name}","comments_url":"https://api.github.com/repos/vitejs/vite/issues/972/comments","events_url":"https://api.github.com/repos/vitejs/vite/issues/972/events","html_url":"https://github.com/vitejs/vite/issues/972","id":730676630,"node_id":"MDU6SXNzdWU3MzA2NzY2MzA=","number":972,"title":"Better SSR support [watch build]","user":{"login":"surmon-china","id":14019524,"node_id":"MDQ6VXNlcjE0MDE5NTI0","avatar_url":"https://avatars.githubusercontent.com/u/14019524?v=4","gravatar_id":"","url":"https://api.github.com/users/surmon-china","html_url":"https://github.com/surmon-china","followers_url":"https://api.github.com/users/surmon-china/followers","following_url":"https://api.github.com/users/surmon-china/following{/other_user}","gists_url":"https://api.github.com/users/surmon-china/gists{/gist_id}","starred_url":"https://api.github.com/users/surmon-china/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surmon-china/subscriptions","organizations_url":"https://api.github.com/users/surmon-china/orgs","repos_url":"https://api.github.com/users/surmon-china/repos","events_url":"https://api.github.com/users/surmon-china/events{/privacy}","received_events_url":"https://api.github.com/users/surmon-china/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2061669931,"node_id":"MDU6TGFiZWwyMDYxNjY5OTMx","url":"https://api.github.com/repos/vitejs/vite/labels/contribution%20welcome","name":"contribution welcome","color":"a9fcd9","default":false,"description":""}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2020-10-27T17:44:25Z","updated_at":"2021-07-16T14:42:46Z","closed_at":"2021-01-08T17:43:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":257485422,"node_id":"MDEwOlJlcG9zaXRvcnkyNTc0ODU0MjI=","name":"vite","full_name":"vitejs/vite","private":false,"owner":{"login":"vitejs","id":65625612,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY1NjI1NjEy","avatar_url":"https://avatars.githubusercontent.com/u/65625612?v=4","gravatar_id":"","url":"https://api.github.com/users/vitejs","html_url":"https://github.com/vitejs","followers_url":"https://api.github.com/users/vitejs/followers","following_url":"https://api.github.com/users/vitejs/following{/other_user}","gists_url":"https://api.github.com/users/vitejs/gists{/gist_id}","starred_url":"https://api.github.com/users/vitejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vitejs/subscriptions","organizations_url":"https://api.github.com/users/vitejs/orgs","repos_url":"https://api.github.com/users/vitejs/repos","events_url":"https://api.github.com/users/vitejs/events{/privacy}","received_events_url":"https://api.github.com/users/vitejs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vitejs/vite","description":"Next generation frontend tooling. It's fast!","fork":false,"url":"https://api.github.com/repos/vitejs/vite","forks_url":"https://api.github.com/repos/vitejs/vite/forks","keys_url":"https://api.github.com/repos/vitejs/vite/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vitejs/vite/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vitejs/vite/teams","hooks_url":"https://api.github.com/repos/vitejs/vite/hooks","issue_events_url":"https://api.github.com/repos/vitejs/vite/issues/events{/number}","events_url":"https://api.github.com/repos/vitejs/vite/events","assignees_url":"https://api.github.com/repos/vitejs/vite/assignees{/user}","branches_url":"https://api.github.com/repos/vitejs/vite/branches{/branch}","tags_url":"https://api.github.com/repos/vitejs/vite/tags","blobs_url":"https://api.github.com/repos/vitejs/vite/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vitejs/vite/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vitejs/vite/git/refs{/sha}","trees_url":"https://api.github.com/repos/vitejs/vite/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vitejs/vite/statuses/{sha}","languages_url":"https://api.github.com/repos/vitejs/vite/languages","stargazers_url":"https://api.github.com/repos/vitejs/vite/stargazers","contributors_url":"https://api.github.com/repos/vitejs/vite/contributors","subscribers_url":"https://api.github.com/repos/vitejs/vite/subscribers","subscription_url":"https://api.github.com/repos/vitejs/vite/subscription","commits_url":"https://api.github.com/repos/vitejs/vite/commits{/sha}","git_commits_url":"https://api.github.com/repos/vitejs/vite/git/commits{/sha}","comments_url":"https://api.github.com/repos/vitejs/vite/comments{/number}","issue_comment_url":"https://api.github.com/repos/vitejs/vite/issues/comments{/number}","contents_url":"https://api.github.com/repos/vitejs/vite/contents/{+path}","compare_url":"https://api.github.com/repos/vitejs/vite/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vitejs/vite/merges","archive_url":"https://api.github.com/repos/vitejs/vite/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vitejs/vite/downloads","issues_url":"https://api.github.com/repos/vitejs/vite/issues{/number}","pulls_url":"https://api.github.com/repos/vitejs/vite/pulls{/number}","milestones_url":"https://api.github.com/repos/vitejs/vite/milestones{/number}","notifications_url":"https://api.github.com/repos/vitejs/vite/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vitejs/vite/labels{/name}","releases_url":"https://api.github.com/repos/vitejs/vite/releases{/id}","deployments_url":"https://api.github.com/repos/vitejs/vite/deployments","created_at":"2020-04-21T05:03:57Z","updated_at":"2025-11-09T19:00:11Z","pushed_at":"2025-11-09T03:35:08Z","git_url":"git://github.com/vitejs/vite.git","ssh_url":"git@github.com:vitejs/vite.git","clone_url":"https://github.com/vitejs/vite.git","svn_url":"https://github.com/vitejs/vite","homepage":"http://vite.dev","size":58955,"stargazers_count":76470,"watchers_count":76470,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":7465,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":602,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["build-tool","dev-server","frontend","hmr","vite"],"visibility":"public","forks":7465,"open_issues":602,"watchers":76470,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Feature\r\nI am using vite to build an SSR website, during which I tried to implement a nuxt-like, faster SSR framework, but I need better support.\r\n\r\n**I wish [`build`](https://github.com/vitejs/vite/blob/master/src/node/build/index.ts#L346) and [`ssrBuild`](https://github.com/vitejs/vite/blob/master/src/node/build/index.ts#L668) can support `watch` mode, or there be `watchBuild` and `watchSSRBuild` functions**\r\n\r\nSSR inevitably requires real-time compilation of products (Client & Server) \r\n\r\nIn my test.\r\n\r\nFirst, a form of `fileWatcher(files, () => build().then(() => restart()))` is used to track file changes and execute compile, but this will do a full `build` without cache support, which takes a long time.\r\n\r\n```js\r\nconst watcher = chokidar.watch(path.resolve(__dirname, 'src'), {\r\n  ignored: [/node_modules/, /\\.git/],\r\n  awaitWriteFinish: {\r\n    stabilityThreshold: 100,\r\n    pollInterval: 10\r\n  }\r\n})\r\n\r\nwatcher.on('change', info => {\r\n  ssrBuild({/* ... */})\r\n})\r\n```\r\n\r\nSecond. If you use `rollup.watch` to compile, you can quickly update the product and achieve a better development experience.\r\n\r\n```js\r\nconst rullupConfig = {\r\n    input: path.resolve(root, entry),\r\n    preserveEntrySignatures: false,\r\n    ...rollupInputOptions,\r\n    // ...\r\n}\r\n\r\n const watcher = rollup.watch({\r\n    ...rullupConfig,\r\n    output: {\r\n        // ...\r\n        ...rollupOutputOptions\r\n    },\r\n    watch: {\r\n        ...rollupWatchOptions\r\n        chokidar: chokidar.watch(/* watchPath */, {\r\n            ignored: [/node_modules/, /\\.git/],\r\n            awaitWriteFinish: {\r\n                stabilityThreshold: 100,\r\n                pollInterval: 10\r\n            }\r\n        }),\r\n    }\r\n})\r\n\r\n\r\nwatcher.on('event', event => {\r\n    if (event.code === 'BUNDLE_END') {\r\n        doRestart()\r\n        // emit something...\r\n        // write files...\r\n        // ...\r\n    }\r\n});\r\n```\r\n\r\nHowever, the implementation of the `build` function in the vite [`src/node/build/index.ts:build`](https://github.com/vitejs/vite/blob/master/src/node/build/index.ts#L346) file is too complex and deeply coupled, and I have to re-implement it externally, so I hope this can be extracted as a single function.\r\n\r\n### links\r\n- [`rollup.watch & write`](https://github.com/rollup/rollup/issues/3225#issuecomment-552507285)\r\n- [`roolup watch.skipWrite option`](https://github.com/rollup/rollup/pull/3454)","reactions":{"url":"https://api.github.com/repos/vitejs/vite/issues/972/reactions","total_count":14,"+1":10,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":3,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/vitejs/vite/issues/972/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":17990024446,"node_id":"SE_lADOAh_Tpc4fDbdZzwAAAAQwSfz-","url":"https://api.github.com/repos/rollup/rollup/issues/events/17990024446","actor":{"login":"alexandersorokin","id":11489679,"node_id":"MDQ6VXNlcjExNDg5Njc5","avatar_url":"https://avatars.githubusercontent.com/u/11489679?v=4","gravatar_id":"","url":"https://api.github.com/users/alexandersorokin","html_url":"https://github.com/alexandersorokin","followers_url":"https://api.github.com/users/alexandersorokin/followers","following_url":"https://api.github.com/users/alexandersorokin/following{/other_user}","gists_url":"https://api.github.com/users/alexandersorokin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexandersorokin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexandersorokin/subscriptions","organizations_url":"https://api.github.com/users/alexandersorokin/orgs","repos_url":"https://api.github.com/users/alexandersorokin/repos","events_url":"https://api.github.com/users/alexandersorokin/events{/privacy}","received_events_url":"https://api.github.com/users/alexandersorokin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-04T21:57:31Z","performed_via_github_app":null}]