{"url":"https://api.github.com/repos/rollup/rollup/issues/2172","repository_url":"https://api.github.com/repos/rollup/rollup","labels_url":"https://api.github.com/repos/rollup/rollup/issues/2172/labels{/name}","comments_url":"https://api.github.com/repos/rollup/rollup/issues/2172/comments","events_url":"https://api.github.com/repos/rollup/rollup/issues/2172/events","html_url":"https://github.com/rollup/rollup/issues/2172","id":320344303,"node_id":"MDU6SXNzdWUzMjAzNDQzMDM=","number":2172,"title":"Treeshake error with process.env replacement via Babel","user":{"login":"edoardocavazza","id":3907295,"node_id":"MDQ6VXNlcjM5MDcyOTU=","avatar_url":"https://avatars.githubusercontent.com/u/3907295?v=4","gravatar_id":"","url":"https://api.github.com/users/edoardocavazza","html_url":"https://github.com/edoardocavazza","followers_url":"https://api.github.com/users/edoardocavazza/followers","following_url":"https://api.github.com/users/edoardocavazza/following{/other_user}","gists_url":"https://api.github.com/users/edoardocavazza/gists{/gist_id}","starred_url":"https://api.github.com/users/edoardocavazza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edoardocavazza/subscriptions","organizations_url":"https://api.github.com/users/edoardocavazza/orgs","repos_url":"https://api.github.com/users/edoardocavazza/repos","events_url":"https://api.github.com/users/edoardocavazza/events{/privacy}","received_events_url":"https://api.github.com/users/edoardocavazza/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":211689302,"node_id":"MDU6TGFiZWwyMTE2ODkzMDI=","url":"https://api.github.com/repos/rollup/rollup/labels/t%C2%B9%20%F0%9F%90%9E%20bug","name":"t¬π üêû bug","color":"F44336","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-05-04T16:41:34Z","updated_at":"2018-05-08T06:04:10Z","closed_at":"2018-05-08T06:04:10Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\nIssues without reproductions will be closed. To create a repro,\r\n\r\n1. Use https://rollupjs.org/repl, or\r\n2. Follow the instructions in https://gist.github.com/Rich-Harris/88c5fc2ac6dc941b22e7996af05d70ff\r\n\r\nIf you just require tech support, please avoid creating issues! Though we would love to help you, we have very limited resources. Answering support questions prevents us from fixing bugs and implementing new features. Instead\r\n\r\n* search or post a question to https://stackoverflow.com/questions/tagged/rollupjs\r\n* ask for help on https://gitter.im/rollup/rollup\r\n\r\nLove Rollup? Please consider supporting our collective:\r\nüëâ  https://opencollective.com/rollup/donate\r\n-->\r\n\r\nHi! I have find out a treeshake issue when using `rollup-plugin-babel` with `babel-plugin-transform-inline-environment-variables`.\r\n\r\nYou can find a reproduction repo here:\r\nhttps://github.com/edoardocavazza/rollup-treeshake-demo\r\n\r\nI can not figure out what is happening, the babel plugin correctly transforms `process.env.TEST` with the `\"test\"` string, so I suppose that is a treeshake problem.","closed_by":{"login":"lukastaegert","id":12949268,"node_id":"MDQ6VXNlcjEyOTQ5MjY4","avatar_url":"https://avatars.githubusercontent.com/u/12949268?v=4","gravatar_id":"","url":"https://api.github.com/users/lukastaegert","html_url":"https://github.com/lukastaegert","followers_url":"https://api.github.com/users/lukastaegert/followers","following_url":"https://api.github.com/users/lukastaegert/following{/other_user}","gists_url":"https://api.github.com/users/lukastaegert/gists{/gist_id}","starred_url":"https://api.github.com/users/lukastaegert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukastaegert/subscriptions","organizations_url":"https://api.github.com/users/lukastaegert/orgs","repos_url":"https://api.github.com/users/lukastaegert/repos","events_url":"https://api.github.com/users/lukastaegert/events{/privacy}","received_events_url":"https://api.github.com/users/lukastaegert/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rollup/rollup/issues/2172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rollup/rollup/issues/2172/timeline","performed_via_github_app":null,"state_reason":"completed"}