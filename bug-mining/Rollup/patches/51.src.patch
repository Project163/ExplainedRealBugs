diff --git a/src/utils/run.js b/src/utils/run.js
index 447030585..b57149d13 100644
--- a/src/utils/run.js
+++ b/src/utils/run.js
@@ -95,6 +95,8 @@ export default function run ( node, scope, statement, strongDependencies, force
 
 				if ( declaration ) {
 					if ( declaration.isParam ) hasSideEffect = true;
+				} else if ( !scope.isTopLevel ) {
+					hasSideEffect = true;
 				} else {
 					declaration = statement.module.trace( subject.name );
 
diff --git a/test/function/member-expression-assignment-in-function/_config.js b/test/function/member-expression-assignment-in-function/_config.js
new file mode 100644
index 000000000..bf7e6fc0d
--- /dev/null
+++ b/test/function/member-expression-assignment-in-function/_config.js
@@ -0,0 +1,10 @@
+var assert = require( 'assert' );
+
+module.exports = {
+	description: 'detect side effect in member expression assignment when not top level',
+	code: function ( code ) {
+		assert.equal( code.indexOf( 'function set(key, value) { foo[key] = value; }' ) >= 0, true, code );
+		assert.equal( code.indexOf( 'set("bar", 2);' ) >= 0, true, code );
+		assert.equal( code.indexOf( 'set("qux", 3);' ) >= 0, true, code );
+	}
+}
diff --git a/test/function/member-expression-assignment-in-function/main.js b/test/function/member-expression-assignment-in-function/main.js
new file mode 100644
index 000000000..f627721f4
--- /dev/null
+++ b/test/function/member-expression-assignment-in-function/main.js
@@ -0,0 +1,9 @@
+var foo = {};
+
+function set(key, value) { foo[key] = value; }
+
+set("bar", 2);
+set("qux", 3);
+
+console.log(foo);
+
