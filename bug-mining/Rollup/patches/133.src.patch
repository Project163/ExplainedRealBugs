diff --git a/src/ast/nodes/IfStatement.ts b/src/ast/nodes/IfStatement.ts
index 824019f52..b778b6107 100644
--- a/src/ast/nodes/IfStatement.ts
+++ b/src/ast/nodes/IfStatement.ts
@@ -14,27 +14,32 @@ export default class IfStatement extends StatementBase {
 	private hasUnknownTestValue: boolean;
 
 	hasEffects(options: ExecutionPathOptions): boolean {
-		return (
-			this.test.hasEffects(options) ||
-			(this.hasUnknownTestValue
-				? this.consequent.hasEffects(options) ||
-				  (this.alternate !== null && this.alternate.hasEffects(options))
-				: this.someRelevantBranch(node => node.hasEffects(options)))
-		);
+		if (this.test.hasEffects(options)) return true;
+		const testValue = this.hasUnknownTestValue ? UNKNOWN_VALUE : this.getTestValue();
+		if (testValue === UNKNOWN_VALUE) {
+			return (
+				this.consequent.hasEffects(options) ||
+				(this.alternate !== null && this.alternate.hasEffects(options))
+			);
+		}
+		return testValue
+			? this.consequent.hasEffects(options)
+			: this.alternate !== null && this.alternate.hasEffects(options);
 	}
 
 	include() {
 		this.included = true;
-		const testValue = this.test.getValue();
+		const testValue = this.hasUnknownTestValue ? UNKNOWN_VALUE : this.getTestValue();
 		if (testValue === UNKNOWN_VALUE || this.test.shouldBeIncluded()) {
 			this.test.include();
 		}
-		if (testValue === UNKNOWN_VALUE) {
-			this.consequent.include();
-			if (this.alternate !== null) this.alternate.include();
-		} else if (testValue) {
+		if ((testValue === UNKNOWN_VALUE || testValue) && this.consequent.shouldBeIncluded()) {
 			this.consequent.include();
-		} else if (this.alternate !== null) {
+		}
+		if (
+			this.alternate !== null &&
+			((testValue === UNKNOWN_VALUE || !testValue) && this.alternate.shouldBeIncluded())
+		) {
 			this.alternate.include();
 		}
 	}
@@ -45,15 +50,28 @@ export default class IfStatement extends StatementBase {
 	}
 
 	render(code: MagicString, options: RenderOptions) {
-		const testValue = this.test.getValue();
+		const testValue = this.hasUnknownTestValue ? UNKNOWN_VALUE : this.test.getValue();
 		if (
 			!this.context.treeshake ||
 			this.test.included ||
 			(testValue ? this.alternate !== null && this.alternate.included : this.consequent.included)
 		) {
-			super.render(code, options);
+			this.test.render(code, options);
+			if (this.consequent.included) {
+				this.consequent.render(code, options);
+			} else {
+				code.overwrite(this.consequent.start, this.consequent.end, '{}');
+			}
+			if (this.alternate !== null) {
+				if (this.alternate.included) {
+					this.alternate.render(code, options);
+				} else {
+					code.remove(this.consequent.end, this.alternate.end);
+				}
+			}
 		} else {
-			// if test is not included, it is impossible that alternate===null even though it is the retained branch
+			// if test is not included, then the if statement is included because
+			// there is exactly one included branch
 			const branchToRetain = testValue ? this.consequent : this.alternate;
 			code.remove(this.start, branchToRetain.start);
 			code.remove(branchToRetain.end, this.end);
@@ -61,17 +79,12 @@ export default class IfStatement extends StatementBase {
 		}
 	}
 
-	private someRelevantBranch(predicateFunction: (node: StatementNode) => boolean): boolean {
-		const testValue = this.test.getValue();
-		if (testValue === UNKNOWN_VALUE) {
+	private getTestValue() {
+		if (this.hasUnknownTestValue) return UNKNOWN_VALUE;
+		const value = this.test.getValue();
+		if (value === UNKNOWN_VALUE) {
 			this.hasUnknownTestValue = true;
-			return (
-				predicateFunction(this.consequent) ||
-				(this.alternate !== null && predicateFunction(this.alternate))
-			);
 		}
-		return testValue
-			? predicateFunction(this.consequent)
-			: this.alternate !== null && predicateFunction(this.alternate);
+		return value;
 	}
 }
diff --git a/test/form/samples/empty-statement-consequent/_expected/amd.js b/test/form/samples/empty-statement-consequent/_expected/amd.js
index 911402854..a582fd0ef 100644
--- a/test/form/samples/empty-statement-consequent/_expected/amd.js
+++ b/test/form/samples/empty-statement-consequent/_expected/amd.js
@@ -1,6 +1,6 @@
 define(function () { 'use strict';
 
-	if ( a === 0 );
+	if ( a === 0 ){}
 	else a++;
 
-});
\ No newline at end of file
+});
diff --git a/test/form/samples/empty-statement-consequent/_expected/cjs.js b/test/form/samples/empty-statement-consequent/_expected/cjs.js
index 9b5e04ab9..de2aed2e3 100644
--- a/test/form/samples/empty-statement-consequent/_expected/cjs.js
+++ b/test/form/samples/empty-statement-consequent/_expected/cjs.js
@@ -1,4 +1,4 @@
 'use strict';
 
-if ( a === 0 );
-else a++;
\ No newline at end of file
+if ( a === 0 ){}
+else a++;
diff --git a/test/form/samples/empty-statement-consequent/_expected/es.js b/test/form/samples/empty-statement-consequent/_expected/es.js
index 04006b343..1c412e851 100644
--- a/test/form/samples/empty-statement-consequent/_expected/es.js
+++ b/test/form/samples/empty-statement-consequent/_expected/es.js
@@ -1,2 +1,2 @@
-if ( a === 0 );
-else a++;
\ No newline at end of file
+if ( a === 0 ){}
+else a++;
diff --git a/test/form/samples/empty-statement-consequent/_expected/iife.js b/test/form/samples/empty-statement-consequent/_expected/iife.js
index 45b92d83c..aafda340f 100644
--- a/test/form/samples/empty-statement-consequent/_expected/iife.js
+++ b/test/form/samples/empty-statement-consequent/_expected/iife.js
@@ -1,7 +1,7 @@
 (function () {
 	'use strict';
 
-	if ( a === 0 );
+	if ( a === 0 ){}
 	else a++;
 
-}());
\ No newline at end of file
+}());
diff --git a/test/form/samples/empty-statement-consequent/_expected/system.js b/test/form/samples/empty-statement-consequent/_expected/system.js
index b937b1c82..20aa3b825 100644
--- a/test/form/samples/empty-statement-consequent/_expected/system.js
+++ b/test/form/samples/empty-statement-consequent/_expected/system.js
@@ -3,7 +3,7 @@ System.register([], function (exports, module) {
 	return {
 		execute: function () {
 
-			if ( a === 0 );
+			if ( a === 0 ){}
 			else a++;
 
 		}
diff --git a/test/form/samples/empty-statement-consequent/_expected/umd.js b/test/form/samples/empty-statement-consequent/_expected/umd.js
index 08026c7d0..fc994a5ac 100644
--- a/test/form/samples/empty-statement-consequent/_expected/umd.js
+++ b/test/form/samples/empty-statement-consequent/_expected/umd.js
@@ -4,7 +4,7 @@
 	(factory());
 }(this, (function () { 'use strict';
 
-	if ( a === 0 );
+	if ( a === 0 ){}
 	else a++;
 
-})));
\ No newline at end of file
+})));
diff --git a/test/form/samples/namespace-optimization-b/_expected/amd.js b/test/form/samples/namespace-optimization-b/_expected/amd.js
index e2582ccbc..2ab1bfd34 100644
--- a/test/form/samples/namespace-optimization-b/_expected/amd.js
+++ b/test/form/samples/namespace-optimization-b/_expected/amd.js
@@ -9,9 +9,7 @@ define(function () { 'use strict';
 		foo();
 
 		var a;
-		if ( a.b ) {
-			// empty
-		}
+		if ( a.b ) {}
 	}
 
 	a();
diff --git a/test/form/samples/namespace-optimization-b/_expected/cjs.js b/test/form/samples/namespace-optimization-b/_expected/cjs.js
index a826df23f..b8e983ee8 100644
--- a/test/form/samples/namespace-optimization-b/_expected/cjs.js
+++ b/test/form/samples/namespace-optimization-b/_expected/cjs.js
@@ -9,9 +9,7 @@ function a () {
 	foo();
 
 	var a;
-	if ( a.b ) {
-		// empty
-	}
+	if ( a.b ) {}
 }
 
 a();
diff --git a/test/form/samples/namespace-optimization-b/_expected/es.js b/test/form/samples/namespace-optimization-b/_expected/es.js
index 85c15d863..b121a911a 100644
--- a/test/form/samples/namespace-optimization-b/_expected/es.js
+++ b/test/form/samples/namespace-optimization-b/_expected/es.js
@@ -7,9 +7,7 @@ function a () {
 	foo();
 
 	var a;
-	if ( a.b ) {
-		// empty
-	}
+	if ( a.b ) {}
 }
 
 a();
diff --git a/test/form/samples/namespace-optimization-b/_expected/iife.js b/test/form/samples/namespace-optimization-b/_expected/iife.js
index 6c497f5c2..a02a64ebc 100644
--- a/test/form/samples/namespace-optimization-b/_expected/iife.js
+++ b/test/form/samples/namespace-optimization-b/_expected/iife.js
@@ -10,9 +10,7 @@
 		foo();
 
 		var a;
-		if ( a.b ) {
-			// empty
-		}
+		if ( a.b ) {}
 	}
 
 	a();
diff --git a/test/form/samples/namespace-optimization-b/_expected/system.js b/test/form/samples/namespace-optimization-b/_expected/system.js
index 2369f4f24..de4d163df 100644
--- a/test/form/samples/namespace-optimization-b/_expected/system.js
+++ b/test/form/samples/namespace-optimization-b/_expected/system.js
@@ -12,9 +12,7 @@ System.register([], function (exports, module) {
 				foo();
 
 				var a;
-				if ( a.b ) {
-					// empty
-				}
+				if ( a.b ) {}
 			}
 
 			a();
diff --git a/test/form/samples/namespace-optimization-b/_expected/umd.js b/test/form/samples/namespace-optimization-b/_expected/umd.js
index 7a2c4b0ab..aa3b5753a 100644
--- a/test/form/samples/namespace-optimization-b/_expected/umd.js
+++ b/test/form/samples/namespace-optimization-b/_expected/umd.js
@@ -13,9 +13,7 @@
 		foo();
 
 		var a;
-		if ( a.b ) {
-			// empty
-		}
+		if ( a.b ) {}
 	}
 
 	a();
diff --git a/test/form/samples/tree-shake-if-statements/_expected/amd.js b/test/form/samples/tree-shake-if-statements/_expected/amd.js
index 31176eddf..d4afe2579 100644
--- a/test/form/samples/tree-shake-if-statements/_expected/amd.js
+++ b/test/form/samples/tree-shake-if-statements/_expected/amd.js
@@ -1,5 +1,7 @@
 define(function () { 'use strict';
 
+	if (console.log(1) || unknown) {}
+
 	{
 		console.log('kept');
 	}
@@ -22,7 +24,6 @@ define(function () { 'use strict';
 
 	if (console.log('effect'), true) {
 		console.log('kept');
-	} else {
 	}
 
 	{
@@ -43,11 +44,9 @@ define(function () { 'use strict';
 	}
 	console.log(typeof e, typeof f);
 
-	if (console.log('effect'), false) {
-	}
+	if (console.log('effect'), false) {}
 
-	if (console.log('effect'), false) {
-	} else {
+	if (console.log('effect'), false) {} else {
 		console.log('kept');
 	}
 
diff --git a/test/form/samples/tree-shake-if-statements/_expected/cjs.js b/test/form/samples/tree-shake-if-statements/_expected/cjs.js
index 1800ccb47..7ac5fa2e3 100644
--- a/test/form/samples/tree-shake-if-statements/_expected/cjs.js
+++ b/test/form/samples/tree-shake-if-statements/_expected/cjs.js
@@ -1,5 +1,7 @@
 'use strict';
 
+if (console.log(1) || unknown) {}
+
 {
 	console.log('kept');
 }
@@ -22,7 +24,6 @@ if (console.log('effect'), true) {
 
 if (console.log('effect'), true) {
 	console.log('kept');
-} else {
 }
 
 {
@@ -43,10 +44,8 @@ if (false) {
 }
 console.log(typeof e, typeof f);
 
-if (console.log('effect'), false) {
-}
+if (console.log('effect'), false) {}
 
-if (console.log('effect'), false) {
-} else {
+if (console.log('effect'), false) {} else {
 	console.log('kept');
 }
diff --git a/test/form/samples/tree-shake-if-statements/_expected/es.js b/test/form/samples/tree-shake-if-statements/_expected/es.js
index 8331d988e..5480751b7 100644
--- a/test/form/samples/tree-shake-if-statements/_expected/es.js
+++ b/test/form/samples/tree-shake-if-statements/_expected/es.js
@@ -1,3 +1,5 @@
+if (console.log(1) || unknown) {}
+
 {
 	console.log('kept');
 }
@@ -20,7 +22,6 @@ if (console.log('effect'), true) {
 
 if (console.log('effect'), true) {
 	console.log('kept');
-} else {
 }
 
 {
@@ -41,10 +42,8 @@ if (false) {
 }
 console.log(typeof e, typeof f);
 
-if (console.log('effect'), false) {
-}
+if (console.log('effect'), false) {}
 
-if (console.log('effect'), false) {
-} else {
+if (console.log('effect'), false) {} else {
 	console.log('kept');
 }
diff --git a/test/form/samples/tree-shake-if-statements/_expected/iife.js b/test/form/samples/tree-shake-if-statements/_expected/iife.js
index 0f743fe14..418b3222a 100644
--- a/test/form/samples/tree-shake-if-statements/_expected/iife.js
+++ b/test/form/samples/tree-shake-if-statements/_expected/iife.js
@@ -1,6 +1,8 @@
 (function () {
 	'use strict';
 
+	if (console.log(1) || unknown) {}
+
 	{
 		console.log('kept');
 	}
@@ -23,7 +25,6 @@
 
 	if (console.log('effect'), true) {
 		console.log('kept');
-	} else {
 	}
 
 	{
@@ -44,11 +45,9 @@
 	}
 	console.log(typeof e, typeof f);
 
-	if (console.log('effect'), false) {
-	}
+	if (console.log('effect'), false) {}
 
-	if (console.log('effect'), false) {
-	} else {
+	if (console.log('effect'), false) {} else {
 		console.log('kept');
 	}
 
diff --git a/test/form/samples/tree-shake-if-statements/_expected/system.js b/test/form/samples/tree-shake-if-statements/_expected/system.js
index accdef68a..410a44c74 100644
--- a/test/form/samples/tree-shake-if-statements/_expected/system.js
+++ b/test/form/samples/tree-shake-if-statements/_expected/system.js
@@ -3,6 +3,8 @@ System.register([], function (exports, module) {
 	return {
 		execute: function () {
 
+			if (console.log(1) || unknown) {}
+
 			{
 				console.log('kept');
 			}
@@ -25,7 +27,6 @@ System.register([], function (exports, module) {
 
 			if (console.log('effect'), true) {
 				console.log('kept');
-			} else {
 			}
 
 			{
@@ -46,11 +47,9 @@ System.register([], function (exports, module) {
 			}
 			console.log(typeof e, typeof f);
 
-			if (console.log('effect'), false) {
-			}
+			if (console.log('effect'), false) {}
 
-			if (console.log('effect'), false) {
-			} else {
+			if (console.log('effect'), false) {} else {
 				console.log('kept');
 			}
 
diff --git a/test/form/samples/tree-shake-if-statements/_expected/umd.js b/test/form/samples/tree-shake-if-statements/_expected/umd.js
index f0a6f99ff..553421b77 100644
--- a/test/form/samples/tree-shake-if-statements/_expected/umd.js
+++ b/test/form/samples/tree-shake-if-statements/_expected/umd.js
@@ -4,6 +4,8 @@
 	(factory());
 }(this, (function () { 'use strict';
 
+	if (console.log(1) || unknown) {}
+
 	{
 		console.log('kept');
 	}
@@ -26,7 +28,6 @@
 
 	if (console.log('effect'), true) {
 		console.log('kept');
-	} else {
 	}
 
 	{
@@ -47,11 +48,9 @@
 	}
 	console.log(typeof e, typeof f);
 
-	if (console.log('effect'), false) {
-	}
+	if (console.log('effect'), false) {}
 
-	if (console.log('effect'), false) {
-	} else {
+	if (console.log('effect'), false) {} else {
 		console.log('kept');
 	}
 
diff --git a/test/form/samples/tree-shake-if-statements/main.js b/test/form/samples/tree-shake-if-statements/main.js
index 22a7f56bb..80b6f4951 100644
--- a/test/form/samples/tree-shake-if-statements/main.js
+++ b/test/form/samples/tree-shake-if-statements/main.js
@@ -1,3 +1,9 @@
+if (console.log(1) || unknown) {
+	const x = 1;
+} else {
+	const x = 2;
+}
+
 if (true) {
 	console.log('kept');
 }
diff --git a/test/function/samples/handle-statically-resolvable-if-statements/_config.js b/test/function/samples/handle-statically-resolvable-if-statements/_config.js
new file mode 100644
index 000000000..134ca662d
--- /dev/null
+++ b/test/function/samples/handle-statically-resolvable-if-statements/_config.js
@@ -0,0 +1,11 @@
+var assert = require('assert');
+
+module.exports = {
+	description: 'handles statically resolvable "if" statements (#2134)',
+	context: {
+		value: 1
+	},
+	exports({ x }) {
+		assert.equal(x, 1);
+	}
+};
diff --git a/test/function/samples/handle-statically-resolvable-if-statements/main.js b/test/function/samples/handle-statically-resolvable-if-statements/main.js
new file mode 100644
index 000000000..00b582a57
--- /dev/null
+++ b/test/function/samples/handle-statically-resolvable-if-statements/main.js
@@ -0,0 +1,7 @@
+export let x = 0;
+
+if (value === 1) {
+	x = 1;
+} else if (12 !== 12) {
+	x = 2;
+}
