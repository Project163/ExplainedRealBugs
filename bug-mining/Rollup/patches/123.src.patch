diff --git a/package.json b/package.json
index 2664c242a..d7e0e4713 100644
--- a/package.json
+++ b/package.json
@@ -91,6 +91,7 @@
     "dist/rollup.es.js",
     "dist/rollup.js",
     "dist/**/*.d.ts",
+    "./typings/package.json.d.ts",
     "bin/rollup",
     "README.md"
   ],
diff --git a/src/Module.ts b/src/Module.ts
index 82ad6052a..ec9d45408 100644
--- a/src/Module.ts
+++ b/src/Module.ts
@@ -135,7 +135,7 @@ export default class Module {
 	private astClone: Program;
 	declarations: {
 		'*'?: NamespaceVariable;
-		[name: string]: Variable;
+		[name: string]: Variable | undefined;
 	};
 	private exportAllModules: (Module | ExternalModule)[];
 	private dynamicImports: Import[];
diff --git a/src/node-entry.ts b/src/node-entry.ts
index 246a236a4..cd205b42c 100644
--- a/src/node-entry.ts
+++ b/src/node-entry.ts
@@ -1,3 +1,5 @@
+/// <reference path="../typings/package.json.d.ts" />
+
 export * from './rollup/index';
 export * from './watch/index';
 
diff --git a/src/utils/mergeOptions.ts b/src/utils/mergeOptions.ts
index eb3557f6f..378bdc657 100644
--- a/src/utils/mergeOptions.ts
+++ b/src/utils/mergeOptions.ts
@@ -1,6 +1,6 @@
 import ensureArray from './ensureArray.js';
 import deprecateOptions from './deprecateOptions.js';
-import { InputOptions, WarningHandler, OutputOptions } from '../../src/rollup/index';
+import { InputOptions, WarningHandler, OutputOptions } from '../rollup/index';
 import { Deprecation } from './deprecateOptions';
 
 function normalizeObjectOptionValue (optionValue: any) {
diff --git a/typings/declarations.d.ts b/typings/declarations.d.ts
index 161c2030a..008b83179 100644
--- a/typings/declarations.d.ts
+++ b/typings/declarations.d.ts
@@ -5,10 +5,6 @@ declare module 'help.md' {
 	export default str;
 }
 
-declare module 'package.json' {
-	const version: string;
-}
-
 // external libs
 declare module "ansi-escapes";
 declare module 'pretty-ms';
diff --git a/typings/package.json.d.ts b/typings/package.json.d.ts
new file mode 100644
index 000000000..4194c46ad
--- /dev/null
+++ b/typings/package.json.d.ts
@@ -0,0 +1,3 @@
+declare module 'package.json' {
+	const version: string;
+}
