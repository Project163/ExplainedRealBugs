diff --git a/src/Statement.js b/src/Statement.js
index f0381e765..2aad73329 100644
--- a/src/Statement.js
+++ b/src/Statement.js
@@ -65,29 +65,32 @@ export default class Statement {
 
 				if ( parent && isModifierNode( parent ) ) {
 					let subject = parent[ modifierNodes[ parent.type ] ];
-					let depth = 0;
 
-					while ( subject.type === 'MemberExpression' ) {
-						subject = subject.object;
-						depth += 1;
-					}
+					if ( node === subject ) {
+						let depth = 0;
+
+						while ( subject.type === 'MemberExpression' ) {
+							subject = subject.object;
+							depth += 1;
+						}
 
-					const importDeclaration = module.imports[ subject.name ];
+						const importDeclaration = module.imports[ subject.name ];
 
-					if ( !scope.contains( subject.name ) && importDeclaration ) {
-						const minDepth = importDeclaration.name === '*' ?
-							2 : // cannot do e.g. `namespace.foo = bar`
-							1;  // cannot do e.g. `foo = bar`, but `foo.bar = bar` is fine
+						if ( !scope.contains( subject.name ) && importDeclaration ) {
+							const minDepth = importDeclaration.name === '*' ?
+								2 : // cannot do e.g. `namespace.foo = bar`
+								1;  // cannot do e.g. `foo = bar`, but `foo.bar = bar` is fine
 
-						if ( depth < minDepth ) {
-							const err = new Error( `Illegal reassignment to import '${subject.name}'` );
-							err.file = module.id;
-							err.loc = getLocation( module.magicString.toString(), subject.start );
-							throw err;
+							if ( depth < minDepth ) {
+								const err = new Error( `Illegal reassignment to import '${subject.name}'` );
+								err.file = module.id;
+								err.loc = getLocation( module.magicString.original, subject.start );
+								throw err;
+							}
 						}
-					}
 
-					isReassignment = !depth;
+						isReassignment = !depth;
+					}
 				}
 
 				if ( isReference( node, parent ) ) {
diff --git a/test/function/export-two-ways-function/_config.js b/test/function/export-two-ways-function/_config.js
new file mode 100644
index 000000000..ec064dd82
--- /dev/null
+++ b/test/function/export-two-ways-function/_config.js
@@ -0,0 +1,9 @@
+var assert = require( 'assert' );
+
+module.exports = {
+	description: 'exports the same function more than one way (#648)',
+	exports: function ( exports ) {
+		assert.equal( exports.foo, exports.bar );
+		assert.equal( exports.foo(), 42 );
+	}
+};
diff --git a/test/function/export-two-ways-function/main.js b/test/function/export-two-ways-function/main.js
new file mode 100644
index 000000000..7b14c6e6d
--- /dev/null
+++ b/test/function/export-two-ways-function/main.js
@@ -0,0 +1,8 @@
+var bar;
+bar = foo;
+
+function foo () {
+	return 42;
+}
+
+export { foo, bar };
