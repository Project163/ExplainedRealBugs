diff --git a/cli/cli.ts b/cli/cli.ts
index 43453e7cc..389e0136f 100644
--- a/cli/cli.ts
+++ b/cli/cli.ts
@@ -16,7 +16,7 @@ if (command.help || (process.argv.length <= 2 && process.stdin.isTTY)) {
 } else {
 	try {
 		require('source-map-support').install();
-	} catch (err) {
+	} catch {
 		// do nothing
 	}
 
diff --git a/cli/run/commandPlugins.ts b/cli/run/commandPlugins.ts
index 0602437e6..e4b2e5fea 100644
--- a/cli/run/commandPlugins.ts
+++ b/cli/run/commandPlugins.ts
@@ -59,7 +59,7 @@ function loadAndRegisterPlugin(inputOptions: InputOptions, pluginText: string):
 				try {
 					plugin = require(prefix + pluginText);
 					break;
-				} catch (ex) {
+				} catch {
 					// if this does not work, we try requiring the actual name below
 				}
 			}
@@ -68,8 +68,8 @@ function loadAndRegisterPlugin(inputOptions: InputOptions, pluginText: string):
 			try {
 				if (pluginText[0] == '.') pluginText = path.resolve(pluginText);
 				plugin = require(pluginText);
-			} catch (ex) {
-				throw new Error(`Cannot load plugin "${pluginText}": ${ex.message}.`);
+			} catch (err: any) {
+				throw new Error(`Cannot load plugin "${pluginText}": ${err.message}.`);
 			}
 		}
 	}
diff --git a/cli/run/getConfigPath.ts b/cli/run/getConfigPath.ts
index 3c8dc2c6e..10623faf2 100644
--- a/cli/run/getConfigPath.ts
+++ b/cli/run/getConfigPath.ts
@@ -14,10 +14,10 @@ export function getConfigPath(commandConfig: string | true): string {
 		const pkgName = commandConfig.slice(5);
 		try {
 			return relative.resolve(`rollup-config-${pkgName}`, cwd);
-		} catch (err) {
+		} catch {
 			try {
 				return relative.resolve(pkgName, cwd);
-			} catch (err) {
+			} catch (err: any) {
 				if (err.code === 'MODULE_NOT_FOUND') {
 					handleError({
 						code: 'MISSING_EXTERNAL_CONFIG',
diff --git a/cli/run/index.ts b/cli/run/index.ts
index e20a6c8db..3618f5e56 100644
--- a/cli/run/index.ts
+++ b/cli/run/index.ts
@@ -74,11 +74,11 @@ export default async function runRollup(command: Record<string, any>): Promise<v
 						message: 'Warnings occurred and --failAfterWarnings flag present'
 					});
 				}
-			} catch (err) {
+			} catch (err: any) {
 				warnings.flush();
 				handleError(err);
 			}
-		} catch (err) {
+		} catch (err: any) {
 			handleError(err);
 		}
 	}
diff --git a/cli/run/loadConfigFile.ts b/cli/run/loadConfigFile.ts
index ad4d180c5..a0f292707 100644
--- a/cli/run/loadConfigFile.ts
+++ b/cli/run/loadConfigFile.ts
@@ -117,7 +117,7 @@ async function loadConfigFromBundledFile(fileName: string, bundledCode: string)
 		const config = getDefaultFromCjs(require(fileName));
 		require.extensions[extension] = defaultLoader;
 		return config;
-	} catch (err) {
+	} catch (err: any) {
 		if (err.code === 'ERR_REQUIRE_ESM') {
 			return error({
 				code: 'TRANSPILED_ESM_CONFIG',
diff --git a/cli/run/watch-cli.ts b/cli/run/watch-cli.ts
index 39aad7ed0..4ac50ccd2 100644
--- a/cli/run/watch-cli.ts
+++ b/cli/run/watch-cli.ts
@@ -66,7 +66,7 @@ export async function watch(command: Record<string, any>): Promise<void> {
 					}
 					start(configs);
 				}
-			} catch (err) {
+			} catch (err: any) {
 				configs = [];
 				reloadingConfig = false;
 				handleError(err, true);
@@ -86,7 +86,7 @@ export async function watch(command: Record<string, any>): Promise<void> {
 	function start(configs: MergedRollupOptions[]) {
 		try {
 			watcher = rollup.watch(configs as any);
-		} catch (err) {
+		} catch (err: any) {
 			return handleError(err);
 		}
 
diff --git a/docs/999-big-list-of-options.md b/docs/999-big-list-of-options.md
index a0691932c..54f3dbdcb 100755
--- a/docs/999-big-list-of-options.md
+++ b/docs/999-big-list-of-options.md
@@ -458,6 +458,125 @@ Type: `boolean`<br> CLI: `--extend`/`--no-extend`<br> Default: `false`
 
 Whether to extend the global variable defined by the `name` option in `umd` or `iife` formats. When `true`, the global variable will be defined as `(global.name = global.name || {})`. When false, the global defined by `name` will be overwritten like `(global.name = {})`.
 
+#### output.generatedCode
+
+Type: `"es5" | "es2015" | { arrowFunctions?: boolean, constBindings?: boolean, objectShorthand?: boolean, preset?: "es5" | "es2015", reservedNamesAsProps?: boolean }`<br> CLI: `--generatedCode <preset>`<br> Default: `"es5"`
+
+Which language features Rollup can safely use in generated code. This will not transpile any user code but only change the code Rollup uses in wrappers and helpers. You may choose one of several presets:
+
+- `"es5"`: Do not use ES2015+ features like arrow functions, but do not quote reserved names used as props.
+- `"es2015"`: Use any JavaScript features up to ES2015.
+
+**output.generatedCode.arrowFunctions**<br> Type: `boolean`<br> CLI: `--generatedCode.arrowFunctions`/`--no-generatedCode.arrowFunctions`<br> Default: `false`
+
+Whether to use arrow functions for auto-generated code snippets. Note that in certain places like module wrappers, Rollup will keep using regular functions wrapped in parentheses as in some JavaScript engines, these will provide [noticeably better performance](https://v8.dev/blog/preparser#pife).
+
+**output.generatedCode.constBindings**<br> Type: `boolean`<br> CLI: `--generatedCode.constBindings`/`--no-generatedCode.constBindings`<br> Default: `false`
+
+This will use `const` instead of `var` in certain places and helper functions. This will allow Rollup to generate more efficient helpers due to block scoping.
+
+```js
+// input
+export * from 'external';
+
+// cjs output with constBindings: false
+var external = require('external');
+
+Object.keys(external).forEach(function (k) {
+  if (k !== 'default' && !exports.hasOwnProperty(k))
+    Object.defineProperty(exports, k, {
+      enumerable: true,
+      get: function () {
+        return external[k];
+      }
+    });
+});
+
+// cjs output with constBindings: true
+const external = require('external');
+
+for (const k in external) {
+  if (k !== 'default' && !exports.hasOwnProperty(k))
+    Object.defineProperty(exports, k, {
+      enumerable: true,
+      get: () => external[k]
+    });
+}
+```
+
+**output.generatedCode.objectShorthand**<br> Type: `boolean`<br> CLI: `--generatedCode.objectShorthand`/`--no-generatedCode.objectShorthand`<br> Default: `false`
+
+Allows the use of shorthand notation in objects when the property name matches the value.
+
+```javascript
+// input
+const foo = 1;
+export { foo, foo as bar };
+
+// system output with objectShorthand: false
+System.register('bundle', [], function (exports) {
+  'use strict';
+  return {
+    execute: function () {
+      const foo = 1;
+      exports({ foo: foo, bar: foo });
+    }
+  };
+});
+
+// system output with objectShorthand: true
+System.register('bundle', [], function (exports) {
+  'use strict';
+  return {
+    execute: function () {
+      const foo = 1;
+      exports({ foo, bar: foo });
+    }
+  };
+});
+```
+
+**output.generatedCode.preset**<br> Type: `"es5" | "es2015"`<br> CLI: `--generatedCode <value>`
+
+Allows choosing one of the presets listed above while overriding some options.
+
+```js
+export default {
+  // ...
+  output: {
+    generatedCode: {
+      preset: 'es2015',
+      arrowFunctions: false
+    }
+    // ...
+  }
+};
+```
+
+**output.generatedCode.reservedNamesAsProps**<br> Type: `boolean`<br> CLI: `--generatedCode.reservedNamesAsProps`/`--no-generatedCode.reservedNamesAsProps`<br> Default: `false`
+
+Determine whether reserved words like "default" can be used as prop names without using quotes. This will make the syntax of the generated code ES3 compliant. Note however that for full ES3 compliance, you may also need to polyfill some builtin functions like `Object.keys` or `Array.prototype.forEach`.
+
+```javascript
+// input
+const foo = null;
+export { foo as void };
+
+// cjs output with reservedNamesAsProps: false
+Object.defineProperty(exports, '__esModule', { value: true });
+
+const foo = null;
+
+exports['void'] = foo;
+
+// cjs output with reservedNamesAsProps: true
+Object.defineProperty(exports, '__esModule', { value: true });
+
+const foo = null;
+
+exports.void = foo;
+```
+
 #### output.hoistTransitiveImports
 
 Type: `boolean`<br> CLI: `--hoistTransitiveImports`/`--no-hoistTransitiveImports`<br> Default: `true`
@@ -1256,8 +1375,6 @@ Example:
 export { x } from 'external';
 
 // CJS output with externalLiveBindings: true
-('use strict');
-
 Object.defineProperty(exports, '__esModule', { value: true });
 
 var external = require('external');
@@ -1270,8 +1387,6 @@ Object.defineProperty(exports, 'x', {
 });
 
 // CJS output with externalLiveBindings: false
-('use strict');
-
 Object.defineProperty(exports, '__esModule', { value: true });
 
 var external = require('external');
@@ -1525,7 +1640,7 @@ Note that despite the name, this option does not "add" side effects to modules t
 
 **treeshake.preset**<br> Type: `"smallest" | "safest" | "recommended"`<br> CLI: `--treeshake <value>`<br>
 
-Allows choosing one of the presets listed above while overriding some of the options.
+Allows choosing one of the presets listed above while overriding some options.
 
 ```js
 export default {
@@ -1631,7 +1746,7 @@ Whether to collect performance timings. When used from the command line or a con
 
 `getTimings()` returns an object of the following form:
 
-```json
+```
 {
   "# BUILD": [ 698.020877, 33979632, 45328080 ],
   "## parse modules": [ 537.509342, 16295024, 27660296 ],
@@ -1743,6 +1858,12 @@ _Use the [`renderDynamicImport`](guide/en/#renderdynamicimport) plugin hook inst
 
 This will rename the dynamic import function to the chosen name when outputting ES bundles. This is useful for generating code that uses a dynamic import polyfill such as [this one](https://github.com/uupaa/dynamic-import-polyfill).
 
+#### output.preferConst
+
+_Use the [`output.generatedCode.constBindings`](guide/en/#outputgeneratedcode) option instead._<br> Type: `boolean`<br> CLI: `--preferConst`/`--no-preferConst`<br> Default: `false`
+
+Generate `const` declarations for exports rather than `var` declarations.
+
 #### treeshake.pureExternalModules
 
 _Use [`treeshake.moduleSideEffects: 'no-external'`](guide/en/#treeshake) instead._<br> Type: `boolean | string[] | (id: string) => boolean | null`<br> CLI: `--treeshake.pureExternalModules`/`--no-treeshake.pureExternalModules`<br> Default: `false`
diff --git a/package-lock.json b/package-lock.json
index d5f8f9abb..b5677fc08 100644
--- a/package-lock.json
+++ b/package-lock.json
@@ -352,6 +352,23 @@
         }
       }
     },
+    "@humanwhocodes/config-array": {
+      "version": "0.5.0",
+      "resolved": "https://registry.npmjs.org/@humanwhocodes/config-array/-/config-array-0.5.0.tgz",
+      "integrity": "sha512-FagtKFz74XrTl7y6HCzQpwDfXP0yhxe9lHLD1UZxjvZIcbyRz8zTFF/yYNfSfzU414eDwZ1SrO0Qvtyf+wFMQg==",
+      "dev": true,
+      "requires": {
+        "@humanwhocodes/object-schema": "^1.2.0",
+        "debug": "^4.1.1",
+        "minimatch": "^3.0.4"
+      }
+    },
+    "@humanwhocodes/object-schema": {
+      "version": "1.2.0",
+      "resolved": "https://registry.npmjs.org/@humanwhocodes/object-schema/-/object-schema-1.2.0.tgz",
+      "integrity": "sha512-wdppn25U8z/2yiaT6YGquE6X8sSv7hNMWSXYSSU1jGv/yd6XqjXgTDJ8KP4NgjTXfJ3GbRjeeb8RTV7a/VpM+w==",
+      "dev": true
+    },
     "@istanbuljs/load-nyc-config": {
       "version": "1.1.0",
       "resolved": "https://registry.npmjs.org/@istanbuljs/load-nyc-config/-/load-nyc-config-1.1.0.tgz",
@@ -747,83 +764,82 @@
       }
     },
     "@types/signal-exit": {
-      "version": "3.0.0",
-      "resolved": "https://registry.npmjs.org/@types/signal-exit/-/signal-exit-3.0.0.tgz",
-      "integrity": "sha512-MaJ+16SOXz0Z27EMf3d88+B6UDglq1sn140a+5X/ROLkIcEfRq0CPg+1B2efF1GXQn4n+aKH4ti2hHG4Ya+Dzg==",
+      "version": "3.0.1",
+      "resolved": "https://registry.npmjs.org/@types/signal-exit/-/signal-exit-3.0.1.tgz",
+      "integrity": "sha512-OSitN9PP9E/c4tlt1Qdj3CAz5uHD9Da5rhUqlaKyQRCX1T7Zdpbk6YdeZbR2eiE2ce+NMBgVnMxGqpaPSNQDUQ==",
       "dev": true
     },
     "@types/yargs-parser": {
-      "version": "20.2.0",
-      "resolved": "https://registry.npmjs.org/@types/yargs-parser/-/yargs-parser-20.2.0.tgz",
-      "integrity": "sha512-37RSHht+gzzgYeobbG+KWryeAW8J33Nhr69cjTqSYymXVZEN9NbRYWoYlRtDhHKPVT1FyNKwaTPC1NynKZpzRA==",
+      "version": "20.2.1",
+      "resolved": "https://registry.npmjs.org/@types/yargs-parser/-/yargs-parser-20.2.1.tgz",
+      "integrity": "sha512-7tFImggNeNBVMsn0vLrpn1H1uPrUBdnARPTpZoitY37ZrdJREzf7I16tMrlK3hen349gr1NYh8CmZQa7CTG6Aw==",
       "dev": true
     },
     "@typescript-eslint/eslint-plugin": {
-      "version": "4.27.0",
-      "resolved": "https://registry.npmjs.org/@typescript-eslint/eslint-plugin/-/eslint-plugin-4.27.0.tgz",
-      "integrity": "sha512-DsLqxeUfLVNp3AO7PC3JyaddmEHTtI9qTSAs+RB6ja27QvIM0TA8Cizn1qcS6vOu+WDLFJzkwkgweiyFhssDdQ==",
+      "version": "4.31.2",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/eslint-plugin/-/eslint-plugin-4.31.2.tgz",
+      "integrity": "sha512-w63SCQ4bIwWN/+3FxzpnWrDjQRXVEGiTt9tJTRptRXeFvdZc/wLiz3FQUwNQ2CVoRGI6KUWMNUj/pk63noUfcA==",
       "dev": true,
       "requires": {
-        "@typescript-eslint/experimental-utils": "4.27.0",
-        "@typescript-eslint/scope-manager": "4.27.0",
+        "@typescript-eslint/experimental-utils": "4.31.2",
+        "@typescript-eslint/scope-manager": "4.31.2",
         "debug": "^4.3.1",
         "functional-red-black-tree": "^1.0.1",
-        "lodash": "^4.17.21",
         "regexpp": "^3.1.0",
         "semver": "^7.3.5",
         "tsutils": "^3.21.0"
       }
     },
     "@typescript-eslint/experimental-utils": {
-      "version": "4.27.0",
-      "resolved": "https://registry.npmjs.org/@typescript-eslint/experimental-utils/-/experimental-utils-4.27.0.tgz",
-      "integrity": "sha512-n5NlbnmzT2MXlyT+Y0Jf0gsmAQzCnQSWXKy4RGSXVStjDvS5we9IWbh7qRVKdGcxT0WYlgcCYUK/HRg7xFhvjQ==",
+      "version": "4.31.2",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/experimental-utils/-/experimental-utils-4.31.2.tgz",
+      "integrity": "sha512-3tm2T4nyA970yQ6R3JZV9l0yilE2FedYg8dcXrTar34zC9r6JB7WyBQbpIVongKPlhEMjhQ01qkwrzWy38Bk1Q==",
       "dev": true,
       "requires": {
         "@types/json-schema": "^7.0.7",
-        "@typescript-eslint/scope-manager": "4.27.0",
-        "@typescript-eslint/types": "4.27.0",
-        "@typescript-eslint/typescript-estree": "4.27.0",
+        "@typescript-eslint/scope-manager": "4.31.2",
+        "@typescript-eslint/types": "4.31.2",
+        "@typescript-eslint/typescript-estree": "4.31.2",
         "eslint-scope": "^5.1.1",
         "eslint-utils": "^3.0.0"
       }
     },
     "@typescript-eslint/parser": {
-      "version": "4.27.0",
-      "resolved": "https://registry.npmjs.org/@typescript-eslint/parser/-/parser-4.27.0.tgz",
-      "integrity": "sha512-XpbxL+M+gClmJcJ5kHnUpBGmlGdgNvy6cehgR6ufyxkEJMGP25tZKCaKyC0W/JVpuhU3VU1RBn7SYUPKSMqQvQ==",
+      "version": "4.31.2",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/parser/-/parser-4.31.2.tgz",
+      "integrity": "sha512-EcdO0E7M/sv23S/rLvenHkb58l3XhuSZzKf6DBvLgHqOYdL6YFMYVtreGFWirxaU2mS1GYDby3Lyxco7X5+Vjw==",
       "dev": true,
       "requires": {
-        "@typescript-eslint/scope-manager": "4.27.0",
-        "@typescript-eslint/types": "4.27.0",
-        "@typescript-eslint/typescript-estree": "4.27.0",
+        "@typescript-eslint/scope-manager": "4.31.2",
+        "@typescript-eslint/types": "4.31.2",
+        "@typescript-eslint/typescript-estree": "4.31.2",
         "debug": "^4.3.1"
       }
     },
     "@typescript-eslint/scope-manager": {
-      "version": "4.27.0",
-      "resolved": "https://registry.npmjs.org/@typescript-eslint/scope-manager/-/scope-manager-4.27.0.tgz",
-      "integrity": "sha512-DY73jK6SEH6UDdzc6maF19AHQJBFVRf6fgAXHPXCGEmpqD4vYgPEzqpFz1lf/daSbOcMpPPj9tyXXDPW2XReAw==",
+      "version": "4.31.2",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/scope-manager/-/scope-manager-4.31.2.tgz",
+      "integrity": "sha512-2JGwudpFoR/3Czq6mPpE8zBPYdHWFGL6lUNIGolbKQeSNv4EAiHaR5GVDQaLA0FwgcdcMtRk+SBJbFGL7+La5w==",
       "dev": true,
       "requires": {
-        "@typescript-eslint/types": "4.27.0",
-        "@typescript-eslint/visitor-keys": "4.27.0"
+        "@typescript-eslint/types": "4.31.2",
+        "@typescript-eslint/visitor-keys": "4.31.2"
       }
     },
     "@typescript-eslint/types": {
-      "version": "4.27.0",
-      "resolved": "https://registry.npmjs.org/@typescript-eslint/types/-/types-4.27.0.tgz",
-      "integrity": "sha512-I4ps3SCPFCKclRcvnsVA/7sWzh7naaM/b4pBO2hVxnM3wrU51Lveybdw5WoIktU/V4KfXrTt94V9b065b/0+wA==",
+      "version": "4.31.2",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/types/-/types-4.31.2.tgz",
+      "integrity": "sha512-kWiTTBCTKEdBGrZKwFvOlGNcAsKGJSBc8xLvSjSppFO88AqGxGNYtF36EuEYG6XZ9vT0xX8RNiHbQUKglbSi1w==",
       "dev": true
     },
     "@typescript-eslint/typescript-estree": {
-      "version": "4.27.0",
-      "resolved": "https://registry.npmjs.org/@typescript-eslint/typescript-estree/-/typescript-estree-4.27.0.tgz",
-      "integrity": "sha512-KH03GUsUj41sRLLEy2JHstnezgpS5VNhrJouRdmh6yNdQ+yl8w5LrSwBkExM+jWwCJa7Ct2c8yl8NdtNRyQO6g==",
+      "version": "4.31.2",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/typescript-estree/-/typescript-estree-4.31.2.tgz",
+      "integrity": "sha512-ieBq8U9at6PvaC7/Z6oe8D3czeW5d//Fo1xkF/s9394VR0bg/UaMYPdARiWyKX+lLEjY3w/FNZJxitMsiWv+wA==",
       "dev": true,
       "requires": {
-        "@typescript-eslint/types": "4.27.0",
-        "@typescript-eslint/visitor-keys": "4.27.0",
+        "@typescript-eslint/types": "4.31.2",
+        "@typescript-eslint/visitor-keys": "4.31.2",
         "debug": "^4.3.1",
         "globby": "^11.0.3",
         "is-glob": "^4.0.1",
@@ -832,12 +848,12 @@
       }
     },
     "@typescript-eslint/visitor-keys": {
-      "version": "4.27.0",
-      "resolved": "https://registry.npmjs.org/@typescript-eslint/visitor-keys/-/visitor-keys-4.27.0.tgz",
-      "integrity": "sha512-es0GRYNZp0ieckZ938cEANfEhsfHrzuLrePukLKtY3/KPXcq1Xd555Mno9/GOgXhKzn0QfkDLVgqWO3dGY80bg==",
+      "version": "4.31.2",
+      "resolved": "https://registry.npmjs.org/@typescript-eslint/visitor-keys/-/visitor-keys-4.31.2.tgz",
+      "integrity": "sha512-PrBId7EQq2Nibns7dd/ch6S6/M4/iwLM9McbgeEbCXfxdwRUNxJ4UNreJ6Gh3fI2GNKNrWnQxKL7oCPmngKBug==",
       "dev": true,
       "requires": {
-        "@typescript-eslint/types": "4.27.0",
+        "@typescript-eslint/types": "4.31.2",
         "eslint-visitor-keys": "^2.0.0"
       }
     },
@@ -848,9 +864,9 @@
       "dev": true
     },
     "acorn": {
-      "version": "8.4.0",
-      "resolved": "https://registry.npmjs.org/acorn/-/acorn-8.4.0.tgz",
-      "integrity": "sha512-ULr0LDaEqQrMFGyQ3bhJkLsbtrQ8QibAseGZeaSUiT/6zb9IvIkomWHJIvgvwad+hinRAgsI51JcWk2yvwyL+w==",
+      "version": "8.5.0",
+      "resolved": "https://registry.npmjs.org/acorn/-/acorn-8.5.0.tgz",
+      "integrity": "sha512-yXbYeFy+jUuYd3/CDcg2NkIYE991XYX/bje7LmjJigUciaeO1JR4XxXgCIV1/Zc/dRuFEyw1L0pbA+qynJkW5Q==",
       "dev": true
     },
     "acorn-dynamic-import": {
@@ -860,15 +876,15 @@
       "dev": true
     },
     "acorn-jsx": {
-      "version": "5.3.1",
-      "resolved": "https://registry.npmjs.org/acorn-jsx/-/acorn-jsx-5.3.1.tgz",
-      "integrity": "sha512-K0Ptm/47OKfQRpNQ2J/oIN/3QYiK6FwW+eJbILhsdxh2WTLdl+30o8aGdTbm5JbffpFFAg/g+zi1E+jvJha5ng==",
+      "version": "5.3.2",
+      "resolved": "https://registry.npmjs.org/acorn-jsx/-/acorn-jsx-5.3.2.tgz",
+      "integrity": "sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==",
       "dev": true
     },
     "acorn-walk": {
-      "version": "8.1.0",
-      "resolved": "https://registry.npmjs.org/acorn-walk/-/acorn-walk-8.1.0.tgz",
-      "integrity": "sha512-mjmzmv12YIG/G8JQdQuz2MUDShEJ6teYpT5bmWA4q7iwoGen8xtt3twF3OvzIUl+Q06aWIjvnwQUKvQ6TtMRjg==",
+      "version": "8.2.0",
+      "resolved": "https://registry.npmjs.org/acorn-walk/-/acorn-walk-8.2.0.tgz",
+      "integrity": "sha512-k+iyHEuPgSw6SbuDpGQM+06HQUa04DZ3o+F6CSzXMvvI5KMvnaEqXe+YVe555R9nn6GPt404fos4wcgpw12SDA==",
       "dev": true
     },
     "aggregate-error": {
@@ -1256,9 +1272,9 @@
       "dev": true
     },
     "colorette": {
-      "version": "1.2.2",
-      "resolved": "https://registry.npmjs.org/colorette/-/colorette-1.2.2.tgz",
-      "integrity": "sha512-MKGMzyfeuutC/ZJ1cba9NqcNpfeqMUcYmyF1ZFY6/Cn7CNSAKx6a+s48sqLqyAiZuaP2TcqMhoo+dlwFnVxT9w==",
+      "version": "1.4.0",
+      "resolved": "https://registry.npmjs.org/colorette/-/colorette-1.4.0.tgz",
+      "integrity": "sha512-Y2oEozpomLn7Q3HFP7dpww7AtMJplbM9lGZP6RDfHqmbeRjiwRg4n6VM6j4KLmRke85uWEI7JqF17f3pqdRA0g==",
       "dev": true
     },
     "commander": {
@@ -1303,9 +1319,9 @@
       }
     },
     "core-js": {
-      "version": "3.14.0",
-      "resolved": "https://registry.npmjs.org/core-js/-/core-js-3.14.0.tgz",
-      "integrity": "sha512-3s+ed8er9ahK+zJpp9ZtuVcDoFzHNiZsPbNAAE4KXgrRHbjSqqNN6xGSXq6bq7TZIbKj4NLrLb6bJ5i+vSVjHA==",
+      "version": "3.18.0",
+      "resolved": "https://registry.npmjs.org/core-js/-/core-js-3.18.0.tgz",
+      "integrity": "sha512-WJeQqq6jOYgVgg4NrXKL0KLQhi0CT4ZOCvFL+3CQ5o7I6J8HkT5wd53EadMfqTDp1so/MT1J+w2ujhWcCJtN7w==",
       "dev": true
     },
     "cosmiconfig": {
@@ -1484,22 +1500,23 @@
       }
     },
     "es-abstract": {
-      "version": "1.18.5",
-      "resolved": "https://registry.npmjs.org/es-abstract/-/es-abstract-1.18.5.tgz",
-      "integrity": "sha512-DDggyJLoS91CkJjgauM5c0yZMjiD1uK3KcaCeAmffGwZ+ODWzOkPN4QwRbsK5DOFf06fywmyLci3ZD8jLGhVYA==",
+      "version": "1.18.6",
+      "resolved": "https://registry.npmjs.org/es-abstract/-/es-abstract-1.18.6.tgz",
+      "integrity": "sha512-kAeIT4cku5eNLNuUKhlmtuk1/TRZvQoYccn6TO0cSVdf1kzB0T7+dYuVK9MWM7l+/53W2Q8M7N2c6MQvhXFcUQ==",
       "dev": true,
       "requires": {
         "call-bind": "^1.0.2",
         "es-to-primitive": "^1.2.1",
         "function-bind": "^1.1.1",
         "get-intrinsic": "^1.1.1",
+        "get-symbol-description": "^1.0.0",
         "has": "^1.0.3",
         "has-symbols": "^1.0.2",
         "internal-slot": "^1.0.3",
-        "is-callable": "^1.2.3",
+        "is-callable": "^1.2.4",
         "is-negative-zero": "^2.0.1",
-        "is-regex": "^1.1.3",
-        "is-string": "^1.0.6",
+        "is-regex": "^1.1.4",
+        "is-string": "^1.0.7",
         "object-inspect": "^1.11.0",
         "object-keys": "^1.1.1",
         "object.assign": "^4.1.2",
@@ -1520,9 +1537,9 @@
       }
     },
     "es5-shim": {
-      "version": "4.5.15",
-      "resolved": "https://registry.npmjs.org/es5-shim/-/es5-shim-4.5.15.tgz",
-      "integrity": "sha512-FYpuxEjMeDvU4rulKqFdukQyZSTpzhg4ScQHrAosrlVpR6GFyaw14f74yn2+4BugniIS0Frpg7TvwZocU4ZMTw==",
+      "version": "4.6.2",
+      "resolved": "https://registry.npmjs.org/es5-shim/-/es5-shim-4.6.2.tgz",
+      "integrity": "sha512-n0XTVMGps+Deyr38jtqKPR5F5hb9owYeRQcKJW39eFvzUk/u/9Ww315werRzbiNMnHCUw/YHDPBphTlEnzdi+A==",
       "dev": true
     },
     "es6-error": {
@@ -1550,13 +1567,14 @@
       "dev": true
     },
     "eslint": {
-      "version": "7.28.0",
-      "resolved": "https://registry.npmjs.org/eslint/-/eslint-7.28.0.tgz",
-      "integrity": "sha512-UMfH0VSjP0G4p3EWirscJEQ/cHqnT/iuH6oNZOB94nBjWbMnhGEPxsZm1eyIW0C/9jLI0Fow4W5DXLjEI7mn1g==",
+      "version": "7.32.0",
+      "resolved": "https://registry.npmjs.org/eslint/-/eslint-7.32.0.tgz",
+      "integrity": "sha512-VHZ8gX+EDfz+97jGcgyGCyRia/dPOd6Xh9yPv8Bl1+SoaIwD+a/vlrOmGRUyOYu7MwUhc7CxqeaDZU13S4+EpA==",
       "dev": true,
       "requires": {
         "@babel/code-frame": "7.12.11",
-        "@eslint/eslintrc": "^0.4.2",
+        "@eslint/eslintrc": "^0.4.3",
+        "@humanwhocodes/config-array": "^0.5.0",
         "ajv": "^6.10.0",
         "chalk": "^4.0.0",
         "cross-spawn": "^7.0.2",
@@ -1725,26 +1743,26 @@
       }
     },
     "eslint-plugin-import": {
-      "version": "2.23.4",
-      "resolved": "https://registry.npmjs.org/eslint-plugin-import/-/eslint-plugin-import-2.23.4.tgz",
-      "integrity": "sha512-6/wP8zZRsnQFiR3iaPFgh5ImVRM1WN5NUWfTIRqwOdeiGJlBcSk82o1FEVq8yXmy4lkIzTo7YhHCIxlU/2HyEQ==",
+      "version": "2.24.2",
+      "resolved": "https://registry.npmjs.org/eslint-plugin-import/-/eslint-plugin-import-2.24.2.tgz",
+      "integrity": "sha512-hNVtyhiEtZmpsabL4neEj+6M5DCLgpYyG9nzJY8lZQeQXEn5UPW1DpUdsMHMXsq98dbNm7nt1w9ZMSVpfJdi8Q==",
       "dev": true,
       "requires": {
         "array-includes": "^3.1.3",
         "array.prototype.flat": "^1.2.4",
         "debug": "^2.6.9",
         "doctrine": "^2.1.0",
-        "eslint-import-resolver-node": "^0.3.4",
-        "eslint-module-utils": "^2.6.1",
+        "eslint-import-resolver-node": "^0.3.6",
+        "eslint-module-utils": "^2.6.2",
         "find-up": "^2.0.0",
         "has": "^1.0.3",
-        "is-core-module": "^2.4.0",
+        "is-core-module": "^2.6.0",
         "minimatch": "^3.0.4",
-        "object.values": "^1.1.3",
+        "object.values": "^1.1.4",
         "pkg-up": "^2.0.0",
         "read-pkg-up": "^3.0.0",
         "resolve": "^1.20.0",
-        "tsconfig-paths": "^3.9.0"
+        "tsconfig-paths": "^3.11.0"
       },
       "dependencies": {
         "debug": {
@@ -1774,9 +1792,9 @@
       }
     },
     "eslint-plugin-prettier": {
-      "version": "3.4.0",
-      "resolved": "https://registry.npmjs.org/eslint-plugin-prettier/-/eslint-plugin-prettier-3.4.0.tgz",
-      "integrity": "sha512-UDK6rJT6INSfcOo545jiaOwB701uAIt2/dR7WnFQoGCVl1/EMqdANBmwUaqqQ45aXprsTGzSa39LI1PyuRBxxw==",
+      "version": "3.4.1",
+      "resolved": "https://registry.npmjs.org/eslint-plugin-prettier/-/eslint-plugin-prettier-3.4.1.tgz",
+      "integrity": "sha512-htg25EUYUeIhKHXjOinK4BgCcDwtLHjqaxCDsMy5nbnUMkKFvIhMVCp+5GFUXQ4Nr8lBsPqtGAqBenbpFqAA2g==",
       "dev": true,
       "requires": {
         "prettier-linter-helpers": "^1.0.0"
@@ -1945,9 +1963,9 @@
       "dev": true
     },
     "fastq": {
-      "version": "1.12.0",
-      "resolved": "https://registry.npmjs.org/fastq/-/fastq-1.12.0.tgz",
-      "integrity": "sha512-VNX0QkHK3RsXVKr9KrlUv/FoTa0NdbYoHHl7uXHv2rzyHSlxjdNAKug2twd9luJxpcyNeAgf5iPPMutJO67Dfg==",
+      "version": "1.13.0",
+      "resolved": "https://registry.npmjs.org/fastq/-/fastq-1.13.0.tgz",
+      "integrity": "sha512-YpkpUnK8od0o1hmeSc7UUs/eB/vIPWJYjKck2QKIzAf71Vm1AAQ3EbuZB3g2JIy+pg+ERD0vqI79KyZiB2e2Nw==",
       "dev": true,
       "requires": {
         "reusify": "^1.0.4"
@@ -2179,6 +2197,16 @@
       "integrity": "sha512-ts6Wi+2j3jQjqi70w5AlN8DFnkSwC+MqmxEzdEALB2qXZYV3X/b1CTfgPLGJNMeAWxdPfU8FO1ms3NUfaHCPYg==",
       "dev": true
     },
+    "get-symbol-description": {
+      "version": "1.0.0",
+      "resolved": "https://registry.npmjs.org/get-symbol-description/-/get-symbol-description-1.0.0.tgz",
+      "integrity": "sha512-2EmdH1YvIQiZpltCNgkuiUnyukzxM/R6NDJX31Ke3BG1Nq5b0S2PhX59UKi9vZpPDQVdqn+1IcaAwnzTT5vCjw==",
+      "dev": true,
+      "requires": {
+        "call-bind": "^1.0.2",
+        "get-intrinsic": "^1.1.1"
+      }
+    },
     "get-symbol-from-current-process-h": {
       "version": "1.0.2",
       "resolved": "https://registry.npmjs.org/get-symbol-from-current-process-h/-/get-symbol-from-current-process-h-1.0.2.tgz",
@@ -2943,6 +2971,14 @@
         "rxjs": "^6.6.7",
         "through": "^2.3.8",
         "wrap-ansi": "^7.0.0"
+      },
+      "dependencies": {
+        "colorette": {
+          "version": "1.4.0",
+          "resolved": "https://registry.npmjs.org/colorette/-/colorette-1.4.0.tgz",
+          "integrity": "sha512-Y2oEozpomLn7Q3HFP7dpww7AtMJplbM9lGZP6RDfHqmbeRjiwRg4n6VM6j4KLmRke85uWEI7JqF17f3pqdRA0g==",
+          "dev": true
+        }
       }
     },
     "load-json-file": {
@@ -3957,9 +3993,9 @@
       "dev": true
     },
     "prettier": {
-      "version": "2.3.1",
-      "resolved": "https://registry.npmjs.org/prettier/-/prettier-2.3.1.tgz",
-      "integrity": "sha512-p+vNbgpLjif/+D+DwAZAbndtRrR0md0MwfmOVN9N+2RgyACMT+7tfaRnT+WDPkqnuVwleyuBIG2XBxKDme3hPA==",
+      "version": "2.4.1",
+      "resolved": "https://registry.npmjs.org/prettier/-/prettier-2.4.1.tgz",
+      "integrity": "sha512-9fbDAXSBcc6Bs1mZrDYb3XKzDLm4EXXL9sC1LqKP5rZkT6KRr/rf9amVUcODVXgguK/isJz0d0hP72WeaKWsvA==",
       "dev": true
     },
     "prettier-linter-helpers": {
@@ -4444,9 +4480,9 @@
       }
     },
     "signal-exit": {
-      "version": "3.0.3",
-      "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-3.0.3.tgz",
-      "integrity": "sha512-VUJ49FC8U1OxwZLxIbTTrDvLnf/6TDgxZcK8wxR8zs13xpx7xbG60ndBlhNrFi2EMuFRoeDoJO7wthSLq42EjA==",
+      "version": "3.0.4",
+      "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-3.0.4.tgz",
+      "integrity": "sha512-rqYhcAnZ6d/vTPGghdrw7iumdcbXpsk1b8IG/rz+VWV51DM0p7XCtMoJ3qhPLIbp3tvyt3pKRbaaEMZYpHto8Q==",
       "dev": true
     },
     "slash": {
@@ -4499,9 +4535,9 @@
       "dev": true
     },
     "source-map-support": {
-      "version": "0.5.19",
-      "resolved": "https://registry.npmjs.org/source-map-support/-/source-map-support-0.5.19.tgz",
-      "integrity": "sha512-Wonm7zOCIJzBGQdB+thsPar0kYuCIzYvxZwlBa87yi/Mdjv7Tip2cyVbLj5o0cFPN4EVkuTwb3GDDyUx2DGnGw==",
+      "version": "0.5.20",
+      "resolved": "https://registry.npmjs.org/source-map-support/-/source-map-support-0.5.20.tgz",
+      "integrity": "sha512-n1lZZ8Ve4ksRqizaBQgxXDgKwttHDhyfQjA6YZZn8+AroHbsIz+JjwxQDxbp+7y5OYCI8t1Yk7etjD9CRd2hIw==",
       "dev": true,
       "requires": {
         "buffer-from": "^1.0.0",
@@ -4696,9 +4732,9 @@
       }
     },
     "systemjs": {
-      "version": "6.10.1",
-      "resolved": "https://registry.npmjs.org/systemjs/-/systemjs-6.10.1.tgz",
-      "integrity": "sha512-i2HiBOTIsm4GpjpiDHqTscZ/78htyTtdhpcbY2XPbIpsaNDIBA9vtxwIl8kSSnIRO0Zn7SHqvvILu3cMoXQuYw==",
+      "version": "6.10.3",
+      "resolved": "https://registry.npmjs.org/systemjs/-/systemjs-6.10.3.tgz",
+      "integrity": "sha512-mXwfLJdaADqWg1J5+Z0bGQEdcXSe+ePPTfzffMB29aVls5cXveRl0vneSV/19t3SfuUBsAraLP8W/g5u9cmYXA==",
       "dev": true
     },
     "table": {
@@ -4716,9 +4752,9 @@
       },
       "dependencies": {
         "ajv": {
-          "version": "8.6.2",
-          "resolved": "https://registry.npmjs.org/ajv/-/ajv-8.6.2.tgz",
-          "integrity": "sha512-9807RlWAgT564wT+DjeyU5OFMPjmzxVobvDFmNAhY+5zD6A2ly3jDp6sgnfyDtlIQ+7H97oc/DGCzzfu9rjw9w==",
+          "version": "8.6.3",
+          "resolved": "https://registry.npmjs.org/ajv/-/ajv-8.6.3.tgz",
+          "integrity": "sha512-SMJOdDP6LqTkD0Uq8qLi+gMwSt0imXLSV080qFVwJCpH9U6Mb+SUGHAXM0KNbcBPguytWyvFxcHgMLe2D2XSpw==",
           "dev": true,
           "requires": {
             "fast-deep-equal": "^3.1.1",
@@ -4736,14 +4772,14 @@
       }
     },
     "terser": {
-      "version": "5.7.0",
-      "resolved": "https://registry.npmjs.org/terser/-/terser-5.7.0.tgz",
-      "integrity": "sha512-HP5/9hp2UaZt5fYkuhNBR8YyRcT8juw8+uFbAme53iN9hblvKnLUTKkmwJG6ocWpIKf8UK4DoeWG4ty0J6S6/g==",
+      "version": "5.8.0",
+      "resolved": "https://registry.npmjs.org/terser/-/terser-5.8.0.tgz",
+      "integrity": "sha512-f0JH+6yMpneYcRJN314lZrSwu9eKkUFEHLN/kNy8ceh8gaRiLgFPJqrB9HsXjhEGdv4e/ekjTOFxIlL6xlma8A==",
       "dev": true,
       "requires": {
         "commander": "^2.20.0",
         "source-map": "~0.7.2",
-        "source-map-support": "~0.5.19"
+        "source-map-support": "~0.5.20"
       },
       "dependencies": {
         "commander": {
@@ -4811,9 +4847,9 @@
       }
     },
     "tslib": {
-      "version": "2.3.0",
-      "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.3.0.tgz",
-      "integrity": "sha512-N82ooyxVNm6h1riLCoyS9e3fuJ3AMG2zIZs2Gd1ATcSFjSA23Q0fzjjZeh0jbJvWVDZ0cJT8yaNNaaXHzueNjg==",
+      "version": "2.3.1",
+      "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.3.1.tgz",
+      "integrity": "sha512-77EbyPPpMz+FRFRuAFlWMtmgUWGe9UOG2Z25NqCwiIjRhOf5iKGuzSe5P2w1laq+FkRy4p+PCuVkJSGkzTEKVw==",
       "dev": true
     },
     "tsutils": {
@@ -4858,9 +4894,9 @@
       }
     },
     "typescript": {
-      "version": "4.3.2",
-      "resolved": "https://registry.npmjs.org/typescript/-/typescript-4.3.2.tgz",
-      "integrity": "sha512-zZ4hShnmnoVnAHpVHWpTcxdv7dWP60S2FsydQLV8V5PbS3FifjWFFRiHSWpDJahly88PRyV5teTSLoq4eG7mKw==",
+      "version": "4.4.3",
+      "resolved": "https://registry.npmjs.org/typescript/-/typescript-4.4.3.tgz",
+      "integrity": "sha512-4xfscpisVgqqDfPaJo5vkd+Qd/ItkoagnHpufr+i2QCHBsNYp+G7UAoyFl8aPtx879u38wPV65rZ8qbGZijalA==",
       "dev": true
     },
     "unbox-primitive": {
@@ -5134,9 +5170,9 @@
       }
     },
     "yargs-parser": {
-      "version": "20.2.7",
-      "resolved": "https://registry.npmjs.org/yargs-parser/-/yargs-parser-20.2.7.tgz",
-      "integrity": "sha512-FiNkvbeHzB/syOjIUxFDCnhSfzAL8R5vs40MgLFBorXACCOAEaWu0gRZl14vG8MR9AOJIZbmkjhusqBYZ3HTHw==",
+      "version": "20.2.9",
+      "resolved": "https://registry.npmjs.org/yargs-parser/-/yargs-parser-20.2.9.tgz",
+      "integrity": "sha512-y11nGElTIV+CT3Zv9t7VKl+Q3hTQoT9a1Qzezhhl6Rp21gJ/IVTW7Z3y9EWXhuUBC2Shnf+DX0antecpAwSP8w==",
       "dev": true
     },
     "yargs-unparser": {
diff --git a/package.json b/package.json
index 815562ddb..753f9e9f9 100644
--- a/package.json
+++ b/package.json
@@ -68,24 +68,24 @@
     "@rollup/pluginutils": "^4.1.1",
     "@types/node": "^10.17.60",
     "@types/require-relative": "^0.8.0",
-    "@types/signal-exit": "^3.0.0",
-    "@types/yargs-parser": "^20.2.0",
-    "@typescript-eslint/eslint-plugin": "^4.27.0",
-    "@typescript-eslint/parser": "^4.27.0",
-    "acorn": "^8.4.0",
-    "acorn-jsx": "^5.3.1",
-    "acorn-walk": "^8.1.0",
+    "@types/signal-exit": "^3.0.1",
+    "@types/yargs-parser": "^20.2.1",
+    "@typescript-eslint/eslint-plugin": "^4.31.2",
+    "@typescript-eslint/parser": "^4.31.2",
+    "acorn": "^8.5.0",
+    "acorn-jsx": "^5.3.2",
+    "acorn-walk": "^8.2.0",
     "buble": "^0.20.0",
     "chokidar": "^3.5.2",
-    "colorette": "^1.2.2",
-    "core-js": "^3.14.0",
+    "colorette": "^1.4.0",
+    "core-js": "^3.18.0",
     "date-time": "^4.0.0",
-    "es5-shim": "^4.5.15",
+    "es5-shim": "^4.6.2",
     "es6-shim": "^0.35.6",
-    "eslint": "^7.28.0",
+    "eslint": "^7.32.0",
     "eslint-config-prettier": "^8.3.0",
-    "eslint-plugin-import": "^2.23.4",
-    "eslint-plugin-prettier": "^3.4.0",
+    "eslint-plugin-import": "^2.24.2",
+    "eslint-plugin-prettier": "^3.4.1",
     "execa": "^5.1.1",
     "fixturify": "^2.1.1",
     "hash.js": "^1.1.7",
@@ -97,7 +97,7 @@
     "mocha": "^8.4.0",
     "nyc": "^15.1.0",
     "pinst": "^2.1.6",
-    "prettier": "^2.3.1",
+    "prettier": "^2.4.1",
     "pretty-bytes": "^5.6.0",
     "pretty-ms": "^7.0.1",
     "require-relative": "^0.8.7",
@@ -109,16 +109,16 @@
     "rollup-plugin-thatworks": "^1.0.4",
     "sander": "^0.6.0",
     "shx": "^0.3.3",
-    "signal-exit": "^3.0.3",
+    "signal-exit": "^3.0.4",
     "source-map": "^0.7.3",
-    "source-map-support": "^0.5.19",
+    "source-map-support": "^0.5.20",
     "sourcemap-codec": "^1.4.8",
-    "systemjs": "^6.10.1",
-    "terser": "^5.7.0",
-    "tslib": "^2.3.0",
-    "typescript": "^4.3.2",
+    "systemjs": "^6.10.3",
+    "terser": "^5.8.0",
+    "tslib": "^2.3.1",
+    "typescript": "^4.4.3",
     "weak-napi": "^2.0.2",
-    "yargs-parser": "^20.2.7"
+    "yargs-parser": "^20.2.9"
   },
   "files": [
     "dist/**/*.js",
diff --git a/rollup.config.ts b/rollup.config.ts
index 5968fb924..0f4061d94 100644
--- a/rollup.config.ts
+++ b/rollup.config.ts
@@ -19,7 +19,7 @@ import pkg from './package.json';
 const commitHash = (function () {
 	try {
 		return fs.readFileSync('.commithash', 'utf-8');
-	} catch (err) {
+	} catch {
 		return 'unknown';
 	}
 })();
diff --git a/src/Bundle.ts b/src/Bundle.ts
index 5f38b3643..6029f12d9 100644
--- a/src/Bundle.ts
+++ b/src/Bundle.ts
@@ -20,10 +20,12 @@ import commondir from './utils/commondir';
 import {
 	errCannotAssignModuleToChunk,
 	errChunkInvalid,
+	errInvalidOption,
 	error,
 	warnDeprecation
 } from './utils/error';
 import { sortByExecutionOrder } from './utils/executionOrder';
+import { GenerateCodeSnippets, getGenerateCodeSnippets } from './utils/generateCodeSnippets';
 import { basename, isAbsolute } from './utils/path';
 import { timeEnd, timeStart } from './utils/timers';
 
@@ -59,13 +61,14 @@ export default class Bundle {
 			// We need to create addons before prerender because at the moment, there
 			// can be no async code between prerender and render due to internal state
 			const addons = await createAddons(this.outputOptions, this.pluginDriver);
-			this.prerenderChunks(chunks, inputBase);
+			const snippets = getGenerateCodeSnippets(this.outputOptions);
+			this.prerenderChunks(chunks, inputBase, snippets);
 			timeEnd('render modules', 2);
 
-			await this.addFinalizedChunksToBundle(chunks, inputBase, addons, outputBundle);
-		} catch (error) {
-			await this.pluginDriver.hookParallel('renderError', [error]);
-			throw error;
+			await this.addFinalizedChunksToBundle(chunks, inputBase, addons, outputBundle, snippets);
+		} catch (err: any) {
+			await this.pluginDriver.hookParallel('renderError', [err]);
+			throw err;
 		}
 		await this.pluginDriver.hookSeq('generateBundle', [
 			this.outputOptions,
@@ -82,7 +85,8 @@ export default class Bundle {
 		chunks: Chunk[],
 		inputBase: string,
 		addons: Addons,
-		outputBundle: OutputBundleWithPlaceholders
+		outputBundle: OutputBundleWithPlaceholders,
+		snippets: GenerateCodeSnippets
 	): Promise<void> {
 		this.assignChunkIds(chunks, inputBase, addons, outputBundle);
 		for (const chunk of chunks) {
@@ -91,7 +95,10 @@ export default class Bundle {
 		await Promise.all(
 			chunks.map(async chunk => {
 				const outputChunk = outputBundle[chunk.id!] as OutputChunk;
-				Object.assign(outputChunk, await chunk.render(this.outputOptions, addons, outputChunk));
+				Object.assign(
+					outputChunk,
+					await chunk.render(this.outputOptions, addons, outputChunk, snippets)
+				);
 			})
 		);
 	}
@@ -181,8 +188,8 @@ export default class Bundle {
 						allowHashBang: true,
 						ecmaVersion: 'latest'
 					});
-				} catch (exception) {
-					this.inputOptions.onwarn(errChunkInvalid(file as OutputChunk, exception));
+				} catch (err: any) {
+					this.inputOptions.onwarn(errChunkInvalid(file as OutputChunk, err));
 				}
 			}
 		}
@@ -233,12 +240,16 @@ export default class Bundle {
 		return [...chunks, ...facades];
 	}
 
-	private prerenderChunks(chunks: Chunk[], inputBase: string): void {
+	private prerenderChunks(
+		chunks: Chunk[],
+		inputBase: string,
+		snippets: GenerateCodeSnippets
+	): void {
 		for (const chunk of chunks) {
 			chunk.generateExports();
 		}
 		for (const chunk of chunks) {
-			chunk.preRender(this.outputOptions, inputBase);
+			chunk.preRender(this.outputOptions, inputBase, snippets);
 		}
 	}
 }
@@ -260,28 +271,38 @@ function validateOptionsForMultiChunkOutput(
 	onWarn: WarningHandler
 ) {
 	if (outputOptions.format === 'umd' || outputOptions.format === 'iife')
-		return error({
-			code: 'INVALID_OPTION',
-			message: 'UMD and IIFE output formats are not supported for code-splitting builds.'
-		});
+		return error(
+			errInvalidOption(
+				'output.format',
+				'outputformat',
+				'UMD and IIFE output formats are not supported for code-splitting builds',
+				outputOptions.format
+			)
+		);
 	if (typeof outputOptions.file === 'string')
-		return error({
-			code: 'INVALID_OPTION',
-			message:
-				'When building multiple chunks, the "output.dir" option must be used, not "output.file". ' +
-				'To inline dynamic imports, set the "inlineDynamicImports" option.'
-		});
+		return error(
+			errInvalidOption(
+				'output.file',
+				'outputdir',
+				'when building multiple chunks, the "output.dir" option must be used, not "output.file". To inline dynamic imports, set the "inlineDynamicImports" option'
+			)
+		);
 	if (outputOptions.sourcemapFile)
-		return error({
-			code: 'INVALID_OPTION',
-			message: '"output.sourcemapFile" is only supported for single-file builds.'
-		});
+		return error(
+			errInvalidOption(
+				'output.sourcemapFile',
+				'outputsourcemapfile',
+				'"output.sourcemapFile" is only supported for single-file builds'
+			)
+		);
 	if (!outputOptions.amd.autoId && outputOptions.amd.id)
-		onWarn({
-			code: 'INVALID_OPTION',
-			message:
-				'"output.amd.id" is only properly supported for single-file builds. Use "output.amd.autoId" and "output.amd.basePath".'
-		});
+		onWarn(
+			errInvalidOption(
+				'output.amd.id',
+				'outputamd',
+				'this option is only properly supported for single-file builds. Use "output.amd.autoId" and "output.amd.basePath" instead'
+			)
+		);
 }
 
 function getIncludedModules(modulesById: Map<string, Module | ExternalModule>): Module[] {
diff --git a/src/Chunk.ts b/src/Chunk.ts
index 8d358ade3..2c9ab4630 100644
--- a/src/Chunk.ts
+++ b/src/Chunk.ts
@@ -6,7 +6,6 @@ import ExportDefaultDeclaration from './ast/nodes/ExportDefaultDeclaration';
 import FunctionDeclaration from './ast/nodes/FunctionDeclaration';
 import ChildScope from './ast/scopes/ChildScope';
 import ExportDefaultVariable from './ast/variables/ExportDefaultVariable';
-import ExportShimVariable from './ast/variables/ExportShimVariable';
 import LocalVariable from './ast/variables/LocalVariable';
 import NamespaceVariable from './ast/variables/NamespaceVariable';
 import SyntheticNamedExportVariable from './ast/variables/SyntheticNamedExportVariable';
@@ -32,12 +31,14 @@ import { deconflictChunk, DependenciesToBeDeconflicted } from './utils/deconflic
 import {
 	errCyclicCrossChunkReexport,
 	errFailedValidation,
+	errInvalidOption,
 	error,
 	errUnexpectedNamedImport,
 	errUnexpectedNamespaceReexport
 } from './utils/error';
 import { escapeId } from './utils/escapeId';
 import { assignExportsToMangledNames, assignExportsToNames } from './utils/exportNames';
+import { GenerateCodeSnippets } from './utils/generateCodeSnippets';
 import getExportMode from './utils/getExportMode';
 import { getId } from './utils/getId';
 import getIndentString from './utils/getIndentString';
@@ -131,6 +132,7 @@ export default class Chunk {
 	facadeModule: Module | null = null;
 	id: string | null = null;
 	namespaceVariableName = '';
+	needsExportsShim = false;
 	suggestedVariableName: string;
 	variableName = '';
 
@@ -149,7 +151,6 @@ export default class Chunk {
 	private indentString: string = undefined as never;
 	private readonly isEmpty: boolean = true;
 	private name: string | null = null;
-	private needsExportsShim = false;
 	private renderedDependencies: Map<ExternalModule | Chunk, ModuleDeclarationDependency> | null =
 		null;
 	private renderedExports: ChunkExports | null = null;
@@ -551,16 +552,17 @@ export default class Chunk {
 	}
 
 	// prerender allows chunk hashes and names to be generated before finalizing
-	preRender(options: NormalizedOutputOptions, inputBase: string): void {
-		const magicString = new MagicStringBundle({ separator: options.compact ? '' : '\n\n' });
+	preRender(
+		options: NormalizedOutputOptions,
+		inputBase: string,
+		snippets: GenerateCodeSnippets
+	): void {
+		const { _, getPropertyAccess, n } = snippets;
+		const magicString = new MagicStringBundle({ separator: `${n}${n}` });
 		this.usedModules = [];
 		this.indentString = getIndentString(this.orderedModules, options);
 
-		const n = options.compact ? '' : '\n';
-		const _ = options.compact ? '' : ' ';
-
 		const renderOptions: RenderOptions = {
-			compact: options.compact,
 			dynamicImportFunction: options.dynamicImportFunction,
 			exportNamesByVariable: this.exportNamesByVariable,
 			format: options.format,
@@ -568,7 +570,7 @@ export default class Chunk {
 			indent: this.indentString,
 			namespaceToStringTag: options.namespaceToStringTag,
 			outputPluginDriver: this.pluginDriver,
-			varOrConst: options.preferConst ? 'const' : 'var'
+			snippets
 		};
 
 		// for static and dynamic entry points, inline the execution list to avoid loading latency
@@ -582,7 +584,7 @@ export default class Chunk {
 			}
 		}
 
-		this.prepareDynamicImportsAndImportMetas();
+		this.prepareModulesForRendering(snippets);
 		this.setIdentifierRenderResolutions(options);
 
 		let hoistedSource = '';
@@ -623,7 +625,7 @@ export default class Chunk {
 
 		if (this.needsExportsShim) {
 			magicString.prepend(
-				`${n}${renderOptions.varOrConst} ${MISSING_EXPORT_SHIM_VARIABLE}${_}=${_}void 0;${n}${n}`
+				`${n}${snippets.cnst} ${MISSING_EXPORT_SHIM_VARIABLE}${_}=${_}void 0;${n}${n}`
 			);
 		}
 		if (options.compact) {
@@ -645,25 +647,31 @@ export default class Chunk {
 
 		this.setExternalRenderPaths(options, inputBase);
 
-		this.renderedDependencies = this.getChunkDependencyDeclarations(options);
+		this.renderedDependencies = this.getChunkDependencyDeclarations(options, getPropertyAccess);
 		this.renderedExports =
-			this.exportMode === 'none' ? [] : this.getChunkExportDeclarations(options.format);
+			this.exportMode === 'none'
+				? []
+				: this.getChunkExportDeclarations(options.format, getPropertyAccess);
 	}
 
 	async render(
 		options: NormalizedOutputOptions,
 		addons: Addons,
-		outputChunk: RenderedChunk
+		outputChunk: RenderedChunk,
+		snippets: GenerateCodeSnippets
 	): Promise<{ code: string; map: SourceMap }> {
 		timeStart('render format', 2);
 
 		const format = options.format;
 		const finalise = finalisers[format];
 		if (options.dynamicImportFunction && format !== 'es') {
-			this.inputOptions.onwarn({
-				code: 'INVALID_OPTION',
-				message: '"output.dynamicImportFunction" is ignored for formats other than "es".'
-			});
+			this.inputOptions.onwarn(
+				errInvalidOption(
+					'output.dynamicImportFunction',
+					'outputdynamicImportFunction',
+					'this option is ignored for formats other than "es"'
+				)
+			);
 		}
 
 		// populate ids in the rendered declarations only here
@@ -681,8 +689,8 @@ export default class Chunk {
 			}
 		}
 
-		this.finaliseDynamicImports(options);
-		this.finaliseImportMetas(format);
+		this.finaliseDynamicImports(options, snippets);
+		this.finaliseImportMetas(format, snippets);
 
 		const hasExports =
 			this.renderedExports!.length !== 0 ||
@@ -724,7 +732,7 @@ export default class Chunk {
 				exports: this.renderedExports!,
 				hasExports,
 				id: this.id,
-				indentString: this.indentString,
+				indent: this.indentString,
 				intro: addons.intro!,
 				isEntryFacade:
 					this.outputOptions.preserveModules ||
@@ -732,8 +740,8 @@ export default class Chunk {
 				isModuleFacade: this.facadeModule !== null,
 				namedExportsMode: this.exportMode !== 'default',
 				outro: addons.outro!,
+				snippets,
 				usesTopLevelAwait,
-				varOrConst: options.preferConst ? 'const' : 'var',
 				warn: this.inputOptions.onwarn
 			},
 			options
@@ -895,7 +903,7 @@ export default class Chunk {
 		}
 	}
 
-	private finaliseDynamicImports(options: NormalizedOutputOptions) {
+	private finaliseDynamicImports(options: NormalizedOutputOptions, snippets: GenerateCodeSnippets) {
 		const stripKnownJsExtensions = options.format === 'amd';
 		for (const [module, code] of this.renderedModuleSources) {
 			for (const { node, resolution } of module.dynamicImports) {
@@ -920,16 +928,16 @@ export default class Chunk {
 					resolution instanceof Module &&
 						!facadeChunk?.strictFacade &&
 						chunk!.exportNamesByVariable.get(resolution.namespace)![0],
-					options
+					snippets
 				);
 			}
 		}
 	}
 
-	private finaliseImportMetas(format: InternalModuleFormat): void {
+	private finaliseImportMetas(format: InternalModuleFormat, snippets: GenerateCodeSnippets): void {
 		for (const [module, code] of this.renderedModuleSources) {
 			for (const importMeta of module.importMetas) {
-				importMeta.renderFinalMechanism(code, this.id!, format, this.pluginDriver);
+				importMeta.renderFinalMechanism(code, this.id!, format, snippets, this.pluginDriver);
 			}
 		}
 	}
@@ -950,9 +958,10 @@ export default class Chunk {
 	}
 
 	private getChunkDependencyDeclarations(
-		options: NormalizedOutputOptions
+		options: NormalizedOutputOptions,
+		getPropertyAccess: (name: string) => string
 	): Map<Chunk | ExternalModule, ModuleDeclarationDependency> {
-		const importSpecifiers = this.getImportSpecifiers();
+		const importSpecifiers = this.getImportSpecifiers(getPropertyAccess);
 		const reexportSpecifiers = this.getReexportSpecifiers();
 		const dependencyDeclaration = new Map<Chunk | ExternalModule, ModuleDeclarationDependency>();
 		for (const dep of this.dependencies) {
@@ -983,7 +992,10 @@ export default class Chunk {
 		return dependencyDeclaration;
 	}
 
-	private getChunkExportDeclarations(format: InternalModuleFormat): ChunkExports {
+	private getChunkExportDeclarations(
+		format: InternalModuleFormat,
+		getPropertyAccess: (name: string) => string
+	): ChunkExports {
 		const exports: ChunkExports = [];
 		for (const exportName of this.getExportNames()) {
 			if (exportName[0] === '*') continue;
@@ -995,7 +1007,7 @@ export default class Chunk {
 			}
 			let expression = null;
 			let hoisted = false;
-			let local = variable.getName();
+			let local = variable.getName(getPropertyAccess);
 			if (variable instanceof LocalVariable) {
 				for (const declaration of variable.declarations) {
 					if (
@@ -1084,7 +1096,9 @@ export default class Chunk {
 		return getAliasName(this.orderedModules[this.orderedModules.length - 1].id);
 	}
 
-	private getImportSpecifiers(): Map<Chunk | ExternalModule, ImportSpecifier[]> {
+	private getImportSpecifiers(
+		getPropertyAccess: (name: string) => string
+	): Map<Chunk | ExternalModule, ImportSpecifier[]> {
 		const { interop } = this.outputOptions;
 		const importsByDependency = new Map<Chunk | ExternalModule, ImportSpecifier[]>();
 		for (const variable of this.imports) {
@@ -1103,7 +1117,7 @@ export default class Chunk {
 			}
 			getOrCreate(importsByDependency, dependency, () => []).push({
 				imported,
-				local: variable.getName()
+				local: variable.getName(getPropertyAccess)
 			});
 		}
 		return importsByDependency;
@@ -1205,7 +1219,7 @@ export default class Chunk {
 		}
 	}
 
-	private prepareDynamicImportsAndImportMetas() {
+	private prepareModulesForRendering(snippets: GenerateCodeSnippets) {
 		const accessedGlobalsByScope = this.accessedGlobalsByScope;
 		for (const module of this.orderedModules) {
 			for (const { node, resolution } of module.dynamicImports) {
@@ -1219,6 +1233,7 @@ export default class Chunk {
 								this.facadeChunkByModule.get(resolution)?.exportMode || chunk!.exportMode,
 								resolution,
 								this.outputOptions,
+								snippets,
 								this.pluginDriver,
 								accessedGlobalsByScope
 							);
@@ -1228,6 +1243,7 @@ export default class Chunk {
 							'external',
 							resolution,
 							this.outputOptions,
+							snippets,
 							this.pluginDriver,
 							accessedGlobalsByScope
 						);
@@ -1237,6 +1253,9 @@ export default class Chunk {
 			for (const importMeta of module.importMetas) {
 				importMeta.addAccessedGlobals(this.outputOptions.format, accessedGlobalsByScope);
 			}
+			if (this.includedNamespaces.has(module) && !this.outputOptions.preserveModules) {
+				module.namespace.prepare(accessedGlobalsByScope);
+			}
 		}
 	}
 
@@ -1256,9 +1275,6 @@ export default class Chunk {
 		const syntheticExports = new Set<SyntheticNamedExportVariable>();
 		for (const exportName of this.getExportNames()) {
 			const exportVariable = this.exportsByName[exportName];
-			if (exportVariable instanceof ExportShimVariable) {
-				this.needsExportsShim = true;
-			}
 			if (
 				format !== 'es' &&
 				format !== 'system' &&
@@ -1272,7 +1288,12 @@ export default class Chunk {
 				exportVariable.setRenderNames(null, null);
 			}
 		}
-
+		for (const module of this.orderedModules) {
+			if (module.needsExportShim) {
+				this.needsExportsShim = true;
+				break;
+			}
+		}
 		const usedNames = new Set<string>(['Object', 'Promise']);
 		if (this.needsExportsShim) {
 			usedNames.add(MISSING_EXPORT_SHIM_VARIABLE);
diff --git a/src/ExternalModule.ts b/src/ExternalModule.ts
index b950f4541..434ac4e7a 100644
--- a/src/ExternalModule.ts
+++ b/src/ExternalModule.ts
@@ -12,7 +12,6 @@ import { printQuotedStringList } from './utils/printStringList';
 import relativeId from './utils/relativeId';
 
 export default class ExternalModule {
-	declare chunk: void;
 	declarations: { [name: string]: ExternalVariable } = Object.create(null);
 	defaultVariableName = '';
 	dynamicImporters: string[] = [];
diff --git a/src/Module.ts b/src/Module.ts
index 0ac3b8f66..e5ae813ae 100644
--- a/src/Module.ts
+++ b/src/Module.ts
@@ -212,6 +212,7 @@ export default class Module {
 	isExecuted = false;
 	isUserDefinedEntryPoint = false;
 	declare namespace: NamespaceVariable;
+	needsExportShim = false;
 	declare originalCode: string;
 	declare originalSourcemap: ExistingDecodedSourceMap | null;
 	preserveSignature: PreserveEntrySignaturesOption = this.options.preserveEntrySignatures;
@@ -618,7 +619,7 @@ export default class Module {
 		}
 
 		if (includeNamespaceMembers) {
-			this.namespace.prepareNamespace(this.includeAndGetAdditionalMergedNamespaces());
+			this.namespace.setMergedNamespaces(this.includeAndGetAdditionalMergedNamespaces());
 		}
 	}
 
@@ -741,7 +742,7 @@ export default class Module {
 		};
 
 		this.scope = new ModuleScope(this.graph.scope, this.astContext);
-		this.namespace = new NamespaceVariable(this.astContext, this.info.syntheticNamedExports);
+		this.namespace = new NamespaceVariable(this.astContext);
 		this.ast = new Program(ast, { context: this.astContext, type: 'Module' }, this.scope);
 		this.info.ast = ast;
 
@@ -801,7 +802,7 @@ export default class Module {
 	tryParse(): acorn.Node {
 		try {
 			return this.graph.contextParse(this.info.code!);
-		} catch (err) {
+		} catch (err: any) {
 			let message = err.message.replace(/ \(\d+:\d+\)$/, '');
 			if (this.id.endsWith('.json')) {
 				message += ' (Note that you need @rollup/plugin-json to import JSON files)';
@@ -957,7 +958,7 @@ export default class Module {
 			try {
 				({ column, line } = getOriginalLocation(this.sourcemapChain, { column, line }));
 				code = this.originalCode;
-			} catch (e) {
+			} catch (err: any) {
 				this.options.onwarn({
 					code: 'SOURCEMAP_ERROR',
 					id: this.id,
@@ -966,7 +967,7 @@ export default class Module {
 						file: this.id,
 						line
 					},
-					message: `Error when using sourcemap for reporting an error: ${e.message}`,
+					message: `Error when using sourcemap for reporting an error: ${err.message}`,
 					pos
 				});
 			}
@@ -1082,21 +1083,22 @@ export default class Module {
 	}
 
 	private includeAndGetAdditionalMergedNamespaces(): Variable[] {
-		const mergedNamespaces: Variable[] = [];
-		for (const module of this.exportAllModules) {
+		const externalNamespaces = new Set<Variable>();
+		const syntheticNamespaces = new Set<Variable>();
+		for (const module of [this, ...this.exportAllModules]) {
 			if (module instanceof ExternalModule) {
 				const externalVariable = module.getVariableForExportName('*');
 				externalVariable.include();
 				this.imports.add(externalVariable);
-				mergedNamespaces.push(externalVariable);
+				externalNamespaces.add(externalVariable);
 			} else if (module.info.syntheticNamedExports) {
 				const syntheticNamespace = module.getSyntheticNamespace();
 				syntheticNamespace.include();
 				this.imports.add(syntheticNamespace);
-				mergedNamespaces.push(syntheticNamespace);
+				syntheticNamespaces.add(syntheticNamespace);
 			}
 		}
-		return mergedNamespaces;
+		return [...syntheticNamespaces, ...externalNamespaces];
 	}
 
 	private includeDynamicImport(node: ImportExpression) {
diff --git a/src/ModuleLoader.ts b/src/ModuleLoader.ts
index ada5c96d8..717c373b2 100644
--- a/src/ModuleLoader.ts
+++ b/src/ModuleLoader.ts
@@ -223,7 +223,7 @@ export class ModuleLoader {
 			source = await this.readQueue.run(
 				async () => (await this.pluginDriver.hookFirst('load', [id])) ?? (await readFile(id))
 			);
-		} catch (err) {
+		} catch (err: any) {
 			timeEnd('load modules', 3);
 			let msg = `Could not load ${id}`;
 			if (importer) msg += ` (imported by ${relativeId(importer)})`;
diff --git a/src/ast/nodes/ClassDeclaration.ts b/src/ast/nodes/ClassDeclaration.ts
index e5ba4e8b9..564291278 100644
--- a/src/ast/nodes/ClassDeclaration.ts
+++ b/src/ast/nodes/ClassDeclaration.ts
@@ -30,15 +30,13 @@ export default class ClassDeclaration extends ClassNode {
 	}
 
 	render(code: MagicString, options: RenderOptions): void {
-		if (
-			options.format === 'system' &&
-			this.id &&
-			options.exportNamesByVariable.has(this.id.variable)
-		) {
-			code.appendLeft(
-				this.end,
-				`${options.compact ? '' : ' '}${getSystemExportStatement([this.id.variable], options)};`
-			);
+		const {
+			exportNamesByVariable,
+			format,
+			snippets: { _ }
+		} = options;
+		if (format === 'system' && this.id && exportNamesByVariable.has(this.id.variable)) {
+			code.appendLeft(this.end, `${_}${getSystemExportStatement([this.id.variable], options)};`);
 		}
 		super.render(code, options);
 	}
diff --git a/src/ast/nodes/ExportDefaultDeclaration.ts b/src/ast/nodes/ExportDefaultDeclaration.ts
index 5ce1950a0..5da2e3cdc 100644
--- a/src/ast/nodes/ExportDefaultDeclaration.ts
+++ b/src/ast/nodes/ExportDefaultDeclaration.ts
@@ -117,7 +117,12 @@ export default class ExportDefaultDeclaration extends NodeBase {
 		needsId: boolean,
 		options: RenderOptions
 	) {
-		const name = this.variable.getName();
+		const {
+			exportNamesByVariable,
+			format,
+			snippets: { getPropertyAccess }
+		} = options;
+		const name = this.variable.getName(getPropertyAccess);
 		// Remove `export default`
 		code.remove(this.start, declarationStart);
 
@@ -128,9 +133,9 @@ export default class ExportDefaultDeclaration extends NodeBase {
 			);
 		}
 		if (
-			options.format === 'system' &&
+			format === 'system' &&
 			this.declaration instanceof ClassDeclaration &&
-			options.exportNamesByVariable.has(this.variable)
+			exportNamesByVariable.has(this.variable)
 		) {
 			code.appendLeft(this.end, ` ${getSystemExportStatement([this.variable], options)};`);
 		}
@@ -139,17 +144,16 @@ export default class ExportDefaultDeclaration extends NodeBase {
 	private renderVariableDeclaration(
 		code: MagicString,
 		declarationStart: number,
-		options: RenderOptions
+		{ format, exportNamesByVariable, snippets: { cnst, getPropertyAccess } }: RenderOptions
 	) {
 		const hasTrailingSemicolon = code.original.charCodeAt(this.end - 1) === 59; /*";"*/
-		const systemExportNames =
-			options.format === 'system' && options.exportNamesByVariable.get(this.variable);
+		const systemExportNames = format === 'system' && exportNamesByVariable.get(this.variable);
 
 		if (systemExportNames) {
 			code.overwrite(
 				this.start,
 				declarationStart,
-				`${options.varOrConst} ${this.variable.getName()} = exports('${systemExportNames[0]}', `
+				`${cnst} ${this.variable.getName(getPropertyAccess)} = exports('${systemExportNames[0]}', `
 			);
 			code.appendRight(
 				hasTrailingSemicolon ? this.end - 1 : this.end,
@@ -159,7 +163,7 @@ export default class ExportDefaultDeclaration extends NodeBase {
 			code.overwrite(
 				this.start,
 				declarationStart,
-				`${options.varOrConst} ${this.variable.getName()} = `
+				`${cnst} ${this.variable.getName(getPropertyAccess)} = `
 			);
 			if (!hasTrailingSemicolon) {
 				code.appendLeft(this.end, ';');
diff --git a/src/ast/nodes/Identifier.ts b/src/ast/nodes/Identifier.ts
index eb2cdaa17..b488f8448 100644
--- a/src/ast/nodes/Identifier.ts
+++ b/src/ast/nodes/Identifier.ts
@@ -215,11 +215,11 @@ export default class Identifier extends NodeBase implements PatternNode {
 
 	render(
 		code: MagicString,
-		_options: RenderOptions,
+		{ snippets: { getPropertyAccess } }: RenderOptions,
 		{ renderedParentType, isCalleeOfRenderedParent, isShorthandProperty }: NodeRenderOptions = BLANK
 	): void {
 		if (this.variable) {
-			const name = this.variable.getName();
+			const name = this.variable.getName(getPropertyAccess);
 
 			if (name !== this.name) {
 				code.overwrite(this.start, this.end, name, {
diff --git a/src/ast/nodes/IfStatement.ts b/src/ast/nodes/IfStatement.ts
index 8fe01dee3..26e1f3cd6 100644
--- a/src/ast/nodes/IfStatement.ts
+++ b/src/ast/nodes/IfStatement.ts
@@ -80,6 +80,9 @@ export default class IfStatement extends StatementBase implements DeoptimizableE
 	}
 
 	render(code: MagicString, options: RenderOptions): void {
+		const {
+			snippets: { getPropertyAccess }
+		} = options;
 		// Note that unknown test values are always included
 		const testValue = this.getTestValue();
 		const hoistedDeclarations: Identifier[] = [];
@@ -115,7 +118,7 @@ export default class IfStatement extends StatementBase implements DeoptimizableE
 				hoistedDeclarations.push(...this.alternateScope!.hoistedDeclarations);
 			}
 		}
-		this.renderHoistedDeclarations(hoistedDeclarations, code);
+		this.renderHoistedDeclarations(hoistedDeclarations, code, getPropertyAccess);
 	}
 
 	private getTestValue(): LiteralValueOrUnknown {
@@ -168,12 +171,16 @@ export default class IfStatement extends StatementBase implements DeoptimizableE
 		}
 	}
 
-	private renderHoistedDeclarations(hoistedDeclarations: Identifier[], code: MagicString) {
+	private renderHoistedDeclarations(
+		hoistedDeclarations: Identifier[],
+		code: MagicString,
+		getPropertyAccess: (name: string) => string
+	) {
 		const hoistedVars = [
 			...new Set(
 				hoistedDeclarations.map(identifier => {
 					const variable = identifier.variable!;
-					return variable.included ? variable.getName() : '';
+					return variable.included ? variable.getName(getPropertyAccess) : '';
 				})
 			)
 		]
diff --git a/src/ast/nodes/ImportExpression.ts b/src/ast/nodes/ImportExpression.ts
index 0f33f75fc..7bd0e6759 100644
--- a/src/ast/nodes/ImportExpression.ts
+++ b/src/ast/nodes/ImportExpression.ts
@@ -3,8 +3,9 @@ import ExternalModule from '../../ExternalModule';
 import Module from '../../Module';
 import { GetInterop, NormalizedOutputOptions } from '../../rollup/types';
 import { PluginDriver } from '../../utils/PluginDriver';
+import { GenerateCodeSnippets } from '../../utils/generateCodeSnippets';
 import {
-	getDefaultOnlyHelper,
+	INTEROP_NAMESPACE_DEFAULT_ONLY_VARIABLE,
 	namespaceInteropHelpersByInteropType
 } from '../../utils/interopHelpers';
 import { findFirstOccurrenceOutsideComment, RenderOptions } from '../../utils/renderHelpers';
@@ -46,12 +47,18 @@ export default class ImportExpression extends NodeBase {
 
 	render(code: MagicString, options: RenderOptions): void {
 		if (this.inlineNamespace) {
-			const _ = options.compact ? '' : ' ';
-			const s = options.compact ? '' : ';';
+			const {
+				snippets: { getDirectReturnFunction, getPropertyAccess }
+			} = options;
+			const [left, right] = getDirectReturnFunction([], {
+				functionReturn: true,
+				lineBreakIndent: null,
+				name: null
+			});
 			code.overwrite(
 				this.start,
 				this.end,
-				`Promise.resolve().then(function${_}()${_}{${_}return ${this.inlineNamespace.getName()}${s}${_}})`,
+				`Promise.resolve().then(${left}${this.inlineNamespace.getName(getPropertyAccess)}${right})`,
 				{ contentOnly: true }
 			);
 			return;
@@ -73,16 +80,16 @@ export default class ImportExpression extends NodeBase {
 		code: MagicString,
 		resolution: string,
 		namespaceExportName: string | false | undefined,
-		options: NormalizedOutputOptions
+		{ getDirectReturnFunction }: GenerateCodeSnippets
 	): void {
 		code.overwrite(this.source.start, this.source.end, resolution);
 		if (namespaceExportName) {
-			const _ = options.compact ? '' : ' ';
-			const s = options.compact ? '' : ';';
-			code.prependLeft(
-				this.end,
-				`.then(function${_}(n)${_}{${_}return n.${namespaceExportName}${s}${_}})`
-			);
+			const [left, right] = getDirectReturnFunction(['n'], {
+				functionReturn: true,
+				lineBreakIndent: null,
+				name: null
+			});
+			code.prependLeft(this.end, `.then(${left}n.${namespaceExportName}${right})`);
 		}
 	}
 
@@ -90,16 +97,19 @@ export default class ImportExpression extends NodeBase {
 		exportMode: 'none' | 'named' | 'default' | 'external',
 		resolution: Module | ExternalModule | string | null,
 		options: NormalizedOutputOptions,
+		snippets: GenerateCodeSnippets,
 		pluginDriver: PluginDriver,
 		accessedGlobalsByScope: Map<ChildScope, Set<string>>
 	): void {
+		const { format } = options;
 		this.resolution = resolution;
-		const accessedGlobals = [...(accessedImportGlobals[options.format] || [])];
+		const accessedGlobals = [...(accessedImportGlobals[format] || [])];
 		let helper: string | null;
 		({ helper, mechanism: this.mechanism } = this.getDynamicImportMechanismAndHelper(
 			resolution,
 			exportMode,
 			options,
+			snippets,
 			pluginDriver
 		));
 		if (helper) {
@@ -117,13 +127,20 @@ export default class ImportExpression extends NodeBase {
 	private getDynamicImportMechanismAndHelper(
 		resolution: Module | ExternalModule | string | null,
 		exportMode: 'none' | 'named' | 'default' | 'external',
-		options: NormalizedOutputOptions,
+		{
+			compact,
+			dynamicImportFunction,
+			format,
+			generatedCode: { arrowFunctions },
+			interop
+		}: NormalizedOutputOptions,
+		{ _, getDirectReturnFunction, getDirectReturnIifeLeft }: GenerateCodeSnippets,
 		pluginDriver: PluginDriver
 	): { helper: string | null; mechanism: DynamicImportMechanism | null } {
 		const mechanism = pluginDriver.hookFirstSync('renderDynamicImport', [
 			{
 				customResolution: typeof this.resolution === 'string' ? this.resolution : null,
-				format: options.format,
+				format,
 				moduleId: this.context.module.id,
 				targetModuleId:
 					this.resolution && typeof this.resolution !== 'string' ? this.resolution.id : null
@@ -132,39 +149,64 @@ export default class ImportExpression extends NodeBase {
 		if (mechanism) {
 			return { helper: null, mechanism };
 		}
-		switch (options.format) {
+		const hasDynamicTarget = !this.resolution || typeof this.resolution === 'string';
+		switch (format) {
 			case 'cjs': {
-				const _ = options.compact ? '' : ' ';
-				const s = options.compact ? '' : ';';
-				const leftStart = `Promise.resolve().then(function${_}()${_}{${_}return`;
-				const helper = getInteropHelper(resolution, exportMode, options.interop);
+				const helper = getInteropHelper(resolution, exportMode, interop);
+				let left = `require(`;
+				let right = `)`;
+				if (helper) {
+					left = `/*#__PURE__*/${helper}(${left}`;
+					right += ')';
+				}
+				const [functionLeft, functionRight] = getDirectReturnFunction([], {
+					functionReturn: true,
+					lineBreakIndent: null,
+					name: null
+				});
+				left = `Promise.resolve().then(${functionLeft}${left}`;
+				right += `${functionRight})`;
+				if (!arrowFunctions && hasDynamicTarget) {
+					left = getDirectReturnIifeLeft(['t'], `${left}t${right}`, {
+						needsArrowReturnParens: false,
+						needsWrappedFunction: true
+					});
+					right = ')';
+				}
 				return {
 					helper,
-					mechanism: helper
-						? {
-								left: `${leftStart} /*#__PURE__*/${helper}(require(`,
-								right: `))${s}${_}})`
-						  }
-						: {
-								left: `${leftStart} require(`,
-								right: `)${s}${_}})`
-						  }
+					mechanism: { left, right }
 				};
 			}
 			case 'amd': {
-				const _ = options.compact ? '' : ' ';
-				const resolve = options.compact ? 'c' : 'resolve';
-				const reject = options.compact ? 'e' : 'reject';
-				const helper = getInteropHelper(resolution, exportMode, options.interop);
+				const resolve = compact ? 'c' : 'resolve';
+				const reject = compact ? 'e' : 'reject';
+				const helper = getInteropHelper(resolution, exportMode, interop);
+				const [resolveLeft, resolveRight] = getDirectReturnFunction(['m'], {
+					functionReturn: false,
+					lineBreakIndent: null,
+					name: null
+				});
 				const resolveNamespace = helper
-					? `function${_}(m)${_}{${_}${resolve}(/*#__PURE__*/${helper}(m));${_}}`
+					? `${resolveLeft}${resolve}(/*#__PURE__*/${helper}(m))${resolveRight}`
 					: resolve;
+				const [handlerLeft, handlerRight] = getDirectReturnFunction([resolve, reject], {
+					functionReturn: false,
+					lineBreakIndent: null,
+					name: null
+				});
+				let left = `new Promise(${handlerLeft}require([`;
+				let right = `],${_}${resolveNamespace},${_}${reject})${handlerRight})`;
+				if (!arrowFunctions && hasDynamicTarget) {
+					left = getDirectReturnIifeLeft(['t'], `${left}t${right}`, {
+						needsArrowReturnParens: false,
+						needsWrappedFunction: true
+					});
+					right = ')';
+				}
 				return {
 					helper,
-					mechanism: {
-						left: `new Promise(function${_}(${resolve},${_}${reject})${_}{${_}require([`,
-						right: `],${_}${resolveNamespace},${_}${reject})${_}})`
-					}
+					mechanism: { left, right }
 				};
 			}
 			case 'system':
@@ -176,11 +218,11 @@ export default class ImportExpression extends NodeBase {
 					}
 				};
 			case 'es':
-				if (options.dynamicImportFunction) {
+				if (dynamicImportFunction) {
 					return {
 						helper: null,
 						mechanism: {
-							left: `${options.dynamicImportFunction}(`,
+							left: `${dynamicImportFunction}(`,
 							right: ')'
 						}
 					};
@@ -200,7 +242,7 @@ function getInteropHelper(
 				String(interop(resolution instanceof ExternalModule ? resolution.id : null))
 		  ]
 		: exportMode === 'default'
-		? getDefaultOnlyHelper()
+		? INTEROP_NAMESPACE_DEFAULT_ONLY_VARIABLE
 		: null;
 }
 
diff --git a/src/ast/nodes/MemberExpression.ts b/src/ast/nodes/MemberExpression.ts
index 6e92c255e..949a39887 100644
--- a/src/ast/nodes/MemberExpression.ts
+++ b/src/ast/nodes/MemberExpression.ts
@@ -306,7 +306,10 @@ export default class MemberExpression extends NodeBase implements DeoptimizableE
 		}: NodeRenderOptions = BLANK
 	): void {
 		if (this.variable || this.replacement) {
-			let replacement = this.variable ? this.variable.getName() : this.replacement;
+			const {
+				snippets: { getPropertyAccess }
+			} = options;
+			let replacement = this.variable ? this.variable.getName(getPropertyAccess) : this.replacement;
 			if (renderedParentType && isCalleeOfRenderedParent) replacement = '0, ' + replacement;
 			code.overwrite(this.start, this.end, replacement!, {
 				contentOnly: true,
diff --git a/src/ast/nodes/MetaProperty.ts b/src/ast/nodes/MetaProperty.ts
index 877096926..4d47a6a6f 100644
--- a/src/ast/nodes/MetaProperty.ts
+++ b/src/ast/nodes/MetaProperty.ts
@@ -2,6 +2,7 @@ import MagicString from 'magic-string';
 import { InternalModuleFormat } from '../../rollup/types';
 import { PluginDriver } from '../../utils/PluginDriver';
 import { warnDeprecation } from '../../utils/error';
+import { GenerateCodeSnippets } from '../../utils/generateCodeSnippets';
 import { dirname, normalize, relative } from '../../utils/path';
 import ChildScope from '../scopes/ChildScope';
 import { ObjectPathKey } from '../utils/PathTracker';
@@ -73,6 +74,7 @@ export default class MetaProperty extends NodeBase {
 		code: MagicString,
 		chunkId: string,
 		format: InternalModuleFormat,
+		snippets: GenerateCodeSnippets,
 		outputPluginDriver: PluginDriver
 	): void {
 		const parent = this.parent;
@@ -154,7 +156,7 @@ export default class MetaProperty extends NodeBase {
 					format,
 					moduleId: this.context.module.id
 				}
-			]) || importMetaMechanisms[format]?.(metaProperty, chunkId);
+			]) || importMetaMechanisms[format]?.(metaProperty, { chunkId, snippets });
 		if (typeof replacement === 'string') {
 			if (parent instanceof MemberExpression) {
 				code.overwrite(parent.start, parent.end, replacement, { contentOnly: true });
@@ -193,7 +195,8 @@ const getRelativeUrlFromDocument = (relativePath: string, umd = false) =>
 	);
 
 const getGenericImportMetaMechanism =
-	(getUrl: (chunkId: string) => string) => (prop: string | null, chunkId: string) => {
+	(getUrl: (chunkId: string) => string) =>
+	(prop: string | null, { chunkId }: { chunkId: string }) => {
 		const urlMechanism = getUrl(chunkId);
 		return prop === null
 			? `({ url: ${urlMechanism} })`
@@ -227,7 +230,10 @@ const relativeUrlMechanisms: Record<InternalModuleFormat, (relativePath: string)
 		)} : ${getRelativeUrlFromDocument(relativePath, true)})`
 };
 
-const importMetaMechanisms: Record<string, (prop: string | null, chunkId: string) => string> = {
+const importMetaMechanisms: Record<
+	string,
+	(prop: string | null, options: { chunkId: string; snippets: GenerateCodeSnippets }) => string
+> = {
 	amd: getGenericImportMetaMechanism(() => getResolveUrl(`module.uri, document.baseURI`)),
 	cjs: getGenericImportMetaMechanism(
 		chunkId =>
@@ -237,7 +243,8 @@ const importMetaMechanisms: Record<string, (prop: string | null, chunkId: string
 			)} : ${getUrlFromDocument(chunkId)})`
 	),
 	iife: getGenericImportMetaMechanism(chunkId => getUrlFromDocument(chunkId)),
-	system: prop => (prop === null ? `module.meta` : `module.meta.${prop}`),
+	system: (prop, { snippets: { getPropertyAccess } }) =>
+		prop === null ? `module.meta` : `module.meta${getPropertyAccess(prop)}`,
 	umd: getGenericImportMetaMechanism(
 		chunkId =>
 			`(typeof document === 'undefined' && typeof location === 'undefined' ? ${getResolveUrl(
diff --git a/src/ast/nodes/TemplateLiteral.ts b/src/ast/nodes/TemplateLiteral.ts
index f24ce4c07..2c4ade38d 100644
--- a/src/ast/nodes/TemplateLiteral.ts
+++ b/src/ast/nodes/TemplateLiteral.ts
@@ -19,10 +19,7 @@ export default class TemplateLiteral extends NodeBase {
 	}
 
 	render(code: MagicString, options: RenderOptions): void {
-		(code.indentExclusionRanges as [number, number][]).push([this.start, this.end] as [
-			number,
-			number
-		]);
+		(code.indentExclusionRanges as [number, number][]).push([this.start, this.end]);
 		super.render(code, options);
 	}
 }
diff --git a/src/ast/nodes/UpdateExpression.ts b/src/ast/nodes/UpdateExpression.ts
index 5db5259cc..1b623dc3a 100644
--- a/src/ast/nodes/UpdateExpression.ts
+++ b/src/ast/nodes/UpdateExpression.ts
@@ -31,12 +31,16 @@ export default class UpdateExpression extends NodeBase {
 	}
 
 	render(code: MagicString, options: RenderOptions): void {
+		const {
+			exportNamesByVariable,
+			format,
+			snippets: { _ }
+		} = options;
 		this.argument.render(code, options);
-		if (options.format === 'system') {
+		if (format === 'system') {
 			const variable = this.argument.variable!;
-			const exportNames = options.exportNamesByVariable.get(variable);
+			const exportNames = exportNamesByVariable.get(variable);
 			if (exportNames) {
-				const _ = options.compact ? '' : ' ';
 				if (this.prefix) {
 					if (exportNames.length === 1) {
 						renderSystemExportExpression(variable, this.start, this.end, code, options);
diff --git a/src/ast/nodes/VariableDeclarator.ts b/src/ast/nodes/VariableDeclarator.ts
index 53082ba43..b168938c7 100644
--- a/src/ast/nodes/VariableDeclarator.ts
+++ b/src/ast/nodes/VariableDeclarator.ts
@@ -45,6 +45,10 @@ export default class VariableDeclarator extends NodeBase {
 	}
 
 	render(code: MagicString, options: RenderOptions): void {
+		const {
+			exportNamesByVariable,
+			snippets: { _ }
+		} = options;
 		const renderId = this.id.included;
 		if (renderId) {
 			this.id.render(code, options);
@@ -60,9 +64,8 @@ export default class VariableDeclarator extends NodeBase {
 			);
 		} else if (
 			this.id instanceof Identifier &&
-			isReassignedExportsMember(this.id.variable!, options.exportNamesByVariable)
+			isReassignedExportsMember(this.id.variable!, exportNamesByVariable)
 		) {
-			const _ = options.compact ? '' : ' ';
 			code.appendLeft(this.end, `${_}=${_}void 0`);
 		}
 	}
diff --git a/src/ast/scopes/GlobalScope.ts b/src/ast/scopes/GlobalScope.ts
index c47d9026b..9be38ec1e 100644
--- a/src/ast/scopes/GlobalScope.ts
+++ b/src/ast/scopes/GlobalScope.ts
@@ -4,7 +4,7 @@ import Variable from '../variables/Variable';
 import Scope from './Scope';
 
 export default class GlobalScope extends Scope {
-	declare parent: null;
+	parent = null;
 
 	constructor() {
 		super();
diff --git a/src/ast/variables/ExportDefaultVariable.ts b/src/ast/variables/ExportDefaultVariable.ts
index 9561e20d0..461a69947 100644
--- a/src/ast/variables/ExportDefaultVariable.ts
+++ b/src/ast/variables/ExportDefaultVariable.ts
@@ -64,12 +64,12 @@ export default class ExportDefaultVariable extends LocalVariable {
 			: null;
 	}
 
-	getName(): string {
+	getName(getPropertyAccess: (name: string) => string): string {
 		const original = this.getOriginalVariable();
 		if (original === this) {
-			return super.getName();
+			return super.getName(getPropertyAccess);
 		} else {
-			return original.getName();
+			return original.getName(getPropertyAccess);
 		}
 	}
 
diff --git a/src/ast/variables/ExportShimVariable.ts b/src/ast/variables/ExportShimVariable.ts
index 664b1c0e4..65dafd0b3 100644
--- a/src/ast/variables/ExportShimVariable.ts
+++ b/src/ast/variables/ExportShimVariable.ts
@@ -9,4 +9,9 @@ export default class ExportShimVariable extends Variable {
 		super(MISSING_EXPORT_SHIM_VARIABLE);
 		this.module = module;
 	}
+
+	include(): void {
+		super.include();
+		this.module.needsExportShim = true;
+	}
 }
diff --git a/src/ast/variables/NamespaceVariable.ts b/src/ast/variables/NamespaceVariable.ts
index a2d4fd676..0533fd8f3 100644
--- a/src/ast/variables/NamespaceVariable.ts
+++ b/src/ast/variables/NamespaceVariable.ts
@@ -1,8 +1,9 @@
 import Module, { AstContext } from '../../Module';
+import { MERGE_NAMESPACES_VARIABLE } from '../../utils/interopHelpers';
 import { RenderOptions } from '../../utils/renderHelpers';
-import { RESERVED_NAMES } from '../../utils/reservedNames';
 import { getSystemExportStatement } from '../../utils/systemJsRendering';
 import Identifier from '../nodes/Identifier';
+import ChildScope from '../scopes/ChildScope';
 import Variable from './Variable';
 
 export default class NamespaceVariable extends Variable {
@@ -14,13 +15,11 @@ export default class NamespaceVariable extends Variable {
 	private mergedNamespaces: Variable[] = [];
 	private referencedEarly = false;
 	private references: Identifier[] = [];
-	private syntheticNamedExports: boolean | string;
 
-	constructor(context: AstContext, syntheticNamedExports: boolean | string) {
+	constructor(context: AstContext) {
 		super(context.getModuleName());
 		this.context = context;
 		this.module = context.module;
-		this.syntheticNamedExports = syntheticNamedExports;
 	}
 
 	addReference(identifier: Identifier): void {
@@ -49,64 +48,58 @@ export default class NamespaceVariable extends Variable {
 		this.context.includeAllExports();
 	}
 
-	prepareNamespace(mergedNamespaces: Variable[]): void {
-		this.mergedNamespaces = mergedNamespaces;
-		const moduleExecIndex = this.context.getModuleExecIndex();
-		for (const identifier of this.references) {
-			if (identifier.context.getModuleExecIndex() <= moduleExecIndex) {
-				this.referencedEarly = true;
-				break;
-			}
+	prepare(accessedGlobalsByScope: Map<ChildScope, Set<string>>): void {
+		if (this.mergedNamespaces.length > 0) {
+			this.module.scope.addAccessedGlobals([MERGE_NAMESPACES_VARIABLE], accessedGlobalsByScope);
 		}
 	}
 
 	renderBlock(options: RenderOptions): string {
-		const _ = options.compact ? '' : ' ';
-		const n = options.compact ? '' : '\n';
-		const t = options.indent;
-
+		const {
+			exportNamesByVariable,
+			format,
+			freeze,
+			indent: t,
+			namespaceToStringTag,
+			snippets: { _, cnst, getObject, getPropertyAccess, n, s }
+		} = options;
 		const memberVariables = this.getMemberVariables();
-		const members = Object.entries(memberVariables).map(([name, original]) => {
-			if (this.referencedEarly || original.isReassigned) {
-				return `${t}get ${name}${_}()${_}{${_}return ${original.getName()}${
-					options.compact ? '' : ';'
-				}${_}}`;
-			}
-
-			const safeName = RESERVED_NAMES[name] ? `'${name}'` : name;
+		const members: [key: string | null, value: string][] = Object.entries(memberVariables).map(
+			([name, original]) => {
+				if (this.referencedEarly || original.isReassigned) {
+					return [
+						null,
+						`get ${name}${_}()${_}{${_}return ${original.getName(getPropertyAccess)}${s}${_}}`
+					];
+				}
 
-			return `${t}${safeName}: ${original.getName()}`;
-		});
+				return [name, original.getName(getPropertyAccess)];
+			}
+		);
 
-		if (options.namespaceToStringTag) {
-			members.unshift(`${t}[Symbol.toStringTag]:${_}'Module'`);
+		if (namespaceToStringTag) {
+			members.unshift([null, `[Symbol.toStringTag]:${_}'Module'`]);
 		}
 
-		const needsObjectAssign = this.mergedNamespaces.length > 0 || this.syntheticNamedExports;
-		if (!needsObjectAssign) members.unshift(`${t}__proto__:${_}null`);
+		members.unshift([null, `__proto__:${_}null`]);
 
-		let output = `{${n}${members.join(`,${n}`)}${n}}`;
-		if (needsObjectAssign) {
-			const assignmentArgs: string[] = ['/*#__PURE__*/Object.create(null)'];
-			if (this.mergedNamespaces.length > 0) {
-				assignmentArgs.push(...this.mergedNamespaces.map(variable => variable.getName()));
-			}
-			if (this.syntheticNamedExports) {
-				assignmentArgs.push(this.module.getSyntheticNamespace().getName());
-			}
-			if (members.length > 0) {
-				assignmentArgs.push(output);
-			}
-			output = `/*#__PURE__*/Object.assign(${assignmentArgs.join(`,${_}`)})`;
+		let output = getObject(members, { lineBreakIndent: { base: '', t } });
+		if (this.mergedNamespaces.length > 0) {
+			const assignmentArgs = this.mergedNamespaces.map(variable =>
+				variable.getName(getPropertyAccess)
+			);
+			output = `/*#__PURE__*/${MERGE_NAMESPACES_VARIABLE}(${output}, [${assignmentArgs.join(
+				`,${_}`
+			)}])`;
 		}
-		if (options.freeze) {
+		if (freeze) {
 			output = `/*#__PURE__*/Object.freeze(${output})`;
 		}
 
-		const name = this.getName();
-		output = `${options.varOrConst} ${name}${_}=${_}${output};`;
+		const name = this.getName(getPropertyAccess);
+		output = `${cnst} ${name}${_}=${_}${output};`;
 
-		if (options.format === 'system' && options.exportNamesByVariable.has(this)) {
+		if (format === 'system' && exportNamesByVariable.has(this)) {
 			output += `${n}${getSystemExportStatement([this], options)};`;
 		}
 
@@ -116,6 +109,17 @@ export default class NamespaceVariable extends Variable {
 	renderFirst(): boolean {
 		return this.referencedEarly;
 	}
+
+	setMergedNamespaces(mergedNamespaces: Variable[]): void {
+		this.mergedNamespaces = mergedNamespaces;
+		const moduleExecIndex = this.context.getModuleExecIndex();
+		for (const identifier of this.references) {
+			if (identifier.context.getModuleExecIndex() <= moduleExecIndex) {
+				this.referencedEarly = true;
+				break;
+			}
+		}
+	}
 }
 
 NamespaceVariable.prototype.isNamespace = true;
diff --git a/src/ast/variables/SyntheticNamedExportVariable.ts b/src/ast/variables/SyntheticNamedExportVariable.ts
index 0fff8bc93..2320bf38d 100644
--- a/src/ast/variables/SyntheticNamedExportVariable.ts
+++ b/src/ast/variables/SyntheticNamedExportVariable.ts
@@ -1,5 +1,4 @@
 import Module, { AstContext } from '../../Module';
-import { RESERVED_NAMES } from '../../utils/reservedNames';
 import ExportDefaultVariable from './ExportDefaultVariable';
 import Variable from './Variable';
 
@@ -40,25 +39,16 @@ export default class SyntheticNamedExportVariable extends Variable {
 		return this.syntheticNamespace.getBaseVariableName();
 	}
 
-	getName(): string {
-		const name = this.name;
-		return `${this.syntheticNamespace.getName()}${getPropertyAccess(name)}`;
+	getName(getPropertyAccess: (name: string) => string): string {
+		return `${this.syntheticNamespace.getName(getPropertyAccess)}${getPropertyAccess(this.name)}`;
 	}
 
 	include(): void {
-		if (!this.included) {
-			this.included = true;
-			this.context.includeVariableInModule(this.syntheticNamespace);
-		}
+		this.included = true;
+		this.context.includeVariableInModule(this.syntheticNamespace);
 	}
 
 	setRenderNames(baseName: string | null, name: string | null): void {
 		super.setRenderNames(baseName, name);
 	}
 }
-
-const getPropertyAccess = (name: string) => {
-	return !RESERVED_NAMES[name] && /^(?!\d)[\w$]+$/.test(name)
-		? `.${name}`
-		: `[${JSON.stringify(name)}]`;
-};
diff --git a/src/ast/variables/Variable.ts b/src/ast/variables/Variable.ts
index 939282725..891e4ebe9 100644
--- a/src/ast/variables/Variable.ts
+++ b/src/ast/variables/Variable.ts
@@ -1,6 +1,5 @@
 import ExternalModule from '../../ExternalModule';
 import Module from '../../Module';
-import { RESERVED_NAMES } from '../../utils/reservedNames';
 import { HasEffectsContext } from '../ExecutionContext';
 import Identifier from '../nodes/Identifier';
 import { ExpressionEntity } from '../nodes/shared/Expression';
@@ -32,11 +31,9 @@ export default class Variable extends ExpressionEntity {
 		return this.renderBaseName || this.renderName || this.name;
 	}
 
-	getName(): string {
+	getName(getPropertyAccess: (name: string) => string): string {
 		const name = this.renderName || this.name;
-		return this.renderBaseName
-			? `${this.renderBaseName}${RESERVED_NAMES[name] ? `['${name}']` : `.${name}`}`
-			: name;
+		return this.renderBaseName ? `${this.renderBaseName}${getPropertyAccess(name)}` : name;
 	}
 
 	hasEffectsWhenAccessedAtPath(path: ObjectPath, _context: HasEffectsContext): boolean {
diff --git a/src/finalisers/amd.ts b/src/finalisers/amd.ts
index e2b6815f2..d1d838d7c 100644
--- a/src/finalisers/amd.ts
+++ b/src/finalisers/amd.ts
@@ -15,18 +15,17 @@ export default function amd(
 		exports,
 		hasExports,
 		id,
-		indentString: t,
+		indent: t,
 		intro,
 		isEntryFacade,
 		isModuleFacade,
 		namedExportsMode,
 		outro,
-		varOrConst,
+		snippets,
 		warn
 	}: FinaliserOptions,
 	{
 		amd,
-		compact,
 		esModule,
 		externalLiveBindings,
 		freeze,
@@ -38,9 +37,7 @@ export default function amd(
 	warnOnBuiltins(warn, dependencies);
 	const deps = dependencies.map(m => `'${removeExtensionFromRelativeAmdId(m.id)}'`);
 	const args = dependencies.map(m => m.name);
-	const n = compact ? '' : '\n';
-	const s = compact ? '' : ';';
-	const _ = compact ? '' : ' ';
+	const { n, getNonArrowFunctionIntro, _ } = snippets;
 
 	if (namedExportsMode && hasExports) {
 		args.unshift(`exports`);
@@ -66,16 +63,13 @@ export default function amd(
 	magicString.prepend(
 		`${intro}${getInteropBlock(
 			dependencies,
-			varOrConst,
 			interop,
 			externalLiveBindings,
 			freeze,
 			namespaceToStringTag,
 			accessedGlobals,
-			_,
-			n,
-			s,
-			t
+			t,
+			snippets
 		)}`
 	);
 
@@ -84,7 +78,7 @@ export default function amd(
 		dependencies,
 		namedExportsMode,
 		interop,
-		compact,
+		snippets,
 		t,
 		externalLiveBindings
 	);
@@ -99,8 +93,17 @@ export default function amd(
 		namespaceMarkers = n + n + namespaceMarkers;
 	}
 	magicString.append(`${exportBlock}${namespaceMarkers}${outro}`);
-	return magicString
-		.indent(t)
-		.prepend(`${amd.define}(${params}function${_}(${args.join(`,${_}`)})${_}{${useStrict}${n}${n}`)
-		.append(`${n}${n}});`);
+	return (
+		magicString
+			.indent(t)
+			// factory function should be wrapped by parentheses to avoid lazy parsing,
+			// cf. https://v8.dev/blog/preparser#pife
+			.prepend(
+				`${amd.define}(${params}(${getNonArrowFunctionIntro(args, {
+					isAsync: false,
+					name: null
+				})}{${useStrict}${n}${n}`
+			)
+			.append(`${n}${n}}));`)
+	);
 }
diff --git a/src/finalisers/cjs.ts b/src/finalisers/cjs.ts
index 87b52eafa..c5a199385 100644
--- a/src/finalisers/cjs.ts
+++ b/src/finalisers/cjs.ts
@@ -1,6 +1,7 @@
 import { Bundle, Bundle as MagicStringBundle } from 'magic-string';
 import { ChunkDependencies } from '../Chunk';
 import { NormalizedOutputOptions } from '../rollup/types';
+import { GenerateCodeSnippets } from '../utils/generateCodeSnippets';
 import { getExportBlock, getNamespaceMarkers } from './shared/getExportBlock';
 import getInteropBlock from './shared/getInteropBlock';
 import { FinaliserOptions } from './index';
@@ -12,13 +13,13 @@ export default function cjs(
 		dependencies,
 		exports,
 		hasExports,
-		indentString: t,
+		indent: t,
 		intro,
 		isEntryFacade,
 		isModuleFacade,
 		namedExportsMode,
 		outro,
-		varOrConst
+		snippets
 	}: FinaliserOptions,
 	{
 		compact,
@@ -30,9 +31,7 @@ export default function cjs(
 		strict
 	}: NormalizedOutputOptions
 ): Bundle {
-	const n = compact ? '' : '\n';
-	const s = compact ? '' : ';';
-	const _ = compact ? '' : ' ';
+	const { _, n } = snippets;
 
 	const useStrict = strict ? `'use strict';${n}${n}` : '';
 	let namespaceMarkers = getNamespaceMarkers(
@@ -45,19 +44,16 @@ export default function cjs(
 	if (namespaceMarkers) {
 		namespaceMarkers += n + n;
 	}
-	const importBlock = getImportBlock(dependencies, compact, varOrConst, n, _);
+	const importBlock = getImportBlock(dependencies, snippets, compact);
 	const interopBlock = getInteropBlock(
 		dependencies,
-		varOrConst,
 		interop,
 		externalLiveBindings,
 		freeze,
 		namespaceToStringTag,
 		accessedGlobals,
-		_,
-		n,
-		s,
-		t
+		t,
+		snippets
 	);
 
 	magicString.prepend(`${useStrict}${intro}${namespaceMarkers}${importBlock}${interopBlock}`);
@@ -67,7 +63,7 @@ export default function cjs(
 		dependencies,
 		namedExportsMode,
 		interop,
-		compact,
+		snippets,
 		t,
 		externalLiveBindings,
 		`module.exports${_}=${_}`
@@ -78,23 +74,20 @@ export default function cjs(
 
 function getImportBlock(
 	dependencies: ChunkDependencies,
-	compact: boolean,
-	varOrConst: string,
-	n: string,
-	_: string
+	{ _, cnst, n }: GenerateCodeSnippets,
+	compact: boolean
 ): string {
 	let importBlock = '';
 	let definingVariable = false;
 	for (const { id, name, reexports, imports } of dependencies) {
 		if (!reexports && !imports) {
 			if (importBlock) {
-				importBlock += !compact || definingVariable ? `;${n}` : ',';
+				importBlock += compact && !definingVariable ? ',' : `;${n}`;
 			}
 			definingVariable = false;
 			importBlock += `require('${id}')`;
 		} else {
-			importBlock +=
-				compact && definingVariable ? ',' : `${importBlock ? `;${n}` : ''}${varOrConst} `;
+			importBlock += compact && definingVariable ? ',' : `${importBlock ? `;${n}` : ''}${cnst} `;
 			definingVariable = true;
 			importBlock += `${name}${_}=${_}require('${id}')`;
 		}
diff --git a/src/finalisers/es.ts b/src/finalisers/es.ts
index ca3be08ab..08baa9726 100644
--- a/src/finalisers/es.ts
+++ b/src/finalisers/es.ts
@@ -1,21 +1,31 @@
 import { Bundle, Bundle as MagicStringBundle } from 'magic-string';
 import { ChunkDependencies, ChunkExports, ImportSpecifier, ReexportSpecifier } from '../Chunk';
 import { NormalizedOutputOptions } from '../rollup/types';
+import { GenerateCodeSnippets } from '../utils/generateCodeSnippets';
+import { getHelpersBlock } from '../utils/interopHelpers';
 import { FinaliserOptions } from './index';
 
 export default function es(
 	magicString: MagicStringBundle,
-	{ intro, outro, dependencies, exports, varOrConst }: FinaliserOptions,
-	{ compact }: NormalizedOutputOptions
+	{ accessedGlobals, indent: t, intro, outro, dependencies, exports, snippets }: FinaliserOptions,
+	{ externalLiveBindings, freeze, namespaceToStringTag }: NormalizedOutputOptions
 ): Bundle {
-	const _ = compact ? '' : ' ';
-	const n = compact ? '' : '\n';
+	const { _, n } = snippets;
 
 	const importBlock = getImportBlock(dependencies, _);
 	if (importBlock.length > 0) intro += importBlock.join(n) + n + n;
+	intro += getHelpersBlock(
+		null,
+		accessedGlobals,
+		t,
+		snippets,
+		externalLiveBindings,
+		freeze,
+		namespaceToStringTag
+	);
 	if (intro) magicString.prepend(intro);
 
-	const exportBlock = getExportBlock(exports, _, varOrConst);
+	const exportBlock = getExportBlock(exports, snippets);
 	if (exportBlock.length) magicString.append(n + n + exportBlock.join(n).trim());
 	if (outro) magicString.append(outro);
 
@@ -110,12 +120,12 @@ function getImportBlock(dependencies: ChunkDependencies, _: string): string[] {
 	return importBlock;
 }
 
-function getExportBlock(exports: ChunkExports, _: string, varOrConst: string): string[] {
+function getExportBlock(exports: ChunkExports, { _, cnst }: GenerateCodeSnippets): string[] {
 	const exportBlock: string[] = [];
 	const exportDeclaration: string[] = [];
 	for (const specifier of exports) {
 		if (specifier.expression) {
-			exportBlock.push(`${varOrConst} ${specifier.local}${_}=${_}${specifier.expression};`);
+			exportBlock.push(`${cnst} ${specifier.local}${_}=${_}${specifier.expression};`);
 		}
 		exportDeclaration.push(
 			specifier.exported === specifier.local
diff --git a/src/finalisers/iife.ts b/src/finalisers/iife.ts
index 83c169551..e051e7ce2 100644
--- a/src/finalisers/iife.ts
+++ b/src/finalisers/iife.ts
@@ -10,8 +10,6 @@ import trimEmptyImports from './shared/trimEmptyImports';
 import warnOnBuiltins from './shared/warnOnBuiltins';
 import { FinaliserOptions } from './index';
 
-const thisProp = (name: string) => `this${keypath(name)}`;
-
 export default function iife(
 	magicString: MagicStringBundle,
 	{
@@ -19,11 +17,11 @@ export default function iife(
 		dependencies,
 		exports,
 		hasExports,
-		indentString: t,
+		indent: t,
 		intro,
 		namedExportsMode,
 		outro,
-		varOrConst,
+		snippets,
 		warn
 	}: FinaliserOptions,
 	{
@@ -39,10 +37,7 @@ export default function iife(
 		strict
 	}: NormalizedOutputOptions
 ): Bundle {
-	const _ = compact ? '' : ' ';
-	const s = compact ? '' : ';';
-	const n = compact ? '' : '\n';
-
+	const { _, cnst, getNonArrowFunctionIntro, getPropertyAccess, n } = snippets;
 	const isNamespaced = name && name.indexOf('.') !== -1;
 	const useVariableAssignment = !extend && !isNamespaced;
 
@@ -68,7 +63,12 @@ export default function iife(
 
 	if (namedExportsMode && hasExports) {
 		if (extend) {
-			deps.unshift(`${thisProp(name!)}${_}=${_}${thisProp(name!)}${_}||${_}{}`);
+			deps.unshift(
+				`this${keypath(name!, getPropertyAccess)}${_}=${_}this${keypath(
+					name!,
+					getPropertyAccess
+				)}${_}||${_}{}`
+			);
 			args.unshift('exports');
 		} else {
 			deps.unshift('{}');
@@ -79,32 +79,32 @@ export default function iife(
 	const useStrict = strict ? `${t}'use strict';${n}` : '';
 	const interopBlock = getInteropBlock(
 		dependencies,
-		varOrConst,
 		interop,
 		externalLiveBindings,
 		freeze,
 		namespaceToStringTag,
 		accessedGlobals,
-		_,
-		n,
-		s,
-		t
+		t,
+		snippets
 	);
 	magicString.prepend(`${intro}${interopBlock}`);
 
-	let wrapperIntro = `(function${_}(${args.join(`,${_}`)})${_}{${n}${useStrict}${n}`;
+	let wrapperIntro = `(${getNonArrowFunctionIntro(args, {
+		isAsync: false,
+		name: null
+	})}{${n}${useStrict}${n}`;
 	if (hasExports) {
 		if (name && !(extend && namedExportsMode)) {
 			wrapperIntro =
-				(useVariableAssignment ? `${varOrConst} ${name}` : thisProp(name)) +
+				(useVariableAssignment ? `${cnst} ${name}` : `this${keypath(name, getPropertyAccess)}`) +
 				`${_}=${_}${wrapperIntro}`;
 		}
 		if (isNamespaced) {
-			wrapperIntro = setupNamespace(name!, 'this', globals, compact) + wrapperIntro;
+			wrapperIntro = setupNamespace(name!, 'this', globals, snippets, compact) + wrapperIntro;
 		}
 	}
 
-	let wrapperOutro = `${n}${n}}(${deps.join(`,${_}`)}));`;
+	let wrapperOutro = `${n}${n}})(${deps.join(`,${_}`)});`;
 	if (hasExports && !extend && namedExportsMode) {
 		wrapperOutro = `${n}${n}${t}return exports;${wrapperOutro}`;
 	}
@@ -114,7 +114,7 @@ export default function iife(
 		dependencies,
 		namedExportsMode,
 		interop,
-		compact,
+		snippets,
 		t,
 		externalLiveBindings
 	);
diff --git a/src/finalisers/index.ts b/src/finalisers/index.ts
index 1fe961af4..3b0e89f86 100644
--- a/src/finalisers/index.ts
+++ b/src/finalisers/index.ts
@@ -1,6 +1,7 @@
 import { Bundle as MagicStringBundle } from 'magic-string';
 import { ChunkDependencies, ChunkExports } from '../Chunk';
 import { NormalizedOutputOptions, RollupWarning } from '../rollup/types';
+import { GenerateCodeSnippets } from '../utils/generateCodeSnippets';
 import amd from './amd';
 import cjs from './cjs';
 import es from './es';
@@ -14,14 +15,14 @@ export interface FinaliserOptions {
 	exports: ChunkExports;
 	hasExports: boolean;
 	id: string;
-	indentString: string;
+	indent: string;
 	intro: string;
 	isEntryFacade: boolean;
 	isModuleFacade: boolean;
 	namedExportsMode: boolean;
 	outro: string;
+	snippets: GenerateCodeSnippets;
 	usesTopLevelAwait: boolean;
-	varOrConst: 'var' | 'const';
 	warn(warning: RollupWarning): void;
 }
 
diff --git a/src/finalisers/shared/getExportBlock.ts b/src/finalisers/shared/getExportBlock.ts
index 73018c58a..a7b7b5243 100644
--- a/src/finalisers/shared/getExportBlock.ts
+++ b/src/finalisers/shared/getExportBlock.ts
@@ -1,30 +1,30 @@
 import { ChunkDependencies, ChunkExports } from '../../Chunk';
 import { GetInterop } from '../../rollup/types';
+import { GenerateCodeSnippets } from '../../utils/generateCodeSnippets';
 import {
 	defaultInteropHelpersByInteropType,
 	isDefaultAProperty,
 	namespaceInteropHelpersByInteropType
 } from '../../utils/interopHelpers';
-import { RESERVED_NAMES } from '../../utils/reservedNames';
 
 export function getExportBlock(
 	exports: ChunkExports,
 	dependencies: ChunkDependencies,
 	namedExportsMode: boolean,
 	interop: GetInterop,
-	compact: boolean | undefined,
+	snippets: GenerateCodeSnippets,
 	t: string,
 	externalLiveBindings: boolean,
 	mechanism = 'return '
 ): string {
-	const _ = compact ? '' : ' ';
-	const n = compact ? '' : '\n';
+	const { _, cnst, getDirectReturnFunction, getFunctionIntro, getPropertyAccess, n, s } = snippets;
 	if (!namedExportsMode) {
 		return `${n}${n}${mechanism}${getSingleDefaultExport(
 			exports,
 			dependencies,
 			interop,
-			externalLiveBindings
+			externalLiveBindings,
+			getPropertyAccess
 		)};`;
 	}
 
@@ -51,23 +51,32 @@ export function getExportBlock(
 						namespaceVariableName!,
 						interop,
 						id,
-						externalLiveBindings
+						externalLiveBindings,
+						getPropertyAccess
 					);
 					if (exportBlock) exportBlock += n;
-					exportBlock +=
-						specifier.imported !== '*' && specifier.needsLiveBinding
-							? `Object.defineProperty(exports,${_}'${specifier.reexported}',${_}{${n}` +
-							  `${t}enumerable:${_}true,${n}` +
-							  `${t}get:${_}function${_}()${_}{${n}` +
-							  `${t}${t}return ${importName};${n}${t}}${n}});`
-							: `exports.${specifier.reexported}${_}=${_}${importName};`;
+					if (specifier.imported !== '*' && specifier.needsLiveBinding) {
+						const [left, right] = getDirectReturnFunction([], {
+							functionReturn: true,
+							lineBreakIndent: null,
+							name: null
+						});
+						exportBlock +=
+							`Object.defineProperty(exports,${_}'${specifier.reexported}',${_}{${n}` +
+							`${t}enumerable:${_}true,${n}` +
+							`${t}get:${_}${left}${importName}${right}${n}});`;
+					} else {
+						exportBlock += `exports${getPropertyAccess(
+							specifier.reexported
+						)}${_}=${_}${importName};`;
+					}
 				}
 			}
 		}
 	}
 
 	for (const { exported, local } of exports) {
-		const lhs = `exports${RESERVED_NAMES[exported] ? `['${exported}']` : `.${exported}`}`;
+		const lhs = `exports${getPropertyAccess(exported)}`;
 		const rhs = local;
 		if (lhs !== rhs) {
 			if (exportBlock) exportBlock += n;
@@ -80,19 +89,19 @@ export function getExportBlock(
 			for (const specifier of reexports) {
 				if (specifier.reexported === '*') {
 					if (exportBlock) exportBlock += n;
-					if (specifier.needsLiveBinding) {
-						exportBlock +=
-							`Object.keys(${name}).forEach(function${_}(k)${_}{${n}` +
-							`${t}if${_}(k${_}!==${_}'default'${_}&&${_}!exports.hasOwnProperty(k))${_}Object.defineProperty(exports,${_}k,${_}{${n}` +
-							`${t}${t}enumerable:${_}true,${n}` +
-							`${t}${t}get:${_}function${_}()${_}{${n}` +
-							`${t}${t}${t}return ${name}[k];${n}` +
-							`${t}${t}}${n}${t}});${n}});`;
-					} else {
-						exportBlock +=
-							`Object.keys(${name}).forEach(function${_}(k)${_}{${n}` +
-							`${t}if${_}(k${_}!==${_}'default'${_}&&${_}!exports.hasOwnProperty(k))${_}exports[k]${_}=${_}${name}[k];${n}});`;
-					}
+					const copyPropertyIfNecessary = `{${n}${t}if${_}(k${_}!==${_}'default'${_}&&${_}!exports.hasOwnProperty(k))${_}${getDefineProperty(
+						name,
+						specifier.needsLiveBinding,
+						t,
+						snippets
+					)}${s}${n}}`;
+					exportBlock +=
+						cnst === 'var' && specifier.needsLiveBinding
+							? `Object.keys(${name}).forEach(${getFunctionIntro(['k'], {
+									isAsync: false,
+									name: null
+							  })}${copyPropertyIfNecessary});`
+							: `for${_}(${cnst} k in ${name})${_}${copyPropertyIfNecessary}`;
 				}
 			}
 		}
@@ -109,7 +118,8 @@ function getSingleDefaultExport(
 	exports: ChunkExports,
 	dependencies: ChunkDependencies,
 	interop: GetInterop,
-	externalLiveBindings: boolean
+	externalLiveBindings: boolean,
+	getPropertyAccess: (name: string) => string
 ) {
 	if (exports.length > 0) {
 		return exports[0].local;
@@ -133,7 +143,8 @@ function getSingleDefaultExport(
 					namespaceVariableName!,
 					interop,
 					id,
-					externalLiveBindings
+					externalLiveBindings,
+					getPropertyAccess
 				);
 			}
 		}
@@ -149,7 +160,8 @@ function getReexportedImportName(
 	namespaceVariableName: string,
 	interop: GetInterop,
 	moduleId: string,
-	externalLiveBindings: boolean
+	externalLiveBindings: boolean,
+	getPropertyAccess: (name: string) => string
 ) {
 	if (imported === 'default') {
 		if (!isChunk) {
@@ -158,10 +170,12 @@ function getReexportedImportName(
 				? defaultVariableName
 				: moduleVariableName;
 			return isDefaultAProperty(moduleInterop, externalLiveBindings)
-				? `${variableName}['default']`
+				? `${variableName}${getPropertyAccess('default')}`
 				: variableName;
 		}
-		return depNamedExportsMode ? `${moduleVariableName}['default']` : moduleVariableName;
+		return depNamedExportsMode
+			? `${moduleVariableName}${getPropertyAccess('default')}`
+			: moduleVariableName;
 	}
 	if (imported === '*') {
 		return (
@@ -172,7 +186,7 @@ function getReexportedImportName(
 			? namespaceVariableName
 			: moduleVariableName;
 	}
-	return `${moduleVariableName}.${imported}`;
+	return `${moduleVariableName}${getPropertyAccess(imported)}`;
 }
 
 function getEsModuleExport(_: string): string {
@@ -204,3 +218,24 @@ export function getNamespaceMarkers(
 	}
 	return namespaceMarkers;
 }
+
+const getDefineProperty = (
+	name: string,
+	needsLiveBinding: boolean,
+	t: string,
+	{ _, getDirectReturnFunction, n }: GenerateCodeSnippets
+) => {
+	if (needsLiveBinding) {
+		const [left, right] = getDirectReturnFunction([], {
+			functionReturn: true,
+			lineBreakIndent: null,
+			name: null
+		});
+		return (
+			`Object.defineProperty(exports,${_}k,${_}{${n}` +
+			`${t}${t}enumerable:${_}true,${n}` +
+			`${t}${t}get:${_}${left}${name}[k]${right}${n}${t}})`
+		);
+	}
+	return `exports[k]${_}=${_}${name}[k]`;
+};
diff --git a/src/finalisers/shared/getInteropBlock.ts b/src/finalisers/shared/getInteropBlock.ts
index 0231eb1c6..910fa5836 100644
--- a/src/finalisers/shared/getInteropBlock.ts
+++ b/src/finalisers/shared/getInteropBlock.ts
@@ -1,25 +1,24 @@
 import { ModuleDeclarationDependency, ReexportSpecifier } from '../../Chunk';
 import { GetInterop } from '../../rollup/types';
+import { GenerateCodeSnippets } from '../../utils/generateCodeSnippets';
 import {
 	defaultInteropHelpersByInteropType,
-	getDefaultOnlyHelper,
 	getHelpersBlock,
+	INTEROP_NAMESPACE_DEFAULT_ONLY_VARIABLE,
 	namespaceInteropHelpersByInteropType
 } from '../../utils/interopHelpers';
 
 export default function getInteropBlock(
 	dependencies: ModuleDeclarationDependency[],
-	varOrConst: string,
 	interop: GetInterop,
 	externalLiveBindings: boolean,
 	freeze: boolean,
 	namespaceToStringTag: boolean,
 	accessedGlobals: Set<string>,
-	_: string,
-	n: string,
-	s: string,
-	t: string
+	indent: string,
+	snippets: GenerateCodeSnippets
 ): string {
+	const { _, cnst, n } = snippets;
 	const neededInteropHelpers = new Set<string>();
 	const interopStatements: string[] = [];
 	const addInteropStatement = (
@@ -29,7 +28,7 @@ export default function getInteropBlock(
 	): void => {
 		neededInteropHelpers.add(helper);
 		interopStatements.push(
-			`${varOrConst} ${helperVariableName}${_}=${_}/*#__PURE__*/${helper}(${dependencyVariableName});`
+			`${cnst} ${helperVariableName}${_}=${_}/*#__PURE__*/${helper}(${dependencyVariableName});`
 		);
 	};
 	for (const {
@@ -49,7 +48,11 @@ export default function getInteropBlock(
 			] as ReexportSpecifier[]) {
 				if (imported === '*' && reexported !== '*') {
 					if (!namedExportsMode) {
-						addInteropStatement(namespaceVariableName!, getDefaultOnlyHelper(), name);
+						addInteropStatement(
+							namespaceVariableName!,
+							INTEROP_NAMESPACE_DEFAULT_ONLY_VARIABLE,
+							name
+						);
 					}
 					break;
 				}
@@ -88,10 +91,8 @@ export default function getInteropBlock(
 	return `${getHelpersBlock(
 		neededInteropHelpers,
 		accessedGlobals,
-		_,
-		n,
-		s,
-		t,
+		indent,
+		snippets,
 		externalLiveBindings,
 		freeze,
 		namespaceToStringTag
diff --git a/src/finalisers/shared/sanitize.ts b/src/finalisers/shared/sanitize.ts
index 355ebe8cb..ca3614870 100644
--- a/src/finalisers/shared/sanitize.ts
+++ b/src/finalisers/shared/sanitize.ts
@@ -1,11 +1,2 @@
-// Generate strings which dereference dotted properties, but use array notation `['prop-deref']`
-// if the property name isn't trivial
-const shouldUseDot = /^[a-zA-Z$_][a-zA-Z0-9$_]*$/;
-
-export function property(prop: string): string {
-	return shouldUseDot.test(prop) ? `.${prop}` : `['${prop}']`;
-}
-
-export function keypath(keypath: string): string {
-	return keypath.split('.').map(property).join('');
-}
+export const keypath = (keypath: string, getPropertyAccess: (name: string) => string): string =>
+	keypath.split('.').map(getPropertyAccess).join('');
diff --git a/src/finalisers/shared/setupNamespace.ts b/src/finalisers/shared/setupNamespace.ts
index 6c3f368af..3f23dbdb7 100644
--- a/src/finalisers/shared/setupNamespace.ts
+++ b/src/finalisers/shared/setupNamespace.ts
@@ -1,23 +1,24 @@
 import { GlobalsOption } from '../../rollup/types';
-import { property } from './sanitize';
+import { GenerateCodeSnippets } from '../../utils/generateCodeSnippets';
 
 export default function setupNamespace(
 	name: string,
 	root: string,
 	globals: GlobalsOption,
+	{ _, getPropertyAccess, s }: GenerateCodeSnippets,
 	compact: boolean | undefined
 ): string {
-	const _ = compact ? '' : ' ';
 	const parts = name.split('.');
 	parts[0] = (typeof globals === 'function' ? globals(parts[0]) : globals[parts[0]]) || parts[0];
 	parts.pop();
 
-	let acc = root;
+	let propertyPath = root;
 	return (
 		parts
-			.map(
-				part => ((acc += property(part)), `${acc}${_}=${_}${acc}${_}||${_}{}${compact ? '' : ';'}`)
-			)
+			.map(part => {
+				propertyPath += getPropertyAccess(part);
+				return `${propertyPath}${_}=${_}${propertyPath}${_}||${_}{}${s}`;
+			})
 			.join(compact ? ',' : '\n') + (compact && parts.length ? ';' : '\n')
 	);
 }
@@ -26,20 +27,22 @@ export function assignToDeepVariable(
 	deepName: string,
 	root: string,
 	globals: GlobalsOption,
-	compact: boolean | undefined,
-	assignment: string
+	assignment: string,
+	{ _, getPropertyAccess }: GenerateCodeSnippets
 ): string {
-	const _ = compact ? '' : ' ';
 	const parts = deepName.split('.');
 	parts[0] = (typeof globals === 'function' ? globals(parts[0]) : globals[parts[0]]) || parts[0];
-	const last = parts.pop();
+	const last = parts.pop()!;
 
-	let acc = root;
-	let deepAssignment = parts
-		.map(part => ((acc += property(part)), `${acc}${_}=${_}${acc}${_}||${_}{}`))
-		.concat(`${acc}${property(last!)}`)
-		.join(`,${_}`)
-		.concat(`${_}=${_}${assignment}`);
+	let propertyPath = root;
+	let deepAssignment =
+		parts
+			.map(part => {
+				propertyPath += getPropertyAccess(part);
+				return `${propertyPath}${_}=${_}${propertyPath}${_}||${_}{}`;
+			})
+			.concat(`${propertyPath}${getPropertyAccess(last)}`)
+			.join(`,${_}`) + `${_}=${_}${assignment}`;
 	if (parts.length > 0) {
 		deepAssignment = `(${deepAssignment})`;
 	}
diff --git a/src/finalisers/system.ts b/src/finalisers/system.ts
index c30bbcfb8..e4e104d0d 100644
--- a/src/finalisers/system.ts
+++ b/src/finalisers/system.ts
@@ -1,210 +1,244 @@
 import { Bundle, Bundle as MagicStringBundle } from 'magic-string';
-import { ChunkExports, ModuleDeclarations } from '../Chunk';
+import { ChunkDependencies, ChunkExports, ModuleDeclarations } from '../Chunk';
 import { NormalizedOutputOptions } from '../rollup/types';
+import { GenerateCodeSnippets } from '../utils/generateCodeSnippets';
+import { getHelpersBlock } from '../utils/interopHelpers';
 import { MISSING_EXPORT_SHIM_VARIABLE } from '../utils/variableNames';
 import { FinaliserOptions } from './index';
 
-function getStarExcludes({ dependencies, exports }: ModuleDeclarations): Set<string> {
+export default function system(
+	magicString: MagicStringBundle,
+	{
+		accessedGlobals,
+		dependencies,
+		exports,
+		hasExports,
+		indent: t,
+		intro,
+		snippets,
+		outro,
+		usesTopLevelAwait
+	}: FinaliserOptions,
+	{
+		externalLiveBindings,
+		freeze,
+		name,
+		namespaceToStringTag,
+		strict,
+		systemNullSetters
+	}: NormalizedOutputOptions
+): Bundle {
+	const { _, getFunctionIntro, getNonArrowFunctionIntro, n, s } = snippets;
+	const { importBindings, setters, starExcludes } = analyzeDependencies(
+		dependencies,
+		exports,
+		t,
+		snippets
+	);
+	const registeredName = name ? `'${name}',${_}` : '';
+	const wrapperParams = accessedGlobals.has('module')
+		? ['exports', 'module']
+		: hasExports
+		? ['exports']
+		: [];
+
+	// factory function should be wrapped by parentheses to avoid lazy parsing,
+	// cf. https://v8.dev/blog/preparser#pife
+	let wrapperStart =
+		`System.register(${registeredName}[` +
+		dependencies.map(({ id }) => `'${id}'`).join(`,${_}`) +
+		`],${_}(${getNonArrowFunctionIntro(wrapperParams, { isAsync: false, name: null })}{${n}${t}${
+			strict ? "'use strict';" : ''
+		}` +
+		getStarExcludesBlock(starExcludes, t, snippets) +
+		getImportBindingsBlock(importBindings, t, snippets) +
+		`${n}${t}return${_}{${
+			setters.length
+				? `${n}${t}${t}setters:${_}[${setters
+						.map(setter =>
+							setter
+								? `${getFunctionIntro(['module'], {
+										isAsync: false,
+										name: null
+								  })}{${n}${t}${t}${t}${setter}${n}${t}${t}}`
+								: systemNullSetters
+								? `null`
+								: `${getFunctionIntro([], { isAsync: false, name: null })}{}`
+						)
+						.join(`,${_}`)}],`
+				: ''
+		}${n}`;
+	wrapperStart += `${t}${t}execute:${_}(${getNonArrowFunctionIntro([], {
+		isAsync: usesTopLevelAwait,
+		name: null
+	})}{${n}${n}`;
+
+	const wrapperEnd = `${t}${t}})${n}${t}}${s}${n}}));`;
+
+	magicString.prepend(
+		intro +
+			getHelpersBlock(
+				null,
+				accessedGlobals,
+				t,
+				snippets,
+				externalLiveBindings,
+				freeze,
+				namespaceToStringTag
+			) +
+			getHoistedExportsBlock(exports, t, snippets)
+	);
+	magicString.append(
+		`${outro}${n}${n}` +
+			getSyntheticExportsBlock(exports, t, snippets) +
+			getMissingExportsBlock(exports, t, snippets)
+	);
+	return magicString.indent(`${t}${t}${t}`).append(wrapperEnd).prepend(wrapperStart);
+}
+
+function analyzeDependencies(
+	dependencies: ChunkDependencies,
+	exports: ChunkExports,
+	t: string,
+	{ _, cnst, getObject, getPropertyAccess, n }: GenerateCodeSnippets
+): { importBindings: string[]; setters: string[]; starExcludes: Set<string> | null } {
+	const importBindings: string[] = [];
+	const setters: string[] = [];
+	let starExcludes: Set<string> | null = null;
+
+	for (const { imports, reexports } of dependencies) {
+		const setter: string[] = [];
+		if (imports) {
+			for (const specifier of imports) {
+				importBindings.push(specifier.local);
+				if (specifier.imported === '*') {
+					setter.push(`${specifier.local}${_}=${_}module;`);
+				} else {
+					setter.push(`${specifier.local}${_}=${_}module${getPropertyAccess(specifier.imported)};`);
+				}
+			}
+		}
+		if (reexports) {
+			const reexportedNames: [key: string | null, value: string][] = [];
+			let hasStarReexport = false;
+			for (const { imported, reexported } of reexports) {
+				if (reexported === '*') {
+					hasStarReexport = true;
+				} else {
+					reexportedNames.push([
+						reexported,
+						imported === '*' ? 'module' : `module${getPropertyAccess(imported)}`
+					]);
+				}
+			}
+			if (reexportedNames.length > 1 || hasStarReexport) {
+				const exportMapping = getObject(reexportedNames, { lineBreakIndent: null });
+				if (hasStarReexport) {
+					if (!starExcludes) {
+						starExcludes = getStarExcludes({ dependencies, exports });
+					}
+					setter.push(
+						`${cnst} setter${_}=${_}${exportMapping};`,
+						`for${_}(${cnst} name in module)${_}{`,
+						`${t}if${_}(!_starExcludes[name])${_}setter[name]${_}=${_}module[name];`,
+						'}',
+						'exports(setter);'
+					);
+				} else {
+					setter.push(`exports(${exportMapping});`);
+				}
+			} else {
+				const [key, value] = reexportedNames[0];
+				setter.push(`exports('${key}',${_}${value});`);
+			}
+		}
+		setters.push(setter.join(`${n}${t}${t}${t}`));
+	}
+	return { importBindings, setters, starExcludes };
+}
+
+const getStarExcludes = ({ dependencies, exports }: ModuleDeclarations): Set<string> => {
 	const starExcludes = new Set(exports.map(expt => expt.exported));
 	starExcludes.add('default');
 	for (const { reexports } of dependencies) {
 		if (reexports) {
 			for (const reexport of reexports) {
-				if (reexport.imported !== '*') starExcludes.add(reexport.reexported);
+				if (reexport.reexported !== '*') starExcludes.add(reexport.reexported);
 			}
 		}
 	}
 	return starExcludes;
-}
+};
 
 const getStarExcludesBlock = (
-	starExcludes: Set<string> | undefined,
-	varOrConst: string,
-	_: string,
+	starExcludes: Set<string> | null,
 	t: string,
-	n: string
+	{ _, cnst, getObject, n }: GenerateCodeSnippets
 ): string =>
 	starExcludes
-		? `${n}${t}${varOrConst} _starExcludes${_}=${_}{${_}${[...starExcludes]
-				.map(prop => `${prop}:${_}1`)
-				.join(`,${_}`)}${_}};`
+		? `${n}${t}${cnst} _starExcludes${_}=${_}${getObject(
+				[...starExcludes].map(prop => [prop, '1']),
+				{ lineBreakIndent: { base: t, t } }
+		  )};`
 		: '';
 
 const getImportBindingsBlock = (
 	importBindings: string[],
-	_: string,
 	t: string,
-	n: string
+	{ _, n }: GenerateCodeSnippets
 ): string => (importBindings.length ? `${n}${t}var ${importBindings.join(`,${_}`)};` : '');
 
+const getHoistedExportsBlock = (
+	exports: ChunkExports,
+	t: string,
+	snippets: GenerateCodeSnippets
+): string =>
+	getExportsBlock(
+		exports.filter(expt => expt.hoisted).map(expt => ({ name: expt.exported, value: expt.local })),
+		t,
+		snippets
+	);
+
 function getExportsBlock(
 	exports: { name: string; value: string }[],
-	_: string,
 	t: string,
-	n: string
+	{ _, n }: GenerateCodeSnippets
 ): string {
 	if (exports.length === 0) {
 		return '';
 	}
 	if (exports.length === 1) {
-		return `${t}${t}${t}exports('${exports[0].name}',${_}${exports[0].value});${n}${n}`;
+		return `exports('${exports[0].name}',${_}${exports[0].value});${n}${n}`;
 	}
 	return (
-		`${t}${t}${t}exports({${n}` +
-		exports.map(({ name, value }) => `${t}${t}${t}${t}${name}:${_}${value}`).join(`,${n}`) +
-		`${n}${t}${t}${t}});${n}${n}`
+		`exports({${n}` +
+		exports.map(({ name, value }) => `${t}${name}:${_}${value}`).join(`,${n}`) +
+		`${n}});${n}${n}`
 	);
 }
 
-const getHoistedExportsBlock = (exports: ChunkExports, _: string, t: string, n: string): string =>
+const getSyntheticExportsBlock = (
+	exports: ChunkExports,
+	t: string,
+	snippets: GenerateCodeSnippets
+): string =>
 	getExportsBlock(
-		exports.filter(expt => expt.hoisted).map(expt => ({ name: expt.exported, value: expt.local })),
-		_,
+		exports
+			.filter(expt => expt.expression)
+			.map(expt => ({ name: expt.exported, value: expt.local })),
 		t,
-		n
+		snippets
 	);
 
-const getMissingExportsBlock = (exports: ChunkExports, _: string, t: string, n: string): string =>
+const getMissingExportsBlock = (
+	exports: ChunkExports,
+	t: string,
+	snippets: GenerateCodeSnippets
+): string =>
 	getExportsBlock(
 		exports
 			.filter(expt => expt.local === MISSING_EXPORT_SHIM_VARIABLE)
 			.map(expt => ({ name: expt.exported, value: MISSING_EXPORT_SHIM_VARIABLE })),
-		_,
 		t,
-		n
+		snippets
 	);
-
-const getSyntheticExportsBlock = (exports: ChunkExports, _: string, t: string, n: string): string =>
-	getExportsBlock(
-		exports
-			.filter(expt => expt.expression)
-			.map(expt => ({ name: expt.exported, value: expt.local })),
-		_,
-		t,
-		n
-	);
-
-export default function system(
-	magicString: MagicStringBundle,
-	{
-		accessedGlobals,
-		dependencies,
-		exports,
-		hasExports,
-		indentString: t,
-		intro,
-		outro,
-		usesTopLevelAwait,
-		varOrConst
-	}: FinaliserOptions,
-	options: NormalizedOutputOptions
-): Bundle {
-	const n = options.compact ? '' : '\n';
-	const _ = options.compact ? '' : ' ';
-
-	const dependencyIds = dependencies.map(m => `'${m.id}'`);
-
-	const importBindings: string[] = [];
-	let starExcludes: Set<string> | undefined;
-	const setters: string[] = [];
-
-	for (const { imports, reexports } of dependencies) {
-		const setter: string[] = [];
-		if (imports) {
-			for (const specifier of imports) {
-				importBindings.push(specifier.local);
-				if (specifier.imported === '*') {
-					setter.push(`${specifier.local}${_}=${_}module;`);
-				} else {
-					setter.push(`${specifier.local}${_}=${_}module.${specifier.imported};`);
-				}
-			}
-		}
-		if (reexports) {
-			let createdSetter = false;
-			// bulk-reexport form
-			if (
-				reexports.length > 1 ||
-				(reexports.length === 1 &&
-					(reexports[0].reexported === '*' || reexports[0].imported === '*'))
-			) {
-				// star reexports
-				for (const specifier of reexports) {
-					if (specifier.reexported !== '*') continue;
-					// need own exports list for deduping in star export case
-					if (!starExcludes) {
-						starExcludes = getStarExcludes({ dependencies, exports });
-					}
-					createdSetter = true;
-					setter.push(`${varOrConst} _setter${_}=${_}{};`);
-					setter.push(`for${_}(var _$p${_}in${_}module)${_}{`);
-					setter.push(`${t}if${_}(!_starExcludes[_$p])${_}_setter[_$p]${_}=${_}module[_$p];`);
-					setter.push('}');
-				}
-				// star import reexport
-				for (const specifier of reexports) {
-					if (specifier.imported !== '*' || specifier.reexported === '*') continue;
-					setter.push(`exports('${specifier.reexported}',${_}module);`);
-				}
-				// reexports
-				for (const specifier of reexports) {
-					if (specifier.reexported === '*' || specifier.imported === '*') continue;
-					if (!createdSetter) {
-						setter.push(`${varOrConst} _setter${_}=${_}{};`);
-						createdSetter = true;
-					}
-					setter.push(`_setter.${specifier.reexported}${_}=${_}module.${specifier.imported};`);
-				}
-				if (createdSetter) {
-					setter.push('exports(_setter);');
-				}
-			} else {
-				// single reexport
-				for (const specifier of reexports) {
-					setter.push(`exports('${specifier.reexported}',${_}module.${specifier.imported});`);
-				}
-			}
-		}
-		setters.push(setter.join(`${n}${t}${t}${t}`));
-	}
-
-	const registeredName = options.name ? `'${options.name}',${_}` : '';
-	const wrapperParams = accessedGlobals.has('module')
-		? `exports,${_}module`
-		: hasExports
-		? 'exports'
-		: '';
-
-	let wrapperStart =
-		`System.register(${registeredName}[` +
-		dependencyIds.join(`,${_}`) +
-		`],${_}function${_}(${wrapperParams})${_}{${n}${t}${options.strict ? "'use strict';" : ''}` +
-		getStarExcludesBlock(starExcludes, varOrConst, _, t, n) +
-		getImportBindingsBlock(importBindings, _, t, n) +
-		`${n}${t}return${_}{${
-			setters.length
-				? `${n}${t}${t}setters:${_}[${setters
-						.map(s =>
-							s
-								? `function${_}(module)${_}{${n}${t}${t}${t}${s}${n}${t}${t}}`
-								: options.systemNullSetters
-								? `null`
-								: `function${_}()${_}{}`
-						)
-						.join(`,${_}`)}],`
-				: ''
-		}${n}`;
-	wrapperStart +=
-		`${t}${t}execute:${_}${usesTopLevelAwait ? `async${_}` : ''}function${_}()${_}{${n}${n}` +
-		getHoistedExportsBlock(exports, _, t, n);
-
-	const wrapperEnd =
-		`${n}${n}` +
-		getSyntheticExportsBlock(exports, _, t, n) +
-		getMissingExportsBlock(exports, _, t, n) +
-		`${t}${t}}${n}${t}}${options.compact ? '' : ';'}${n}});`;
-
-	if (intro) magicString.prepend(intro);
-	if (outro) magicString.append(outro);
-	return magicString.indent(`${t}${t}${t}`).append(wrapperEnd).prepend(wrapperStart);
-}
diff --git a/src/finalisers/umd.ts b/src/finalisers/umd.ts
index 0be416c53..3725f92dc 100644
--- a/src/finalisers/umd.ts
+++ b/src/finalisers/umd.ts
@@ -1,26 +1,32 @@
 import { Bundle, Bundle as MagicStringBundle } from 'magic-string';
 import { NormalizedOutputOptions } from '../rollup/types';
 import { error } from '../utils/error';
+import { GenerateCodeSnippets } from '../utils/generateCodeSnippets';
 import getCompleteAmdId from './shared/getCompleteAmdId';
 import { getExportBlock, getNamespaceMarkers } from './shared/getExportBlock';
 import getInteropBlock from './shared/getInteropBlock';
 import removeExtensionFromRelativeAmdId from './shared/removeExtensionFromRelativeAmdId';
-import { keypath, property } from './shared/sanitize';
+import { keypath } from './shared/sanitize';
 import { assignToDeepVariable } from './shared/setupNamespace';
 import trimEmptyImports from './shared/trimEmptyImports';
 import warnOnBuiltins from './shared/warnOnBuiltins';
 import { FinaliserOptions } from './index';
 
-function globalProp(name: string, globalVar: string) {
+function globalProp(name: string, globalVar: string, getPropertyAccess: (name: string) => string) {
 	if (!name) return 'null';
-	return `${globalVar}${keypath(name)}`;
+	return `${globalVar}${keypath(name, getPropertyAccess)}`;
 }
 
-function safeAccess(name: string, globalVar: string, _: string) {
-	const parts = name.split('.');
-
-	let acc = globalVar;
-	return parts.map(part => (acc += property(part))).join(`${_}&&${_}`);
+function safeAccess(
+	name: string,
+	globalVar: string,
+	{ _, getPropertyAccess }: GenerateCodeSnippets
+) {
+	let propertyPath = globalVar;
+	return name
+		.split('.')
+		.map(part => (propertyPath += getPropertyAccess(part)))
+		.join(`${_}&&${_}`);
 }
 
 export default function umd(
@@ -31,11 +37,11 @@ export default function umd(
 		exports,
 		hasExports,
 		id,
-		indentString: t,
+		indent: t,
 		intro,
 		namedExportsMode,
 		outro,
-		varOrConst,
+		snippets,
 		warn
 	}: FinaliserOptions,
 	{
@@ -53,9 +59,7 @@ export default function umd(
 		strict
 	}: NormalizedOutputOptions
 ): Bundle {
-	const _ = compact ? '' : ' ';
-	const n = compact ? '' : '\n';
-	const s = compact ? '' : ';';
+	const { _, cnst, getFunctionIntro, getNonArrowFunctionIntro, getPropertyAccess, n, s } = snippets;
 	const factoryVar = compact ? 'f' : 'factory';
 	const globalVar = compact ? 'g' : 'global';
 
@@ -73,8 +77,10 @@ export default function umd(
 	const cjsDeps = dependencies.map(m => `require('${m.id}')`);
 
 	const trimmedImports = trimEmptyImports(dependencies);
-	const globalDeps = trimmedImports.map(module => globalProp(module.globalName, globalVar));
-	const factoryArgs = trimmedImports.map(m => m.name);
+	const globalDeps = trimmedImports.map(module =>
+		globalProp(module.globalName, globalVar, getPropertyAccess)
+	);
+	const factoryParams = trimmedImports.map(m => m.name);
 
 	if (namedExportsMode && (hasExports || noConflict)) {
 		amdDeps.unshift(`'exports'`);
@@ -84,12 +90,12 @@ export default function umd(
 				name!,
 				globalVar,
 				globals,
-				compact,
-				`${extend ? `${globalProp(name!, globalVar)}${_}||${_}` : ''}{}`
+				`${extend ? `${globalProp(name!, globalVar, getPropertyAccess)}${_}||${_}` : ''}{}`,
+				snippets
 			)
 		);
 
-		factoryArgs.unshift('exports');
+		factoryParams.unshift('exports');
 	}
 
 	const completeAmdId = getCompleteAmdId(amd, id);
@@ -108,37 +114,45 @@ export default function umd(
 		let factory;
 
 		if (!namedExportsMode && hasExports) {
-			factory = `var ${noConflictExportsVar}${_}=${_}${assignToDeepVariable(
+			factory = `${cnst} ${noConflictExportsVar}${_}=${_}${assignToDeepVariable(
 				name!,
 				globalVar,
 				globals,
-				compact,
-				`${factoryVar}(${globalDeps.join(`,${_}`)})`
+				`${factoryVar}(${globalDeps.join(`,${_}`)})`,
+				snippets
 			)};`;
 		} else {
 			const module = globalDeps.shift();
 			factory =
-				`var ${noConflictExportsVar}${_}=${_}${module};${n}` +
+				`${cnst} ${noConflictExportsVar}${_}=${_}${module};${n}` +
 				`${t}${t}${factoryVar}(${[noConflictExportsVar].concat(globalDeps).join(`,${_}`)});`;
 		}
 		iifeExport =
-			`(function${_}()${_}{${n}` +
-			`${t}${t}var current${_}=${_}${safeAccess(name!, globalVar, _)};${n}` +
+			`(${getFunctionIntro([], { isAsync: false, name: null })}{${n}` +
+			`${t}${t}${cnst} current${_}=${_}${safeAccess(name!, globalVar, snippets)};${n}` +
 			`${t}${t}${factory}${n}` +
-			`${t}${t}${noConflictExportsVar}.noConflict${_}=${_}function${_}()${_}{${_}` +
-			`${globalProp(name!, globalVar)}${_}=${_}current;${_}return ${noConflictExportsVar}${
-				compact ? '' : '; '
-			}};${n}` +
-			`${t}}())`;
+			`${t}${t}${noConflictExportsVar}.noConflict${_}=${_}${getFunctionIntro([], {
+				isAsync: false,
+				name: null
+			})}{${_}` +
+			`${globalProp(
+				name!,
+				globalVar,
+				getPropertyAccess
+			)}${_}=${_}current;${_}return ${noConflictExportsVar}${s}${_}};${n}` +
+			`${t}})()`;
 	} else {
 		iifeExport = `${factoryVar}(${globalDeps.join(`,${_}`)})`;
 		if (!namedExportsMode && hasExports) {
-			iifeExport = assignToDeepVariable(name!, globalVar, globals, compact, iifeExport);
+			iifeExport = assignToDeepVariable(name!, globalVar, globals, iifeExport, snippets);
 		}
 	}
 
 	const iifeNeedsGlobal = hasExports || (noConflict && namedExportsMode) || globalDeps.length > 0;
-	const globalParam = iifeNeedsGlobal ? `${globalVar},${_}` : '';
+	const wrapperParams: string[] = [factoryVar];
+	if (iifeNeedsGlobal) {
+		wrapperParams.unshift(globalVar);
+	}
 	const globalArg = iifeNeedsGlobal ? `this,${_}` : '';
 	const iifeStart = iifeNeedsGlobal
 		? `(${globalVar}${_}=${_}typeof globalThis${_}!==${_}'undefined'${_}?${_}globalThis${_}:${_}${globalVar}${_}||${_}self,${_}`
@@ -149,29 +163,30 @@ export default function umd(
 		  `${_}${cjsExport}${factoryVar}(${cjsDeps.join(`,${_}`)})${_}:${n}`
 		: '';
 
-	// factory function should be wrapped by parentheses to avoid lazy parsing
 	const wrapperIntro =
-		`(function${_}(${globalParam}${factoryVar})${_}{${n}` +
+		`(${getNonArrowFunctionIntro(wrapperParams, { isAsync: false, name: null })}{${n}` +
 		cjsIntro +
 		`${t}typeof ${define}${_}===${_}'function'${_}&&${_}${define}.amd${_}?${_}${define}(${amdParams}${factoryVar})${_}:${n}` +
 		`${t}${iifeStart}${iifeExport}${iifeEnd};${n}` +
-		`}(${globalArg}(function${_}(${factoryArgs.join(', ')})${_}{${useStrict}${n}`;
+		// factory function should be wrapped by parentheses to avoid lazy parsing,
+		// cf. https://v8.dev/blog/preparser#pife
+		`})(${globalArg}(${getNonArrowFunctionIntro(factoryParams, {
+			isAsync: false,
+			name: null
+		})}{${useStrict}${n}`;
 
-	const wrapperOutro = n + n + '})));';
+	const wrapperOutro = n + n + '}));';
 
 	magicString.prepend(
 		`${intro}${getInteropBlock(
 			dependencies,
-			varOrConst,
 			interop,
 			externalLiveBindings,
 			freeze,
 			namespaceToStringTag,
 			accessedGlobals,
-			_,
-			n,
-			s,
-			t
+			t,
+			snippets
 		)}`
 	);
 
@@ -180,7 +195,7 @@ export default function umd(
 		dependencies,
 		namedExportsMode,
 		interop,
-		compact,
+		snippets,
 		t,
 		externalLiveBindings
 	);
diff --git a/src/rollup/rollup.ts b/src/rollup/rollup.ts
index fd8241fb8..f1b19802c 100644
--- a/src/rollup/rollup.ts
+++ b/src/rollup/rollup.ts
@@ -51,7 +51,7 @@ export async function rollupInternal(
 	try {
 		await graph.pluginDriver.hookParallel('buildStart', [inputOptions]);
 		await graph.build();
-	} catch (err) {
+	} catch (err: any) {
 		const watchFiles = Object.keys(graph.watchFiles);
 		if (watchFiles.length > 0) {
 			err.watchFiles = watchFiles;
diff --git a/src/rollup/types.d.ts b/src/rollup/types.d.ts
index 107d9c75e..1c0d877ec 100644
--- a/src/rollup/types.d.ts
+++ b/src/rollup/types.d.ts
@@ -477,18 +477,6 @@ export interface OutputPlugin extends Partial<OutputPluginHooks>, Partial<Output
 
 type TreeshakingPreset = 'smallest' | 'safest' | 'recommended';
 
-export interface TreeshakingOptions {
-	annotations?: boolean;
-	correctVarValueBeforeDeclaration?: boolean;
-	moduleSideEffects?: ModuleSideEffectsOption;
-	preset?: TreeshakingPreset;
-	propertyReadSideEffects?: boolean | 'always';
-	/** @deprecated Use `moduleSideEffects` instead */
-	pureExternalModules?: PureModulesOption;
-	tryCatchDeoptimization?: boolean;
-	unknownGlobalSideEffects?: boolean;
-}
-
 export interface NormalizedTreeshakingOptions {
 	annotations: boolean;
 	correctVarValueBeforeDeclaration: boolean;
@@ -498,6 +486,14 @@ export interface NormalizedTreeshakingOptions {
 	unknownGlobalSideEffects: boolean;
 }
 
+export interface TreeshakingOptions
+	extends Partial<Omit<NormalizedTreeshakingOptions, 'moduleSideEffects'>> {
+	moduleSideEffects?: ModuleSideEffectsOption;
+	preset?: TreeshakingPreset;
+	/** @deprecated Use `moduleSideEffects` instead */
+	pureExternalModules?: PureModulesOption;
+}
+
 interface GetManualChunkApi {
 	getModuleIds: () => IterableIterator<string>;
 	getModuleInfo: GetModuleInfo;
@@ -583,6 +579,19 @@ export type InternalModuleFormat = 'amd' | 'cjs' | 'es' | 'iife' | 'system' | 'u
 
 export type ModuleFormat = InternalModuleFormat | 'commonjs' | 'esm' | 'module' | 'systemjs';
 
+type GeneratedCodePreset = 'es5' | 'es2015';
+
+interface NormalizedGeneratedCodeOptions {
+	arrowFunctions: boolean;
+	constBindings: boolean;
+	objectShorthand: boolean;
+	reservedNamesAsProps: boolean;
+}
+
+interface GeneratedCodeOptions extends Partial<NormalizedGeneratedCodeOptions> {
+	preset?: GeneratedCodePreset;
+}
+
 export type OptionsPaths = Record<string, string> | ((id: string) => string);
 
 export type InteropType = boolean | 'auto' | 'esModule' | 'default' | 'defaultOnly';
@@ -640,6 +649,7 @@ export interface OutputOptions {
 	footer?: string | (() => string | Promise<string>);
 	format?: ModuleFormat;
 	freeze?: boolean;
+	generatedCode?: GeneratedCodePreset | GeneratedCodeOptions;
 	globals?: GlobalsOption;
 	hoistTransitiveImports?: boolean;
 	indent?: string | boolean;
@@ -654,6 +664,7 @@ export interface OutputOptions {
 	outro?: string | (() => string | Promise<string>);
 	paths?: OptionsPaths;
 	plugins?: (OutputPlugin | null | false | undefined)[];
+	/** @deprecated Use the "generatedCode.constBindings" instead. */
 	preferConst?: boolean;
 	preserveModules?: boolean;
 	preserveModulesRoot?: string;
@@ -685,6 +696,7 @@ export interface NormalizedOutputOptions {
 	footer: () => string | Promise<string>;
 	format: InternalModuleFormat;
 	freeze: boolean;
+	generatedCode: NormalizedGeneratedCodeOptions;
 	globals: GlobalsOption;
 	hoistTransitiveImports: boolean;
 	indent: true | string;
@@ -699,6 +711,7 @@ export interface NormalizedOutputOptions {
 	outro: () => string | Promise<string>;
 	paths: OptionsPaths;
 	plugins: OutputPlugin[];
+	/** @deprecated Use the "renderDynamicImport" plugin hook instead. */
 	preferConst: boolean;
 	preserveModules: boolean;
 	preserveModulesRoot: string | undefined;
diff --git a/src/utils/PluginDriver.ts b/src/utils/PluginDriver.ts
index d47364e71..0035a4094 100644
--- a/src/utils/PluginDriver.ts
+++ b/src/utils/PluginDriver.ts
@@ -355,7 +355,7 @@ export class PluginDriver {
 			}
 			// eslint-disable-next-line @typescript-eslint/ban-types
 			return (hook as Function).apply(context, args);
-		} catch (err) {
+		} catch (err: any) {
 			return throwPluginError(err, plugin.name, { hook: hookName });
 		}
 	}
diff --git a/src/utils/addons.ts b/src/utils/addons.ts
index d91a8a2ae..87621e620 100644
--- a/src/utils/addons.ts
+++ b/src/utils/addons.ts
@@ -29,7 +29,7 @@ export async function createAddons(
 		if (footer.length) footer = '\n' + footer;
 
 		return { banner, footer, intro, outro };
-	} catch (err) {
+	} catch (err: any) {
 		return error({
 			code: 'ADDON_ERROR',
 			message: `Could not retrieve ${err.hook}. Check configuration of plugin ${err.plugin}.
diff --git a/src/utils/error.ts b/src/utils/error.ts
index d62c6d437..3cf7aa0e8 100644
--- a/src/utils/error.ts
+++ b/src/utils/error.ts
@@ -240,10 +240,18 @@ export function errInternalIdCannotBeExternal(source: string, importer: string):
 	};
 }
 
-export function errInvalidOption(option: string, explanation: string): RollupLogProps {
+export function errInvalidOption(
+	option: string,
+	urlHash: string,
+	explanation: string,
+	value?: string | boolean | null
+): RollupLogProps {
 	return {
 		code: Errors.INVALID_OPTION,
-		message: `Invalid value for option "${option}" - ${explanation}.`
+		message: `Invalid value ${
+			value !== undefined ? `${JSON.stringify(value)} ` : ''
+		}for option "${option}" - ${explanation}.`,
+		url: `https://rollupjs.org/guide/en/#${urlHash}`
 	};
 }
 
diff --git a/src/utils/fs.ts b/src/utils/fs.ts
index 85c867702..01990bd88 100644
--- a/src/utils/fs.ts
+++ b/src/utils/fs.ts
@@ -12,13 +12,13 @@ function mkdirpath(path: string) {
 	const dir = dirname(path);
 	try {
 		fs.readdirSync(dir);
-	} catch (err) {
+	} catch {
 		mkdirpath(dir);
 		try {
 			fs.mkdirSync(dir);
-		} catch (err2) {
-			if (err2.code !== 'EEXIST') {
-				throw err2;
+		} catch (err: any) {
+			if (err.code !== 'EEXIST') {
+				throw err;
 			}
 		}
 	}
diff --git a/src/utils/generateCodeSnippets.ts b/src/utils/generateCodeSnippets.ts
new file mode 100644
index 000000000..d6142c8e0
--- /dev/null
+++ b/src/utils/generateCodeSnippets.ts
@@ -0,0 +1,129 @@
+import { NormalizedOutputOptions } from '../rollup/types';
+import { RESERVED_NAMES } from './reservedNames';
+
+export interface GenerateCodeSnippets {
+	_: string;
+	cnst: string;
+	n: string;
+	s: string;
+	getDirectReturnFunction(
+		params: string[],
+		options: {
+			functionReturn: boolean;
+			lineBreakIndent: { base: string; t: string } | null;
+			name: string | null;
+		}
+	): [left: string, right: string];
+	getDirectReturnIifeLeft(
+		params: string[],
+		returned: string,
+		options: {
+			needsArrowReturnParens: boolean | undefined;
+			needsWrappedFunction: boolean | undefined;
+		}
+	): string;
+	getFunctionIntro(params: string[], options: { isAsync: boolean; name: string | null }): string;
+	getNonArrowFunctionIntro(
+		params: string[],
+		options: { isAsync: boolean; name: string | null }
+	): string;
+	getObject(
+		fields: [key: string | null, value: string][],
+		options: { lineBreakIndent: { base: string; t: string } | null }
+	): string;
+	getPropertyAccess(name: string): string;
+}
+
+export function getGenerateCodeSnippets({
+	compact,
+	generatedCode: { arrowFunctions, constBindings, objectShorthand, reservedNamesAsProps }
+}: NormalizedOutputOptions): GenerateCodeSnippets {
+	const { _, n, s } = compact ? { _: '', n: '', s: '' } : { _: ' ', n: '\n', s: ';' };
+	const cnst = constBindings ? 'const' : 'var';
+	const getNonArrowFunctionIntro: GenerateCodeSnippets['getNonArrowFunctionIntro'] = (
+		params,
+		{ isAsync, name }
+	) =>
+		`${isAsync ? `async ` : ''}function${name ? ` ${name}` : ''}${_}(${params.join(`,${_}`)})${_}`;
+
+	const getFunctionIntro: GenerateCodeSnippets['getFunctionIntro'] = arrowFunctions
+		? (params, { isAsync, name }) => {
+				const singleParam = params.length === 1;
+				const asyncString = isAsync ? `async${singleParam ? ' ' : _}` : '';
+				return `${name ? `${cnst} ${name}${_}=${_}` : ''}${asyncString}${
+					singleParam ? params[0] : `(${params.join(`,${_}`)})`
+				}${_}=>${_}`;
+		  }
+		: getNonArrowFunctionIntro;
+
+	const getDirectReturnFunction: GenerateCodeSnippets['getDirectReturnFunction'] = (
+		params,
+		{ functionReturn, lineBreakIndent, name }
+	) => [
+		`${getFunctionIntro(params, {
+			isAsync: false,
+			name
+		})}${
+			arrowFunctions
+				? lineBreakIndent
+					? `${n}${lineBreakIndent.base}${lineBreakIndent.t}`
+					: ''
+				: `{${lineBreakIndent ? `${n}${lineBreakIndent.base}${lineBreakIndent.t}` : _}${
+						functionReturn ? 'return ' : ''
+				  }`
+		}`,
+		arrowFunctions
+			? `${name ? ';' : ''}${lineBreakIndent ? `${n}${lineBreakIndent.base}` : ''}`
+			: `${s}${lineBreakIndent ? `${n}${lineBreakIndent.base}` : _}}`
+	];
+
+	const isValidPropName = reservedNamesAsProps
+		? (name: string): boolean => validPropName.test(name)
+		: (name: string): boolean => !RESERVED_NAMES[name] && validPropName.test(name);
+
+	return {
+		_,
+		cnst,
+		getDirectReturnFunction,
+		getDirectReturnIifeLeft: (
+			params,
+			returned,
+			{ needsArrowReturnParens, needsWrappedFunction }
+		) => {
+			const [left, right] = getDirectReturnFunction(params, {
+				functionReturn: true,
+				lineBreakIndent: null,
+				name: null
+			});
+			return `${wrapIfNeeded(
+				`${left}${wrapIfNeeded(returned, arrowFunctions && needsArrowReturnParens)}${right}`,
+				arrowFunctions || needsWrappedFunction
+			)}(`;
+		},
+		getFunctionIntro,
+		getNonArrowFunctionIntro,
+		getObject(fields, { lineBreakIndent }) {
+			const prefix = lineBreakIndent ? `${n}${lineBreakIndent.base}${lineBreakIndent.t}` : _;
+			return `{${fields
+				.map(([key, value]) => {
+					if (key === null) return `${prefix}${value}`;
+					const needsQuotes = !isValidPropName(key);
+					return key === value && objectShorthand && !needsQuotes
+						? prefix + key
+						: `${prefix}${needsQuotes ? `'${key}'` : key}:${_}${value}`;
+				})
+				.join(`,`)}${
+				fields.length === 0 ? '' : lineBreakIndent ? `${n}${lineBreakIndent.base}` : _
+			}}`;
+		},
+		getPropertyAccess: (name: string): string =>
+			isValidPropName(name) ? `.${name}` : `[${JSON.stringify(name)}]`,
+		n,
+		s
+	};
+}
+
+const wrapIfNeeded = (code: string, needsParens: boolean | undefined): string =>
+	needsParens ? `(${code})` : code;
+
+const validPropName = /^(?!\d)[\w$]+$/;
diff --git a/src/utils/getExportMode.ts b/src/utils/getExportMode.ts
index c14ea2bee..f5f3a0609 100644
--- a/src/utils/getExportMode.ts
+++ b/src/utils/getExportMode.ts
@@ -33,7 +33,7 @@ export default function getExportMode(
 			}
 			exportMode = 'default';
 		} else {
-			if (format !== 'es' && exportKeys.indexOf('default') !== -1) {
+			if (format !== 'es' && format !== 'system' && exportKeys.indexOf('default') !== -1) {
 				warn(errMixedExport(facadeModuleId, name));
 			}
 			exportMode = 'named';
diff --git a/src/utils/getIndentString.ts b/src/utils/getIndentString.ts
index 186308402..183d708c0 100644
--- a/src/utils/getIndentString.ts
+++ b/src/utils/getIndentString.ts
@@ -31,9 +31,8 @@ export default function getIndentString(
 	options: { indent: true | string }
 ): string {
 	if (options.indent !== true) return options.indent;
-
-	for (let i = 0; i < modules.length; i++) {
-		const indent = guessIndentString(modules[i].originalCode);
+	for (const module of modules) {
+		const indent = guessIndentString(module.originalCode);
 		if (indent !== null) return indent;
 	}
 
diff --git a/src/utils/interopHelpers.ts b/src/utils/interopHelpers.ts
index 238d918af..9840f707f 100644
--- a/src/utils/interopHelpers.ts
+++ b/src/utils/interopHelpers.ts
@@ -1,8 +1,11 @@
+import { GenerateCodeSnippets } from './generateCodeSnippets';
+
 const INTEROP_DEFAULT_VARIABLE = '_interopDefault';
 const INTEROP_DEFAULT_LEGACY_VARIABLE = '_interopDefaultLegacy';
 const INTEROP_NAMESPACE_VARIABLE = '_interopNamespace';
 const INTEROP_NAMESPACE_DEFAULT_VARIABLE = '_interopNamespaceDefault';
-const INTEROP_NAMESPACE_DEFAULT_ONLY_VARIABLE = '_interopNamespaceDefaultOnly';
+export const INTEROP_NAMESPACE_DEFAULT_ONLY_VARIABLE = '_interopNamespaceDefaultOnly';
+export const MERGE_NAMESPACES_VARIABLE = '_mergeNamespaces';
 
 export const defaultInteropHelpersByInteropType: { [interopType: string]: string | null } = {
 	auto: INTEROP_DEFAULT_VARIABLE,
@@ -13,12 +16,9 @@ export const defaultInteropHelpersByInteropType: { [interopType: string]: string
 	true: INTEROP_DEFAULT_LEGACY_VARIABLE
 };
 
-export function isDefaultAProperty(interopType: string, externalLiveBindings: boolean): boolean {
-	return (
-		interopType === 'esModule' ||
-		(externalLiveBindings && (interopType === 'auto' || interopType === 'true'))
-	);
-}
+export const isDefaultAProperty = (interopType: string, externalLiveBindings: boolean): boolean =>
+	interopType === 'esModule' ||
+	(externalLiveBindings && (interopType === 'auto' || interopType === 'true'));
 
 export const namespaceInteropHelpersByInteropType: { [interopType: string]: string | null } = {
 	auto: INTEROP_NAMESPACE_VARIABLE,
@@ -29,38 +29,33 @@ export const namespaceInteropHelpersByInteropType: { [interopType: string]: stri
 	true: INTEROP_NAMESPACE_VARIABLE
 };
 
-export function canDefaultBeTakenFromNamespace(
+export const canDefaultBeTakenFromNamespace = (
 	interopType: string,
 	externalLiveBindings: boolean
-): boolean {
-	return (
-		isDefaultAProperty(interopType, externalLiveBindings) &&
-		defaultInteropHelpersByInteropType[interopType] === INTEROP_DEFAULT_VARIABLE
-	);
-}
-
-export function getDefaultOnlyHelper(): string {
-	return INTEROP_NAMESPACE_DEFAULT_ONLY_VARIABLE;
-}
+): boolean =>
+	isDefaultAProperty(interopType, externalLiveBindings) &&
+	defaultInteropHelpersByInteropType[interopType] === INTEROP_DEFAULT_VARIABLE;
 
-export function getHelpersBlock(
-	usedHelpers: Set<string>,
+export const getHelpersBlock = (
+	additionalHelpers: Set<string> | null,
 	accessedGlobals: Set<string>,
-	_: string,
-	n: string,
-	s: string,
-	t: string,
+	indent: string,
+	snippets: GenerateCodeSnippets,
 	liveBindings: boolean,
 	freeze: boolean,
 	namespaceToStringTag: boolean
-): string {
+): string => {
+	const usedHelpers = new Set(additionalHelpers);
+	for (const variable of HELPER_NAMES) {
+		if (accessedGlobals.has(variable)) {
+			usedHelpers.add(variable);
+		}
+	}
 	return HELPER_NAMES.map(variable =>
-		usedHelpers.has(variable) || accessedGlobals.has(variable)
+		usedHelpers.has(variable)
 			? HELPER_GENERATORS[variable](
-					_,
-					n,
-					s,
-					t,
+					indent,
+					snippets,
 					liveBindings,
 					freeze,
 					namespaceToStringTag,
@@ -68,120 +63,240 @@ export function getHelpersBlock(
 			  )
 			: ''
 	).join('');
-}
+};
 
 const HELPER_GENERATORS: {
 	[variable: string]: (
-		_: string,
-		n: string,
-		s: string,
-		t: string,
+		indent: string,
+		snippets: GenerateCodeSnippets,
 		liveBindings: boolean,
 		freeze: boolean,
 		namespaceToStringTag: boolean,
 		usedHelpers: Set<string>
 	) => string;
 } = {
-	[INTEROP_DEFAULT_LEGACY_VARIABLE]: (_, n, s, _t, liveBindings) =>
-		`function ${INTEROP_DEFAULT_LEGACY_VARIABLE}${_}(e)${_}{${_}return ` +
-		`e${_}&&${_}typeof e${_}===${_}'object'${_}&&${_}'default'${_}in e${_}?${_}` +
-		`${liveBindings ? getDefaultLiveBinding(_) : getDefaultStatic(_)}${s}${_}}${n}${n}`,
-	[INTEROP_DEFAULT_VARIABLE]: (_, n, s, _t, liveBindings) =>
-		`function ${INTEROP_DEFAULT_VARIABLE}${_}(e)${_}{${_}return ` +
-		`e${_}&&${_}e.__esModule${_}?${_}` +
-		`${liveBindings ? getDefaultLiveBinding(_) : getDefaultStatic(_)}${s}${_}}${n}${n}`,
-	[INTEROP_NAMESPACE_DEFAULT_ONLY_VARIABLE]: (
-		_: string,
-		n: string,
-		_s: string,
-		t: string,
+	[INTEROP_DEFAULT_LEGACY_VARIABLE](_t, snippets, liveBindings) {
+		const { _, getDirectReturnFunction, n } = snippets;
+		const [left, right] = getDirectReturnFunction(['e'], {
+			functionReturn: true,
+			lineBreakIndent: null,
+			name: INTEROP_DEFAULT_LEGACY_VARIABLE
+		});
+		return (
+			`${left}e${_}&&${_}typeof e${_}===${_}'object'${_}&&${_}'default'${_}in e${_}?${_}` +
+			`${
+				liveBindings ? getDefaultLiveBinding(snippets) : getDefaultStatic(snippets)
+			}${right}${n}${n}`
+		);
+	},
+	[INTEROP_DEFAULT_VARIABLE](_t, snippets, liveBindings) {
+		const { _, getDirectReturnFunction, n } = snippets;
+		const [left, right] = getDirectReturnFunction(['e'], {
+			functionReturn: true,
+			lineBreakIndent: null,
+			name: INTEROP_DEFAULT_VARIABLE
+		});
+		return (
+			`${left}e${_}&&${_}e.__esModule${_}?${_}` +
+			`${
+				liveBindings ? getDefaultLiveBinding(snippets) : getDefaultStatic(snippets)
+			}${right}${n}${n}`
+		);
+	},
+	[INTEROP_NAMESPACE_DEFAULT_ONLY_VARIABLE](
+		_t,
+		{ _, getDirectReturnFunction, getObject, n },
 		_liveBindings: boolean,
 		freeze: boolean,
 		namespaceToStringTag: boolean
-	) =>
-		`function ${INTEROP_NAMESPACE_DEFAULT_ONLY_VARIABLE}(e)${_}{${n}` +
-		`${t}return ${getFrozen(
-			`{__proto__: null,${
-				namespaceToStringTag ? `${_}[Symbol.toStringTag]:${_}'Module',` : ''
-			}${_}'default':${_}e}`,
+	) {
+		const [left, right] = getDirectReturnFunction(['e'], {
+			functionReturn: true,
+			lineBreakIndent: null,
+			name: INTEROP_NAMESPACE_DEFAULT_ONLY_VARIABLE
+		});
+		return `${left}${getFrozen(
+			getObject(
+				[
+					['__proto__', 'null'],
+					...(namespaceToStringTag
+						? [[null, `[Symbol.toStringTag]:${_}'Module'`] as [null, string]]
+						: []),
+					['default', 'e']
+				],
+				{ lineBreakIndent: null }
+			),
 			freeze
-		)};${n}` +
-		`}${n}${n}`,
-	[INTEROP_NAMESPACE_DEFAULT_VARIABLE]: (_, n, _s, t, liveBindings, freeze, namespaceToStringTag) =>
-		`function ${INTEROP_NAMESPACE_DEFAULT_VARIABLE}(e)${_}{${n}` +
-		createNamespaceObject(_, n, t, t, liveBindings, freeze, namespaceToStringTag) +
-		`}${n}${n}`,
-	[INTEROP_NAMESPACE_VARIABLE]: (
-		_,
-		n,
-		s,
+		)}${right}${n}${n}`;
+	},
+	[INTEROP_NAMESPACE_DEFAULT_VARIABLE](t, snippets, liveBindings, freeze, namespaceToStringTag) {
+		const { _, n } = snippets;
+		return (
+			`function ${INTEROP_NAMESPACE_DEFAULT_VARIABLE}(e)${_}{${n}` +
+			createNamespaceObject(t, t, snippets, liveBindings, freeze, namespaceToStringTag) +
+			`}${n}${n}`
+		);
+	},
+	[INTEROP_NAMESPACE_VARIABLE](
 		t,
+		snippets,
 		liveBindings,
 		freeze,
 		namespaceToStringTag,
 		usedHelpers
-	) =>
-		`function ${INTEROP_NAMESPACE_VARIABLE}(e)${_}{${n}` +
-		(usedHelpers.has(INTEROP_NAMESPACE_DEFAULT_VARIABLE)
-			? `${t}return e${_}&&${_}e.__esModule${_}?${_}e${_}:${_}${INTEROP_NAMESPACE_DEFAULT_VARIABLE}(e)${s}${n}`
-			: `${t}if${_}(e${_}&&${_}e.__esModule)${_}return e;${n}` +
-			  createNamespaceObject(_, n, t, t, liveBindings, freeze, namespaceToStringTag)) +
-		`}${n}${n}`
+	) {
+		const { _, getDirectReturnFunction, n } = snippets;
+		if (usedHelpers.has(INTEROP_NAMESPACE_DEFAULT_VARIABLE)) {
+			const [left, right] = getDirectReturnFunction(['e'], {
+				functionReturn: true,
+				lineBreakIndent: null,
+				name: INTEROP_NAMESPACE_VARIABLE
+			});
+			return `${left}e${_}&&${_}e.__esModule${_}?${_}e${_}:${_}${INTEROP_NAMESPACE_DEFAULT_VARIABLE}(e)${right}${n}${n}`;
+		}
+		return (
+			`function ${INTEROP_NAMESPACE_VARIABLE}(e)${_}{${n}` +
+			`${t}if${_}(e${_}&&${_}e.__esModule)${_}return e;${n}` +
+			createNamespaceObject(t, t, snippets, liveBindings, freeze, namespaceToStringTag) +
+			`}${n}${n}`
+		);
+	},
+	[MERGE_NAMESPACES_VARIABLE](t, snippets, liveBindings, freeze) {
+		const { _, n } = snippets;
+		return (
+			`function ${MERGE_NAMESPACES_VARIABLE}(n, m)${_}{${n}` +
+			`${t}${loopOverNamespaces(
+				`{${n}` +
+					`${t}${t}${t}if${_}(k${_}!==${_}'default'${_}&&${_}!(k in n))${_}{${n}` +
+					(liveBindings ? copyPropertyLiveBinding : copyPropertyStatic)(
+						t,
+						t + t + t + t,
+						snippets
+					) +
+					`${t}${t}${t}}${n}` +
+					`${t}${t}}`,
+				!liveBindings,
+				t,
+				snippets
+			)}${n}` +
+			`${t}return ${getFrozen('n', freeze)};${n}` +
+			`}${n}${n}`
+		);
+	}
 };
 
-function getDefaultLiveBinding(_: string) {
-	return `e${_}:${_}{${_}'default':${_}e${_}}`;
-}
+const getDefaultLiveBinding = ({ _, getObject }: GenerateCodeSnippets) =>
+	`e${_}:${_}${getObject([['default', 'e']], { lineBreakIndent: null })}`;
 
-function getDefaultStatic(_: string) {
-	return `e['default']${_}:${_}e`;
-}
+const getDefaultStatic = ({ _, getPropertyAccess }: GenerateCodeSnippets) =>
+	`e${getPropertyAccess('default')}${_}:${_}e`;
 
-function createNamespaceObject(
-	_: string,
-	n: string,
+const createNamespaceObject = (
 	t: string,
 	i: string,
+	snippets: GenerateCodeSnippets,
 	liveBindings: boolean,
 	freeze: boolean,
 	namespaceToStringTag: boolean
-) {
+) => {
+	const { _, cnst, getPropertyAccess, n, s } = snippets;
+	const copyProperty =
+		`{${n}` +
+		(liveBindings ? copyNonDefaultPropertyLiveBinding : copyPropertyStatic)(
+			t,
+			i + t + t,
+			snippets
+		) +
+		`${i}${t}}`;
 	return (
-		`${i}var n${_}=${_}${
+		`${i}${cnst} n${_}=${_}${
 			namespaceToStringTag
 				? `{__proto__:${_}null,${_}[Symbol.toStringTag]:${_}'Module'}`
 				: 'Object.create(null)'
 		};${n}` +
 		`${i}if${_}(e)${_}{${n}` +
-		`${i}${t}Object.keys(e).forEach(function${_}(k)${_}{${n}` +
-		(liveBindings ? copyPropertyLiveBinding : copyPropertyStatic)(_, n, t, i + t + t) +
-		`${i}${t}});${n}` +
+		`${i}${t}${loopOverKeys(copyProperty, !liveBindings, snippets)}${n}` +
 		`${i}}${n}` +
-		`${i}n['default']${_}=${_}e;${n}` +
-		`${i}return ${getFrozen('n', freeze)};${n}`
+		`${i}n${getPropertyAccess('default')}${_}=${_}e;${n}` +
+		`${i}return ${getFrozen('n', freeze)}${s}${n}`
+	);
+};
+
+const loopOverKeys = (
+	body: string,
+	allowVarLoopVariable: boolean,
+	{ _, cnst, getFunctionIntro, s }: GenerateCodeSnippets
+) =>
+	cnst !== 'var' || allowVarLoopVariable
+		? `for${_}(${cnst} k in e)${_}${body}`
+		: `Object.keys(e).forEach(${getFunctionIntro(['k'], {
+				isAsync: false,
+				name: null
+		  })}${body})${s}`;
+
+const loopOverNamespaces = (
+	body: string,
+	allowVarLoopVariable: boolean,
+	t: string,
+	{ _, cnst, getDirectReturnFunction, getFunctionIntro, n }: GenerateCodeSnippets
+) => {
+	if (cnst !== 'var' || allowVarLoopVariable) {
+		return (
+			`for${_}(var i${_}=${_}0;${_}i${_}<${_}m.length;${_}i++)${_}{${n}` +
+			`${t}${t}${cnst} e${_}=${_}m[i];${n}` +
+			`${t}${t}for${_}(${cnst} k in e)${_}${body}${n}${t}}`
+		);
+	}
+	const [left, right] = getDirectReturnFunction(['e'], {
+		functionReturn: false,
+		lineBreakIndent: { base: t, t },
+		name: null
+	});
+	return (
+		`m.forEach(${left}` +
+		`Object.keys(e).forEach(${getFunctionIntro(['k'], {
+			isAsync: false,
+			name: null
+		})}${body})${right});`
 	);
-}
+};
 
-function copyPropertyLiveBinding(_: string, n: string, t: string, i: string) {
+const copyNonDefaultPropertyLiveBinding = (
+	t: string,
+	i: string,
+	snippets: GenerateCodeSnippets
+) => {
+	const { _, n } = snippets;
 	return (
 		`${i}if${_}(k${_}!==${_}'default')${_}{${n}` +
-		`${i}${t}var d${_}=${_}Object.getOwnPropertyDescriptor(e,${_}k);${n}` +
-		`${i}${t}Object.defineProperty(n,${_}k,${_}d.get${_}?${_}d${_}:${_}{${n}` +
-		`${i}${t}${t}enumerable:${_}true,${n}` +
-		`${i}${t}${t}get:${_}function${_}()${_}{${n}` +
-		`${i}${t}${t}${t}return e[k];${n}` +
-		`${i}${t}${t}}${n}` +
-		`${i}${t}});${n}` +
+		copyPropertyLiveBinding(t, i + t, snippets) +
 		`${i}}${n}`
 	);
-}
+};
+
+const copyPropertyLiveBinding = (
+	t: string,
+	i: string,
+	{ _, cnst, getDirectReturnFunction, n }: GenerateCodeSnippets
+) => {
+	const [left, right] = getDirectReturnFunction([], {
+		functionReturn: true,
+		lineBreakIndent: null,
+		name: null
+	});
+	return (
+		`${i}${cnst} d${_}=${_}Object.getOwnPropertyDescriptor(e,${_}k);${n}` +
+		`${i}Object.defineProperty(n,${_}k,${_}d.get${_}?${_}d${_}:${_}{${n}` +
+		`${i}${t}enumerable:${_}true,${n}` +
+		`${i}${t}get:${_}${left}e[k]${right}${n}` +
+		`${i}});${n}`
+	);
+};
 
-function copyPropertyStatic(_: string, n: string, _t: string, i: string) {
-	return `${i}n[k]${_}=${_}e[k];${n}`;
-}
+const copyPropertyStatic = (_t: string, i: string, { _, n }: GenerateCodeSnippets) =>
+	`${i}n[k]${_}=${_}e[k];${n}`;
 
-function getFrozen(fragment: string, freeze: boolean) {
-	return freeze ? `Object.freeze(${fragment})` : fragment;
-}
+const getFrozen = (fragment: string, freeze: boolean) =>
+	freeze ? `Object.freeze(${fragment})` : fragment;
 
 export const HELPER_NAMES = Object.keys(HELPER_GENERATORS);
diff --git a/src/utils/options/mergeOptions.ts b/src/utils/options/mergeOptions.ts
index 0c1a84c12..9b92961d4 100644
--- a/src/utils/options/mergeOptions.ts
+++ b/src/utils/options/mergeOptions.ts
@@ -4,17 +4,16 @@ import {
 	MergedRollupOptions,
 	OutputOptions,
 	RollupCache,
-	TreeshakingPreset,
 	WarningHandler,
 	WarningHandlerWithDefault
 } from '../../rollup/types';
 import { ensureArray } from '../ensureArray';
-import { errInvalidOption, error } from '../error';
-import { printQuotedStringList } from '../printStringList';
 import { CommandConfigObject } from './normalizeInputOptions';
 import {
 	defaultOnWarn,
+	generatedCodePresets,
 	GenericConfigObject,
+	objectifyOptionWithPresets,
 	treeshakePresets,
 	warnUnknownOptions
 } from './options';
@@ -130,7 +129,12 @@ function mergeInputOptions(
 		preserveSymlinks: getOption('preserveSymlinks'),
 		shimMissingExports: getOption('shimMissingExports'),
 		strictDeprecations: getOption('strictDeprecations'),
-		treeshake: getObjectOption(config, overrides, 'treeshake', objectifyTreeshakeOption),
+		treeshake: getObjectOption(
+			config,
+			overrides,
+			'treeshake',
+			objectifyOptionWithPresets(treeshakePresets, 'treeshake', 'false, true, ')
+		),
 		watch: getWatch(config, overrides, 'watch')
 	};
 
@@ -178,24 +182,6 @@ const getObjectOption = (
 	return configOption;
 };
 
-const objectifyTreeshakeOption = (value: unknown): Record<string, unknown> => {
-	if (typeof value === 'string') {
-		const preset = treeshakePresets[value as TreeshakingPreset];
-		if (preset) {
-			return preset as unknown as Record<string, unknown>;
-		}
-		error(
-			errInvalidOption(
-				'treeshake',
-				`valid values are false, true, ${printQuotedStringList(
-					Object.keys(treeshakePresets)
-				)}. You can also supply an object for more fine-grained control`
-			)
-		);
-	}
-	return typeof value === 'object' ? (value as Record<string, unknown>) : {};
-};
-
 const getWatch = (config: GenericConfigObject, overrides: GenericConfigObject, name: string) =>
 	config.watch !== false && getObjectOption(config, overrides, name);
 
@@ -242,6 +228,12 @@ function mergeOutputOptions(
 		footer: getOption('footer'),
 		format: getOption('format'),
 		freeze: getOption('freeze'),
+		generatedCode: getObjectOption(
+			config,
+			overrides,
+			'generatedCode',
+			objectifyOptionWithPresets(generatedCodePresets, 'output.generatedCode', '')
+		),
 		globals: getOption('globals'),
 		hoistTransitiveImports: getOption('hoistTransitiveImports'),
 		indent: getOption('indent'),
diff --git a/src/utils/options/normalizeInputOptions.ts b/src/utils/options/normalizeInputOptions.ts
index 267d4eb7c..de12b6dd3 100644
--- a/src/utils/options/normalizeInputOptions.ts
+++ b/src/utils/options/normalizeInputOptions.ts
@@ -7,17 +7,16 @@ import {
 	PreserveEntrySignaturesOption,
 	PureModulesOption,
 	RollupBuild,
-	TreeshakingOptions,
 	WarningHandler
 } from '../../rollup/types';
 import { ensureArray } from '../ensureArray';
 import { errInvalidOption, error, warnDeprecationWithOptions } from '../error';
 import { resolve } from '../path';
-import { printQuotedStringList } from '../printStringList';
 import relativeId from '../relativeId';
 import {
 	defaultOnWarn,
 	GenericConfigObject,
+	getOptionWithPreset,
 	treeshakePresets,
 	warnUnknownOptions
 } from './options';
@@ -247,46 +246,20 @@ const getTreeshake = (
 	if (configTreeshake === false) {
 		return false;
 	}
-	if (typeof configTreeshake === 'string') {
-		const preset = treeshakePresets[configTreeshake];
-		if (preset) {
-			return preset;
-		}
-		error(
-			errInvalidOption(
-				'treeshake',
-				`valid values are false, true, ${printQuotedStringList(
-					Object.keys(treeshakePresets)
-				)}. You can also supply an object for more fine-grained control`
-			)
+	const configWithPreset = getOptionWithPreset(
+		config.treeshake,
+		treeshakePresets,
+		'treeshake',
+		'false, true, '
+	);
+	if (typeof configWithPreset.pureExternalModules !== 'undefined') {
+		warnDeprecationWithOptions(
+			`The "treeshake.pureExternalModules" option is deprecated. The "treeshake.moduleSideEffects" option should be used instead. "treeshake.pureExternalModules: true" is equivalent to "treeshake.moduleSideEffects: 'no-external'"`,
+			true,
+			warn,
+			strictDeprecations
 		);
 	}
-	let configWithPreset: TreeshakingOptions = {};
-	if (typeof configTreeshake === 'object') {
-		if (typeof configTreeshake.pureExternalModules !== 'undefined') {
-			warnDeprecationWithOptions(
-				`The "treeshake.pureExternalModules" option is deprecated. The "treeshake.moduleSideEffects" option should be used instead. "treeshake.pureExternalModules: true" is equivalent to "treeshake.moduleSideEffects: 'no-external'"`,
-				true,
-				warn,
-				strictDeprecations
-			);
-		}
-		configWithPreset = configTreeshake;
-		const presetName = configTreeshake.preset;
-		if (presetName) {
-			const preset = treeshakePresets[presetName];
-			if (preset) {
-				configWithPreset = { ...preset, ...configTreeshake };
-			} else {
-				error(
-					errInvalidOption(
-						'treeshake.preset',
-						`valid values are ${printQuotedStringList(Object.keys(treeshakePresets))}`
-					)
-				);
-			}
-		}
-	}
 	return {
 		annotations: configWithPreset.annotations !== false,
 		correctVarValueBeforeDeclaration: configWithPreset.correctVarValueBeforeDeclaration === true,
@@ -296,7 +269,10 @@ const getTreeshake = (
 						configTreeshake.moduleSideEffects,
 						configTreeshake.pureExternalModules
 				  )
-				: getHasModuleSideEffects(configWithPreset.moduleSideEffects, undefined),
+				: getHasModuleSideEffects(
+						configWithPreset.moduleSideEffects as ModuleSideEffectsOption | undefined,
+						undefined
+				  ),
 		propertyReadSideEffects:
 			configWithPreset.propertyReadSideEffects === 'always'
 				? 'always'
@@ -328,6 +304,7 @@ const getHasModuleSideEffects = (
 		error(
 			errInvalidOption(
 				'treeshake.moduleSideEffects',
+				'treeshake',
 				'please use one of false, "no-external", a function or an array'
 			)
 		);
diff --git a/src/utils/options/normalizeOutputOptions.ts b/src/utils/options/normalizeOutputOptions.ts
index 00d120562..3bae48b27 100644
--- a/src/utils/options/normalizeOutputOptions.ts
+++ b/src/utils/options/normalizeOutputOptions.ts
@@ -7,10 +7,15 @@ import {
 	SourcemapPathTransformOption
 } from '../../rollup/types';
 import { ensureArray } from '../ensureArray';
-import { errInvalidExportOptionValue, error, warnDeprecation } from '../error';
+import { errInvalidExportOptionValue, errInvalidOption, error, warnDeprecation } from '../error';
 import { resolve } from '../path';
 import { sanitizeFileName as defaultSanitizeFileName } from '../sanitizeFileName';
-import { GenericConfigObject, warnUnknownOptions } from './options';
+import {
+	generatedCodePresets,
+	GenericConfigObject,
+	getOptionWithPreset,
+	warnUnknownOptions
+} from './options';
 
 export function normalizeOutputOptions(
 	config: OutputOptions,
@@ -26,6 +31,7 @@ export function normalizeOutputOptions(
 	const inlineDynamicImports = getInlineDynamicImports(config, inputOptions);
 	const preserveModules = getPreserveModules(config, inlineDynamicImports, inputOptions);
 	const file = getFile(config, preserveModules, inputOptions);
+	const preferConst = getPreferConst(config, inputOptions);
 
 	const outputOptions: NormalizedOutputOptions & OutputOptions = {
 		amd: getAmd(config),
@@ -44,6 +50,7 @@ export function normalizeOutputOptions(
 		footer: getAddon(config, 'footer'),
 		format,
 		freeze: config.freeze ?? true,
+		generatedCode: getGeneratedCode(config, preferConst),
 		globals: config.globals || {},
 		hoistTransitiveImports: config.hoistTransitiveImports ?? true,
 		indent: getIndent(config, compact),
@@ -58,7 +65,7 @@ export function normalizeOutputOptions(
 		outro: getAddon(config, 'outro'),
 		paths: config.paths || {},
 		plugins: ensureArray(config.plugins),
-		preferConst: config.preferConst || false,
+		preferConst,
 		preserveModules,
 		preserveModulesRoot: getPreserveModulesRoot(config),
 		sanitizeFileName:
@@ -95,17 +102,22 @@ const getFile = (
 	const { file } = config;
 	if (typeof file === 'string') {
 		if (preserveModules) {
-			return error({
-				code: 'INVALID_OPTION',
-				message:
-					'You must set "output.dir" instead of "output.file" when using the "output.preserveModules" option.'
-			});
+			return error(
+				errInvalidOption(
+					'output.file',
+					'outputdir',
+					'you must set "output.dir" instead of "output.file" when using the "output.preserveModules" option'
+				)
+			);
 		}
 		if (!Array.isArray(inputOptions.input))
-			return error({
-				code: 'INVALID_OPTION',
-				message: 'You must set "output.dir" instead of "output.file" when providing named inputs.'
-			});
+			return error(
+				errInvalidOption(
+					'output.file',
+					'outputdir',
+					'you must set "output.dir" instead of "output.file" when providing named inputs'
+				)
+			);
 	}
 	return file;
 };
@@ -144,10 +156,13 @@ const getInlineDynamicImports = (
 		(config.inlineDynamicImports ?? inputOptions.inlineDynamicImports) || false;
 	const { input } = inputOptions;
 	if (inlineDynamicImports && (Array.isArray(input) ? input : Object.keys(input)).length > 1) {
-		return error({
-			code: 'INVALID_OPTION',
-			message: 'Multiple inputs are not supported for "output.inlineDynamicImports".'
-		});
+		return error(
+			errInvalidOption(
+				'output.inlineDynamicImports',
+				'outputinlinedynamicimports',
+				'multiple inputs are not supported when "output.inlineDynamicImports" is true'
+			)
+		);
 	}
 	return inlineDynamicImports;
 };
@@ -160,22 +175,42 @@ const getPreserveModules = (
 	const preserveModules = (config.preserveModules ?? inputOptions.preserveModules) || false;
 	if (preserveModules) {
 		if (inlineDynamicImports) {
-			return error({
-				code: 'INVALID_OPTION',
-				message: `The "output.inlineDynamicImports" option is not supported for "output.preserveModules".`
-			});
+			return error(
+				errInvalidOption(
+					'output.inlineDynamicImports',
+					'outputinlinedynamicimports',
+					`this option is not supported for "output.preserveModules"`
+				)
+			);
 		}
 		if (inputOptions.preserveEntrySignatures === false) {
-			return error({
-				code: 'INVALID_OPTION',
-				message:
-					'Setting "preserveEntrySignatures" to "false" is not supported for "output.preserveModules".'
-			});
+			return error(
+				errInvalidOption(
+					'preserveEntrySignatures',
+					'preserveentrysignatures',
+					'setting this option to false is not supported for "output.preserveModules"'
+				)
+			);
 		}
 	}
 	return preserveModules;
 };
 
+const getPreferConst = (
+	config: OutputOptions,
+	inputOptions: NormalizedInputOptions
+): NormalizedOutputOptions['preferConst'] => {
+	const configPreferConst = config.preferConst;
+	if (configPreferConst != null) {
+		warnDeprecation(
+			`The "output.preferConst" option is deprecated. Use the "output.generatedCode.constBindings" option instead.`,
+			false,
+			inputOptions
+		);
+	}
+	return !!configPreferConst;
+};
+
 const getPreserveModulesRoot = (
 	config: OutputOptions
 ): NormalizedOutputOptions['preserveModulesRoot'] => {
@@ -187,39 +222,44 @@ const getPreserveModulesRoot = (
 };
 
 const getAmd = (config: OutputOptions): NormalizedOutputOptions['amd'] => {
-	const collection: { autoId: boolean; basePath: string; define: string; id?: string } = {
+	const mergedOption: { autoId: boolean; basePath: string; define: string; id?: string } = {
 		autoId: false,
 		basePath: '',
 		define: 'define',
 		...config.amd
 	};
 
-	if ((collection.autoId || collection.basePath) && collection.id) {
-		return error({
-			code: 'INVALID_OPTION',
-			message:
-				'"output.amd.autoId"/"output.amd.basePath" and "output.amd.id" cannot be used together.'
-		});
+	if ((mergedOption.autoId || mergedOption.basePath) && mergedOption.id) {
+		return error(
+			errInvalidOption(
+				'output.amd.id',
+				'outputamd',
+				'this option cannot be used together with "output.amd.autoId"/"output.amd.basePath"'
+			)
+		);
 	}
-	if (collection.basePath && !collection.autoId) {
-		return error({
-			code: 'INVALID_OPTION',
-			message: '"output.amd.basePath" only works with "output.amd.autoId".'
-		});
+	if (mergedOption.basePath && !mergedOption.autoId) {
+		return error(
+			errInvalidOption(
+				'output.amd.basePath',
+				'outputamd',
+				'this option only works with "output.amd.autoId"'
+			)
+		);
 	}
 
 	let normalized: NormalizedOutputOptions['amd'];
-	if (collection.autoId) {
+	if (mergedOption.autoId) {
 		normalized = {
 			autoId: true,
-			basePath: collection.basePath,
-			define: collection.define
+			basePath: mergedOption.basePath,
+			define: mergedOption.define
 		};
 	} else {
 		normalized = {
 			autoId: false,
-			define: collection.define,
-			id: collection.id
+			define: mergedOption.define,
+			id: mergedOption.id
 		};
 	}
 	return normalized;
@@ -241,11 +281,13 @@ const getDir = (
 ): NormalizedOutputOptions['dir'] => {
 	const { dir } = config;
 	if (typeof dir === 'string' && typeof file === 'string') {
-		return error({
-			code: 'INVALID_OPTION',
-			message:
-				'You must set either "output.file" for a single-file build or "output.dir" when generating multiple chunks.'
-		});
+		return error(
+			errInvalidOption(
+				'output.dir',
+				'outputdir',
+				'you must set either "output.file" for a single-file build or "output.dir" when generating multiple chunks'
+			)
+		);
 	}
 	return dir;
 };
@@ -289,6 +331,24 @@ function getExports(
 	return configExports || 'auto';
 }
 
+const getGeneratedCode = (
+	config: OutputOptions,
+	preferConst: boolean
+): NormalizedOutputOptions['generatedCode'] => {
+	const configWithPreset = getOptionWithPreset(
+		config.generatedCode,
+		generatedCodePresets,
+		'output.generatedCode',
+		''
+	);
+	return {
+		arrowFunctions: configWithPreset.arrowFunctions === true,
+		constBindings: configWithPreset.constBindings === true || preferConst,
+		objectShorthand: configWithPreset.objectShorthand === true,
+		reservedNamesAsProps: configWithPreset.reservedNamesAsProps === true
+	};
+};
+
 const getIndent = (config: OutputOptions, compact: boolean): NormalizedOutputOptions['indent'] => {
 	if (compact) {
 		return '';
@@ -309,16 +369,16 @@ const getInterop = (
 		if (!validatedInteropTypes.has(interop)) {
 			validatedInteropTypes.add(interop);
 			if (!ALLOWED_INTEROP_TYPES.has(interop)) {
-				return error({
-					code: 'INVALID_OPTION',
-					message: `The value ${JSON.stringify(
+				return error(
+					errInvalidOption(
+						'output.interop',
+						'outputinterop',
+						`use one of ${Array.from(ALLOWED_INTEROP_TYPES.values(), value =>
+							JSON.stringify(value)
+						).join(', ')}`,
 						interop
-					)} is not supported for "output.interop". Use one of ${Array.from(
-						ALLOWED_INTEROP_TYPES.values(),
-						value => JSON.stringify(value)
-					).join(', ')} instead.`,
-					url: 'https://rollupjs.org/guide/en/#outputinterop'
-				});
+					)
+				);
 			}
 			if (typeof interop === 'boolean') {
 				warnDeprecation(
@@ -358,17 +418,22 @@ const getManualChunks = (
 	const configManualChunks = config.manualChunks || inputOptions.manualChunks;
 	if (configManualChunks) {
 		if (inlineDynamicImports) {
-			return error({
-				code: 'INVALID_OPTION',
-				message:
-					'The "output.manualChunks" option is not supported for "output.inlineDynamicImports".'
-			});
+			return error(
+				errInvalidOption(
+					'output.manualChunks',
+					'outputmanualchunks',
+					'this option is not supported for "output.inlineDynamicImports"'
+				)
+			);
 		}
 		if (preserveModules) {
-			return error({
-				code: 'INVALID_OPTION',
-				message: 'The "output.manualChunks" option is not supported for "output.preserveModules".'
-			});
+			return error(
+				errInvalidOption(
+					'output.manualChunks',
+					'outputmanualchunks',
+					'this option is not supported for "output.preserveModules"'
+				)
+			);
 		}
 	}
 	return configManualChunks || {};
diff --git a/src/utils/options/options.ts b/src/utils/options/options.ts
index 8899b2947..d6555064c 100644
--- a/src/utils/options/options.ts
+++ b/src/utils/options/options.ts
@@ -1,4 +1,13 @@
-import { InputOptions, NormalizedInputOptions, WarningHandler } from '../../rollup/types';
+import {
+	InputOptions,
+	NormalizedGeneratedCodeOptions,
+	NormalizedOutputOptions,
+	NormalizedTreeshakingOptions,
+	OutputOptions,
+	WarningHandler
+} from '../../rollup/types';
+import { errInvalidOption, error } from '../error';
+import { printQuotedStringList } from '../printStringList';
 
 export interface GenericConfigObject {
 	[key: string]: unknown;
@@ -34,7 +43,7 @@ type ObjectValue<Base> = Base extends Record<string, any> ? Base : never;
 export const treeshakePresets: {
 	[key in NonNullable<
 		ObjectValue<InputOptions['treeshake']>['preset']
-	>]: NormalizedInputOptions['treeshake'];
+	>]: NormalizedTreeshakingOptions;
 } = {
 	recommended: {
 		annotations: true,
@@ -61,3 +70,80 @@ export const treeshakePresets: {
 		unknownGlobalSideEffects: false
 	}
 };
+
+export const generatedCodePresets: {
+	[key in NonNullable<
+		ObjectValue<OutputOptions['generatedCode']>['preset']
+	>]: NormalizedOutputOptions['generatedCode'];
+} = {
+	es2015: {
+		arrowFunctions: true,
+		constBindings: true,
+		objectShorthand: true,
+		reservedNamesAsProps: true
+	},
+	es5: {
+		arrowFunctions: false,
+		constBindings: false,
+		objectShorthand: false,
+		reservedNamesAsProps: true
+	}
+};
+
+type ObjectOptionWithPresets =
+	| Partial<NormalizedTreeshakingOptions>
+	| Partial<NormalizedGeneratedCodeOptions>;
+
+export const objectifyOptionWithPresets =
+	<T extends ObjectOptionWithPresets>(
+		presets: Record<string, T>,
+		optionName: string,
+		additionalValues: string
+	) =>
+	(value: unknown): Record<string, unknown> => {
+		if (typeof value === 'string') {
+			const preset = presets[value];
+			if (preset) {
+				return preset;
+			}
+			error(
+				errInvalidOption(
+					optionName,
+					getHashFromObjectOption(optionName),
+					`valid values are ${additionalValues}${printQuotedStringList(
+						Object.keys(presets)
+					)}. You can also supply an object for more fine-grained control`,
+					value
+				)
+			);
+		}
+		return value && typeof value === 'object' ? (value as Record<string, unknown>) : {};
+	};
+
+export const getOptionWithPreset = <T extends ObjectOptionWithPresets>(
+	value: unknown,
+	presets: Record<string, T>,
+	optionName: string,
+	additionalValues: string
+): Record<string, unknown> => {
+	const presetName: string | undefined = (value as any)?.preset;
+	if (presetName) {
+		const preset = presets[presetName];
+		if (preset) {
+			return { ...preset, ...(value as Record<string, unknown>) };
+		} else {
+			error(
+				errInvalidOption(
+					`${optionName}.preset`,
+					getHashFromObjectOption(optionName),
+					`valid values are ${printQuotedStringList(Object.keys(presets))}`,
+					presetName
+				)
+			);
+		}
+	}
+	return objectifyOptionWithPresets(presets, optionName, additionalValues)(value);
+};
+
+const getHashFromObjectOption = (optionName: string): string =>
+	optionName.split('.').join('').toLowerCase();
diff --git a/src/utils/renderHelpers.ts b/src/utils/renderHelpers.ts
index 9e4ceeede..14ed47f8f 100644
--- a/src/utils/renderHelpers.ts
+++ b/src/utils/renderHelpers.ts
@@ -3,10 +3,10 @@ import { Node, StatementNode } from '../ast/nodes/shared/Node';
 import Variable from '../ast/variables/Variable';
 import { InternalModuleFormat } from '../rollup/types';
 import { PluginDriver } from './PluginDriver';
+import { GenerateCodeSnippets } from './generateCodeSnippets';
 import { treeshakeNode } from './treeshakeNode';
 
 export interface RenderOptions {
-	compact: boolean;
 	dynamicImportFunction: string | undefined;
 	exportNamesByVariable: Map<Variable, string[]>;
 	format: InternalModuleFormat;
@@ -14,7 +14,7 @@ export interface RenderOptions {
 	indent: string;
 	namespaceToStringTag: boolean;
 	outputPluginDriver: PluginDriver;
-	varOrConst: 'var' | 'const';
+	snippets: GenerateCodeSnippets;
 }
 
 export interface NodeRenderOptions {
diff --git a/src/utils/systemJsRendering.ts b/src/utils/systemJsRendering.ts
index 206e47065..e5e29f479 100644
--- a/src/utils/systemJsRendering.ts
+++ b/src/utils/systemJsRendering.ts
@@ -4,25 +4,25 @@ import { RenderOptions } from './renderHelpers';
 
 export function getSystemExportStatement(
 	exportedVariables: Variable[],
-	{ compact, exportNamesByVariable }: RenderOptions,
+	{ exportNamesByVariable, snippets: { _, getObject, getPropertyAccess } }: RenderOptions,
 	modifier = ''
 ): string {
-	const _ = compact ? '' : ' ';
 	if (
 		exportedVariables.length === 1 &&
 		exportNamesByVariable.get(exportedVariables[0])!.length === 1
 	) {
 		const variable = exportedVariables[0];
-		return `exports('${exportNamesByVariable.get(variable)}',${_}${variable.getName()}${modifier})`;
+		return `exports('${exportNamesByVariable.get(variable)}',${_}${variable.getName(
+			getPropertyAccess
+		)}${modifier})`;
 	} else {
-		return `exports({${_}${exportedVariables
-			.map(variable => {
-				return exportNamesByVariable
-					.get(variable)!
-					.map(exportName => `${exportName}:${_}${variable.getName()}${modifier}`)
-					.join(`,${_}`);
-			})
-			.join(`,${_}`)}${_}})`;
+		const fields: [key: string, value: string][] = [];
+		for (const variable of exportedVariables) {
+			for (const exportName of exportNamesByVariable.get(variable)!) {
+				fields.push([exportName, variable.getName(getPropertyAccess) + modifier]);
+			}
+		}
+		return `exports(${getObject(fields, { lineBreakIndent: null })})`;
 	}
 }
 
@@ -31,9 +31,8 @@ export function renderSystemExportExpression(
 	expressionStart: number,
 	expressionEnd: number,
 	code: MagicString,
-	{ compact, exportNamesByVariable }: RenderOptions
+	{ exportNamesByVariable, snippets: { _ } }: RenderOptions
 ): void {
-	const _ = compact ? '' : ' ';
 	code.prependRight(
 		expressionStart,
 		`exports('${exportNamesByVariable.get(exportedVariable)}',${_}`
@@ -49,20 +48,16 @@ export function renderSystemExportFunction(
 	code: MagicString,
 	options: RenderOptions
 ): void {
-	const _ = options.compact ? '' : ' ';
-	const s = options.compact ? '' : ';';
+	const { _, getDirectReturnIifeLeft } = options.snippets;
 	code.prependRight(
 		expressionStart,
-		`function${_}(v)${_}{${_}return ${getSystemExportStatement(
-			exportedVariables,
-			options
-		)},${_}v${s}${_}}(`
+		getDirectReturnIifeLeft(
+			['v'],
+			`${getSystemExportStatement(exportedVariables, options)},${_}v`,
+			{ needsArrowReturnParens: true, needsWrappedFunction: needsParens }
+		)
 	);
 	code.appendLeft(expressionEnd, ')');
-	if (needsParens) {
-		code.prependRight(expressionStart, '(');
-		code.appendLeft(expressionEnd, ')');
-	}
 }
 
 export function renderSystemExportSequenceAfterExpression(
@@ -73,13 +68,12 @@ export function renderSystemExportSequenceAfterExpression(
 	code: MagicString,
 	options: RenderOptions
 ): void {
-	const _ = options.compact ? '' : ' ';
+	const { _, getPropertyAccess } = options.snippets;
 	code.appendLeft(
 		expressionEnd,
-		`,${_}${getSystemExportStatement(
-			[exportedVariable],
-			options
-		)},${_}${exportedVariable.getName()}`
+		`,${_}${getSystemExportStatement([exportedVariable], options)},${_}${exportedVariable.getName(
+			getPropertyAccess
+		)}`
 	);
 	if (needsParens) {
 		code.prependRight(expressionStart, '(');
@@ -96,7 +90,7 @@ export function renderSystemExportSequenceBeforeExpression(
 	options: RenderOptions,
 	modifier: string
 ): void {
-	const _ = options.compact ? '' : ' ';
+	const { _ } = options.snippets;
 	code.prependRight(
 		expressionStart,
 		`${getSystemExportStatement([exportedVariable], options, modifier)},${_}`
diff --git a/src/watch/watch-proxy.ts b/src/watch/watch-proxy.ts
index b1b006b8a..a760d20cd 100644
--- a/src/watch/watch-proxy.ts
+++ b/src/watch/watch-proxy.ts
@@ -21,8 +21,9 @@ export default function watch(configs: GenericConfigObject[] | GenericConfigObje
 	const configArray = ensureArray(configs);
 	const watchConfigs = configArray.filter(config => config.watch !== false);
 	if (watchConfigs.length === 0) {
-		throw error(
+		return error(
 			errInvalidOption(
+				'watch',
 				'watch',
 				'there must be at least one config where "watch" is not set to "false"'
 			)
diff --git a/src/watch/watch.ts b/src/watch/watch.ts
index d1c304133..9ed301f72 100644
--- a/src/watch/watch.ts
+++ b/src/watch/watch.ts
@@ -202,7 +202,7 @@ export class Task {
 				output: this.outputFiles,
 				result
 			});
-		} catch (error) {
+		} catch (error: any) {
 			if (!this.closed) {
 				if (Array.isArray(error.watchFiles)) {
 					for (const id of error.watchFiles) {
diff --git a/test/browser/index.js b/test/browser/index.js
index a1d53ece7..e3f05d062 100644
--- a/test/browser/index.js
+++ b/test/browser/index.js
@@ -22,12 +22,12 @@ runTestSuiteWithSamples('browser', resolve(__dirname, 'samples'), (dir, config)
 					strictDeprecations: true,
 					...config.options
 				});
-			} catch (error) {
+			} catch (err) {
 				if (config.error) {
-					compareError(error, config.error);
+					compareError(err, config.error);
 					return;
 				} else {
-					throw error;
+					throw err;
 				}
 			}
 			if (config.error) {
@@ -40,12 +40,12 @@ runTestSuiteWithSamples('browser', resolve(__dirname, 'samples'), (dir, config)
 					format: 'es',
 					...(config.options || {}).output
 				}));
-			} catch (error) {
+			} catch (err) {
 				if (config.generateError) {
-					compareError(error, config.generateError);
+					compareError(err, config.generateError);
 					return;
 				} else {
-					throw error;
+					throw err;
 				}
 			}
 			if (config.generateError) {
diff --git a/test/chunking-form/samples/aliasing-extensions/_expected/amd/generated-main4.dynamic.js b/test/chunking-form/samples/aliasing-extensions/_expected/amd/generated-main4.dynamic.js
index ed41892cf..3e4747014 100644
--- a/test/chunking-form/samples/aliasing-extensions/_expected/amd/generated-main4.dynamic.js
+++ b/test/chunking-form/samples/aliasing-extensions/_expected/amd/generated-main4.dynamic.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main4');
 
-});
+}));
diff --git a/test/chunking-form/samples/aliasing-extensions/_expected/amd/generated-main5.js b/test/chunking-form/samples/aliasing-extensions/_expected/amd/generated-main5.js
index db3f430c9..956126a64 100644
--- a/test/chunking-form/samples/aliasing-extensions/_expected/amd/generated-main5.js
+++ b/test/chunking-form/samples/aliasing-extensions/_expected/amd/generated-main5.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main5');
 
-});
+}));
diff --git a/test/chunking-form/samples/aliasing-extensions/_expected/amd/main1.js b/test/chunking-form/samples/aliasing-extensions/_expected/amd/main1.js
index faa948b57..0eb4900e4 100644
--- a/test/chunking-form/samples/aliasing-extensions/_expected/amd/main1.js
+++ b/test/chunking-form/samples/aliasing-extensions/_expected/amd/main1.js
@@ -1,7 +1,7 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	console.log('main1');
-	new Promise(function (resolve, reject) { require(['./generated-main4.dynamic'], resolve, reject) });
-	new Promise(function (resolve, reject) { require(['./generated-main5'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-main4.dynamic'], resolve, reject); });
+	new Promise(function (resolve, reject) { require(['./generated-main5'], resolve, reject); });
 
-});
+}));
diff --git a/test/chunking-form/samples/aliasing-extensions/_expected/amd/main2.js b/test/chunking-form/samples/aliasing-extensions/_expected/amd/main2.js
index b58286ca5..50131c97c 100644
--- a/test/chunking-form/samples/aliasing-extensions/_expected/amd/main2.js
+++ b/test/chunking-form/samples/aliasing-extensions/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main2');
 
-});
+}));
diff --git a/test/chunking-form/samples/aliasing-extensions/_expected/amd/main3.js b/test/chunking-form/samples/aliasing-extensions/_expected/amd/main3.js
index cac48c4d7..03a17efdc 100644
--- a/test/chunking-form/samples/aliasing-extensions/_expected/amd/main3.js
+++ b/test/chunking-form/samples/aliasing-extensions/_expected/amd/main3.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main3');
 
-});
+}));
diff --git a/test/chunking-form/samples/aliasing-extensions/_expected/system/generated-main4.dynamic.js b/test/chunking-form/samples/aliasing-extensions/_expected/system/generated-main4.dynamic.js
index 1fd85fc43..27129dd16 100644
--- a/test/chunking-form/samples/aliasing-extensions/_expected/system/generated-main4.dynamic.js
+++ b/test/chunking-form/samples/aliasing-extensions/_expected/system/generated-main4.dynamic.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main4');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/aliasing-extensions/_expected/system/generated-main5.js b/test/chunking-form/samples/aliasing-extensions/_expected/system/generated-main5.js
index e71255e3e..0f79cc531 100644
--- a/test/chunking-form/samples/aliasing-extensions/_expected/system/generated-main5.js
+++ b/test/chunking-form/samples/aliasing-extensions/_expected/system/generated-main5.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main5');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/aliasing-extensions/_expected/system/main1.js b/test/chunking-form/samples/aliasing-extensions/_expected/system/main1.js
index 7ca66f3c4..bd7b31cda 100644
--- a/test/chunking-form/samples/aliasing-extensions/_expected/system/main1.js
+++ b/test/chunking-form/samples/aliasing-extensions/_expected/system/main1.js
@@ -1,12 +1,12 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1');
 			module.import('./generated-main4.dynamic.js');
 			module.import('./generated-main5.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/aliasing-extensions/_expected/system/main2.js b/test/chunking-form/samples/aliasing-extensions/_expected/system/main2.js
index a272843f8..b91e108e5 100644
--- a/test/chunking-form/samples/aliasing-extensions/_expected/system/main2.js
+++ b/test/chunking-form/samples/aliasing-extensions/_expected/system/main2.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/aliasing-extensions/_expected/system/main3.js b/test/chunking-form/samples/aliasing-extensions/_expected/system/main3.js
index ddc6fb10c..d256a1ac3 100644
--- a/test/chunking-form/samples/aliasing-extensions/_expected/system/main3.js
+++ b/test/chunking-form/samples/aliasing-extensions/_expected/system/main3.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main3');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/amd-id-auto-base-path-concat/_expected/amd/some/where/main.js b/test/chunking-form/samples/amd-id-auto-base-path-concat/_expected/amd/some/where/main.js
index d885e74cb..a2493c3bb 100644
--- a/test/chunking-form/samples/amd-id-auto-base-path-concat/_expected/amd/some/where/main.js
+++ b/test/chunking-form/samples/amd-id-auto-base-path-concat/_expected/amd/some/where/main.js
@@ -1,19 +1,19 @@
-define('some/where/main', ['require', 'exports'], function (require, exports) { 'use strict';
+define('some/where/main', ['require', 'exports'], (function (require, exports) { 'use strict';
 
 	function getA() {
-		return new Promise(function (resolve, reject) { require(['./generated-a'], resolve, reject) });
+		return new Promise(function (resolve, reject) { require(['./generated-a'], resolve, reject); });
 	}
 
 	exports.getA = getA;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
 
-define('some/where/generated-a', ['exports'], function (exports) { 'use strict';
+define('some/where/generated-a', ['exports'], (function (exports) { 'use strict';
 
 	const something = 42;
 
 	exports.something = something;
 
-});
+}));
diff --git a/test/chunking-form/samples/amd-id-auto-base-path-concat/_expected/system/some/where/generated-a.js b/test/chunking-form/samples/amd-id-auto-base-path-concat/_expected/system/some/where/generated-a.js
index 88194588d..1157912e5 100644
--- a/test/chunking-form/samples/amd-id-auto-base-path-concat/_expected/system/some/where/generated-a.js
+++ b/test/chunking-form/samples/amd-id-auto-base-path-concat/_expected/system/some/where/generated-a.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const something = exports('something', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/amd-id-auto-base-path-concat/_expected/system/some/where/main.js b/test/chunking-form/samples/amd-id-auto-base-path-concat/_expected/system/some/where/main.js
index d3d68f9de..6778c1c6e 100644
--- a/test/chunking-form/samples/amd-id-auto-base-path-concat/_expected/system/some/where/main.js
+++ b/test/chunking-form/samples/amd-id-auto-base-path-concat/_expected/system/some/where/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('getA', getA);
 
@@ -9,6 +9,6 @@ System.register([], function (exports, module) {
 				return module.import('./generated-a.js');
 			}
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/amd-id-auto-base-path/_expected/amd/some/where/chunks/generated-a.js b/test/chunking-form/samples/amd-id-auto-base-path/_expected/amd/some/where/chunks/generated-a.js
index 9f558a6da..b91607717 100644
--- a/test/chunking-form/samples/amd-id-auto-base-path/_expected/amd/some/where/chunks/generated-a.js
+++ b/test/chunking-form/samples/amd-id-auto-base-path/_expected/amd/some/where/chunks/generated-a.js
@@ -1,7 +1,7 @@
-define('some/where/chunks/generated-a', ['exports'], function (exports) { 'use strict';
+define('some/where/chunks/generated-a', ['exports'], (function (exports) { 'use strict';
 
 	const something = 42;
 
 	exports.something = something;
 
-});
+}));
diff --git a/test/chunking-form/samples/amd-id-auto-base-path/_expected/amd/some/where/main.js b/test/chunking-form/samples/amd-id-auto-base-path/_expected/amd/some/where/main.js
index e45e31f7b..a0da0405f 100644
--- a/test/chunking-form/samples/amd-id-auto-base-path/_expected/amd/some/where/main.js
+++ b/test/chunking-form/samples/amd-id-auto-base-path/_expected/amd/some/where/main.js
@@ -1,11 +1,11 @@
-define('some/where/main', ['require', 'exports'], function (require, exports) { 'use strict';
+define('some/where/main', ['require', 'exports'], (function (require, exports) { 'use strict';
 
 	function getA() {
-		return new Promise(function (resolve, reject) { require(['./chunks/generated-a'], resolve, reject) });
+		return new Promise(function (resolve, reject) { require(['./chunks/generated-a'], resolve, reject); });
 	}
 
 	exports.getA = getA;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/amd-id-auto-base-path/_expected/system/some/where/chunks/generated-a.js b/test/chunking-form/samples/amd-id-auto-base-path/_expected/system/some/where/chunks/generated-a.js
index 88194588d..1157912e5 100644
--- a/test/chunking-form/samples/amd-id-auto-base-path/_expected/system/some/where/chunks/generated-a.js
+++ b/test/chunking-form/samples/amd-id-auto-base-path/_expected/system/some/where/chunks/generated-a.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const something = exports('something', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/amd-id-auto-base-path/_expected/system/some/where/main.js b/test/chunking-form/samples/amd-id-auto-base-path/_expected/system/some/where/main.js
index 4f171309b..17b0c1249 100644
--- a/test/chunking-form/samples/amd-id-auto-base-path/_expected/system/some/where/main.js
+++ b/test/chunking-form/samples/amd-id-auto-base-path/_expected/system/some/where/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('getA', getA);
 
@@ -9,6 +9,6 @@ System.register([], function (exports, module) {
 				return module.import('./chunks/generated-a.js');
 			}
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/amd-id-auto/_expected/amd/generated-a.js b/test/chunking-form/samples/amd-id-auto/_expected/amd/generated-a.js
index 0e008ab71..69adb865a 100644
--- a/test/chunking-form/samples/amd-id-auto/_expected/amd/generated-a.js
+++ b/test/chunking-form/samples/amd-id-auto/_expected/amd/generated-a.js
@@ -1,7 +1,7 @@
-define('generated-a', ['exports'], function (exports) { 'use strict';
+define('generated-a', ['exports'], (function (exports) { 'use strict';
 
 	const something = 42;
 
 	exports.something = something;
 
-});
+}));
diff --git a/test/chunking-form/samples/amd-id-auto/_expected/amd/main.js b/test/chunking-form/samples/amd-id-auto/_expected/amd/main.js
index ce58a18fd..de47e9cc8 100644
--- a/test/chunking-form/samples/amd-id-auto/_expected/amd/main.js
+++ b/test/chunking-form/samples/amd-id-auto/_expected/amd/main.js
@@ -1,11 +1,11 @@
-define('main', ['require', 'exports'], function (require, exports) { 'use strict';
+define('main', ['require', 'exports'], (function (require, exports) { 'use strict';
 
 	function getA() {
-		return new Promise(function (resolve, reject) { require(['./generated-a'], resolve, reject) });
+		return new Promise(function (resolve, reject) { require(['./generated-a'], resolve, reject); });
 	}
 
 	exports.getA = getA;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/amd-id-auto/_expected/system/generated-a.js b/test/chunking-form/samples/amd-id-auto/_expected/system/generated-a.js
index 88194588d..1157912e5 100644
--- a/test/chunking-form/samples/amd-id-auto/_expected/system/generated-a.js
+++ b/test/chunking-form/samples/amd-id-auto/_expected/system/generated-a.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const something = exports('something', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/amd-id-auto/_expected/system/main.js b/test/chunking-form/samples/amd-id-auto/_expected/system/main.js
index d3d68f9de..6778c1c6e 100644
--- a/test/chunking-form/samples/amd-id-auto/_expected/system/main.js
+++ b/test/chunking-form/samples/amd-id-auto/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('getA', getA);
 
@@ -9,6 +9,6 @@ System.register([], function (exports, module) {
 				return module.import('./generated-a.js');
 			}
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/amd/generated-dep.js b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/amd/generated-dep.js
index 1d5c0bd51..625e172bf 100644
--- a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/amd/generated-dep.js
@@ -1,11 +1,11 @@
-define(['exports', 'lib'], function (exports, value) { 'use strict';
+define(['exports', 'lib'], (function (exports, value) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var value__default = /*#__PURE__*/_interopDefaultLegacy(value);
 
-	var dep = 2 * value__default['default'];
+	var dep = 2 * value__default["default"];
 
 	exports.dep = dep;
 
-});
+}));
diff --git a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/amd/main1.js b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/amd/main1.js
index 4e7c5c84f..0cc5c4b5e 100644
--- a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/amd/main1.js
+++ b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('main1', dep.dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/amd/main2.js b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/amd/main2.js
index e5f5685b5..7468aba62 100644
--- a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/amd/main2.js
+++ b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('main2', dep.dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/cjs/generated-dep.js b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/cjs/generated-dep.js
index 21a7ce2ae..7823b4c3d 100644
--- a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/cjs/generated-dep.js
+++ b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/cjs/generated-dep.js
@@ -6,6 +6,6 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var value__default = /*#__PURE__*/_interopDefaultLegacy(value);
 
-var dep = 2 * value__default['default'];
+var dep = 2 * value__default["default"];
 
 exports.dep = dep;
diff --git a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/system/generated-dep.js b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/system/generated-dep.js
index f570c8632..eb63c119b 100644
--- a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/system/generated-dep.js
@@ -1,14 +1,14 @@
-System.register(['lib'], function (exports) {
+System.register(['lib'], (function (exports) {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
-			value = module.default;
+			value = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var dep = exports('d', 2 * value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/system/main1.js b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/system/main1.js
index d13859ddc..a687f08cd 100644
--- a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/system/main1.js
+++ b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/system/main1.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var dep;
 	return {
 		setters: [function (module) {
 			dep = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1', dep);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/system/main2.js b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/system/main2.js
index ab882c0f2..7c542187c 100644
--- a/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/system/main2.js
+++ b/test/chunking-form/samples/avoid-chunk-import-hoisting/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var dep;
 	return {
 		setters: [function (module) {
 			dep = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2', dep);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/basic-chunking/_expected/amd/generated-dep2.js b/test/chunking-form/samples/basic-chunking/_expected/amd/generated-dep2.js
index f49e00945..6dfaa8d56 100644
--- a/test/chunking-form/samples/basic-chunking/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/basic-chunking/_expected/amd/generated-dep2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn$1 () {
     console.log('lib2 fn');
@@ -11,4 +11,4 @@ define(['exports'], function (exports) { 'use strict';
 
   exports.fn = fn;
 
-});
+}));
diff --git a/test/chunking-form/samples/basic-chunking/_expected/amd/main1.js b/test/chunking-form/samples/basic-chunking/_expected/amd/main1.js
index ab0a692d5..97cc8e638 100644
--- a/test/chunking-form/samples/basic-chunking/_expected/amd/main1.js
+++ b/test/chunking-form/samples/basic-chunking/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['./generated-dep2'], function (dep2) { 'use strict';
+define(['./generated-dep2'], (function (dep2) { 'use strict';
 
   function fn () {
     console.log('dep1 fn');
@@ -13,4 +13,4 @@ define(['./generated-dep2'], function (dep2) { 'use strict';
 
   return Main1;
 
-});
+}));
diff --git a/test/chunking-form/samples/basic-chunking/_expected/amd/main2.js b/test/chunking-form/samples/basic-chunking/_expected/amd/main2.js
index 1a818448c..91ef16071 100644
--- a/test/chunking-form/samples/basic-chunking/_expected/amd/main2.js
+++ b/test/chunking-form/samples/basic-chunking/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['./generated-dep2'], function (dep2) { 'use strict';
+define(['./generated-dep2'], (function (dep2) { 'use strict';
 
   function fn$1 () {
     console.log('lib1 fn');
@@ -18,4 +18,4 @@ define(['./generated-dep2'], function (dep2) { 'use strict';
 
   return Main2;
 
-});
+}));
diff --git a/test/chunking-form/samples/basic-chunking/_expected/system/generated-dep2.js b/test/chunking-form/samples/basic-chunking/_expected/system/generated-dep2.js
index c86d9b476..fc9018b1c 100644
--- a/test/chunking-form/samples/basic-chunking/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/basic-chunking/_expected/system/generated-dep2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('f', fn);
 
@@ -14,6 +14,6 @@ System.register([], function (exports) {
         console.log('dep2 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/basic-chunking/_expected/system/main1.js b/test/chunking-form/samples/basic-chunking/_expected/system/main1.js
index 287fda7c0..cde21f733 100644
--- a/test/chunking-form/samples/basic-chunking/_expected/system/main1.js
+++ b/test/chunking-form/samples/basic-chunking/_expected/system/main1.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep2.js'], function (exports) {
+System.register(['./generated-dep2.js'], (function (exports) {
   'use strict';
   var fn$1;
   return {
     setters: [function (module) {
       fn$1 = module.f;
     }],
-    execute: function () {
+    execute: (function () {
 
       function fn () {
         console.log('dep1 fn');
@@ -18,6 +18,6 @@ System.register(['./generated-dep2.js'], function (exports) {
         }
       } exports('default', Main1);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/basic-chunking/_expected/system/main2.js b/test/chunking-form/samples/basic-chunking/_expected/system/main2.js
index f17ba0bcf..32e84972e 100644
--- a/test/chunking-form/samples/basic-chunking/_expected/system/main2.js
+++ b/test/chunking-form/samples/basic-chunking/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep2.js'], function (exports) {
+System.register(['./generated-dep2.js'], (function (exports) {
   'use strict';
   var fn$2;
   return {
     setters: [function (module) {
       fn$2 = module.f;
     }],
-    execute: function () {
+    execute: (function () {
 
       function fn$1 () {
         console.log('lib1 fn');
@@ -23,6 +23,6 @@ System.register(['./generated-dep2.js'], function (exports) {
         }
       } exports('default', Main2);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/generated-dep1.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/generated-dep1.js
index 9b17fe9ee..262610de8 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/generated-dep1.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/generated-dep1.js
@@ -1,8 +1,8 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var x = 42;
 	console.log('dep1');
 
 	exports.x = x;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/generated-dep2.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/generated-dep2.js
index cb1482e27..3c2c6ef88 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/generated-dep2.js
@@ -1,8 +1,8 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var x = 43;
 	console.log('dep2');
 
 	exports.x = x;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/generated-shared2.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/generated-shared2.js
index e847953e2..d98c1d5c3 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/generated-shared2.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/generated-shared2.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-dep1', './generated-dep2'], function (exports, dep1, dep2) { 'use strict';
+define(['exports', './generated-dep1', './generated-dep2'], (function (exports, dep1, dep2) { 'use strict';
 
 	var x = dep1.x + 1;
 	console.log('shared1');
@@ -9,4 +9,4 @@ define(['exports', './generated-dep1', './generated-dep2'], function (exports, d
 	exports.x = x;
 	exports.y = y;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main1.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main1.js
index 5569e16d8..d1a3ebafc 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-shared2', './generated-dep1', './generated-dep2'], function (shared2, dep1, dep2) { 'use strict';
+define(['./generated-shared2', './generated-dep1', './generated-dep2'], (function (shared2, dep1, dep2) { 'use strict';
 
 	console.log(shared2.x + shared2.y);
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main2.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main2.js
index 6820cdc52..adc4db25b 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-shared2', './generated-dep1', './generated-dep2'], function (shared2, dep1, dep2) { 'use strict';
+define(['./generated-shared2', './generated-dep1', './generated-dep2'], (function (shared2, dep1, dep2) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main3.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main3.js
index 02a46daf2..10d10f8c4 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main3.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main3.js
@@ -1,5 +1,5 @@
-define(['./generated-dep1'], function (dep1) { 'use strict';
+define(['./generated-dep1'], (function (dep1) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main4.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main4.js
index 8806f30b1..610e7e895 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main4.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/amd/main4.js
@@ -1,5 +1,5 @@
-define(['./generated-dep2'], function (dep2) { 'use strict';
+define(['./generated-dep2'], (function (dep2) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/generated-dep1.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/generated-dep1.js
index 1adbf5d7c..e07e55496 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/generated-dep1.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/generated-dep1.js
@@ -1,11 +1,11 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var x = exports('x', 42);
 			console.log('dep1');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/generated-dep2.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/generated-dep2.js
index 987641ccc..fbe9a9f73 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/generated-dep2.js
@@ -1,11 +1,11 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var x = exports('x', 43);
 			console.log('dep2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/generated-shared2.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/generated-shared2.js
index e3daf5963..9c019853a 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/generated-shared2.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/generated-shared2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep1.js', './generated-dep2.js'], function (exports) {
+System.register(['./generated-dep1.js', './generated-dep2.js'], (function (exports) {
 	'use strict';
 	var x$1, x$2;
 	return {
@@ -7,7 +7,7 @@ System.register(['./generated-dep1.js', './generated-dep2.js'], function (export
 		}, function (module) {
 			x$2 = module.x;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var x = exports('x', x$1 + 1);
 			console.log('shared1');
@@ -15,6 +15,6 @@ System.register(['./generated-dep1.js', './generated-dep2.js'], function (export
 			var y = exports('y', x$2 + 1);
 			console.log('shared2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main1.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main1.js
index e0735768b..db46e711a 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-shared2.js', './generated-dep1.js', './generated-dep2.js'], function () {
+System.register(['./generated-shared2.js', './generated-dep1.js', './generated-dep2.js'], (function () {
 	'use strict';
 	var x, y;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-shared2.js', './generated-dep1.js', './generated-d
 			x = module.x;
 			y = module.y;
 		}, function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(x + y);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main2.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main2.js
index b37f5d5a8..62f60a24c 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-shared2.js', './generated-dep1.js', './generated-dep2.js'], function () {
+System.register(['./generated-shared2.js', './generated-dep1.js', './generated-dep2.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main3.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main3.js
index 5668bec5d..70e1fd2e9 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main3.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main3.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep1.js'], function () {
+System.register(['./generated-dep1.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main4.js b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main4.js
index 73473efce..f0967d3f2 100644
--- a/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main4.js
+++ b/test/chunking-form/samples/chunk-deshadowing-reassignment/_expected/system/main4.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep2.js'], function () {
+System.register(['./generated-dep2.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/amd/generated-dep11.js b/test/chunking-form/samples/chunk-execution-order/_expected/amd/generated-dep11.js
index 8a7b5d704..ecaab3866 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/amd/generated-dep11.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/amd/generated-dep11.js
@@ -1,5 +1,5 @@
-define(['./generated-dep111', './generated-dep112'], function (dep111, dep112) { 'use strict';
+define(['./generated-dep111', './generated-dep112'], (function (dep111, dep112) { 'use strict';
 
 	console.log('11');
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/amd/generated-dep111.js b/test/chunking-form/samples/chunk-execution-order/_expected/amd/generated-dep111.js
index 3e36b05c8..22ac93b63 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/amd/generated-dep111.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/amd/generated-dep111.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('111');
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/amd/generated-dep112.js b/test/chunking-form/samples/chunk-execution-order/_expected/amd/generated-dep112.js
index bd54da136..8db6250c9 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/amd/generated-dep112.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/amd/generated-dep112.js
@@ -1,8 +1,8 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const x = 0;
 	console.log('112');
 
 	exports.x = x;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/amd/main1.js b/test/chunking-form/samples/chunk-execution-order/_expected/amd/main1.js
index ae3cc192d..302a756c8 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/amd/main1.js
@@ -1,7 +1,7 @@
-define(['./generated-dep11', './generated-dep112', './generated-dep111'], function (dep11, dep112, dep111) { 'use strict';
+define(['./generated-dep11', './generated-dep112', './generated-dep111'], (function (dep11, dep112, dep111) { 'use strict';
 
 	console.log('1');
 
 	console.log(dep112.x);
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/amd/main2.js b/test/chunking-form/samples/chunk-execution-order/_expected/amd/main2.js
index 39a25a820..7449af247 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-dep11', './generated-dep111', './generated-dep112'], function (dep11, dep111, dep112) { 'use strict';
+define(['./generated-dep11', './generated-dep111', './generated-dep112'], (function (dep11, dep111, dep112) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/amd/main3.js b/test/chunking-form/samples/chunk-execution-order/_expected/amd/main3.js
index 6b57c04c1..26134a083 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/amd/main3.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/amd/main3.js
@@ -1,5 +1,5 @@
-define(['./generated-dep111'], function (dep111) { 'use strict';
+define(['./generated-dep111'], (function (dep111) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/amd/main4.js b/test/chunking-form/samples/chunk-execution-order/_expected/amd/main4.js
index bcc4d6bb6..4d2341532 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/amd/main4.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/amd/main4.js
@@ -1,5 +1,5 @@
-define(['./generated-dep112'], function (dep112) { 'use strict';
+define(['./generated-dep112'], (function (dep112) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/system/generated-dep11.js b/test/chunking-form/samples/chunk-execution-order/_expected/system/generated-dep11.js
index 639ef3bdb..5c4045236 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/system/generated-dep11.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/system/generated-dep11.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep111.js', './generated-dep112.js'], function () {
+System.register(['./generated-dep111.js', './generated-dep112.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('11');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/system/generated-dep111.js b/test/chunking-form/samples/chunk-execution-order/_expected/system/generated-dep111.js
index 3f7c0ec4c..43f080e2c 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/system/generated-dep111.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/system/generated-dep111.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('111');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/system/generated-dep112.js b/test/chunking-form/samples/chunk-execution-order/_expected/system/generated-dep112.js
index 9af2689dd..e4a7f032c 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/system/generated-dep112.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/system/generated-dep112.js
@@ -1,11 +1,11 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const x = exports('x', 0);
 			console.log('112');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/system/main1.js b/test/chunking-form/samples/chunk-execution-order/_expected/system/main1.js
index faf8082f0..cd576bfb6 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/system/main1.js
@@ -1,16 +1,16 @@
-System.register(['./generated-dep11.js', './generated-dep112.js', './generated-dep111.js'], function () {
+System.register(['./generated-dep11.js', './generated-dep112.js', './generated-dep111.js'], (function () {
 	'use strict';
 	var x;
 	return {
 		setters: [function () {}, function (module) {
 			x = module.x;
 		}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('1');
 
 			console.log(x);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/system/main2.js b/test/chunking-form/samples/chunk-execution-order/_expected/system/main2.js
index ce4453cda..6b0d3129f 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep11.js', './generated-dep111.js', './generated-dep112.js'], function () {
+System.register(['./generated-dep11.js', './generated-dep111.js', './generated-dep112.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/system/main3.js b/test/chunking-form/samples/chunk-execution-order/_expected/system/main3.js
index 84a63039a..61228b755 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/system/main3.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/system/main3.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep111.js'], function () {
+System.register(['./generated-dep111.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-execution-order/_expected/system/main4.js b/test/chunking-form/samples/chunk-execution-order/_expected/system/main4.js
index 2ce7e7a8a..d08ce419a 100644
--- a/test/chunking-form/samples/chunk-execution-order/_expected/system/main4.js
+++ b/test/chunking-form/samples/chunk-execution-order/_expected/system/main4.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep112.js'], function () {
+System.register(['./generated-dep112.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-export-deshadowing/_expected/amd/generated-dep1.js b/test/chunking-form/samples/chunk-export-deshadowing/_expected/amd/generated-dep1.js
index cddd2c6bf..5c3109846 100644
--- a/test/chunking-form/samples/chunk-export-deshadowing/_expected/amd/generated-dep1.js
+++ b/test/chunking-form/samples/chunk-export-deshadowing/_expected/amd/generated-dep1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn$2 () {
     console.log('lib fn');
@@ -20,4 +20,4 @@ define(['exports'], function (exports) { 'use strict';
   exports.fn = fn;
   exports.fn$1 = fn$1;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-export-deshadowing/_expected/amd/main1.js b/test/chunking-form/samples/chunk-export-deshadowing/_expected/amd/main1.js
index 76c150bb2..e6b4a5d3f 100644
--- a/test/chunking-form/samples/chunk-export-deshadowing/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunk-export-deshadowing/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['./generated-dep1'], function (dep1) { 'use strict';
+define(['./generated-dep1'], (function (dep1) { 'use strict';
 
   class Main1 {
     constructor () {
@@ -8,4 +8,4 @@ define(['./generated-dep1'], function (dep1) { 'use strict';
 
   return Main1;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-export-deshadowing/_expected/amd/main2.js b/test/chunking-form/samples/chunk-export-deshadowing/_expected/amd/main2.js
index 483ff435c..eb0d44bef 100644
--- a/test/chunking-form/samples/chunk-export-deshadowing/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunk-export-deshadowing/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['./generated-dep1'], function (dep1) { 'use strict';
+define(['./generated-dep1'], (function (dep1) { 'use strict';
 
   class Main2 {
     constructor () {
@@ -8,4 +8,4 @@ define(['./generated-dep1'], function (dep1) { 'use strict';
 
   return Main2;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-export-deshadowing/_expected/system/generated-dep1.js b/test/chunking-form/samples/chunk-export-deshadowing/_expected/system/generated-dep1.js
index 680a38798..b3755401f 100644
--- a/test/chunking-form/samples/chunk-export-deshadowing/_expected/system/generated-dep1.js
+++ b/test/chunking-form/samples/chunk-export-deshadowing/_expected/system/generated-dep1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports({
         a: fn$1,
@@ -25,6 +25,6 @@ System.register([], function (exports) {
 
       var text = 'dep2 fn';
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/chunk-export-deshadowing/_expected/system/main1.js b/test/chunking-form/samples/chunk-export-deshadowing/_expected/system/main1.js
index 21a22fa46..0d1e27605 100644
--- a/test/chunking-form/samples/chunk-export-deshadowing/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunk-export-deshadowing/_expected/system/main1.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep1.js'], function (exports) {
+System.register(['./generated-dep1.js'], (function (exports) {
   'use strict';
   var fn;
   return {
     setters: [function (module) {
       fn = module.f;
     }],
-    execute: function () {
+    execute: (function () {
 
       class Main1 {
         constructor () {
@@ -13,6 +13,6 @@ System.register(['./generated-dep1.js'], function (exports) {
         }
       } exports('default', Main1);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/chunk-export-deshadowing/_expected/system/main2.js b/test/chunking-form/samples/chunk-export-deshadowing/_expected/system/main2.js
index a105cc041..98306493d 100644
--- a/test/chunking-form/samples/chunk-export-deshadowing/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunk-export-deshadowing/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep1.js'], function (exports) {
+System.register(['./generated-dep1.js'], (function (exports) {
   'use strict';
   var fn;
   return {
     setters: [function (module) {
       fn = module.a;
     }],
-    execute: function () {
+    execute: (function () {
 
       class Main2 {
         constructor () {
@@ -13,6 +13,6 @@ System.register(['./generated-dep1.js'], function (exports) {
         }
       } exports('default', Main2);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/chunk-export-renaming/_expected/amd/generated-one.js b/test/chunking-form/samples/chunk-export-renaming/_expected/amd/generated-one.js
index c0824cee2..260a859fc 100644
--- a/test/chunking-form/samples/chunk-export-renaming/_expected/amd/generated-one.js
+++ b/test/chunking-form/samples/chunk-export-renaming/_expected/amd/generated-one.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   class One {
     test() {
@@ -11,4 +11,4 @@ define(['exports'], function (exports) { 'use strict';
   exports.ONE_CONSTANT = ONE_CONSTANT;
   exports.One = One;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-export-renaming/_expected/amd/main1.js b/test/chunking-form/samples/chunk-export-renaming/_expected/amd/main1.js
index 18a0182c0..4d7e54ea1 100644
--- a/test/chunking-form/samples/chunk-export-renaming/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunk-export-renaming/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-one'], function (exports, one) { 'use strict';
+define(['exports', './generated-one'], (function (exports, one) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-one'], function (exports, one) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-export-renaming/_expected/amd/main2.js b/test/chunking-form/samples/chunk-export-renaming/_expected/amd/main2.js
index 781a4cbc0..cbf9f9564 100644
--- a/test/chunking-form/samples/chunk-export-renaming/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunk-export-renaming/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-one'], function (exports, one) { 'use strict';
+define(['exports', './generated-one'], (function (exports, one) { 'use strict';
 
     class Two {
         test() {
@@ -10,4 +10,4 @@ define(['exports', './generated-one'], function (exports, one) { 'use strict';
 
     Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-export-renaming/_expected/system/generated-one.js b/test/chunking-form/samples/chunk-export-renaming/_expected/system/generated-one.js
index 68c57590a..6ac7ba73a 100644
--- a/test/chunking-form/samples/chunk-export-renaming/_expected/system/generated-one.js
+++ b/test/chunking-form/samples/chunk-export-renaming/_expected/system/generated-one.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       class One {
         test() {
@@ -11,6 +11,6 @@ System.register([], function (exports) {
 
       const ONE_CONSTANT = exports('a', 'oneconstant');
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/chunk-export-renaming/_expected/system/main1.js b/test/chunking-form/samples/chunk-export-renaming/_expected/system/main1.js
index 4ef53c4cb..39a19bdbb 100644
--- a/test/chunking-form/samples/chunk-export-renaming/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunk-export-renaming/_expected/system/main1.js
@@ -1,13 +1,13 @@
-System.register(['./generated-one.js'], function (exports) {
+System.register(['./generated-one.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('ItemOne', module.O);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-export-renaming/_expected/system/main2.js b/test/chunking-form/samples/chunk-export-renaming/_expected/system/main2.js
index 98c75710b..f50e9c3d2 100644
--- a/test/chunking-form/samples/chunk-export-renaming/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunk-export-renaming/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-one.js'], function (exports) {
+System.register(['./generated-one.js'], (function (exports) {
     'use strict';
     var ONE_CONSTANT;
     return {
         setters: [function (module) {
             ONE_CONSTANT = module.a;
         }],
-        execute: function () {
+        execute: (function () {
 
             class Two {
                 test() {
@@ -13,6 +13,6 @@ System.register(['./generated-one.js'], function (exports) {
                 }
             } exports('ItemTwo', Two);
 
-        }
+        })
     };
-});
+}));
diff --git a/test/chunking-form/samples/chunk-import-deshadowing/_expected/amd/generated-lib.js b/test/chunking-form/samples/chunk-import-deshadowing/_expected/amd/generated-lib.js
index ef3191944..3dde71870 100644
--- a/test/chunking-form/samples/chunk-import-deshadowing/_expected/amd/generated-lib.js
+++ b/test/chunking-form/samples/chunk-import-deshadowing/_expected/amd/generated-lib.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	function emptyFunction() {}
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	exports.emptyFunction = emptyFunction;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-import-deshadowing/_expected/amd/main1.js b/test/chunking-form/samples/chunk-import-deshadowing/_expected/amd/main1.js
index 6489c2c14..cf2e853c8 100644
--- a/test/chunking-form/samples/chunk-import-deshadowing/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunk-import-deshadowing/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['./generated-lib'], function (lib) { 'use strict';
+define(['./generated-lib'], (function (lib) { 'use strict';
 
 	function fn() {
 		var emptyFunction = lib.emptyFunction;
@@ -9,4 +9,4 @@ define(['./generated-lib'], function (lib) { 'use strict';
 
 	fn();
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-import-deshadowing/_expected/amd/main2.js b/test/chunking-form/samples/chunk-import-deshadowing/_expected/amd/main2.js
index 2bc67f046..6c803cf1a 100644
--- a/test/chunking-form/samples/chunk-import-deshadowing/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunk-import-deshadowing/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-lib'], function (lib) { 'use strict';
+define(['./generated-lib'], (function (lib) { 'use strict';
 
 	console.log('dep2');
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-import-deshadowing/_expected/system/generated-lib.js b/test/chunking-form/samples/chunk-import-deshadowing/_expected/system/generated-lib.js
index 41c5389c2..b7b0af90f 100644
--- a/test/chunking-form/samples/chunk-import-deshadowing/_expected/system/generated-lib.js
+++ b/test/chunking-form/samples/chunk-import-deshadowing/_expected/system/generated-lib.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('e', emptyFunction);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 
 			console.log('lib');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-import-deshadowing/_expected/system/main1.js b/test/chunking-form/samples/chunk-import-deshadowing/_expected/system/main1.js
index bebccb02e..7fb718518 100644
--- a/test/chunking-form/samples/chunk-import-deshadowing/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunk-import-deshadowing/_expected/system/main1.js
@@ -1,11 +1,11 @@
-System.register(['./generated-lib.js'], function () {
+System.register(['./generated-lib.js'], (function () {
 	'use strict';
 	var emptyFunction;
 	return {
 		setters: [function (module) {
 			emptyFunction = module.e;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			function fn() {
 				var emptyFunction$1 = emptyFunction;
@@ -16,6 +16,6 @@ System.register(['./generated-lib.js'], function () {
 
 			fn();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-import-deshadowing/_expected/system/main2.js b/test/chunking-form/samples/chunk-import-deshadowing/_expected/system/main2.js
index 67ec6dee4..7faf680fa 100644
--- a/test/chunking-form/samples/chunk-import-deshadowing/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunk-import-deshadowing/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-lib.js'], function () {
+System.register(['./generated-lib.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-live-bindings/_expected/amd/generated-dep1.js b/test/chunking-form/samples/chunk-live-bindings/_expected/amd/generated-dep1.js
index 1bad95594..34410fe56 100644
--- a/test/chunking-form/samples/chunk-live-bindings/_expected/amd/generated-dep1.js
+++ b/test/chunking-form/samples/chunk-live-bindings/_expected/amd/generated-dep1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn$2 () {
     console.log('lib fn');
@@ -22,4 +22,4 @@ define(['exports'], function (exports) { 'use strict';
   exports.fn = fn;
   exports.fn$1 = fn$1;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-live-bindings/_expected/amd/main1.js b/test/chunking-form/samples/chunk-live-bindings/_expected/amd/main1.js
index 7f1158b9f..5753381ad 100644
--- a/test/chunking-form/samples/chunk-live-bindings/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunk-live-bindings/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['./generated-dep1'], function (dep1) { 'use strict';
+define(['./generated-dep1'], (function (dep1) { 'use strict';
 
   class Main1 {
     constructor () {
@@ -9,4 +9,4 @@ define(['./generated-dep1'], function (dep1) { 'use strict';
 
   return Main1;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-live-bindings/_expected/amd/main2.js b/test/chunking-form/samples/chunk-live-bindings/_expected/amd/main2.js
index 82f94dbe2..550a968ab 100644
--- a/test/chunking-form/samples/chunk-live-bindings/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunk-live-bindings/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['./generated-dep1'], function (dep1) { 'use strict';
+define(['./generated-dep1'], (function (dep1) { 'use strict';
 
   class Main2 {
     constructor () {
@@ -9,4 +9,4 @@ define(['./generated-dep1'], function (dep1) { 'use strict';
 
   return Main2;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-live-bindings/_expected/system/generated-dep1.js b/test/chunking-form/samples/chunk-live-bindings/_expected/system/generated-dep1.js
index 9c556ec09..28f5ad331 100644
--- a/test/chunking-form/samples/chunk-live-bindings/_expected/system/generated-dep1.js
+++ b/test/chunking-form/samples/chunk-live-bindings/_expected/system/generated-dep1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports({
         a: fn$1,
@@ -27,6 +27,6 @@ System.register([], function (exports) {
 
       var text = exports('t', 'dep2 fn');
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/chunk-live-bindings/_expected/system/main1.js b/test/chunking-form/samples/chunk-live-bindings/_expected/system/main1.js
index 4082f2bc1..a3ad1dd0d 100644
--- a/test/chunking-form/samples/chunk-live-bindings/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunk-live-bindings/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep1.js'], function (exports) {
+System.register(['./generated-dep1.js'], (function (exports) {
   'use strict';
   var fn, text;
   return {
@@ -6,7 +6,7 @@ System.register(['./generated-dep1.js'], function (exports) {
       fn = module.f;
       text = module.t;
     }],
-    execute: function () {
+    execute: (function () {
 
       class Main1 {
         constructor () {
@@ -15,6 +15,6 @@ System.register(['./generated-dep1.js'], function (exports) {
         }
       } exports('default', Main1);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/chunk-live-bindings/_expected/system/main2.js b/test/chunking-form/samples/chunk-live-bindings/_expected/system/main2.js
index d7c6ceee5..cd8950cfa 100644
--- a/test/chunking-form/samples/chunk-live-bindings/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunk-live-bindings/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep1.js'], function (exports) {
+System.register(['./generated-dep1.js'], (function (exports) {
   'use strict';
   var fn, text;
   return {
@@ -6,7 +6,7 @@ System.register(['./generated-dep1.js'], function (exports) {
       fn = module.a;
       text = module.b;
     }],
-    execute: function () {
+    execute: (function () {
 
       class Main2 {
         constructor () {
@@ -15,6 +15,6 @@ System.register(['./generated-dep1.js'], function (exports) {
         }
       } exports('default', Main2);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/chunk-namespace-boundary/_expected/amd/generated-shared.js b/test/chunking-form/samples/chunk-namespace-boundary/_expected/amd/generated-shared.js
index 0464582da..0c415a736 100644
--- a/test/chunking-form/samples/chunk-namespace-boundary/_expected/amd/generated-shared.js
+++ b/test/chunking-form/samples/chunk-namespace-boundary/_expected/amd/generated-shared.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
         var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};
 
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
         exports.commonjsGlobal = commonjsGlobal;
         exports.shared = shared;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-namespace-boundary/_expected/amd/main1.js b/test/chunking-form/samples/chunk-namespace-boundary/_expected/amd/main1.js
index a908b1575..e03d9525f 100644
--- a/test/chunking-form/samples/chunk-namespace-boundary/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunk-namespace-boundary/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['./generated-shared'], function (shared) { 'use strict';
+define(['./generated-shared'], (function (shared) { 'use strict';
 
 	shared.commonjsGlobal.fn = d => d + 1;
 	var cjs = shared.commonjsGlobal.fn;
@@ -7,4 +7,4 @@ define(['./generated-shared'], function (shared) { 'use strict';
 
 	return main1;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-namespace-boundary/_expected/amd/main2.js b/test/chunking-form/samples/chunk-namespace-boundary/_expected/amd/main2.js
index 421ca13fd..f3a28245b 100644
--- a/test/chunking-form/samples/chunk-namespace-boundary/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunk-namespace-boundary/_expected/amd/main2.js
@@ -1,7 +1,7 @@
-define(['./generated-shared'], function (shared) { 'use strict';
+define(['./generated-shared'], (function (shared) { 'use strict';
 
 	var main2 = shared.shared.map(d => d + 2);
 
 	return main2;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-namespace-boundary/_expected/system/generated-shared.js b/test/chunking-form/samples/chunk-namespace-boundary/_expected/system/generated-shared.js
index 935f823d3..784450d43 100644
--- a/test/chunking-form/samples/chunk-namespace-boundary/_expected/system/generated-shared.js
+++ b/test/chunking-form/samples/chunk-namespace-boundary/_expected/system/generated-shared.js
@@ -1,13 +1,13 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
         'use strict';
         return {
-                execute: function () {
+                execute: (function () {
 
                         var commonjsGlobal = exports('c', typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {});
 
                         commonjsGlobal.data = [4, 5, 6];
                         var shared = exports('s', commonjsGlobal.data);
 
-                }
+                })
         };
-});
+}));
diff --git a/test/chunking-form/samples/chunk-namespace-boundary/_expected/system/main1.js b/test/chunking-form/samples/chunk-namespace-boundary/_expected/system/main1.js
index 8be27a05c..b499c47c3 100644
--- a/test/chunking-form/samples/chunk-namespace-boundary/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunk-namespace-boundary/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-shared.js'], function (exports) {
+System.register(['./generated-shared.js'], (function (exports) {
 	'use strict';
 	var commonjsGlobal, shared;
 	return {
@@ -6,13 +6,13 @@ System.register(['./generated-shared.js'], function (exports) {
 			commonjsGlobal = module.c;
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			commonjsGlobal.fn = d => d + 1;
 			var cjs = commonjsGlobal.fn;
 
 			var main1 = exports('default', shared.map(cjs));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-namespace-boundary/_expected/system/main2.js b/test/chunking-form/samples/chunk-namespace-boundary/_expected/system/main2.js
index 7230e1091..6cb661e67 100644
--- a/test/chunking-form/samples/chunk-namespace-boundary/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunk-namespace-boundary/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-shared.js'], function (exports) {
+System.register(['./generated-shared.js'], (function (exports) {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var main2 = exports('default', shared.map(d => d + 2));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-naming/_expected/amd/chunks/chunk.js b/test/chunking-form/samples/chunk-naming/_expected/amd/chunks/chunk.js
index adcda7446..972b13ee1 100644
--- a/test/chunking-form/samples/chunk-naming/_expected/amd/chunks/chunk.js
+++ b/test/chunking-form/samples/chunk-naming/_expected/amd/chunks/chunk.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var num = 1;
 
 	exports.num = num;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-naming/_expected/amd/chunks/chunk2.js b/test/chunking-form/samples/chunk-naming/_expected/amd/chunks/chunk2.js
index a1d8833c6..76b78a38c 100644
--- a/test/chunking-form/samples/chunk-naming/_expected/amd/chunks/chunk2.js
+++ b/test/chunking-form/samples/chunk-naming/_expected/amd/chunks/chunk2.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var num = 2;
 
 	exports.num = num;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-naming/_expected/amd/chunks/chunk3.js b/test/chunking-form/samples/chunk-naming/_expected/amd/chunks/chunk3.js
index 301f565bc..69a887664 100644
--- a/test/chunking-form/samples/chunk-naming/_expected/amd/chunks/chunk3.js
+++ b/test/chunking-form/samples/chunk-naming/_expected/amd/chunks/chunk3.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var num = 3;
 
 	exports.num = num;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-naming/_expected/amd/custom/entryC.js b/test/chunking-form/samples/chunk-naming/_expected/amd/custom/entryC.js
index dc61fbfae..e0ccfd7a8 100644
--- a/test/chunking-form/samples/chunk-naming/_expected/amd/custom/entryC.js
+++ b/test/chunking-form/samples/chunk-naming/_expected/amd/custom/entryC.js
@@ -1,5 +1,5 @@
-define(['../chunks/chunk', '../chunks/chunk3'], function (dep1, dep3) { 'use strict';
+define(['../chunks/chunk', '../chunks/chunk3'], (function (dep1, dep3) { 'use strict';
 
 	console.log(dep1.num + dep3.num);
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-naming/_expected/amd/entryA.js b/test/chunking-form/samples/chunk-naming/_expected/amd/entryA.js
index 263d4b3c0..3b1c578c9 100644
--- a/test/chunking-form/samples/chunk-naming/_expected/amd/entryA.js
+++ b/test/chunking-form/samples/chunk-naming/_expected/amd/entryA.js
@@ -1,5 +1,5 @@
-define(['./chunks/chunk', './chunks/chunk2'], function (dep1, dep2) { 'use strict';
+define(['./chunks/chunk', './chunks/chunk2'], (function (dep1, dep2) { 'use strict';
 
 	console.log(dep1.num + dep2.num);
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-naming/_expected/amd/entryB.js b/test/chunking-form/samples/chunk-naming/_expected/amd/entryB.js
index 2b47f5f68..901e0a620 100644
--- a/test/chunking-form/samples/chunk-naming/_expected/amd/entryB.js
+++ b/test/chunking-form/samples/chunk-naming/_expected/amd/entryB.js
@@ -1,5 +1,5 @@
-define(['./chunks/chunk2', './chunks/chunk3'], function (dep2, dep3) { 'use strict';
+define(['./chunks/chunk2', './chunks/chunk3'], (function (dep2, dep3) { 'use strict';
 
 	console.log(dep2.num + dep3.num);
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-naming/_expected/system/chunks/chunk.js b/test/chunking-form/samples/chunk-naming/_expected/system/chunks/chunk.js
index 6f90b9452..fc31cf2ca 100644
--- a/test/chunking-form/samples/chunk-naming/_expected/system/chunks/chunk.js
+++ b/test/chunking-form/samples/chunk-naming/_expected/system/chunks/chunk.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var num = exports('n', 1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-naming/_expected/system/chunks/chunk2.js b/test/chunking-form/samples/chunk-naming/_expected/system/chunks/chunk2.js
index cb32055bf..84584ddd0 100644
--- a/test/chunking-form/samples/chunk-naming/_expected/system/chunks/chunk2.js
+++ b/test/chunking-form/samples/chunk-naming/_expected/system/chunks/chunk2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var num = exports('n', 2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-naming/_expected/system/chunks/chunk3.js b/test/chunking-form/samples/chunk-naming/_expected/system/chunks/chunk3.js
index 77b824db0..9a694d1be 100644
--- a/test/chunking-form/samples/chunk-naming/_expected/system/chunks/chunk3.js
+++ b/test/chunking-form/samples/chunk-naming/_expected/system/chunks/chunk3.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var num = exports('n', 3);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-naming/_expected/system/custom/entryC.js b/test/chunking-form/samples/chunk-naming/_expected/system/custom/entryC.js
index 0ae872b28..dccd2b13e 100644
--- a/test/chunking-form/samples/chunk-naming/_expected/system/custom/entryC.js
+++ b/test/chunking-form/samples/chunk-naming/_expected/system/custom/entryC.js
@@ -1,4 +1,4 @@
-System.register(['../chunks/chunk.js', '../chunks/chunk3.js'], function () {
+System.register(['../chunks/chunk.js', '../chunks/chunk3.js'], (function () {
 	'use strict';
 	var num, num$1;
 	return {
@@ -7,10 +7,10 @@ System.register(['../chunks/chunk.js', '../chunks/chunk3.js'], function () {
 		}, function (module) {
 			num$1 = module.n;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(num + num$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-naming/_expected/system/entryA.js b/test/chunking-form/samples/chunk-naming/_expected/system/entryA.js
index 1f0441bc9..a95244123 100644
--- a/test/chunking-form/samples/chunk-naming/_expected/system/entryA.js
+++ b/test/chunking-form/samples/chunk-naming/_expected/system/entryA.js
@@ -1,4 +1,4 @@
-System.register(['./chunks/chunk.js', './chunks/chunk2.js'], function () {
+System.register(['./chunks/chunk.js', './chunks/chunk2.js'], (function () {
 	'use strict';
 	var num, num$1;
 	return {
@@ -7,10 +7,10 @@ System.register(['./chunks/chunk.js', './chunks/chunk2.js'], function () {
 		}, function (module) {
 			num$1 = module.n;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(num + num$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-naming/_expected/system/entryB.js b/test/chunking-form/samples/chunk-naming/_expected/system/entryB.js
index dee75a915..5d87f3f0f 100644
--- a/test/chunking-form/samples/chunk-naming/_expected/system/entryB.js
+++ b/test/chunking-form/samples/chunk-naming/_expected/system/entryB.js
@@ -1,4 +1,4 @@
-System.register(['./chunks/chunk2.js', './chunks/chunk3.js'], function () {
+System.register(['./chunks/chunk2.js', './chunks/chunk3.js'], (function () {
 	'use strict';
 	var num, num$1;
 	return {
@@ -7,10 +7,10 @@ System.register(['./chunks/chunk2.js', './chunks/chunk3.js'], function () {
 		}, function (module) {
 			num$1 = module.n;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(num + num$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-variable-name-conflict/_expected/amd/generated-dep.js b/test/chunking-form/samples/chunk-variable-name-conflict/_expected/amd/generated-dep.js
index 27508b4e5..425c1f65e 100644
--- a/test/chunking-form/samples/chunk-variable-name-conflict/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/chunk-variable-name-conflict/_expected/amd/generated-dep.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var value = 42;
 	const x = 3;
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.value = value;
 	exports.x = x;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-variable-name-conflict/_expected/amd/main1.js b/test/chunking-form/samples/chunk-variable-name-conflict/_expected/amd/main1.js
index b5ec063a0..883f67fcd 100644
--- a/test/chunking-form/samples/chunk-variable-name-conflict/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunk-variable-name-conflict/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	[43].map(dep$1 => console.log(dep$1, dep.value, dep.x));
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-variable-name-conflict/_expected/amd/main2.js b/test/chunking-form/samples/chunk-variable-name-conflict/_expected/amd/main2.js
index dfbe4d1c2..9fd4f22c2 100644
--- a/test/chunking-form/samples/chunk-variable-name-conflict/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunk-variable-name-conflict/_expected/amd/main2.js
@@ -1,6 +1,6 @@
-define(['./generated-dep'], function (dep$1) { 'use strict';
+define(['./generated-dep'], (function (dep$1) { 'use strict';
 
 	var dep = 44;
 	console.log(dep, dep$1.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/chunk-variable-name-conflict/_expected/system/generated-dep.js b/test/chunking-form/samples/chunk-variable-name-conflict/_expected/system/generated-dep.js
index d48918f6d..8127a3337 100644
--- a/test/chunking-form/samples/chunk-variable-name-conflict/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/chunk-variable-name-conflict/_expected/system/generated-dep.js
@@ -1,11 +1,11 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('v', 42);
 			const x = exports('x', 3);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-variable-name-conflict/_expected/system/main1.js b/test/chunking-form/samples/chunk-variable-name-conflict/_expected/system/main1.js
index c3a57d0d0..91d078182 100644
--- a/test/chunking-form/samples/chunk-variable-name-conflict/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunk-variable-name-conflict/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value, x;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-dep.js'], function () {
 			value = module.v;
 			x = module.x;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			[43].map(dep => console.log(dep, value, x));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunk-variable-name-conflict/_expected/system/main2.js b/test/chunking-form/samples/chunk-variable-name-conflict/_expected/system/main2.js
index ab8d56f3a..3322223cc 100644
--- a/test/chunking-form/samples/chunk-variable-name-conflict/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunk-variable-name-conflict/_expected/system/main2.js
@@ -1,15 +1,15 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var dep = 44;
 			console.log(dep, value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunking-compact/_expected/amd/generated-dep2.js b/test/chunking-form/samples/chunking-compact/_expected/amd/generated-dep2.js
index 306ef4cb3..44642c466 100644
--- a/test/chunking-form/samples/chunking-compact/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/chunking-compact/_expected/amd/generated-dep2.js
@@ -1,6 +1,6 @@
-define(['exports'],function(exports){'use strict';function fn$1 () {
+define(['exports'],(function(exports){'use strict';function fn$1 () {
   console.log('lib2 fn');
 }function fn () {
   fn$1();
   console.log('dep2 fn');
-}exports.f=fn;});
\ No newline at end of file
+}exports.f=fn;}));
\ No newline at end of file
diff --git a/test/chunking-form/samples/chunking-compact/_expected/amd/main1.js b/test/chunking-form/samples/chunking-compact/_expected/amd/main1.js
index 56ee749a0..18456b174 100644
--- a/test/chunking-form/samples/chunking-compact/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunking-compact/_expected/amd/main1.js
@@ -1,8 +1,8 @@
-define(['./generated-dep2'],function(dep2){'use strict';function fn () {
+define(['./generated-dep2'],(function(dep2){'use strict';function fn () {
   console.log('dep1 fn');
 }class Main1 {
   constructor () {
     fn();
     dep2.f();
   }
-}return Main1;});
\ No newline at end of file
+}return Main1;}));
\ No newline at end of file
diff --git a/test/chunking-form/samples/chunking-compact/_expected/amd/main2.js b/test/chunking-form/samples/chunking-compact/_expected/amd/main2.js
index 7e213ea36..692f3c158 100644
--- a/test/chunking-form/samples/chunking-compact/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunking-compact/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['./generated-dep2','external'],function(dep2,external){'use strict';function fn$1 () {
+define(['./generated-dep2','external'],(function(dep2,external){'use strict';function fn$1 () {
   console.log('lib1 fn');
   external.fn();
 }function fn () {
@@ -9,4 +9,4 @@ define(['./generated-dep2','external'],function(dep2,external){'use strict';func
     fn();
     dep2.f();
   }
-}return Main2;});
\ No newline at end of file
+}return Main2;}));
\ No newline at end of file
diff --git a/test/chunking-form/samples/chunking-compact/_expected/system/generated-dep2.js b/test/chunking-form/samples/chunking-compact/_expected/system/generated-dep2.js
index 496056539..03a9c8cd1 100644
--- a/test/chunking-form/samples/chunking-compact/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/chunking-compact/_expected/system/generated-dep2.js
@@ -1,6 +1,6 @@
-System.register([],function(exports){'use strict';return{execute:function(){exports('f',fn);function fn$1 () {
+System.register([],(function(exports){'use strict';return{execute:(function(){exports('f',fn);function fn$1 () {
   console.log('lib2 fn');
 }function fn () {
   fn$1();
   console.log('dep2 fn');
-}}}});
\ No newline at end of file
+}})}}));
\ No newline at end of file
diff --git a/test/chunking-form/samples/chunking-compact/_expected/system/main1.js b/test/chunking-form/samples/chunking-compact/_expected/system/main1.js
index f4ad7db04..a7353755c 100644
--- a/test/chunking-form/samples/chunking-compact/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunking-compact/_expected/system/main1.js
@@ -1,8 +1,8 @@
-System.register(['./generated-dep2.js'],function(exports){'use strict';var fn$1;return{setters:[function(module){fn$1=module.f;}],execute:function(){function fn () {
+System.register(['./generated-dep2.js'],(function(exports){'use strict';var fn$1;return{setters:[function(module){fn$1=module.f;}],execute:(function(){function fn () {
   console.log('dep1 fn');
 }class Main1 {
   constructor () {
     fn();
     fn$1();
   }
-}exports('default',Main1);}}});
\ No newline at end of file
+}exports('default',Main1);})}}));
\ No newline at end of file
diff --git a/test/chunking-form/samples/chunking-compact/_expected/system/main2.js b/test/chunking-form/samples/chunking-compact/_expected/system/main2.js
index 082b46ef0..00bc9700b 100644
--- a/test/chunking-form/samples/chunking-compact/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunking-compact/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep2.js','external'],function(exports){'use strict';var fn$3,fn$2;return{setters:[function(module){fn$3=module.f;},function(module){fn$2=module.fn;}],execute:function(){function fn$1 () {
+System.register(['./generated-dep2.js','external'],(function(exports){'use strict';var fn$3,fn$2;return{setters:[function(module){fn$3=module.f;},function(module){fn$2=module.fn;}],execute:(function(){function fn$1 () {
   console.log('lib1 fn');
   fn$2();
 }function fn () {
@@ -9,4 +9,4 @@ System.register(['./generated-dep2.js','external'],function(exports){'use strict
     fn();
     fn$3();
   }
-}exports('default',Main2);}}});
\ No newline at end of file
+}exports('default',Main2);})}}));
\ No newline at end of file
diff --git a/test/chunking-form/samples/chunking-externals/_expected/amd/generated-dep2.js b/test/chunking-form/samples/chunking-externals/_expected/amd/generated-dep2.js
index f49e00945..6dfaa8d56 100644
--- a/test/chunking-form/samples/chunking-externals/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/chunking-externals/_expected/amd/generated-dep2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn$1 () {
     console.log('lib2 fn');
@@ -11,4 +11,4 @@ define(['exports'], function (exports) { 'use strict';
 
   exports.fn = fn;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunking-externals/_expected/amd/main1.js b/test/chunking-form/samples/chunking-externals/_expected/amd/main1.js
index ab0a692d5..97cc8e638 100644
--- a/test/chunking-form/samples/chunking-externals/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunking-externals/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['./generated-dep2'], function (dep2) { 'use strict';
+define(['./generated-dep2'], (function (dep2) { 'use strict';
 
   function fn () {
     console.log('dep1 fn');
@@ -13,4 +13,4 @@ define(['./generated-dep2'], function (dep2) { 'use strict';
 
   return Main1;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunking-externals/_expected/amd/main2.js b/test/chunking-form/samples/chunking-externals/_expected/amd/main2.js
index 60066323e..6c0cafb09 100644
--- a/test/chunking-form/samples/chunking-externals/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunking-externals/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['./generated-dep2', 'external'], function (dep2, external) { 'use strict';
+define(['./generated-dep2', 'external'], (function (dep2, external) { 'use strict';
 
   function fn$1 () {
     console.log('lib1 fn');
@@ -19,4 +19,4 @@ define(['./generated-dep2', 'external'], function (dep2, external) { 'use strict
 
   return Main2;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunking-externals/_expected/system/generated-dep2.js b/test/chunking-form/samples/chunking-externals/_expected/system/generated-dep2.js
index c86d9b476..fc9018b1c 100644
--- a/test/chunking-form/samples/chunking-externals/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/chunking-externals/_expected/system/generated-dep2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('f', fn);
 
@@ -14,6 +14,6 @@ System.register([], function (exports) {
         console.log('dep2 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/chunking-externals/_expected/system/main1.js b/test/chunking-form/samples/chunking-externals/_expected/system/main1.js
index 287fda7c0..cde21f733 100644
--- a/test/chunking-form/samples/chunking-externals/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunking-externals/_expected/system/main1.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep2.js'], function (exports) {
+System.register(['./generated-dep2.js'], (function (exports) {
   'use strict';
   var fn$1;
   return {
     setters: [function (module) {
       fn$1 = module.f;
     }],
-    execute: function () {
+    execute: (function () {
 
       function fn () {
         console.log('dep1 fn');
@@ -18,6 +18,6 @@ System.register(['./generated-dep2.js'], function (exports) {
         }
       } exports('default', Main1);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/chunking-externals/_expected/system/main2.js b/test/chunking-form/samples/chunking-externals/_expected/system/main2.js
index f24c7c8cd..eacd8a231 100644
--- a/test/chunking-form/samples/chunking-externals/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunking-externals/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep2.js', 'external'], function (exports) {
+System.register(['./generated-dep2.js', 'external'], (function (exports) {
   'use strict';
   var fn$3, fn$2;
   return {
@@ -7,7 +7,7 @@ System.register(['./generated-dep2.js', 'external'], function (exports) {
     }, function (module) {
       fn$2 = module.fn;
     }],
-    execute: function () {
+    execute: (function () {
 
       function fn$1 () {
         console.log('lib1 fn');
@@ -26,6 +26,6 @@ System.register(['./generated-dep2.js', 'external'], function (exports) {
         }
       } exports('default', Main2);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/chunking-reexport/_expected/amd/generated-dep.js b/test/chunking-form/samples/chunking-reexport/_expected/amd/generated-dep.js
index f906bb861..380f3a105 100644
--- a/test/chunking-form/samples/chunking-reexport/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/chunking-reexport/_expected/amd/generated-dep.js
@@ -1,5 +1,5 @@
-define(['external'], function (external) { 'use strict';
+define(['external'], (function (external) { 'use strict';
 
 	console.log('dep');
 
-});
+}));
diff --git a/test/chunking-form/samples/chunking-reexport/_expected/amd/main1.js b/test/chunking-form/samples/chunking-reexport/_expected/amd/main1.js
index 01e41b3d0..d9d7da1d7 100644
--- a/test/chunking-form/samples/chunking-reexport/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunking-reexport/_expected/amd/main1.js
@@ -1,14 +1,12 @@
-define(['exports', './generated-dep', 'external'], function (exports, dep, external) { 'use strict';
+define(['exports', './generated-dep', 'external'], (function (exports, dep, external) { 'use strict';
 
 
 
 	Object.defineProperty(exports, 'dep', {
 		enumerable: true,
-		get: function () {
-			return external.asdf;
-		}
+		get: function () { return external.asdf; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/chunking-reexport/_expected/amd/main2.js b/test/chunking-form/samples/chunking-reexport/_expected/amd/main2.js
index 01e41b3d0..d9d7da1d7 100644
--- a/test/chunking-form/samples/chunking-reexport/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunking-reexport/_expected/amd/main2.js
@@ -1,14 +1,12 @@
-define(['exports', './generated-dep', 'external'], function (exports, dep, external) { 'use strict';
+define(['exports', './generated-dep', 'external'], (function (exports, dep, external) { 'use strict';
 
 
 
 	Object.defineProperty(exports, 'dep', {
 		enumerable: true,
-		get: function () {
-			return external.asdf;
-		}
+		get: function () { return external.asdf; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/chunking-reexport/_expected/cjs/main1.js b/test/chunking-form/samples/chunking-reexport/_expected/cjs/main1.js
index c12bad537..f23328678 100644
--- a/test/chunking-form/samples/chunking-reexport/_expected/cjs/main1.js
+++ b/test/chunking-form/samples/chunking-reexport/_expected/cjs/main1.js
@@ -9,7 +9,5 @@ var external = require('external');
 
 Object.defineProperty(exports, 'dep', {
 	enumerable: true,
-	get: function () {
-		return external.asdf;
-	}
+	get: function () { return external.asdf; }
 });
diff --git a/test/chunking-form/samples/chunking-reexport/_expected/cjs/main2.js b/test/chunking-form/samples/chunking-reexport/_expected/cjs/main2.js
index c12bad537..f23328678 100644
--- a/test/chunking-form/samples/chunking-reexport/_expected/cjs/main2.js
+++ b/test/chunking-form/samples/chunking-reexport/_expected/cjs/main2.js
@@ -9,7 +9,5 @@ var external = require('external');
 
 Object.defineProperty(exports, 'dep', {
 	enumerable: true,
-	get: function () {
-		return external.asdf;
-	}
+	get: function () { return external.asdf; }
 });
diff --git a/test/chunking-form/samples/chunking-reexport/_expected/system/generated-dep.js b/test/chunking-form/samples/chunking-reexport/_expected/system/generated-dep.js
index fb314b87d..d25dda199 100644
--- a/test/chunking-form/samples/chunking-reexport/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/chunking-reexport/_expected/system/generated-dep.js
@@ -1,11 +1,11 @@
-System.register(['external'], function () {
+System.register(['external'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunking-reexport/_expected/system/main1.js b/test/chunking-form/samples/chunking-reexport/_expected/system/main1.js
index 91fd83990..3dd1177bb 100644
--- a/test/chunking-form/samples/chunking-reexport/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunking-reexport/_expected/system/main1.js
@@ -1,13 +1,13 @@
-System.register(['./generated-dep.js', 'external'], function (exports) {
+System.register(['./generated-dep.js', 'external'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function () {}, function (module) {
 			exports('dep', module.asdf);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunking-reexport/_expected/system/main2.js b/test/chunking-form/samples/chunking-reexport/_expected/system/main2.js
index 91fd83990..3dd1177bb 100644
--- a/test/chunking-form/samples/chunking-reexport/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunking-reexport/_expected/system/main2.js
@@ -1,13 +1,13 @@
-System.register(['./generated-dep.js', 'external'], function (exports) {
+System.register(['./generated-dep.js', 'external'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function () {}, function (module) {
 			exports('dep', module.asdf);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunking-source-maps/_expected/amd/generated-dep2.js b/test/chunking-form/samples/chunking-source-maps/_expected/amd/generated-dep2.js
index e6264bae1..aa672d649 100644
--- a/test/chunking-form/samples/chunking-source-maps/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/chunking-source-maps/_expected/amd/generated-dep2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn$1 () {
     console.log('lib2 fn');
@@ -11,5 +11,5 @@ define(['exports'], function (exports) { 'use strict';
 
   exports.fn = fn;
 
-});
+}));
 //# sourceMappingURL=generated-dep2.js.map
diff --git a/test/chunking-form/samples/chunking-source-maps/_expected/amd/main1.js b/test/chunking-form/samples/chunking-source-maps/_expected/amd/main1.js
index 81c55bbb6..5f7c157a3 100644
--- a/test/chunking-form/samples/chunking-source-maps/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunking-source-maps/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['./generated-dep2'], function (dep2) { 'use strict';
+define(['./generated-dep2'], (function (dep2) { 'use strict';
 
   function fn () {
     console.log('dep1 fn');
@@ -13,5 +13,5 @@ define(['./generated-dep2'], function (dep2) { 'use strict';
 
   return Main1;
 
-});
+}));
 //# sourceMappingURL=main1.js.map
diff --git a/test/chunking-form/samples/chunking-source-maps/_expected/amd/main2.js b/test/chunking-form/samples/chunking-source-maps/_expected/amd/main2.js
index 301efcfcd..542db76a7 100644
--- a/test/chunking-form/samples/chunking-source-maps/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunking-source-maps/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['./generated-dep2'], function (dep2) { 'use strict';
+define(['./generated-dep2'], (function (dep2) { 'use strict';
 
   function fn$1 () {
     console.log('lib1 fn');
@@ -18,5 +18,5 @@ define(['./generated-dep2'], function (dep2) { 'use strict';
 
   return Main2;
 
-});
+}));
 //# sourceMappingURL=main2.js.map
diff --git a/test/chunking-form/samples/chunking-source-maps/_expected/system/generated-dep2.js b/test/chunking-form/samples/chunking-source-maps/_expected/system/generated-dep2.js
index 54de90db5..c73111976 100644
--- a/test/chunking-form/samples/chunking-source-maps/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/chunking-source-maps/_expected/system/generated-dep2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('f', fn);
 
@@ -14,7 +14,7 @@ System.register([], function (exports) {
         console.log('dep2 fn');
       }
 
-    }
+    })
   };
-});
+}));
 //# sourceMappingURL=generated-dep2.js.map
diff --git a/test/chunking-form/samples/chunking-source-maps/_expected/system/generated-dep2.js.map b/test/chunking-form/samples/chunking-source-maps/_expected/system/generated-dep2.js.map
index a14686ef0..bbae8f717 100644
--- a/test/chunking-form/samples/chunking-source-maps/_expected/system/generated-dep2.js.map
+++ b/test/chunking-form/samples/chunking-source-maps/_expected/system/generated-dep2.js.map
@@ -1 +1 @@
-{"version":3,"file":"generated-dep2.js","sources":["../../lib2.js","../../dep2.js"],"sourcesContent":["export function fn () {\n  console.log('lib2 fn');\n}","import { fn as libfn } from './lib2.js';\n\nexport function fn () {\n  libfn();\n  console.log('dep2 fn');\n}"],"names":["fn","libfn"],"mappings":";;;;;;;MAAO,SAASA,IAAE,IAAI;MACtB,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;MACzB;;MCAO,SAAS,EAAE,IAAI;MACtB,EAAEC,IAAK,EAAE,CAAC;MACV,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;MACzB;;;;;;"}
\ No newline at end of file
+{"version":3,"file":"generated-dep2.js","sources":["../../lib2.js","../../dep2.js"],"sourcesContent":["export function fn () {\n  console.log('lib2 fn');\n}","import { fn as libfn } from './lib2.js';\n\nexport function fn () {\n  libfn();\n  console.log('dep2 fn');\n}"],"names":["fn","libfn"],"mappings":";;;;;;;MAAO,SAASA,IAAE,IAAI;MACtB,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;MACzB;;MCAO,SAAS,EAAE,IAAI;MACtB,EAAEC,IAAK,EAAE,CAAC;MACV,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;MACzB;;;;;;;;"}
\ No newline at end of file
diff --git a/test/chunking-form/samples/chunking-source-maps/_expected/system/main1.js b/test/chunking-form/samples/chunking-source-maps/_expected/system/main1.js
index 2ac9cf868..343ac9221 100644
--- a/test/chunking-form/samples/chunking-source-maps/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunking-source-maps/_expected/system/main1.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep2.js'], function (exports) {
+System.register(['./generated-dep2.js'], (function (exports) {
   'use strict';
   var fn$1;
   return {
     setters: [function (module) {
       fn$1 = module.f;
     }],
-    execute: function () {
+    execute: (function () {
 
       function fn () {
         console.log('dep1 fn');
@@ -18,7 +18,7 @@ System.register(['./generated-dep2.js'], function (exports) {
         }
       } exports('default', Main1);
 
-    }
+    })
   };
-});
+}));
 //# sourceMappingURL=main1.js.map
diff --git a/test/chunking-form/samples/chunking-source-maps/_expected/system/main1.js.map b/test/chunking-form/samples/chunking-source-maps/_expected/system/main1.js.map
index 74b337111..d658fae05 100644
--- a/test/chunking-form/samples/chunking-source-maps/_expected/system/main1.js.map
+++ b/test/chunking-form/samples/chunking-source-maps/_expected/system/main1.js.map
@@ -1 +1 @@
-{"version":3,"file":"main1.js","sources":["../../dep1.js","../../main1.js"],"sourcesContent":["export function fn () {\n  console.log('dep1 fn');\n}","import { fn } from './dep1.js';\nimport { fn as fn2 } from './dep2.js';\n\nexport default class Main1 {\n  constructor () {\n    fn();\n    fn2();\n  }\n}"],"names":["fn2"],"mappings":";;;;;;;;;MAAO,SAAS,EAAE,IAAI;MACtB,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;MACzB;;MCCe,MAAM,KAAK,CAAC;MAC3B,EAAE,WAAW,CAAC,GAAG;MACjB,IAAI,EAAE,EAAE,CAAC;MACT,IAAIA,IAAG,EAAE,CAAC;MACV,GAAG;MACH;;;;;;"}
\ No newline at end of file
+{"version":3,"file":"main1.js","sources":["../../dep1.js","../../main1.js"],"sourcesContent":["export function fn () {\n  console.log('dep1 fn');\n}","import { fn } from './dep1.js';\nimport { fn as fn2 } from './dep2.js';\n\nexport default class Main1 {\n  constructor () {\n    fn();\n    fn2();\n  }\n}"],"names":["fn2"],"mappings":";;;;;;;;;MAAO,SAAS,EAAE,IAAI;MACtB,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;MACzB;;MCCe,MAAM,KAAK,CAAC;MAC3B,EAAE,WAAW,CAAC,GAAG;MACjB,IAAI,EAAE,EAAE,CAAC;MACT,IAAIA,IAAG,EAAE,CAAC;MACV,GAAG;MACH;;;;;;;;"}
\ No newline at end of file
diff --git a/test/chunking-form/samples/chunking-source-maps/_expected/system/main2.js b/test/chunking-form/samples/chunking-source-maps/_expected/system/main2.js
index f4b7cb76a..9d58acdbd 100644
--- a/test/chunking-form/samples/chunking-source-maps/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunking-source-maps/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep2.js'], function (exports) {
+System.register(['./generated-dep2.js'], (function (exports) {
   'use strict';
   var fn$2;
   return {
     setters: [function (module) {
       fn$2 = module.f;
     }],
-    execute: function () {
+    execute: (function () {
 
       function fn$1 () {
         console.log('lib1 fn');
@@ -23,7 +23,7 @@ System.register(['./generated-dep2.js'], function (exports) {
         }
       } exports('default', Main2);
 
-    }
+    })
   };
-});
+}));
 //# sourceMappingURL=main2.js.map
diff --git a/test/chunking-form/samples/chunking-source-maps/_expected/system/main2.js.map b/test/chunking-form/samples/chunking-source-maps/_expected/system/main2.js.map
index 52fa30eeb..d62920b29 100644
--- a/test/chunking-form/samples/chunking-source-maps/_expected/system/main2.js.map
+++ b/test/chunking-form/samples/chunking-source-maps/_expected/system/main2.js.map
@@ -1 +1 @@
-{"version":3,"file":"main2.js","sources":["../../lib1.js","../../dep3.js","../../main2.js"],"sourcesContent":["export function fn () {\n  console.log('lib1 fn');\n}\n\nexport function treeshaked () {\n  console.log('this is tree shaken!');\n}","import { fn as libfn, treeshaked } from './lib1.js';\n\nexport function fn () {\n  libfn();\n  console.log('dep3 fn');\n}\n\nexport default treeshaked;","import { fn } from './dep2.js';\nimport { fn as fn2, default as treeshaked } from './dep3.js';\n\nif (false) {\n  treeshaked();\n}\n\nexport default class Main2 {\n  constructor () {\n    fn2();\n    fn();\n  }\n}"],"names":["fn","libfn","fn2"],"mappings":";;;;;;;;;MAAO,SAASA,IAAE,IAAI;MACtB,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;MACzB;;MCAO,SAAS,EAAE,IAAI;MACtB,EAAEC,IAAK,EAAE,CAAC;MACV,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;MACzB;;MCEe,MAAM,KAAK,CAAC;MAC3B,EAAE,WAAW,CAAC,GAAG;MACjB,IAAIC,EAAG,EAAE,CAAC;MACV,IAAIF,IAAE,EAAE,CAAC;MACT,GAAG;MACH;;;;;;"}
\ No newline at end of file
+{"version":3,"file":"main2.js","sources":["../../lib1.js","../../dep3.js","../../main2.js"],"sourcesContent":["export function fn () {\n  console.log('lib1 fn');\n}\n\nexport function treeshaked () {\n  console.log('this is tree shaken!');\n}","import { fn as libfn, treeshaked } from './lib1.js';\n\nexport function fn () {\n  libfn();\n  console.log('dep3 fn');\n}\n\nexport default treeshaked;","import { fn } from './dep2.js';\nimport { fn as fn2, default as treeshaked } from './dep3.js';\n\nif (false) {\n  treeshaked();\n}\n\nexport default class Main2 {\n  constructor () {\n    fn2();\n    fn();\n  }\n}"],"names":["fn","libfn","fn2"],"mappings":";;;;;;;;;MAAO,SAASA,IAAE,IAAI;MACtB,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;MACzB;;MCAO,SAAS,EAAE,IAAI;MACtB,EAAEC,IAAK,EAAE,CAAC;MACV,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;MACzB;;MCEe,MAAM,KAAK,CAAC;MAC3B,EAAE,WAAW,CAAC,GAAG;MACjB,IAAIC,EAAG,EAAE,CAAC;MACV,IAAIF,IAAE,EAAE,CAAC;MACT,GAAG;MACH;;;;;;;;"}
\ No newline at end of file
diff --git a/test/chunking-form/samples/chunking-star-external/_expected/amd/generated-dep.js b/test/chunking-form/samples/chunking-star-external/_expected/amd/generated-dep.js
index f5158b2b3..4ad294cd7 100644
--- a/test/chunking-form/samples/chunking-star-external/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/chunking-star-external/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(['exports', 'starexternal2', 'external2'], function (exports, starexternal2, external2) { 'use strict';
+define(['exports', 'starexternal2', 'external2'], (function (exports, starexternal2, external2) { 'use strict';
 
 	var dep = 'dep';
 
 	exports.dep = dep;
 
-});
+}));
diff --git a/test/chunking-form/samples/chunking-star-external/_expected/amd/main1.js b/test/chunking-form/samples/chunking-star-external/_expected/amd/main1.js
index 936dee411..e34775037 100644
--- a/test/chunking-form/samples/chunking-star-external/_expected/amd/main1.js
+++ b/test/chunking-form/samples/chunking-star-external/_expected/amd/main1.js
@@ -1,24 +1,20 @@
-define(['exports', 'starexternal1', 'external1', './generated-dep', 'starexternal2', 'external2'], function (exports, starexternal1, external1, dep, starexternal2, external2) { 'use strict';
+define(['exports', 'starexternal1', 'external1', './generated-dep', 'starexternal2', 'external2'], (function (exports, starexternal1, external1, dep, starexternal2, external2) { 'use strict';
 
 	var main = '1';
 
 	Object.defineProperty(exports, 'e', {
 		enumerable: true,
-		get: function () {
-			return external1.e;
-		}
+		get: function () { return external1.e; }
 	});
 	exports.dep = dep.dep;
 	exports.main = main;
 	Object.keys(starexternal1).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return starexternal1[k];
-			}
+			get: function () { return starexternal1[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/chunking-star-external/_expected/amd/main2.js b/test/chunking-form/samples/chunking-star-external/_expected/amd/main2.js
index 6655382d8..02a71db9a 100644
--- a/test/chunking-form/samples/chunking-star-external/_expected/amd/main2.js
+++ b/test/chunking-form/samples/chunking-star-external/_expected/amd/main2.js
@@ -1,24 +1,20 @@
-define(['exports', './generated-dep', 'external2', 'starexternal2'], function (exports, dep, external2, starexternal2) { 'use strict';
+define(['exports', './generated-dep', 'external2', 'starexternal2'], (function (exports, dep, external2, starexternal2) { 'use strict';
 
 	var main = '2';
 
 	exports.dep = dep.dep;
 	Object.defineProperty(exports, 'e', {
 		enumerable: true,
-		get: function () {
-			return external2.e;
-		}
+		get: function () { return external2.e; }
 	});
 	exports.main = main;
 	Object.keys(starexternal2).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return starexternal2[k];
-			}
+			get: function () { return starexternal2[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/chunking-star-external/_expected/cjs/main1.js b/test/chunking-form/samples/chunking-star-external/_expected/cjs/main1.js
index 620f87b65..5513455af 100644
--- a/test/chunking-form/samples/chunking-star-external/_expected/cjs/main1.js
+++ b/test/chunking-form/samples/chunking-star-external/_expected/cjs/main1.js
@@ -12,17 +12,13 @@ var main = '1';
 
 Object.defineProperty(exports, 'e', {
 	enumerable: true,
-	get: function () {
-		return external1.e;
-	}
+	get: function () { return external1.e; }
 });
 exports.dep = dep.dep;
 exports.main = main;
 Object.keys(starexternal1).forEach(function (k) {
 	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 		enumerable: true,
-		get: function () {
-			return starexternal1[k];
-		}
+		get: function () { return starexternal1[k]; }
 	});
 });
diff --git a/test/chunking-form/samples/chunking-star-external/_expected/cjs/main2.js b/test/chunking-form/samples/chunking-star-external/_expected/cjs/main2.js
index 79d558679..491232519 100644
--- a/test/chunking-form/samples/chunking-star-external/_expected/cjs/main2.js
+++ b/test/chunking-form/samples/chunking-star-external/_expected/cjs/main2.js
@@ -11,16 +11,12 @@ var main = '2';
 exports.dep = dep.dep;
 Object.defineProperty(exports, 'e', {
 	enumerable: true,
-	get: function () {
-		return external2.e;
-	}
+	get: function () { return external2.e; }
 });
 exports.main = main;
 Object.keys(starexternal2).forEach(function (k) {
 	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 		enumerable: true,
-		get: function () {
-			return starexternal2[k];
-		}
+		get: function () { return starexternal2[k]; }
 	});
 });
diff --git a/test/chunking-form/samples/chunking-star-external/_expected/system/generated-dep.js b/test/chunking-form/samples/chunking-star-external/_expected/system/generated-dep.js
index d73c96188..d5a5ecfdb 100644
--- a/test/chunking-form/samples/chunking-star-external/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/chunking-star-external/_expected/system/generated-dep.js
@@ -1,11 +1,11 @@
-System.register(['starexternal2', 'external2'], function (exports) {
+System.register(['starexternal2', 'external2'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			var dep = exports('d', 'dep');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunking-star-external/_expected/system/main1.js b/test/chunking-form/samples/chunking-star-external/_expected/system/main1.js
index bad9531bb..e8e66ab10 100644
--- a/test/chunking-form/samples/chunking-star-external/_expected/system/main1.js
+++ b/test/chunking-form/samples/chunking-star-external/_expected/system/main1.js
@@ -1,22 +1,27 @@
-System.register(['starexternal1', 'external1', './generated-dep.js', 'starexternal2', 'external2'], function (exports) {
+System.register(['starexternal1', 'external1', './generated-dep.js', 'starexternal2', 'external2'], (function (exports) {
 	'use strict';
-	var _starExcludes = { main: 1, default: 1, e: 1, dep: 1 };
+	var _starExcludes = {
+		main: 1,
+		'default': 1,
+		e: 1,
+		dep: 1
+	};
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			for (var _$p in module) {
-				if (!_starExcludes[_$p]) _setter[_$p] = module[_$p];
+			var setter = {};
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
 			}
-			exports(_setter);
+			exports(setter);
 		}, function (module) {
 			exports('e', module.e);
 		}, function (module) {
 			exports('dep', module.d);
 		}, function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('main', '1');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/chunking-star-external/_expected/system/main2.js b/test/chunking-form/samples/chunking-star-external/_expected/system/main2.js
index 91b5984d5..c77349bc3 100644
--- a/test/chunking-form/samples/chunking-star-external/_expected/system/main2.js
+++ b/test/chunking-form/samples/chunking-star-external/_expected/system/main2.js
@@ -1,22 +1,27 @@
-System.register(['./generated-dep.js', 'external2', 'starexternal2'], function (exports) {
+System.register(['./generated-dep.js', 'external2', 'starexternal2'], (function (exports) {
 	'use strict';
-	var _starExcludes = { main: 1, default: 1, dep: 1, e: 1 };
+	var _starExcludes = {
+		main: 1,
+		'default': 1,
+		dep: 1,
+		e: 1
+	};
 	return {
 		setters: [function (module) {
 			exports('dep', module.d);
 		}, function (module) {
 			exports('e', module.e);
 		}, function (module) {
-			var _setter = {};
-			for (var _$p in module) {
-				if (!_starExcludes[_$p]) _setter[_$p] = module[_$p];
+			var setter = {};
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
 			}
-			exports(_setter);
+			exports(setter);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('main', '2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points/_expected/amd/generated-main1.js b/test/chunking-form/samples/circular-entry-points/_expected/amd/generated-main1.js
index 7d3b2d0e5..58149846e 100644
--- a/test/chunking-form/samples/circular-entry-points/_expected/amd/generated-main1.js
+++ b/test/chunking-form/samples/circular-entry-points/_expected/amd/generated-main1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   class C$1 {
     fn (num) {
@@ -23,4 +23,4 @@ define(['exports'], function (exports) { 'use strict';
   exports.p = p$1;
   exports.p$1 = p;
 
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points/_expected/amd/main1.js b/test/chunking-form/samples/circular-entry-points/_expected/amd/main1.js
index 0ab330944..b6b9f6021 100644
--- a/test/chunking-form/samples/circular-entry-points/_expected/amd/main1.js
+++ b/test/chunking-form/samples/circular-entry-points/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main1'], function (exports, main2) { 'use strict';
+define(['exports', './generated-main1'], (function (exports, main2) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-main1'], function (exports, main2) { 'use strict
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points/_expected/amd/main2.js b/test/chunking-form/samples/circular-entry-points/_expected/amd/main2.js
index 31b181d41..275616ceb 100644
--- a/test/chunking-form/samples/circular-entry-points/_expected/amd/main2.js
+++ b/test/chunking-form/samples/circular-entry-points/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main1'], function (exports, main2) { 'use strict';
+define(['exports', './generated-main1'], (function (exports, main2) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-main1'], function (exports, main2) { 'use strict
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points/_expected/system/generated-main1.js b/test/chunking-form/samples/circular-entry-points/_expected/system/generated-main1.js
index e77f4ad7f..d35b667e2 100644
--- a/test/chunking-form/samples/circular-entry-points/_expected/system/generated-main1.js
+++ b/test/chunking-form/samples/circular-entry-points/_expected/system/generated-main1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       class C$1 {
         fn (num) {
@@ -23,6 +23,6 @@ System.register([], function (exports) {
 
       new C().fn(p);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points/_expected/system/main1.js b/test/chunking-form/samples/circular-entry-points/_expected/system/main1.js
index 491c2be1e..19ec4730a 100644
--- a/test/chunking-form/samples/circular-entry-points/_expected/system/main1.js
+++ b/test/chunking-form/samples/circular-entry-points/_expected/system/main1.js
@@ -1,13 +1,13 @@
-System.register(['./generated-main1.js'], function (exports) {
+System.register(['./generated-main1.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('p', module.a);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points/_expected/system/main2.js b/test/chunking-form/samples/circular-entry-points/_expected/system/main2.js
index 21397d608..86186a21a 100644
--- a/test/chunking-form/samples/circular-entry-points/_expected/system/main2.js
+++ b/test/chunking-form/samples/circular-entry-points/_expected/system/main2.js
@@ -1,13 +1,13 @@
-System.register(['./generated-main1.js'], function (exports) {
+System.register(['./generated-main1.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('p', module.p);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points2/_expected/amd/main1.js b/test/chunking-form/samples/circular-entry-points2/_expected/amd/main1.js
index 0c0e9f735..4e9568a2e 100644
--- a/test/chunking-form/samples/circular-entry-points2/_expected/amd/main1.js
+++ b/test/chunking-form/samples/circular-entry-points2/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['exports', './main2'], function (exports, main2) { 'use strict';
+define(['exports', './main2'], (function (exports, main2) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './main2'], function (exports, main2) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points2/_expected/amd/main2.js b/test/chunking-form/samples/circular-entry-points2/_expected/amd/main2.js
index 80034ef43..6cd945aa8 100644
--- a/test/chunking-form/samples/circular-entry-points2/_expected/amd/main2.js
+++ b/test/chunking-form/samples/circular-entry-points2/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   class C$1 {
     fn (num) {
@@ -25,4 +25,4 @@ define(['exports'], function (exports) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points2/_expected/system/main1.js b/test/chunking-form/samples/circular-entry-points2/_expected/system/main1.js
index 2b0dfa618..c77b2a6e4 100644
--- a/test/chunking-form/samples/circular-entry-points2/_expected/system/main1.js
+++ b/test/chunking-form/samples/circular-entry-points2/_expected/system/main1.js
@@ -1,13 +1,13 @@
-System.register(['./main2.js'], function (exports) {
+System.register(['./main2.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('p', module.p2);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points2/_expected/system/main2.js b/test/chunking-form/samples/circular-entry-points2/_expected/system/main2.js
index d14ace319..b5d1de767 100644
--- a/test/chunking-form/samples/circular-entry-points2/_expected/system/main2.js
+++ b/test/chunking-form/samples/circular-entry-points2/_expected/system/main2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       class C$1 {
         fn (num) {
@@ -23,6 +23,6 @@ System.register([], function (exports) {
 
       new C().fn(p);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points3/_expected/amd/generated-main1.js b/test/chunking-form/samples/circular-entry-points3/_expected/amd/generated-main1.js
index 2290db65a..32ce53a00 100644
--- a/test/chunking-form/samples/circular-entry-points3/_expected/amd/generated-main1.js
+++ b/test/chunking-form/samples/circular-entry-points3/_expected/amd/generated-main1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   class C$1 {
     fn (num) {
@@ -24,4 +24,4 @@ define(['exports'], function (exports) { 'use strict';
   exports.p = p$1;
   exports.p$1 = p;
 
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points3/_expected/amd/main1.js b/test/chunking-form/samples/circular-entry-points3/_expected/amd/main1.js
index 0ab330944..b6b9f6021 100644
--- a/test/chunking-form/samples/circular-entry-points3/_expected/amd/main1.js
+++ b/test/chunking-form/samples/circular-entry-points3/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main1'], function (exports, main2) { 'use strict';
+define(['exports', './generated-main1'], (function (exports, main2) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-main1'], function (exports, main2) { 'use strict
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points3/_expected/amd/main2.js b/test/chunking-form/samples/circular-entry-points3/_expected/amd/main2.js
index 5c35d1678..1110470d7 100644
--- a/test/chunking-form/samples/circular-entry-points3/_expected/amd/main2.js
+++ b/test/chunking-form/samples/circular-entry-points3/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main1'], function (exports, main2) { 'use strict';
+define(['exports', './generated-main1'], (function (exports, main2) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './generated-main1'], function (exports, main2) { 'use strict
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points3/_expected/amd/main3.js b/test/chunking-form/samples/circular-entry-points3/_expected/amd/main3.js
index 18d49d297..48588553c 100644
--- a/test/chunking-form/samples/circular-entry-points3/_expected/amd/main3.js
+++ b/test/chunking-form/samples/circular-entry-points3/_expected/amd/main3.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main1'], function (exports, main2) { 'use strict';
+define(['exports', './generated-main1'], (function (exports, main2) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-main1'], function (exports, main2) { 'use strict
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points3/_expected/system/generated-main1.js b/test/chunking-form/samples/circular-entry-points3/_expected/system/generated-main1.js
index c39474ed4..bc3aff572 100644
--- a/test/chunking-form/samples/circular-entry-points3/_expected/system/generated-main1.js
+++ b/test/chunking-form/samples/circular-entry-points3/_expected/system/generated-main1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       class C$1 {
         fn (num) {
@@ -23,6 +23,6 @@ System.register([], function (exports) {
 
       new C().fn(p);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points3/_expected/system/main1.js b/test/chunking-form/samples/circular-entry-points3/_expected/system/main1.js
index 491c2be1e..19ec4730a 100644
--- a/test/chunking-form/samples/circular-entry-points3/_expected/system/main1.js
+++ b/test/chunking-form/samples/circular-entry-points3/_expected/system/main1.js
@@ -1,13 +1,13 @@
-System.register(['./generated-main1.js'], function (exports) {
+System.register(['./generated-main1.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('p', module.a);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points3/_expected/system/main2.js b/test/chunking-form/samples/circular-entry-points3/_expected/system/main2.js
index f3c05e2aa..1513b869d 100644
--- a/test/chunking-form/samples/circular-entry-points3/_expected/system/main2.js
+++ b/test/chunking-form/samples/circular-entry-points3/_expected/system/main2.js
@@ -1,16 +1,13 @@
-System.register(['./generated-main1.js'], function (exports) {
+System.register(['./generated-main1.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			_setter.p = module.p;
-			_setter.p2 = module.a;
-			exports(_setter);
+			exports({ p: module.p, p2: module.a });
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/circular-entry-points3/_expected/system/main3.js b/test/chunking-form/samples/circular-entry-points3/_expected/system/main3.js
index d4d8510a2..4f1beabc7 100644
--- a/test/chunking-form/samples/circular-entry-points3/_expected/system/main3.js
+++ b/test/chunking-form/samples/circular-entry-points3/_expected/system/main3.js
@@ -1,13 +1,13 @@
-System.register(['./generated-main1.js'], function (exports) {
+System.register(['./generated-main1.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('C', module.C);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/circular-manual-chunks/_expected/amd/generated-lib1.js b/test/chunking-form/samples/circular-manual-chunks/_expected/amd/generated-lib1.js
index 257a2531b..d53e713d2 100644
--- a/test/chunking-form/samples/circular-manual-chunks/_expected/amd/generated-lib1.js
+++ b/test/chunking-form/samples/circular-manual-chunks/_expected/amd/generated-lib1.js
@@ -1,8 +1,8 @@
-define(['exports', './generated-lib2'], function (exports, lib2) { 'use strict';
+define(['exports', './generated-lib2'], (function (exports, lib2) { 'use strict';
 
 	const lib1 = 'lib1';
 	console.log(`${lib1} imports ${lib2.lib2}`);
 
 	exports.lib1 = lib1;
 
-});
+}));
diff --git a/test/chunking-form/samples/circular-manual-chunks/_expected/amd/generated-lib2.js b/test/chunking-form/samples/circular-manual-chunks/_expected/amd/generated-lib2.js
index 2d731c524..4910275ea 100644
--- a/test/chunking-form/samples/circular-manual-chunks/_expected/amd/generated-lib2.js
+++ b/test/chunking-form/samples/circular-manual-chunks/_expected/amd/generated-lib2.js
@@ -1,8 +1,8 @@
-define(['exports', './generated-lib1'], function (exports, lib1) { 'use strict';
+define(['exports', './generated-lib1'], (function (exports, lib1) { 'use strict';
 
 	const lib2 = 'lib2';
 	console.log(`${lib2} imports ${lib1.lib1}`);
 
 	exports.lib2 = lib2;
 
-});
+}));
diff --git a/test/chunking-form/samples/circular-manual-chunks/_expected/amd/main.js b/test/chunking-form/samples/circular-manual-chunks/_expected/amd/main.js
index bb9152d6a..197552395 100644
--- a/test/chunking-form/samples/circular-manual-chunks/_expected/amd/main.js
+++ b/test/chunking-form/samples/circular-manual-chunks/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-lib1', './generated-lib2'], function (exports, lib1, lib2) { 'use strict';
+define(['exports', './generated-lib1', './generated-lib2'], (function (exports, lib1, lib2) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-lib1', './generated-lib2'], function (exports, l
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/circular-manual-chunks/_expected/system/generated-lib1.js b/test/chunking-form/samples/circular-manual-chunks/_expected/system/generated-lib1.js
index 482dde214..e68a14939 100644
--- a/test/chunking-form/samples/circular-manual-chunks/_expected/system/generated-lib1.js
+++ b/test/chunking-form/samples/circular-manual-chunks/_expected/system/generated-lib1.js
@@ -1,15 +1,15 @@
-System.register(['./generated-lib2.js'], function (exports) {
+System.register(['./generated-lib2.js'], (function (exports) {
 	'use strict';
 	var lib2;
 	return {
 		setters: [function (module) {
 			lib2 = module.l;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const lib1 = exports('l', 'lib1');
 			console.log(`${lib1} imports ${lib2}`);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/circular-manual-chunks/_expected/system/generated-lib2.js b/test/chunking-form/samples/circular-manual-chunks/_expected/system/generated-lib2.js
index d1beca4b8..2fc94b38e 100644
--- a/test/chunking-form/samples/circular-manual-chunks/_expected/system/generated-lib2.js
+++ b/test/chunking-form/samples/circular-manual-chunks/_expected/system/generated-lib2.js
@@ -1,15 +1,15 @@
-System.register(['./generated-lib1.js'], function (exports) {
+System.register(['./generated-lib1.js'], (function (exports) {
 	'use strict';
 	var lib1;
 	return {
 		setters: [function (module) {
 			lib1 = module.l;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const lib2 = exports('l', 'lib2');
 			console.log(`${lib2} imports ${lib1}`);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/circular-manual-chunks/_expected/system/main.js b/test/chunking-form/samples/circular-manual-chunks/_expected/system/main.js
index 2bbc4fab8..810aa3e2b 100644
--- a/test/chunking-form/samples/circular-manual-chunks/_expected/system/main.js
+++ b/test/chunking-form/samples/circular-manual-chunks/_expected/system/main.js
@@ -1,13 +1,13 @@
-System.register(['./generated-lib1.js', './generated-lib2.js'], function (exports) {
+System.register(['./generated-lib1.js', './generated-lib2.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('lib1', module.l);
 		}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/combined-namespace-reexport/_expected/amd/generated-geometry.js b/test/chunking-form/samples/combined-namespace-reexport/_expected/amd/generated-geometry.js
index 20d78525e..82863ed5b 100644
--- a/test/chunking-form/samples/combined-namespace-reexport/_expected/amd/generated-geometry.js
+++ b/test/chunking-form/samples/combined-namespace-reexport/_expected/amd/generated-geometry.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = 'foo';
 
@@ -19,4 +19,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.geometry = geometry;
 	exports.volume = volume;
 
-});
+}));
diff --git a/test/chunking-form/samples/combined-namespace-reexport/_expected/amd/main1.js b/test/chunking-form/samples/combined-namespace-reexport/_expected/amd/main1.js
index b2173934d..c3759ed4d 100644
--- a/test/chunking-form/samples/combined-namespace-reexport/_expected/amd/main1.js
+++ b/test/chunking-form/samples/combined-namespace-reexport/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['./generated-geometry'], function (geometry) { 'use strict';
+define(['./generated-geometry'], (function (geometry) { 'use strict';
 
 	var mod = /*#__PURE__*/Object.freeze({
 		__proto__: null,
@@ -8,4 +8,4 @@ define(['./generated-geometry'], function (geometry) { 'use strict';
 
 	console.log(mod);
 
-});
+}));
diff --git a/test/chunking-form/samples/combined-namespace-reexport/_expected/amd/main2.js b/test/chunking-form/samples/combined-namespace-reexport/_expected/amd/main2.js
index 64b26b0e7..2c2d40710 100644
--- a/test/chunking-form/samples/combined-namespace-reexport/_expected/amd/main2.js
+++ b/test/chunking-form/samples/combined-namespace-reexport/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-geometry'], function (geometry) { 'use strict';
+define(['./generated-geometry'], (function (geometry) { 'use strict';
 
 	console.log(geometry.foo, geometry.bar);
 
-});
+}));
diff --git a/test/chunking-form/samples/combined-namespace-reexport/_expected/system/generated-geometry.js b/test/chunking-form/samples/combined-namespace-reexport/_expected/system/generated-geometry.js
index 8b902d377..e705150fb 100644
--- a/test/chunking-form/samples/combined-namespace-reexport/_expected/system/generated-geometry.js
+++ b/test/chunking-form/samples/combined-namespace-reexport/_expected/system/generated-geometry.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = exports('f', 'foo');
 
@@ -19,6 +19,6 @@ System.register([], function (exports) {
 			});
 			exports('g', geometry);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/combined-namespace-reexport/_expected/system/main1.js b/test/chunking-form/samples/combined-namespace-reexport/_expected/system/main1.js
index 5c19a9590..9f1bd782a 100644
--- a/test/chunking-form/samples/combined-namespace-reexport/_expected/system/main1.js
+++ b/test/chunking-form/samples/combined-namespace-reexport/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-geometry.js'], function () {
+System.register(['./generated-geometry.js'], (function () {
 	'use strict';
 	var volume, geometry;
 	return {
@@ -6,7 +6,7 @@ System.register(['./generated-geometry.js'], function () {
 			volume = module.v;
 			geometry = module.g;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var mod = /*#__PURE__*/Object.freeze({
 				__proto__: null,
@@ -16,6 +16,6 @@ System.register(['./generated-geometry.js'], function () {
 
 			console.log(mod);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/combined-namespace-reexport/_expected/system/main2.js b/test/chunking-form/samples/combined-namespace-reexport/_expected/system/main2.js
index 43bed67a0..15f9cf788 100644
--- a/test/chunking-form/samples/combined-namespace-reexport/_expected/system/main2.js
+++ b/test/chunking-form/samples/combined-namespace-reexport/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-geometry.js'], function () {
+System.register(['./generated-geometry.js'], (function () {
 	'use strict';
 	var foo, bar;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-geometry.js'], function () {
 			foo = module.f;
 			bar = module.b;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, bar);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/custom-sanitizer/_expected/amd/m_in.js b/test/chunking-form/samples/custom-sanitizer/_expected/amd/m_in.js
index 6ec9254ac..7e204c06c 100644
--- a/test/chunking-form/samples/custom-sanitizer/_expected/amd/m_in.js
+++ b/test/chunking-form/samples/custom-sanitizer/_expected/amd/m_in.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('ok');
 
-});
+}));
diff --git a/test/chunking-form/samples/custom-sanitizer/_expected/system/m_in.js b/test/chunking-form/samples/custom-sanitizer/_expected/system/m_in.js
index 2181247e7..6138292b5 100644
--- a/test/chunking-form/samples/custom-sanitizer/_expected/system/m_in.js
+++ b/test/chunking-form/samples/custom-sanitizer/_expected/system/m_in.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('ok');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deconflict-globals/_expected/amd/generated-dep.js b/test/chunking-form/samples/deconflict-globals/_expected/amd/generated-dep.js
index 86200d0b2..81013c2e7 100644
--- a/test/chunking-form/samples/deconflict-globals/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/deconflict-globals/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const x = 42;
 
 	exports.x = x;
 
-});
+}));
diff --git a/test/chunking-form/samples/deconflict-globals/_expected/amd/main1.js b/test/chunking-form/samples/deconflict-globals/_expected/amd/main1.js
index ac552c3f7..399824071 100644
--- a/test/chunking-form/samples/deconflict-globals/_expected/amd/main1.js
+++ b/test/chunking-form/samples/deconflict-globals/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log(dep.x);
 
-});
+}));
diff --git a/test/chunking-form/samples/deconflict-globals/_expected/amd/main2.js b/test/chunking-form/samples/deconflict-globals/_expected/amd/main2.js
index d7edef3bc..0d2f44ab2 100644
--- a/test/chunking-form/samples/deconflict-globals/_expected/amd/main2.js
+++ b/test/chunking-form/samples/deconflict-globals/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log(x, dep.x);
 
-});
+}));
diff --git a/test/chunking-form/samples/deconflict-globals/_expected/system/generated-dep.js b/test/chunking-form/samples/deconflict-globals/_expected/system/generated-dep.js
index 51eb3ae7f..dbe4f6f77 100644
--- a/test/chunking-form/samples/deconflict-globals/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/deconflict-globals/_expected/system/generated-dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const x = exports('x', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deconflict-globals/_expected/system/main1.js b/test/chunking-form/samples/deconflict-globals/_expected/system/main1.js
index d1b8162d6..6e9db33ac 100644
--- a/test/chunking-form/samples/deconflict-globals/_expected/system/main1.js
+++ b/test/chunking-form/samples/deconflict-globals/_expected/system/main1.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var x;
 	return {
 		setters: [function (module) {
 			x = module.x;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(x);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deconflict-globals/_expected/system/main2.js b/test/chunking-form/samples/deconflict-globals/_expected/system/main2.js
index 66912a652..280d07abb 100644
--- a/test/chunking-form/samples/deconflict-globals/_expected/system/main2.js
+++ b/test/chunking-form/samples/deconflict-globals/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var x$1;
 	return {
 		setters: [function (module) {
 			x$1 = module.x;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(x, x$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/amd/main.js b/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/amd/main.js
index b32a1761b..4f0a5f7a3 100644
--- a/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/amd/main.js
+++ b/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['./other'], function (other) { 'use strict';
+define(['./other'], (function (other) { 'use strict';
 
 	var main = other + "extended";
 
 	return main;
 
-});
+}));
diff --git a/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/amd/other.js b/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/amd/other.js
index a32f525eb..20c904832 100644
--- a/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/amd/other.js
+++ b/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/amd/other.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = 'bar';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/system/main.js b/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/system/main.js
index b5317f1c0..0f9f70e90 100644
--- a/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/system/main.js
+++ b/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./other.js'], function (exports) {
+System.register(['./other.js'], (function (exports) {
 	'use strict';
 	var other;
 	return {
 		setters: [function (module) {
 			other = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', other + "extended");
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/system/other.js b/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/system/other.js
index bd30d4938..7ffc484f7 100644
--- a/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/system/other.js
+++ b/test/chunking-form/samples/deconflict-system-default-export-variable/_expected/system/other.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = exports('foo', 'bar');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/amd/generated-foo.js b/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/amd/generated-foo.js
index d3a2d0d4a..aeb235dc3 100644
--- a/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/amd/generated-foo.js
+++ b/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/amd/generated-foo.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = {};
 
 	exports.foo = foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/amd/main1.js b/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/amd/main1.js
index b61c59102..f5ab0bc84 100644
--- a/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/amd/main1.js
+++ b/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-foo'], function (foo) { 'use strict';
+define(['./generated-foo'], (function (foo) { 'use strict';
 
 	console.log(foo.foo, foo.foo);
 
-});
+}));
diff --git a/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/amd/main2.js b/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/amd/main2.js
index b61c59102..f5ab0bc84 100644
--- a/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/amd/main2.js
+++ b/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-foo'], function (foo) { 'use strict';
+define(['./generated-foo'], (function (foo) { 'use strict';
 
 	console.log(foo.foo, foo.foo);
 
-});
+}));
diff --git a/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/system/generated-foo.js b/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/system/generated-foo.js
index d8d23d2e4..241a21053 100644
--- a/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/system/generated-foo.js
+++ b/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/system/generated-foo.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = exports('f', {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/system/main1.js b/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/system/main1.js
index 8f6b0263c..3868a331e 100644
--- a/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/system/main1.js
+++ b/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/system/main1.js
@@ -1,14 +1,14 @@
-System.register(['./generated-foo.js'], function () {
+System.register(['./generated-foo.js'], (function () {
 	'use strict';
 	var foo;
 	return {
 		setters: [function (module) {
 			foo = module.f;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/system/main2.js b/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/system/main2.js
index 8f6b0263c..3868a331e 100644
--- a/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/system/main2.js
+++ b/test/chunking-form/samples/deduplicate-imports-referencing-originals-2/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-foo.js'], function () {
+System.register(['./generated-foo.js'], (function () {
 	'use strict';
 	var foo;
 	return {
 		setters: [function (module) {
 			foo = module.f;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/amd/generated-foo.js b/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/amd/generated-foo.js
index d3a2d0d4a..aeb235dc3 100644
--- a/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/amd/generated-foo.js
+++ b/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/amd/generated-foo.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = {};
 
 	exports.foo = foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/amd/main1.js b/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/amd/main1.js
index b61c59102..f5ab0bc84 100644
--- a/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/amd/main1.js
+++ b/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-foo'], function (foo) { 'use strict';
+define(['./generated-foo'], (function (foo) { 'use strict';
 
 	console.log(foo.foo, foo.foo);
 
-});
+}));
diff --git a/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/amd/main2.js b/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/amd/main2.js
index b61c59102..f5ab0bc84 100644
--- a/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/amd/main2.js
+++ b/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-foo'], function (foo) { 'use strict';
+define(['./generated-foo'], (function (foo) { 'use strict';
 
 	console.log(foo.foo, foo.foo);
 
-});
+}));
diff --git a/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/system/generated-foo.js b/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/system/generated-foo.js
index d8d23d2e4..241a21053 100644
--- a/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/system/generated-foo.js
+++ b/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/system/generated-foo.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = exports('f', {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/system/main1.js b/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/system/main1.js
index 8f6b0263c..3868a331e 100644
--- a/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/system/main1.js
+++ b/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/system/main1.js
@@ -1,14 +1,14 @@
-System.register(['./generated-foo.js'], function () {
+System.register(['./generated-foo.js'], (function () {
 	'use strict';
 	var foo;
 	return {
 		setters: [function (module) {
 			foo = module.f;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/system/main2.js b/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/system/main2.js
index 8f6b0263c..3868a331e 100644
--- a/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/system/main2.js
+++ b/test/chunking-form/samples/deduplicate-imports-referencing-originals/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-foo.js'], function () {
+System.register(['./generated-foo.js'], (function () {
 	'use strict';
 	var foo;
 	return {
 		setters: [function (module) {
 			foo = module.f;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/default-export-name-conflict/_expected/amd/generated-module1.js b/test/chunking-form/samples/default-export-name-conflict/_expected/amd/generated-module1.js
index 99e5242e8..6cfa5eb31 100644
--- a/test/chunking-form/samples/default-export-name-conflict/_expected/amd/generated-module1.js
+++ b/test/chunking-form/samples/default-export-name-conflict/_expected/amd/generated-module1.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const firebase = {};
 
 	exports.firebase = firebase;
 
-});
+}));
diff --git a/test/chunking-form/samples/default-export-name-conflict/_expected/amd/main1.js b/test/chunking-form/samples/default-export-name-conflict/_expected/amd/main1.js
index b1525c2e8..c338555e7 100644
--- a/test/chunking-form/samples/default-export-name-conflict/_expected/amd/main1.js
+++ b/test/chunking-form/samples/default-export-name-conflict/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-module1'], function (module1) { 'use strict';
+define(['./generated-module1'], (function (module1) { 'use strict';
 
 	console.log(module1.firebase, module1.firebase);
 
-});
+}));
diff --git a/test/chunking-form/samples/default-export-name-conflict/_expected/amd/main2.js b/test/chunking-form/samples/default-export-name-conflict/_expected/amd/main2.js
index b1525c2e8..c338555e7 100644
--- a/test/chunking-form/samples/default-export-name-conflict/_expected/amd/main2.js
+++ b/test/chunking-form/samples/default-export-name-conflict/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-module1'], function (module1) { 'use strict';
+define(['./generated-module1'], (function (module1) { 'use strict';
 
 	console.log(module1.firebase, module1.firebase);
 
-});
+}));
diff --git a/test/chunking-form/samples/default-export-name-conflict/_expected/system/generated-module1.js b/test/chunking-form/samples/default-export-name-conflict/_expected/system/generated-module1.js
index 444b218ef..257dbceeb 100644
--- a/test/chunking-form/samples/default-export-name-conflict/_expected/system/generated-module1.js
+++ b/test/chunking-form/samples/default-export-name-conflict/_expected/system/generated-module1.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const firebase = exports('f', {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/default-export-name-conflict/_expected/system/main1.js b/test/chunking-form/samples/default-export-name-conflict/_expected/system/main1.js
index abf296ea0..a649760a1 100644
--- a/test/chunking-form/samples/default-export-name-conflict/_expected/system/main1.js
+++ b/test/chunking-form/samples/default-export-name-conflict/_expected/system/main1.js
@@ -1,14 +1,14 @@
-System.register(['./generated-module1.js'], function () {
+System.register(['./generated-module1.js'], (function () {
 	'use strict';
 	var firebase;
 	return {
 		setters: [function (module) {
 			firebase = module.f;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(firebase, firebase);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/default-export-name-conflict/_expected/system/main2.js b/test/chunking-form/samples/default-export-name-conflict/_expected/system/main2.js
index abf296ea0..a649760a1 100644
--- a/test/chunking-form/samples/default-export-name-conflict/_expected/system/main2.js
+++ b/test/chunking-form/samples/default-export-name-conflict/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-module1.js'], function () {
+System.register(['./generated-module1.js'], (function () {
 	'use strict';
 	var firebase;
 	return {
 		setters: [function (module) {
 			firebase = module.f;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(firebase, firebase);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/default-identifier-renaming/_expected/amd/generated-shared.js b/test/chunking-form/samples/default-identifier-renaming/_expected/amd/generated-shared.js
index 74e45d79f..d91f39a8f 100644
--- a/test/chunking-form/samples/default-identifier-renaming/_expected/amd/generated-shared.js
+++ b/test/chunking-form/samples/default-identifier-renaming/_expected/amd/generated-shared.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const data = [1, 2, 3];
 
 	exports.data = data;
 
-});
+}));
diff --git a/test/chunking-form/samples/default-identifier-renaming/_expected/amd/main1.js b/test/chunking-form/samples/default-identifier-renaming/_expected/amd/main1.js
index 7091cf839..1535598fa 100644
--- a/test/chunking-form/samples/default-identifier-renaming/_expected/amd/main1.js
+++ b/test/chunking-form/samples/default-identifier-renaming/_expected/amd/main1.js
@@ -1,7 +1,7 @@
-define(['./generated-shared'], function (shared) { 'use strict';
+define(['./generated-shared'], (function (shared) { 'use strict';
 
 	var main1 = shared.data.map(d => d + 1);
 
 	return main1;
 
-});
+}));
diff --git a/test/chunking-form/samples/default-identifier-renaming/_expected/amd/main2.js b/test/chunking-form/samples/default-identifier-renaming/_expected/amd/main2.js
index e9e8324c9..31dec8f35 100644
--- a/test/chunking-form/samples/default-identifier-renaming/_expected/amd/main2.js
+++ b/test/chunking-form/samples/default-identifier-renaming/_expected/amd/main2.js
@@ -1,7 +1,7 @@
-define(['./generated-shared'], function (shared) { 'use strict';
+define(['./generated-shared'], (function (shared) { 'use strict';
 
 	var main2 = shared.data.map(d => d + 2);
 
 	return main2;
 
-});
+}));
diff --git a/test/chunking-form/samples/default-identifier-renaming/_expected/system/generated-shared.js b/test/chunking-form/samples/default-identifier-renaming/_expected/system/generated-shared.js
index e28588b54..d806103aa 100644
--- a/test/chunking-form/samples/default-identifier-renaming/_expected/system/generated-shared.js
+++ b/test/chunking-form/samples/default-identifier-renaming/_expected/system/generated-shared.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const data = exports('d', [1, 2, 3]);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/default-identifier-renaming/_expected/system/main1.js b/test/chunking-form/samples/default-identifier-renaming/_expected/system/main1.js
index 97e63bc06..62733cad4 100644
--- a/test/chunking-form/samples/default-identifier-renaming/_expected/system/main1.js
+++ b/test/chunking-form/samples/default-identifier-renaming/_expected/system/main1.js
@@ -1,14 +1,14 @@
-System.register(['./generated-shared.js'], function (exports) {
+System.register(['./generated-shared.js'], (function (exports) {
 	'use strict';
 	var data;
 	return {
 		setters: [function (module) {
 			data = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var main1 = exports('default', data.map(d => d + 1));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/default-identifier-renaming/_expected/system/main2.js b/test/chunking-form/samples/default-identifier-renaming/_expected/system/main2.js
index 5e810db15..34ac1c5fd 100644
--- a/test/chunking-form/samples/default-identifier-renaming/_expected/system/main2.js
+++ b/test/chunking-form/samples/default-identifier-renaming/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-shared.js'], function (exports) {
+System.register(['./generated-shared.js'], (function (exports) {
 	'use strict';
 	var data;
 	return {
 		setters: [function (module) {
 			data = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var main2 = exports('default', data.map(d => d + 2));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/default-reexport-namespace/_expected/amd/main.js b/test/chunking-form/samples/default-reexport-namespace/_expected/amd/main.js
index c28f69950..40306c8ae 100644
--- a/test/chunking-form/samples/default-reexport-namespace/_expected/amd/main.js
+++ b/test/chunking-form/samples/default-reexport-namespace/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './one'], function (exports, one) { 'use strict';
+define(['exports', './one'], (function (exports, one) { 'use strict';
 
 	const __icon__ = {};
 
@@ -14,4 +14,4 @@ define(['exports', './one'], function (exports, one) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/default-reexport-namespace/_expected/amd/one.js b/test/chunking-form/samples/default-reexport-namespace/_expected/amd/one.js
index 19ec22efc..69cfdde2b 100644
--- a/test/chunking-form/samples/default-reexport-namespace/_expected/amd/one.js
+++ b/test/chunking-form/samples/default-reexport-namespace/_expected/amd/one.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const __icon__ = {};
 
 	return __icon__;
 
-});
+}));
diff --git a/test/chunking-form/samples/default-reexport-namespace/_expected/system/main.js b/test/chunking-form/samples/default-reexport-namespace/_expected/system/main.js
index f8bec5029..208064fa8 100644
--- a/test/chunking-form/samples/default-reexport-namespace/_expected/system/main.js
+++ b/test/chunking-form/samples/default-reexport-namespace/_expected/system/main.js
@@ -1,11 +1,11 @@
-System.register(['./one.js'], function (exports) {
+System.register(['./one.js'], (function (exports) {
 	'use strict';
 	var __icon__$1;
 	return {
 		setters: [function (module) {
-			__icon__$1 = module.default;
+			__icon__$1 = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const __icon__ = {};
 
@@ -17,6 +17,6 @@ System.register(['./one.js'], function (exports) {
 
 			const __component__ = exports('Component_one', { icons });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/default-reexport-namespace/_expected/system/one.js b/test/chunking-form/samples/default-reexport-namespace/_expected/system/one.js
index 1db761192..ff23be086 100644
--- a/test/chunking-form/samples/default-reexport-namespace/_expected/system/one.js
+++ b/test/chunking-form/samples/default-reexport-namespace/_expected/system/one.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const __icon__ = exports('default', {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/a.js b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/a.js
index a0ee4d5c9..569e0dbc5 100644
--- a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/a.js
+++ b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/a.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const a = 1;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/b.js b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/b.js
index 71d3b650e..bc6adf18b 100644
--- a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/b.js
+++ b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/b.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const b = 2;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/main.js b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/main.js
index 854a7e8dc..4e0843caa 100644
--- a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./a', './one'], function (a, one) { 'use strict';
+define(['./a', './one'], (function (a, one) { 'use strict';
 
 	console.log(a.a + one.d);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/one.js b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/one.js
index 2d8ca9bd3..3db39871d 100644
--- a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/one.js
+++ b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/amd/one.js
@@ -1,4 +1,4 @@
-define(['exports', './b'], function (exports, b) { 'use strict';
+define(['exports', './b'], (function (exports, b) { 'use strict';
 
 	const d = b.b + 4;
 
@@ -6,4 +6,4 @@ define(['exports', './b'], function (exports, b) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/a.js b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/a.js
index 50f0d7760..8fb33a525 100644
--- a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/a.js
+++ b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/a.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const a = exports('a', 1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/b.js b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/b.js
index baa283691..3cb12a8bc 100644
--- a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/b.js
+++ b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/b.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const b = exports('b', 2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/main.js b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/main.js
index 306aa2895..fc9155ecd 100644
--- a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./a.js', './one.js'], function () {
+System.register(['./a.js', './one.js'], (function () {
 	'use strict';
 	var a, d;
 	return {
@@ -7,10 +7,10 @@ System.register(['./a.js', './one.js'], function () {
 		}, function (module) {
 			d = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(a + d);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/one.js b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/one.js
index dac01a345..4819936a2 100644
--- a/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/one.js
+++ b/test/chunking-form/samples/deprecated/avoid-imports-preserve-modules/_expected/system/one.js
@@ -1,14 +1,14 @@
-System.register(['./b.js'], function (exports) {
+System.register(['./b.js'], (function (exports) {
 	'use strict';
 	var b;
 	return {
 		setters: [function (module) {
 			b = module.b;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const d = exports('d', b + 4);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/amd/generated-lib1.js b/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/amd/generated-lib1.js
index 257a2531b..d53e713d2 100644
--- a/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/amd/generated-lib1.js
+++ b/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/amd/generated-lib1.js
@@ -1,8 +1,8 @@
-define(['exports', './generated-lib2'], function (exports, lib2) { 'use strict';
+define(['exports', './generated-lib2'], (function (exports, lib2) { 'use strict';
 
 	const lib1 = 'lib1';
 	console.log(`${lib1} imports ${lib2.lib2}`);
 
 	exports.lib1 = lib1;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/amd/generated-lib2.js b/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/amd/generated-lib2.js
index 2d731c524..4910275ea 100644
--- a/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/amd/generated-lib2.js
+++ b/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/amd/generated-lib2.js
@@ -1,8 +1,8 @@
-define(['exports', './generated-lib1'], function (exports, lib1) { 'use strict';
+define(['exports', './generated-lib1'], (function (exports, lib1) { 'use strict';
 
 	const lib2 = 'lib2';
 	console.log(`${lib2} imports ${lib1.lib1}`);
 
 	exports.lib2 = lib2;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/amd/main.js b/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/amd/main.js
index bb9152d6a..197552395 100644
--- a/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-lib1', './generated-lib2'], function (exports, lib1, lib2) { 'use strict';
+define(['exports', './generated-lib1', './generated-lib2'], (function (exports, lib1, lib2) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-lib1', './generated-lib2'], function (exports, l
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/system/generated-lib1.js b/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/system/generated-lib1.js
index 482dde214..e68a14939 100644
--- a/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/system/generated-lib1.js
+++ b/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/system/generated-lib1.js
@@ -1,15 +1,15 @@
-System.register(['./generated-lib2.js'], function (exports) {
+System.register(['./generated-lib2.js'], (function (exports) {
 	'use strict';
 	var lib2;
 	return {
 		setters: [function (module) {
 			lib2 = module.l;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const lib1 = exports('l', 'lib1');
 			console.log(`${lib1} imports ${lib2}`);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/system/generated-lib2.js b/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/system/generated-lib2.js
index d1beca4b8..2fc94b38e 100644
--- a/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/system/generated-lib2.js
+++ b/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/system/generated-lib2.js
@@ -1,15 +1,15 @@
-System.register(['./generated-lib1.js'], function (exports) {
+System.register(['./generated-lib1.js'], (function (exports) {
 	'use strict';
 	var lib1;
 	return {
 		setters: [function (module) {
 			lib1 = module.l;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const lib2 = exports('l', 'lib2');
 			console.log(`${lib2} imports ${lib1}`);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/system/main.js b/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/system/main.js
index 2bbc4fab8..810aa3e2b 100644
--- a/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/circular-manual-chunks/_expected/system/main.js
@@ -1,13 +1,13 @@
-System.register(['./generated-lib1.js', './generated-lib2.js'], function (exports) {
+System.register(['./generated-lib1.js', './generated-lib2.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('lib1', module.l);
 		}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/configure-asset-url/_expected/amd/main.js b/test/chunking-form/samples/deprecated/configure-asset-url/_expected/amd/main.js
index 44faf871a..f085ba371 100644
--- a/test/chunking-form/samples/deprecated/configure-asset-url/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/configure-asset-url/_expected/amd/main.js
@@ -1,9 +1,9 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	var asset2 = 'resolved';
 
 	var asset3 = new URL(require.toUrl('./assets/asset-unresolved-8dcd7fca.txt'), document.baseURI).href;
 
-	new Promise(function (resolve, reject) { require(['./nested/chunk'], resolve, reject) }).then(result => console.log(result, asset2, asset3));
+	new Promise(function (resolve, reject) { require(['./nested/chunk'], resolve, reject); }).then(result => console.log(result, asset2, asset3));
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/configure-asset-url/_expected/amd/nested/chunk.js b/test/chunking-form/samples/deprecated/configure-asset-url/_expected/amd/nested/chunk.js
index f7834ef9f..f0aa76e1c 100644
--- a/test/chunking-form/samples/deprecated/configure-asset-url/_expected/amd/nested/chunk.js
+++ b/test/chunking-form/samples/deprecated/configure-asset-url/_expected/amd/nested/chunk.js
@@ -1,7 +1,7 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	var solved = 'nested/chunk.js:solved:assets/asset-solved-28a7ac89.txt:../assets/asset-solved-28a7ac89.txt';
 
-	exports['default'] = solved;
+	exports["default"] = solved;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/configure-asset-url/_expected/cjs/nested/chunk.js b/test/chunking-form/samples/deprecated/configure-asset-url/_expected/cjs/nested/chunk.js
index f5dcbc0f0..c5ee0aff4 100644
--- a/test/chunking-form/samples/deprecated/configure-asset-url/_expected/cjs/nested/chunk.js
+++ b/test/chunking-form/samples/deprecated/configure-asset-url/_expected/cjs/nested/chunk.js
@@ -2,4 +2,4 @@
 
 var solved = 'nested/chunk.js:solved:assets/asset-solved-28a7ac89.txt:../assets/asset-solved-28a7ac89.txt';
 
-exports['default'] = solved;
+exports["default"] = solved;
diff --git a/test/chunking-form/samples/deprecated/configure-asset-url/_expected/system/main.js b/test/chunking-form/samples/deprecated/configure-asset-url/_expected/system/main.js
index 971fff86b..b9d944501 100644
--- a/test/chunking-form/samples/deprecated/configure-asset-url/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/configure-asset-url/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var asset2 = 'resolved';
 
@@ -9,6 +9,6 @@ System.register([], function (exports, module) {
 
 			module.import('./nested/chunk.js').then(result => console.log(result, asset2, asset3));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/configure-asset-url/_expected/system/nested/chunk.js b/test/chunking-form/samples/deprecated/configure-asset-url/_expected/system/nested/chunk.js
index 3bdc26106..c1b5bddba 100644
--- a/test/chunking-form/samples/deprecated/configure-asset-url/_expected/system/nested/chunk.js
+++ b/test/chunking-form/samples/deprecated/configure-asset-url/_expected/system/nested/chunk.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var solved = exports('default', 'nested/chunk.js:solved:assets/asset-solved-28a7ac89.txt:../assets/asset-solved-28a7ac89.txt');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/amd/main.js b/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/amd/main.js
index 5bae0b1bd..cf5bdfec0 100644
--- a/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	const asset$1 = 'resolved';
 	const chunk$1 = 'resolved';
@@ -6,6 +6,6 @@ define(['require'], function (require) { 'use strict';
 	const asset = new URL(require.toUrl('./assets/asset-unresolved-8dcd7fca.txt'), document.baseURI).href;
 	const chunk = new URL(require.toUrl('./nested/chunk.js'), document.baseURI).href;
 
-	new Promise(function (resolve, reject) { require(['./nested/chunk2'], resolve, reject) }).then(result => console.log(result, chunk$1, chunk, asset$1, asset));
+	new Promise(function (resolve, reject) { require(['./nested/chunk2'], resolve, reject); }).then(result => console.log(result, chunk$1, chunk, asset$1, asset));
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/amd/nested/chunk.js b/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/amd/nested/chunk.js
index 32f0814a5..f29221faf 100644
--- a/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/amd/nested/chunk.js
+++ b/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/amd/nested/chunk.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('chunk');
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/amd/nested/chunk2.js b/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/amd/nested/chunk2.js
index c40e57b7b..f6ce7c068 100644
--- a/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/amd/nested/chunk2.js
+++ b/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/amd/nested/chunk2.js
@@ -1,4 +1,4 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const asset = 'chunkId=nested/chunk2.js:moduleId=solved:fileName=assets/asset-solved-28a7ac89.txt:format=amd:relativePath=../assets/asset-solved-28a7ac89.txt:assetReferenceId=6296c678:chunkReferenceId=null';
 	const chunk = 'chunkId=nested/chunk2.js:moduleId=solved:fileName=nested/chunk.js:format=amd:relativePath=chunk.js:assetReferenceId=null:chunkReferenceId=f6c25ae7';
@@ -6,4 +6,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 	exports.asset = asset;
 	exports.chunk = chunk;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/system/main.js b/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/system/main.js
index c7f3e654e..f83712345 100644
--- a/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const asset$1 = 'resolved';
 			const chunk$1 = 'resolved';
@@ -11,6 +11,6 @@ System.register([], function (exports, module) {
 
 			module.import('./nested/chunk2.js').then(result => console.log(result, chunk$1, chunk, asset$1, asset));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/system/nested/chunk.js b/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/system/nested/chunk.js
index 9d080a80d..1443cae1e 100644
--- a/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/system/nested/chunk.js
+++ b/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/system/nested/chunk.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('chunk');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/system/nested/chunk2.js b/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/system/nested/chunk2.js
index 0ef79e2e1..46ffd9138 100644
--- a/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/system/nested/chunk2.js
+++ b/test/chunking-form/samples/deprecated/configure-file-url-for-assets-and-chunks/_expected/system/nested/chunk2.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const asset = exports('asset', 'chunkId=nested/chunk2.js:moduleId=solved:fileName=assets/asset-solved-28a7ac89.txt:format=system:relativePath=../assets/asset-solved-28a7ac89.txt:assetReferenceId=6296c678:chunkReferenceId=null');
 			const chunk = exports('chunk', 'chunkId=nested/chunk2.js:moduleId=solved:fileName=nested/chunk.js:format=system:relativePath=chunk.js:assetReferenceId=null:chunkReferenceId=f6c25ae7');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/dynamic-import-comments/_expected/amd/main.js b/test/chunking-form/samples/deprecated/dynamic-import-comments/_expected/amd/main.js
index 263888b05..60daf8058 100644
--- a/test/chunking-form/samples/deprecated/dynamic-import-comments/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/dynamic-import-comments/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,19 +9,17 @@ define(['require'], function (require) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
 	new Promise(function (resolve, reject) { require([
 	/* webpackChunkName: "chunk-name" */
-	'./foo'/*suffix*/], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
+	'./foo'/*suffix*/], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/dynamic-import-comments/_expected/cjs/main.js b/test/chunking-form/samples/deprecated/dynamic-import-comments/_expected/cjs/main.js
index 1969a9698..eca7a6148 100644
--- a/test/chunking-form/samples/deprecated/dynamic-import-comments/_expected/cjs/main.js
+++ b/test/chunking-form/samples/deprecated/dynamic-import-comments/_expected/cjs/main.js
@@ -9,14 +9,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/chunking-form/samples/deprecated/dynamic-import-comments/_expected/system/main.js b/test/chunking-form/samples/deprecated/dynamic-import-comments/_expected/system/main.js
index 5967f1516..d95610125 100644
--- a/test/chunking-form/samples/deprecated/dynamic-import-comments/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/dynamic-import-comments/_expected/system/main.js
@@ -1,12 +1,12 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import(
 			/* webpackChunkName: "chunk-name" */
 			'./foo.js'/*suffix*/);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/dynamic-import-inlining-object/_expected/amd/entry.js b/test/chunking-form/samples/deprecated/dynamic-import-inlining-object/_expected/amd/entry.js
index 87c533f4a..ac76d2d7d 100644
--- a/test/chunking-form/samples/deprecated/dynamic-import-inlining-object/_expected/amd/entry.js
+++ b/test/chunking-form/samples/deprecated/dynamic-import-inlining-object/_expected/amd/entry.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const bar = 2;
 	Promise.resolve().then(function () { return foo$1; });
@@ -14,4 +14,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/dynamic-import-inlining-object/_expected/system/entry.js b/test/chunking-form/samples/deprecated/dynamic-import-inlining-object/_expected/system/entry.js
index 0ac064e42..f3161f5e7 100644
--- a/test/chunking-form/samples/deprecated/dynamic-import-inlining-object/_expected/system/entry.js
+++ b/test/chunking-form/samples/deprecated/dynamic-import-inlining-object/_expected/system/entry.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const bar = exports('bar', 2);
 			Promise.resolve().then(function () { return foo$1; });
@@ -13,6 +13,6 @@ System.register([], function (exports) {
 				foo: foo
 			});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/dynamic-import-name/_expected/amd/main.js b/test/chunking-form/samples/deprecated/dynamic-import-name/_expected/amd/main.js
index 91e687181..2c3570f99 100644
--- a/test/chunking-form/samples/deprecated/dynamic-import-name/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/dynamic-import-name/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,17 +9,15 @@ define(['require'], function (require) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	new Promise(function (resolve, reject) { require(['./foo'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) }).then(result => console.log(result));
+	new Promise(function (resolve, reject) { require(['./foo'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }).then(result => console.log(result));
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/dynamic-import-name/_expected/cjs/main.js b/test/chunking-form/samples/deprecated/dynamic-import-name/_expected/cjs/main.js
index c6d45fe81..e13e35346 100644
--- a/test/chunking-form/samples/deprecated/dynamic-import-name/_expected/cjs/main.js
+++ b/test/chunking-form/samples/deprecated/dynamic-import-name/_expected/cjs/main.js
@@ -9,14 +9,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/chunking-form/samples/deprecated/dynamic-import-name/_expected/system/main.js b/test/chunking-form/samples/deprecated/dynamic-import-name/_expected/system/main.js
index ce0e7ba78..dffa4e046 100644
--- a/test/chunking-form/samples/deprecated/dynamic-import-name/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/dynamic-import-name/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./foo.js').then(result => console.log(result));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-asset/_expected/amd/main.js b/test/chunking-form/samples/deprecated/emit-asset/_expected/amd/main.js
index d69c22824..1dd5b4aaa 100644
--- a/test/chunking-form/samples/deprecated/emit-asset/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/emit-asset/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	var logo = new URL(require.toUrl('./assets/logo1-a5ec488b.svg'), document.baseURI).href;
 
@@ -12,10 +12,10 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 	}
 
 	showImage(logo);
-	new Promise(function (resolve, reject) { require(['./nested/chunk'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./nested/chunk'], resolve, reject); });
 
 	exports.showImage = showImage;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-asset/_expected/amd/nested/chunk.js b/test/chunking-form/samples/deprecated/emit-asset/_expected/amd/nested/chunk.js
index 58bc60e01..6a888ad7e 100644
--- a/test/chunking-form/samples/deprecated/emit-asset/_expected/amd/nested/chunk.js
+++ b/test/chunking-form/samples/deprecated/emit-asset/_expected/amd/nested/chunk.js
@@ -1,7 +1,7 @@
-define(['require', '../main'], function (require, main) { 'use strict';
+define(['require', '../main'], (function (require, main) { 'use strict';
 
 	var logo = new URL(require.toUrl('../assets/logo2-6d5979e4.svg'), document.baseURI).href;
 
 	main.showImage(logo);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-asset/_expected/system/main.js b/test/chunking-form/samples/deprecated/emit-asset/_expected/system/main.js
index c4f3d058b..01ef84eff 100644
--- a/test/chunking-form/samples/deprecated/emit-asset/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/emit-asset/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('s', showImage);
 
@@ -19,6 +19,6 @@ System.register([], function (exports, module) {
 			showImage(logo);
 			module.import('./nested/chunk.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-asset/_expected/system/nested/chunk.js b/test/chunking-form/samples/deprecated/emit-asset/_expected/system/nested/chunk.js
index 627ee24d9..f678780b7 100644
--- a/test/chunking-form/samples/deprecated/emit-asset/_expected/system/nested/chunk.js
+++ b/test/chunking-form/samples/deprecated/emit-asset/_expected/system/nested/chunk.js
@@ -1,16 +1,16 @@
-System.register(['../main.js'], function (exports, module) {
+System.register(['../main.js'], (function (exports, module) {
 	'use strict';
 	var showImage;
 	return {
 		setters: [function (module) {
 			showImage = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var logo = new URL('../assets/logo2-6d5979e4.svg', module.meta.url).href;
 
 			showImage(logo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/amd/first-main.js b/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/amd/first-main.js
index fd823ca54..05e4663fb 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/amd/first-main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/amd/first-main.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('main1', dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/amd/generated-dep.js b/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/amd/generated-dep.js
index e14fcf801..918ffcbca 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var value = 42;
 
 	return value;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/amd/second-main.js b/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/amd/second-main.js
index fd823ca54..05e4663fb 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/amd/second-main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/amd/second-main.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('main1', dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/system/first-main.js b/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/system/first-main.js
index 80f3e6cfe..1901ed04d 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/system/first-main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/system/first-main.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
-			value = module.default;
+			value = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/system/generated-dep.js b/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/system/generated-dep.js
index 9cb117a62..1c71e7612 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/system/generated-dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/system/second-main.js b/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/system/second-main.js
index 80f3e6cfe..1901ed04d 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/system/second-main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-existing/_expected/system/second-main.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
-			value = module.default;
+			value = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/amd/generated-build-starter.js b/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/amd/generated-build-starter.js
index 4974a3482..8efead70d 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/amd/generated-build-starter.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/amd/generated-build-starter.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 	const otherValue = 43;
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.otherValue = otherValue;
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/amd/generated-buildStart.js b/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/amd/generated-buildStart.js
index 061437484..61abbcd2e 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/amd/generated-buildStart.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/amd/generated-buildStart.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-build-starter'], function (exports, buildStarter) { 'use strict';
+define(['exports', './generated-build-starter'], (function (exports, buildStarter) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-build-starter'], function (exports, buildStarter
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/amd/main.js b/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/amd/main.js
index f9191ee8a..830d21848 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-build-starter'], function (buildStarter) { 'use strict';
+define(['./generated-build-starter'], (function (buildStarter) { 'use strict';
 
 	console.log('main', buildStarter.value, buildStarter.otherValue);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/system/generated-build-starter.js b/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/system/generated-build-starter.js
index 75f69e53e..745c94783 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/system/generated-build-starter.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/system/generated-build-starter.js
@@ -1,13 +1,13 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('v', 42);
 			const otherValue = exports('o', 43);
 
 			console.log('startBuild', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/system/generated-buildStart.js b/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/system/generated-buildStart.js
index b82461c98..c21eed54d 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/system/generated-buildStart.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/system/generated-buildStart.js
@@ -1,13 +1,13 @@
-System.register(['./generated-build-starter.js'], function (exports) {
+System.register(['./generated-build-starter.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('buildStartValue', module.v);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/system/main.js b/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/system/main.js
index 4b52f5657..55b718e43 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-facade/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./generated-build-starter.js'], function () {
+System.register(['./generated-build-starter.js'], (function () {
 	'use strict';
 	var value, otherValue;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-build-starter.js'], function () {
 			value = module.v;
 			otherValue = module.o;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main', value, otherValue);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/generated-dep.js b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/generated-dep.js
index 5e2f9f029..d041b1d05 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var value = 42;
 
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/generated-nested/build-start.js b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/generated-nested/build-start.js
index 61df7ab5c..b4158d6ac 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/generated-nested/build-start.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/generated-nested/build-start.js
@@ -1,5 +1,5 @@
-define(['../generated-dep'], function (dep) { 'use strict';
+define(['../generated-dep'], (function (dep) { 'use strict';
 
 	console.log('buildStart', dep.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/generated-nested/transform.js b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/generated-nested/transform.js
index 83439dd05..f8b3205df 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/generated-nested/transform.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/generated-nested/transform.js
@@ -1,5 +1,5 @@
-define(['../generated-dep'], function (dep) { 'use strict';
+define(['../generated-dep'], (function (dep) { 'use strict';
 
 	console.log('transform', dep.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/main.js b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/main.js
index 764805ded..9e5663625 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('main', dep.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/generated-dep.js b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/generated-dep.js
index e69dcc529..eb5993a95 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/generated-dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('v', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/generated-nested/build-start.js b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/generated-nested/build-start.js
index a3b2c2eb9..7db3b7616 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/generated-nested/build-start.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/generated-nested/build-start.js
@@ -1,14 +1,14 @@
-System.register(['../generated-dep.js'], function () {
+System.register(['../generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('buildStart', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/generated-nested/transform.js b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/generated-nested/transform.js
index 5f803e25b..fd90ea1c2 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/generated-nested/transform.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/generated-nested/transform.js
@@ -1,14 +1,14 @@
-System.register(['../generated-dep.js'], function () {
+System.register(['../generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('transform', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/main.js b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/main.js
index 13eec5478..39150aad0 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-named/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/chunks/nested.js b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/chunks/nested.js
index deefacd23..206aefd79 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/chunks/nested.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/chunks/nested.js
@@ -1,4 +1,4 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
   const getWorkerMessage = () => new Promise(resolve => {
     const worker = new Worker(new URL(require.toUrl('./worker-proxy.js'), document.baseURI).href);
@@ -7,4 +7,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
   exports.getWorkerMessage = getWorkerMessage;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/chunks/shared.js b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/chunks/shared.js
index b188047d8..3f801df74 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/chunks/shared.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/chunks/shared.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const shared = 'shared';
 
 	exports.shared = shared;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/chunks/worker.js b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/chunks/worker.js
index de59be73c..56158bba9 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/chunks/worker.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/chunks/worker.js
@@ -1,5 +1,5 @@
-define(['./shared'], function (shared) { 'use strict';
+define(['./shared'], (function (shared) { 'use strict';
 
 	postMessage(`from worker: ${shared.shared}`);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/main.js b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/main.js
index cc2e4dd2c..8a68fe863 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require', './chunks/shared'], function (require, shared) { 'use strict';
+define(['require', './chunks/shared'], (function (require, shared) { 'use strict';
 
   const getWorkerMessage = () => new Promise(resolve => {
     const worker = new Worker(new URL(require.toUrl('./chunks/worker-proxy.js'), document.baseURI).href);
@@ -8,8 +8,8 @@ define(['require', './chunks/shared'], function (require, shared) { 'use strict'
   document.body.innerHTML += `<h1>main: ${shared.shared}</h1>`;
   getWorkerMessage().then(message => (document.body.innerHTML += `<h1>1: ${message.data}</h1>`));
 
-  new Promise(function (resolve, reject) { require(['./chunks/nested'], resolve, reject) })
+  new Promise(function (resolve, reject) { require(['./chunks/nested'], resolve, reject); })
   	.then(result => result.getWorkerMessage())
   	.then(message => (document.body.innerHTML += `<h1>2: ${message.data}</h1>`));
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/chunks/nested.js b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/chunks/nested.js
index 1c41e7264..ac5b45772 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/chunks/nested.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/chunks/nested.js
@@ -1,13 +1,13 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       const getWorkerMessage = exports('getWorkerMessage', () => new Promise(resolve => {
         const worker = new Worker(new URL('worker-proxy.js', module.meta.url).href);
         worker.onmessage = resolve;
       }));
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/chunks/shared.js b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/chunks/shared.js
index 48be08070..854bb7122 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/chunks/shared.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/chunks/shared.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('s', 'shared');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/chunks/worker.js b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/chunks/worker.js
index 1013f55b3..c73a318e3 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/chunks/worker.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/chunks/worker.js
@@ -1,14 +1,14 @@
-System.register(['./shared.js'], function () {
+System.register(['./shared.js'], (function () {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			postMessage(`from worker: ${shared}`);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/main.js b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/main.js
index 4ee1bb4ab..cd37abb08 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worker/_expected/system/main.js
@@ -1,11 +1,11 @@
-System.register(['./chunks/shared.js'], function (exports, module) {
+System.register(['./chunks/shared.js'], (function (exports, module) {
   'use strict';
   var shared;
   return {
     setters: [function (module) {
       shared = module.s;
     }],
-    execute: function () {
+    execute: (function () {
 
       const getWorkerMessage = () => new Promise(resolve => {
         const worker = new Worker(new URL('chunks/worker-proxy.js', module.meta.url).href);
@@ -19,6 +19,6 @@ System.register(['./chunks/shared.js'], function (exports, module) {
       	.then(result => result.getWorkerMessage())
       	.then(message => (document.body.innerHTML += `<h1>2: ${message.data}</h1>`));
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/amd/chunks/shared.js b/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/amd/chunks/shared.js
index 931cd5869..e5f35a000 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/amd/chunks/shared.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/amd/chunks/shared.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const color = 'greenyellow';
 	const size = 6;
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.color = color;
 	exports.size = size;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/amd/chunks/worklet.js b/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/amd/chunks/worklet.js
index f96f283ad..ea01ac8fb 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/amd/chunks/worklet.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/amd/chunks/worklet.js
@@ -1,4 +1,4 @@
-define(['./shared'], function (shared) { 'use strict';
+define(['./shared'], (function (shared) { 'use strict';
 
 	registerPaint(
 		'vertical-lines',
@@ -14,4 +14,4 @@ define(['./shared'], function (shared) { 'use strict';
 		}
 	);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/amd/main.js b/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/amd/main.js
index bf73a6f15..d10bf6428 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['require', './chunks/shared'], function (require, shared) { 'use strict';
+define(['require', './chunks/shared'], (function (require, shared) { 'use strict';
 
 	CSS.paintWorklet.addModule(new URL(require.toUrl('./chunks/worklet.js'), document.baseURI).href);
 
 	document.body.innerHTML += `<h1 style="background-image: paint(vertical-lines);">color: ${shared.color}, size: ${shared.size}</h1>`;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/system/chunks/shared.js b/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/system/chunks/shared.js
index f348ef3f4..fa667a1ea 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/system/chunks/shared.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/system/chunks/shared.js
@@ -1,11 +1,11 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const color = exports('c', 'greenyellow');
 			const size = exports('s', 6);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/system/chunks/worklet.js b/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/system/chunks/worklet.js
index 9cb605597..88e721d45 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/system/chunks/worklet.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/system/chunks/worklet.js
@@ -1,4 +1,4 @@
-System.register(['./shared.js'], function () {
+System.register(['./shared.js'], (function () {
 	'use strict';
 	var size, color;
 	return {
@@ -6,7 +6,7 @@ System.register(['./shared.js'], function () {
 			size = module.s;
 			color = module.c;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			registerPaint(
 				'vertical-lines',
@@ -22,6 +22,6 @@ System.register(['./shared.js'], function () {
 				}
 			);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/system/main.js b/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/system/main.js
index 316537429..69c57ed60 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk-worklet/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./chunks/shared.js'], function (exports, module) {
+System.register(['./chunks/shared.js'], (function (exports, module) {
 	'use strict';
 	var color, size;
 	return {
@@ -6,12 +6,12 @@ System.register(['./chunks/shared.js'], function (exports, module) {
 			color = module.c;
 			size = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			CSS.paintWorklet.addModule(new URL('chunks/worklet.js', module.meta.url).href);
 
 			document.body.innerHTML += `<h1 style="background-image: paint(vertical-lines);">color: ${color}, size: ${size}</h1>`;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk/_expected/amd/generated-buildStart.js b/test/chunking-form/samples/deprecated/emit-chunk/_expected/amd/generated-buildStart.js
index 05dda0e01..041249b14 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk/_expected/amd/generated-buildStart.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk/_expected/amd/generated-buildStart.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('startBuild', dep.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk/_expected/amd/generated-dep.js b/test/chunking-form/samples/deprecated/emit-chunk/_expected/amd/generated-dep.js
index 5e2f9f029..d041b1d05 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var value = 42;
 
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk/_expected/amd/main.js b/test/chunking-form/samples/deprecated/emit-chunk/_expected/amd/main.js
index 764805ded..9e5663625 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('main', dep.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk/_expected/system/generated-buildStart.js b/test/chunking-form/samples/deprecated/emit-chunk/_expected/system/generated-buildStart.js
index 08465151e..12a2c642f 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk/_expected/system/generated-buildStart.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk/_expected/system/generated-buildStart.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('startBuild', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk/_expected/system/generated-dep.js b/test/chunking-form/samples/deprecated/emit-chunk/_expected/system/generated-dep.js
index e69dcc529..eb5993a95 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk/_expected/system/generated-dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('v', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-chunk/_expected/system/main.js b/test/chunking-form/samples/deprecated/emit-chunk/_expected/system/main.js
index 13eec5478..39150aad0 100644
--- a/test/chunking-form/samples/deprecated/emit-chunk/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/emit-chunk/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/amd/generated-build-starter.js b/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/amd/generated-build-starter.js
index 4974a3482..8efead70d 100644
--- a/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/amd/generated-build-starter.js
+++ b/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/amd/generated-build-starter.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 	const otherValue = 43;
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.otherValue = otherValue;
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/amd/generated-buildStart.js b/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/amd/generated-buildStart.js
index 061437484..61abbcd2e 100644
--- a/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/amd/generated-buildStart.js
+++ b/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/amd/generated-buildStart.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-build-starter'], function (exports, buildStarter) { 'use strict';
+define(['exports', './generated-build-starter'], (function (exports, buildStarter) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-build-starter'], function (exports, buildStarter
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/amd/main.js b/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/amd/main.js
index f9191ee8a..830d21848 100644
--- a/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-build-starter'], function (buildStarter) { 'use strict';
+define(['./generated-build-starter'], (function (buildStarter) { 'use strict';
 
 	console.log('main', buildStarter.value, buildStarter.otherValue);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/system/generated-build-starter.js b/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/system/generated-build-starter.js
index 75f69e53e..745c94783 100644
--- a/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/system/generated-build-starter.js
+++ b/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/system/generated-build-starter.js
@@ -1,13 +1,13 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('v', 42);
 			const otherValue = exports('o', 43);
 
 			console.log('startBuild', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/system/generated-buildStart.js b/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/system/generated-buildStart.js
index b82461c98..c21eed54d 100644
--- a/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/system/generated-buildStart.js
+++ b/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/system/generated-buildStart.js
@@ -1,13 +1,13 @@
-System.register(['./generated-build-starter.js'], function (exports) {
+System.register(['./generated-build-starter.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('buildStartValue', module.v);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/system/main.js b/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/system/main.js
index 4b52f5657..55b718e43 100644
--- a/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/emit-file-chunk-facade/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./generated-build-starter.js'], function () {
+System.register(['./generated-build-starter.js'], (function () {
 	'use strict';
 	var value, otherValue;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-build-starter.js'], function () {
 			value = module.v;
 			otherValue = module.o;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main', value, otherValue);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/amd/components/index.js b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/amd/components/index.js
index db7eff476..6362ec20f 100644
--- a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/amd/components/index.js
+++ b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/amd/components/index.js
@@ -1,10 +1,10 @@
-define(['exports', './sub/index'], function (exports, index) { 'use strict';
+define(['exports', './sub/index'], (function (exports, index) { 'use strict';
 
-	const baz = { bar: index['default'] };
+	const baz = { bar: index["default"] };
 
 	exports.foo = index.foo;
 	exports.baz = baz;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/amd/components/sub/index.js b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/amd/components/sub/index.js
index 61356b3c0..7ea885c8c 100644
--- a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/amd/components/sub/index.js
+++ b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/amd/components/sub/index.js
@@ -1,11 +1,11 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = 'bar';
 	var bar = () => {};
 
-	exports['default'] = bar;
+	exports["default"] = bar;
 	exports.foo = foo;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/amd/main.js b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/amd/main.js
index 9e02e78d2..03a4f176c 100644
--- a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './components/index', './components/sub/index'], function (exports, index, index$1) { 'use strict';
+define(['exports', './components/index', './components/sub/index'], (function (exports, index, index$1) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './components/index', './components/sub/index'], function (ex
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/cjs/components/index.js b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/cjs/components/index.js
index 848372ab7..a9e51f230 100644
--- a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/cjs/components/index.js
+++ b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/cjs/components/index.js
@@ -4,7 +4,7 @@ Object.defineProperty(exports, '__esModule', { value: true });
 
 var index = require('./sub/index.js');
 
-const baz = { bar: index['default'] };
+const baz = { bar: index["default"] };
 
 exports.foo = index.foo;
 exports.baz = baz;
diff --git a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/cjs/components/sub/index.js b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/cjs/components/sub/index.js
index a37c5b92f..9676a7920 100644
--- a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/cjs/components/sub/index.js
+++ b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/cjs/components/sub/index.js
@@ -5,5 +5,5 @@ Object.defineProperty(exports, '__esModule', { value: true });
 const foo = 'bar';
 var bar = () => {};
 
-exports['default'] = bar;
+exports["default"] = bar;
 exports.foo = foo;
diff --git a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/system/components/index.js b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/system/components/index.js
index 17def0f80..d4a4217d3 100644
--- a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/system/components/index.js
+++ b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/system/components/index.js
@@ -1,15 +1,15 @@
-System.register('bundle', ['./sub/index.js'], function (exports) {
+System.register('bundle', ['./sub/index.js'], (function (exports) {
 	'use strict';
 	var bar;
 	return {
 		setters: [function (module) {
-			bar = module.default;
+			bar = module["default"];
 			exports('foo', module.foo);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const baz = exports('baz', { bar });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/system/components/sub/index.js b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/system/components/sub/index.js
index 2174c1939..f6f4fdff6 100644
--- a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/system/components/sub/index.js
+++ b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/system/components/sub/index.js
@@ -1,11 +1,11 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = exports('foo', 'bar');
 			var bar = exports('default', () => {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/system/main.js b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/system/main.js
index 8aafd8ee3..26be107a7 100644
--- a/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/indirect-reexports-preserve-modules/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register('bundle', ['./components/index.js', './components/sub/index.js'], function (exports) {
+System.register('bundle', ['./components/index.js', './components/sub/index.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
@@ -6,10 +6,10 @@ System.register('bundle', ['./components/index.js', './components/sub/index.js']
 		}, function (module) {
 			exports('foo', module.foo);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected.js b/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected.js
deleted file mode 100644
index 8607119d3..000000000
--- a/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected.js
+++ /dev/null
@@ -1,78 +0,0 @@
-'use strict';
-
-Object.defineProperty(exports, '__esModule', { value: true });
-
-var externalFalse = require('external-false');
-var externalTrue = require('external-true');
-var externalDefault = require('external-default');
-var externalEsModule = require('external-esModule');
-
-function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex : { 'default': ex }; }
-
-function _interopNamespace(e) {
-	if (e && e.__esModule) { return e; } else {
-		var n = Object.create(null);
-		if (e) {
-			Object.keys(e).forEach(function (k) {
-				var d = Object.getOwnPropertyDescriptor(e, k);
-				Object.defineProperty(n, k, d.get ? d : {
-					enumerable: true,
-					get: function () {
-						return e[k];
-					}
-				});
-			});
-		}
-		n['default'] = e;
-		return Object.freeze(n);
-	}
-}
-
-var externalTrue__namespace = /*#__PURE__*/_interopNamespace(externalTrue);
-var externalTrue__default = /*#__PURE__*/_interopDefault(externalTrue);
-var externalDefault__namespace = /*#__PURE__*/_interopNamespace(externalDefault);
-
-
-
-Object.defineProperty(exports, 'barFalse', {
-	enumerable: true,
-	get: function () {
-		return externalFalse.barFalse;
-	}
-});
-exports.externalFalse = externalFalse;
-exports.fooFalse = externalFalse;
-Object.defineProperty(exports, 'barTrue', {
-	enumerable: true,
-	get: function () {
-		return externalTrue.barTrue;
-	}
-});
-exports.externalTrue = externalTrue__namespace;
-Object.defineProperty(exports, 'fooTrue', {
-	enumerable: true,
-	get: function () {
-		return externalTrue__default['default'];
-	}
-});
-Object.defineProperty(exports, 'barDefault', {
-	enumerable: true,
-	get: function () {
-		return externalDefault.barDefault;
-	}
-});
-exports.externalDefault = externalDefault__namespace;
-exports.fooDefault = externalDefault;
-Object.defineProperty(exports, 'barEsModule', {
-	enumerable: true,
-	get: function () {
-		return externalEsModule.barEsModule;
-	}
-});
-exports.externalEsModule = externalEsModule;
-Object.defineProperty(exports, 'fooEsModule', {
-	enumerable: true,
-	get: function () {
-		return externalEsModule['default'];
-	}
-});
diff --git a/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/amd/false.js b/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/amd/false.js
index f88ed67c5..fd40147c9 100644
--- a/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/amd/false.js
+++ b/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/amd/false.js
@@ -1,7 +1,7 @@
-define(['external-false'], function (externalFalse) { 'use strict';
+define(['external-false'], (function (externalFalse) { 'use strict';
 
 
 
 	return externalFalse;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/amd/true.js b/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/amd/true.js
index 90c39c2b2..c53b872ab 100644
--- a/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/amd/true.js
+++ b/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/amd/true.js
@@ -1,4 +1,4 @@
-define(['external-true'], function (externalTrue) { 'use strict';
+define(['external-true'], (function (externalTrue) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -6,6 +6,6 @@ define(['external-true'], function (externalTrue) { 'use strict';
 
 
 
-	return externalTrue__default['default'];
+	return externalTrue__default["default"];
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/cjs/true.js b/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/cjs/true.js
index 12cdef862..1ecec417a 100644
--- a/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/cjs/true.js
+++ b/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/cjs/true.js
@@ -8,4 +8,4 @@ var externalTrue__default = /*#__PURE__*/_interopDefaultLegacy(externalTrue);
 
 
 
-module.exports = externalTrue__default['default'];
+module.exports = externalTrue__default["default"];
diff --git a/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/system/false.js b/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/system/false.js
index b75f83507..3ef2c8a6e 100644
--- a/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/system/false.js
+++ b/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/system/false.js
@@ -1,13 +1,13 @@
-System.register(['external-false'], function (exports) {
+System.register(['external-false'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('default', module.default);
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/system/true.js b/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/system/true.js
index a7ecb82b3..47585aa13 100644
--- a/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/system/true.js
+++ b/test/chunking-form/samples/deprecated/interop-per-reexported-default-dependency-boolean/_expected/system/true.js
@@ -1,13 +1,13 @@
-System.register(['external-true'], function (exports) {
+System.register(['external-true'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('default', module.default);
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/amd/main1.js b/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/amd/main1.js
index a973f4d8d..56e0171e9 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/amd/main1.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./main2'], function (manual) { 'use strict';
+define(['./main2'], (function (manual) { 'use strict';
 
 	console.log('main', manual.reexported);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/amd/main2.js b/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/amd/main2.js
index 674f42a40..ca9c82772 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/amd/main2.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/system/main1.js b/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/system/main1.js
index 36f1fb810..f189fb530 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/system/main1.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/system/main1.js
@@ -1,14 +1,14 @@
-System.register(['./main2.js'], function () {
+System.register(['./main2.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.reexported;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/system/main2.js b/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/system/main2.js
index e00ab6a2d..ec2b81330 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/system/main2.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-avoid-facade/_expected/system/main2.js
@@ -1,12 +1,12 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('reexported', 42);
 
 			console.log('main2', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/amd/main.js b/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/amd/main.js
index fc91f027a..9077cbb0e 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	console.log('dep');
 
@@ -10,4 +10,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/amd/main2.js b/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/amd/main2.js
index d28c079a3..a8c2660dc 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/amd/main2.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./main'], function (outer) { 'use strict';
+define(['./main'], (function (outer) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/system/main.js b/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/system/main.js
index b92309e3b..54287b3c8 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/system/main2.js b/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/system/main2.js
index da731958b..13f34084b 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/system/main2.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-conflict/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./main.js'], function () {
+System.register(['./main.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-match/_expected/amd/main.js b/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-match/_expected/amd/main.js
index fc91f027a..9077cbb0e 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-match/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-match/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	console.log('dep');
 
@@ -10,4 +10,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-match/_expected/system/main.js b/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-match/_expected/system/main.js
index b92309e3b..54287b3c8 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-match/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-contains-entry-match/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/amd/main.js b/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/amd/main.js
index fc91f027a..9077cbb0e 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	console.log('dep');
 
@@ -10,4 +10,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/amd/main2.js b/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/amd/main2.js
index e007f54e5..e5e4e1a17 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/amd/main2.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./main'], function (other) { 'use strict';
+define(['./main'], (function (other) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/system/main.js b/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/system/main.js
index b92309e3b..54287b3c8 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/system/main2.js b/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/system/main2.js
index da731958b..13f34084b 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/system/main2.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-is-entry-conflict/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./main.js'], function () {
+System.register(['./main.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-is-entry-match/_expected/amd/main.js b/test/chunking-form/samples/deprecated/manual-chunk-is-entry-match/_expected/amd/main.js
index fc91f027a..9077cbb0e 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-is-entry-match/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-is-entry-match/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	console.log('dep');
 
@@ -10,4 +10,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunk-is-entry-match/_expected/system/main.js b/test/chunking-form/samples/deprecated/manual-chunk-is-entry-match/_expected/system/main.js
index b92309e3b..54287b3c8 100644
--- a/test/chunking-form/samples/deprecated/manual-chunk-is-entry-match/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunk-is-entry-match/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/generated-manual-inner.js b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/generated-manual-inner.js
index 5068b5fd9..a0d11c04e 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/generated-manual-inner.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/generated-manual-inner.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('inner');
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/generated-manual-middle.js b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/generated-manual-middle.js
index a12cddc2c..15b8a8171 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/generated-manual-middle.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/generated-manual-middle.js
@@ -1,5 +1,5 @@
-define(['./generated-manual-inner'], function (manualInner) { 'use strict';
+define(['./generated-manual-inner'], (function (manualInner) { 'use strict';
 
 	console.log('middle');
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/generated-manual-outer.js b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/generated-manual-outer.js
index 19b333700..e40914a91 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/generated-manual-outer.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/generated-manual-outer.js
@@ -1,5 +1,5 @@
-define(['./generated-manual-middle'], function (manualMiddle) { 'use strict';
+define(['./generated-manual-middle'], (function (manualMiddle) { 'use strict';
 
 	console.log('outer');
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/main.js b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/main.js
index 28fbd1e66..bab51c5ba 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-manual-outer', './generated-manual-middle', './generated-manual-inner'], function (manualOuter, manualMiddle, manualInner) { 'use strict';
+define(['./generated-manual-outer', './generated-manual-middle', './generated-manual-inner'], (function (manualOuter, manualMiddle, manualInner) { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/generated-manual-inner.js b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/generated-manual-inner.js
index 7079c6dea..402e3d2df 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/generated-manual-inner.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/generated-manual-inner.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('inner');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/generated-manual-middle.js b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/generated-manual-middle.js
index e972910e5..8b77cba04 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/generated-manual-middle.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/generated-manual-middle.js
@@ -1,11 +1,11 @@
-System.register(['./generated-manual-inner.js'], function () {
+System.register(['./generated-manual-inner.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('middle');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/generated-manual-outer.js b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/generated-manual-outer.js
index 865719280..10615e0f8 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/generated-manual-outer.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/generated-manual-outer.js
@@ -1,11 +1,11 @@
-System.register(['./generated-manual-middle.js'], function () {
+System.register(['./generated-manual-middle.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('outer');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/main.js b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/main.js
index 9719fd497..f1f1c182f 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-different-nested/_expected/system/main.js
@@ -1,11 +1,11 @@
-System.register(['./generated-manual-outer.js', './generated-manual-middle.js', './generated-manual-inner.js'], function () {
+System.register(['./generated-manual-outer.js', './generated-manual-middle.js', './generated-manual-inner.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/amd/generated-dynamic.js
index 06d0b9795..1d8442491 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/amd/generated-dynamic.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const DEP = 'DEP';
 
@@ -31,4 +31,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.dynamic2 = dynamic2;
 	exports.dynamic3 = dynamic3;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/amd/main.js b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/amd/main.js
index dd2114e5c..7326ba1aa 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['require', './generated-dynamic'], function (require, dynamic) { 'use strict';
+define(['require', './generated-dynamic'], (function (require, dynamic) { 'use strict';
 
-	Promise.all([new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(function (n) { return n.dynamic1; }), new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(function (n) { return n.dynamic2; }), new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(function (n) { return n.dynamic3; })]).then(
+	Promise.all([new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(function (n) { return n.dynamic1; }), new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(function (n) { return n.dynamic2; }), new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(function (n) { return n.dynamic3; })]).then(
 		results => console.log(results, dynamic.DEP)
 	);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/system/generated-dynamic.js b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/system/generated-dynamic.js
index 768028d36..8304474a6 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/system/generated-dynamic.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const DEP = exports('D', 'DEP');
 
@@ -32,6 +32,6 @@ System.register([], function (exports) {
 			});
 			exports('b', dynamic1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/system/main.js b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/system/main.js
index 3d78385bd..f8bb41b07 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-facades/_expected/system/main.js
@@ -1,16 +1,16 @@
-System.register(['./generated-dynamic.js'], function (exports, module) {
+System.register(['./generated-dynamic.js'], (function (exports, module) {
 	'use strict';
 	var DEP;
 	return {
 		setters: [function (module) {
 			DEP = module.D;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			Promise.all([module.import('./generated-dynamic.js').then(function (n) { return n.b; }), module.import('./generated-dynamic.js').then(function (n) { return n.d; }), module.import('./generated-dynamic.js').then(function (n) { return n.a; })]).then(
 				results => console.log(results, DEP)
 			);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/amd/generated-dynamic.js
index 076fa7636..c46b71b03 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/amd/generated-dynamic.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	console.log('dynamic2');
 
@@ -22,4 +22,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.dynamic1 = dynamic1;
 	exports.dynamic2 = dynamic2;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/amd/main.js b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/amd/main.js
index 134e33a9f..ac3701e11 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/amd/main.js
@@ -1,6 +1,6 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(function (n) { return n.dynamic1; }).then(result => console.log(result));
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(function (n) { return n.dynamic2; }).then(result => console.log(result));
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(function (n) { return n.dynamic1; }).then(result => console.log(result));
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(function (n) { return n.dynamic2; }).then(result => console.log(result));
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/system/generated-dynamic.js b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/system/generated-dynamic.js
index 7b09ab0ef..c65612610 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/system/generated-dynamic.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic2');
 
@@ -24,6 +24,6 @@ System.register([], function (exports) {
 			});
 			exports('a', dynamic1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/system/main.js b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/system/main.js
index a59ec2ff8..ac2320103 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-dynamic-name-conflict/_expected/system/main.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic.js').then(function (n) { return n.a; }).then(result => console.log(result));
 			module.import('./generated-dynamic.js').then(function (n) { return n.d; }).then(result => console.log(result));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/amd/generated-dynamic.js
index 94b0e40c8..49c2415e4 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/amd/generated-dynamic.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const DYNAMIC_USED_BY_A = 'DYNAMIC_USED_BY_A';
 
 	exports.DYNAMIC_USED_BY_A = DYNAMIC_USED_BY_A;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/amd/main.js b/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/amd/main.js
index 7ade37c39..9dd81f187 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(({DYNAMIC_USED_BY_A}) => console.log(DYNAMIC_USED_BY_A));
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(({DYNAMIC_USED_BY_A}) => console.log(DYNAMIC_USED_BY_A));
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/system/generated-dynamic.js b/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/system/generated-dynamic.js
index cf05be5bb..7cf6795c0 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/system/generated-dynamic.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const DYNAMIC_USED_BY_A = exports('DYNAMIC_USED_BY_A', 'DYNAMIC_USED_BY_A');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/system/main.js b/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/system/main.js
index 5c1d9db7c..df0f0195b 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-dynamic/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic.js').then(({DYNAMIC_USED_BY_A}) => console.log(DYNAMIC_USED_BY_A));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/amd/generated-chunk-b.js b/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/amd/generated-chunk-b.js
index 234e6a42b..4e491fbab 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/amd/generated-chunk-b.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/amd/generated-chunk-b.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('dep2');
 
 	console.log('dep-b');
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/amd/generated-chunk-c.js b/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/amd/generated-chunk-c.js
index d62075790..0fbaf713d 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/amd/generated-chunk-c.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/amd/generated-chunk-c.js
@@ -1,5 +1,5 @@
-define(['./generated-chunk-b'], function (chunkB) { 'use strict';
+define(['./generated-chunk-b'], (function (chunkB) { 'use strict';
 
 	console.log('dep-c');
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/amd/main-a.js b/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/amd/main-a.js
index 35ee425f7..e3934b106 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/amd/main-a.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/amd/main-a.js
@@ -1,4 +1,4 @@
-define(['./generated-chunk-c', './generated-chunk-b'], function (chunkC, chunkB) { 'use strict';
+define(['./generated-chunk-c', './generated-chunk-b'], (function (chunkC, chunkB) { 'use strict';
 
 	console.log('dep1');
 
@@ -6,4 +6,4 @@ define(['./generated-chunk-c', './generated-chunk-b'], function (chunkC, chunkB)
 
 	console.log('main-a');
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/system/generated-chunk-b.js b/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/system/generated-chunk-b.js
index fabf038cb..5dd8fc974 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/system/generated-chunk-b.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/system/generated-chunk-b.js
@@ -1,12 +1,12 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep2');
 
 			console.log('dep-b');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/system/generated-chunk-c.js b/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/system/generated-chunk-c.js
index 4cd41ad57..2db7d11ad 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/system/generated-chunk-c.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/system/generated-chunk-c.js
@@ -1,11 +1,11 @@
-System.register(['./generated-chunk-b.js'], function () {
+System.register(['./generated-chunk-b.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep-c');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/system/main-a.js b/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/system/main-a.js
index c897b0643..dac8db86d 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/system/main-a.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-function/_expected/system/main-a.js
@@ -1,8 +1,8 @@
-System.register(['./generated-chunk-c.js', './generated-chunk-b.js'], function () {
+System.register(['./generated-chunk-c.js', './generated-chunk-b.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep1');
 
@@ -10,6 +10,6 @@ System.register(['./generated-chunk-c.js', './generated-chunk-b.js'], function (
 
 			console.log('main-a');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/amd/generated-manual.js b/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/amd/generated-manual.js
index e81d58f94..3c9aa92fa 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/amd/generated-manual.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/amd/generated-manual.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('inner');
 
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
 	console.log('outer');
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/amd/main.js b/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/amd/main.js
index c9a0d54be..b9a9d6430 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-manual'], function (manual) { 'use strict';
+define(['./generated-manual'], (function (manual) { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/system/generated-manual.js b/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/system/generated-manual.js
index b297489bb..4596d906e 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/system/generated-manual.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/system/generated-manual.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('inner');
 
@@ -9,6 +9,6 @@ System.register([], function () {
 
 			console.log('outer');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/system/main.js b/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/system/main.js
index a1d452eba..c13117eb8 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks-nested/_expected/system/main.js
@@ -1,11 +1,11 @@
-System.register(['./generated-manual.js'], function () {
+System.register(['./generated-manual.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks/_expected/amd/generated-deps2and3.js b/test/chunking-form/samples/deprecated/manual-chunks/_expected/amd/generated-deps2and3.js
index 603811d8e..2321db642 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks/_expected/amd/generated-deps2and3.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks/_expected/amd/generated-deps2and3.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-lib1'], function (exports, lib1) { 'use strict';
+define(['exports', './generated-lib1'], (function (exports, lib1) { 'use strict';
 
   function fn$2 () {
     console.log('lib2 fn');
@@ -17,4 +17,4 @@ define(['exports', './generated-lib1'], function (exports, lib1) { 'use strict';
   exports.fn = fn$1;
   exports.fn$1 = fn;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks/_expected/amd/generated-lib1.js b/test/chunking-form/samples/deprecated/manual-chunks/_expected/amd/generated-lib1.js
index 8ee6361f5..6d846653c 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks/_expected/amd/generated-lib1.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks/_expected/amd/generated-lib1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn () {
     console.log('lib1 fn');
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
   exports.fn = fn;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks/_expected/amd/main.js b/test/chunking-form/samples/deprecated/manual-chunks/_expected/amd/main.js
index e636d3d3d..89925cb11 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['./generated-deps2and3', './generated-lib1'], function (deps2and3, lib1) { 'use strict';
+define(['./generated-deps2and3', './generated-lib1'], (function (deps2and3, lib1) { 'use strict';
 
   function fn () {
     console.log('dep1 fn');
@@ -14,4 +14,4 @@ define(['./generated-deps2and3', './generated-lib1'], function (deps2and3, lib1)
 
   return Main;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks/_expected/system/generated-deps2and3.js b/test/chunking-form/samples/deprecated/manual-chunks/_expected/system/generated-deps2and3.js
index f76d52e19..a0867bcd9 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks/_expected/system/generated-deps2and3.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks/_expected/system/generated-deps2and3.js
@@ -1,11 +1,11 @@
-System.register(['./generated-lib1.js'], function (exports) {
+System.register(['./generated-lib1.js'], (function (exports) {
   'use strict';
   var fn$3;
   return {
     setters: [function (module) {
       fn$3 = module.f;
     }],
-    execute: function () {
+    execute: (function () {
 
       exports({
         a: fn,
@@ -26,6 +26,6 @@ System.register(['./generated-lib1.js'], function (exports) {
         console.log('dep3 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks/_expected/system/generated-lib1.js b/test/chunking-form/samples/deprecated/manual-chunks/_expected/system/generated-lib1.js
index 46e60ceba..a6918ea9b 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks/_expected/system/generated-lib1.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks/_expected/system/generated-lib1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('f', fn);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('lib1 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/manual-chunks/_expected/system/main.js b/test/chunking-form/samples/deprecated/manual-chunks/_expected/system/main.js
index b9ce4867e..a1339e813 100644
--- a/test/chunking-form/samples/deprecated/manual-chunks/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/manual-chunks/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./generated-deps2and3.js', './generated-lib1.js'], function (exports) {
+System.register(['./generated-deps2and3.js', './generated-lib1.js'], (function (exports) {
   'use strict';
   var fn$1, fn$2;
   return {
@@ -6,7 +6,7 @@ System.register(['./generated-deps2and3.js', './generated-lib1.js'], function (e
       fn$1 = module.f;
       fn$2 = module.a;
     }, function () {}],
-    execute: function () {
+    execute: (function () {
 
       function fn () {
         console.log('dep1 fn');
@@ -20,6 +20,6 @@ System.register(['./generated-deps2and3.js', './generated-lib1.js'], function (e
         }
       } exports('default', Main);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/amd/dep1.js b/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/amd/dep1.js
index 4e6617810..3c213e8b5 100644
--- a/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/amd/dep1.js
+++ b/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/amd/dep1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var _missingExportShim = void 0;
 
@@ -16,4 +16,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/amd/dep2.js b/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/amd/dep2.js
index c93821838..e22f7bd7c 100644
--- a/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/amd/dep2.js
+++ b/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/amd/dep2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var _missingExportShim = void 0;
 
@@ -13,4 +13,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/amd/main.js b/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/amd/main.js
index ec4beefe5..86f8c8336 100644
--- a/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./dep1', './dep2'], function (dep1, dep2) { 'use strict';
+define(['./dep1', './dep2'], (function (dep1, dep2) { 'use strict';
 
 	console.log(dep1.missing1, dep2.missing2, dep2.previousShimmedExport);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/system/dep1.js b/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/system/dep1.js
index 292047e5f..566b812c7 100644
--- a/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/system/dep1.js
+++ b/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/system/dep1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var _missingExportShim = void 0;
 
@@ -17,6 +17,6 @@ System.register([], function (exports) {
 
 			exports('missing1', _missingExportShim);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/system/dep2.js b/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/system/dep2.js
index da8178d1d..3683f4b73 100644
--- a/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/system/dep2.js
+++ b/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/system/dep2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var _missingExportShim = void 0;
 
@@ -13,6 +13,6 @@ System.register([], function (exports) {
 
 			exports('missing2', _missingExportShim);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/system/main.js b/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/system/main.js
index fa94551b2..85562809d 100644
--- a/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/missing-export-reused-deconflicting/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./dep1.js', './dep2.js'], function () {
+System.register(['./dep1.js', './dep2.js'], (function () {
 	'use strict';
 	var _missingExportShim, _missingExportShim$1, _missingExportShim$2;
 	return {
@@ -8,10 +8,10 @@ System.register(['./dep1.js', './dep2.js'], function () {
 			_missingExportShim$1 = module.missing2;
 			_missingExportShim$2 = module.previousShimmedExport;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(_missingExportShim, _missingExportShim$1, _missingExportShim$2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/amd/default.js b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/amd/default.js
index 9101b3f3d..855cb78e2 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/amd/default.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/amd/default.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var foo = 'default';
 
 	return foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/amd/main.js
index e9283e83b..5f85ae8cf 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/amd/main.js
@@ -1,14 +1,12 @@
-define(['require', './default', './named'], function (require, _default, named) { 'use strict';
+define(['require', './default', './named'], (function (require, _default, named) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 	console.log(_default, named.value);
 
-	new Promise(function (resolve, reject) { require(['./default'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject) }).then(result => console.log(result.default));
-	new Promise(function (resolve, reject) { require(['./named'], resolve, reject) }).then(result => console.log(result.value));
+	new Promise(function (resolve, reject) { require(['./default'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject); }).then(result => console.log(result.default));
+	new Promise(function (resolve, reject) { require(['./named'], resolve, reject); }).then(result => console.log(result.value));
 
 	return _default;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/amd/named.js b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/amd/named.js
index 37e6d25bd..1afc6d3f7 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/amd/named.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/amd/named.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 'named';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/cjs/main.js b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/cjs/main.js
index f1ded2b4a..50f26b1b3 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/cjs/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/cjs/main.js
@@ -3,9 +3,7 @@
 var _default = require('./default.js');
 var named = require('./named.js');
 
-function _interopNamespaceDefaultOnly(e) {
-	return Object.freeze({__proto__: null, 'default': e});
-}
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 console.log(_default, named.value);
 
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/system/default.js b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/system/default.js
index 0505d3144..5879dd0d6 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/system/default.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/system/default.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = exports('default', 'default');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/system/main.js
index 12e707aee..359bf0ce6 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/system/main.js
@@ -1,20 +1,20 @@
-System.register(['./default.js', './named.js'], function (exports, module) {
+System.register(['./default.js', './named.js'], (function (exports, module) {
 	'use strict';
 	var foo, value;
 	return {
 		setters: [function (module) {
-			foo = module.default;
-			exports('default', module.default);
+			foo = module["default"];
+			exports('default', module["default"]);
 		}, function (module) {
 			value = module.value;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, value);
 
 			module.import('./default.js').then(result => console.log(result.default));
 			module.import('./named.js').then(result => console.log(result.value));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/system/named.js b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/system/named.js
index 431654fc2..15ac00621 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/system/named.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-auto-export-mode/_expected/system/named.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 'named');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/_virtual/other.js_commonjs-exports b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/_virtual/other.js_commonjs-exports
index c85e5adb0..4ded5921f 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/_virtual/other.js_commonjs-exports
+++ b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/_virtual/other.js_commonjs-exports
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var other = {};
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/commonjs.js b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/commonjs.js
index 530d96e07..2f04c4bb5 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/commonjs.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/commonjs.js
@@ -1,10 +1,10 @@
-define(['external', './other', './_virtual/other.js_commonjs-exports'], function (require$$0, other$1, other) { 'use strict';
+define(['external', './other', './_virtual/other.js_commonjs-exports'], (function (require$$0, other$1, other) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var require$$0__default = /*#__PURE__*/_interopDefaultLegacy(require$$0);
 
-	const external = require$$0__default['default'];
+	const external = require$$0__default["default"];
 	const { value } = other.__exports;
 
 	console.log(external, value);
@@ -13,4 +13,4 @@ define(['external', './other', './_virtual/other.js_commonjs-exports'], function
 
 	return commonjs;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/main.js
index 59ea43e35..4f560cc22 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/main.js
@@ -1,9 +1,9 @@
-define(['./commonjs', 'external'], function (commonjs, require$$0) { 'use strict';
+define(['./commonjs', 'external'], (function (commonjs, require$$0) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var require$$0__default = /*#__PURE__*/_interopDefaultLegacy(require$$0);
 
-	console.log(commonjs, require$$0__default['default']);
+	console.log(commonjs, require$$0__default["default"]);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/other.js b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/other.js
index 72f196e05..9bab1e318 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/other.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/amd/other.js
@@ -1,7 +1,7 @@
-define(['./_virtual/other.js_commonjs-exports'], function (other) { 'use strict';
+define(['./_virtual/other.js_commonjs-exports'], (function (other) { 'use strict';
 
 	other.__exports.value = 43;
 
 	return other.__exports;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/cjs/commonjs.js b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/cjs/commonjs.js
index 01c49bb95..9d8a2671e 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/cjs/commonjs.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/cjs/commonjs.js
@@ -8,7 +8,7 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var require$$0__default = /*#__PURE__*/_interopDefaultLegacy(require$$0);
 
-const external = require$$0__default['default'];
+const external = require$$0__default["default"];
 const { value } = other.__exports;
 
 console.log(external, value);
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/cjs/main.js b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/cjs/main.js
index d7fe0c9c3..504e0f8b8 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/cjs/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/cjs/main.js
@@ -7,4 +7,4 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var require$$0__default = /*#__PURE__*/_interopDefaultLegacy(require$$0);
 
-console.log(commonjs, require$$0__default['default']);
+console.log(commonjs, require$$0__default["default"]);
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/_virtual/other.js_commonjs-exports b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/_virtual/other.js_commonjs-exports
index 99e54f725..c3374bd03 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/_virtual/other.js_commonjs-exports
+++ b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/_virtual/other.js_commonjs-exports
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var other = exports('__exports', {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/commonjs.js b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/commonjs.js
index 61194b787..0df36bf9a 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/commonjs.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/commonjs.js
@@ -1,13 +1,13 @@
-System.register(['external', './other.js', './_virtual/other.js_commonjs-exports'], function (exports) {
+System.register(['external', './other.js', './_virtual/other.js_commonjs-exports'], (function (exports) {
 	'use strict';
 	var require$$0, other;
 	return {
 		setters: [function (module) {
-			require$$0 = module.default;
+			require$$0 = module["default"];
 		}, function () {}, function (module) {
 			other = module.__exports;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const external = require$$0;
 			const { value } = other;
@@ -16,6 +16,6 @@ System.register(['external', './other.js', './_virtual/other.js_commonjs-exports
 
 			var commonjs = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/main.js
index 903fc6c49..e0920e595 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/main.js
@@ -1,16 +1,16 @@
-System.register(['./commonjs.js', 'external'], function () {
+System.register(['./commonjs.js', 'external'], (function () {
 	'use strict';
 	var commonjs, require$$0;
 	return {
 		setters: [function (module) {
-			commonjs = module.default;
+			commonjs = module["default"];
 		}, function (module) {
-			require$$0 = module.default;
+			require$$0 = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(commonjs, require$$0);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/other.js b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/other.js
index ce56d7889..0c9088251 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/other.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-commonjs/_expected/system/other.js
@@ -1,4 +1,4 @@
-System.register(['./_virtual/other.js_commonjs-exports'], function (exports) {
+System.register(['./_virtual/other.js_commonjs-exports'], (function (exports) {
 	'use strict';
 	var other;
 	return {
@@ -6,10 +6,10 @@ System.register(['./_virtual/other.js_commonjs-exports'], function (exports) {
 			other = module.__exports;
 			exports('default', module.__exports);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			other.value = 43;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/amd/dynamic-included.js b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/amd/dynamic-included.js
index afd117130..b32da5f0c 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/amd/dynamic-included.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/amd/dynamic-included.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 'included';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/amd/main.js
index 2ec310c64..d46b5b5ed 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./dynamic-included'], resolve, reject) }).then(result => console.log(result));
+	new Promise(function (resolve, reject) { require(['./dynamic-included'], resolve, reject); }).then(result => console.log(result));
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/system/dynamic-included.js b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/system/dynamic-included.js
index 3a6e75607..1c146c4b0 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/system/dynamic-included.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/system/dynamic-included.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 'included');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/system/main.js
index 26c21dccc..46d09c0e3 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-imports/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./dynamic-included.js').then(result => console.log(result));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/m1.js b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/m1.js
index 25f53d93a..1933cc959 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/m1.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/m1.js
@@ -1,4 +1,4 @@
-define(['exports', './m2', './m3'], function (exports, m2, m3) { 'use strict';
+define(['exports', './m2', './m3'], (function (exports, m2, m3) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './m2', './m3'], function (exports, m2, m3) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/m2.js b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/m2.js
index 22e08de41..098da5f2a 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/m2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/m2.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var m2 = {a:1};
 
 	return m2;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/m3.js b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/m3.js
index 685448b54..54273ec86 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/m3.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/m3.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var m3 = {b:2};
 
 	return m3;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/main.js
index b73da45ad..46411907b 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./m1'], function (m1) { 'use strict';
+define(['./m1'], (function (m1) { 'use strict';
 
 	console.log(m1);
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/m1.js b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/m1.js
index 9f2d67db2..4151f28d8 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/m1.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/m1.js
@@ -1,15 +1,15 @@
-System.register(['./m2.js', './m3.js'], function (exports) {
+System.register(['./m2.js', './m3.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('m2', module.default);
+			exports('m2', module["default"]);
 		}, function (module) {
-			exports('m3', module.default);
+			exports('m3', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/m2.js b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/m2.js
index d724fa352..70eab9fde 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/m2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/m2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var m2 = exports('default', {a:1});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/m3.js b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/m3.js
index 1181b9a04..d64ef84b7 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/m3.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/m3.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var m3 = exports('default', {b:2});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/main.js
index 8ee4b05a8..2055d1533 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-dynamic-namespace/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./m1.js'], function () {
+System.register(['./m1.js'], (function () {
 	'use strict';
 	var m1;
 	return {
 		setters: [function (module) {
 			m1 = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(m1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/amd/main.js
index 6fd312fad..a52a88cf6 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./two'], function (two) { 'use strict';
+define(['./two'], (function (two) { 'use strict';
 
 	window.APP = { a: two };
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/amd/two.js b/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/amd/two.js
index 68dcf822a..813004c18 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/amd/two.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/amd/two.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var a = {};
 
 	return a;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/system/main.js
index b0664a8cd..92dd66d83 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./two.js'], function () {
+System.register(['./two.js'], (function () {
 	'use strict';
 	var a;
 	return {
 		setters: [function (module) {
-			a = module.default;
+			a = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			window.APP = { a };
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/system/two.js b/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/system/two.js
index 015fc0193..1b4ea34f1 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/system/two.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-empty/_expected/system/two.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var a = exports('default', {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/amd/dep.js b/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/amd/dep.js
index cab959ad2..3c6da1369 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/amd/dep.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/amd/dep.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = 1;
 
@@ -7,4 +7,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/amd/main1.js b/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/amd/main1.js
index 4c30c2b8f..6a9c41569 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/amd/main1.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['exports', './dep'], function (exports, dep) { 'use strict';
+define(['exports', './dep'], (function (exports, dep) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './dep'], function (exports, dep) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/amd/main2.js b/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/amd/main2.js
index 0d4dfce05..518837a6c 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/amd/main2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['exports', './dep'], function (exports, dep) { 'use strict';
+define(['exports', './dep'], (function (exports, dep) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './dep'], function (exports, dep) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/system/dep.js b/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/system/dep.js
index c4aea58c6..5b18e441e 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/system/dep.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/system/dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = 1; exports({ foo: foo, bar: foo });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/system/main1.js b/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/system/main1.js
index bfffe939f..ab503c81c 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/system/main1.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/system/main1.js
@@ -1,16 +1,13 @@
-System.register(['./dep.js'], function (exports) {
+System.register(['./dep.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			_setter.bar = module.foo;
-			_setter.foo = module.foo;
-			exports(_setter);
+			exports({ bar: module.foo, foo: module.foo });
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/system/main2.js b/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/system/main2.js
index d995245e8..47fbb8724 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/system/main2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-export-alias/_expected/system/main2.js
@@ -1,13 +1,13 @@
-System.register(['./dep.js'], function (exports) {
+System.register(['./dep.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('bar', module.foo);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/entry-foo-amd-ts.ts.js b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/entry-foo-amd-ts.ts.js
index 2bc02b355..69228f8fb 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/entry-foo-amd-ts.ts.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/entry-foo-amd-ts.ts.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var foo = 42;
 
 	return foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/entry-main-amd-ts.ts.js b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/entry-main-amd-ts.ts.js
index 1018355bd..f460ae667 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/entry-main-amd-ts.ts.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/entry-main-amd-ts.ts.js
@@ -1,4 +1,4 @@
-define(['exports', './entry-foo-amd-ts.ts', './nested/entry-bar-amd-ts.ts', './nested/entry-baz-amd-ts.ts', './entry-no-ext-amd-'], function (exports, foo, bar, baz, noExt) { 'use strict';
+define(['exports', './entry-foo-amd-ts.ts', './nested/entry-bar-amd-ts.ts', './nested/entry-baz-amd-ts.ts', './entry-no-ext-amd-'], (function (exports, foo, bar, baz, noExt) { 'use strict';
 
 
 
@@ -9,4 +9,4 @@ define(['exports', './entry-foo-amd-ts.ts', './nested/entry-bar-amd-ts.ts', './n
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/entry-no-ext-amd-.js b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/entry-no-ext-amd-.js
index 8e2da7722..4d9b6f896 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/entry-no-ext-amd-.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/entry-no-ext-amd-.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var noExt = 'no-ext';
 
 	return noExt;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/nested/entry-bar-amd-ts.ts.js b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/nested/entry-bar-amd-ts.ts.js
index cb3bfcd5d..55e47d04b 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/nested/entry-bar-amd-ts.ts.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/nested/entry-bar-amd-ts.ts.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var bar = 'banana';
 
 	return bar;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/nested/entry-baz-amd-ts.ts.js b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/nested/entry-baz-amd-ts.ts.js
index 35018f306..518b69f55 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/nested/entry-baz-amd-ts.ts.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/amd/nested/entry-baz-amd-ts.ts.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var baz = 'whatever';
 
 	return baz;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/entry-foo-system-ts.ts.js b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/entry-foo-system-ts.ts.js
index 81b45b772..98793de89 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/entry-foo-system-ts.ts.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/entry-foo-system-ts.ts.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/entry-main-system-ts.ts.js b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/entry-main-system-ts.ts.js
index 22b35a8d7..cc19e2eed 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/entry-main-system-ts.ts.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/entry-main-system-ts.ts.js
@@ -1,19 +1,19 @@
-System.register(['./entry-foo-system-ts.ts.js', './nested/entry-bar-system-ts.ts.js', './nested/entry-baz-system-ts.ts.js', './entry-no-ext-system-.js'], function (exports) {
+System.register(['./entry-foo-system-ts.ts.js', './nested/entry-bar-system-ts.ts.js', './nested/entry-baz-system-ts.ts.js', './entry-no-ext-system-.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('foo', module.default);
+			exports('foo', module["default"]);
 		}, function (module) {
-			exports('bar', module.default);
+			exports('bar', module["default"]);
 		}, function (module) {
-			exports('baz', module.default);
+			exports('baz', module["default"]);
 		}, function (module) {
-			exports('noExt', module.default);
+			exports('noExt', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/entry-no-ext-system-.js b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/entry-no-ext-system-.js
index 91546e66d..95f0f758b 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/entry-no-ext-system-.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/entry-no-ext-system-.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var noExt = exports('default', 'no-ext');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/nested/entry-bar-system-ts.ts.js b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/nested/entry-bar-system-ts.ts.js
index 5ef23f158..21575fdff 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/nested/entry-bar-system-ts.ts.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/nested/entry-bar-system-ts.ts.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var bar = exports('default', 'banana');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/nested/entry-baz-system-ts.ts.js b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/nested/entry-baz-system-ts.ts.js
index a0526b566..54bd1e94e 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/nested/entry-baz-system-ts.ts.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-filename-pattern/_expected/system/nested/entry-baz-system-ts.ts.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var baz = exports('default', 'whatever');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One1.js b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One1.js
index 0383829b2..c6281aeed 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One1.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One1.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var c = 'One1.js';
 
 	return c;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One2.js b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One2.js
index 1febaba2e..e34aacf55 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One2.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var b = 'One.js';
 
 	return b;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_one.js b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_one.js
index 469b63f9f..80666603e 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_one.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_one.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var a = 'one.js';
 
 	return a;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/main.js
index 803eecb16..581279681 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./_virtual/_one', './_virtual/_One2', './_virtual/_One1'], function (_one, _One, _One1) { 'use strict';
+define(['./_virtual/_one', './_virtual/_One2', './_virtual/_One1'], (function (_one, _One, _One1) { 'use strict';
 
 	window.APP = { a: _one, b: _One, c: _One1 };
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One1.js b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One1.js
index eb4e015ba..1f2e04b79 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One1.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One1.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var c = exports('default', 'One1.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One2.js b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One2.js
index 04b909083..1a8a96728 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var b = exports('default', 'One.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/_virtual/_one.js b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/_virtual/_one.js
index f6c4ac9f9..5606dfa6b 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/_virtual/_one.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/_virtual/_one.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var a = exports('default', 'one.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/main.js
index 17303445b..1c73614dc 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-id-case-sensitive/_expected/system/main.js
@@ -1,18 +1,18 @@
-System.register(['./_virtual/_one.js', './_virtual/_One2.js', './_virtual/_One1.js'], function () {
+System.register(['./_virtual/_one.js', './_virtual/_One2.js', './_virtual/_One1.js'], (function () {
 	'use strict';
 	var a, b, c;
 	return {
 		setters: [function (module) {
-			a = module.default;
+			a = module["default"];
 		}, function (module) {
-			b = module.default;
+			b = module["default"];
 		}, function (module) {
-			c = module.default;
+			c = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			window.APP = { a, b, c };
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/amd/default.js b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/amd/default.js
index 36548304b..423aa9c1d 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/amd/default.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/amd/default.js
@@ -1,9 +1,9 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var foo = 'default';
 
-	exports['default'] = foo;
+	exports["default"] = foo;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/amd/main.js
index 8d0b41b8c..4ac7889fd 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/amd/main.js
@@ -1,12 +1,12 @@
-define(['require', 'exports', './default', './named'], function (require, exports, _default, named) { 'use strict';
+define(['require', 'exports', './default', './named'], (function (require, exports, _default, named) { 'use strict';
 
-	console.log(_default['default'], named.value);
+	console.log(_default["default"], named.value);
 
-	new Promise(function (resolve, reject) { require(['./default'], resolve, reject) }).then(result => console.log(result.default));
-	new Promise(function (resolve, reject) { require(['./named'], resolve, reject) }).then(result => console.log(result.value));
+	new Promise(function (resolve, reject) { require(['./default'], resolve, reject); }).then(result => console.log(result.default));
+	new Promise(function (resolve, reject) { require(['./named'], resolve, reject); }).then(result => console.log(result.value));
 
-	exports.default = _default['default'];
+	exports["default"] = _default["default"];
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/amd/named.js b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/amd/named.js
index 37e6d25bd..1afc6d3f7 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/amd/named.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/amd/named.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 'named';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/cjs/default.js b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/cjs/default.js
index 23b09fb3b..1d94fa0da 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/cjs/default.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/cjs/default.js
@@ -4,4 +4,4 @@ Object.defineProperty(exports, '__esModule', { value: true });
 
 var foo = 'default';
 
-exports['default'] = foo;
+exports["default"] = foo;
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/cjs/main.js b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/cjs/main.js
index 8c9a24541..fa4914c72 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/cjs/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/cjs/main.js
@@ -5,9 +5,9 @@ Object.defineProperty(exports, '__esModule', { value: true });
 var _default = require('./default.js');
 var named = require('./named.js');
 
-console.log(_default['default'], named.value);
+console.log(_default["default"], named.value);
 
 Promise.resolve().then(function () { return require('./default.js'); }).then(result => console.log(result.default));
 Promise.resolve().then(function () { return require('./named.js'); }).then(result => console.log(result.value));
 
-exports.default = _default['default'];
+exports["default"] = _default["default"];
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/system/default.js b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/system/default.js
index 0505d3144..5879dd0d6 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/system/default.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/system/default.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = exports('default', 'default');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/system/main.js
index 12e707aee..359bf0ce6 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/system/main.js
@@ -1,20 +1,20 @@
-System.register(['./default.js', './named.js'], function (exports, module) {
+System.register(['./default.js', './named.js'], (function (exports, module) {
 	'use strict';
 	var foo, value;
 	return {
 		setters: [function (module) {
-			foo = module.default;
-			exports('default', module.default);
+			foo = module["default"];
+			exports('default', module["default"]);
 		}, function (module) {
 			value = module.value;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, value);
 
 			module.import('./default.js').then(result => console.log(result.default));
 			module.import('./named.js').then(result => console.log(result.value));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/system/named.js b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/system/named.js
index 431654fc2..15ac00621 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/system/named.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-named-export-mode/_expected/system/named.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 'named');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/amd/main.js
index 12dccf71f..7b07b87a9 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './module-a/v1/index', './module-b/v1/index'], function (exports, index, index$1) { 'use strict';
+define(['exports', './module-a/v1/index', './module-b/v1/index'], (function (exports, index, index$1) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './module-a/v1/index', './module-b/v1/index'], function (expo
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/amd/module-a/v1/index.js b/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/amd/module-a/v1/index.js
index 2c1cbb524..315abd027 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/amd/module-a/v1/index.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/amd/module-a/v1/index.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const TEST_MODULE_A = 'A';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/amd/module-b/v1/index.js b/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/amd/module-b/v1/index.js
index b56f633d9..dfd4f52cf 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/amd/module-b/v1/index.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/amd/module-b/v1/index.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const TEST_MODULE_B = 'A';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/system/main.js
index 69423415a..ef257319d 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./module-a/v1/index.js', './module-b/v1/index.js'], function (exports) {
+System.register(['./module-a/v1/index.js', './module-b/v1/index.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
@@ -6,10 +6,10 @@ System.register(['./module-a/v1/index.js', './module-b/v1/index.js'], function (
 		}, function (module) {
 			exports('ModuleB_V1', module);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/system/module-a/v1/index.js b/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/system/module-a/v1/index.js
index 400a5460f..0f9df3153 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/system/module-a/v1/index.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/system/module-a/v1/index.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const TEST_MODULE_A = exports('TEST_MODULE_A', 'A');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/system/module-b/v1/index.js b/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/system/module-b/v1/index.js
index 337b556bb..d5228c075 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/system/module-b/v1/index.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-nested-barrel-es-export/_expected/system/module-b/v1/index.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const TEST_MODULE_B = exports('TEST_MODULE_B', 'A');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/amd/inner/more_inner/something.js b/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/amd/inner/more_inner/something.js
index 138d9ba9e..8f479d12f 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/amd/inner/more_inner/something.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/amd/inner/more_inner/something.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const Something = 'Hello World';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/amd/inner/some_effect.js b/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/amd/inner/some_effect.js
index 621699a15..3edb2a595 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/amd/inner/some_effect.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/amd/inner/some_effect.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('side-effect');
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/amd/main.js
index c89b17c4c..48856b231 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './inner/more_inner/something', './inner/some_effect'], function (exports, something, some_effect) { 'use strict';
+define(['exports', './inner/more_inner/something', './inner/some_effect'], (function (exports, something, some_effect) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './inner/more_inner/something', './inner/some_effect'], funct
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/system/inner/more_inner/something.js b/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/system/inner/more_inner/something.js
index 1b4bba213..f087474c2 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/system/inner/more_inner/something.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/system/inner/more_inner/something.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const Something = exports('Something', 'Hello World');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/system/inner/some_effect.js b/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/system/inner/some_effect.js
index 19dd3ec79..f019bf7e7 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/system/inner/some_effect.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/system/inner/some_effect.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('side-effect');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/system/main.js
index 16e27681d..2f734b5c3 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-nested-export/_expected/system/main.js
@@ -1,13 +1,13 @@
-System.register(['./inner/more_inner/something.js', './inner/some_effect.js'], function (exports) {
+System.register(['./inner/more_inner/something.js', './inner/some_effect.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('Something', module.Something);
 		}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/amd/dep2.js b/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/amd/dep2.js
index 16210f80f..4ee99d606 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/amd/dep2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/amd/dep2.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo() {}
 
 	return foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/amd/main.js
index 085588168..2121744c9 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['./dep2'], function (dep2) { 'use strict';
+define(['./dep2'], (function (dep2) { 'use strict';
 
 
 
 	return dep2;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/system/dep2.js b/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/system/dep2.js
index eb88d79ae..704c184b6 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/system/dep2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/system/dep2.js
@@ -1,12 +1,12 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('default', foo);
 
 			function foo() {}
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/system/main.js
index 8f2d06a8f..820cf65b9 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-non-entry-imports/_expected/system/main.js
@@ -1,15 +1,15 @@
-System.register(['./dep2.js'], function (exports) {
+System.register(['./dep2.js'], (function (exports) {
 	'use strict';
 	var foo;
 	return {
 		setters: [function (module) {
-			foo = module.default;
-			exports('default', module.default);
+			foo = module["default"];
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/amd/main.js
index 0abc6cfe9..7019d8bc6 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/amd/main.js
@@ -1,10 +1,10 @@
-define(['external'], function (path) { 'use strict';
+define(['external'], (function (path) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var path__default = /*#__PURE__*/_interopDefaultLegacy(path);
 
-	console.log(path__default['default'].normalize('foo\\bar'));
-	console.log(path__default['default'].normalize('foo\\bar'));
+	console.log(path__default["default"].normalize('foo\\bar'));
+	console.log(path__default["default"].normalize('foo\\bar'));
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/amd/proxy.js b/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/amd/proxy.js
index e130c8d6d..e605b2b68 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/amd/proxy.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/amd/proxy.js
@@ -1,4 +1,4 @@
-define(['external'], function (path) { 'use strict';
+define(['external'], (function (path) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -6,6 +6,6 @@ define(['external'], function (path) { 'use strict';
 
 
 
-	return path__default['default'];
+	return path__default["default"];
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/cjs/main.js b/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/cjs/main.js
index b018def07..c2c5d4439 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/cjs/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/cjs/main.js
@@ -6,5 +6,5 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var path__default = /*#__PURE__*/_interopDefaultLegacy(path);
 
-console.log(path__default['default'].normalize('foo\\bar'));
-console.log(path__default['default'].normalize('foo\\bar'));
+console.log(path__default["default"].normalize('foo\\bar'));
+console.log(path__default["default"].normalize('foo\\bar'));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/cjs/proxy.js b/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/cjs/proxy.js
index f53610193..bd140dd12 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/cjs/proxy.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/cjs/proxy.js
@@ -8,4 +8,4 @@ var path__default = /*#__PURE__*/_interopDefaultLegacy(path);
 
 
 
-module.exports = path__default['default'];
+module.exports = path__default["default"];
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/system/main.js
index cdb1f31d2..d5764dd2d 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/system/main.js
@@ -1,15 +1,15 @@
-System.register(['external'], function () {
+System.register(['external'], (function () {
 	'use strict';
 	var path;
 	return {
 		setters: [function (module) {
-			path = module.default;
+			path = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(path.normalize('foo\\bar'));
 			console.log(path.normalize('foo\\bar'));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/system/proxy.js b/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/system/proxy.js
index 131f0eac7..54718c7b7 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/system/proxy.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-proxy-import/_expected/system/proxy.js
@@ -1,15 +1,15 @@
-System.register(['external'], function (exports) {
+System.register(['external'], (function (exports) {
 	'use strict';
 	var path;
 	return {
 		setters: [function (module) {
-			path = module.default;
-			exports('default', module.default);
+			path = module["default"];
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/amd/dep.js b/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/amd/dep.js
index 93365a062..075d3efdd 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/amd/dep.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/amd/dep.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn () {
     console.log('dep fn');
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/amd/lib/main.js b/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/amd/lib/main.js
index ff8eacced..7530d2bf1 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/amd/lib/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/amd/lib/main.js
@@ -1,4 +1,4 @@
-define(['../dep'], function (dep) { 'use strict';
+define(['../dep'], (function (dep) { 'use strict';
 
   class Main {
     constructor () {
@@ -8,4 +8,4 @@ define(['../dep'], function (dep) { 'use strict';
 
   return Main;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/system/dep.js b/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/system/dep.js
index 3228f5b29..8c38ad144 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/system/dep.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/system/dep.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('fn', fn);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('dep fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/system/lib/main.js b/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/system/lib/main.js
index 2c8238dca..440f4c9f9 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/system/lib/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-reaching-outside/_expected/system/lib/main.js
@@ -1,11 +1,11 @@
-System.register(['../dep.js'], function (exports) {
+System.register(['../dep.js'], (function (exports) {
   'use strict';
   var fn;
   return {
     setters: [function (module) {
       fn = module.fn;
     }],
-    execute: function () {
+    execute: (function () {
 
       class Main {
         constructor () {
@@ -13,6 +13,6 @@ System.register(['../dep.js'], function (exports) {
         }
       } exports('default', Main);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/answer.num.js b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/answer.num.js
index 66a5b0c01..29099bd21 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/answer.num.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/answer.num.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var answer = 42;
 
 	return answer;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/lorem.str.js b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/lorem.str.js
index 8aeeca012..82deb072e 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/lorem.str.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/lorem.str.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var lorem = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.";
 
 	return lorem;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/main.js
index 889e72fdb..75f282a2b 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './answer.num', './lorem.str', './no-ext'], function (exports, answer, lorem, noExt) { 'use strict';
+define(['exports', './answer.num', './lorem.str', './no-ext'], (function (exports, answer, lorem, noExt) { 'use strict';
 
 
 
@@ -8,4 +8,4 @@ define(['exports', './answer.num', './lorem.str', './no-ext'], function (exports
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/no-ext.js b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/no-ext.js
index b60c10d91..2395eddcd 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/no-ext.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/amd/no-ext.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var noExt = "COULDN'T TRANSFORM";
 
 	return noExt;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/answer.num.js b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/answer.num.js
index e897f1a3b..80f714d45 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/answer.num.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/answer.num.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var answer = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/lorem.str.js b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/lorem.str.js
index 7ebf110f9..4138e51e2 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/lorem.str.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/lorem.str.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var lorem = exports('default', "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.");
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/main.js
index 573404110..f888ea474 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/main.js
@@ -1,17 +1,17 @@
-System.register(['./answer.num.js', './lorem.str.js', './no-ext.js'], function (exports) {
+System.register(['./answer.num.js', './lorem.str.js', './no-ext.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('answer', module.default);
+			exports('answer', module["default"]);
 		}, function (module) {
-			exports('lorem', module.default);
+			exports('lorem', module["default"]);
 		}, function (module) {
-			exports('noExt', module.default);
+			exports('noExt', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/no-ext.js b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/no-ext.js
index bd0ec5a3c..adc4e116f 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/no-ext.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-scriptified-assets/_expected/system/no-ext.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var noExt = exports('default', "COULDN'T TRANSFORM");
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-single-entry/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-single-entry/_expected/amd/main.js
index 799d8161f..7b0ad1252 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-single-entry/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-single-entry/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log();
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-single-entry/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-single-entry/_expected/system/main.js
index 9c717dc8f..1063ea641 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-single-entry/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-single-entry/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/amd/_virtual/_virtualModule b/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/amd/_virtual/_virtualModule
index e847f6c12..ce212753a 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/amd/_virtual/_virtualModule
+++ b/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/amd/_virtual/_virtualModule
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const virtual = "Virtual!";
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/amd/main.js b/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/amd/main.js
index 452f5c4b4..744ca4ba5 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/amd/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./_virtual/_virtualModule'], function (_virtualModule) { 'use strict';
+define(['./_virtual/_virtualModule'], (function (_virtualModule) { 'use strict';
 
 	assert.equal(_virtualModule.virtual, 'Virtual!');
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/system/_virtual/_virtualModule b/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/system/_virtual/_virtualModule
index 2281d70c5..51cfccb8a 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/system/_virtual/_virtualModule
+++ b/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/system/_virtual/_virtualModule
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const virtual = exports('virtual', "Virtual!");
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/system/main.js b/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/system/main.js
index 7b8b65e23..eed2c557e 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/system/main.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules-virtual-modules/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./_virtual/_virtualModule'], function () {
+System.register(['./_virtual/_virtualModule'], (function () {
 	'use strict';
 	var virtual;
 	return {
 		setters: [function (module) {
 			virtual = module.virtual;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			assert.equal(virtual, 'Virtual!');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/deps/dep1.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/deps/dep1.js
index eb1b2814d..9e70a0993 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/deps/dep1.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/deps/dep1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn () {
     console.log('dep1 fn');
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/deps/dep2.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/deps/dep2.js
index 2a152d376..adf251cb9 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/deps/dep2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/deps/dep2.js
@@ -1,4 +1,4 @@
-define(['exports', '../lib/lib2'], function (exports, lib2) { 'use strict';
+define(['exports', '../lib/lib2'], (function (exports, lib2) { 'use strict';
 
   function fn () {
     lib2.fn();
@@ -9,4 +9,4 @@ define(['exports', '../lib/lib2'], function (exports, lib2) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/deps/dep3.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/deps/dep3.js
index bfc8f877c..5e20b7929 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/deps/dep3.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/deps/dep3.js
@@ -1,4 +1,4 @@
-define(['exports', '../lib/lib1'], function (exports, lib1) { 'use strict';
+define(['exports', '../lib/lib1'], (function (exports, lib1) { 'use strict';
 
   function fn () {
     lib1.fn();
@@ -9,4 +9,4 @@ define(['exports', '../lib/lib1'], function (exports, lib1) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/lib/lib1.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/lib/lib1.js
index 93c0a3a41..aa9fbe18f 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/lib/lib1.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/lib/lib1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn () {
     console.log('lib1 fn');
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/lib/lib2.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/lib/lib2.js
index 8e8e2d17c..d05a86769 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/lib/lib2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/lib/lib2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn () {
     console.log('lib2 fn');
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/main1.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/main1.js
index 70e5862ba..296879eff 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/main1.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['./deps/dep1', './deps/dep2'], function (dep1, dep2) { 'use strict';
+define(['./deps/dep1', './deps/dep2'], (function (dep1, dep2) { 'use strict';
 
   class Main1 {
     constructor () {
@@ -9,4 +9,4 @@ define(['./deps/dep1', './deps/dep2'], function (dep1, dep2) { 'use strict';
 
   return Main1;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/main2.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/main2.js
index b9dd02ca1..adff70c23 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/main2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['./deps/dep2', './deps/dep3'], function (dep2, dep3) { 'use strict';
+define(['./deps/dep2', './deps/dep3'], (function (dep2, dep3) { 'use strict';
 
   class Main2 {
     constructor () {
@@ -9,4 +9,4 @@ define(['./deps/dep2', './deps/dep3'], function (dep2, dep3) { 'use strict';
 
   return Main2;
 
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/deps/dep1.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/deps/dep1.js
index 813157baf..30f5932b2 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/deps/dep1.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/deps/dep1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('fn', fn);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('dep1 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/deps/dep2.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/deps/dep2.js
index e659b606b..266a74dbe 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/deps/dep2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/deps/dep2.js
@@ -1,11 +1,11 @@
-System.register(['../lib/lib2.js'], function (exports) {
+System.register(['../lib/lib2.js'], (function (exports) {
   'use strict';
   var fn$1;
   return {
     setters: [function (module) {
       fn$1 = module.fn;
     }],
-    execute: function () {
+    execute: (function () {
 
       exports('fn', fn);
 
@@ -14,6 +14,6 @@ System.register(['../lib/lib2.js'], function (exports) {
         console.log('dep2 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/deps/dep3.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/deps/dep3.js
index bd88b3e2d..c7293a4ee 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/deps/dep3.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/deps/dep3.js
@@ -1,11 +1,11 @@
-System.register(['../lib/lib1.js'], function (exports) {
+System.register(['../lib/lib1.js'], (function (exports) {
   'use strict';
   var fn$1;
   return {
     setters: [function (module) {
       fn$1 = module.fn;
     }],
-    execute: function () {
+    execute: (function () {
 
       exports('fn', fn);
 
@@ -14,6 +14,6 @@ System.register(['../lib/lib1.js'], function (exports) {
         console.log('dep3 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/lib/lib1.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/lib/lib1.js
index 744d84434..38247e531 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/lib/lib1.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/lib/lib1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('fn', fn);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('lib1 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/lib/lib2.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/lib/lib2.js
index b27f09d18..942fe4550 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/lib/lib2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/lib/lib2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('fn', fn);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('lib2 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/main1.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/main1.js
index 17f7ddb45..a8ee090a6 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/main1.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./deps/dep1.js', './deps/dep2.js'], function (exports) {
+System.register(['./deps/dep1.js', './deps/dep2.js'], (function (exports) {
   'use strict';
   var fn, fn$1;
   return {
@@ -7,7 +7,7 @@ System.register(['./deps/dep1.js', './deps/dep2.js'], function (exports) {
     }, function (module) {
       fn$1 = module.fn;
     }],
-    execute: function () {
+    execute: (function () {
 
       class Main1 {
         constructor () {
@@ -16,6 +16,6 @@ System.register(['./deps/dep1.js', './deps/dep2.js'], function (exports) {
         }
       } exports('default', Main1);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/main2.js b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/main2.js
index 4833f4382..b2fe3e012 100644
--- a/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/main2.js
+++ b/test/chunking-form/samples/deprecated/preserve-modules/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./deps/dep2.js', './deps/dep3.js'], function (exports) {
+System.register(['./deps/dep2.js', './deps/dep3.js'], (function (exports) {
   'use strict';
   var fn$1, fn;
   return {
@@ -7,7 +7,7 @@ System.register(['./deps/dep2.js', './deps/dep3.js'], function (exports) {
     }, function (module) {
       fn = module.fn;
     }],
-    execute: function () {
+    execute: (function () {
 
       class Main2 {
         constructor () {
@@ -16,6 +16,6 @@ System.register(['./deps/dep2.js', './deps/dep3.js'], function (exports) {
         }
       } exports('default', Main2);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-chained/_expected/amd/generated-dep1.js b/test/chunking-form/samples/dynamic-import-chained/_expected/amd/generated-dep1.js
index 83e82a169..a2dff5220 100644
--- a/test/chunking-form/samples/dynamic-import-chained/_expected/amd/generated-dep1.js
+++ b/test/chunking-form/samples/dynamic-import-chained/_expected/amd/generated-dep1.js
@@ -1,6 +1,6 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	console.log('dep1');
-	new Promise(function (resolve, reject) { require(['./generated-dep2'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dep2'], resolve, reject); });
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-chained/_expected/amd/generated-dep2.js b/test/chunking-form/samples/dynamic-import-chained/_expected/amd/generated-dep2.js
index af27f2545..8b19534cf 100644
--- a/test/chunking-form/samples/dynamic-import-chained/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/dynamic-import-chained/_expected/amd/generated-dep2.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('dep2');
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-chained/_expected/amd/main.js b/test/chunking-form/samples/dynamic-import-chained/_expected/amd/main.js
index a337561f6..4b3d6d3e9 100644
--- a/test/chunking-form/samples/dynamic-import-chained/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamic-import-chained/_expected/amd/main.js
@@ -1,6 +1,6 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	console.log('main');
-	new Promise(function (resolve, reject) { require(['./generated-dep1'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dep1'], resolve, reject); });
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-chained/_expected/system/generated-dep1.js b/test/chunking-form/samples/dynamic-import-chained/_expected/system/generated-dep1.js
index 40c0c5a28..96f41c0a1 100644
--- a/test/chunking-form/samples/dynamic-import-chained/_expected/system/generated-dep1.js
+++ b/test/chunking-form/samples/dynamic-import-chained/_expected/system/generated-dep1.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep1');
 			module.import('./generated-dep2.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-chained/_expected/system/generated-dep2.js b/test/chunking-form/samples/dynamic-import-chained/_expected/system/generated-dep2.js
index 535b40f55..e97665c4e 100644
--- a/test/chunking-form/samples/dynamic-import-chained/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/dynamic-import-chained/_expected/system/generated-dep2.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-chained/_expected/system/main.js b/test/chunking-form/samples/dynamic-import-chained/_expected/system/main.js
index 818a99666..e19dd8fb4 100644
--- a/test/chunking-form/samples/dynamic-import-chained/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamic-import-chained/_expected/system/main.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 			module.import('./generated-dep1.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-chunking/_expected/amd/generated-dep2.js b/test/chunking-form/samples/dynamic-import-chunking/_expected/amd/generated-dep2.js
index 2e2174a2c..676f22d7d 100644
--- a/test/chunking-form/samples/dynamic-import-chunking/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/dynamic-import-chunking/_expected/amd/generated-dep2.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main'], function (exports, main) { 'use strict';
+define(['exports', './generated-main'], (function (exports, main) { 'use strict';
 
   function mult (num) {
     return num + main.multiplier;
@@ -6,4 +6,4 @@ define(['exports', './generated-main'], function (exports, main) { 'use strict';
 
   exports.mult = mult;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-chunking/_expected/amd/generated-main.js b/test/chunking-form/samples/dynamic-import-chunking/_expected/amd/generated-main.js
index edcc94c09..06907a8b1 100644
--- a/test/chunking-form/samples/dynamic-import-chunking/_expected/amd/generated-main.js
+++ b/test/chunking-form/samples/dynamic-import-chunking/_expected/amd/generated-main.js
@@ -1,4 +1,4 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
   var multiplier = 7;
 
@@ -11,7 +11,7 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
   }
 
   function dynamic (num) {
-    return new Promise(function (resolve, reject) { require(['./generated-dep2'], resolve, reject) })
+    return new Promise(function (resolve, reject) { require(['./generated-dep2'], resolve, reject); })
     .then(dep2 => {
       return dep2.mult(num);
     });
@@ -25,4 +25,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
   exports.multiplier = multiplier;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-chunking/_expected/amd/main.js b/test/chunking-form/samples/dynamic-import-chunking/_expected/amd/main.js
index 4cef940ab..96e9a66fe 100644
--- a/test/chunking-form/samples/dynamic-import-chunking/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamic-import-chunking/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-main'], function (main) { 'use strict';
+define(['./generated-main'], (function (main) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-chunking/_expected/system/generated-dep2.js b/test/chunking-form/samples/dynamic-import-chunking/_expected/system/generated-dep2.js
index 7172491c2..c98eb8ea0 100644
--- a/test/chunking-form/samples/dynamic-import-chunking/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/dynamic-import-chunking/_expected/system/generated-dep2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-main.js'], function (exports) {
+System.register(['./generated-main.js'], (function (exports) {
   'use strict';
   var multiplier;
   return {
     setters: [function (module) {
       multiplier = module.m;
     }],
-    execute: function () {
+    execute: (function () {
 
       exports('mult', mult);
 
@@ -13,6 +13,6 @@ System.register(['./generated-main.js'], function (exports) {
         return num + multiplier;
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-chunking/_expected/system/generated-main.js b/test/chunking-form/samples/dynamic-import-chunking/_expected/system/generated-main.js
index 73b8ed125..5c6390eeb 100644
--- a/test/chunking-form/samples/dynamic-import-chunking/_expected/system/generated-main.js
+++ b/test/chunking-form/samples/dynamic-import-chunking/_expected/system/generated-main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       var multiplier = exports('m', 7);
 
@@ -26,6 +26,6 @@ System.register([], function (exports, module) {
         console.log(num);
       });
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-chunking/_expected/system/main.js b/test/chunking-form/samples/dynamic-import-chunking/_expected/system/main.js
index 1312c7a3b..5c63e9143 100644
--- a/test/chunking-form/samples/dynamic-import-chunking/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamic-import-chunking/_expected/system/main.js
@@ -1,11 +1,11 @@
-System.register(['./generated-main.js'], function () {
+System.register(['./generated-main.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-comments/_expected/amd/main.js b/test/chunking-form/samples/dynamic-import-comments/_expected/amd/main.js
index c0b0389a9..fc8a7d4e7 100644
--- a/test/chunking-form/samples/dynamic-import-comments/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamic-import-comments/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	foobar(
 	/* webpackChunkName: "chunk-name" */
 	'./foo'/*suffix*/);
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-comments/_expected/system/main.js b/test/chunking-form/samples/dynamic-import-comments/_expected/system/main.js
index 6a642eabf..8a9b514fa 100644
--- a/test/chunking-form/samples/dynamic-import-comments/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamic-import-comments/_expected/system/main.js
@@ -1,12 +1,12 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			foobar(
 			/* webpackChunkName: "chunk-name" */
 			'./foo.js'/*suffix*/);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-dynamic/_expected/amd/main.js b/test/chunking-form/samples/dynamic-import-dynamic/_expected/amd/main.js
index bc664553f..8562084a3 100644
--- a/test/chunking-form/samples/dynamic-import-dynamic/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamic-import-dynamic/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,19 +9,17 @@ define(['require'], function (require) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
 	var dep = 'dep';
 
-	new Promise(function (resolve, reject) { require([dep], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
+	(function (t) { return new Promise(function (resolve, reject) { require([t], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }); })(dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-dynamic/_expected/cjs/main.js b/test/chunking-form/samples/dynamic-import-dynamic/_expected/cjs/main.js
index dd03c613e..03ca7fb54 100644
--- a/test/chunking-form/samples/dynamic-import-dynamic/_expected/cjs/main.js
+++ b/test/chunking-form/samples/dynamic-import-dynamic/_expected/cjs/main.js
@@ -9,17 +9,15 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
 var dep = 'dep';
 
-Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(dep)); });
+(function (t) { return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(t)); }); })(dep);
diff --git a/test/chunking-form/samples/dynamic-import-dynamic/_expected/system/main.js b/test/chunking-form/samples/dynamic-import-dynamic/_expected/system/main.js
index 5309550be..c1ffa14a5 100644
--- a/test/chunking-form/samples/dynamic-import-dynamic/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamic-import-dynamic/_expected/system/main.js
@@ -1,12 +1,12 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var dep = 'dep';
 
 			module.import(dep);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-external/_expected/amd/main.js b/test/chunking-form/samples/dynamic-import-external/_expected/amd/main.js
index 91082d4ea..d64d14f8f 100644
--- a/test/chunking-form/samples/dynamic-import-external/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamic-import-external/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,17 +9,15 @@ define(['require'], function (require) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	new Promise(function (resolve, reject) { require(['./foo'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
+	new Promise(function (resolve, reject) { require(['./foo'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-external/_expected/cjs/main.js b/test/chunking-form/samples/dynamic-import-external/_expected/cjs/main.js
index f37f056f8..728837598 100644
--- a/test/chunking-form/samples/dynamic-import-external/_expected/cjs/main.js
+++ b/test/chunking-form/samples/dynamic-import-external/_expected/cjs/main.js
@@ -9,14 +9,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/chunking-form/samples/dynamic-import-external/_expected/system/main.js b/test/chunking-form/samples/dynamic-import-external/_expected/system/main.js
index 0824bad8d..e8e251803 100644
--- a/test/chunking-form/samples/dynamic-import-external/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamic-import-external/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./foo.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-facade/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/dynamic-import-facade/_expected/amd/generated-dynamic.js
index f5a33b1a4..ecb3e1d92 100644
--- a/test/chunking-form/samples/dynamic-import-facade/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/dynamic-import-facade/_expected/amd/generated-dynamic.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	console.log('dep');
 
@@ -16,4 +16,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.dynamic = dynamic;
 	exports.dynamic$1 = dynamic$1;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-facade/_expected/amd/main1.js b/test/chunking-form/samples/dynamic-import-facade/_expected/amd/main1.js
index 1d0494ad9..7586e2d95 100644
--- a/test/chunking-form/samples/dynamic-import-facade/_expected/amd/main1.js
+++ b/test/chunking-form/samples/dynamic-import-facade/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(function (n) { return n.dynamic$1; }).then(({dynamic}) => console.log('main1', dynamic));
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(function (n) { return n.dynamic$1; }).then(({dynamic}) => console.log('main1', dynamic));
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-facade/_expected/amd/main2.js b/test/chunking-form/samples/dynamic-import-facade/_expected/amd/main2.js
index 1974c7d9a..e60cc1ff2 100644
--- a/test/chunking-form/samples/dynamic-import-facade/_expected/amd/main2.js
+++ b/test/chunking-form/samples/dynamic-import-facade/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-dynamic'], function (dynamic) { 'use strict';
+define(['./generated-dynamic'], (function (dynamic) { 'use strict';
 
 	console.log('main2', dynamic.dynamic, dynamic.dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-facade/_expected/system/generated-dynamic.js b/test/chunking-form/samples/dynamic-import-facade/_expected/system/generated-dynamic.js
index 5e725d7bb..785142bc6 100644
--- a/test/chunking-form/samples/dynamic-import-facade/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/dynamic-import-facade/_expected/system/generated-dynamic.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 
@@ -16,6 +16,6 @@ System.register([], function (exports) {
 			});
 			exports('b', dynamic$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-facade/_expected/system/main1.js b/test/chunking-form/samples/dynamic-import-facade/_expected/system/main1.js
index 4bc59f3fd..16157e30d 100644
--- a/test/chunking-form/samples/dynamic-import-facade/_expected/system/main1.js
+++ b/test/chunking-form/samples/dynamic-import-facade/_expected/system/main1.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic.js').then(function (n) { return n.b; }).then(({dynamic}) => console.log('main1', dynamic));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-facade/_expected/system/main2.js b/test/chunking-form/samples/dynamic-import-facade/_expected/system/main2.js
index 48bd74f53..d0c0b3934 100644
--- a/test/chunking-form/samples/dynamic-import-facade/_expected/system/main2.js
+++ b/test/chunking-form/samples/dynamic-import-facade/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dynamic.js'], function () {
+System.register(['./generated-dynamic.js'], (function () {
 	'use strict';
 	var dynamic, dep;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-dynamic.js'], function () {
 			dynamic = module.d;
 			dep = module.a;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2', dynamic, dep);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/amd/generated-separate.js b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/amd/generated-separate.js
index d7c34b568..c1dd62b74 100644
--- a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/amd/generated-separate.js
+++ b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/amd/generated-separate.js
@@ -1,10 +1,10 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var separate = 'separate';
 	const x = 2;
 	console.log('separate');
 
-	exports['default'] = separate;
+	exports["default"] = separate;
 	exports.x = x;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/amd/main1.js b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/amd/main1.js
index 9cc680473..f89396fef 100644
--- a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/amd/main1.js
+++ b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['require', 'exports', './generated-separate'], function (require, exports, separate$1) { 'use strict';
+define(['require', 'exports', './generated-separate'], (function (require, exports, separate$1) { 'use strict';
 
 	var inlined$1 = 'inlined';
 	const x = 1;
@@ -11,11 +11,11 @@ define(['require', 'exports', './generated-separate'], function (require, export
 	});
 
 	const inlined = Promise.resolve().then(function () { return inlined$2; });
-	const separate = new Promise(function (resolve, reject) { require(['./generated-separate'], resolve, reject) });
+	const separate = new Promise(function (resolve, reject) { require(['./generated-separate'], resolve, reject); });
 
 	exports.inlined = inlined;
 	exports.separate = separate;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/amd/main2.js b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/amd/main2.js
index 0be3fee1a..1849d9570 100644
--- a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/amd/main2.js
+++ b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/amd/main2.js
@@ -1,9 +1,9 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
-	const separate = new Promise(function (resolve, reject) { require(['./generated-separate'], resolve, reject) });
+	const separate = new Promise(function (resolve, reject) { require(['./generated-separate'], resolve, reject); });
 
 	exports.separate = separate;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/cjs/generated-separate.js b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/cjs/generated-separate.js
index d0283dad2..16c2bc612 100644
--- a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/cjs/generated-separate.js
+++ b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/cjs/generated-separate.js
@@ -4,5 +4,5 @@ var separate = 'separate';
 const x = 2;
 console.log('separate');
 
-exports['default'] = separate;
+exports["default"] = separate;
 exports.x = x;
diff --git a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/system/generated-separate.js b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/system/generated-separate.js
index 97c75dde7..fece69272 100644
--- a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/system/generated-separate.js
+++ b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/system/generated-separate.js
@@ -1,12 +1,12 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var separate = exports('default', 'separate');
 			const x = exports('x', 2);
 			console.log('separate');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/system/main1.js b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/system/main1.js
index f9de49de7..575acdbb5 100644
--- a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/system/main1.js
+++ b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/system/main1.js
@@ -1,8 +1,8 @@
-System.register(['./generated-separate.js'], function (exports, module) {
+System.register(['./generated-separate.js'], (function (exports, module) {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			var inlined$1 = 'inlined';
 			const x = 1;
@@ -17,6 +17,6 @@ System.register(['./generated-separate.js'], function (exports, module) {
 			const inlined = exports('inlined', Promise.resolve().then(function () { return inlined$2; }));
 			const separate = exports('separate', module.import('./generated-separate.js'));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/system/main2.js b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/system/main2.js
index f54417af5..26490fecb 100644
--- a/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/system/main2.js
+++ b/test/chunking-form/samples/dynamic-import-inline-colouring/_expected/system/main2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const separate = exports('separate', module.import('./generated-separate.js'));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-inlining-object/_expected/amd/entry.js b/test/chunking-form/samples/dynamic-import-inlining-object/_expected/amd/entry.js
index 87c533f4a..ac76d2d7d 100644
--- a/test/chunking-form/samples/dynamic-import-inlining-object/_expected/amd/entry.js
+++ b/test/chunking-form/samples/dynamic-import-inlining-object/_expected/amd/entry.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const bar = 2;
 	Promise.resolve().then(function () { return foo$1; });
@@ -14,4 +14,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-inlining-object/_expected/system/entry.js b/test/chunking-form/samples/dynamic-import-inlining-object/_expected/system/entry.js
index 0ac064e42..f3161f5e7 100644
--- a/test/chunking-form/samples/dynamic-import-inlining-object/_expected/system/entry.js
+++ b/test/chunking-form/samples/dynamic-import-inlining-object/_expected/system/entry.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const bar = exports('bar', 2);
 			Promise.resolve().then(function () { return foo$1; });
@@ -13,6 +13,6 @@ System.register([], function (exports) {
 				foo: foo
 			});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-only-default/_expected/amd/entry.js b/test/chunking-form/samples/dynamic-import-only-default/_expected/amd/entry.js
index 341fb1ba4..0dc55c852 100644
--- a/test/chunking-form/samples/dynamic-import-only-default/_expected/amd/entry.js
+++ b/test/chunking-form/samples/dynamic-import-only-default/_expected/amd/entry.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var entry = 42;
 
 	return entry;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-only-default/_expected/amd/generated-other.js b/test/chunking-form/samples/dynamic-import-only-default/_expected/amd/generated-other.js
index 5eee5c015..303695789 100644
--- a/test/chunking-form/samples/dynamic-import-only-default/_expected/amd/generated-other.js
+++ b/test/chunking-form/samples/dynamic-import-only-default/_expected/amd/generated-other.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var other = 42;
 
-	exports['default'] = other;
+	exports["default"] = other;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-only-default/_expected/amd/main.js b/test/chunking-form/samples/dynamic-import-only-default/_expected/amd/main.js
index 9c42bd53b..23730f397 100644
--- a/test/chunking-form/samples/dynamic-import-only-default/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamic-import-only-default/_expected/amd/main.js
@@ -1,11 +1,9 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
-	var main = Promise.all([new Promise(function (resolve, reject) { require(['./entry'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject) }), new Promise(function (resolve, reject) { require(['./generated-other'], resolve, reject) })]);
+	var main = Promise.all([new Promise(function (resolve, reject) { require(['./entry'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject); }), new Promise(function (resolve, reject) { require(['./generated-other'], resolve, reject); })]);
 
 	return main;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-only-default/_expected/cjs/generated-other.js b/test/chunking-form/samples/dynamic-import-only-default/_expected/cjs/generated-other.js
index c367827f7..f4a940e5b 100644
--- a/test/chunking-form/samples/dynamic-import-only-default/_expected/cjs/generated-other.js
+++ b/test/chunking-form/samples/dynamic-import-only-default/_expected/cjs/generated-other.js
@@ -2,4 +2,4 @@
 
 var other = 42;
 
-exports['default'] = other;
+exports["default"] = other;
diff --git a/test/chunking-form/samples/dynamic-import-only-default/_expected/cjs/main.js b/test/chunking-form/samples/dynamic-import-only-default/_expected/cjs/main.js
index 92840d7dc..4495197e8 100644
--- a/test/chunking-form/samples/dynamic-import-only-default/_expected/cjs/main.js
+++ b/test/chunking-form/samples/dynamic-import-only-default/_expected/cjs/main.js
@@ -1,8 +1,6 @@
 'use strict';
 
-function _interopNamespaceDefaultOnly(e) {
-	return Object.freeze({__proto__: null, 'default': e});
-}
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 var main = Promise.all([Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespaceDefaultOnly(require('./entry.js')); }), Promise.resolve().then(function () { return require('./generated-other.js'); })]);
 
diff --git a/test/chunking-form/samples/dynamic-import-only-default/_expected/system/entry.js b/test/chunking-form/samples/dynamic-import-only-default/_expected/system/entry.js
index a7c67730f..bd75b13db 100644
--- a/test/chunking-form/samples/dynamic-import-only-default/_expected/system/entry.js
+++ b/test/chunking-form/samples/dynamic-import-only-default/_expected/system/entry.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var entry = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-only-default/_expected/system/generated-other.js b/test/chunking-form/samples/dynamic-import-only-default/_expected/system/generated-other.js
index 7995c0dba..aac6af68c 100644
--- a/test/chunking-form/samples/dynamic-import-only-default/_expected/system/generated-other.js
+++ b/test/chunking-form/samples/dynamic-import-only-default/_expected/system/generated-other.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var other = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-only-default/_expected/system/main.js b/test/chunking-form/samples/dynamic-import-only-default/_expected/system/main.js
index 5bf4e8e07..d8458be56 100644
--- a/test/chunking-form/samples/dynamic-import-only-default/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamic-import-only-default/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', Promise.all([module.import('./entry.js'), module.import('./generated-other.js')]));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-only-reexports/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/dynamic-import-only-reexports/_expected/amd/generated-dynamic.js
index bf7989e60..947ad1cba 100644
--- a/test/chunking-form/samples/dynamic-import-only-reexports/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/dynamic-import-only-reexports/_expected/amd/generated-dynamic.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-only-reexports/_expected/amd/main.js b/test/chunking-form/samples/dynamic-import-only-reexports/_expected/amd/main.js
index 86ed82403..d52ff54d3 100644
--- a/test/chunking-form/samples/dynamic-import-only-reexports/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamic-import-only-reexports/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(({ value }) => console.log(value));
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(({ value }) => console.log(value));
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-only-reexports/_expected/system/generated-dynamic.js b/test/chunking-form/samples/dynamic-import-only-reexports/_expected/system/generated-dynamic.js
index 437f1af45..050c7b2be 100644
--- a/test/chunking-form/samples/dynamic-import-only-reexports/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/dynamic-import-only-reexports/_expected/system/generated-dynamic.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-only-reexports/_expected/system/main.js b/test/chunking-form/samples/dynamic-import-only-reexports/_expected/system/main.js
index c9a3d7a8e..26fc7a530 100644
--- a/test/chunking-form/samples/dynamic-import-only-reexports/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamic-import-only-reexports/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic.js').then(({ value }) => console.log(value));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/amd/generated-dep1.js b/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/amd/generated-dep1.js
index 79bab8425..b468406da 100644
--- a/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/amd/generated-dep1.js
+++ b/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/amd/generated-dep1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	function foo() {
 		return 'dep2';
@@ -19,4 +19,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.dep1 = dep1;
 	exports.foo = foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/amd/main.js b/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/amd/main.js
index cac66392a..1fa255dfd 100644
--- a/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-dep1'], function (dep1) { 'use strict';
+define(['./generated-dep1'], (function (dep1) { 'use strict';
 
 	console.log(dep1.foo(), dep1.bar());
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/amd/main2.js b/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/amd/main2.js
index e0ac371ff..1cb1c65df 100644
--- a/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/amd/main2.js
+++ b/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dep1'], resolve, reject) }).then(function (n) { return n.dep1; }).then(({ bar }) => console.log(bar()));
+	new Promise(function (resolve, reject) { require(['./generated-dep1'], resolve, reject); }).then(function (n) { return n.dep1; }).then(({ bar }) => console.log(bar()));
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/system/generated-dep1.js b/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/system/generated-dep1.js
index a3b7e7440..5eae42d8b 100644
--- a/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/system/generated-dep1.js
+++ b/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/system/generated-dep1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports({
 				b: bar,
@@ -24,6 +24,6 @@ System.register([], function (exports) {
 			});
 			exports('d', dep1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/system/main.js b/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/system/main.js
index 1f0c72ea5..293f7a4a3 100644
--- a/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep1.js'], function () {
+System.register(['./generated-dep1.js'], (function () {
 	'use strict';
 	var foo, bar;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-dep1.js'], function () {
 			foo = module.f;
 			bar = module.b;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo(), bar());
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/system/main2.js b/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/system/main2.js
index a03fddab2..1f7b69ce9 100644
--- a/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/system/main2.js
+++ b/test/chunking-form/samples/dynamic-import-statically-imported-2/_expected/system/main2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dep1.js').then(function (n) { return n.d; }).then(({ bar }) => console.log(bar()));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-statically-imported/_expected/amd/main.js b/test/chunking-form/samples/dynamic-import-statically-imported/_expected/amd/main.js
index 5a7c901f9..f5bf4c220 100644
--- a/test/chunking-form/samples/dynamic-import-statically-imported/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamic-import-statically-imported/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo() {
 		return 'dep2';
@@ -17,4 +17,4 @@ define(function () { 'use strict';
 
 	console.log(foo(), bar());
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-statically-imported/_expected/system/main.js b/test/chunking-form/samples/dynamic-import-statically-imported/_expected/system/main.js
index 524ed74f1..317d72bea 100644
--- a/test/chunking-form/samples/dynamic-import-statically-imported/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamic-import-statically-imported/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo() {
 				return 'dep2';
@@ -20,6 +20,6 @@ System.register([], function () {
 
 			console.log(foo(), bar());
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/amd/lib.js b/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/amd/lib.js
index 79fb280a4..4774b4785 100644
--- a/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/amd/lib.js
+++ b/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/amd/lib.js
@@ -1,8 +1,8 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const __moduleExports = { foo: 'bar' };
 	var lib = 'baz';
 
 	return lib;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/amd/main.js b/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/amd/main.js
index 1cdbe5f6d..95aae3044 100644
--- a/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/amd/main.js
@@ -1,9 +1,7 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
-	new Promise(function (resolve, reject) { require(['./lib'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject) }).then(console.log);
+	new Promise(function (resolve, reject) { require(['./lib'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject); }).then(console.log);
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/cjs/main.js b/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/cjs/main.js
index 3fdaab993..4ce78a7b8 100644
--- a/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/cjs/main.js
+++ b/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/cjs/main.js
@@ -1,7 +1,5 @@
 'use strict';
 
-function _interopNamespaceDefaultOnly(e) {
-	return Object.freeze({__proto__: null, 'default': e});
-}
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespaceDefaultOnly(require('./lib.js')); }).then(console.log);
diff --git a/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/system/lib.js b/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/system/lib.js
index 61ae96a88..de3ee9150 100644
--- a/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/system/lib.js
+++ b/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/system/lib.js
@@ -1,11 +1,11 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const __moduleExports = { foo: 'bar' };
 			var lib = exports('default', 'baz');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/system/main.js b/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/system/main.js
index 61c5f4d5d..b6c21a599 100644
--- a/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamic-import-synthetic-exports-preserve-modules/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./lib.js').then(console.log);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/amd/entryA.js b/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/amd/entryA.js
index 0f3a098cf..b3964ab30 100644
--- a/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/amd/entryA.js
+++ b/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/amd/entryA.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('dep');
 
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
 	console.log('main1', value);
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/amd/entryB.js b/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/amd/entryB.js
index b58286ca5..50131c97c 100644
--- a/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/amd/entryB.js
+++ b/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/amd/entryB.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main2');
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/system/entryA.js b/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/system/entryA.js
index 317d75ddb..d4913331d 100644
--- a/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/system/entryA.js
+++ b/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/system/entryA.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 
@@ -9,6 +9,6 @@ System.register([], function () {
 
 			console.log('main1', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/system/entryB.js b/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/system/entryB.js
index a272843f8..b91e108e5 100644
--- a/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/system/entryB.js
+++ b/test/chunking-form/samples/dynamic-import-tree-shaking-1/_expected/system/entryB.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/amd/main1.js b/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/amd/main1.js
index 34f4f8180..1bdac651f 100644
--- a/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/amd/main1.js
+++ b/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main1');
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/amd/main2.js b/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/amd/main2.js
index 25c0aadce..dca4556bb 100644
--- a/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/amd/main2.js
+++ b/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('dep');
 	const dep = 'dep';
@@ -7,4 +7,4 @@ define(function () { 'use strict';
 
 	console.log('main2', dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/system/main1.js b/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/system/main1.js
index 13a22f40e..fe1696f27 100644
--- a/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/system/main1.js
+++ b/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/system/main1.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/system/main2.js b/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/system/main2.js
index 85359651b..5ee8ea117 100644
--- a/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/system/main2.js
+++ b/test/chunking-form/samples/dynamic-import-tree-shaking-2/_expected/system/main2.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 			const dep = 'dep';
@@ -10,6 +10,6 @@ System.register([], function () {
 
 			console.log('main2', dep);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import/_expected/amd/chunks/main.js b/test/chunking-form/samples/dynamic-import/_expected/amd/chunks/main.js
index ea3b3d8d9..cb076d0eb 100644
--- a/test/chunking-form/samples/dynamic-import/_expected/amd/chunks/main.js
+++ b/test/chunking-form/samples/dynamic-import/_expected/amd/chunks/main.js
@@ -1,14 +1,14 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const sharedValue = 'shared';
 
 	assert.equal(sharedValue, 'shared');
 
-	const promise = new Promise(function (resolve, reject) { require(['./other'], resolve, reject) }).then(result =>
+	const promise = new Promise(function (resolve, reject) { require(['./other'], resolve, reject); }).then(result =>
 		assert.deepEqual(result, { value: 'shared' })
 	);
 
 	exports.promise = promise;
 	exports.sharedValue = sharedValue;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import/_expected/amd/chunks/other.js b/test/chunking-form/samples/dynamic-import/_expected/amd/chunks/other.js
index c5536e870..be901842a 100644
--- a/test/chunking-form/samples/dynamic-import/_expected/amd/chunks/other.js
+++ b/test/chunking-form/samples/dynamic-import/_expected/amd/chunks/other.js
@@ -1,7 +1,7 @@
-define(['exports', './main'], function (exports, main) { 'use strict';
+define(['exports', './main'], (function (exports, main) { 'use strict';
 
 
 
 	exports.value = main.sharedValue;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import/_expected/amd/main.js b/test/chunking-form/samples/dynamic-import/_expected/amd/main.js
index d7fa3f639..b242019a3 100644
--- a/test/chunking-form/samples/dynamic-import/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamic-import/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './chunks/main'], function (exports, main) { 'use strict';
+define(['exports', './chunks/main'], (function (exports, main) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './chunks/main'], function (exports, main) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import/_expected/system/chunks/main.js b/test/chunking-form/samples/dynamic-import/_expected/system/chunks/main.js
index 5a2e6f0e1..c8d7fa01f 100644
--- a/test/chunking-form/samples/dynamic-import/_expected/system/chunks/main.js
+++ b/test/chunking-form/samples/dynamic-import/_expected/system/chunks/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const sharedValue = exports('s', 'shared');
 
@@ -11,6 +11,6 @@ System.register([], function (exports, module) {
 				assert.deepEqual(result, { value: 'shared' })
 			));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import/_expected/system/chunks/other.js b/test/chunking-form/samples/dynamic-import/_expected/system/chunks/other.js
index 51028be8b..753b17aae 100644
--- a/test/chunking-form/samples/dynamic-import/_expected/system/chunks/other.js
+++ b/test/chunking-form/samples/dynamic-import/_expected/system/chunks/other.js
@@ -1,13 +1,13 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('value', module.s);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamic-import/_expected/system/main.js b/test/chunking-form/samples/dynamic-import/_expected/system/main.js
index bbae28dc2..2bfff3f19 100644
--- a/test/chunking-form/samples/dynamic-import/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamic-import/_expected/system/main.js
@@ -1,13 +1,13 @@
-System.register(['./chunks/main.js'], function (exports) {
+System.register(['./chunks/main.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('promise', module.p);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/generated-dynamic.js
index d8de66484..71af3bb73 100644
--- a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/generated-dynamic.js
@@ -1,5 +1,5 @@
-define(['./generated-main'], function (main) { 'use strict';
+define(['./generated-main'], (function (main) { 'use strict';
 
 	console.log('dynamic', main.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/generated-main.js b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/generated-main.js
index 4a80598db..7d07295fb 100644
--- a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/generated-main.js
+++ b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/generated-main.js
@@ -1,10 +1,10 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	var value = 42;
 
-	const promise = new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(result => console.log('main', result, value));
+	const promise = new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(result => console.log('main', result, value));
 
 	exports.promise = promise;
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/importer.js b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/importer.js
index 3ed7fdddf..a30e0ce24 100644
--- a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/importer.js
+++ b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/importer.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./main'], resolve, reject) }).then(result => console.log('importer', result));
+	new Promise(function (resolve, reject) { require(['./main'], resolve, reject); }).then(result => console.log('importer', result));
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/main.js b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/main.js
index 25b189347..6b03c36fd 100644
--- a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main'], function (exports, main) { 'use strict';
+define(['exports', './generated-main'], (function (exports, main) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-main'], function (exports, main) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/generated-dynamic.js b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/generated-dynamic.js
index bdc7508d0..6cf95b846 100644
--- a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/generated-dynamic.js
@@ -1,14 +1,14 @@
-System.register(['./generated-main.js'], function () {
+System.register(['./generated-main.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/generated-main.js b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/generated-main.js
index 6275f749c..9395ad9cb 100644
--- a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/generated-main.js
+++ b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/generated-main.js
@@ -1,12 +1,12 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('v', 42);
 
 			const promise = exports('p', module.import('./generated-dynamic.js').then(result => console.log('main', result, value)));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/importer.js b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/importer.js
index 470b023dd..53c54d91d 100644
--- a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/importer.js
+++ b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/importer.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./main.js').then(result => console.log('importer', result));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/main.js b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/main.js
index b662ff2a1..65848d117 100644
--- a/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamically-import-facaded-entry/_expected/system/main.js
@@ -1,13 +1,13 @@
-System.register(['./generated-main.js'], function (exports) {
+System.register(['./generated-main.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('promise', module.p);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/amd/generated-dynamic.js
index efc42f06b..efd707899 100644
--- a/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/amd/generated-dynamic.js
@@ -1,5 +1,5 @@
-define(['./main'], function (main) { 'use strict';
+define(['./main'], (function (main) { 'use strict';
 
 	console.log('dynamic', main.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/amd/importer.js b/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/amd/importer.js
index 9c4349cb7..4df9229b0 100644
--- a/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/amd/importer.js
+++ b/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/amd/importer.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./main'], resolve, reject) }).then(function (n) { return n.main; }).then(result => console.log('importer', result));
+	new Promise(function (resolve, reject) { require(['./main'], resolve, reject); }).then(function (n) { return n.main; }).then(result => console.log('importer', result));
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/amd/main.js b/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/amd/main.js
index 7b6fed341..85d87cb9a 100644
--- a/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/amd/main.js
@@ -1,8 +1,8 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	var value = 42;
 
-	const promise = new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(result => console.log('main', result, value));
+	const promise = new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(result => console.log('main', result, value));
 
 	var main = /*#__PURE__*/Object.freeze({
 		__proto__: null,
@@ -14,4 +14,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/system/generated-dynamic.js b/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/system/generated-dynamic.js
index f35e9b071..3b4cbaf65 100644
--- a/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/system/generated-dynamic.js
@@ -1,14 +1,14 @@
-System.register(['./main.js'], function () {
+System.register(['./main.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/system/importer.js b/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/system/importer.js
index 20a09445b..f8a8fd515 100644
--- a/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/system/importer.js
+++ b/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/system/importer.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./main.js').then(function (n) { return n.m; }).then(result => console.log('importer', result));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/system/main.js b/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/system/main.js
index 93f986601..b05037f7a 100644
--- a/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamically-import-non-preserved-entry/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('v', 42);
 
@@ -13,6 +13,6 @@ System.register([], function (exports, module) {
 			});
 			exports('m', main);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/amd/generated-dynamic.js
index efc42f06b..efd707899 100644
--- a/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/amd/generated-dynamic.js
@@ -1,5 +1,5 @@
-define(['./main'], function (main) { 'use strict';
+define(['./main'], (function (main) { 'use strict';
 
 	console.log('dynamic', main.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/amd/importer.js b/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/amd/importer.js
index 9c4349cb7..4df9229b0 100644
--- a/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/amd/importer.js
+++ b/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/amd/importer.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./main'], resolve, reject) }).then(function (n) { return n.main; }).then(result => console.log('importer', result));
+	new Promise(function (resolve, reject) { require(['./main'], resolve, reject); }).then(function (n) { return n.main; }).then(result => console.log('importer', result));
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/amd/main.js b/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/amd/main.js
index 81f3b4e7d..f1407e820 100644
--- a/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/amd/main.js
@@ -1,8 +1,8 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	var value = 42;
 
-	const promise = new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(result => console.log('main', result, value));
+	const promise = new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(result => console.log('main', result, value));
 
 	var main = /*#__PURE__*/Object.freeze({
 		__proto__: null,
@@ -15,4 +15,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/system/generated-dynamic.js b/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/system/generated-dynamic.js
index f35e9b071..3b4cbaf65 100644
--- a/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/system/generated-dynamic.js
@@ -1,14 +1,14 @@
-System.register(['./main.js'], function () {
+System.register(['./main.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/system/importer.js b/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/system/importer.js
index 20a09445b..f8a8fd515 100644
--- a/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/system/importer.js
+++ b/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/system/importer.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./main.js').then(function (n) { return n.m; }).then(result => console.log('importer', result));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/system/main.js b/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/system/main.js
index 5a2f854ef..986d06f89 100644
--- a/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamically-import-tainted-entry/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('v', 42);
 
@@ -13,6 +13,6 @@ System.register([], function (exports, module) {
 			});
 			exports('m', main);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/amd/importer.js b/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/amd/importer.js
index 53f3727c6..38f5104a6 100644
--- a/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/amd/importer.js
+++ b/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/amd/importer.js
@@ -1,9 +1,7 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
-	new Promise(function (resolve, reject) { require(['./main'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject) }).then(result => console.log('importer', result));
+	new Promise(function (resolve, reject) { require(['./main'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject); }).then(result => console.log('importer', result));
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/amd/main.js b/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/amd/main.js
index 37d25711e..538fc7738 100644
--- a/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/amd/main.js
+++ b/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/cjs/importer.js b/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/cjs/importer.js
index 6045a5baf..246e7beaa 100644
--- a/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/cjs/importer.js
+++ b/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/cjs/importer.js
@@ -1,7 +1,5 @@
 'use strict';
 
-function _interopNamespaceDefaultOnly(e) {
-	return Object.freeze({__proto__: null, 'default': e});
-}
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespaceDefaultOnly(require('./main.js')); }).then(result => console.log('importer', result));
diff --git a/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/system/importer.js b/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/system/importer.js
index 470b023dd..53c54d91d 100644
--- a/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/system/importer.js
+++ b/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/system/importer.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./main.js').then(result => console.log('importer', result));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/system/main.js b/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/system/main.js
index a5bc73128..b15341b59 100644
--- a/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/system/main.js
+++ b/test/chunking-form/samples/dynamically-import-untainted-entry/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/asset-file-names/_expected/amd/main.js b/test/chunking-form/samples/emit-file/asset-file-names/_expected/amd/main.js
index 126aa22ee..49540b44d 100644
--- a/test/chunking-form/samples/emit-file/asset-file-names/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/asset-file-names/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/asset-file-names/_expected/system/main.js b/test/chunking-form/samples/emit-file/asset-file-names/_expected/system/main.js
index c83499bc2..35e269337 100644
--- a/test/chunking-form/samples/emit-file/asset-file-names/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/asset-file-names/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/main.js b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/main.js
index 126aa22ee..49540b44d 100644
--- a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/myfile.js b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/myfile.js
index fe9bf59ea..a31b5c3c5 100644
--- a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/myfile.js
+++ b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/myfile.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log(2);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/myfile4.js b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/myfile4.js
index 9ff7f9d46..fb7e4c4b6 100644
--- a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/myfile4.js
+++ b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/myfile4.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log(1);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/myfile5.js b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/myfile5.js
index 9c9de75f2..bb474b227 100644
--- a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/myfile5.js
+++ b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/amd/myfile5.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log(3);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/main.js b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/main.js
index c83499bc2..35e269337 100644
--- a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/myfile.js b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/myfile.js
index 51bbb7b8d..046bf6cdd 100644
--- a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/myfile.js
+++ b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/myfile.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log(2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/myfile4.js b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/myfile4.js
index aa5f5177c..c16543f53 100644
--- a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/myfile4.js
+++ b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/myfile4.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log(1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/myfile5.js b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/myfile5.js
index 71af75177..e0e41a91a 100644
--- a/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/myfile5.js
+++ b/test/chunking-form/samples/emit-file/deconflict-against-named-files/_expected/system/myfile5.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log(3);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/deduplicate-assets/_expected/amd/main.js b/test/chunking-form/samples/emit-file/deduplicate-assets/_expected/amd/main.js
index 126aa22ee..49540b44d 100644
--- a/test/chunking-form/samples/emit-file/deduplicate-assets/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/deduplicate-assets/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/deduplicate-assets/_expected/system/main.js b/test/chunking-form/samples/emit-file/deduplicate-assets/_expected/system/main.js
index c83499bc2..35e269337 100644
--- a/test/chunking-form/samples/emit-file/deduplicate-assets/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/deduplicate-assets/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-asset-without-name/_expected/amd/main.js b/test/chunking-form/samples/emit-file/emit-asset-without-name/_expected/amd/main.js
index 126aa22ee..49540b44d 100644
--- a/test/chunking-form/samples/emit-file/emit-asset-without-name/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/emit-asset-without-name/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-asset-without-name/_expected/system/main.js b/test/chunking-form/samples/emit-file/emit-asset-without-name/_expected/system/main.js
index c83499bc2..35e269337 100644
--- a/test/chunking-form/samples/emit-file/emit-asset-without-name/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/emit-asset-without-name/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/amd/generated-build-starter.js b/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/amd/generated-build-starter.js
index 4974a3482..8efead70d 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/amd/generated-build-starter.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/amd/generated-build-starter.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 	const otherValue = 43;
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.otherValue = otherValue;
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/amd/generated-buildStart.js b/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/amd/generated-buildStart.js
index 061437484..61abbcd2e 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/amd/generated-buildStart.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/amd/generated-buildStart.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-build-starter'], function (exports, buildStarter) { 'use strict';
+define(['exports', './generated-build-starter'], (function (exports, buildStarter) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-build-starter'], function (exports, buildStarter
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/amd/main.js b/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/amd/main.js
index f9191ee8a..830d21848 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-build-starter'], function (buildStarter) { 'use strict';
+define(['./generated-build-starter'], (function (buildStarter) { 'use strict';
 
 	console.log('main', buildStarter.value, buildStarter.otherValue);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/system/generated-build-starter.js b/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/system/generated-build-starter.js
index 75f69e53e..745c94783 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/system/generated-build-starter.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/system/generated-build-starter.js
@@ -1,13 +1,13 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('v', 42);
 			const otherValue = exports('o', 43);
 
 			console.log('startBuild', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/system/generated-buildStart.js b/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/system/generated-buildStart.js
index b82461c98..c21eed54d 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/system/generated-buildStart.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/system/generated-buildStart.js
@@ -1,13 +1,13 @@
-System.register(['./generated-build-starter.js'], function (exports) {
+System.register(['./generated-build-starter.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('buildStartValue', module.v);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/system/main.js b/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/system/main.js
index 4b52f5657..55b718e43 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-facade/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./generated-build-starter.js'], function () {
+System.register(['./generated-build-starter.js'], (function () {
 	'use strict';
 	var value, otherValue;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-build-starter.js'], function () {
 			value = module.v;
 			otherValue = module.o;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main', value, otherValue);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/amd/custom/build-start-chunk.js b/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/amd/custom/build-start-chunk.js
index 24c734da4..2c62b003b 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/amd/custom/build-start-chunk.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/amd/custom/build-start-chunk.js
@@ -1,4 +1,4 @@
-define(['exports', '../generated-buildStart'], function (exports, buildStart) { 'use strict';
+define(['exports', '../generated-buildStart'], (function (exports, buildStart) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', '../generated-buildStart'], function (exports, buildStart) {
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/amd/generated-buildStart.js b/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/amd/generated-buildStart.js
index 7b9e28ac4..fa0451a03 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/amd/generated-buildStart.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/amd/generated-buildStart.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var value = 42;
 
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.id = id;
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/amd/main.js b/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/amd/main.js
index 985270c09..d8cd06f30 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['./generated-buildStart'], function (buildStart) { 'use strict';
+define(['./generated-buildStart'], (function (buildStart) { 'use strict';
 
 	console.log(buildStart.id);
 
 	console.log('main', buildStart.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/system/custom/build-start-chunk.js b/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/system/custom/build-start-chunk.js
index e37489b03..b0fedf536 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/system/custom/build-start-chunk.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/system/custom/build-start-chunk.js
@@ -1,13 +1,13 @@
-System.register(['../generated-buildStart.js'], function (exports) {
+System.register(['../generated-buildStart.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('id', module.i);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/system/generated-buildStart.js b/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/system/generated-buildStart.js
index 491bec60f..8ace4aa81 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/system/generated-buildStart.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/system/generated-buildStart.js
@@ -1,13 +1,13 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('v', 42);
 
 			const id = exports('i', 'startBuild');
 			console.log(id, value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/system/main.js b/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/system/main.js
index 55cc89727..1c51c855e 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-filename/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./generated-buildStart.js'], function () {
+System.register(['./generated-buildStart.js'], (function () {
 	'use strict';
 	var id, value;
 	return {
@@ -6,12 +6,12 @@ System.register(['./generated-buildStart.js'], function () {
 			id = module.i;
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(id);
 
 			console.log('main', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/generated-name.js b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/generated-name.js
index eaec85030..414eef8e1 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/generated-name.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/generated-name.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var value1 = 42;
 
 	return value1;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/generated-name2.js b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/generated-name2.js
index 465cffcb6..256b839e2 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/generated-name2.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/generated-name2.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var value3 = 44;
 
 	return value3;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/generated-secondName.js b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/generated-secondName.js
index e881e9cec..e3377c4c6 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/generated-secondName.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/generated-secondName.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var value2 = 43;
 
 	return value2;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/mainChunk.js b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/mainChunk.js
index 399be2c93..c36d0e045 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/mainChunk.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/mainChunk.js
@@ -1,5 +1,5 @@
-define(['./generated-name', './generated-secondName', './generated-name2'], function (name, secondName, name$1) { 'use strict';
+define(['./generated-name', './generated-secondName', './generated-name2'], (function (name, secondName, name$1) { 'use strict';
 
 	console.log('main', name, secondName, name$1);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/other.js b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/other.js
index 9aa3629e5..91a535066 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/other.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/amd/other.js
@@ -1,5 +1,5 @@
-define(['./generated-name', './generated-secondName', './generated-name2', './mainChunk'], function (name, secondName, name$1, mainChunk) { 'use strict';
+define(['./generated-name', './generated-secondName', './generated-name2', './mainChunk'], (function (name, secondName, name$1, mainChunk) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/generated-name.js b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/generated-name.js
index 58e5c7ddb..3dc7bf01b 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/generated-name.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/generated-name.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value1 = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/generated-name2.js b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/generated-name2.js
index 9996739ec..53e9364b8 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/generated-name2.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/generated-name2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value3 = exports('default', 44);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/generated-secondName.js b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/generated-secondName.js
index 1dad12b0b..94a4f22b1 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/generated-secondName.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/generated-secondName.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value2 = exports('default', 43);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/mainChunk.js b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/mainChunk.js
index 1d933edda..110584976 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/mainChunk.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/mainChunk.js
@@ -1,18 +1,18 @@
-System.register(['./generated-name.js', './generated-secondName.js', './generated-name2.js'], function () {
+System.register(['./generated-name.js', './generated-secondName.js', './generated-name2.js'], (function () {
 	'use strict';
 	var value1, value2, value3;
 	return {
 		setters: [function (module) {
-			value1 = module.default;
+			value1 = module["default"];
 		}, function (module) {
-			value2 = module.default;
+			value2 = module["default"];
 		}, function (module) {
-			value3 = module.default;
+			value3 = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main', value1, value2, value3);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/other.js b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/other.js
index b207a067d..c3a776d8a 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/other.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-name-conflict/_expected/system/other.js
@@ -1,11 +1,11 @@
-System.register(['./generated-name.js', './generated-secondName.js', './generated-name2.js', './mainChunk.js'], function () {
+System.register(['./generated-name.js', './generated-secondName.js', './generated-name2.js', './mainChunk.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}, function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/amd/generated-dep.js b/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/amd/generated-dep.js
index 5e2f9f029..d041b1d05 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var value = 42;
 
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/amd/generated-nested/my-chunk.js b/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/amd/generated-nested/my-chunk.js
index 5b7a3c5e8..2cb336ca1 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/amd/generated-nested/my-chunk.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/amd/generated-nested/my-chunk.js
@@ -1,5 +1,5 @@
-define(['../generated-dep'], function (dep) { 'use strict';
+define(['../generated-dep'], (function (dep) { 'use strict';
 
 	console.log('startBuild', dep.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/amd/main.js b/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/amd/main.js
index 764805ded..9e5663625 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('main', dep.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/system/generated-dep.js b/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/system/generated-dep.js
index e69dcc529..eb5993a95 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/system/generated-dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('v', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/system/generated-nested/my-chunk.js b/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/system/generated-nested/my-chunk.js
index 2655f9f64..dbccb2900 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/system/generated-nested/my-chunk.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/system/generated-nested/my-chunk.js
@@ -1,14 +1,14 @@
-System.register(['../generated-dep.js'], function () {
+System.register(['../generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('startBuild', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/system/main.js b/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/system/main.js
index 13eec5478..39150aad0 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-named/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/amd/generated-emitted.js b/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/amd/generated-emitted.js
index 17272f4c9..8b74a03c4 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/amd/generated-emitted.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/amd/generated-emitted.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var value = 42;
 
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.id = id;
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/amd/generated-emitted2.js b/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/amd/generated-emitted2.js
index 12e48a162..223116a80 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/amd/generated-emitted2.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/amd/generated-emitted2.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-emitted'], function (exports, emitted) { 'use strict';
+define(['exports', './generated-emitted'], (function (exports, emitted) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-emitted'], function (exports, emitted) { 'use st
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/amd/main.js b/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/amd/main.js
index b27337200..155a63772 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['./generated-emitted'], function (emitted) { 'use strict';
+define(['./generated-emitted'], (function (emitted) { 'use strict';
 
 	console.log(emitted.id);
 
 	console.log('main', emitted.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/system/generated-emitted.js b/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/system/generated-emitted.js
index 8b1783315..15f691fbe 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/system/generated-emitted.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/system/generated-emitted.js
@@ -1,13 +1,13 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('v', 42);
 
 			const id = exports('i', 'emitted');
 			console.log(id, value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/system/generated-emitted2.js b/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/system/generated-emitted2.js
index aca4a34d7..1f9516f0c 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/system/generated-emitted2.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/system/generated-emitted2.js
@@ -1,13 +1,13 @@
-System.register(['./generated-emitted.js'], function (exports) {
+System.register(['./generated-emitted.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('id', module.i);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/system/main.js b/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/system/main.js
index b66e32357..35e03114f 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-order1/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./generated-emitted.js'], function () {
+System.register(['./generated-emitted.js'], (function () {
 	'use strict';
 	var id, value;
 	return {
@@ -6,12 +6,12 @@ System.register(['./generated-emitted.js'], function () {
 			id = module.i;
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(id);
 
 			console.log('main', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/amd/generated-emitted.js b/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/amd/generated-emitted.js
index 17272f4c9..8b74a03c4 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/amd/generated-emitted.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/amd/generated-emitted.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var value = 42;
 
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.id = id;
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/amd/generated-emitted2.js b/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/amd/generated-emitted2.js
index 12e48a162..223116a80 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/amd/generated-emitted2.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/amd/generated-emitted2.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-emitted'], function (exports, emitted) { 'use strict';
+define(['exports', './generated-emitted'], (function (exports, emitted) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-emitted'], function (exports, emitted) { 'use st
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/amd/main.js b/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/amd/main.js
index b27337200..155a63772 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['./generated-emitted'], function (emitted) { 'use strict';
+define(['./generated-emitted'], (function (emitted) { 'use strict';
 
 	console.log(emitted.id);
 
 	console.log('main', emitted.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/system/generated-emitted.js b/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/system/generated-emitted.js
index 8b1783315..15f691fbe 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/system/generated-emitted.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/system/generated-emitted.js
@@ -1,13 +1,13 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('v', 42);
 
 			const id = exports('i', 'emitted');
 			console.log(id, value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/system/generated-emitted2.js b/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/system/generated-emitted2.js
index aca4a34d7..1f9516f0c 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/system/generated-emitted2.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/system/generated-emitted2.js
@@ -1,13 +1,13 @@
-System.register(['./generated-emitted.js'], function (exports) {
+System.register(['./generated-emitted.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('id', module.i);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/system/main.js b/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/system/main.js
index b66e32357..35e03114f 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-order2/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./generated-emitted.js'], function () {
+System.register(['./generated-emitted.js'], (function () {
 	'use strict';
 	var id, value;
 	return {
@@ -6,12 +6,12 @@ System.register(['./generated-emitted.js'], function () {
 			id = module.i;
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(id);
 
 			console.log('main', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/amd/generated-lib.js b/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/amd/generated-lib.js
index cee6de6e2..f603c15c2 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/amd/generated-lib.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/amd/generated-lib.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main lib');
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/amd/generated-lib2.js b/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/amd/generated-lib2.js
index f76826176..e4989354a 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/amd/generated-lib2.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/amd/generated-lib2.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('nested lib');
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/amd/main.js b/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/amd/main.js
index 805bcc46e..651fe4c50 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	console.log('no importer', new URL(require.toUrl('./generated-lib.js'), document.baseURI).href);
 	console.log('from maim', new URL(require.toUrl('./generated-lib.js'), document.baseURI).href);
 	console.log('from nested', new URL(require.toUrl('./generated-lib2.js'), document.baseURI).href);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/system/generated-lib.js b/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/system/generated-lib.js
index 507bca5d3..a81bd2cb4 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/system/generated-lib.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/system/generated-lib.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main lib');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/system/generated-lib2.js b/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/system/generated-lib2.js
index 7926ecf0e..19b470719 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/system/generated-lib2.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/system/generated-lib2.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('nested lib');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/system/main.js b/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/system/main.js
index 370c482db..532ce3c90 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-with-importer/_expected/system/main.js
@@ -1,12 +1,12 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('no importer', new URL('generated-lib.js', module.meta.url).href);
 			console.log('from maim', new URL('generated-lib.js', module.meta.url).href);
 			console.log('from nested', new URL('generated-lib2.js', module.meta.url).href);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/chunks/nested.js b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/chunks/nested.js
index deefacd23..206aefd79 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/chunks/nested.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/chunks/nested.js
@@ -1,4 +1,4 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
   const getWorkerMessage = () => new Promise(resolve => {
     const worker = new Worker(new URL(require.toUrl('./worker-proxy.js'), document.baseURI).href);
@@ -7,4 +7,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
   exports.getWorkerMessage = getWorkerMessage;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/chunks/shared.js b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/chunks/shared.js
index b188047d8..3f801df74 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/chunks/shared.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/chunks/shared.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const shared = 'shared';
 
 	exports.shared = shared;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/chunks/worker.js b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/chunks/worker.js
index de59be73c..56158bba9 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/chunks/worker.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/chunks/worker.js
@@ -1,5 +1,5 @@
-define(['./shared'], function (shared) { 'use strict';
+define(['./shared'], (function (shared) { 'use strict';
 
 	postMessage(`from worker: ${shared.shared}`);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/main.js b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/main.js
index cc2e4dd2c..8a68fe863 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require', './chunks/shared'], function (require, shared) { 'use strict';
+define(['require', './chunks/shared'], (function (require, shared) { 'use strict';
 
   const getWorkerMessage = () => new Promise(resolve => {
     const worker = new Worker(new URL(require.toUrl('./chunks/worker-proxy.js'), document.baseURI).href);
@@ -8,8 +8,8 @@ define(['require', './chunks/shared'], function (require, shared) { 'use strict'
   document.body.innerHTML += `<h1>main: ${shared.shared}</h1>`;
   getWorkerMessage().then(message => (document.body.innerHTML += `<h1>1: ${message.data}</h1>`));
 
-  new Promise(function (resolve, reject) { require(['./chunks/nested'], resolve, reject) })
+  new Promise(function (resolve, reject) { require(['./chunks/nested'], resolve, reject); })
   	.then(result => result.getWorkerMessage())
   	.then(message => (document.body.innerHTML += `<h1>2: ${message.data}</h1>`));
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/chunks/nested.js b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/chunks/nested.js
index 1c41e7264..ac5b45772 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/chunks/nested.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/chunks/nested.js
@@ -1,13 +1,13 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       const getWorkerMessage = exports('getWorkerMessage', () => new Promise(resolve => {
         const worker = new Worker(new URL('worker-proxy.js', module.meta.url).href);
         worker.onmessage = resolve;
       }));
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/chunks/shared.js b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/chunks/shared.js
index 48be08070..854bb7122 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/chunks/shared.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/chunks/shared.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('s', 'shared');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/chunks/worker.js b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/chunks/worker.js
index 1013f55b3..c73a318e3 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/chunks/worker.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/chunks/worker.js
@@ -1,14 +1,14 @@
-System.register(['./shared.js'], function () {
+System.register(['./shared.js'], (function () {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			postMessage(`from worker: ${shared}`);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/main.js b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/main.js
index 4ee1bb4ab..cd37abb08 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worker/_expected/system/main.js
@@ -1,11 +1,11 @@
-System.register(['./chunks/shared.js'], function (exports, module) {
+System.register(['./chunks/shared.js'], (function (exports, module) {
   'use strict';
   var shared;
   return {
     setters: [function (module) {
       shared = module.s;
     }],
-    execute: function () {
+    execute: (function () {
 
       const getWorkerMessage = () => new Promise(resolve => {
         const worker = new Worker(new URL('chunks/worker-proxy.js', module.meta.url).href);
@@ -19,6 +19,6 @@ System.register(['./chunks/shared.js'], function (exports, module) {
       	.then(result => result.getWorkerMessage())
       	.then(message => (document.body.innerHTML += `<h1>2: ${message.data}</h1>`));
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/amd/chunks/shared.js b/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/amd/chunks/shared.js
index 931cd5869..e5f35a000 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/amd/chunks/shared.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/amd/chunks/shared.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const color = 'greenyellow';
 	const size = 6;
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.color = color;
 	exports.size = size;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/amd/chunks/worklet.js b/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/amd/chunks/worklet.js
index f96f283ad..ea01ac8fb 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/amd/chunks/worklet.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/amd/chunks/worklet.js
@@ -1,4 +1,4 @@
-define(['./shared'], function (shared) { 'use strict';
+define(['./shared'], (function (shared) { 'use strict';
 
 	registerPaint(
 		'vertical-lines',
@@ -14,4 +14,4 @@ define(['./shared'], function (shared) { 'use strict';
 		}
 	);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/amd/main.js b/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/amd/main.js
index bf73a6f15..d10bf6428 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['require', './chunks/shared'], function (require, shared) { 'use strict';
+define(['require', './chunks/shared'], (function (require, shared) { 'use strict';
 
 	CSS.paintWorklet.addModule(new URL(require.toUrl('./chunks/worklet.js'), document.baseURI).href);
 
 	document.body.innerHTML += `<h1 style="background-image: paint(vertical-lines);">color: ${shared.color}, size: ${shared.size}</h1>`;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/system/chunks/shared.js b/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/system/chunks/shared.js
index f348ef3f4..fa667a1ea 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/system/chunks/shared.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/system/chunks/shared.js
@@ -1,11 +1,11 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const color = exports('c', 'greenyellow');
 			const size = exports('s', 6);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/system/chunks/worklet.js b/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/system/chunks/worklet.js
index 9cb605597..88e721d45 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/system/chunks/worklet.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/system/chunks/worklet.js
@@ -1,4 +1,4 @@
-System.register(['./shared.js'], function () {
+System.register(['./shared.js'], (function () {
 	'use strict';
 	var size, color;
 	return {
@@ -6,7 +6,7 @@ System.register(['./shared.js'], function () {
 			size = module.s;
 			color = module.c;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			registerPaint(
 				'vertical-lines',
@@ -22,6 +22,6 @@ System.register(['./shared.js'], function () {
 				}
 			);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/system/main.js b/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/system/main.js
index 316537429..69c57ed60 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk-worklet/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./chunks/shared.js'], function (exports, module) {
+System.register(['./chunks/shared.js'], (function (exports, module) {
 	'use strict';
 	var color, size;
 	return {
@@ -6,12 +6,12 @@ System.register(['./chunks/shared.js'], function (exports, module) {
 			color = module.c;
 			size = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			CSS.paintWorklet.addModule(new URL('chunks/worklet.js', module.meta.url).href);
 
 			document.body.innerHTML += `<h1 style="background-image: paint(vertical-lines);">color: ${color}, size: ${size}</h1>`;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk/_expected/amd/generated-buildStart.js b/test/chunking-form/samples/emit-file/emit-chunk/_expected/amd/generated-buildStart.js
index 05dda0e01..041249b14 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk/_expected/amd/generated-buildStart.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk/_expected/amd/generated-buildStart.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('startBuild', dep.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk/_expected/amd/generated-dep.js b/test/chunking-form/samples/emit-file/emit-chunk/_expected/amd/generated-dep.js
index 5e2f9f029..d041b1d05 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var value = 42;
 
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk/_expected/amd/main.js b/test/chunking-form/samples/emit-file/emit-chunk/_expected/amd/main.js
index 764805ded..9e5663625 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('main', dep.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk/_expected/system/generated-buildStart.js b/test/chunking-form/samples/emit-file/emit-chunk/_expected/system/generated-buildStart.js
index 08465151e..12a2c642f 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk/_expected/system/generated-buildStart.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk/_expected/system/generated-buildStart.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('startBuild', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk/_expected/system/generated-dep.js b/test/chunking-form/samples/emit-file/emit-chunk/_expected/system/generated-dep.js
index e69dcc529..eb5993a95 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk/_expected/system/generated-dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('v', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emit-chunk/_expected/system/main.js b/test/chunking-form/samples/emit-file/emit-chunk/_expected/system/main.js
index 13eec5478..39150aad0 100644
--- a/test/chunking-form/samples/emit-file/emit-chunk/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/emit-chunk/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/amd/first-main.js b/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/amd/first-main.js
index fd823ca54..05e4663fb 100644
--- a/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/amd/first-main.js
+++ b/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/amd/first-main.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('main1', dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/amd/generated-dep.js b/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/amd/generated-dep.js
index e14fcf801..918ffcbca 100644
--- a/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var value = 42;
 
 	return value;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/amd/second-main.js b/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/amd/second-main.js
index fd823ca54..05e4663fb 100644
--- a/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/amd/second-main.js
+++ b/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/amd/second-main.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('main1', dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/system/first-main.js b/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/system/first-main.js
index 80f3e6cfe..1901ed04d 100644
--- a/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/system/first-main.js
+++ b/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/system/first-main.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
-			value = module.default;
+			value = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/system/generated-dep.js b/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/system/generated-dep.js
index 9cb117a62..1c71e7612 100644
--- a/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/system/generated-dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/system/second-main.js b/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/system/second-main.js
index 80f3e6cfe..1901ed04d 100644
--- a/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/system/second-main.js
+++ b/test/chunking-form/samples/emit-file/emits-existing-chunk/_expected/system/second-main.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
-			value = module.default;
+			value = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emits-files-from-various-hooks/_expected/amd/main.js b/test/chunking-form/samples/emit-file/emits-files-from-various-hooks/_expected/amd/main.js
index 126aa22ee..49540b44d 100644
--- a/test/chunking-form/samples/emit-file/emits-files-from-various-hooks/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/emits-files-from-various-hooks/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/emits-files-from-various-hooks/_expected/system/main.js b/test/chunking-form/samples/emit-file/emits-files-from-various-hooks/_expected/system/main.js
index c83499bc2..35e269337 100644
--- a/test/chunking-form/samples/emit-file/emits-files-from-various-hooks/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/emits-files-from-various-hooks/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/amd/entry-deb-amd.js b/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/amd/entry-deb-amd.js
index bdc1bb8ed..8ccd79f41 100644
--- a/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/amd/entry-deb-amd.js
+++ b/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/amd/entry-deb-amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var deb = 'string';
 
 	return deb;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/amd/entry-main-amd.js b/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/amd/entry-main-amd.js
index a5968f433..4d64eed68 100644
--- a/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/amd/entry-main-amd.js
+++ b/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/amd/entry-main-amd.js
@@ -1,10 +1,8 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 	console.log('main');
-	new Promise(function (resolve, reject) { require(['./entry-deb-amd'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject) }).then(console.log);
+	new Promise(function (resolve, reject) { require(['./entry-deb-amd'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject); }).then(console.log);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/cjs/entry-main-cjs.js b/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/cjs/entry-main-cjs.js
index 3a2ce3dd5..4b6430adf 100644
--- a/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/cjs/entry-main-cjs.js
+++ b/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/cjs/entry-main-cjs.js
@@ -1,8 +1,6 @@
 'use strict';
 
-function _interopNamespaceDefaultOnly(e) {
-	return Object.freeze({__proto__: null, 'default': e});
-}
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 console.log('main');
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespaceDefaultOnly(require('./entry-deb-cjs.js')); }).then(console.log);
diff --git a/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/system/entry-deb-system.js b/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/system/entry-deb-system.js
index bf38b53fc..97caa5f44 100644
--- a/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/system/entry-deb-system.js
+++ b/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/system/entry-deb-system.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var deb = exports('default', 'string');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/system/entry-main-system.js b/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/system/entry-main-system.js
index 70ec9992f..b473ef227 100644
--- a/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/system/entry-main-system.js
+++ b/test/chunking-form/samples/emit-file/filenames-function-patterns-preserve-modules/_expected/system/entry-main-system.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 			module.import('./entry-deb-system.js').then(console.log);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/amd/chunk-deb-c542d45b-amd.js b/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/amd/chunk-deb-c542d45b-amd.js
index 309ef04a5..3d7c51559 100644
--- a/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/amd/chunk-deb-c542d45b-amd.js
+++ b/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/amd/chunk-deb-c542d45b-amd.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var deb = 'string';
 
-	exports['default'] = deb;
+	exports["default"] = deb;
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/amd/entry-main-57ef342e-amd.js b/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/amd/entry-main-57ef342e-amd.js
new file mode 100644
index 000000000..d0e99fe09
--- /dev/null
+++ b/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/amd/entry-main-57ef342e-amd.js
@@ -0,0 +1,6 @@
+define(['require'], (function (require) { 'use strict';
+
+	console.log('main');
+	new Promise(function (resolve, reject) { require(['./chunk-deb-c542d45b-amd'], resolve, reject); }).then(console.log);
+
+}));
diff --git a/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/amd/entry-main-ed305cc7-amd.js b/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/amd/entry-main-ed305cc7-amd.js
deleted file mode 100644
index 2d7c204ad..000000000
--- a/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/amd/entry-main-ed305cc7-amd.js
+++ /dev/null
@@ -1,6 +0,0 @@
-define(['require'], function (require) { 'use strict';
-
-	console.log('main');
-	new Promise(function (resolve, reject) { require(['./chunk-deb-c542d45b-amd'], resolve, reject) }).then(console.log);
-
-});
diff --git a/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/cjs/chunk-deb-19c947c3-cjs.js b/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/cjs/chunk-deb-19c947c3-cjs.js
index e15f83c31..7ad840d89 100644
--- a/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/cjs/chunk-deb-19c947c3-cjs.js
+++ b/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/cjs/chunk-deb-19c947c3-cjs.js
@@ -2,4 +2,4 @@
 
 var deb = 'string';
 
-exports['default'] = deb;
+exports["default"] = deb;
diff --git a/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/system/chunk-deb-3a28869f-system.js b/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/system/chunk-deb-3a28869f-system.js
index bf38b53fc..97caa5f44 100644
--- a/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/system/chunk-deb-3a28869f-system.js
+++ b/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/system/chunk-deb-3a28869f-system.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var deb = exports('default', 'string');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/system/entry-main-e573b571-system.js b/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/system/entry-main-e573b571-system.js
index 4d4ad7032..f2ecd4498 100644
--- a/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/system/entry-main-e573b571-system.js
+++ b/test/chunking-form/samples/emit-file/filenames-function-patterns/_expected/system/entry-main-e573b571-system.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 			module.import('./chunk-deb-3a28869f-system.js').then(console.log);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/explicit-name1.js b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/explicit-name1.js
index 993c75f35..f21572ce1 100644
--- a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/explicit-name1.js
+++ b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/explicit-name1.js
@@ -1,4 +1,4 @@
-define(['exports', './mainChunk'], function (exports, mainChunk) { 'use strict';
+define(['exports', './mainChunk'], (function (exports, mainChunk) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './mainChunk'], function (exports, mainChunk) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/explicit-name2.js b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/explicit-name2.js
index 993c75f35..f21572ce1 100644
--- a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/explicit-name2.js
+++ b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/explicit-name2.js
@@ -1,4 +1,4 @@
-define(['exports', './mainChunk'], function (exports, mainChunk) { 'use strict';
+define(['exports', './mainChunk'], (function (exports, mainChunk) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './mainChunk'], function (exports, mainChunk) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/mainChunk.js b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/mainChunk.js
index 876aec766..106eba6b3 100644
--- a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/mainChunk.js
+++ b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/mainChunk.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/mainChunkFacade.js b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/mainChunkFacade.js
index 993c75f35..f21572ce1 100644
--- a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/mainChunkFacade.js
+++ b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/amd/mainChunkFacade.js
@@ -1,4 +1,4 @@
-define(['exports', './mainChunk'], function (exports, mainChunk) { 'use strict';
+define(['exports', './mainChunk'], (function (exports, mainChunk) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './mainChunk'], function (exports, mainChunk) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/explicit-name1.js b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/explicit-name1.js
index cb058047e..a0867b359 100644
--- a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/explicit-name1.js
+++ b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/explicit-name1.js
@@ -1,13 +1,13 @@
-System.register(['./mainChunk.js'], function (exports) {
+System.register(['./mainChunk.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('value', module.value);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/explicit-name2.js b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/explicit-name2.js
index cb058047e..a0867b359 100644
--- a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/explicit-name2.js
+++ b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/explicit-name2.js
@@ -1,13 +1,13 @@
-System.register(['./mainChunk.js'], function (exports) {
+System.register(['./mainChunk.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('value', module.value);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/mainChunk.js b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/mainChunk.js
index 437f1af45..050c7b2be 100644
--- a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/mainChunk.js
+++ b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/mainChunk.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/mainChunkFacade.js b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/mainChunkFacade.js
index cb058047e..a0867b359 100644
--- a/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/mainChunkFacade.js
+++ b/test/chunking-form/samples/emit-file/named-user-chunks/_expected/system/mainChunkFacade.js
@@ -1,13 +1,13 @@
-System.register(['./mainChunk.js'], function (exports) {
+System.register(['./mainChunk.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('value', module.value);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/reference-files/_expected/amd/main.js b/test/chunking-form/samples/emit-file/reference-files/_expected/amd/main.js
index d69c22824..1dd5b4aaa 100644
--- a/test/chunking-form/samples/emit-file/reference-files/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/reference-files/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	var logo = new URL(require.toUrl('./assets/logo1-a5ec488b.svg'), document.baseURI).href;
 
@@ -12,10 +12,10 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 	}
 
 	showImage(logo);
-	new Promise(function (resolve, reject) { require(['./nested/chunk'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./nested/chunk'], resolve, reject); });
 
 	exports.showImage = showImage;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/reference-files/_expected/amd/nested/chunk.js b/test/chunking-form/samples/emit-file/reference-files/_expected/amd/nested/chunk.js
index 58bc60e01..6a888ad7e 100644
--- a/test/chunking-form/samples/emit-file/reference-files/_expected/amd/nested/chunk.js
+++ b/test/chunking-form/samples/emit-file/reference-files/_expected/amd/nested/chunk.js
@@ -1,7 +1,7 @@
-define(['require', '../main'], function (require, main) { 'use strict';
+define(['require', '../main'], (function (require, main) { 'use strict';
 
 	var logo = new URL(require.toUrl('../assets/logo2-6d5979e4.svg'), document.baseURI).href;
 
 	main.showImage(logo);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/reference-files/_expected/system/main.js b/test/chunking-form/samples/emit-file/reference-files/_expected/system/main.js
index c4f3d058b..01ef84eff 100644
--- a/test/chunking-form/samples/emit-file/reference-files/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/reference-files/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('s', showImage);
 
@@ -19,6 +19,6 @@ System.register([], function (exports, module) {
 			showImage(logo);
 			module.import('./nested/chunk.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/reference-files/_expected/system/nested/chunk.js b/test/chunking-form/samples/emit-file/reference-files/_expected/system/nested/chunk.js
index 627ee24d9..f678780b7 100644
--- a/test/chunking-form/samples/emit-file/reference-files/_expected/system/nested/chunk.js
+++ b/test/chunking-form/samples/emit-file/reference-files/_expected/system/nested/chunk.js
@@ -1,16 +1,16 @@
-System.register(['../main.js'], function (exports, module) {
+System.register(['../main.js'], (function (exports, module) {
 	'use strict';
 	var showImage;
 	return {
 		setters: [function (module) {
 			showImage = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var logo = new URL('../assets/logo2-6d5979e4.svg', module.meta.url).href;
 
 			showImage(logo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/amd/generated-_virtual.js b/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/amd/generated-_virtual.js
index 32246cb68..ccc582655 100644
--- a/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/amd/generated-_virtual.js
+++ b/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/amd/generated-_virtual.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('virtual');
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/amd/main.js b/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/amd/main.js
index dcbf09f03..b764a43bb 100644
--- a/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var value = 42;
 
 	console.log('main', value);
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/system/generated-_virtual.js b/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/system/generated-_virtual.js
index e86825009..5059379eb 100644
--- a/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/system/generated-_virtual.js
+++ b/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/system/generated-_virtual.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('virtual');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/system/main.js b/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/system/main.js
index a824ae311..158865e76 100644
--- a/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/sanitize-file-name/_expected/system/main.js
@@ -1,12 +1,12 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = 42;
 
 			console.log('main', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/set-asset-source/_expected/amd/main.js b/test/chunking-form/samples/emit-file/set-asset-source/_expected/amd/main.js
index 6dd36994c..7a630a87c 100644
--- a/test/chunking-form/samples/emit-file/set-asset-source/_expected/amd/main.js
+++ b/test/chunking-form/samples/emit-file/set-asset-source/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const renderStart = new URL(require.toUrl('./assets/renderStart-66600c78.txt'), document.baseURI).href;
 	const renderStartNamed = new URL(require.toUrl('./renderStart.txt'), document.baseURI).href;
@@ -26,4 +26,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/emit-file/set-asset-source/_expected/system/main.js b/test/chunking-form/samples/emit-file/set-asset-source/_expected/system/main.js
index 5910199d4..ff13e5e65 100644
--- a/test/chunking-form/samples/emit-file/set-asset-source/_expected/system/main.js
+++ b/test/chunking-form/samples/emit-file/set-asset-source/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const renderStart = exports('renderStart', new URL('assets/renderStart-66600c78.txt', module.meta.url).href);
 			const renderStartNamed = exports('renderStartNamed', new URL('renderStart.txt', module.meta.url).href);
@@ -15,6 +15,6 @@ System.register([], function (exports, module) {
 			const outro = exports('outro', new URL('assets/outro-21f77720.txt', module.meta.url).href);
 			const outroNamed = exports('outroNamed', new URL('outro.txt', module.meta.url).href);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/empty-chunks/_expected/amd/main1.js b/test/chunking-form/samples/empty-chunks/_expected/amd/main1.js
index f9f8229aa..a9e9419e2 100644
--- a/test/chunking-form/samples/empty-chunks/_expected/amd/main1.js
+++ b/test/chunking-form/samples/empty-chunks/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/empty-chunks/_expected/amd/main2.js b/test/chunking-form/samples/empty-chunks/_expected/amd/main2.js
index f9f8229aa..a9e9419e2 100644
--- a/test/chunking-form/samples/empty-chunks/_expected/amd/main2.js
+++ b/test/chunking-form/samples/empty-chunks/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/empty-chunks/_expected/system/main1.js b/test/chunking-form/samples/empty-chunks/_expected/system/main1.js
index a702f2b06..343cc3a51 100644
--- a/test/chunking-form/samples/empty-chunks/_expected/system/main1.js
+++ b/test/chunking-form/samples/empty-chunks/_expected/system/main1.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/empty-chunks/_expected/system/main2.js b/test/chunking-form/samples/empty-chunks/_expected/system/main2.js
index a702f2b06..343cc3a51 100644
--- a/test/chunking-form/samples/empty-chunks/_expected/system/main2.js
+++ b/test/chunking-form/samples/empty-chunks/_expected/system/main2.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/empty-module-no-treeshake/_expected/amd/generated-emptyTransformed.js b/test/chunking-form/samples/empty-module-no-treeshake/_expected/amd/generated-emptyTransformed.js
index f9f8229aa..a9e9419e2 100644
--- a/test/chunking-form/samples/empty-module-no-treeshake/_expected/amd/generated-emptyTransformed.js
+++ b/test/chunking-form/samples/empty-module-no-treeshake/_expected/amd/generated-emptyTransformed.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/empty-module-no-treeshake/_expected/amd/main1.js b/test/chunking-form/samples/empty-module-no-treeshake/_expected/amd/main1.js
index 992c57556..79b7506c8 100644
--- a/test/chunking-form/samples/empty-module-no-treeshake/_expected/amd/main1.js
+++ b/test/chunking-form/samples/empty-module-no-treeshake/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-emptyTransformed'], function (emptyTransformed) { 'use strict';
+define(['./generated-emptyTransformed'], (function (emptyTransformed) { 'use strict';
 
 	console.log('main1');
 
-});
+}));
diff --git a/test/chunking-form/samples/empty-module-no-treeshake/_expected/amd/main2.js b/test/chunking-form/samples/empty-module-no-treeshake/_expected/amd/main2.js
index 5cd23f538..5637dfe6a 100644
--- a/test/chunking-form/samples/empty-module-no-treeshake/_expected/amd/main2.js
+++ b/test/chunking-form/samples/empty-module-no-treeshake/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-emptyTransformed'], function (emptyTransformed) { 'use strict';
+define(['./generated-emptyTransformed'], (function (emptyTransformed) { 'use strict';
 
 	console.log('main2');
 
-});
+}));
diff --git a/test/chunking-form/samples/empty-module-no-treeshake/_expected/system/generated-emptyTransformed.js b/test/chunking-form/samples/empty-module-no-treeshake/_expected/system/generated-emptyTransformed.js
index a702f2b06..343cc3a51 100644
--- a/test/chunking-form/samples/empty-module-no-treeshake/_expected/system/generated-emptyTransformed.js
+++ b/test/chunking-form/samples/empty-module-no-treeshake/_expected/system/generated-emptyTransformed.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/empty-module-no-treeshake/_expected/system/main1.js b/test/chunking-form/samples/empty-module-no-treeshake/_expected/system/main1.js
index 42dde523b..8e4b0d53d 100644
--- a/test/chunking-form/samples/empty-module-no-treeshake/_expected/system/main1.js
+++ b/test/chunking-form/samples/empty-module-no-treeshake/_expected/system/main1.js
@@ -1,11 +1,11 @@
-System.register(['./generated-emptyTransformed.js'], function () {
+System.register(['./generated-emptyTransformed.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/empty-module-no-treeshake/_expected/system/main2.js b/test/chunking-form/samples/empty-module-no-treeshake/_expected/system/main2.js
index 6c9dc2940..88a05aab0 100644
--- a/test/chunking-form/samples/empty-module-no-treeshake/_expected/system/main2.js
+++ b/test/chunking-form/samples/empty-module-no-treeshake/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-emptyTransformed.js'], function () {
+System.register(['./generated-emptyTransformed.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entry-aliases/_expected/amd/generated-dep.js b/test/chunking-form/samples/entry-aliases/_expected/amd/generated-dep.js
index 859f8d05d..1828d3a1a 100644
--- a/test/chunking-form/samples/entry-aliases/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/entry-aliases/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var name = 'name';
 
 	exports.name = name;
 
-});
+}));
diff --git a/test/chunking-form/samples/entry-aliases/_expected/amd/main1-alias.js b/test/chunking-form/samples/entry-aliases/_expected/amd/main1-alias.js
index e91de3141..14f85073f 100644
--- a/test/chunking-form/samples/entry-aliases/_expected/amd/main1-alias.js
+++ b/test/chunking-form/samples/entry-aliases/_expected/amd/main1-alias.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-dep'], function (exports, dep) { 'use strict';
+define(['exports', './generated-dep'], (function (exports, dep) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-dep'], function (exports, dep) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/entry-aliases/_expected/amd/main1.js b/test/chunking-form/samples/entry-aliases/_expected/amd/main1.js
index e91de3141..14f85073f 100644
--- a/test/chunking-form/samples/entry-aliases/_expected/amd/main1.js
+++ b/test/chunking-form/samples/entry-aliases/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-dep'], function (exports, dep) { 'use strict';
+define(['exports', './generated-dep'], (function (exports, dep) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-dep'], function (exports, dep) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/entry-aliases/_expected/amd/main2.js b/test/chunking-form/samples/entry-aliases/_expected/amd/main2.js
index cb9ff3e4b..76aab3482 100644
--- a/test/chunking-form/samples/entry-aliases/_expected/amd/main2.js
+++ b/test/chunking-form/samples/entry-aliases/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log(dep.name);
 
-});
+}));
diff --git a/test/chunking-form/samples/entry-aliases/_expected/system/generated-dep.js b/test/chunking-form/samples/entry-aliases/_expected/system/generated-dep.js
index 0efb4ed6c..3dd137a1d 100644
--- a/test/chunking-form/samples/entry-aliases/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/entry-aliases/_expected/system/generated-dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var name = exports('n', 'name');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entry-aliases/_expected/system/main1-alias.js b/test/chunking-form/samples/entry-aliases/_expected/system/main1-alias.js
index fa0993a17..e6e2eb02d 100644
--- a/test/chunking-form/samples/entry-aliases/_expected/system/main1-alias.js
+++ b/test/chunking-form/samples/entry-aliases/_expected/system/main1-alias.js
@@ -1,13 +1,13 @@
-System.register(['./generated-dep.js'], function (exports) {
+System.register(['./generated-dep.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('name', module.n);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entry-aliases/_expected/system/main1.js b/test/chunking-form/samples/entry-aliases/_expected/system/main1.js
index fa0993a17..e6e2eb02d 100644
--- a/test/chunking-form/samples/entry-aliases/_expected/system/main1.js
+++ b/test/chunking-form/samples/entry-aliases/_expected/system/main1.js
@@ -1,13 +1,13 @@
-System.register(['./generated-dep.js'], function (exports) {
+System.register(['./generated-dep.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('name', module.n);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entry-aliases/_expected/system/main2.js b/test/chunking-form/samples/entry-aliases/_expected/system/main2.js
index eb344d8e3..1505b5c3e 100644
--- a/test/chunking-form/samples/entry-aliases/_expected/system/main2.js
+++ b/test/chunking-form/samples/entry-aliases/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var name;
 	return {
 		setters: [function (module) {
 			name = module.n;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(name);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entry-chunk-export-mode/_expected/amd/main1.js b/test/chunking-form/samples/entry-chunk-export-mode/_expected/amd/main1.js
index 0d61613c5..39cbdf15c 100644
--- a/test/chunking-form/samples/entry-chunk-export-mode/_expected/amd/main1.js
+++ b/test/chunking-form/samples/entry-chunk-export-mode/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./main2'], function (main2) { 'use strict';
+define(['./main2'], (function (main2) { 'use strict';
 
 	main2();
 
-});
+}));
diff --git a/test/chunking-form/samples/entry-chunk-export-mode/_expected/amd/main2.js b/test/chunking-form/samples/entry-chunk-export-mode/_expected/amd/main2.js
index faf5c00a5..004b19f46 100644
--- a/test/chunking-form/samples/entry-chunk-export-mode/_expected/amd/main2.js
+++ b/test/chunking-form/samples/entry-chunk-export-mode/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
   function fn () {
     console.log('main fn');
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
   return fn;
 
-});
+}));
diff --git a/test/chunking-form/samples/entry-chunk-export-mode/_expected/system/main1.js b/test/chunking-form/samples/entry-chunk-export-mode/_expected/system/main1.js
index fe6d9ae5c..5f298efa7 100644
--- a/test/chunking-form/samples/entry-chunk-export-mode/_expected/system/main1.js
+++ b/test/chunking-form/samples/entry-chunk-export-mode/_expected/system/main1.js
@@ -1,14 +1,14 @@
-System.register(['./main2.js'], function () {
+System.register(['./main2.js'], (function () {
 	'use strict';
 	var fn;
 	return {
 		setters: [function (module) {
-			fn = module.default;
+			fn = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			fn();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entry-chunk-export-mode/_expected/system/main2.js b/test/chunking-form/samples/entry-chunk-export-mode/_expected/system/main2.js
index 94007ef73..fe7757e93 100644
--- a/test/chunking-form/samples/entry-chunk-export-mode/_expected/system/main2.js
+++ b/test/chunking-form/samples/entry-chunk-export-mode/_expected/system/main2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('default', fn);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('main fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/generated-m1.js b/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/generated-m1.js
index 6eb707769..d35d51c5e 100644
--- a/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/generated-m1.js
+++ b/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/generated-m1.js
@@ -1,4 +1,4 @@
-define(['exports', './m2'], function (exports, m2) { 'use strict';
+define(['exports', './m2'], (function (exports, m2) { 'use strict';
 
 	var ms = /*#__PURE__*/Object.freeze({
 		__proto__: null,
@@ -7,4 +7,4 @@ define(['exports', './m2'], function (exports, m2) { 'use strict';
 
 	exports.ms = ms;
 
-});
+}));
diff --git a/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/m1.js b/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/m1.js
index 8c152a685..1d023d3bc 100644
--- a/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/m1.js
+++ b/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/m1.js
@@ -1,4 +1,4 @@
-define(['exports', './m2'], function (exports, m2) { 'use strict';
+define(['exports', './m2'], (function (exports, m2) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './m2'], function (exports, m2) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/m2.js b/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/m2.js
index a0c374fb3..a57bfdbb6 100644
--- a/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/m2.js
+++ b/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/m2.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var m2 = 'm2';
 
 	return m2;
 
-});
+}));
diff --git a/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/main.js b/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/main.js
index 2a34eca48..bb1a0cb66 100644
--- a/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/main.js
+++ b/test/chunking-form/samples/entry-point-without-own-code/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-m1', './m2'], function (m1, m2) { 'use strict';
+define(['./generated-m1', './m2'], (function (m1, m2) { 'use strict';
 
 	console.log(m1.ms);
 
-});
+}));
diff --git a/test/chunking-form/samples/entry-point-without-own-code/_expected/system/generated-m1.js b/test/chunking-form/samples/entry-point-without-own-code/_expected/system/generated-m1.js
index b34ac3838..c13f54740 100644
--- a/test/chunking-form/samples/entry-point-without-own-code/_expected/system/generated-m1.js
+++ b/test/chunking-form/samples/entry-point-without-own-code/_expected/system/generated-m1.js
@@ -1,11 +1,11 @@
-System.register(['./m2.js'], function (exports) {
+System.register(['./m2.js'], (function (exports) {
 	'use strict';
 	var m2;
 	return {
 		setters: [function (module) {
-			m2 = module.default;
+			m2 = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var ms = /*#__PURE__*/Object.freeze({
 				__proto__: null,
@@ -13,6 +13,6 @@ System.register(['./m2.js'], function (exports) {
 			});
 			exports('m', ms);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entry-point-without-own-code/_expected/system/m1.js b/test/chunking-form/samples/entry-point-without-own-code/_expected/system/m1.js
index f96442871..9392db5c4 100644
--- a/test/chunking-form/samples/entry-point-without-own-code/_expected/system/m1.js
+++ b/test/chunking-form/samples/entry-point-without-own-code/_expected/system/m1.js
@@ -1,13 +1,13 @@
-System.register(['./m2.js'], function (exports) {
+System.register(['./m2.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('m2', module.default);
+			exports('m2', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entry-point-without-own-code/_expected/system/m2.js b/test/chunking-form/samples/entry-point-without-own-code/_expected/system/m2.js
index 99666912c..0c8362668 100644
--- a/test/chunking-form/samples/entry-point-without-own-code/_expected/system/m2.js
+++ b/test/chunking-form/samples/entry-point-without-own-code/_expected/system/m2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var m2 = exports('default', 'm2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entry-point-without-own-code/_expected/system/main.js b/test/chunking-form/samples/entry-point-without-own-code/_expected/system/main.js
index c2269622e..e3373c172 100644
--- a/test/chunking-form/samples/entry-point-without-own-code/_expected/system/main.js
+++ b/test/chunking-form/samples/entry-point-without-own-code/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./generated-m1.js', './m2.js'], function () {
+System.register(['./generated-m1.js', './m2.js'], (function () {
 	'use strict';
 	var ms;
 	return {
 		setters: [function (module) {
 			ms = module.m;
 		}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(ms);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entrypoint-aliasing/_expected/amd/generated-main2.js b/test/chunking-form/samples/entrypoint-aliasing/_expected/amd/generated-main2.js
index 4a5858c04..9643e93c5 100644
--- a/test/chunking-form/samples/entrypoint-aliasing/_expected/amd/generated-main2.js
+++ b/test/chunking-form/samples/entrypoint-aliasing/_expected/amd/generated-main2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   var dep = { x: 42 };
 
@@ -11,4 +11,4 @@ define(['exports'], function (exports) { 'use strict';
   exports.dep = dep;
   exports.log = log;
 
-});
+}));
diff --git a/test/chunking-form/samples/entrypoint-aliasing/_expected/amd/main1alias.js b/test/chunking-form/samples/entrypoint-aliasing/_expected/amd/main1alias.js
index c58fe8910..f2c65e8e5 100644
--- a/test/chunking-form/samples/entrypoint-aliasing/_expected/amd/main1alias.js
+++ b/test/chunking-form/samples/entrypoint-aliasing/_expected/amd/main1alias.js
@@ -1,5 +1,5 @@
-define(['./generated-main2'], function (main2alias) { 'use strict';
+define(['./generated-main2'], (function (main2alias) { 'use strict';
 
 	main2alias.log(main2alias.dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/entrypoint-aliasing/_expected/amd/main2alias.js b/test/chunking-form/samples/entrypoint-aliasing/_expected/amd/main2alias.js
index 61ab8e7d7..b582fed37 100644
--- a/test/chunking-form/samples/entrypoint-aliasing/_expected/amd/main2alias.js
+++ b/test/chunking-form/samples/entrypoint-aliasing/_expected/amd/main2alias.js
@@ -1,7 +1,7 @@
-define(['./generated-main2'], function (main2alias) { 'use strict';
+define(['./generated-main2'], (function (main2alias) { 'use strict';
 
 
 
 	return main2alias.log;
 
-});
+}));
diff --git a/test/chunking-form/samples/entrypoint-aliasing/_expected/system/generated-main2.js b/test/chunking-form/samples/entrypoint-aliasing/_expected/system/generated-main2.js
index 6ef9c75bc..b851ff002 100644
--- a/test/chunking-form/samples/entrypoint-aliasing/_expected/system/generated-main2.js
+++ b/test/chunking-form/samples/entrypoint-aliasing/_expected/system/generated-main2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('l', log);
 
@@ -13,6 +13,6 @@ System.register([], function (exports) {
         }
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/entrypoint-aliasing/_expected/system/main1alias.js b/test/chunking-form/samples/entrypoint-aliasing/_expected/system/main1alias.js
index 8eddd1df1..413fc99fd 100644
--- a/test/chunking-form/samples/entrypoint-aliasing/_expected/system/main1alias.js
+++ b/test/chunking-form/samples/entrypoint-aliasing/_expected/system/main1alias.js
@@ -1,4 +1,4 @@
-System.register(['./generated-main2.js'], function () {
+System.register(['./generated-main2.js'], (function () {
 	'use strict';
 	var log, dep;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-main2.js'], function () {
 			log = module.l;
 			dep = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			log(dep);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entrypoint-aliasing/_expected/system/main2alias.js b/test/chunking-form/samples/entrypoint-aliasing/_expected/system/main2alias.js
index 94afaca11..337ff510c 100644
--- a/test/chunking-form/samples/entrypoint-aliasing/_expected/system/main2alias.js
+++ b/test/chunking-form/samples/entrypoint-aliasing/_expected/system/main2alias.js
@@ -1,13 +1,13 @@
-System.register(['./generated-main2.js'], function (exports) {
+System.register(['./generated-main2.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('default', module.l);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entrypoint-facade/_expected/amd/generated-main2.js b/test/chunking-form/samples/entrypoint-facade/_expected/amd/generated-main2.js
index 4a5858c04..9643e93c5 100644
--- a/test/chunking-form/samples/entrypoint-facade/_expected/amd/generated-main2.js
+++ b/test/chunking-form/samples/entrypoint-facade/_expected/amd/generated-main2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   var dep = { x: 42 };
 
@@ -11,4 +11,4 @@ define(['exports'], function (exports) { 'use strict';
   exports.dep = dep;
   exports.log = log;
 
-});
+}));
diff --git a/test/chunking-form/samples/entrypoint-facade/_expected/amd/main1.js b/test/chunking-form/samples/entrypoint-facade/_expected/amd/main1.js
index b319e7ebf..d23070f5b 100644
--- a/test/chunking-form/samples/entrypoint-facade/_expected/amd/main1.js
+++ b/test/chunking-form/samples/entrypoint-facade/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-main2'], function (main2) { 'use strict';
+define(['./generated-main2'], (function (main2) { 'use strict';
 
 	main2.log(main2.dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/entrypoint-facade/_expected/amd/main2.js b/test/chunking-form/samples/entrypoint-facade/_expected/amd/main2.js
index e4a115ee8..9356f1aca 100644
--- a/test/chunking-form/samples/entrypoint-facade/_expected/amd/main2.js
+++ b/test/chunking-form/samples/entrypoint-facade/_expected/amd/main2.js
@@ -1,7 +1,7 @@
-define(['./generated-main2'], function (main2) { 'use strict';
+define(['./generated-main2'], (function (main2) { 'use strict';
 
 
 
 	return main2.log;
 
-});
+}));
diff --git a/test/chunking-form/samples/entrypoint-facade/_expected/system/generated-main2.js b/test/chunking-form/samples/entrypoint-facade/_expected/system/generated-main2.js
index 6ef9c75bc..b851ff002 100644
--- a/test/chunking-form/samples/entrypoint-facade/_expected/system/generated-main2.js
+++ b/test/chunking-form/samples/entrypoint-facade/_expected/system/generated-main2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('l', log);
 
@@ -13,6 +13,6 @@ System.register([], function (exports) {
         }
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/entrypoint-facade/_expected/system/main1.js b/test/chunking-form/samples/entrypoint-facade/_expected/system/main1.js
index 8eddd1df1..413fc99fd 100644
--- a/test/chunking-form/samples/entrypoint-facade/_expected/system/main1.js
+++ b/test/chunking-form/samples/entrypoint-facade/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-main2.js'], function () {
+System.register(['./generated-main2.js'], (function () {
 	'use strict';
 	var log, dep;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-main2.js'], function () {
 			log = module.l;
 			dep = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			log(dep);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/entrypoint-facade/_expected/system/main2.js b/test/chunking-form/samples/entrypoint-facade/_expected/system/main2.js
index 94afaca11..337ff510c 100644
--- a/test/chunking-form/samples/entrypoint-facade/_expected/system/main2.js
+++ b/test/chunking-form/samples/entrypoint-facade/_expected/system/main2.js
@@ -1,13 +1,13 @@
-System.register(['./generated-main2.js'], function (exports) {
+System.register(['./generated-main2.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('default', module.l);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/export-default-from-entry/_expected/amd/dep.js b/test/chunking-form/samples/export-default-from-entry/_expected/amd/dep.js
index 67abed68a..2a74cbbf4 100644
--- a/test/chunking-form/samples/export-default-from-entry/_expected/amd/dep.js
+++ b/test/chunking-form/samples/export-default-from-entry/_expected/amd/dep.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var dep = 42;
 
 	return dep;
 
-});
+}));
diff --git a/test/chunking-form/samples/export-default-from-entry/_expected/amd/main.js b/test/chunking-form/samples/export-default-from-entry/_expected/amd/main.js
index 515a0bbe1..c2aa7ff9a 100644
--- a/test/chunking-form/samples/export-default-from-entry/_expected/amd/main.js
+++ b/test/chunking-form/samples/export-default-from-entry/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './dep'], function (exports, dep) { 'use strict';
+define(['exports', './dep'], (function (exports, dep) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './dep'], function (exports, dep) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/export-default-from-entry/_expected/system/dep.js b/test/chunking-form/samples/export-default-from-entry/_expected/system/dep.js
index dcce373e5..4079b6dc5 100644
--- a/test/chunking-form/samples/export-default-from-entry/_expected/system/dep.js
+++ b/test/chunking-form/samples/export-default-from-entry/_expected/system/dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var dep = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/export-default-from-entry/_expected/system/main.js b/test/chunking-form/samples/export-default-from-entry/_expected/system/main.js
index 9e3ac3a6a..5f26b40b3 100644
--- a/test/chunking-form/samples/export-default-from-entry/_expected/system/main.js
+++ b/test/chunking-form/samples/export-default-from-entry/_expected/system/main.js
@@ -1,13 +1,13 @@
-System.register(['./dep.js'], function (exports) {
+System.register(['./dep.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('value', module.default);
+			exports('value', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/external-imports/_expected/amd/main-default.js b/test/chunking-form/samples/external-imports/_expected/amd/main-default.js
index 2b6c7688f..310c3d637 100644
--- a/test/chunking-form/samples/external-imports/_expected/amd/main-default.js
+++ b/test/chunking-form/samples/external-imports/_expected/amd/main-default.js
@@ -1,4 +1,4 @@
-define(['external-all', 'external-default', 'external-default-named', 'external-default-namespace'], function (foo, bar, baz, quux) { 'use strict';
+define(['external-all', 'external-default', 'external-default-named', 'external-default-namespace'], (function (foo, bar, baz, quux) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -7,6 +7,6 @@ define(['external-all', 'external-default', 'external-default-named', 'external-
 	var baz__default = /*#__PURE__*/_interopDefaultLegacy(baz);
 	var quux__default = /*#__PURE__*/_interopDefaultLegacy(quux);
 
-	console.log(foo__default['default'], bar__default['default'], baz__default['default'], quux__default['default']);
+	console.log(foo__default["default"], bar__default["default"], baz__default["default"], quux__default["default"]);
 
-});
+}));
diff --git a/test/chunking-form/samples/external-imports/_expected/amd/main-named.js b/test/chunking-form/samples/external-imports/_expected/amd/main-named.js
index f5a7f6572..cf7f2cb92 100644
--- a/test/chunking-form/samples/external-imports/_expected/amd/main-named.js
+++ b/test/chunking-form/samples/external-imports/_expected/amd/main-named.js
@@ -1,5 +1,5 @@
-define(['external-all', 'external-named', 'external-default-named', 'external-named-namespace'], function (foo, externalNamed, baz, quux) { 'use strict';
+define(['external-all', 'external-named', 'external-default-named', 'external-named-namespace'], (function (foo, externalNamed, baz, quux) { 'use strict';
 
 	console.log(foo.foo, externalNamed.bar, baz.baz, quux.quux);
 
-});
+}));
diff --git a/test/chunking-form/samples/external-imports/_expected/amd/main-namespace.js b/test/chunking-form/samples/external-imports/_expected/amd/main-namespace.js
index e038a7abe..84a600d4e 100644
--- a/test/chunking-form/samples/external-imports/_expected/amd/main-namespace.js
+++ b/test/chunking-form/samples/external-imports/_expected/amd/main-namespace.js
@@ -1,4 +1,4 @@
-define(['external-all', 'external-namespace', 'external-default-namespace', 'external-named-namespace'], function (foo, bar, quux, quux$1) { 'use strict';
+define(['external-all', 'external-namespace', 'external-default-namespace', 'external-named-namespace'], (function (foo, bar, quux, quux$1) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,14 +9,12 @@ define(['external-all', 'external-namespace', 'external-default-namespace', 'ext
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -27,4 +25,4 @@ define(['external-all', 'external-namespace', 'external-default-namespace', 'ext
 
 	console.log(foo__namespace, bar__namespace, quux__namespace, quux__namespace$1);
 
-});
+}));
diff --git a/test/chunking-form/samples/external-imports/_expected/cjs/main-default.js b/test/chunking-form/samples/external-imports/_expected/cjs/main-default.js
index e4f08d36e..ebc954bc5 100644
--- a/test/chunking-form/samples/external-imports/_expected/cjs/main-default.js
+++ b/test/chunking-form/samples/external-imports/_expected/cjs/main-default.js
@@ -12,4 +12,4 @@ var bar__default = /*#__PURE__*/_interopDefaultLegacy(bar);
 var baz__default = /*#__PURE__*/_interopDefaultLegacy(baz);
 var quux__default = /*#__PURE__*/_interopDefaultLegacy(quux);
 
-console.log(foo__default['default'], bar__default['default'], baz__default['default'], quux__default['default']);
+console.log(foo__default["default"], bar__default["default"], baz__default["default"], quux__default["default"]);
diff --git a/test/chunking-form/samples/external-imports/_expected/cjs/main-namespace.js b/test/chunking-form/samples/external-imports/_expected/cjs/main-namespace.js
index 0417d88a1..c1c2a19ff 100644
--- a/test/chunking-form/samples/external-imports/_expected/cjs/main-namespace.js
+++ b/test/chunking-form/samples/external-imports/_expected/cjs/main-namespace.js
@@ -14,14 +14,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/chunking-form/samples/external-imports/_expected/system/main-default.js b/test/chunking-form/samples/external-imports/_expected/system/main-default.js
index b21f670e5..bce693edd 100644
--- a/test/chunking-form/samples/external-imports/_expected/system/main-default.js
+++ b/test/chunking-form/samples/external-imports/_expected/system/main-default.js
@@ -1,20 +1,20 @@
-System.register(['external-all', 'external-default', 'external-default-named', 'external-default-namespace'], function () {
+System.register(['external-all', 'external-default', 'external-default-named', 'external-default-namespace'], (function () {
 	'use strict';
 	var foo__default, bar, baz, quux__default;
 	return {
 		setters: [function (module) {
-			foo__default = module.default;
+			foo__default = module["default"];
 		}, function (module) {
-			bar = module.default;
+			bar = module["default"];
 		}, function (module) {
-			baz = module.default;
+			baz = module["default"];
 		}, function (module) {
-			quux__default = module.default;
+			quux__default = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo__default, bar, baz, quux__default);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/external-imports/_expected/system/main-named.js b/test/chunking-form/samples/external-imports/_expected/system/main-named.js
index ae0b81897..d5deb31fb 100644
--- a/test/chunking-form/samples/external-imports/_expected/system/main-named.js
+++ b/test/chunking-form/samples/external-imports/_expected/system/main-named.js
@@ -1,4 +1,4 @@
-System.register(['external-all', 'external-named', 'external-default-named', 'external-named-namespace'], function () {
+System.register(['external-all', 'external-named', 'external-default-named', 'external-named-namespace'], (function () {
 	'use strict';
 	var foo, bar, baz, quux;
 	return {
@@ -11,10 +11,10 @@ System.register(['external-all', 'external-named', 'external-default-named', 'ex
 		}, function (module) {
 			quux = module.quux;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, bar, baz, quux);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/external-imports/_expected/system/main-namespace.js b/test/chunking-form/samples/external-imports/_expected/system/main-namespace.js
index efb58b888..7386dc73f 100644
--- a/test/chunking-form/samples/external-imports/_expected/system/main-namespace.js
+++ b/test/chunking-form/samples/external-imports/_expected/system/main-namespace.js
@@ -1,4 +1,4 @@
-System.register(['external-all', 'external-namespace', 'external-default-namespace', 'external-named-namespace'], function () {
+System.register(['external-all', 'external-namespace', 'external-default-namespace', 'external-named-namespace'], (function () {
 	'use strict';
 	var foo, bar, quux, quux$1;
 	return {
@@ -11,10 +11,10 @@ System.register(['external-all', 'external-namespace', 'external-default-namespa
 		}, function (module) {
 			quux$1 = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, bar, quux, quux$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/external-reexports/_expected/amd/main-default.js b/test/chunking-form/samples/external-reexports/_expected/amd/main-default.js
index f12fde932..6d09505a8 100644
--- a/test/chunking-form/samples/external-reexports/_expected/amd/main-default.js
+++ b/test/chunking-form/samples/external-reexports/_expected/amd/main-default.js
@@ -1,4 +1,4 @@
-define(['exports', 'external-all', 'external-default', 'external-default-named', 'external-default-namespace'], function (exports, externalAll, externalDefault, externalDefaultNamed, externalDefaultNamespace) { 'use strict';
+define(['exports', 'external-all', 'external-default', 'external-default-named', 'external-default-namespace'], (function (exports, externalAll, externalDefault, externalDefaultNamed, externalDefaultNamespace) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -11,29 +11,21 @@ define(['exports', 'external-all', 'external-default', 'external-default-named',
 
 	Object.defineProperty(exports, 'foo', {
 		enumerable: true,
-		get: function () {
-			return externalAll__default['default'];
-		}
+		get: function () { return externalAll__default["default"]; }
 	});
 	Object.defineProperty(exports, 'bar', {
 		enumerable: true,
-		get: function () {
-			return externalDefault__default['default'];
-		}
+		get: function () { return externalDefault__default["default"]; }
 	});
 	Object.defineProperty(exports, 'baz', {
 		enumerable: true,
-		get: function () {
-			return externalDefaultNamed__default['default'];
-		}
+		get: function () { return externalDefaultNamed__default["default"]; }
 	});
 	Object.defineProperty(exports, 'quux', {
 		enumerable: true,
-		get: function () {
-			return externalDefaultNamespace__default['default'];
-		}
+		get: function () { return externalDefaultNamespace__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/external-reexports/_expected/amd/main-named.js b/test/chunking-form/samples/external-reexports/_expected/amd/main-named.js
index 28207c22d..891e382af 100644
--- a/test/chunking-form/samples/external-reexports/_expected/amd/main-named.js
+++ b/test/chunking-form/samples/external-reexports/_expected/amd/main-named.js
@@ -1,32 +1,24 @@
-define(['exports', 'external-all', 'external-named', 'external-default-named', 'external-named-namespace'], function (exports, externalAll, externalNamed, externalDefaultNamed, externalNamedNamespace) { 'use strict';
+define(['exports', 'external-all', 'external-named', 'external-default-named', 'external-named-namespace'], (function (exports, externalAll, externalNamed, externalDefaultNamed, externalNamedNamespace) { 'use strict';
 
 
 
 	Object.defineProperty(exports, 'foo', {
 		enumerable: true,
-		get: function () {
-			return externalAll.foo;
-		}
+		get: function () { return externalAll.foo; }
 	});
 	Object.defineProperty(exports, 'bar', {
 		enumerable: true,
-		get: function () {
-			return externalNamed.bar;
-		}
+		get: function () { return externalNamed.bar; }
 	});
 	Object.defineProperty(exports, 'baz', {
 		enumerable: true,
-		get: function () {
-			return externalDefaultNamed.baz;
-		}
+		get: function () { return externalDefaultNamed.baz; }
 	});
 	Object.defineProperty(exports, 'quux', {
 		enumerable: true,
-		get: function () {
-			return externalNamedNamespace.quux;
-		}
+		get: function () { return externalNamedNamespace.quux; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/external-reexports/_expected/amd/main-namespace.js b/test/chunking-form/samples/external-reexports/_expected/amd/main-namespace.js
index 255a9264b..8f2c2e7c1 100644
--- a/test/chunking-form/samples/external-reexports/_expected/amd/main-namespace.js
+++ b/test/chunking-form/samples/external-reexports/_expected/amd/main-namespace.js
@@ -1,4 +1,4 @@
-define(['exports', 'external-all', 'external-namespace', 'external-default-namespace', 'external-named-namespace'], function (exports, externalAll, externalNamespace$1, externalDefaultNamespace, externalNamedNamespace) { 'use strict';
+define(['exports', 'external-all', 'external-namespace', 'external-default-namespace', 'external-named-namespace'], (function (exports, externalAll, externalNamespace$1, externalDefaultNamespace, externalNamedNamespace) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,14 +9,12 @@ define(['exports', 'external-all', 'external-namespace', 'external-default-names
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -36,4 +34,4 @@ define(['exports', 'external-all', 'external-namespace', 'external-default-names
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/external-reexports/_expected/cjs/main-default.js b/test/chunking-form/samples/external-reexports/_expected/cjs/main-default.js
index 4ebf12cb6..6dbeccd65 100644
--- a/test/chunking-form/samples/external-reexports/_expected/cjs/main-default.js
+++ b/test/chunking-form/samples/external-reexports/_expected/cjs/main-default.js
@@ -18,25 +18,17 @@ var externalDefaultNamespace__default = /*#__PURE__*/_interopDefaultLegacy(exter
 
 Object.defineProperty(exports, 'foo', {
 	enumerable: true,
-	get: function () {
-		return externalAll__default['default'];
-	}
+	get: function () { return externalAll__default["default"]; }
 });
 Object.defineProperty(exports, 'bar', {
 	enumerable: true,
-	get: function () {
-		return externalDefault__default['default'];
-	}
+	get: function () { return externalDefault__default["default"]; }
 });
 Object.defineProperty(exports, 'baz', {
 	enumerable: true,
-	get: function () {
-		return externalDefaultNamed__default['default'];
-	}
+	get: function () { return externalDefaultNamed__default["default"]; }
 });
 Object.defineProperty(exports, 'quux', {
 	enumerable: true,
-	get: function () {
-		return externalDefaultNamespace__default['default'];
-	}
+	get: function () { return externalDefaultNamespace__default["default"]; }
 });
diff --git a/test/chunking-form/samples/external-reexports/_expected/cjs/main-named.js b/test/chunking-form/samples/external-reexports/_expected/cjs/main-named.js
index 15dc96d6d..bc69060bc 100644
--- a/test/chunking-form/samples/external-reexports/_expected/cjs/main-named.js
+++ b/test/chunking-form/samples/external-reexports/_expected/cjs/main-named.js
@@ -11,25 +11,17 @@ var externalNamedNamespace = require('external-named-namespace');
 
 Object.defineProperty(exports, 'foo', {
 	enumerable: true,
-	get: function () {
-		return externalAll.foo;
-	}
+	get: function () { return externalAll.foo; }
 });
 Object.defineProperty(exports, 'bar', {
 	enumerable: true,
-	get: function () {
-		return externalNamed.bar;
-	}
+	get: function () { return externalNamed.bar; }
 });
 Object.defineProperty(exports, 'baz', {
 	enumerable: true,
-	get: function () {
-		return externalDefaultNamed.baz;
-	}
+	get: function () { return externalDefaultNamed.baz; }
 });
 Object.defineProperty(exports, 'quux', {
 	enumerable: true,
-	get: function () {
-		return externalNamedNamespace.quux;
-	}
+	get: function () { return externalNamedNamespace.quux; }
 });
diff --git a/test/chunking-form/samples/external-reexports/_expected/cjs/main-namespace.js b/test/chunking-form/samples/external-reexports/_expected/cjs/main-namespace.js
index 8d3df6ca7..ca9c5e61a 100644
--- a/test/chunking-form/samples/external-reexports/_expected/cjs/main-namespace.js
+++ b/test/chunking-form/samples/external-reexports/_expected/cjs/main-namespace.js
@@ -16,14 +16,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/chunking-form/samples/external-reexports/_expected/system/main-default.js b/test/chunking-form/samples/external-reexports/_expected/system/main-default.js
index 593a7453e..63648f846 100644
--- a/test/chunking-form/samples/external-reexports/_expected/system/main-default.js
+++ b/test/chunking-form/samples/external-reexports/_expected/system/main-default.js
@@ -1,19 +1,19 @@
-System.register(['external-all', 'external-default', 'external-default-named', 'external-default-namespace'], function (exports) {
+System.register(['external-all', 'external-default', 'external-default-named', 'external-default-namespace'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('foo', module.default);
+			exports('foo', module["default"]);
 		}, function (module) {
-			exports('bar', module.default);
+			exports('bar', module["default"]);
 		}, function (module) {
-			exports('baz', module.default);
+			exports('baz', module["default"]);
 		}, function (module) {
-			exports('quux', module.default);
+			exports('quux', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/external-reexports/_expected/system/main-named.js b/test/chunking-form/samples/external-reexports/_expected/system/main-named.js
index c0d4f81aa..bd9a89eed 100644
--- a/test/chunking-form/samples/external-reexports/_expected/system/main-named.js
+++ b/test/chunking-form/samples/external-reexports/_expected/system/main-named.js
@@ -1,4 +1,4 @@
-System.register(['external-all', 'external-named', 'external-default-named', 'external-named-namespace'], function (exports) {
+System.register(['external-all', 'external-named', 'external-default-named', 'external-named-namespace'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
@@ -10,10 +10,10 @@ System.register(['external-all', 'external-named', 'external-default-named', 'ex
 		}, function (module) {
 			exports('quux', module.quux);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/external-reexports/_expected/system/main-namespace.js b/test/chunking-form/samples/external-reexports/_expected/system/main-namespace.js
index 0116bef7a..2b8037ae8 100644
--- a/test/chunking-form/samples/external-reexports/_expected/system/main-namespace.js
+++ b/test/chunking-form/samples/external-reexports/_expected/system/main-namespace.js
@@ -1,4 +1,4 @@
-System.register(['external-all', 'external-namespace', 'external-default-namespace', 'external-named-namespace'], function (exports) {
+System.register(['external-all', 'external-namespace', 'external-default-namespace', 'external-named-namespace'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
@@ -10,12 +10,12 @@ System.register(['external-all', 'external-namespace', 'external-default-namespa
 		}, function (module) {
 			exports('quux', module);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const externalNamespace = 1;
 			const externalNamespace__ns = 1;
 			console.log(externalNamespace, externalNamespace__ns);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/filenames-patterns/_expected/amd/chunk-main2-6a714ad3-amd.js b/test/chunking-form/samples/filenames-patterns/_expected/amd/chunk-main2-6a714ad3-amd.js
index 4a5858c04..9643e93c5 100644
--- a/test/chunking-form/samples/filenames-patterns/_expected/amd/chunk-main2-6a714ad3-amd.js
+++ b/test/chunking-form/samples/filenames-patterns/_expected/amd/chunk-main2-6a714ad3-amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   var dep = { x: 42 };
 
@@ -11,4 +11,4 @@ define(['exports'], function (exports) { 'use strict';
   exports.dep = dep;
   exports.log = log;
 
-});
+}));
diff --git a/test/chunking-form/samples/filenames-patterns/_expected/amd/entry-main1-f47d0370-amd.js b/test/chunking-form/samples/filenames-patterns/_expected/amd/entry-main1-f47d0370-amd.js
index 2c10541ae..6614c42f9 100644
--- a/test/chunking-form/samples/filenames-patterns/_expected/amd/entry-main1-f47d0370-amd.js
+++ b/test/chunking-form/samples/filenames-patterns/_expected/amd/entry-main1-f47d0370-amd.js
@@ -1,5 +1,5 @@
-define(['./chunk-main2-6a714ad3-amd'], function (main2) { 'use strict';
+define(['./chunk-main2-6a714ad3-amd'], (function (main2) { 'use strict';
 
 	main2.log(main2.dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/filenames-patterns/_expected/amd/entry-main2-4db8cd0c-amd.js b/test/chunking-form/samples/filenames-patterns/_expected/amd/entry-main2-4db8cd0c-amd.js
index 34d0dd281..080df3846 100644
--- a/test/chunking-form/samples/filenames-patterns/_expected/amd/entry-main2-4db8cd0c-amd.js
+++ b/test/chunking-form/samples/filenames-patterns/_expected/amd/entry-main2-4db8cd0c-amd.js
@@ -1,7 +1,7 @@
-define(['./chunk-main2-6a714ad3-amd'], function (main2) { 'use strict';
+define(['./chunk-main2-6a714ad3-amd'], (function (main2) { 'use strict';
 
 
 
 	return main2.log;
 
-});
+}));
diff --git a/test/chunking-form/samples/filenames-patterns/_expected/system/chunk-main2-97f5caac-system.js b/test/chunking-form/samples/filenames-patterns/_expected/system/chunk-main2-97f5caac-system.js
index 6ef9c75bc..b851ff002 100644
--- a/test/chunking-form/samples/filenames-patterns/_expected/system/chunk-main2-97f5caac-system.js
+++ b/test/chunking-form/samples/filenames-patterns/_expected/system/chunk-main2-97f5caac-system.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('l', log);
 
@@ -13,6 +13,6 @@ System.register([], function (exports) {
         }
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/filenames-patterns/_expected/system/entry-main1-e6585a3e-system.js b/test/chunking-form/samples/filenames-patterns/_expected/system/entry-main1-e6585a3e-system.js
index 63ae6a968..62b088bf1 100644
--- a/test/chunking-form/samples/filenames-patterns/_expected/system/entry-main1-e6585a3e-system.js
+++ b/test/chunking-form/samples/filenames-patterns/_expected/system/entry-main1-e6585a3e-system.js
@@ -1,4 +1,4 @@
-System.register(['./chunk-main2-97f5caac-system.js'], function () {
+System.register(['./chunk-main2-97f5caac-system.js'], (function () {
 	'use strict';
 	var log, dep;
 	return {
@@ -6,10 +6,10 @@ System.register(['./chunk-main2-97f5caac-system.js'], function () {
 			log = module.l;
 			dep = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			log(dep);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/filenames-patterns/_expected/system/entry-main2-2e964c97-system.js b/test/chunking-form/samples/filenames-patterns/_expected/system/entry-main2-2e964c97-system.js
index e36c442c5..0f325c8f3 100644
--- a/test/chunking-form/samples/filenames-patterns/_expected/system/entry-main2-2e964c97-system.js
+++ b/test/chunking-form/samples/filenames-patterns/_expected/system/entry-main2-2e964c97-system.js
@@ -1,13 +1,13 @@
-System.register(['./chunk-main2-97f5caac-system.js'], function (exports) {
+System.register(['./chunk-main2-97f5caac-system.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('default', module.l);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_config.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_config.js
new file mode 100644
index 000000000..dd376d6ae
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_config.js
@@ -0,0 +1,9 @@
+module.exports = {
+	description: 'does not use arrow functions',
+	options: {
+		input: ['main', 'main2'],
+		output: {
+			generatedCode: { arrowFunctions: false }
+		}
+	}
+};
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/amd/generated-dep1.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/amd/generated-dep1.js
new file mode 100644
index 000000000..12280c586
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/amd/generated-dep1.js
@@ -0,0 +1,17 @@
+define(['exports'], (function (exports) { 'use strict';
+
+	const foo = 'dep2';
+	Promise.resolve().then(function () { return dep1; }).then(console.log);
+
+	const bar = 'dep1' + foo;
+
+	var dep1 = /*#__PURE__*/Object.freeze({
+		__proto__: null,
+		bar: bar
+	});
+
+	exports.bar = bar;
+	exports.dep1 = dep1;
+	exports.foo = foo;
+
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/amd/main.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/amd/main.js
new file mode 100644
index 000000000..020c82b84
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/amd/main.js
@@ -0,0 +1,5 @@
+define(['./generated-dep1'], (function (dep1) { 'use strict';
+
+	console.log(dep1.foo, dep1.bar);
+
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/amd/main2.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/amd/main2.js
new file mode 100644
index 000000000..9d28ca7ea
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/amd/main2.js
@@ -0,0 +1,5 @@
+define(['require'], (function (require) { 'use strict';
+
+	new Promise(function (resolve, reject) { require(['./generated-dep1'], resolve, reject); }).then(function (n) { return n.dep1; }).then(console.log);
+
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/cjs/generated-dep1.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/cjs/generated-dep1.js
new file mode 100644
index 000000000..8f3d5eb15
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/cjs/generated-dep1.js
@@ -0,0 +1,15 @@
+'use strict';
+
+const foo = 'dep2';
+Promise.resolve().then(function () { return dep1; }).then(console.log);
+
+const bar = 'dep1' + foo;
+
+var dep1 = /*#__PURE__*/Object.freeze({
+	__proto__: null,
+	bar: bar
+});
+
+exports.bar = bar;
+exports.dep1 = dep1;
+exports.foo = foo;
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/cjs/main.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/cjs/main.js
new file mode 100644
index 000000000..f83f3d29a
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/cjs/main.js
@@ -0,0 +1,5 @@
+'use strict';
+
+var dep1 = require('./generated-dep1.js');
+
+console.log(dep1.foo, dep1.bar);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/cjs/main2.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/cjs/main2.js
new file mode 100644
index 000000000..0d5634c4b
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/cjs/main2.js
@@ -0,0 +1,3 @@
+'use strict';
+
+Promise.resolve().then(function () { return require('./generated-dep1.js'); }).then(function (n) { return n.dep1; }).then(console.log);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/es/generated-dep1.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/es/generated-dep1.js
new file mode 100644
index 000000000..777089210
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/es/generated-dep1.js
@@ -0,0 +1,11 @@
+const foo = 'dep2';
+Promise.resolve().then(function () { return dep1; }).then(console.log);
+
+const bar = 'dep1' + foo;
+
+var dep1 = /*#__PURE__*/Object.freeze({
+	__proto__: null,
+	bar: bar
+});
+
+export { bar as b, dep1 as d, foo as f };
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/es/main.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/es/main.js
new file mode 100644
index 000000000..d4995f06f
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/es/main.js
@@ -0,0 +1,3 @@
+import { f as foo, b as bar } from './generated-dep1.js';
+
+console.log(foo, bar);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/es/main2.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/es/main2.js
new file mode 100644
index 000000000..c40c03697
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/es/main2.js
@@ -0,0 +1 @@
+import('./generated-dep1.js').then(function (n) { return n.d; }).then(console.log);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/system/generated-dep1.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/system/generated-dep1.js
new file mode 100644
index 000000000..367d5b1c8
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/system/generated-dep1.js
@@ -0,0 +1,19 @@
+System.register([], (function (exports) {
+	'use strict';
+	return {
+		execute: (function () {
+
+			const foo = exports('f', 'dep2');
+			Promise.resolve().then(function () { return dep1; }).then(console.log);
+
+			const bar = exports('b', 'dep1' + foo);
+
+			var dep1 = /*#__PURE__*/Object.freeze({
+				__proto__: null,
+				bar: bar
+			});
+			exports('d', dep1);
+
+		})
+	};
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/system/main.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/system/main.js
new file mode 100644
index 000000000..0d25b49f4
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/system/main.js
@@ -0,0 +1,15 @@
+System.register(['./generated-dep1.js'], (function () {
+	'use strict';
+	var foo, bar;
+	return {
+		setters: [function (module) {
+			foo = module.f;
+			bar = module.b;
+		}],
+		execute: (function () {
+
+			console.log(foo, bar);
+
+		})
+	};
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/system/main2.js b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/system/main2.js
new file mode 100644
index 000000000..0c3776f68
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/_expected/system/main2.js
@@ -0,0 +1,10 @@
+System.register([], (function (exports, module) {
+	'use strict';
+	return {
+		execute: (function () {
+
+			module.import('./generated-dep1.js').then(function (n) { return n.d; }).then(console.log);
+
+		})
+	};
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/dep1.js b/test/chunking-form/samples/generated-code/arrow-functions-false/dep1.js
new file mode 100644
index 000000000..a21ddc4ef
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/dep1.js
@@ -0,0 +1,2 @@
+import { foo } from './dep2.js';
+export const bar = 'dep1' + foo;
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/dep2.js b/test/chunking-form/samples/generated-code/arrow-functions-false/dep2.js
new file mode 100644
index 000000000..0afb618e5
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/dep2.js
@@ -0,0 +1,2 @@
+export const foo = 'dep2';
+import('./dep1.js').then(console.log);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/main.js b/test/chunking-form/samples/generated-code/arrow-functions-false/main.js
new file mode 100644
index 000000000..46ce26738
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/main.js
@@ -0,0 +1,4 @@
+import { bar } from './dep1.js';
+import { foo } from './dep2.js';
+
+console.log(foo, bar);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-false/main2.js b/test/chunking-form/samples/generated-code/arrow-functions-false/main2.js
new file mode 100644
index 000000000..5fe43355d
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-false/main2.js
@@ -0,0 +1 @@
+import('./dep1.js').then(console.log);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_config.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_config.js
new file mode 100644
index 000000000..3b00bf4c3
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_config.js
@@ -0,0 +1,9 @@
+module.exports = {
+	description: 'uses arrow functions',
+	options: {
+		input: ['main', 'main2'],
+		output: {
+			generatedCode: { arrowFunctions: true }
+		}
+	}
+};
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/amd/generated-dep1.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/amd/generated-dep1.js
new file mode 100644
index 000000000..df06ecfa8
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/amd/generated-dep1.js
@@ -0,0 +1,17 @@
+define(['exports'], (function (exports) { 'use strict';
+
+	const foo = 'dep2';
+	Promise.resolve().then(() => dep1).then(console.log);
+
+	const bar = 'dep1' + foo;
+
+	var dep1 = /*#__PURE__*/Object.freeze({
+		__proto__: null,
+		bar: bar
+	});
+
+	exports.bar = bar;
+	exports.dep1 = dep1;
+	exports.foo = foo;
+
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/amd/main.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/amd/main.js
new file mode 100644
index 000000000..020c82b84
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/amd/main.js
@@ -0,0 +1,5 @@
+define(['./generated-dep1'], (function (dep1) { 'use strict';
+
+	console.log(dep1.foo, dep1.bar);
+
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/amd/main2.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/amd/main2.js
new file mode 100644
index 000000000..8d1097019
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/amd/main2.js
@@ -0,0 +1,5 @@
+define(['require'], (function (require) { 'use strict';
+
+	new Promise((resolve, reject) => require(['./generated-dep1'], resolve, reject)).then(n => n.dep1).then(console.log);
+
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/cjs/generated-dep1.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/cjs/generated-dep1.js
new file mode 100644
index 000000000..86631565e
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/cjs/generated-dep1.js
@@ -0,0 +1,15 @@
+'use strict';
+
+const foo = 'dep2';
+Promise.resolve().then(() => dep1).then(console.log);
+
+const bar = 'dep1' + foo;
+
+var dep1 = /*#__PURE__*/Object.freeze({
+	__proto__: null,
+	bar: bar
+});
+
+exports.bar = bar;
+exports.dep1 = dep1;
+exports.foo = foo;
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/cjs/main.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/cjs/main.js
new file mode 100644
index 000000000..f83f3d29a
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/cjs/main.js
@@ -0,0 +1,5 @@
+'use strict';
+
+var dep1 = require('./generated-dep1.js');
+
+console.log(dep1.foo, dep1.bar);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/cjs/main2.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/cjs/main2.js
new file mode 100644
index 000000000..c1864a84c
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/cjs/main2.js
@@ -0,0 +1,3 @@
+'use strict';
+
+Promise.resolve().then(() => require('./generated-dep1.js')).then(n => n.dep1).then(console.log);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/es/generated-dep1.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/es/generated-dep1.js
new file mode 100644
index 000000000..455a57ee3
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/es/generated-dep1.js
@@ -0,0 +1,11 @@
+const foo = 'dep2';
+Promise.resolve().then(() => dep1).then(console.log);
+
+const bar = 'dep1' + foo;
+
+var dep1 = /*#__PURE__*/Object.freeze({
+	__proto__: null,
+	bar: bar
+});
+
+export { bar as b, dep1 as d, foo as f };
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/es/main.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/es/main.js
new file mode 100644
index 000000000..d4995f06f
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/es/main.js
@@ -0,0 +1,3 @@
+import { f as foo, b as bar } from './generated-dep1.js';
+
+console.log(foo, bar);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/es/main2.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/es/main2.js
new file mode 100644
index 000000000..dcba6f649
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/es/main2.js
@@ -0,0 +1 @@
+import('./generated-dep1.js').then(n => n.d).then(console.log);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/system/generated-dep1.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/system/generated-dep1.js
new file mode 100644
index 000000000..b51a6c394
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/system/generated-dep1.js
@@ -0,0 +1,19 @@
+System.register([], (function (exports) {
+	'use strict';
+	return {
+		execute: (function () {
+
+			const foo = exports('f', 'dep2');
+			Promise.resolve().then(() => dep1).then(console.log);
+
+			const bar = exports('b', 'dep1' + foo);
+
+			var dep1 = /*#__PURE__*/Object.freeze({
+				__proto__: null,
+				bar: bar
+			});
+			exports('d', dep1);
+
+		})
+	};
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/system/main.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/system/main.js
new file mode 100644
index 000000000..e3ababbe3
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/system/main.js
@@ -0,0 +1,15 @@
+System.register(['./generated-dep1.js'], (function () {
+	'use strict';
+	var foo, bar;
+	return {
+		setters: [module => {
+			foo = module.f;
+			bar = module.b;
+		}],
+		execute: (function () {
+
+			console.log(foo, bar);
+
+		})
+	};
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/system/main2.js b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/system/main2.js
new file mode 100644
index 000000000..bfe7a6c93
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/_expected/system/main2.js
@@ -0,0 +1,10 @@
+System.register([], (function (exports, module) {
+	'use strict';
+	return {
+		execute: (function () {
+
+			module.import('./generated-dep1.js').then(n => n.d).then(console.log);
+
+		})
+	};
+}));
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/dep1.js b/test/chunking-form/samples/generated-code/arrow-functions-true/dep1.js
new file mode 100644
index 000000000..a21ddc4ef
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/dep1.js
@@ -0,0 +1,2 @@
+import { foo } from './dep2.js';
+export const bar = 'dep1' + foo;
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/dep2.js b/test/chunking-form/samples/generated-code/arrow-functions-true/dep2.js
new file mode 100644
index 000000000..0afb618e5
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/dep2.js
@@ -0,0 +1,2 @@
+export const foo = 'dep2';
+import('./dep1.js').then(console.log);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/main.js b/test/chunking-form/samples/generated-code/arrow-functions-true/main.js
new file mode 100644
index 000000000..46ce26738
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/main.js
@@ -0,0 +1,4 @@
+import { bar } from './dep1.js';
+import { foo } from './dep2.js';
+
+console.log(foo, bar);
diff --git a/test/chunking-form/samples/generated-code/arrow-functions-true/main2.js b/test/chunking-form/samples/generated-code/arrow-functions-true/main2.js
new file mode 100644
index 000000000..5fe43355d
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/arrow-functions-true/main2.js
@@ -0,0 +1 @@
+import('./dep1.js').then(console.log);
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_config.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_config.js
new file mode 100644
index 000000000..8aa9eb1f2
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_config.js
@@ -0,0 +1,12 @@
+module.exports = {
+	description: 'escapes reserved names used as props',
+	options: {
+		input: ['main', 'main2'],
+		external: ['external'],
+		output: {
+			exports: 'named',
+			generatedCode: { reservedNamesAsProps: false },
+			name: 'bundle'
+		}
+	}
+};
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/amd/main.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/amd/main.js
new file mode 100644
index 000000000..5779adef5
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/amd/main.js
@@ -0,0 +1,9 @@
+define(['exports', './main2'], (function (exports, main2) { 'use strict';
+
+
+
+	exports.foo = main2["default"];
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/amd/main2.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/amd/main2.js
new file mode 100644
index 000000000..f72ff95d4
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/amd/main2.js
@@ -0,0 +1,9 @@
+define(['exports'], (function (exports) { 'use strict';
+
+	var main2 = 42;
+
+	exports["default"] = main2;
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/cjs/main.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/cjs/main.js
new file mode 100644
index 000000000..f14366b62
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/cjs/main.js
@@ -0,0 +1,9 @@
+'use strict';
+
+Object.defineProperty(exports, '__esModule', { value: true });
+
+var main2 = require('./main2.js');
+
+
+
+exports.foo = main2["default"];
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/cjs/main2.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/cjs/main2.js
new file mode 100644
index 000000000..0b290f658
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/cjs/main2.js
@@ -0,0 +1,7 @@
+'use strict';
+
+Object.defineProperty(exports, '__esModule', { value: true });
+
+var main2 = 42;
+
+exports["default"] = main2;
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/es/main.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/es/main.js
new file mode 100644
index 000000000..5e54d802c
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/es/main.js
@@ -0,0 +1 @@
+export { default as foo } from './main2.js';
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/es/main2.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/es/main2.js
new file mode 100644
index 000000000..51f64f011
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/es/main2.js
@@ -0,0 +1,3 @@
+var main2 = 42;
+
+export { main2 as default };
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/system/main.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/system/main.js
new file mode 100644
index 000000000..1c338e638
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/system/main.js
@@ -0,0 +1,13 @@
+System.register('bundle', ['./main2.js'], (function (exports) {
+	'use strict';
+	return {
+		setters: [function (module) {
+			exports('foo', module["default"]);
+		}],
+		execute: (function () {
+
+
+
+		})
+	};
+}));
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/system/main2.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/system/main2.js
new file mode 100644
index 000000000..77ae682b8
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/_expected/system/main2.js
@@ -0,0 +1,10 @@
+System.register('bundle', [], (function (exports) {
+	'use strict';
+	return {
+		execute: (function () {
+
+			var main2 = exports('default', 42);
+
+		})
+	};
+}));
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-false/main.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/main.js
new file mode 100644
index 000000000..5e54d802c
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/main.js
@@ -0,0 +1 @@
+export { default as foo } from './main2.js';
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-false/main2.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/main2.js
new file mode 100644
index 000000000..7a4e8a723
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-false/main2.js
@@ -0,0 +1 @@
+export default 42;
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_config.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_config.js
new file mode 100644
index 000000000..e14274303
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_config.js
@@ -0,0 +1,12 @@
+module.exports = {
+	description: 'escapes reserved names used as props',
+	options: {
+		input: ['main', 'main2'],
+		external: ['external'],
+		output: {
+			exports: 'named',
+			generatedCode: { reservedNamesAsProps: true },
+			name: 'bundle'
+		}
+	}
+};
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/amd/main.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/amd/main.js
new file mode 100644
index 000000000..14123895c
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/amd/main.js
@@ -0,0 +1,9 @@
+define(['exports', './main2'], (function (exports, main2) { 'use strict';
+
+
+
+	exports.foo = main2.default;
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/amd/main2.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/amd/main2.js
new file mode 100644
index 000000000..f1de07c93
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/amd/main2.js
@@ -0,0 +1,9 @@
+define(['exports'], (function (exports) { 'use strict';
+
+	var main2 = 42;
+
+	exports.default = main2;
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/cjs/main.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/cjs/main.js
new file mode 100644
index 000000000..4a0da3bc2
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/cjs/main.js
@@ -0,0 +1,9 @@
+'use strict';
+
+Object.defineProperty(exports, '__esModule', { value: true });
+
+var main2 = require('./main2.js');
+
+
+
+exports.foo = main2.default;
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/cjs/main2.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/cjs/main2.js
new file mode 100644
index 000000000..28c25bb83
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/cjs/main2.js
@@ -0,0 +1,7 @@
+'use strict';
+
+Object.defineProperty(exports, '__esModule', { value: true });
+
+var main2 = 42;
+
+exports.default = main2;
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/es/main.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/es/main.js
new file mode 100644
index 000000000..5e54d802c
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/es/main.js
@@ -0,0 +1 @@
+export { default as foo } from './main2.js';
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/es/main2.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/es/main2.js
new file mode 100644
index 000000000..51f64f011
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/es/main2.js
@@ -0,0 +1,3 @@
+var main2 = 42;
+
+export { main2 as default };
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/system/main.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/system/main.js
new file mode 100644
index 000000000..8e3f42c36
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/system/main.js
@@ -0,0 +1,13 @@
+System.register('bundle', ['./main2.js'], (function (exports) {
+	'use strict';
+	return {
+		setters: [function (module) {
+			exports('foo', module.default);
+		}],
+		execute: (function () {
+
+
+
+		})
+	};
+}));
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/system/main2.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/system/main2.js
new file mode 100644
index 000000000..77ae682b8
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/_expected/system/main2.js
@@ -0,0 +1,10 @@
+System.register('bundle', [], (function (exports) {
+	'use strict';
+	return {
+		execute: (function () {
+
+			var main2 = exports('default', 42);
+
+		})
+	};
+}));
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-true/main.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/main.js
new file mode 100644
index 000000000..5e54d802c
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/main.js
@@ -0,0 +1 @@
+export { default as foo } from './main2.js';
diff --git a/test/chunking-form/samples/generated-code/reserved-names-as-props-true/main2.js b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/main2.js
new file mode 100644
index 000000000..7a4e8a723
--- /dev/null
+++ b/test/chunking-form/samples/generated-code/reserved-names-as-props-true/main2.js
@@ -0,0 +1 @@
+export default 42;
diff --git a/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/amd/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/amd/generated-dep.js
index c2f17b2a5..f94a3d9d9 100644
--- a/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/amd/generated-dep.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('dep');
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/amd/main.js b/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/amd/main.js
index f9f8229aa..a9e9419e2 100644
--- a/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/amd/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/system/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/system/generated-dep.js
index 106b124d6..963f20ddf 100644
--- a/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/system/generated-dep.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/system/main.js b/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/system/main.js
index a702f2b06..343cc3a51 100644
--- a/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/system/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/dependant-entry-no-effects/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/amd/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/amd/generated-dep.js
index 0390847a2..b2d6432da 100644
--- a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/amd/generated-dep.js
@@ -1,5 +1,5 @@
-define(['./generated-lib'], function (lib) { 'use strict';
+define(['./generated-lib'], (function (lib) { 'use strict';
 
 	console.log(lib.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/amd/generated-lib.js b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/amd/generated-lib.js
index bf7989e60..947ad1cba 100644
--- a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/amd/generated-lib.js
+++ b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/amd/generated-lib.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/amd/main.js b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/amd/main.js
index 0390847a2..b2d6432da 100644
--- a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/amd/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-lib'], function (lib) { 'use strict';
+define(['./generated-lib'], (function (lib) { 'use strict';
 
 	console.log(lib.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/system/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/system/generated-dep.js
index fe619e7ec..42acb18c5 100644
--- a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/system/generated-dep.js
@@ -1,14 +1,14 @@
-System.register(['./generated-lib.js'], function () {
+System.register(['./generated-lib.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/system/generated-lib.js b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/system/generated-lib.js
index 1fc955eb2..6f4133133 100644
--- a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/system/generated-lib.js
+++ b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/system/generated-lib.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('v', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/system/main.js b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/system/main.js
index fe619e7ec..42acb18c5 100644
--- a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/system/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-emitted-entry/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./generated-lib.js'], function () {
+System.register(['./generated-lib.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/amd/dep.js b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/amd/dep.js
index 0390847a2..b2d6432da 100644
--- a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/amd/dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/amd/dep.js
@@ -1,5 +1,5 @@
-define(['./generated-lib'], function (lib) { 'use strict';
+define(['./generated-lib'], (function (lib) { 'use strict';
 
 	console.log(lib.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/amd/generated-lib.js b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/amd/generated-lib.js
index bf7989e60..947ad1cba 100644
--- a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/amd/generated-lib.js
+++ b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/amd/generated-lib.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/amd/main.js b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/amd/main.js
index 0390847a2..b2d6432da 100644
--- a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/amd/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-lib'], function (lib) { 'use strict';
+define(['./generated-lib'], (function (lib) { 'use strict';
 
 	console.log(lib.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/system/dep.js b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/system/dep.js
index fe619e7ec..42acb18c5 100644
--- a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/system/dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/system/dep.js
@@ -1,14 +1,14 @@
-System.register(['./generated-lib.js'], function () {
+System.register(['./generated-lib.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/system/generated-lib.js b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/system/generated-lib.js
index 1fc955eb2..6f4133133 100644
--- a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/system/generated-lib.js
+++ b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/system/generated-lib.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('v', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/system/main.js b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/system/main.js
index fe619e7ec..42acb18c5 100644
--- a/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/system/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/implicitly-dependent-entry/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./generated-lib.js'], function () {
+System.register(['./generated-lib.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-dep.js
index ea1b99d86..f24a5f092 100644
--- a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-dep.js
@@ -1,5 +1,5 @@
-define(['./generated-lib1b', './generated-lib2', './generated-lib3'], function (lib1b, lib2, lib3) { 'use strict';
+define(['./generated-lib1b', './generated-lib2', './generated-lib3'], (function (lib1b, lib2, lib3) { 'use strict';
 
 	console.log(lib1b.lib1, lib2.lib2, lib3.lib3);
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-lib1b.js b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-lib1b.js
index 1e746aa36..b1c96340d 100644
--- a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-lib1b.js
+++ b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-lib1b.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const lib1 = 'lib1';
 
@@ -7,4 +7,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.lib1 = lib1;
 	exports.lib1b = lib1b;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-lib2.js b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-lib2.js
index 3a91d2658..9ec4a1077 100644
--- a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-lib2.js
+++ b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-lib2.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const lib2 = 'lib2';
 
 	exports.lib2 = lib2;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-lib3.js b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-lib3.js
index 8e34d12dd..c9ca063d2 100644
--- a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-lib3.js
+++ b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/generated-lib3.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const lib3 = 'lib3';
 
 	exports.lib3 = lib3;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/main1.js b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/main1.js
index d8a1bed37..b2925a0b0 100644
--- a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/main1.js
+++ b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-lib1b', './generated-lib2'], function (lib1b, lib2) { 'use strict';
+define(['./generated-lib1b', './generated-lib2'], (function (lib1b, lib2) { 'use strict';
 
 	console.log('main1', lib1b.lib1,  lib1b.lib1b, lib2.lib2);
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/main2.js b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/main2.js
index 857eb5c0e..f4a43aed6 100644
--- a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/main2.js
+++ b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-lib1b', './generated-lib3'], function (lib1b, lib3) { 'use strict';
+define(['./generated-lib1b', './generated-lib3'], (function (lib1b, lib3) { 'use strict';
 
 	console.log('main2', lib1b.lib1, lib1b.lib1b, lib3.lib3);
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-dep.js
index c06dd7e38..01adc30a1 100644
--- a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-dep.js
@@ -1,4 +1,4 @@
-System.register(['./generated-lib1b.js', './generated-lib2.js', './generated-lib3.js'], function () {
+System.register(['./generated-lib1b.js', './generated-lib2.js', './generated-lib3.js'], (function () {
 	'use strict';
 	var lib1, lib2, lib3;
 	return {
@@ -9,10 +9,10 @@ System.register(['./generated-lib1b.js', './generated-lib2.js', './generated-lib
 		}, function (module) {
 			lib3 = module.l;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(lib1, lib2, lib3);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-lib1b.js b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-lib1b.js
index c17dd22ef..7b81ff30d 100644
--- a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-lib1b.js
+++ b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-lib1b.js
@@ -1,12 +1,12 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const lib1 = exports('l', 'lib1');
 
 			const lib1b = exports('a', 'lib1b');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-lib2.js b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-lib2.js
index 5e7dfbff4..0541fb791 100644
--- a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-lib2.js
+++ b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-lib2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const lib2 = exports('l', 'lib2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-lib3.js b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-lib3.js
index becc1e4d2..b12ff977f 100644
--- a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-lib3.js
+++ b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/generated-lib3.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const lib3 = exports('l', 'lib3');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/main1.js b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/main1.js
index 01673be26..12f48ccd7 100644
--- a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/main1.js
+++ b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-lib1b.js', './generated-lib2.js'], function () {
+System.register(['./generated-lib1b.js', './generated-lib2.js'], (function () {
 	'use strict';
 	var lib1, lib1b, lib2;
 	return {
@@ -8,10 +8,10 @@ System.register(['./generated-lib1b.js', './generated-lib2.js'], function () {
 		}, function (module) {
 			lib2 = module.l;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1', lib1,  lib1b, lib2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/main2.js b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/main2.js
index b6d8e2483..bb2381df8 100644
--- a/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/main2.js
+++ b/test/chunking-form/samples/implicit-dependencies/multiple-dependencies/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-lib1b.js', './generated-lib3.js'], function () {
+System.register(['./generated-lib1b.js', './generated-lib3.js'], (function () {
 	'use strict';
 	var lib1, lib1b, lib3;
 	return {
@@ -8,10 +8,10 @@ System.register(['./generated-lib1b.js', './generated-lib3.js'], function () {
 		}, function (module) {
 			lib3 = module.l;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2', lib1, lib1b, lib3);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/amd/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/amd/generated-dep.js
index ace79e44c..72757b085 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/amd/generated-dep.js
@@ -1,12 +1,12 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const value = 42;
 
 	console.log(value);
-	new Promise(function (resolve, reject) { require(['./generated-dynamicDep'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamicDep'], resolve, reject); });
 	const dep = 'dep';
 
 	exports.dep = dep;
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/amd/generated-dynamicDep.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/amd/generated-dynamicDep.js
index 893ebdbd1..29be163ef 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/amd/generated-dynamicDep.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/amd/generated-dynamicDep.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log(dep.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/amd/main.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/amd/main.js
index 126aa22ee..49540b44d 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/amd/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/system/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/system/generated-dep.js
index 7839cea80..656cba3b9 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/system/generated-dep.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('v', 42);
 
@@ -9,6 +9,6 @@ System.register([], function (exports, module) {
 			module.import('./generated-dynamicDep.js');
 			const dep = exports('dep', 'dep');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/system/generated-dynamicDep.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/system/generated-dynamicDep.js
index b6f1df26e..f7e6e21a5 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/system/generated-dynamicDep.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/system/generated-dynamicDep.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/system/main.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/system/main.js
index c83499bc2..35e269337 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/system/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-allow-extension/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/amd/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/amd/generated-dep.js
index e56c2be81..530dd19cf 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/amd/generated-dep.js
@@ -1,10 +1,10 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const value = 42;
 
 	console.log(value);
-	new Promise(function (resolve, reject) { require(['./generated-dynamicDep'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamicDep'], resolve, reject); });
 
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/amd/generated-dynamicDep.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/amd/generated-dynamicDep.js
index 893ebdbd1..29be163ef 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/amd/generated-dynamicDep.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/amd/generated-dynamicDep.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log(dep.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/amd/main.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/amd/main.js
index 126aa22ee..49540b44d 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/amd/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/system/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/system/generated-dep.js
index e896163f2..c35de516f 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/system/generated-dep.js
@@ -1,13 +1,13 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('v', 42);
 
 			console.log(value);
 			module.import('./generated-dynamicDep.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/system/generated-dynamicDep.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/system/generated-dynamicDep.js
index b6f1df26e..f7e6e21a5 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/system/generated-dynamicDep.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/system/generated-dynamicDep.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/system/main.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/system/main.js
index c83499bc2..35e269337 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/system/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-false/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/generated-dep.js
index ace79e44c..72757b085 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/generated-dep.js
@@ -1,12 +1,12 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const value = 42;
 
 	console.log(value);
-	new Promise(function (resolve, reject) { require(['./generated-dynamicDep'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamicDep'], resolve, reject); });
 	const dep = 'dep';
 
 	exports.dep = dep;
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/generated-dep2.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/generated-dep2.js
index 86c7cf798..db82d89d6 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/generated-dep2.js
@@ -1,7 +1,7 @@
-define(['exports', './generated-dep'], function (exports, dep) { 'use strict';
+define(['exports', './generated-dep'], (function (exports, dep) { 'use strict';
 
 
 
 	exports.dep = dep.dep;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/generated-dynamicDep.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/generated-dynamicDep.js
index 893ebdbd1..29be163ef 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/generated-dynamicDep.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/generated-dynamicDep.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log(dep.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/main.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/main.js
index 126aa22ee..49540b44d 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/generated-dep.js
index d59f5cecf..72e048168 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/generated-dep.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('v', 42);
 
@@ -9,6 +9,6 @@ System.register([], function (exports, module) {
 			module.import('./generated-dynamicDep.js');
 			const dep = exports('d', 'dep');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/generated-dep2.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/generated-dep2.js
index f2b92ab1d..0f0a4fc2d 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/generated-dep2.js
@@ -1,13 +1,13 @@
-System.register(['./generated-dep.js'], function (exports) {
+System.register(['./generated-dep.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('dep', module.d);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/generated-dynamicDep.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/generated-dynamicDep.js
index b6f1df26e..f7e6e21a5 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/generated-dynamicDep.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/generated-dynamicDep.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/main.js b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/main.js
index c83499bc2..35e269337 100644
--- a/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/preserve-signature-strict/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/amd/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/amd/generated-dep.js
index 450a2f315..64b2b078d 100644
--- a/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(['exports', './generated-lib'], function (exports, dep) { 'use strict';
+define(['exports', './generated-lib'], (function (exports, dep) { 'use strict';
 
 
 
 	exports.dep = dep.dep;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/amd/generated-lib.js b/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/amd/generated-lib.js
index 3f7dd30a5..b37d0f74a 100644
--- a/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/amd/generated-lib.js
+++ b/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/amd/generated-lib.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const dep = 'dep';
 
@@ -11,4 +11,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.dep = dep;
 	exports.lib = lib;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/amd/main.js b/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/amd/main.js
index 54b624a33..90aeaea37 100644
--- a/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/amd/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-lib'], resolve, reject) }).then(function (n) { return n.lib; });
+	new Promise(function (resolve, reject) { require(['./generated-lib'], resolve, reject); }).then(function (n) { return n.lib; });
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/system/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/system/generated-dep.js
index 873093912..071c54287 100644
--- a/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/system/generated-dep.js
@@ -1,13 +1,13 @@
-System.register(['./generated-lib.js'], function (exports) {
+System.register(['./generated-lib.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('dep', module.d);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/system/generated-lib.js b/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/system/generated-lib.js
index 6c4233b16..c310e396f 100644
--- a/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/system/generated-lib.js
+++ b/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/system/generated-lib.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const dep = exports('d', 'dep');
 
@@ -12,6 +12,6 @@ System.register([], function (exports) {
 			});
 			exports('l', lib);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/system/main.js b/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/system/main.js
index 82ee3811f..921b536b5 100644
--- a/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/system/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/same-chunk-dependency/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-lib.js').then(function (n) { return n.l; });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/amd/generated-button.js b/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/amd/generated-button.js
index dcdda160d..c27633ed2 100644
--- a/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/amd/generated-button.js
+++ b/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/amd/generated-button.js
@@ -1,7 +1,7 @@
-define(['exports', './main'], function (exports, main) { 'use strict';
+define(['exports', './main'], (function (exports, main) { 'use strict';
 
 	const bar = main.foo + 'bar';
 
 	exports.bar = bar;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/amd/generated-core.js b/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/amd/generated-core.js
index 3bfac6f72..0a2932d5d 100644
--- a/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/amd/generated-core.js
+++ b/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/amd/generated-core.js
@@ -1,7 +1,7 @@
-define(['exports', './main'], function (exports, main) { 'use strict';
+define(['exports', './main'], (function (exports, main) { 'use strict';
 
 
 
 	exports.foo = main.foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/amd/main.js b/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/amd/main.js
index f29cbae64..16ad2ab66 100644
--- a/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/amd/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = 'foo';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/system/generated-button.js b/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/system/generated-button.js
index 20fca3e20..e7e8095f5 100644
--- a/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/system/generated-button.js
+++ b/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/system/generated-button.js
@@ -1,14 +1,14 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	var foo;
 	return {
 		setters: [function (module) {
 			foo = module.foo;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const bar = exports('bar', foo + 'bar');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/system/generated-core.js b/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/system/generated-core.js
index e5c120e06..6a91a27fa 100644
--- a/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/system/generated-core.js
+++ b/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/system/generated-core.js
@@ -1,13 +1,13 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('foo', module.foo);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/system/main.js b/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/system/main.js
index 245b6107a..da5629348 100644
--- a/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/system/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/shared-dependency-no-side-effect/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = exports('foo', 'foo');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/amd/generated-implicit.js b/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/amd/generated-implicit.js
index 3bfac6f72..0a2932d5d 100644
--- a/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/amd/generated-implicit.js
+++ b/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/amd/generated-implicit.js
@@ -1,7 +1,7 @@
-define(['exports', './main'], function (exports, main) { 'use strict';
+define(['exports', './main'], (function (exports, main) { 'use strict';
 
 
 
 	exports.foo = main.foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/amd/main.js b/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/amd/main.js
index d35203385..5609f2870 100644
--- a/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/amd/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = 'shared';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/system/generated-implicit.js b/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/system/generated-implicit.js
index e5c120e06..6a91a27fa 100644
--- a/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/system/generated-implicit.js
+++ b/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/system/generated-implicit.js
@@ -1,13 +1,13 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('foo', module.foo);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/system/main.js b/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/system/main.js
index bef2b3726..bf81c142c 100644
--- a/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/system/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/shared-dependency-reexport/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = exports('foo', 'shared');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/amd/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/amd/generated-dep.js
index 162f76d7b..3f9022343 100644
--- a/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/amd/generated-dep.js
@@ -1,5 +1,5 @@
-define(['./main'], function (main) { 'use strict';
+define(['./main'], (function (main) { 'use strict';
 
 	console.log(main.value);
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/amd/main.js b/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/amd/main.js
index c9a3a6e48..ba729f351 100644
--- a/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/amd/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/system/generated-dep.js b/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/system/generated-dep.js
index 478948525..5c111e397 100644
--- a/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/system/generated-dep.js
@@ -1,14 +1,14 @@
-System.register(['./main.js'], function () {
+System.register(['./main.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/system/main.js b/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/system/main.js
index dbbc960c5..c208603cd 100644
--- a/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/system/main.js
+++ b/test/chunking-form/samples/implicit-dependencies/single-dependency/_expected/system/main.js
@@ -1,12 +1,12 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('v', 42);
 
 			console.log(value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/import-meta-url/_expected/amd/main.js b/test/chunking-form/samples/import-meta-url/_expected/amd/main.js
index bd9df854f..26107772e 100644
--- a/test/chunking-form/samples/import-meta-url/_expected/amd/main.js
+++ b/test/chunking-form/samples/import-meta-url/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['module', 'require', 'exports'], function (module, require, exports) { 'use strict';
+define(['module', 'require', 'exports'], (function (module, require, exports) { 'use strict';
 
 	function log(url) {
 		if (typeof document === 'undefined') {
@@ -9,10 +9,10 @@ define(['module', 'require', 'exports'], function (module, require, exports) { '
 	}
 
 	log('main: ' + new URL(module.uri, document.baseURI).href);
-	new Promise(function (resolve, reject) { require(['./nested/chunk'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./nested/chunk'], resolve, reject); });
 
 	exports.log = log;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/import-meta-url/_expected/amd/nested/chunk.js b/test/chunking-form/samples/import-meta-url/_expected/amd/nested/chunk.js
index 38e3c7579..e45f61851 100644
--- a/test/chunking-form/samples/import-meta-url/_expected/amd/nested/chunk.js
+++ b/test/chunking-form/samples/import-meta-url/_expected/amd/nested/chunk.js
@@ -1,5 +1,5 @@
-define(['module', '../main'], function (module, main) { 'use strict';
+define(['module', '../main'], (function (module, main) { 'use strict';
 
 	main.log('nested: ' + new URL(module.uri, document.baseURI).href);
 
-});
+}));
diff --git a/test/chunking-form/samples/import-meta-url/_expected/system/main.js b/test/chunking-form/samples/import-meta-url/_expected/system/main.js
index 36b1dd326..2ba4ab11c 100644
--- a/test/chunking-form/samples/import-meta-url/_expected/system/main.js
+++ b/test/chunking-form/samples/import-meta-url/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('l', log);
 
@@ -16,6 +16,6 @@ System.register([], function (exports, module) {
 			log('main: ' + module.meta.url);
 			module.import('./nested/chunk.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/import-meta-url/_expected/system/nested/chunk.js b/test/chunking-form/samples/import-meta-url/_expected/system/nested/chunk.js
index 3009915c4..6a31d73cd 100644
--- a/test/chunking-form/samples/import-meta-url/_expected/system/nested/chunk.js
+++ b/test/chunking-form/samples/import-meta-url/_expected/system/nested/chunk.js
@@ -1,14 +1,14 @@
-System.register(['../main.js'], function (exports, module) {
+System.register(['../main.js'], (function (exports, module) {
 	'use strict';
 	var log;
 	return {
 		setters: [function (module) {
 			log = module.l;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			log('nested: ' + module.meta.url);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/import-variable-duplicates/_expected/amd/first.js b/test/chunking-form/samples/import-variable-duplicates/_expected/amd/first.js
index 60adeb468..2a1a73baf 100644
--- a/test/chunking-form/samples/import-variable-duplicates/_expected/amd/first.js
+++ b/test/chunking-form/samples/import-variable-duplicates/_expected/amd/first.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var head2 = 'first';
 
 	return head2;
 
-});
+}));
diff --git a/test/chunking-form/samples/import-variable-duplicates/_expected/amd/head.js b/test/chunking-form/samples/import-variable-duplicates/_expected/amd/head.js
index 4fee7a379..11e841c23 100644
--- a/test/chunking-form/samples/import-variable-duplicates/_expected/amd/head.js
+++ b/test/chunking-form/samples/import-variable-duplicates/_expected/amd/head.js
@@ -1,7 +1,7 @@
-define(['./first'], function (first) { 'use strict';
+define(['./first'], (function (first) { 'use strict';
 
 
 
 	return first;
 
-});
+}));
diff --git a/test/chunking-form/samples/import-variable-duplicates/_expected/amd/main1.js b/test/chunking-form/samples/import-variable-duplicates/_expected/amd/main1.js
index c1fbad76d..ab8f6130c 100644
--- a/test/chunking-form/samples/import-variable-duplicates/_expected/amd/main1.js
+++ b/test/chunking-form/samples/import-variable-duplicates/_expected/amd/main1.js
@@ -1,6 +1,6 @@
-define(['./first'], function (first) { 'use strict';
+define(['./first'], (function (first) { 'use strict';
 
 	console.log(first);
 	console.log(first);
 
-});
+}));
diff --git a/test/chunking-form/samples/import-variable-duplicates/_expected/amd/main2.js b/test/chunking-form/samples/import-variable-duplicates/_expected/amd/main2.js
index c1fbad76d..ab8f6130c 100644
--- a/test/chunking-form/samples/import-variable-duplicates/_expected/amd/main2.js
+++ b/test/chunking-form/samples/import-variable-duplicates/_expected/amd/main2.js
@@ -1,6 +1,6 @@
-define(['./first'], function (first) { 'use strict';
+define(['./first'], (function (first) { 'use strict';
 
 	console.log(first);
 	console.log(first);
 
-});
+}));
diff --git a/test/chunking-form/samples/import-variable-duplicates/_expected/system/first.js b/test/chunking-form/samples/import-variable-duplicates/_expected/system/first.js
index f6906bebd..f939d7ded 100644
--- a/test/chunking-form/samples/import-variable-duplicates/_expected/system/first.js
+++ b/test/chunking-form/samples/import-variable-duplicates/_expected/system/first.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var head2 = exports('default', 'first');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/import-variable-duplicates/_expected/system/head.js b/test/chunking-form/samples/import-variable-duplicates/_expected/system/head.js
index 9f7b4572a..52bbd1809 100644
--- a/test/chunking-form/samples/import-variable-duplicates/_expected/system/head.js
+++ b/test/chunking-form/samples/import-variable-duplicates/_expected/system/head.js
@@ -1,13 +1,13 @@
-System.register(['./first.js'], function (exports) {
+System.register(['./first.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('default', module.default);
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/import-variable-duplicates/_expected/system/main1.js b/test/chunking-form/samples/import-variable-duplicates/_expected/system/main1.js
index 7fc36d77f..09eae940f 100644
--- a/test/chunking-form/samples/import-variable-duplicates/_expected/system/main1.js
+++ b/test/chunking-form/samples/import-variable-duplicates/_expected/system/main1.js
@@ -1,15 +1,15 @@
-System.register(['./first.js'], function () {
+System.register(['./first.js'], (function () {
 	'use strict';
 	var head2;
 	return {
 		setters: [function (module) {
-			head2 = module.default;
+			head2 = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(head2);
 			console.log(head2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/import-variable-duplicates/_expected/system/main2.js b/test/chunking-form/samples/import-variable-duplicates/_expected/system/main2.js
index 7fc36d77f..09eae940f 100644
--- a/test/chunking-form/samples/import-variable-duplicates/_expected/system/main2.js
+++ b/test/chunking-form/samples/import-variable-duplicates/_expected/system/main2.js
@@ -1,15 +1,15 @@
-System.register(['./first.js'], function () {
+System.register(['./first.js'], (function () {
 	'use strict';
 	var head2;
 	return {
 		setters: [function (module) {
-			head2 = module.default;
+			head2 = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(head2);
 			console.log(head2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/amd/generated-dynamic1.js b/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/amd/generated-dynamic1.js
index be41dd73b..b6491460a 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/amd/generated-dynamic1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/amd/generated-dynamic1.js
@@ -1,6 +1,6 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject); });
 	console.log('dynamic1');
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/amd/generated-dynamic2.js b/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/amd/generated-dynamic2.js
index 54e4f19ff..469f93d46 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/amd/generated-dynamic2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/amd/generated-dynamic2.js
@@ -1,7 +1,7 @@
-define(['exports', './main'], function (exports, main) { 'use strict';
+define(['exports', './main'], (function (exports, main) { 'use strict';
 
 
 
 	exports.shared = main.shared;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/amd/main.js b/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/amd/main.js
index c5be5c70f..c2b32ef18 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/amd/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/amd/main.js
@@ -1,11 +1,11 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const shared = 'shared';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic1'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic1'], resolve, reject); });
 
 	exports.shared = shared;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/system/generated-dynamic1.js b/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/system/generated-dynamic1.js
index 4885888cc..3dd67ec61 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/system/generated-dynamic1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/system/generated-dynamic1.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic2.js');
 			console.log('dynamic1');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/system/generated-dynamic2.js b/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/system/generated-dynamic2.js
index 583c430ed..5fdc607df 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/system/generated-dynamic2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/system/generated-dynamic2.js
@@ -1,13 +1,13 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('shared', module.shared);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/system/main.js b/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/system/main.js
index 68b287fdf..40580ff40 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/system/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/chained-dynamic-with-shared/_expected/system/main.js
@@ -1,12 +1,12 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('shared', 'shared');
 
 			module.import('./generated-dynamic1.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/amd/generated-dynamic1.js b/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/amd/generated-dynamic1.js
index be41dd73b..b6491460a 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/amd/generated-dynamic1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/amd/generated-dynamic1.js
@@ -1,6 +1,6 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject); });
 	console.log('dynamic1');
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/amd/generated-dynamic2.js b/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/amd/generated-dynamic2.js
index f7f9fa681..7088a0022 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/amd/generated-dynamic2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/amd/generated-dynamic2.js
@@ -1,6 +1,6 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./main'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./main'], resolve, reject); });
 	console.log('dynamic2');
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/amd/main.js b/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/amd/main.js
index 8960a94b1..6ae3a3b37 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/amd/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject) });
-	new Promise(function (resolve, reject) { require(['./generated-dynamic1'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject); });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic1'], resolve, reject); });
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/system/generated-dynamic1.js b/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/system/generated-dynamic1.js
index 4885888cc..3dd67ec61 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/system/generated-dynamic1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/system/generated-dynamic1.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic2.js');
 			console.log('dynamic1');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/system/generated-dynamic2.js b/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/system/generated-dynamic2.js
index e54de5996..0d16f84b0 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/system/generated-dynamic2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/system/generated-dynamic2.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./main.js');
 			console.log('dynamic2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/system/main.js b/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/system/main.js
index 6a23dc688..2f6de3adf 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/system/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/circular-dynamic-imports/_expected/system/main.js
@@ -1,12 +1,12 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic2.js');
 			module.import('./generated-dynamic1.js');
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-1/_expected/amd/main.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-1/_expected/amd/main.js
index 3fab3918b..0d97999c4 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-1/_expected/amd/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-1/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	Promise.resolve().then(function () { return main; }).then(console.log);
 	console.log('dep1');
@@ -26,4 +26,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-1/_expected/system/main.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-1/_expected/system/main.js
index 30ad2f569..4461152c7 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-1/_expected/system/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-1/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			Promise.resolve().then(function () { return main; }).then(console.log);
 			console.log('dep1');
@@ -25,6 +25,6 @@ System.register([], function (exports) {
 				value: value
 			});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-2/_expected/amd/main.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-2/_expected/amd/main.js
index 466b0dabc..544149845 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-2/_expected/amd/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-2/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	Promise.resolve().then(function () { return dynamic2; }).then(console.log);
 	console.log('dynamic1');
@@ -20,4 +20,4 @@ define(function () { 'use strict';
 	Promise.resolve().then(function () { return dynamic1; }).then(console.log);
 	console.log('main', value1, value2);
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-2/_expected/system/main.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-2/_expected/system/main.js
index 35382e9f2..fa925a8d1 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-2/_expected/system/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-already-contained-2/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			Promise.resolve().then(function () { return dynamic2; }).then(console.log);
 			console.log('dynamic1');
@@ -23,6 +23,6 @@ System.register([], function () {
 			Promise.resolve().then(function () { return dynamic1; }).then(console.log);
 			console.log('main', value1, value2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/amd/generated-dynamic1.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/amd/generated-dynamic1.js
index 41b95d106..e5ffc9177 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/amd/generated-dynamic1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/amd/generated-dynamic1.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject); });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/amd/generated-dynamic2.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/amd/generated-dynamic2.js
index b30754a60..162cba338 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/amd/generated-dynamic2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/amd/generated-dynamic2.js
@@ -1,7 +1,7 @@
-define(['exports', './main'], function (exports, main) { 'use strict';
+define(['exports', './main'], (function (exports, main) { 'use strict';
 
 	console.log('dynamic2', main.value);
 
 	exports.value = main.value;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/amd/main.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/amd/main.js
index 1cc193e37..aff018855 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/amd/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/amd/main.js
@@ -1,12 +1,12 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const value = 'shared';
 
 	console.log('dynamic1', value);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic1'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic1'], resolve, reject); });
 
 	exports.value = value;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/system/generated-dynamic1.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/system/generated-dynamic1.js
index 0d19e5aa4..768bccdf5 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/system/generated-dynamic1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/system/generated-dynamic1.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic2.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/system/generated-dynamic2.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/system/generated-dynamic2.js
index 5bb722682..7d4687f32 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/system/generated-dynamic2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/system/generated-dynamic2.js
@@ -1,4 +1,4 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	var value;
 	return {
@@ -6,10 +6,10 @@ System.register(['./main.js'], function (exports) {
 			value = module.value;
 			exports('value', module.value);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic2', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/system/main.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/system/main.js
index fa1f16110..7eef1018e 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/system/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic-multi-stage/_expected/system/main.js
@@ -1,13 +1,13 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 'shared');
 
 			console.log('dynamic1', value);
 			module.import('./generated-dynamic1.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/amd/generated-dynamic1.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/amd/generated-dynamic1.js
index 50a4863d1..dcde8c31e 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/amd/generated-dynamic1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/amd/generated-dynamic1.js
@@ -1,10 +1,10 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const value = 'shared';
 
 	console.log('dynamic1', value);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject); });
 
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/amd/generated-dynamic2.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/amd/generated-dynamic2.js
index b43d0ad04..ab85dd0d0 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/amd/generated-dynamic2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/amd/generated-dynamic2.js
@@ -1,7 +1,7 @@
-define(['exports', './generated-dynamic1'], function (exports, dynamic1) { 'use strict';
+define(['exports', './generated-dynamic1'], (function (exports, dynamic1) { 'use strict';
 
 	console.log('dynamic2', dynamic1.value);
 
 	exports.value = dynamic1.value;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/amd/main.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/amd/main.js
index 935d1692f..044e07299 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/amd/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic1'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic1'], resolve, reject); });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/system/generated-dynamic1.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/system/generated-dynamic1.js
index 2730357cf..477e5601c 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/system/generated-dynamic1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/system/generated-dynamic1.js
@@ -1,13 +1,13 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 'shared');
 
 			console.log('dynamic1', value);
 			module.import('./generated-dynamic2.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/system/generated-dynamic2.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/system/generated-dynamic2.js
index 934231e63..225fc02ed 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/system/generated-dynamic2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/system/generated-dynamic2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dynamic1.js'], function (exports) {
+System.register(['./generated-dynamic1.js'], (function (exports) {
 	'use strict';
 	var value;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-dynamic1.js'], function (exports) {
 			value = module.value;
 			exports('value', module.value);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic2', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/system/main.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/system/main.js
index 6bf031d4f..2f046fa0b 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/system/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-import-dynamic/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic1.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/generated-dep.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/generated-dep.js
index 397a3e627..fa57429bd 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value1 = 'dep';
 
 	exports.value1 = value1;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/generated-dynamic.js
index ddd658c3e..f96c32179 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/generated-dynamic.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('dynamic', dep.value1);
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/generated-shared.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/generated-shared.js
index f2465789f..41d21e9ad 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/generated-shared.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/generated-shared.js
@@ -1,6 +1,6 @@
-define(['require', './generated-dep'], function (require, dep) { 'use strict';
+define(['require', './generated-dep'], (function (require, dep) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 	console.log('shared', dep.value1);
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/main1.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/main1.js
index b8530d391..09d673380 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/main1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-shared', './generated-dep'], function (shared, dep) { 'use strict';
+define(['./generated-shared', './generated-dep'], (function (shared, dep) { 'use strict';
 
 	console.log('main1');
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/main2.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/main2.js
index be30778a3..53c7a8e57 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/main2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-shared', './generated-dep'], function (shared, dep) { 'use strict';
+define(['./generated-shared', './generated-dep'], (function (shared, dep) { 'use strict';
 
 	console.log('main2');
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/main3.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/main3.js
index 19f4b8f41..9b6df58b8 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/main3.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/amd/main3.js
@@ -1,7 +1,7 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	console.log('main3');
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/generated-dep.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/generated-dep.js
index a0da80f99..a05bbde8d 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/generated-dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value1 = exports('v', 'dep');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/generated-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/generated-dynamic.js
index 6a9c0e632..d28a89fd8 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/generated-dynamic.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var value1;
 	return {
 		setters: [function (module) {
 			value1 = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic', value1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/generated-shared.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/generated-shared.js
index 5ca1f03bd..51cb622d8 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/generated-shared.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/generated-shared.js
@@ -1,15 +1,15 @@
-System.register(['./generated-dep.js'], function (exports, module) {
+System.register(['./generated-dep.js'], (function (exports, module) {
 	'use strict';
 	var value1;
 	return {
 		setters: [function (module) {
 			value1 = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic.js');
 			console.log('shared', value1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/main1.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/main1.js
index 2e44d944d..4ff74233e 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/main1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/main1.js
@@ -1,11 +1,11 @@
-System.register(['./generated-shared.js', './generated-dep.js'], function () {
+System.register(['./generated-shared.js', './generated-dep.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/main2.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/main2.js
index 569ffa4f1..6a770eba4 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/main2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-shared.js', './generated-dep.js'], function () {
+System.register(['./generated-shared.js', './generated-dep.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/main3.js b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/main3.js
index 168b997d8..24c653f1a 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/main3.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/dynamic-not-in-memory/_expected/system/main3.js
@@ -1,12 +1,12 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic.js');
 
 			console.log('main3');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/generated-dynamic.js
index 10daf9990..05a6422d4 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/generated-dynamic.js
@@ -1,8 +1,8 @@
-define(['exports', './generated-from-main-1-and-dynamic', './generated-from-main-1-and-2'], function (exports, fromMain1AndDynamic, fromMain1And2) { 'use strict';
+define(['exports', './generated-from-main-1-and-dynamic', './generated-from-main-1-and-2'], (function (exports, fromMain1AndDynamic, fromMain1And2) { 'use strict';
 
 	console.log('dynamic1', fromMain1AndDynamic.value1, fromMain1And2.value2);
 
 	exports.value1 = fromMain1AndDynamic.value1;
 	exports.value2 = fromMain1And2.value2;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/generated-from-main-1-and-2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/generated-from-main-1-and-2.js
index bd61814cf..634a4859a 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/generated-from-main-1-and-2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/generated-from-main-1-and-2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value2 = 'all';
 
@@ -7,4 +7,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.value2 = value2;
 	exports.value3 = value3;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/generated-from-main-1-and-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/generated-from-main-1-and-dynamic.js
index 003c64a96..4cc52f8fd 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/generated-from-main-1-and-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/generated-from-main-1-and-dynamic.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value1 = 'main1 and dynamic';
 
 	exports.value1 = value1;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/main1.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/main1.js
index eac323962..2e72a76c9 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/main1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/main1.js
@@ -1,7 +1,7 @@
-define(['require', 'exports', './generated-from-main-1-and-dynamic', './generated-from-main-1-and-2'], function (require, exports, fromMain1AndDynamic, fromMain1And2) { 'use strict';
+define(['require', 'exports', './generated-from-main-1-and-dynamic', './generated-from-main-1-and-2'], (function (require, exports, fromMain1AndDynamic, fromMain1And2) { 'use strict';
 
 	console.log('main1', fromMain1AndDynamic.value1, fromMain1And2.value2, fromMain1And2.value3);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	exports.value1 = fromMain1AndDynamic.value1;
 	exports.value2 = fromMain1And2.value2;
@@ -9,4 +9,4 @@ define(['require', 'exports', './generated-from-main-1-and-dynamic', './generate
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/main2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/main2.js
index 5a746a349..bc2f66653 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/main2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/amd/main2.js
@@ -1,11 +1,11 @@
-define(['require', 'exports', './generated-from-main-1-and-2'], function (require, exports, fromMain1And2) { 'use strict';
+define(['require', 'exports', './generated-from-main-1-and-2'], (function (require, exports, fromMain1And2) { 'use strict';
 
 	console.log('main2', fromMain1And2.value2, fromMain1And2.value3);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	exports.value2 = fromMain1And2.value2;
 	exports.value3 = fromMain1And2.value3;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/generated-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/generated-dynamic.js
index 348735eeb..45a4caf0b 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/generated-dynamic.js
@@ -1,4 +1,4 @@
-System.register(['./generated-from-main-1-and-dynamic.js', './generated-from-main-1-and-2.js'], function (exports) {
+System.register(['./generated-from-main-1-and-dynamic.js', './generated-from-main-1-and-2.js'], (function (exports) {
 	'use strict';
 	var value1, value2;
 	return {
@@ -9,10 +9,10 @@ System.register(['./generated-from-main-1-and-dynamic.js', './generated-from-mai
 			value2 = module.v;
 			exports('value2', module.v);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic1', value1, value2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/generated-from-main-1-and-2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/generated-from-main-1-and-2.js
index 31fbb093f..2d8255f18 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/generated-from-main-1-and-2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/generated-from-main-1-and-2.js
@@ -1,12 +1,12 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value2 = exports('v', 'all');
 
 			const value3 = exports('a', 'main1 and main2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/generated-from-main-1-and-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/generated-from-main-1-and-dynamic.js
index 0e97c4398..3e8607735 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/generated-from-main-1-and-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/generated-from-main-1-and-dynamic.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value1 = exports('v', 'main1 and dynamic');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/main1.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/main1.js
index b736d7a05..6eb53c156 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/main1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-from-main-1-and-dynamic.js', './generated-from-main-1-and-2.js'], function (exports, module) {
+System.register(['./generated-from-main-1-and-dynamic.js', './generated-from-main-1-and-2.js'], (function (exports, module) {
 	'use strict';
 	var value1, value2, value3;
 	return {
@@ -8,16 +8,13 @@ System.register(['./generated-from-main-1-and-dynamic.js', './generated-from-mai
 		}, function (module) {
 			value2 = module.v;
 			value3 = module.a;
-			var _setter = {};
-			_setter.value2 = module.v;
-			_setter.value3 = module.a;
-			exports(_setter);
+			exports({ value2: module.v, value3: module.a });
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1', value1, value2, value3);
 			module.import('./generated-dynamic.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/main2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/main2.js
index 1aca888b8..a899ec2ad 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/main2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-and-shared-dependencies/_expected/system/main2.js
@@ -1,20 +1,17 @@
-System.register(['./generated-from-main-1-and-2.js'], function (exports, module) {
+System.register(['./generated-from-main-1-and-2.js'], (function (exports, module) {
 	'use strict';
 	var value2, value3;
 	return {
 		setters: [function (module) {
 			value2 = module.v;
 			value3 = module.a;
-			var _setter = {};
-			_setter.value2 = module.v;
-			_setter.value3 = module.a;
-			exports(_setter);
+			exports({ value2: module.v, value3: module.a });
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2', value2, value3);
 			module.import('./generated-dynamic.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/generated-dep1.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/generated-dep1.js
index aa83bc12c..eba0de549 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/generated-dep1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/generated-dep1.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value1 = 'shared1';
 
 	exports.value1 = value1;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/generated-dep2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/generated-dep2.js
index b728fc2ba..09036e720 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/generated-dep2.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value2 = 'shared2';
 
 	exports.value2 = value2;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/generated-dynamic.js
index 35442e34c..e7672b639 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/generated-dynamic.js
@@ -1,8 +1,8 @@
-define(['exports', './generated-dep1', './generated-dep2'], function (exports, dep1, dep2) { 'use strict';
+define(['exports', './generated-dep1', './generated-dep2'], (function (exports, dep1, dep2) { 'use strict';
 
 	console.log('dynamic1', dep1.value1, dep2.value2);
 
 	exports.value1 = dep1.value1;
 	exports.value2 = dep2.value2;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/main1.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/main1.js
index 67e14ca6f..0f6831e92 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/main1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/main1.js
@@ -1,13 +1,13 @@
-define(['require', 'exports', './generated-dep1', './generated-dep2'], function (require, exports, dep1, dep2) { 'use strict';
+define(['require', 'exports', './generated-dep1', './generated-dep2'], (function (require, exports, dep1, dep2) { 'use strict';
 
 	const something = 'something';
 
 	console.log('main1', dep1.value1, dep2.value2, something);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	exports.value1 = dep1.value1;
 	exports.value2 = dep2.value2;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/main2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/main2.js
index 5411a5236..5dfbe5e71 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/main2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/amd/main2.js
@@ -1,10 +1,10 @@
-define(['require', 'exports', './generated-dep2'], function (require, exports, dep2) { 'use strict';
+define(['require', 'exports', './generated-dep2'], (function (require, exports, dep2) { 'use strict';
 
 	console.log('main2', dep2.value2);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	exports.value2 = dep2.value2;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/generated-dep1.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/generated-dep1.js
index 65ef243d0..334658c2a 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/generated-dep1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/generated-dep1.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value1 = exports('v', 'shared1');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/generated-dep2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/generated-dep2.js
index af5ad2b9e..951e697b5 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/generated-dep2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value2 = exports('v', 'shared2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/generated-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/generated-dynamic.js
index 6db6e1afc..fbd6441c9 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/generated-dynamic.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep1.js', './generated-dep2.js'], function (exports) {
+System.register(['./generated-dep1.js', './generated-dep2.js'], (function (exports) {
 	'use strict';
 	var value1, value2;
 	return {
@@ -9,10 +9,10 @@ System.register(['./generated-dep1.js', './generated-dep2.js'], function (export
 			value2 = module.v;
 			exports('value2', module.v);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic1', value1, value2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/main1.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/main1.js
index a9473f8ab..5b5005ed5 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/main1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep1.js', './generated-dep2.js'], function (exports, module) {
+System.register(['./generated-dep1.js', './generated-dep2.js'], (function (exports, module) {
 	'use strict';
 	var value1, value2;
 	return {
@@ -9,13 +9,13 @@ System.register(['./generated-dep1.js', './generated-dep2.js'], function (export
 			value2 = module.v;
 			exports('value2', module.v);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const something = 'something';
 
 			console.log('main1', value1, value2, something);
 			module.import('./generated-dynamic.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/main2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/main2.js
index 528d21435..29e0858ad 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/main2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-different-dependencies/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep2.js'], function (exports, module) {
+System.register(['./generated-dep2.js'], (function (exports, module) {
 	'use strict';
 	var value2;
 	return {
@@ -6,11 +6,11 @@ System.register(['./generated-dep2.js'], function (exports, module) {
 			value2 = module.v;
 			exports('value2', module.v);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2', value2);
 			module.import('./generated-dynamic.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/generated-dep2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/generated-dep2.js
index b728fc2ba..09036e720 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/generated-dep2.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value2 = 'shared2';
 
 	exports.value2 = value2;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/generated-dynamic1.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/generated-dynamic1.js
index 42096a32c..d86ea0561 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/generated-dynamic1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/generated-dynamic1.js
@@ -1,7 +1,7 @@
-define(['exports', './main1', './generated-dep2'], function (exports, main1, dep2) { 'use strict';
+define(['exports', './main1', './generated-dep2'], (function (exports, main1, dep2) { 'use strict';
 
 	console.log('dynamic1', main1.value1);
 
 	exports.value1 = main1.value1;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/generated-dynamic2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/generated-dynamic2.js
index 42269ebe1..642ac1f8c 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/generated-dynamic2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/generated-dynamic2.js
@@ -1,7 +1,7 @@
-define(['exports', './generated-dep2'], function (exports, dep2) { 'use strict';
+define(['exports', './generated-dep2'], (function (exports, dep2) { 'use strict';
 
 	console.log('dynamic2', dep2.value2);
 
 	exports.value2 = dep2.value2;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/main1.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/main1.js
index 05e7ad097..1c6cbfe58 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/main1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/main1.js
@@ -1,13 +1,13 @@
-define(['require', 'exports', './generated-dep2'], function (require, exports, dep2) { 'use strict';
+define(['require', 'exports', './generated-dep2'], (function (require, exports, dep2) { 'use strict';
 
 	const value1 = 'shared1';
 
 	console.log('main1', value1, dep2.value2);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic1'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic1'], resolve, reject); });
 
 	exports.value2 = dep2.value2;
 	exports.value1 = value1;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/main2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/main2.js
index 9f9a3f577..2b7072da5 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/main2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/amd/main2.js
@@ -1,10 +1,10 @@
-define(['require', 'exports', './generated-dep2'], function (require, exports, dep2) { 'use strict';
+define(['require', 'exports', './generated-dep2'], (function (require, exports, dep2) { 'use strict';
 
 	console.log('main2', dep2.value2);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject); });
 
 	exports.value2 = dep2.value2;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/generated-dep2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/generated-dep2.js
index af5ad2b9e..951e697b5 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/generated-dep2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value2 = exports('v', 'shared2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/generated-dynamic1.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/generated-dynamic1.js
index 7ec987e94..d7a24ba14 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/generated-dynamic1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/generated-dynamic1.js
@@ -1,4 +1,4 @@
-System.register(['./main1.js', './generated-dep2.js'], function (exports) {
+System.register(['./main1.js', './generated-dep2.js'], (function (exports) {
 	'use strict';
 	var value1;
 	return {
@@ -6,10 +6,10 @@ System.register(['./main1.js', './generated-dep2.js'], function (exports) {
 			value1 = module.value1;
 			exports('value1', module.value1);
 		}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic1', value1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/generated-dynamic2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/generated-dynamic2.js
index 6a4117a6e..54cbe03b3 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/generated-dynamic2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/generated-dynamic2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep2.js'], function (exports) {
+System.register(['./generated-dep2.js'], (function (exports) {
 	'use strict';
 	var value2;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-dep2.js'], function (exports) {
 			value2 = module.v;
 			exports('value2', module.v);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic2', value2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/main1.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/main1.js
index 470b5052d..38539f063 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/main1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep2.js'], function (exports, module) {
+System.register(['./generated-dep2.js'], (function (exports, module) {
 	'use strict';
 	var value2;
 	return {
@@ -6,13 +6,13 @@ System.register(['./generated-dep2.js'], function (exports, module) {
 			value2 = module.v;
 			exports('value2', module.v);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const value1 = exports('value1', 'shared1');
 
 			console.log('main1', value1, value2);
 			module.import('./generated-dynamic1.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/main2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/main2.js
index 295aa2928..0ea4b3cd7 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/main2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-partly-already-loaded-dynamic/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep2.js'], function (exports, module) {
+System.register(['./generated-dep2.js'], (function (exports, module) {
 	'use strict';
 	var value2;
 	return {
@@ -6,11 +6,11 @@ System.register(['./generated-dep2.js'], function (exports, module) {
 			value2 = module.v;
 			exports('value2', module.v);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2', value2);
 			module.import('./generated-dynamic2.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/generated-dynamic.js
index 12c490a65..57440e418 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/generated-dynamic.js
@@ -1,5 +1,5 @@
-define(['./generated-shared'], function (shared) { 'use strict';
+define(['./generated-shared'], (function (shared) { 'use strict';
 
 	console.log('dynamic', shared.value1);
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/generated-shared.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/generated-shared.js
index 01bb5903a..9098968ce 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/generated-shared.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/generated-shared.js
@@ -1,10 +1,10 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const value1 = 'dep';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 	console.log('shared', value1);
 
 	exports.value1 = value1;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/main1.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/main1.js
index c018fae72..5d3c33a18 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/main1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-shared'], function (shared) { 'use strict';
+define(['./generated-shared'], (function (shared) { 'use strict';
 
 	console.log('main1');
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/main2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/main2.js
index dd3854520..ed3debcee 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/main2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-shared'], function (shared) { 'use strict';
+define(['./generated-shared'], (function (shared) { 'use strict';
 
 	console.log('main2');
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/generated-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/generated-dynamic.js
index 659a4e374..53e95abfe 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/generated-dynamic.js
@@ -1,14 +1,14 @@
-System.register(['./generated-shared.js'], function () {
+System.register(['./generated-shared.js'], (function () {
 	'use strict';
 	var value1;
 	return {
 		setters: [function (module) {
 			value1 = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic', value1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/generated-shared.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/generated-shared.js
index 03771769b..ccf880fc0 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/generated-shared.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/generated-shared.js
@@ -1,13 +1,13 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value1 = exports('v', 'dep');
 
 			module.import('./generated-dynamic.js');
 			console.log('shared', value1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/main1.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/main1.js
index 494e5e245..32daec6f4 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/main1.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/main1.js
@@ -1,11 +1,11 @@
-System.register(['./generated-shared.js'], function () {
+System.register(['./generated-shared.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/main2.js b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/main2.js
index da2aaca8f..919b76c50 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/main2.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/multi-entry-shared-static-with-dynamic-import/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-shared.js'], function () {
+System.register(['./generated-shared.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/amd/generated-dynamic.js
index 1b7cd9e3d..862b9d645 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/amd/generated-dynamic.js
@@ -1,7 +1,7 @@
-define(['exports', './main'], function (exports, main) { 'use strict';
+define(['exports', './main'], (function (exports, main) { 'use strict';
 
 	console.log('dynamic', main.value);
 
 	exports.value = main.value;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/amd/main.js b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/amd/main.js
index 3f72fe857..36b7342f0 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/amd/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/amd/main.js
@@ -1,15 +1,15 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const value = 'shared';
 
 	console.log('a', value);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	console.log('main', value);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	exports.value = value;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/system/generated-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/system/generated-dynamic.js
index d709dd747..0a561be36 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/system/generated-dynamic.js
@@ -1,4 +1,4 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	var value;
 	return {
@@ -6,10 +6,10 @@ System.register(['./main.js'], function (exports) {
 			value = module.value;
 			exports('value', module.value);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/system/main.js b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/system/main.js
index 0b98d98ec..a5c969fc2 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/system/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic-multiple-imports/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 'shared');
 
@@ -11,6 +11,6 @@ System.register([], function (exports, module) {
 			console.log('main', value);
 			module.import('./generated-dynamic.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/amd/generated-dynamic.js
index 1b7cd9e3d..862b9d645 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/amd/generated-dynamic.js
@@ -1,7 +1,7 @@
-define(['exports', './main'], function (exports, main) { 'use strict';
+define(['exports', './main'], (function (exports, main) { 'use strict';
 
 	console.log('dynamic', main.value);
 
 	exports.value = main.value;
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/amd/main.js b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/amd/main.js
index 714a305c8..0035c3786 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/amd/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/amd/main.js
@@ -1,12 +1,12 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const value = 'shared';
 
 	console.log('main', value);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	exports.value = value;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/system/generated-dynamic.js b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/system/generated-dynamic.js
index d709dd747..0a561be36 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/system/generated-dynamic.js
@@ -1,4 +1,4 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	var value;
 	return {
@@ -6,10 +6,10 @@ System.register(['./main.js'], function (exports) {
 			value = module.value;
 			exports('value', module.value);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/system/main.js b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/system/main.js
index b49c63ff1..b922ce43d 100644
--- a/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/system/main.js
+++ b/test/chunking-form/samples/improved-dynamic-chunks/single-dynamic/_expected/system/main.js
@@ -1,13 +1,13 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 'shared');
 
 			console.log('main', value);
 			module.import('./generated-dynamic.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/amd/components/index.js b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/amd/components/index.js
index db7eff476..6362ec20f 100644
--- a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/amd/components/index.js
+++ b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/amd/components/index.js
@@ -1,10 +1,10 @@
-define(['exports', './sub/index'], function (exports, index) { 'use strict';
+define(['exports', './sub/index'], (function (exports, index) { 'use strict';
 
-	const baz = { bar: index['default'] };
+	const baz = { bar: index["default"] };
 
 	exports.foo = index.foo;
 	exports.baz = baz;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/amd/components/sub/index.js b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/amd/components/sub/index.js
index 61356b3c0..7ea885c8c 100644
--- a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/amd/components/sub/index.js
+++ b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/amd/components/sub/index.js
@@ -1,11 +1,11 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = 'bar';
 	var bar = () => {};
 
-	exports['default'] = bar;
+	exports["default"] = bar;
 	exports.foo = foo;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/amd/main.js b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/amd/main.js
index 9e02e78d2..03a4f176c 100644
--- a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/amd/main.js
+++ b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './components/index', './components/sub/index'], function (exports, index, index$1) { 'use strict';
+define(['exports', './components/index', './components/sub/index'], (function (exports, index, index$1) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './components/index', './components/sub/index'], function (ex
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/cjs/components/index.js b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/cjs/components/index.js
index 848372ab7..a9e51f230 100644
--- a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/cjs/components/index.js
+++ b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/cjs/components/index.js
@@ -4,7 +4,7 @@ Object.defineProperty(exports, '__esModule', { value: true });
 
 var index = require('./sub/index.js');
 
-const baz = { bar: index['default'] };
+const baz = { bar: index["default"] };
 
 exports.foo = index.foo;
 exports.baz = baz;
diff --git a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/cjs/components/sub/index.js b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/cjs/components/sub/index.js
index a37c5b92f..9676a7920 100644
--- a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/cjs/components/sub/index.js
+++ b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/cjs/components/sub/index.js
@@ -5,5 +5,5 @@ Object.defineProperty(exports, '__esModule', { value: true });
 const foo = 'bar';
 var bar = () => {};
 
-exports['default'] = bar;
+exports["default"] = bar;
 exports.foo = foo;
diff --git a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/system/components/index.js b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/system/components/index.js
index 17def0f80..d4a4217d3 100644
--- a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/system/components/index.js
+++ b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/system/components/index.js
@@ -1,15 +1,15 @@
-System.register('bundle', ['./sub/index.js'], function (exports) {
+System.register('bundle', ['./sub/index.js'], (function (exports) {
 	'use strict';
 	var bar;
 	return {
 		setters: [function (module) {
-			bar = module.default;
+			bar = module["default"];
 			exports('foo', module.foo);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const baz = exports('baz', { bar });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/system/components/sub/index.js b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/system/components/sub/index.js
index 2174c1939..f6f4fdff6 100644
--- a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/system/components/sub/index.js
+++ b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/system/components/sub/index.js
@@ -1,11 +1,11 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = exports('foo', 'bar');
 			var bar = exports('default', () => {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/system/main.js b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/system/main.js
index 8aafd8ee3..26be107a7 100644
--- a/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/system/main.js
+++ b/test/chunking-form/samples/indirect-reexports-preserve-modules/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register('bundle', ['./components/index.js', './components/sub/index.js'], function (exports) {
+System.register('bundle', ['./components/index.js', './components/sub/index.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
@@ -6,10 +6,10 @@ System.register('bundle', ['./components/index.js', './components/sub/index.js']
 		}, function (module) {
 			exports('foo', module.foo);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected.js b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected.js
deleted file mode 100644
index 8607119d3..000000000
--- a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected.js
+++ /dev/null
@@ -1,78 +0,0 @@
-'use strict';
-
-Object.defineProperty(exports, '__esModule', { value: true });
-
-var externalFalse = require('external-false');
-var externalTrue = require('external-true');
-var externalDefault = require('external-default');
-var externalEsModule = require('external-esModule');
-
-function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex : { 'default': ex }; }
-
-function _interopNamespace(e) {
-	if (e && e.__esModule) { return e; } else {
-		var n = Object.create(null);
-		if (e) {
-			Object.keys(e).forEach(function (k) {
-				var d = Object.getOwnPropertyDescriptor(e, k);
-				Object.defineProperty(n, k, d.get ? d : {
-					enumerable: true,
-					get: function () {
-						return e[k];
-					}
-				});
-			});
-		}
-		n['default'] = e;
-		return Object.freeze(n);
-	}
-}
-
-var externalTrue__namespace = /*#__PURE__*/_interopNamespace(externalTrue);
-var externalTrue__default = /*#__PURE__*/_interopDefault(externalTrue);
-var externalDefault__namespace = /*#__PURE__*/_interopNamespace(externalDefault);
-
-
-
-Object.defineProperty(exports, 'barFalse', {
-	enumerable: true,
-	get: function () {
-		return externalFalse.barFalse;
-	}
-});
-exports.externalFalse = externalFalse;
-exports.fooFalse = externalFalse;
-Object.defineProperty(exports, 'barTrue', {
-	enumerable: true,
-	get: function () {
-		return externalTrue.barTrue;
-	}
-});
-exports.externalTrue = externalTrue__namespace;
-Object.defineProperty(exports, 'fooTrue', {
-	enumerable: true,
-	get: function () {
-		return externalTrue__default['default'];
-	}
-});
-Object.defineProperty(exports, 'barDefault', {
-	enumerable: true,
-	get: function () {
-		return externalDefault.barDefault;
-	}
-});
-exports.externalDefault = externalDefault__namespace;
-exports.fooDefault = externalDefault;
-Object.defineProperty(exports, 'barEsModule', {
-	enumerable: true,
-	get: function () {
-		return externalEsModule.barEsModule;
-	}
-});
-exports.externalEsModule = externalEsModule;
-Object.defineProperty(exports, 'fooEsModule', {
-	enumerable: true,
-	get: function () {
-		return externalEsModule['default'];
-	}
-});
diff --git a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/auto.js b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/auto.js
index 3a34ca9e2..0ea2d1549 100644
--- a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/auto.js
+++ b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/auto.js
@@ -1,4 +1,4 @@
-define(['external-auto'], function (externalAuto) { 'use strict';
+define(['external-auto'], (function (externalAuto) { 'use strict';
 
 	function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }
 
@@ -6,6 +6,6 @@ define(['external-auto'], function (externalAuto) { 'use strict';
 
 
 
-	return externalAuto__default['default'];
+	return externalAuto__default["default"];
 
-});
+}));
diff --git a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/default.js b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/default.js
index c936d8f52..c721a6d3e 100644
--- a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/default.js
+++ b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/default.js
@@ -1,7 +1,7 @@
-define(['external-default'], function (externalDefault) { 'use strict';
+define(['external-default'], (function (externalDefault) { 'use strict';
 
 
 
 	return externalDefault;
 
-});
+}));
diff --git a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/defaultOnly.js b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/defaultOnly.js
index c936d8f52..c721a6d3e 100644
--- a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/defaultOnly.js
+++ b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/defaultOnly.js
@@ -1,7 +1,7 @@
-define(['external-default'], function (externalDefault) { 'use strict';
+define(['external-default'], (function (externalDefault) { 'use strict';
 
 
 
 	return externalDefault;
 
-});
+}));
diff --git a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/esModule.js b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/esModule.js
index a26140cc7..9b8698baf 100644
--- a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/esModule.js
+++ b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/amd/esModule.js
@@ -1,7 +1,7 @@
-define(['external-esModule'], function (externalEsModule) { 'use strict';
+define(['external-esModule'], (function (externalEsModule) { 'use strict';
 
 
 
-	return externalEsModule['default'];
+	return externalEsModule["default"];
 
-});
+}));
diff --git a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/cjs/auto.js b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/cjs/auto.js
index ebee47076..27e8215f6 100644
--- a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/cjs/auto.js
+++ b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/cjs/auto.js
@@ -8,4 +8,4 @@ var externalAuto__default = /*#__PURE__*/_interopDefault(externalAuto);
 
 
 
-module.exports = externalAuto__default['default'];
+module.exports = externalAuto__default["default"];
diff --git a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/cjs/esModule.js b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/cjs/esModule.js
index 0dcb175c7..6c5bbd1de 100644
--- a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/cjs/esModule.js
+++ b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/cjs/esModule.js
@@ -4,4 +4,4 @@ var externalEsModule = require('external-esModule');
 
 
 
-module.exports = externalEsModule['default'];
+module.exports = externalEsModule["default"];
diff --git a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/auto.js b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/auto.js
index 767082a71..7a269d048 100644
--- a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/auto.js
+++ b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/auto.js
@@ -1,13 +1,13 @@
-System.register(['external-auto'], function (exports) {
+System.register(['external-auto'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('default', module.default);
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/default.js b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/default.js
index 88b0186a0..9f933cd56 100644
--- a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/default.js
+++ b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/default.js
@@ -1,13 +1,13 @@
-System.register(['external-default'], function (exports) {
+System.register(['external-default'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('default', module.default);
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/defaultOnly.js b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/defaultOnly.js
index 88b0186a0..9f933cd56 100644
--- a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/defaultOnly.js
+++ b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/defaultOnly.js
@@ -1,13 +1,13 @@
-System.register(['external-default'], function (exports) {
+System.register(['external-default'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('default', module.default);
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/esModule.js b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/esModule.js
index e2f647807..feb418dc6 100644
--- a/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/esModule.js
+++ b/test/chunking-form/samples/interop-per-reexported-default-dependency/_expected/system/esModule.js
@@ -1,13 +1,13 @@
-System.register(['external-esModule'], function (exports) {
+System.register(['external-esModule'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('default', module.default);
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/amd/main1.js b/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/amd/main1.js
index a973f4d8d..56e0171e9 100644
--- a/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/amd/main1.js
+++ b/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./main2'], function (manual) { 'use strict';
+define(['./main2'], (function (manual) { 'use strict';
 
 	console.log('main', manual.reexported);
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/amd/main2.js b/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/amd/main2.js
index 674f42a40..ca9c82772 100644
--- a/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/amd/main2.js
+++ b/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/system/main1.js b/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/system/main1.js
index 36f1fb810..f189fb530 100644
--- a/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/system/main1.js
+++ b/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/system/main1.js
@@ -1,14 +1,14 @@
-System.register(['./main2.js'], function () {
+System.register(['./main2.js'], (function () {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.reexported;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/system/main2.js b/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/system/main2.js
index e00ab6a2d..ec2b81330 100644
--- a/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/system/main2.js
+++ b/test/chunking-form/samples/manual-chunk-avoid-facade/_expected/system/main2.js
@@ -1,12 +1,12 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('reexported', 42);
 
 			console.log('main2', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/amd/main.js b/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/amd/main.js
index fc91f027a..9077cbb0e 100644
--- a/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/amd/main.js
+++ b/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	console.log('dep');
 
@@ -10,4 +10,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/amd/main2.js b/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/amd/main2.js
index d28c079a3..a8c2660dc 100644
--- a/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/amd/main2.js
+++ b/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./main'], function (outer) { 'use strict';
+define(['./main'], (function (outer) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/system/main.js b/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/system/main.js
index b92309e3b..54287b3c8 100644
--- a/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/system/main.js
+++ b/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/system/main2.js b/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/system/main2.js
index da731958b..13f34084b 100644
--- a/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/system/main2.js
+++ b/test/chunking-form/samples/manual-chunk-contains-entry-conflict/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./main.js'], function () {
+System.register(['./main.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-contains-entry-match/_expected/amd/main.js b/test/chunking-form/samples/manual-chunk-contains-entry-match/_expected/amd/main.js
index fc91f027a..9077cbb0e 100644
--- a/test/chunking-form/samples/manual-chunk-contains-entry-match/_expected/amd/main.js
+++ b/test/chunking-form/samples/manual-chunk-contains-entry-match/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	console.log('dep');
 
@@ -10,4 +10,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-contains-entry-match/_expected/system/main.js b/test/chunking-form/samples/manual-chunk-contains-entry-match/_expected/system/main.js
index b92309e3b..54287b3c8 100644
--- a/test/chunking-form/samples/manual-chunk-contains-entry-match/_expected/system/main.js
+++ b/test/chunking-form/samples/manual-chunk-contains-entry-match/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/amd/main.js b/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/amd/main.js
index fc91f027a..9077cbb0e 100644
--- a/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/amd/main.js
+++ b/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	console.log('dep');
 
@@ -10,4 +10,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/amd/main2.js b/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/amd/main2.js
index e007f54e5..e5e4e1a17 100644
--- a/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/amd/main2.js
+++ b/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./main'], function (other) { 'use strict';
+define(['./main'], (function (other) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/system/main.js b/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/system/main.js
index b92309e3b..54287b3c8 100644
--- a/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/system/main.js
+++ b/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/system/main2.js b/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/system/main2.js
index da731958b..13f34084b 100644
--- a/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/system/main2.js
+++ b/test/chunking-form/samples/manual-chunk-is-entry-conflict/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./main.js'], function () {
+System.register(['./main.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-is-entry-match/_expected/amd/main.js b/test/chunking-form/samples/manual-chunk-is-entry-match/_expected/amd/main.js
index fc91f027a..9077cbb0e 100644
--- a/test/chunking-form/samples/manual-chunk-is-entry-match/_expected/amd/main.js
+++ b/test/chunking-form/samples/manual-chunk-is-entry-match/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	console.log('dep');
 
@@ -10,4 +10,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunk-is-entry-match/_expected/system/main.js b/test/chunking-form/samples/manual-chunk-is-entry-match/_expected/system/main.js
index b92309e3b..54287b3c8 100644
--- a/test/chunking-form/samples/manual-chunk-is-entry-match/_expected/system/main.js
+++ b/test/chunking-form/samples/manual-chunk-is-entry-match/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep');
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/generated-manual-inner.js b/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/generated-manual-inner.js
index 5068b5fd9..a0d11c04e 100644
--- a/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/generated-manual-inner.js
+++ b/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/generated-manual-inner.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('inner');
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/generated-manual-middle.js b/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/generated-manual-middle.js
index a12cddc2c..15b8a8171 100644
--- a/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/generated-manual-middle.js
+++ b/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/generated-manual-middle.js
@@ -1,5 +1,5 @@
-define(['./generated-manual-inner'], function (manualInner) { 'use strict';
+define(['./generated-manual-inner'], (function (manualInner) { 'use strict';
 
 	console.log('middle');
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/generated-manual-outer.js b/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/generated-manual-outer.js
index 19b333700..e40914a91 100644
--- a/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/generated-manual-outer.js
+++ b/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/generated-manual-outer.js
@@ -1,5 +1,5 @@
-define(['./generated-manual-middle'], function (manualMiddle) { 'use strict';
+define(['./generated-manual-middle'], (function (manualMiddle) { 'use strict';
 
 	console.log('outer');
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/main.js b/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/main.js
index 28fbd1e66..bab51c5ba 100644
--- a/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/main.js
+++ b/test/chunking-form/samples/manual-chunks-different-nested/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-manual-outer', './generated-manual-middle', './generated-manual-inner'], function (manualOuter, manualMiddle, manualInner) { 'use strict';
+define(['./generated-manual-outer', './generated-manual-middle', './generated-manual-inner'], (function (manualOuter, manualMiddle, manualInner) { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/generated-manual-inner.js b/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/generated-manual-inner.js
index 7079c6dea..402e3d2df 100644
--- a/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/generated-manual-inner.js
+++ b/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/generated-manual-inner.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('inner');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/generated-manual-middle.js b/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/generated-manual-middle.js
index e972910e5..8b77cba04 100644
--- a/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/generated-manual-middle.js
+++ b/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/generated-manual-middle.js
@@ -1,11 +1,11 @@
-System.register(['./generated-manual-inner.js'], function () {
+System.register(['./generated-manual-inner.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('middle');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/generated-manual-outer.js b/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/generated-manual-outer.js
index 865719280..10615e0f8 100644
--- a/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/generated-manual-outer.js
+++ b/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/generated-manual-outer.js
@@ -1,11 +1,11 @@
-System.register(['./generated-manual-middle.js'], function () {
+System.register(['./generated-manual-middle.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('outer');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/main.js b/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/main.js
index 9719fd497..f1f1c182f 100644
--- a/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/main.js
+++ b/test/chunking-form/samples/manual-chunks-different-nested/_expected/system/main.js
@@ -1,11 +1,11 @@
-System.register(['./generated-manual-outer.js', './generated-manual-middle.js', './generated-manual-inner.js'], function () {
+System.register(['./generated-manual-outer.js', './generated-manual-middle.js', './generated-manual-inner.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/amd/generated-dynamic.js
index 06d0b9795..1d8442491 100644
--- a/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/amd/generated-dynamic.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const DEP = 'DEP';
 
@@ -31,4 +31,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.dynamic2 = dynamic2;
 	exports.dynamic3 = dynamic3;
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/amd/main.js b/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/amd/main.js
index dd2114e5c..7326ba1aa 100644
--- a/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/amd/main.js
+++ b/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['require', './generated-dynamic'], function (require, dynamic) { 'use strict';
+define(['require', './generated-dynamic'], (function (require, dynamic) { 'use strict';
 
-	Promise.all([new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(function (n) { return n.dynamic1; }), new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(function (n) { return n.dynamic2; }), new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(function (n) { return n.dynamic3; })]).then(
+	Promise.all([new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(function (n) { return n.dynamic1; }), new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(function (n) { return n.dynamic2; }), new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(function (n) { return n.dynamic3; })]).then(
 		results => console.log(results, dynamic.DEP)
 	);
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/system/generated-dynamic.js b/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/system/generated-dynamic.js
index 768028d36..8304474a6 100644
--- a/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/system/generated-dynamic.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const DEP = exports('D', 'DEP');
 
@@ -32,6 +32,6 @@ System.register([], function (exports) {
 			});
 			exports('b', dynamic1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/system/main.js b/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/system/main.js
index 3d78385bd..f8bb41b07 100644
--- a/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/system/main.js
+++ b/test/chunking-form/samples/manual-chunks-dynamic-facades/_expected/system/main.js
@@ -1,16 +1,16 @@
-System.register(['./generated-dynamic.js'], function (exports, module) {
+System.register(['./generated-dynamic.js'], (function (exports, module) {
 	'use strict';
 	var DEP;
 	return {
 		setters: [function (module) {
 			DEP = module.D;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			Promise.all([module.import('./generated-dynamic.js').then(function (n) { return n.b; }), module.import('./generated-dynamic.js').then(function (n) { return n.d; }), module.import('./generated-dynamic.js').then(function (n) { return n.a; })]).then(
 				results => console.log(results, DEP)
 			);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/amd/generated-dynamic.js
index 076fa7636..c46b71b03 100644
--- a/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/amd/generated-dynamic.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	console.log('dynamic2');
 
@@ -22,4 +22,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.dynamic1 = dynamic1;
 	exports.dynamic2 = dynamic2;
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/amd/main.js b/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/amd/main.js
index 134e33a9f..ac3701e11 100644
--- a/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/amd/main.js
+++ b/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/amd/main.js
@@ -1,6 +1,6 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(function (n) { return n.dynamic1; }).then(result => console.log(result));
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(function (n) { return n.dynamic2; }).then(result => console.log(result));
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(function (n) { return n.dynamic1; }).then(result => console.log(result));
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(function (n) { return n.dynamic2; }).then(result => console.log(result));
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/system/generated-dynamic.js b/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/system/generated-dynamic.js
index 7b09ab0ef..c65612610 100644
--- a/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/system/generated-dynamic.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic2');
 
@@ -24,6 +24,6 @@ System.register([], function (exports) {
 			});
 			exports('a', dynamic1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/system/main.js b/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/system/main.js
index a59ec2ff8..ac2320103 100644
--- a/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/system/main.js
+++ b/test/chunking-form/samples/manual-chunks-dynamic-name-conflict/_expected/system/main.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic.js').then(function (n) { return n.a; }).then(result => console.log(result));
 			module.import('./generated-dynamic.js').then(function (n) { return n.d; }).then(result => console.log(result));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-dynamic/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/manual-chunks-dynamic/_expected/amd/generated-dynamic.js
index 94b0e40c8..49c2415e4 100644
--- a/test/chunking-form/samples/manual-chunks-dynamic/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/manual-chunks-dynamic/_expected/amd/generated-dynamic.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const DYNAMIC_USED_BY_A = 'DYNAMIC_USED_BY_A';
 
 	exports.DYNAMIC_USED_BY_A = DYNAMIC_USED_BY_A;
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-dynamic/_expected/amd/main.js b/test/chunking-form/samples/manual-chunks-dynamic/_expected/amd/main.js
index 7ade37c39..9dd81f187 100644
--- a/test/chunking-form/samples/manual-chunks-dynamic/_expected/amd/main.js
+++ b/test/chunking-form/samples/manual-chunks-dynamic/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(({DYNAMIC_USED_BY_A}) => console.log(DYNAMIC_USED_BY_A));
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(({DYNAMIC_USED_BY_A}) => console.log(DYNAMIC_USED_BY_A));
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-dynamic/_expected/system/generated-dynamic.js b/test/chunking-form/samples/manual-chunks-dynamic/_expected/system/generated-dynamic.js
index cf05be5bb..7cf6795c0 100644
--- a/test/chunking-form/samples/manual-chunks-dynamic/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/manual-chunks-dynamic/_expected/system/generated-dynamic.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const DYNAMIC_USED_BY_A = exports('DYNAMIC_USED_BY_A', 'DYNAMIC_USED_BY_A');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-dynamic/_expected/system/main.js b/test/chunking-form/samples/manual-chunks-dynamic/_expected/system/main.js
index 5c1d9db7c..df0f0195b 100644
--- a/test/chunking-form/samples/manual-chunks-dynamic/_expected/system/main.js
+++ b/test/chunking-form/samples/manual-chunks-dynamic/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic.js').then(({DYNAMIC_USED_BY_A}) => console.log(DYNAMIC_USED_BY_A));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-function/_expected/amd/generated-chunk-b.js b/test/chunking-form/samples/manual-chunks-function/_expected/amd/generated-chunk-b.js
index 234e6a42b..4e491fbab 100644
--- a/test/chunking-form/samples/manual-chunks-function/_expected/amd/generated-chunk-b.js
+++ b/test/chunking-form/samples/manual-chunks-function/_expected/amd/generated-chunk-b.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('dep2');
 
 	console.log('dep-b');
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-function/_expected/amd/generated-chunk-c.js b/test/chunking-form/samples/manual-chunks-function/_expected/amd/generated-chunk-c.js
index d62075790..0fbaf713d 100644
--- a/test/chunking-form/samples/manual-chunks-function/_expected/amd/generated-chunk-c.js
+++ b/test/chunking-form/samples/manual-chunks-function/_expected/amd/generated-chunk-c.js
@@ -1,5 +1,5 @@
-define(['./generated-chunk-b'], function (chunkB) { 'use strict';
+define(['./generated-chunk-b'], (function (chunkB) { 'use strict';
 
 	console.log('dep-c');
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-function/_expected/amd/main-a.js b/test/chunking-form/samples/manual-chunks-function/_expected/amd/main-a.js
index 35ee425f7..e3934b106 100644
--- a/test/chunking-form/samples/manual-chunks-function/_expected/amd/main-a.js
+++ b/test/chunking-form/samples/manual-chunks-function/_expected/amd/main-a.js
@@ -1,4 +1,4 @@
-define(['./generated-chunk-c', './generated-chunk-b'], function (chunkC, chunkB) { 'use strict';
+define(['./generated-chunk-c', './generated-chunk-b'], (function (chunkC, chunkB) { 'use strict';
 
 	console.log('dep1');
 
@@ -6,4 +6,4 @@ define(['./generated-chunk-c', './generated-chunk-b'], function (chunkC, chunkB)
 
 	console.log('main-a');
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-function/_expected/system/generated-chunk-b.js b/test/chunking-form/samples/manual-chunks-function/_expected/system/generated-chunk-b.js
index fabf038cb..5dd8fc974 100644
--- a/test/chunking-form/samples/manual-chunks-function/_expected/system/generated-chunk-b.js
+++ b/test/chunking-form/samples/manual-chunks-function/_expected/system/generated-chunk-b.js
@@ -1,12 +1,12 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep2');
 
 			console.log('dep-b');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-function/_expected/system/generated-chunk-c.js b/test/chunking-form/samples/manual-chunks-function/_expected/system/generated-chunk-c.js
index 4cd41ad57..2db7d11ad 100644
--- a/test/chunking-form/samples/manual-chunks-function/_expected/system/generated-chunk-c.js
+++ b/test/chunking-form/samples/manual-chunks-function/_expected/system/generated-chunk-c.js
@@ -1,11 +1,11 @@
-System.register(['./generated-chunk-b.js'], function () {
+System.register(['./generated-chunk-b.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep-c');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-function/_expected/system/main-a.js b/test/chunking-form/samples/manual-chunks-function/_expected/system/main-a.js
index c897b0643..dac8db86d 100644
--- a/test/chunking-form/samples/manual-chunks-function/_expected/system/main-a.js
+++ b/test/chunking-form/samples/manual-chunks-function/_expected/system/main-a.js
@@ -1,8 +1,8 @@
-System.register(['./generated-chunk-c.js', './generated-chunk-b.js'], function () {
+System.register(['./generated-chunk-c.js', './generated-chunk-b.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep1');
 
@@ -10,6 +10,6 @@ System.register(['./generated-chunk-c.js', './generated-chunk-b.js'], function (
 
 			console.log('main-a');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-nested/_expected/amd/generated-manual.js b/test/chunking-form/samples/manual-chunks-nested/_expected/amd/generated-manual.js
index e81d58f94..3c9aa92fa 100644
--- a/test/chunking-form/samples/manual-chunks-nested/_expected/amd/generated-manual.js
+++ b/test/chunking-form/samples/manual-chunks-nested/_expected/amd/generated-manual.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('inner');
 
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
 	console.log('outer');
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-nested/_expected/amd/main.js b/test/chunking-form/samples/manual-chunks-nested/_expected/amd/main.js
index c9a0d54be..b9a9d6430 100644
--- a/test/chunking-form/samples/manual-chunks-nested/_expected/amd/main.js
+++ b/test/chunking-form/samples/manual-chunks-nested/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-manual'], function (manual) { 'use strict';
+define(['./generated-manual'], (function (manual) { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-nested/_expected/system/generated-manual.js b/test/chunking-form/samples/manual-chunks-nested/_expected/system/generated-manual.js
index b297489bb..4596d906e 100644
--- a/test/chunking-form/samples/manual-chunks-nested/_expected/system/generated-manual.js
+++ b/test/chunking-form/samples/manual-chunks-nested/_expected/system/generated-manual.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('inner');
 
@@ -9,6 +9,6 @@ System.register([], function () {
 
 			console.log('outer');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks-nested/_expected/system/main.js b/test/chunking-form/samples/manual-chunks-nested/_expected/system/main.js
index a1d452eba..c13117eb8 100644
--- a/test/chunking-form/samples/manual-chunks-nested/_expected/system/main.js
+++ b/test/chunking-form/samples/manual-chunks-nested/_expected/system/main.js
@@ -1,11 +1,11 @@
-System.register(['./generated-manual.js'], function () {
+System.register(['./generated-manual.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks/_expected/amd/generated-deps2and3.js b/test/chunking-form/samples/manual-chunks/_expected/amd/generated-deps2and3.js
index 603811d8e..2321db642 100644
--- a/test/chunking-form/samples/manual-chunks/_expected/amd/generated-deps2and3.js
+++ b/test/chunking-form/samples/manual-chunks/_expected/amd/generated-deps2and3.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-lib1'], function (exports, lib1) { 'use strict';
+define(['exports', './generated-lib1'], (function (exports, lib1) { 'use strict';
 
   function fn$2 () {
     console.log('lib2 fn');
@@ -17,4 +17,4 @@ define(['exports', './generated-lib1'], function (exports, lib1) { 'use strict';
   exports.fn = fn$1;
   exports.fn$1 = fn;
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks/_expected/amd/generated-lib1.js b/test/chunking-form/samples/manual-chunks/_expected/amd/generated-lib1.js
index 8ee6361f5..6d846653c 100644
--- a/test/chunking-form/samples/manual-chunks/_expected/amd/generated-lib1.js
+++ b/test/chunking-form/samples/manual-chunks/_expected/amd/generated-lib1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn () {
     console.log('lib1 fn');
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
   exports.fn = fn;
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks/_expected/amd/main.js b/test/chunking-form/samples/manual-chunks/_expected/amd/main.js
index e636d3d3d..89925cb11 100644
--- a/test/chunking-form/samples/manual-chunks/_expected/amd/main.js
+++ b/test/chunking-form/samples/manual-chunks/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['./generated-deps2and3', './generated-lib1'], function (deps2and3, lib1) { 'use strict';
+define(['./generated-deps2and3', './generated-lib1'], (function (deps2and3, lib1) { 'use strict';
 
   function fn () {
     console.log('dep1 fn');
@@ -14,4 +14,4 @@ define(['./generated-deps2and3', './generated-lib1'], function (deps2and3, lib1)
 
   return Main;
 
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks/_expected/system/generated-deps2and3.js b/test/chunking-form/samples/manual-chunks/_expected/system/generated-deps2and3.js
index f76d52e19..a0867bcd9 100644
--- a/test/chunking-form/samples/manual-chunks/_expected/system/generated-deps2and3.js
+++ b/test/chunking-form/samples/manual-chunks/_expected/system/generated-deps2and3.js
@@ -1,11 +1,11 @@
-System.register(['./generated-lib1.js'], function (exports) {
+System.register(['./generated-lib1.js'], (function (exports) {
   'use strict';
   var fn$3;
   return {
     setters: [function (module) {
       fn$3 = module.f;
     }],
-    execute: function () {
+    execute: (function () {
 
       exports({
         a: fn,
@@ -26,6 +26,6 @@ System.register(['./generated-lib1.js'], function (exports) {
         console.log('dep3 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks/_expected/system/generated-lib1.js b/test/chunking-form/samples/manual-chunks/_expected/system/generated-lib1.js
index 46e60ceba..a6918ea9b 100644
--- a/test/chunking-form/samples/manual-chunks/_expected/system/generated-lib1.js
+++ b/test/chunking-form/samples/manual-chunks/_expected/system/generated-lib1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('f', fn);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('lib1 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/manual-chunks/_expected/system/main.js b/test/chunking-form/samples/manual-chunks/_expected/system/main.js
index b9ce4867e..a1339e813 100644
--- a/test/chunking-form/samples/manual-chunks/_expected/system/main.js
+++ b/test/chunking-form/samples/manual-chunks/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./generated-deps2and3.js', './generated-lib1.js'], function (exports) {
+System.register(['./generated-deps2and3.js', './generated-lib1.js'], (function (exports) {
   'use strict';
   var fn$1, fn$2;
   return {
@@ -6,7 +6,7 @@ System.register(['./generated-deps2and3.js', './generated-lib1.js'], function (e
       fn$1 = module.f;
       fn$2 = module.a;
     }, function () {}],
-    execute: function () {
+    execute: (function () {
 
       function fn () {
         console.log('dep1 fn');
@@ -20,6 +20,6 @@ System.register(['./generated-deps2and3.js', './generated-lib1.js'], function (e
         }
       } exports('default', Main);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/minify-internal-exports/_expected/amd/generated-shared2.js b/test/chunking-form/samples/minify-internal-exports/_expected/amd/generated-shared2.js
index 61a976ece..dfafa8ac1 100644
--- a/test/chunking-form/samples/minify-internal-exports/_expected/amd/generated-shared2.js
+++ b/test/chunking-form/samples/minify-internal-exports/_expected/amd/generated-shared2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const shared1 = 'shared1';
 	const foo$1 = 'foo1';
@@ -11,4 +11,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.f = foo$1;
 	exports.s = shared1;
 
-});
+}));
diff --git a/test/chunking-form/samples/minify-internal-exports/_expected/amd/main1.js b/test/chunking-form/samples/minify-internal-exports/_expected/amd/main1.js
index 24f7e65ba..76811b28f 100644
--- a/test/chunking-form/samples/minify-internal-exports/_expected/amd/main1.js
+++ b/test/chunking-form/samples/minify-internal-exports/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-shared2'], function (shared2) { 'use strict';
+define(['./generated-shared2'], (function (shared2) { 'use strict';
 
 	console.log(shared2.s, shared2.a, shared2.f);
 
-});
+}));
diff --git a/test/chunking-form/samples/minify-internal-exports/_expected/amd/main2.js b/test/chunking-form/samples/minify-internal-exports/_expected/amd/main2.js
index faa005356..187bd2221 100644
--- a/test/chunking-form/samples/minify-internal-exports/_expected/amd/main2.js
+++ b/test/chunking-form/samples/minify-internal-exports/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-shared2'], function (shared2) { 'use strict';
+define(['./generated-shared2'], (function (shared2) { 'use strict';
 
 	console.log(shared2.s, shared2.a, shared2.b);
 
-});
+}));
diff --git a/test/chunking-form/samples/minify-internal-exports/_expected/system/generated-shared2.js b/test/chunking-form/samples/minify-internal-exports/_expected/system/generated-shared2.js
index f00d62e9e..7a8afc4ed 100644
--- a/test/chunking-form/samples/minify-internal-exports/_expected/system/generated-shared2.js
+++ b/test/chunking-form/samples/minify-internal-exports/_expected/system/generated-shared2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared1 = exports('s', 'shared1');
 			const foo$1 = exports('f', 'foo1');
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 			var shared2 = exports('a', 'shared2');
 			const foo = exports('b', 'foo2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/minify-internal-exports/_expected/system/main1.js b/test/chunking-form/samples/minify-internal-exports/_expected/system/main1.js
index c2bdbb741..061c6d5b8 100644
--- a/test/chunking-form/samples/minify-internal-exports/_expected/system/main1.js
+++ b/test/chunking-form/samples/minify-internal-exports/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-shared2.js'], function () {
+System.register(['./generated-shared2.js'], (function () {
 	'use strict';
 	var shared1, shared2, foo;
 	return {
@@ -7,10 +7,10 @@ System.register(['./generated-shared2.js'], function () {
 			shared2 = module.a;
 			foo = module.f;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(shared1, shared2, foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/minify-internal-exports/_expected/system/main2.js b/test/chunking-form/samples/minify-internal-exports/_expected/system/main2.js
index 35d91984a..d9b017a88 100644
--- a/test/chunking-form/samples/minify-internal-exports/_expected/system/main2.js
+++ b/test/chunking-form/samples/minify-internal-exports/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-shared2.js'], function () {
+System.register(['./generated-shared2.js'], (function () {
 	'use strict';
 	var shared1, shared2, foo;
 	return {
@@ -7,10 +7,10 @@ System.register(['./generated-shared2.js'], function () {
 			shared2 = module.a;
 			foo = module.b;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(shared1, shared2, foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/missing-export-compact/_expected/amd/dep.js b/test/chunking-form/samples/missing-export-compact/_expected/amd/dep.js
index 086ad0730..c6c8e6f3d 100644
--- a/test/chunking-form/samples/missing-export-compact/_expected/amd/dep.js
+++ b/test/chunking-form/samples/missing-export-compact/_expected/amd/dep.js
@@ -1,3 +1,3 @@
-define(['exports'],function(exports){'use strict';var _missingExportShim=void 0;function x (arg) {
+define(['exports'],(function(exports){'use strict';var _missingExportShim=void 0;function x (arg) {
   sideEffect(arg);
-}exports.missingExport=_missingExportShim;exports.missingFn=_missingExportShim;exports.x=x;Object.defineProperty(exports,'__esModule',{value:true});});
\ No newline at end of file
+}exports.missingExport=_missingExportShim;exports.missingFn=_missingExportShim;exports.x=x;Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/chunking-form/samples/missing-export-compact/_expected/amd/main.js b/test/chunking-form/samples/missing-export-compact/_expected/amd/main.js
index 99e530fa9..5aa18aabd 100644
--- a/test/chunking-form/samples/missing-export-compact/_expected/amd/main.js
+++ b/test/chunking-form/samples/missing-export-compact/_expected/amd/main.js
@@ -1,2 +1,2 @@
-define(['./dep'],function(dep){'use strict';dep.missingFn();
-dep.x(dep.missingFn);});
\ No newline at end of file
+define(['./dep'],(function(dep){'use strict';dep.missingFn();
+dep.x(dep.missingFn);}));
\ No newline at end of file
diff --git a/test/chunking-form/samples/missing-export-compact/_expected/system/dep.js b/test/chunking-form/samples/missing-export-compact/_expected/system/dep.js
index 0513609b4..365358511 100644
--- a/test/chunking-form/samples/missing-export-compact/_expected/system/dep.js
+++ b/test/chunking-form/samples/missing-export-compact/_expected/system/dep.js
@@ -1,3 +1,3 @@
-System.register([],function(exports){'use strict';return{execute:function(){exports('x',x);var _missingExportShim=void 0;function x (arg) {
+System.register([],(function(exports){'use strict';return{execute:(function(){exports('x',x);var _missingExportShim=void 0;function x (arg) {
   sideEffect(arg);
-}exports({missingExport:_missingExportShim,missingFn:_missingExportShim});}}});
\ No newline at end of file
+}exports({missingExport:_missingExportShim,missingFn:_missingExportShim});})}}));
\ No newline at end of file
diff --git a/test/chunking-form/samples/missing-export-compact/_expected/system/main.js b/test/chunking-form/samples/missing-export-compact/_expected/system/main.js
index bf186d6ef..624d03832 100644
--- a/test/chunking-form/samples/missing-export-compact/_expected/system/main.js
+++ b/test/chunking-form/samples/missing-export-compact/_expected/system/main.js
@@ -1,2 +1,2 @@
-System.register(['./dep.js'],function(){'use strict';var _missingExportShim,x;return{setters:[function(module){_missingExportShim=module.missingFn;x=module.x;}],execute:function(){_missingExportShim();
-x(_missingExportShim);}}});
\ No newline at end of file
+System.register(['./dep.js'],(function(){'use strict';var _missingExportShim,x;return{setters:[function(module){_missingExportShim=module.missingFn;x=module.x;}],execute:(function(){_missingExportShim();
+x(_missingExportShim);})}}));
\ No newline at end of file
diff --git a/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/amd/dep1.js b/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/amd/dep1.js
index 4e6617810..3c213e8b5 100644
--- a/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/amd/dep1.js
+++ b/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/amd/dep1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var _missingExportShim = void 0;
 
@@ -16,4 +16,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/amd/dep2.js b/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/amd/dep2.js
index c93821838..e22f7bd7c 100644
--- a/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/amd/dep2.js
+++ b/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/amd/dep2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var _missingExportShim = void 0;
 
@@ -13,4 +13,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/amd/main.js b/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/amd/main.js
index ec4beefe5..86f8c8336 100644
--- a/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/amd/main.js
+++ b/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./dep1', './dep2'], function (dep1, dep2) { 'use strict';
+define(['./dep1', './dep2'], (function (dep1, dep2) { 'use strict';
 
 	console.log(dep1.missing1, dep2.missing2, dep2.previousShimmedExport);
 
-});
+}));
diff --git a/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/system/dep1.js b/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/system/dep1.js
index 292047e5f..566b812c7 100644
--- a/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/system/dep1.js
+++ b/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/system/dep1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var _missingExportShim = void 0;
 
@@ -17,6 +17,6 @@ System.register([], function (exports) {
 
 			exports('missing1', _missingExportShim);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/system/dep2.js b/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/system/dep2.js
index da8178d1d..3683f4b73 100644
--- a/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/system/dep2.js
+++ b/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/system/dep2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var _missingExportShim = void 0;
 
@@ -13,6 +13,6 @@ System.register([], function (exports) {
 
 			exports('missing2', _missingExportShim);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/system/main.js b/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/system/main.js
index fa94551b2..85562809d 100644
--- a/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/system/main.js
+++ b/test/chunking-form/samples/missing-export-reused-deconflicting/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./dep1.js', './dep2.js'], function () {
+System.register(['./dep1.js', './dep2.js'], (function () {
 	'use strict';
 	var _missingExportShim, _missingExportShim$1, _missingExportShim$2;
 	return {
@@ -8,10 +8,10 @@ System.register(['./dep1.js', './dep2.js'], function () {
 			_missingExportShim$1 = module.missing2;
 			_missingExportShim$2 = module.previousShimmedExport;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(_missingExportShim, _missingExportShim$1, _missingExportShim$2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/missing-export/_expected/amd/dep.js b/test/chunking-form/samples/missing-export/_expected/amd/dep.js
index c932a6047..d6655aa10 100644
--- a/test/chunking-form/samples/missing-export/_expected/amd/dep.js
+++ b/test/chunking-form/samples/missing-export/_expected/amd/dep.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   var _missingExportShim = void 0;
 
@@ -6,11 +6,11 @@ define(['exports'], function (exports) { 'use strict';
     sideEffect(arg);
   }
 
-  exports['default'] = _missingExportShim;
+  exports["default"] = _missingExportShim;
   exports.missingExport = _missingExportShim;
   exports.missingFn = _missingExportShim;
   exports.x = x;
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/missing-export/_expected/amd/main.js b/test/chunking-form/samples/missing-export/_expected/amd/main.js
index b26a87367..1c5cfbb74 100644
--- a/test/chunking-form/samples/missing-export/_expected/amd/main.js
+++ b/test/chunking-form/samples/missing-export/_expected/amd/main.js
@@ -1,6 +1,6 @@
-define(['./dep'], function (dep) { 'use strict';
+define(['./dep'], (function (dep) { 'use strict';
 
 	dep.missingFn();
 	dep.x(dep.missingFn);
 
-});
+}));
diff --git a/test/chunking-form/samples/missing-export/_expected/cjs/dep.js b/test/chunking-form/samples/missing-export/_expected/cjs/dep.js
index 5f8459792..3c6fb8064 100644
--- a/test/chunking-form/samples/missing-export/_expected/cjs/dep.js
+++ b/test/chunking-form/samples/missing-export/_expected/cjs/dep.js
@@ -8,7 +8,7 @@ function x (arg) {
   sideEffect(arg);
 }
 
-exports['default'] = _missingExportShim;
+exports["default"] = _missingExportShim;
 exports.missingExport = _missingExportShim;
 exports.missingFn = _missingExportShim;
 exports.x = x;
diff --git a/test/chunking-form/samples/missing-export/_expected/system/dep.js b/test/chunking-form/samples/missing-export/_expected/system/dep.js
index 550be0c3c..6e15f6d28 100644
--- a/test/chunking-form/samples/missing-export/_expected/system/dep.js
+++ b/test/chunking-form/samples/missing-export/_expected/system/dep.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('x', x);
 
@@ -17,6 +17,6 @@ System.register([], function (exports) {
         missingFn: _missingExportShim
       });
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/missing-export/_expected/system/main.js b/test/chunking-form/samples/missing-export/_expected/system/main.js
index f7e096a7b..f8539e604 100644
--- a/test/chunking-form/samples/missing-export/_expected/system/main.js
+++ b/test/chunking-form/samples/missing-export/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./dep.js'], function () {
+System.register(['./dep.js'], (function () {
 	'use strict';
 	var _missingExportShim, x;
 	return {
@@ -6,11 +6,11 @@ System.register(['./dep.js'], function () {
 			_missingExportShim = module.missingFn;
 			x = module.x;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			_missingExportShim();
 			x(_missingExportShim);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/multi-chunking/_expected/amd/generated-dep1.js b/test/chunking-form/samples/multi-chunking/_expected/amd/generated-dep1.js
index adcda7446..972b13ee1 100644
--- a/test/chunking-form/samples/multi-chunking/_expected/amd/generated-dep1.js
+++ b/test/chunking-form/samples/multi-chunking/_expected/amd/generated-dep1.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var num = 1;
 
 	exports.num = num;
 
-});
+}));
diff --git a/test/chunking-form/samples/multi-chunking/_expected/amd/generated-dep2.js b/test/chunking-form/samples/multi-chunking/_expected/amd/generated-dep2.js
index a1d8833c6..76b78a38c 100644
--- a/test/chunking-form/samples/multi-chunking/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/multi-chunking/_expected/amd/generated-dep2.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var num = 2;
 
 	exports.num = num;
 
-});
+}));
diff --git a/test/chunking-form/samples/multi-chunking/_expected/amd/generated-dep3.js b/test/chunking-form/samples/multi-chunking/_expected/amd/generated-dep3.js
index 301f565bc..69a887664 100644
--- a/test/chunking-form/samples/multi-chunking/_expected/amd/generated-dep3.js
+++ b/test/chunking-form/samples/multi-chunking/_expected/amd/generated-dep3.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var num = 3;
 
 	exports.num = num;
 
-});
+}));
diff --git a/test/chunking-form/samples/multi-chunking/_expected/amd/main1.js b/test/chunking-form/samples/multi-chunking/_expected/amd/main1.js
index d80fcec60..8e9958d5d 100644
--- a/test/chunking-form/samples/multi-chunking/_expected/amd/main1.js
+++ b/test/chunking-form/samples/multi-chunking/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-dep1', './generated-dep2'], function (dep1, dep2) { 'use strict';
+define(['./generated-dep1', './generated-dep2'], (function (dep1, dep2) { 'use strict';
 
 	console.log(dep1.num + dep2.num);
 
-});
+}));
diff --git a/test/chunking-form/samples/multi-chunking/_expected/amd/main2.js b/test/chunking-form/samples/multi-chunking/_expected/amd/main2.js
index a1004c1c5..b71c96573 100644
--- a/test/chunking-form/samples/multi-chunking/_expected/amd/main2.js
+++ b/test/chunking-form/samples/multi-chunking/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-dep2', './generated-dep3'], function (dep2, dep3) { 'use strict';
+define(['./generated-dep2', './generated-dep3'], (function (dep2, dep3) { 'use strict';
 
 	console.log(dep2.num + dep3.num);
 
-});
+}));
diff --git a/test/chunking-form/samples/multi-chunking/_expected/amd/main3.js b/test/chunking-form/samples/multi-chunking/_expected/amd/main3.js
index d7f5a6375..db99b601e 100644
--- a/test/chunking-form/samples/multi-chunking/_expected/amd/main3.js
+++ b/test/chunking-form/samples/multi-chunking/_expected/amd/main3.js
@@ -1,5 +1,5 @@
-define(['./generated-dep1', './generated-dep3'], function (dep1, dep3) { 'use strict';
+define(['./generated-dep1', './generated-dep3'], (function (dep1, dep3) { 'use strict';
 
 	console.log(dep1.num + dep3.num);
 
-});
+}));
diff --git a/test/chunking-form/samples/multi-chunking/_expected/system/generated-dep1.js b/test/chunking-form/samples/multi-chunking/_expected/system/generated-dep1.js
index 6f90b9452..fc31cf2ca 100644
--- a/test/chunking-form/samples/multi-chunking/_expected/system/generated-dep1.js
+++ b/test/chunking-form/samples/multi-chunking/_expected/system/generated-dep1.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var num = exports('n', 1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/multi-chunking/_expected/system/generated-dep2.js b/test/chunking-form/samples/multi-chunking/_expected/system/generated-dep2.js
index cb32055bf..84584ddd0 100644
--- a/test/chunking-form/samples/multi-chunking/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/multi-chunking/_expected/system/generated-dep2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var num = exports('n', 2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/multi-chunking/_expected/system/generated-dep3.js b/test/chunking-form/samples/multi-chunking/_expected/system/generated-dep3.js
index 77b824db0..9a694d1be 100644
--- a/test/chunking-form/samples/multi-chunking/_expected/system/generated-dep3.js
+++ b/test/chunking-form/samples/multi-chunking/_expected/system/generated-dep3.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var num = exports('n', 3);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/multi-chunking/_expected/system/main1.js b/test/chunking-form/samples/multi-chunking/_expected/system/main1.js
index 3225e3904..d6c446c94 100644
--- a/test/chunking-form/samples/multi-chunking/_expected/system/main1.js
+++ b/test/chunking-form/samples/multi-chunking/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep1.js', './generated-dep2.js'], function () {
+System.register(['./generated-dep1.js', './generated-dep2.js'], (function () {
 	'use strict';
 	var num, num$1;
 	return {
@@ -7,10 +7,10 @@ System.register(['./generated-dep1.js', './generated-dep2.js'], function () {
 		}, function (module) {
 			num$1 = module.n;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(num + num$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/multi-chunking/_expected/system/main2.js b/test/chunking-form/samples/multi-chunking/_expected/system/main2.js
index 36473866c..a7c20f30e 100644
--- a/test/chunking-form/samples/multi-chunking/_expected/system/main2.js
+++ b/test/chunking-form/samples/multi-chunking/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep2.js', './generated-dep3.js'], function () {
+System.register(['./generated-dep2.js', './generated-dep3.js'], (function () {
 	'use strict';
 	var num, num$1;
 	return {
@@ -7,10 +7,10 @@ System.register(['./generated-dep2.js', './generated-dep3.js'], function () {
 		}, function (module) {
 			num$1 = module.n;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(num + num$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/multi-chunking/_expected/system/main3.js b/test/chunking-form/samples/multi-chunking/_expected/system/main3.js
index 969f68fdd..b0866a7c0 100644
--- a/test/chunking-form/samples/multi-chunking/_expected/system/main3.js
+++ b/test/chunking-form/samples/multi-chunking/_expected/system/main3.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep1.js', './generated-dep3.js'], function () {
+System.register(['./generated-dep1.js', './generated-dep3.js'], (function () {
 	'use strict';
 	var num, num$1;
 	return {
@@ -7,10 +7,10 @@ System.register(['./generated-dep1.js', './generated-dep3.js'], function () {
 		}, function (module) {
 			num$1 = module.n;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(num + num$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/multiple-entry-points/_expected/amd/chunks/shared.js b/test/chunking-form/samples/multiple-entry-points/_expected/amd/chunks/shared.js
index 65e591589..5e9a4c1e8 100644
--- a/test/chunking-form/samples/multiple-entry-points/_expected/amd/chunks/shared.js
+++ b/test/chunking-form/samples/multiple-entry-points/_expected/amd/chunks/shared.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const sharedValue = 'shared';
 
 	exports.sharedValue = sharedValue;
 
-});
+}));
diff --git a/test/chunking-form/samples/multiple-entry-points/_expected/amd/main.js b/test/chunking-form/samples/multiple-entry-points/_expected/amd/main.js
index d9da2d72b..0d71d8f0f 100644
--- a/test/chunking-form/samples/multiple-entry-points/_expected/amd/main.js
+++ b/test/chunking-form/samples/multiple-entry-points/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./chunks/shared'], function (shared) { 'use strict';
+define(['./chunks/shared'], (function (shared) { 'use strict';
 
 	assert.equal(shared.sharedValue, 'shared');
 
-});
+}));
diff --git a/test/chunking-form/samples/multiple-entry-points/_expected/amd/other.js b/test/chunking-form/samples/multiple-entry-points/_expected/amd/other.js
index dbb13d1f8..2d51b556b 100644
--- a/test/chunking-form/samples/multiple-entry-points/_expected/amd/other.js
+++ b/test/chunking-form/samples/multiple-entry-points/_expected/amd/other.js
@@ -1,4 +1,4 @@
-define(['exports', './chunks/shared'], function (exports, shared) { 'use strict';
+define(['exports', './chunks/shared'], (function (exports, shared) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './chunks/shared'], function (exports, shared) { 'use strict'
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/multiple-entry-points/_expected/system/chunks/shared.js b/test/chunking-form/samples/multiple-entry-points/_expected/system/chunks/shared.js
index e50702721..2e36f3528 100644
--- a/test/chunking-form/samples/multiple-entry-points/_expected/system/chunks/shared.js
+++ b/test/chunking-form/samples/multiple-entry-points/_expected/system/chunks/shared.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const sharedValue = exports('s', 'shared');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/multiple-entry-points/_expected/system/main.js b/test/chunking-form/samples/multiple-entry-points/_expected/system/main.js
index e1235fab6..baf838e3b 100644
--- a/test/chunking-form/samples/multiple-entry-points/_expected/system/main.js
+++ b/test/chunking-form/samples/multiple-entry-points/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./chunks/shared.js'], function () {
+System.register(['./chunks/shared.js'], (function () {
 	'use strict';
 	var sharedValue;
 	return {
 		setters: [function (module) {
 			sharedValue = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			assert.equal(sharedValue, 'shared');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/multiple-entry-points/_expected/system/other.js b/test/chunking-form/samples/multiple-entry-points/_expected/system/other.js
index 3dac21b55..cc804b0fa 100644
--- a/test/chunking-form/samples/multiple-entry-points/_expected/system/other.js
+++ b/test/chunking-form/samples/multiple-entry-points/_expected/system/other.js
@@ -1,13 +1,13 @@
-System.register(['./chunks/shared.js'], function (exports) {
+System.register(['./chunks/shared.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('sharedValue', module.s);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-imports-from-chunks/_expected/amd/main1.js b/test/chunking-form/samples/namespace-imports-from-chunks/_expected/amd/main1.js
index c99512344..f72310a33 100644
--- a/test/chunking-form/samples/namespace-imports-from-chunks/_expected/amd/main1.js
+++ b/test/chunking-form/samples/namespace-imports-from-chunks/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var p = 42;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-imports-from-chunks/_expected/amd/main2.js b/test/chunking-form/samples/namespace-imports-from-chunks/_expected/amd/main2.js
index 40c8ca312..12c62badd 100644
--- a/test/chunking-form/samples/namespace-imports-from-chunks/_expected/amd/main2.js
+++ b/test/chunking-form/samples/namespace-imports-from-chunks/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./main1'], function (main1) { 'use strict';
+define(['./main1'], (function (main1) { 'use strict';
 
 	console.log( main1.p );
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-imports-from-chunks/_expected/system/main1.js b/test/chunking-form/samples/namespace-imports-from-chunks/_expected/system/main1.js
index d77d432a8..bfd562e77 100644
--- a/test/chunking-form/samples/namespace-imports-from-chunks/_expected/system/main1.js
+++ b/test/chunking-form/samples/namespace-imports-from-chunks/_expected/system/main1.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var p = exports('p', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-imports-from-chunks/_expected/system/main2.js b/test/chunking-form/samples/namespace-imports-from-chunks/_expected/system/main2.js
index 73dd04388..388e8eea7 100644
--- a/test/chunking-form/samples/namespace-imports-from-chunks/_expected/system/main2.js
+++ b/test/chunking-form/samples/namespace-imports-from-chunks/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./main1.js'], function () {
+System.register(['./main1.js'], (function () {
 	'use strict';
 	var p;
 	return {
 		setters: [function (module) {
 			p = module.p;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log( p );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-object-import/_expected/amd/generated-main2.js b/test/chunking-form/samples/namespace-object-import/_expected/amd/generated-main2.js
index 607a4ae68..efef101a5 100644
--- a/test/chunking-form/samples/namespace-object-import/_expected/amd/generated-main2.js
+++ b/test/chunking-form/samples/namespace-object-import/_expected/amd/generated-main2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var a = 'a';
 	var b = 'a';
@@ -13,4 +13,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.b = b;
 	exports.main2 = main2;
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-object-import/_expected/amd/main1.js b/test/chunking-form/samples/namespace-object-import/_expected/amd/main1.js
index 78484e848..e1924f321 100644
--- a/test/chunking-form/samples/namespace-object-import/_expected/amd/main1.js
+++ b/test/chunking-form/samples/namespace-object-import/_expected/amd/main1.js
@@ -1,7 +1,7 @@
-define(['./generated-main2'], function (main2) { 'use strict';
+define(['./generated-main2'], (function (main2) { 'use strict';
 
 	console.log(main2.a);
 
 	console.log(main2.main2);
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-object-import/_expected/amd/main2.js b/test/chunking-form/samples/namespace-object-import/_expected/amd/main2.js
index 58cbd1151..6db8489ee 100644
--- a/test/chunking-form/samples/namespace-object-import/_expected/amd/main2.js
+++ b/test/chunking-form/samples/namespace-object-import/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main2'], function (exports, main2) { 'use strict';
+define(['exports', './generated-main2'], (function (exports, main2) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './generated-main2'], function (exports, main2) { 'use strict
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-object-import/_expected/system/generated-main2.js b/test/chunking-form/samples/namespace-object-import/_expected/system/generated-main2.js
index f30d34dac..f92a2af63 100644
--- a/test/chunking-form/samples/namespace-object-import/_expected/system/generated-main2.js
+++ b/test/chunking-form/samples/namespace-object-import/_expected/system/generated-main2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var a = exports('a', 'a');
 			var b = exports('b', 'a');
@@ -13,6 +13,6 @@ System.register([], function (exports) {
 			});
 			exports('m', main2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-object-import/_expected/system/main1.js b/test/chunking-form/samples/namespace-object-import/_expected/system/main1.js
index 7e0b6ecc4..3cd0aeaf3 100644
--- a/test/chunking-form/samples/namespace-object-import/_expected/system/main1.js
+++ b/test/chunking-form/samples/namespace-object-import/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-main2.js'], function () {
+System.register(['./generated-main2.js'], (function () {
 	'use strict';
 	var a, main2;
 	return {
@@ -6,12 +6,12 @@ System.register(['./generated-main2.js'], function () {
 			a = module.a;
 			main2 = module.m;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(a);
 
 			console.log(main2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-object-import/_expected/system/main2.js b/test/chunking-form/samples/namespace-object-import/_expected/system/main2.js
index b72cf2e03..2c07104fe 100644
--- a/test/chunking-form/samples/namespace-object-import/_expected/system/main2.js
+++ b/test/chunking-form/samples/namespace-object-import/_expected/system/main2.js
@@ -1,16 +1,13 @@
-System.register(['./generated-main2.js'], function (exports) {
+System.register(['./generated-main2.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			_setter.a = module.a;
-			_setter.b = module.b;
-			exports(_setter);
+			exports({ a: module.a, b: module.b });
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/generated-dep.js b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/generated-dep.js
index d0bef9bda..3697e55bf 100644
--- a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const reexported = 1;
 
 	exports.reexported = reexported;
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/generated-index.js b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/generated-index.js
index 417ce1f1d..8081c7cba 100644
--- a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/generated-index.js
+++ b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/generated-index.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-dep', 'external'], function (exports, dep, external) { 'use strict';
+define(['exports', './generated-dep', 'external'], (function (exports, dep, external) { 'use strict';
 
 	console.log(external.reexported);
 
@@ -9,4 +9,4 @@ define(['exports', './generated-dep', 'external'], function (exports, dep, exter
 
 	exports.lib = lib;
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/main1.js b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/main1.js
index 9a63a48b6..ec8e9fd2f 100644
--- a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/main1.js
+++ b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-index', './generated-dep', 'external'], function (index, dep, external) { 'use strict';
+define(['./generated-index', './generated-dep', 'external'], (function (index, dep, external) { 'use strict';
 
 	console.log(index.lib);
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/main2.js b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/main2.js
index 29fd4bfaf..d4c5e28d6 100644
--- a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/main2.js
+++ b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-index', './generated-dep', 'external'], function (index, dep, external) { 'use strict';
+define(['./generated-index', './generated-dep', 'external'], (function (index, dep, external) { 'use strict';
 
 	console.log(dep.reexported);
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/main3.js b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/main3.js
index 8e61c58a7..b984cf984 100644
--- a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/main3.js
+++ b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/amd/main3.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log(dep.reexported);
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/generated-dep.js b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/generated-dep.js
index 30c03448c..0ea836fb7 100644
--- a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/generated-dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const reexported = exports('r', 1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/generated-index.js b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/generated-index.js
index 8f6d3bfd6..4da41e0b3 100644
--- a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/generated-index.js
+++ b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/generated-index.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep.js', 'external'], function (exports) {
+System.register(['./generated-dep.js', 'external'], (function (exports) {
 	'use strict';
 	var reexported$1, reexported;
 	return {
@@ -7,7 +7,7 @@ System.register(['./generated-dep.js', 'external'], function (exports) {
 		}, function (module) {
 			reexported = module.reexported;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(reexported);
 
@@ -17,6 +17,6 @@ System.register(['./generated-dep.js', 'external'], function (exports) {
 			});
 			exports('l', lib);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/main1.js b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/main1.js
index 4f903980c..5552fa131 100644
--- a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/main1.js
+++ b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/main1.js
@@ -1,14 +1,14 @@
-System.register(['./generated-index.js', './generated-dep.js', 'external'], function () {
+System.register(['./generated-index.js', './generated-dep.js', 'external'], (function () {
 	'use strict';
 	var lib;
 	return {
 		setters: [function (module) {
 			lib = module.l;
 		}, function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(lib);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/main2.js b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/main2.js
index 1b7f0f1e9..9692e651f 100644
--- a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/main2.js
+++ b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-index.js', './generated-dep.js', 'external'], function () {
+System.register(['./generated-index.js', './generated-dep.js', 'external'], (function () {
 	'use strict';
 	var reexported;
 	return {
 		setters: [function () {}, function (module) {
 			reexported = module.r;
 		}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(reexported);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/main3.js b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/main3.js
index 5469d0085..bd67c0ead 100644
--- a/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/main3.js
+++ b/test/chunking-form/samples/namespace-reexport-name-conflict/_expected/system/main3.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var reexported;
 	return {
 		setters: [function (module) {
 			reexported = module.r;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(reexported);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexports/_expected/amd/generated-index.js b/test/chunking-form/samples/namespace-reexports/_expected/amd/generated-index.js
index 279cd8a23..fa1001d83 100644
--- a/test/chunking-form/samples/namespace-reexports/_expected/amd/generated-index.js
+++ b/test/chunking-form/samples/namespace-reexports/_expected/amd/generated-index.js
@@ -1,4 +1,4 @@
-define(['exports', './hsl2hsv'], function (exports, hsl2hsv$1) { 'use strict';
+define(['exports', './hsl2hsv'], (function (exports, hsl2hsv$1) { 'use strict';
 
 	var hsl2hsv = 'asdf';
 
@@ -6,9 +6,9 @@ define(['exports', './hsl2hsv'], function (exports, hsl2hsv$1) { 'use strict';
 
 	var lib = /*#__PURE__*/Object.freeze({
 		__proto__: null,
-		hsl2hsv: hsl2hsv$1['default']
+		hsl2hsv: hsl2hsv$1["default"]
 	});
 
 	exports.lib = lib;
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexports/_expected/amd/hsl2hsv.js b/test/chunking-form/samples/namespace-reexports/_expected/amd/hsl2hsv.js
index a3999a328..4f09243ba 100644
--- a/test/chunking-form/samples/namespace-reexports/_expected/amd/hsl2hsv.js
+++ b/test/chunking-form/samples/namespace-reexports/_expected/amd/hsl2hsv.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   var hsl2hsv = (h, s, l) => {
     const t = s * (l < 0.5 ? 1 : 1 - l),
@@ -9,9 +9,9 @@ define(['exports'], function (exports) { 'use strict';
 
   var p = 5;
 
-  exports['default'] = hsl2hsv;
+  exports["default"] = hsl2hsv;
   exports.p = p;
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexports/_expected/amd/index.js b/test/chunking-form/samples/namespace-reexports/_expected/amd/index.js
index 0bd0247ae..1804174a9 100644
--- a/test/chunking-form/samples/namespace-reexports/_expected/amd/index.js
+++ b/test/chunking-form/samples/namespace-reexports/_expected/amd/index.js
@@ -1,9 +1,9 @@
-define(['exports', './hsl2hsv', './generated-index'], function (exports, hsl2hsv, index) { 'use strict';
+define(['exports', './hsl2hsv', './generated-index'], (function (exports, hsl2hsv, index) { 'use strict';
 
 
 
-	exports.hsl2hsv = hsl2hsv['default'];
+	exports.hsl2hsv = hsl2hsv["default"];
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexports/_expected/amd/main.js b/test/chunking-form/samples/namespace-reexports/_expected/amd/main.js
index 5e34f8aa2..f36f87229 100644
--- a/test/chunking-form/samples/namespace-reexports/_expected/amd/main.js
+++ b/test/chunking-form/samples/namespace-reexports/_expected/amd/main.js
@@ -1,10 +1,10 @@
-define(['exports', './generated-index', './hsl2hsv'], function (exports, index, hsl2hsv) { 'use strict';
+define(['exports', './generated-index', './hsl2hsv'], (function (exports, index, hsl2hsv) { 'use strict';
 
 	console.log(hsl2hsv.p);
 	var main = new Map(Object.entries(index.lib));
 
-	exports['default'] = main;
+	exports["default"] = main;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexports/_expected/cjs/generated-index.js b/test/chunking-form/samples/namespace-reexports/_expected/cjs/generated-index.js
index 228b8216e..57e0838c6 100644
--- a/test/chunking-form/samples/namespace-reexports/_expected/cjs/generated-index.js
+++ b/test/chunking-form/samples/namespace-reexports/_expected/cjs/generated-index.js
@@ -8,7 +8,7 @@ console.log(hsl2hsv);
 
 var lib = /*#__PURE__*/Object.freeze({
 	__proto__: null,
-	hsl2hsv: hsl2hsv$1['default']
+	hsl2hsv: hsl2hsv$1["default"]
 });
 
 exports.lib = lib;
diff --git a/test/chunking-form/samples/namespace-reexports/_expected/cjs/hsl2hsv.js b/test/chunking-form/samples/namespace-reexports/_expected/cjs/hsl2hsv.js
index b218034fa..1205c8e3b 100644
--- a/test/chunking-form/samples/namespace-reexports/_expected/cjs/hsl2hsv.js
+++ b/test/chunking-form/samples/namespace-reexports/_expected/cjs/hsl2hsv.js
@@ -11,5 +11,5 @@ var hsl2hsv = (h, s, l) => {
 
 var p = 5;
 
-exports['default'] = hsl2hsv;
+exports["default"] = hsl2hsv;
 exports.p = p;
diff --git a/test/chunking-form/samples/namespace-reexports/_expected/cjs/index.js b/test/chunking-form/samples/namespace-reexports/_expected/cjs/index.js
index 00a9851c6..f062fc5fd 100644
--- a/test/chunking-form/samples/namespace-reexports/_expected/cjs/index.js
+++ b/test/chunking-form/samples/namespace-reexports/_expected/cjs/index.js
@@ -7,4 +7,4 @@ require('./generated-index.js');
 
 
 
-exports.hsl2hsv = hsl2hsv['default'];
+exports.hsl2hsv = hsl2hsv["default"];
diff --git a/test/chunking-form/samples/namespace-reexports/_expected/cjs/main.js b/test/chunking-form/samples/namespace-reexports/_expected/cjs/main.js
index 23b310368..baa1c2550 100644
--- a/test/chunking-form/samples/namespace-reexports/_expected/cjs/main.js
+++ b/test/chunking-form/samples/namespace-reexports/_expected/cjs/main.js
@@ -8,4 +8,4 @@ var hsl2hsv = require('./hsl2hsv.js');
 console.log(hsl2hsv.p);
 var main = new Map(Object.entries(index.lib));
 
-exports['default'] = main;
+exports["default"] = main;
diff --git a/test/chunking-form/samples/namespace-reexports/_expected/system/generated-index.js b/test/chunking-form/samples/namespace-reexports/_expected/system/generated-index.js
index 118caaa44..cb0a9853c 100644
--- a/test/chunking-form/samples/namespace-reexports/_expected/system/generated-index.js
+++ b/test/chunking-form/samples/namespace-reexports/_expected/system/generated-index.js
@@ -1,11 +1,11 @@
-System.register(['./hsl2hsv.js'], function (exports) {
+System.register(['./hsl2hsv.js'], (function (exports) {
 	'use strict';
 	var hsl2hsv$1;
 	return {
 		setters: [function (module) {
-			hsl2hsv$1 = module.default;
+			hsl2hsv$1 = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var hsl2hsv = 'asdf';
 
@@ -17,6 +17,6 @@ System.register(['./hsl2hsv.js'], function (exports) {
 			});
 			exports('l', lib);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexports/_expected/system/hsl2hsv.js b/test/chunking-form/samples/namespace-reexports/_expected/system/hsl2hsv.js
index 2ccb8a5d8..fd895d082 100644
--- a/test/chunking-form/samples/namespace-reexports/_expected/system/hsl2hsv.js
+++ b/test/chunking-form/samples/namespace-reexports/_expected/system/hsl2hsv.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       var hsl2hsv = exports('default', (h, s, l) => {
         const t = s * (l < 0.5 ? 1 : 1 - l),
@@ -12,6 +12,6 @@ System.register([], function (exports) {
 
       var p = exports('p', 5);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexports/_expected/system/index.js b/test/chunking-form/samples/namespace-reexports/_expected/system/index.js
index 3df535ca0..0afb42920 100644
--- a/test/chunking-form/samples/namespace-reexports/_expected/system/index.js
+++ b/test/chunking-form/samples/namespace-reexports/_expected/system/index.js
@@ -1,13 +1,13 @@
-System.register(['./hsl2hsv.js', './generated-index.js'], function (exports) {
+System.register(['./hsl2hsv.js', './generated-index.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('hsl2hsv', module.default);
+			exports('hsl2hsv', module["default"]);
 		}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-reexports/_expected/system/main.js b/test/chunking-form/samples/namespace-reexports/_expected/system/main.js
index cb3c1c8b4..98a081039 100644
--- a/test/chunking-form/samples/namespace-reexports/_expected/system/main.js
+++ b/test/chunking-form/samples/namespace-reexports/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./generated-index.js', './hsl2hsv.js'], function (exports) {
+System.register(['./generated-index.js', './hsl2hsv.js'], (function (exports) {
 	'use strict';
 	var lib, p;
 	return {
@@ -7,11 +7,11 @@ System.register(['./generated-index.js', './hsl2hsv.js'], function (exports) {
 		}, function (module) {
 			p = module.p;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(p);
 			var main = exports('default', new Map(Object.entries(lib)));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-retracing/_expected/amd/generated-other.js b/test/chunking-form/samples/namespace-retracing/_expected/amd/generated-other.js
index 66808ac49..c915035b9 100644
--- a/test/chunking-form/samples/namespace-retracing/_expected/amd/generated-other.js
+++ b/test/chunking-form/samples/namespace-retracing/_expected/amd/generated-other.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	class Broken {
 	}
@@ -15,4 +15,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.Broken = Broken;
 	exports.Other = Other;
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-retracing/_expected/amd/main-a.js b/test/chunking-form/samples/namespace-retracing/_expected/amd/main-a.js
index 8dae1d074..43776dc9f 100644
--- a/test/chunking-form/samples/namespace-retracing/_expected/amd/main-a.js
+++ b/test/chunking-form/samples/namespace-retracing/_expected/amd/main-a.js
@@ -1,6 +1,6 @@
-define(['./generated-other'], function (other) { 'use strict';
+define(['./generated-other'], (function (other) { 'use strict';
 
 	other.Other.doSomething();
 	other.Broken.doSomething();
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-retracing/_expected/amd/main-b.js b/test/chunking-form/samples/namespace-retracing/_expected/amd/main-b.js
index 0466893c5..43776d2ce 100644
--- a/test/chunking-form/samples/namespace-retracing/_expected/amd/main-b.js
+++ b/test/chunking-form/samples/namespace-retracing/_expected/amd/main-b.js
@@ -1,5 +1,5 @@
-define(['./generated-other'], function (other) { 'use strict';
+define(['./generated-other'], (function (other) { 'use strict';
 
 	other.Other.doSomething();
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-retracing/_expected/system/generated-other.js b/test/chunking-form/samples/namespace-retracing/_expected/system/generated-other.js
index 9ca624860..c56093758 100644
--- a/test/chunking-form/samples/namespace-retracing/_expected/system/generated-other.js
+++ b/test/chunking-form/samples/namespace-retracing/_expected/system/generated-other.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			class Broken {
 			} exports('B', Broken);
@@ -15,6 +15,6 @@ System.register([], function (exports) {
 
 			Other.doSomething = function() { console.log('other'); };
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-retracing/_expected/system/main-a.js b/test/chunking-form/samples/namespace-retracing/_expected/system/main-a.js
index 8e17f8f31..4d968d27b 100644
--- a/test/chunking-form/samples/namespace-retracing/_expected/system/main-a.js
+++ b/test/chunking-form/samples/namespace-retracing/_expected/system/main-a.js
@@ -1,4 +1,4 @@
-System.register(['./generated-other.js'], function () {
+System.register(['./generated-other.js'], (function () {
 	'use strict';
 	var Other, Broken;
 	return {
@@ -6,11 +6,11 @@ System.register(['./generated-other.js'], function () {
 			Other = module.O;
 			Broken = module.B;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			Other.doSomething();
 			Broken.doSomething();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-retracing/_expected/system/main-b.js b/test/chunking-form/samples/namespace-retracing/_expected/system/main-b.js
index 8d057522e..7c5f355d4 100644
--- a/test/chunking-form/samples/namespace-retracing/_expected/system/main-b.js
+++ b/test/chunking-form/samples/namespace-retracing/_expected/system/main-b.js
@@ -1,14 +1,14 @@
-System.register(['./generated-other.js'], function () {
+System.register(['./generated-other.js'], (function () {
 	'use strict';
 	var Other;
 	return {
 		setters: [function (module) {
 			Other = module.O;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			Other.doSomething();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/amd/foo.js b/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/amd/foo.js
index 2bc02b355..69228f8fb 100644
--- a/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/amd/foo.js
+++ b/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/amd/foo.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var foo = 42;
 
 	return foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/amd/main.js b/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/amd/main.js
index ef7142ed3..c31cc4219 100644
--- a/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/amd/main.js
+++ b/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/amd/main.js
@@ -1,9 +1,7 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, [Symbol.toStringTag]: 'Module', 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, [Symbol.toStringTag]: 'Module', 'default': e }); }
 
-	new Promise(function (resolve, reject) { require(['./foo'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject) }).then(console.log);
+	new Promise(function (resolve, reject) { require(['./foo'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject); }).then(console.log);
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/cjs/main.js b/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/cjs/main.js
index fce5a893c..ac29414d9 100644
--- a/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/cjs/main.js
+++ b/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/cjs/main.js
@@ -1,7 +1,5 @@
 'use strict';
 
-function _interopNamespaceDefaultOnly(e) {
-	return Object.freeze({__proto__: null, [Symbol.toStringTag]: 'Module', 'default': e});
-}
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, [Symbol.toStringTag]: 'Module', 'default': e }); }
 
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespaceDefaultOnly(require('./foo.js')); }).then(console.log);
diff --git a/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/system/foo.js b/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/system/foo.js
index 81b45b772..98793de89 100644
--- a/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/system/foo.js
+++ b/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/system/foo.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/system/main.js b/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/system/main.js
index 5635ea118..a5552580f 100644
--- a/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/system/main.js
+++ b/test/chunking-form/samples/namespace-tostring/dynamic-import-default-mode/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./foo.js').then(console.log);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/amd/generated-foo.js b/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/amd/generated-foo.js
index 144e6c7a0..b4aeeb1a8 100644
--- a/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/amd/generated-foo.js
+++ b/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/amd/generated-foo.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const bar = 42;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	exports[Symbol.toStringTag] = 'Module';
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/amd/main.js b/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/amd/main.js
index 9809bf12c..5268640ba 100644
--- a/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/amd/main.js
+++ b/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-foo'], resolve, reject) }).then(console.log);
+	new Promise(function (resolve, reject) { require(['./generated-foo'], resolve, reject); }).then(console.log);
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/system/generated-foo.js b/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/system/generated-foo.js
index 04fc5e57c..f77176add 100644
--- a/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/system/generated-foo.js
+++ b/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/system/generated-foo.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const bar = exports('bar', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/system/main.js b/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/system/main.js
index 365a5e373..ed21ee675 100644
--- a/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/system/main.js
+++ b/test/chunking-form/samples/namespace-tostring/dynamic-import/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-foo.js').then(console.log);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tracing/_expected/amd/generated-bar.js b/test/chunking-form/samples/namespace-tracing/_expected/amd/generated-bar.js
index f8f78c489..e72450d0c 100644
--- a/test/chunking-form/samples/namespace-tracing/_expected/amd/generated-bar.js
+++ b/test/chunking-form/samples/namespace-tracing/_expected/amd/generated-bar.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function bar() {
     console.log('bar');
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
   exports.bar = bar;
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tracing/_expected/amd/generated-broken.js b/test/chunking-form/samples/namespace-tracing/_expected/amd/generated-broken.js
index 1d95e3855..af37af53f 100644
--- a/test/chunking-form/samples/namespace-tracing/_expected/amd/generated-broken.js
+++ b/test/chunking-form/samples/namespace-tracing/_expected/amd/generated-broken.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function broken() {
     console.log('broken');
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
   exports.broken = broken;
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tracing/_expected/amd/generated-foo.js b/test/chunking-form/samples/namespace-tracing/_expected/amd/generated-foo.js
index 2ba41e836..def7a367d 100644
--- a/test/chunking-form/samples/namespace-tracing/_expected/amd/generated-foo.js
+++ b/test/chunking-form/samples/namespace-tracing/_expected/amd/generated-foo.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function foo() {
     console.log('foo');
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
   exports.foo = foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tracing/_expected/amd/main-a.js b/test/chunking-form/samples/namespace-tracing/_expected/amd/main-a.js
index 5b5590c79..71e00bfe9 100644
--- a/test/chunking-form/samples/namespace-tracing/_expected/amd/main-a.js
+++ b/test/chunking-form/samples/namespace-tracing/_expected/amd/main-a.js
@@ -1,6 +1,6 @@
-define(['./generated-foo', './generated-broken'], function (foo, broken) { 'use strict';
+define(['./generated-foo', './generated-broken'], (function (foo, broken) { 'use strict';
 
 	foo.foo();
 	broken.broken();
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tracing/_expected/amd/main-b.js b/test/chunking-form/samples/namespace-tracing/_expected/amd/main-b.js
index 70d5de787..9e97e5b72 100644
--- a/test/chunking-form/samples/namespace-tracing/_expected/amd/main-b.js
+++ b/test/chunking-form/samples/namespace-tracing/_expected/amd/main-b.js
@@ -1,8 +1,8 @@
-define(['./generated-foo', './generated-bar', './generated-broken'], function (foo, bar, broken) { 'use strict';
+define(['./generated-foo', './generated-bar', './generated-broken'], (function (foo, bar, broken) { 'use strict';
 
 	foo.foo();
 	broken.broken();
 	bar.bar();
 	broken.broken();
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tracing/_expected/amd/main-c.js b/test/chunking-form/samples/namespace-tracing/_expected/amd/main-c.js
index da9307f8f..91877dc2b 100644
--- a/test/chunking-form/samples/namespace-tracing/_expected/amd/main-c.js
+++ b/test/chunking-form/samples/namespace-tracing/_expected/amd/main-c.js
@@ -1,6 +1,6 @@
-define(['./generated-bar', './generated-broken'], function (bar, broken) { 'use strict';
+define(['./generated-bar', './generated-broken'], (function (bar, broken) { 'use strict';
 
 	bar.bar();
 	broken.broken();
 
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tracing/_expected/system/generated-bar.js b/test/chunking-form/samples/namespace-tracing/_expected/system/generated-bar.js
index 699cd2779..8f50352ff 100644
--- a/test/chunking-form/samples/namespace-tracing/_expected/system/generated-bar.js
+++ b/test/chunking-form/samples/namespace-tracing/_expected/system/generated-bar.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('b', bar);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('bar');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tracing/_expected/system/generated-broken.js b/test/chunking-form/samples/namespace-tracing/_expected/system/generated-broken.js
index 57e3ae75e..126ad3e54 100644
--- a/test/chunking-form/samples/namespace-tracing/_expected/system/generated-broken.js
+++ b/test/chunking-form/samples/namespace-tracing/_expected/system/generated-broken.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('b', broken);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('broken');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tracing/_expected/system/generated-foo.js b/test/chunking-form/samples/namespace-tracing/_expected/system/generated-foo.js
index 6081a999a..52604b9f3 100644
--- a/test/chunking-form/samples/namespace-tracing/_expected/system/generated-foo.js
+++ b/test/chunking-form/samples/namespace-tracing/_expected/system/generated-foo.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('f', foo);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('foo');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tracing/_expected/system/main-a.js b/test/chunking-form/samples/namespace-tracing/_expected/system/main-a.js
index baeeced58..3f4025112 100644
--- a/test/chunking-form/samples/namespace-tracing/_expected/system/main-a.js
+++ b/test/chunking-form/samples/namespace-tracing/_expected/system/main-a.js
@@ -1,4 +1,4 @@
-System.register(['./generated-foo.js', './generated-broken.js'], function () {
+System.register(['./generated-foo.js', './generated-broken.js'], (function () {
 	'use strict';
 	var foo, broken;
 	return {
@@ -7,11 +7,11 @@ System.register(['./generated-foo.js', './generated-broken.js'], function () {
 		}, function (module) {
 			broken = module.b;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			foo();
 			broken();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tracing/_expected/system/main-b.js b/test/chunking-form/samples/namespace-tracing/_expected/system/main-b.js
index 557263c8f..4742de3c8 100644
--- a/test/chunking-form/samples/namespace-tracing/_expected/system/main-b.js
+++ b/test/chunking-form/samples/namespace-tracing/_expected/system/main-b.js
@@ -1,4 +1,4 @@
-System.register(['./generated-foo.js', './generated-bar.js', './generated-broken.js'], function () {
+System.register(['./generated-foo.js', './generated-bar.js', './generated-broken.js'], (function () {
 	'use strict';
 	var foo, bar, broken;
 	return {
@@ -9,13 +9,13 @@ System.register(['./generated-foo.js', './generated-bar.js', './generated-broken
 		}, function (module) {
 			broken = module.b;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			foo();
 			broken();
 			bar();
 			broken();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/namespace-tracing/_expected/system/main-c.js b/test/chunking-form/samples/namespace-tracing/_expected/system/main-c.js
index eb1d38991..6f4132531 100644
--- a/test/chunking-form/samples/namespace-tracing/_expected/system/main-c.js
+++ b/test/chunking-form/samples/namespace-tracing/_expected/system/main-c.js
@@ -1,4 +1,4 @@
-System.register(['./generated-bar.js', './generated-broken.js'], function () {
+System.register(['./generated-bar.js', './generated-broken.js'], (function () {
 	'use strict';
 	var bar, broken;
 	return {
@@ -7,11 +7,11 @@ System.register(['./generated-bar.js', './generated-broken.js'], function () {
 		}, function (module) {
 			broken = module.b;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			bar();
 			broken();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/nested-chunks/_expected/amd/generated-dep.js b/test/chunking-form/samples/nested-chunks/_expected/amd/generated-dep.js
index bf7989e60..947ad1cba 100644
--- a/test/chunking-form/samples/nested-chunks/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/nested-chunks/_expected/amd/generated-dep.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/nested-chunks/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/nested-chunks/_expected/amd/generated-dynamic.js
index 74e365684..0e60f11cc 100644
--- a/test/chunking-form/samples/nested-chunks/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/nested-chunks/_expected/amd/generated-dynamic.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 43;
 
 	exports.value = value;
 
-});
+}));
diff --git a/test/chunking-form/samples/nested-chunks/_expected/amd/main1.js b/test/chunking-form/samples/nested-chunks/_expected/amd/main1.js
index a66f64b87..2c376c607 100644
--- a/test/chunking-form/samples/nested-chunks/_expected/amd/main1.js
+++ b/test/chunking-form/samples/nested-chunks/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['require', './generated-dep'], function (require, dep) { 'use strict';
+define(['require', './generated-dep'], (function (require, dep) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,20 +9,18 @@ define(['require', './generated-dep'], function (require, dep) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
 	console.log('main1', dep.value);
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) }).then(result => console.log(result));
-	new Promise(function (resolve, reject) { require(['./external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) }).then(result => console.log(result));
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); }).then(result => console.log(result));
+	new Promise(function (resolve, reject) { require(['./external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }).then(result => console.log(result));
 
-});
+}));
diff --git a/test/chunking-form/samples/nested-chunks/_expected/amd/nested/main2.js b/test/chunking-form/samples/nested-chunks/_expected/amd/nested/main2.js
index 686b3bbb5..8a3da01f4 100644
--- a/test/chunking-form/samples/nested-chunks/_expected/amd/nested/main2.js
+++ b/test/chunking-form/samples/nested-chunks/_expected/amd/nested/main2.js
@@ -1,4 +1,4 @@
-define(['require', '../generated-dep'], function (require, dep) { 'use strict';
+define(['require', '../generated-dep'], (function (require, dep) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,20 +9,18 @@ define(['require', '../generated-dep'], function (require, dep) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
 	console.log('main2', dep.value);
 
-	new Promise(function (resolve, reject) { require(['../generated-dynamic'], resolve, reject) }).then(result => console.log(result));
-	new Promise(function (resolve, reject) { require(['../external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) }).then(result => console.log(result));
+	new Promise(function (resolve, reject) { require(['../generated-dynamic'], resolve, reject); }).then(result => console.log(result));
+	new Promise(function (resolve, reject) { require(['../external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }).then(result => console.log(result));
 
-});
+}));
diff --git a/test/chunking-form/samples/nested-chunks/_expected/cjs/main1.js b/test/chunking-form/samples/nested-chunks/_expected/cjs/main1.js
index 509eda831..a6af743f4 100644
--- a/test/chunking-form/samples/nested-chunks/_expected/cjs/main1.js
+++ b/test/chunking-form/samples/nested-chunks/_expected/cjs/main1.js
@@ -11,14 +11,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/chunking-form/samples/nested-chunks/_expected/cjs/nested/main2.js b/test/chunking-form/samples/nested-chunks/_expected/cjs/nested/main2.js
index 56b77b826..707ac6254 100644
--- a/test/chunking-form/samples/nested-chunks/_expected/cjs/nested/main2.js
+++ b/test/chunking-form/samples/nested-chunks/_expected/cjs/nested/main2.js
@@ -11,14 +11,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/chunking-form/samples/nested-chunks/_expected/system/generated-dep.js b/test/chunking-form/samples/nested-chunks/_expected/system/generated-dep.js
index 1fc955eb2..6f4133133 100644
--- a/test/chunking-form/samples/nested-chunks/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/nested-chunks/_expected/system/generated-dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('v', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/nested-chunks/_expected/system/generated-dynamic.js b/test/chunking-form/samples/nested-chunks/_expected/system/generated-dynamic.js
index 8f4da831c..724019c7d 100644
--- a/test/chunking-form/samples/nested-chunks/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/nested-chunks/_expected/system/generated-dynamic.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 43);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/nested-chunks/_expected/system/main1.js b/test/chunking-form/samples/nested-chunks/_expected/system/main1.js
index 079ee4a97..10d634854 100644
--- a/test/chunking-form/samples/nested-chunks/_expected/system/main1.js
+++ b/test/chunking-form/samples/nested-chunks/_expected/system/main1.js
@@ -1,17 +1,17 @@
-System.register(['./generated-dep.js'], function (exports, module) {
+System.register(['./generated-dep.js'], (function (exports, module) {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1', value);
 
 			module.import('./generated-dynamic.js').then(result => console.log(result));
 			module.import('./external.js').then(result => console.log(result));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/nested-chunks/_expected/system/nested/main2.js b/test/chunking-form/samples/nested-chunks/_expected/system/nested/main2.js
index 9b7473ec5..6de795a1d 100644
--- a/test/chunking-form/samples/nested-chunks/_expected/system/nested/main2.js
+++ b/test/chunking-form/samples/nested-chunks/_expected/system/nested/main2.js
@@ -1,17 +1,17 @@
-System.register(['../generated-dep.js'], function (exports, module) {
+System.register(['../generated-dep.js'], (function (exports, module) {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.v;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2', value);
 
 			module.import('../generated-dynamic.js').then(result => console.log(result));
 			module.import('../external.js').then(result => console.log(result));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic1.js b/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic1.js
index be41dd73b..b6491460a 100644
--- a/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic1.js
+++ b/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic1.js
@@ -1,6 +1,6 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject); });
 	console.log('dynamic1');
 
-});
+}));
diff --git a/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic2.js b/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic2.js
index 109eafa86..b4ecca6dc 100644
--- a/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic2.js
+++ b/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic2.js
@@ -1,6 +1,6 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic3'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic3'], resolve, reject); });
 	console.log('dynamic2');
 
-});
+}));
diff --git a/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic3.js b/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic3.js
index 87c99b617..2a3fd9af1 100644
--- a/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic3.js
+++ b/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic3.js
@@ -1,6 +1,6 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic4'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic4'], resolve, reject); });
 	console.log('dynamic3');
 
-});
+}));
diff --git a/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic4.js b/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic4.js
index eed6272d3..789418b5f 100644
--- a/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic4.js
+++ b/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic4.js
@@ -1,6 +1,6 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic5'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic5'], resolve, reject); });
 	console.log('dynamic4');
 
-});
+}));
diff --git a/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic5.js b/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic5.js
index 3bbcbbb8a..7efce92c4 100644
--- a/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic5.js
+++ b/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/generated-dynamic5.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('dynamic5');
 
-});
+}));
diff --git a/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/main.js b/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/main.js
index 317bb5f62..cfed56546 100644
--- a/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/main.js
+++ b/test/chunking-form/samples/nested-dynamic-imports/_expected/amd/main.js
@@ -1,6 +1,6 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic1'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic1'], resolve, reject); });
 	console.log('main');
 
-});
+}));
diff --git a/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic1.js b/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic1.js
index 4885888cc..3dd67ec61 100644
--- a/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic1.js
+++ b/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic1.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic2.js');
 			console.log('dynamic1');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic2.js b/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic2.js
index 186a6116c..454058ecf 100644
--- a/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic2.js
+++ b/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic2.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic3.js');
 			console.log('dynamic2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic3.js b/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic3.js
index 96e852219..89570bf51 100644
--- a/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic3.js
+++ b/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic3.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic4.js');
 			console.log('dynamic3');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic4.js b/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic4.js
index d2859ce1f..0ee8447b4 100644
--- a/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic4.js
+++ b/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic4.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic5.js');
 			console.log('dynamic4');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic5.js b/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic5.js
index 17bd51f92..aed401424 100644
--- a/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic5.js
+++ b/test/chunking-form/samples/nested-dynamic-imports/_expected/system/generated-dynamic5.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dynamic5');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/nested-dynamic-imports/_expected/system/main.js b/test/chunking-form/samples/nested-dynamic-imports/_expected/system/main.js
index 356dfbd03..3e81ca685 100644
--- a/test/chunking-form/samples/nested-dynamic-imports/_expected/system/main.js
+++ b/test/chunking-form/samples/nested-dynamic-imports/_expected/system/main.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dynamic1.js');
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/no-minify-internal-exports/_expected/amd/generated-shared2.js b/test/chunking-form/samples/no-minify-internal-exports/_expected/amd/generated-shared2.js
index f5f7152d4..230359844 100644
--- a/test/chunking-form/samples/no-minify-internal-exports/_expected/amd/generated-shared2.js
+++ b/test/chunking-form/samples/no-minify-internal-exports/_expected/amd/generated-shared2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const shared1 = 'shared1';
 	const foo$1 = 'foo1';
@@ -11,4 +11,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.shared1 = shared1;
 	exports.shared2 = shared2;
 
-});
+}));
diff --git a/test/chunking-form/samples/no-minify-internal-exports/_expected/amd/main1.js b/test/chunking-form/samples/no-minify-internal-exports/_expected/amd/main1.js
index 44152668b..065164190 100644
--- a/test/chunking-form/samples/no-minify-internal-exports/_expected/amd/main1.js
+++ b/test/chunking-form/samples/no-minify-internal-exports/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-shared2'], function (shared2) { 'use strict';
+define(['./generated-shared2'], (function (shared2) { 'use strict';
 
 	console.log(shared2.shared1, shared2.shared2, shared2.foo);
 
-});
+}));
diff --git a/test/chunking-form/samples/no-minify-internal-exports/_expected/amd/main2.js b/test/chunking-form/samples/no-minify-internal-exports/_expected/amd/main2.js
index 11014cbff..24978e0e4 100644
--- a/test/chunking-form/samples/no-minify-internal-exports/_expected/amd/main2.js
+++ b/test/chunking-form/samples/no-minify-internal-exports/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-shared2'], function (shared2) { 'use strict';
+define(['./generated-shared2'], (function (shared2) { 'use strict';
 
 	console.log(shared2.shared1, shared2.shared2, shared2.foo$1);
 
-});
+}));
diff --git a/test/chunking-form/samples/no-minify-internal-exports/_expected/system/generated-shared2.js b/test/chunking-form/samples/no-minify-internal-exports/_expected/system/generated-shared2.js
index 3d42d48ee..bbad6fbb4 100644
--- a/test/chunking-form/samples/no-minify-internal-exports/_expected/system/generated-shared2.js
+++ b/test/chunking-form/samples/no-minify-internal-exports/_expected/system/generated-shared2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared1 = exports('shared1', 'shared1');
 			const foo$1 = exports('foo', 'foo1');
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 			var shared2 = exports('shared2', 'shared2');
 			const foo = exports('foo$1', 'foo2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/no-minify-internal-exports/_expected/system/main1.js b/test/chunking-form/samples/no-minify-internal-exports/_expected/system/main1.js
index 994637999..22bcab2a0 100644
--- a/test/chunking-form/samples/no-minify-internal-exports/_expected/system/main1.js
+++ b/test/chunking-form/samples/no-minify-internal-exports/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-shared2.js'], function () {
+System.register(['./generated-shared2.js'], (function () {
 	'use strict';
 	var shared1, shared2, foo;
 	return {
@@ -7,10 +7,10 @@ System.register(['./generated-shared2.js'], function () {
 			shared2 = module.shared2;
 			foo = module.foo;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(shared1, shared2, foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/no-minify-internal-exports/_expected/system/main2.js b/test/chunking-form/samples/no-minify-internal-exports/_expected/system/main2.js
index fd9b128a1..a428d3a43 100644
--- a/test/chunking-form/samples/no-minify-internal-exports/_expected/system/main2.js
+++ b/test/chunking-form/samples/no-minify-internal-exports/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./generated-shared2.js'], function () {
+System.register(['./generated-shared2.js'], (function () {
 	'use strict';
 	var shared1, shared2, foo;
 	return {
@@ -7,10 +7,10 @@ System.register(['./generated-shared2.js'], function () {
 			shared2 = module.shared2;
 			foo = module.foo$1;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(shared1, shared2, foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/no-treeshake-imports/_expected/amd/generated-empty.js b/test/chunking-form/samples/no-treeshake-imports/_expected/amd/generated-empty.js
index f9f8229aa..a9e9419e2 100644
--- a/test/chunking-form/samples/no-treeshake-imports/_expected/amd/generated-empty.js
+++ b/test/chunking-form/samples/no-treeshake-imports/_expected/amd/generated-empty.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/no-treeshake-imports/_expected/amd/main1.js b/test/chunking-form/samples/no-treeshake-imports/_expected/amd/main1.js
index 45cc8232e..40759ad6e 100644
--- a/test/chunking-form/samples/no-treeshake-imports/_expected/amd/main1.js
+++ b/test/chunking-form/samples/no-treeshake-imports/_expected/amd/main1.js
@@ -1,6 +1,6 @@
-define(['./generated-empty'], function (empty) { 'use strict';
+define(['./generated-empty'], (function (empty) { 'use strict';
 
 	console.log('main1');
 	const unused = 1;
 
-});
+}));
diff --git a/test/chunking-form/samples/no-treeshake-imports/_expected/amd/main2.js b/test/chunking-form/samples/no-treeshake-imports/_expected/amd/main2.js
index 423ec3ff2..b939e9c08 100644
--- a/test/chunking-form/samples/no-treeshake-imports/_expected/amd/main2.js
+++ b/test/chunking-form/samples/no-treeshake-imports/_expected/amd/main2.js
@@ -1,6 +1,6 @@
-define(['./generated-empty'], function (empty) { 'use strict';
+define(['./generated-empty'], (function (empty) { 'use strict';
 
 	console.log('main2');
 	const unused = 2;
 
-});
+}));
diff --git a/test/chunking-form/samples/no-treeshake-imports/_expected/system/generated-empty.js b/test/chunking-form/samples/no-treeshake-imports/_expected/system/generated-empty.js
index a702f2b06..343cc3a51 100644
--- a/test/chunking-form/samples/no-treeshake-imports/_expected/system/generated-empty.js
+++ b/test/chunking-form/samples/no-treeshake-imports/_expected/system/generated-empty.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/no-treeshake-imports/_expected/system/main1.js b/test/chunking-form/samples/no-treeshake-imports/_expected/system/main1.js
index d3804a553..4ba793d04 100644
--- a/test/chunking-form/samples/no-treeshake-imports/_expected/system/main1.js
+++ b/test/chunking-form/samples/no-treeshake-imports/_expected/system/main1.js
@@ -1,12 +1,12 @@
-System.register(['./generated-empty.js'], function () {
+System.register(['./generated-empty.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main1');
 			const unused = 1;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/no-treeshake-imports/_expected/system/main2.js b/test/chunking-form/samples/no-treeshake-imports/_expected/system/main2.js
index a0dbbee81..1ad5d9e2a 100644
--- a/test/chunking-form/samples/no-treeshake-imports/_expected/system/main2.js
+++ b/test/chunking-form/samples/no-treeshake-imports/_expected/system/main2.js
@@ -1,12 +1,12 @@
-System.register(['./generated-empty.js'], function () {
+System.register(['./generated-empty.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2');
 			const unused = 2;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/amd/generated-dynamic.js
index e2dd062c8..3104ef05b 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/amd/generated-dynamic.js
@@ -1,5 +1,5 @@
-define(['./main'], function (main) { 'use strict';
+define(['./main'], (function (main) { 'use strict';
 
 	globalThis.sharedDynamic = main.shared;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/amd/main.js b/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/amd/main.js
index a53f43faa..29b06bc0d 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/amd/main.js
@@ -1,9 +1,9 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const shared = 'shared';
 
 	const unused = 'unused';
-	const dynamic = new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	const dynamic = new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	globalThis.sharedStatic = shared;
 
@@ -13,4 +13,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/system/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/system/generated-dynamic.js
index 908608f1e..3dfd6db40 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/system/generated-dynamic.js
@@ -1,14 +1,14 @@
-System.register(['./main.js'], function () {
+System.register(['./main.js'], (function () {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			globalThis.sharedDynamic = shared;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/system/main.js b/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/system/main.js
index 2b5f284b3..bbc590515 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/allow-extension/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('s', 'shared');
 
@@ -10,6 +10,6 @@ System.register([], function (exports, module) {
 
 			globalThis.sharedStatic = shared;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/amd/generated-dynamic.js
index e2dd062c8..3104ef05b 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/amd/generated-dynamic.js
@@ -1,5 +1,5 @@
-define(['./main'], function (main) { 'use strict';
+define(['./main'], (function (main) { 'use strict';
 
 	globalThis.sharedDynamic = main.shared;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/amd/main.js b/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/amd/main.js
index 4bf088d0b..316c925cb 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/amd/main.js
@@ -1,8 +1,8 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const shared = 'shared';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	globalThis.sharedStatic = shared;
 
@@ -10,4 +10,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/system/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/system/generated-dynamic.js
index 908608f1e..3dfd6db40 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/system/generated-dynamic.js
@@ -1,14 +1,14 @@
-System.register(['./main.js'], function () {
+System.register(['./main.js'], (function () {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			globalThis.sharedDynamic = shared;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/system/main.js b/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/system/main.js
index fd31d2c3d..c9e002e70 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/exports-only-no-exports/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('s', 'shared');
 
@@ -9,6 +9,6 @@ System.register([], function (exports, module) {
 
 			globalThis.sharedStatic = shared;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/amd/generated-dynamic.js
index 6d87a0e48..dee0d8797 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/amd/generated-dynamic.js
@@ -1,5 +1,5 @@
-define(['./generated-main'], function (main) { 'use strict';
+define(['./generated-main'], (function (main) { 'use strict';
 
 	globalThis.sharedDynamic = main.shared;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/amd/generated-main.js b/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/amd/generated-main.js
index f1c6db85d..7de2080ff 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/amd/generated-main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/amd/generated-main.js
@@ -1,9 +1,9 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const shared = 'shared';
 
 	const unused = 'unused';
-	const dynamic = new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	const dynamic = new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	globalThis.sharedStatic = shared;
 
@@ -11,4 +11,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 	exports.shared = shared;
 	exports.unused = unused;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/amd/main.js b/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/amd/main.js
index 3189f6ac5..b2dd69382 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main'], function (exports, main) { 'use strict';
+define(['exports', './generated-main'], (function (exports, main) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './generated-main'], function (exports, main) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/system/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/system/generated-dynamic.js
index 187cb5f2c..76d2f1834 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/system/generated-dynamic.js
@@ -1,14 +1,14 @@
-System.register(['./generated-main.js'], function () {
+System.register(['./generated-main.js'], (function () {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			globalThis.sharedDynamic = shared;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/system/generated-main.js b/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/system/generated-main.js
index c31de9052..42e359eb1 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/system/generated-main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/system/generated-main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('s', 'shared');
 
@@ -10,6 +10,6 @@ System.register([], function (exports, module) {
 
 			globalThis.sharedStatic = shared;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/system/main.js b/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/system/main.js
index 07c5c3e89..461d214ff 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/exports-only/_expected/system/main.js
@@ -1,16 +1,13 @@
-System.register(['./generated-main.js'], function (exports) {
+System.register(['./generated-main.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			_setter.dynamic = module.d;
-			_setter.unused = module.u;
-			exports(_setter);
+			exports({ dynamic: module.d, unused: module.u });
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/false/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/false/_expected/amd/generated-dynamic.js
index e2dd062c8..3104ef05b 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/false/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/false/_expected/amd/generated-dynamic.js
@@ -1,5 +1,5 @@
-define(['./main'], function (main) { 'use strict';
+define(['./main'], (function (main) { 'use strict';
 
 	globalThis.sharedDynamic = main.shared;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/false/_expected/amd/main.js b/test/chunking-form/samples/preserve-entry-signatures/false/_expected/amd/main.js
index 4bf088d0b..316c925cb 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/false/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/false/_expected/amd/main.js
@@ -1,8 +1,8 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const shared = 'shared';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	globalThis.sharedStatic = shared;
 
@@ -10,4 +10,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/false/_expected/system/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/false/_expected/system/generated-dynamic.js
index 908608f1e..3dfd6db40 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/false/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/false/_expected/system/generated-dynamic.js
@@ -1,14 +1,14 @@
-System.register(['./main.js'], function () {
+System.register(['./main.js'], (function () {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			globalThis.sharedDynamic = shared;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/false/_expected/system/main.js b/test/chunking-form/samples/preserve-entry-signatures/false/_expected/system/main.js
index fd31d2c3d..c9e002e70 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/false/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/false/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('s', 'shared');
 
@@ -9,6 +9,6 @@ System.register([], function (exports, module) {
 
 			globalThis.sharedStatic = shared;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-allow-extension.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-allow-extension.js
index a2fc8c8d5..d730d4368 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-allow-extension.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-allow-extension.js
@@ -1,9 +1,9 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const shared = 'shared';
 
 	console.log(shared);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic2'], resolve, reject); });
 	const unused = 42;
 
 	exports.shared = shared;
@@ -11,4 +11,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic.js
index 83bcde586..261177fd1 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic.js
@@ -1,5 +1,5 @@
-define(['./generated-main'], function (strict) { 'use strict';
+define(['./generated-main'], (function (strict) { 'use strict';
 
 	console.log(strict.shared);
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic2.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic2.js
index 70518c53b..4d5aac037 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic2.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic2.js
@@ -1,5 +1,5 @@
-define(['./generated-allow-extension'], function (allowExtension) { 'use strict';
+define(['./generated-allow-extension'], (function (allowExtension) { 'use strict';
 
 	console.log(allowExtension.shared);
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic3.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic3.js
index 5bf2e7c4f..86ec1f9be 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic3.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic3.js
@@ -1,5 +1,5 @@
-define(['./generated-false'], function (_false) { 'use strict';
+define(['./generated-false'], (function (_false) { 'use strict';
 
 	console.log(_false.shared);
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic4.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic4.js
index 46a02f2f5..8330a0078 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic4.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-dynamic4.js
@@ -1,5 +1,5 @@
-define(['./generated-not-specified'], function (notSpecified) { 'use strict';
+define(['./generated-not-specified'], (function (notSpecified) { 'use strict';
 
 	console.log(notSpecified.shared);
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-false.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-false.js
index a204f3da1..1727b442b 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-false.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-false.js
@@ -1,12 +1,12 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const shared = 'shared';
 
 	console.log(shared);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic3'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic3'], resolve, reject); });
 
 	exports.shared = shared;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-main.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-main.js
index 6243c982e..207650de4 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-main.js
@@ -1,12 +1,12 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const shared = 'shared';
 
 	console.log(shared);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 	const unused = 42;
 
 	exports.shared = shared;
 	exports.unused = unused;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-not-specified.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-not-specified.js
index e21f556a8..5e1bbde29 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-not-specified.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-not-specified.js
@@ -1,9 +1,9 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const shared = 'shared';
 
 	console.log(shared);
-	new Promise(function (resolve, reject) { require(['./generated-dynamic4'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic4'], resolve, reject); });
 	const unused = 42;
 
 	exports.shared = shared;
@@ -11,4 +11,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-strict.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-strict.js
index fa13ffb3e..c2fcdba58 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-strict.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/amd/generated-strict.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main'], function (exports, strict) { 'use strict';
+define(['exports', './generated-main'], (function (exports, strict) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-main'], function (exports, strict) { 'use strict
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-allow-extension.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-allow-extension.js
index eabe01d55..beda0728d 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-allow-extension.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-allow-extension.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('s', 'shared');
 
@@ -9,6 +9,6 @@ System.register([], function (exports, module) {
 			module.import('./generated-dynamic2.js');
 			const unused = exports('unused', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic.js
index cb45ff710..316ac53ec 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic.js
@@ -1,14 +1,14 @@
-System.register(['./generated-main.js'], function () {
+System.register(['./generated-main.js'], (function () {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(shared);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic2.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic2.js
index ac828c226..81383bdb1 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic2.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-allow-extension.js'], function () {
+System.register(['./generated-allow-extension.js'], (function () {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(shared);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic3.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic3.js
index 8fa2ba052..1978c684e 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic3.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic3.js
@@ -1,14 +1,14 @@
-System.register(['./generated-false.js'], function () {
+System.register(['./generated-false.js'], (function () {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(shared);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic4.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic4.js
index b41e2229f..3ee0f88c5 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic4.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-dynamic4.js
@@ -1,14 +1,14 @@
-System.register(['./generated-not-specified.js'], function () {
+System.register(['./generated-not-specified.js'], (function () {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(shared);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-false.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-false.js
index 674dea5b4..b3ecd654d 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-false.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-false.js
@@ -1,13 +1,13 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('s', 'shared');
 
 			console.log(shared);
 			module.import('./generated-dynamic3.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-main.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-main.js
index d19257dee..f14f90b1d 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('s', 'shared');
 
@@ -9,6 +9,6 @@ System.register([], function (exports, module) {
 			module.import('./generated-dynamic.js');
 			const unused = exports('u', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-not-specified.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-not-specified.js
index 5104a4ed1..05bfd969a 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-not-specified.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-not-specified.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('s', 'shared');
 
@@ -9,6 +9,6 @@ System.register([], function (exports, module) {
 			module.import('./generated-dynamic4.js');
 			const unused = exports('unused', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-strict.js b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-strict.js
index 1cf070152..f0df4f307 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-strict.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/override-via-plugin/_expected/system/generated-strict.js
@@ -1,13 +1,13 @@
-System.register(['./generated-main.js'], function (exports) {
+System.register(['./generated-main.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('unused', module.u);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/amd/generated-dynamic.js
index 6d87a0e48..dee0d8797 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/amd/generated-dynamic.js
@@ -1,5 +1,5 @@
-define(['./generated-main'], function (main) { 'use strict';
+define(['./generated-main'], (function (main) { 'use strict';
 
 	globalThis.sharedDynamic = main.shared;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/amd/generated-main.js b/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/amd/generated-main.js
index f1c6db85d..7de2080ff 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/amd/generated-main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/amd/generated-main.js
@@ -1,9 +1,9 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const shared = 'shared';
 
 	const unused = 'unused';
-	const dynamic = new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	const dynamic = new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 
 	globalThis.sharedStatic = shared;
 
@@ -11,4 +11,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 	exports.shared = shared;
 	exports.unused = unused;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/amd/main.js b/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/amd/main.js
index 3189f6ac5..b2dd69382 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main'], function (exports, main) { 'use strict';
+define(['exports', './generated-main'], (function (exports, main) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './generated-main'], function (exports, main) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/system/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/system/generated-dynamic.js
index 187cb5f2c..76d2f1834 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/system/generated-dynamic.js
@@ -1,14 +1,14 @@
-System.register(['./generated-main.js'], function () {
+System.register(['./generated-main.js'], (function () {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			globalThis.sharedDynamic = shared;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/system/generated-main.js b/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/system/generated-main.js
index c31de9052..42e359eb1 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/system/generated-main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/system/generated-main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('s', 'shared');
 
@@ -10,6 +10,6 @@ System.register([], function (exports, module) {
 
 			globalThis.sharedStatic = shared;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/system/main.js b/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/system/main.js
index 07c5c3e89..461d214ff 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/strict/_expected/system/main.js
@@ -1,16 +1,13 @@
-System.register(['./generated-main.js'], function (exports) {
+System.register(['./generated-main.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			_setter.dynamic = module.d;
-			_setter.unused = module.u;
-			exports(_setter);
+			exports({ dynamic: module.d, unused: module.u });
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/amd/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/amd/generated-dynamic.js
index c3e9198a9..c9e76e3e8 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/amd/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/amd/generated-dynamic.js
@@ -1,5 +1,5 @@
-define(['./generated-main'], function (entry) { 'use strict';
+define(['./generated-main'], (function (entry) { 'use strict';
 
 	globalThis.sharedDynamic = entry.shared;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/amd/generated-entry.js b/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/amd/generated-entry.js
index e3d796aab..11c4936bf 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/amd/generated-entry.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/amd/generated-entry.js
@@ -1,5 +1,5 @@
-define(['./generated-main'], function (entry) { 'use strict';
+define(['./generated-main'], (function (entry) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/amd/generated-main.js b/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/amd/generated-main.js
index 4258e7c71..6dc4ddd51 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/amd/generated-main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/amd/generated-main.js
@@ -1,10 +1,10 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const shared = 'shared';
 
-	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject) });
+	new Promise(function (resolve, reject) { require(['./generated-dynamic'], resolve, reject); });
 	globalThis.sharedStatic = shared;
 
 	exports.shared = shared;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/system/generated-dynamic.js b/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/system/generated-dynamic.js
index 187cb5f2c..76d2f1834 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/system/generated-dynamic.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/system/generated-dynamic.js
@@ -1,14 +1,14 @@
-System.register(['./generated-main.js'], function () {
+System.register(['./generated-main.js'], (function () {
 	'use strict';
 	var shared;
 	return {
 		setters: [function (module) {
 			shared = module.s;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			globalThis.sharedDynamic = shared;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/system/generated-entry.js b/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/system/generated-entry.js
index 1312c7a3b..5c63e9143 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/system/generated-entry.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/system/generated-entry.js
@@ -1,11 +1,11 @@
-System.register(['./generated-main.js'], function () {
+System.register(['./generated-main.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/system/generated-main.js b/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/system/generated-main.js
index fa458794a..4fed28b3a 100644
--- a/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/system/generated-main.js
+++ b/test/chunking-form/samples/preserve-entry-signatures/undefined-with-tainted-plugin-chunk/_expected/system/generated-main.js
@@ -1,13 +1,13 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const shared = exports('s', 'shared');
 
 			module.import('./generated-dynamic.js');
 			globalThis.sharedStatic = shared;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/amd/default.js b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/amd/default.js
index 9101b3f3d..855cb78e2 100644
--- a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/amd/default.js
+++ b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/amd/default.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var foo = 'default';
 
 	return foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/amd/main.js
index e9283e83b..5f85ae8cf 100644
--- a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/amd/main.js
@@ -1,14 +1,12 @@
-define(['require', './default', './named'], function (require, _default, named) { 'use strict';
+define(['require', './default', './named'], (function (require, _default, named) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 	console.log(_default, named.value);
 
-	new Promise(function (resolve, reject) { require(['./default'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject) }).then(result => console.log(result.default));
-	new Promise(function (resolve, reject) { require(['./named'], resolve, reject) }).then(result => console.log(result.value));
+	new Promise(function (resolve, reject) { require(['./default'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject); }).then(result => console.log(result.default));
+	new Promise(function (resolve, reject) { require(['./named'], resolve, reject); }).then(result => console.log(result.value));
 
 	return _default;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/amd/named.js b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/amd/named.js
index 37e6d25bd..1afc6d3f7 100644
--- a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/amd/named.js
+++ b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/amd/named.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 'named';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/cjs/main.js b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/cjs/main.js
index f1ded2b4a..50f26b1b3 100644
--- a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/cjs/main.js
+++ b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/cjs/main.js
@@ -3,9 +3,7 @@
 var _default = require('./default.js');
 var named = require('./named.js');
 
-function _interopNamespaceDefaultOnly(e) {
-	return Object.freeze({__proto__: null, 'default': e});
-}
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 console.log(_default, named.value);
 
diff --git a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/system/default.js b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/system/default.js
index 0505d3144..5879dd0d6 100644
--- a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/system/default.js
+++ b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/system/default.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = exports('default', 'default');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/system/main.js
index 12e707aee..359bf0ce6 100644
--- a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/system/main.js
@@ -1,20 +1,20 @@
-System.register(['./default.js', './named.js'], function (exports, module) {
+System.register(['./default.js', './named.js'], (function (exports, module) {
 	'use strict';
 	var foo, value;
 	return {
 		setters: [function (module) {
-			foo = module.default;
-			exports('default', module.default);
+			foo = module["default"];
+			exports('default', module["default"]);
 		}, function (module) {
 			value = module.value;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, value);
 
 			module.import('./default.js').then(result => console.log(result.default));
 			module.import('./named.js').then(result => console.log(result.value));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/system/named.js b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/system/named.js
index 431654fc2..15ac00621 100644
--- a/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/system/named.js
+++ b/test/chunking-form/samples/preserve-modules-auto-export-mode/_expected/system/named.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 'named');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/_virtual/other.js_commonjs-exports b/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/_virtual/other.js_commonjs-exports
index c85e5adb0..4ded5921f 100644
--- a/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/_virtual/other.js_commonjs-exports
+++ b/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/_virtual/other.js_commonjs-exports
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var other = {};
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/commonjs.js b/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/commonjs.js
index 530d96e07..2f04c4bb5 100644
--- a/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/commonjs.js
+++ b/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/commonjs.js
@@ -1,10 +1,10 @@
-define(['external', './other', './_virtual/other.js_commonjs-exports'], function (require$$0, other$1, other) { 'use strict';
+define(['external', './other', './_virtual/other.js_commonjs-exports'], (function (require$$0, other$1, other) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var require$$0__default = /*#__PURE__*/_interopDefaultLegacy(require$$0);
 
-	const external = require$$0__default['default'];
+	const external = require$$0__default["default"];
 	const { value } = other.__exports;
 
 	console.log(external, value);
@@ -13,4 +13,4 @@ define(['external', './other', './_virtual/other.js_commonjs-exports'], function
 
 	return commonjs;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/main.js
index 59ea43e35..4f560cc22 100644
--- a/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/main.js
@@ -1,9 +1,9 @@
-define(['./commonjs', 'external'], function (commonjs, require$$0) { 'use strict';
+define(['./commonjs', 'external'], (function (commonjs, require$$0) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var require$$0__default = /*#__PURE__*/_interopDefaultLegacy(require$$0);
 
-	console.log(commonjs, require$$0__default['default']);
+	console.log(commonjs, require$$0__default["default"]);
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/other.js b/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/other.js
index 72f196e05..9bab1e318 100644
--- a/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/other.js
+++ b/test/chunking-form/samples/preserve-modules-commonjs/_expected/amd/other.js
@@ -1,7 +1,7 @@
-define(['./_virtual/other.js_commonjs-exports'], function (other) { 'use strict';
+define(['./_virtual/other.js_commonjs-exports'], (function (other) { 'use strict';
 
 	other.__exports.value = 43;
 
 	return other.__exports;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-commonjs/_expected/cjs/commonjs.js b/test/chunking-form/samples/preserve-modules-commonjs/_expected/cjs/commonjs.js
index 01c49bb95..9d8a2671e 100644
--- a/test/chunking-form/samples/preserve-modules-commonjs/_expected/cjs/commonjs.js
+++ b/test/chunking-form/samples/preserve-modules-commonjs/_expected/cjs/commonjs.js
@@ -8,7 +8,7 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var require$$0__default = /*#__PURE__*/_interopDefaultLegacy(require$$0);
 
-const external = require$$0__default['default'];
+const external = require$$0__default["default"];
 const { value } = other.__exports;
 
 console.log(external, value);
diff --git a/test/chunking-form/samples/preserve-modules-commonjs/_expected/cjs/main.js b/test/chunking-form/samples/preserve-modules-commonjs/_expected/cjs/main.js
index d7fe0c9c3..504e0f8b8 100644
--- a/test/chunking-form/samples/preserve-modules-commonjs/_expected/cjs/main.js
+++ b/test/chunking-form/samples/preserve-modules-commonjs/_expected/cjs/main.js
@@ -7,4 +7,4 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var require$$0__default = /*#__PURE__*/_interopDefaultLegacy(require$$0);
 
-console.log(commonjs, require$$0__default['default']);
+console.log(commonjs, require$$0__default["default"]);
diff --git a/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/_virtual/other.js_commonjs-exports b/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/_virtual/other.js_commonjs-exports
index 99e54f725..c3374bd03 100644
--- a/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/_virtual/other.js_commonjs-exports
+++ b/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/_virtual/other.js_commonjs-exports
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var other = exports('__exports', {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/commonjs.js b/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/commonjs.js
index 61194b787..0df36bf9a 100644
--- a/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/commonjs.js
+++ b/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/commonjs.js
@@ -1,13 +1,13 @@
-System.register(['external', './other.js', './_virtual/other.js_commonjs-exports'], function (exports) {
+System.register(['external', './other.js', './_virtual/other.js_commonjs-exports'], (function (exports) {
 	'use strict';
 	var require$$0, other;
 	return {
 		setters: [function (module) {
-			require$$0 = module.default;
+			require$$0 = module["default"];
 		}, function () {}, function (module) {
 			other = module.__exports;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const external = require$$0;
 			const { value } = other;
@@ -16,6 +16,6 @@ System.register(['external', './other.js', './_virtual/other.js_commonjs-exports
 
 			var commonjs = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/main.js
index 903fc6c49..e0920e595 100644
--- a/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/main.js
@@ -1,16 +1,16 @@
-System.register(['./commonjs.js', 'external'], function () {
+System.register(['./commonjs.js', 'external'], (function () {
 	'use strict';
 	var commonjs, require$$0;
 	return {
 		setters: [function (module) {
-			commonjs = module.default;
+			commonjs = module["default"];
 		}, function (module) {
-			require$$0 = module.default;
+			require$$0 = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(commonjs, require$$0);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/other.js b/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/other.js
index ce56d7889..0c9088251 100644
--- a/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/other.js
+++ b/test/chunking-form/samples/preserve-modules-commonjs/_expected/system/other.js
@@ -1,4 +1,4 @@
-System.register(['./_virtual/other.js_commonjs-exports'], function (exports) {
+System.register(['./_virtual/other.js_commonjs-exports'], (function (exports) {
 	'use strict';
 	var other;
 	return {
@@ -6,10 +6,10 @@ System.register(['./_virtual/other.js_commonjs-exports'], function (exports) {
 			other = module.__exports;
 			exports('default', module.__exports);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			other.value = 43;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/amd/lib.js b/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/amd/lib.js
index dedcf1cdf..30214a2ec 100644
--- a/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/amd/lib.js
+++ b/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/amd/lib.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var lib = 'foo';
 
 	return lib;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/amd/main.js
index 0d9d87fc9..c0c98ce3c 100644
--- a/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/amd/main.js
@@ -1,16 +1,14 @@
-define(['require', 'exports', './lib'], function (require, exports, lib) { 'use strict';
+define(['require', 'exports', './lib'], (function (require, exports, lib) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 	var lib__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(lib);
 
 	console.log(lib__namespace);
-	new Promise(function (resolve, reject) { require(['./lib'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject) }).then(console.log);
+	new Promise(function (resolve, reject) { require(['./lib'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject); }).then(console.log);
 
 	exports.lib = lib__namespace;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/cjs/main.js b/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/cjs/main.js
index 5a2da29a1..901fa2d31 100644
--- a/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/cjs/main.js
+++ b/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/cjs/main.js
@@ -4,9 +4,7 @@ Object.defineProperty(exports, '__esModule', { value: true });
 
 var lib = require('./lib.js');
 
-function _interopNamespaceDefaultOnly(e) {
-	return Object.freeze({__proto__: null, 'default': e});
-}
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 var lib__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(lib);
 
diff --git a/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/system/lib.js b/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/system/lib.js
index bae4f6483..666d3f83e 100644
--- a/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/system/lib.js
+++ b/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/system/lib.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var lib = exports('default', 'foo');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/system/main.js
index 8b552ec64..d53e79fcb 100644
--- a/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-default-mode-namespace/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./lib.js'], function (exports, module) {
+System.register(['./lib.js'], (function (exports, module) {
 	'use strict';
 	var lib;
 	return {
@@ -6,11 +6,11 @@ System.register(['./lib.js'], function (exports, module) {
 			lib = module;
 			exports('lib', module);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(lib);
 			module.import('./lib.js').then(console.log);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/amd/lib.js b/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/amd/lib.js
index dedcf1cdf..30214a2ec 100644
--- a/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/amd/lib.js
+++ b/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/amd/lib.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var lib = 'foo';
 
 	return lib;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/amd/main.js
index 497eae42f..0118eda1c 100644
--- a/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/amd/main.js
@@ -1,11 +1,9 @@
-define(['./lib'], function (lib) { 'use strict';
+define(['./lib'], (function (lib) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 	var lib__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(lib);
 
 	console.log(lib__namespace);
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/cjs/main.js b/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/cjs/main.js
index b6e183999..98f16d45f 100644
--- a/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/cjs/main.js
+++ b/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/cjs/main.js
@@ -2,9 +2,7 @@
 
 var lib = require('./lib.js');
 
-function _interopNamespaceDefaultOnly(e) {
-	return Object.freeze({__proto__: null, 'default': e});
-}
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 var lib__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(lib);
 
diff --git a/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/system/lib.js b/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/system/lib.js
index bae4f6483..666d3f83e 100644
--- a/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/system/lib.js
+++ b/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/system/lib.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var lib = exports('default', 'foo');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/system/main.js
index 211538e53..3dfb2cd9a 100644
--- a/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-default-mode-namespace2/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./lib.js'], function () {
+System.register(['./lib.js'], (function () {
 	'use strict';
 	var lib;
 	return {
 		setters: [function (module) {
 			lib = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(lib);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/amd/dynamic-included.js b/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/amd/dynamic-included.js
index afd117130..b32da5f0c 100644
--- a/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/amd/dynamic-included.js
+++ b/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/amd/dynamic-included.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 'included';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/amd/main.js
index 2ec310c64..d46b5b5ed 100644
--- a/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./dynamic-included'], resolve, reject) }).then(result => console.log(result));
+	new Promise(function (resolve, reject) { require(['./dynamic-included'], resolve, reject); }).then(result => console.log(result));
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/system/dynamic-included.js b/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/system/dynamic-included.js
index 3a6e75607..1c146c4b0 100644
--- a/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/system/dynamic-included.js
+++ b/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/system/dynamic-included.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 'included');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/system/main.js
index 26c21dccc..46d09c0e3 100644
--- a/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-dynamic-imports/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./dynamic-included.js').then(result => console.log(result));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/m1.js b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/m1.js
index 25f53d93a..1933cc959 100644
--- a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/m1.js
+++ b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/m1.js
@@ -1,4 +1,4 @@
-define(['exports', './m2', './m3'], function (exports, m2, m3) { 'use strict';
+define(['exports', './m2', './m3'], (function (exports, m2, m3) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './m2', './m3'], function (exports, m2, m3) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/m2.js b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/m2.js
index 22e08de41..098da5f2a 100644
--- a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/m2.js
+++ b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/m2.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var m2 = {a:1};
 
 	return m2;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/m3.js b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/m3.js
index 685448b54..54273ec86 100644
--- a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/m3.js
+++ b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/m3.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var m3 = {b:2};
 
 	return m3;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/main.js
index b73da45ad..46411907b 100644
--- a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./m1'], function (m1) { 'use strict';
+define(['./m1'], (function (m1) { 'use strict';
 
 	console.log(m1);
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/m1.js b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/m1.js
index 9f2d67db2..4151f28d8 100644
--- a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/m1.js
+++ b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/m1.js
@@ -1,15 +1,15 @@
-System.register(['./m2.js', './m3.js'], function (exports) {
+System.register(['./m2.js', './m3.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('m2', module.default);
+			exports('m2', module["default"]);
 		}, function (module) {
-			exports('m3', module.default);
+			exports('m3', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/m2.js b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/m2.js
index d724fa352..70eab9fde 100644
--- a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/m2.js
+++ b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/m2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var m2 = exports('default', {a:1});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/m3.js b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/m3.js
index 1181b9a04..d64ef84b7 100644
--- a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/m3.js
+++ b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/m3.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var m3 = exports('default', {b:2});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/main.js
index 8ee4b05a8..2055d1533 100644
--- a/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-dynamic-namespace/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./m1.js'], function () {
+System.register(['./m1.js'], (function () {
 	'use strict';
 	var m1;
 	return {
 		setters: [function (module) {
 			m1 = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(m1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-empty/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-empty/_expected/amd/main.js
index 6fd312fad..a52a88cf6 100644
--- a/test/chunking-form/samples/preserve-modules-empty/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-empty/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./two'], function (two) { 'use strict';
+define(['./two'], (function (two) { 'use strict';
 
 	window.APP = { a: two };
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-empty/_expected/amd/two.js b/test/chunking-form/samples/preserve-modules-empty/_expected/amd/two.js
index 68dcf822a..813004c18 100644
--- a/test/chunking-form/samples/preserve-modules-empty/_expected/amd/two.js
+++ b/test/chunking-form/samples/preserve-modules-empty/_expected/amd/two.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var a = {};
 
 	return a;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-empty/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-empty/_expected/system/main.js
index b0664a8cd..92dd66d83 100644
--- a/test/chunking-form/samples/preserve-modules-empty/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-empty/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./two.js'], function () {
+System.register(['./two.js'], (function () {
 	'use strict';
 	var a;
 	return {
 		setters: [function (module) {
-			a = module.default;
+			a = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			window.APP = { a };
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-empty/_expected/system/two.js b/test/chunking-form/samples/preserve-modules-empty/_expected/system/two.js
index 015fc0193..1b4ea34f1 100644
--- a/test/chunking-form/samples/preserve-modules-empty/_expected/system/two.js
+++ b/test/chunking-form/samples/preserve-modules-empty/_expected/system/two.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var a = exports('default', {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-export-alias/_expected/amd/dep.js b/test/chunking-form/samples/preserve-modules-export-alias/_expected/amd/dep.js
index cab959ad2..3c6da1369 100644
--- a/test/chunking-form/samples/preserve-modules-export-alias/_expected/amd/dep.js
+++ b/test/chunking-form/samples/preserve-modules-export-alias/_expected/amd/dep.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = 1;
 
@@ -7,4 +7,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-export-alias/_expected/amd/main1.js b/test/chunking-form/samples/preserve-modules-export-alias/_expected/amd/main1.js
index 4c30c2b8f..6a9c41569 100644
--- a/test/chunking-form/samples/preserve-modules-export-alias/_expected/amd/main1.js
+++ b/test/chunking-form/samples/preserve-modules-export-alias/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['exports', './dep'], function (exports, dep) { 'use strict';
+define(['exports', './dep'], (function (exports, dep) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './dep'], function (exports, dep) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-export-alias/_expected/amd/main2.js b/test/chunking-form/samples/preserve-modules-export-alias/_expected/amd/main2.js
index 0d4dfce05..518837a6c 100644
--- a/test/chunking-form/samples/preserve-modules-export-alias/_expected/amd/main2.js
+++ b/test/chunking-form/samples/preserve-modules-export-alias/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['exports', './dep'], function (exports, dep) { 'use strict';
+define(['exports', './dep'], (function (exports, dep) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './dep'], function (exports, dep) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-export-alias/_expected/system/dep.js b/test/chunking-form/samples/preserve-modules-export-alias/_expected/system/dep.js
index c4aea58c6..5b18e441e 100644
--- a/test/chunking-form/samples/preserve-modules-export-alias/_expected/system/dep.js
+++ b/test/chunking-form/samples/preserve-modules-export-alias/_expected/system/dep.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = 1; exports({ foo: foo, bar: foo });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-export-alias/_expected/system/main1.js b/test/chunking-form/samples/preserve-modules-export-alias/_expected/system/main1.js
index bfffe939f..ab503c81c 100644
--- a/test/chunking-form/samples/preserve-modules-export-alias/_expected/system/main1.js
+++ b/test/chunking-form/samples/preserve-modules-export-alias/_expected/system/main1.js
@@ -1,16 +1,13 @@
-System.register(['./dep.js'], function (exports) {
+System.register(['./dep.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			_setter.bar = module.foo;
-			_setter.foo = module.foo;
-			exports(_setter);
+			exports({ bar: module.foo, foo: module.foo });
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-export-alias/_expected/system/main2.js b/test/chunking-form/samples/preserve-modules-export-alias/_expected/system/main2.js
index d995245e8..47fbb8724 100644
--- a/test/chunking-form/samples/preserve-modules-export-alias/_expected/system/main2.js
+++ b/test/chunking-form/samples/preserve-modules-export-alias/_expected/system/main2.js
@@ -1,13 +1,13 @@
-System.register(['./dep.js'], function (exports) {
+System.register(['./dep.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('bar', module.foo);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-foo-amd-ts.ts.js b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-foo-amd-ts.ts.js
index 2bc02b355..69228f8fb 100644
--- a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-foo-amd-ts.ts.js
+++ b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-foo-amd-ts.ts.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var foo = 42;
 
 	return foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-lorem-amd-str.str.str.js b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-lorem-amd-str.str.str.js
index 8aeeca012..82deb072e 100644
--- a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-lorem-amd-str.str.str.js
+++ b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-lorem-amd-str.str.str.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var lorem = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.";
 
 	return lorem;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-main-amd-ts.ts.js b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-main-amd-ts.ts.js
index 47544257f..60fd91d37 100644
--- a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-main-amd-ts.ts.js
+++ b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-main-amd-ts.ts.js
@@ -1,4 +1,4 @@
-define(['exports', './entry-foo-amd-ts.ts', './nested/entry-bar-amd-ts.ts', './nested/entry-baz-amd-ts.ts', './entry-lorem-amd-str.str.str', './entry-no-ext-amd-'], function (exports, foo, bar, baz, lorem, noExt) { 'use strict';
+define(['exports', './entry-foo-amd-ts.ts', './nested/entry-bar-amd-ts.ts', './nested/entry-baz-amd-ts.ts', './entry-lorem-amd-str.str.str', './entry-no-ext-amd-'], (function (exports, foo, bar, baz, lorem, noExt) { 'use strict';
 
 
 
@@ -10,4 +10,4 @@ define(['exports', './entry-foo-amd-ts.ts', './nested/entry-bar-amd-ts.ts', './n
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-no-ext-amd-.js b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-no-ext-amd-.js
index 8e2da7722..4d9b6f896 100644
--- a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-no-ext-amd-.js
+++ b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/entry-no-ext-amd-.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var noExt = 'no-ext';
 
 	return noExt;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/nested/entry-bar-amd-ts.ts.js b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/nested/entry-bar-amd-ts.ts.js
index cb3bfcd5d..55e47d04b 100644
--- a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/nested/entry-bar-amd-ts.ts.js
+++ b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/nested/entry-bar-amd-ts.ts.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var bar = 'banana';
 
 	return bar;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/nested/entry-baz-amd-ts.ts.js b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/nested/entry-baz-amd-ts.ts.js
index 35018f306..518b69f55 100644
--- a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/nested/entry-baz-amd-ts.ts.js
+++ b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/amd/nested/entry-baz-amd-ts.ts.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var baz = 'whatever';
 
 	return baz;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-foo-system-ts.ts.js b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-foo-system-ts.ts.js
index 81b45b772..98793de89 100644
--- a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-foo-system-ts.ts.js
+++ b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-foo-system-ts.ts.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-lorem-system-str.str.str.js b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-lorem-system-str.str.str.js
index 7ebf110f9..4138e51e2 100644
--- a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-lorem-system-str.str.str.js
+++ b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-lorem-system-str.str.str.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var lorem = exports('default', "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.");
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-main-system-ts.ts.js b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-main-system-ts.ts.js
index 6ac0704e1..da12f8cc6 100644
--- a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-main-system-ts.ts.js
+++ b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-main-system-ts.ts.js
@@ -1,21 +1,21 @@
-System.register(['./entry-foo-system-ts.ts.js', './nested/entry-bar-system-ts.ts.js', './nested/entry-baz-system-ts.ts.js', './entry-lorem-system-str.str.str.js', './entry-no-ext-system-.js'], function (exports) {
+System.register(['./entry-foo-system-ts.ts.js', './nested/entry-bar-system-ts.ts.js', './nested/entry-baz-system-ts.ts.js', './entry-lorem-system-str.str.str.js', './entry-no-ext-system-.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('foo', module.default);
+			exports('foo', module["default"]);
 		}, function (module) {
-			exports('bar', module.default);
+			exports('bar', module["default"]);
 		}, function (module) {
-			exports('baz', module.default);
+			exports('baz', module["default"]);
 		}, function (module) {
-			exports('lorem', module.default);
+			exports('lorem', module["default"]);
 		}, function (module) {
-			exports('noExt', module.default);
+			exports('noExt', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-no-ext-system-.js b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-no-ext-system-.js
index 91546e66d..95f0f758b 100644
--- a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-no-ext-system-.js
+++ b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/entry-no-ext-system-.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var noExt = exports('default', 'no-ext');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/nested/entry-bar-system-ts.ts.js b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/nested/entry-bar-system-ts.ts.js
index 5ef23f158..21575fdff 100644
--- a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/nested/entry-bar-system-ts.ts.js
+++ b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/nested/entry-bar-system-ts.ts.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var bar = exports('default', 'banana');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/nested/entry-baz-system-ts.ts.js b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/nested/entry-baz-system-ts.ts.js
index a0526b566..54bd1e94e 100644
--- a/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/nested/entry-baz-system-ts.ts.js
+++ b/test/chunking-form/samples/preserve-modules-filename-pattern/_expected/system/nested/entry-baz-system-ts.ts.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var baz = exports('default', 'whatever');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One1.js b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One1.js
index 0383829b2..c6281aeed 100644
--- a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One1.js
+++ b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One1.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var c = 'One1.js';
 
 	return c;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One2.js b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One2.js
index 1febaba2e..e34aacf55 100644
--- a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One2.js
+++ b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_One2.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var b = 'One.js';
 
 	return b;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_one.js b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_one.js
index 469b63f9f..80666603e 100644
--- a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_one.js
+++ b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/_virtual/_one.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var a = 'one.js';
 
 	return a;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/main.js
index 803eecb16..581279681 100644
--- a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./_virtual/_one', './_virtual/_One2', './_virtual/_One1'], function (_one, _One, _One1) { 'use strict';
+define(['./_virtual/_one', './_virtual/_One2', './_virtual/_One1'], (function (_one, _One, _One1) { 'use strict';
 
 	window.APP = { a: _one, b: _One, c: _One1 };
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One1.js b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One1.js
index eb4e015ba..1f2e04b79 100644
--- a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One1.js
+++ b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One1.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var c = exports('default', 'One1.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One2.js b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One2.js
index 04b909083..1a8a96728 100644
--- a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One2.js
+++ b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/_virtual/_One2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var b = exports('default', 'One.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/_virtual/_one.js b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/_virtual/_one.js
index f6c4ac9f9..5606dfa6b 100644
--- a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/_virtual/_one.js
+++ b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/_virtual/_one.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var a = exports('default', 'one.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/main.js
index 17303445b..1c73614dc 100644
--- a/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-id-case-sensitive/_expected/system/main.js
@@ -1,18 +1,18 @@
-System.register(['./_virtual/_one.js', './_virtual/_One2.js', './_virtual/_One1.js'], function () {
+System.register(['./_virtual/_one.js', './_virtual/_One2.js', './_virtual/_One1.js'], (function () {
 	'use strict';
 	var a, b, c;
 	return {
 		setters: [function (module) {
-			a = module.default;
+			a = module["default"];
 		}, function (module) {
-			b = module.default;
+			b = module["default"];
 		}, function (module) {
-			c = module.default;
+			c = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			window.APP = { a, b, c };
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/amd/default.js b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/amd/default.js
index 36548304b..423aa9c1d 100644
--- a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/amd/default.js
+++ b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/amd/default.js
@@ -1,9 +1,9 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var foo = 'default';
 
-	exports['default'] = foo;
+	exports["default"] = foo;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/amd/main.js
index 8d0b41b8c..4ac7889fd 100644
--- a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/amd/main.js
@@ -1,12 +1,12 @@
-define(['require', 'exports', './default', './named'], function (require, exports, _default, named) { 'use strict';
+define(['require', 'exports', './default', './named'], (function (require, exports, _default, named) { 'use strict';
 
-	console.log(_default['default'], named.value);
+	console.log(_default["default"], named.value);
 
-	new Promise(function (resolve, reject) { require(['./default'], resolve, reject) }).then(result => console.log(result.default));
-	new Promise(function (resolve, reject) { require(['./named'], resolve, reject) }).then(result => console.log(result.value));
+	new Promise(function (resolve, reject) { require(['./default'], resolve, reject); }).then(result => console.log(result.default));
+	new Promise(function (resolve, reject) { require(['./named'], resolve, reject); }).then(result => console.log(result.value));
 
-	exports.default = _default['default'];
+	exports["default"] = _default["default"];
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/amd/named.js b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/amd/named.js
index 37e6d25bd..1afc6d3f7 100644
--- a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/amd/named.js
+++ b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/amd/named.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 'named';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/cjs/default.js b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/cjs/default.js
index 23b09fb3b..1d94fa0da 100644
--- a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/cjs/default.js
+++ b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/cjs/default.js
@@ -4,4 +4,4 @@ Object.defineProperty(exports, '__esModule', { value: true });
 
 var foo = 'default';
 
-exports['default'] = foo;
+exports["default"] = foo;
diff --git a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/cjs/main.js b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/cjs/main.js
index 8c9a24541..fa4914c72 100644
--- a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/cjs/main.js
+++ b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/cjs/main.js
@@ -5,9 +5,9 @@ Object.defineProperty(exports, '__esModule', { value: true });
 var _default = require('./default.js');
 var named = require('./named.js');
 
-console.log(_default['default'], named.value);
+console.log(_default["default"], named.value);
 
 Promise.resolve().then(function () { return require('./default.js'); }).then(result => console.log(result.default));
 Promise.resolve().then(function () { return require('./named.js'); }).then(result => console.log(result.value));
 
-exports.default = _default['default'];
+exports["default"] = _default["default"];
diff --git a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/system/default.js b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/system/default.js
index 0505d3144..5879dd0d6 100644
--- a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/system/default.js
+++ b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/system/default.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = exports('default', 'default');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/system/main.js
index 12e707aee..359bf0ce6 100644
--- a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/system/main.js
@@ -1,20 +1,20 @@
-System.register(['./default.js', './named.js'], function (exports, module) {
+System.register(['./default.js', './named.js'], (function (exports, module) {
 	'use strict';
 	var foo, value;
 	return {
 		setters: [function (module) {
-			foo = module.default;
-			exports('default', module.default);
+			foo = module["default"];
+			exports('default', module["default"]);
 		}, function (module) {
 			value = module.value;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, value);
 
 			module.import('./default.js').then(result => console.log(result.default));
 			module.import('./named.js').then(result => console.log(result.value));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/system/named.js b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/system/named.js
index 431654fc2..15ac00621 100644
--- a/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/system/named.js
+++ b/test/chunking-form/samples/preserve-modules-named-export-mode/_expected/system/named.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 'named');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/amd/main.js
index 12dccf71f..7b07b87a9 100644
--- a/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './module-a/v1/index', './module-b/v1/index'], function (exports, index, index$1) { 'use strict';
+define(['exports', './module-a/v1/index', './module-b/v1/index'], (function (exports, index, index$1) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './module-a/v1/index', './module-b/v1/index'], function (expo
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/amd/module-a/v1/index.js b/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/amd/module-a/v1/index.js
index 2c1cbb524..315abd027 100644
--- a/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/amd/module-a/v1/index.js
+++ b/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/amd/module-a/v1/index.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const TEST_MODULE_A = 'A';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/amd/module-b/v1/index.js b/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/amd/module-b/v1/index.js
index b56f633d9..dfd4f52cf 100644
--- a/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/amd/module-b/v1/index.js
+++ b/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/amd/module-b/v1/index.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const TEST_MODULE_B = 'A';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/system/main.js
index 69423415a..ef257319d 100644
--- a/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./module-a/v1/index.js', './module-b/v1/index.js'], function (exports) {
+System.register(['./module-a/v1/index.js', './module-b/v1/index.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
@@ -6,10 +6,10 @@ System.register(['./module-a/v1/index.js', './module-b/v1/index.js'], function (
 		}, function (module) {
 			exports('ModuleB_V1', module);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/system/module-a/v1/index.js b/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/system/module-a/v1/index.js
index 400a5460f..0f9df3153 100644
--- a/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/system/module-a/v1/index.js
+++ b/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/system/module-a/v1/index.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const TEST_MODULE_A = exports('TEST_MODULE_A', 'A');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/system/module-b/v1/index.js b/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/system/module-b/v1/index.js
index 337b556bb..d5228c075 100644
--- a/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/system/module-b/v1/index.js
+++ b/test/chunking-form/samples/preserve-modules-nested-barrel-es-export/_expected/system/module-b/v1/index.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const TEST_MODULE_B = exports('TEST_MODULE_B', 'A');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-nested-export/_expected/amd/inner/more_inner/something.js b/test/chunking-form/samples/preserve-modules-nested-export/_expected/amd/inner/more_inner/something.js
index 138d9ba9e..8f479d12f 100644
--- a/test/chunking-form/samples/preserve-modules-nested-export/_expected/amd/inner/more_inner/something.js
+++ b/test/chunking-form/samples/preserve-modules-nested-export/_expected/amd/inner/more_inner/something.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const Something = 'Hello World';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-nested-export/_expected/amd/inner/some_effect.js b/test/chunking-form/samples/preserve-modules-nested-export/_expected/amd/inner/some_effect.js
index 621699a15..3edb2a595 100644
--- a/test/chunking-form/samples/preserve-modules-nested-export/_expected/amd/inner/some_effect.js
+++ b/test/chunking-form/samples/preserve-modules-nested-export/_expected/amd/inner/some_effect.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('side-effect');
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-nested-export/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-nested-export/_expected/amd/main.js
index c89b17c4c..48856b231 100644
--- a/test/chunking-form/samples/preserve-modules-nested-export/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-nested-export/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './inner/more_inner/something', './inner/some_effect'], function (exports, something, some_effect) { 'use strict';
+define(['exports', './inner/more_inner/something', './inner/some_effect'], (function (exports, something, some_effect) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './inner/more_inner/something', './inner/some_effect'], funct
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-nested-export/_expected/system/inner/more_inner/something.js b/test/chunking-form/samples/preserve-modules-nested-export/_expected/system/inner/more_inner/something.js
index 1b4bba213..f087474c2 100644
--- a/test/chunking-form/samples/preserve-modules-nested-export/_expected/system/inner/more_inner/something.js
+++ b/test/chunking-form/samples/preserve-modules-nested-export/_expected/system/inner/more_inner/something.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const Something = exports('Something', 'Hello World');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-nested-export/_expected/system/inner/some_effect.js b/test/chunking-form/samples/preserve-modules-nested-export/_expected/system/inner/some_effect.js
index 19dd3ec79..f019bf7e7 100644
--- a/test/chunking-form/samples/preserve-modules-nested-export/_expected/system/inner/some_effect.js
+++ b/test/chunking-form/samples/preserve-modules-nested-export/_expected/system/inner/some_effect.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('side-effect');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-nested-export/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-nested-export/_expected/system/main.js
index 16e27681d..2f734b5c3 100644
--- a/test/chunking-form/samples/preserve-modules-nested-export/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-nested-export/_expected/system/main.js
@@ -1,13 +1,13 @@
-System.register(['./inner/more_inner/something.js', './inner/some_effect.js'], function (exports) {
+System.register(['./inner/more_inner/something.js', './inner/some_effect.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('Something', module.Something);
 		}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/amd/dep2.js b/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/amd/dep2.js
index 16210f80f..4ee99d606 100644
--- a/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/amd/dep2.js
+++ b/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/amd/dep2.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo() {}
 
 	return foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/amd/main.js
index 085588168..2121744c9 100644
--- a/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['./dep2'], function (dep2) { 'use strict';
+define(['./dep2'], (function (dep2) { 'use strict';
 
 
 
 	return dep2;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/system/dep2.js b/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/system/dep2.js
index eb88d79ae..704c184b6 100644
--- a/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/system/dep2.js
+++ b/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/system/dep2.js
@@ -1,12 +1,12 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('default', foo);
 
 			function foo() {}
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/system/main.js
index 8f2d06a8f..820cf65b9 100644
--- a/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-non-entry-imports/_expected/system/main.js
@@ -1,15 +1,15 @@
-System.register(['./dep2.js'], function (exports) {
+System.register(['./dep2.js'], (function (exports) {
 	'use strict';
 	var foo;
 	return {
 		setters: [function (module) {
-			foo = module.default;
-			exports('default', module.default);
+			foo = module["default"];
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-proxy-import/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-proxy-import/_expected/amd/main.js
index 0abc6cfe9..7019d8bc6 100644
--- a/test/chunking-form/samples/preserve-modules-proxy-import/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-proxy-import/_expected/amd/main.js
@@ -1,10 +1,10 @@
-define(['external'], function (path) { 'use strict';
+define(['external'], (function (path) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var path__default = /*#__PURE__*/_interopDefaultLegacy(path);
 
-	console.log(path__default['default'].normalize('foo\\bar'));
-	console.log(path__default['default'].normalize('foo\\bar'));
+	console.log(path__default["default"].normalize('foo\\bar'));
+	console.log(path__default["default"].normalize('foo\\bar'));
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-proxy-import/_expected/amd/proxy.js b/test/chunking-form/samples/preserve-modules-proxy-import/_expected/amd/proxy.js
index e130c8d6d..e605b2b68 100644
--- a/test/chunking-form/samples/preserve-modules-proxy-import/_expected/amd/proxy.js
+++ b/test/chunking-form/samples/preserve-modules-proxy-import/_expected/amd/proxy.js
@@ -1,4 +1,4 @@
-define(['external'], function (path) { 'use strict';
+define(['external'], (function (path) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -6,6 +6,6 @@ define(['external'], function (path) { 'use strict';
 
 
 
-	return path__default['default'];
+	return path__default["default"];
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-proxy-import/_expected/cjs/main.js b/test/chunking-form/samples/preserve-modules-proxy-import/_expected/cjs/main.js
index b018def07..c2c5d4439 100644
--- a/test/chunking-form/samples/preserve-modules-proxy-import/_expected/cjs/main.js
+++ b/test/chunking-form/samples/preserve-modules-proxy-import/_expected/cjs/main.js
@@ -6,5 +6,5 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var path__default = /*#__PURE__*/_interopDefaultLegacy(path);
 
-console.log(path__default['default'].normalize('foo\\bar'));
-console.log(path__default['default'].normalize('foo\\bar'));
+console.log(path__default["default"].normalize('foo\\bar'));
+console.log(path__default["default"].normalize('foo\\bar'));
diff --git a/test/chunking-form/samples/preserve-modules-proxy-import/_expected/cjs/proxy.js b/test/chunking-form/samples/preserve-modules-proxy-import/_expected/cjs/proxy.js
index f53610193..bd140dd12 100644
--- a/test/chunking-form/samples/preserve-modules-proxy-import/_expected/cjs/proxy.js
+++ b/test/chunking-form/samples/preserve-modules-proxy-import/_expected/cjs/proxy.js
@@ -8,4 +8,4 @@ var path__default = /*#__PURE__*/_interopDefaultLegacy(path);
 
 
 
-module.exports = path__default['default'];
+module.exports = path__default["default"];
diff --git a/test/chunking-form/samples/preserve-modules-proxy-import/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-proxy-import/_expected/system/main.js
index cdb1f31d2..d5764dd2d 100644
--- a/test/chunking-form/samples/preserve-modules-proxy-import/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-proxy-import/_expected/system/main.js
@@ -1,15 +1,15 @@
-System.register(['external'], function () {
+System.register(['external'], (function () {
 	'use strict';
 	var path;
 	return {
 		setters: [function (module) {
-			path = module.default;
+			path = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(path.normalize('foo\\bar'));
 			console.log(path.normalize('foo\\bar'));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-proxy-import/_expected/system/proxy.js b/test/chunking-form/samples/preserve-modules-proxy-import/_expected/system/proxy.js
index 131f0eac7..54718c7b7 100644
--- a/test/chunking-form/samples/preserve-modules-proxy-import/_expected/system/proxy.js
+++ b/test/chunking-form/samples/preserve-modules-proxy-import/_expected/system/proxy.js
@@ -1,15 +1,15 @@
-System.register(['external'], function (exports) {
+System.register(['external'], (function (exports) {
 	'use strict';
 	var path;
 	return {
 		setters: [function (module) {
-			path = module.default;
-			exports('default', module.default);
+			path = module["default"];
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/amd/dep.js b/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/amd/dep.js
index 93365a062..075d3efdd 100644
--- a/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/amd/dep.js
+++ b/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/amd/dep.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn () {
     console.log('dep fn');
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/amd/lib/main.js b/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/amd/lib/main.js
index ff8eacced..7530d2bf1 100644
--- a/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/amd/lib/main.js
+++ b/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/amd/lib/main.js
@@ -1,4 +1,4 @@
-define(['../dep'], function (dep) { 'use strict';
+define(['../dep'], (function (dep) { 'use strict';
 
   class Main {
     constructor () {
@@ -8,4 +8,4 @@ define(['../dep'], function (dep) { 'use strict';
 
   return Main;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/system/dep.js b/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/system/dep.js
index 3228f5b29..8c38ad144 100644
--- a/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/system/dep.js
+++ b/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/system/dep.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('fn', fn);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('dep fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/system/lib/main.js b/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/system/lib/main.js
index 2c8238dca..440f4c9f9 100644
--- a/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/system/lib/main.js
+++ b/test/chunking-form/samples/preserve-modules-reaching-outside/_expected/system/lib/main.js
@@ -1,11 +1,11 @@
-System.register(['../dep.js'], function (exports) {
+System.register(['../dep.js'], (function (exports) {
   'use strict';
   var fn;
   return {
     setters: [function (module) {
       fn = module.fn;
     }],
-    execute: function () {
+    execute: (function () {
 
       class Main {
         constructor () {
@@ -13,6 +13,6 @@ System.register(['../dep.js'], function (exports) {
         }
       } exports('default', Main);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-root/_expected/amd/_virtual/index.js_commonjs-exports b/test/chunking-form/samples/preserve-modules-root/_expected/amd/_virtual/index.js_commonjs-exports
index eabd9c470..1a2072589 100644
--- a/test/chunking-form/samples/preserve-modules-root/_expected/amd/_virtual/index.js_commonjs-exports
+++ b/test/chunking-form/samples/preserve-modules-root/_expected/amd/_virtual/index.js_commonjs-exports
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var myBasePkg = {};
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-root/_expected/amd/below/module.js b/test/chunking-form/samples/preserve-modules-root/_expected/amd/below/module.js
index cb45eacc8..d7f24ed28 100644
--- a/test/chunking-form/samples/preserve-modules-root/_expected/amd/below/module.js
+++ b/test/chunking-form/samples/preserve-modules-root/_expected/amd/below/module.js
@@ -1,4 +1,4 @@
-define(['../custom_modules/@my-scope/my-base-pkg/index', '../_virtual/index.js_commonjs-exports'], function (index$1, index) { 'use strict';
+define(['../custom_modules/@my-scope/my-base-pkg/index', '../_virtual/index.js_commonjs-exports'], (function (index$1, index) { 'use strict';
 
   const base2 = index.__exports;
 
@@ -8,4 +8,4 @@ define(['../custom_modules/@my-scope/my-base-pkg/index', '../_virtual/index.js_c
 
   return module;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-root/_expected/amd/custom_modules/@my-scope/my-base-pkg/index.js b/test/chunking-form/samples/preserve-modules-root/_expected/amd/custom_modules/@my-scope/my-base-pkg/index.js
index bfcc73a2f..9b6a8c65c 100644
--- a/test/chunking-form/samples/preserve-modules-root/_expected/amd/custom_modules/@my-scope/my-base-pkg/index.js
+++ b/test/chunking-form/samples/preserve-modules-root/_expected/amd/custom_modules/@my-scope/my-base-pkg/index.js
@@ -1,4 +1,4 @@
-define(['../../../_virtual/index.js_commonjs-exports'], function (index) { 'use strict';
+define(['../../../_virtual/index.js_commonjs-exports'], (function (index) { 'use strict';
 
 	Object.defineProperty(index.__exports, '__esModule', { value: true });
 
@@ -8,4 +8,4 @@ define(['../../../_virtual/index.js_commonjs-exports'], function (index) { 'use
 
 	return index.__exports;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-root/_expected/amd/under-build.js b/test/chunking-form/samples/preserve-modules-root/_expected/amd/under-build.js
index 921637f1c..cd68ea9b9 100644
--- a/test/chunking-form/samples/preserve-modules-root/_expected/amd/under-build.js
+++ b/test/chunking-form/samples/preserve-modules-root/_expected/amd/under-build.js
@@ -1,4 +1,4 @@
-define(['./custom_modules/@my-scope/my-base-pkg/index', './_virtual/index.js_commonjs-exports'], function (index$1, index) { 'use strict';
+define(['./custom_modules/@my-scope/my-base-pkg/index', './_virtual/index.js_commonjs-exports'], (function (index$1, index) { 'use strict';
 
 	const base = index.__exports;
 
@@ -8,4 +8,4 @@ define(['./custom_modules/@my-scope/my-base-pkg/index', './_virtual/index.js_com
 
 	return underBuild;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-root/_expected/system/_virtual/index.js_commonjs-exports b/test/chunking-form/samples/preserve-modules-root/_expected/system/_virtual/index.js_commonjs-exports
index ea7363b20..bd7f030e2 100644
--- a/test/chunking-form/samples/preserve-modules-root/_expected/system/_virtual/index.js_commonjs-exports
+++ b/test/chunking-form/samples/preserve-modules-root/_expected/system/_virtual/index.js_commonjs-exports
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var myBasePkg = exports('__exports', {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-root/_expected/system/below/module.js b/test/chunking-form/samples/preserve-modules-root/_expected/system/below/module.js
index e0fd73bc6..9544e4c81 100644
--- a/test/chunking-form/samples/preserve-modules-root/_expected/system/below/module.js
+++ b/test/chunking-form/samples/preserve-modules-root/_expected/system/below/module.js
@@ -1,11 +1,11 @@
-System.register(['../custom_modules/@my-scope/my-base-pkg/index.js', '../_virtual/index.js_commonjs-exports'], function (exports) {
+System.register(['../custom_modules/@my-scope/my-base-pkg/index.js', '../_virtual/index.js_commonjs-exports'], (function (exports) {
   'use strict';
   var myBasePkg;
   return {
     setters: [function () {}, function (module) {
       myBasePkg = module.__exports;
     }],
-    execute: function () {
+    execute: (function () {
 
       const base2 = myBasePkg;
 
@@ -13,6 +13,6 @@ System.register(['../custom_modules/@my-scope/my-base-pkg/index.js', '../_virtua
         base2,
       });
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-root/_expected/system/custom_modules/@my-scope/my-base-pkg/index.js b/test/chunking-form/samples/preserve-modules-root/_expected/system/custom_modules/@my-scope/my-base-pkg/index.js
index 899f95b22..840aa037c 100644
--- a/test/chunking-form/samples/preserve-modules-root/_expected/system/custom_modules/@my-scope/my-base-pkg/index.js
+++ b/test/chunking-form/samples/preserve-modules-root/_expected/system/custom_modules/@my-scope/my-base-pkg/index.js
@@ -1,4 +1,4 @@
-System.register(['../../../_virtual/index.js_commonjs-exports'], function (exports) {
+System.register(['../../../_virtual/index.js_commonjs-exports'], (function (exports) {
 	'use strict';
 	var myBasePkg;
 	return {
@@ -6,7 +6,7 @@ System.register(['../../../_virtual/index.js_commonjs-exports'], function (expor
 			myBasePkg = module.__exports;
 			exports('default', module.__exports);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			Object.defineProperty(myBasePkg, '__esModule', { value: true });
 
@@ -14,6 +14,6 @@ System.register(['../../../_virtual/index.js_commonjs-exports'], function (expor
 
 			myBasePkg.hello = hello;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-root/_expected/system/under-build.js b/test/chunking-form/samples/preserve-modules-root/_expected/system/under-build.js
index 6b49c154b..178399de6 100644
--- a/test/chunking-form/samples/preserve-modules-root/_expected/system/under-build.js
+++ b/test/chunking-form/samples/preserve-modules-root/_expected/system/under-build.js
@@ -1,11 +1,11 @@
-System.register(['./custom_modules/@my-scope/my-base-pkg/index.js', './_virtual/index.js_commonjs-exports'], function (exports) {
+System.register(['./custom_modules/@my-scope/my-base-pkg/index.js', './_virtual/index.js_commonjs-exports'], (function (exports) {
 	'use strict';
 	var myBasePkg;
 	return {
 		setters: [function () {}, function (module) {
 			myBasePkg = module.__exports;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const base = myBasePkg;
 
@@ -13,6 +13,6 @@ System.register(['./custom_modules/@my-scope/my-base-pkg/index.js', './_virtual/
 				base
 			});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/answer.num.js b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/answer.num.js
index 66a5b0c01..29099bd21 100644
--- a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/answer.num.js
+++ b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/answer.num.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var answer = 42;
 
 	return answer;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/lorem.str.js b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/lorem.str.js
index 8aeeca012..82deb072e 100644
--- a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/lorem.str.js
+++ b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/lorem.str.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var lorem = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.";
 
 	return lorem;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/main.js
index 889e72fdb..75f282a2b 100644
--- a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './answer.num', './lorem.str', './no-ext'], function (exports, answer, lorem, noExt) { 'use strict';
+define(['exports', './answer.num', './lorem.str', './no-ext'], (function (exports, answer, lorem, noExt) { 'use strict';
 
 
 
@@ -8,4 +8,4 @@ define(['exports', './answer.num', './lorem.str', './no-ext'], function (exports
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/no-ext.js b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/no-ext.js
index b60c10d91..2395eddcd 100644
--- a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/no-ext.js
+++ b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/amd/no-ext.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var noExt = "COULDN'T TRANSFORM";
 
 	return noExt;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/answer.num.js b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/answer.num.js
index e897f1a3b..80f714d45 100644
--- a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/answer.num.js
+++ b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/answer.num.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var answer = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/lorem.str.js b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/lorem.str.js
index 7ebf110f9..4138e51e2 100644
--- a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/lorem.str.js
+++ b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/lorem.str.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var lorem = exports('default', "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.");
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/main.js
index 573404110..f888ea474 100644
--- a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/main.js
@@ -1,17 +1,17 @@
-System.register(['./answer.num.js', './lorem.str.js', './no-ext.js'], function (exports) {
+System.register(['./answer.num.js', './lorem.str.js', './no-ext.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('answer', module.default);
+			exports('answer', module["default"]);
 		}, function (module) {
-			exports('lorem', module.default);
+			exports('lorem', module["default"]);
 		}, function (module) {
-			exports('noExt', module.default);
+			exports('noExt', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/no-ext.js b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/no-ext.js
index bd0ec5a3c..adc4e116f 100644
--- a/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/no-ext.js
+++ b/test/chunking-form/samples/preserve-modules-scriptified-assets/_expected/system/no-ext.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var noExt = exports('default', "COULDN'T TRANSFORM");
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-single-entry/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-single-entry/_expected/amd/main.js
index 799d8161f..7b0ad1252 100644
--- a/test/chunking-form/samples/preserve-modules-single-entry/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-single-entry/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log();
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-single-entry/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-single-entry/_expected/system/main.js
index 9c717dc8f..1063ea641 100644
--- a/test/chunking-form/samples/preserve-modules-single-entry/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-single-entry/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/amd/_virtual/_virtualModule b/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/amd/_virtual/_virtualModule
index e847f6c12..ce212753a 100644
--- a/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/amd/_virtual/_virtualModule
+++ b/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/amd/_virtual/_virtualModule
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const virtual = "Virtual!";
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/amd/main.js b/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/amd/main.js
index 452f5c4b4..744ca4ba5 100644
--- a/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/amd/main.js
+++ b/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./_virtual/_virtualModule'], function (_virtualModule) { 'use strict';
+define(['./_virtual/_virtualModule'], (function (_virtualModule) { 'use strict';
 
 	assert.equal(_virtualModule.virtual, 'Virtual!');
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/system/_virtual/_virtualModule b/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/system/_virtual/_virtualModule
index 2281d70c5..51cfccb8a 100644
--- a/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/system/_virtual/_virtualModule
+++ b/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/system/_virtual/_virtualModule
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const virtual = exports('virtual', "Virtual!");
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/system/main.js b/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/system/main.js
index 7b8b65e23..eed2c557e 100644
--- a/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/system/main.js
+++ b/test/chunking-form/samples/preserve-modules-virtual-modules/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./_virtual/_virtualModule'], function () {
+System.register(['./_virtual/_virtualModule'], (function () {
 	'use strict';
 	var virtual;
 	return {
 		setters: [function (module) {
 			virtual = module.virtual;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			assert.equal(virtual, 'Virtual!');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/amd/deps/dep1.js b/test/chunking-form/samples/preserve-modules/_expected/amd/deps/dep1.js
index eb1b2814d..9e70a0993 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/amd/deps/dep1.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/amd/deps/dep1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn () {
     console.log('dep1 fn');
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/amd/deps/dep2.js b/test/chunking-form/samples/preserve-modules/_expected/amd/deps/dep2.js
index 2a152d376..adf251cb9 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/amd/deps/dep2.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/amd/deps/dep2.js
@@ -1,4 +1,4 @@
-define(['exports', '../lib/lib2'], function (exports, lib2) { 'use strict';
+define(['exports', '../lib/lib2'], (function (exports, lib2) { 'use strict';
 
   function fn () {
     lib2.fn();
@@ -9,4 +9,4 @@ define(['exports', '../lib/lib2'], function (exports, lib2) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/amd/deps/dep3.js b/test/chunking-form/samples/preserve-modules/_expected/amd/deps/dep3.js
index bfc8f877c..5e20b7929 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/amd/deps/dep3.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/amd/deps/dep3.js
@@ -1,4 +1,4 @@
-define(['exports', '../lib/lib1'], function (exports, lib1) { 'use strict';
+define(['exports', '../lib/lib1'], (function (exports, lib1) { 'use strict';
 
   function fn () {
     lib1.fn();
@@ -9,4 +9,4 @@ define(['exports', '../lib/lib1'], function (exports, lib1) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/amd/lib/lib1.js b/test/chunking-form/samples/preserve-modules/_expected/amd/lib/lib1.js
index 93c0a3a41..aa9fbe18f 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/amd/lib/lib1.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/amd/lib/lib1.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn () {
     console.log('lib1 fn');
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/amd/lib/lib2.js b/test/chunking-form/samples/preserve-modules/_expected/amd/lib/lib2.js
index 8e8e2d17c..d05a86769 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/amd/lib/lib2.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/amd/lib/lib2.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function fn () {
     console.log('lib2 fn');
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/amd/main1.js b/test/chunking-form/samples/preserve-modules/_expected/amd/main1.js
index 70e5862ba..296879eff 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/amd/main1.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['./deps/dep1', './deps/dep2'], function (dep1, dep2) { 'use strict';
+define(['./deps/dep1', './deps/dep2'], (function (dep1, dep2) { 'use strict';
 
   class Main1 {
     constructor () {
@@ -9,4 +9,4 @@ define(['./deps/dep1', './deps/dep2'], function (dep1, dep2) { 'use strict';
 
   return Main1;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/amd/main2.js b/test/chunking-form/samples/preserve-modules/_expected/amd/main2.js
index b9dd02ca1..adff70c23 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/amd/main2.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/amd/main2.js
@@ -1,4 +1,4 @@
-define(['./deps/dep2', './deps/dep3'], function (dep2, dep3) { 'use strict';
+define(['./deps/dep2', './deps/dep3'], (function (dep2, dep3) { 'use strict';
 
   class Main2 {
     constructor () {
@@ -9,4 +9,4 @@ define(['./deps/dep2', './deps/dep3'], function (dep2, dep3) { 'use strict';
 
   return Main2;
 
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/system/deps/dep1.js b/test/chunking-form/samples/preserve-modules/_expected/system/deps/dep1.js
index 813157baf..30f5932b2 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/system/deps/dep1.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/system/deps/dep1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('fn', fn);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('dep1 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/system/deps/dep2.js b/test/chunking-form/samples/preserve-modules/_expected/system/deps/dep2.js
index e659b606b..266a74dbe 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/system/deps/dep2.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/system/deps/dep2.js
@@ -1,11 +1,11 @@
-System.register(['../lib/lib2.js'], function (exports) {
+System.register(['../lib/lib2.js'], (function (exports) {
   'use strict';
   var fn$1;
   return {
     setters: [function (module) {
       fn$1 = module.fn;
     }],
-    execute: function () {
+    execute: (function () {
 
       exports('fn', fn);
 
@@ -14,6 +14,6 @@ System.register(['../lib/lib2.js'], function (exports) {
         console.log('dep2 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/system/deps/dep3.js b/test/chunking-form/samples/preserve-modules/_expected/system/deps/dep3.js
index bd88b3e2d..c7293a4ee 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/system/deps/dep3.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/system/deps/dep3.js
@@ -1,11 +1,11 @@
-System.register(['../lib/lib1.js'], function (exports) {
+System.register(['../lib/lib1.js'], (function (exports) {
   'use strict';
   var fn$1;
   return {
     setters: [function (module) {
       fn$1 = module.fn;
     }],
-    execute: function () {
+    execute: (function () {
 
       exports('fn', fn);
 
@@ -14,6 +14,6 @@ System.register(['../lib/lib1.js'], function (exports) {
         console.log('dep3 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/system/lib/lib1.js b/test/chunking-form/samples/preserve-modules/_expected/system/lib/lib1.js
index 744d84434..38247e531 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/system/lib/lib1.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/system/lib/lib1.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('fn', fn);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('lib1 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/system/lib/lib2.js b/test/chunking-form/samples/preserve-modules/_expected/system/lib/lib2.js
index b27f09d18..942fe4550 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/system/lib/lib2.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/system/lib/lib2.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('fn', fn);
 
@@ -9,6 +9,6 @@ System.register([], function (exports) {
         console.log('lib2 fn');
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/system/main1.js b/test/chunking-form/samples/preserve-modules/_expected/system/main1.js
index 17f7ddb45..a8ee090a6 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/system/main1.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./deps/dep1.js', './deps/dep2.js'], function (exports) {
+System.register(['./deps/dep1.js', './deps/dep2.js'], (function (exports) {
   'use strict';
   var fn, fn$1;
   return {
@@ -7,7 +7,7 @@ System.register(['./deps/dep1.js', './deps/dep2.js'], function (exports) {
     }, function (module) {
       fn$1 = module.fn;
     }],
-    execute: function () {
+    execute: (function () {
 
       class Main1 {
         constructor () {
@@ -16,6 +16,6 @@ System.register(['./deps/dep1.js', './deps/dep2.js'], function (exports) {
         }
       } exports('default', Main1);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/preserve-modules/_expected/system/main2.js b/test/chunking-form/samples/preserve-modules/_expected/system/main2.js
index 4833f4382..b2fe3e012 100644
--- a/test/chunking-form/samples/preserve-modules/_expected/system/main2.js
+++ b/test/chunking-form/samples/preserve-modules/_expected/system/main2.js
@@ -1,4 +1,4 @@
-System.register(['./deps/dep2.js', './deps/dep3.js'], function (exports) {
+System.register(['./deps/dep2.js', './deps/dep3.js'], (function (exports) {
   'use strict';
   var fn$1, fn;
   return {
@@ -7,7 +7,7 @@ System.register(['./deps/dep2.js', './deps/dep3.js'], function (exports) {
     }, function (module) {
       fn = module.fn;
     }],
-    execute: function () {
+    execute: (function () {
 
       class Main2 {
         constructor () {
@@ -16,6 +16,6 @@ System.register(['./deps/dep2.js', './deps/dep3.js'], function (exports) {
         }
       } exports('default', Main2);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/reexport-from-entry/_expected/amd/generated-otherEntry.js b/test/chunking-form/samples/reexport-from-entry/_expected/amd/generated-otherEntry.js
index 9abcdf199..77796cfa0 100644
--- a/test/chunking-form/samples/reexport-from-entry/_expected/amd/generated-otherEntry.js
+++ b/test/chunking-form/samples/reexport-from-entry/_expected/amd/generated-otherEntry.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	let a = {};
 	let b = {};
@@ -9,4 +9,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.b = b;
 	exports.c = c;
 
-});
+}));
diff --git a/test/chunking-form/samples/reexport-from-entry/_expected/amd/main.js b/test/chunking-form/samples/reexport-from-entry/_expected/amd/main.js
index a917dd64a..8b85c58c9 100644
--- a/test/chunking-form/samples/reexport-from-entry/_expected/amd/main.js
+++ b/test/chunking-form/samples/reexport-from-entry/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-otherEntry'], function (exports, otherEntry) { 'use strict';
+define(['exports', './generated-otherEntry'], (function (exports, otherEntry) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './generated-otherEntry'], function (exports, otherEntry) { '
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/reexport-from-entry/_expected/amd/otherEntry.js b/test/chunking-form/samples/reexport-from-entry/_expected/amd/otherEntry.js
index 67cdcc8d4..3cfe39bf8 100644
--- a/test/chunking-form/samples/reexport-from-entry/_expected/amd/otherEntry.js
+++ b/test/chunking-form/samples/reexport-from-entry/_expected/amd/otherEntry.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-otherEntry'], function (exports, otherEntry) { 'use strict';
+define(['exports', './generated-otherEntry'], (function (exports, otherEntry) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './generated-otherEntry'], function (exports, otherEntry) { '
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/reexport-from-entry/_expected/system/generated-otherEntry.js b/test/chunking-form/samples/reexport-from-entry/_expected/system/generated-otherEntry.js
index 1755a56fb..77af583e7 100644
--- a/test/chunking-form/samples/reexport-from-entry/_expected/system/generated-otherEntry.js
+++ b/test/chunking-form/samples/reexport-from-entry/_expected/system/generated-otherEntry.js
@@ -1,13 +1,13 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			let a = exports('a', {});
 			let b = exports('b', {});
 
 			let c = exports('c', {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/reexport-from-entry/_expected/system/main.js b/test/chunking-form/samples/reexport-from-entry/_expected/system/main.js
index ed7997ea0..34e0bc372 100644
--- a/test/chunking-form/samples/reexport-from-entry/_expected/system/main.js
+++ b/test/chunking-form/samples/reexport-from-entry/_expected/system/main.js
@@ -1,16 +1,13 @@
-System.register(['./generated-otherEntry.js'], function (exports) {
+System.register(['./generated-otherEntry.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			_setter.a = module.a;
-			_setter.c = module.c;
-			exports(_setter);
+			exports({ a: module.a, c: module.c });
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/reexport-from-entry/_expected/system/otherEntry.js b/test/chunking-form/samples/reexport-from-entry/_expected/system/otherEntry.js
index 54a7527b4..e3d5f9996 100644
--- a/test/chunking-form/samples/reexport-from-entry/_expected/system/otherEntry.js
+++ b/test/chunking-form/samples/reexport-from-entry/_expected/system/otherEntry.js
@@ -1,16 +1,13 @@
-System.register(['./generated-otherEntry.js'], function (exports) {
+System.register(['./generated-otherEntry.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			_setter.b = module.b;
-			_setter.c = module.c;
-			exports(_setter);
+			exports({ b: module.b, c: module.c });
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/reexport-shortpaths/_expected/amd/generated-dep2.js b/test/chunking-form/samples/reexport-shortpaths/_expected/amd/generated-dep2.js
index a6664f9ad..251a08f1a 100644
--- a/test/chunking-form/samples/reexport-shortpaths/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/reexport-shortpaths/_expected/amd/generated-dep2.js
@@ -1,8 +1,8 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	function foo() {}
 	console.log('dep2');
 
 	exports.foo = foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/reexport-shortpaths/_expected/amd/main1.js b/test/chunking-form/samples/reexport-shortpaths/_expected/amd/main1.js
index c20bbae91..b78d8689b 100644
--- a/test/chunking-form/samples/reexport-shortpaths/_expected/amd/main1.js
+++ b/test/chunking-form/samples/reexport-shortpaths/_expected/amd/main1.js
@@ -1,7 +1,7 @@
-define(['./generated-dep2'], function (dep2) { 'use strict';
+define(['./generated-dep2'], (function (dep2) { 'use strict';
 
 
 
 	return dep2.foo;
 
-});
+}));
diff --git a/test/chunking-form/samples/reexport-shortpaths/_expected/amd/main2.js b/test/chunking-form/samples/reexport-shortpaths/_expected/amd/main2.js
index 8806f30b1..610e7e895 100644
--- a/test/chunking-form/samples/reexport-shortpaths/_expected/amd/main2.js
+++ b/test/chunking-form/samples/reexport-shortpaths/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-dep2'], function (dep2) { 'use strict';
+define(['./generated-dep2'], (function (dep2) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/reexport-shortpaths/_expected/amd/main3.js b/test/chunking-form/samples/reexport-shortpaths/_expected/amd/main3.js
index 8806f30b1..610e7e895 100644
--- a/test/chunking-form/samples/reexport-shortpaths/_expected/amd/main3.js
+++ b/test/chunking-form/samples/reexport-shortpaths/_expected/amd/main3.js
@@ -1,5 +1,5 @@
-define(['./generated-dep2'], function (dep2) { 'use strict';
+define(['./generated-dep2'], (function (dep2) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/chunking-form/samples/reexport-shortpaths/_expected/system/generated-dep2.js b/test/chunking-form/samples/reexport-shortpaths/_expected/system/generated-dep2.js
index b8c52e103..6d9cd126b 100644
--- a/test/chunking-form/samples/reexport-shortpaths/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/reexport-shortpaths/_expected/system/generated-dep2.js
@@ -1,13 +1,13 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('f', foo);
 
 			function foo() {}
 			console.log('dep2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/reexport-shortpaths/_expected/system/main1.js b/test/chunking-form/samples/reexport-shortpaths/_expected/system/main1.js
index cb219e6b1..ef67c7ff3 100644
--- a/test/chunking-form/samples/reexport-shortpaths/_expected/system/main1.js
+++ b/test/chunking-form/samples/reexport-shortpaths/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-dep2.js'], function (exports) {
+System.register(['./generated-dep2.js'], (function (exports) {
 	'use strict';
 	var foo;
 	return {
@@ -6,10 +6,10 @@ System.register(['./generated-dep2.js'], function (exports) {
 			foo = module.f;
 			exports('default', module.f);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/reexport-shortpaths/_expected/system/main2.js b/test/chunking-form/samples/reexport-shortpaths/_expected/system/main2.js
index 73473efce..f0967d3f2 100644
--- a/test/chunking-form/samples/reexport-shortpaths/_expected/system/main2.js
+++ b/test/chunking-form/samples/reexport-shortpaths/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep2.js'], function () {
+System.register(['./generated-dep2.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/reexport-shortpaths/_expected/system/main3.js b/test/chunking-form/samples/reexport-shortpaths/_expected/system/main3.js
index 73473efce..f0967d3f2 100644
--- a/test/chunking-form/samples/reexport-shortpaths/_expected/system/main3.js
+++ b/test/chunking-form/samples/reexport-shortpaths/_expected/system/main3.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep2.js'], function () {
+System.register(['./generated-dep2.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/render-chunk/_expected/amd/chunk-dep2.js b/test/chunking-form/samples/render-chunk/_expected/amd/chunk-dep2.js
index ab30e5c75..1a8ac477d 100644
--- a/test/chunking-form/samples/render-chunk/_expected/amd/chunk-dep2.js
+++ b/test/chunking-form/samples/render-chunk/_expected/amd/chunk-dep2.js
@@ -1,10 +1,10 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var num = 2;
 
 	exports.num = num;
 
-});
+}));
 console.log('fileName', 'chunk-dep2.js');
 console.log('imports', '');
 console.log('isEntry', false);
diff --git a/test/chunking-form/samples/render-chunk/_expected/amd/main1.js b/test/chunking-form/samples/render-chunk/_expected/amd/main1.js
index ea52a11c0..2ab2b6736 100644
--- a/test/chunking-form/samples/render-chunk/_expected/amd/main1.js
+++ b/test/chunking-form/samples/render-chunk/_expected/amd/main1.js
@@ -1,10 +1,10 @@
-define(['./chunk-dep2'], function (dep2) { 'use strict';
+define(['./chunk-dep2'], (function (dep2) { 'use strict';
 
 	var num = 1;
 
 	console.log(num + dep2.num);
 
-});
+}));
 console.log('fileName', 'main1.js');
 console.log('imports', 'chunk-dep2.js');
 console.log('isEntry', true);
diff --git a/test/chunking-form/samples/render-chunk/_expected/amd/main2.js b/test/chunking-form/samples/render-chunk/_expected/amd/main2.js
index 9dee74671..540de8220 100644
--- a/test/chunking-form/samples/render-chunk/_expected/amd/main2.js
+++ b/test/chunking-form/samples/render-chunk/_expected/amd/main2.js
@@ -1,10 +1,10 @@
-define(['./chunk-dep2'], function (dep2) { 'use strict';
+define(['./chunk-dep2'], (function (dep2) { 'use strict';
 
 	var num = 3;
 
 	console.log(dep2.num + num);
 
-});
+}));
 console.log('fileName', 'main2.js');
 console.log('imports', 'chunk-dep2.js');
 console.log('isEntry', true);
diff --git a/test/chunking-form/samples/render-chunk/_expected/system/chunk-dep2.js b/test/chunking-form/samples/render-chunk/_expected/system/chunk-dep2.js
index e408a3daf..63462658a 100644
--- a/test/chunking-form/samples/render-chunk/_expected/system/chunk-dep2.js
+++ b/test/chunking-form/samples/render-chunk/_expected/system/chunk-dep2.js
@@ -1,13 +1,13 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var num = exports('n', 2);
 
-		}
+		})
 	};
-});
+}));
 console.log('fileName', 'chunk-dep2.js');
 console.log('imports', '');
 console.log('isEntry', false);
diff --git a/test/chunking-form/samples/render-chunk/_expected/system/main1.js b/test/chunking-form/samples/render-chunk/_expected/system/main1.js
index 4120600f1..41a4c7341 100644
--- a/test/chunking-form/samples/render-chunk/_expected/system/main1.js
+++ b/test/chunking-form/samples/render-chunk/_expected/system/main1.js
@@ -1,19 +1,19 @@
-System.register(['./chunk-dep2.js'], function () {
+System.register(['./chunk-dep2.js'], (function () {
 	'use strict';
 	var num$1;
 	return {
 		setters: [function (module) {
 			num$1 = module.n;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var num = 1;
 
 			console.log(num + num$1);
 
-		}
+		})
 	};
-});
+}));
 console.log('fileName', 'main1.js');
 console.log('imports', 'chunk-dep2.js');
 console.log('isEntry', true);
diff --git a/test/chunking-form/samples/render-chunk/_expected/system/main2.js b/test/chunking-form/samples/render-chunk/_expected/system/main2.js
index 952563b2e..72988d3a1 100644
--- a/test/chunking-form/samples/render-chunk/_expected/system/main2.js
+++ b/test/chunking-form/samples/render-chunk/_expected/system/main2.js
@@ -1,19 +1,19 @@
-System.register(['./chunk-dep2.js'], function () {
+System.register(['./chunk-dep2.js'], (function () {
 	'use strict';
 	var num$1;
 	return {
 		setters: [function (module) {
 			num$1 = module.n;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var num = 3;
 
 			console.log(num$1 + num);
 
-		}
+		})
 	};
-});
+}));
 console.log('fileName', 'main2.js');
 console.log('imports', 'chunk-dep2.js');
 console.log('isEntry', true);
diff --git a/test/chunking-form/samples/render-dynamic-import/_expected/amd/generated-imported-via-special-handler.js b/test/chunking-form/samples/render-dynamic-import/_expected/amd/generated-imported-via-special-handler.js
index 96ce7e1d3..d5e57ed36 100644
--- a/test/chunking-form/samples/render-dynamic-import/_expected/amd/generated-imported-via-special-handler.js
+++ b/test/chunking-form/samples/render-dynamic-import/_expected/amd/generated-imported-via-special-handler.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('special');
 
-});
+}));
diff --git a/test/chunking-form/samples/render-dynamic-import/_expected/amd/main.js b/test/chunking-form/samples/render-dynamic-import/_expected/amd/main.js
index 1230df019..e4a278623 100644
--- a/test/chunking-form/samples/render-dynamic-import/_expected/amd/main.js
+++ b/test/chunking-form/samples/render-dynamic-import/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	amdSpecialHandler('./generated-imported-via-special-handler', 'main.js', 'imported-via-special-handler.js', null);
 	amdSpecialHandler(someVariable, 'main.js', 'null', null);
 	amdSpecialHandler(someCustomlyResolvedVariable, 'main.js', 'null', someCustomlyResolvedVariable);
 
-});
+}));
diff --git a/test/chunking-form/samples/render-dynamic-import/_expected/system/generated-imported-via-special-handler.js b/test/chunking-form/samples/render-dynamic-import/_expected/system/generated-imported-via-special-handler.js
index 8dd5d86ac..1a82259c7 100644
--- a/test/chunking-form/samples/render-dynamic-import/_expected/system/generated-imported-via-special-handler.js
+++ b/test/chunking-form/samples/render-dynamic-import/_expected/system/generated-imported-via-special-handler.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('special');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/render-dynamic-import/_expected/system/main.js b/test/chunking-form/samples/render-dynamic-import/_expected/system/main.js
index 52306b00f..c119bf4c0 100644
--- a/test/chunking-form/samples/render-dynamic-import/_expected/system/main.js
+++ b/test/chunking-form/samples/render-dynamic-import/_expected/system/main.js
@@ -1,12 +1,12 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			systemSpecialHandler('./generated-imported-via-special-handler.js', 'main.js', 'imported-via-special-handler.js', null);
 			systemSpecialHandler(someVariable, 'main.js', 'null', null);
 			systemSpecialHandler(someCustomlyResolvedVariable, 'main.js', 'null', someCustomlyResolvedVariable);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/resolve-dynamic-import/_expected/amd/main.js b/test/chunking-form/samples/resolve-dynamic-import/_expected/amd/main.js
index 27a5ecd2a..142ab7c04 100644
--- a/test/chunking-form/samples/resolve-dynamic-import/_expected/amd/main.js
+++ b/test/chunking-form/samples/resolve-dynamic-import/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require', './direct-relative-external', 'to-indirect-relative-external', 'direct-absolute-external', 'to-indirect-absolute-external'], function (require, directRelativeExternal, toIndirectRelativeExternal, directAbsoluteExternal, toIndirectAbsoluteExternal) { 'use strict';
+define(['require', './direct-relative-external', 'to-indirect-relative-external', 'direct-absolute-external', 'to-indirect-absolute-external'], (function (require, directRelativeExternal, toIndirectRelativeExternal, directAbsoluteExternal, toIndirectAbsoluteExternal) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,23 +9,21 @@ define(['require', './direct-relative-external', 'to-indirect-relative-external'
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
 	// nested
 	Promise.resolve().then(function () { return existing; });
-	new Promise(function (resolve, reject) { require(['./direct-relative-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
-	new Promise(function (resolve, reject) { require(['to-indirect-relative-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
-	new Promise(function (resolve, reject) { require(['direct-absolute-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
-	new Promise(function (resolve, reject) { require(['to-indirect-absolute-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
+	new Promise(function (resolve, reject) { require(['./direct-relative-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
+	new Promise(function (resolve, reject) { require(['to-indirect-relative-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
+	new Promise(function (resolve, reject) { require(['direct-absolute-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
+	new Promise(function (resolve, reject) { require(['to-indirect-absolute-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
 
 	const value = 'existing';
 	console.log('existing');
@@ -37,14 +35,14 @@ define(['require', './direct-relative-external', 'to-indirect-relative-external'
 
 	//main
 	Promise.resolve().then(function () { return existing; });
-	new Promise(function (resolve, reject) { require(['./direct-relative-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
-	new Promise(function (resolve, reject) { require(['to-indirect-relative-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
-	new Promise(function (resolve, reject) { require(['direct-absolute-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
-	new Promise(function (resolve, reject) { require(['to-indirect-absolute-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
+	new Promise(function (resolve, reject) { require(['./direct-relative-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
+	new Promise(function (resolve, reject) { require(['to-indirect-relative-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
+	new Promise(function (resolve, reject) { require(['direct-absolute-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
+	new Promise(function (resolve, reject) { require(['to-indirect-absolute-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
 
-	new Promise(function (resolve, reject) { require(['dynamic-direct-external' + unknown], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
-	new Promise(function (resolve, reject) { require(['to-dynamic-indirect-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
+	(function (t) { return new Promise(function (resolve, reject) { require([t], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }); })('dynamic-direct-external' + unknown);
+	new Promise(function (resolve, reject) { require(['to-dynamic-indirect-external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
 	Promise.resolve().then(function () { return existing; });
-	new Promise(function (resolve, reject) { require(['my' + 'replacement'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
+	(function (t) { return new Promise(function (resolve, reject) { require([t], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }); })('my' + 'replacement');
 
-});
+}));
diff --git a/test/chunking-form/samples/resolve-dynamic-import/_expected/cjs/main.js b/test/chunking-form/samples/resolve-dynamic-import/_expected/cjs/main.js
index ffb0c96bd..fa4f8e251 100644
--- a/test/chunking-form/samples/resolve-dynamic-import/_expected/cjs/main.js
+++ b/test/chunking-form/samples/resolve-dynamic-import/_expected/cjs/main.js
@@ -14,14 +14,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
@@ -47,7 +45,7 @@ Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(requi
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('direct-absolute-external')); });
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('to-indirect-absolute-external')); });
 
-Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('dynamic-direct-external' + unknown)); });
+(function (t) { return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(t)); }); })('dynamic-direct-external' + unknown);
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('to-dynamic-indirect-external')); });
 Promise.resolve().then(function () { return existing; });
-Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('my' + 'replacement')); });
+(function (t) { return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(t)); }); })('my' + 'replacement');
diff --git a/test/chunking-form/samples/resolve-dynamic-import/_expected/system/main.js b/test/chunking-form/samples/resolve-dynamic-import/_expected/system/main.js
index d1c80b61a..7b44ce05b 100644
--- a/test/chunking-form/samples/resolve-dynamic-import/_expected/system/main.js
+++ b/test/chunking-form/samples/resolve-dynamic-import/_expected/system/main.js
@@ -1,8 +1,8 @@
-System.register(['./direct-relative-external', 'to-indirect-relative-external', 'direct-absolute-external', 'to-indirect-absolute-external'], function (exports, module) {
+System.register(['./direct-relative-external', 'to-indirect-relative-external', 'direct-absolute-external', 'to-indirect-absolute-external'], (function (exports, module) {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}, function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			// nested
 			Promise.resolve().then(function () { return existing; });
@@ -31,6 +31,6 @@ System.register(['./direct-relative-external', 'to-indirect-relative-external',
 			Promise.resolve().then(function () { return existing; });
 			module.import('my' + 'replacement');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/resolve-file-url/_expected/amd/main.js b/test/chunking-form/samples/resolve-file-url/_expected/amd/main.js
index 5bae0b1bd..cf5bdfec0 100644
--- a/test/chunking-form/samples/resolve-file-url/_expected/amd/main.js
+++ b/test/chunking-form/samples/resolve-file-url/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	const asset$1 = 'resolved';
 	const chunk$1 = 'resolved';
@@ -6,6 +6,6 @@ define(['require'], function (require) { 'use strict';
 	const asset = new URL(require.toUrl('./assets/asset-unresolved-8dcd7fca.txt'), document.baseURI).href;
 	const chunk = new URL(require.toUrl('./nested/chunk.js'), document.baseURI).href;
 
-	new Promise(function (resolve, reject) { require(['./nested/chunk2'], resolve, reject) }).then(result => console.log(result, chunk$1, chunk, asset$1, asset));
+	new Promise(function (resolve, reject) { require(['./nested/chunk2'], resolve, reject); }).then(result => console.log(result, chunk$1, chunk, asset$1, asset));
 
-});
+}));
diff --git a/test/chunking-form/samples/resolve-file-url/_expected/amd/nested/chunk.js b/test/chunking-form/samples/resolve-file-url/_expected/amd/nested/chunk.js
index 32f0814a5..f29221faf 100644
--- a/test/chunking-form/samples/resolve-file-url/_expected/amd/nested/chunk.js
+++ b/test/chunking-form/samples/resolve-file-url/_expected/amd/nested/chunk.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('chunk');
 
-});
+}));
diff --git a/test/chunking-form/samples/resolve-file-url/_expected/amd/nested/chunk2.js b/test/chunking-form/samples/resolve-file-url/_expected/amd/nested/chunk2.js
index 76a6be308..44152bbff 100644
--- a/test/chunking-form/samples/resolve-file-url/_expected/amd/nested/chunk2.js
+++ b/test/chunking-form/samples/resolve-file-url/_expected/amd/nested/chunk2.js
@@ -1,4 +1,4 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const asset = 'chunkId=nested/chunk2.js:moduleId=solved:fileName=assets/asset-solved-28a7ac89.txt:format=amd:relativePath=../assets/asset-solved-28a7ac89.txt:referenceId=6296c678';
 	const chunk = 'chunkId=nested/chunk2.js:moduleId=solved:fileName=nested/chunk.js:format=amd:relativePath=chunk.js:referenceId=f6c25ae7';
@@ -6,4 +6,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 	exports.asset = asset;
 	exports.chunk = chunk;
 
-});
+}));
diff --git a/test/chunking-form/samples/resolve-file-url/_expected/system/main.js b/test/chunking-form/samples/resolve-file-url/_expected/system/main.js
index c7f3e654e..f83712345 100644
--- a/test/chunking-form/samples/resolve-file-url/_expected/system/main.js
+++ b/test/chunking-form/samples/resolve-file-url/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const asset$1 = 'resolved';
 			const chunk$1 = 'resolved';
@@ -11,6 +11,6 @@ System.register([], function (exports, module) {
 
 			module.import('./nested/chunk2.js').then(result => console.log(result, chunk$1, chunk, asset$1, asset));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/resolve-file-url/_expected/system/nested/chunk.js b/test/chunking-form/samples/resolve-file-url/_expected/system/nested/chunk.js
index 9d080a80d..1443cae1e 100644
--- a/test/chunking-form/samples/resolve-file-url/_expected/system/nested/chunk.js
+++ b/test/chunking-form/samples/resolve-file-url/_expected/system/nested/chunk.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('chunk');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/resolve-file-url/_expected/system/nested/chunk2.js b/test/chunking-form/samples/resolve-file-url/_expected/system/nested/chunk2.js
index 2749e0efa..b18188298 100644
--- a/test/chunking-form/samples/resolve-file-url/_expected/system/nested/chunk2.js
+++ b/test/chunking-form/samples/resolve-file-url/_expected/system/nested/chunk2.js
@@ -1,11 +1,11 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const asset = exports('asset', 'chunkId=nested/chunk2.js:moduleId=solved:fileName=assets/asset-solved-28a7ac89.txt:format=system:relativePath=../assets/asset-solved-28a7ac89.txt:referenceId=6296c678');
 			const chunk = exports('chunk', 'chunkId=nested/chunk2.js:moduleId=solved:fileName=nested/chunk.js:format=system:relativePath=chunk.js:referenceId=f6c25ae7');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/sanitize-chunk-names/_expected/amd/_virtual_entry-1.js b/test/chunking-form/samples/sanitize-chunk-names/_expected/amd/_virtual_entry-1.js
index f41ce27ab..0b268a6c9 100644
--- a/test/chunking-form/samples/sanitize-chunk-names/_expected/amd/_virtual_entry-1.js
+++ b/test/chunking-form/samples/sanitize-chunk-names/_expected/amd/_virtual_entry-1.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var _virtual_entry1 = "\u0000virtual:entry-1";
 
 	return _virtual_entry1;
 
-});
+}));
diff --git a/test/chunking-form/samples/sanitize-chunk-names/_expected/amd/_virtual_entry-2.js b/test/chunking-form/samples/sanitize-chunk-names/_expected/amd/_virtual_entry-2.js
index 5746e5e45..3ae42dce3 100644
--- a/test/chunking-form/samples/sanitize-chunk-names/_expected/amd/_virtual_entry-2.js
+++ b/test/chunking-form/samples/sanitize-chunk-names/_expected/amd/_virtual_entry-2.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var _virtual_entry2 = "\u0000virtual:entry-2";
 
 	return _virtual_entry2;
 
-});
+}));
diff --git a/test/chunking-form/samples/sanitize-chunk-names/_expected/system/_virtual_entry-1.js b/test/chunking-form/samples/sanitize-chunk-names/_expected/system/_virtual_entry-1.js
index 26aafc0c3..34e14bbff 100644
--- a/test/chunking-form/samples/sanitize-chunk-names/_expected/system/_virtual_entry-1.js
+++ b/test/chunking-form/samples/sanitize-chunk-names/_expected/system/_virtual_entry-1.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var _virtual_entry1 = exports('default', "\u0000virtual:entry-1");
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/sanitize-chunk-names/_expected/system/_virtual_entry-2.js b/test/chunking-form/samples/sanitize-chunk-names/_expected/system/_virtual_entry-2.js
index af4edfd00..1461d9c7d 100644
--- a/test/chunking-form/samples/sanitize-chunk-names/_expected/system/_virtual_entry-2.js
+++ b/test/chunking-form/samples/sanitize-chunk-names/_expected/system/_virtual_entry-2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var _virtual_entry2 = exports('default', "\u0000virtual:entry-2");
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/sanitize-internal-exports/_expected/amd/generated-lazy.js b/test/chunking-form/samples/sanitize-internal-exports/_expected/amd/generated-lazy.js
index 312d8af82..56137247a 100644
--- a/test/chunking-form/samples/sanitize-internal-exports/_expected/amd/generated-lazy.js
+++ b/test/chunking-form/samples/sanitize-internal-exports/_expected/amd/generated-lazy.js
@@ -1,7 +1,7 @@
-define(['exports', './main'], function (exports, main) { 'use strict';
+define(['exports', './main'], (function (exports, main) { 'use strict';
 
 	var lazy = () => main.v1;
 
-	exports['default'] = lazy;
+	exports["default"] = lazy;
 
-});
+}));
diff --git a/test/chunking-form/samples/sanitize-internal-exports/_expected/amd/main.js b/test/chunking-form/samples/sanitize-internal-exports/_expected/amd/main.js
index 8e5567e74..731b8e8dd 100644
--- a/test/chunking-form/samples/sanitize-internal-exports/_expected/amd/main.js
+++ b/test/chunking-form/samples/sanitize-internal-exports/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	var v1,
 		v2,
@@ -273,7 +273,7 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 		v271,
 		v272;
 
-	const lazy = new Promise(function (resolve, reject) { require(['./generated-lazy'], resolve, reject) });
+	const lazy = new Promise(function (resolve, reject) { require(['./generated-lazy'], resolve, reject); });
 
 	exports.lazy = lazy;
 	exports.v1 = v1;
@@ -551,4 +551,4 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/sanitize-internal-exports/_expected/cjs/generated-lazy.js b/test/chunking-form/samples/sanitize-internal-exports/_expected/cjs/generated-lazy.js
index 587519644..c4f7d7c3f 100644
--- a/test/chunking-form/samples/sanitize-internal-exports/_expected/cjs/generated-lazy.js
+++ b/test/chunking-form/samples/sanitize-internal-exports/_expected/cjs/generated-lazy.js
@@ -4,4 +4,4 @@ var main = require('./main.js');
 
 var lazy = () => main.v1;
 
-exports['default'] = lazy;
+exports["default"] = lazy;
diff --git a/test/chunking-form/samples/sanitize-internal-exports/_expected/system/generated-lazy.js b/test/chunking-form/samples/sanitize-internal-exports/_expected/system/generated-lazy.js
index c74475324..f5fcdee94 100644
--- a/test/chunking-form/samples/sanitize-internal-exports/_expected/system/generated-lazy.js
+++ b/test/chunking-form/samples/sanitize-internal-exports/_expected/system/generated-lazy.js
@@ -1,14 +1,14 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	var v1;
 	return {
 		setters: [function (module) {
 			v1 = module.v1;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var lazy = exports('default', () => v1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/sanitize-internal-exports/_expected/system/main.js b/test/chunking-form/samples/sanitize-internal-exports/_expected/system/main.js
index e04f32c6c..44669d74e 100644
--- a/test/chunking-form/samples/sanitize-internal-exports/_expected/system/main.js
+++ b/test/chunking-form/samples/sanitize-internal-exports/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var v1,
 				v2,
@@ -278,6 +278,6 @@ System.register([], function (exports, module) {
 
 			const lazy = exports('lazy', module.import('./generated-lazy.js'));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/a.js b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/a.js
index a0ee4d5c9..569e0dbc5 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/a.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/a.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const a = 1;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/b.js b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/b.js
index 71d3b650e..bc6adf18b 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/b.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/b.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const b = 2;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/main.js b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/main.js
index 854a7e8dc..4e0843caa 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/main.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./a', './one'], function (a, one) { 'use strict';
+define(['./a', './one'], (function (a, one) { 'use strict';
 
 	console.log(a.a + one.d);
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/one.js b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/one.js
index 2d8ca9bd3..3db39871d 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/one.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/amd/one.js
@@ -1,4 +1,4 @@
-define(['exports', './b'], function (exports, b) { 'use strict';
+define(['exports', './b'], (function (exports, b) { 'use strict';
 
 	const d = b.b + 4;
 
@@ -6,4 +6,4 @@ define(['exports', './b'], function (exports, b) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/a.js b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/a.js
index 50f0d7760..8fb33a525 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/a.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/a.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const a = exports('a', 1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/b.js b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/b.js
index baa283691..3cb12a8bc 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/b.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/b.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const b = exports('b', 2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/main.js b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/main.js
index 306aa2895..fc9155ecd 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/main.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./a.js', './one.js'], function () {
+System.register(['./a.js', './one.js'], (function () {
 	'use strict';
 	var a, d;
 	return {
@@ -7,10 +7,10 @@ System.register(['./a.js', './one.js'], function () {
 		}, function (module) {
 			d = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(a + d);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/one.js b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/one.js
index dac01a345..4819936a2 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/one.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/avoid-imports-preserve-modules/_expected/system/one.js
@@ -1,14 +1,14 @@
-System.register(['./b.js'], function (exports) {
+System.register(['./b.js'], (function (exports) {
 	'use strict';
 	var b;
 	return {
 		setters: [function (module) {
 			b = module.b;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const d = exports('d', b + 4);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/amd/main1.js b/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/amd/main1.js
index 8acd45209..43b937ba1 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/amd/main1.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['external-side-effect'], function (externalSideEffect) { 'use strict';
+define(['external-side-effect'], (function (externalSideEffect) { 'use strict';
 
 	function onlyUsedByOne() {
 		console.log('Hello');
@@ -6,4 +6,4 @@ define(['external-side-effect'], function (externalSideEffect) { 'use strict';
 
 	onlyUsedByOne();
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/amd/main2.js b/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/amd/main2.js
index 52c485603..f8bce44d5 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/amd/main2.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['external-side-effect'], function (externalSideEffect) { 'use strict';
+define(['external-side-effect'], (function (externalSideEffect) { 'use strict';
 
 	console.log('main2');
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/system/main1.js b/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/system/main1.js
index 184dec653..5d6103bfb 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/system/main1.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/system/main1.js
@@ -1,8 +1,8 @@
-System.register(['external-side-effect'], function () {
+System.register(['external-side-effect'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			function onlyUsedByOne() {
 				console.log('Hello');
@@ -10,6 +10,6 @@ System.register(['external-side-effect'], function () {
 
 			onlyUsedByOne();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/system/main2.js b/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/system/main2.js
index 978a1d826..c49984e04 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/system/main2.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/avoid-side-effect-free-empty-imports/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['external-side-effect'], function () {
+System.register(['external-side-effect'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/generated-dep2-effect.js b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/generated-dep2-effect.js
index af27f2545..8b19534cf 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/generated-dep2-effect.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/generated-dep2-effect.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('dep2');
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/generated-dep4-effect.js b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/generated-dep4-effect.js
index 8848968aa..75e0b0258 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/generated-dep4-effect.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/generated-dep4-effect.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('dep4');
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/main1.js b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/main1.js
index a878d2dfa..4f47de9da 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/main1.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['./generated-dep2-effect', './generated-dep4-effect'], function (dep2Effect, dep4Effect) { 'use strict';
+define(['./generated-dep2-effect', './generated-dep4-effect'], (function (dep2Effect, dep4Effect) { 'use strict';
 
 	var value = 42;
 
@@ -8,4 +8,4 @@ define(['./generated-dep2-effect', './generated-dep4-effect'], function (dep2Eff
 
 	onlyUsedByOne(value);
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/main2.js b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/main2.js
index 63cd356d0..595d8f8fe 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/main2.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-dep2-effect', './generated-dep4-effect'], function (dep2Effect, dep4Effect) { 'use strict';
+define(['./generated-dep2-effect', './generated-dep4-effect'], (function (dep2Effect, dep4Effect) { 'use strict';
 
 	console.log('main2');
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/main3.js b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/main3.js
index daf45b476..f86da914d 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/main3.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/amd/main3.js
@@ -1,5 +1,5 @@
-define(['./generated-dep4-effect'], function (dep4Effect) { 'use strict';
+define(['./generated-dep4-effect'], (function (dep4Effect) { 'use strict';
 
 	console.log('main3');
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/generated-dep2-effect.js b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/generated-dep2-effect.js
index 535b40f55..e97665c4e 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/generated-dep2-effect.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/generated-dep2-effect.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/generated-dep4-effect.js b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/generated-dep4-effect.js
index b85397ce3..e81abc3c6 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/generated-dep4-effect.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/generated-dep4-effect.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('dep4');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/main1.js b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/main1.js
index 9ba48709b..19c1b04ce 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/main1.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/main1.js
@@ -1,8 +1,8 @@
-System.register(['./generated-dep2-effect.js', './generated-dep4-effect.js'], function () {
+System.register(['./generated-dep2-effect.js', './generated-dep4-effect.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			var value = 42;
 
@@ -12,6 +12,6 @@ System.register(['./generated-dep2-effect.js', './generated-dep4-effect.js'], fu
 
 			onlyUsedByOne(value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/main2.js b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/main2.js
index d285b2641..3738bc01c 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/main2.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/main2.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep2-effect.js', './generated-dep4-effect.js'], function () {
+System.register(['./generated-dep2-effect.js', './generated-dep4-effect.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}, function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/main3.js b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/main3.js
index 260b18724..1bfc11fd6 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/main3.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/hoist-side-effect-modules/_expected/system/main3.js
@@ -1,11 +1,11 @@
-System.register(['./generated-dep4-effect.js'], function () {
+System.register(['./generated-dep4-effect.js'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main3');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/amd/main1.js b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/amd/main1.js
index b6a9613a8..24c211238 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/amd/main1.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/amd/main1.js
@@ -1,8 +1,8 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var value = 42;
 	console.log('Ignored side-effect');
 
 	console.log('main1', value);
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/amd/main2.js b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/amd/main2.js
index b58286ca5..50131c97c 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/amd/main2.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main2');
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/system/main1.js b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/system/main1.js
index 8eb92a305..d537b4334 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/system/main1.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/system/main1.js
@@ -1,13 +1,13 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = 42;
 			console.log('Ignored side-effect');
 
 			console.log('main1', value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/system/main2.js b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/system/main2.js
index a272843f8..b91e108e5 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/system/main2.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-empty-imports/_expected/system/main2.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main2');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-1/_expected/amd/main.js b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-1/_expected/amd/main.js
index 876aec766..106eba6b3 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-1/_expected/amd/main.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-1/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-1/_expected/system/main.js b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-1/_expected/system/main.js
index 437f1af45..050c7b2be 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-1/_expected/system/main.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-1/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-2/_expected/amd/main.js b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-2/_expected/amd/main.js
index 876aec766..106eba6b3 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-2/_expected/amd/main.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-2/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-2/_expected/system/main.js b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-2/_expected/system/main.js
index 437f1af45..050c7b2be 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-2/_expected/system/main.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-2/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-3/_expected/amd/main.js b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-3/_expected/amd/main.js
index 876aec766..106eba6b3 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-3/_expected/amd/main.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-3/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const value = 42;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-3/_expected/system/main.js b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-3/_expected/system/main.js
index 437f1af45..050c7b2be 100644
--- a/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-3/_expected/system/main.js
+++ b/test/chunking-form/samples/side-effect-free-dependencies/module-side-effects-reexports-3/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/single-file-manual-chunk/_expected/amd/generated-first.js b/test/chunking-form/samples/single-file-manual-chunk/_expected/amd/generated-first.js
index 3f7def0a7..6d0638c63 100644
--- a/test/chunking-form/samples/single-file-manual-chunk/_expected/amd/generated-first.js
+++ b/test/chunking-form/samples/single-file-manual-chunk/_expected/amd/generated-first.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('a');
 
-});
+}));
diff --git a/test/chunking-form/samples/single-file-manual-chunk/_expected/amd/generated-second.js b/test/chunking-form/samples/single-file-manual-chunk/_expected/amd/generated-second.js
index 5c36ece53..8c1e8beda 100644
--- a/test/chunking-form/samples/single-file-manual-chunk/_expected/amd/generated-second.js
+++ b/test/chunking-form/samples/single-file-manual-chunk/_expected/amd/generated-second.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	console.log('b');
 
@@ -15,4 +15,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.b = b;
 	exports.c = c;
 
-});
+}));
diff --git a/test/chunking-form/samples/single-file-manual-chunk/_expected/amd/main.js b/test/chunking-form/samples/single-file-manual-chunk/_expected/amd/main.js
index 2d26a374d..225ad9b55 100644
--- a/test/chunking-form/samples/single-file-manual-chunk/_expected/amd/main.js
+++ b/test/chunking-form/samples/single-file-manual-chunk/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-first'], resolve, reject) });
-	new Promise(function (resolve, reject) { require(['./generated-second'], resolve, reject) }).then(function (n) { return n.b; });
-	new Promise(function (resolve, reject) { require(['./generated-second'], resolve, reject) }).then(function (n) { return n.c; });
+	new Promise(function (resolve, reject) { require(['./generated-first'], resolve, reject); });
+	new Promise(function (resolve, reject) { require(['./generated-second'], resolve, reject); }).then(function (n) { return n.b; });
+	new Promise(function (resolve, reject) { require(['./generated-second'], resolve, reject); }).then(function (n) { return n.c; });
 
-});
+}));
diff --git a/test/chunking-form/samples/single-file-manual-chunk/_expected/system/generated-first.js b/test/chunking-form/samples/single-file-manual-chunk/_expected/system/generated-first.js
index 9542f039b..2859a1e85 100644
--- a/test/chunking-form/samples/single-file-manual-chunk/_expected/system/generated-first.js
+++ b/test/chunking-form/samples/single-file-manual-chunk/_expected/system/generated-first.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('a');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/single-file-manual-chunk/_expected/system/generated-second.js b/test/chunking-form/samples/single-file-manual-chunk/_expected/system/generated-second.js
index 18cdd0c50..d6b9077ae 100644
--- a/test/chunking-form/samples/single-file-manual-chunk/_expected/system/generated-second.js
+++ b/test/chunking-form/samples/single-file-manual-chunk/_expected/system/generated-second.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('b');
 
@@ -17,6 +17,6 @@ System.register([], function (exports) {
 			});
 			exports('c', c);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/single-file-manual-chunk/_expected/system/main.js b/test/chunking-form/samples/single-file-manual-chunk/_expected/system/main.js
index ea256d97a..d6d2137ce 100644
--- a/test/chunking-form/samples/single-file-manual-chunk/_expected/system/main.js
+++ b/test/chunking-form/samples/single-file-manual-chunk/_expected/system/main.js
@@ -1,12 +1,12 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-first.js');
 			module.import('./generated-second.js').then(function (n) { return n.b; });
 			module.import('./generated-second.js').then(function (n) { return n.c; });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/amd/generated-component.js b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/amd/generated-component.js
index 2f235fc0f..7fd6a8497 100644
--- a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/amd/generated-component.js
+++ b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/amd/generated-component.js
@@ -1,11 +1,27 @@
-define(['exports', './generated-main'], function (exports, main) { 'use strict';
+define(['exports', './generated-main'], (function (exports, main) { 'use strict';
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
 
 	var component = { lib: main.lib, lib2: main.lib.named, lib3: main.lib.named.named };
 
-	var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), component, {
+	var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
 		'default': component
-	}));
+	}, [component]));
 
 	exports.component = component$1;
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/amd/generated-main.js b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/amd/generated-main.js
index bb7506c4c..f5cf44633 100644
--- a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/amd/generated-main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/amd/generated-main.js
@@ -1,4 +1,4 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	const lib = { named: { named: 42 } };
 
@@ -6,9 +6,9 @@ define(['require', 'exports'], function (require, exports) { 'use strict';
 
 	console.log('side-effect', lib.named.named);
 
-	const component = new Promise(function (resolve, reject) { require(['./generated-component'], resolve, reject) }).then(function (n) { return n.component; });
+	const component = new Promise(function (resolve, reject) { require(['./generated-component'], resolve, reject); }).then(function (n) { return n.component; });
 
 	exports.component = component;
 	exports.lib = lib;
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/amd/main.js b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/amd/main.js
index e467a6ebe..93ff4794d 100644
--- a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/amd/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main'], function (exports, main) { 'use strict';
+define(['exports', './generated-main'], (function (exports, main) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './generated-main'], function (exports, main) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/cjs/generated-component.js b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/cjs/generated-component.js
index 58f27d2e1..3d84a2c1b 100644
--- a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/cjs/generated-component.js
+++ b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/cjs/generated-component.js
@@ -2,10 +2,26 @@
 
 var main = require('./generated-main.js');
 
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
 var component = { lib: main.lib, lib2: main.lib.named, lib3: main.lib.named.named };
 
-var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), component, {
+var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
 	'default': component
-}));
+}, [component]));
 
 exports.component = component$1;
diff --git a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/es/generated-component.js b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/es/generated-component.js
index c3a53df5f..cb3b8608f 100644
--- a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/es/generated-component.js
+++ b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/es/generated-component.js
@@ -1,9 +1,25 @@
 import { l as lib } from './generated-main.js';
 
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
 var component = { lib, lib2: lib.named, lib3: lib.named.named };
 
-var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), component, {
+var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
 	'default': component
-}));
+}, [component]));
 
 export { component$1 as c };
diff --git a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/system/generated-component.js b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/system/generated-component.js
index 0336366b0..b77d58c05 100644
--- a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/system/generated-component.js
+++ b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/system/generated-component.js
@@ -1,19 +1,35 @@
-System.register(['./generated-main.js'], function (exports) {
+System.register(['./generated-main.js'], (function (exports) {
 	'use strict';
 	var lib;
 	return {
 		setters: [function (module) {
 			lib = module.l;
 		}],
-		execute: function () {
+		execute: (function () {
+
+			function _mergeNamespaces(n, m) {
+				m.forEach(function (e) {
+					Object.keys(e).forEach(function (k) {
+						if (k !== 'default' && !(k in n)) {
+							var d = Object.getOwnPropertyDescriptor(e, k);
+							Object.defineProperty(n, k, d.get ? d : {
+								enumerable: true,
+								get: function () { return e[k]; }
+							});
+						}
+					});
+				});
+				return Object.freeze(n);
+			}
 
 			var component = { lib, lib2: lib.named, lib3: lib.named.named };
 
-			var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), component, {
+			var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+				__proto__: null,
 				'default': component
-			}));
+			}, [component]));
 			exports('c', component$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/system/generated-main.js b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/system/generated-main.js
index 22b253412..d2b25a0fe 100644
--- a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/system/generated-main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/system/generated-main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const lib = exports('l', { named: { named: 42 } });
 
@@ -11,6 +11,6 @@ System.register([], function (exports, module) {
 
 			const component = exports('c', module.import('./generated-component.js').then(function (n) { return n.c; }));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/system/main.js b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/system/main.js
index 93f798d3b..067ba0d10 100644
--- a/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/system/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/chained-default-reexport/_expected/system/main.js
@@ -1,4 +1,4 @@
-System.register(['./generated-main.js'], function (exports) {
+System.register(['./generated-main.js'], (function (exports) {
 	'use strict';
 	var lib;
 	return {
@@ -6,12 +6,12 @@ System.register(['./generated-main.js'], function (exports) {
 			lib = module.l;
 			exports('component', module.c);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
 			exports('lib', lib.named.named);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/generated-lib.js b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/generated-lib.js
index ddc3e67c5..e6936857c 100644
--- a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/generated-lib.js
+++ b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/generated-lib.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var lib = { foo: true, bar: true, baz: true };
 
 	exports.lib = lib;
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/main1.js b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/main1.js
index 016e31a21..5b254674d 100644
--- a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/main1.js
+++ b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/main1.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-lib'], function (exports, lib) { 'use strict';
+define(['exports', './generated-lib'], (function (exports, lib) { 'use strict';
 
 
 
@@ -7,4 +7,4 @@ define(['exports', './generated-lib'], function (exports, lib) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/main2.js b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/main2.js
index 11d3c8978..b5b43aaa0 100644
--- a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/main2.js
+++ b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-lib'], function (lib) { 'use strict';
+define(['./generated-lib'], (function (lib) { 'use strict';
 
 	console.log(lib.lib, lib.lib.foo, lib.lib.bar, lib.lib.baz);
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/main3.js b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/main3.js
index 503be04ce..90dcca158 100644
--- a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/main3.js
+++ b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/amd/main3.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-lib'], function (exports, lib) { 'use strict';
+define(['exports', './generated-lib'], (function (exports, lib) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-lib'], function (exports, lib) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/generated-lib.js b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/generated-lib.js
index 5ec5bda99..5f2369a68 100644
--- a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/generated-lib.js
+++ b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/generated-lib.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var lib = exports('l', { foo: true, bar: true, baz: true });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/main1.js b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/main1.js
index 040f04f92..0cb68053e 100644
--- a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/main1.js
+++ b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/main1.js
@@ -1,4 +1,4 @@
-System.register(['./generated-lib.js'], function (exports) {
+System.register(['./generated-lib.js'], (function (exports) {
 	'use strict';
 	var lib;
 	return {
@@ -6,12 +6,12 @@ System.register(['./generated-lib.js'], function (exports) {
 			lib = module.l;
 			exports('lib', module.l);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
 			exports('foo', lib.foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/main2.js b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/main2.js
index f51702421..6ccd7873e 100644
--- a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/main2.js
+++ b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-lib.js'], function () {
+System.register(['./generated-lib.js'], (function () {
 	'use strict';
 	var lib;
 	return {
 		setters: [function (module) {
 			lib = module.l;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(lib, lib.foo, lib.bar, lib.baz);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/main3.js b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/main3.js
index 6a5024c16..e90653e73 100644
--- a/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/main3.js
+++ b/test/chunking-form/samples/synthetic-named-exports/deduplicate-synthetic-named-exports-and-default/_expected/system/main3.js
@@ -1,16 +1,16 @@
-System.register(['./generated-lib.js'], function (exports) {
+System.register(['./generated-lib.js'], (function (exports) {
 	'use strict';
 	var lib;
 	return {
 		setters: [function (module) {
 			lib = module.l;
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
 			exports('foo', lib.foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/amd/generated-component.js b/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/amd/generated-component.js
index c882ef815..4c7ad909f 100644
--- a/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/amd/generated-component.js
+++ b/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/amd/generated-component.js
@@ -1,11 +1,27 @@
-define(['exports', './main'], function (exports, main) { 'use strict';
+define(['exports', './main'], (function (exports, main) { 'use strict';
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
 
 	var component = { lib: main.lib, someExport: main.lib.someExport };
 
-	var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), component, {
+	var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
 		'default': component
-	}));
+	}, [component]));
 
 	exports.component = component$1;
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/amd/main.js b/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/amd/main.js
index 0674d9884..e8c39a464 100644
--- a/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/amd/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/amd/main.js
@@ -1,14 +1,14 @@
-define(['require', 'exports'], function (require, exports) { 'use strict';
+define(['require', 'exports'], (function (require, exports) { 'use strict';
 
 	var lib = {};
 
 	console.log('side-effect', lib);
 
-	const component = new Promise(function (resolve, reject) { require(['./generated-component'], resolve, reject) }).then(function (n) { return n.component; });
+	const component = new Promise(function (resolve, reject) { require(['./generated-component'], resolve, reject); }).then(function (n) { return n.component; });
 
 	exports.component = component;
 	exports.lib = lib;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/cjs/generated-component.js b/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/cjs/generated-component.js
index 146155477..91b6f2f13 100644
--- a/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/cjs/generated-component.js
+++ b/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/cjs/generated-component.js
@@ -2,10 +2,26 @@
 
 var main = require('./main.js');
 
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
 var component = { lib: main.lib, someExport: main.lib.someExport };
 
-var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), component, {
+var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
 	'default': component
-}));
+}, [component]));
 
 exports.component = component$1;
diff --git a/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/es/generated-component.js b/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/es/generated-component.js
index 43f2816ca..76e5e5019 100644
--- a/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/es/generated-component.js
+++ b/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/es/generated-component.js
@@ -1,9 +1,25 @@
 import { lib } from './main.js';
 
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
 var component = { lib, someExport: lib.someExport };
 
-var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), component, {
+var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
 	'default': component
-}));
+}, [component]));
 
 export { component$1 as c };
diff --git a/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/system/generated-component.js b/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/system/generated-component.js
index 974cee4de..13c9699f0 100644
--- a/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/system/generated-component.js
+++ b/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/system/generated-component.js
@@ -1,19 +1,35 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	var lib;
 	return {
 		setters: [function (module) {
 			lib = module.lib;
 		}],
-		execute: function () {
+		execute: (function () {
+
+			function _mergeNamespaces(n, m) {
+				m.forEach(function (e) {
+					Object.keys(e).forEach(function (k) {
+						if (k !== 'default' && !(k in n)) {
+							var d = Object.getOwnPropertyDescriptor(e, k);
+							Object.defineProperty(n, k, d.get ? d : {
+								enumerable: true,
+								get: function () { return e[k]; }
+							});
+						}
+					});
+				});
+				return Object.freeze(n);
+			}
 
 			var component = { lib, someExport: lib.someExport };
 
-			var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), component, {
+			var component$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+				__proto__: null,
 				'default': component
-			}));
+			}, [component]));
 			exports('c', component$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/system/main.js b/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/system/main.js
index bc136b49a..f4831b0e9 100644
--- a/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/system/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/default-reexport/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var lib = exports('lib', {});
 
@@ -9,6 +9,6 @@ System.register([], function (exports, module) {
 
 			const component = exports('component', module.import('./generated-component.js').then(function (n) { return n.c; }));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/amd/generated-dep.js b/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/amd/generated-dep.js
index dce8fca82..54ea20de6 100644
--- a/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/amd/generated-dep.js
@@ -1,13 +1,29 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
 
 	var dep = { foo: 1 };
 	const bar = 2;
 
-	var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), dep, {
+	var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
 		'default': dep,
 		bar: bar
-	}));
+	}, [dep]));
 
 	exports.dep = dep$1;
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/amd/main.js b/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/amd/main.js
index edbdecbe1..ec2671f67 100644
--- a/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/amd/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
-	new Promise(function (resolve, reject) { require(['./generated-dep'], resolve, reject) }).then(function (n) { return n.dep; }).then(({ foo, bar, baz }) => console.log(foo, bar, baz));
+	new Promise(function (resolve, reject) { require(['./generated-dep'], resolve, reject); }).then(function (n) { return n.dep; }).then(({ foo, bar, baz }) => console.log(foo, bar, baz));
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/cjs/generated-dep.js b/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/cjs/generated-dep.js
index cdb9f3cb2..abb076b77 100644
--- a/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/cjs/generated-dep.js
+++ b/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/cjs/generated-dep.js
@@ -1,11 +1,27 @@
 'use strict';
 
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
 var dep = { foo: 1 };
 const bar = 2;
 
-var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), dep, {
+var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
 	'default': dep,
 	bar: bar
-}));
+}, [dep]));
 
 exports.dep = dep$1;
diff --git a/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/es/generated-dep.js b/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/es/generated-dep.js
index e7de5ffde..c5a7eade9 100644
--- a/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/es/generated-dep.js
+++ b/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/es/generated-dep.js
@@ -1,9 +1,25 @@
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
 var dep = { foo: 1 };
 const bar = 2;
 
-var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), dep, {
+var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
 	'default': dep,
 	bar: bar
-}));
+}, [dep]));
 
 export { dep$1 as d };
diff --git a/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/system/generated-dep.js b/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/system/generated-dep.js
index 09f22b870..eee346ccb 100644
--- a/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/system/generated-dep.js
@@ -1,17 +1,33 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
+
+			function _mergeNamespaces(n, m) {
+				m.forEach(function (e) {
+					Object.keys(e).forEach(function (k) {
+						if (k !== 'default' && !(k in n)) {
+							var d = Object.getOwnPropertyDescriptor(e, k);
+							Object.defineProperty(n, k, d.get ? d : {
+								enumerable: true,
+								get: function () { return e[k]; }
+							});
+						}
+					});
+				});
+				return Object.freeze(n);
+			}
 
 			var dep = { foo: 1 };
 			const bar = 2;
 
-			var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), dep, {
+			var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+				__proto__: null,
 				'default': dep,
 				bar: bar
-			}));
+			}, [dep]));
 			exports('d', dep$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/system/main.js b/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/system/main.js
index 577783aa8..dba7ac8e0 100644
--- a/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/system/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/dynamic-import/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import('./generated-dep.js').then(function (n) { return n.d; }).then(({ foo, bar, baz }) => console.log(foo, bar, baz));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/entry/_expected/amd/generated-main.js b/test/chunking-form/samples/synthetic-named-exports/entry/_expected/amd/generated-main.js
index 6bd13c4d6..8fe7283a5 100644
--- a/test/chunking-form/samples/synthetic-named-exports/entry/_expected/amd/generated-main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/entry/_expected/amd/generated-main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const exists = 'exists';
 	const __synthetic = { synthetic: 'synthetic' };
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.__synthetic = __synthetic;
 	exports.exists = exists;
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/entry/_expected/amd/main.js b/test/chunking-form/samples/synthetic-named-exports/entry/_expected/amd/main.js
index 7fa5260fd..182dfc2f4 100644
--- a/test/chunking-form/samples/synthetic-named-exports/entry/_expected/amd/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/entry/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports', './generated-main'], function (exports, main) { 'use strict';
+define(['exports', './generated-main'], (function (exports, main) { 'use strict';
 
 
 
@@ -6,4 +6,4 @@ define(['exports', './generated-main'], function (exports, main) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/entry/_expected/amd/other.js b/test/chunking-form/samples/synthetic-named-exports/entry/_expected/amd/other.js
index f743f074f..553e6ef38 100644
--- a/test/chunking-form/samples/synthetic-named-exports/entry/_expected/amd/other.js
+++ b/test/chunking-form/samples/synthetic-named-exports/entry/_expected/amd/other.js
@@ -1,5 +1,5 @@
-define(['./generated-main'], function (main) { 'use strict';
+define(['./generated-main'], (function (main) { 'use strict';
 
 	console.log(main.__synthetic.synthetic);
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/entry/_expected/system/generated-main.js b/test/chunking-form/samples/synthetic-named-exports/entry/_expected/system/generated-main.js
index 3909d8a99..6b0691f29 100644
--- a/test/chunking-form/samples/synthetic-named-exports/entry/_expected/system/generated-main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/entry/_expected/system/generated-main.js
@@ -1,11 +1,11 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const exists = exports('e', 'exists');
 			const __synthetic = exports('_', { synthetic: 'synthetic' });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/entry/_expected/system/main.js b/test/chunking-form/samples/synthetic-named-exports/entry/_expected/system/main.js
index 28a5eaf0d..26b3b6e31 100644
--- a/test/chunking-form/samples/synthetic-named-exports/entry/_expected/system/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/entry/_expected/system/main.js
@@ -1,13 +1,13 @@
-System.register(['./generated-main.js'], function (exports) {
+System.register(['./generated-main.js'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('exists', module.e);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/entry/_expected/system/other.js b/test/chunking-form/samples/synthetic-named-exports/entry/_expected/system/other.js
index 3fbc52af4..524d4416c 100644
--- a/test/chunking-form/samples/synthetic-named-exports/entry/_expected/system/other.js
+++ b/test/chunking-form/samples/synthetic-named-exports/entry/_expected/system/other.js
@@ -1,14 +1,14 @@
-System.register(['./generated-main.js'], function () {
+System.register(['./generated-main.js'], (function () {
 	'use strict';
 	var __synthetic;
 	return {
 		setters: [function (module) {
 			__synthetic = module._;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(__synthetic.synthetic);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/global-conflict/_expected/amd/main.js b/test/chunking-form/samples/synthetic-named-exports/global-conflict/_expected/amd/main.js
index f95981939..822ed58c0 100644
--- a/test/chunking-form/samples/synthetic-named-exports/global-conflict/_expected/amd/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/global-conflict/_expected/amd/main.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var dep = { foo: 'bar' };
 	// This should log a global variable
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/global-conflict/_expected/system/main.js b/test/chunking-form/samples/synthetic-named-exports/global-conflict/_expected/system/main.js
index 87797e647..23178e7db 100644
--- a/test/chunking-form/samples/synthetic-named-exports/global-conflict/_expected/system/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/global-conflict/_expected/system/main.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var dep = { foo: 'bar' };
 			// This should log a global variable
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 
 			exports('foo', dep.foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/amd/generated-dep2.js b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/amd/generated-dep2.js
index bf8ce12ad..dc66d9134 100644
--- a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/amd/generated-dep2.js
+++ b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/amd/generated-dep2.js
@@ -1,7 +1,7 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var dep2 = {bar: {foo: 'works'}};
 
 	exports.dep2 = dep2;
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/amd/main.js b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/amd/main.js
index d8e2d49a4..07a5ea773 100644
--- a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/amd/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/amd/main.js
@@ -1,5 +1,5 @@
-define(['./generated-dep2'], function (dep2) { 'use strict';
+define(['./generated-dep2'], (function (dep2) { 'use strict';
 
 	console.log(dep2.dep2.bar.foo);
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/amd/main2.js b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/amd/main2.js
index d8e2d49a4..07a5ea773 100644
--- a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/amd/main2.js
+++ b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-dep2'], function (dep2) { 'use strict';
+define(['./generated-dep2'], (function (dep2) { 'use strict';
 
 	console.log(dep2.dep2.bar.foo);
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/system/generated-dep2.js b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/system/generated-dep2.js
index 7b4cb15fb..459741991 100644
--- a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/system/generated-dep2.js
+++ b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/system/generated-dep2.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var dep2 = exports('d', {bar: {foo: 'works'}});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/system/main.js b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/system/main.js
index db0259f47..579048503 100644
--- a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/system/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/system/main.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep2.js'], function () {
+System.register(['./generated-dep2.js'], (function () {
 	'use strict';
 	var dep2;
 	return {
 		setters: [function (module) {
 			dep2 = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(dep2.bar.foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/system/main2.js b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/system/main2.js
index db0259f47..579048503 100644
--- a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/system/main2.js
+++ b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports-2/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep2.js'], function () {
+System.register(['./generated-dep2.js'], (function () {
 	'use strict';
 	var dep2;
 	return {
 		setters: [function (module) {
 			dep2 = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(dep2.bar.foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/amd/main.js b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/amd/main.js
index 8186f765c..49ce8ee08 100644
--- a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/amd/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/amd/main.js
@@ -1,4 +1,19 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
+
+  function _mergeNamespaces(n, m) {
+    m.forEach(function (e) {
+      Object.keys(e).forEach(function (k) {
+        if (k !== 'default' && !(k in n)) {
+          var d = Object.getOwnPropertyDescriptor(e, k);
+          Object.defineProperty(n, k, d.get ? d : {
+            enumerable: true,
+            get: function () { return e[k]; }
+          });
+        }
+      });
+    });
+    return Object.freeze(n);
+  }
 
   const d = {
     fn: 42,
@@ -6,10 +21,11 @@ define(['exports'], function (exports) { 'use strict';
   };
   const foo = 100;
 
-  var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), d, {
+  var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+    __proto__: null,
     foo: foo,
     'default': d
-  }));
+  }, [d]));
 
   const stuff = 12;
   console.log(stuff);
@@ -24,4 +40,4 @@ define(['exports'], function (exports) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/cjs/main.js b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/cjs/main.js
index 07b00cddb..0d6d52dc8 100644
--- a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/cjs/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/cjs/main.js
@@ -2,16 +2,32 @@
 
 Object.defineProperty(exports, '__esModule', { value: true });
 
+function _mergeNamespaces(n, m) {
+  m.forEach(function (e) {
+    Object.keys(e).forEach(function (k) {
+      if (k !== 'default' && !(k in n)) {
+        var d = Object.getOwnPropertyDescriptor(e, k);
+        Object.defineProperty(n, k, d.get ? d : {
+          enumerable: true,
+          get: function () { return e[k]; }
+        });
+      }
+    });
+  });
+  return Object.freeze(n);
+}
+
 const d = {
   fn: 42,
   hello: 'hola'
 };
 const foo = 100;
 
-var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), d, {
+var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+  __proto__: null,
   foo: foo,
   'default': d
-}));
+}, [d]));
 
 const stuff = 12;
 console.log(stuff);
diff --git a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/es/main.js b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/es/main.js
index a9a0d8341..4cfca5cf7 100644
--- a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/es/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/es/main.js
@@ -1,13 +1,29 @@
+function _mergeNamespaces(n, m) {
+  m.forEach(function (e) {
+    Object.keys(e).forEach(function (k) {
+      if (k !== 'default' && !(k in n)) {
+        var d = Object.getOwnPropertyDescriptor(e, k);
+        Object.defineProperty(n, k, d.get ? d : {
+          enumerable: true,
+          get: function () { return e[k]; }
+        });
+      }
+    });
+  });
+  return Object.freeze(n);
+}
+
 const d = {
   fn: 42,
   hello: 'hola'
 };
 const foo = 100;
 
-var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), d, {
+var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+  __proto__: null,
   foo: foo,
   'default': d
-}));
+}, [d]));
 
 const stuff = 12;
 console.log(stuff);
diff --git a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/system/main.js b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/system/main.js
index 01f53a09d..1a7cc056f 100644
--- a/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/system/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/mixed-synthetic-named-exports/_expected/system/main.js
@@ -1,7 +1,22 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
+
+      function _mergeNamespaces(n, m) {
+        m.forEach(function (e) {
+          Object.keys(e).forEach(function (k) {
+            if (k !== 'default' && !(k in n)) {
+              var d = Object.getOwnPropertyDescriptor(e, k);
+              Object.defineProperty(n, k, d.get ? d : {
+                enumerable: true,
+                get: function () { return e[k]; }
+              });
+            }
+          });
+        });
+        return Object.freeze(n);
+      }
 
       const d = {
         fn: 42,
@@ -9,10 +24,11 @@ System.register([], function (exports) {
       };
       const foo = exports('foo', 100);
 
-      var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), d, {
+      var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+        __proto__: null,
         foo: foo,
         'default': d
-      }));
+      }, [d]));
 
       const stuff = 12;
       console.log(stuff);
@@ -26,6 +42,6 @@ System.register([], function (exports) {
         stuff: d.stuff
       });
 
-    }
+    })
   };
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main.js b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main.js
index 5345ab01e..6d3cf0f17 100644
--- a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = { one: { two: { three: { four: 42 } } } };
 
 	return main;
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main2.js b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main2.js
index 69d6be24e..60eff4045 100644
--- a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main2.js
+++ b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main2.js
@@ -1,7 +1,7 @@
-define(['./main'], function (main) { 'use strict';
+define(['./main'], (function (main) { 'use strict';
 
 
 
 	return main.one;
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main3.js b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main3.js
index ddd801950..a01f17ba9 100644
--- a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main3.js
+++ b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main3.js
@@ -1,7 +1,7 @@
-define(['./main'], function (main) { 'use strict';
+define(['./main'], (function (main) { 'use strict';
 
 
 
 	return main.one.two;
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main4.js b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main4.js
index 571fd0528..62899f0bf 100644
--- a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main4.js
+++ b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main4.js
@@ -1,7 +1,7 @@
-define(['./main'], function (main) { 'use strict';
+define(['./main'], (function (main) { 'use strict';
 
 
 
 	return main.one.two.three;
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main5.js b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main5.js
index a57fdf1e8..d16a82459 100644
--- a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main5.js
+++ b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/amd/main5.js
@@ -1,7 +1,7 @@
-define(['./main'], function (main) { 'use strict';
+define(['./main'], (function (main) { 'use strict';
 
 
 
 	return main.one.two.three.four;
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main.js b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main.js
index 99003e9f1..fcbe052a8 100644
--- a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', { one: { two: { three: { four: 42 } } } });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main2.js b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main2.js
index 9b5ce5eb8..9131d2dd0 100644
--- a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main2.js
+++ b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main2.js
@@ -1,16 +1,16 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	var main;
 	return {
 		setters: [function (module) {
-			main = module.default;
+			main = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
 			exports('default', main.one);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main3.js b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main3.js
index 6fac0bfa4..473b9c2af 100644
--- a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main3.js
+++ b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main3.js
@@ -1,16 +1,16 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	var main;
 	return {
 		setters: [function (module) {
-			main = module.default;
+			main = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
 			exports('default', main.one.two);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main4.js b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main4.js
index cd109a5c2..e5225f8d0 100644
--- a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main4.js
+++ b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main4.js
@@ -1,16 +1,16 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	var main;
 	return {
 		setters: [function (module) {
-			main = module.default;
+			main = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
 			exports('default', main.one.two.three);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main5.js b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main5.js
index 20e0cef21..76a808fda 100644
--- a/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main5.js
+++ b/test/chunking-form/samples/synthetic-named-exports/multi-level/_expected/system/main5.js
@@ -1,16 +1,16 @@
-System.register(['./main.js'], function (exports) {
+System.register(['./main.js'], (function (exports) {
 	'use strict';
 	var main;
 	return {
 		setters: [function (module) {
-			main = module.default;
+			main = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
 			exports('default', main.one.two.three.four);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/amd/main.js b/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/amd/main.js
index a7cc7e7dc..a90b8f9bb 100644
--- a/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/amd/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/amd/main.js
@@ -1,4 +1,19 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
 
 	var synthetic = {
 		foo: 'synthetic-foo',
@@ -8,23 +23,25 @@ define(['exports'], function (exports) { 'use strict';
 	};
 	const foo = 'foo';
 
-	var synthetic$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), synthetic, {
+	var synthetic$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
 		'default': synthetic,
 		foo: foo
-	}));
+	}, [synthetic]));
 
 	const bar = 'bar';
 	var dep = 'not-overwritten';
 
-	var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), synthetic, {
+	var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
 		bar: bar,
 		'default': dep,
 		synthetic: synthetic$1,
 		foo: foo
-	}));
+	}, [synthetic]));
 
 	exports.dep = dep$1;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/cjs/main.js b/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/cjs/main.js
index a15bddf84..534b8e2b0 100644
--- a/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/cjs/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/cjs/main.js
@@ -2,6 +2,21 @@
 
 Object.defineProperty(exports, '__esModule', { value: true });
 
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
 var synthetic = {
 	foo: 'synthetic-foo',
 	bar: 'synthetic-bar',
@@ -10,19 +25,21 @@ var synthetic = {
 };
 const foo = 'foo';
 
-var synthetic$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), synthetic, {
+var synthetic$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
 	'default': synthetic,
 	foo: foo
-}));
+}, [synthetic]));
 
 const bar = 'bar';
 var dep = 'not-overwritten';
 
-var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), synthetic, {
+var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
 	bar: bar,
 	'default': dep,
 	synthetic: synthetic$1,
 	foo: foo
-}));
+}, [synthetic]));
 
 exports.dep = dep$1;
diff --git a/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/es/main.js b/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/es/main.js
index 4868b6495..4d9a4eabb 100644
--- a/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/es/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/es/main.js
@@ -1,3 +1,18 @@
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
 var synthetic = {
 	foo: 'synthetic-foo',
 	bar: 'synthetic-bar',
@@ -6,19 +21,21 @@ var synthetic = {
 };
 const foo = 'foo';
 
-var synthetic$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), synthetic, {
+var synthetic$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
 	'default': synthetic,
 	foo: foo
-}));
+}, [synthetic]));
 
 const bar = 'bar';
 var dep = 'not-overwritten';
 
-var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), synthetic, {
+var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
 	bar: bar,
 	'default': dep,
 	synthetic: synthetic$1,
 	foo: foo
-}));
+}, [synthetic]));
 
 export { dep$1 as dep };
diff --git a/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/system/main.js b/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/system/main.js
index 421957889..fba7cd918 100644
--- a/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/system/main.js
+++ b/test/chunking-form/samples/synthetic-named-exports/namespace/_expected/system/main.js
@@ -1,7 +1,22 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
+
+			function _mergeNamespaces(n, m) {
+				m.forEach(function (e) {
+					Object.keys(e).forEach(function (k) {
+						if (k !== 'default' && !(k in n)) {
+							var d = Object.getOwnPropertyDescriptor(e, k);
+							Object.defineProperty(n, k, d.get ? d : {
+								enumerable: true,
+								get: function () { return e[k]; }
+							});
+						}
+					});
+				});
+				return Object.freeze(n);
+			}
 
 			var synthetic = {
 				foo: 'synthetic-foo',
@@ -11,22 +26,24 @@ System.register([], function (exports) {
 			};
 			const foo = 'foo';
 
-			var synthetic$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), synthetic, {
+			var synthetic$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+				__proto__: null,
 				'default': synthetic,
 				foo: foo
-			}));
+			}, [synthetic]));
 
 			const bar = 'bar';
 			var dep = 'not-overwritten';
 
-			var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), synthetic, {
+			var dep$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+				__proto__: null,
 				bar: bar,
 				'default': dep,
 				synthetic: synthetic$1,
 				foo: foo
-			}));
+			}, [synthetic]));
 			exports('dep', dep$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/amd/generated-dep.js b/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/amd/generated-dep.js
index e36aa892f..7094abf1a 100644
--- a/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/amd/generated-dep.js
+++ b/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/amd/generated-dep.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var dep =
 		/*#__PURE__*/
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	exports.dep = dep;
 
-});
+}));
diff --git a/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/amd/main1.js b/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/amd/main1.js
index 70e8b91df..b7799b398 100644
--- a/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/amd/main1.js
+++ b/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/amd/main1.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('1', dep.dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/amd/main2.js b/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/amd/main2.js
index 16bc0f7b4..84fb4390b 100644
--- a/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/amd/main2.js
+++ b/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/amd/main2.js
@@ -1,5 +1,5 @@
-define(['./generated-dep'], function (dep) { 'use strict';
+define(['./generated-dep'], (function (dep) { 'use strict';
 
 	console.log('2', dep.dep);
 
-});
+}));
diff --git a/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/system/generated-dep.js b/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/system/generated-dep.js
index ed1f2e46e..e09eb215f 100644
--- a/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/system/generated-dep.js
+++ b/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/system/generated-dep.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var dep =
 				exports('d', /*#__PURE__*/
@@ -9,6 +9,6 @@ System.register([], function (exports) {
 					return 0;
 				})());
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/system/main1.js b/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/system/main1.js
index 8daf064da..9024cabcf 100644
--- a/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/system/main1.js
+++ b/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/system/main1.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var dep;
 	return {
 		setters: [function (module) {
 			dep = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('1', dep);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/system/main2.js b/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/system/main2.js
index 23664a93e..b3ce5d94b 100644
--- a/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/system/main2.js
+++ b/test/chunking-form/samples/system-exports-wrap-pure-annotation/_expected/system/main2.js
@@ -1,14 +1,14 @@
-System.register(['./generated-dep.js'], function () {
+System.register(['./generated-dep.js'], (function () {
 	'use strict';
 	var dep;
 	return {
 		setters: [function (module) {
 			dep = module.d;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('2', dep);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/chunking-form/samples/tree-shaken-dynamic-hash/_expected/amd/16d985e6.js b/test/chunking-form/samples/tree-shaken-dynamic-hash/_expected/amd/16d985e6.js
index 6cd703051..45e664bea 100644
--- a/test/chunking-form/samples/tree-shaken-dynamic-hash/_expected/amd/16d985e6.js
+++ b/test/chunking-form/samples/tree-shaken-dynamic-hash/_expected/amd/16d985e6.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = null;
 
 	return main;
 
-});
+}));
diff --git a/test/chunking-form/samples/tree-shaken-dynamic-hash/_expected/system/0998116a.js b/test/chunking-form/samples/tree-shaken-dynamic-hash/_expected/system/0998116a.js
index f54762cad..646693430 100644
--- a/test/chunking-form/samples/tree-shaken-dynamic-hash/_expected/system/0998116a.js
+++ b/test/chunking-form/samples/tree-shaken-dynamic-hash/_expected/system/0998116a.js
@@ -1,10 +1,10 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', null);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/cli/samples/amd/_expected.js b/test/cli/samples/amd/_expected.js
index 71e98ac5b..ce9592df8 100644
--- a/test/cli/samples/amd/_expected.js
+++ b/test/cli/samples/amd/_expected.js
@@ -1,7 +1,7 @@
-defn('foo', function () { 'use strict';
+defn('foo', (function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-});
+}));
diff --git a/test/cli/samples/banner-intro-outro-footer/_expected.js b/test/cli/samples/banner-intro-outro-footer/_expected.js
index 849327614..1a9d2003d 100644
--- a/test/cli/samples/banner-intro-outro-footer/_expected.js
+++ b/test/cli/samples/banner-intro-outro-footer/_expected.js
@@ -8,5 +8,5 @@
 
 	// outro
 
-}());
+})();
 // footer
diff --git a/test/cli/samples/format-aliases/_expected/amd.js b/test/cli/samples/format-aliases/_expected/amd.js
index caabb3972..c1068de7c 100644
--- a/test/cli/samples/format-aliases/_expected/amd.js
+++ b/test/cli/samples/format-aliases/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external'], function (exports, external) { 'use strict';
+define(['exports', 'external'], (function (exports, external) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -8,11 +8,9 @@ define(['exports', 'external'], function (exports, external) { 'use strict';
 
 	Object.defineProperty(exports, 'value', {
 		enumerable: true,
-		get: function () {
-			return external__default['default'];
-		}
+		get: function () { return external__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/cli/samples/format-aliases/_expected/cjs.js b/test/cli/samples/format-aliases/_expected/cjs.js
index 38846076a..a45d0a388 100644
--- a/test/cli/samples/format-aliases/_expected/cjs.js
+++ b/test/cli/samples/format-aliases/_expected/cjs.js
@@ -12,7 +12,5 @@ console.log('main');
 
 Object.defineProperty(exports, 'value', {
 	enumerable: true,
-	get: function () {
-		return external__default['default'];
-	}
+	get: function () { return external__default["default"]; }
 });
diff --git a/test/cli/samples/format-aliases/_expected/commonjs.js b/test/cli/samples/format-aliases/_expected/commonjs.js
index 38846076a..a45d0a388 100644
--- a/test/cli/samples/format-aliases/_expected/commonjs.js
+++ b/test/cli/samples/format-aliases/_expected/commonjs.js
@@ -12,7 +12,5 @@ console.log('main');
 
 Object.defineProperty(exports, 'value', {
 	enumerable: true,
-	get: function () {
-		return external__default['default'];
-	}
+	get: function () { return external__default["default"]; }
 });
diff --git a/test/cli/samples/format-aliases/_expected/iife.js b/test/cli/samples/format-aliases/_expected/iife.js
index 5a80cd677..971d9b96c 100644
--- a/test/cli/samples/format-aliases/_expected/iife.js
+++ b/test/cli/samples/format-aliases/_expected/iife.js
@@ -9,13 +9,11 @@ var bundle = (function (exports, external) {
 
 	Object.defineProperty(exports, 'value', {
 		enumerable: true,
-		get: function () {
-			return external__default['default'];
-		}
+		get: function () { return external__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
 	return exports;
 
-}({}, external));
+})({}, external);
diff --git a/test/cli/samples/format-aliases/_expected/system.js b/test/cli/samples/format-aliases/_expected/system.js
index 4a614a259..c91b02221 100644
--- a/test/cli/samples/format-aliases/_expected/system.js
+++ b/test/cli/samples/format-aliases/_expected/system.js
@@ -1,13 +1,13 @@
-System.register('bundle', ['external'], function (exports) {
+System.register('bundle', ['external'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('value', module.default);
+			exports('value', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/cli/samples/format-aliases/_expected/systemjs.js b/test/cli/samples/format-aliases/_expected/systemjs.js
index 4a614a259..c91b02221 100644
--- a/test/cli/samples/format-aliases/_expected/systemjs.js
+++ b/test/cli/samples/format-aliases/_expected/systemjs.js
@@ -1,13 +1,13 @@
-System.register('bundle', ['external'], function (exports) {
+System.register('bundle', ['external'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('value', module.default);
+			exports('value', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/cli/samples/format-aliases/_expected/umd.js b/test/cli/samples/format-aliases/_expected/umd.js
index 5a2f0ade3..97fb2928a 100644
--- a/test/cli/samples/format-aliases/_expected/umd.js
+++ b/test/cli/samples/format-aliases/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external));
-}(this, (function (exports, external) { 'use strict';
+})(this, (function (exports, external) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -12,11 +12,9 @@
 
 	Object.defineProperty(exports, 'value', {
 		enumerable: true,
-		get: function () {
-			return external__default['default'];
-		}
+		get: function () { return external__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/cli/samples/generated-code-preset-override/_config.js b/test/cli/samples/generated-code-preset-override/_config.js
new file mode 100644
index 000000000..e4a45bceb
--- /dev/null
+++ b/test/cli/samples/generated-code-preset-override/_config.js
@@ -0,0 +1,4 @@
+module.exports = {
+	description: 'overrides the generatedCode option when using presets',
+	command: 'rollup --config --generatedCode es5 --generatedCode.arrowFunctions'
+};
diff --git a/test/cli/samples/generated-code-preset-override/_expected.js b/test/cli/samples/generated-code-preset-override/_expected.js
new file mode 100644
index 000000000..37cabb944
--- /dev/null
+++ b/test/cli/samples/generated-code-preset-override/_expected.js
@@ -0,0 +1,13 @@
+System.register(['external'], (function (exports) {
+	'use strict';
+	return {
+		setters: [module => {
+			exports('baz', module.baz);
+		}],
+		execute: (function () {
+
+			const foo = 1; exports({ foo: foo, bar: foo, default: foo });
+
+		})
+	};
+}));
diff --git a/test/cli/samples/generated-code-preset-override/main.js b/test/cli/samples/generated-code-preset-override/main.js
new file mode 100644
index 000000000..809d1ad15
--- /dev/null
+++ b/test/cli/samples/generated-code-preset-override/main.js
@@ -0,0 +1,3 @@
+export { baz } from 'external';
+const foo = 1;
+export { foo, foo as bar, foo as default };
diff --git a/test/cli/samples/generated-code-preset-override/rollup.config.js b/test/cli/samples/generated-code-preset-override/rollup.config.js
new file mode 100644
index 000000000..5de683e39
--- /dev/null
+++ b/test/cli/samples/generated-code-preset-override/rollup.config.js
@@ -0,0 +1,11 @@
+export default {
+	input: 'main.js',
+	output: {
+		format: 'system',
+		generatedCode: {
+			arrowFunctions: true,
+			objectShorthand: true,
+			reservedNamesAsProps: false
+		}
+	}
+}
\ No newline at end of file
diff --git a/test/cli/samples/generated-code-unknown-preset/_config.js b/test/cli/samples/generated-code-unknown-preset/_config.js
new file mode 100644
index 000000000..f45b6b5f5
--- /dev/null
+++ b/test/cli/samples/generated-code-unknown-preset/_config.js
@@ -0,0 +1,14 @@
+const { assertIncludes } = require('../../../utils.js');
+
+module.exports = {
+	description: 'overrides the generatedCode option when using presets',
+	command: 'rollup main.js --format es --generatedCode unknown',
+	error: () => true,
+	stderr: stderr => {
+		assertIncludes(
+			stderr,
+			'[!] Error: Invalid value "unknown" for option "output.generatedCode" - valid values are "es2015" and "es5". You can also supply an object for more fine-grained control.\n' +
+				'https://rollupjs.org/guide/en/#outputgeneratedcode'
+		);
+	}
+};
diff --git a/test/cli/samples/generated-code-unknown-preset/main.js b/test/cli/samples/generated-code-unknown-preset/main.js
new file mode 100644
index 000000000..c0b933d7b
--- /dev/null
+++ b/test/cli/samples/generated-code-unknown-preset/main.js
@@ -0,0 +1 @@
+console.log('main');
diff --git a/test/cli/samples/indent-none/_expected.js b/test/cli/samples/indent-none/_expected.js
index dcb207285..28a3046a8 100644
--- a/test/cli/samples/indent-none/_expected.js
+++ b/test/cli/samples/indent-none/_expected.js
@@ -1,8 +1,8 @@
 (function (factory) {
 typeof define === 'function' && define.amd ? define(factory) :
 factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 assert.equal( 1 + 1, 2 );
 
-})));
+}));
diff --git a/test/cli/samples/module-name/_expected.js b/test/cli/samples/module-name/_expected.js
index 6fa2ed814..cd252572f 100644
--- a/test/cli/samples/module-name/_expected.js
+++ b/test/cli/samples/module-name/_expected.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-})));
+}));
diff --git a/test/cli/samples/no-conflict/_expected.js b/test/cli/samples/no-conflict/_expected.js
index 6eb1cdf80..70ecd3d07 100644
--- a/test/cli/samples/no-conflict/_expected.js
+++ b/test/cli/samples/no-conflict/_expected.js
@@ -5,11 +5,11 @@
 		var current = global.conflictyName;
 		var exports = global.conflictyName = factory();
 		exports.noConflict = function () { global.conflictyName = current; return exports; };
-	}()));
-}(this, (function () { 'use strict';
+	})());
+})(this, (function () { 'use strict';
 
 	var main = {};
 
 	return main;
 
-})));
\ No newline at end of file
+}));
\ No newline at end of file
diff --git a/test/cli/samples/no-strict/_expected.js b/test/cli/samples/no-strict/_expected.js
index 61893ba1a..df1baa195 100644
--- a/test/cli/samples/no-strict/_expected.js
+++ b/test/cli/samples/no-strict/_expected.js
@@ -2,4 +2,4 @@
 
 	console.log( 42 );
 
-}());
+})();
diff --git a/test/cli/samples/no-treeshake/_expected.js b/test/cli/samples/no-treeshake/_expected.js
index 6c3cf5341..4726b2a10 100644
--- a/test/cli/samples/no-treeshake/_expected.js
+++ b/test/cli/samples/no-treeshake/_expected.js
@@ -7,4 +7,4 @@ var shakeless = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/cli/samples/stdin/self-import/_expected.js b/test/cli/samples/stdin/self-import/_expected.js
index cd76283f2..dac14ab3e 100644
--- a/test/cli/samples/stdin/self-import/_expected.js
+++ b/test/cli/samples/stdin/self-import/_expected.js
@@ -8,4 +8,4 @@ var a = 4;
 console.log(a, b);
 
 exports.b = b;
-exports['default'] = a;
+exports["default"] = a;
diff --git a/test/cli/samples/treeshake-unknown-preset/_config.js b/test/cli/samples/treeshake-unknown-preset/_config.js
index 00ac3f303..5abb57313 100644
--- a/test/cli/samples/treeshake-unknown-preset/_config.js
+++ b/test/cli/samples/treeshake-unknown-preset/_config.js
@@ -7,7 +7,8 @@ module.exports = {
 	stderr: stderr => {
 		assertIncludes(
 			stderr,
-			'[!] Error: Invalid value for option "treeshake" - valid values are false, true, "recommended", "safest" and "smallest". You can also supply an object for more fine-grained control.\n'
+			'[!] Error: Invalid value "unknown" for option "treeshake" - valid values are false, true, "recommended", "safest" and "smallest". You can also supply an object for more fine-grained control.\n' +
+				'https://rollupjs.org/guide/en/#treeshake'
 		);
 	}
 };
diff --git a/test/form/samples/amd-id-auto/_expected/amd.js b/test/form/samples/amd-id-auto/_expected/amd.js
index 21cce6c03..4716f5ca5 100644
--- a/test/form/samples/amd-id-auto/_expected/amd.js
+++ b/test/form/samples/amd-id-auto/_expected/amd.js
@@ -1,5 +1,5 @@
-define('amd', function () { 'use strict';
+define('amd', (function () { 'use strict';
 
 	console.log(42);
 
-});
+}));
diff --git a/test/form/samples/amd-id-auto/_expected/iife.js b/test/form/samples/amd-id-auto/_expected/iife.js
index 3a2d4df53..26c81bfb6 100644
--- a/test/form/samples/amd-id-auto/_expected/iife.js
+++ b/test/form/samples/amd-id-auto/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log(42);
 
-}());
+})();
diff --git a/test/form/samples/amd-id-auto/_expected/system.js b/test/form/samples/amd-id-auto/_expected/system.js
index 424a0c00e..845bdcc4e 100644
--- a/test/form/samples/amd-id-auto/_expected/system.js
+++ b/test/form/samples/amd-id-auto/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log(42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/amd-id-auto/_expected/umd.js b/test/form/samples/amd-id-auto/_expected/umd.js
index e7c8a2c40..51bd5b856 100644
--- a/test/form/samples/amd-id-auto/_expected/umd.js
+++ b/test/form/samples/amd-id-auto/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define('umd', factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log(42);
 
-})));
+}));
diff --git a/test/form/samples/amd-id/_expected/amd.js b/test/form/samples/amd-id/_expected/amd.js
index 9e9ba5418..ef33aeb74 100644
--- a/test/form/samples/amd-id/_expected/amd.js
+++ b/test/form/samples/amd-id/_expected/amd.js
@@ -1,5 +1,5 @@
-define('my-id', function () { 'use strict';
+define('my-id', (function () { 'use strict';
 
 	console.log(42);
 
-});
+}));
diff --git a/test/form/samples/amd-id/_expected/iife.js b/test/form/samples/amd-id/_expected/iife.js
index 3a2d4df53..26c81bfb6 100644
--- a/test/form/samples/amd-id/_expected/iife.js
+++ b/test/form/samples/amd-id/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log(42);
 
-}());
+})();
diff --git a/test/form/samples/amd-id/_expected/system.js b/test/form/samples/amd-id/_expected/system.js
index 424a0c00e..845bdcc4e 100644
--- a/test/form/samples/amd-id/_expected/system.js
+++ b/test/form/samples/amd-id/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log(42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/amd-id/_expected/umd.js b/test/form/samples/amd-id/_expected/umd.js
index 8f348b1d4..5ce7aff7d 100644
--- a/test/form/samples/amd-id/_expected/umd.js
+++ b/test/form/samples/amd-id/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define('my-id', factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log(42);
 
-})));
+}));
diff --git a/test/form/samples/assignment-to-array-buffer-view/_expected/amd.js b/test/form/samples/assignment-to-array-buffer-view/_expected/amd.js
index 77c8c89fe..3fb733de8 100644
--- a/test/form/samples/assignment-to-array-buffer-view/_expected/amd.js
+++ b/test/form/samples/assignment-to-array-buffer-view/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var buffer = new ArrayBuffer( 8 );
 
@@ -11,4 +11,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/assignment-to-array-buffer-view/_expected/iife.js b/test/form/samples/assignment-to-array-buffer-view/_expected/iife.js
index 1c822db4d..06946572d 100644
--- a/test/form/samples/assignment-to-array-buffer-view/_expected/iife.js
+++ b/test/form/samples/assignment-to-array-buffer-view/_expected/iife.js
@@ -14,4 +14,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/assignment-to-array-buffer-view/_expected/system.js b/test/form/samples/assignment-to-array-buffer-view/_expected/system.js
index 4ce5f6273..ceb8a5279 100644
--- a/test/form/samples/assignment-to-array-buffer-view/_expected/system.js
+++ b/test/form/samples/assignment-to-array-buffer-view/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var buffer = new ArrayBuffer( 8 );
 
@@ -10,6 +10,6 @@ System.register('bundle', [], function (exports) {
 
 			view16[ 0 ] = 3;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/assignment-to-array-buffer-view/_expected/umd.js b/test/form/samples/assignment-to-array-buffer-view/_expected/umd.js
index 3f2fcec06..dc975670d 100644
--- a/test/form/samples/assignment-to-array-buffer-view/_expected/umd.js
+++ b/test/form/samples/assignment-to-array-buffer-view/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	var buffer = new ArrayBuffer( 8 );
 
@@ -15,4 +15,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/assignment-to-exports-class-declaration/_expected/amd.js b/test/form/samples/assignment-to-exports-class-declaration/_expected/amd.js
index b6e6ac960..7289cef4e 100644
--- a/test/form/samples/assignment-to-exports-class-declaration/_expected/amd.js
+++ b/test/form/samples/assignment-to-exports-class-declaration/_expected/amd.js
@@ -1,8 +1,8 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	exports.Foo = class Foo {};
 	exports.Foo = lol( exports.Foo );
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/assignment-to-exports-class-declaration/_expected/iife.js b/test/form/samples/assignment-to-exports-class-declaration/_expected/iife.js
index d98dc6a91..d8a1d8dbc 100644
--- a/test/form/samples/assignment-to-exports-class-declaration/_expected/iife.js
+++ b/test/form/samples/assignment-to-exports-class-declaration/_expected/iife.js
@@ -8,4 +8,4 @@ var myModule = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/assignment-to-exports-class-declaration/_expected/system.js b/test/form/samples/assignment-to-exports-class-declaration/_expected/system.js
index 355c3b216..7ac702449 100644
--- a/test/form/samples/assignment-to-exports-class-declaration/_expected/system.js
+++ b/test/form/samples/assignment-to-exports-class-declaration/_expected/system.js
@@ -1,11 +1,11 @@
-System.register('myModule', [], function (exports) {
+System.register('myModule', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			let Foo = exports('Foo', class Foo {});
 			exports('Foo', Foo = lol( Foo ));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/assignment-to-exports-class-declaration/_expected/umd.js b/test/form/samples/assignment-to-exports-class-declaration/_expected/umd.js
index 88f72565e..9c03e14e5 100644
--- a/test/form/samples/assignment-to-exports-class-declaration/_expected/umd.js
+++ b/test/form/samples/assignment-to-exports-class-declaration/_expected/umd.js
@@ -2,11 +2,11 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myModule = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	exports.Foo = class Foo {};
 	exports.Foo = lol( exports.Foo );
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/assignment-to-exports/_expected/amd.js b/test/form/samples/assignment-to-exports/_expected/amd.js
index 0dd931f9d..37b3240bc 100644
--- a/test/form/samples/assignment-to-exports/_expected/amd.js
+++ b/test/form/samples/assignment-to-exports/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	// Unassigned export
 	var foo1;
@@ -29,4 +29,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/assignment-to-exports/_expected/iife.js b/test/form/samples/assignment-to-exports/_expected/iife.js
index a26ab26da..80b15ba08 100644
--- a/test/form/samples/assignment-to-exports/_expected/iife.js
+++ b/test/form/samples/assignment-to-exports/_expected/iife.js
@@ -32,4 +32,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/assignment-to-exports/_expected/system.js b/test/form/samples/assignment-to-exports/_expected/system.js
index 4736a84ce..ca0399dc2 100644
--- a/test/form/samples/assignment-to-exports/_expected/system.js
+++ b/test/form/samples/assignment-to-exports/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			// Unassigned export
 			var foo1; exports('foo1', foo1);
@@ -27,6 +27,6 @@ System.register('bundle', [], function (exports) {
 
 			console.log( kept1, kept2 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/assignment-to-exports/_expected/umd.js b/test/form/samples/assignment-to-exports/_expected/umd.js
index 3f3358fec..2f2b3ebda 100644
--- a/test/form/samples/assignment-to-exports/_expected/umd.js
+++ b/test/form/samples/assignment-to-exports/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	// Unassigned export
 	var foo1;
@@ -33,4 +33,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/banner-and-footer/_expected/amd.js b/test/form/samples/banner-and-footer/_expected/amd.js
index 830cdd4c0..90633f3f7 100644
--- a/test/form/samples/banner-and-footer/_expected/amd.js
+++ b/test/form/samples/banner-and-footer/_expected/amd.js
@@ -2,11 +2,11 @@
 /* first banner */
 /* second banner */
 /* 3rd banner */
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log( 'hello world' );
 
-});
+}));
 /* this is a footer */
 /* first footer */
 /* second footer */
diff --git a/test/form/samples/banner-and-footer/_expected/iife.js b/test/form/samples/banner-and-footer/_expected/iife.js
index 8caca79a9..ab6bc46f7 100644
--- a/test/form/samples/banner-and-footer/_expected/iife.js
+++ b/test/form/samples/banner-and-footer/_expected/iife.js
@@ -7,7 +7,7 @@
 
 	console.log( 'hello world' );
 
-}());
+})();
 /* this is a footer */
 /* first footer */
 /* second footer */
diff --git a/test/form/samples/banner-and-footer/_expected/system.js b/test/form/samples/banner-and-footer/_expected/system.js
index cb1cf9f79..539452c8f 100644
--- a/test/form/samples/banner-and-footer/_expected/system.js
+++ b/test/form/samples/banner-and-footer/_expected/system.js
@@ -2,16 +2,16 @@
 /* first banner */
 /* second banner */
 /* 3rd banner */
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log( 'hello world' );
 
-		}
+		})
 	};
-});
+}));
 /* this is a footer */
 /* first footer */
 /* second footer */
diff --git a/test/form/samples/banner-and-footer/_expected/umd.js b/test/form/samples/banner-and-footer/_expected/umd.js
index 050b6778e..9d3dac926 100644
--- a/test/form/samples/banner-and-footer/_expected/umd.js
+++ b/test/form/samples/banner-and-footer/_expected/umd.js
@@ -5,11 +5,11 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log( 'hello world' );
 
-})));
+}));
 /* this is a footer */
 /* first footer */
 /* second footer */
diff --git a/test/form/samples/body-less-for-loops/_expected/amd.js b/test/form/samples/body-less-for-loops/_expected/amd.js
index 777574179..62a1a7223 100644
--- a/test/form/samples/body-less-for-loops/_expected/amd.js
+++ b/test/form/samples/body-less-for-loops/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	for ( let i = 0; i < 10; i += 1 ) console.log( i );
 	for ( const letter of array ) console.log( letter );
@@ -13,4 +13,4 @@ define(function () { 'use strict';
 	let index;
 	for ( index in array ) console.log( index );
 
-});
+}));
diff --git a/test/form/samples/body-less-for-loops/_expected/iife.js b/test/form/samples/body-less-for-loops/_expected/iife.js
index 746d22137..69787edce 100644
--- a/test/form/samples/body-less-for-loops/_expected/iife.js
+++ b/test/form/samples/body-less-for-loops/_expected/iife.js
@@ -14,4 +14,4 @@
 	let index;
 	for ( index in array ) console.log( index );
 
-}());
+})();
diff --git a/test/form/samples/body-less-for-loops/_expected/system.js b/test/form/samples/body-less-for-loops/_expected/system.js
index b2622e10b..93a5465ef 100644
--- a/test/form/samples/body-less-for-loops/_expected/system.js
+++ b/test/form/samples/body-less-for-loops/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			for ( let i = 0; i < 10; i += 1 ) console.log( i );
 			for ( const letter of array ) console.log( letter );
@@ -16,6 +16,6 @@ System.register([], function () {
 			let index;
 			for ( index in array ) console.log( index );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/body-less-for-loops/_expected/umd.js b/test/form/samples/body-less-for-loops/_expected/umd.js
index f4e40ccd8..ea7ab3fab 100644
--- a/test/form/samples/body-less-for-loops/_expected/umd.js
+++ b/test/form/samples/body-less-for-loops/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	for ( let i = 0; i < 10; i += 1 ) console.log( i );
 	for ( const letter of array ) console.log( letter );
@@ -16,4 +16,4 @@
 	let index;
 	for ( index in array ) console.log( index );
 
-})));
+}));
diff --git a/test/form/samples/circular-member-expression/_expected/amd.js b/test/form/samples/circular-member-expression/_expected/amd.js
index 7a4989aaa..cdc4dd63d 100644
--- a/test/form/samples/circular-member-expression/_expected/amd.js
+++ b/test/form/samples/circular-member-expression/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
   var foo = function() {
     foo.toString = null;
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
   console.log(foo);
 
-});
+}));
diff --git a/test/form/samples/circular-member-expression/_expected/iife.js b/test/form/samples/circular-member-expression/_expected/iife.js
index 2ff607751..2abdb1798 100644
--- a/test/form/samples/circular-member-expression/_expected/iife.js
+++ b/test/form/samples/circular-member-expression/_expected/iife.js
@@ -7,4 +7,4 @@
 
   console.log(foo);
 
-}());
+})();
diff --git a/test/form/samples/circular-member-expression/_expected/system.js b/test/form/samples/circular-member-expression/_expected/system.js
index a43460aea..409bb3dc9 100644
--- a/test/form/samples/circular-member-expression/_expected/system.js
+++ b/test/form/samples/circular-member-expression/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       var foo = function() {
         foo.toString = null;
@@ -9,6 +9,6 @@ System.register([], function () {
 
       console.log(foo);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/form/samples/circular-member-expression/_expected/umd.js b/test/form/samples/circular-member-expression/_expected/umd.js
index 9c18b8449..e9dd7ef9d 100644
--- a/test/form/samples/circular-member-expression/_expected/umd.js
+++ b/test/form/samples/circular-member-expression/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
   typeof define === 'function' && define.amd ? define(factory) :
   factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
   var foo = function() {
     foo.toString = null;
@@ -9,4 +9,4 @@
 
   console.log(foo);
 
-})));
+}));
diff --git a/test/form/samples/comment-before-import/_expected/amd.js b/test/form/samples/comment-before-import/_expected/amd.js
index 95d9a9cc3..29185c338 100644
--- a/test/form/samples/comment-before-import/_expected/amd.js
+++ b/test/form/samples/comment-before-import/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	// bar.js
 	var bar = 21;
@@ -11,4 +11,4 @@ define(function () { 'use strict';
 
 	console.log( foo );
 
-});
+}));
diff --git a/test/form/samples/comment-before-import/_expected/iife.js b/test/form/samples/comment-before-import/_expected/iife.js
index 7f209da42..7857198ed 100644
--- a/test/form/samples/comment-before-import/_expected/iife.js
+++ b/test/form/samples/comment-before-import/_expected/iife.js
@@ -12,4 +12,4 @@
 
 	console.log( foo );
 
-}());
+})();
diff --git a/test/form/samples/comment-before-import/_expected/system.js b/test/form/samples/comment-before-import/_expected/system.js
index b902888d1..16d8190bf 100644
--- a/test/form/samples/comment-before-import/_expected/system.js
+++ b/test/form/samples/comment-before-import/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			// bar.js
 			var bar = 21;
@@ -14,6 +14,6 @@ System.register([], function () {
 
 			console.log( foo );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/comment-before-import/_expected/umd.js b/test/form/samples/comment-before-import/_expected/umd.js
index 4e8826db7..4f6ec207d 100644
--- a/test/form/samples/comment-before-import/_expected/umd.js
+++ b/test/form/samples/comment-before-import/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	// bar.js
 	var bar = 21;
@@ -14,4 +14,4 @@
 
 	console.log( foo );
 
-})));
+}));
diff --git a/test/form/samples/comment-start-inside-comment/_expected/amd.js b/test/form/samples/comment-start-inside-comment/_expected/amd.js
index 9d28de147..995c74b84 100644
--- a/test/form/samples/comment-start-inside-comment/_expected/amd.js
+++ b/test/form/samples/comment-start-inside-comment/_expected/amd.js
@@ -1,8 +1,8 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var foo = () => 'foo';
 
 	// /*
 	console.log(foo());
 
-});
+}));
diff --git a/test/form/samples/comment-start-inside-comment/_expected/iife.js b/test/form/samples/comment-start-inside-comment/_expected/iife.js
index e1ada891f..9be90207d 100644
--- a/test/form/samples/comment-start-inside-comment/_expected/iife.js
+++ b/test/form/samples/comment-start-inside-comment/_expected/iife.js
@@ -6,4 +6,4 @@
 	// /*
 	console.log(foo());
 
-}());
+})();
diff --git a/test/form/samples/comment-start-inside-comment/_expected/system.js b/test/form/samples/comment-start-inside-comment/_expected/system.js
index a3a39ad1f..b9b00deca 100644
--- a/test/form/samples/comment-start-inside-comment/_expected/system.js
+++ b/test/form/samples/comment-start-inside-comment/_expected/system.js
@@ -1,13 +1,13 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = () => 'foo';
 
 			// /*
 			console.log(foo());
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/comment-start-inside-comment/_expected/umd.js b/test/form/samples/comment-start-inside-comment/_expected/umd.js
index 6aafad97b..8b599e0a8 100644
--- a/test/form/samples/comment-start-inside-comment/_expected/umd.js
+++ b/test/form/samples/comment-start-inside-comment/_expected/umd.js
@@ -1,11 +1,11 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var foo = () => 'foo';
 
 	// /*
 	console.log(foo());
 
-})));
+}));
diff --git a/test/form/samples/compact-empty-external/_expected/amd.js b/test/form/samples/compact-empty-external/_expected/amd.js
index f200316fb..dfbce87bb 100644
--- a/test/form/samples/compact-empty-external/_expected/amd.js
+++ b/test/form/samples/compact-empty-external/_expected/amd.js
@@ -1 +1 @@
-define(['external'],function(external){'use strict';});
\ No newline at end of file
+define(['external'],(function(external){'use strict';}));
\ No newline at end of file
diff --git a/test/form/samples/compact-empty-external/_expected/iife.js b/test/form/samples/compact-empty-external/_expected/iife.js
index 695ff0122..b66e081df 100644
--- a/test/form/samples/compact-empty-external/_expected/iife.js
+++ b/test/form/samples/compact-empty-external/_expected/iife.js
@@ -1 +1 @@
-(function(){'use strict';}());
\ No newline at end of file
+(function(){'use strict';})();
\ No newline at end of file
diff --git a/test/form/samples/compact-empty-external/_expected/system.js b/test/form/samples/compact-empty-external/_expected/system.js
index a66ca3559..51f1de204 100644
--- a/test/form/samples/compact-empty-external/_expected/system.js
+++ b/test/form/samples/compact-empty-external/_expected/system.js
@@ -1 +1 @@
-System.register(['external'],function(){'use strict';return{setters:[function(){}],execute:function(){}}});
\ No newline at end of file
+System.register(['external'],(function(){'use strict';return{setters:[function(){}],execute:(function(){})}}));
\ No newline at end of file
diff --git a/test/form/samples/compact-empty-external/_expected/umd.js b/test/form/samples/compact-empty-external/_expected/umd.js
index 17b8ab6b3..427487595 100644
--- a/test/form/samples/compact-empty-external/_expected/umd.js
+++ b/test/form/samples/compact-empty-external/_expected/umd.js
@@ -1 +1 @@
-(function(f){typeof define==='function'&&define.amd?define(['external'],f):f();}((function(){'use strict';})));
\ No newline at end of file
+(function(f){typeof define==='function'&&define.amd?define(['external'],f):f();})((function(){'use strict';}));
\ No newline at end of file
diff --git a/test/form/samples/compact-multiple-imports/_expected/amd.js b/test/form/samples/compact-multiple-imports/_expected/amd.js
index e65d614c8..dbc86fed8 100644
--- a/test/form/samples/compact-multiple-imports/_expected/amd.js
+++ b/test/form/samples/compact-multiple-imports/_expected/amd.js
@@ -1,2 +1,2 @@
-define(['external-1','external-2','external-3','external-4','external-5'],function(external1,external2,external3,external4,external5){'use strict';assert.equal(external3.value, '3');
-assert.equal(external4.value, '4');});
\ No newline at end of file
+define(['external-1','external-2','external-3','external-4','external-5'],(function(external1,external2,external3,external4,external5){'use strict';assert.equal(external3.value, '3');
+assert.equal(external4.value, '4');}));
\ No newline at end of file
diff --git a/test/form/samples/compact-multiple-imports/_expected/iife.js b/test/form/samples/compact-multiple-imports/_expected/iife.js
index 76e54472f..c640a86fd 100644
--- a/test/form/samples/compact-multiple-imports/_expected/iife.js
+++ b/test/form/samples/compact-multiple-imports/_expected/iife.js
@@ -1,2 +1,2 @@
 (function(external1,external2,external3,external4){'use strict';assert.equal(external3.value, '3');
-assert.equal(external4.value, '4');}(null,null,external3,external4));
\ No newline at end of file
+assert.equal(external4.value, '4');})(null,null,external3,external4);
\ No newline at end of file
diff --git a/test/form/samples/compact-multiple-imports/_expected/system.js b/test/form/samples/compact-multiple-imports/_expected/system.js
index ef4ab6109..af7b20119 100644
--- a/test/form/samples/compact-multiple-imports/_expected/system.js
+++ b/test/form/samples/compact-multiple-imports/_expected/system.js
@@ -1,2 +1,2 @@
-System.register(['external-1','external-2','external-3','external-4','external-5'],function(){'use strict';var value,value$1;return{setters:[function(){},function(){},function(module){value=module.value;},function(module){value$1=module.value;},function(){}],execute:function(){assert.equal(value, '3');
-assert.equal(value$1, '4');}}});
\ No newline at end of file
+System.register(['external-1','external-2','external-3','external-4','external-5'],(function(){'use strict';var value,value$1;return{setters:[function(){},function(){},function(module){value=module.value;},function(module){value$1=module.value;},function(){}],execute:(function(){assert.equal(value, '3');
+assert.equal(value$1, '4');})}}));
\ No newline at end of file
diff --git a/test/form/samples/compact-multiple-imports/_expected/umd.js b/test/form/samples/compact-multiple-imports/_expected/umd.js
index 4d432d714..94bab9a50 100644
--- a/test/form/samples/compact-multiple-imports/_expected/umd.js
+++ b/test/form/samples/compact-multiple-imports/_expected/umd.js
@@ -1,2 +1,2 @@
-(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(require('external-1'),require('external-2'),require('external-3'),require('external-4'),require('external-5')):typeof define==='function'&&define.amd?define(['external-1','external-2','external-3','external-4','external-5'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,f(null,null,g.external3,g.external4));}(this,(function(external1, external2, external3, external4){'use strict';assert.equal(external3.value, '3');
-assert.equal(external4.value, '4');})));
\ No newline at end of file
+(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(require('external-1'),require('external-2'),require('external-3'),require('external-4'),require('external-5')):typeof define==='function'&&define.amd?define(['external-1','external-2','external-3','external-4','external-5'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,f(null,null,g.external3,g.external4));})(this,(function(external1,external2,external3,external4){'use strict';assert.equal(external3.value, '3');
+assert.equal(external4.value, '4');}));
\ No newline at end of file
diff --git a/test/form/samples/compact-named-export/_expected/amd.js b/test/form/samples/compact-named-export/_expected/amd.js
index 05dec91b0..b420631d6 100644
--- a/test/form/samples/compact-named-export/_expected/amd.js
+++ b/test/form/samples/compact-named-export/_expected/amd.js
@@ -1,5 +1,5 @@
-define(['exports'],function(exports){'use strict';exports.x = 42;
+define(['exports'],(function(exports){'use strict';exports.x = 42;
 exports.x+=1;
 exports.x=exports.x+1;
 exports.x++;
-++exports.x;Object.defineProperty(exports,'__esModule',{value:true});});
\ No newline at end of file
+++exports.x;Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/compact-named-export/_expected/iife.js b/test/form/samples/compact-named-export/_expected/iife.js
index 2cbb80b66..c553017f5 100644
--- a/test/form/samples/compact-named-export/_expected/iife.js
+++ b/test/form/samples/compact-named-export/_expected/iife.js
@@ -2,4 +2,4 @@ var foo=(function(exports){'use strict';exports.x = 42;
 exports.x+=1;
 exports.x=exports.x+1;
 exports.x++;
-++exports.x;Object.defineProperty(exports,'__esModule',{value:true});return exports;}({}));
\ No newline at end of file
+++exports.x;Object.defineProperty(exports,'__esModule',{value:true});return exports;})({});
\ No newline at end of file
diff --git a/test/form/samples/compact-named-export/_expected/system.js b/test/form/samples/compact-named-export/_expected/system.js
index 4537b7c66..5df3e5d5e 100644
--- a/test/form/samples/compact-named-export/_expected/system.js
+++ b/test/form/samples/compact-named-export/_expected/system.js
@@ -1,5 +1,5 @@
-System.register('foo',[],function(exports){'use strict';return{execute:function(){let x = exports('x',42);
+System.register('foo',[],(function(exports){'use strict';return{execute:(function(){let x = exports('x',42);
 exports('x',x+=1);
 exports('x',x=x+1);
 exports('x',x+1),x++;
-exports('x',++x);}}});
\ No newline at end of file
+exports('x',++x);})}}));
\ No newline at end of file
diff --git a/test/form/samples/compact-named-export/_expected/umd.js b/test/form/samples/compact-named-export/_expected/umd.js
index c9b3a51f7..7edaad31a 100644
--- a/test/form/samples/compact-named-export/_expected/umd.js
+++ b/test/form/samples/compact-named-export/_expected/umd.js
@@ -1,5 +1,5 @@
-(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(exports):typeof define==='function'&&define.amd?define(['exports'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,f(g.foo={}));}(this,(function(exports){'use strict';exports.x = 42;
+(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(exports):typeof define==='function'&&define.amd?define(['exports'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,f(g.foo={}));})(this,(function(exports){'use strict';exports.x = 42;
 exports.x+=1;
 exports.x=exports.x+1;
 exports.x++;
-++exports.x;Object.defineProperty(exports,'__esModule',{value:true});})));
\ No newline at end of file
+++exports.x;Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/compact/_expected/amd.js b/test/form/samples/compact/_expected/amd.js
index bb7bdd225..99dc1f8d1 100644
--- a/test/form/samples/compact/_expected/amd.js
+++ b/test/form/samples/compact/_expected/amd.js
@@ -1,6 +1,6 @@
-define(['external'],function(x){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e:{'default':e}}var x__default=/*#__PURE__*/_interopDefaultLegacy(x);var self=/*#__PURE__*/Object.freeze({__proto__:null,[Symbol.toStringTag]:'Module',get default(){return foo}});console.log(self);
+define(['external'],(function(x){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e:{'default':e}}var x__default=/*#__PURE__*/_interopDefaultLegacy(x);var self=/*#__PURE__*/Object.freeze({__proto__:null,[Symbol.toStringTag]:'Module',get default(){return foo}});console.log(self);
 function foo () {
-	console.log( x__default['default'] );
+	console.log( x__default["default"] );
 }
 // trailing comment
-return foo;});
\ No newline at end of file
+return foo;}));
\ No newline at end of file
diff --git a/test/form/samples/compact/_expected/cjs.js b/test/form/samples/compact/_expected/cjs.js
index c35561735..12bda9bd8 100644
--- a/test/form/samples/compact/_expected/cjs.js
+++ b/test/form/samples/compact/_expected/cjs.js
@@ -1,6 +1,6 @@
 'use strict';var x=require('external');function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e:{'default':e}}var x__default=/*#__PURE__*/_interopDefaultLegacy(x);var self=/*#__PURE__*/Object.freeze({__proto__:null,[Symbol.toStringTag]:'Module',get default(){return foo}});console.log(self);
 function foo () {
-	console.log( x__default['default'] );
+	console.log( x__default["default"] );
 }
 // trailing comment
 module.exports=foo;
\ No newline at end of file
diff --git a/test/form/samples/compact/_expected/iife.js b/test/form/samples/compact/_expected/iife.js
index 53166a61f..3c191ecbe 100644
--- a/test/form/samples/compact/_expected/iife.js
+++ b/test/form/samples/compact/_expected/iife.js
@@ -1,6 +1,6 @@
 var foo=(function(x){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e:{'default':e}}var x__default=/*#__PURE__*/_interopDefaultLegacy(x);var self=/*#__PURE__*/Object.freeze({__proto__:null,[Symbol.toStringTag]:'Module',get default(){return foo}});console.log(self);
 function foo () {
-	console.log( x__default['default'] );
+	console.log( x__default["default"] );
 }
 // trailing comment
-return foo;}(x));
\ No newline at end of file
+return foo;})(x);
\ No newline at end of file
diff --git a/test/form/samples/compact/_expected/system.js b/test/form/samples/compact/_expected/system.js
index 31cc2cf03..9211a59a5 100644
--- a/test/form/samples/compact/_expected/system.js
+++ b/test/form/samples/compact/_expected/system.js
@@ -1,6 +1,6 @@
-System.register('foo',['external'],function(exports){'use strict';var x;return{setters:[function(module){x=module.default;}],execute:function(){exports('default',foo);var self=/*#__PURE__*/Object.freeze({__proto__:null,[Symbol.toStringTag]:'Module',get default(){return foo}});console.log(self);
+System.register('foo',['external'],(function(exports){'use strict';var x;return{setters:[function(module){x=module["default"];}],execute:(function(){exports('default',foo);var self=/*#__PURE__*/Object.freeze({__proto__:null,[Symbol.toStringTag]:'Module',get default(){return foo}});console.log(self);
 function foo () {
 	console.log( x );
 }
 // trailing comment
-}}});
\ No newline at end of file
+})}}));
\ No newline at end of file
diff --git a/test/form/samples/compact/_expected/umd.js b/test/form/samples/compact/_expected/umd.js
index 7eb8da259..508ad1eeb 100644
--- a/test/form/samples/compact/_expected/umd.js
+++ b/test/form/samples/compact/_expected/umd.js
@@ -1,6 +1,6 @@
-(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?module.exports=f(require('external')):typeof define==='function'&&define.amd?define(['external'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,g.foo=f(g.x));}(this,(function(x){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e:{'default':e}}var x__default=/*#__PURE__*/_interopDefaultLegacy(x);var self=/*#__PURE__*/Object.freeze({__proto__:null,[Symbol.toStringTag]:'Module',get default(){return foo}});console.log(self);
+(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?module.exports=f(require('external')):typeof define==='function'&&define.amd?define(['external'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,g.foo=f(g.x));})(this,(function(x){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e:{'default':e}}var x__default=/*#__PURE__*/_interopDefaultLegacy(x);var self=/*#__PURE__*/Object.freeze({__proto__:null,[Symbol.toStringTag]:'Module',get default(){return foo}});console.log(self);
 function foo () {
-	console.log( x__default['default'] );
+	console.log( x__default["default"] );
 }
 // trailing comment
-return foo;})));
\ No newline at end of file
+return foo;}));
\ No newline at end of file
diff --git a/test/form/samples/computed-properties/_expected/amd.js b/test/form/samples/computed-properties/_expected/amd.js
index b1a333f8b..40333eee9 100644
--- a/test/form/samples/computed-properties/_expected/amd.js
+++ b/test/form/samples/computed-properties/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var foo = 'foo';
 	var bar = 'bar';
@@ -18,4 +18,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/computed-properties/_expected/iife.js b/test/form/samples/computed-properties/_expected/iife.js
index c6d332db6..8ea16e570 100644
--- a/test/form/samples/computed-properties/_expected/iife.js
+++ b/test/form/samples/computed-properties/_expected/iife.js
@@ -21,4 +21,4 @@ var computedProperties = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/computed-properties/_expected/system.js b/test/form/samples/computed-properties/_expected/system.js
index 5b417b1ca..818a8be93 100644
--- a/test/form/samples/computed-properties/_expected/system.js
+++ b/test/form/samples/computed-properties/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('computedProperties', [], function (exports) {
+System.register('computedProperties', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = 'foo';
 			var bar = 'bar';
@@ -16,6 +16,6 @@ System.register('computedProperties', [], function (exports) {
 				set [bam] ( value ) {}
 			} exports('X', X);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/computed-properties/_expected/umd.js b/test/form/samples/computed-properties/_expected/umd.js
index 2dc079505..27dd4ba1d 100644
--- a/test/form/samples/computed-properties/_expected/umd.js
+++ b/test/form/samples/computed-properties/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.computedProperties = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	var foo = 'foo';
 	var bar = 'bar';
@@ -22,4 +22,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/configure-file-url/_expected/amd.js b/test/form/samples/configure-file-url/_expected/amd.js
index ecd6bd1ac..2c00510ea 100644
--- a/test/form/samples/configure-file-url/_expected/amd.js
+++ b/test/form/samples/configure-file-url/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	var asset1 = 'chunkId=amd.js:moduleId=solved:fileName=assets/asset-solved-28a7ac89.txt:format=amd:relativePath=assets/asset-solved-28a7ac89.txt:referenceId=6296c678';
 
@@ -8,4 +8,4 @@ define(['require'], function (require) { 'use strict';
 
 	console.log(asset1, asset2, asset3);
 
-});
+}));
diff --git a/test/form/samples/configure-file-url/_expected/iife.js b/test/form/samples/configure-file-url/_expected/iife.js
index 0453c7222..a5870ddb6 100644
--- a/test/form/samples/configure-file-url/_expected/iife.js
+++ b/test/form/samples/configure-file-url/_expected/iife.js
@@ -9,4 +9,4 @@
 
 	console.log(asset1, asset2, asset3);
 
-}());
+})();
diff --git a/test/form/samples/configure-file-url/_expected/system.js b/test/form/samples/configure-file-url/_expected/system.js
index 975f1607f..6ed9c1c13 100644
--- a/test/form/samples/configure-file-url/_expected/system.js
+++ b/test/form/samples/configure-file-url/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var asset1 = 'chunkId=system.js:moduleId=solved:fileName=assets/asset-solved-28a7ac89.txt:format=system:relativePath=assets/asset-solved-28a7ac89.txt:referenceId=6296c678';
 
@@ -11,6 +11,6 @@ System.register([], function (exports, module) {
 
 			console.log(asset1, asset2, asset3);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/configure-file-url/_expected/umd.js b/test/form/samples/configure-file-url/_expected/umd.js
index 9a08ce0cf..cc804e1ca 100644
--- a/test/form/samples/configure-file-url/_expected/umd.js
+++ b/test/form/samples/configure-file-url/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var asset1 = 'chunkId=umd.js:moduleId=solved:fileName=assets/asset-solved-28a7ac89.txt:format=umd:relativePath=assets/asset-solved-28a7ac89.txt:referenceId=6296c678';
 
@@ -11,4 +11,4 @@
 
 	console.log(asset1, asset2, asset3);
 
-})));
+}));
diff --git a/test/form/samples/conflicting-imports/_expected/amd.js b/test/form/samples/conflicting-imports/_expected/amd.js
index f05127887..c8f8eadc2 100644
--- a/test/form/samples/conflicting-imports/_expected/amd.js
+++ b/test/form/samples/conflicting-imports/_expected/amd.js
@@ -1,7 +1,7 @@
-define(['foo', 'bar'], function (foo, bar) { 'use strict';
+define(['foo', 'bar'], (function (foo, bar) { 'use strict';
 
 	console.log( bar.a );
 
 	console.log( foo.a );
 
-});
+}));
diff --git a/test/form/samples/conflicting-imports/_expected/iife.js b/test/form/samples/conflicting-imports/_expected/iife.js
index a5ef4fbff..13a9a66a0 100644
--- a/test/form/samples/conflicting-imports/_expected/iife.js
+++ b/test/form/samples/conflicting-imports/_expected/iife.js
@@ -5,4 +5,4 @@
 
 	console.log( foo.a );
 
-}(foo, bar));
+})(foo, bar);
diff --git a/test/form/samples/conflicting-imports/_expected/system.js b/test/form/samples/conflicting-imports/_expected/system.js
index f3cc9c27a..815a40759 100644
--- a/test/form/samples/conflicting-imports/_expected/system.js
+++ b/test/form/samples/conflicting-imports/_expected/system.js
@@ -1,4 +1,4 @@
-System.register(['foo', 'bar'], function () {
+System.register(['foo', 'bar'], (function () {
 	'use strict';
 	var a$1, a;
 	return {
@@ -7,12 +7,12 @@ System.register(['foo', 'bar'], function () {
 		}, function (module) {
 			a = module.a;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log( a );
 
 			console.log( a$1 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/conflicting-imports/_expected/umd.js b/test/form/samples/conflicting-imports/_expected/umd.js
index 656a6dcf5..b5d4e6a6e 100644
--- a/test/form/samples/conflicting-imports/_expected/umd.js
+++ b/test/form/samples/conflicting-imports/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('foo'), require('bar')) :
 	typeof define === 'function' && define.amd ? define(['foo', 'bar'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.foo, global.bar));
-}(this, (function (foo, bar) { 'use strict';
+})(this, (function (foo, bar) { 'use strict';
 
 	console.log( bar.a );
 
 	console.log( foo.a );
 
-})));
+}));
diff --git a/test/form/samples/custom-context/_expected/amd.js b/test/form/samples/custom-context/_expected/amd.js
index a160d17a1..9968330c8 100644
--- a/test/form/samples/custom-context/_expected/amd.js
+++ b/test/form/samples/custom-context/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	lolwut.prop = '???';
 
-});
+}));
diff --git a/test/form/samples/custom-context/_expected/iife.js b/test/form/samples/custom-context/_expected/iife.js
index a41619eb4..777399a6e 100644
--- a/test/form/samples/custom-context/_expected/iife.js
+++ b/test/form/samples/custom-context/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	lolwut.prop = '???';
 
-}());
+})();
diff --git a/test/form/samples/custom-context/_expected/system.js b/test/form/samples/custom-context/_expected/system.js
index c06b894ca..94e34efa2 100644
--- a/test/form/samples/custom-context/_expected/system.js
+++ b/test/form/samples/custom-context/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			lolwut.prop = '???';
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/custom-context/_expected/umd.js b/test/form/samples/custom-context/_expected/umd.js
index 6273fa128..35aa2a55f 100644
--- a/test/form/samples/custom-context/_expected/umd.js
+++ b/test/form/samples/custom-context/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	lolwut.prop = '???';
 
-})));
+}));
diff --git a/test/form/samples/custom-dynamic-import-no-interop/_expected/amd.js b/test/form/samples/custom-dynamic-import-no-interop/_expected/amd.js
index a2e3f58e8..49353506f 100644
--- a/test/form/samples/custom-dynamic-import-no-interop/_expected/amd.js
+++ b/test/form/samples/custom-dynamic-import-no-interop/_expected/amd.js
@@ -1,5 +1,5 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	getIt('external').then(console.log);
 
-});
+}));
diff --git a/test/form/samples/custom-dynamic-import-no-interop/_expected/iife.js b/test/form/samples/custom-dynamic-import-no-interop/_expected/iife.js
index 2450cf6aa..638e6d394 100644
--- a/test/form/samples/custom-dynamic-import-no-interop/_expected/iife.js
+++ b/test/form/samples/custom-dynamic-import-no-interop/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	getIt('external').then(console.log);
 
-}());
+})();
diff --git a/test/form/samples/custom-dynamic-import-no-interop/_expected/system.js b/test/form/samples/custom-dynamic-import-no-interop/_expected/system.js
index b95737795..21dfaf0f4 100644
--- a/test/form/samples/custom-dynamic-import-no-interop/_expected/system.js
+++ b/test/form/samples/custom-dynamic-import-no-interop/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			getIt('external').then(console.log);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/custom-dynamic-import-no-interop/_expected/umd.js b/test/form/samples/custom-dynamic-import-no-interop/_expected/umd.js
index ae1c25b22..7a2220256 100644
--- a/test/form/samples/custom-dynamic-import-no-interop/_expected/umd.js
+++ b/test/form/samples/custom-dynamic-import-no-interop/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	getIt('external').then(console.log);
 
-})));
+}));
diff --git a/test/form/samples/custom-module-context/_expected/amd.js b/test/form/samples/custom-module-context/_expected/amd.js
index 92747997f..c13531e43 100644
--- a/test/form/samples/custom-module-context/_expected/amd.js
+++ b/test/form/samples/custom-module-context/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	undefined.prop = 'nope';
 
 	lolwut.prop = '???';
 
-});
+}));
diff --git a/test/form/samples/custom-module-context/_expected/iife.js b/test/form/samples/custom-module-context/_expected/iife.js
index 7926fe6e7..384c61401 100644
--- a/test/form/samples/custom-module-context/_expected/iife.js
+++ b/test/form/samples/custom-module-context/_expected/iife.js
@@ -5,4 +5,4 @@
 
 	lolwut.prop = '???';
 
-}());
+})();
diff --git a/test/form/samples/custom-module-context/_expected/system.js b/test/form/samples/custom-module-context/_expected/system.js
index 1e323399d..5c1452338 100644
--- a/test/form/samples/custom-module-context/_expected/system.js
+++ b/test/form/samples/custom-module-context/_expected/system.js
@@ -1,12 +1,12 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			undefined.prop = 'nope';
 
 			lolwut.prop = '???';
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/custom-module-context/_expected/umd.js b/test/form/samples/custom-module-context/_expected/umd.js
index 79188921e..028ee9965 100644
--- a/test/form/samples/custom-module-context/_expected/umd.js
+++ b/test/form/samples/custom-module-context/_expected/umd.js
@@ -1,10 +1,10 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	undefined.prop = 'nope';
 
 	lolwut.prop = '???';
 
-})));
+}));
diff --git a/test/form/samples/deconflict-format-specific-exports/_expected/amd.js b/test/form/samples/deconflict-format-specific-exports/_expected/amd.js
index e060619b1..5fea2c3ba 100644
--- a/test/form/samples/deconflict-format-specific-exports/_expected/amd.js
+++ b/test/form/samples/deconflict-format-specific-exports/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const exports$1 = {
 		x: 42
@@ -26,4 +26,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/deconflict-format-specific-exports/_expected/iife.js b/test/form/samples/deconflict-format-specific-exports/_expected/iife.js
index 5ffcc33e9..a256ea4a9 100644
--- a/test/form/samples/deconflict-format-specific-exports/_expected/iife.js
+++ b/test/form/samples/deconflict-format-specific-exports/_expected/iife.js
@@ -29,4 +29,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/deconflict-format-specific-exports/_expected/system.js b/test/form/samples/deconflict-format-specific-exports/_expected/system.js
index 75f0b444c..ccbb364a0 100644
--- a/test/form/samples/deconflict-format-specific-exports/_expected/system.js
+++ b/test/form/samples/deconflict-format-specific-exports/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const exports$1 = {
 				x: 42
@@ -27,6 +27,6 @@ System.register('bundle', [], function (exports) {
 			nestedConflict();
 			nestedNoConflict();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deconflict-format-specific-exports/_expected/umd.js b/test/form/samples/deconflict-format-specific-exports/_expected/umd.js
index 75d2fee10..bb5430f05 100644
--- a/test/form/samples/deconflict-format-specific-exports/_expected/umd.js
+++ b/test/form/samples/deconflict-format-specific-exports/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const exports$1 = {
 		x: 42
@@ -30,4 +30,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/deconflict-format-specific-globals/_expected/amd.js b/test/form/samples/deconflict-format-specific-globals/_expected/amd.js
index dc8722904..a548bef9e 100644
--- a/test/form/samples/deconflict-format-specific-globals/_expected/amd.js
+++ b/test/form/samples/deconflict-format-specific-globals/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['module', 'require', 'external'], function (module, require, external) { 'use strict';
+define(['module', 'require', 'external'], (function (module, require, external) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -11,20 +11,18 @@ define(['module', 'require', 'external'], function (module, require, external) {
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
 	var external__default = /*#__PURE__*/_interopDefaultLegacy(external);
 
-	console.log(external__default['default']);
+	console.log(external__default["default"]);
 
 	const _interopDefault$1 = 1;
 	const _interopNamespace$1 = 1;
@@ -35,8 +33,8 @@ define(['module', 'require', 'external'], function (module, require, external) {
 	const URL$1 = 1;
 	console.log(_interopDefault$1, _interopNamespace$1, module$1, require$1, exports$1, document$1, URL$1);
 
-	new Promise(function (resolve, reject) { require(['external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) }).then(console.log);
-	exports['default'] = 0;
+	new Promise(function (resolve, reject) { require(['external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }).then(console.log);
+	exports["default"] = 0;
 	console.log(new URL(module.uri, document.baseURI).href);
 
 	function nested1() {
@@ -49,8 +47,8 @@ define(['module', 'require', 'external'], function (module, require, external) {
 		const URL$1 = 1;
 		console.log(_interopDefault, _interopNamespace$1, module$1, require$1, exports$1, document$1, URL$1);
 
-		new Promise(function (resolve, reject) { require(['external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) }).then(console.log);
-		exports['default'] = 1;
+		new Promise(function (resolve, reject) { require(['external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }).then(console.log);
+		exports["default"] = 1;
 		console.log(new URL(module.uri, document.baseURI).href);
 	}
 
@@ -69,6 +67,6 @@ define(['module', 'require', 'external'], function (module, require, external) {
 
 	nested2();
 
-	return exports['default'];
+	return exports["default"];
 
-});
+}));
diff --git a/test/form/samples/deconflict-format-specific-globals/_expected/cjs.js b/test/form/samples/deconflict-format-specific-globals/_expected/cjs.js
index ee8ed5ba7..ecbd16ad0 100644
--- a/test/form/samples/deconflict-format-specific-globals/_expected/cjs.js
+++ b/test/form/samples/deconflict-format-specific-globals/_expected/cjs.js
@@ -13,20 +13,18 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
 var external__default = /*#__PURE__*/_interopDefaultLegacy(external);
 
-console.log(external__default['default']);
+console.log(external__default["default"]);
 
 const _interopDefault$1 = 1;
 const _interopNamespace$1 = 1;
@@ -38,7 +36,7 @@ const URL$1 = 1;
 console.log(_interopDefault$1, _interopNamespace$1, module$1, require$1, exports$1, document$1, URL$1);
 
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('external')); }).then(console.log);
-exports['default'] = 0;
+exports["default"] = 0;
 console.log((typeof document === 'undefined' ? new (require('u' + 'rl').URL)('file:' + __filename).href : (document.currentScript && document.currentScript.src || new URL('cjs.js', document.baseURI).href)));
 
 function nested1() {
@@ -52,7 +50,7 @@ function nested1() {
 	console.log(_interopDefault, _interopNamespace$1, module, require$1, exports$1, document$1, URL$1);
 
 	Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('external')); }).then(console.log);
-	exports['default'] = 1;
+	exports["default"] = 1;
 	console.log((typeof document === 'undefined' ? new (require('u' + 'rl').URL)('file:' + __filename).href : (document.currentScript && document.currentScript.src || new URL('cjs.js', document.baseURI).href)));
 }
 
@@ -71,4 +69,4 @@ function nested2() {
 
 nested2();
 
-module.exports = exports['default'];
+module.exports = exports["default"];
diff --git a/test/form/samples/deconflict-format-specific-globals/_expected/iife.js b/test/form/samples/deconflict-format-specific-globals/_expected/iife.js
index db6f1736e..c0c6dfe66 100644
--- a/test/form/samples/deconflict-format-specific-globals/_expected/iife.js
+++ b/test/form/samples/deconflict-format-specific-globals/_expected/iife.js
@@ -5,7 +5,7 @@ var bundle = (function (external) {
 
 	var external__default = /*#__PURE__*/_interopDefaultLegacy(external);
 
-	console.log(external__default['default']);
+	console.log(external__default["default"]);
 
 	const _interopDefault$1 = 1;
 	const _interopNamespace$1 = 1;
@@ -17,7 +17,7 @@ var bundle = (function (external) {
 	console.log(_interopDefault$1, _interopNamespace$1, module, require, exports$1, document$1, URL$1);
 
 	import('external').then(console.log);
-	exports['default'] = 0;
+	exports["default"] = 0;
 	console.log((document.currentScript && document.currentScript.src || new URL('iife.js', document.baseURI).href));
 
 	function nested1() {
@@ -31,7 +31,7 @@ var bundle = (function (external) {
 		console.log(_interopDefault, _interopNamespace, module, require, exports$1, document$1, URL$1);
 
 		import('external').then(console.log);
-		exports['default'] = 1;
+		exports["default"] = 1;
 		console.log((document.currentScript && document.currentScript.src || new URL('iife.js', document.baseURI).href));
 	}
 
@@ -50,6 +50,6 @@ var bundle = (function (external) {
 
 	nested2();
 
-	return exports['default'];
+	return exports["default"];
 
-}(external));
+})(external);
diff --git a/test/form/samples/deconflict-format-specific-globals/_expected/system.js b/test/form/samples/deconflict-format-specific-globals/_expected/system.js
index 7be54025e..08fa3a225 100644
--- a/test/form/samples/deconflict-format-specific-globals/_expected/system.js
+++ b/test/form/samples/deconflict-format-specific-globals/_expected/system.js
@@ -1,11 +1,11 @@
-System.register('bundle', ['external'], function (exports, module) {
+System.register('bundle', ['external'], (function (exports, module) {
 	'use strict';
 	var external;
 	return {
 		setters: [function (module) {
-			external = module.default;
+			external = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(external);
 
@@ -52,6 +52,6 @@ System.register('bundle', ['external'], function (exports, module) {
 
 			nested2();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deconflict-format-specific-globals/_expected/umd.js b/test/form/samples/deconflict-format-specific-globals/_expected/umd.js
index d3dffc20e..a3841bdca 100644
--- a/test/form/samples/deconflict-format-specific-globals/_expected/umd.js
+++ b/test/form/samples/deconflict-format-specific-globals/_expected/umd.js
@@ -2,13 +2,13 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('external')) :
 	typeof define === 'function' && define.amd ? define(['external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.bundle = factory(global.external));
-}(this, (function (external) { 'use strict';
+})(this, (function (external) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var external__default = /*#__PURE__*/_interopDefaultLegacy(external);
 
-	console.log(external__default['default']);
+	console.log(external__default["default"]);
 
 	const _interopDefault$1 = 1;
 	const _interopNamespace$1 = 1;
@@ -20,7 +20,7 @@
 	console.log(_interopDefault$1, _interopNamespace$1, module, require$1, exports$1, document$1, URL$1);
 
 	import('external').then(console.log);
-	exports['default'] = 0;
+	exports["default"] = 0;
 	console.log((typeof document === 'undefined' && typeof location === 'undefined' ? new (require('u' + 'rl').URL)('file:' + __filename).href : typeof document === 'undefined' ? location.href : (document.currentScript && document.currentScript.src || new URL('umd.js', document.baseURI).href)));
 
 	function nested1() {
@@ -34,7 +34,7 @@
 		console.log(_interopDefault, _interopNamespace, module, require$1, exports$1, document$1, URL$1);
 
 		import('external').then(console.log);
-		exports['default'] = 1;
+		exports["default"] = 1;
 		console.log((typeof document === 'undefined' && typeof location === 'undefined' ? new (require('u' + 'rl').URL)('file:' + __filename).href : typeof document === 'undefined' ? location.href : (document.currentScript && document.currentScript.src || new URL('umd.js', document.baseURI).href)));
 	}
 
@@ -53,6 +53,6 @@
 
 	nested2();
 
-	return exports['default'];
+	return exports["default"];
 
-})));
+}));
diff --git a/test/form/samples/dedupes-external-imports/_expected/amd.js b/test/form/samples/dedupes-external-imports/_expected/amd.js
index 3a2d1bc8a..153c87bcb 100644
--- a/test/form/samples/dedupes-external-imports/_expected/amd.js
+++ b/test/form/samples/dedupes-external-imports/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external'], function (exports, external) { 'use strict';
+define(['exports', 'external'], (function (exports, external) { 'use strict';
 
 	class Foo extends external.Component {
 		constructor () {
@@ -31,4 +31,4 @@ define(['exports', 'external'], function (exports, external) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/dedupes-external-imports/_expected/iife.js b/test/form/samples/dedupes-external-imports/_expected/iife.js
index c075acfa3..c525bfb78 100644
--- a/test/form/samples/dedupes-external-imports/_expected/iife.js
+++ b/test/form/samples/dedupes-external-imports/_expected/iife.js
@@ -34,4 +34,4 @@ var myBundle = (function (exports, external) {
 
 	return exports;
 
-}({}, external));
+})({}, external);
diff --git a/test/form/samples/dedupes-external-imports/_expected/system.js b/test/form/samples/dedupes-external-imports/_expected/system.js
index 26d44c1ff..7638b9fa8 100644
--- a/test/form/samples/dedupes-external-imports/_expected/system.js
+++ b/test/form/samples/dedupes-external-imports/_expected/system.js
@@ -1,11 +1,11 @@
-System.register('myBundle', ['external'], function (exports) {
+System.register('myBundle', ['external'], (function (exports) {
 	'use strict';
 	var Component;
 	return {
 		setters: [function (module) {
 			Component = module.Component;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			class Foo extends Component {
 				constructor () {
@@ -32,6 +32,6 @@ System.register('myBundle', ['external'], function (exports) {
 			const bar = exports('bar', new Bar());
 			const baz = exports('baz', new Baz());
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/dedupes-external-imports/_expected/umd.js b/test/form/samples/dedupes-external-imports/_expected/umd.js
index 740ffc455..529c85fa6 100644
--- a/test/form/samples/dedupes-external-imports/_expected/umd.js
+++ b/test/form/samples/dedupes-external-imports/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}, global.external));
-}(this, (function (exports, external) { 'use strict';
+})(this, (function (exports, external) { 'use strict';
 
 	class Foo extends external.Component {
 		constructor () {
@@ -35,4 +35,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/default-export-class/_expected/amd.js b/test/form/samples/default-export-class/_expected/amd.js
index 74b32fc6c..4b27076c0 100644
--- a/test/form/samples/default-export-class/_expected/amd.js
+++ b/test/form/samples/default-export-class/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	class main {
 		constructor() {
@@ -8,4 +8,4 @@ define(function () { 'use strict';
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/default-export-class/_expected/iife.js b/test/form/samples/default-export-class/_expected/iife.js
index 2c4c7f70f..35ede8214 100644
--- a/test/form/samples/default-export-class/_expected/iife.js
+++ b/test/form/samples/default-export-class/_expected/iife.js
@@ -9,4 +9,4 @@ var bundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/default-export-class/_expected/system.js b/test/form/samples/default-export-class/_expected/system.js
index 417f2e3ff..784dbcea4 100644
--- a/test/form/samples/default-export-class/_expected/system.js
+++ b/test/form/samples/default-export-class/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			class main {
 				constructor() {
@@ -9,6 +9,6 @@ System.register('bundle', [], function (exports) {
 				}
 			} exports('default', main);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/default-export-class/_expected/umd.js b/test/form/samples/default-export-class/_expected/umd.js
index abcf315ed..4ea43442c 100644
--- a/test/form/samples/default-export-class/_expected/umd.js
+++ b/test/form/samples/default-export-class/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.bundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	class main {
 		constructor() {
@@ -12,4 +12,4 @@
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/default-export-live-binding/_expected/amd.js b/test/form/samples/default-export-live-binding/_expected/amd.js
index dcf3f3e73..91df14f84 100644
--- a/test/form/samples/default-export-live-binding/_expected/amd.js
+++ b/test/form/samples/default-export-live-binding/_expected/amd.js
@@ -1,10 +1,10 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
-	exports['default'] = null;
-	const setFoo = value => (exports['default'] = value);
+	exports["default"] = null;
+	const setFoo = value => (exports["default"] = value);
 
 	exports.setFoo = setFoo;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/default-export-live-binding/_expected/cjs.js b/test/form/samples/default-export-live-binding/_expected/cjs.js
index 19777b379..cbbe451a7 100644
--- a/test/form/samples/default-export-live-binding/_expected/cjs.js
+++ b/test/form/samples/default-export-live-binding/_expected/cjs.js
@@ -2,7 +2,7 @@
 
 Object.defineProperty(exports, '__esModule', { value: true });
 
-exports['default'] = null;
-const setFoo = value => (exports['default'] = value);
+exports["default"] = null;
+const setFoo = value => (exports["default"] = value);
 
 exports.setFoo = setFoo;
diff --git a/test/form/samples/default-export-live-binding/_expected/iife.js b/test/form/samples/default-export-live-binding/_expected/iife.js
index 6a7407347..39c46ea59 100644
--- a/test/form/samples/default-export-live-binding/_expected/iife.js
+++ b/test/form/samples/default-export-live-binding/_expected/iife.js
@@ -1,8 +1,8 @@
 var bundle = (function (exports) {
 	'use strict';
 
-	exports['default'] = null;
-	const setFoo = value => (exports['default'] = value);
+	exports["default"] = null;
+	const setFoo = value => (exports["default"] = value);
 
 	exports.setFoo = setFoo;
 
@@ -10,4 +10,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/default-export-live-binding/_expected/system.js b/test/form/samples/default-export-live-binding/_expected/system.js
index 913dacc4c..46529571a 100644
--- a/test/form/samples/default-export-live-binding/_expected/system.js
+++ b/test/form/samples/default-export-live-binding/_expected/system.js
@@ -1,11 +1,11 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			let foo = exports('default', null);
 			const setFoo = exports('setFoo', value => (exports('default', foo = value)));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/default-export-live-binding/_expected/umd.js b/test/form/samples/default-export-live-binding/_expected/umd.js
index 6aa6c152f..31c1ad6e4 100644
--- a/test/form/samples/default-export-live-binding/_expected/umd.js
+++ b/test/form/samples/default-export-live-binding/_expected/umd.js
@@ -2,13 +2,13 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
-	exports['default'] = null;
-	const setFoo = value => (exports['default'] = value);
+	exports["default"] = null;
+	const setFoo = value => (exports["default"] = value);
 
 	exports.setFoo = setFoo;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/default-export-mode/_expected/amd.js b/test/form/samples/default-export-mode/_expected/amd.js
index 37d25711e..538fc7738 100644
--- a/test/form/samples/default-export-mode/_expected/amd.js
+++ b/test/form/samples/default-export-mode/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/default-export-mode/_expected/iife.js b/test/form/samples/default-export-mode/_expected/iife.js
index 3578ebdc1..587b0a95f 100644
--- a/test/form/samples/default-export-mode/_expected/iife.js
+++ b/test/form/samples/default-export-mode/_expected/iife.js
@@ -5,4 +5,4 @@ var bundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/default-export-mode/_expected/system.js b/test/form/samples/default-export-mode/_expected/system.js
index 6d902c534..190c439ed 100644
--- a/test/form/samples/default-export-mode/_expected/system.js
+++ b/test/form/samples/default-export-mode/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/default-export-mode/_expected/umd.js b/test/form/samples/default-export-mode/_expected/umd.js
index 0bfa72299..f0c0c0dd3 100644
--- a/test/form/samples/default-export-mode/_expected/umd.js
+++ b/test/form/samples/default-export-mode/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.bundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/default-identifier-deshadowing/_expected/amd.js b/test/form/samples/default-identifier-deshadowing/_expected/amd.js
index 230f6ee68..09b1c3a5d 100644
--- a/test/form/samples/default-identifier-deshadowing/_expected/amd.js
+++ b/test/form/samples/default-identifier-deshadowing/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
   function a() {
     a = someGlobal;
@@ -7,4 +7,4 @@ define(function () { 'use strict';
 
   a();
 
-});
+}));
diff --git a/test/form/samples/default-identifier-deshadowing/_expected/iife.js b/test/form/samples/default-identifier-deshadowing/_expected/iife.js
index 2648f6d25..dfd62b015 100644
--- a/test/form/samples/default-identifier-deshadowing/_expected/iife.js
+++ b/test/form/samples/default-identifier-deshadowing/_expected/iife.js
@@ -8,4 +8,4 @@
 
   a();
 
-}());
+})();
diff --git a/test/form/samples/default-identifier-deshadowing/_expected/system.js b/test/form/samples/default-identifier-deshadowing/_expected/system.js
index 874a7969d..ec8057956 100644
--- a/test/form/samples/default-identifier-deshadowing/_expected/system.js
+++ b/test/form/samples/default-identifier-deshadowing/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       function a() {
         a = someGlobal;
@@ -10,6 +10,6 @@ System.register([], function () {
 
       a();
 
-    }
+    })
   };
-});
+}));
diff --git a/test/form/samples/default-identifier-deshadowing/_expected/umd.js b/test/form/samples/default-identifier-deshadowing/_expected/umd.js
index 84fe8f702..0a402ebb5 100644
--- a/test/form/samples/default-identifier-deshadowing/_expected/umd.js
+++ b/test/form/samples/default-identifier-deshadowing/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
   typeof define === 'function' && define.amd ? define(factory) :
   factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
   function a() {
     a = someGlobal;
@@ -10,4 +10,4 @@
 
   a();
 
-})));
+}));
diff --git a/test/form/samples/define-es-modules-false/_expected/amd.js b/test/form/samples/define-es-modules-false/_expected/amd.js
index ce1360181..8677959a0 100644
--- a/test/form/samples/define-es-modules-false/_expected/amd.js
+++ b/test/form/samples/define-es-modules-false/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const make1 = () => {};
 
@@ -7,4 +7,4 @@ define(['exports'], function (exports) { 'use strict';
 	exports.make1 = make1;
 	exports.make2 = make2;
 
-});
+}));
diff --git a/test/form/samples/define-es-modules-false/_expected/iife.js b/test/form/samples/define-es-modules-false/_expected/iife.js
index 1968288c0..052cc3dfd 100644
--- a/test/form/samples/define-es-modules-false/_expected/iife.js
+++ b/test/form/samples/define-es-modules-false/_expected/iife.js
@@ -10,4 +10,4 @@ var foo = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/define-es-modules-false/_expected/system.js b/test/form/samples/define-es-modules-false/_expected/system.js
index e615e3599..3d3c9da59 100644
--- a/test/form/samples/define-es-modules-false/_expected/system.js
+++ b/test/form/samples/define-es-modules-false/_expected/system.js
@@ -1,12 +1,12 @@
-System.register('foo', [], function (exports) {
+System.register('foo', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const make1 = exports('make1', () => {});
 
 			const make2 = exports('make2', () => {});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/define-es-modules-false/_expected/umd.js b/test/form/samples/define-es-modules-false/_expected/umd.js
index 17898ff1e..5657e9662 100644
--- a/test/form/samples/define-es-modules-false/_expected/umd.js
+++ b/test/form/samples/define-es-modules-false/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.foo = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const make1 = () => {};
 
@@ -11,4 +11,4 @@
 	exports.make1 = make1;
 	exports.make2 = make2;
 
-})));
+}));
diff --git a/test/form/samples/define-replacement/_expected/amd.js b/test/form/samples/define-replacement/_expected/amd.js
index 59833b033..b5cfe37c5 100644
--- a/test/form/samples/define-replacement/_expected/amd.js
+++ b/test/form/samples/define-replacement/_expected/amd.js
@@ -1,4 +1,4 @@
-enifed(function () { 'use strict';
+enifed((function () { 'use strict';
 
     var a = () => {
         console.log('props');
@@ -7,4 +7,4 @@ enifed(function () { 'use strict';
     a();
     a();
 
-});
+}));
diff --git a/test/form/samples/define-replacement/_expected/iife.js b/test/form/samples/define-replacement/_expected/iife.js
index 46c38fba3..c6900c648 100644
--- a/test/form/samples/define-replacement/_expected/iife.js
+++ b/test/form/samples/define-replacement/_expected/iife.js
@@ -8,4 +8,4 @@
     a();
     a();
 
-}());
+})();
diff --git a/test/form/samples/define-replacement/_expected/system.js b/test/form/samples/define-replacement/_expected/system.js
index 349af9353..32ad9c3e7 100644
--- a/test/form/samples/define-replacement/_expected/system.js
+++ b/test/form/samples/define-replacement/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
     'use strict';
     return {
-        execute: function () {
+        execute: (function () {
 
             var a = () => {
                 console.log('props');
@@ -10,6 +10,6 @@ System.register([], function () {
             a();
             a();
 
-        }
+        })
     };
-});
+}));
diff --git a/test/form/samples/define-replacement/_expected/umd.js b/test/form/samples/define-replacement/_expected/umd.js
index 494fde640..e821769cd 100644
--- a/test/form/samples/define-replacement/_expected/umd.js
+++ b/test/form/samples/define-replacement/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
     typeof enifed === 'function' && enifed.amd ? enifed(factory) :
     factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
     var a = () => {
         console.log('props');
@@ -10,4 +10,4 @@
     a();
     a();
 
-})));
+}));
diff --git a/test/form/samples/deprecated/configure-asset-url/_expected/amd.js b/test/form/samples/deprecated/configure-asset-url/_expected/amd.js
index 60d09eb02..8c55f93c1 100644
--- a/test/form/samples/deprecated/configure-asset-url/_expected/amd.js
+++ b/test/form/samples/deprecated/configure-asset-url/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	var asset1 = 'amd.js:solved:assets/asset-solved-28a7ac89.txt:assets/asset-solved-28a7ac89.txt';
 
@@ -8,4 +8,4 @@ define(['require'], function (require) { 'use strict';
 
 	console.log(asset1, asset2, asset3);
 
-});
+}));
diff --git a/test/form/samples/deprecated/configure-asset-url/_expected/iife.js b/test/form/samples/deprecated/configure-asset-url/_expected/iife.js
index 6ff9d4359..0913d5920 100644
--- a/test/form/samples/deprecated/configure-asset-url/_expected/iife.js
+++ b/test/form/samples/deprecated/configure-asset-url/_expected/iife.js
@@ -9,4 +9,4 @@
 
 	console.log(asset1, asset2, asset3);
 
-}());
+})();
diff --git a/test/form/samples/deprecated/configure-asset-url/_expected/system.js b/test/form/samples/deprecated/configure-asset-url/_expected/system.js
index f87526268..1bb20735a 100644
--- a/test/form/samples/deprecated/configure-asset-url/_expected/system.js
+++ b/test/form/samples/deprecated/configure-asset-url/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var asset1 = 'system.js:solved:assets/asset-solved-28a7ac89.txt:assets/asset-solved-28a7ac89.txt';
 
@@ -11,6 +11,6 @@ System.register([], function (exports, module) {
 
 			console.log(asset1, asset2, asset3);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deprecated/configure-asset-url/_expected/umd.js b/test/form/samples/deprecated/configure-asset-url/_expected/umd.js
index 01d729248..8ef0ba5ba 100644
--- a/test/form/samples/deprecated/configure-asset-url/_expected/umd.js
+++ b/test/form/samples/deprecated/configure-asset-url/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var asset1 = 'umd.js:solved:assets/asset-solved-28a7ac89.txt:assets/asset-solved-28a7ac89.txt';
 
@@ -11,4 +11,4 @@
 
 	console.log(asset1, asset2, asset3);
 
-})));
+}));
diff --git a/test/form/samples/deprecated/emit-asset-hacky/_expected/amd.js b/test/form/samples/deprecated/emit-asset-hacky/_expected/amd.js
index 126aa22ee..49540b44d 100644
--- a/test/form/samples/deprecated/emit-asset-hacky/_expected/amd.js
+++ b/test/form/samples/deprecated/emit-asset-hacky/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/form/samples/deprecated/emit-asset-hacky/_expected/iife.js b/test/form/samples/deprecated/emit-asset-hacky/_expected/iife.js
index d283cbce8..455edee6a 100644
--- a/test/form/samples/deprecated/emit-asset-hacky/_expected/iife.js
+++ b/test/form/samples/deprecated/emit-asset-hacky/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log('main');
 
-}());
+})();
diff --git a/test/form/samples/deprecated/emit-asset-hacky/_expected/system.js b/test/form/samples/deprecated/emit-asset-hacky/_expected/system.js
index c83499bc2..35e269337 100644
--- a/test/form/samples/deprecated/emit-asset-hacky/_expected/system.js
+++ b/test/form/samples/deprecated/emit-asset-hacky/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deprecated/emit-asset-hacky/_expected/umd.js b/test/form/samples/deprecated/emit-asset-hacky/_expected/umd.js
index f69e11c02..c8ba7daa8 100644
--- a/test/form/samples/deprecated/emit-asset-hacky/_expected/umd.js
+++ b/test/form/samples/deprecated/emit-asset-hacky/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log('main');
 
-})));
+}));
diff --git a/test/form/samples/deprecated/emit-asset/_expected/amd.js b/test/form/samples/deprecated/emit-asset/_expected/amd.js
index 366341210..0120fbb5f 100644
--- a/test/form/samples/deprecated/emit-asset/_expected/amd.js
+++ b/test/form/samples/deprecated/emit-asset/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	var logo = new URL(require.toUrl('./assets/logo-25585ac1.svg'), document.baseURI).href;
 
@@ -13,4 +13,4 @@ define(['require'], function (require) { 'use strict';
 
 	showImage(logo);
 
-});
+}));
diff --git a/test/form/samples/deprecated/emit-asset/_expected/iife.js b/test/form/samples/deprecated/emit-asset/_expected/iife.js
index 97c9c3432..881dc9e04 100644
--- a/test/form/samples/deprecated/emit-asset/_expected/iife.js
+++ b/test/form/samples/deprecated/emit-asset/_expected/iife.js
@@ -14,4 +14,4 @@
 
 	showImage(logo);
 
-}());
+})();
diff --git a/test/form/samples/deprecated/emit-asset/_expected/system.js b/test/form/samples/deprecated/emit-asset/_expected/system.js
index 0c3f132dc..cbef4b76b 100644
--- a/test/form/samples/deprecated/emit-asset/_expected/system.js
+++ b/test/form/samples/deprecated/emit-asset/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var logo = new URL('assets/logo-25585ac1.svg', module.meta.url).href;
 
@@ -16,6 +16,6 @@ System.register([], function (exports, module) {
 
 			showImage(logo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deprecated/emit-asset/_expected/umd.js b/test/form/samples/deprecated/emit-asset/_expected/umd.js
index 6e3f75b83..b37ed465b 100644
--- a/test/form/samples/deprecated/emit-asset/_expected/umd.js
+++ b/test/form/samples/deprecated/emit-asset/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var logo = (typeof document === 'undefined' && typeof location === 'undefined' ? new (require('u' + 'rl').URL)('file:' + __dirname + '/assets/logo-25585ac1.svg').href : new URL('assets/logo-25585ac1.svg', typeof document === 'undefined' ? location.href : document.currentScript && document.currentScript.src || document.baseURI).href);
 
@@ -16,4 +16,4 @@
 
 	showImage(logo);
 
-})));
+}));
diff --git a/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/amd.js b/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/amd.js
index 126aa22ee..49540b44d 100644
--- a/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/amd.js
+++ b/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/iife.js b/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/iife.js
index d283cbce8..455edee6a 100644
--- a/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/iife.js
+++ b/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log('main');
 
-}());
+})();
diff --git a/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/system.js b/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/system.js
index c83499bc2..35e269337 100644
--- a/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/system.js
+++ b/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/umd.js b/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/umd.js
index f69e11c02..c8ba7daa8 100644
--- a/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/umd.js
+++ b/test/form/samples/deprecated/inlined-treeshaken-dynamic-import/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log('main');
 
-})));
+}));
diff --git a/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/amd.js b/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/amd.js
index 6979526fe..03aa78d3e 100644
--- a/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/amd.js
+++ b/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['require', 'external-false', 'external-true'], function (require, fooFalse, fooTrue) { 'use strict';
+define(['require', 'external-false', 'external-true'], (function (require, fooFalse, fooTrue) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -11,14 +11,12 @@ define(['require', 'external-false', 'external-true'], function (require, fooFal
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -26,9 +24,9 @@ define(['require', 'external-false', 'external-true'], function (require, fooFal
 	var fooTrue__namespace = /*#__PURE__*/_interopNamespace(fooTrue);
 
 	console.log(fooFalse, fooFalse.barFalse, fooFalse);
-	console.log(fooTrue__default['default'], fooTrue.barTrue, fooTrue__namespace);
+	console.log(fooTrue__default["default"], fooTrue.barTrue, fooTrue__namespace);
 
-	new Promise(function (resolve, reject) { require(['external-false'], resolve, reject) }).then(console.log);
-	new Promise(function (resolve, reject) { require(['external-true'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) }).then(console.log);
+	new Promise(function (resolve, reject) { require(['external-false'], resolve, reject); }).then(console.log);
+	new Promise(function (resolve, reject) { require(['external-true'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }).then(console.log);
 
-});
+}));
diff --git a/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/cjs.js b/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/cjs.js
index 6d8a79415..fd950857e 100644
--- a/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/cjs.js
+++ b/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/cjs.js
@@ -14,14 +14,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
@@ -29,7 +27,7 @@ var fooTrue__default = /*#__PURE__*/_interopDefaultLegacy(fooTrue);
 var fooTrue__namespace = /*#__PURE__*/_interopNamespace(fooTrue);
 
 console.log(fooFalse, fooFalse.barFalse, fooFalse);
-console.log(fooTrue__default['default'], fooTrue.barTrue, fooTrue__namespace);
+console.log(fooTrue__default["default"], fooTrue.barTrue, fooTrue__namespace);
 
 Promise.resolve().then(function () { return require('external-false'); }).then(console.log);
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('external-true')); }).then(console.log);
diff --git a/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/iife.js b/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/iife.js
index 552eb77c4..2065212bf 100644
--- a/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/iife.js
+++ b/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/iife.js
@@ -12,14 +12,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -27,9 +25,9 @@
 	var fooTrue__namespace = /*#__PURE__*/_interopNamespace(fooTrue);
 
 	console.log(fooFalse, fooFalse.barFalse, fooFalse);
-	console.log(fooTrue__default['default'], fooTrue.barTrue, fooTrue__namespace);
+	console.log(fooTrue__default["default"], fooTrue.barTrue, fooTrue__namespace);
 
 	import('external-false').then(console.log);
 	import('external-true').then(console.log);
 
-}(externalfalse, externaltrue));
+})(externalfalse, externaltrue);
diff --git a/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/system.js b/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/system.js
index d813e4d25..573c86be0 100644
--- a/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/system.js
+++ b/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/system.js
@@ -1,17 +1,17 @@
-System.register(['external-false', 'external-true'], function (exports, module) {
+System.register(['external-false', 'external-true'], (function (exports, module) {
 	'use strict';
 	var fooFalse__default, barFalse, fooFalse, fooTrue__default, barTrue, fooTrue;
 	return {
 		setters: [function (module) {
-			fooFalse__default = module.default;
+			fooFalse__default = module["default"];
 			barFalse = module.barFalse;
 			fooFalse = module;
 		}, function (module) {
-			fooTrue__default = module.default;
+			fooTrue__default = module["default"];
 			barTrue = module.barTrue;
 			fooTrue = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(fooFalse__default, barFalse, fooFalse);
 			console.log(fooTrue__default, barTrue, fooTrue);
@@ -19,6 +19,6 @@ System.register(['external-false', 'external-true'], function (exports, module)
 			module.import('external-false').then(console.log);
 			module.import('external-true').then(console.log);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/umd.js b/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/umd.js
index 558032e56..3d8035fc2 100644
--- a/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/umd.js
+++ b/test/form/samples/deprecated/interop-boolean-per-dependency/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('external-false'), require('external-true')) :
 	typeof define === 'function' && define.amd ? define(['external-false', 'external-true'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.externalfalse, global.externaltrue));
-}(this, (function (fooFalse, fooTrue) { 'use strict';
+})(this, (function (fooFalse, fooTrue) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -15,14 +15,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -30,9 +28,9 @@
 	var fooTrue__namespace = /*#__PURE__*/_interopNamespace(fooTrue);
 
 	console.log(fooFalse, fooFalse.barFalse, fooFalse);
-	console.log(fooTrue__default['default'], fooTrue.barTrue, fooTrue__namespace);
+	console.log(fooTrue__default["default"], fooTrue.barTrue, fooTrue__namespace);
 
 	import('external-false').then(console.log);
 	import('external-true').then(console.log);
 
-})));
+}));
diff --git a/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/amd.js b/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/amd.js
index 378fa8c1a..d40a312ca 100644
--- a/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/amd.js
+++ b/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external-false', 'external-true'], function (exports, externalFalse, externalTrue) { 'use strict';
+define(['exports', 'external-false', 'external-true'], (function (exports, externalFalse, externalTrue) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -11,14 +11,12 @@ define(['exports', 'external-false', 'external-true'], function (exports, extern
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -29,26 +27,20 @@ define(['exports', 'external-false', 'external-true'], function (exports, extern
 
 	Object.defineProperty(exports, 'barFalse', {
 		enumerable: true,
-		get: function () {
-			return externalFalse.barFalse;
-		}
+		get: function () { return externalFalse.barFalse; }
 	});
 	exports.externalFalse = externalFalse;
 	exports.fooFalse = externalFalse;
 	Object.defineProperty(exports, 'barTrue', {
 		enumerable: true,
-		get: function () {
-			return externalTrue.barTrue;
-		}
+		get: function () { return externalTrue.barTrue; }
 	});
 	exports.externalTrue = externalTrue__namespace;
 	Object.defineProperty(exports, 'fooTrue', {
 		enumerable: true,
-		get: function () {
-			return externalTrue__default['default'];
-		}
+		get: function () { return externalTrue__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/cjs.js b/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/cjs.js
index 8a2e42577..2d29e8436 100644
--- a/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/cjs.js
+++ b/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/cjs.js
@@ -16,14 +16,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
@@ -34,22 +32,16 @@ var externalTrue__default = /*#__PURE__*/_interopDefaultLegacy(externalTrue);
 
 Object.defineProperty(exports, 'barFalse', {
 	enumerable: true,
-	get: function () {
-		return externalFalse.barFalse;
-	}
+	get: function () { return externalFalse.barFalse; }
 });
 exports.externalFalse = externalFalse;
 exports.fooFalse = externalFalse;
 Object.defineProperty(exports, 'barTrue', {
 	enumerable: true,
-	get: function () {
-		return externalTrue.barTrue;
-	}
+	get: function () { return externalTrue.barTrue; }
 });
 exports.externalTrue = externalTrue__namespace;
 Object.defineProperty(exports, 'fooTrue', {
 	enumerable: true,
-	get: function () {
-		return externalTrue__default['default'];
-	}
+	get: function () { return externalTrue__default["default"]; }
 });
diff --git a/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/iife.js b/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/iife.js
index 28586702c..4650a3b97 100644
--- a/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/iife.js
+++ b/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/iife.js
@@ -12,14 +12,12 @@ var bundle = (function (exports, externalFalse, externalTrue) {
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -30,28 +28,22 @@ var bundle = (function (exports, externalFalse, externalTrue) {
 
 	Object.defineProperty(exports, 'barFalse', {
 		enumerable: true,
-		get: function () {
-			return externalFalse.barFalse;
-		}
+		get: function () { return externalFalse.barFalse; }
 	});
 	exports.externalFalse = externalFalse;
 	exports.fooFalse = externalFalse;
 	Object.defineProperty(exports, 'barTrue', {
 		enumerable: true,
-		get: function () {
-			return externalTrue.barTrue;
-		}
+		get: function () { return externalTrue.barTrue; }
 	});
 	exports.externalTrue = externalTrue__namespace;
 	Object.defineProperty(exports, 'fooTrue', {
 		enumerable: true,
-		get: function () {
-			return externalTrue__default['default'];
-		}
+		get: function () { return externalTrue__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
 	return exports;
 
-}({}, externalfalse, externaltrue));
+})({}, externalfalse, externaltrue);
diff --git a/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/system.js b/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/system.js
index 24d9dede5..3c2ac056e 100644
--- a/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/system.js
+++ b/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/system.js
@@ -1,23 +1,15 @@
-System.register('bundle', ['external-false', 'external-true'], function (exports) {
+System.register('bundle', ['external-false', 'external-true'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('externalFalse', module);
-			var _setter = {};
-			_setter.barFalse = module.barFalse;
-			_setter.fooFalse = module.default;
-			exports(_setter);
+			exports({ barFalse: module.barFalse, externalFalse: module, fooFalse: module["default"] });
 		}, function (module) {
-			exports('externalTrue', module);
-			var _setter = {};
-			_setter.barTrue = module.barTrue;
-			_setter.fooTrue = module.default;
-			exports(_setter);
+			exports({ barTrue: module.barTrue, externalTrue: module, fooTrue: module["default"] });
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/umd.js b/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/umd.js
index a65ee7138..e5a2dec35 100644
--- a/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/umd.js
+++ b/test/form/samples/deprecated/interop-boolean-per-reexported-dependency/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external-false'), require('external-true')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external-false', 'external-true'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.externalfalse, global.externaltrue));
-}(this, (function (exports, externalFalse, externalTrue) { 'use strict';
+})(this, (function (exports, externalFalse, externalTrue) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -15,14 +15,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -33,26 +31,20 @@
 
 	Object.defineProperty(exports, 'barFalse', {
 		enumerable: true,
-		get: function () {
-			return externalFalse.barFalse;
-		}
+		get: function () { return externalFalse.barFalse; }
 	});
 	exports.externalFalse = externalFalse;
 	exports.fooFalse = externalFalse;
 	Object.defineProperty(exports, 'barTrue', {
 		enumerable: true,
-		get: function () {
-			return externalTrue.barTrue;
-		}
+		get: function () { return externalTrue.barTrue; }
 	});
 	exports.externalTrue = externalTrue__namespace;
 	Object.defineProperty(exports, 'fooTrue', {
 		enumerable: true,
-		get: function () {
-			return externalTrue__default['default'];
-		}
+		get: function () { return externalTrue__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/deprecated/interop-false-reexport/_expected/amd.js b/test/form/samples/deprecated/interop-false-reexport/_expected/amd.js
index 93dc4eca8..598871b8e 100644
--- a/test/form/samples/deprecated/interop-false-reexport/_expected/amd.js
+++ b/test/form/samples/deprecated/interop-false-reexport/_expected/amd.js
@@ -1,15 +1,13 @@
-define(['exports', 'external'], function (exports, external) { 'use strict';
+define(['exports', 'external'], (function (exports, external) { 'use strict';
 
 
 
 	exports.p = external;
 	Object.defineProperty(exports, 'q', {
 		enumerable: true,
-		get: function () {
-			return external.p;
-		}
+		get: function () { return external.p; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/deprecated/interop-false-reexport/_expected/cjs.js b/test/form/samples/deprecated/interop-false-reexport/_expected/cjs.js
index ac6a99b82..efe5055bf 100644
--- a/test/form/samples/deprecated/interop-false-reexport/_expected/cjs.js
+++ b/test/form/samples/deprecated/interop-false-reexport/_expected/cjs.js
@@ -9,7 +9,5 @@ var external = require('external');
 exports.p = external;
 Object.defineProperty(exports, 'q', {
 	enumerable: true,
-	get: function () {
-		return external.p;
-	}
+	get: function () { return external.p; }
 });
diff --git a/test/form/samples/deprecated/interop-false-reexport/_expected/iife.js b/test/form/samples/deprecated/interop-false-reexport/_expected/iife.js
index 395bfb7ef..d72f38bca 100644
--- a/test/form/samples/deprecated/interop-false-reexport/_expected/iife.js
+++ b/test/form/samples/deprecated/interop-false-reexport/_expected/iife.js
@@ -6,13 +6,11 @@ var foo = (function (exports, external) {
 	exports.p = external;
 	Object.defineProperty(exports, 'q', {
 		enumerable: true,
-		get: function () {
-			return external.p;
-		}
+		get: function () { return external.p; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
 	return exports;
 
-}({}, external));
+})({}, external);
diff --git a/test/form/samples/deprecated/interop-false-reexport/_expected/system.js b/test/form/samples/deprecated/interop-false-reexport/_expected/system.js
index 413b2e742..fb6f00694 100644
--- a/test/form/samples/deprecated/interop-false-reexport/_expected/system.js
+++ b/test/form/samples/deprecated/interop-false-reexport/_expected/system.js
@@ -1,16 +1,13 @@
-System.register('foo', ['external'], function (exports) {
+System.register('foo', ['external'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			_setter.p = module.default;
-			_setter.q = module.p;
-			exports(_setter);
+			exports({ p: module["default"], q: module.p });
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deprecated/interop-false-reexport/_expected/umd.js b/test/form/samples/deprecated/interop-false-reexport/_expected/umd.js
index 27f5c8e7f..80beced23 100644
--- a/test/form/samples/deprecated/interop-false-reexport/_expected/umd.js
+++ b/test/form/samples/deprecated/interop-false-reexport/_expected/umd.js
@@ -2,16 +2,14 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.foo = {}, global.external));
-}(this, (function (exports, external) { 'use strict';
+})(this, (function (exports, external) { 'use strict';
 
 	exports.p = external;
 	Object.defineProperty(exports, 'q', {
 		enumerable: true,
-		get: function () {
-			return external.p;
-		}
+		get: function () { return external.p; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/deprecated/interop-false/_expected/amd.js b/test/form/samples/deprecated/interop-false/_expected/amd.js
index 9245883ba..b582dd201 100644
--- a/test/form/samples/deprecated/interop-false/_expected/amd.js
+++ b/test/form/samples/deprecated/interop-false/_expected/amd.js
@@ -1,7 +1,7 @@
-define(['core/view'], function (View) { 'use strict';
+define(['core/view'], (function (View) { 'use strict';
 
 	var main = View.extend({});
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/deprecated/interop-false/_expected/iife.js b/test/form/samples/deprecated/interop-false/_expected/iife.js
index d94c4325c..00dd680d3 100644
--- a/test/form/samples/deprecated/interop-false/_expected/iife.js
+++ b/test/form/samples/deprecated/interop-false/_expected/iife.js
@@ -5,4 +5,4 @@ var foo = (function (View) {
 
 	return main;
 
-}(View));
+})(View);
diff --git a/test/form/samples/deprecated/interop-false/_expected/system.js b/test/form/samples/deprecated/interop-false/_expected/system.js
index 6063c9dfb..3cd77a0ac 100644
--- a/test/form/samples/deprecated/interop-false/_expected/system.js
+++ b/test/form/samples/deprecated/interop-false/_expected/system.js
@@ -1,14 +1,14 @@
-System.register('foo', ['core/view'], function (exports) {
+System.register('foo', ['core/view'], (function (exports) {
 	'use strict';
 	var View;
 	return {
 		setters: [function (module) {
-			View = module.default;
+			View = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', View.extend({}));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deprecated/interop-false/_expected/umd.js b/test/form/samples/deprecated/interop-false/_expected/umd.js
index ddd962849..3b808b1a1 100644
--- a/test/form/samples/deprecated/interop-false/_expected/umd.js
+++ b/test/form/samples/deprecated/interop-false/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('core/view')) :
 	typeof define === 'function' && define.amd ? define(['core/view'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.foo = factory(global.View));
-}(this, (function (View) { 'use strict';
+})(this, (function (View) { 'use strict';
 
 	var main = View.extend({});
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/deprecated/interop-per-dependency-no-live-binding-boolean/_expected.js b/test/form/samples/deprecated/interop-per-dependency-no-live-binding-boolean/_expected.js
index 7d41aa33d..4b92ef34c 100644
--- a/test/form/samples/deprecated/interop-per-dependency-no-live-binding-boolean/_expected.js
+++ b/test/form/samples/deprecated/interop-per-dependency-no-live-binding-boolean/_expected.js
@@ -3,17 +3,17 @@
 var fooFalse = require('external-false');
 var fooTrue = require('external-true');
 
-function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e['default'] : e; }
+function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e["default"] : e; }
 
 function _interopNamespace(e) {
 	if (e && e.__esModule) return e;
 	var n = Object.create(null);
 	if (e) {
-		Object.keys(e).forEach(function (k) {
+		for (var k in e) {
 			n[k] = e[k];
-		});
+		}
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/amd.js b/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/amd.js
index 83e0443cf..9786f514a 100644
--- a/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/amd.js
+++ b/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	async function main() {
 		const foo$1 = 1;
@@ -15,4 +15,4 @@ define(function () { 'use strict';
 		value: value
 	});
 
-});
+}));
diff --git a/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/iife.js b/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/iife.js
index 6a2dd7b2a..3dbed43ba 100644
--- a/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/iife.js
+++ b/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/iife.js
@@ -16,4 +16,4 @@
 		value: value
 	});
 
-}());
+})();
diff --git a/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/system.js b/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/system.js
index a11234126..8cb925481 100644
--- a/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/system.js
+++ b/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			async function main() {
 				const foo$1 = 1;
@@ -18,6 +18,6 @@ System.register([], function () {
 				value: value
 			});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/umd.js b/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/umd.js
index 04bde1cc4..5fa0792d5 100644
--- a/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/umd.js
+++ b/test/form/samples/deprecated/nested-inlined-dynamic-import/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	async function main() {
 		const foo$1 = 1;
@@ -18,4 +18,4 @@
 		value: value
 	});
 
-})));
+}));
diff --git a/test/form/samples/prefer-const/_config.js b/test/form/samples/deprecated/prefer-const/_config.js
similarity index 88%
rename from test/form/samples/prefer-const/_config.js
rename to test/form/samples/deprecated/prefer-const/_config.js
index 779baf78e..961c32e53 100644
--- a/test/form/samples/prefer-const/_config.js
+++ b/test/form/samples/deprecated/prefer-const/_config.js
@@ -1,6 +1,7 @@
 module.exports = {
 	description: 'uses const instead of var if specified (#653)',
 	options: {
+		strictDeprecations: false,
 		external: ['other'],
 		output: {
 			globals: { other: 'other' },
diff --git a/test/form/samples/prefer-const/_expected/amd.js b/test/form/samples/deprecated/prefer-const/_expected/amd.js
similarity index 79%
rename from test/form/samples/prefer-const/_expected/amd.js
rename to test/form/samples/deprecated/prefer-const/_expected/amd.js
index 0f423ee98..4401f36e6 100644
--- a/test/form/samples/prefer-const/_expected/amd.js
+++ b/test/form/samples/deprecated/prefer-const/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['other'], function (other) { 'use strict';
+define(['other'], (function (other) { 'use strict';
 
 	const a = 1;
 	const b = 2;
@@ -16,4 +16,4 @@ define(['other'], function (other) { 'use strict';
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/prefer-const/_expected/cjs.js b/test/form/samples/deprecated/prefer-const/_expected/cjs.js
similarity index 100%
rename from test/form/samples/prefer-const/_expected/cjs.js
rename to test/form/samples/deprecated/prefer-const/_expected/cjs.js
diff --git a/test/form/samples/prefer-const/_expected/es.js b/test/form/samples/deprecated/prefer-const/_expected/es.js
similarity index 100%
rename from test/form/samples/prefer-const/_expected/es.js
rename to test/form/samples/deprecated/prefer-const/_expected/es.js
diff --git a/test/form/samples/prefer-const/_expected/iife.js b/test/form/samples/deprecated/prefer-const/_expected/iife.js
similarity index 96%
rename from test/form/samples/prefer-const/_expected/iife.js
rename to test/form/samples/deprecated/prefer-const/_expected/iife.js
index 72652cb62..f1137fac4 100644
--- a/test/form/samples/prefer-const/_expected/iife.js
+++ b/test/form/samples/deprecated/prefer-const/_expected/iife.js
@@ -17,4 +17,4 @@ const myBundle = (function (other) {
 
 	return main;
 
-}(other));
+})(other);
diff --git a/test/form/samples/prefer-const/_expected/system.js b/test/form/samples/deprecated/prefer-const/_expected/system.js
similarity index 77%
rename from test/form/samples/prefer-const/_expected/system.js
rename to test/form/samples/deprecated/prefer-const/_expected/system.js
index a0599b20d..aca77a4b3 100644
--- a/test/form/samples/prefer-const/_expected/system.js
+++ b/test/form/samples/deprecated/prefer-const/_expected/system.js
@@ -1,11 +1,11 @@
-System.register('myBundle', ['other'], function (exports) {
+System.register('myBundle', ['other'], (function (exports) {
 	'use strict';
 	var name;
 	return {
 		setters: [function (module) {
 			name = module.name;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const a = 1;
 			const b = 2;
@@ -21,6 +21,6 @@ System.register('myBundle', ['other'], function (exports) {
 
 			const main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/prefer-const/_expected/umd.js b/test/form/samples/deprecated/prefer-const/_expected/umd.js
similarity index 92%
rename from test/form/samples/prefer-const/_expected/umd.js
rename to test/form/samples/deprecated/prefer-const/_expected/umd.js
index 9390abb40..5da7a70a2 100644
--- a/test/form/samples/prefer-const/_expected/umd.js
+++ b/test/form/samples/deprecated/prefer-const/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('other')) :
 	typeof define === 'function' && define.amd ? define(['other'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory(global.other));
-}(this, (function (other) { 'use strict';
+})(this, (function (other) { 'use strict';
 
 	const a = 1;
 	const b = 2;
@@ -20,4 +20,4 @@
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/prefer-const/main.js b/test/form/samples/deprecated/prefer-const/main.js
similarity index 100%
rename from test/form/samples/prefer-const/main.js
rename to test/form/samples/deprecated/prefer-const/main.js
diff --git a/test/form/samples/prefer-const/namespace.js b/test/form/samples/deprecated/prefer-const/namespace.js
similarity index 100%
rename from test/form/samples/prefer-const/namespace.js
rename to test/form/samples/deprecated/prefer-const/namespace.js
diff --git a/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/amd.js b/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/amd.js
index f02c330d4..1115d7e62 100644
--- a/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/amd.js
+++ b/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/amd.js
@@ -1,5 +1,5 @@
-define(['other'], function (other) { 'use strict';
+define(['other'], (function (other) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/iife.js b/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/iife.js
index 43ef54268..31dfeb95e 100644
--- a/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/iife.js
+++ b/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/iife.js
@@ -3,4 +3,4 @@
 
 
 
-}());
+})();
diff --git a/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/system.js b/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/system.js
index 44f1ac2d3..b84607966 100644
--- a/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/system.js
+++ b/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/system.js
@@ -1,11 +1,11 @@
-System.register(['other'], function () {
+System.register(['other'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/umd.js b/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/umd.js
index 44508fbc3..f0ccb62ab 100644
--- a/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/umd.js
+++ b/test/form/samples/deprecated/prune-pure-unused-import-array/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(['other'], factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 
 
-})));
+}));
diff --git a/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/amd.js b/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/amd.js
index f02c330d4..1115d7e62 100644
--- a/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/amd.js
+++ b/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/amd.js
@@ -1,5 +1,5 @@
-define(['other'], function (other) { 'use strict';
+define(['other'], (function (other) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/iife.js b/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/iife.js
index 43ef54268..31dfeb95e 100644
--- a/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/iife.js
+++ b/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/iife.js
@@ -3,4 +3,4 @@
 
 
 
-}());
+})();
diff --git a/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/system.js b/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/system.js
index 44f1ac2d3..b84607966 100644
--- a/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/system.js
+++ b/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/system.js
@@ -1,11 +1,11 @@
-System.register(['other'], function () {
+System.register(['other'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/umd.js b/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/umd.js
index 44508fbc3..f0ccb62ab 100644
--- a/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/umd.js
+++ b/test/form/samples/deprecated/prune-pure-unused-import-function/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(['other'], factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 
 
-})));
+}));
diff --git a/test/form/samples/deprecated/prune-pure-unused-import/_expected/amd.js b/test/form/samples/deprecated/prune-pure-unused-import/_expected/amd.js
index f9f8229aa..a9e9419e2 100644
--- a/test/form/samples/deprecated/prune-pure-unused-import/_expected/amd.js
+++ b/test/form/samples/deprecated/prune-pure-unused-import/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 
 
-});
+}));
diff --git a/test/form/samples/deprecated/prune-pure-unused-import/_expected/iife.js b/test/form/samples/deprecated/prune-pure-unused-import/_expected/iife.js
index 43ef54268..31dfeb95e 100644
--- a/test/form/samples/deprecated/prune-pure-unused-import/_expected/iife.js
+++ b/test/form/samples/deprecated/prune-pure-unused-import/_expected/iife.js
@@ -3,4 +3,4 @@
 
 
 
-}());
+})();
diff --git a/test/form/samples/deprecated/prune-pure-unused-import/_expected/system.js b/test/form/samples/deprecated/prune-pure-unused-import/_expected/system.js
index a702f2b06..343cc3a51 100644
--- a/test/form/samples/deprecated/prune-pure-unused-import/_expected/system.js
+++ b/test/form/samples/deprecated/prune-pure-unused-import/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/deprecated/prune-pure-unused-import/_expected/umd.js b/test/form/samples/deprecated/prune-pure-unused-import/_expected/umd.js
index 8bf6301d4..a39fba4f3 100644
--- a/test/form/samples/deprecated/prune-pure-unused-import/_expected/umd.js
+++ b/test/form/samples/deprecated/prune-pure-unused-import/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 
 
-})));
+}));
diff --git a/test/form/samples/duplicated-var-declarations/_expected/amd.js b/test/form/samples/duplicated-var-declarations/_expected/amd.js
index 727a84d0f..a00723d6c 100644
--- a/test/form/samples/duplicated-var-declarations/_expected/amd.js
+++ b/test/form/samples/duplicated-var-declarations/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var a = 1, b = 2;
 
@@ -11,4 +11,4 @@ define(function () { 'use strict';
 	assert.equal( b, 4 );
 	assert.equal( c, 5 );
 
-});
+}));
diff --git a/test/form/samples/duplicated-var-declarations/_expected/iife.js b/test/form/samples/duplicated-var-declarations/_expected/iife.js
index 8251bd3d7..fb01b3d0b 100644
--- a/test/form/samples/duplicated-var-declarations/_expected/iife.js
+++ b/test/form/samples/duplicated-var-declarations/_expected/iife.js
@@ -12,4 +12,4 @@
 	assert.equal( b, 4 );
 	assert.equal( c, 5 );
 
-}());
+})();
diff --git a/test/form/samples/duplicated-var-declarations/_expected/system.js b/test/form/samples/duplicated-var-declarations/_expected/system.js
index c6ea73f59..ef959a976 100644
--- a/test/form/samples/duplicated-var-declarations/_expected/system.js
+++ b/test/form/samples/duplicated-var-declarations/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var a = 1, b = 2;
 
@@ -14,6 +14,6 @@ System.register([], function () {
 			assert.equal( b, 4 );
 			assert.equal( c, 5 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/duplicated-var-declarations/_expected/umd.js b/test/form/samples/duplicated-var-declarations/_expected/umd.js
index b4f8ac515..a01042ce3 100644
--- a/test/form/samples/duplicated-var-declarations/_expected/umd.js
+++ b/test/form/samples/duplicated-var-declarations/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var a = 1, b = 2;
 
@@ -14,4 +14,4 @@
 	assert.equal( b, 4 );
 	assert.equal( c, 5 );
 
-})));
+}));
diff --git a/test/form/samples/dynamic-import-this-arrow/_config.js b/test/form/samples/dynamic-import-this-arrow/_config.js
new file mode 100644
index 000000000..53ad52318
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-arrow/_config.js
@@ -0,0 +1,12 @@
+const assert = require('assert');
+
+module.exports = {
+	description: 'uses correct "this" in dynamic imports when using arrow functions',
+	options: {
+		external: ['input', 'output'],
+		output: {
+			generatedCode: { arrowFunctions: true },
+			name: 'bundle'
+		}
+	}
+};
diff --git a/test/form/samples/dynamic-import-this-arrow/_expected/amd.js b/test/form/samples/dynamic-import-this-arrow/_expected/amd.js
new file mode 100644
index 000000000..abfb59961
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-arrow/_expected/amd.js
@@ -0,0 +1,37 @@
+define(['require', 'exports', 'input'], (function (require, exports, input) { 'use strict';
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(k => {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	class Importer {
+		constructor() {
+			this.outputPath = input.outputPath;
+		}
+
+		getImport() {
+			return new Promise((resolve, reject) => require([this.outputPath], m => resolve(/*#__PURE__*/_interopNamespace(m)), reject));
+		}
+	}
+
+	const promise = new Importer().getImport();
+
+	exports.promise = promise;
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/dynamic-import-this-arrow/_expected/cjs.js b/test/form/samples/dynamic-import-this-arrow/_expected/cjs.js
new file mode 100644
index 000000000..f12098a1f
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-arrow/_expected/cjs.js
@@ -0,0 +1,37 @@
+'use strict';
+
+Object.defineProperty(exports, '__esModule', { value: true });
+
+var input = require('input');
+
+function _interopNamespace(e) {
+	if (e && e.__esModule) return e;
+	var n = Object.create(null);
+	if (e) {
+		Object.keys(e).forEach(k => {
+			if (k !== 'default') {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: () => e[k]
+				});
+			}
+		});
+	}
+	n["default"] = e;
+	return Object.freeze(n);
+}
+
+class Importer {
+	constructor() {
+		this.outputPath = input.outputPath;
+	}
+
+	getImport() {
+		return Promise.resolve().then(() => /*#__PURE__*/_interopNamespace(require(this.outputPath)));
+	}
+}
+
+const promise = new Importer().getImport();
+
+exports.promise = promise;
diff --git a/test/form/samples/dynamic-import-this-arrow/_expected/es.js b/test/form/samples/dynamic-import-this-arrow/_expected/es.js
new file mode 100644
index 000000000..256926d1c
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-arrow/_expected/es.js
@@ -0,0 +1,15 @@
+import { outputPath } from 'input';
+
+class Importer {
+	constructor() {
+		this.outputPath = outputPath;
+	}
+
+	getImport() {
+		return import(this.outputPath);
+	}
+}
+
+const promise = new Importer().getImport();
+
+export { promise };
diff --git a/test/form/samples/dynamic-import-this-arrow/_expected/iife.js b/test/form/samples/dynamic-import-this-arrow/_expected/iife.js
new file mode 100644
index 000000000..cae64e055
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-arrow/_expected/iife.js
@@ -0,0 +1,22 @@
+var bundle = (function (exports, input) {
+	'use strict';
+
+	class Importer {
+		constructor() {
+			this.outputPath = input.outputPath;
+		}
+
+		getImport() {
+			return import(this.outputPath);
+		}
+	}
+
+	const promise = new Importer().getImport();
+
+	exports.promise = promise;
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+	return exports;
+
+})({}, input);
diff --git a/test/form/samples/dynamic-import-this-arrow/_expected/system.js b/test/form/samples/dynamic-import-this-arrow/_expected/system.js
new file mode 100644
index 000000000..24beec803
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-arrow/_expected/system.js
@@ -0,0 +1,24 @@
+System.register('bundle', ['input'], (function (exports, module) {
+	'use strict';
+	var outputPath;
+	return {
+		setters: [module => {
+			outputPath = module.outputPath;
+		}],
+		execute: (function () {
+
+			class Importer {
+				constructor() {
+					this.outputPath = outputPath;
+				}
+
+				getImport() {
+					return module.import(this.outputPath);
+				}
+			}
+
+			const promise = exports('promise', new Importer().getImport());
+
+		})
+	};
+}));
diff --git a/test/form/samples/dynamic-import-this-arrow/_expected/umd.js b/test/form/samples/dynamic-import-this-arrow/_expected/umd.js
new file mode 100644
index 000000000..012afb22e
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-arrow/_expected/umd.js
@@ -0,0 +1,23 @@
+(function (global, factory) {
+	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('input')) :
+	typeof define === 'function' && define.amd ? define(['exports', 'input'], factory) :
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.input));
+})(this, (function (exports, input) { 'use strict';
+
+	class Importer {
+		constructor() {
+			this.outputPath = input.outputPath;
+		}
+
+		getImport() {
+			return import(this.outputPath);
+		}
+	}
+
+	const promise = new Importer().getImport();
+
+	exports.promise = promise;
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/dynamic-import-this-arrow/main.js b/test/form/samples/dynamic-import-this-arrow/main.js
new file mode 100644
index 000000000..bfe419d7f
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-arrow/main.js
@@ -0,0 +1,13 @@
+import { outputPath } from 'input';
+
+class Importer {
+	constructor() {
+		this.outputPath = outputPath;
+	}
+
+	getImport() {
+		return import(this.outputPath);
+	}
+}
+
+export const promise = new Importer().getImport();
diff --git a/test/form/samples/dynamic-import-this-function/_config.js b/test/form/samples/dynamic-import-this-function/_config.js
new file mode 100644
index 000000000..a43e98dd4
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-function/_config.js
@@ -0,0 +1,12 @@
+const assert = require('assert');
+
+module.exports = {
+	description: 'uses correct "this" in dynamic imports when not using arrow functions',
+	options: {
+		external: ['input', 'output'],
+		output: {
+			generatedCode: { arrowFunctions: false },
+			name: 'bundle'
+		}
+	}
+};
diff --git a/test/form/samples/dynamic-import-this-function/_expected/amd.js b/test/form/samples/dynamic-import-this-function/_expected/amd.js
new file mode 100644
index 000000000..23fcff09c
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-function/_expected/amd.js
@@ -0,0 +1,37 @@
+define(['require', 'exports', 'input'], (function (require, exports, input) { 'use strict';
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	class Importer {
+		constructor() {
+			this.outputPath = input.outputPath;
+		}
+
+		getImport() {
+			return (function (t) { return new Promise(function (resolve, reject) { require([t], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }); })(this.outputPath);
+		}
+	}
+
+	const promise = new Importer().getImport();
+
+	exports.promise = promise;
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/dynamic-import-this-function/_expected/cjs.js b/test/form/samples/dynamic-import-this-function/_expected/cjs.js
new file mode 100644
index 000000000..117701b12
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-function/_expected/cjs.js
@@ -0,0 +1,37 @@
+'use strict';
+
+Object.defineProperty(exports, '__esModule', { value: true });
+
+var input = require('input');
+
+function _interopNamespace(e) {
+	if (e && e.__esModule) return e;
+	var n = Object.create(null);
+	if (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default') {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	}
+	n["default"] = e;
+	return Object.freeze(n);
+}
+
+class Importer {
+	constructor() {
+		this.outputPath = input.outputPath;
+	}
+
+	getImport() {
+		return (function (t) { return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(t)); }); })(this.outputPath);
+	}
+}
+
+const promise = new Importer().getImport();
+
+exports.promise = promise;
diff --git a/test/form/samples/dynamic-import-this-function/_expected/es.js b/test/form/samples/dynamic-import-this-function/_expected/es.js
new file mode 100644
index 000000000..256926d1c
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-function/_expected/es.js
@@ -0,0 +1,15 @@
+import { outputPath } from 'input';
+
+class Importer {
+	constructor() {
+		this.outputPath = outputPath;
+	}
+
+	getImport() {
+		return import(this.outputPath);
+	}
+}
+
+const promise = new Importer().getImport();
+
+export { promise };
diff --git a/test/form/samples/dynamic-import-this-function/_expected/iife.js b/test/form/samples/dynamic-import-this-function/_expected/iife.js
new file mode 100644
index 000000000..cae64e055
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-function/_expected/iife.js
@@ -0,0 +1,22 @@
+var bundle = (function (exports, input) {
+	'use strict';
+
+	class Importer {
+		constructor() {
+			this.outputPath = input.outputPath;
+		}
+
+		getImport() {
+			return import(this.outputPath);
+		}
+	}
+
+	const promise = new Importer().getImport();
+
+	exports.promise = promise;
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+	return exports;
+
+})({}, input);
diff --git a/test/form/samples/dynamic-import-this-function/_expected/system.js b/test/form/samples/dynamic-import-this-function/_expected/system.js
new file mode 100644
index 000000000..adf24a664
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-function/_expected/system.js
@@ -0,0 +1,24 @@
+System.register('bundle', ['input'], (function (exports, module) {
+	'use strict';
+	var outputPath;
+	return {
+		setters: [function (module) {
+			outputPath = module.outputPath;
+		}],
+		execute: (function () {
+
+			class Importer {
+				constructor() {
+					this.outputPath = outputPath;
+				}
+
+				getImport() {
+					return module.import(this.outputPath);
+				}
+			}
+
+			const promise = exports('promise', new Importer().getImport());
+
+		})
+	};
+}));
diff --git a/test/form/samples/dynamic-import-this-function/_expected/umd.js b/test/form/samples/dynamic-import-this-function/_expected/umd.js
new file mode 100644
index 000000000..012afb22e
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-function/_expected/umd.js
@@ -0,0 +1,23 @@
+(function (global, factory) {
+	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('input')) :
+	typeof define === 'function' && define.amd ? define(['exports', 'input'], factory) :
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.input));
+})(this, (function (exports, input) { 'use strict';
+
+	class Importer {
+		constructor() {
+			this.outputPath = input.outputPath;
+		}
+
+		getImport() {
+			return import(this.outputPath);
+		}
+	}
+
+	const promise = new Importer().getImport();
+
+	exports.promise = promise;
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/dynamic-import-this-function/main.js b/test/form/samples/dynamic-import-this-function/main.js
new file mode 100644
index 000000000..bfe419d7f
--- /dev/null
+++ b/test/form/samples/dynamic-import-this-function/main.js
@@ -0,0 +1,13 @@
+import { outputPath } from 'input';
+
+class Importer {
+	constructor() {
+		this.outputPath = outputPath;
+	}
+
+	getImport() {
+		return import(this.outputPath);
+	}
+}
+
+export const promise = new Importer().getImport();
diff --git a/test/form/samples/dynamic-import-unresolvable/_expected/amd.js b/test/form/samples/dynamic-import-unresolvable/_expected/amd.js
index 4f28a13d7..cd966c7cb 100644
--- a/test/form/samples/dynamic-import-unresolvable/_expected/amd.js
+++ b/test/form/samples/dynamic-import-unresolvable/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,20 +9,18 @@ define(['require'], function (require) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	new Promise(function (resolve, reject) { require([`${globalThis.unknown}`], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
-	new Promise(function (resolve, reject) { require([`My ${globalThis.unknown}`], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
-	new Promise(function (resolve, reject) { require(['./seven.js'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
-	new Promise(function (resolve, reject) { require(['./seven'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
+	(function (t) { return new Promise(function (resolve, reject) { require([t], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }); })(`${globalThis.unknown}`);
+	(function (t) { return new Promise(function (resolve, reject) { require([t], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }); })(`My ${globalThis.unknown}`);
+	(function (t) { return new Promise(function (resolve, reject) { require([t], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }); })('./seven.js');
+	new Promise(function (resolve, reject) { require(['./seven'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
 
-});
+}));
diff --git a/test/form/samples/dynamic-import-unresolvable/_expected/cjs.js b/test/form/samples/dynamic-import-unresolvable/_expected/cjs.js
index a9d51c59d..b429a06c7 100644
--- a/test/form/samples/dynamic-import-unresolvable/_expected/cjs.js
+++ b/test/form/samples/dynamic-import-unresolvable/_expected/cjs.js
@@ -9,18 +9,16 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
-Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(`${globalThis.unknown}`)); });
-Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(`My ${globalThis.unknown}`)); });
-Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('./seven.js')); });
+(function (t) { return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(t)); }); })(`${globalThis.unknown}`);
+(function (t) { return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(t)); }); })(`My ${globalThis.unknown}`);
+(function (t) { return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(t)); }); })('./seven.js');
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('./seven.js')); });
diff --git a/test/form/samples/dynamic-import-unresolvable/_expected/iife.js b/test/form/samples/dynamic-import-unresolvable/_expected/iife.js
index 83008aee5..4cf1fdf05 100644
--- a/test/form/samples/dynamic-import-unresolvable/_expected/iife.js
+++ b/test/form/samples/dynamic-import-unresolvable/_expected/iife.js
@@ -6,4 +6,4 @@
 	import('./seven.js');
 	import('./seven.js');
 
-}());
+})();
diff --git a/test/form/samples/dynamic-import-unresolvable/_expected/system.js b/test/form/samples/dynamic-import-unresolvable/_expected/system.js
index ec2f668e4..d0c1de08c 100644
--- a/test/form/samples/dynamic-import-unresolvable/_expected/system.js
+++ b/test/form/samples/dynamic-import-unresolvable/_expected/system.js
@@ -1,13 +1,13 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.import(`${globalThis.unknown}`);
 			module.import(`My ${globalThis.unknown}`);
 			module.import('./seven.js');
 			module.import('./seven.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/dynamic-import-unresolvable/_expected/umd.js b/test/form/samples/dynamic-import-unresolvable/_expected/umd.js
index d5aee0821..f35d647d9 100644
--- a/test/form/samples/dynamic-import-unresolvable/_expected/umd.js
+++ b/test/form/samples/dynamic-import-unresolvable/_expected/umd.js
@@ -1,11 +1,11 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	import(`${globalThis.unknown}`);
 	import(`My ${globalThis.unknown}`);
 	import('./seven.js');
 	import('./seven.js');
 
-})));
+}));
diff --git a/test/form/samples/effect-in-for-of-loop-in-functions/_expected/amd.js b/test/form/samples/effect-in-for-of-loop-in-functions/_expected/amd.js
index 4d69a4b15..92d30ca98 100644
--- a/test/form/samples/effect-in-for-of-loop-in-functions/_expected/amd.js
+++ b/test/form/samples/effect-in-for-of-loop-in-functions/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const items = { children: [ {}, {}, {} ] };
 
@@ -25,4 +25,4 @@ define(function () { 'use strict';
 		{ foo: 'a', bar: 'c' }
 	] );
 
-});
+}));
diff --git a/test/form/samples/effect-in-for-of-loop-in-functions/_expected/iife.js b/test/form/samples/effect-in-for-of-loop-in-functions/_expected/iife.js
index 7e12d263c..25ef94a0f 100644
--- a/test/form/samples/effect-in-for-of-loop-in-functions/_expected/iife.js
+++ b/test/form/samples/effect-in-for-of-loop-in-functions/_expected/iife.js
@@ -26,4 +26,4 @@
 		{ foo: 'a', bar: 'c' }
 	] );
 
-}());
+})();
diff --git a/test/form/samples/effect-in-for-of-loop-in-functions/_expected/system.js b/test/form/samples/effect-in-for-of-loop-in-functions/_expected/system.js
index 93ba5ca8f..96b2d32a5 100644
--- a/test/form/samples/effect-in-for-of-loop-in-functions/_expected/system.js
+++ b/test/form/samples/effect-in-for-of-loop-in-functions/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const items = { children: [ {}, {}, {} ] };
 
@@ -28,6 +28,6 @@ System.register([], function () {
 				{ foo: 'a', bar: 'c' }
 			] );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/effect-in-for-of-loop-in-functions/_expected/umd.js b/test/form/samples/effect-in-for-of-loop-in-functions/_expected/umd.js
index f40d70d26..2a4e15423 100644
--- a/test/form/samples/effect-in-for-of-loop-in-functions/_expected/umd.js
+++ b/test/form/samples/effect-in-for-of-loop-in-functions/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	const items = { children: [ {}, {}, {} ] };
 
@@ -28,4 +28,4 @@
 		{ foo: 'a', bar: 'c' }
 	] );
 
-})));
+}));
diff --git a/test/form/samples/effect-in-for-of-loop/_expected/amd.js b/test/form/samples/effect-in-for-of-loop/_expected/amd.js
index cba6da294..7e9ab29e9 100644
--- a/test/form/samples/effect-in-for-of-loop/_expected/amd.js
+++ b/test/form/samples/effect-in-for-of-loop/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const items = [{}, {}, {}];
 
@@ -22,4 +22,4 @@ define(function () { 'use strict';
 		{ foo: 'a', bar: 'c', baz: 'e' }
 	]);
 
-});
+}));
diff --git a/test/form/samples/effect-in-for-of-loop/_expected/iife.js b/test/form/samples/effect-in-for-of-loop/_expected/iife.js
index 5a3e4a30f..2e5cc1718 100644
--- a/test/form/samples/effect-in-for-of-loop/_expected/iife.js
+++ b/test/form/samples/effect-in-for-of-loop/_expected/iife.js
@@ -23,4 +23,4 @@
 		{ foo: 'a', bar: 'c', baz: 'e' }
 	]);
 
-}());
+})();
diff --git a/test/form/samples/effect-in-for-of-loop/_expected/system.js b/test/form/samples/effect-in-for-of-loop/_expected/system.js
index c8f28682e..12f7f0867 100644
--- a/test/form/samples/effect-in-for-of-loop/_expected/system.js
+++ b/test/form/samples/effect-in-for-of-loop/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const items = [{}, {}, {}];
 
@@ -25,6 +25,6 @@ System.register([], function () {
 				{ foo: 'a', bar: 'c', baz: 'e' }
 			]);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/effect-in-for-of-loop/_expected/umd.js b/test/form/samples/effect-in-for-of-loop/_expected/umd.js
index 89a3d1336..d77229f41 100644
--- a/test/form/samples/effect-in-for-of-loop/_expected/umd.js
+++ b/test/form/samples/effect-in-for-of-loop/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	const items = [{}, {}, {}];
 
@@ -25,4 +25,4 @@
 		{ foo: 'a', bar: 'c', baz: 'e' }
 	]);
 
-})));
+}));
diff --git a/test/form/samples/emit-asset-file/_expected/amd.js b/test/form/samples/emit-asset-file/_expected/amd.js
index 366341210..0120fbb5f 100644
--- a/test/form/samples/emit-asset-file/_expected/amd.js
+++ b/test/form/samples/emit-asset-file/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	var logo = new URL(require.toUrl('./assets/logo-25585ac1.svg'), document.baseURI).href;
 
@@ -13,4 +13,4 @@ define(['require'], function (require) { 'use strict';
 
 	showImage(logo);
 
-});
+}));
diff --git a/test/form/samples/emit-asset-file/_expected/iife.js b/test/form/samples/emit-asset-file/_expected/iife.js
index 97c9c3432..881dc9e04 100644
--- a/test/form/samples/emit-asset-file/_expected/iife.js
+++ b/test/form/samples/emit-asset-file/_expected/iife.js
@@ -14,4 +14,4 @@
 
 	showImage(logo);
 
-}());
+})();
diff --git a/test/form/samples/emit-asset-file/_expected/system.js b/test/form/samples/emit-asset-file/_expected/system.js
index 0c3f132dc..cbef4b76b 100644
--- a/test/form/samples/emit-asset-file/_expected/system.js
+++ b/test/form/samples/emit-asset-file/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var logo = new URL('assets/logo-25585ac1.svg', module.meta.url).href;
 
@@ -16,6 +16,6 @@ System.register([], function (exports, module) {
 
 			showImage(logo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/emit-asset-file/_expected/umd.js b/test/form/samples/emit-asset-file/_expected/umd.js
index 6e3f75b83..b37ed465b 100644
--- a/test/form/samples/emit-asset-file/_expected/umd.js
+++ b/test/form/samples/emit-asset-file/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var logo = (typeof document === 'undefined' && typeof location === 'undefined' ? new (require('u' + 'rl').URL)('file:' + __dirname + '/assets/logo-25585ac1.svg').href : new URL('assets/logo-25585ac1.svg', typeof document === 'undefined' ? location.href : document.currentScript && document.currentScript.src || document.baseURI).href);
 
@@ -16,4 +16,4 @@
 
 	showImage(logo);
 
-})));
+}));
diff --git a/test/form/samples/emit-file-tree-shaken-access/_expected/amd.js b/test/form/samples/emit-file-tree-shaken-access/_expected/amd.js
index 126aa22ee..49540b44d 100644
--- a/test/form/samples/emit-file-tree-shaken-access/_expected/amd.js
+++ b/test/form/samples/emit-file-tree-shaken-access/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/form/samples/emit-file-tree-shaken-access/_expected/iife.js b/test/form/samples/emit-file-tree-shaken-access/_expected/iife.js
index d283cbce8..455edee6a 100644
--- a/test/form/samples/emit-file-tree-shaken-access/_expected/iife.js
+++ b/test/form/samples/emit-file-tree-shaken-access/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log('main');
 
-}());
+})();
diff --git a/test/form/samples/emit-file-tree-shaken-access/_expected/system.js b/test/form/samples/emit-file-tree-shaken-access/_expected/system.js
index c83499bc2..35e269337 100644
--- a/test/form/samples/emit-file-tree-shaken-access/_expected/system.js
+++ b/test/form/samples/emit-file-tree-shaken-access/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/emit-file-tree-shaken-access/_expected/umd.js b/test/form/samples/emit-file-tree-shaken-access/_expected/umd.js
index f69e11c02..c8ba7daa8 100644
--- a/test/form/samples/emit-file-tree-shaken-access/_expected/umd.js
+++ b/test/form/samples/emit-file-tree-shaken-access/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log('main');
 
-})));
+}));
diff --git a/test/form/samples/emit-uint8array-no-buffer/_expected/amd.js b/test/form/samples/emit-uint8array-no-buffer/_expected/amd.js
index bb0575294..95d0e3377 100644
--- a/test/form/samples/emit-uint8array-no-buffer/_expected/amd.js
+++ b/test/form/samples/emit-uint8array-no-buffer/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['require'], function (require) { 'use strict';
+define(['require'], (function (require) { 'use strict';
 
 	var asset1a = new URL(require.toUrl('./assets/asset-dc5cb674'), document.baseURI).href;
 
@@ -12,4 +12,4 @@ define(['require'], function (require) { 'use strict';
 
 	console.log(asset1a, asset1b, asset2a, asset2b, asset99a);
 
-});
+}));
diff --git a/test/form/samples/emit-uint8array-no-buffer/_expected/iife.js b/test/form/samples/emit-uint8array-no-buffer/_expected/iife.js
index 42e09ca15..cb0248b3e 100644
--- a/test/form/samples/emit-uint8array-no-buffer/_expected/iife.js
+++ b/test/form/samples/emit-uint8array-no-buffer/_expected/iife.js
@@ -13,4 +13,4 @@
 
 	console.log(asset1a, asset1b, asset2a, asset2b, asset99a);
 
-}());
+})();
diff --git a/test/form/samples/emit-uint8array-no-buffer/_expected/system.js b/test/form/samples/emit-uint8array-no-buffer/_expected/system.js
index a44ddb975..97d709cbe 100644
--- a/test/form/samples/emit-uint8array-no-buffer/_expected/system.js
+++ b/test/form/samples/emit-uint8array-no-buffer/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var asset1a = new URL('assets/asset-dc5cb674', module.meta.url).href;
 
@@ -15,6 +15,6 @@ System.register([], function (exports, module) {
 
 			console.log(asset1a, asset1b, asset2a, asset2b, asset99a);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/emit-uint8array-no-buffer/_expected/umd.js b/test/form/samples/emit-uint8array-no-buffer/_expected/umd.js
index 705db0023..459750c15 100644
--- a/test/form/samples/emit-uint8array-no-buffer/_expected/umd.js
+++ b/test/form/samples/emit-uint8array-no-buffer/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var asset1a = (typeof document === 'undefined' && typeof location === 'undefined' ? new (require('u' + 'rl').URL)('file:' + __dirname + '/assets/asset-dc5cb674').href : new URL('assets/asset-dc5cb674', typeof document === 'undefined' ? location.href : document.currentScript && document.currentScript.src || document.baseURI).href);
 
@@ -15,4 +15,4 @@
 
 	console.log(asset1a, asset1b, asset2a, asset2b, asset99a);
 
-})));
+}));
diff --git a/test/form/samples/empty-block-statement/_expected/amd.js b/test/form/samples/empty-block-statement/_expected/amd.js
index 6036f2851..7dd42b017 100644
--- a/test/form/samples/empty-block-statement/_expected/amd.js
+++ b/test/form/samples/empty-block-statement/_expected/amd.js
@@ -1,6 +1,6 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log( 1 );
 	console.log( 2 );
 
-});
+}));
diff --git a/test/form/samples/empty-block-statement/_expected/iife.js b/test/form/samples/empty-block-statement/_expected/iife.js
index 08a84a95e..2aa3986d9 100644
--- a/test/form/samples/empty-block-statement/_expected/iife.js
+++ b/test/form/samples/empty-block-statement/_expected/iife.js
@@ -4,4 +4,4 @@
 	console.log( 1 );
 	console.log( 2 );
 
-}());
+})();
diff --git a/test/form/samples/empty-block-statement/_expected/system.js b/test/form/samples/empty-block-statement/_expected/system.js
index d8a0e92b6..8d78842c3 100644
--- a/test/form/samples/empty-block-statement/_expected/system.js
+++ b/test/form/samples/empty-block-statement/_expected/system.js
@@ -1,11 +1,11 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log( 1 );
 			console.log( 2 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/empty-block-statement/_expected/umd.js b/test/form/samples/empty-block-statement/_expected/umd.js
index 3ec33621e..a5ab90a2b 100644
--- a/test/form/samples/empty-block-statement/_expected/umd.js
+++ b/test/form/samples/empty-block-statement/_expected/umd.js
@@ -1,9 +1,9 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log( 1 );
 	console.log( 2 );
 
-})));
+}));
diff --git a/test/form/samples/empty-do-while-statement/_expected/amd.js b/test/form/samples/empty-do-while-statement/_expected/amd.js
index 6036f2851..7dd42b017 100644
--- a/test/form/samples/empty-do-while-statement/_expected/amd.js
+++ b/test/form/samples/empty-do-while-statement/_expected/amd.js
@@ -1,6 +1,6 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log( 1 );
 	console.log( 2 );
 
-});
+}));
diff --git a/test/form/samples/empty-do-while-statement/_expected/iife.js b/test/form/samples/empty-do-while-statement/_expected/iife.js
index 08a84a95e..2aa3986d9 100644
--- a/test/form/samples/empty-do-while-statement/_expected/iife.js
+++ b/test/form/samples/empty-do-while-statement/_expected/iife.js
@@ -4,4 +4,4 @@
 	console.log( 1 );
 	console.log( 2 );
 
-}());
+})();
diff --git a/test/form/samples/empty-do-while-statement/_expected/system.js b/test/form/samples/empty-do-while-statement/_expected/system.js
index d8a0e92b6..8d78842c3 100644
--- a/test/form/samples/empty-do-while-statement/_expected/system.js
+++ b/test/form/samples/empty-do-while-statement/_expected/system.js
@@ -1,11 +1,11 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log( 1 );
 			console.log( 2 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/empty-do-while-statement/_expected/umd.js b/test/form/samples/empty-do-while-statement/_expected/umd.js
index 3ec33621e..a5ab90a2b 100644
--- a/test/form/samples/empty-do-while-statement/_expected/umd.js
+++ b/test/form/samples/empty-do-while-statement/_expected/umd.js
@@ -1,9 +1,9 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log( 1 );
 	console.log( 2 );
 
-})));
+}));
diff --git a/test/form/samples/empty-for-statement/_expected/amd.js b/test/form/samples/empty-for-statement/_expected/amd.js
index 6036f2851..7dd42b017 100644
--- a/test/form/samples/empty-for-statement/_expected/amd.js
+++ b/test/form/samples/empty-for-statement/_expected/amd.js
@@ -1,6 +1,6 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log( 1 );
 	console.log( 2 );
 
-});
+}));
diff --git a/test/form/samples/empty-for-statement/_expected/iife.js b/test/form/samples/empty-for-statement/_expected/iife.js
index 08a84a95e..2aa3986d9 100644
--- a/test/form/samples/empty-for-statement/_expected/iife.js
+++ b/test/form/samples/empty-for-statement/_expected/iife.js
@@ -4,4 +4,4 @@
 	console.log( 1 );
 	console.log( 2 );
 
-}());
+})();
diff --git a/test/form/samples/empty-for-statement/_expected/system.js b/test/form/samples/empty-for-statement/_expected/system.js
index d8a0e92b6..8d78842c3 100644
--- a/test/form/samples/empty-for-statement/_expected/system.js
+++ b/test/form/samples/empty-for-statement/_expected/system.js
@@ -1,11 +1,11 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log( 1 );
 			console.log( 2 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/empty-for-statement/_expected/umd.js b/test/form/samples/empty-for-statement/_expected/umd.js
index 3ec33621e..a5ab90a2b 100644
--- a/test/form/samples/empty-for-statement/_expected/umd.js
+++ b/test/form/samples/empty-for-statement/_expected/umd.js
@@ -1,9 +1,9 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log( 1 );
 	console.log( 2 );
 
-})));
+}));
diff --git a/test/form/samples/empty-statement-consequent/_expected/amd.js b/test/form/samples/empty-statement-consequent/_expected/amd.js
index eeea4a59f..844607bb6 100644
--- a/test/form/samples/empty-statement-consequent/_expected/amd.js
+++ b/test/form/samples/empty-statement-consequent/_expected/amd.js
@@ -1,6 +1,6 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	if ( a === 0 );
 	else a++;
 
-});
+}));
diff --git a/test/form/samples/empty-statement-consequent/_expected/iife.js b/test/form/samples/empty-statement-consequent/_expected/iife.js
index 1e4d2d74b..41fdcb2de 100644
--- a/test/form/samples/empty-statement-consequent/_expected/iife.js
+++ b/test/form/samples/empty-statement-consequent/_expected/iife.js
@@ -4,4 +4,4 @@
 	if ( a === 0 );
 	else a++;
 
-}());
+})();
diff --git a/test/form/samples/empty-statement-consequent/_expected/system.js b/test/form/samples/empty-statement-consequent/_expected/system.js
index d3ab2c83e..a78d266e0 100644
--- a/test/form/samples/empty-statement-consequent/_expected/system.js
+++ b/test/form/samples/empty-statement-consequent/_expected/system.js
@@ -1,11 +1,11 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			if ( a === 0 );
 			else a++;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/empty-statement-consequent/_expected/umd.js b/test/form/samples/empty-statement-consequent/_expected/umd.js
index 1da163ba3..6454a87ab 100644
--- a/test/form/samples/empty-statement-consequent/_expected/umd.js
+++ b/test/form/samples/empty-statement-consequent/_expected/umd.js
@@ -1,9 +1,9 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	if ( a === 0 );
 	else a++;
 
-})));
+}));
diff --git a/test/form/samples/empty-statement/_expected/amd.js b/test/form/samples/empty-statement/_expected/amd.js
index 6255bc57c..e2d75c6a5 100644
--- a/test/form/samples/empty-statement/_expected/amd.js
+++ b/test/form/samples/empty-statement/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log( 1 );console.log( 2 );
 
-});
+}));
diff --git a/test/form/samples/empty-statement/_expected/iife.js b/test/form/samples/empty-statement/_expected/iife.js
index 60508d61e..74d61f5b9 100644
--- a/test/form/samples/empty-statement/_expected/iife.js
+++ b/test/form/samples/empty-statement/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log( 1 );console.log( 2 );
 
-}());
+})();
diff --git a/test/form/samples/empty-statement/_expected/system.js b/test/form/samples/empty-statement/_expected/system.js
index 811a8f632..0acd02cc9 100644
--- a/test/form/samples/empty-statement/_expected/system.js
+++ b/test/form/samples/empty-statement/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log( 1 );console.log( 2 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/empty-statement/_expected/umd.js b/test/form/samples/empty-statement/_expected/umd.js
index 6eb307201..921fb951f 100644
--- a/test/form/samples/empty-statement/_expected/umd.js
+++ b/test/form/samples/empty-statement/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log( 1 );console.log( 2 );
 
-})));
+}));
diff --git a/test/form/samples/empty-try-catch-statement/_expected/amd.js b/test/form/samples/empty-try-catch-statement/_expected/amd.js
index 6036f2851..7dd42b017 100644
--- a/test/form/samples/empty-try-catch-statement/_expected/amd.js
+++ b/test/form/samples/empty-try-catch-statement/_expected/amd.js
@@ -1,6 +1,6 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log( 1 );
 	console.log( 2 );
 
-});
+}));
diff --git a/test/form/samples/empty-try-catch-statement/_expected/iife.js b/test/form/samples/empty-try-catch-statement/_expected/iife.js
index 08a84a95e..2aa3986d9 100644
--- a/test/form/samples/empty-try-catch-statement/_expected/iife.js
+++ b/test/form/samples/empty-try-catch-statement/_expected/iife.js
@@ -4,4 +4,4 @@
 	console.log( 1 );
 	console.log( 2 );
 
-}());
+})();
diff --git a/test/form/samples/empty-try-catch-statement/_expected/system.js b/test/form/samples/empty-try-catch-statement/_expected/system.js
index d8a0e92b6..8d78842c3 100644
--- a/test/form/samples/empty-try-catch-statement/_expected/system.js
+++ b/test/form/samples/empty-try-catch-statement/_expected/system.js
@@ -1,11 +1,11 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log( 1 );
 			console.log( 2 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/empty-try-catch-statement/_expected/umd.js b/test/form/samples/empty-try-catch-statement/_expected/umd.js
index 3ec33621e..a5ab90a2b 100644
--- a/test/form/samples/empty-try-catch-statement/_expected/umd.js
+++ b/test/form/samples/empty-try-catch-statement/_expected/umd.js
@@ -1,9 +1,9 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log( 1 );
 	console.log( 2 );
 
-})));
+}));
diff --git a/test/form/samples/empty-while-statement/_expected/amd.js b/test/form/samples/empty-while-statement/_expected/amd.js
index 6036f2851..7dd42b017 100644
--- a/test/form/samples/empty-while-statement/_expected/amd.js
+++ b/test/form/samples/empty-while-statement/_expected/amd.js
@@ -1,6 +1,6 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log( 1 );
 	console.log( 2 );
 
-});
+}));
diff --git a/test/form/samples/empty-while-statement/_expected/iife.js b/test/form/samples/empty-while-statement/_expected/iife.js
index 08a84a95e..2aa3986d9 100644
--- a/test/form/samples/empty-while-statement/_expected/iife.js
+++ b/test/form/samples/empty-while-statement/_expected/iife.js
@@ -4,4 +4,4 @@
 	console.log( 1 );
 	console.log( 2 );
 
-}());
+})();
diff --git a/test/form/samples/empty-while-statement/_expected/system.js b/test/form/samples/empty-while-statement/_expected/system.js
index d8a0e92b6..8d78842c3 100644
--- a/test/form/samples/empty-while-statement/_expected/system.js
+++ b/test/form/samples/empty-while-statement/_expected/system.js
@@ -1,11 +1,11 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log( 1 );
 			console.log( 2 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/empty-while-statement/_expected/umd.js b/test/form/samples/empty-while-statement/_expected/umd.js
index 3ec33621e..a5ab90a2b 100644
--- a/test/form/samples/empty-while-statement/_expected/umd.js
+++ b/test/form/samples/empty-while-statement/_expected/umd.js
@@ -1,9 +1,9 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log( 1 );
 	console.log( 2 );
 
-})));
+}));
diff --git a/test/form/samples/entry-with-unused-synthetic-exports/_expected/amd.js b/test/form/samples/entry-with-unused-synthetic-exports/_expected/amd.js
index ab9c5a9f9..49540b44d 100644
--- a/test/form/samples/entry-with-unused-synthetic-exports/_expected/amd.js
+++ b/test/form/samples/entry-with-unused-synthetic-exports/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
-	console.log(lib);
+	console.log('main');
 
-});
+}));
diff --git a/test/form/samples/entry-with-unused-synthetic-exports/_expected/cjs.js b/test/form/samples/entry-with-unused-synthetic-exports/_expected/cjs.js
index 2856d44c7..d0ed06d8c 100644
--- a/test/form/samples/entry-with-unused-synthetic-exports/_expected/cjs.js
+++ b/test/form/samples/entry-with-unused-synthetic-exports/_expected/cjs.js
@@ -1,3 +1,3 @@
 'use strict';
 
-console.log(lib);
+console.log('main');
diff --git a/test/form/samples/entry-with-unused-synthetic-exports/_expected/es.js b/test/form/samples/entry-with-unused-synthetic-exports/_expected/es.js
index 9edbef9bc..c0b933d7b 100644
--- a/test/form/samples/entry-with-unused-synthetic-exports/_expected/es.js
+++ b/test/form/samples/entry-with-unused-synthetic-exports/_expected/es.js
@@ -1 +1 @@
-console.log(lib);
+console.log('main');
diff --git a/test/form/samples/entry-with-unused-synthetic-exports/_expected/iife.js b/test/form/samples/entry-with-unused-synthetic-exports/_expected/iife.js
index d6a387986..455edee6a 100644
--- a/test/form/samples/entry-with-unused-synthetic-exports/_expected/iife.js
+++ b/test/form/samples/entry-with-unused-synthetic-exports/_expected/iife.js
@@ -1,6 +1,6 @@
 (function () {
 	'use strict';
 
-	console.log(lib);
+	console.log('main');
 
-}());
+})();
diff --git a/test/form/samples/entry-with-unused-synthetic-exports/_expected/system.js b/test/form/samples/entry-with-unused-synthetic-exports/_expected/system.js
index d9efd72de..35e269337 100644
--- a/test/form/samples/entry-with-unused-synthetic-exports/_expected/system.js
+++ b/test/form/samples/entry-with-unused-synthetic-exports/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
-			console.log(lib);
+			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/entry-with-unused-synthetic-exports/_expected/umd.js b/test/form/samples/entry-with-unused-synthetic-exports/_expected/umd.js
index 470991219..c8ba7daa8 100644
--- a/test/form/samples/entry-with-unused-synthetic-exports/_expected/umd.js
+++ b/test/form/samples/entry-with-unused-synthetic-exports/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
-	console.log(lib);
+	console.log('main');
 
-})));
+}));
diff --git a/test/form/samples/entry-with-unused-synthetic-exports/main.js b/test/form/samples/entry-with-unused-synthetic-exports/main.js
index d30979994..68e937b93 100644
--- a/test/form/samples/entry-with-unused-synthetic-exports/main.js
+++ b/test/form/samples/entry-with-unused-synthetic-exports/main.js
@@ -1,2 +1,2 @@
-console.log(lib);
+console.log('main');
 export const __moduleExports = { not: 'included' };
diff --git a/test/form/samples/erroneous-nested-member-expression/_expected/amd.js b/test/form/samples/erroneous-nested-member-expression/_expected/amd.js
index 4b402c749..91eec3163 100644
--- a/test/form/samples/erroneous-nested-member-expression/_expected/amd.js
+++ b/test/form/samples/erroneous-nested-member-expression/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function yar() {
 		return {
@@ -10,4 +10,4 @@ define(function () { 'use strict';
 
 	yar.har();
 
-});
+}));
diff --git a/test/form/samples/erroneous-nested-member-expression/_expected/iife.js b/test/form/samples/erroneous-nested-member-expression/_expected/iife.js
index 8a8d65ed5..45c45e17f 100644
--- a/test/form/samples/erroneous-nested-member-expression/_expected/iife.js
+++ b/test/form/samples/erroneous-nested-member-expression/_expected/iife.js
@@ -11,4 +11,4 @@
 
 	yar.har();
 
-}());
+})();
diff --git a/test/form/samples/erroneous-nested-member-expression/_expected/system.js b/test/form/samples/erroneous-nested-member-expression/_expected/system.js
index 5e5b4921d..596f93f76 100644
--- a/test/form/samples/erroneous-nested-member-expression/_expected/system.js
+++ b/test/form/samples/erroneous-nested-member-expression/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function yar() {
 				return {
@@ -13,6 +13,6 @@ System.register([], function () {
 
 			yar.har();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/erroneous-nested-member-expression/_expected/umd.js b/test/form/samples/erroneous-nested-member-expression/_expected/umd.js
index 1d8758be0..accb4f237 100644
--- a/test/form/samples/erroneous-nested-member-expression/_expected/umd.js
+++ b/test/form/samples/erroneous-nested-member-expression/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function yar() {
 		return {
@@ -13,4 +13,4 @@
 
 	yar.har();
 
-})));
+}));
diff --git a/test/form/samples/exclude-unnecessary-modifications/_expected/amd.js b/test/form/samples/exclude-unnecessary-modifications/_expected/amd.js
index 36fce8b38..5af134c8d 100644
--- a/test/form/samples/exclude-unnecessary-modifications/_expected/amd.js
+++ b/test/form/samples/exclude-unnecessary-modifications/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var foo = {};
 
@@ -25,4 +25,4 @@ define(function () { 'use strict';
 
 	console.log( foo );
 
-});
+}));
diff --git a/test/form/samples/exclude-unnecessary-modifications/_expected/iife.js b/test/form/samples/exclude-unnecessary-modifications/_expected/iife.js
index 84e2328cc..21109afde 100644
--- a/test/form/samples/exclude-unnecessary-modifications/_expected/iife.js
+++ b/test/form/samples/exclude-unnecessary-modifications/_expected/iife.js
@@ -26,4 +26,4 @@
 
 	console.log( foo );
 
-}());
+})();
diff --git a/test/form/samples/exclude-unnecessary-modifications/_expected/system.js b/test/form/samples/exclude-unnecessary-modifications/_expected/system.js
index e65370151..0ddcf03c6 100644
--- a/test/form/samples/exclude-unnecessary-modifications/_expected/system.js
+++ b/test/form/samples/exclude-unnecessary-modifications/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = {};
 
@@ -28,6 +28,6 @@ System.register([], function () {
 
 			console.log( foo );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/exclude-unnecessary-modifications/_expected/umd.js b/test/form/samples/exclude-unnecessary-modifications/_expected/umd.js
index 556555674..2187f3f51 100644
--- a/test/form/samples/exclude-unnecessary-modifications/_expected/umd.js
+++ b/test/form/samples/exclude-unnecessary-modifications/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var foo = {};
 
@@ -28,4 +28,4 @@
 
 	console.log( foo );
 
-})));
+}));
diff --git a/test/form/samples/exponentiation-operator/_expected/amd.js b/test/form/samples/exponentiation-operator/_expected/amd.js
index 7a5764487..4b4c11e57 100644
--- a/test/form/samples/exponentiation-operator/_expected/amd.js
+++ b/test/form/samples/exponentiation-operator/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	{
 		console.log('8 is larger than 7');
 	}
 
-});
+}));
diff --git a/test/form/samples/exponentiation-operator/_expected/iife.js b/test/form/samples/exponentiation-operator/_expected/iife.js
index dbc5a02d4..29e081d47 100644
--- a/test/form/samples/exponentiation-operator/_expected/iife.js
+++ b/test/form/samples/exponentiation-operator/_expected/iife.js
@@ -5,4 +5,4 @@
 		console.log('8 is larger than 7');
 	}
 
-}());
+})();
diff --git a/test/form/samples/exponentiation-operator/_expected/system.js b/test/form/samples/exponentiation-operator/_expected/system.js
index eb116fe8a..43f698c2a 100644
--- a/test/form/samples/exponentiation-operator/_expected/system.js
+++ b/test/form/samples/exponentiation-operator/_expected/system.js
@@ -1,12 +1,12 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			{
 				console.log('8 is larger than 7');
 			}
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/exponentiation-operator/_expected/umd.js b/test/form/samples/exponentiation-operator/_expected/umd.js
index 05759d7cc..e1538f67e 100644
--- a/test/form/samples/exponentiation-operator/_expected/umd.js
+++ b/test/form/samples/exponentiation-operator/_expected/umd.js
@@ -1,10 +1,10 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	{
 		console.log('8 is larger than 7');
 	}
 
-})));
+}));
diff --git a/test/form/samples/export-all-before-named/_expected/amd.js b/test/form/samples/export-all-before-named/_expected/amd.js
index 992516bce..d27128134 100644
--- a/test/form/samples/export-all-before-named/_expected/amd.js
+++ b/test/form/samples/export-all-before-named/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external'], function (exports, external) { 'use strict';
+define(['exports', 'external'], (function (exports, external) { 'use strict';
 
 	function internalFn(path) {
 		return path[0] === '.';
@@ -8,12 +8,10 @@ define(['exports', 'external'], function (exports, external) { 'use strict';
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/export-all-before-named/_expected/cjs.js b/test/form/samples/export-all-before-named/_expected/cjs.js
index ca91d57ba..989b8a045 100644
--- a/test/form/samples/export-all-before-named/_expected/cjs.js
+++ b/test/form/samples/export-all-before-named/_expected/cjs.js
@@ -12,8 +12,6 @@ exports.internalFn = internalFn;
 Object.keys(external).forEach(function (k) {
 	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 		enumerable: true,
-		get: function () {
-			return external[k];
-		}
+		get: function () { return external[k]; }
 	});
 });
diff --git a/test/form/samples/export-all-before-named/_expected/iife.js b/test/form/samples/export-all-before-named/_expected/iife.js
index 524791eb5..304ac19d1 100644
--- a/test/form/samples/export-all-before-named/_expected/iife.js
+++ b/test/form/samples/export-all-before-named/_expected/iife.js
@@ -9,9 +9,7 @@ var exposedInternals = (function (exports, external) {
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
@@ -19,4 +17,4 @@ var exposedInternals = (function (exports, external) {
 
 	return exports;
 
-}({}, external));
+})({}, external);
diff --git a/test/form/samples/export-all-before-named/_expected/system.js b/test/form/samples/export-all-before-named/_expected/system.js
index 3325a7ce5..167d36ece 100644
--- a/test/form/samples/export-all-before-named/_expected/system.js
+++ b/test/form/samples/export-all-before-named/_expected/system.js
@@ -1,15 +1,18 @@
-System.register('exposedInternals', ['external'], function (exports) {
+System.register('exposedInternals', ['external'], (function (exports) {
 	'use strict';
-	var _starExcludes = { internalFn: 1, default: 1 };
+	var _starExcludes = {
+		internalFn: 1,
+		'default': 1
+	};
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			for (var _$p in module) {
-				if (!_starExcludes[_$p]) _setter[_$p] = module[_$p];
+			var setter = {};
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
 			}
-			exports(_setter);
+			exports(setter);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			exports('internalFn', internalFn);
 
@@ -17,6 +20,6 @@ System.register('exposedInternals', ['external'], function (exports) {
 				return path[0] === '.';
 			}
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/export-all-before-named/_expected/umd.js b/test/form/samples/export-all-before-named/_expected/umd.js
index b6ef3fc25..05be621a1 100644
--- a/test/form/samples/export-all-before-named/_expected/umd.js
+++ b/test/form/samples/export-all-before-named/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.exposedInternals = {}, global.external));
-}(this, (function (exports, external) { 'use strict';
+})(this, (function (exports, external) { 'use strict';
 
 	function internalFn(path) {
 		return path[0] === '.';
@@ -12,12 +12,10 @@
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/export-all-from-internal/_expected/amd.js b/test/form/samples/export-all-from-internal/_expected/amd.js
index c3acbb07b..05abfb593 100644
--- a/test/form/samples/export-all-from-internal/_expected/amd.js
+++ b/test/form/samples/export-all-from-internal/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const a = 1;
 	const b = 2;
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/export-all-from-internal/_expected/iife.js b/test/form/samples/export-all-from-internal/_expected/iife.js
index eb22ecec6..a6c96fc0e 100644
--- a/test/form/samples/export-all-from-internal/_expected/iife.js
+++ b/test/form/samples/export-all-from-internal/_expected/iife.js
@@ -11,4 +11,4 @@ var exposedInternals = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/export-all-from-internal/_expected/system.js b/test/form/samples/export-all-from-internal/_expected/system.js
index 3cc1a0727..7c1ae83ba 100644
--- a/test/form/samples/export-all-from-internal/_expected/system.js
+++ b/test/form/samples/export-all-from-internal/_expected/system.js
@@ -1,11 +1,11 @@
-System.register('exposedInternals', [], function (exports) {
+System.register('exposedInternals', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const a = exports('a', 1);
 			const b = exports('b', 2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/export-all-from-internal/_expected/umd.js b/test/form/samples/export-all-from-internal/_expected/umd.js
index c0ed3fee9..6d492f62c 100644
--- a/test/form/samples/export-all-from-internal/_expected/umd.js
+++ b/test/form/samples/export-all-from-internal/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.exposedInternals = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const a = 1;
 	const b = 2;
@@ -12,4 +12,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/export-all-multiple/_expected/amd.js b/test/form/samples/export-all-multiple/_expected/amd.js
index 76d538855..6b8f83e55 100644
--- a/test/form/samples/export-all-multiple/_expected/amd.js
+++ b/test/form/samples/export-all-multiple/_expected/amd.js
@@ -1,32 +1,26 @@
-define(['exports', 'foo', 'bar', 'baz'], function (exports, foo, bar, baz) { 'use strict';
+define(['exports', 'foo', 'bar', 'baz'], (function (exports, foo, bar, baz) { 'use strict';
 
 
 
 	Object.keys(foo).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return foo[k];
-			}
+			get: function () { return foo[k]; }
 		});
 	});
 	Object.keys(bar).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return bar[k];
-			}
+			get: function () { return bar[k]; }
 		});
 	});
 	Object.keys(baz).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return baz[k];
-			}
+			get: function () { return baz[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/export-all-multiple/_expected/cjs.js b/test/form/samples/export-all-multiple/_expected/cjs.js
index 63491e13d..29b4dc5fe 100644
--- a/test/form/samples/export-all-multiple/_expected/cjs.js
+++ b/test/form/samples/export-all-multiple/_expected/cjs.js
@@ -11,24 +11,18 @@ var baz = require('baz');
 Object.keys(foo).forEach(function (k) {
 	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 		enumerable: true,
-		get: function () {
-			return foo[k];
-		}
+		get: function () { return foo[k]; }
 	});
 });
 Object.keys(bar).forEach(function (k) {
 	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 		enumerable: true,
-		get: function () {
-			return bar[k];
-		}
+		get: function () { return bar[k]; }
 	});
 });
 Object.keys(baz).forEach(function (k) {
 	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 		enumerable: true,
-		get: function () {
-			return baz[k];
-		}
+		get: function () { return baz[k]; }
 	});
 });
diff --git a/test/form/samples/export-all-multiple/_expected/iife.js b/test/form/samples/export-all-multiple/_expected/iife.js
index fe9a58854..021b7c159 100644
--- a/test/form/samples/export-all-multiple/_expected/iife.js
+++ b/test/form/samples/export-all-multiple/_expected/iife.js
@@ -6,25 +6,19 @@ var myBundle = (function (exports, foo, bar, baz) {
 	Object.keys(foo).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return foo[k];
-			}
+			get: function () { return foo[k]; }
 		});
 	});
 	Object.keys(bar).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return bar[k];
-			}
+			get: function () { return bar[k]; }
 		});
 	});
 	Object.keys(baz).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return baz[k];
-			}
+			get: function () { return baz[k]; }
 		});
 	});
 
@@ -32,4 +26,4 @@ var myBundle = (function (exports, foo, bar, baz) {
 
 	return exports;
 
-}({}, foo, bar, baz));
+})({}, foo, bar, baz);
diff --git a/test/form/samples/export-all-multiple/_expected/system.js b/test/form/samples/export-all-multiple/_expected/system.js
index ebb64473f..1ac3e9762 100644
--- a/test/form/samples/export-all-multiple/_expected/system.js
+++ b/test/form/samples/export-all-multiple/_expected/system.js
@@ -1,30 +1,32 @@
-System.register('myBundle', ['foo', 'bar', 'baz'], function (exports) {
+System.register('myBundle', ['foo', 'bar', 'baz'], (function (exports) {
 	'use strict';
-	var _starExcludes = { default: 1 };
+	var _starExcludes = {
+		'default': 1
+	};
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			for (var _$p in module) {
-				if (!_starExcludes[_$p]) _setter[_$p] = module[_$p];
+			var setter = {};
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
 			}
-			exports(_setter);
+			exports(setter);
 		}, function (module) {
-			var _setter = {};
-			for (var _$p in module) {
-				if (!_starExcludes[_$p]) _setter[_$p] = module[_$p];
+			var setter = {};
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
 			}
-			exports(_setter);
+			exports(setter);
 		}, function (module) {
-			var _setter = {};
-			for (var _$p in module) {
-				if (!_starExcludes[_$p]) _setter[_$p] = module[_$p];
+			var setter = {};
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
 			}
-			exports(_setter);
+			exports(setter);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/export-all-multiple/_expected/umd.js b/test/form/samples/export-all-multiple/_expected/umd.js
index 14fca7409..e950c1824 100644
--- a/test/form/samples/export-all-multiple/_expected/umd.js
+++ b/test/form/samples/export-all-multiple/_expected/umd.js
@@ -2,33 +2,27 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('foo'), require('bar'), require('baz')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'foo', 'bar', 'baz'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}, global.foo, global.bar, global.baz));
-}(this, (function (exports, foo, bar, baz) { 'use strict';
+})(this, (function (exports, foo, bar, baz) { 'use strict';
 
 	Object.keys(foo).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return foo[k];
-			}
+			get: function () { return foo[k]; }
 		});
 	});
 	Object.keys(bar).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return bar[k];
-			}
+			get: function () { return bar[k]; }
 		});
 	});
 	Object.keys(baz).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return baz[k];
-			}
+			get: function () { return baz[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/export-default-2/_expected/amd.js b/test/form/samples/export-default-2/_expected/amd.js
index 7b9dcd113..dfc84dd75 100644
--- a/test/form/samples/export-default-2/_expected/amd.js
+++ b/test/form/samples/export-default-2/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var bar = 1;
 
 	return bar;
 
-});
+}));
diff --git a/test/form/samples/export-default-2/_expected/iife.js b/test/form/samples/export-default-2/_expected/iife.js
index 240a5fe78..fe62cfdfd 100644
--- a/test/form/samples/export-default-2/_expected/iife.js
+++ b/test/form/samples/export-default-2/_expected/iife.js
@@ -5,4 +5,4 @@ var myBundle = (function () {
 
 	return bar;
 
-}());
+})();
diff --git a/test/form/samples/export-default-2/_expected/system.js b/test/form/samples/export-default-2/_expected/system.js
index a7450c3b9..bca3c9c95 100644
--- a/test/form/samples/export-default-2/_expected/system.js
+++ b/test/form/samples/export-default-2/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var bar = exports('default', 1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/export-default-2/_expected/umd.js b/test/form/samples/export-default-2/_expected/umd.js
index 9e3d59ff2..84e9930bc 100644
--- a/test/form/samples/export-default-2/_expected/umd.js
+++ b/test/form/samples/export-default-2/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var bar = 1;
 
 	return bar;
 
-})));
+}));
diff --git a/test/form/samples/export-default-3/_expected/amd.js b/test/form/samples/export-default-3/_expected/amd.js
index 7b9dcd113..dfc84dd75 100644
--- a/test/form/samples/export-default-3/_expected/amd.js
+++ b/test/form/samples/export-default-3/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var bar = 1;
 
 	return bar;
 
-});
+}));
diff --git a/test/form/samples/export-default-3/_expected/iife.js b/test/form/samples/export-default-3/_expected/iife.js
index 240a5fe78..fe62cfdfd 100644
--- a/test/form/samples/export-default-3/_expected/iife.js
+++ b/test/form/samples/export-default-3/_expected/iife.js
@@ -5,4 +5,4 @@ var myBundle = (function () {
 
 	return bar;
 
-}());
+})();
diff --git a/test/form/samples/export-default-3/_expected/system.js b/test/form/samples/export-default-3/_expected/system.js
index a7450c3b9..bca3c9c95 100644
--- a/test/form/samples/export-default-3/_expected/system.js
+++ b/test/form/samples/export-default-3/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var bar = exports('default', 1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/export-default-3/_expected/umd.js b/test/form/samples/export-default-3/_expected/umd.js
index 9e3d59ff2..84e9930bc 100644
--- a/test/form/samples/export-default-3/_expected/umd.js
+++ b/test/form/samples/export-default-3/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var bar = 1;
 
 	return bar;
 
-})));
+}));
diff --git a/test/form/samples/export-default-4/_expected/amd.js b/test/form/samples/export-default-4/_expected/amd.js
index 37d25711e..538fc7738 100644
--- a/test/form/samples/export-default-4/_expected/amd.js
+++ b/test/form/samples/export-default-4/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/export-default-4/_expected/iife.js b/test/form/samples/export-default-4/_expected/iife.js
index 7ad351039..3a75d08c7 100644
--- a/test/form/samples/export-default-4/_expected/iife.js
+++ b/test/form/samples/export-default-4/_expected/iife.js
@@ -7,4 +7,4 @@ this.my.global.namespace = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/export-default-4/_expected/system.js b/test/form/samples/export-default-4/_expected/system.js
index 944f6665e..11c73d212 100644
--- a/test/form/samples/export-default-4/_expected/system.js
+++ b/test/form/samples/export-default-4/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('my.global.namespace', [], function (exports) {
+System.register('my.global.namespace', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/export-default-4/_expected/umd.js b/test/form/samples/export-default-4/_expected/umd.js
index 1b9c9d9e2..afebcefeb 100644
--- a/test/form/samples/export-default-4/_expected/umd.js
+++ b/test/form/samples/export-default-4/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.my = global.my || {}, global.my.global = global.my.global || {}, global.my.global.namespace = factory()));
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/export-default-anonymous-declarations/_expected/amd.js b/test/form/samples/export-default-anonymous-declarations/_expected/amd.js
index 7afc55c09..88598ec73 100644
--- a/test/form/samples/export-default-anonymous-declarations/_expected/amd.js
+++ b/test/form/samples/export-default-anonymous-declarations/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
   // jsjjjsjjjjsjs
 
@@ -87,4 +87,4 @@ define(function () { 'use strict';
   spacelessFn();
   spacelessGenerator();
 
-});
+}));
diff --git a/test/form/samples/export-default-anonymous-declarations/_expected/iife.js b/test/form/samples/export-default-anonymous-declarations/_expected/iife.js
index 333f54e91..ebd10c6ba 100644
--- a/test/form/samples/export-default-anonymous-declarations/_expected/iife.js
+++ b/test/form/samples/export-default-anonymous-declarations/_expected/iife.js
@@ -88,4 +88,4 @@
   spacelessFn();
   spacelessGenerator();
 
-}());
+})();
diff --git a/test/form/samples/export-default-anonymous-declarations/_expected/system.js b/test/form/samples/export-default-anonymous-declarations/_expected/system.js
index fb0d9f2bd..1935b586a 100644
--- a/test/form/samples/export-default-anonymous-declarations/_expected/system.js
+++ b/test/form/samples/export-default-anonymous-declarations/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       // jsjjjsjjjjsjs
 
@@ -90,6 +90,6 @@ System.register([], function () {
       spacelessFn();
       spacelessGenerator();
 
-    }
+    })
   };
-});
+}));
diff --git a/test/form/samples/export-default-anonymous-declarations/_expected/umd.js b/test/form/samples/export-default-anonymous-declarations/_expected/umd.js
index c3cb44956..f0499be9d 100644
--- a/test/form/samples/export-default-anonymous-declarations/_expected/umd.js
+++ b/test/form/samples/export-default-anonymous-declarations/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
   typeof define === 'function' && define.amd ? define(factory) :
   factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
   // jsjjjsjjjjsjs
 
@@ -90,4 +90,4 @@
   spacelessFn();
   spacelessGenerator();
 
-})));
+}));
diff --git a/test/form/samples/export-default-global/_expected/amd.js b/test/form/samples/export-default-global/_expected/amd.js
index 11c4b8a2b..a6daec5fd 100644
--- a/test/form/samples/export-default-global/_expected/amd.js
+++ b/test/form/samples/export-default-global/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var value = global;
 
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
 	return value;
 
-});
+}));
diff --git a/test/form/samples/export-default-global/_expected/iife.js b/test/form/samples/export-default-global/_expected/iife.js
index f6ecf1c56..abfe29231 100644
--- a/test/form/samples/export-default-global/_expected/iife.js
+++ b/test/form/samples/export-default-global/_expected/iife.js
@@ -7,4 +7,4 @@ var bundle = (function () {
 
 	return value;
 
-}());
+})();
diff --git a/test/form/samples/export-default-global/_expected/system.js b/test/form/samples/export-default-global/_expected/system.js
index 832f55e60..a8e6c4eb2 100644
--- a/test/form/samples/export-default-global/_expected/system.js
+++ b/test/form/samples/export-default-global/_expected/system.js
@@ -1,12 +1,12 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var value = exports('default', global);
 
 			console.log(value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/export-default-global/_expected/umd.js b/test/form/samples/export-default-global/_expected/umd.js
index 05c823224..e50a58623 100644
--- a/test/form/samples/export-default-global/_expected/umd.js
+++ b/test/form/samples/export-default-global/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.bundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var value = global;
 
@@ -10,4 +10,4 @@
 
 	return value;
 
-})));
+}));
diff --git a/test/form/samples/export-default-import/_expected/amd.js b/test/form/samples/export-default-import/_expected/amd.js
index 9374f722d..d02a8653f 100644
--- a/test/form/samples/export-default-import/_expected/amd.js
+++ b/test/form/samples/export-default-import/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'x'], function (exports, x) { 'use strict';
+define(['exports', 'x'], (function (exports, x) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -8,11 +8,9 @@ define(['exports', 'x'], function (exports, x) { 'use strict';
 
 	Object.defineProperty(exports, 'x', {
 		enumerable: true,
-		get: function () {
-			return x__default['default'];
-		}
+		get: function () { return x__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/export-default-import/_expected/cjs.js b/test/form/samples/export-default-import/_expected/cjs.js
index 1eb4eacef..a13d92fe8 100644
--- a/test/form/samples/export-default-import/_expected/cjs.js
+++ b/test/form/samples/export-default-import/_expected/cjs.js
@@ -12,7 +12,5 @@ var x__default = /*#__PURE__*/_interopDefaultLegacy(x);
 
 Object.defineProperty(exports, 'x', {
 	enumerable: true,
-	get: function () {
-		return x__default['default'];
-	}
+	get: function () { return x__default["default"]; }
 });
diff --git a/test/form/samples/export-default-import/_expected/iife.js b/test/form/samples/export-default-import/_expected/iife.js
index a5fa3cc6f..a60ee2f2c 100644
--- a/test/form/samples/export-default-import/_expected/iife.js
+++ b/test/form/samples/export-default-import/_expected/iife.js
@@ -9,13 +9,11 @@ var myBundle = (function (exports, x) {
 
 	Object.defineProperty(exports, 'x', {
 		enumerable: true,
-		get: function () {
-			return x__default['default'];
-		}
+		get: function () { return x__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
 	return exports;
 
-}({}, x));
+})({}, x);
diff --git a/test/form/samples/export-default-import/_expected/system.js b/test/form/samples/export-default-import/_expected/system.js
index a3bb75db5..6f6dd8d6c 100644
--- a/test/form/samples/export-default-import/_expected/system.js
+++ b/test/form/samples/export-default-import/_expected/system.js
@@ -1,13 +1,13 @@
-System.register('myBundle', ['x'], function (exports) {
+System.register('myBundle', ['x'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('x', module.default);
+			exports('x', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/export-default-import/_expected/umd.js b/test/form/samples/export-default-import/_expected/umd.js
index 7d1f9ad72..54ef517c0 100644
--- a/test/form/samples/export-default-import/_expected/umd.js
+++ b/test/form/samples/export-default-import/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('x')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'x'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}, global.x));
-}(this, (function (exports, x) { 'use strict';
+})(this, (function (exports, x) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -12,11 +12,9 @@
 
 	Object.defineProperty(exports, 'x', {
 		enumerable: true,
-		get: function () {
-			return x__default['default'];
-		}
+		get: function () { return x__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/export-default/_expected/amd.js b/test/form/samples/export-default/_expected/amd.js
index 37d25711e..538fc7738 100644
--- a/test/form/samples/export-default/_expected/amd.js
+++ b/test/form/samples/export-default/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/export-default/_expected/iife.js b/test/form/samples/export-default/_expected/iife.js
index 69d1387d3..69055258f 100644
--- a/test/form/samples/export-default/_expected/iife.js
+++ b/test/form/samples/export-default/_expected/iife.js
@@ -5,4 +5,4 @@ var myBundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/export-default/_expected/system.js b/test/form/samples/export-default/_expected/system.js
index 28ccfcd3c..5208878df 100644
--- a/test/form/samples/export-default/_expected/system.js
+++ b/test/form/samples/export-default/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/export-default/_expected/umd.js b/test/form/samples/export-default/_expected/umd.js
index 6fa2ed814..cd252572f 100644
--- a/test/form/samples/export-default/_expected/umd.js
+++ b/test/form/samples/export-default/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/export-globals/_expected/amd.js b/test/form/samples/export-globals/_expected/amd.js
index d0070ffa6..bb48fc7d4 100644
--- a/test/form/samples/export-globals/_expected/amd.js
+++ b/test/form/samples/export-globals/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const localIsNaN = isNaN;
 
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/export-globals/_expected/iife.js b/test/form/samples/export-globals/_expected/iife.js
index 5186540ab..ac24624dd 100644
--- a/test/form/samples/export-globals/_expected/iife.js
+++ b/test/form/samples/export-globals/_expected/iife.js
@@ -11,4 +11,4 @@ var myBundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/export-globals/_expected/system.js b/test/form/samples/export-globals/_expected/system.js
index 7f3a8eaf9..3f8860f4e 100644
--- a/test/form/samples/export-globals/_expected/system.js
+++ b/test/form/samples/export-globals/_expected/system.js
@@ -1,12 +1,12 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const localIsNaN = isNaN;
 
 			const isNaN$1 = exports('isNaN', localIsNaN);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/export-globals/_expected/umd.js b/test/form/samples/export-globals/_expected/umd.js
index 5cf968e96..c07e271c0 100644
--- a/test/form/samples/export-globals/_expected/umd.js
+++ b/test/form/samples/export-globals/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const localIsNaN = isNaN;
 
@@ -12,4 +12,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/export-live-bindings/_expected/amd.js b/test/form/samples/export-live-bindings/_expected/amd.js
index ddcf72690..7d95bcef0 100644
--- a/test/form/samples/export-live-bindings/_expected/amd.js
+++ b/test/form/samples/export-live-bindings/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
   function update$2 () {
     exports.foo += 10;
@@ -34,4 +34,4 @@ define(['exports'], function (exports) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/export-live-bindings/_expected/iife.js b/test/form/samples/export-live-bindings/_expected/iife.js
index af6372697..cd910a407 100644
--- a/test/form/samples/export-live-bindings/_expected/iife.js
+++ b/test/form/samples/export-live-bindings/_expected/iife.js
@@ -37,4 +37,4 @@ var iife = (function (exports) {
 
   return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/export-live-bindings/_expected/system.js b/test/form/samples/export-live-bindings/_expected/system.js
index f17b516db..b4aea4a88 100644
--- a/test/form/samples/export-live-bindings/_expected/system.js
+++ b/test/form/samples/export-live-bindings/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('iife', [], function (exports) {
+System.register('iife', [], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports({
         updateBar: update$1,
@@ -37,6 +37,6 @@ System.register('iife', [], function (exports) {
       update();
       console.log(baz);
 
-    }
+    })
   };
-});
+}));
diff --git a/test/form/samples/export-live-bindings/_expected/umd.js b/test/form/samples/export-live-bindings/_expected/umd.js
index ef1ea60cd..937f28a16 100644
--- a/test/form/samples/export-live-bindings/_expected/umd.js
+++ b/test/form/samples/export-live-bindings/_expected/umd.js
@@ -2,7 +2,7 @@
   typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
   typeof define === 'function' && define.amd ? define(['exports'], factory) :
   (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.iife = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
   function update$2 () {
     exports.foo += 10;
@@ -38,4 +38,4 @@
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/export-multiple-vars/_expected/amd.js b/test/form/samples/export-multiple-vars/_expected/amd.js
index 37a26783c..80bffa190 100644
--- a/test/form/samples/export-multiple-vars/_expected/amd.js
+++ b/test/form/samples/export-multiple-vars/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var a = 1;
 
@@ -10,4 +10,4 @@ define(function () { 'use strict';
 	assert.equal( e, 5 );
 	assert.equal( i, 9 );
 
-});
+}));
diff --git a/test/form/samples/export-multiple-vars/_expected/iife.js b/test/form/samples/export-multiple-vars/_expected/iife.js
index 2bc534b53..f3ba61f9b 100644
--- a/test/form/samples/export-multiple-vars/_expected/iife.js
+++ b/test/form/samples/export-multiple-vars/_expected/iife.js
@@ -11,4 +11,4 @@
 	assert.equal( e, 5 );
 	assert.equal( i, 9 );
 
-}());
+})();
diff --git a/test/form/samples/export-multiple-vars/_expected/system.js b/test/form/samples/export-multiple-vars/_expected/system.js
index bde10e4df..e56dc3842 100644
--- a/test/form/samples/export-multiple-vars/_expected/system.js
+++ b/test/form/samples/export-multiple-vars/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var a = 1;
 
@@ -13,6 +13,6 @@ System.register([], function () {
 			assert.equal( e, 5 );
 			assert.equal( i, 9 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/export-multiple-vars/_expected/umd.js b/test/form/samples/export-multiple-vars/_expected/umd.js
index 83f49903e..fb641304b 100644
--- a/test/form/samples/export-multiple-vars/_expected/umd.js
+++ b/test/form/samples/export-multiple-vars/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var a = 1;
 
@@ -13,4 +13,4 @@
 	assert.equal( e, 5 );
 	assert.equal( i, 9 );
 
-})));
+}));
diff --git a/test/form/samples/export-namespace-as/_expected/amd.js b/test/form/samples/export-namespace-as/_expected/amd.js
index 289423f76..a1ec2936e 100644
--- a/test/form/samples/export-namespace-as/_expected/amd.js
+++ b/test/form/samples/export-namespace-as/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = 'foo1';
 	const bar = 'bar1';
@@ -13,4 +13,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/export-namespace-as/_expected/iife.js b/test/form/samples/export-namespace-as/_expected/iife.js
index 47b399d40..f5621fcf0 100644
--- a/test/form/samples/export-namespace-as/_expected/iife.js
+++ b/test/form/samples/export-namespace-as/_expected/iife.js
@@ -16,4 +16,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/export-namespace-as/_expected/system.js b/test/form/samples/export-namespace-as/_expected/system.js
index e1e4e1c01..682a5404c 100644
--- a/test/form/samples/export-namespace-as/_expected/system.js
+++ b/test/form/samples/export-namespace-as/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = 'foo1';
 			const bar = 'bar1';
@@ -13,6 +13,6 @@ System.register('bundle', [], function (exports) {
 			});
 			exports('dep', dep);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/export-namespace-as/_expected/umd.js b/test/form/samples/export-namespace-as/_expected/umd.js
index a32e9ef17..84efdfa40 100644
--- a/test/form/samples/export-namespace-as/_expected/umd.js
+++ b/test/form/samples/export-namespace-as/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const foo = 'foo1';
 	const bar = 'bar1';
@@ -17,4 +17,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/exports-at-end-if-possible/_expected/amd.js b/test/form/samples/exports-at-end-if-possible/_expected/amd.js
index 7138aff3d..e54ab3911 100644
--- a/test/form/samples/exports-at-end-if-possible/_expected/amd.js
+++ b/test/form/samples/exports-at-end-if-possible/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var FOO = 'foo';
 
@@ -10,4 +10,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/exports-at-end-if-possible/_expected/iife.js b/test/form/samples/exports-at-end-if-possible/_expected/iife.js
index e38bd7d01..7575534a4 100644
--- a/test/form/samples/exports-at-end-if-possible/_expected/iife.js
+++ b/test/form/samples/exports-at-end-if-possible/_expected/iife.js
@@ -13,4 +13,4 @@ var myBundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/exports-at-end-if-possible/_expected/system.js b/test/form/samples/exports-at-end-if-possible/_expected/system.js
index 22213a198..2ea985b7b 100644
--- a/test/form/samples/exports-at-end-if-possible/_expected/system.js
+++ b/test/form/samples/exports-at-end-if-possible/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var FOO = exports('FOO', 'foo');
 
@@ -9,6 +9,6 @@ System.register('myBundle', [], function (exports) {
 			console.log( FOO );
 			console.log( FOO );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/exports-at-end-if-possible/_expected/umd.js b/test/form/samples/exports-at-end-if-possible/_expected/umd.js
index 7caa83aa1..3f885ef27 100644
--- a/test/form/samples/exports-at-end-if-possible/_expected/umd.js
+++ b/test/form/samples/exports-at-end-if-possible/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	var FOO = 'foo';
 
@@ -14,4 +14,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/extend-exports/_expected/amd.js b/test/form/samples/extend-exports/_expected/amd.js
index 8e845b543..f8bddcee7 100644
--- a/test/form/samples/extend-exports/_expected/amd.js
+++ b/test/form/samples/extend-exports/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const answer = 42;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/extend-exports/_expected/iife.js b/test/form/samples/extend-exports/_expected/iife.js
index 99010aa02..b6cd7c4fa 100644
--- a/test/form/samples/extend-exports/_expected/iife.js
+++ b/test/form/samples/extend-exports/_expected/iife.js
@@ -7,4 +7,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-}(this.foo = this.foo || {}));
+})(this.foo = this.foo || {});
diff --git a/test/form/samples/extend-exports/_expected/system.js b/test/form/samples/extend-exports/_expected/system.js
index c6f5464d0..ca2e4bb7e 100644
--- a/test/form/samples/extend-exports/_expected/system.js
+++ b/test/form/samples/extend-exports/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('foo', [], function (exports) {
+System.register('foo', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const answer = exports('answer', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/extend-exports/_expected/umd.js b/test/form/samples/extend-exports/_expected/umd.js
index 8bdb1ef5e..00da9b65f 100644
--- a/test/form/samples/extend-exports/_expected/umd.js
+++ b/test/form/samples/extend-exports/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.foo = global.foo || {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const answer = 42;
 
@@ -10,4 +10,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/extend-namespaced-exports/_expected/amd.js b/test/form/samples/extend-namespaced-exports/_expected/amd.js
index 8e845b543..f8bddcee7 100644
--- a/test/form/samples/extend-namespaced-exports/_expected/amd.js
+++ b/test/form/samples/extend-namespaced-exports/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const answer = 42;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/extend-namespaced-exports/_expected/iife.js b/test/form/samples/extend-namespaced-exports/_expected/iife.js
index a32a30b52..8c0662c80 100644
--- a/test/form/samples/extend-namespaced-exports/_expected/iife.js
+++ b/test/form/samples/extend-namespaced-exports/_expected/iife.js
@@ -9,4 +9,4 @@ this.foo.bar = this.foo.bar || {};
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-}(this.foo.bar.baz = this.foo.bar.baz || {}));
+})(this.foo.bar.baz = this.foo.bar.baz || {});
diff --git a/test/form/samples/extend-namespaced-exports/_expected/system.js b/test/form/samples/extend-namespaced-exports/_expected/system.js
index b9ad72977..3f825d958 100644
--- a/test/form/samples/extend-namespaced-exports/_expected/system.js
+++ b/test/form/samples/extend-namespaced-exports/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('foo.bar.baz', [], function (exports) {
+System.register('foo.bar.baz', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const answer = exports('answer', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/extend-namespaced-exports/_expected/umd.js b/test/form/samples/extend-namespaced-exports/_expected/umd.js
index 5723cec50..119a86b2f 100644
--- a/test/form/samples/extend-namespaced-exports/_expected/umd.js
+++ b/test/form/samples/extend-namespaced-exports/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.foo = global.foo || {}, global.foo.bar = global.foo.bar || {}, global.foo.bar.baz = global.foo.bar.baz || {})));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const answer = 42;
 
@@ -10,4 +10,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/external-deshadowing/_expected/amd.js b/test/form/samples/external-deshadowing/_expected/amd.js
index 562eefc8d..fa2b848dd 100644
--- a/test/form/samples/external-deshadowing/_expected/amd.js
+++ b/test/form/samples/external-deshadowing/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'a', 'b'], function (exports, a, Test$1) { 'use strict';
+define(['exports', 'a', 'b'], (function (exports, a, Test$1) { 'use strict';
 
   function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -9,7 +9,7 @@ define(['exports', 'a', 'b'], function (exports, a, Test$1) { 'use strict';
   };
 
   const Test1 = () => {
-    console.log(Test__default['default']);
+    console.log(Test__default["default"]);
   };
 
   exports.Test = Test;
@@ -17,4 +17,4 @@ define(['exports', 'a', 'b'], function (exports, a, Test$1) { 'use strict';
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/external-deshadowing/_expected/cjs.js b/test/form/samples/external-deshadowing/_expected/cjs.js
index 7bb98d46f..0808fe52b 100644
--- a/test/form/samples/external-deshadowing/_expected/cjs.js
+++ b/test/form/samples/external-deshadowing/_expected/cjs.js
@@ -14,7 +14,7 @@ const Test = () => {
 };
 
 const Test1 = () => {
-  console.log(Test__default['default']);
+  console.log(Test__default["default"]);
 };
 
 exports.Test = Test;
diff --git a/test/form/samples/external-deshadowing/_expected/iife.js b/test/form/samples/external-deshadowing/_expected/iife.js
index 76f082e94..e7fc0f138 100644
--- a/test/form/samples/external-deshadowing/_expected/iife.js
+++ b/test/form/samples/external-deshadowing/_expected/iife.js
@@ -10,7 +10,7 @@ var myBundle = (function (exports, a, Test$1) {
   };
 
   const Test1 = () => {
-    console.log(Test__default['default']);
+    console.log(Test__default["default"]);
   };
 
   exports.Test = Test;
@@ -20,4 +20,4 @@ var myBundle = (function (exports, a, Test$1) {
 
   return exports;
 
-}({}, a, b));
+})({}, a, b);
diff --git a/test/form/samples/external-deshadowing/_expected/system.js b/test/form/samples/external-deshadowing/_expected/system.js
index d4ffc8320..fa1385c7e 100644
--- a/test/form/samples/external-deshadowing/_expected/system.js
+++ b/test/form/samples/external-deshadowing/_expected/system.js
@@ -1,13 +1,13 @@
-System.register('myBundle', ['a', 'b'], function (exports) {
+System.register('myBundle', ['a', 'b'], (function (exports) {
   'use strict';
   var Test$1, Test$2;
   return {
     setters: [function (module) {
       Test$1 = module.Test;
     }, function (module) {
-      Test$2 = module.default;
+      Test$2 = module["default"];
     }],
-    execute: function () {
+    execute: (function () {
 
       const Test = exports('Test', () => {
         console.log(Test$1);
@@ -17,6 +17,6 @@ System.register('myBundle', ['a', 'b'], function (exports) {
         console.log(Test$2);
       });
 
-    }
+    })
   };
-});
+}));
diff --git a/test/form/samples/external-deshadowing/_expected/umd.js b/test/form/samples/external-deshadowing/_expected/umd.js
index 6c1b57796..f1a40ddfb 100644
--- a/test/form/samples/external-deshadowing/_expected/umd.js
+++ b/test/form/samples/external-deshadowing/_expected/umd.js
@@ -2,7 +2,7 @@
   typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('a'), require('b')) :
   typeof define === 'function' && define.amd ? define(['exports', 'a', 'b'], factory) :
   (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}, global.a, global.b));
-}(this, (function (exports, a, Test$1) { 'use strict';
+})(this, (function (exports, a, Test$1) { 'use strict';
 
   function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -13,7 +13,7 @@
   };
 
   const Test1 = () => {
-    console.log(Test__default['default']);
+    console.log(Test__default["default"]);
   };
 
   exports.Test = Test;
@@ -21,4 +21,4 @@
 
   Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/external-empty-import-no-global-b/_expected/amd.js b/test/form/samples/external-empty-import-no-global-b/_expected/amd.js
index 1881f3601..a49da482a 100644
--- a/test/form/samples/external-empty-import-no-global-b/_expected/amd.js
+++ b/test/form/samples/external-empty-import-no-global-b/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['babel-polyfill', 'other'], function (babelPolyfill, other) { 'use strict';
+define(['babel-polyfill', 'other'], (function (babelPolyfill, other) { 'use strict';
 
 	other.x();
 
@@ -6,4 +6,4 @@ define(['babel-polyfill', 'other'], function (babelPolyfill, other) { 'use stric
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/external-empty-import-no-global-b/_expected/iife.js b/test/form/samples/external-empty-import-no-global-b/_expected/iife.js
index f0f77a3c4..b9b1e92fd 100644
--- a/test/form/samples/external-empty-import-no-global-b/_expected/iife.js
+++ b/test/form/samples/external-empty-import-no-global-b/_expected/iife.js
@@ -7,4 +7,4 @@ var myBundle = (function (babelPolyfill, other) {
 
 	return main;
 
-}(null, other));
+})(null, other);
diff --git a/test/form/samples/external-empty-import-no-global-b/_expected/system.js b/test/form/samples/external-empty-import-no-global-b/_expected/system.js
index 81d11c022..e14f7ee51 100644
--- a/test/form/samples/external-empty-import-no-global-b/_expected/system.js
+++ b/test/form/samples/external-empty-import-no-global-b/_expected/system.js
@@ -1,16 +1,16 @@
-System.register('myBundle', ['babel-polyfill', 'other'], function (exports) {
+System.register('myBundle', ['babel-polyfill', 'other'], (function (exports) {
 	'use strict';
 	var x;
 	return {
 		setters: [function () {}, function (module) {
 			x = module.x;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			x();
 
 			var main = exports('default', new WeakMap());
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/external-empty-import-no-global-b/_expected/umd.js b/test/form/samples/external-empty-import-no-global-b/_expected/umd.js
index 2e7177838..e361ffd35 100644
--- a/test/form/samples/external-empty-import-no-global-b/_expected/umd.js
+++ b/test/form/samples/external-empty-import-no-global-b/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('babel-polyfill'), require('other')) :
 	typeof define === 'function' && define.amd ? define(['babel-polyfill', 'other'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory(null, global.other));
-}(this, (function (babelPolyfill, other) { 'use strict';
+})(this, (function (babelPolyfill, other) { 'use strict';
 
 	other.x();
 
@@ -10,4 +10,4 @@
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/external-empty-import-no-global/_expected/amd.js b/test/form/samples/external-empty-import-no-global/_expected/amd.js
index a54a8285e..871015b77 100644
--- a/test/form/samples/external-empty-import-no-global/_expected/amd.js
+++ b/test/form/samples/external-empty-import-no-global/_expected/amd.js
@@ -1,7 +1,7 @@
-define(['babel-polyfill'], function (babelPolyfill) { 'use strict';
+define(['babel-polyfill'], (function (babelPolyfill) { 'use strict';
 
 	var main = new WeakMap();
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/external-empty-import-no-global/_expected/iife.js b/test/form/samples/external-empty-import-no-global/_expected/iife.js
index 02b6db6bb..00adedc97 100644
--- a/test/form/samples/external-empty-import-no-global/_expected/iife.js
+++ b/test/form/samples/external-empty-import-no-global/_expected/iife.js
@@ -5,4 +5,4 @@ var myBundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/external-empty-import-no-global/_expected/system.js b/test/form/samples/external-empty-import-no-global/_expected/system.js
index f1c91387b..68fa2d4eb 100644
--- a/test/form/samples/external-empty-import-no-global/_expected/system.js
+++ b/test/form/samples/external-empty-import-no-global/_expected/system.js
@@ -1,11 +1,11 @@
-System.register('myBundle', ['babel-polyfill'], function (exports) {
+System.register('myBundle', ['babel-polyfill'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', new WeakMap());
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/external-empty-import-no-global/_expected/umd.js b/test/form/samples/external-empty-import-no-global/_expected/umd.js
index 591772afb..c1aa940c1 100644
--- a/test/form/samples/external-empty-import-no-global/_expected/umd.js
+++ b/test/form/samples/external-empty-import-no-global/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('babel-polyfill')) :
 	typeof define === 'function' && define.amd ? define(['babel-polyfill'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = new WeakMap();
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/external-export-tracing/_expected/amd.js b/test/form/samples/external-export-tracing/_expected/amd.js
index 3feb4663a..434d4d85f 100644
--- a/test/form/samples/external-export-tracing/_expected/amd.js
+++ b/test/form/samples/external-export-tracing/_expected/amd.js
@@ -1,14 +1,12 @@
-define(['exports', 'external'], function (exports, external) { 'use strict';
+define(['exports', 'external'], (function (exports, external) { 'use strict';
 
 
 
 	Object.defineProperty(exports, 's', {
 		enumerable: true,
-		get: function () {
-			return external.p;
-		}
+		get: function () { return external.p; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/external-export-tracing/_expected/cjs.js b/test/form/samples/external-export-tracing/_expected/cjs.js
index 90e80982b..f7e2ce636 100644
--- a/test/form/samples/external-export-tracing/_expected/cjs.js
+++ b/test/form/samples/external-export-tracing/_expected/cjs.js
@@ -8,7 +8,5 @@ var external = require('external');
 
 Object.defineProperty(exports, 's', {
 	enumerable: true,
-	get: function () {
-		return external.p;
-	}
+	get: function () { return external.p; }
 });
diff --git a/test/form/samples/external-export-tracing/_expected/iife.js b/test/form/samples/external-export-tracing/_expected/iife.js
index 003e55a49..e57a9a135 100644
--- a/test/form/samples/external-export-tracing/_expected/iife.js
+++ b/test/form/samples/external-export-tracing/_expected/iife.js
@@ -5,13 +5,11 @@ var myBundle = (function (exports, external) {
 
 	Object.defineProperty(exports, 's', {
 		enumerable: true,
-		get: function () {
-			return external.p;
-		}
+		get: function () { return external.p; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
 	return exports;
 
-}({}, external));
+})({}, external);
diff --git a/test/form/samples/external-export-tracing/_expected/system.js b/test/form/samples/external-export-tracing/_expected/system.js
index d19d560ef..041d4054c 100644
--- a/test/form/samples/external-export-tracing/_expected/system.js
+++ b/test/form/samples/external-export-tracing/_expected/system.js
@@ -1,13 +1,13 @@
-System.register('myBundle', ['external'], function (exports) {
+System.register('myBundle', ['external'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('s', module.p);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/external-export-tracing/_expected/umd.js b/test/form/samples/external-export-tracing/_expected/umd.js
index cb2447cda..bce4dec43 100644
--- a/test/form/samples/external-export-tracing/_expected/umd.js
+++ b/test/form/samples/external-export-tracing/_expected/umd.js
@@ -2,15 +2,13 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}, global.external));
-}(this, (function (exports, external) { 'use strict';
+})(this, (function (exports, external) { 'use strict';
 
 	Object.defineProperty(exports, 's', {
 		enumerable: true,
-		get: function () {
-			return external.p;
-		}
+		get: function () { return external.p; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/external-import-alias-shadow/_expected/amd.js b/test/form/samples/external-import-alias-shadow/_expected/amd.js
index c2c8da9d1..afdbb9bd5 100644
--- a/test/form/samples/external-import-alias-shadow/_expected/amd.js
+++ b/test/form/samples/external-import-alias-shadow/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['acorn'], function (acorn) { 'use strict';
+define(['acorn'], (function (acorn) { 'use strict';
 
 	function parse(source) {
 		return acorn.parse(source, { ecmaVersion: 6 });
@@ -6,4 +6,4 @@ define(['acorn'], function (acorn) { 'use strict';
 
 	console.log(parse('foo'));
 
-});
+}));
diff --git a/test/form/samples/external-import-alias-shadow/_expected/iife.js b/test/form/samples/external-import-alias-shadow/_expected/iife.js
index 22334d724..0e1e67ca2 100644
--- a/test/form/samples/external-import-alias-shadow/_expected/iife.js
+++ b/test/form/samples/external-import-alias-shadow/_expected/iife.js
@@ -7,4 +7,4 @@
 
 	console.log(parse('foo'));
 
-}(acorn));
+})(acorn);
diff --git a/test/form/samples/external-import-alias-shadow/_expected/system.js b/test/form/samples/external-import-alias-shadow/_expected/system.js
index 9f2513b21..176ff3d7d 100644
--- a/test/form/samples/external-import-alias-shadow/_expected/system.js
+++ b/test/form/samples/external-import-alias-shadow/_expected/system.js
@@ -1,11 +1,11 @@
-System.register(['acorn'], function () {
+System.register(['acorn'], (function () {
 	'use strict';
 	var parse$1;
 	return {
 		setters: [function (module) {
 			parse$1 = module.parse;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			function parse(source) {
 				return parse$1(source, { ecmaVersion: 6 });
@@ -13,6 +13,6 @@ System.register(['acorn'], function () {
 
 			console.log(parse('foo'));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/external-import-alias-shadow/_expected/umd.js b/test/form/samples/external-import-alias-shadow/_expected/umd.js
index 1a0eaf0cf..0873a02e3 100644
--- a/test/form/samples/external-import-alias-shadow/_expected/umd.js
+++ b/test/form/samples/external-import-alias-shadow/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('acorn')) :
 	typeof define === 'function' && define.amd ? define(['acorn'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.acorn));
-}(this, (function (acorn) { 'use strict';
+})(this, (function (acorn) { 'use strict';
 
 	function parse(source) {
 		return acorn.parse(source, { ecmaVersion: 6 });
@@ -10,4 +10,4 @@
 
 	console.log(parse('foo'));
 
-})));
+}));
diff --git a/test/form/samples/external-imports-custom-names-function/_expected/amd.js b/test/form/samples/external-imports-custom-names-function/_expected/amd.js
index bc3f1b57e..4cad3d081 100644
--- a/test/form/samples/external-imports-custom-names-function/_expected/amd.js
+++ b/test/form/samples/external-imports-custom-names-function/_expected/amd.js
@@ -1,5 +1,5 @@
-define(['a-b-c'], function (aBC) { 'use strict';
+define(['a-b-c'], (function (aBC) { 'use strict';
 
 	aBC.foo();
 
-});
+}));
diff --git a/test/form/samples/external-imports-custom-names-function/_expected/iife.js b/test/form/samples/external-imports-custom-names-function/_expected/iife.js
index 7618f1490..67641e975 100644
--- a/test/form/samples/external-imports-custom-names-function/_expected/iife.js
+++ b/test/form/samples/external-imports-custom-names-function/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	aBC.foo();
 
-}(a_b_c));
+})(a_b_c);
diff --git a/test/form/samples/external-imports-custom-names-function/_expected/system.js b/test/form/samples/external-imports-custom-names-function/_expected/system.js
index fcea6a8dd..1143e473e 100644
--- a/test/form/samples/external-imports-custom-names-function/_expected/system.js
+++ b/test/form/samples/external-imports-custom-names-function/_expected/system.js
@@ -1,14 +1,14 @@
-System.register(['a-b-c'], function () {
+System.register(['a-b-c'], (function () {
 	'use strict';
 	var foo;
 	return {
 		setters: [function (module) {
 			foo = module.foo;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			foo();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/external-imports-custom-names-function/_expected/umd.js b/test/form/samples/external-imports-custom-names-function/_expected/umd.js
index 13eb618cd..9efed3d49 100644
--- a/test/form/samples/external-imports-custom-names-function/_expected/umd.js
+++ b/test/form/samples/external-imports-custom-names-function/_expected/umd.js
@@ -2,8 +2,8 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('a-b-c')) :
 	typeof define === 'function' && define.amd ? define(['a-b-c'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.a_b_c));
-}(this, (function (aBC) { 'use strict';
+})(this, (function (aBC) { 'use strict';
 
 	aBC.foo();
 
-})));
+}));
diff --git a/test/form/samples/external-imports-custom-names/_expected/amd.js b/test/form/samples/external-imports-custom-names/_expected/amd.js
index 0a219ce96..b0fd74dba 100644
--- a/test/form/samples/external-imports-custom-names/_expected/amd.js
+++ b/test/form/samples/external-imports-custom-names/_expected/amd.js
@@ -1,11 +1,11 @@
-define(['jquery'], function ($) { 'use strict';
+define(['jquery'], (function ($) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var $__default = /*#__PURE__*/_interopDefaultLegacy($);
 
-	$__default['default']( function () {
-		$__default['default']( 'body' ).html( '<h1>hello world!</h1>' );
+	$__default["default"]( function () {
+		$__default["default"]( 'body' ).html( '<h1>hello world!</h1>' );
 	});
 
-});
+}));
diff --git a/test/form/samples/external-imports-custom-names/_expected/cjs.js b/test/form/samples/external-imports-custom-names/_expected/cjs.js
index 28f510517..869395d75 100644
--- a/test/form/samples/external-imports-custom-names/_expected/cjs.js
+++ b/test/form/samples/external-imports-custom-names/_expected/cjs.js
@@ -6,6 +6,6 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var $__default = /*#__PURE__*/_interopDefaultLegacy($);
 
-$__default['default']( function () {
-	$__default['default']( 'body' ).html( '<h1>hello world!</h1>' );
+$__default["default"]( function () {
+	$__default["default"]( 'body' ).html( '<h1>hello world!</h1>' );
 });
diff --git a/test/form/samples/external-imports-custom-names/_expected/iife.js b/test/form/samples/external-imports-custom-names/_expected/iife.js
index 5616022b3..9a40e2aba 100644
--- a/test/form/samples/external-imports-custom-names/_expected/iife.js
+++ b/test/form/samples/external-imports-custom-names/_expected/iife.js
@@ -5,8 +5,8 @@
 
 	var $__default = /*#__PURE__*/_interopDefaultLegacy($);
 
-	$__default['default']( function () {
-		$__default['default']( 'body' ).html( '<h1>hello world!</h1>' );
+	$__default["default"]( function () {
+		$__default["default"]( 'body' ).html( '<h1>hello world!</h1>' );
 	});
 
-}(jQuery));
+})(jQuery);
diff --git a/test/form/samples/external-imports-custom-names/_expected/system.js b/test/form/samples/external-imports-custom-names/_expected/system.js
index 578940cdf..70d583584 100644
--- a/test/form/samples/external-imports-custom-names/_expected/system.js
+++ b/test/form/samples/external-imports-custom-names/_expected/system.js
@@ -1,16 +1,16 @@
-System.register(['jquery'], function () {
+System.register(['jquery'], (function () {
 	'use strict';
 	var $;
 	return {
 		setters: [function (module) {
-			$ = module.default;
+			$ = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			$( function () {
 				$( 'body' ).html( '<h1>hello world!</h1>' );
 			});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/external-imports-custom-names/_expected/umd.js b/test/form/samples/external-imports-custom-names/_expected/umd.js
index 51cdb7894..8b5f1adcd 100644
--- a/test/form/samples/external-imports-custom-names/_expected/umd.js
+++ b/test/form/samples/external-imports-custom-names/_expected/umd.js
@@ -2,14 +2,14 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('jquery')) :
 	typeof define === 'function' && define.amd ? define(['jquery'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.jQuery));
-}(this, (function ($) { 'use strict';
+})(this, (function ($) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var $__default = /*#__PURE__*/_interopDefaultLegacy($);
 
-	$__default['default']( function () {
-		$__default['default']( 'body' ).html( '<h1>hello world!</h1>' );
+	$__default["default"]( function () {
+		$__default["default"]( 'body' ).html( '<h1>hello world!</h1>' );
 	});
 
-})));
+}));
diff --git a/test/form/samples/external-imports/_expected/amd.js b/test/form/samples/external-imports/_expected/amd.js
index ebca9e90d..10b206c95 100644
--- a/test/form/samples/external-imports/_expected/amd.js
+++ b/test/form/samples/external-imports/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['factory', 'baz', 'shipping-port', 'alphabet'], function (factory, baz, containers, alphabet) { 'use strict';
+define(['factory', 'baz', 'shipping-port', 'alphabet'], (function (factory, baz, containers, alphabet) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -11,14 +11,12 @@ define(['factory', 'baz', 'shipping-port', 'alphabet'], function (factory, baz,
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -26,10 +24,10 @@ define(['factory', 'baz', 'shipping-port', 'alphabet'], function (factory, baz,
 	var containers__namespace = /*#__PURE__*/_interopNamespace(containers);
 	var alphabet__default = /*#__PURE__*/_interopDefaultLegacy(alphabet);
 
-	factory__default['default']( null );
+	factory__default["default"]( null );
 	baz.foo( baz.bar, containers.port );
 	containers__namespace.forEach( console.log, console );
 	console.log( alphabet.a );
-	console.log( alphabet__default['default'].length );
+	console.log( alphabet__default["default"].length );
 
-});
+}));
diff --git a/test/form/samples/external-imports/_expected/cjs.js b/test/form/samples/external-imports/_expected/cjs.js
index edba84b5d..aac4a6232 100644
--- a/test/form/samples/external-imports/_expected/cjs.js
+++ b/test/form/samples/external-imports/_expected/cjs.js
@@ -16,14 +16,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
@@ -31,8 +29,8 @@ var factory__default = /*#__PURE__*/_interopDefaultLegacy(factory);
 var containers__namespace = /*#__PURE__*/_interopNamespace(containers);
 var alphabet__default = /*#__PURE__*/_interopDefaultLegacy(alphabet);
 
-factory__default['default']( null );
+factory__default["default"]( null );
 baz.foo( baz.bar, containers.port );
 containers__namespace.forEach( console.log, console );
 console.log( alphabet.a );
-console.log( alphabet__default['default'].length );
+console.log( alphabet__default["default"].length );
diff --git a/test/form/samples/external-imports/_expected/iife.js b/test/form/samples/external-imports/_expected/iife.js
index 3f4c57236..5c8d666ff 100644
--- a/test/form/samples/external-imports/_expected/iife.js
+++ b/test/form/samples/external-imports/_expected/iife.js
@@ -12,14 +12,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -27,10 +25,10 @@
 	var containers__namespace = /*#__PURE__*/_interopNamespace(containers);
 	var alphabet__default = /*#__PURE__*/_interopDefaultLegacy(alphabet);
 
-	factory__default['default']( null );
+	factory__default["default"]( null );
 	baz.foo( baz.bar, containers.port );
 	containers__namespace.forEach( console.log, console );
 	console.log( alphabet.a );
-	console.log( alphabet__default['default'].length );
+	console.log( alphabet__default["default"].length );
 
-}(factory, baz, containers, alphabet));
+})(factory, baz, containers, alphabet);
diff --git a/test/form/samples/external-imports/_expected/system.js b/test/form/samples/external-imports/_expected/system.js
index 2bdce0451..75adb26d0 100644
--- a/test/form/samples/external-imports/_expected/system.js
+++ b/test/form/samples/external-imports/_expected/system.js
@@ -1,9 +1,9 @@
-System.register(['factory', 'baz', 'shipping-port', 'alphabet'], function () {
+System.register(['factory', 'baz', 'shipping-port', 'alphabet'], (function () {
 	'use strict';
 	var factory, foo, bar, port, containers, a, alphabet;
 	return {
 		setters: [function (module) {
-			factory = module.default;
+			factory = module["default"];
 		}, function (module) {
 			foo = module.foo;
 			bar = module.bar;
@@ -12,9 +12,9 @@ System.register(['factory', 'baz', 'shipping-port', 'alphabet'], function () {
 			containers = module;
 		}, function (module) {
 			a = module.a;
-			alphabet = module.default;
+			alphabet = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			factory( null );
 			foo( bar, port );
@@ -22,6 +22,6 @@ System.register(['factory', 'baz', 'shipping-port', 'alphabet'], function () {
 			console.log( a );
 			console.log( alphabet.length );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/external-imports/_expected/umd.js b/test/form/samples/external-imports/_expected/umd.js
index 287214a43..239e4bef5 100644
--- a/test/form/samples/external-imports/_expected/umd.js
+++ b/test/form/samples/external-imports/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('factory'), require('baz'), require('shipping-port'), require('alphabet')) :
 	typeof define === 'function' && define.amd ? define(['factory', 'baz', 'shipping-port', 'alphabet'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.factory, global.baz, global.containers, global.alphabet));
-}(this, (function (factory, baz, containers, alphabet) { 'use strict';
+})(this, (function (factory, baz, containers, alphabet) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -15,14 +15,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -30,10 +28,10 @@
 	var containers__namespace = /*#__PURE__*/_interopNamespace(containers);
 	var alphabet__default = /*#__PURE__*/_interopDefaultLegacy(alphabet);
 
-	factory__default['default']( null );
+	factory__default["default"]( null );
 	baz.foo( baz.bar, containers.port );
 	containers__namespace.forEach( console.log, console );
 	console.log( alphabet.a );
-	console.log( alphabet__default['default'].length );
+	console.log( alphabet__default["default"].length );
 
-})));
+}));
diff --git a/test/form/samples/external-namespace-and-named/_expected/amd.js b/test/form/samples/external-namespace-and-named/_expected/amd.js
index 36e658f1b..078af489c 100644
--- a/test/form/samples/external-namespace-and-named/_expected/amd.js
+++ b/test/form/samples/external-namespace-and-named/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['foo'], function (foo) { 'use strict';
+define(['foo'], (function (foo) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,14 +9,12 @@ define(['foo'], function (foo) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -26,4 +24,4 @@ define(['foo'], function (foo) { 'use strict';
 	console.log(foo.blah);
 	console.log(foo.bar);
 
-});
+}));
diff --git a/test/form/samples/external-namespace-and-named/_expected/cjs.js b/test/form/samples/external-namespace-and-named/_expected/cjs.js
index 45ac12b51..5926d4e01 100644
--- a/test/form/samples/external-namespace-and-named/_expected/cjs.js
+++ b/test/form/samples/external-namespace-and-named/_expected/cjs.js
@@ -11,14 +11,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/form/samples/external-namespace-and-named/_expected/iife.js b/test/form/samples/external-namespace-and-named/_expected/iife.js
index d6fc1602b..17f3a7061 100644
--- a/test/form/samples/external-namespace-and-named/_expected/iife.js
+++ b/test/form/samples/external-namespace-and-named/_expected/iife.js
@@ -10,14 +10,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -27,4 +25,4 @@
 	console.log(foo.blah);
 	console.log(foo.bar);
 
-}(foo));
+})(foo);
diff --git a/test/form/samples/external-namespace-and-named/_expected/system.js b/test/form/samples/external-namespace-and-named/_expected/system.js
index b5dcc06e5..afb78f8ac 100644
--- a/test/form/samples/external-namespace-and-named/_expected/system.js
+++ b/test/form/samples/external-namespace-and-named/_expected/system.js
@@ -1,4 +1,4 @@
-System.register(['foo'], function () {
+System.register(['foo'], (function () {
 	'use strict';
 	var foo, blah, bar;
 	return {
@@ -7,12 +7,12 @@ System.register(['foo'], function () {
 			blah = module.blah;
 			bar = module.bar;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo);
 			console.log(blah);
 			console.log(bar);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/external-namespace-and-named/_expected/umd.js b/test/form/samples/external-namespace-and-named/_expected/umd.js
index 97d68c705..4d4957477 100644
--- a/test/form/samples/external-namespace-and-named/_expected/umd.js
+++ b/test/form/samples/external-namespace-and-named/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('foo')) :
 	typeof define === 'function' && define.amd ? define(['foo'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.foo));
-}(this, (function (foo) { 'use strict';
+})(this, (function (foo) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -13,14 +13,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -30,4 +28,4 @@
 	console.log(foo.blah);
 	console.log(foo.bar);
 
-})));
+}));
diff --git a/test/form/samples/external-namespace-reexport/_expected/amd.js b/test/form/samples/external-namespace-reexport/_expected/amd.js
index da3ea8411..082f53517 100644
--- a/test/form/samples/external-namespace-reexport/_expected/amd.js
+++ b/test/form/samples/external-namespace-reexport/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'highcharts'], function (exports, highcharts) { 'use strict';
+define(['exports', 'highcharts'], (function (exports, highcharts) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,14 +9,12 @@ define(['exports', 'highcharts'], function (exports, highcharts) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -28,4 +26,4 @@ define(['exports', 'highcharts'], function (exports, highcharts) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/external-namespace-reexport/_expected/cjs.js b/test/form/samples/external-namespace-reexport/_expected/cjs.js
index 0910a223d..1627a746f 100644
--- a/test/form/samples/external-namespace-reexport/_expected/cjs.js
+++ b/test/form/samples/external-namespace-reexport/_expected/cjs.js
@@ -13,14 +13,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/form/samples/external-namespace-reexport/_expected/iife.js b/test/form/samples/external-namespace-reexport/_expected/iife.js
index d0342edfe..7b8d572e9 100644
--- a/test/form/samples/external-namespace-reexport/_expected/iife.js
+++ b/test/form/samples/external-namespace-reexport/_expected/iife.js
@@ -10,14 +10,12 @@ var myBundle = (function (exports, highcharts) {
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -31,4 +29,4 @@ var myBundle = (function (exports, highcharts) {
 
 	return exports;
 
-}({}, highcharts));
+})({}, highcharts);
diff --git a/test/form/samples/external-namespace-reexport/_expected/system.js b/test/form/samples/external-namespace-reexport/_expected/system.js
index a37440ce7..3b7f938b1 100644
--- a/test/form/samples/external-namespace-reexport/_expected/system.js
+++ b/test/form/samples/external-namespace-reexport/_expected/system.js
@@ -1,13 +1,13 @@
-System.register('myBundle', ['highcharts'], function (exports) {
+System.register('myBundle', ['highcharts'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('Highcharts', module);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/external-namespace-reexport/_expected/umd.js b/test/form/samples/external-namespace-reexport/_expected/umd.js
index 14db1a480..920437300 100644
--- a/test/form/samples/external-namespace-reexport/_expected/umd.js
+++ b/test/form/samples/external-namespace-reexport/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('highcharts')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'highcharts'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}, global.highcharts));
-}(this, (function (exports, highcharts) { 'use strict';
+})(this, (function (exports, highcharts) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -13,14 +13,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -32,4 +30,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/for-loop-body-var-declaration/_expected/amd.js b/test/form/samples/for-loop-body-var-declaration/_expected/amd.js
index 65f8e046c..f84f617f9 100644
--- a/test/form/samples/for-loop-body-var-declaration/_expected/amd.js
+++ b/test/form/samples/for-loop-body-var-declaration/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	for(var x=1;x<2;x++)var d=x|0;console.log(d);
 
-});
+}));
diff --git a/test/form/samples/for-loop-body-var-declaration/_expected/iife.js b/test/form/samples/for-loop-body-var-declaration/_expected/iife.js
index 1619ca1df..dea724f2a 100644
--- a/test/form/samples/for-loop-body-var-declaration/_expected/iife.js
+++ b/test/form/samples/for-loop-body-var-declaration/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	for(var x=1;x<2;x++)var d=x|0;console.log(d);
 
-}());
+})();
diff --git a/test/form/samples/for-loop-body-var-declaration/_expected/system.js b/test/form/samples/for-loop-body-var-declaration/_expected/system.js
index 5bb134edf..ce190d9ae 100644
--- a/test/form/samples/for-loop-body-var-declaration/_expected/system.js
+++ b/test/form/samples/for-loop-body-var-declaration/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			for(var x=1;x<2;x++)var d=x|0;console.log(d);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/for-loop-body-var-declaration/_expected/umd.js b/test/form/samples/for-loop-body-var-declaration/_expected/umd.js
index cde29d795..e056f8931 100644
--- a/test/form/samples/for-loop-body-var-declaration/_expected/umd.js
+++ b/test/form/samples/for-loop-body-var-declaration/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	for(var x=1;x<2;x++)var d=x|0;console.log(d);
 
-})));
+}));
diff --git a/test/form/samples/for-loop-with-empty-head/_expected/amd.js b/test/form/samples/for-loop-with-empty-head/_expected/amd.js
index ed463fcf9..53c25fed8 100644
--- a/test/form/samples/for-loop-with-empty-head/_expected/amd.js
+++ b/test/form/samples/for-loop-with-empty-head/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	for ( ; ; ) {
 		console.log( 42 );
 	}
 
-});
+}));
diff --git a/test/form/samples/for-loop-with-empty-head/_expected/iife.js b/test/form/samples/for-loop-with-empty-head/_expected/iife.js
index ec08c262c..1a8a296f6 100644
--- a/test/form/samples/for-loop-with-empty-head/_expected/iife.js
+++ b/test/form/samples/for-loop-with-empty-head/_expected/iife.js
@@ -5,4 +5,4 @@
 		console.log( 42 );
 	}
 
-}());
+})();
diff --git a/test/form/samples/for-loop-with-empty-head/_expected/system.js b/test/form/samples/for-loop-with-empty-head/_expected/system.js
index 14aba10ca..c11bef05b 100644
--- a/test/form/samples/for-loop-with-empty-head/_expected/system.js
+++ b/test/form/samples/for-loop-with-empty-head/_expected/system.js
@@ -1,12 +1,12 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			for ( ; ; ) {
 				console.log( 42 );
 			}
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/for-loop-with-empty-head/_expected/umd.js b/test/form/samples/for-loop-with-empty-head/_expected/umd.js
index 4c6d53bea..a16c18e27 100644
--- a/test/form/samples/for-loop-with-empty-head/_expected/umd.js
+++ b/test/form/samples/for-loop-with-empty-head/_expected/umd.js
@@ -1,10 +1,10 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	for ( ; ; ) {
 		console.log( 42 );
 	}
 
-})));
+}));
diff --git a/test/form/samples/for-scopes/_expected/amd.js b/test/form/samples/for-scopes/_expected/amd.js
index 72223f259..c5ffbbd05 100644
--- a/test/form/samples/for-scopes/_expected/amd.js
+++ b/test/form/samples/for-scopes/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var effect1 = () => console.log( 'effect' );
 	var associated = () => {};
@@ -13,4 +13,4 @@ define(function () { 'use strict';
 		break;
 	}
 
-});
+}));
diff --git a/test/form/samples/for-scopes/_expected/iife.js b/test/form/samples/for-scopes/_expected/iife.js
index 3a8413c83..22af3f357 100644
--- a/test/form/samples/for-scopes/_expected/iife.js
+++ b/test/form/samples/for-scopes/_expected/iife.js
@@ -14,4 +14,4 @@
 		break;
 	}
 
-}());
+})();
diff --git a/test/form/samples/for-scopes/_expected/system.js b/test/form/samples/for-scopes/_expected/system.js
index 7a467a415..b89327168 100644
--- a/test/form/samples/for-scopes/_expected/system.js
+++ b/test/form/samples/for-scopes/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var effect1 = () => console.log( 'effect' );
 			var associated = () => {};
@@ -16,6 +16,6 @@ System.register([], function () {
 				break;
 			}
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/for-scopes/_expected/umd.js b/test/form/samples/for-scopes/_expected/umd.js
index e13a8263c..f7ca57920 100644
--- a/test/form/samples/for-scopes/_expected/umd.js
+++ b/test/form/samples/for-scopes/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var effect1 = () => console.log( 'effect' );
 	var associated = () => {};
@@ -16,4 +16,4 @@
 		break;
 	}
 
-})));
+}));
diff --git a/test/form/samples/freeze/_expected/amd.js b/test/form/samples/freeze/_expected/amd.js
index 6d5f5acc9..478b4f113 100644
--- a/test/form/samples/freeze/_expected/amd.js
+++ b/test/form/samples/freeze/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = 1;
 	const bar = 2;
@@ -19,4 +19,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/freeze/_expected/iife.js b/test/form/samples/freeze/_expected/iife.js
index ab4dcbd0d..dbacfaa73 100644
--- a/test/form/samples/freeze/_expected/iife.js
+++ b/test/form/samples/freeze/_expected/iife.js
@@ -22,4 +22,4 @@ var myBundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/freeze/_expected/system.js b/test/form/samples/freeze/_expected/system.js
index 61af5d661..c22cf9774 100644
--- a/test/form/samples/freeze/_expected/system.js
+++ b/test/form/samples/freeze/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = 1;
 			const bar = 2;
@@ -17,6 +17,6 @@ System.register('myBundle', [], function (exports) {
 			const a = exports('a', 1);
 			const b = exports('b', 2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/freeze/_expected/umd.js b/test/form/samples/freeze/_expected/umd.js
index c40ed7b74..8725f8651 100644
--- a/test/form/samples/freeze/_expected/umd.js
+++ b/test/form/samples/freeze/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const foo = 1;
 	const bar = 2;
@@ -23,4 +23,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/function-call-parameters/_expected/amd.js b/test/form/samples/function-call-parameters/_expected/amd.js
index d864d70c3..a6108eadc 100644
--- a/test/form/samples/function-call-parameters/_expected/amd.js
+++ b/test/form/samples/function-call-parameters/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	// parameters are associated correctly
 	const retained1 = function ( func, obj ) { return func( obj ); };
@@ -43,4 +43,4 @@ define(function () { 'use strict';
 
 	retained7( {}, {} );
 
-});
+}));
diff --git a/test/form/samples/function-call-parameters/_expected/iife.js b/test/form/samples/function-call-parameters/_expected/iife.js
index 4c7db0eab..599667b4f 100644
--- a/test/form/samples/function-call-parameters/_expected/iife.js
+++ b/test/form/samples/function-call-parameters/_expected/iife.js
@@ -44,4 +44,4 @@
 
 	retained7( {}, {} );
 
-}());
+})();
diff --git a/test/form/samples/function-call-parameters/_expected/system.js b/test/form/samples/function-call-parameters/_expected/system.js
index 506151eff..377df4947 100644
--- a/test/form/samples/function-call-parameters/_expected/system.js
+++ b/test/form/samples/function-call-parameters/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			// parameters are associated correctly
 			const retained1 = function ( func, obj ) { return func( obj ); };
@@ -46,6 +46,6 @@ System.register([], function () {
 
 			retained7( {}, {} );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/function-call-parameters/_expected/umd.js b/test/form/samples/function-call-parameters/_expected/umd.js
index b634bd838..a00ea3f3a 100644
--- a/test/form/samples/function-call-parameters/_expected/umd.js
+++ b/test/form/samples/function-call-parameters/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	// parameters are associated correctly
 	const retained1 = function ( func, obj ) { return func( obj ); };
@@ -46,4 +46,4 @@
 
 	retained7( {}, {} );
 
-})));
+}));
diff --git a/test/form/samples/function-mutation/_expected/amd.js b/test/form/samples/function-mutation/_expected/amd.js
index c234d477b..2cd946dc8 100644
--- a/test/form/samples/function-mutation/_expected/amd.js
+++ b/test/form/samples/function-mutation/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	function foo () {
 		console.log( 'foo' );
@@ -47,4 +47,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/function-mutation/_expected/iife.js b/test/form/samples/function-mutation/_expected/iife.js
index 80540ce31..dff16f1df 100644
--- a/test/form/samples/function-mutation/_expected/iife.js
+++ b/test/form/samples/function-mutation/_expected/iife.js
@@ -50,4 +50,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/function-mutation/_expected/system.js b/test/form/samples/function-mutation/_expected/system.js
index 84a751184..74e107762 100644
--- a/test/form/samples/function-mutation/_expected/system.js
+++ b/test/form/samples/function-mutation/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('a', a);
 
@@ -44,6 +44,6 @@ System.register('bundle', [], function (exports) {
 			});
 			i.foo = foo;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/function-mutation/_expected/umd.js b/test/form/samples/function-mutation/_expected/umd.js
index 7425cc7ef..4ebe59cad 100644
--- a/test/form/samples/function-mutation/_expected/umd.js
+++ b/test/form/samples/function-mutation/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	function foo () {
 		console.log( 'foo' );
@@ -51,4 +51,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/function-scopes/_expected/amd.js b/test/form/samples/function-scopes/_expected/amd.js
index fbfeceffe..b77466233 100644
--- a/test/form/samples/function-scopes/_expected/amd.js
+++ b/test/form/samples/function-scopes/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var effect1 = () => console.log( 'effect' ); // must not be removed!
 	function isKept1 ( x = effect1 ) {
@@ -18,4 +18,4 @@ define(function () { 'use strict';
 	};
 	isKept3();
 
-});
+}));
diff --git a/test/form/samples/function-scopes/_expected/iife.js b/test/form/samples/function-scopes/_expected/iife.js
index 4369e6543..f85fa359d 100644
--- a/test/form/samples/function-scopes/_expected/iife.js
+++ b/test/form/samples/function-scopes/_expected/iife.js
@@ -19,4 +19,4 @@
 	};
 	isKept3();
 
-}());
+})();
diff --git a/test/form/samples/function-scopes/_expected/system.js b/test/form/samples/function-scopes/_expected/system.js
index 2f36e9fa1..af5613225 100644
--- a/test/form/samples/function-scopes/_expected/system.js
+++ b/test/form/samples/function-scopes/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var effect1 = () => console.log( 'effect' ); // must not be removed!
 			function isKept1 ( x = effect1 ) {
@@ -21,6 +21,6 @@ System.register([], function () {
 			};
 			isKept3();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/function-scopes/_expected/umd.js b/test/form/samples/function-scopes/_expected/umd.js
index 644652368..2ed35fc92 100644
--- a/test/form/samples/function-scopes/_expected/umd.js
+++ b/test/form/samples/function-scopes/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var effect1 = () => console.log( 'effect' ); // must not be removed!
 	function isKept1 ( x = effect1 ) {
@@ -21,4 +21,4 @@
 	};
 	isKept3();
 
-})));
+}));
diff --git a/test/form/samples/generated-code-compact/arrow-functions-false/_config.js b/test/form/samples/generated-code-compact/arrow-functions-false/_config.js
new file mode 100644
index 000000000..ffecad616
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-false/_config.js
@@ -0,0 +1,31 @@
+module.exports = {
+	description: 'does not use arrow functions',
+	options: {
+		external: [
+			'external',
+			'externalAuto',
+			'externalDefault',
+			'externalDefaultOnly',
+			'externalNoImport'
+		],
+		strictDeprecations: false,
+		output: {
+			compact: true,
+			generatedCode: { arrowFunctions: false },
+			interop(id) {
+				if (id === 'externalDefault') {
+					return 'default';
+				}
+				if (id === 'externalDefaultOnly') {
+					return 'defaultOnly';
+				}
+				if (id === 'externalAuto') {
+					return 'auto';
+				}
+				return true;
+			},
+			name: 'bundle',
+			noConflict: true
+		}
+	}
+};
diff --git a/test/form/samples/generated-code-compact/arrow-functions-false/_expected/amd.js b/test/form/samples/generated-code-compact/arrow-functions-false/_expected/amd.js
new file mode 100644
index 000000000..b3dd52b17
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-false/_expected/amd.js
@@ -0,0 +1,12 @@
+define(['require','exports','externalNoImport','external','externalAuto','externalDefault','externalDefaultOnly'],(function(require,exports,externalNoImport,defaultLegacy,externalAuto,externalDefault,externalDefaultOnly){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e:{'default':e}}function _interopDefault(e){return e&&e.__esModule?e:{'default':e}}function _interopNamespaceDefaultOnly(e){return Object.freeze({__proto__:null,'default':e})}function _interopNamespaceDefault(e){var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n["default"]=e;return Object.freeze(n)}function _interopNamespace(e){return e&&e.__esModule?e:_interopNamespaceDefault(e)}function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var defaultLegacy__namespace=/*#__PURE__*/_interopNamespace(defaultLegacy);var defaultLegacy__default=/*#__PURE__*/_interopDefaultLegacy(defaultLegacy);var externalAuto__default=/*#__PURE__*/_interopDefault(externalAuto);var externalDefault__namespace=/*#__PURE__*/_interopNamespaceDefault(externalDefault);var externalDefaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);exports.a=void 0;
+
+({ a: exports.a } = defaultLegacy.b);
+console.log({ a: exports.a } = defaultLegacy.b);
+
+Promise.resolve().then(function(){return main}).then(console.log);
+
+new Promise(function(c,e){require(['external'],function(m){c(/*#__PURE__*/_interopNamespace(m))},e)}).then(console.log);
+console.log(defaultLegacy__default["default"]);
+console.log(externalAuto__default["default"]);
+console.log(externalDefault__namespace);
+console.log(externalDefaultOnly__namespace);var main=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,get a(){return exports.a},foo:foo}, [defaultLegacy__namespace]));Object.defineProperty(exports,'foo',{enumerable:true,get:function(){return defaultLegacy.foo}});Object.keys(defaultLegacy).forEach(function(k){if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:function(){return defaultLegacy[k]}})});Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-false/_expected/cjs.js b/test/form/samples/generated-code-compact/arrow-functions-false/_expected/cjs.js
new file mode 100644
index 000000000..852f20c99
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-false/_expected/cjs.js
@@ -0,0 +1,12 @@
+'use strict';Object.defineProperty(exports,'__esModule',{value:true});require('externalNoImport');var defaultLegacy=require('external'),externalAuto=require('externalAuto'),externalDefault=require('externalDefault'),externalDefaultOnly=require('externalDefaultOnly');function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e:{'default':e}}function _interopDefault(e){return e&&e.__esModule?e:{'default':e}}function _interopNamespaceDefaultOnly(e){return Object.freeze({__proto__:null,'default':e})}function _interopNamespaceDefault(e){var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n["default"]=e;return Object.freeze(n)}function _interopNamespace(e){return e&&e.__esModule?e:_interopNamespaceDefault(e)}function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var defaultLegacy__namespace=/*#__PURE__*/_interopNamespace(defaultLegacy);var defaultLegacy__default=/*#__PURE__*/_interopDefaultLegacy(defaultLegacy);var externalAuto__default=/*#__PURE__*/_interopDefault(externalAuto);var externalDefault__namespace=/*#__PURE__*/_interopNamespaceDefault(externalDefault);var externalDefaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);exports.a=void 0;
+
+({ a: exports.a } = defaultLegacy.b);
+console.log({ a: exports.a } = defaultLegacy.b);
+
+Promise.resolve().then(function(){return main}).then(console.log);
+
+Promise.resolve().then(function(){return /*#__PURE__*/_interopNamespace(require('external'))}).then(console.log);
+console.log(defaultLegacy__default["default"]);
+console.log(externalAuto__default["default"]);
+console.log(externalDefault__namespace);
+console.log(externalDefaultOnly__namespace);var main=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,get a(){return exports.a},foo:foo}, [defaultLegacy__namespace]));Object.defineProperty(exports,'foo',{enumerable:true,get:function(){return defaultLegacy.foo}});Object.keys(defaultLegacy).forEach(function(k){if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:function(){return defaultLegacy[k]}})});
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-false/_expected/es.js b/test/form/samples/generated-code-compact/arrow-functions-false/_expected/es.js
new file mode 100644
index 000000000..27df1de57
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-false/_expected/es.js
@@ -0,0 +1,12 @@
+import'externalNoImport';import*as defaultLegacy from'external';import defaultLegacy__default,{b}from'external';export*from'external';export{foo}from'external';import externalAuto from'externalAuto';import*as externalDefault from'externalDefault';import*as externalDefaultOnly from'externalDefaultOnly';function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}let a;
+
+({ a } = b);
+console.log({ a } = b);
+
+Promise.resolve().then(function(){return main}).then(console.log);
+
+import('external').then(console.log);
+console.log(defaultLegacy__default);
+console.log(externalAuto);
+console.log(externalDefault);
+console.log(externalDefaultOnly);var main=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,get a(){return a},foo:foo}, [defaultLegacy]));export{a};
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-false/_expected/iife.js b/test/form/samples/generated-code-compact/arrow-functions-false/_expected/iife.js
new file mode 100644
index 000000000..ca906637a
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-false/_expected/iife.js
@@ -0,0 +1,12 @@
+var bundle=(function(exports,externalNoImport,defaultLegacy,externalAuto,externalDefault,externalDefaultOnly){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e:{'default':e}}function _interopDefault(e){return e&&e.__esModule?e:{'default':e}}function _interopNamespaceDefaultOnly(e){return Object.freeze({__proto__:null,'default':e})}function _interopNamespaceDefault(e){var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n["default"]=e;return Object.freeze(n)}function _interopNamespace(e){return e&&e.__esModule?e:_interopNamespaceDefault(e)}function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var defaultLegacy__namespace=/*#__PURE__*/_interopNamespace(defaultLegacy);var defaultLegacy__default=/*#__PURE__*/_interopDefaultLegacy(defaultLegacy);var externalAuto__default=/*#__PURE__*/_interopDefault(externalAuto);var externalDefault__namespace=/*#__PURE__*/_interopNamespaceDefault(externalDefault);var externalDefaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);exports.a=void 0;
+
+({ a: exports.a } = defaultLegacy.b);
+console.log({ a: exports.a } = defaultLegacy.b);
+
+Promise.resolve().then(function(){return main}).then(console.log);
+
+import('external').then(console.log);
+console.log(defaultLegacy__default["default"]);
+console.log(externalAuto__default["default"]);
+console.log(externalDefault__namespace);
+console.log(externalDefaultOnly__namespace);var main=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,get a(){return exports.a},foo:foo}, [defaultLegacy__namespace]));Object.defineProperty(exports,'foo',{enumerable:true,get:function(){return defaultLegacy.foo}});Object.keys(defaultLegacy).forEach(function(k){if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:function(){return defaultLegacy[k]}})});Object.defineProperty(exports,'__esModule',{value:true});return exports;})({},null,defaultLegacy,externalAuto,externalDefault,externalDefaultOnly);
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-false/_expected/system.js b/test/form/samples/generated-code-compact/arrow-functions-false/_expected/system.js
new file mode 100644
index 000000000..6a5b9c5e7
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-false/_expected/system.js
@@ -0,0 +1,12 @@
+System.register('bundle',['externalNoImport','external','externalAuto','externalDefault','externalDefaultOnly'],(function(exports,module){'use strict';var _starExcludes={a:1,'default':1,foo:1};var b,defaultLegacy,defaultLegacy__default,externalAuto,externalDefault,externalDefaultOnly;return{setters:[function(){},function(module){b=module.b;defaultLegacy=module;defaultLegacy__default=module["default"];var setter={foo:module.foo};for(var name in module){if(!_starExcludes[name])setter[name]=module[name];}exports(setter);},function(module){externalAuto=module["default"];},function(module){externalDefault=module;},function(module){externalDefaultOnly=module;}],execute:(function(){function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}let a; exports('a',a);
+
+(function(v){return exports('a',a),v})({ a } = b);
+console.log(function(v){return exports('a',a),v}({ a } = b));
+
+Promise.resolve().then(function(){return main}).then(console.log);
+
+module.import('external').then(console.log);
+console.log(defaultLegacy__default);
+console.log(externalAuto);
+console.log(externalDefault);
+console.log(externalDefaultOnly);var main=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,get a(){return a},foo:foo}, [defaultLegacy]));})}}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-false/_expected/umd.js b/test/form/samples/generated-code-compact/arrow-functions-false/_expected/umd.js
new file mode 100644
index 000000000..d997e58c8
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-false/_expected/umd.js
@@ -0,0 +1,12 @@
+(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(exports,require('externalNoImport'),require('external'),require('externalAuto'),require('externalDefault'),require('externalDefaultOnly')):typeof define==='function'&&define.amd?define(['exports','externalNoImport','external','externalAuto','externalDefault','externalDefaultOnly'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,(function(){var current=g.bundle;var e=g.bundle={};f(e,null,g.defaultLegacy,g.externalAuto,g.externalDefault,g.externalDefaultOnly);e.noConflict=function(){g.bundle=current;return e};})());})(this,(function(exports,externalNoImport,defaultLegacy,externalAuto,externalDefault,externalDefaultOnly){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e:{'default':e}}function _interopDefault(e){return e&&e.__esModule?e:{'default':e}}function _interopNamespaceDefaultOnly(e){return Object.freeze({__proto__:null,'default':e})}function _interopNamespaceDefault(e){var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n["default"]=e;return Object.freeze(n)}function _interopNamespace(e){return e&&e.__esModule?e:_interopNamespaceDefault(e)}function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var defaultLegacy__namespace=/*#__PURE__*/_interopNamespace(defaultLegacy);var defaultLegacy__default=/*#__PURE__*/_interopDefaultLegacy(defaultLegacy);var externalAuto__default=/*#__PURE__*/_interopDefault(externalAuto);var externalDefault__namespace=/*#__PURE__*/_interopNamespaceDefault(externalDefault);var externalDefaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);exports.a=void 0;
+
+({ a: exports.a } = defaultLegacy.b);
+console.log({ a: exports.a } = defaultLegacy.b);
+
+Promise.resolve().then(function(){return main}).then(console.log);
+
+import('external').then(console.log);
+console.log(defaultLegacy__default["default"]);
+console.log(externalAuto__default["default"]);
+console.log(externalDefault__namespace);
+console.log(externalDefaultOnly__namespace);var main=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,get a(){return exports.a},foo:foo}, [defaultLegacy__namespace]));Object.defineProperty(exports,'foo',{enumerable:true,get:function(){return defaultLegacy.foo}});Object.keys(defaultLegacy).forEach(function(k){if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:function(){return defaultLegacy[k]}})});Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-false/main.js b/test/form/samples/generated-code-compact/arrow-functions-false/main.js
new file mode 120000
index 000000000..85a708339
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-false/main.js
@@ -0,0 +1 @@
+../../generated-code/arrow-functions-false/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-true/_config.js b/test/form/samples/generated-code-compact/arrow-functions-true/_config.js
new file mode 100644
index 000000000..f206f3215
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-true/_config.js
@@ -0,0 +1,31 @@
+module.exports = {
+	description: 'uses arrow functions',
+	options: {
+		external: [
+			'external',
+			'externalAuto',
+			'externalDefault',
+			'externalDefaultOnly',
+			'externalNoImport'
+		],
+		strictDeprecations: false,
+		output: {
+			compact: true,
+			generatedCode: { arrowFunctions: true },
+			interop(id) {
+				if (id === 'externalDefault') {
+					return 'default';
+				}
+				if (id === 'externalDefaultOnly') {
+					return 'defaultOnly';
+				}
+				if (id === 'externalAuto') {
+					return 'auto';
+				}
+				return true;
+			},
+			name: 'bundle',
+			noConflict: true
+		}
+	}
+};
diff --git a/test/form/samples/generated-code-compact/arrow-functions-true/_expected/amd.js b/test/form/samples/generated-code-compact/arrow-functions-true/_expected/amd.js
new file mode 100644
index 000000000..21ae2c1e3
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-true/_expected/amd.js
@@ -0,0 +1,12 @@
+define(['require','exports','externalNoImport','external','externalAuto','externalDefault','externalDefaultOnly'],(function(require,exports,externalNoImport,defaultLegacy,externalAuto,externalDefault,externalDefaultOnly){'use strict';var _interopDefaultLegacy=e=>e&&typeof e==='object'&&'default'in e?e:{'default':e};var _interopDefault=e=>e&&e.__esModule?e:{'default':e};var _interopNamespaceDefaultOnly=e=>Object.freeze({__proto__:null,'default':e});function _interopNamespaceDefault(e){var n=Object.create(null);if(e){Object.keys(e).forEach(k=>{if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}})}n["default"]=e;return Object.freeze(n)}var _interopNamespace=e=>e&&e.__esModule?e:_interopNamespaceDefault(e);function _mergeNamespaces(n, m){m.forEach(e=>Object.keys(e).forEach(k=>{if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}));return Object.freeze(n);}var defaultLegacy__namespace=/*#__PURE__*/_interopNamespace(defaultLegacy);var defaultLegacy__default=/*#__PURE__*/_interopDefaultLegacy(defaultLegacy);var externalAuto__default=/*#__PURE__*/_interopDefault(externalAuto);var externalDefault__namespace=/*#__PURE__*/_interopNamespaceDefault(externalDefault);var externalDefaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);exports.a=void 0;
+
+({ a: exports.a } = defaultLegacy.b);
+console.log({ a: exports.a } = defaultLegacy.b);
+
+Promise.resolve().then(()=>main).then(console.log);
+
+new Promise((c,e)=>require(['external'],m=>c(/*#__PURE__*/_interopNamespace(m)),e)).then(console.log);
+console.log(defaultLegacy__default["default"]);
+console.log(externalAuto__default["default"]);
+console.log(externalDefault__namespace);
+console.log(externalDefaultOnly__namespace);var main=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,get a(){return exports.a},foo:foo}, [defaultLegacy__namespace]));Object.defineProperty(exports,'foo',{enumerable:true,get:()=>defaultLegacy.foo});Object.keys(defaultLegacy).forEach(k=>{if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:()=>defaultLegacy[k]})});Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-true/_expected/cjs.js b/test/form/samples/generated-code-compact/arrow-functions-true/_expected/cjs.js
new file mode 100644
index 000000000..1b486e907
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-true/_expected/cjs.js
@@ -0,0 +1,12 @@
+'use strict';Object.defineProperty(exports,'__esModule',{value:true});require('externalNoImport');var defaultLegacy=require('external'),externalAuto=require('externalAuto'),externalDefault=require('externalDefault'),externalDefaultOnly=require('externalDefaultOnly');var _interopDefaultLegacy=e=>e&&typeof e==='object'&&'default'in e?e:{'default':e};var _interopDefault=e=>e&&e.__esModule?e:{'default':e};var _interopNamespaceDefaultOnly=e=>Object.freeze({__proto__:null,'default':e});function _interopNamespaceDefault(e){var n=Object.create(null);if(e){Object.keys(e).forEach(k=>{if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}})}n["default"]=e;return Object.freeze(n)}var _interopNamespace=e=>e&&e.__esModule?e:_interopNamespaceDefault(e);function _mergeNamespaces(n, m){m.forEach(e=>Object.keys(e).forEach(k=>{if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}));return Object.freeze(n);}var defaultLegacy__namespace=/*#__PURE__*/_interopNamespace(defaultLegacy);var defaultLegacy__default=/*#__PURE__*/_interopDefaultLegacy(defaultLegacy);var externalAuto__default=/*#__PURE__*/_interopDefault(externalAuto);var externalDefault__namespace=/*#__PURE__*/_interopNamespaceDefault(externalDefault);var externalDefaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);exports.a=void 0;
+
+({ a: exports.a } = defaultLegacy.b);
+console.log({ a: exports.a } = defaultLegacy.b);
+
+Promise.resolve().then(()=>main).then(console.log);
+
+Promise.resolve().then(()=>/*#__PURE__*/_interopNamespace(require('external'))).then(console.log);
+console.log(defaultLegacy__default["default"]);
+console.log(externalAuto__default["default"]);
+console.log(externalDefault__namespace);
+console.log(externalDefaultOnly__namespace);var main=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,get a(){return exports.a},foo:foo}, [defaultLegacy__namespace]));Object.defineProperty(exports,'foo',{enumerable:true,get:()=>defaultLegacy.foo});Object.keys(defaultLegacy).forEach(k=>{if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:()=>defaultLegacy[k]})});
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-true/_expected/es.js b/test/form/samples/generated-code-compact/arrow-functions-true/_expected/es.js
new file mode 100644
index 000000000..a62a364bb
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-true/_expected/es.js
@@ -0,0 +1,12 @@
+import'externalNoImport';import*as defaultLegacy from'external';import defaultLegacy__default,{b}from'external';export*from'external';export{foo}from'external';import externalAuto from'externalAuto';import*as externalDefault from'externalDefault';import*as externalDefaultOnly from'externalDefaultOnly';function _mergeNamespaces(n, m){m.forEach(e=>Object.keys(e).forEach(k=>{if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}));return Object.freeze(n);}let a;
+
+({ a } = b);
+console.log({ a } = b);
+
+Promise.resolve().then(()=>main).then(console.log);
+
+import('external').then(console.log);
+console.log(defaultLegacy__default);
+console.log(externalAuto);
+console.log(externalDefault);
+console.log(externalDefaultOnly);var main=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,get a(){return a},foo:foo}, [defaultLegacy]));export{a};
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-true/_expected/iife.js b/test/form/samples/generated-code-compact/arrow-functions-true/_expected/iife.js
new file mode 100644
index 000000000..e8ae382bd
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-true/_expected/iife.js
@@ -0,0 +1,12 @@
+var bundle=(function(exports,externalNoImport,defaultLegacy,externalAuto,externalDefault,externalDefaultOnly){'use strict';var _interopDefaultLegacy=e=>e&&typeof e==='object'&&'default'in e?e:{'default':e};var _interopDefault=e=>e&&e.__esModule?e:{'default':e};var _interopNamespaceDefaultOnly=e=>Object.freeze({__proto__:null,'default':e});function _interopNamespaceDefault(e){var n=Object.create(null);if(e){Object.keys(e).forEach(k=>{if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}})}n["default"]=e;return Object.freeze(n)}var _interopNamespace=e=>e&&e.__esModule?e:_interopNamespaceDefault(e);function _mergeNamespaces(n, m){m.forEach(e=>Object.keys(e).forEach(k=>{if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}));return Object.freeze(n);}var defaultLegacy__namespace=/*#__PURE__*/_interopNamespace(defaultLegacy);var defaultLegacy__default=/*#__PURE__*/_interopDefaultLegacy(defaultLegacy);var externalAuto__default=/*#__PURE__*/_interopDefault(externalAuto);var externalDefault__namespace=/*#__PURE__*/_interopNamespaceDefault(externalDefault);var externalDefaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);exports.a=void 0;
+
+({ a: exports.a } = defaultLegacy.b);
+console.log({ a: exports.a } = defaultLegacy.b);
+
+Promise.resolve().then(()=>main).then(console.log);
+
+import('external').then(console.log);
+console.log(defaultLegacy__default["default"]);
+console.log(externalAuto__default["default"]);
+console.log(externalDefault__namespace);
+console.log(externalDefaultOnly__namespace);var main=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,get a(){return exports.a},foo:foo}, [defaultLegacy__namespace]));Object.defineProperty(exports,'foo',{enumerable:true,get:()=>defaultLegacy.foo});Object.keys(defaultLegacy).forEach(k=>{if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:()=>defaultLegacy[k]})});Object.defineProperty(exports,'__esModule',{value:true});return exports;})({},null,defaultLegacy,externalAuto,externalDefault,externalDefaultOnly);
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-true/_expected/system.js b/test/form/samples/generated-code-compact/arrow-functions-true/_expected/system.js
new file mode 100644
index 000000000..aabb4719f
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-true/_expected/system.js
@@ -0,0 +1,12 @@
+System.register('bundle',['externalNoImport','external','externalAuto','externalDefault','externalDefaultOnly'],(function(exports,module){'use strict';var _starExcludes={a:1,'default':1,foo:1};var b,defaultLegacy,defaultLegacy__default,externalAuto,externalDefault,externalDefaultOnly;return{setters:[()=>{},module=>{b=module.b;defaultLegacy=module;defaultLegacy__default=module["default"];var setter={foo:module.foo};for(var name in module){if(!_starExcludes[name])setter[name]=module[name];}exports(setter);},module=>{externalAuto=module["default"];},module=>{externalDefault=module;},module=>{externalDefaultOnly=module;}],execute:(function(){function _mergeNamespaces(n, m){m.forEach(e=>Object.keys(e).forEach(k=>{if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}));return Object.freeze(n);}let a; exports('a',a);
+
+(v=>(exports('a',a),v))({ a } = b);
+console.log((v=>(exports('a',a),v))({ a } = b));
+
+Promise.resolve().then(()=>main).then(console.log);
+
+module.import('external').then(console.log);
+console.log(defaultLegacy__default);
+console.log(externalAuto);
+console.log(externalDefault);
+console.log(externalDefaultOnly);var main=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,get a(){return a},foo:foo}, [defaultLegacy]));})}}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-true/_expected/umd.js b/test/form/samples/generated-code-compact/arrow-functions-true/_expected/umd.js
new file mode 100644
index 000000000..f9cded1c1
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-true/_expected/umd.js
@@ -0,0 +1,12 @@
+(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(exports,require('externalNoImport'),require('external'),require('externalAuto'),require('externalDefault'),require('externalDefaultOnly')):typeof define==='function'&&define.amd?define(['exports','externalNoImport','external','externalAuto','externalDefault','externalDefaultOnly'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,(()=>{var current=g.bundle;var e=g.bundle={};f(e,null,g.defaultLegacy,g.externalAuto,g.externalDefault,g.externalDefaultOnly);e.noConflict=()=>{g.bundle=current;return e};})());})(this,(function(exports,externalNoImport,defaultLegacy,externalAuto,externalDefault,externalDefaultOnly){'use strict';var _interopDefaultLegacy=e=>e&&typeof e==='object'&&'default'in e?e:{'default':e};var _interopDefault=e=>e&&e.__esModule?e:{'default':e};var _interopNamespaceDefaultOnly=e=>Object.freeze({__proto__:null,'default':e});function _interopNamespaceDefault(e){var n=Object.create(null);if(e){Object.keys(e).forEach(k=>{if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}})}n["default"]=e;return Object.freeze(n)}var _interopNamespace=e=>e&&e.__esModule?e:_interopNamespaceDefault(e);function _mergeNamespaces(n, m){m.forEach(e=>Object.keys(e).forEach(k=>{if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}));return Object.freeze(n);}var defaultLegacy__namespace=/*#__PURE__*/_interopNamespace(defaultLegacy);var defaultLegacy__default=/*#__PURE__*/_interopDefaultLegacy(defaultLegacy);var externalAuto__default=/*#__PURE__*/_interopDefault(externalAuto);var externalDefault__namespace=/*#__PURE__*/_interopNamespaceDefault(externalDefault);var externalDefaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);exports.a=void 0;
+
+({ a: exports.a } = defaultLegacy.b);
+console.log({ a: exports.a } = defaultLegacy.b);
+
+Promise.resolve().then(()=>main).then(console.log);
+
+import('external').then(console.log);
+console.log(defaultLegacy__default["default"]);
+console.log(externalAuto__default["default"]);
+console.log(externalDefault__namespace);
+console.log(externalDefaultOnly__namespace);var main=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,get a(){return exports.a},foo:foo}, [defaultLegacy__namespace]));Object.defineProperty(exports,'foo',{enumerable:true,get:()=>defaultLegacy.foo});Object.keys(defaultLegacy).forEach(k=>{if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:()=>defaultLegacy[k]})});Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/arrow-functions-true/main.js b/test/form/samples/generated-code-compact/arrow-functions-true/main.js
new file mode 120000
index 000000000..85a708339
--- /dev/null
+++ b/test/form/samples/generated-code-compact/arrow-functions-true/main.js
@@ -0,0 +1 @@
+../../generated-code/arrow-functions-false/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-false/_config.js b/test/form/samples/generated-code-compact/const-bindings-false/_config.js
new file mode 100644
index 000000000..352d08402
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-false/_config.js
@@ -0,0 +1,24 @@
+module.exports = {
+	description: 'does not use block bindings',
+	expectedWarnings: ['SHIMMED_EXPORT'],
+	options: {
+		external: ['external'],
+		shimMissingExports: true,
+		output: {
+			compact: true,
+			generatedCode: { arrowFunctions: true, constBindings: true },
+			name: 'bundle',
+			noConflict: true,
+			exports: 'named'
+		},
+		plugins: [
+			{
+				transform(code, id) {
+					if (id.endsWith('synthetic.js')) {
+						return { syntheticNamedExports: true };
+					}
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/generated-code-compact/const-bindings-false/_expected/amd.js b/test/form/samples/generated-code-compact/const-bindings-false/_expected/amd.js
new file mode 100644
index 000000000..6d760c6df
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-false/_expected/amd.js
@@ -0,0 +1,2 @@
+define(['exports','external'],(function(exports,foo$1){'use strict';const _interopDefaultLegacy=e=>e&&typeof e==='object'&&'default'in e?e:{'default':e};function _interopNamespace(e){if(e&&e.__esModule)return e;const n=Object.create(null);if(e){for(const k in e){if(k!=='default'){const d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}}n["default"]=e;return Object.freeze(n)}const foo__default=/*#__PURE__*/_interopDefaultLegacy(foo$1);const foo__namespace=/*#__PURE__*/_interopNamespace(foo$1);const _missingExportShim=void 0;const foo = 'bar';const other=/*#__PURE__*/Object.freeze({__proto__:null,foo:foo,missing:_missingExportShim});const synthetic = { bar: 'baz' };console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+const main = 42;exports["default"]=main;exports.syntheticMissing=synthetic.syntheticMissing;for(const k in foo$1){if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:()=>foo$1[k]})}Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-false/_expected/cjs.js b/test/form/samples/generated-code-compact/const-bindings-false/_expected/cjs.js
new file mode 100644
index 000000000..f566c8e51
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-false/_expected/cjs.js
@@ -0,0 +1,2 @@
+'use strict';Object.defineProperty(exports,'__esModule',{value:true});const foo$1=require('external');const _interopDefaultLegacy=e=>e&&typeof e==='object'&&'default'in e?e:{'default':e};function _interopNamespace(e){if(e&&e.__esModule)return e;const n=Object.create(null);if(e){for(const k in e){if(k!=='default'){const d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}}n["default"]=e;return Object.freeze(n)}const foo__default=/*#__PURE__*/_interopDefaultLegacy(foo$1);const foo__namespace=/*#__PURE__*/_interopNamespace(foo$1);const _missingExportShim=void 0;const foo = 'bar';const other=/*#__PURE__*/Object.freeze({__proto__:null,foo:foo,missing:_missingExportShim});const synthetic = { bar: 'baz' };console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+const main = 42;exports["default"]=main;exports.syntheticMissing=synthetic.syntheticMissing;for(const k in foo$1){if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:()=>foo$1[k]})}
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-false/_expected/es.js b/test/form/samples/generated-code-compact/const-bindings-false/_expected/es.js
new file mode 100644
index 000000000..0eae8de6a
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-false/_expected/es.js
@@ -0,0 +1,2 @@
+import*as foo$1 from'external';import foo__default from'external';export*from'external';const _missingExportShim=void 0;const foo = 'bar';const other=/*#__PURE__*/Object.freeze({__proto__:null,foo:foo,missing:_missingExportShim});const synthetic = { bar: 'baz' };console.log(foo__default, foo$1, other, bar, _missingExportShim);
+const main = 42;const syntheticMissing=synthetic.syntheticMissing;export{main as default,syntheticMissing};
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-false/_expected/iife.js b/test/form/samples/generated-code-compact/const-bindings-false/_expected/iife.js
new file mode 100644
index 000000000..9dbfd90a4
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-false/_expected/iife.js
@@ -0,0 +1,2 @@
+const bundle=(function(exports,foo$1){'use strict';const _interopDefaultLegacy=e=>e&&typeof e==='object'&&'default'in e?e:{'default':e};function _interopNamespace(e){if(e&&e.__esModule)return e;const n=Object.create(null);if(e){for(const k in e){if(k!=='default'){const d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}}n["default"]=e;return Object.freeze(n)}const foo__default=/*#__PURE__*/_interopDefaultLegacy(foo$1);const foo__namespace=/*#__PURE__*/_interopNamespace(foo$1);const _missingExportShim=void 0;const foo = 'bar';const other=/*#__PURE__*/Object.freeze({__proto__:null,foo:foo,missing:_missingExportShim});const synthetic = { bar: 'baz' };console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+const main = 42;exports["default"]=main;exports.syntheticMissing=synthetic.syntheticMissing;for(const k in foo$1){if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:()=>foo$1[k]})}Object.defineProperty(exports,'__esModule',{value:true});return exports;})({},foo$1);
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-false/_expected/system.js b/test/form/samples/generated-code-compact/const-bindings-false/_expected/system.js
new file mode 100644
index 000000000..d4e9c8b68
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-false/_expected/system.js
@@ -0,0 +1,2 @@
+System.register('bundle',['external'],(function(exports){'use strict';const _starExcludes={'default':1,syntheticMissing:1};var foo__default,foo$1;return{setters:[module=>{foo__default=module["default"];foo$1=module;const setter={};for(const name in module){if(!_starExcludes[name])setter[name]=module[name];}exports(setter);}],execute:(function(){const _missingExportShim=void 0;const foo = 'bar';const other=/*#__PURE__*/Object.freeze({__proto__:null,foo:foo,missing:_missingExportShim});const synthetic = { bar: 'baz' };console.log(foo__default, foo$1, other, bar, _missingExportShim);
+const main = exports('default', 42);exports('syntheticMissing',synthetic.syntheticMissing);})}}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-false/_expected/umd.js b/test/form/samples/generated-code-compact/const-bindings-false/_expected/umd.js
new file mode 100644
index 000000000..0eb701af0
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-false/_expected/umd.js
@@ -0,0 +1,2 @@
+(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(exports,require('external')):typeof define==='function'&&define.amd?define(['exports','external'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,(()=>{const current=g.bundle;const e=g.bundle={};f(e,g.foo$1);e.noConflict=()=>{g.bundle=current;return e};})());})(this,(function(exports,foo$1){'use strict';const _interopDefaultLegacy=e=>e&&typeof e==='object'&&'default'in e?e:{'default':e};function _interopNamespace(e){if(e&&e.__esModule)return e;const n=Object.create(null);if(e){for(const k in e){if(k!=='default'){const d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}}n["default"]=e;return Object.freeze(n)}const foo__default=/*#__PURE__*/_interopDefaultLegacy(foo$1);const foo__namespace=/*#__PURE__*/_interopNamespace(foo$1);const _missingExportShim=void 0;const foo = 'bar';const other=/*#__PURE__*/Object.freeze({__proto__:null,foo:foo,missing:_missingExportShim});const synthetic = { bar: 'baz' };console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+const main = 42;exports["default"]=main;exports.syntheticMissing=synthetic.syntheticMissing;for(const k in foo$1){if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:()=>foo$1[k]})}Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-false/main.js b/test/form/samples/generated-code-compact/const-bindings-false/main.js
new file mode 120000
index 000000000..3fa650765
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-false/main.js
@@ -0,0 +1 @@
+../../generated-code/const-bindings-false/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-true/_config.js b/test/form/samples/generated-code-compact/const-bindings-true/_config.js
new file mode 100644
index 000000000..d4743e7b4
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-true/_config.js
@@ -0,0 +1,24 @@
+module.exports = {
+	description: 'uses block bindings',
+	expectedWarnings: ['SHIMMED_EXPORT'],
+	options: {
+		external: ['external'],
+		shimMissingExports: true,
+		output: {
+			compact: true,
+			generatedCode: { arrowFunctions: true, constBindings: true },
+			name: 'bundle',
+			noConflict: true,
+			exports: 'named'
+		},
+		plugins: [
+			{
+				transform(code, id) {
+					if (id.endsWith('synthetic.js')) {
+						return { syntheticNamedExports: true };
+					}
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/generated-code-compact/const-bindings-true/_expected/amd.js b/test/form/samples/generated-code-compact/const-bindings-true/_expected/amd.js
new file mode 100644
index 000000000..6d760c6df
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-true/_expected/amd.js
@@ -0,0 +1,2 @@
+define(['exports','external'],(function(exports,foo$1){'use strict';const _interopDefaultLegacy=e=>e&&typeof e==='object'&&'default'in e?e:{'default':e};function _interopNamespace(e){if(e&&e.__esModule)return e;const n=Object.create(null);if(e){for(const k in e){if(k!=='default'){const d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}}n["default"]=e;return Object.freeze(n)}const foo__default=/*#__PURE__*/_interopDefaultLegacy(foo$1);const foo__namespace=/*#__PURE__*/_interopNamespace(foo$1);const _missingExportShim=void 0;const foo = 'bar';const other=/*#__PURE__*/Object.freeze({__proto__:null,foo:foo,missing:_missingExportShim});const synthetic = { bar: 'baz' };console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+const main = 42;exports["default"]=main;exports.syntheticMissing=synthetic.syntheticMissing;for(const k in foo$1){if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:()=>foo$1[k]})}Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-true/_expected/cjs.js b/test/form/samples/generated-code-compact/const-bindings-true/_expected/cjs.js
new file mode 100644
index 000000000..f566c8e51
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-true/_expected/cjs.js
@@ -0,0 +1,2 @@
+'use strict';Object.defineProperty(exports,'__esModule',{value:true});const foo$1=require('external');const _interopDefaultLegacy=e=>e&&typeof e==='object'&&'default'in e?e:{'default':e};function _interopNamespace(e){if(e&&e.__esModule)return e;const n=Object.create(null);if(e){for(const k in e){if(k!=='default'){const d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}}n["default"]=e;return Object.freeze(n)}const foo__default=/*#__PURE__*/_interopDefaultLegacy(foo$1);const foo__namespace=/*#__PURE__*/_interopNamespace(foo$1);const _missingExportShim=void 0;const foo = 'bar';const other=/*#__PURE__*/Object.freeze({__proto__:null,foo:foo,missing:_missingExportShim});const synthetic = { bar: 'baz' };console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+const main = 42;exports["default"]=main;exports.syntheticMissing=synthetic.syntheticMissing;for(const k in foo$1){if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:()=>foo$1[k]})}
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-true/_expected/es.js b/test/form/samples/generated-code-compact/const-bindings-true/_expected/es.js
new file mode 100644
index 000000000..0eae8de6a
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-true/_expected/es.js
@@ -0,0 +1,2 @@
+import*as foo$1 from'external';import foo__default from'external';export*from'external';const _missingExportShim=void 0;const foo = 'bar';const other=/*#__PURE__*/Object.freeze({__proto__:null,foo:foo,missing:_missingExportShim});const synthetic = { bar: 'baz' };console.log(foo__default, foo$1, other, bar, _missingExportShim);
+const main = 42;const syntheticMissing=synthetic.syntheticMissing;export{main as default,syntheticMissing};
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-true/_expected/iife.js b/test/form/samples/generated-code-compact/const-bindings-true/_expected/iife.js
new file mode 100644
index 000000000..9dbfd90a4
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-true/_expected/iife.js
@@ -0,0 +1,2 @@
+const bundle=(function(exports,foo$1){'use strict';const _interopDefaultLegacy=e=>e&&typeof e==='object'&&'default'in e?e:{'default':e};function _interopNamespace(e){if(e&&e.__esModule)return e;const n=Object.create(null);if(e){for(const k in e){if(k!=='default'){const d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}}n["default"]=e;return Object.freeze(n)}const foo__default=/*#__PURE__*/_interopDefaultLegacy(foo$1);const foo__namespace=/*#__PURE__*/_interopNamespace(foo$1);const _missingExportShim=void 0;const foo = 'bar';const other=/*#__PURE__*/Object.freeze({__proto__:null,foo:foo,missing:_missingExportShim});const synthetic = { bar: 'baz' };console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+const main = 42;exports["default"]=main;exports.syntheticMissing=synthetic.syntheticMissing;for(const k in foo$1){if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:()=>foo$1[k]})}Object.defineProperty(exports,'__esModule',{value:true});return exports;})({},foo$1);
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-true/_expected/system.js b/test/form/samples/generated-code-compact/const-bindings-true/_expected/system.js
new file mode 100644
index 000000000..d4e9c8b68
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-true/_expected/system.js
@@ -0,0 +1,2 @@
+System.register('bundle',['external'],(function(exports){'use strict';const _starExcludes={'default':1,syntheticMissing:1};var foo__default,foo$1;return{setters:[module=>{foo__default=module["default"];foo$1=module;const setter={};for(const name in module){if(!_starExcludes[name])setter[name]=module[name];}exports(setter);}],execute:(function(){const _missingExportShim=void 0;const foo = 'bar';const other=/*#__PURE__*/Object.freeze({__proto__:null,foo:foo,missing:_missingExportShim});const synthetic = { bar: 'baz' };console.log(foo__default, foo$1, other, bar, _missingExportShim);
+const main = exports('default', 42);exports('syntheticMissing',synthetic.syntheticMissing);})}}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-true/_expected/umd.js b/test/form/samples/generated-code-compact/const-bindings-true/_expected/umd.js
new file mode 100644
index 000000000..0eb701af0
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-true/_expected/umd.js
@@ -0,0 +1,2 @@
+(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(exports,require('external')):typeof define==='function'&&define.amd?define(['exports','external'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,(()=>{const current=g.bundle;const e=g.bundle={};f(e,g.foo$1);e.noConflict=()=>{g.bundle=current;return e};})());})(this,(function(exports,foo$1){'use strict';const _interopDefaultLegacy=e=>e&&typeof e==='object'&&'default'in e?e:{'default':e};function _interopNamespace(e){if(e&&e.__esModule)return e;const n=Object.create(null);if(e){for(const k in e){if(k!=='default'){const d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:()=>e[k]});}}}n["default"]=e;return Object.freeze(n)}const foo__default=/*#__PURE__*/_interopDefaultLegacy(foo$1);const foo__namespace=/*#__PURE__*/_interopNamespace(foo$1);const _missingExportShim=void 0;const foo = 'bar';const other=/*#__PURE__*/Object.freeze({__proto__:null,foo:foo,missing:_missingExportShim});const synthetic = { bar: 'baz' };console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+const main = 42;exports["default"]=main;exports.syntheticMissing=synthetic.syntheticMissing;for(const k in foo$1){if(k!=='default'&&!exports.hasOwnProperty(k))Object.defineProperty(exports,k,{enumerable:true,get:()=>foo$1[k]})}Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/const-bindings-true/main.js b/test/form/samples/generated-code-compact/const-bindings-true/main.js
new file mode 120000
index 000000000..3fa650765
--- /dev/null
+++ b/test/form/samples/generated-code-compact/const-bindings-true/main.js
@@ -0,0 +1 @@
+../../generated-code/const-bindings-false/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/object-shorthand-false/_config.js b/test/form/samples/generated-code-compact/object-shorthand-false/_config.js
new file mode 100644
index 000000000..c5c515a10
--- /dev/null
+++ b/test/form/samples/generated-code-compact/object-shorthand-false/_config.js
@@ -0,0 +1,12 @@
+module.exports = {
+	description: 'does not use object shorthand syntax',
+	options: {
+		output: {
+			compact: true,
+			exports: 'named',
+			format: 'system',
+			generatedCode: { objectShorthand: false },
+			name: 'bundle'
+		}
+	}
+};
diff --git a/test/form/samples/generated-code-compact/object-shorthand-false/_expected.js b/test/form/samples/generated-code-compact/object-shorthand-false/_expected.js
new file mode 100644
index 000000000..bdbc8ed62
--- /dev/null
+++ b/test/form/samples/generated-code-compact/object-shorthand-false/_expected.js
@@ -0,0 +1,3 @@
+System.register('bundle',[],(function(exports){'use strict';return{execute:(function(){const a = 'a';var ns=/*#__PURE__*/Object.freeze({__proto__:null,a:a,b:a,'default':a});console.log(ns);
+
+const foo = 1; exports({foo:foo,bar:foo,'default':foo});})}}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/object-shorthand-false/main.js b/test/form/samples/generated-code-compact/object-shorthand-false/main.js
new file mode 120000
index 000000000..21bdc213a
--- /dev/null
+++ b/test/form/samples/generated-code-compact/object-shorthand-false/main.js
@@ -0,0 +1 @@
+../../generated-code/object-shorthand-false/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/object-shorthand-true/_config.js b/test/form/samples/generated-code-compact/object-shorthand-true/_config.js
new file mode 100644
index 000000000..3b83da666
--- /dev/null
+++ b/test/form/samples/generated-code-compact/object-shorthand-true/_config.js
@@ -0,0 +1,12 @@
+module.exports = {
+	description: 'uses object shorthand syntax',
+	options: {
+		output: {
+			compact: true,
+			exports: 'named',
+			format: 'system',
+			generatedCode: { objectShorthand: true },
+			name: 'bundle'
+		}
+	}
+};
diff --git a/test/form/samples/generated-code-compact/object-shorthand-true/_expected.js b/test/form/samples/generated-code-compact/object-shorthand-true/_expected.js
new file mode 100644
index 000000000..e37e1dfba
--- /dev/null
+++ b/test/form/samples/generated-code-compact/object-shorthand-true/_expected.js
@@ -0,0 +1,3 @@
+System.register('bundle',[],(function(exports){'use strict';return{execute:(function(){const a = 'a';var ns=/*#__PURE__*/Object.freeze({__proto__:null,a,b:a,'default':a});console.log(ns);
+
+const foo = 1; exports({foo,bar:foo,'default':foo});})}}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/object-shorthand-true/main.js b/test/form/samples/generated-code-compact/object-shorthand-true/main.js
new file mode 120000
index 000000000..21bdc213a
--- /dev/null
+++ b/test/form/samples/generated-code-compact/object-shorthand-true/main.js
@@ -0,0 +1 @@
+../../generated-code/object-shorthand-false/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_config.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_config.js
new file mode 100644
index 000000000..66ac340dc
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_config.js
@@ -0,0 +1,13 @@
+module.exports = {
+	description: 'escapes reserved names used as props when external live-bindings are off',
+	options: {
+		external: ['external'],
+		output: {
+			compact: true,
+			exports: 'named',
+			externalLiveBindings: false,
+			generatedCode: { reservedNamesAsProps: false },
+			name: 'bundle'
+		}
+	}
+};
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/amd.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/amd.js
new file mode 100644
index 000000000..467fab53f
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/amd.js
@@ -0,0 +1 @@
+define(['external'],(function(ns){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e["default"]:e}var ns__default=/*#__PURE__*/_interopDefaultLegacy(ns);console.log(ns__default);}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/cjs.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/cjs.js
new file mode 100644
index 000000000..33875c7f8
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/cjs.js
@@ -0,0 +1 @@
+'use strict';var ns=require('external');function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e["default"]:e}var ns__default=/*#__PURE__*/_interopDefaultLegacy(ns);console.log(ns__default);
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/es.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/es.js
new file mode 100644
index 000000000..f26633e08
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/es.js
@@ -0,0 +1 @@
+import ns from'external';console.log(ns);
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/iife.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/iife.js
new file mode 100644
index 000000000..9d06e3d64
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/iife.js
@@ -0,0 +1 @@
+(function(ns){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e["default"]:e}var ns__default=/*#__PURE__*/_interopDefaultLegacy(ns);console.log(ns__default);})(ns);
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/system.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/system.js
new file mode 100644
index 000000000..5bb5c3b4f
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/system.js
@@ -0,0 +1 @@
+System.register('bundle',['external'],(function(){'use strict';var ns;return{setters:[function(module){ns=module["default"];}],execute:(function(){console.log(ns);})}}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/umd.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/umd.js
new file mode 100644
index 000000000..a4e8cd89d
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/_expected/umd.js
@@ -0,0 +1 @@
+(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(require('external')):typeof define==='function'&&define.amd?define(['external'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,f(g.ns));})(this,(function(ns){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e["default"]:e}var ns__default=/*#__PURE__*/_interopDefaultLegacy(ns);console.log(ns__default);}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/main.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/main.js
new file mode 120000
index 000000000..b667be2b6
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false-no-external-live-bindings/main.js
@@ -0,0 +1 @@
+../../generated-code/reserved-names-as-props-false-no-external-live-bindings/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false/_config.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_config.js
new file mode 100644
index 000000000..f7631ff11
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_config.js
@@ -0,0 +1,23 @@
+module.exports = {
+	description: 'escapes reserved names used as props',
+	options: {
+		external: ['external', 'external2', 'externalDefaultOnly'],
+		output: {
+			compact: true,
+			exports: 'named',
+			generatedCode: { reservedNamesAsProps: false },
+			interop(id) {
+				if (id === 'externalDefaultOnly') return 'defaultOnly';
+				return 'auto';
+			},
+			name: 'bundle'
+		},
+		plugins: [
+			{
+				transform(code, id) {
+					return { syntheticNamedExports: true };
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/amd.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/amd.js
new file mode 100644
index 000000000..efe0959fb
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/amd.js
@@ -0,0 +1,7 @@
+define(['module','exports','external','externalDefaultOnly','external2'],(function(module,exports,external,defaultOnly,someDefault){'use strict';function _interopDefault(e){return e&&e.__esModule?e:{'default':e}}function _interopNamespaceDefaultOnly(e){return Object.freeze({__proto__:null,'default':e})}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n["default"]=e;return Object.freeze(n)}function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var external__namespace=/*#__PURE__*/_interopNamespace(external);var defaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);var someDefault__default=/*#__PURE__*/_interopDefault(someDefault);var other = {
+	foo: 'bar'
+};var ns=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,'default':other}, [other]));console.log(ns, other.foo, other["function"], other["some-prop"], external["function"], someDefault__default["default"], defaultOnly__namespace);
+console.log(undefined, undefined);
+
+exports["function"] = 1;
+exports["function"]++;Object.defineProperty(exports,'bar',{enumerable:true,get:function(){return external["function"]}});exports["default"]=external__namespace;Object.defineProperty(exports,'void',{enumerable:true,get:function(){return external__namespace["default"]}});Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/cjs.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/cjs.js
new file mode 100644
index 000000000..6b7e2cf72
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/cjs.js
@@ -0,0 +1,7 @@
+'use strict';Object.defineProperty(exports,'__esModule',{value:true});var external=require('external'),defaultOnly=require('externalDefaultOnly'),someDefault=require('external2');function _interopDefault(e){return e&&e.__esModule?e:{'default':e}}function _interopNamespaceDefaultOnly(e){return Object.freeze({__proto__:null,'default':e})}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n["default"]=e;return Object.freeze(n)}function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var external__namespace=/*#__PURE__*/_interopNamespace(external);var defaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);var someDefault__default=/*#__PURE__*/_interopDefault(someDefault);var other = {
+	foo: 'bar'
+};var ns=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,'default':other}, [other]));console.log(ns, other.foo, other["function"], other["some-prop"], external["function"], someDefault__default["default"], defaultOnly__namespace);
+console.log(undefined, undefined);
+
+exports["function"] = 1;
+exports["function"]++;Object.defineProperty(exports,'bar',{enumerable:true,get:function(){return external["function"]}});exports["default"]=external__namespace;Object.defineProperty(exports,'void',{enumerable:true,get:function(){return external__namespace["default"]}});
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/es.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/es.js
new file mode 100644
index 000000000..119b34fbf
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/es.js
@@ -0,0 +1,7 @@
+import {function as function$1}from'external';import*as external from'external';export{external as default };export{function as bar,default as void}from'external';import*as defaultOnly from'externalDefaultOnly';import someDefault from'external2';function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var other = {
+	foo: 'bar'
+};var ns=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,'default':other}, [other]));console.log(ns, other.foo, other["function"], other["some-prop"], function$1, someDefault, defaultOnly);
+console.log(import.meta['function'], import.meta['some-prop']);
+
+let f = 1;
+f++;export{f as function};
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/iife.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/iife.js
new file mode 100644
index 000000000..24bc4194e
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/iife.js
@@ -0,0 +1,7 @@
+var bundle=(function(exports,external,defaultOnly,someDefault){'use strict';function _interopDefault(e){return e&&e.__esModule?e:{'default':e}}function _interopNamespaceDefaultOnly(e){return Object.freeze({__proto__:null,'default':e})}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n["default"]=e;return Object.freeze(n)}function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var external__namespace=/*#__PURE__*/_interopNamespace(external);var defaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);var someDefault__default=/*#__PURE__*/_interopDefault(someDefault);var other = {
+	foo: 'bar'
+};var ns=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,'default':other}, [other]));console.log(ns, other.foo, other["function"], other["some-prop"], external["function"], someDefault__default["default"], defaultOnly__namespace);
+console.log(undefined, undefined);
+
+exports["function"] = 1;
+exports["function"]++;Object.defineProperty(exports,'bar',{enumerable:true,get:function(){return external["function"]}});exports["default"]=external__namespace;Object.defineProperty(exports,'void',{enumerable:true,get:function(){return external__namespace["default"]}});Object.defineProperty(exports,'__esModule',{value:true});return exports;})({},external,defaultOnly,someDefault);
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/system.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/system.js
new file mode 100644
index 000000000..578d48faf
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/system.js
@@ -0,0 +1,7 @@
+System.register('bundle',['external','externalDefaultOnly','external2'],(function(exports,module){'use strict';var function$1,defaultOnly,someDefault;return{setters:[function(module){function$1=module["function"];exports({bar:module["function"],'default':module,'void':module["default"]});},function(module){defaultOnly=module;},function(module){someDefault=module["default"];}],execute:(function(){function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var other = {
+	foo: 'bar'
+};var ns=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,'default':other}, [other]));console.log(ns, other.foo, other["function"], other["some-prop"], function$1, someDefault, defaultOnly);
+console.log(module.meta["function"], module.meta["some-prop"]);
+
+let f = exports('function',1);
+exports('function',f+1),f++;})}}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/umd.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/umd.js
new file mode 100644
index 000000000..be7c956e9
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false/_expected/umd.js
@@ -0,0 +1,7 @@
+(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(exports,require('external'),require('externalDefaultOnly'),require('external2')):typeof define==='function'&&define.amd?define(['exports','external','externalDefaultOnly','external2'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,f(g.bundle={},g.external,g.defaultOnly,g.someDefault));})(this,(function(exports,external,defaultOnly,someDefault){'use strict';function _interopDefault(e){return e&&e.__esModule?e:{'default':e}}function _interopNamespaceDefaultOnly(e){return Object.freeze({__proto__:null,'default':e})}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n["default"]=e;return Object.freeze(n)}function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var external__namespace=/*#__PURE__*/_interopNamespace(external);var defaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);var someDefault__default=/*#__PURE__*/_interopDefault(someDefault);var other = {
+	foo: 'bar'
+};var ns=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,'default':other}, [other]));console.log(ns, other.foo, other["function"], other["some-prop"], external["function"], someDefault__default["default"], defaultOnly__namespace);
+console.log(undefined, undefined);
+
+exports["function"] = 1;
+exports["function"]++;Object.defineProperty(exports,'bar',{enumerable:true,get:function(){return external["function"]}});exports["default"]=external__namespace;Object.defineProperty(exports,'void',{enumerable:true,get:function(){return external__namespace["default"]}});Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-false/main.js b/test/form/samples/generated-code-compact/reserved-names-as-props-false/main.js
new file mode 120000
index 000000000..c711a9c52
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-false/main.js
@@ -0,0 +1 @@
+../../generated-code/reserved-names-as-props-false/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_config.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_config.js
new file mode 100644
index 000000000..3b41aab3c
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_config.js
@@ -0,0 +1,13 @@
+module.exports = {
+	description: 'escapes reserved names used as props when external live-bindings are off',
+	options: {
+		external: ['external'],
+		output: {
+			compact: true,
+			exports: 'named',
+			externalLiveBindings: false,
+			generatedCode: { reservedNamesAsProps: true },
+			name: 'bundle'
+		}
+	}
+};
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/amd.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/amd.js
new file mode 100644
index 000000000..e47aa46cc
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/amd.js
@@ -0,0 +1 @@
+define(['external'],(function(ns){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e.default:e}var ns__default=/*#__PURE__*/_interopDefaultLegacy(ns);console.log(ns__default);}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/cjs.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/cjs.js
new file mode 100644
index 000000000..c787c3bb4
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/cjs.js
@@ -0,0 +1 @@
+'use strict';var ns=require('external');function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e.default:e}var ns__default=/*#__PURE__*/_interopDefaultLegacy(ns);console.log(ns__default);
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/es.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/es.js
new file mode 100644
index 000000000..f26633e08
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/es.js
@@ -0,0 +1 @@
+import ns from'external';console.log(ns);
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/iife.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/iife.js
new file mode 100644
index 000000000..5d047f834
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/iife.js
@@ -0,0 +1 @@
+(function(ns){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e.default:e}var ns__default=/*#__PURE__*/_interopDefaultLegacy(ns);console.log(ns__default);})(ns);
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/system.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/system.js
new file mode 100644
index 000000000..6ce74bdff
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/system.js
@@ -0,0 +1 @@
+System.register('bundle',['external'],(function(){'use strict';var ns;return{setters:[function(module){ns=module.default;}],execute:(function(){console.log(ns);})}}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/umd.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/umd.js
new file mode 100644
index 000000000..a96fd0c48
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/_expected/umd.js
@@ -0,0 +1 @@
+(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(require('external')):typeof define==='function'&&define.amd?define(['external'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,f(g.ns));})(this,(function(ns){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e.default:e}var ns__default=/*#__PURE__*/_interopDefaultLegacy(ns);console.log(ns__default);}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/main.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/main.js
new file mode 120000
index 000000000..b667be2b6
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true-no-external-live-bindings/main.js
@@ -0,0 +1 @@
+../../generated-code/reserved-names-as-props-false-no-external-live-bindings/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true/_config.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_config.js
new file mode 100644
index 000000000..d40ba8959
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_config.js
@@ -0,0 +1,23 @@
+module.exports = {
+	description: 'escapes reserved names used as props',
+	options: {
+		external: ['external', 'external2', 'externalDefaultOnly'],
+		output: {
+			compact: true,
+			exports: 'named',
+			generatedCode: { reservedNamesAsProps: true },
+			interop(id) {
+				if (id === 'externalDefaultOnly') return 'defaultOnly';
+				return 'auto';
+			},
+			name: 'bundle'
+		},
+		plugins: [
+			{
+				transform(code, id) {
+					return { syntheticNamedExports: true };
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/amd.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/amd.js
new file mode 100644
index 000000000..cec4ee563
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/amd.js
@@ -0,0 +1,7 @@
+define(['module','exports','external','externalDefaultOnly','external2'],(function(module,exports,external,defaultOnly,someDefault){'use strict';function _interopDefault(e){return e&&e.__esModule?e:{default:e}}function _interopNamespaceDefaultOnly(e){return Object.freeze({__proto__:null,default:e})}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n.default=e;return Object.freeze(n)}function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var external__namespace=/*#__PURE__*/_interopNamespace(external);var defaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);var someDefault__default=/*#__PURE__*/_interopDefault(someDefault);var other = {
+	foo: 'bar'
+};var ns=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,default:other}, [other]));console.log(ns, other.foo, other.function, other["some-prop"], external.function, someDefault__default.default, defaultOnly__namespace);
+console.log(undefined, undefined);
+
+exports.function = 1;
+exports.function++;Object.defineProperty(exports,'bar',{enumerable:true,get:function(){return external.function}});exports.default=external__namespace;Object.defineProperty(exports,'void',{enumerable:true,get:function(){return external__namespace.default}});Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/cjs.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/cjs.js
new file mode 100644
index 000000000..f1c2eb370
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/cjs.js
@@ -0,0 +1,7 @@
+'use strict';Object.defineProperty(exports,'__esModule',{value:true});var external=require('external'),defaultOnly=require('externalDefaultOnly'),someDefault=require('external2');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}function _interopNamespaceDefaultOnly(e){return Object.freeze({__proto__:null,default:e})}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n.default=e;return Object.freeze(n)}function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var external__namespace=/*#__PURE__*/_interopNamespace(external);var defaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);var someDefault__default=/*#__PURE__*/_interopDefault(someDefault);var other = {
+	foo: 'bar'
+};var ns=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,default:other}, [other]));console.log(ns, other.foo, other.function, other["some-prop"], external.function, someDefault__default.default, defaultOnly__namespace);
+console.log(undefined, undefined);
+
+exports.function = 1;
+exports.function++;Object.defineProperty(exports,'bar',{enumerable:true,get:function(){return external.function}});exports.default=external__namespace;Object.defineProperty(exports,'void',{enumerable:true,get:function(){return external__namespace.default}});
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/es.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/es.js
new file mode 100644
index 000000000..5c259fcd0
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/es.js
@@ -0,0 +1,7 @@
+import {function as function$1}from'external';import*as external from'external';export{external as default };export{function as bar,default as void}from'external';import*as defaultOnly from'externalDefaultOnly';import someDefault from'external2';function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var other = {
+	foo: 'bar'
+};var ns=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,default:other}, [other]));console.log(ns, other.foo, other.function, other["some-prop"], function$1, someDefault, defaultOnly);
+console.log(import.meta['function'], import.meta['some-prop']);
+
+let f = 1;
+f++;export{f as function};
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/iife.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/iife.js
new file mode 100644
index 000000000..855d8da07
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/iife.js
@@ -0,0 +1,7 @@
+var bundle=(function(exports,external,defaultOnly,someDefault){'use strict';function _interopDefault(e){return e&&e.__esModule?e:{default:e}}function _interopNamespaceDefaultOnly(e){return Object.freeze({__proto__:null,default:e})}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n.default=e;return Object.freeze(n)}function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var external__namespace=/*#__PURE__*/_interopNamespace(external);var defaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);var someDefault__default=/*#__PURE__*/_interopDefault(someDefault);var other = {
+	foo: 'bar'
+};var ns=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,default:other}, [other]));console.log(ns, other.foo, other.function, other["some-prop"], external.function, someDefault__default.default, defaultOnly__namespace);
+console.log(undefined, undefined);
+
+exports.function = 1;
+exports.function++;Object.defineProperty(exports,'bar',{enumerable:true,get:function(){return external.function}});exports.default=external__namespace;Object.defineProperty(exports,'void',{enumerable:true,get:function(){return external__namespace.default}});Object.defineProperty(exports,'__esModule',{value:true});return exports;})({},external,defaultOnly,someDefault);
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/system.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/system.js
new file mode 100644
index 000000000..e3b596114
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/system.js
@@ -0,0 +1,7 @@
+System.register('bundle',['external','externalDefaultOnly','external2'],(function(exports,module){'use strict';var function$1,defaultOnly,someDefault;return{setters:[function(module){function$1=module.function;exports({bar:module.function,default:module,void:module.default});},function(module){defaultOnly=module;},function(module){someDefault=module.default;}],execute:(function(){function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var other = {
+	foo: 'bar'
+};var ns=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,default:other}, [other]));console.log(ns, other.foo, other.function, other["some-prop"], function$1, someDefault, defaultOnly);
+console.log(module.meta.function, module.meta["some-prop"]);
+
+let f = exports('function',1);
+exports('function',f+1),f++;})}}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/umd.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/umd.js
new file mode 100644
index 000000000..12f4ace4a
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true/_expected/umd.js
@@ -0,0 +1,7 @@
+(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(exports,require('external'),require('externalDefaultOnly'),require('external2')):typeof define==='function'&&define.amd?define(['exports','external','externalDefaultOnly','external2'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,f(g.bundle={},g.external,g.defaultOnly,g.someDefault));})(this,(function(exports,external,defaultOnly,someDefault){'use strict';function _interopDefault(e){return e&&e.__esModule?e:{default:e}}function _interopNamespaceDefaultOnly(e){return Object.freeze({__proto__:null,default:e})}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n.default=e;return Object.freeze(n)}function _mergeNamespaces(n, m){m.forEach(function(e){Object.keys(e).forEach(function(k){if(k!=='default'&&!(k in n)){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})});return Object.freeze(n);}var external__namespace=/*#__PURE__*/_interopNamespace(external);var defaultOnly__namespace=/*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);var someDefault__default=/*#__PURE__*/_interopDefault(someDefault);var other = {
+	foo: 'bar'
+};var ns=/*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({__proto__:null,default:other}, [other]));console.log(ns, other.foo, other.function, other["some-prop"], external.function, someDefault__default.default, defaultOnly__namespace);
+console.log(undefined, undefined);
+
+exports.function = 1;
+exports.function++;Object.defineProperty(exports,'bar',{enumerable:true,get:function(){return external.function}});exports.default=external__namespace;Object.defineProperty(exports,'void',{enumerable:true,get:function(){return external__namespace.default}});Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/generated-code-compact/reserved-names-as-props-true/main.js b/test/form/samples/generated-code-compact/reserved-names-as-props-true/main.js
new file mode 120000
index 000000000..c711a9c52
--- /dev/null
+++ b/test/form/samples/generated-code-compact/reserved-names-as-props-true/main.js
@@ -0,0 +1 @@
+../../generated-code/reserved-names-as-props-false/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code-presets/es2015/_config.js b/test/form/samples/generated-code-presets/es2015/_config.js
new file mode 100644
index 000000000..f685a3b7b
--- /dev/null
+++ b/test/form/samples/generated-code-presets/es2015/_config.js
@@ -0,0 +1,22 @@
+const assert = require('assert');
+
+module.exports = {
+	description: 'handles generatedCode preset "es2015"',
+	options: {
+		output: {
+			exports: 'named',
+			format: 'system',
+			generatedCode: 'es2015',
+			name: 'bundle'
+		},
+		plugins: [
+			{
+				renderStart(options) {
+					assert.strictEqual(options.generatedCode.arrowFunctions, true);
+					assert.strictEqual(options.generatedCode.objectShorthand, true);
+					assert.strictEqual(options.generatedCode.reservedNamesAsProps, true);
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/generated-code-presets/es2015/_expected.js b/test/form/samples/generated-code-presets/es2015/_expected.js
new file mode 100644
index 000000000..86c4bbf67
--- /dev/null
+++ b/test/form/samples/generated-code-presets/es2015/_expected.js
@@ -0,0 +1,10 @@
+System.register('bundle', [], (function (exports) {
+	'use strict';
+	return {
+		execute: (function () {
+
+			const foo = 1; exports({ foo, bar: foo, default: foo });
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code-presets/es2015/main.js b/test/form/samples/generated-code-presets/es2015/main.js
new file mode 100644
index 000000000..a88ddfd39
--- /dev/null
+++ b/test/form/samples/generated-code-presets/es2015/main.js
@@ -0,0 +1,2 @@
+const foo = 1;
+export { foo, foo as bar, foo as default };
diff --git a/test/form/samples/generated-code-presets/es5/_config.js b/test/form/samples/generated-code-presets/es5/_config.js
new file mode 100644
index 000000000..2434643cf
--- /dev/null
+++ b/test/form/samples/generated-code-presets/es5/_config.js
@@ -0,0 +1,22 @@
+const assert = require('assert');
+
+module.exports = {
+	description: 'handles generatedCode preset "es5"',
+	options: {
+		output: {
+			exports: 'named',
+			format: 'system',
+			generatedCode: 'es5',
+			name: 'bundle'
+		},
+		plugins: [
+			{
+				renderStart(options) {
+					assert.strictEqual(options.generatedCode.arrowFunctions, false);
+					assert.strictEqual(options.generatedCode.objectShorthand, false);
+					assert.strictEqual(options.generatedCode.reservedNamesAsProps, true);
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/generated-code-presets/es5/_expected.js b/test/form/samples/generated-code-presets/es5/_expected.js
new file mode 100644
index 000000000..5daef6978
--- /dev/null
+++ b/test/form/samples/generated-code-presets/es5/_expected.js
@@ -0,0 +1,10 @@
+System.register('bundle', [], (function (exports) {
+	'use strict';
+	return {
+		execute: (function () {
+
+			const foo = 1; exports({ foo: foo, bar: foo, default: foo });
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code-presets/es5/main.js b/test/form/samples/generated-code-presets/es5/main.js
new file mode 100644
index 000000000..a88ddfd39
--- /dev/null
+++ b/test/form/samples/generated-code-presets/es5/main.js
@@ -0,0 +1,2 @@
+const foo = 1;
+export { foo, foo as bar, foo as default };
diff --git a/test/form/samples/generated-code-presets/preset-with-override/_config.js b/test/form/samples/generated-code-presets/preset-with-override/_config.js
new file mode 100644
index 000000000..5ea739291
--- /dev/null
+++ b/test/form/samples/generated-code-presets/preset-with-override/_config.js
@@ -0,0 +1,25 @@
+const assert = require('assert');
+
+module.exports = {
+	description: 'handles generatedCode preset "es2015"',
+	options: {
+		output: {
+			exports: 'named',
+			format: 'system',
+			generatedCode: {
+				preset: 'es2015',
+				arrowFunctions: false
+			},
+			name: 'bundle'
+		},
+		plugins: [
+			{
+				renderStart(options) {
+					assert.strictEqual(options.generatedCode.arrowFunctions, false);
+					assert.strictEqual(options.generatedCode.objectShorthand, true);
+					assert.strictEqual(options.generatedCode.reservedNamesAsProps, true);
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/generated-code-presets/preset-with-override/_expected.js b/test/form/samples/generated-code-presets/preset-with-override/_expected.js
new file mode 100644
index 000000000..86c4bbf67
--- /dev/null
+++ b/test/form/samples/generated-code-presets/preset-with-override/_expected.js
@@ -0,0 +1,10 @@
+System.register('bundle', [], (function (exports) {
+	'use strict';
+	return {
+		execute: (function () {
+
+			const foo = 1; exports({ foo, bar: foo, default: foo });
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code-presets/preset-with-override/main.js b/test/form/samples/generated-code-presets/preset-with-override/main.js
new file mode 100644
index 000000000..a88ddfd39
--- /dev/null
+++ b/test/form/samples/generated-code-presets/preset-with-override/main.js
@@ -0,0 +1,2 @@
+const foo = 1;
+export { foo, foo as bar, foo as default };
diff --git a/test/form/samples/generated-code/arrow-functions-false/_config.js b/test/form/samples/generated-code/arrow-functions-false/_config.js
new file mode 100644
index 000000000..a3fbecbf8
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-false/_config.js
@@ -0,0 +1,30 @@
+module.exports = {
+	description: 'does not use arrow functions',
+	options: {
+		external: [
+			'external',
+			'externalAuto',
+			'externalDefault',
+			'externalDefaultOnly',
+			'externalNoImport'
+		],
+		strictDeprecations: false,
+		output: {
+			generatedCode: { arrowFunctions: false },
+			interop(id) {
+				if (id === 'externalDefault') {
+					return 'default';
+				}
+				if (id === 'externalDefaultOnly') {
+					return 'defaultOnly';
+				}
+				if (id === 'externalAuto') {
+					return 'auto';
+				}
+				return true;
+			},
+			name: 'bundle',
+			noConflict: true
+		}
+	}
+};
diff --git a/test/form/samples/generated-code/arrow-functions-false/_expected/amd.js b/test/form/samples/generated-code/arrow-functions-false/_expected/amd.js
new file mode 100644
index 000000000..6d72837eb
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-false/_expected/amd.js
@@ -0,0 +1,81 @@
+define(['require', 'exports', 'externalNoImport', 'external', 'externalAuto', 'externalDefault', 'externalDefaultOnly'], (function (require, exports, externalNoImport, defaultLegacy, externalAuto, externalDefault, externalDefaultOnly) { 'use strict';
+
+	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
+
+	function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }
+
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
+
+	function _interopNamespaceDefault(e) {
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
+
+	var defaultLegacy__namespace = /*#__PURE__*/_interopNamespace(defaultLegacy);
+	var defaultLegacy__default = /*#__PURE__*/_interopDefaultLegacy(defaultLegacy);
+	var externalAuto__default = /*#__PURE__*/_interopDefault(externalAuto);
+	var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
+	var externalDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);
+
+	exports.a = void 0;
+
+	({ a: exports.a } = defaultLegacy.b);
+	console.log({ a: exports.a } = defaultLegacy.b);
+
+	Promise.resolve().then(function () { return main; }).then(console.log);
+
+	new Promise(function (resolve, reject) { require(['external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }).then(console.log);
+	console.log(defaultLegacy__default["default"]);
+	console.log(externalAuto__default["default"]);
+	console.log(externalDefault__namespace);
+	console.log(externalDefaultOnly__namespace);
+
+	var main = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
+		get a () { return exports.a; },
+		foo: foo
+	}, [defaultLegacy__namespace]));
+
+	Object.defineProperty(exports, 'foo', {
+		enumerable: true,
+		get: function () { return defaultLegacy.foo; }
+	});
+	Object.keys(defaultLegacy).forEach(function (k) {
+		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+			enumerable: true,
+			get: function () { return defaultLegacy[k]; }
+		});
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/generated-code/arrow-functions-false/_expected/cjs.js b/test/form/samples/generated-code/arrow-functions-false/_expected/cjs.js
new file mode 100644
index 000000000..2d87f697a
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-false/_expected/cjs.js
@@ -0,0 +1,85 @@
+'use strict';
+
+Object.defineProperty(exports, '__esModule', { value: true });
+
+require('externalNoImport');
+var defaultLegacy = require('external');
+var externalAuto = require('externalAuto');
+var externalDefault = require('externalDefault');
+var externalDefaultOnly = require('externalDefaultOnly');
+
+function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
+
+function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }
+
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
+
+function _interopNamespaceDefault(e) {
+	var n = Object.create(null);
+	if (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default') {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	}
+	n["default"] = e;
+	return Object.freeze(n);
+}
+
+function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
+
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
+var defaultLegacy__namespace = /*#__PURE__*/_interopNamespace(defaultLegacy);
+var defaultLegacy__default = /*#__PURE__*/_interopDefaultLegacy(defaultLegacy);
+var externalAuto__default = /*#__PURE__*/_interopDefault(externalAuto);
+var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
+var externalDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);
+
+exports.a = void 0;
+
+({ a: exports.a } = defaultLegacy.b);
+console.log({ a: exports.a } = defaultLegacy.b);
+
+Promise.resolve().then(function () { return main; }).then(console.log);
+
+Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('external')); }).then(console.log);
+console.log(defaultLegacy__default["default"]);
+console.log(externalAuto__default["default"]);
+console.log(externalDefault__namespace);
+console.log(externalDefaultOnly__namespace);
+
+var main = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
+	get a () { return exports.a; },
+	foo: foo
+}, [defaultLegacy__namespace]));
+
+Object.defineProperty(exports, 'foo', {
+	enumerable: true,
+	get: function () { return defaultLegacy.foo; }
+});
+Object.keys(defaultLegacy).forEach(function (k) {
+	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+		enumerable: true,
+		get: function () { return defaultLegacy[k]; }
+	});
+});
diff --git a/test/form/samples/generated-code/arrow-functions-false/_expected/es.js b/test/form/samples/generated-code/arrow-functions-false/_expected/es.js
new file mode 100644
index 000000000..44a1038ca
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-false/_expected/es.js
@@ -0,0 +1,44 @@
+import 'externalNoImport';
+import * as defaultLegacy from 'external';
+import defaultLegacy__default, { b } from 'external';
+export * from 'external';
+export { foo } from 'external';
+import externalAuto from 'externalAuto';
+import * as externalDefault from 'externalDefault';
+import * as externalDefaultOnly from 'externalDefaultOnly';
+
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
+let a;
+
+({ a } = b);
+console.log({ a } = b);
+
+Promise.resolve().then(function () { return main; }).then(console.log);
+
+import('external').then(console.log);
+console.log(defaultLegacy__default);
+console.log(externalAuto);
+console.log(externalDefault);
+console.log(externalDefaultOnly);
+
+var main = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
+	get a () { return a; },
+	foo: foo
+}, [defaultLegacy]));
+
+export { a };
diff --git a/test/form/samples/generated-code/arrow-functions-false/_expected/iife.js b/test/form/samples/generated-code/arrow-functions-false/_expected/iife.js
new file mode 100644
index 000000000..7cbd220ad
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-false/_expected/iife.js
@@ -0,0 +1,84 @@
+var bundle = (function (exports, externalNoImport, defaultLegacy, externalAuto, externalDefault, externalDefaultOnly) {
+	'use strict';
+
+	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
+
+	function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }
+
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
+
+	function _interopNamespaceDefault(e) {
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
+
+	var defaultLegacy__namespace = /*#__PURE__*/_interopNamespace(defaultLegacy);
+	var defaultLegacy__default = /*#__PURE__*/_interopDefaultLegacy(defaultLegacy);
+	var externalAuto__default = /*#__PURE__*/_interopDefault(externalAuto);
+	var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
+	var externalDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);
+
+	exports.a = void 0;
+
+	({ a: exports.a } = defaultLegacy.b);
+	console.log({ a: exports.a } = defaultLegacy.b);
+
+	Promise.resolve().then(function () { return main; }).then(console.log);
+
+	import('external').then(console.log);
+	console.log(defaultLegacy__default["default"]);
+	console.log(externalAuto__default["default"]);
+	console.log(externalDefault__namespace);
+	console.log(externalDefaultOnly__namespace);
+
+	var main = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
+		get a () { return exports.a; },
+		foo: foo
+	}, [defaultLegacy__namespace]));
+
+	Object.defineProperty(exports, 'foo', {
+		enumerable: true,
+		get: function () { return defaultLegacy.foo; }
+	});
+	Object.keys(defaultLegacy).forEach(function (k) {
+		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+			enumerable: true,
+			get: function () { return defaultLegacy[k]; }
+		});
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+	return exports;
+
+})({}, null, defaultLegacy, externalAuto, externalDefault, externalDefaultOnly);
diff --git a/test/form/samples/generated-code/arrow-functions-false/_expected/system.js b/test/form/samples/generated-code/arrow-functions-false/_expected/system.js
new file mode 100644
index 000000000..96af5fa89
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-false/_expected/system.js
@@ -0,0 +1,64 @@
+System.register('bundle', ['externalNoImport', 'external', 'externalAuto', 'externalDefault', 'externalDefaultOnly'], (function (exports, module) {
+	'use strict';
+	var _starExcludes = {
+		a: 1,
+		'default': 1,
+		foo: 1
+	};
+	var b, defaultLegacy, defaultLegacy__default, externalAuto, externalDefault, externalDefaultOnly;
+	return {
+		setters: [function () {}, function (module) {
+			b = module.b;
+			defaultLegacy = module;
+			defaultLegacy__default = module["default"];
+			var setter = { foo: module.foo };
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
+			}
+			exports(setter);
+		}, function (module) {
+			externalAuto = module["default"];
+		}, function (module) {
+			externalDefault = module;
+		}, function (module) {
+			externalDefaultOnly = module;
+		}],
+		execute: (function () {
+
+			function _mergeNamespaces(n, m) {
+				m.forEach(function (e) {
+					Object.keys(e).forEach(function (k) {
+						if (k !== 'default' && !(k in n)) {
+							var d = Object.getOwnPropertyDescriptor(e, k);
+							Object.defineProperty(n, k, d.get ? d : {
+								enumerable: true,
+								get: function () { return e[k]; }
+							});
+						}
+					});
+				});
+				return Object.freeze(n);
+			}
+
+			let a; exports('a', a);
+
+			(function (v) { return exports('a', a), v; })({ a } = b);
+			console.log(function (v) { return exports('a', a), v; }({ a } = b));
+
+			Promise.resolve().then(function () { return main; }).then(console.log);
+
+			module.import('external').then(console.log);
+			console.log(defaultLegacy__default);
+			console.log(externalAuto);
+			console.log(externalDefault);
+			console.log(externalDefaultOnly);
+
+			var main = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+				__proto__: null,
+				get a () { return a; },
+				foo: foo
+			}, [defaultLegacy]));
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code/arrow-functions-false/_expected/umd.js b/test/form/samples/generated-code/arrow-functions-false/_expected/umd.js
new file mode 100644
index 000000000..c0f8fc2f7
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-false/_expected/umd.js
@@ -0,0 +1,90 @@
+(function (global, factory) {
+	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('externalNoImport'), require('external'), require('externalAuto'), require('externalDefault'), require('externalDefaultOnly')) :
+	typeof define === 'function' && define.amd ? define(['exports', 'externalNoImport', 'external', 'externalAuto', 'externalDefault', 'externalDefaultOnly'], factory) :
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, (function () {
+		var current = global.bundle;
+		var exports = global.bundle = {};
+		factory(exports, null, global.defaultLegacy, global.externalAuto, global.externalDefault, global.externalDefaultOnly);
+		exports.noConflict = function () { global.bundle = current; return exports; };
+	})());
+})(this, (function (exports, externalNoImport, defaultLegacy, externalAuto, externalDefault, externalDefaultOnly) { 'use strict';
+
+	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
+
+	function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }
+
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
+
+	function _interopNamespaceDefault(e) {
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
+
+	var defaultLegacy__namespace = /*#__PURE__*/_interopNamespace(defaultLegacy);
+	var defaultLegacy__default = /*#__PURE__*/_interopDefaultLegacy(defaultLegacy);
+	var externalAuto__default = /*#__PURE__*/_interopDefault(externalAuto);
+	var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
+	var externalDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);
+
+	exports.a = void 0;
+
+	({ a: exports.a } = defaultLegacy.b);
+	console.log({ a: exports.a } = defaultLegacy.b);
+
+	Promise.resolve().then(function () { return main; }).then(console.log);
+
+	import('external').then(console.log);
+	console.log(defaultLegacy__default["default"]);
+	console.log(externalAuto__default["default"]);
+	console.log(externalDefault__namespace);
+	console.log(externalDefaultOnly__namespace);
+
+	var main = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
+		get a () { return exports.a; },
+		foo: foo
+	}, [defaultLegacy__namespace]));
+
+	Object.defineProperty(exports, 'foo', {
+		enumerable: true,
+		get: function () { return defaultLegacy.foo; }
+	});
+	Object.keys(defaultLegacy).forEach(function (k) {
+		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+			enumerable: true,
+			get: function () { return defaultLegacy[k]; }
+		});
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/generated-code/arrow-functions-false/main.js b/test/form/samples/generated-code/arrow-functions-false/main.js
new file mode 100644
index 000000000..67951acbf
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-false/main.js
@@ -0,0 +1,24 @@
+import 'externalNoImport';
+import { b } from 'external';
+export let a;
+
+null, { a } = b;
+console.log({ a } = b);
+
+import('./main.js').then(console.log);
+
+import('external').then(console.log);
+export * from 'external';
+export { foo } from 'external';
+
+import defaultLegacy from 'external';
+console.log(defaultLegacy);
+
+import externalAuto from 'externalAuto';
+console.log(externalAuto);
+
+import * as externalDefault from 'externalDefault';
+console.log(externalDefault);
+
+import * as externalDefaultOnly from 'externalDefaultOnly';
+console.log(externalDefaultOnly);
diff --git a/test/form/samples/generated-code/arrow-functions-true/_config.js b/test/form/samples/generated-code/arrow-functions-true/_config.js
new file mode 100644
index 000000000..94e152b43
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-true/_config.js
@@ -0,0 +1,30 @@
+module.exports = {
+	description: 'uses arrow functions',
+	options: {
+		external: [
+			'external',
+			'externalAuto',
+			'externalDefault',
+			'externalDefaultOnly',
+			'externalNoImport'
+		],
+		strictDeprecations: false,
+		output: {
+			generatedCode: { arrowFunctions: true },
+			interop(id) {
+				if (id === 'externalDefault') {
+					return 'default';
+				}
+				if (id === 'externalDefaultOnly') {
+					return 'defaultOnly';
+				}
+				if (id === 'externalAuto') {
+					return 'auto';
+				}
+				return true;
+			},
+			name: 'bundle',
+			noConflict: true
+		}
+	}
+};
diff --git a/test/form/samples/generated-code/arrow-functions-true/_expected/amd.js b/test/form/samples/generated-code/arrow-functions-true/_expected/amd.js
new file mode 100644
index 000000000..41543ae66
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-true/_expected/amd.js
@@ -0,0 +1,81 @@
+define(['require', 'exports', 'externalNoImport', 'external', 'externalAuto', 'externalDefault', 'externalDefaultOnly'], (function (require, exports, externalNoImport, defaultLegacy, externalAuto, externalDefault, externalDefaultOnly) { 'use strict';
+
+	var _interopDefaultLegacy = e => e && typeof e === 'object' && 'default' in e ? e : { 'default': e };
+
+	var _interopDefault = e => e && e.__esModule ? e : { 'default': e };
+
+	var _interopNamespaceDefaultOnly = e => Object.freeze({ __proto__: null, 'default': e });
+
+	function _interopNamespaceDefault(e) {
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(k => {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	var _interopNamespace = e => e && e.__esModule ? e : _interopNamespaceDefault(e);
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(e => 
+			Object.keys(e).forEach(k => {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			})
+		);
+		return Object.freeze(n);
+	}
+
+	var defaultLegacy__namespace = /*#__PURE__*/_interopNamespace(defaultLegacy);
+	var defaultLegacy__default = /*#__PURE__*/_interopDefaultLegacy(defaultLegacy);
+	var externalAuto__default = /*#__PURE__*/_interopDefault(externalAuto);
+	var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
+	var externalDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);
+
+	exports.a = void 0;
+
+	({ a: exports.a } = defaultLegacy.b);
+	console.log({ a: exports.a } = defaultLegacy.b);
+
+	Promise.resolve().then(() => main).then(console.log);
+
+	new Promise((resolve, reject) => require(['external'], m => resolve(/*#__PURE__*/_interopNamespace(m)), reject)).then(console.log);
+	console.log(defaultLegacy__default["default"]);
+	console.log(externalAuto__default["default"]);
+	console.log(externalDefault__namespace);
+	console.log(externalDefaultOnly__namespace);
+
+	var main = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
+		get a () { return exports.a; },
+		foo: foo
+	}, [defaultLegacy__namespace]));
+
+	Object.defineProperty(exports, 'foo', {
+		enumerable: true,
+		get: () => defaultLegacy.foo
+	});
+	Object.keys(defaultLegacy).forEach(k => {
+		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+			enumerable: true,
+			get: () => defaultLegacy[k]
+		});
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/generated-code/arrow-functions-true/_expected/cjs.js b/test/form/samples/generated-code/arrow-functions-true/_expected/cjs.js
new file mode 100644
index 000000000..157d4c4c3
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-true/_expected/cjs.js
@@ -0,0 +1,85 @@
+'use strict';
+
+Object.defineProperty(exports, '__esModule', { value: true });
+
+require('externalNoImport');
+var defaultLegacy = require('external');
+var externalAuto = require('externalAuto');
+var externalDefault = require('externalDefault');
+var externalDefaultOnly = require('externalDefaultOnly');
+
+var _interopDefaultLegacy = e => e && typeof e === 'object' && 'default' in e ? e : { 'default': e };
+
+var _interopDefault = e => e && e.__esModule ? e : { 'default': e };
+
+var _interopNamespaceDefaultOnly = e => Object.freeze({ __proto__: null, 'default': e });
+
+function _interopNamespaceDefault(e) {
+	var n = Object.create(null);
+	if (e) {
+		Object.keys(e).forEach(k => {
+			if (k !== 'default') {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: () => e[k]
+				});
+			}
+		});
+	}
+	n["default"] = e;
+	return Object.freeze(n);
+}
+
+var _interopNamespace = e => e && e.__esModule ? e : _interopNamespaceDefault(e);
+
+function _mergeNamespaces(n, m) {
+	m.forEach(e => 
+		Object.keys(e).forEach(k => {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: () => e[k]
+				});
+			}
+		})
+	);
+	return Object.freeze(n);
+}
+
+var defaultLegacy__namespace = /*#__PURE__*/_interopNamespace(defaultLegacy);
+var defaultLegacy__default = /*#__PURE__*/_interopDefaultLegacy(defaultLegacy);
+var externalAuto__default = /*#__PURE__*/_interopDefault(externalAuto);
+var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
+var externalDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);
+
+exports.a = void 0;
+
+({ a: exports.a } = defaultLegacy.b);
+console.log({ a: exports.a } = defaultLegacy.b);
+
+Promise.resolve().then(() => main).then(console.log);
+
+Promise.resolve().then(() => /*#__PURE__*/_interopNamespace(require('external'))).then(console.log);
+console.log(defaultLegacy__default["default"]);
+console.log(externalAuto__default["default"]);
+console.log(externalDefault__namespace);
+console.log(externalDefaultOnly__namespace);
+
+var main = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
+	get a () { return exports.a; },
+	foo: foo
+}, [defaultLegacy__namespace]));
+
+Object.defineProperty(exports, 'foo', {
+	enumerable: true,
+	get: () => defaultLegacy.foo
+});
+Object.keys(defaultLegacy).forEach(k => {
+	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+		enumerable: true,
+		get: () => defaultLegacy[k]
+	});
+});
diff --git a/test/form/samples/generated-code/arrow-functions-true/_expected/es.js b/test/form/samples/generated-code/arrow-functions-true/_expected/es.js
new file mode 100644
index 000000000..d0d3f1325
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-true/_expected/es.js
@@ -0,0 +1,44 @@
+import 'externalNoImport';
+import * as defaultLegacy from 'external';
+import defaultLegacy__default, { b } from 'external';
+export * from 'external';
+export { foo } from 'external';
+import externalAuto from 'externalAuto';
+import * as externalDefault from 'externalDefault';
+import * as externalDefaultOnly from 'externalDefaultOnly';
+
+function _mergeNamespaces(n, m) {
+	m.forEach(e => 
+		Object.keys(e).forEach(k => {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: () => e[k]
+				});
+			}
+		})
+	);
+	return Object.freeze(n);
+}
+
+let a;
+
+({ a } = b);
+console.log({ a } = b);
+
+Promise.resolve().then(() => main).then(console.log);
+
+import('external').then(console.log);
+console.log(defaultLegacy__default);
+console.log(externalAuto);
+console.log(externalDefault);
+console.log(externalDefaultOnly);
+
+var main = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
+	get a () { return a; },
+	foo: foo
+}, [defaultLegacy]));
+
+export { a };
diff --git a/test/form/samples/generated-code/arrow-functions-true/_expected/iife.js b/test/form/samples/generated-code/arrow-functions-true/_expected/iife.js
new file mode 100644
index 000000000..521c23ce3
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-true/_expected/iife.js
@@ -0,0 +1,84 @@
+var bundle = (function (exports, externalNoImport, defaultLegacy, externalAuto, externalDefault, externalDefaultOnly) {
+	'use strict';
+
+	var _interopDefaultLegacy = e => e && typeof e === 'object' && 'default' in e ? e : { 'default': e };
+
+	var _interopDefault = e => e && e.__esModule ? e : { 'default': e };
+
+	var _interopNamespaceDefaultOnly = e => Object.freeze({ __proto__: null, 'default': e });
+
+	function _interopNamespaceDefault(e) {
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(k => {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	var _interopNamespace = e => e && e.__esModule ? e : _interopNamespaceDefault(e);
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(e => 
+			Object.keys(e).forEach(k => {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			})
+		);
+		return Object.freeze(n);
+	}
+
+	var defaultLegacy__namespace = /*#__PURE__*/_interopNamespace(defaultLegacy);
+	var defaultLegacy__default = /*#__PURE__*/_interopDefaultLegacy(defaultLegacy);
+	var externalAuto__default = /*#__PURE__*/_interopDefault(externalAuto);
+	var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
+	var externalDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);
+
+	exports.a = void 0;
+
+	({ a: exports.a } = defaultLegacy.b);
+	console.log({ a: exports.a } = defaultLegacy.b);
+
+	Promise.resolve().then(() => main).then(console.log);
+
+	import('external').then(console.log);
+	console.log(defaultLegacy__default["default"]);
+	console.log(externalAuto__default["default"]);
+	console.log(externalDefault__namespace);
+	console.log(externalDefaultOnly__namespace);
+
+	var main = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
+		get a () { return exports.a; },
+		foo: foo
+	}, [defaultLegacy__namespace]));
+
+	Object.defineProperty(exports, 'foo', {
+		enumerable: true,
+		get: () => defaultLegacy.foo
+	});
+	Object.keys(defaultLegacy).forEach(k => {
+		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+			enumerable: true,
+			get: () => defaultLegacy[k]
+		});
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+	return exports;
+
+})({}, null, defaultLegacy, externalAuto, externalDefault, externalDefaultOnly);
diff --git a/test/form/samples/generated-code/arrow-functions-true/_expected/system.js b/test/form/samples/generated-code/arrow-functions-true/_expected/system.js
new file mode 100644
index 000000000..5693a045c
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-true/_expected/system.js
@@ -0,0 +1,64 @@
+System.register('bundle', ['externalNoImport', 'external', 'externalAuto', 'externalDefault', 'externalDefaultOnly'], (function (exports, module) {
+	'use strict';
+	var _starExcludes = {
+		a: 1,
+		'default': 1,
+		foo: 1
+	};
+	var b, defaultLegacy, defaultLegacy__default, externalAuto, externalDefault, externalDefaultOnly;
+	return {
+		setters: [() => {}, module => {
+			b = module.b;
+			defaultLegacy = module;
+			defaultLegacy__default = module["default"];
+			var setter = { foo: module.foo };
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
+			}
+			exports(setter);
+		}, module => {
+			externalAuto = module["default"];
+		}, module => {
+			externalDefault = module;
+		}, module => {
+			externalDefaultOnly = module;
+		}],
+		execute: (function () {
+
+			function _mergeNamespaces(n, m) {
+				m.forEach(e => 
+					Object.keys(e).forEach(k => {
+						if (k !== 'default' && !(k in n)) {
+							var d = Object.getOwnPropertyDescriptor(e, k);
+							Object.defineProperty(n, k, d.get ? d : {
+								enumerable: true,
+								get: () => e[k]
+							});
+						}
+					})
+				);
+				return Object.freeze(n);
+			}
+
+			let a; exports('a', a);
+
+			(v => (exports('a', a), v))({ a } = b);
+			console.log((v => (exports('a', a), v))({ a } = b));
+
+			Promise.resolve().then(() => main).then(console.log);
+
+			module.import('external').then(console.log);
+			console.log(defaultLegacy__default);
+			console.log(externalAuto);
+			console.log(externalDefault);
+			console.log(externalDefaultOnly);
+
+			var main = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+				__proto__: null,
+				get a () { return a; },
+				foo: foo
+			}, [defaultLegacy]));
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code/arrow-functions-true/_expected/umd.js b/test/form/samples/generated-code/arrow-functions-true/_expected/umd.js
new file mode 100644
index 000000000..bce0d83b8
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-true/_expected/umd.js
@@ -0,0 +1,90 @@
+(function (global, factory) {
+	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('externalNoImport'), require('external'), require('externalAuto'), require('externalDefault'), require('externalDefaultOnly')) :
+	typeof define === 'function' && define.amd ? define(['exports', 'externalNoImport', 'external', 'externalAuto', 'externalDefault', 'externalDefaultOnly'], factory) :
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, (() => {
+		var current = global.bundle;
+		var exports = global.bundle = {};
+		factory(exports, null, global.defaultLegacy, global.externalAuto, global.externalDefault, global.externalDefaultOnly);
+		exports.noConflict = () => { global.bundle = current; return exports; };
+	})());
+})(this, (function (exports, externalNoImport, defaultLegacy, externalAuto, externalDefault, externalDefaultOnly) { 'use strict';
+
+	var _interopDefaultLegacy = e => e && typeof e === 'object' && 'default' in e ? e : { 'default': e };
+
+	var _interopDefault = e => e && e.__esModule ? e : { 'default': e };
+
+	var _interopNamespaceDefaultOnly = e => Object.freeze({ __proto__: null, 'default': e });
+
+	function _interopNamespaceDefault(e) {
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(k => {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	var _interopNamespace = e => e && e.__esModule ? e : _interopNamespaceDefault(e);
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(e => 
+			Object.keys(e).forEach(k => {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			})
+		);
+		return Object.freeze(n);
+	}
+
+	var defaultLegacy__namespace = /*#__PURE__*/_interopNamespace(defaultLegacy);
+	var defaultLegacy__default = /*#__PURE__*/_interopDefaultLegacy(defaultLegacy);
+	var externalAuto__default = /*#__PURE__*/_interopDefault(externalAuto);
+	var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
+	var externalDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(externalDefaultOnly);
+
+	exports.a = void 0;
+
+	({ a: exports.a } = defaultLegacy.b);
+	console.log({ a: exports.a } = defaultLegacy.b);
+
+	Promise.resolve().then(() => main).then(console.log);
+
+	import('external').then(console.log);
+	console.log(defaultLegacy__default["default"]);
+	console.log(externalAuto__default["default"]);
+	console.log(externalDefault__namespace);
+	console.log(externalDefaultOnly__namespace);
+
+	var main = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
+		get a () { return exports.a; },
+		foo: foo
+	}, [defaultLegacy__namespace]));
+
+	Object.defineProperty(exports, 'foo', {
+		enumerable: true,
+		get: () => defaultLegacy.foo
+	});
+	Object.keys(defaultLegacy).forEach(k => {
+		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+			enumerable: true,
+			get: () => defaultLegacy[k]
+		});
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/generated-code/arrow-functions-true/main.js b/test/form/samples/generated-code/arrow-functions-true/main.js
new file mode 120000
index 000000000..e5cef6e9c
--- /dev/null
+++ b/test/form/samples/generated-code/arrow-functions-true/main.js
@@ -0,0 +1 @@
+../arrow-functions-false/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code/const-bindings-false/_config.js b/test/form/samples/generated-code/const-bindings-false/_config.js
new file mode 100644
index 000000000..7cad0c89a
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-false/_config.js
@@ -0,0 +1,23 @@
+module.exports = {
+	description: 'does not use block bindings',
+	expectedWarnings: ['SHIMMED_EXPORT'],
+	options: {
+		external: ['external'],
+		shimMissingExports: true,
+		output: {
+			generatedCode: { arrowFunctions: true, constBindings: false },
+			name: 'bundle',
+			noConflict: true,
+			exports: 'named'
+		},
+		plugins: [
+			{
+				transform(code, id) {
+					if (id.endsWith('synthetic.js')) {
+						return { syntheticNamedExports: true };
+					}
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/generated-code/const-bindings-false/_expected/amd.js b/test/form/samples/generated-code/const-bindings-false/_expected/amd.js
new file mode 100644
index 000000000..5c724a184
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-false/_expected/amd.js
@@ -0,0 +1,52 @@
+define(['exports', 'external'], (function (exports, foo$1) { 'use strict';
+
+	var _interopDefaultLegacy = e => e && typeof e === 'object' && 'default' in e ? e : { 'default': e };
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(k => {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo$1);
+	var foo__namespace = /*#__PURE__*/_interopNamespace(foo$1);
+
+	var _missingExportShim = void 0;
+
+	const foo = 'bar';
+
+	var other = /*#__PURE__*/Object.freeze({
+		__proto__: null,
+		foo: foo,
+		missing: _missingExportShim
+	});
+
+	var synthetic = { bar: 'baz' };
+
+	console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+	var main = 42;
+
+	exports["default"] = main;
+	exports.syntheticMissing = synthetic.syntheticMissing;
+	Object.keys(foo$1).forEach(k => {
+		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+			enumerable: true,
+			get: () => foo$1[k]
+		});
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/generated-code/const-bindings-false/_expected/cjs.js b/test/form/samples/generated-code/const-bindings-false/_expected/cjs.js
new file mode 100644
index 000000000..0e7b4325c
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-false/_expected/cjs.js
@@ -0,0 +1,52 @@
+'use strict';
+
+Object.defineProperty(exports, '__esModule', { value: true });
+
+var foo$1 = require('external');
+
+var _interopDefaultLegacy = e => e && typeof e === 'object' && 'default' in e ? e : { 'default': e };
+
+function _interopNamespace(e) {
+	if (e && e.__esModule) return e;
+	var n = Object.create(null);
+	if (e) {
+		Object.keys(e).forEach(k => {
+			if (k !== 'default') {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: () => e[k]
+				});
+			}
+		});
+	}
+	n["default"] = e;
+	return Object.freeze(n);
+}
+
+var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo$1);
+var foo__namespace = /*#__PURE__*/_interopNamespace(foo$1);
+
+var _missingExportShim = void 0;
+
+const foo = 'bar';
+
+var other = /*#__PURE__*/Object.freeze({
+	__proto__: null,
+	foo: foo,
+	missing: _missingExportShim
+});
+
+var synthetic = { bar: 'baz' };
+
+console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+var main = 42;
+
+exports["default"] = main;
+exports.syntheticMissing = synthetic.syntheticMissing;
+Object.keys(foo$1).forEach(k => {
+	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+		enumerable: true,
+		get: () => foo$1[k]
+	});
+});
diff --git a/test/form/samples/generated-code/const-bindings-false/_expected/es.js b/test/form/samples/generated-code/const-bindings-false/_expected/es.js
new file mode 100644
index 000000000..f6d72220c
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-false/_expected/es.js
@@ -0,0 +1,21 @@
+import * as foo$1 from 'external';
+import foo__default from 'external';
+export * from 'external';
+
+var _missingExportShim = void 0;
+
+const foo = 'bar';
+
+var other = /*#__PURE__*/Object.freeze({
+	__proto__: null,
+	foo: foo,
+	missing: _missingExportShim
+});
+
+var synthetic = { bar: 'baz' };
+
+console.log(foo__default, foo$1, other, bar, _missingExportShim);
+var main = 42;
+
+var syntheticMissing = synthetic.syntheticMissing;
+export { main as default, syntheticMissing };
diff --git a/test/form/samples/generated-code/const-bindings-false/_expected/iife.js b/test/form/samples/generated-code/const-bindings-false/_expected/iife.js
new file mode 100644
index 000000000..ec8bafb33
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-false/_expected/iife.js
@@ -0,0 +1,55 @@
+var bundle = (function (exports, foo$1) {
+	'use strict';
+
+	var _interopDefaultLegacy = e => e && typeof e === 'object' && 'default' in e ? e : { 'default': e };
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(k => {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo$1);
+	var foo__namespace = /*#__PURE__*/_interopNamespace(foo$1);
+
+	var _missingExportShim = void 0;
+
+	const foo = 'bar';
+
+	var other = /*#__PURE__*/Object.freeze({
+		__proto__: null,
+		foo: foo,
+		missing: _missingExportShim
+	});
+
+	var synthetic = { bar: 'baz' };
+
+	console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+	var main = 42;
+
+	exports["default"] = main;
+	exports.syntheticMissing = synthetic.syntheticMissing;
+	Object.keys(foo$1).forEach(k => {
+		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+			enumerable: true,
+			get: () => foo$1[k]
+		});
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+	return exports;
+
+})({}, foo$1);
diff --git a/test/form/samples/generated-code/const-bindings-false/_expected/system.js b/test/form/samples/generated-code/const-bindings-false/_expected/system.js
new file mode 100644
index 000000000..244a0c241
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-false/_expected/system.js
@@ -0,0 +1,39 @@
+System.register('bundle', ['external'], (function (exports) {
+	'use strict';
+	var _starExcludes = {
+		'default': 1,
+		syntheticMissing: 1
+	};
+	var foo__default, foo$1;
+	return {
+		setters: [module => {
+			foo__default = module["default"];
+			foo$1 = module;
+			var setter = {};
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
+			}
+			exports(setter);
+		}],
+		execute: (function () {
+
+			var _missingExportShim = void 0;
+
+			const foo = 'bar';
+
+			var other = /*#__PURE__*/Object.freeze({
+				__proto__: null,
+				foo: foo,
+				missing: _missingExportShim
+			});
+
+			var synthetic = { bar: 'baz' };
+
+			console.log(foo__default, foo$1, other, bar, _missingExportShim);
+			var main = exports('default', 42);
+
+			exports('syntheticMissing', synthetic.syntheticMissing);
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code/const-bindings-false/_expected/umd.js b/test/form/samples/generated-code/const-bindings-false/_expected/umd.js
new file mode 100644
index 000000000..af0ff6be7
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-false/_expected/umd.js
@@ -0,0 +1,61 @@
+(function (global, factory) {
+	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
+	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, (() => {
+		var current = global.bundle;
+		var exports = global.bundle = {};
+		factory(exports, global.foo$1);
+		exports.noConflict = () => { global.bundle = current; return exports; };
+	})());
+})(this, (function (exports, foo$1) { 'use strict';
+
+	var _interopDefaultLegacy = e => e && typeof e === 'object' && 'default' in e ? e : { 'default': e };
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(k => {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo$1);
+	var foo__namespace = /*#__PURE__*/_interopNamespace(foo$1);
+
+	var _missingExportShim = void 0;
+
+	const foo = 'bar';
+
+	var other = /*#__PURE__*/Object.freeze({
+		__proto__: null,
+		foo: foo,
+		missing: _missingExportShim
+	});
+
+	var synthetic = { bar: 'baz' };
+
+	console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+	var main = 42;
+
+	exports["default"] = main;
+	exports.syntheticMissing = synthetic.syntheticMissing;
+	Object.keys(foo$1).forEach(k => {
+		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+			enumerable: true,
+			get: () => foo$1[k]
+		});
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/generated-code/const-bindings-false/main.js b/test/form/samples/generated-code/const-bindings-false/main.js
new file mode 100644
index 000000000..62767aab4
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-false/main.js
@@ -0,0 +1,7 @@
+import foo, * as ns from 'external';
+import * as other from './other';
+import { missing } from './other';
+export { syntheticMissing } from './synthetic';
+console.log(foo, ns, other, bar, missing);
+export * from 'external';
+export default 42;
diff --git a/test/form/samples/generated-code/const-bindings-false/other.js b/test/form/samples/generated-code/const-bindings-false/other.js
new file mode 100644
index 000000000..c155820bf
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-false/other.js
@@ -0,0 +1 @@
+export const foo = 'bar';
diff --git a/test/form/samples/generated-code/const-bindings-false/synthetic.js b/test/form/samples/generated-code/const-bindings-false/synthetic.js
new file mode 100644
index 000000000..949f6ff6c
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-false/synthetic.js
@@ -0,0 +1 @@
+export default { bar: 'baz' };
diff --git a/test/form/samples/generated-code/const-bindings-true/_config.js b/test/form/samples/generated-code/const-bindings-true/_config.js
new file mode 100644
index 000000000..2c5978fd1
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-true/_config.js
@@ -0,0 +1,23 @@
+module.exports = {
+	description: 'uses block bindings',
+	expectedWarnings: ['SHIMMED_EXPORT'],
+	options: {
+		external: ['external'],
+		shimMissingExports: true,
+		output: {
+			generatedCode: { arrowFunctions: true, constBindings: true },
+			name: 'bundle',
+			noConflict: true,
+			exports: 'named'
+		},
+		plugins: [
+			{
+				transform(code, id) {
+					if (id.endsWith('synthetic.js')) {
+						return { syntheticNamedExports: true };
+					}
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/generated-code/const-bindings-true/_expected/amd.js b/test/form/samples/generated-code/const-bindings-true/_expected/amd.js
new file mode 100644
index 000000000..fe161cf44
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-true/_expected/amd.js
@@ -0,0 +1,52 @@
+define(['exports', 'external'], (function (exports, foo$1) { 'use strict';
+
+	const _interopDefaultLegacy = e => e && typeof e === 'object' && 'default' in e ? e : { 'default': e };
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		const n = Object.create(null);
+		if (e) {
+			for (const k in e) {
+				if (k !== 'default') {
+					const d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			}
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	const foo__default = /*#__PURE__*/_interopDefaultLegacy(foo$1);
+	const foo__namespace = /*#__PURE__*/_interopNamespace(foo$1);
+
+	const _missingExportShim = void 0;
+
+	const foo = 'bar';
+
+	const other = /*#__PURE__*/Object.freeze({
+		__proto__: null,
+		foo: foo,
+		missing: _missingExportShim
+	});
+
+	const synthetic = { bar: 'baz' };
+
+	console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+	const main = 42;
+
+	exports["default"] = main;
+	exports.syntheticMissing = synthetic.syntheticMissing;
+	for (const k in foo$1) {
+		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+			enumerable: true,
+			get: () => foo$1[k]
+		});
+	}
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/generated-code/const-bindings-true/_expected/cjs.js b/test/form/samples/generated-code/const-bindings-true/_expected/cjs.js
new file mode 100644
index 000000000..1dd0c8dae
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-true/_expected/cjs.js
@@ -0,0 +1,52 @@
+'use strict';
+
+Object.defineProperty(exports, '__esModule', { value: true });
+
+const foo$1 = require('external');
+
+const _interopDefaultLegacy = e => e && typeof e === 'object' && 'default' in e ? e : { 'default': e };
+
+function _interopNamespace(e) {
+	if (e && e.__esModule) return e;
+	const n = Object.create(null);
+	if (e) {
+		for (const k in e) {
+			if (k !== 'default') {
+				const d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: () => e[k]
+				});
+			}
+		}
+	}
+	n["default"] = e;
+	return Object.freeze(n);
+}
+
+const foo__default = /*#__PURE__*/_interopDefaultLegacy(foo$1);
+const foo__namespace = /*#__PURE__*/_interopNamespace(foo$1);
+
+const _missingExportShim = void 0;
+
+const foo = 'bar';
+
+const other = /*#__PURE__*/Object.freeze({
+	__proto__: null,
+	foo: foo,
+	missing: _missingExportShim
+});
+
+const synthetic = { bar: 'baz' };
+
+console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+const main = 42;
+
+exports["default"] = main;
+exports.syntheticMissing = synthetic.syntheticMissing;
+for (const k in foo$1) {
+	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+		enumerable: true,
+		get: () => foo$1[k]
+	});
+}
diff --git a/test/form/samples/generated-code/const-bindings-true/_expected/es.js b/test/form/samples/generated-code/const-bindings-true/_expected/es.js
new file mode 100644
index 000000000..3ac9dea5a
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-true/_expected/es.js
@@ -0,0 +1,21 @@
+import * as foo$1 from 'external';
+import foo__default from 'external';
+export * from 'external';
+
+const _missingExportShim = void 0;
+
+const foo = 'bar';
+
+const other = /*#__PURE__*/Object.freeze({
+	__proto__: null,
+	foo: foo,
+	missing: _missingExportShim
+});
+
+const synthetic = { bar: 'baz' };
+
+console.log(foo__default, foo$1, other, bar, _missingExportShim);
+const main = 42;
+
+const syntheticMissing = synthetic.syntheticMissing;
+export { main as default, syntheticMissing };
diff --git a/test/form/samples/generated-code/const-bindings-true/_expected/iife.js b/test/form/samples/generated-code/const-bindings-true/_expected/iife.js
new file mode 100644
index 000000000..deec5fa0f
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-true/_expected/iife.js
@@ -0,0 +1,55 @@
+const bundle = (function (exports, foo$1) {
+	'use strict';
+
+	const _interopDefaultLegacy = e => e && typeof e === 'object' && 'default' in e ? e : { 'default': e };
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		const n = Object.create(null);
+		if (e) {
+			for (const k in e) {
+				if (k !== 'default') {
+					const d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			}
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	const foo__default = /*#__PURE__*/_interopDefaultLegacy(foo$1);
+	const foo__namespace = /*#__PURE__*/_interopNamespace(foo$1);
+
+	const _missingExportShim = void 0;
+
+	const foo = 'bar';
+
+	const other = /*#__PURE__*/Object.freeze({
+		__proto__: null,
+		foo: foo,
+		missing: _missingExportShim
+	});
+
+	const synthetic = { bar: 'baz' };
+
+	console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+	const main = 42;
+
+	exports["default"] = main;
+	exports.syntheticMissing = synthetic.syntheticMissing;
+	for (const k in foo$1) {
+		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+			enumerable: true,
+			get: () => foo$1[k]
+		});
+	}
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+	return exports;
+
+})({}, foo$1);
diff --git a/test/form/samples/generated-code/const-bindings-true/_expected/system.js b/test/form/samples/generated-code/const-bindings-true/_expected/system.js
new file mode 100644
index 000000000..900f2a4d0
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-true/_expected/system.js
@@ -0,0 +1,39 @@
+System.register('bundle', ['external'], (function (exports) {
+	'use strict';
+	const _starExcludes = {
+		'default': 1,
+		syntheticMissing: 1
+	};
+	var foo__default, foo$1;
+	return {
+		setters: [module => {
+			foo__default = module["default"];
+			foo$1 = module;
+			const setter = {};
+			for (const name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
+			}
+			exports(setter);
+		}],
+		execute: (function () {
+
+			const _missingExportShim = void 0;
+
+			const foo = 'bar';
+
+			const other = /*#__PURE__*/Object.freeze({
+				__proto__: null,
+				foo: foo,
+				missing: _missingExportShim
+			});
+
+			const synthetic = { bar: 'baz' };
+
+			console.log(foo__default, foo$1, other, bar, _missingExportShim);
+			const main = exports('default', 42);
+
+			exports('syntheticMissing', synthetic.syntheticMissing);
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code/const-bindings-true/_expected/umd.js b/test/form/samples/generated-code/const-bindings-true/_expected/umd.js
new file mode 100644
index 000000000..f14f2a4f6
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-true/_expected/umd.js
@@ -0,0 +1,61 @@
+(function (global, factory) {
+	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
+	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, (() => {
+		const current = global.bundle;
+		const exports = global.bundle = {};
+		factory(exports, global.foo$1);
+		exports.noConflict = () => { global.bundle = current; return exports; };
+	})());
+})(this, (function (exports, foo$1) { 'use strict';
+
+	const _interopDefaultLegacy = e => e && typeof e === 'object' && 'default' in e ? e : { 'default': e };
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		const n = Object.create(null);
+		if (e) {
+			for (const k in e) {
+				if (k !== 'default') {
+					const d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: () => e[k]
+					});
+				}
+			}
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	const foo__default = /*#__PURE__*/_interopDefaultLegacy(foo$1);
+	const foo__namespace = /*#__PURE__*/_interopNamespace(foo$1);
+
+	const _missingExportShim = void 0;
+
+	const foo = 'bar';
+
+	const other = /*#__PURE__*/Object.freeze({
+		__proto__: null,
+		foo: foo,
+		missing: _missingExportShim
+	});
+
+	const synthetic = { bar: 'baz' };
+
+	console.log(foo__default["default"], foo__namespace, other, bar, _missingExportShim);
+	const main = 42;
+
+	exports["default"] = main;
+	exports.syntheticMissing = synthetic.syntheticMissing;
+	for (const k in foo$1) {
+		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
+			enumerable: true,
+			get: () => foo$1[k]
+		});
+	}
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/generated-code/const-bindings-true/main.js b/test/form/samples/generated-code/const-bindings-true/main.js
new file mode 120000
index 000000000..3fa650765
--- /dev/null
+++ b/test/form/samples/generated-code/const-bindings-true/main.js
@@ -0,0 +1 @@
+../../generated-code/const-bindings-false/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code/object-shorthand-false/_config.js b/test/form/samples/generated-code/object-shorthand-false/_config.js
new file mode 100644
index 000000000..3213ea6f5
--- /dev/null
+++ b/test/form/samples/generated-code/object-shorthand-false/_config.js
@@ -0,0 +1,11 @@
+module.exports = {
+	description: 'does not use object shorthand syntax',
+	options: {
+		output: {
+			exports: 'named',
+			format: 'system',
+			generatedCode: { objectShorthand: false },
+			name: 'bundle'
+		}
+	}
+};
diff --git a/test/form/samples/generated-code/object-shorthand-false/_expected.js b/test/form/samples/generated-code/object-shorthand-false/_expected.js
new file mode 100644
index 000000000..c1fd29b56
--- /dev/null
+++ b/test/form/samples/generated-code/object-shorthand-false/_expected.js
@@ -0,0 +1,21 @@
+System.register('bundle', [], (function (exports) {
+	'use strict';
+	return {
+		execute: (function () {
+
+			const a = 'a';
+
+			var ns = /*#__PURE__*/Object.freeze({
+				__proto__: null,
+				a: a,
+				b: a,
+				'default': a
+			});
+
+			console.log(ns);
+
+			const foo = 1; exports({ foo: foo, bar: foo, 'default': foo });
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code/object-shorthand-false/main.js b/test/form/samples/generated-code/object-shorthand-false/main.js
new file mode 100644
index 000000000..cbf74148b
--- /dev/null
+++ b/test/form/samples/generated-code/object-shorthand-false/main.js
@@ -0,0 +1,5 @@
+import * as ns from './other.js';
+console.log(ns);
+
+const foo = 1;
+export { foo, foo as bar, foo as default };
diff --git a/test/form/samples/generated-code/object-shorthand-false/other.js b/test/form/samples/generated-code/object-shorthand-false/other.js
new file mode 100644
index 000000000..e30e31333
--- /dev/null
+++ b/test/form/samples/generated-code/object-shorthand-false/other.js
@@ -0,0 +1,2 @@
+const a = 'a';
+export { a, a as b, a as default };
diff --git a/test/form/samples/generated-code/object-shorthand-true/_config.js b/test/form/samples/generated-code/object-shorthand-true/_config.js
new file mode 100644
index 000000000..b453e6ff0
--- /dev/null
+++ b/test/form/samples/generated-code/object-shorthand-true/_config.js
@@ -0,0 +1,11 @@
+module.exports = {
+	description: 'uses object shorthand syntax',
+	options: {
+		output: {
+			exports: 'named',
+			format: 'system',
+			generatedCode: { objectShorthand: true },
+			name: 'bundle'
+		}
+	}
+};
diff --git a/test/form/samples/generated-code/object-shorthand-true/_expected.js b/test/form/samples/generated-code/object-shorthand-true/_expected.js
new file mode 100644
index 000000000..0f8044181
--- /dev/null
+++ b/test/form/samples/generated-code/object-shorthand-true/_expected.js
@@ -0,0 +1,21 @@
+System.register('bundle', [], (function (exports) {
+	'use strict';
+	return {
+		execute: (function () {
+
+			const a = 'a';
+
+			var ns = /*#__PURE__*/Object.freeze({
+				__proto__: null,
+				a,
+				b: a,
+				'default': a
+			});
+
+			console.log(ns);
+
+			const foo = 1; exports({ foo, bar: foo, 'default': foo });
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code/object-shorthand-true/main.js b/test/form/samples/generated-code/object-shorthand-true/main.js
new file mode 120000
index 000000000..21bdc213a
--- /dev/null
+++ b/test/form/samples/generated-code/object-shorthand-true/main.js
@@ -0,0 +1 @@
+../../generated-code/object-shorthand-false/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_config.js b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_config.js
new file mode 100644
index 000000000..34a550f3b
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_config.js
@@ -0,0 +1,12 @@
+module.exports = {
+	description: 'escapes reserved names used as props when external live-bindings are off',
+	options: {
+		external: ['external'],
+		output: {
+			exports: 'named',
+			externalLiveBindings: false,
+			generatedCode: { reservedNamesAsProps: false },
+			name: 'bundle'
+		}
+	}
+};
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/amd.js b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/amd.js
new file mode 100644
index 000000000..e30042a30
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/amd.js
@@ -0,0 +1,9 @@
+define(['external'], (function (ns) { 'use strict';
+
+	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e["default"] : e; }
+
+	var ns__default = /*#__PURE__*/_interopDefaultLegacy(ns);
+
+	console.log(ns__default);
+
+}));
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/cjs.js b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/cjs.js
new file mode 100644
index 000000000..907253ae7
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/cjs.js
@@ -0,0 +1,9 @@
+'use strict';
+
+var ns = require('external');
+
+function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e["default"] : e; }
+
+var ns__default = /*#__PURE__*/_interopDefaultLegacy(ns);
+
+console.log(ns__default);
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/es.js b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/es.js
new file mode 100644
index 000000000..f066c6c43
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/es.js
@@ -0,0 +1,3 @@
+import ns from 'external';
+
+console.log(ns);
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/iife.js b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/iife.js
new file mode 100644
index 000000000..e66aad0a5
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/iife.js
@@ -0,0 +1,10 @@
+(function (ns) {
+	'use strict';
+
+	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e["default"] : e; }
+
+	var ns__default = /*#__PURE__*/_interopDefaultLegacy(ns);
+
+	console.log(ns__default);
+
+})(ns);
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/system.js b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/system.js
new file mode 100644
index 000000000..949298690
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/system.js
@@ -0,0 +1,14 @@
+System.register('bundle', ['external'], (function () {
+	'use strict';
+	var ns;
+	return {
+		setters: [function (module) {
+			ns = module["default"];
+		}],
+		execute: (function () {
+
+			console.log(ns);
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/umd.js b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/umd.js
new file mode 100644
index 000000000..c42dfe074
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/_expected/umd.js
@@ -0,0 +1,13 @@
+(function (global, factory) {
+	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('external')) :
+	typeof define === 'function' && define.amd ? define(['external'], factory) :
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.ns));
+})(this, (function (ns) { 'use strict';
+
+	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e["default"] : e; }
+
+	var ns__default = /*#__PURE__*/_interopDefaultLegacy(ns);
+
+	console.log(ns__default);
+
+}));
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/main.js b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/main.js
new file mode 100644
index 000000000..f96ed8bc5
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false-no-external-live-bindings/main.js
@@ -0,0 +1,2 @@
+import ns from 'external';
+console.log(ns);
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false/_config.js b/test/form/samples/generated-code/reserved-names-as-props-false/_config.js
new file mode 100644
index 000000000..6f5456496
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false/_config.js
@@ -0,0 +1,22 @@
+module.exports = {
+	description: 'escapes reserved names used as props',
+	options: {
+		external: ['external', 'external2', 'externalDefaultOnly'],
+		output: {
+			exports: 'named',
+			generatedCode: { reservedNamesAsProps: false },
+			interop(id) {
+				if (id === 'externalDefaultOnly') return 'defaultOnly';
+				return 'auto';
+			},
+			name: 'bundle'
+		},
+		plugins: [
+			{
+				transform() {
+					return { syntheticNamedExports: true };
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false/_expected/amd.js b/test/form/samples/generated-code/reserved-names-as-props-false/_expected/amd.js
new file mode 100644
index 000000000..a7890a24a
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false/_expected/amd.js
@@ -0,0 +1,71 @@
+define(['module', 'exports', 'external', 'externalDefaultOnly', 'external2'], (function (module, exports, external, defaultOnly, someDefault) { 'use strict';
+
+	function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }
+
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
+
+	var external__namespace = /*#__PURE__*/_interopNamespace(external);
+	var defaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);
+	var someDefault__default = /*#__PURE__*/_interopDefault(someDefault);
+
+	var other = {
+		foo: 'bar'
+	};
+
+	var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
+		'default': other
+	}, [other]));
+
+	console.log(ns, other.foo, other["function"], other["some-prop"], external["function"], someDefault__default["default"], defaultOnly__namespace);
+	console.log(undefined, undefined);
+
+	exports["function"] = 1;
+	exports["function"]++;
+
+	Object.defineProperty(exports, 'bar', {
+		enumerable: true,
+		get: function () { return external["function"]; }
+	});
+	exports["default"] = external__namespace;
+	Object.defineProperty(exports, 'void', {
+		enumerable: true,
+		get: function () { return external__namespace["default"]; }
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false/_expected/cjs.js b/test/form/samples/generated-code/reserved-names-as-props-false/_expected/cjs.js
new file mode 100644
index 000000000..36f0f1de5
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false/_expected/cjs.js
@@ -0,0 +1,73 @@
+'use strict';
+
+Object.defineProperty(exports, '__esModule', { value: true });
+
+var external = require('external');
+var defaultOnly = require('externalDefaultOnly');
+var someDefault = require('external2');
+
+function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }
+
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
+
+function _interopNamespace(e) {
+	if (e && e.__esModule) return e;
+	var n = Object.create(null);
+	if (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default') {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	}
+	n["default"] = e;
+	return Object.freeze(n);
+}
+
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
+var external__namespace = /*#__PURE__*/_interopNamespace(external);
+var defaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);
+var someDefault__default = /*#__PURE__*/_interopDefault(someDefault);
+
+var other = {
+	foo: 'bar'
+};
+
+var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
+	'default': other
+}, [other]));
+
+console.log(ns, other.foo, other["function"], other["some-prop"], external["function"], someDefault__default["default"], defaultOnly__namespace);
+console.log(undefined, undefined);
+
+exports["function"] = 1;
+exports["function"]++;
+
+Object.defineProperty(exports, 'bar', {
+	enumerable: true,
+	get: function () { return external["function"]; }
+});
+exports["default"] = external__namespace;
+Object.defineProperty(exports, 'void', {
+	enumerable: true,
+	get: function () { return external__namespace["default"]; }
+});
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false/_expected/es.js b/test/form/samples/generated-code/reserved-names-as-props-false/_expected/es.js
new file mode 100644
index 000000000..ae8f16c35
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false/_expected/es.js
@@ -0,0 +1,38 @@
+import { function as function$1 } from 'external';
+import * as external from 'external';
+export { external as default };
+export { function as bar, default as void } from 'external';
+import * as defaultOnly from 'externalDefaultOnly';
+import someDefault from 'external2';
+
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
+var other = {
+	foo: 'bar'
+};
+
+var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
+	'default': other
+}, [other]));
+
+console.log(ns, other.foo, other["function"], other["some-prop"], function$1, someDefault, defaultOnly);
+console.log(import.meta['function'], import.meta['some-prop']);
+
+let f = 1;
+f++;
+
+export { f as function };
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false/_expected/iife.js b/test/form/samples/generated-code/reserved-names-as-props-false/_expected/iife.js
new file mode 100644
index 000000000..6425286a6
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false/_expected/iife.js
@@ -0,0 +1,74 @@
+var bundle = (function (exports, external, defaultOnly, someDefault) {
+	'use strict';
+
+	function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }
+
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
+
+	var external__namespace = /*#__PURE__*/_interopNamespace(external);
+	var defaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);
+	var someDefault__default = /*#__PURE__*/_interopDefault(someDefault);
+
+	var other = {
+		foo: 'bar'
+	};
+
+	var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
+		'default': other
+	}, [other]));
+
+	console.log(ns, other.foo, other["function"], other["some-prop"], external["function"], someDefault__default["default"], defaultOnly__namespace);
+	console.log(undefined, undefined);
+
+	exports["function"] = 1;
+	exports["function"]++;
+
+	Object.defineProperty(exports, 'bar', {
+		enumerable: true,
+		get: function () { return external["function"]; }
+	});
+	exports["default"] = external__namespace;
+	Object.defineProperty(exports, 'void', {
+		enumerable: true,
+		get: function () { return external__namespace["default"]; }
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+	return exports;
+
+})({}, external, defaultOnly, someDefault);
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false/_expected/system.js b/test/form/samples/generated-code/reserved-names-as-props-false/_expected/system.js
new file mode 100644
index 000000000..477eec163
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false/_expected/system.js
@@ -0,0 +1,47 @@
+System.register('bundle', ['external', 'externalDefaultOnly', 'external2'], (function (exports, module) {
+	'use strict';
+	var function$1, defaultOnly, someDefault;
+	return {
+		setters: [function (module) {
+			function$1 = module["function"];
+			exports({ bar: module["function"], 'default': module, 'void': module["default"] });
+		}, function (module) {
+			defaultOnly = module;
+		}, function (module) {
+			someDefault = module["default"];
+		}],
+		execute: (function () {
+
+			function _mergeNamespaces(n, m) {
+				m.forEach(function (e) {
+					Object.keys(e).forEach(function (k) {
+						if (k !== 'default' && !(k in n)) {
+							var d = Object.getOwnPropertyDescriptor(e, k);
+							Object.defineProperty(n, k, d.get ? d : {
+								enumerable: true,
+								get: function () { return e[k]; }
+							});
+						}
+					});
+				});
+				return Object.freeze(n);
+			}
+
+			var other = {
+				foo: 'bar'
+			};
+
+			var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+				__proto__: null,
+				'default': other
+			}, [other]));
+
+			console.log(ns, other.foo, other["function"], other["some-prop"], function$1, someDefault, defaultOnly);
+			console.log(module.meta["function"], module.meta["some-prop"]);
+
+			let f = exports('function', 1);
+			exports('function', f + 1), f++;
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false/_expected/umd.js b/test/form/samples/generated-code/reserved-names-as-props-false/_expected/umd.js
new file mode 100644
index 000000000..e0f59d908
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false/_expected/umd.js
@@ -0,0 +1,75 @@
+(function (global, factory) {
+	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external'), require('externalDefaultOnly'), require('external2')) :
+	typeof define === 'function' && define.amd ? define(['exports', 'external', 'externalDefaultOnly', 'external2'], factory) :
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external, global.defaultOnly, global.someDefault));
+})(this, (function (exports, external, defaultOnly, someDefault) { 'use strict';
+
+	function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }
+
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		}
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
+
+	var external__namespace = /*#__PURE__*/_interopNamespace(external);
+	var defaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);
+	var someDefault__default = /*#__PURE__*/_interopDefault(someDefault);
+
+	var other = {
+		foo: 'bar'
+	};
+
+	var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
+		'default': other
+	}, [other]));
+
+	console.log(ns, other.foo, other["function"], other["some-prop"], external["function"], someDefault__default["default"], defaultOnly__namespace);
+	console.log(undefined, undefined);
+
+	exports["function"] = 1;
+	exports["function"]++;
+
+	Object.defineProperty(exports, 'bar', {
+		enumerable: true,
+		get: function () { return external["function"]; }
+	});
+	exports["default"] = external__namespace;
+	Object.defineProperty(exports, 'void', {
+		enumerable: true,
+		get: function () { return external__namespace["default"]; }
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false/main.js b/test/form/samples/generated-code/reserved-names-as-props-false/main.js
new file mode 100644
index 000000000..dab494225
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false/main.js
@@ -0,0 +1,14 @@
+import * as ns from './other.js';
+import { function as g } from 'external';
+import * as defaultOnly from 'externalDefaultOnly'
+import someDefault from 'external2'
+
+console.log(ns, ns.foo, ns['function'], ns['some-prop'], g, someDefault, defaultOnly);
+console.log(import.meta['function'], import.meta['some-prop']);
+
+let f = 1;
+f++;
+
+export { f as function };
+export * as default from 'external';
+export { default as void, function as bar } from 'external';
diff --git a/test/form/samples/generated-code/reserved-names-as-props-false/other.js b/test/form/samples/generated-code/reserved-names-as-props-false/other.js
new file mode 100644
index 000000000..ca6b72778
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-false/other.js
@@ -0,0 +1,3 @@
+export default {
+	foo: 'bar'
+};
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_config.js b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_config.js
new file mode 100644
index 000000000..1c44b2cb7
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_config.js
@@ -0,0 +1,12 @@
+module.exports = {
+	description: 'escapes reserved names used as props when external live-bindings are off',
+	options: {
+		external: ['external'],
+		output: {
+			exports: 'named',
+			externalLiveBindings: false,
+			generatedCode: { reservedNamesAsProps: true },
+			name: 'bundle'
+		}
+	}
+};
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/amd.js b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/amd.js
new file mode 100644
index 000000000..f5b6c6d62
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/amd.js
@@ -0,0 +1,9 @@
+define(['external'], (function (ns) { 'use strict';
+
+	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e.default : e; }
+
+	var ns__default = /*#__PURE__*/_interopDefaultLegacy(ns);
+
+	console.log(ns__default);
+
+}));
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/cjs.js b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/cjs.js
new file mode 100644
index 000000000..6e1ec59b0
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/cjs.js
@@ -0,0 +1,9 @@
+'use strict';
+
+var ns = require('external');
+
+function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e.default : e; }
+
+var ns__default = /*#__PURE__*/_interopDefaultLegacy(ns);
+
+console.log(ns__default);
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/es.js b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/es.js
new file mode 100644
index 000000000..f066c6c43
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/es.js
@@ -0,0 +1,3 @@
+import ns from 'external';
+
+console.log(ns);
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/iife.js b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/iife.js
new file mode 100644
index 000000000..0de7dc26e
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/iife.js
@@ -0,0 +1,10 @@
+(function (ns) {
+	'use strict';
+
+	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e.default : e; }
+
+	var ns__default = /*#__PURE__*/_interopDefaultLegacy(ns);
+
+	console.log(ns__default);
+
+})(ns);
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/system.js b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/system.js
new file mode 100644
index 000000000..cdd74b852
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/system.js
@@ -0,0 +1,14 @@
+System.register('bundle', ['external'], (function () {
+	'use strict';
+	var ns;
+	return {
+		setters: [function (module) {
+			ns = module.default;
+		}],
+		execute: (function () {
+
+			console.log(ns);
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/umd.js b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/umd.js
new file mode 100644
index 000000000..7d2ff45a2
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/_expected/umd.js
@@ -0,0 +1,13 @@
+(function (global, factory) {
+	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('external')) :
+	typeof define === 'function' && define.amd ? define(['external'], factory) :
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.ns));
+})(this, (function (ns) { 'use strict';
+
+	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e.default : e; }
+
+	var ns__default = /*#__PURE__*/_interopDefaultLegacy(ns);
+
+	console.log(ns__default);
+
+}));
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/main.js b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/main.js
new file mode 120000
index 000000000..b667be2b6
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true-no-external-live-bindings/main.js
@@ -0,0 +1 @@
+../../generated-code/reserved-names-as-props-false-no-external-live-bindings/main.js
\ No newline at end of file
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true/_config.js b/test/form/samples/generated-code/reserved-names-as-props-true/_config.js
new file mode 100644
index 000000000..c53af0ef6
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true/_config.js
@@ -0,0 +1,22 @@
+module.exports = {
+	description: 'escapes reserved names used as props',
+	options: {
+		external: ['external', 'external2', 'externalDefaultOnly'],
+		output: {
+			exports: 'named',
+			generatedCode: { reservedNamesAsProps: true },
+			interop(id) {
+				if (id === 'externalDefaultOnly') return 'defaultOnly';
+				return 'auto';
+			},
+			name: 'bundle'
+		},
+		plugins: [
+			{
+				transform() {
+					return { syntheticNamedExports: true };
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true/_expected/amd.js b/test/form/samples/generated-code/reserved-names-as-props-true/_expected/amd.js
new file mode 100644
index 000000000..6c831aeab
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true/_expected/amd.js
@@ -0,0 +1,71 @@
+define(['module', 'exports', 'external', 'externalDefaultOnly', 'external2'], (function (module, exports, external, defaultOnly, someDefault) { 'use strict';
+
+	function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }
+
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, default: e }); }
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		}
+		n.default = e;
+		return Object.freeze(n);
+	}
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
+
+	var external__namespace = /*#__PURE__*/_interopNamespace(external);
+	var defaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);
+	var someDefault__default = /*#__PURE__*/_interopDefault(someDefault);
+
+	var other = {
+		foo: 'bar'
+	};
+
+	var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
+		default: other
+	}, [other]));
+
+	console.log(ns, other.foo, other.function, other["some-prop"], external.function, someDefault__default.default, defaultOnly__namespace);
+	console.log(undefined, undefined);
+
+	exports.function = 1;
+	exports.function++;
+
+	Object.defineProperty(exports, 'bar', {
+		enumerable: true,
+		get: function () { return external.function; }
+	});
+	exports.default = external__namespace;
+	Object.defineProperty(exports, 'void', {
+		enumerable: true,
+		get: function () { return external__namespace.default; }
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true/_expected/cjs.js b/test/form/samples/generated-code/reserved-names-as-props-true/_expected/cjs.js
new file mode 100644
index 000000000..6cae4b360
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true/_expected/cjs.js
@@ -0,0 +1,73 @@
+'use strict';
+
+Object.defineProperty(exports, '__esModule', { value: true });
+
+var external = require('external');
+var defaultOnly = require('externalDefaultOnly');
+var someDefault = require('external2');
+
+function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }
+
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, default: e }); }
+
+function _interopNamespace(e) {
+	if (e && e.__esModule) return e;
+	var n = Object.create(null);
+	if (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default') {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	}
+	n.default = e;
+	return Object.freeze(n);
+}
+
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
+var external__namespace = /*#__PURE__*/_interopNamespace(external);
+var defaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);
+var someDefault__default = /*#__PURE__*/_interopDefault(someDefault);
+
+var other = {
+	foo: 'bar'
+};
+
+var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
+	default: other
+}, [other]));
+
+console.log(ns, other.foo, other.function, other["some-prop"], external.function, someDefault__default.default, defaultOnly__namespace);
+console.log(undefined, undefined);
+
+exports.function = 1;
+exports.function++;
+
+Object.defineProperty(exports, 'bar', {
+	enumerable: true,
+	get: function () { return external.function; }
+});
+exports.default = external__namespace;
+Object.defineProperty(exports, 'void', {
+	enumerable: true,
+	get: function () { return external__namespace.default; }
+});
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true/_expected/es.js b/test/form/samples/generated-code/reserved-names-as-props-true/_expected/es.js
new file mode 100644
index 000000000..a6a3cc654
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true/_expected/es.js
@@ -0,0 +1,38 @@
+import { function as function$1 } from 'external';
+import * as external from 'external';
+export { external as default };
+export { function as bar, default as void } from 'external';
+import * as defaultOnly from 'externalDefaultOnly';
+import someDefault from 'external2';
+
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
+var other = {
+	foo: 'bar'
+};
+
+var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
+	default: other
+}, [other]));
+
+console.log(ns, other.foo, other.function, other["some-prop"], function$1, someDefault, defaultOnly);
+console.log(import.meta['function'], import.meta['some-prop']);
+
+let f = 1;
+f++;
+
+export { f as function };
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true/_expected/iife.js b/test/form/samples/generated-code/reserved-names-as-props-true/_expected/iife.js
new file mode 100644
index 000000000..2fafa67eb
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true/_expected/iife.js
@@ -0,0 +1,74 @@
+var bundle = (function (exports, external, defaultOnly, someDefault) {
+	'use strict';
+
+	function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }
+
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, default: e }); }
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		}
+		n.default = e;
+		return Object.freeze(n);
+	}
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
+
+	var external__namespace = /*#__PURE__*/_interopNamespace(external);
+	var defaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);
+	var someDefault__default = /*#__PURE__*/_interopDefault(someDefault);
+
+	var other = {
+		foo: 'bar'
+	};
+
+	var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
+		default: other
+	}, [other]));
+
+	console.log(ns, other.foo, other.function, other["some-prop"], external.function, someDefault__default.default, defaultOnly__namespace);
+	console.log(undefined, undefined);
+
+	exports.function = 1;
+	exports.function++;
+
+	Object.defineProperty(exports, 'bar', {
+		enumerable: true,
+		get: function () { return external.function; }
+	});
+	exports.default = external__namespace;
+	Object.defineProperty(exports, 'void', {
+		enumerable: true,
+		get: function () { return external__namespace.default; }
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+	return exports;
+
+})({}, external, defaultOnly, someDefault);
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true/_expected/system.js b/test/form/samples/generated-code/reserved-names-as-props-true/_expected/system.js
new file mode 100644
index 000000000..36b8013a7
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true/_expected/system.js
@@ -0,0 +1,47 @@
+System.register('bundle', ['external', 'externalDefaultOnly', 'external2'], (function (exports, module) {
+	'use strict';
+	var function$1, defaultOnly, someDefault;
+	return {
+		setters: [function (module) {
+			function$1 = module.function;
+			exports({ bar: module.function, default: module, void: module.default });
+		}, function (module) {
+			defaultOnly = module;
+		}, function (module) {
+			someDefault = module.default;
+		}],
+		execute: (function () {
+
+			function _mergeNamespaces(n, m) {
+				m.forEach(function (e) {
+					Object.keys(e).forEach(function (k) {
+						if (k !== 'default' && !(k in n)) {
+							var d = Object.getOwnPropertyDescriptor(e, k);
+							Object.defineProperty(n, k, d.get ? d : {
+								enumerable: true,
+								get: function () { return e[k]; }
+							});
+						}
+					});
+				});
+				return Object.freeze(n);
+			}
+
+			var other = {
+				foo: 'bar'
+			};
+
+			var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+				__proto__: null,
+				default: other
+			}, [other]));
+
+			console.log(ns, other.foo, other.function, other["some-prop"], function$1, someDefault, defaultOnly);
+			console.log(module.meta.function, module.meta["some-prop"]);
+
+			let f = exports('function', 1);
+			exports('function', f + 1), f++;
+
+		})
+	};
+}));
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true/_expected/umd.js b/test/form/samples/generated-code/reserved-names-as-props-true/_expected/umd.js
new file mode 100644
index 000000000..707d9e233
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true/_expected/umd.js
@@ -0,0 +1,75 @@
+(function (global, factory) {
+	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external'), require('externalDefaultOnly'), require('external2')) :
+	typeof define === 'function' && define.amd ? define(['exports', 'external', 'externalDefaultOnly', 'external2'], factory) :
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external, global.defaultOnly, global.someDefault));
+})(this, (function (exports, external, defaultOnly, someDefault) { 'use strict';
+
+	function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }
+
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, default: e }); }
+
+	function _interopNamespace(e) {
+		if (e && e.__esModule) return e;
+		var n = Object.create(null);
+		if (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default') {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		}
+		n.default = e;
+		return Object.freeze(n);
+	}
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
+		return Object.freeze(n);
+	}
+
+	var external__namespace = /*#__PURE__*/_interopNamespace(external);
+	var defaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(defaultOnly);
+	var someDefault__default = /*#__PURE__*/_interopDefault(someDefault);
+
+	var other = {
+		foo: 'bar'
+	};
+
+	var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
+		default: other
+	}, [other]));
+
+	console.log(ns, other.foo, other.function, other["some-prop"], external.function, someDefault__default.default, defaultOnly__namespace);
+	console.log(undefined, undefined);
+
+	exports.function = 1;
+	exports.function++;
+
+	Object.defineProperty(exports, 'bar', {
+		enumerable: true,
+		get: function () { return external.function; }
+	});
+	exports.default = external__namespace;
+	Object.defineProperty(exports, 'void', {
+		enumerable: true,
+		get: function () { return external__namespace.default; }
+	});
+
+	Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
diff --git a/test/form/samples/generated-code/reserved-names-as-props-true/main.js b/test/form/samples/generated-code/reserved-names-as-props-true/main.js
new file mode 120000
index 000000000..c711a9c52
--- /dev/null
+++ b/test/form/samples/generated-code/reserved-names-as-props-true/main.js
@@ -0,0 +1 @@
+../../generated-code/reserved-names-as-props-false/main.js
\ No newline at end of file
diff --git a/test/form/samples/globals-function/_expected/amd.js b/test/form/samples/globals-function/_expected/amd.js
index bb2c1554f..988005bae 100644
--- a/test/form/samples/globals-function/_expected/amd.js
+++ b/test/form/samples/globals-function/_expected/amd.js
@@ -1,10 +1,10 @@
-define(['a', 'b'], function (a, b) { 'use strict';
+define(['a', 'b'], (function (a, b) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var a__default = /*#__PURE__*/_interopDefaultLegacy(a);
 	var b__default = /*#__PURE__*/_interopDefaultLegacy(b);
 
-	console.log(a__default['default'], b__default['default']);
+	console.log(a__default["default"], b__default["default"]);
 
-});
+}));
diff --git a/test/form/samples/globals-function/_expected/cjs.js b/test/form/samples/globals-function/_expected/cjs.js
index 033fece9b..46221be21 100644
--- a/test/form/samples/globals-function/_expected/cjs.js
+++ b/test/form/samples/globals-function/_expected/cjs.js
@@ -8,4 +8,4 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 var a__default = /*#__PURE__*/_interopDefaultLegacy(a);
 var b__default = /*#__PURE__*/_interopDefaultLegacy(b);
 
-console.log(a__default['default'], b__default['default']);
+console.log(a__default["default"], b__default["default"]);
diff --git a/test/form/samples/globals-function/_expected/iife.js b/test/form/samples/globals-function/_expected/iife.js
index 1170fbe00..1bccabedd 100644
--- a/test/form/samples/globals-function/_expected/iife.js
+++ b/test/form/samples/globals-function/_expected/iife.js
@@ -6,6 +6,6 @@
 	var a__default = /*#__PURE__*/_interopDefaultLegacy(a);
 	var b__default = /*#__PURE__*/_interopDefaultLegacy(b);
 
-	console.log(a__default['default'], b__default['default']);
+	console.log(a__default["default"], b__default["default"]);
 
-}(thisIsA, thisIsB));
+})(thisIsA, thisIsB);
diff --git a/test/form/samples/globals-function/_expected/system.js b/test/form/samples/globals-function/_expected/system.js
index 932ae55e4..d06b40ba5 100644
--- a/test/form/samples/globals-function/_expected/system.js
+++ b/test/form/samples/globals-function/_expected/system.js
@@ -1,16 +1,16 @@
-System.register('myBundle', ['a', 'b'], function () {
+System.register('myBundle', ['a', 'b'], (function () {
 	'use strict';
 	var a, b;
 	return {
 		setters: [function (module) {
-			a = module.default;
+			a = module["default"];
 		}, function (module) {
-			b = module.default;
+			b = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(a, b);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/globals-function/_expected/umd.js b/test/form/samples/globals-function/_expected/umd.js
index 060773e9c..eddc8ee24 100644
--- a/test/form/samples/globals-function/_expected/umd.js
+++ b/test/form/samples/globals-function/_expected/umd.js
@@ -2,13 +2,13 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('a'), require('b')) :
 	typeof define === 'function' && define.amd ? define(['a', 'b'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.thisIsA, global.thisIsB));
-}(this, (function (a, b) { 'use strict';
+})(this, (function (a, b) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var a__default = /*#__PURE__*/_interopDefaultLegacy(a);
 	var b__default = /*#__PURE__*/_interopDefaultLegacy(b);
 
-	console.log(a__default['default'], b__default['default']);
+	console.log(a__default["default"], b__default["default"]);
 
-})));
+}));
diff --git a/test/form/samples/globals-removes-access-to-pure-function-members/_expected/amd.js b/test/form/samples/globals-removes-access-to-pure-function-members/_expected/amd.js
index b8c20625c..168f63efb 100644
--- a/test/form/samples/globals-removes-access-to-pure-function-members/_expected/amd.js
+++ b/test/form/samples/globals-removes-access-to-pure-function-members/_expected/amd.js
@@ -1,6 +1,6 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	Unknown.staticMember;
 	Unknown.prototype.method;
 
-});
+}));
diff --git a/test/form/samples/globals-removes-access-to-pure-function-members/_expected/iife.js b/test/form/samples/globals-removes-access-to-pure-function-members/_expected/iife.js
index 5bc83f4bb..82fcd79ab 100644
--- a/test/form/samples/globals-removes-access-to-pure-function-members/_expected/iife.js
+++ b/test/form/samples/globals-removes-access-to-pure-function-members/_expected/iife.js
@@ -4,4 +4,4 @@
 	Unknown.staticMember;
 	Unknown.prototype.method;
 
-}());
+})();
diff --git a/test/form/samples/globals-removes-access-to-pure-function-members/_expected/system.js b/test/form/samples/globals-removes-access-to-pure-function-members/_expected/system.js
index 92cece42c..578973082 100644
--- a/test/form/samples/globals-removes-access-to-pure-function-members/_expected/system.js
+++ b/test/form/samples/globals-removes-access-to-pure-function-members/_expected/system.js
@@ -1,11 +1,11 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			Unknown.staticMember;
 			Unknown.prototype.method;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/globals-removes-access-to-pure-function-members/_expected/umd.js b/test/form/samples/globals-removes-access-to-pure-function-members/_expected/umd.js
index 63a99c48e..4d3c7bdc4 100644
--- a/test/form/samples/globals-removes-access-to-pure-function-members/_expected/umd.js
+++ b/test/form/samples/globals-removes-access-to-pure-function-members/_expected/umd.js
@@ -1,9 +1,9 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	Unknown.staticMember;
 	Unknown.prototype.method;
 
-})));
+}));
diff --git a/test/form/samples/guessed-global-names/_expected/amd.js b/test/form/samples/guessed-global-names/_expected/amd.js
index d4ff1e624..3aa855453 100644
--- a/test/form/samples/guessed-global-names/_expected/amd.js
+++ b/test/form/samples/guessed-global-names/_expected/amd.js
@@ -1,9 +1,9 @@
-define(['unchanged', 'changed', 'special-character', 'with/slash', './relative'], function (unchanged, changedName, specialCharacter, slash, relative_js) { 'use strict';
+define(['unchanged', 'changed', 'special-character', 'with/slash', './relative'], (function (unchanged, changedName, specialCharacter, slash, relative_js) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var changedName__default = /*#__PURE__*/_interopDefaultLegacy(changedName);
 
-	console.log(unchanged.foo, changedName__default['default'], specialCharacter.bar, slash.baz, relative_js.quux);
+	console.log(unchanged.foo, changedName__default["default"], specialCharacter.bar, slash.baz, relative_js.quux);
 
-});
+}));
diff --git a/test/form/samples/guessed-global-names/_expected/cjs.js b/test/form/samples/guessed-global-names/_expected/cjs.js
index b36a1f7de..3ed9c2231 100644
--- a/test/form/samples/guessed-global-names/_expected/cjs.js
+++ b/test/form/samples/guessed-global-names/_expected/cjs.js
@@ -10,4 +10,4 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var changedName__default = /*#__PURE__*/_interopDefaultLegacy(changedName);
 
-console.log(unchanged.foo, changedName__default['default'], specialCharacter.bar, slash.baz, relative_js.quux);
+console.log(unchanged.foo, changedName__default["default"], specialCharacter.bar, slash.baz, relative_js.quux);
diff --git a/test/form/samples/guessed-global-names/_expected/iife.js b/test/form/samples/guessed-global-names/_expected/iife.js
index 5dfa8b9e6..d56d20aea 100644
--- a/test/form/samples/guessed-global-names/_expected/iife.js
+++ b/test/form/samples/guessed-global-names/_expected/iife.js
@@ -5,6 +5,6 @@
 
 	var changedName__default = /*#__PURE__*/_interopDefaultLegacy(changedName);
 
-	console.log(unchanged.foo, changedName__default['default'], specialCharacter.bar, slash.baz, relative_js.quux);
+	console.log(unchanged.foo, changedName__default["default"], specialCharacter.bar, slash.baz, relative_js.quux);
 
-}(unchanged, changedName, specialCharacter, slash, relative_js));
+})(unchanged, changedName, specialCharacter, slash, relative_js);
diff --git a/test/form/samples/guessed-global-names/_expected/system.js b/test/form/samples/guessed-global-names/_expected/system.js
index ee1dadc53..d29d82d75 100644
--- a/test/form/samples/guessed-global-names/_expected/system.js
+++ b/test/form/samples/guessed-global-names/_expected/system.js
@@ -1,11 +1,11 @@
-System.register(['unchanged', 'changed', 'special-character', 'with/slash', './relative.js'], function () {
+System.register(['unchanged', 'changed', 'special-character', 'with/slash', './relative.js'], (function () {
 	'use strict';
 	var foo, changedName, bar, baz, quux;
 	return {
 		setters: [function (module) {
 			foo = module.foo;
 		}, function (module) {
-			changedName = module.default;
+			changedName = module["default"];
 		}, function (module) {
 			bar = module.bar;
 		}, function (module) {
@@ -13,10 +13,10 @@ System.register(['unchanged', 'changed', 'special-character', 'with/slash', './r
 		}, function (module) {
 			quux = module.quux;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, changedName, bar, baz, quux);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/guessed-global-names/_expected/umd.js b/test/form/samples/guessed-global-names/_expected/umd.js
index 76474a609..665742f08 100644
--- a/test/form/samples/guessed-global-names/_expected/umd.js
+++ b/test/form/samples/guessed-global-names/_expected/umd.js
@@ -2,12 +2,12 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('unchanged'), require('changed'), require('special-character'), require('with/slash'), require('./relative.js')) :
 	typeof define === 'function' && define.amd ? define(['unchanged', 'changed', 'special-character', 'with/slash', './relative'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.unchanged, global.changedName, global.specialCharacter, global.slash, global.relative_js));
-}(this, (function (unchanged, changedName, specialCharacter, slash, relative_js) { 'use strict';
+})(this, (function (unchanged, changedName, specialCharacter, slash, relative_js) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var changedName__default = /*#__PURE__*/_interopDefaultLegacy(changedName);
 
-	console.log(unchanged.foo, changedName__default['default'], specialCharacter.bar, slash.baz, relative_js.quux);
+	console.log(unchanged.foo, changedName__default["default"], specialCharacter.bar, slash.baz, relative_js.quux);
 
-})));
+}));
diff --git a/test/form/samples/handles-empty-imports-iife/_expected.js b/test/form/samples/handles-empty-imports-iife/_expected.js
index b5f303961..81d783ad0 100644
--- a/test/form/samples/handles-empty-imports-iife/_expected.js
+++ b/test/form/samples/handles-empty-imports-iife/_expected.js
@@ -4,4 +4,4 @@
 	dns.resolve('name');
 	fs.writeFileSync('foo', 'bar');
 
-}(dns, util, fs));
+})(dns, util, fs);
diff --git a/test/form/samples/handles-empty-imports-umd/_expected.js b/test/form/samples/handles-empty-imports-umd/_expected.js
index 621913b56..15c27d16c 100644
--- a/test/form/samples/handles-empty-imports-umd/_expected.js
+++ b/test/form/samples/handles-empty-imports-umd/_expected.js
@@ -2,9 +2,9 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('dns'), require('util'), require('fs')) :
 	typeof define === 'function' && define.amd ? define(['dns', 'util', 'fs'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.dns, global.util, global.fs));
-}(this, (function (dns, util, fs) { 'use strict';
+})(this, (function (dns, util, fs) { 'use strict';
 
 	dns.resolve('name');
 	fs.writeFileSync('foo', 'bar');
 
-})));
+}));
diff --git a/test/form/samples/implicit-undefined-assignments/_expected/amd.js b/test/form/samples/implicit-undefined-assignments/_expected/amd.js
index db9113757..583a8be3b 100644
--- a/test/form/samples/implicit-undefined-assignments/_expected/amd.js
+++ b/test/form/samples/implicit-undefined-assignments/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	let a;
 	a();
@@ -12,4 +12,4 @@ define(function () { 'use strict';
 	let { d } = {};
 	d.foo = 'bar';
 
-});
+}));
diff --git a/test/form/samples/implicit-undefined-assignments/_expected/iife.js b/test/form/samples/implicit-undefined-assignments/_expected/iife.js
index be372d793..9d70dd52c 100644
--- a/test/form/samples/implicit-undefined-assignments/_expected/iife.js
+++ b/test/form/samples/implicit-undefined-assignments/_expected/iife.js
@@ -13,4 +13,4 @@
 	let { d } = {};
 	d.foo = 'bar';
 
-}());
+})();
diff --git a/test/form/samples/implicit-undefined-assignments/_expected/system.js b/test/form/samples/implicit-undefined-assignments/_expected/system.js
index 7a66925a2..0edbf78c7 100644
--- a/test/form/samples/implicit-undefined-assignments/_expected/system.js
+++ b/test/form/samples/implicit-undefined-assignments/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			let a;
 			a();
@@ -15,6 +15,6 @@ System.register([], function () {
 			let { d } = {};
 			d.foo = 'bar';
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/implicit-undefined-assignments/_expected/umd.js b/test/form/samples/implicit-undefined-assignments/_expected/umd.js
index e2ebd8dd2..b26577118 100644
--- a/test/form/samples/implicit-undefined-assignments/_expected/umd.js
+++ b/test/form/samples/implicit-undefined-assignments/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	let a;
 	a();
@@ -15,4 +15,4 @@
 	let { d } = {};
 	d.foo = 'bar';
 
-})));
+}));
diff --git a/test/form/samples/import-expression/_expected/amd.js b/test/form/samples/import-expression/_expected/amd.js
index 9c9391b17..79f3a8027 100644
--- a/test/form/samples/import-expression/_expected/amd.js
+++ b/test/form/samples/import-expression/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['require', 'external'], function (require, external) { 'use strict';
+define(['require', 'external'], (function (require, external) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,18 +9,16 @@ define(['require', 'external'], function (require, external) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	new Promise(function (resolve, reject) { require([external.join('a', 'b')], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
+	(function (t) { return new Promise(function (resolve, reject) { require([t], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }); })(external.join('a', 'b'));
 	console.log(external.join);
 
-});
+}));
diff --git a/test/form/samples/import-expression/_expected/cjs.js b/test/form/samples/import-expression/_expected/cjs.js
index 4c12f8730..c4267c6cb 100644
--- a/test/form/samples/import-expression/_expected/cjs.js
+++ b/test/form/samples/import-expression/_expected/cjs.js
@@ -11,16 +11,14 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
-Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(external.join('a', 'b'))); });
+(function (t) { return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(t)); }); })(external.join('a', 'b'));
 console.log(external.join);
diff --git a/test/form/samples/import-expression/_expected/iife.js b/test/form/samples/import-expression/_expected/iife.js
index 54270fe7c..d97655336 100644
--- a/test/form/samples/import-expression/_expected/iife.js
+++ b/test/form/samples/import-expression/_expected/iife.js
@@ -4,4 +4,4 @@
 	import(external.join('a', 'b'));
 	console.log(external.join);
 
-}(external));
+})(external);
diff --git a/test/form/samples/import-expression/_expected/system.js b/test/form/samples/import-expression/_expected/system.js
index 89ed58a9d..ea9aa2a76 100644
--- a/test/form/samples/import-expression/_expected/system.js
+++ b/test/form/samples/import-expression/_expected/system.js
@@ -1,15 +1,15 @@
-System.register(['external'], function (exports, module) {
+System.register(['external'], (function (exports, module) {
 	'use strict';
 	var join;
 	return {
 		setters: [function (module) {
 			join = module.join;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			module.import(join('a', 'b'));
 			console.log(join);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/import-expression/_expected/umd.js b/test/form/samples/import-expression/_expected/umd.js
index aa6214a28..1780e9bcc 100644
--- a/test/form/samples/import-expression/_expected/umd.js
+++ b/test/form/samples/import-expression/_expected/umd.js
@@ -2,9 +2,9 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('external')) :
 	typeof define === 'function' && define.amd ? define(['external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.external));
-}(this, (function (external) { 'use strict';
+})(this, (function (external) { 'use strict';
 
 	import(external.join('a', 'b'));
 	console.log(external.join);
 
-})));
+}));
diff --git a/test/form/samples/import-external-namespace-and-default/_expected/amd.js b/test/form/samples/import-external-namespace-and-default/_expected/amd.js
index 28798499a..26cb8ba6c 100644
--- a/test/form/samples/import-external-namespace-and-default/_expected/amd.js
+++ b/test/form/samples/import-external-namespace-and-default/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['foo'], function (foo) { 'use strict';
+define(['foo'], (function (foo) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -11,14 +11,12 @@ define(['foo'], function (foo) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -27,6 +25,6 @@ define(['foo'], function (foo) { 'use strict';
 
 	console.log( foo__namespace.bar );
 
-	console.log( foo__default['default'] );
+	console.log( foo__default["default"] );
 
-});
+}));
diff --git a/test/form/samples/import-external-namespace-and-default/_expected/cjs.js b/test/form/samples/import-external-namespace-and-default/_expected/cjs.js
index 9afd83e02..3c7032c13 100644
--- a/test/form/samples/import-external-namespace-and-default/_expected/cjs.js
+++ b/test/form/samples/import-external-namespace-and-default/_expected/cjs.js
@@ -13,14 +13,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
@@ -29,4 +27,4 @@ var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
 console.log( foo__namespace.bar );
 
-console.log( foo__default['default'] );
+console.log( foo__default["default"] );
diff --git a/test/form/samples/import-external-namespace-and-default/_expected/iife.js b/test/form/samples/import-external-namespace-and-default/_expected/iife.js
index eedaf5977..78619749b 100644
--- a/test/form/samples/import-external-namespace-and-default/_expected/iife.js
+++ b/test/form/samples/import-external-namespace-and-default/_expected/iife.js
@@ -12,14 +12,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -28,6 +26,6 @@
 
 	console.log( foo__namespace.bar );
 
-	console.log( foo__default['default'] );
+	console.log( foo__default["default"] );
 
-}(foo));
+})(foo);
diff --git a/test/form/samples/import-external-namespace-and-default/_expected/system.js b/test/form/samples/import-external-namespace-and-default/_expected/system.js
index e5cbc1b30..132e4c4c2 100644
--- a/test/form/samples/import-external-namespace-and-default/_expected/system.js
+++ b/test/form/samples/import-external-namespace-and-default/_expected/system.js
@@ -1,17 +1,17 @@
-System.register(['foo'], function () {
+System.register(['foo'], (function () {
 	'use strict';
 	var foo, foo__default;
 	return {
 		setters: [function (module) {
 			foo = module;
-			foo__default = module.default;
+			foo__default = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log( foo.bar );
 
 			console.log( foo__default );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/import-external-namespace-and-default/_expected/umd.js b/test/form/samples/import-external-namespace-and-default/_expected/umd.js
index 42458000e..a2ab737e8 100644
--- a/test/form/samples/import-external-namespace-and-default/_expected/umd.js
+++ b/test/form/samples/import-external-namespace-and-default/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('foo')) :
 	typeof define === 'function' && define.amd ? define(['foo'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.foo));
-}(this, (function (foo) { 'use strict';
+})(this, (function (foo) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -15,14 +15,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -31,6 +29,6 @@
 
 	console.log( foo__namespace.bar );
 
-	console.log( foo__default['default'] );
+	console.log( foo__default["default"] );
 
-})));
+}));
diff --git a/test/form/samples/import-meta-resolve/_expected/amd.js b/test/form/samples/import-meta-resolve/_expected/amd.js
index b5156ab0b..506c2c92f 100644
--- a/test/form/samples/import-meta-resolve/_expected/amd.js
+++ b/test/form/samples/import-meta-resolve/_expected/amd.js
@@ -1,5 +1,5 @@
-define(['module'], function (module) { 'use strict';
+define(['module'], (function (module) { 'use strict';
 
 	undefined('./foo.js');
 
-});
+}));
diff --git a/test/form/samples/import-meta-resolve/_expected/iife.js b/test/form/samples/import-meta-resolve/_expected/iife.js
index 902be78fd..283388ca9 100644
--- a/test/form/samples/import-meta-resolve/_expected/iife.js
+++ b/test/form/samples/import-meta-resolve/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	undefined('./foo.js');
 
-}());
+})();
diff --git a/test/form/samples/import-meta-resolve/_expected/system.js b/test/form/samples/import-meta-resolve/_expected/system.js
index 9712e5d98..efe2617bf 100644
--- a/test/form/samples/import-meta-resolve/_expected/system.js
+++ b/test/form/samples/import-meta-resolve/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			module.meta.resolve('./foo.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/import-meta-resolve/_expected/umd.js b/test/form/samples/import-meta-resolve/_expected/umd.js
index b176c944f..f3a44fe2b 100644
--- a/test/form/samples/import-meta-resolve/_expected/umd.js
+++ b/test/form/samples/import-meta-resolve/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	undefined('./foo.js');
 
-})));
+}));
diff --git a/test/form/samples/import-meta-url/_expected/amd.js b/test/form/samples/import-meta-url/_expected/amd.js
index 3ea98d3db..ea090ed42 100644
--- a/test/form/samples/import-meta-url/_expected/amd.js
+++ b/test/form/samples/import-meta-url/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['module'], function (module) { 'use strict';
+define(['module'], (function (module) { 'use strict';
 
 	function log(url) {
 		if (typeof document === 'undefined') {
@@ -10,4 +10,4 @@ define(['module'], function (module) { 'use strict';
 
 	log(new URL(module.uri, document.baseURI).href);
 
-});
+}));
diff --git a/test/form/samples/import-meta-url/_expected/iife.js b/test/form/samples/import-meta-url/_expected/iife.js
index 2ceafdeef..f2d282153 100644
--- a/test/form/samples/import-meta-url/_expected/iife.js
+++ b/test/form/samples/import-meta-url/_expected/iife.js
@@ -11,4 +11,4 @@
 
 	log((document.currentScript && document.currentScript.src || new URL('iife.js', document.baseURI).href));
 
-}());
+})();
diff --git a/test/form/samples/import-meta-url/_expected/system.js b/test/form/samples/import-meta-url/_expected/system.js
index 85f9c9532..97a185e78 100644
--- a/test/form/samples/import-meta-url/_expected/system.js
+++ b/test/form/samples/import-meta-url/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function log(url) {
 				if (typeof document === 'undefined') {
@@ -13,6 +13,6 @@ System.register([], function (exports, module) {
 
 			log(module.meta.url);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/import-meta-url/_expected/umd.js b/test/form/samples/import-meta-url/_expected/umd.js
index 2db6c13aa..b8b27fb6f 100644
--- a/test/form/samples/import-meta-url/_expected/umd.js
+++ b/test/form/samples/import-meta-url/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function log(url) {
 		if (typeof document === 'undefined') {
@@ -13,4 +13,4 @@
 
 	log((typeof document === 'undefined' && typeof location === 'undefined' ? new (require('u' + 'rl').URL)('file:' + __filename).href : typeof document === 'undefined' ? location.href : (document.currentScript && document.currentScript.src || new URL('umd.js', document.baseURI).href)));
 
-})));
+}));
diff --git a/test/form/samples/import-meta/_expected/amd.js b/test/form/samples/import-meta/_expected/amd.js
index eb0d3dbf1..933569fc3 100644
--- a/test/form/samples/import-meta/_expected/amd.js
+++ b/test/form/samples/import-meta/_expected/amd.js
@@ -1,5 +1,5 @@
-define(['module'], function (module) { 'use strict';
+define(['module'], (function (module) { 'use strict';
 
 	console.log(({ url: new URL(module.uri, document.baseURI).href }));
 
-});
+}));
diff --git a/test/form/samples/import-meta/_expected/iife.js b/test/form/samples/import-meta/_expected/iife.js
index 8e3045379..c3928b871 100644
--- a/test/form/samples/import-meta/_expected/iife.js
+++ b/test/form/samples/import-meta/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log(({ url: (document.currentScript && document.currentScript.src || new URL('iife.js', document.baseURI).href) }));
 
-}());
+})();
diff --git a/test/form/samples/import-meta/_expected/system.js b/test/form/samples/import-meta/_expected/system.js
index bf12e3c79..feb9132ef 100644
--- a/test/form/samples/import-meta/_expected/system.js
+++ b/test/form/samples/import-meta/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log(module.meta);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/import-meta/_expected/umd.js b/test/form/samples/import-meta/_expected/umd.js
index 247618e55..ac4f2d2d8 100644
--- a/test/form/samples/import-meta/_expected/umd.js
+++ b/test/form/samples/import-meta/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log(({ url: (typeof document === 'undefined' && typeof location === 'undefined' ? new (require('u' + 'rl').URL)('file:' + __filename).href : typeof document === 'undefined' ? location.href : (document.currentScript && document.currentScript.src || new URL('umd.js', document.baseURI).href)) }));
 
-})));
+}));
diff --git a/test/form/samples/import-namespace-systemjs/_expected.js b/test/form/samples/import-namespace-systemjs/_expected.js
index bf9cf083a..06533e7c5 100644
--- a/test/form/samples/import-namespace-systemjs/_expected.js
+++ b/test/form/samples/import-namespace-systemjs/_expected.js
@@ -1,14 +1,14 @@
-System.register(['dependency'], function () {
+System.register(['dependency'], (function () {
 	'use strict';
 	var dependency;
 	return {
 		setters: [function (module) {
 			dependency = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(dependency);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/import-namespace/_expected/amd.js b/test/form/samples/import-namespace/_expected/amd.js
index 1263372b7..9ba0069ae 100644
--- a/test/form/samples/import-namespace/_expected/amd.js
+++ b/test/form/samples/import-namespace/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['foo', 'bar'], function (foo, bar) { 'use strict';
+define(['foo', 'bar'], (function (foo, bar) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,14 +9,12 @@ define(['foo', 'bar'], function (foo, bar) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -26,4 +24,4 @@ define(['foo', 'bar'], function (foo, bar) { 'use strict';
 	foo__namespace.x();
 	console.log(bar__namespace);
 
-});
+}));
diff --git a/test/form/samples/import-namespace/_expected/cjs.js b/test/form/samples/import-namespace/_expected/cjs.js
index 6c8ca325a..98e6197e1 100644
--- a/test/form/samples/import-namespace/_expected/cjs.js
+++ b/test/form/samples/import-namespace/_expected/cjs.js
@@ -12,14 +12,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/form/samples/import-namespace/_expected/iife.js b/test/form/samples/import-namespace/_expected/iife.js
index 8fa0de2f1..4cf539032 100644
--- a/test/form/samples/import-namespace/_expected/iife.js
+++ b/test/form/samples/import-namespace/_expected/iife.js
@@ -10,14 +10,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -27,4 +25,4 @@
 	foo__namespace.x();
 	console.log(bar__namespace);
 
-}(foo, bar));
+})(foo, bar);
diff --git a/test/form/samples/import-namespace/_expected/system.js b/test/form/samples/import-namespace/_expected/system.js
index f26486109..a623e44a8 100644
--- a/test/form/samples/import-namespace/_expected/system.js
+++ b/test/form/samples/import-namespace/_expected/system.js
@@ -1,4 +1,4 @@
-System.register(['foo', 'bar'], function () {
+System.register(['foo', 'bar'], (function () {
 	'use strict';
 	var foo, bar;
 	return {
@@ -7,11 +7,11 @@ System.register(['foo', 'bar'], function () {
 		}, function (module) {
 			bar = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			foo.x();
 			console.log(bar);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/import-namespace/_expected/umd.js b/test/form/samples/import-namespace/_expected/umd.js
index f0436e496..ac43b1229 100644
--- a/test/form/samples/import-namespace/_expected/umd.js
+++ b/test/form/samples/import-namespace/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('foo'), require('bar')) :
 	typeof define === 'function' && define.amd ? define(['foo', 'bar'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.foo, global.bar));
-}(this, (function (foo, bar) { 'use strict';
+})(this, (function (foo, bar) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -13,14 +13,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -30,4 +28,4 @@
 	foo__namespace.x();
 	console.log(bar__namespace);
 
-})));
+}));
diff --git a/test/form/samples/import-specifier-deshadowing/_expected/amd.js b/test/form/samples/import-specifier-deshadowing/_expected/amd.js
index 6d5e92100..661c81594 100644
--- a/test/form/samples/import-specifier-deshadowing/_expected/amd.js
+++ b/test/form/samples/import-specifier-deshadowing/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['react-sticky'], function (reactSticky) { 'use strict';
+define(['react-sticky'], (function (reactSticky) { 'use strict';
 
 	var Sticky = function () {
 		function Sticky() {}
@@ -10,4 +10,4 @@ define(['react-sticky'], function (reactSticky) { 'use strict';
 
 	return Sticky;
 
-});
+}));
diff --git a/test/form/samples/import-specifier-deshadowing/_expected/iife.js b/test/form/samples/import-specifier-deshadowing/_expected/iife.js
index debcd23f1..0bb51c713 100644
--- a/test/form/samples/import-specifier-deshadowing/_expected/iife.js
+++ b/test/form/samples/import-specifier-deshadowing/_expected/iife.js
@@ -11,4 +11,4 @@ var Sticky = (function (reactSticky) {
 
 	return Sticky;
 
-}(reactSticky));
+})(reactSticky);
diff --git a/test/form/samples/import-specifier-deshadowing/_expected/system.js b/test/form/samples/import-specifier-deshadowing/_expected/system.js
index 0838a0929..86ac997fc 100644
--- a/test/form/samples/import-specifier-deshadowing/_expected/system.js
+++ b/test/form/samples/import-specifier-deshadowing/_expected/system.js
@@ -1,11 +1,11 @@
-System.register('Sticky', ['react-sticky'], function (exports) {
+System.register('Sticky', ['react-sticky'], (function (exports) {
 	'use strict';
 	var Sticky$1;
 	return {
 		setters: [function (module) {
 			Sticky$1 = module.Sticky;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			var Sticky = exports('default', function () {
 				function Sticky() {}
@@ -15,6 +15,6 @@ System.register('Sticky', ['react-sticky'], function (exports) {
 				return Sticky;
 			}());
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/import-specifier-deshadowing/_expected/umd.js b/test/form/samples/import-specifier-deshadowing/_expected/umd.js
index 3e5baacc2..5c993c955 100644
--- a/test/form/samples/import-specifier-deshadowing/_expected/umd.js
+++ b/test/form/samples/import-specifier-deshadowing/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('react-sticky')) :
 	typeof define === 'function' && define.amd ? define(['react-sticky'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Sticky = factory(global.reactSticky));
-}(this, (function (reactSticky) { 'use strict';
+})(this, (function (reactSticky) { 'use strict';
 
 	var Sticky = function () {
 		function Sticky() {}
@@ -14,4 +14,4 @@
 
 	return Sticky;
 
-})));
+}));
diff --git a/test/form/samples/includes-all-namespace-declarations/_expected/amd.js b/test/form/samples/includes-all-namespace-declarations/_expected/amd.js
index f9f8229aa..a9e9419e2 100644
--- a/test/form/samples/includes-all-namespace-declarations/_expected/amd.js
+++ b/test/form/samples/includes-all-namespace-declarations/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 
 
-});
+}));
diff --git a/test/form/samples/includes-all-namespace-declarations/_expected/iife.js b/test/form/samples/includes-all-namespace-declarations/_expected/iife.js
index 43ef54268..31dfeb95e 100644
--- a/test/form/samples/includes-all-namespace-declarations/_expected/iife.js
+++ b/test/form/samples/includes-all-namespace-declarations/_expected/iife.js
@@ -3,4 +3,4 @@
 
 
 
-}());
+})();
diff --git a/test/form/samples/includes-all-namespace-declarations/_expected/system.js b/test/form/samples/includes-all-namespace-declarations/_expected/system.js
index a702f2b06..343cc3a51 100644
--- a/test/form/samples/includes-all-namespace-declarations/_expected/system.js
+++ b/test/form/samples/includes-all-namespace-declarations/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/includes-all-namespace-declarations/_expected/umd.js b/test/form/samples/includes-all-namespace-declarations/_expected/umd.js
index 8bf6301d4..a39fba4f3 100644
--- a/test/form/samples/includes-all-namespace-declarations/_expected/umd.js
+++ b/test/form/samples/includes-all-namespace-declarations/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 
 
-})));
+}));
diff --git a/test/form/samples/indent-false/_expected/amd.js b/test/form/samples/indent-false/_expected/amd.js
index 2ef21fb3c..01b9bef0f 100644
--- a/test/form/samples/indent-false/_expected/amd.js
+++ b/test/form/samples/indent-false/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 function foo () {
 	console.log( 'not indented' );
@@ -6,4 +6,4 @@ function foo () {
 
 return foo;
 
-});
+}));
diff --git a/test/form/samples/indent-false/_expected/iife.js b/test/form/samples/indent-false/_expected/iife.js
index 0b46c842f..7c717311d 100644
--- a/test/form/samples/indent-false/_expected/iife.js
+++ b/test/form/samples/indent-false/_expected/iife.js
@@ -7,4 +7,4 @@ function foo () {
 
 return foo;
 
-}());
+})();
diff --git a/test/form/samples/indent-false/_expected/system.js b/test/form/samples/indent-false/_expected/system.js
index d33c79d42..22391c2ac 100644
--- a/test/form/samples/indent-false/_expected/system.js
+++ b/test/form/samples/indent-false/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('foo', [], function (exports) {
+System.register('foo', [], (function (exports) {
 'use strict';
 return {
-execute: function () {
+execute: (function () {
 
 exports('default', foo);
 
@@ -9,6 +9,6 @@ function foo () {
 	console.log( 'not indented' );
 }
 
-}
+})
 };
-});
+}));
diff --git a/test/form/samples/indent-false/_expected/umd.js b/test/form/samples/indent-false/_expected/umd.js
index e68634f72..34d33d99b 100644
--- a/test/form/samples/indent-false/_expected/umd.js
+++ b/test/form/samples/indent-false/_expected/umd.js
@@ -2,7 +2,7 @@
 typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 typeof define === 'function' && define.amd ? define(factory) :
 (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.foo = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 function foo () {
 	console.log( 'not indented' );
@@ -10,4 +10,4 @@ function foo () {
 
 return foo;
 
-})));
+}));
diff --git a/test/form/samples/indent-spaces/_expected/amd.js b/test/form/samples/indent-spaces/_expected/amd.js
index 445c02f07..be2404bff 100644
--- a/test/form/samples/indent-spaces/_expected/amd.js
+++ b/test/form/samples/indent-spaces/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
   function foo () {
   	console.log( 'indented with tabs' );
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
   return foo;
 
-});
+}));
diff --git a/test/form/samples/indent-spaces/_expected/iife.js b/test/form/samples/indent-spaces/_expected/iife.js
index f83141cbe..535b6306b 100644
--- a/test/form/samples/indent-spaces/_expected/iife.js
+++ b/test/form/samples/indent-spaces/_expected/iife.js
@@ -7,4 +7,4 @@ var foo = (function () {
 
   return foo;
 
-}());
+})();
diff --git a/test/form/samples/indent-spaces/_expected/system.js b/test/form/samples/indent-spaces/_expected/system.js
index 982f22035..9e873c2e7 100644
--- a/test/form/samples/indent-spaces/_expected/system.js
+++ b/test/form/samples/indent-spaces/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('foo', [], function (exports) {
+System.register('foo', [], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('default', foo);
 
@@ -9,6 +9,6 @@ System.register('foo', [], function (exports) {
       	console.log( 'indented with tabs' );
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/form/samples/indent-spaces/_expected/umd.js b/test/form/samples/indent-spaces/_expected/umd.js
index 2aedd26ba..34d83551d 100644
--- a/test/form/samples/indent-spaces/_expected/umd.js
+++ b/test/form/samples/indent-spaces/_expected/umd.js
@@ -2,7 +2,7 @@
   typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
   typeof define === 'function' && define.amd ? define(factory) :
   (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.foo = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
   function foo () {
   	console.log( 'indented with tabs' );
@@ -10,4 +10,4 @@
 
   return foo;
 
-})));
+}));
diff --git a/test/form/samples/indent-true-spaces/_expected/amd.js b/test/form/samples/indent-true-spaces/_expected/amd.js
index 2210188f4..4789bdbe5 100644
--- a/test/form/samples/indent-true-spaces/_expected/amd.js
+++ b/test/form/samples/indent-true-spaces/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
   function foo () {
     console.log( 'indented with spaces' );
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
   return foo;
 
-});
+}));
diff --git a/test/form/samples/indent-true-spaces/_expected/iife.js b/test/form/samples/indent-true-spaces/_expected/iife.js
index e22164fdd..36a7c27f7 100644
--- a/test/form/samples/indent-true-spaces/_expected/iife.js
+++ b/test/form/samples/indent-true-spaces/_expected/iife.js
@@ -7,4 +7,4 @@ var foo = (function () {
 
   return foo;
 
-}());
+})();
diff --git a/test/form/samples/indent-true-spaces/_expected/system.js b/test/form/samples/indent-true-spaces/_expected/system.js
index 399f876f6..3be8ae42d 100644
--- a/test/form/samples/indent-true-spaces/_expected/system.js
+++ b/test/form/samples/indent-true-spaces/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('foo', [], function (exports) {
+System.register('foo', [], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('default', foo);
 
@@ -9,6 +9,6 @@ System.register('foo', [], function (exports) {
         console.log( 'indented with spaces' );
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/form/samples/indent-true-spaces/_expected/umd.js b/test/form/samples/indent-true-spaces/_expected/umd.js
index 3e8efdcd8..4ab2afb11 100644
--- a/test/form/samples/indent-true-spaces/_expected/umd.js
+++ b/test/form/samples/indent-true-spaces/_expected/umd.js
@@ -2,7 +2,7 @@
   typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
   typeof define === 'function' && define.amd ? define(factory) :
   (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.foo = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
   function foo () {
     console.log( 'indented with spaces' );
@@ -10,4 +10,4 @@
 
   return foo;
 
-})));
+}));
diff --git a/test/form/samples/indent-true/_expected/amd.js b/test/form/samples/indent-true/_expected/amd.js
index fab8ba4a2..d703751c9 100644
--- a/test/form/samples/indent-true/_expected/amd.js
+++ b/test/form/samples/indent-true/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo () {
 		console.log( 'indented with tabs' );
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
 	return foo;
 
-});
+}));
diff --git a/test/form/samples/indent-true/_expected/iife.js b/test/form/samples/indent-true/_expected/iife.js
index 14d0a763c..6f4aca6a3 100644
--- a/test/form/samples/indent-true/_expected/iife.js
+++ b/test/form/samples/indent-true/_expected/iife.js
@@ -7,4 +7,4 @@ var foo = (function () {
 
 	return foo;
 
-}());
+})();
diff --git a/test/form/samples/indent-true/_expected/system.js b/test/form/samples/indent-true/_expected/system.js
index d2f4ed5b9..60addd638 100644
--- a/test/form/samples/indent-true/_expected/system.js
+++ b/test/form/samples/indent-true/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('foo', [], function (exports) {
+System.register('foo', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('default', foo);
 
@@ -9,6 +9,6 @@ System.register('foo', [], function (exports) {
 				console.log( 'indented with tabs' );
 			}
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/indent-true/_expected/umd.js b/test/form/samples/indent-true/_expected/umd.js
index 7ed678e39..2ab3f9654 100644
--- a/test/form/samples/indent-true/_expected/umd.js
+++ b/test/form/samples/indent-true/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.foo = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	function foo () {
 		console.log( 'indented with tabs' );
@@ -10,4 +10,4 @@
 
 	return foo;
 
-})));
+}));
diff --git a/test/form/samples/inlined-treeshaken-dynamic-import/_expected/amd.js b/test/form/samples/inlined-treeshaken-dynamic-import/_expected/amd.js
index 126aa22ee..49540b44d 100644
--- a/test/form/samples/inlined-treeshaken-dynamic-import/_expected/amd.js
+++ b/test/form/samples/inlined-treeshaken-dynamic-import/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/form/samples/inlined-treeshaken-dynamic-import/_expected/iife.js b/test/form/samples/inlined-treeshaken-dynamic-import/_expected/iife.js
index d283cbce8..455edee6a 100644
--- a/test/form/samples/inlined-treeshaken-dynamic-import/_expected/iife.js
+++ b/test/form/samples/inlined-treeshaken-dynamic-import/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log('main');
 
-}());
+})();
diff --git a/test/form/samples/inlined-treeshaken-dynamic-import/_expected/system.js b/test/form/samples/inlined-treeshaken-dynamic-import/_expected/system.js
index c83499bc2..35e269337 100644
--- a/test/form/samples/inlined-treeshaken-dynamic-import/_expected/system.js
+++ b/test/form/samples/inlined-treeshaken-dynamic-import/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/inlined-treeshaken-dynamic-import/_expected/umd.js b/test/form/samples/inlined-treeshaken-dynamic-import/_expected/umd.js
index f69e11c02..c8ba7daa8 100644
--- a/test/form/samples/inlined-treeshaken-dynamic-import/_expected/umd.js
+++ b/test/form/samples/inlined-treeshaken-dynamic-import/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log('main');
 
-})));
+}));
diff --git a/test/form/samples/internal-conflict-resolution/_expected/amd.js b/test/form/samples/internal-conflict-resolution/_expected/amd.js
index 24d63fa2e..15e4e2221 100644
--- a/test/form/samples/internal-conflict-resolution/_expected/amd.js
+++ b/test/form/samples/internal-conflict-resolution/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var bar$1 = 42;
 
@@ -12,4 +12,4 @@ define(function () { 'use strict';
 
 	bar();
 
-});
+}));
diff --git a/test/form/samples/internal-conflict-resolution/_expected/iife.js b/test/form/samples/internal-conflict-resolution/_expected/iife.js
index 6e484fd42..548556e23 100644
--- a/test/form/samples/internal-conflict-resolution/_expected/iife.js
+++ b/test/form/samples/internal-conflict-resolution/_expected/iife.js
@@ -13,4 +13,4 @@
 
 	bar();
 
-}());
+})();
diff --git a/test/form/samples/internal-conflict-resolution/_expected/system.js b/test/form/samples/internal-conflict-resolution/_expected/system.js
index c6ca37ea4..5c65f8443 100644
--- a/test/form/samples/internal-conflict-resolution/_expected/system.js
+++ b/test/form/samples/internal-conflict-resolution/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var bar$1 = 42;
 
@@ -15,6 +15,6 @@ System.register([], function () {
 
 			bar();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/internal-conflict-resolution/_expected/umd.js b/test/form/samples/internal-conflict-resolution/_expected/umd.js
index 0446ee87d..94ecb1aa8 100644
--- a/test/form/samples/internal-conflict-resolution/_expected/umd.js
+++ b/test/form/samples/internal-conflict-resolution/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var bar$1 = 42;
 
@@ -15,4 +15,4 @@
 
 	bar();
 
-})));
+}));
diff --git a/test/form/samples/interop-per-dependency-no-freeze/_expected/amd.js b/test/form/samples/interop-per-dependency-no-freeze/_expected/amd.js
index 8251a9bec..98ea569a3 100644
--- a/test/form/samples/interop-per-dependency-no-freeze/_expected/amd.js
+++ b/test/form/samples/interop-per-dependency-no-freeze/_expected/amd.js
@@ -1,8 +1,6 @@
-define(['require', 'external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], function (require, fooAuto, fooDefault, fooDefaultOnly, fooEsModule) { 'use strict';
+define(['require', 'external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], (function (require, fooAuto, fooDefault, fooDefaultOnly, fooEsModule) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return {__proto__: null, 'default': e};
-	}
+	function _interopNamespaceDefaultOnly (e) { return { __proto__: null, 'default': e }; }
 
 	function _interopNamespaceDefault(e) {
 		var n = Object.create(null);
@@ -12,33 +10,29 @@ define(['require', 'external-auto', 'external-default', 'external-defaultOnly',
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return n;
 	}
 
-	function _interopNamespace(e) {
-		return e && e.__esModule ? e : _interopNamespaceDefault(e);
-	}
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 	var fooAuto__namespace = /*#__PURE__*/_interopNamespace(fooAuto);
 	var fooDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(fooDefault);
 	var fooDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(fooDefaultOnly);
 
-	console.log(fooAuto__namespace['default'], fooAuto.barAuto, fooAuto__namespace);
+	console.log(fooAuto__namespace["default"], fooAuto.barAuto, fooAuto__namespace);
 	console.log(fooDefault, fooDefault.barDefault, fooDefault__namespace);
 	console.log(fooDefaultOnly, fooDefaultOnly__namespace);
-	console.log(fooEsModule['default'], fooEsModule.barEsModule, fooEsModule);
+	console.log(fooEsModule["default"], fooEsModule.barEsModule, fooEsModule);
 
-	new Promise(function (resolve, reject) { require(['external-auto'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) }).then(console.log);
-	new Promise(function (resolve, reject) { require(['external-default'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefault(m)); }, reject) }).then(console.log);
-	new Promise(function (resolve, reject) { require(['external-defaultOnly'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject) }).then(console.log);
-	new Promise(function (resolve, reject) { require(['external-esModule'], resolve, reject) }).then(console.log);
+	new Promise(function (resolve, reject) { require(['external-auto'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }).then(console.log);
+	new Promise(function (resolve, reject) { require(['external-default'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefault(m)); }, reject); }).then(console.log);
+	new Promise(function (resolve, reject) { require(['external-defaultOnly'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject); }).then(console.log);
+	new Promise(function (resolve, reject) { require(['external-esModule'], resolve, reject); }).then(console.log);
 
-});
+}));
diff --git a/test/form/samples/interop-per-dependency-no-freeze/_expected/cjs.js b/test/form/samples/interop-per-dependency-no-freeze/_expected/cjs.js
index 5af7beb4d..d3e7c296d 100644
--- a/test/form/samples/interop-per-dependency-no-freeze/_expected/cjs.js
+++ b/test/form/samples/interop-per-dependency-no-freeze/_expected/cjs.js
@@ -5,9 +5,7 @@ var fooDefault = require('external-default');
 var fooDefaultOnly = require('external-defaultOnly');
 var fooEsModule = require('external-esModule');
 
-function _interopNamespaceDefaultOnly(e) {
-	return {__proto__: null, 'default': e};
-}
+function _interopNamespaceDefaultOnly (e) { return { __proto__: null, 'default': e }; }
 
 function _interopNamespaceDefault(e) {
 	var n = Object.create(null);
@@ -17,29 +15,25 @@ function _interopNamespaceDefault(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return n;
 }
 
-function _interopNamespace(e) {
-	return e && e.__esModule ? e : _interopNamespaceDefault(e);
-}
+function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 var fooAuto__namespace = /*#__PURE__*/_interopNamespace(fooAuto);
 var fooDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(fooDefault);
 var fooDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(fooDefaultOnly);
 
-console.log(fooAuto__namespace['default'], fooAuto.barAuto, fooAuto__namespace);
+console.log(fooAuto__namespace["default"], fooAuto.barAuto, fooAuto__namespace);
 console.log(fooDefault, fooDefault.barDefault, fooDefault__namespace);
 console.log(fooDefaultOnly, fooDefaultOnly__namespace);
-console.log(fooEsModule['default'], fooEsModule.barEsModule, fooEsModule);
+console.log(fooEsModule["default"], fooEsModule.barEsModule, fooEsModule);
 
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('external-auto')); }).then(console.log);
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespaceDefault(require('external-default')); }).then(console.log);
diff --git a/test/form/samples/interop-per-dependency-no-freeze/_expected/iife.js b/test/form/samples/interop-per-dependency-no-freeze/_expected/iife.js
index 91ccba262..7fdb3a72d 100644
--- a/test/form/samples/interop-per-dependency-no-freeze/_expected/iife.js
+++ b/test/form/samples/interop-per-dependency-no-freeze/_expected/iife.js
@@ -1,9 +1,7 @@
 (function (fooAuto, fooDefault, fooDefaultOnly, fooEsModule) {
 	'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return {__proto__: null, 'default': e};
-	}
+	function _interopNamespaceDefaultOnly (e) { return { __proto__: null, 'default': e }; }
 
 	function _interopNamespaceDefault(e) {
 		var n = Object.create(null);
@@ -13,33 +11,29 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return n;
 	}
 
-	function _interopNamespace(e) {
-		return e && e.__esModule ? e : _interopNamespaceDefault(e);
-	}
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 	var fooAuto__namespace = /*#__PURE__*/_interopNamespace(fooAuto);
 	var fooDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(fooDefault);
 	var fooDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(fooDefaultOnly);
 
-	console.log(fooAuto__namespace['default'], fooAuto.barAuto, fooAuto__namespace);
+	console.log(fooAuto__namespace["default"], fooAuto.barAuto, fooAuto__namespace);
 	console.log(fooDefault, fooDefault.barDefault, fooDefault__namespace);
 	console.log(fooDefaultOnly, fooDefaultOnly__namespace);
-	console.log(fooEsModule['default'], fooEsModule.barEsModule, fooEsModule);
+	console.log(fooEsModule["default"], fooEsModule.barEsModule, fooEsModule);
 
 	import('external-auto').then(console.log);
 	import('external-default').then(console.log);
 	import('external-defaultOnly').then(console.log);
 	import('external-esModule').then(console.log);
 
-}(externalauto, externaldefault, externaldefaultOnly, externalesModule));
+})(externalauto, externaldefault, externaldefaultOnly, externalesModule);
diff --git a/test/form/samples/interop-per-dependency-no-freeze/_expected/system.js b/test/form/samples/interop-per-dependency-no-freeze/_expected/system.js
index f384a4816..095409512 100644
--- a/test/form/samples/interop-per-dependency-no-freeze/_expected/system.js
+++ b/test/form/samples/interop-per-dependency-no-freeze/_expected/system.js
@@ -1,24 +1,24 @@
-System.register(['external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], function (exports, module) {
+System.register(['external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], (function (exports, module) {
 	'use strict';
 	var fooAuto__default, barAuto, fooAuto, fooDefault__default, barDefault, fooDefault, fooDefaultOnly__default, fooDefaultOnly, fooEsModule__default, barEsModule, fooEsModule;
 	return {
 		setters: [function (module) {
-			fooAuto__default = module.default;
+			fooAuto__default = module["default"];
 			barAuto = module.barAuto;
 			fooAuto = module;
 		}, function (module) {
-			fooDefault__default = module.default;
+			fooDefault__default = module["default"];
 			barDefault = module.barDefault;
 			fooDefault = module;
 		}, function (module) {
-			fooDefaultOnly__default = module.default;
+			fooDefaultOnly__default = module["default"];
 			fooDefaultOnly = module;
 		}, function (module) {
-			fooEsModule__default = module.default;
+			fooEsModule__default = module["default"];
 			barEsModule = module.barEsModule;
 			fooEsModule = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(fooAuto__default, barAuto, fooAuto);
 			console.log(fooDefault__default, barDefault, fooDefault);
@@ -30,6 +30,6 @@ System.register(['external-auto', 'external-default', 'external-defaultOnly', 'e
 			module.import('external-defaultOnly').then(console.log);
 			module.import('external-esModule').then(console.log);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/interop-per-dependency-no-freeze/_expected/umd.js b/test/form/samples/interop-per-dependency-no-freeze/_expected/umd.js
index 3448b5451..10aca9267 100644
--- a/test/form/samples/interop-per-dependency-no-freeze/_expected/umd.js
+++ b/test/form/samples/interop-per-dependency-no-freeze/_expected/umd.js
@@ -2,11 +2,9 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('external-auto'), require('external-default'), require('external-defaultOnly'), require('external-esModule')) :
 	typeof define === 'function' && define.amd ? define(['external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.externalauto, global.externaldefault, global.externaldefaultOnly, global.externalesModule));
-}(this, (function (fooAuto, fooDefault, fooDefaultOnly, fooEsModule) { 'use strict';
+})(this, (function (fooAuto, fooDefault, fooDefaultOnly, fooEsModule) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return {__proto__: null, 'default': e};
-	}
+	function _interopNamespaceDefaultOnly (e) { return { __proto__: null, 'default': e }; }
 
 	function _interopNamespaceDefault(e) {
 		var n = Object.create(null);
@@ -16,33 +14,29 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return n;
 	}
 
-	function _interopNamespace(e) {
-		return e && e.__esModule ? e : _interopNamespaceDefault(e);
-	}
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 	var fooAuto__namespace = /*#__PURE__*/_interopNamespace(fooAuto);
 	var fooDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(fooDefault);
 	var fooDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(fooDefaultOnly);
 
-	console.log(fooAuto__namespace['default'], fooAuto.barAuto, fooAuto__namespace);
+	console.log(fooAuto__namespace["default"], fooAuto.barAuto, fooAuto__namespace);
 	console.log(fooDefault, fooDefault.barDefault, fooDefault__namespace);
 	console.log(fooDefaultOnly, fooDefaultOnly__namespace);
-	console.log(fooEsModule['default'], fooEsModule.barEsModule, fooEsModule);
+	console.log(fooEsModule["default"], fooEsModule.barEsModule, fooEsModule);
 
 	import('external-auto').then(console.log);
 	import('external-default').then(console.log);
 	import('external-defaultOnly').then(console.log);
 	import('external-esModule').then(console.log);
 
-})));
+}));
diff --git a/test/form/samples/interop-per-dependency-no-live-binding/_expected.js b/test/form/samples/interop-per-dependency-no-live-binding/_expected.js
index 1f1611e47..9fa90c97e 100644
--- a/test/form/samples/interop-per-dependency-no-live-binding/_expected.js
+++ b/test/form/samples/interop-per-dependency-no-live-binding/_expected.js
@@ -5,26 +5,22 @@ var fooDefault = require('external-default');
 var fooDefaultOnly = require('external-defaultOnly');
 var fooEsModule = require('external-esModule');
 
-function _interopDefault (e) { return e && e.__esModule ? e['default'] : e; }
+function _interopDefault (e) { return e && e.__esModule ? e["default"] : e; }
 
-function _interopNamespaceDefaultOnly(e) {
-	return Object.freeze({__proto__: null, 'default': e});
-}
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 function _interopNamespaceDefault(e) {
 	var n = Object.create(null);
 	if (e) {
-		Object.keys(e).forEach(function (k) {
+		for (var k in e) {
 			n[k] = e[k];
-		});
+		}
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
-function _interopNamespace(e) {
-	return e && e.__esModule ? e : _interopNamespaceDefault(e);
-}
+function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 var fooAuto__default = /*#__PURE__*/_interopDefault(fooAuto);
 var fooAuto__namespace = /*#__PURE__*/_interopNamespace(fooAuto);
@@ -34,7 +30,7 @@ var fooDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(fooDef
 console.log(fooAuto__default, fooAuto.barAuto, fooAuto__namespace);
 console.log(fooDefault, fooDefault.barDefault, fooDefault__namespace);
 console.log(fooDefaultOnly, fooDefaultOnly__namespace);
-console.log(fooEsModule['default'], fooEsModule.barEsModule, fooEsModule);
+console.log(fooEsModule["default"], fooEsModule.barEsModule, fooEsModule);
 
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('external-auto')); }).then(console.log);
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespaceDefault(require('external-default')); }).then(console.log);
diff --git a/test/form/samples/interop-per-dependency/_expected/amd.js b/test/form/samples/interop-per-dependency/_expected/amd.js
index 60a7e5b9c..649176f2a 100644
--- a/test/form/samples/interop-per-dependency/_expected/amd.js
+++ b/test/form/samples/interop-per-dependency/_expected/amd.js
@@ -1,8 +1,6 @@
-define(['require', 'external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], function (require, fooAuto, fooDefault, fooDefaultOnly, fooEsModule) { 'use strict';
+define(['require', 'external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], (function (require, fooAuto, fooDefault, fooDefaultOnly, fooEsModule) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 	function _interopNamespaceDefault(e) {
 		var n = Object.create(null);
@@ -12,35 +10,31 @@ define(['require', 'external-auto', 'external-default', 'external-defaultOnly',
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	function _interopNamespace(e) {
-		return e && e.__esModule ? e : _interopNamespaceDefault(e);
-	}
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 	var fooAuto__namespace = /*#__PURE__*/_interopNamespace(fooAuto);
 	var fooDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(fooDefault);
 	var fooDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(fooDefaultOnly);
 
-	console.log(fooAuto__namespace['default'], fooAuto.barAuto, fooAuto__namespace);
+	console.log(fooAuto__namespace["default"], fooAuto.barAuto, fooAuto__namespace);
 	console.log(fooDefault, fooDefault.barDefault, fooDefault__namespace);
 	console.log(fooDefaultOnly, fooDefaultOnly__namespace);
-	console.log(fooEsModule['default'], fooEsModule.barEsModule, fooEsModule);
+	console.log(fooEsModule["default"], fooEsModule.barEsModule, fooEsModule);
 
-	new Promise(function (resolve, reject) { require(['external-auto'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) }).then(console.log);
-	new Promise(function (resolve, reject) { require(['external-default'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefault(m)); }, reject) }).then(console.log);
-	new Promise(function (resolve, reject) { require(['external-defaultOnly'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject) }).then(console.log);
-	new Promise(function (resolve, reject) { require(['external-esModule'], resolve, reject) }).then(console.log);
-	new Promise(function (resolve, reject) { require([globalThis.external1], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) }).then(console.log);
-	new Promise(function (resolve, reject) { require([globalThis.external2], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) }).then(console.log);
+	new Promise(function (resolve, reject) { require(['external-auto'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }).then(console.log);
+	new Promise(function (resolve, reject) { require(['external-default'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefault(m)); }, reject); }).then(console.log);
+	new Promise(function (resolve, reject) { require(['external-defaultOnly'], function (m) { resolve(/*#__PURE__*/_interopNamespaceDefaultOnly(m)); }, reject); }).then(console.log);
+	new Promise(function (resolve, reject) { require(['external-esModule'], resolve, reject); }).then(console.log);
+	(function (t) { return new Promise(function (resolve, reject) { require([t], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }); })(globalThis.external1).then(console.log);
+	(function (t) { return new Promise(function (resolve, reject) { require([t], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }); })(globalThis.external2).then(console.log);
 
-});
+}));
diff --git a/test/form/samples/interop-per-dependency/_expected/cjs.js b/test/form/samples/interop-per-dependency/_expected/cjs.js
index ecd71a035..f3588f7f3 100644
--- a/test/form/samples/interop-per-dependency/_expected/cjs.js
+++ b/test/form/samples/interop-per-dependency/_expected/cjs.js
@@ -5,9 +5,7 @@ var fooDefault = require('external-default');
 var fooDefaultOnly = require('external-defaultOnly');
 var fooEsModule = require('external-esModule');
 
-function _interopNamespaceDefaultOnly(e) {
-	return Object.freeze({__proto__: null, 'default': e});
-}
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 function _interopNamespaceDefault(e) {
 	var n = Object.create(null);
@@ -17,33 +15,29 @@ function _interopNamespaceDefault(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
-function _interopNamespace(e) {
-	return e && e.__esModule ? e : _interopNamespaceDefault(e);
-}
+function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 var fooAuto__namespace = /*#__PURE__*/_interopNamespace(fooAuto);
 var fooDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(fooDefault);
 var fooDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(fooDefaultOnly);
 
-console.log(fooAuto__namespace['default'], fooAuto.barAuto, fooAuto__namespace);
+console.log(fooAuto__namespace["default"], fooAuto.barAuto, fooAuto__namespace);
 console.log(fooDefault, fooDefault.barDefault, fooDefault__namespace);
 console.log(fooDefaultOnly, fooDefaultOnly__namespace);
-console.log(fooEsModule['default'], fooEsModule.barEsModule, fooEsModule);
+console.log(fooEsModule["default"], fooEsModule.barEsModule, fooEsModule);
 
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('external-auto')); }).then(console.log);
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespaceDefault(require('external-default')); }).then(console.log);
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespaceDefaultOnly(require('external-defaultOnly')); }).then(console.log);
 Promise.resolve().then(function () { return require('external-esModule'); }).then(console.log);
-Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(globalThis.external1)); }).then(console.log);
-Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(globalThis.external2)); }).then(console.log);
+(function (t) { return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(t)); }); })(globalThis.external1).then(console.log);
+(function (t) { return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require(t)); }); })(globalThis.external2).then(console.log);
diff --git a/test/form/samples/interop-per-dependency/_expected/iife.js b/test/form/samples/interop-per-dependency/_expected/iife.js
index f1c47c441..cd2ea0311 100644
--- a/test/form/samples/interop-per-dependency/_expected/iife.js
+++ b/test/form/samples/interop-per-dependency/_expected/iife.js
@@ -1,9 +1,7 @@
 (function (fooAuto, fooDefault, fooDefaultOnly, fooEsModule) {
 	'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 	function _interopNamespaceDefault(e) {
 		var n = Object.create(null);
@@ -13,29 +11,25 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	function _interopNamespace(e) {
-		return e && e.__esModule ? e : _interopNamespaceDefault(e);
-	}
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 	var fooAuto__namespace = /*#__PURE__*/_interopNamespace(fooAuto);
 	var fooDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(fooDefault);
 	var fooDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(fooDefaultOnly);
 
-	console.log(fooAuto__namespace['default'], fooAuto.barAuto, fooAuto__namespace);
+	console.log(fooAuto__namespace["default"], fooAuto.barAuto, fooAuto__namespace);
 	console.log(fooDefault, fooDefault.barDefault, fooDefault__namespace);
 	console.log(fooDefaultOnly, fooDefaultOnly__namespace);
-	console.log(fooEsModule['default'], fooEsModule.barEsModule, fooEsModule);
+	console.log(fooEsModule["default"], fooEsModule.barEsModule, fooEsModule);
 
 	import('external-auto').then(console.log);
 	import('external-default').then(console.log);
@@ -44,4 +38,4 @@
 	import(globalThis.external1).then(console.log);
 	import(globalThis.external2).then(console.log);
 
-}(externalauto, externaldefault, externaldefaultOnly, externalesModule));
+})(externalauto, externaldefault, externaldefaultOnly, externalesModule);
diff --git a/test/form/samples/interop-per-dependency/_expected/system.js b/test/form/samples/interop-per-dependency/_expected/system.js
index f5ea1a7b9..fe9ae5ced 100644
--- a/test/form/samples/interop-per-dependency/_expected/system.js
+++ b/test/form/samples/interop-per-dependency/_expected/system.js
@@ -1,24 +1,24 @@
-System.register(['external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], function (exports, module) {
+System.register(['external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], (function (exports, module) {
 	'use strict';
 	var fooAuto__default, barAuto, fooAuto, fooDefault__default, barDefault, fooDefault, fooDefaultOnly__default, fooDefaultOnly, fooEsModule__default, barEsModule, fooEsModule;
 	return {
 		setters: [function (module) {
-			fooAuto__default = module.default;
+			fooAuto__default = module["default"];
 			barAuto = module.barAuto;
 			fooAuto = module;
 		}, function (module) {
-			fooDefault__default = module.default;
+			fooDefault__default = module["default"];
 			barDefault = module.barDefault;
 			fooDefault = module;
 		}, function (module) {
-			fooDefaultOnly__default = module.default;
+			fooDefaultOnly__default = module["default"];
 			fooDefaultOnly = module;
 		}, function (module) {
-			fooEsModule__default = module.default;
+			fooEsModule__default = module["default"];
 			barEsModule = module.barEsModule;
 			fooEsModule = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(fooAuto__default, barAuto, fooAuto);
 			console.log(fooDefault__default, barDefault, fooDefault);
@@ -32,6 +32,6 @@ System.register(['external-auto', 'external-default', 'external-defaultOnly', 'e
 			module.import(globalThis.external1).then(console.log);
 			module.import(globalThis.external2).then(console.log);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/interop-per-dependency/_expected/umd.js b/test/form/samples/interop-per-dependency/_expected/umd.js
index e4f89fa71..eeb7cdcb6 100644
--- a/test/form/samples/interop-per-dependency/_expected/umd.js
+++ b/test/form/samples/interop-per-dependency/_expected/umd.js
@@ -2,11 +2,9 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('external-auto'), require('external-default'), require('external-defaultOnly'), require('external-esModule')) :
 	typeof define === 'function' && define.amd ? define(['external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.externalauto, global.externaldefault, global.externaldefaultOnly, global.externalesModule));
-}(this, (function (fooAuto, fooDefault, fooDefaultOnly, fooEsModule) { 'use strict';
+})(this, (function (fooAuto, fooDefault, fooDefaultOnly, fooEsModule) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, 'default': e }); }
 
 	function _interopNamespaceDefault(e) {
 		var n = Object.create(null);
@@ -16,29 +14,25 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	function _interopNamespace(e) {
-		return e && e.__esModule ? e : _interopNamespaceDefault(e);
-	}
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 	var fooAuto__namespace = /*#__PURE__*/_interopNamespace(fooAuto);
 	var fooDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(fooDefault);
 	var fooDefaultOnly__namespace = /*#__PURE__*/_interopNamespaceDefaultOnly(fooDefaultOnly);
 
-	console.log(fooAuto__namespace['default'], fooAuto.barAuto, fooAuto__namespace);
+	console.log(fooAuto__namespace["default"], fooAuto.barAuto, fooAuto__namespace);
 	console.log(fooDefault, fooDefault.barDefault, fooDefault__namespace);
 	console.log(fooDefaultOnly, fooDefaultOnly__namespace);
-	console.log(fooEsModule['default'], fooEsModule.barEsModule, fooEsModule);
+	console.log(fooEsModule["default"], fooEsModule.barEsModule, fooEsModule);
 
 	import('external-auto').then(console.log);
 	import('external-default').then(console.log);
@@ -47,4 +41,4 @@
 	import(globalThis.external1).then(console.log);
 	import(globalThis.external2).then(console.log);
 
-})));
+}));
diff --git a/test/form/samples/interop-per-reexported-dependency/_expected/amd.js b/test/form/samples/interop-per-reexported-dependency/_expected/amd.js
index 2c6ac3d5c..f542181c0 100644
--- a/test/form/samples/interop-per-reexported-dependency/_expected/amd.js
+++ b/test/form/samples/interop-per-reexported-dependency/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], function (exports, externalAuto, externalDefault, externalDefaultOnly, externalEsModule) { 'use strict';
+define(['exports', 'external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], (function (exports, externalAuto, externalDefault, externalDefaultOnly, externalEsModule) { 'use strict';
 
 	function _interopNamespaceDefault(e) {
 		var n = Object.create(null);
@@ -8,20 +8,16 @@ define(['exports', 'external-auto', 'external-default', 'external-defaultOnly',
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	function _interopNamespace(e) {
-		return e && e.__esModule ? e : _interopNamespaceDefault(e);
-	}
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 	var externalAuto__namespace = /*#__PURE__*/_interopNamespace(externalAuto);
 	var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
@@ -30,40 +26,30 @@ define(['exports', 'external-auto', 'external-default', 'external-defaultOnly',
 
 	Object.defineProperty(exports, 'barAuto', {
 		enumerable: true,
-		get: function () {
-			return externalAuto.barAuto;
-		}
+		get: function () { return externalAuto.barAuto; }
 	});
 	exports.externalAuto = externalAuto__namespace;
 	Object.defineProperty(exports, 'fooAuto', {
 		enumerable: true,
-		get: function () {
-			return externalAuto__namespace['default'];
-		}
+		get: function () { return externalAuto__namespace["default"]; }
 	});
 	Object.defineProperty(exports, 'barDefault', {
 		enumerable: true,
-		get: function () {
-			return externalDefault.barDefault;
-		}
+		get: function () { return externalDefault.barDefault; }
 	});
 	exports.externalDefault = externalDefault__namespace;
 	exports.fooDefault = externalDefault;
 	exports.fooDefaultOnly = externalDefaultOnly;
 	Object.defineProperty(exports, 'barEsModule', {
 		enumerable: true,
-		get: function () {
-			return externalEsModule.barEsModule;
-		}
+		get: function () { return externalEsModule.barEsModule; }
 	});
 	exports.externalEsModule = externalEsModule;
 	Object.defineProperty(exports, 'fooEsModule', {
 		enumerable: true,
-		get: function () {
-			return externalEsModule['default'];
-		}
+		get: function () { return externalEsModule["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/interop-per-reexported-dependency/_expected/cjs.js b/test/form/samples/interop-per-reexported-dependency/_expected/cjs.js
index 0690640dd..73f2a2125 100644
--- a/test/form/samples/interop-per-reexported-dependency/_expected/cjs.js
+++ b/test/form/samples/interop-per-reexported-dependency/_expected/cjs.js
@@ -15,20 +15,16 @@ function _interopNamespaceDefault(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
-function _interopNamespace(e) {
-	return e && e.__esModule ? e : _interopNamespaceDefault(e);
-}
+function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 var externalAuto__namespace = /*#__PURE__*/_interopNamespace(externalAuto);
 var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
@@ -37,36 +33,26 @@ var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalD
 
 Object.defineProperty(exports, 'barAuto', {
 	enumerable: true,
-	get: function () {
-		return externalAuto.barAuto;
-	}
+	get: function () { return externalAuto.barAuto; }
 });
 exports.externalAuto = externalAuto__namespace;
 Object.defineProperty(exports, 'fooAuto', {
 	enumerable: true,
-	get: function () {
-		return externalAuto__namespace['default'];
-	}
+	get: function () { return externalAuto__namespace["default"]; }
 });
 Object.defineProperty(exports, 'barDefault', {
 	enumerable: true,
-	get: function () {
-		return externalDefault.barDefault;
-	}
+	get: function () { return externalDefault.barDefault; }
 });
 exports.externalDefault = externalDefault__namespace;
 exports.fooDefault = externalDefault;
 exports.fooDefaultOnly = externalDefaultOnly;
 Object.defineProperty(exports, 'barEsModule', {
 	enumerable: true,
-	get: function () {
-		return externalEsModule.barEsModule;
-	}
+	get: function () { return externalEsModule.barEsModule; }
 });
 exports.externalEsModule = externalEsModule;
 Object.defineProperty(exports, 'fooEsModule', {
 	enumerable: true,
-	get: function () {
-		return externalEsModule['default'];
-	}
+	get: function () { return externalEsModule["default"]; }
 });
diff --git a/test/form/samples/interop-per-reexported-dependency/_expected/iife.js b/test/form/samples/interop-per-reexported-dependency/_expected/iife.js
index 855d0bcbb..dcf47f263 100644
--- a/test/form/samples/interop-per-reexported-dependency/_expected/iife.js
+++ b/test/form/samples/interop-per-reexported-dependency/_expected/iife.js
@@ -9,20 +9,16 @@ var bundle = (function (exports, externalAuto, externalDefault, externalDefaultO
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	function _interopNamespace(e) {
-		return e && e.__esModule ? e : _interopNamespaceDefault(e);
-	}
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 	var externalAuto__namespace = /*#__PURE__*/_interopNamespace(externalAuto);
 	var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
@@ -31,42 +27,32 @@ var bundle = (function (exports, externalAuto, externalDefault, externalDefaultO
 
 	Object.defineProperty(exports, 'barAuto', {
 		enumerable: true,
-		get: function () {
-			return externalAuto.barAuto;
-		}
+		get: function () { return externalAuto.barAuto; }
 	});
 	exports.externalAuto = externalAuto__namespace;
 	Object.defineProperty(exports, 'fooAuto', {
 		enumerable: true,
-		get: function () {
-			return externalAuto__namespace['default'];
-		}
+		get: function () { return externalAuto__namespace["default"]; }
 	});
 	Object.defineProperty(exports, 'barDefault', {
 		enumerable: true,
-		get: function () {
-			return externalDefault.barDefault;
-		}
+		get: function () { return externalDefault.barDefault; }
 	});
 	exports.externalDefault = externalDefault__namespace;
 	exports.fooDefault = externalDefault;
 	exports.fooDefaultOnly = externalDefaultOnly;
 	Object.defineProperty(exports, 'barEsModule', {
 		enumerable: true,
-		get: function () {
-			return externalEsModule.barEsModule;
-		}
+		get: function () { return externalEsModule.barEsModule; }
 	});
 	exports.externalEsModule = externalEsModule;
 	Object.defineProperty(exports, 'fooEsModule', {
 		enumerable: true,
-		get: function () {
-			return externalEsModule['default'];
-		}
+		get: function () { return externalEsModule["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
 	return exports;
 
-}({}, externalauto, externaldefault, externaldefaultOnly, externalesModule));
+})({}, externalauto, externaldefault, externaldefaultOnly, externalesModule);
diff --git a/test/form/samples/interop-per-reexported-dependency/_expected/system.js b/test/form/samples/interop-per-reexported-dependency/_expected/system.js
index af83c96da..4c3ae37ca 100644
--- a/test/form/samples/interop-per-reexported-dependency/_expected/system.js
+++ b/test/form/samples/interop-per-reexported-dependency/_expected/system.js
@@ -1,31 +1,19 @@
-System.register('bundle', ['external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], function (exports) {
+System.register('bundle', ['external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('externalAuto', module);
-			var _setter = {};
-			_setter.barAuto = module.barAuto;
-			_setter.fooAuto = module.default;
-			exports(_setter);
+			exports({ barAuto: module.barAuto, externalAuto: module, fooAuto: module["default"] });
 		}, function (module) {
-			exports('externalDefault', module);
-			var _setter = {};
-			_setter.barDefault = module.barDefault;
-			_setter.fooDefault = module.default;
-			exports(_setter);
+			exports({ barDefault: module.barDefault, externalDefault: module, fooDefault: module["default"] });
 		}, function (module) {
-			exports('fooDefaultOnly', module.default);
+			exports('fooDefaultOnly', module["default"]);
 		}, function (module) {
-			exports('externalEsModule', module);
-			var _setter = {};
-			_setter.barEsModule = module.barEsModule;
-			_setter.fooEsModule = module.default;
-			exports(_setter);
+			exports({ barEsModule: module.barEsModule, externalEsModule: module, fooEsModule: module["default"] });
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/interop-per-reexported-dependency/_expected/umd.js b/test/form/samples/interop-per-reexported-dependency/_expected/umd.js
index ffe2a14ca..d4a2cce38 100644
--- a/test/form/samples/interop-per-reexported-dependency/_expected/umd.js
+++ b/test/form/samples/interop-per-reexported-dependency/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external-auto'), require('external-default'), require('external-defaultOnly'), require('external-esModule')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external-auto', 'external-default', 'external-defaultOnly', 'external-esModule'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.externalauto, global.externaldefault, global.externaldefaultOnly, global.externalesModule));
-}(this, (function (exports, externalAuto, externalDefault, externalDefaultOnly, externalEsModule) { 'use strict';
+})(this, (function (exports, externalAuto, externalDefault, externalDefaultOnly, externalEsModule) { 'use strict';
 
 	function _interopNamespaceDefault(e) {
 		var n = Object.create(null);
@@ -12,20 +12,16 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	function _interopNamespace(e) {
-		return e && e.__esModule ? e : _interopNamespaceDefault(e);
-	}
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 	var externalAuto__namespace = /*#__PURE__*/_interopNamespace(externalAuto);
 	var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
@@ -34,40 +30,30 @@
 
 	Object.defineProperty(exports, 'barAuto', {
 		enumerable: true,
-		get: function () {
-			return externalAuto.barAuto;
-		}
+		get: function () { return externalAuto.barAuto; }
 	});
 	exports.externalAuto = externalAuto__namespace;
 	Object.defineProperty(exports, 'fooAuto', {
 		enumerable: true,
-		get: function () {
-			return externalAuto__namespace['default'];
-		}
+		get: function () { return externalAuto__namespace["default"]; }
 	});
 	Object.defineProperty(exports, 'barDefault', {
 		enumerable: true,
-		get: function () {
-			return externalDefault.barDefault;
-		}
+		get: function () { return externalDefault.barDefault; }
 	});
 	exports.externalDefault = externalDefault__namespace;
 	exports.fooDefault = externalDefault;
 	exports.fooDefaultOnly = externalDefaultOnly;
 	Object.defineProperty(exports, 'barEsModule', {
 		enumerable: true,
-		get: function () {
-			return externalEsModule.barEsModule;
-		}
+		get: function () { return externalEsModule.barEsModule; }
 	});
 	exports.externalEsModule = externalEsModule;
 	Object.defineProperty(exports, 'fooEsModule', {
 		enumerable: true,
-		get: function () {
-			return externalEsModule['default'];
-		}
+		get: function () { return externalEsModule["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/intro-and-outro/_expected/amd.js b/test/form/samples/intro-and-outro/_expected/amd.js
index d314c42fb..d96061bf6 100644
--- a/test/form/samples/intro-and-outro/_expected/amd.js
+++ b/test/form/samples/intro-and-outro/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['external'], function (a) { 'use strict';
+define(['external'], (function (a) { 'use strict';
 
 	/* this is an intro */
 
@@ -14,7 +14,7 @@ define(['external'], function (a) { 'use strict';
 
 	var a__default = /*#__PURE__*/_interopDefaultLegacy(a);
 
-	console.log( a__default['default'] );
+	console.log( a__default["default"] );
 	console.log( a.b );
 
 	var main = 42;
@@ -31,4 +31,4 @@ define(['external'], function (a) { 'use strict';
 
 	// outro 4
 
-});
+}));
diff --git a/test/form/samples/intro-and-outro/_expected/cjs.js b/test/form/samples/intro-and-outro/_expected/cjs.js
index 4a9144470..e9a1c2f06 100644
--- a/test/form/samples/intro-and-outro/_expected/cjs.js
+++ b/test/form/samples/intro-and-outro/_expected/cjs.js
@@ -16,7 +16,7 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var a__default = /*#__PURE__*/_interopDefaultLegacy(a);
 
-console.log( a__default['default'] );
+console.log( a__default["default"] );
 console.log( a.b );
 
 var main = 42;
diff --git a/test/form/samples/intro-and-outro/_expected/iife.js b/test/form/samples/intro-and-outro/_expected/iife.js
index 64b483b91..1444ed655 100644
--- a/test/form/samples/intro-and-outro/_expected/iife.js
+++ b/test/form/samples/intro-and-outro/_expected/iife.js
@@ -15,7 +15,7 @@ var foo = (function (a) {
 
 	var a__default = /*#__PURE__*/_interopDefaultLegacy(a);
 
-	console.log( a__default['default'] );
+	console.log( a__default["default"] );
 	console.log( a.b );
 
 	var main = 42;
@@ -32,4 +32,4 @@ var foo = (function (a) {
 
 	// outro 4
 
-}(a));
+})(a);
diff --git a/test/form/samples/intro-and-outro/_expected/system.js b/test/form/samples/intro-and-outro/_expected/system.js
index dd50ce74f..e8faf657d 100644
--- a/test/form/samples/intro-and-outro/_expected/system.js
+++ b/test/form/samples/intro-and-outro/_expected/system.js
@@ -1,12 +1,12 @@
-System.register('foo', ['external'], function (exports) {
+System.register('foo', ['external'], (function (exports) {
 	'use strict';
 	var a, b;
 	return {
 		setters: [function (module) {
-			a = module.default;
+			a = module["default"];
 			b = module.b;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			/* this is an intro */
 
@@ -33,6 +33,6 @@ System.register('foo', ['external'], function (exports) {
 
 			// outro 4
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/intro-and-outro/_expected/umd.js b/test/form/samples/intro-and-outro/_expected/umd.js
index d60e50cc8..3303224e1 100644
--- a/test/form/samples/intro-and-outro/_expected/umd.js
+++ b/test/form/samples/intro-and-outro/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('external')) :
 	typeof define === 'function' && define.amd ? define(['external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.foo = factory(global.a));
-}(this, (function (a) { 'use strict';
+})(this, (function (a) { 'use strict';
 
 	/* this is an intro */
 
@@ -18,7 +18,7 @@
 
 	var a__default = /*#__PURE__*/_interopDefaultLegacy(a);
 
-	console.log( a__default['default'] );
+	console.log( a__default["default"] );
 	console.log( a.b );
 
 	var main = 42;
@@ -35,4 +35,4 @@
 
 	// outro 4
 
-})));
+}));
diff --git a/test/form/samples/json-parse-is-not-pure/_expected/amd.js b/test/form/samples/json-parse-is-not-pure/_expected/amd.js
index 377fac44d..2e76a23c5 100644
--- a/test/form/samples/json-parse-is-not-pure/_expected/amd.js
+++ b/test/form/samples/json-parse-is-not-pure/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = (input) => {
 		try {
@@ -11,4 +11,4 @@ define(function () { 'use strict';
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/json-parse-is-not-pure/_expected/iife.js b/test/form/samples/json-parse-is-not-pure/_expected/iife.js
index 5eaf42401..3f9a88701 100644
--- a/test/form/samples/json-parse-is-not-pure/_expected/iife.js
+++ b/test/form/samples/json-parse-is-not-pure/_expected/iife.js
@@ -12,4 +12,4 @@ var myBundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/json-parse-is-not-pure/_expected/system.js b/test/form/samples/json-parse-is-not-pure/_expected/system.js
index e3ad17667..18b1923c3 100644
--- a/test/form/samples/json-parse-is-not-pure/_expected/system.js
+++ b/test/form/samples/json-parse-is-not-pure/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', (input) => {
 				try {
@@ -12,6 +12,6 @@ System.register('myBundle', [], function (exports) {
 				}
 			});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/json-parse-is-not-pure/_expected/umd.js b/test/form/samples/json-parse-is-not-pure/_expected/umd.js
index 7d4e78d64..08d08153c 100644
--- a/test/form/samples/json-parse-is-not-pure/_expected/umd.js
+++ b/test/form/samples/json-parse-is-not-pure/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = (input) => {
 		try {
@@ -15,4 +15,4 @@
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/json-stringify-is-not-pure/_expected/amd.js b/test/form/samples/json-stringify-is-not-pure/_expected/amd.js
index fe0568ca3..51a64fb8d 100644
--- a/test/form/samples/json-stringify-is-not-pure/_expected/amd.js
+++ b/test/form/samples/json-stringify-is-not-pure/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = (input) => {
 		try {
@@ -11,4 +11,4 @@ define(function () { 'use strict';
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/json-stringify-is-not-pure/_expected/iife.js b/test/form/samples/json-stringify-is-not-pure/_expected/iife.js
index 061b3f221..96425d5fa 100644
--- a/test/form/samples/json-stringify-is-not-pure/_expected/iife.js
+++ b/test/form/samples/json-stringify-is-not-pure/_expected/iife.js
@@ -12,4 +12,4 @@ var myBundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/json-stringify-is-not-pure/_expected/system.js b/test/form/samples/json-stringify-is-not-pure/_expected/system.js
index 2b241dd2f..3db8f62ba 100644
--- a/test/form/samples/json-stringify-is-not-pure/_expected/system.js
+++ b/test/form/samples/json-stringify-is-not-pure/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', (input) => {
 				try {
@@ -12,6 +12,6 @@ System.register('myBundle', [], function (exports) {
 				}
 			});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/json-stringify-is-not-pure/_expected/umd.js b/test/form/samples/json-stringify-is-not-pure/_expected/umd.js
index 27843272c..a43b6b6df 100644
--- a/test/form/samples/json-stringify-is-not-pure/_expected/umd.js
+++ b/test/form/samples/json-stringify-is-not-pure/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = (input) => {
 		try {
@@ -15,4 +15,4 @@
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/logical-expression/mutate-logical-expression/_expected/amd.js b/test/form/samples/logical-expression/mutate-logical-expression/_expected/amd.js
index a3a822306..a25f0ef62 100644
--- a/test/form/samples/logical-expression/mutate-logical-expression/_expected/amd.js
+++ b/test/form/samples/logical-expression/mutate-logical-expression/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var aExp = {};
 	var logicalAExp = aExp || {};
@@ -18,4 +18,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/logical-expression/mutate-logical-expression/_expected/iife.js b/test/form/samples/logical-expression/mutate-logical-expression/_expected/iife.js
index 5a7992687..863d74825 100644
--- a/test/form/samples/logical-expression/mutate-logical-expression/_expected/iife.js
+++ b/test/form/samples/logical-expression/mutate-logical-expression/_expected/iife.js
@@ -21,4 +21,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/logical-expression/mutate-logical-expression/_expected/system.js b/test/form/samples/logical-expression/mutate-logical-expression/_expected/system.js
index ff4e7b314..ac8c250f3 100644
--- a/test/form/samples/logical-expression/mutate-logical-expression/_expected/system.js
+++ b/test/form/samples/logical-expression/mutate-logical-expression/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var aExp = exports('aExp', {});
 			var logicalAExp = aExp || {};
@@ -15,6 +15,6 @@ System.register('bundle', [], function (exports) {
 			var logicalCExp = cExp;
 			logicalCExp.bar = 1;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/logical-expression/mutate-logical-expression/_expected/umd.js b/test/form/samples/logical-expression/mutate-logical-expression/_expected/umd.js
index d1dc4f9a7..74e5e61bc 100644
--- a/test/form/samples/logical-expression/mutate-logical-expression/_expected/umd.js
+++ b/test/form/samples/logical-expression/mutate-logical-expression/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	var aExp = {};
 	var logicalAExp = aExp || {};
@@ -22,4 +22,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/merge-namespaces-non-live/_config.js b/test/form/samples/merge-namespaces-non-live/_config.js
new file mode 100644
index 000000000..d3fa13df2
--- /dev/null
+++ b/test/form/samples/merge-namespaces-non-live/_config.js
@@ -0,0 +1,14 @@
+module.exports = {
+	description: 'merges namespaces without live-bindings',
+	options: {
+		external: ['external1', 'external2'],
+		output: { externalLiveBindings: false },
+		plugins: [
+			{
+				transform() {
+					return { syntheticNamedExports: '__synthetic' };
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/merge-namespaces-non-live/_expected.js b/test/form/samples/merge-namespaces-non-live/_expected.js
new file mode 100644
index 000000000..deacb3aa6
--- /dev/null
+++ b/test/form/samples/merge-namespaces-non-live/_expected.js
@@ -0,0 +1,22 @@
+import * as external1 from 'external1';
+import * as external2 from 'external2';
+
+function _mergeNamespaces(n, m) {
+	for (var i = 0; i < m.length; i++) {
+		var e = m[i];
+		for (var k in e) {
+			if (k !== 'default' && !(k in n)) {
+				n[k] = e[k];
+			}
+		}
+	}
+	return Object.freeze(n);
+}
+
+const __synthetic = { foo: 'foo' };
+
+var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null
+}, [__synthetic, external1, external2]));
+
+console.log(ns);
diff --git a/test/form/samples/merge-namespaces-non-live/main.js b/test/form/samples/merge-namespaces-non-live/main.js
new file mode 100644
index 000000000..284d29f71
--- /dev/null
+++ b/test/form/samples/merge-namespaces-non-live/main.js
@@ -0,0 +1,2 @@
+import * as ns from './reexport';
+console.log(ns);
diff --git a/test/form/samples/merge-namespaces-non-live/reexport.js b/test/form/samples/merge-namespaces-non-live/reexport.js
new file mode 100644
index 000000000..976fee83e
--- /dev/null
+++ b/test/form/samples/merge-namespaces-non-live/reexport.js
@@ -0,0 +1,3 @@
+export * from 'external1';
+export * from './synthetic';
+export * from 'external2';
diff --git a/test/form/samples/merge-namespaces-non-live/synthetic.js b/test/form/samples/merge-namespaces-non-live/synthetic.js
new file mode 100644
index 000000000..7592639d2
--- /dev/null
+++ b/test/form/samples/merge-namespaces-non-live/synthetic.js
@@ -0,0 +1 @@
+export const __synthetic = { foo: 'foo' };
diff --git a/test/form/samples/merge-namespaces/_config.js b/test/form/samples/merge-namespaces/_config.js
new file mode 100644
index 000000000..c31641610
--- /dev/null
+++ b/test/form/samples/merge-namespaces/_config.js
@@ -0,0 +1,13 @@
+module.exports = {
+	description: 'merges namespaces with live-bindings',
+	options: {
+		external: ['external1', 'external2'],
+		plugins: [
+			{
+				transform() {
+					return { syntheticNamedExports: '__synthetic' };
+				}
+			}
+		]
+	}
+};
diff --git a/test/form/samples/merge-namespaces/_expected.js b/test/form/samples/merge-namespaces/_expected.js
new file mode 100644
index 000000000..5484e4428
--- /dev/null
+++ b/test/form/samples/merge-namespaces/_expected.js
@@ -0,0 +1,25 @@
+import * as external1 from 'external1';
+import * as external2 from 'external2';
+
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
+const __synthetic = { foo: 'foo' };
+
+var ns = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null
+}, [__synthetic, external1, external2]));
+
+console.log(ns);
diff --git a/test/form/samples/merge-namespaces/main.js b/test/form/samples/merge-namespaces/main.js
new file mode 100644
index 000000000..284d29f71
--- /dev/null
+++ b/test/form/samples/merge-namespaces/main.js
@@ -0,0 +1,2 @@
+import * as ns from './reexport';
+console.log(ns);
diff --git a/test/form/samples/merge-namespaces/reexport.js b/test/form/samples/merge-namespaces/reexport.js
new file mode 100644
index 000000000..976fee83e
--- /dev/null
+++ b/test/form/samples/merge-namespaces/reexport.js
@@ -0,0 +1,3 @@
+export * from 'external1';
+export * from './synthetic';
+export * from 'external2';
diff --git a/test/form/samples/merge-namespaces/synthetic.js b/test/form/samples/merge-namespaces/synthetic.js
new file mode 100644
index 000000000..7592639d2
--- /dev/null
+++ b/test/form/samples/merge-namespaces/synthetic.js
@@ -0,0 +1 @@
+export const __synthetic = { foo: 'foo' };
diff --git a/test/form/samples/mjs/_expected/amd.js b/test/form/samples/mjs/_expected/amd.js
index 91c442efc..d8e615c39 100644
--- a/test/form/samples/mjs/_expected/amd.js
+++ b/test/form/samples/mjs/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var dep$1 = 'js';
 
@@ -9,4 +9,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/mjs/_expected/iife.js b/test/form/samples/mjs/_expected/iife.js
index 9e444ea16..745dcc221 100644
--- a/test/form/samples/mjs/_expected/iife.js
+++ b/test/form/samples/mjs/_expected/iife.js
@@ -12,4 +12,4 @@ var myBundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/mjs/_expected/system.js b/test/form/samples/mjs/_expected/system.js
index 00fd6bc56..13e1d0512 100644
--- a/test/form/samples/mjs/_expected/system.js
+++ b/test/form/samples/mjs/_expected/system.js
@@ -1,12 +1,12 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var dep$1 = exports('depJs', 'js');
 
 			var dep = exports('depMjs', 'mjs');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/mjs/_expected/umd.js b/test/form/samples/mjs/_expected/umd.js
index d1e95c0e1..4a8cae15e 100644
--- a/test/form/samples/mjs/_expected/umd.js
+++ b/test/form/samples/mjs/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	var dep$1 = 'js';
 
@@ -13,4 +13,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/modify-export-semi/_expected/system.js b/test/form/samples/modify-export-semi/_expected/system.js
index 4892ee7c3..8c86238ab 100644
--- a/test/form/samples/modify-export-semi/_expected/system.js
+++ b/test/form/samples/modify-export-semi/_expected/system.js
@@ -1,12 +1,12 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			let foo = exports('foo', 'foo');
 
 			exports('foo', foo = 'bar');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/module-name-scoped-package/_expected/amd.js b/test/form/samples/module-name-scoped-package/_expected/amd.js
index 69586a0bf..0e0835774 100644
--- a/test/form/samples/module-name-scoped-package/_expected/amd.js
+++ b/test/form/samples/module-name-scoped-package/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	let foo = 'foo';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/module-name-scoped-package/_expected/iife.js b/test/form/samples/module-name-scoped-package/_expected/iife.js
index fc011459c..b607a7a48 100644
--- a/test/form/samples/module-name-scoped-package/_expected/iife.js
+++ b/test/form/samples/module-name-scoped-package/_expected/iife.js
@@ -7,4 +7,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-}(this['@scoped/npm-package'] = this['@scoped/npm-package'] || {}));
+})(this["@scoped/npm-package"] = this["@scoped/npm-package"] || {});
diff --git a/test/form/samples/module-name-scoped-package/_expected/system.js b/test/form/samples/module-name-scoped-package/_expected/system.js
index 108c84521..85c7149bc 100644
--- a/test/form/samples/module-name-scoped-package/_expected/system.js
+++ b/test/form/samples/module-name-scoped-package/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('@scoped/npm-package', [], function (exports) {
+System.register('@scoped/npm-package', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			let foo = exports('foo', 'foo');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/module-name-scoped-package/_expected/umd.js b/test/form/samples/module-name-scoped-package/_expected/umd.js
index 166d41cb4..d6011624a 100644
--- a/test/form/samples/module-name-scoped-package/_expected/umd.js
+++ b/test/form/samples/module-name-scoped-package/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (global, factory) {
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
-	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global['@scoped/npm-package'] = global['@scoped/npm-package'] || {}));
-}(this, (function (exports) { 'use strict';
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["@scoped/npm-package"] = global["@scoped/npm-package"] || {}));
+})(this, (function (exports) { 'use strict';
 
 	let foo = 'foo';
 
@@ -10,4 +10,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/module-name-wat/_expected/amd.js b/test/form/samples/module-name-wat/_expected/amd.js
index 69586a0bf..0e0835774 100644
--- a/test/form/samples/module-name-wat/_expected/amd.js
+++ b/test/form/samples/module-name-wat/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	let foo = 'foo';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/module-name-wat/_expected/iife.js b/test/form/samples/module-name-wat/_expected/iife.js
index d178e0a8e..14410de5e 100644
--- a/test/form/samples/module-name-wat/_expected/iife.js
+++ b/test/form/samples/module-name-wat/_expected/iife.js
@@ -1,7 +1,7 @@
 this.foo = this.foo || {};
-this.foo['@scoped/npm-package'] = this.foo['@scoped/npm-package'] || {};
-this.foo['@scoped/npm-package'].bar = this.foo['@scoped/npm-package'].bar || {};
-this.foo['@scoped/npm-package'].bar['why-would-you-do-this'] = (function (exports) {
+this.foo["@scoped/npm-package"] = this.foo["@scoped/npm-package"] || {};
+this.foo["@scoped/npm-package"].bar = this.foo["@scoped/npm-package"].bar || {};
+this.foo["@scoped/npm-package"].bar["why-would-you-do-this"] = (function (exports) {
 	'use strict';
 
 	let foo = 'foo';
@@ -12,4 +12,4 @@ this.foo['@scoped/npm-package'].bar['why-would-you-do-this'] = (function (export
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/module-name-wat/_expected/system.js b/test/form/samples/module-name-wat/_expected/system.js
index 3c99ddb52..5d97ba621 100644
--- a/test/form/samples/module-name-wat/_expected/system.js
+++ b/test/form/samples/module-name-wat/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('foo.@scoped/npm-package.bar.why-would-you-do-this', [], function (exports) {
+System.register('foo.@scoped/npm-package.bar.why-would-you-do-this', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			let foo = exports('foo', 'foo');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/module-name-wat/_expected/umd.js b/test/form/samples/module-name-wat/_expected/umd.js
index 3f76848c0..91ab70654 100644
--- a/test/form/samples/module-name-wat/_expected/umd.js
+++ b/test/form/samples/module-name-wat/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (global, factory) {
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
-	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.foo = global.foo || {}, global.foo['@scoped/npm-package'] = global.foo['@scoped/npm-package'] || {}, global.foo['@scoped/npm-package'].bar = global.foo['@scoped/npm-package'].bar || {}, global.foo['@scoped/npm-package'].bar['why-would-you-do-this'] = {})));
-}(this, (function (exports) { 'use strict';
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.foo = global.foo || {}, global.foo["@scoped/npm-package"] = global.foo["@scoped/npm-package"] || {}, global.foo["@scoped/npm-package"].bar = global.foo["@scoped/npm-package"].bar || {}, global.foo["@scoped/npm-package"].bar["why-would-you-do-this"] = {})));
+})(this, (function (exports) { 'use strict';
 
 	let foo = 'foo';
 
@@ -10,4 +10,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/module-name-with-dashes/_expected/amd.js b/test/form/samples/module-name-with-dashes/_expected/amd.js
index 69586a0bf..0e0835774 100644
--- a/test/form/samples/module-name-with-dashes/_expected/amd.js
+++ b/test/form/samples/module-name-with-dashes/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	let foo = 'foo';
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/module-name-with-dashes/_expected/iife.js b/test/form/samples/module-name-with-dashes/_expected/iife.js
index 9ee7dad90..2a1351bea 100644
--- a/test/form/samples/module-name-with-dashes/_expected/iife.js
+++ b/test/form/samples/module-name-with-dashes/_expected/iife.js
@@ -7,4 +7,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-}(this['module-name-with-dashes'] = this['module-name-with-dashes'] || {}));
+})(this["module-name-with-dashes"] = this["module-name-with-dashes"] || {});
diff --git a/test/form/samples/module-name-with-dashes/_expected/system.js b/test/form/samples/module-name-with-dashes/_expected/system.js
index 7bc269a73..2c417031e 100644
--- a/test/form/samples/module-name-with-dashes/_expected/system.js
+++ b/test/form/samples/module-name-with-dashes/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('module-name-with-dashes', [], function (exports) {
+System.register('module-name-with-dashes', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			let foo = exports('foo', 'foo');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/module-name-with-dashes/_expected/umd.js b/test/form/samples/module-name-with-dashes/_expected/umd.js
index 1c4f38469..515aa3ee6 100644
--- a/test/form/samples/module-name-with-dashes/_expected/umd.js
+++ b/test/form/samples/module-name-with-dashes/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (global, factory) {
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
-	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global['module-name-with-dashes'] = global['module-name-with-dashes'] || {}));
-}(this, (function (exports) { 'use strict';
+	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["module-name-with-dashes"] = global["module-name-with-dashes"] || {}));
+})(this, (function (exports) { 'use strict';
 
 	let foo = 'foo';
 
@@ -10,4 +10,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/multiple-exports/_expected/amd.js b/test/form/samples/multiple-exports/_expected/amd.js
index be67569e0..66f40f43b 100644
--- a/test/form/samples/multiple-exports/_expected/amd.js
+++ b/test/form/samples/multiple-exports/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var foo = 1;
 	var bar = 2;
@@ -8,4 +8,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/multiple-exports/_expected/iife.js b/test/form/samples/multiple-exports/_expected/iife.js
index 6d8658e03..7fb67aefa 100644
--- a/test/form/samples/multiple-exports/_expected/iife.js
+++ b/test/form/samples/multiple-exports/_expected/iife.js
@@ -11,4 +11,4 @@ var myBundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/multiple-exports/_expected/system.js b/test/form/samples/multiple-exports/_expected/system.js
index 55a7bebb2..3dafea52d 100644
--- a/test/form/samples/multiple-exports/_expected/system.js
+++ b/test/form/samples/multiple-exports/_expected/system.js
@@ -1,11 +1,11 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = exports('foo', 1);
 			var bar = exports('bar', 2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/multiple-exports/_expected/umd.js b/test/form/samples/multiple-exports/_expected/umd.js
index e7ddc4e4a..0edff421a 100644
--- a/test/form/samples/multiple-exports/_expected/umd.js
+++ b/test/form/samples/multiple-exports/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	var foo = 1;
 	var bar = 2;
@@ -12,4 +12,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/namespace-import-reexport-2/_expected/amd.js b/test/form/samples/namespace-import-reexport-2/_expected/amd.js
index cba948a63..49ba4dd51 100644
--- a/test/form/samples/namespace-import-reexport-2/_expected/amd.js
+++ b/test/form/samples/namespace-import-reexport-2/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external1', 'external2'], function (exports, external1, external2) { 'use strict';
+define(['exports', 'external1', 'external2'], (function (exports, external1, external2) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,14 +9,12 @@ define(['exports', 'external1', 'external2'], function (exports, external1, exte
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -26,12 +24,10 @@ define(['exports', 'external1', 'external2'], function (exports, external1, exte
 
 	Object.defineProperty(exports, 'x', {
 		enumerable: true,
-		get: function () {
-			return external1.x;
-		}
+		get: function () { return external1.x; }
 	});
 	exports.ext = external2__namespace;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/namespace-import-reexport-2/_expected/cjs.js b/test/form/samples/namespace-import-reexport-2/_expected/cjs.js
index 0eb0c7063..52eb08751 100644
--- a/test/form/samples/namespace-import-reexport-2/_expected/cjs.js
+++ b/test/form/samples/namespace-import-reexport-2/_expected/cjs.js
@@ -14,14 +14,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
@@ -31,8 +29,6 @@ var external2__namespace = /*#__PURE__*/_interopNamespace(external2);
 
 Object.defineProperty(exports, 'x', {
 	enumerable: true,
-	get: function () {
-		return external1.x;
-	}
+	get: function () { return external1.x; }
 });
 exports.ext = external2__namespace;
diff --git a/test/form/samples/namespace-import-reexport-2/_expected/iife.js b/test/form/samples/namespace-import-reexport-2/_expected/iife.js
index 8d119d90a..0ecef51af 100644
--- a/test/form/samples/namespace-import-reexport-2/_expected/iife.js
+++ b/test/form/samples/namespace-import-reexport-2/_expected/iife.js
@@ -10,14 +10,12 @@ var iife = (function (exports, external1, external2) {
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -27,9 +25,7 @@ var iife = (function (exports, external1, external2) {
 
 	Object.defineProperty(exports, 'x', {
 		enumerable: true,
-		get: function () {
-			return external1.x;
-		}
+		get: function () { return external1.x; }
 	});
 	exports.ext = external2__namespace;
 
@@ -37,4 +33,4 @@ var iife = (function (exports, external1, external2) {
 
 	return exports;
 
-}({}, external1, external2));
+})({}, external1, external2);
diff --git a/test/form/samples/namespace-import-reexport-2/_expected/system.js b/test/form/samples/namespace-import-reexport-2/_expected/system.js
index 9da3b2bee..a29fe5807 100644
--- a/test/form/samples/namespace-import-reexport-2/_expected/system.js
+++ b/test/form/samples/namespace-import-reexport-2/_expected/system.js
@@ -1,4 +1,4 @@
-System.register('iife', ['external1', 'external2'], function (exports) {
+System.register('iife', ['external1', 'external2'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
@@ -6,10 +6,10 @@ System.register('iife', ['external1', 'external2'], function (exports) {
 		}, function (module) {
 			exports('ext', module);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespace-import-reexport-2/_expected/umd.js b/test/form/samples/namespace-import-reexport-2/_expected/umd.js
index a04493c9c..cc78e9bbc 100644
--- a/test/form/samples/namespace-import-reexport-2/_expected/umd.js
+++ b/test/form/samples/namespace-import-reexport-2/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external1'), require('external2')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external1', 'external2'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.iife = {}, global.external1, global.external2));
-}(this, (function (exports, external1, external2) { 'use strict';
+})(this, (function (exports, external1, external2) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -13,14 +13,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -30,12 +28,10 @@
 
 	Object.defineProperty(exports, 'x', {
 		enumerable: true,
-		get: function () {
-			return external1.x;
-		}
+		get: function () { return external1.x; }
 	});
 	exports.ext = external2__namespace;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/namespace-import-reexport/_expected/amd.js b/test/form/samples/namespace-import-reexport/_expected/amd.js
index 24ff21b66..6d725ef83 100644
--- a/test/form/samples/namespace-import-reexport/_expected/amd.js
+++ b/test/form/samples/namespace-import-reexport/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external-package'], function (exports, externalPackage) { 'use strict';
+define(['exports', 'external-package'], (function (exports, externalPackage) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,14 +9,12 @@ define(['exports', 'external-package'], function (exports, externalPackage) { 'u
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -28,4 +26,4 @@ define(['exports', 'external-package'], function (exports, externalPackage) { 'u
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/namespace-import-reexport/_expected/cjs.js b/test/form/samples/namespace-import-reexport/_expected/cjs.js
index b776a0bae..1d89442ca 100644
--- a/test/form/samples/namespace-import-reexport/_expected/cjs.js
+++ b/test/form/samples/namespace-import-reexport/_expected/cjs.js
@@ -13,14 +13,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/form/samples/namespace-import-reexport/_expected/iife.js b/test/form/samples/namespace-import-reexport/_expected/iife.js
index e7b26c55e..19f87c80f 100644
--- a/test/form/samples/namespace-import-reexport/_expected/iife.js
+++ b/test/form/samples/namespace-import-reexport/_expected/iife.js
@@ -10,14 +10,12 @@ var iife = (function (exports, externalPackage) {
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -31,4 +29,4 @@ var iife = (function (exports, externalPackage) {
 
 	return exports;
 
-}({}, externalPackage));
+})({}, externalPackage);
diff --git a/test/form/samples/namespace-import-reexport/_expected/system.js b/test/form/samples/namespace-import-reexport/_expected/system.js
index 73fc29304..a4e6fc29b 100644
--- a/test/form/samples/namespace-import-reexport/_expected/system.js
+++ b/test/form/samples/namespace-import-reexport/_expected/system.js
@@ -1,13 +1,13 @@
-System.register('iife', ['external-package'], function (exports) {
+System.register('iife', ['external-package'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('ext', module);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespace-import-reexport/_expected/umd.js b/test/form/samples/namespace-import-reexport/_expected/umd.js
index e0c79f603..78c8c5c00 100644
--- a/test/form/samples/namespace-import-reexport/_expected/umd.js
+++ b/test/form/samples/namespace-import-reexport/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external-package')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external-package'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.iife = {}, global.externalPackage));
-}(this, (function (exports, externalPackage) { 'use strict';
+})(this, (function (exports, externalPackage) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -13,14 +13,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -32,4 +30,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/namespace-object-import/_expected/amd.js b/test/form/samples/namespace-object-import/_expected/amd.js
index 0e663d372..2b6d26bd5 100644
--- a/test/form/samples/namespace-object-import/_expected/amd.js
+++ b/test/form/samples/namespace-object-import/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var dep = "default";
 
@@ -9,4 +9,4 @@ define(function () { 'use strict';
 
 	console.log(dep$1);
 
-});
+}));
diff --git a/test/form/samples/namespace-object-import/_expected/iife.js b/test/form/samples/namespace-object-import/_expected/iife.js
index 8048e5710..190801501 100644
--- a/test/form/samples/namespace-object-import/_expected/iife.js
+++ b/test/form/samples/namespace-object-import/_expected/iife.js
@@ -10,4 +10,4 @@
 
 	console.log(dep$1);
 
-}());
+})();
diff --git a/test/form/samples/namespace-object-import/_expected/system.js b/test/form/samples/namespace-object-import/_expected/system.js
index 782f2137b..4135830fc 100644
--- a/test/form/samples/namespace-object-import/_expected/system.js
+++ b/test/form/samples/namespace-object-import/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var dep = "default";
 
@@ -12,6 +12,6 @@ System.register([], function () {
 
 			console.log(dep$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespace-object-import/_expected/umd.js b/test/form/samples/namespace-object-import/_expected/umd.js
index ff063b406..231a7a501 100644
--- a/test/form/samples/namespace-object-import/_expected/umd.js
+++ b/test/form/samples/namespace-object-import/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var dep = "default";
 
@@ -12,4 +12,4 @@
 
 	console.log(dep$1);
 
-})));
+}));
diff --git a/test/form/samples/namespace-optimization-b/_expected/amd.js b/test/form/samples/namespace-optimization-b/_expected/amd.js
index 0284af7e9..446dafa5a 100644
--- a/test/form/samples/namespace-optimization-b/_expected/amd.js
+++ b/test/form/samples/namespace-optimization-b/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo () {
 		console.log( 'foo' );
@@ -14,4 +14,4 @@ define(function () { 'use strict';
 
 	a();
 
-});
+}));
diff --git a/test/form/samples/namespace-optimization-b/_expected/iife.js b/test/form/samples/namespace-optimization-b/_expected/iife.js
index b3ac0b30b..a0e1d0305 100644
--- a/test/form/samples/namespace-optimization-b/_expected/iife.js
+++ b/test/form/samples/namespace-optimization-b/_expected/iife.js
@@ -15,4 +15,4 @@
 
 	a();
 
-}());
+})();
diff --git a/test/form/samples/namespace-optimization-b/_expected/system.js b/test/form/samples/namespace-optimization-b/_expected/system.js
index cf59616b6..c7eb1ac66 100644
--- a/test/form/samples/namespace-optimization-b/_expected/system.js
+++ b/test/form/samples/namespace-optimization-b/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo () {
 				console.log( 'foo' );
@@ -17,6 +17,6 @@ System.register([], function () {
 
 			a();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespace-optimization-b/_expected/umd.js b/test/form/samples/namespace-optimization-b/_expected/umd.js
index 07a65887c..b19c688a0 100644
--- a/test/form/samples/namespace-optimization-b/_expected/umd.js
+++ b/test/form/samples/namespace-optimization-b/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo () {
 		console.log( 'foo' );
@@ -17,4 +17,4 @@
 
 	a();
 
-})));
+}));
diff --git a/test/form/samples/namespace-optimization-computed-string/_expected/amd.js b/test/form/samples/namespace-optimization-computed-string/_expected/amd.js
index d32ea8602..0fb3b0d1b 100644
--- a/test/form/samples/namespace-optimization-computed-string/_expected/amd.js
+++ b/test/form/samples/namespace-optimization-computed-string/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function a () {
 		console.log('effect');
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
 	a();
 
-});
+}));
diff --git a/test/form/samples/namespace-optimization-computed-string/_expected/iife.js b/test/form/samples/namespace-optimization-computed-string/_expected/iife.js
index afc368ba7..f6f743bb5 100644
--- a/test/form/samples/namespace-optimization-computed-string/_expected/iife.js
+++ b/test/form/samples/namespace-optimization-computed-string/_expected/iife.js
@@ -7,4 +7,4 @@
 
 	a();
 
-}());
+})();
diff --git a/test/form/samples/namespace-optimization-computed-string/_expected/system.js b/test/form/samples/namespace-optimization-computed-string/_expected/system.js
index 0a24cf9de..fce6b6b9e 100644
--- a/test/form/samples/namespace-optimization-computed-string/_expected/system.js
+++ b/test/form/samples/namespace-optimization-computed-string/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function a () {
 				console.log('effect');
@@ -9,6 +9,6 @@ System.register([], function () {
 
 			a();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespace-optimization-computed-string/_expected/umd.js b/test/form/samples/namespace-optimization-computed-string/_expected/umd.js
index 2e0e742d8..fafd23729 100644
--- a/test/form/samples/namespace-optimization-computed-string/_expected/umd.js
+++ b/test/form/samples/namespace-optimization-computed-string/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function a () {
 		console.log('effect');
@@ -9,4 +9,4 @@
 
 	a();
 
-})));
+}));
diff --git a/test/form/samples/namespace-reexport-name/_expected/amd.js b/test/form/samples/namespace-reexport-name/_expected/amd.js
index ece2f161a..f1b3a02f1 100644
--- a/test/form/samples/namespace-reexport-name/_expected/amd.js
+++ b/test/form/samples/namespace-reexport-name/_expected/amd.js
@@ -1,23 +1,19 @@
-define(['exports', 'external'], function (exports, external) { 'use strict';
+define(['exports', 'external'], (function (exports, external) { 'use strict';
 
 	const renamedIndirectOverride = external.indirectOverride;
 
 	Object.defineProperty(exports, 'renamedDirectOverride', {
 		enumerable: true,
-		get: function () {
-			return external.directOverride;
-		}
+		get: function () { return external.directOverride; }
 	});
 	exports.renamedIndirectOverride = renamedIndirectOverride;
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/namespace-reexport-name/_expected/cjs.js b/test/form/samples/namespace-reexport-name/_expected/cjs.js
index 90b60e75b..d7d1b7923 100644
--- a/test/form/samples/namespace-reexport-name/_expected/cjs.js
+++ b/test/form/samples/namespace-reexport-name/_expected/cjs.js
@@ -8,16 +8,12 @@ const renamedIndirectOverride = external.indirectOverride;
 
 Object.defineProperty(exports, 'renamedDirectOverride', {
 	enumerable: true,
-	get: function () {
-		return external.directOverride;
-	}
+	get: function () { return external.directOverride; }
 });
 exports.renamedIndirectOverride = renamedIndirectOverride;
 Object.keys(external).forEach(function (k) {
 	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 		enumerable: true,
-		get: function () {
-			return external[k];
-		}
+		get: function () { return external[k]; }
 	});
 });
diff --git a/test/form/samples/namespace-reexport-name/_expected/iife.js b/test/form/samples/namespace-reexport-name/_expected/iife.js
index 826262beb..1d4cc35c9 100644
--- a/test/form/samples/namespace-reexport-name/_expected/iife.js
+++ b/test/form/samples/namespace-reexport-name/_expected/iife.js
@@ -5,17 +5,13 @@ var bundle = (function (exports, external) {
 
 	Object.defineProperty(exports, 'renamedDirectOverride', {
 		enumerable: true,
-		get: function () {
-			return external.directOverride;
-		}
+		get: function () { return external.directOverride; }
 	});
 	exports.renamedIndirectOverride = renamedIndirectOverride;
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
@@ -23,4 +19,4 @@ var bundle = (function (exports, external) {
 
 	return exports;
 
-}({}, external));
+})({}, external);
diff --git a/test/form/samples/namespace-reexport-name/_expected/system.js b/test/form/samples/namespace-reexport-name/_expected/system.js
index fe702072d..95d06521e 100644
--- a/test/form/samples/namespace-reexport-name/_expected/system.js
+++ b/test/form/samples/namespace-reexport-name/_expected/system.js
@@ -1,21 +1,24 @@
-System.register('bundle', ['external'], function (exports) {
+System.register('bundle', ['external'], (function (exports) {
 	'use strict';
-	var _starExcludes = { renamedIndirectOverride: 1, default: 1, renamedDirectOverride: 1 };
+	var _starExcludes = {
+		renamedIndirectOverride: 1,
+		'default': 1,
+		renamedDirectOverride: 1
+	};
 	var indirectOverride;
 	return {
 		setters: [function (module) {
 			indirectOverride = module.indirectOverride;
-			var _setter = {};
-			for (var _$p in module) {
-				if (!_starExcludes[_$p]) _setter[_$p] = module[_$p];
+			var setter = { renamedDirectOverride: module.directOverride };
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
 			}
-			_setter.renamedDirectOverride = module.directOverride;
-			exports(_setter);
+			exports(setter);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const renamedIndirectOverride = exports('renamedIndirectOverride', indirectOverride);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespace-reexport-name/_expected/umd.js b/test/form/samples/namespace-reexport-name/_expected/umd.js
index cba692f44..4fe6c1e6c 100644
--- a/test/form/samples/namespace-reexport-name/_expected/umd.js
+++ b/test/form/samples/namespace-reexport-name/_expected/umd.js
@@ -2,26 +2,22 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external));
-}(this, (function (exports, external) { 'use strict';
+})(this, (function (exports, external) { 'use strict';
 
 	const renamedIndirectOverride = external.indirectOverride;
 
 	Object.defineProperty(exports, 'renamedDirectOverride', {
 		enumerable: true,
-		get: function () {
-			return external.directOverride;
-		}
+		get: function () { return external.directOverride; }
 	});
 	exports.renamedIndirectOverride = renamedIndirectOverride;
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/namespace-self-import/_expected/amd.js b/test/form/samples/namespace-self-import/_expected/amd.js
index 38976dc38..f0792df18 100644
--- a/test/form/samples/namespace-self-import/_expected/amd.js
+++ b/test/form/samples/namespace-self-import/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var self = /*#__PURE__*/Object.freeze({
 		__proto__: null,
@@ -13,4 +13,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/namespace-self-import/_expected/iife.js b/test/form/samples/namespace-self-import/_expected/iife.js
index 51b9cb635..a91d523de 100644
--- a/test/form/samples/namespace-self-import/_expected/iife.js
+++ b/test/form/samples/namespace-self-import/_expected/iife.js
@@ -16,4 +16,4 @@ var iife = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/namespace-self-import/_expected/system.js b/test/form/samples/namespace-self-import/_expected/system.js
index 370359f60..838e3a2e7 100644
--- a/test/form/samples/namespace-self-import/_expected/system.js
+++ b/test/form/samples/namespace-self-import/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('iife', [], function (exports) {
+System.register('iife', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var self = /*#__PURE__*/Object.freeze({
 				__proto__: null,
@@ -12,6 +12,6 @@ System.register('iife', [], function (exports) {
 
 			var p = exports('p', 5);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespace-self-import/_expected/umd.js b/test/form/samples/namespace-self-import/_expected/umd.js
index 50ee20bca..79df178d7 100644
--- a/test/form/samples/namespace-self-import/_expected/umd.js
+++ b/test/form/samples/namespace-self-import/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.iife = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	var self = /*#__PURE__*/Object.freeze({
 		__proto__: null,
@@ -17,4 +17,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/namespace-tostring/entry-default/_expected/amd.js b/test/form/samples/namespace-tostring/entry-default/_expected/amd.js
index f7dd1665f..3c31a8f0b 100644
--- a/test/form/samples/namespace-tostring/entry-default/_expected/amd.js
+++ b/test/form/samples/namespace-tostring/entry-default/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = { foo: 42 };
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/namespace-tostring/entry-default/_expected/iife.js b/test/form/samples/namespace-tostring/entry-default/_expected/iife.js
index 6a9aa88e4..b9892e039 100644
--- a/test/form/samples/namespace-tostring/entry-default/_expected/iife.js
+++ b/test/form/samples/namespace-tostring/entry-default/_expected/iife.js
@@ -5,4 +5,4 @@ var bundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/namespace-tostring/entry-default/_expected/system.js b/test/form/samples/namespace-tostring/entry-default/_expected/system.js
index 75f648528..e78d3f095 100644
--- a/test/form/samples/namespace-tostring/entry-default/_expected/system.js
+++ b/test/form/samples/namespace-tostring/entry-default/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', { foo: 42 });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespace-tostring/entry-default/_expected/umd.js b/test/form/samples/namespace-tostring/entry-default/_expected/umd.js
index 91d6f5073..8bea77662 100644
--- a/test/form/samples/namespace-tostring/entry-default/_expected/umd.js
+++ b/test/form/samples/namespace-tostring/entry-default/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.bundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = { foo: 42 };
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/namespace-tostring/entry-named/_expected/amd.js b/test/form/samples/namespace-tostring/entry-named/_expected/amd.js
index eb6ac0df3..f7387a801 100644
--- a/test/form/samples/namespace-tostring/entry-named/_expected/amd.js
+++ b/test/form/samples/namespace-tostring/entry-named/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = 42;
 
@@ -7,4 +7,4 @@ define(['exports'], function (exports) { 'use strict';
 	Object.defineProperty(exports, '__esModule', { value: true });
 	exports[Symbol.toStringTag] = 'Module';
 
-});
+}));
diff --git a/test/form/samples/namespace-tostring/entry-named/_expected/iife.js b/test/form/samples/namespace-tostring/entry-named/_expected/iife.js
index e5372e8d9..7629316c2 100644
--- a/test/form/samples/namespace-tostring/entry-named/_expected/iife.js
+++ b/test/form/samples/namespace-tostring/entry-named/_expected/iife.js
@@ -10,4 +10,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/namespace-tostring/entry-named/_expected/system.js b/test/form/samples/namespace-tostring/entry-named/_expected/system.js
index f86b5831d..53ad1b79c 100644
--- a/test/form/samples/namespace-tostring/entry-named/_expected/system.js
+++ b/test/form/samples/namespace-tostring/entry-named/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = exports('foo', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespace-tostring/entry-named/_expected/umd.js b/test/form/samples/namespace-tostring/entry-named/_expected/umd.js
index 1da1dd551..9fae7c06e 100644
--- a/test/form/samples/namespace-tostring/entry-named/_expected/umd.js
+++ b/test/form/samples/namespace-tostring/entry-named/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const foo = 42;
 
@@ -11,4 +11,4 @@
 	Object.defineProperty(exports, '__esModule', { value: true });
 	exports[Symbol.toStringTag] = 'Module';
 
-})));
+}));
diff --git a/test/form/samples/namespace-tostring/external-namespaces/_expected/amd.js b/test/form/samples/namespace-tostring/external-namespaces/_expected/amd.js
index 0b0a8aacf..3ba43d499 100644
--- a/test/form/samples/namespace-tostring/external-namespaces/_expected/amd.js
+++ b/test/form/samples/namespace-tostring/external-namespaces/_expected/amd.js
@@ -1,8 +1,6 @@
-define(['external-auto', 'external-default', 'external-defaultOnly'], function (externalAuto, externalDefault, externalDefaultOnly) { 'use strict';
+define(['external-auto', 'external-default', 'external-defaultOnly'], (function (externalAuto, externalDefault, externalDefaultOnly) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, [Symbol.toStringTag]: 'Module', 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, [Symbol.toStringTag]: 'Module', 'default': e }); }
 
 	function _interopNamespaceDefault(e) {
 		var n = {__proto__: null, [Symbol.toStringTag]: 'Module'};
@@ -12,20 +10,16 @@ define(['external-auto', 'external-default', 'external-defaultOnly'], function (
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	function _interopNamespace(e) {
-		return e && e.__esModule ? e : _interopNamespaceDefault(e);
-	}
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 	var externalAuto__namespace = /*#__PURE__*/_interopNamespace(externalAuto);
 	var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
@@ -43,4 +37,4 @@ define(['external-auto', 'external-default', 'external-defaultOnly'], function (
 	assert.strictEqual(Object.prototype.toString.call(externalDefaultOnly__namespace), '[object Module]');
 	assert.deepStrictEqual(externalDefaultOnly__namespace.default, { foo: 42 });
 
-});
+}));
diff --git a/test/form/samples/namespace-tostring/external-namespaces/_expected/cjs.js b/test/form/samples/namespace-tostring/external-namespaces/_expected/cjs.js
index a9aacb557..515428796 100644
--- a/test/form/samples/namespace-tostring/external-namespaces/_expected/cjs.js
+++ b/test/form/samples/namespace-tostring/external-namespaces/_expected/cjs.js
@@ -4,9 +4,7 @@ var externalAuto = require('external-auto');
 var externalDefault = require('external-default');
 var externalDefaultOnly = require('external-defaultOnly');
 
-function _interopNamespaceDefaultOnly(e) {
-	return Object.freeze({__proto__: null, [Symbol.toStringTag]: 'Module', 'default': e});
-}
+function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, [Symbol.toStringTag]: 'Module', 'default': e }); }
 
 function _interopNamespaceDefault(e) {
 	var n = {__proto__: null, [Symbol.toStringTag]: 'Module'};
@@ -16,20 +14,16 @@ function _interopNamespaceDefault(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
-function _interopNamespace(e) {
-	return e && e.__esModule ? e : _interopNamespaceDefault(e);
-}
+function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 var externalAuto__namespace = /*#__PURE__*/_interopNamespace(externalAuto);
 var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
diff --git a/test/form/samples/namespace-tostring/external-namespaces/_expected/iife.js b/test/form/samples/namespace-tostring/external-namespaces/_expected/iife.js
index 6856f2856..ceaad50d2 100644
--- a/test/form/samples/namespace-tostring/external-namespaces/_expected/iife.js
+++ b/test/form/samples/namespace-tostring/external-namespaces/_expected/iife.js
@@ -1,9 +1,7 @@
 (function (externalAuto, externalDefault, externalDefaultOnly) {
 	'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, [Symbol.toStringTag]: 'Module', 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, [Symbol.toStringTag]: 'Module', 'default': e }); }
 
 	function _interopNamespaceDefault(e) {
 		var n = {__proto__: null, [Symbol.toStringTag]: 'Module'};
@@ -13,20 +11,16 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	function _interopNamespace(e) {
-		return e && e.__esModule ? e : _interopNamespaceDefault(e);
-	}
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 	var externalAuto__namespace = /*#__PURE__*/_interopNamespace(externalAuto);
 	var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
@@ -44,4 +38,4 @@
 	assert.strictEqual(Object.prototype.toString.call(externalDefaultOnly__namespace), '[object Module]');
 	assert.deepStrictEqual(externalDefaultOnly__namespace.default, { foo: 42 });
 
-}(externalAuto, externalDefault, externalDefaultOnly));
+})(externalAuto, externalDefault, externalDefaultOnly);
diff --git a/test/form/samples/namespace-tostring/external-namespaces/_expected/system.js b/test/form/samples/namespace-tostring/external-namespaces/_expected/system.js
index 148582a19..76dd2bf6c 100644
--- a/test/form/samples/namespace-tostring/external-namespaces/_expected/system.js
+++ b/test/form/samples/namespace-tostring/external-namespaces/_expected/system.js
@@ -1,4 +1,4 @@
-System.register(['external-auto', 'external-default', 'external-defaultOnly'], function () {
+System.register(['external-auto', 'external-default', 'external-defaultOnly'], (function () {
 	'use strict';
 	var externalAuto, externalDefault, externalDefaultOnly;
 	return {
@@ -9,7 +9,7 @@ System.register(['external-auto', 'external-default', 'external-defaultOnly'], f
 		}, function (module) {
 			externalDefaultOnly = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			assert.strictEqual(externalAuto[Symbol.toStringTag], 'Module');
 			assert.strictEqual(Object.prototype.toString.call(externalAuto), '[object Module]');
@@ -23,6 +23,6 @@ System.register(['external-auto', 'external-default', 'external-defaultOnly'], f
 			assert.strictEqual(Object.prototype.toString.call(externalDefaultOnly), '[object Module]');
 			assert.deepStrictEqual(externalDefaultOnly.default, { foo: 42 });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespace-tostring/external-namespaces/_expected/umd.js b/test/form/samples/namespace-tostring/external-namespaces/_expected/umd.js
index ad1459551..02284b534 100644
--- a/test/form/samples/namespace-tostring/external-namespaces/_expected/umd.js
+++ b/test/form/samples/namespace-tostring/external-namespaces/_expected/umd.js
@@ -2,11 +2,9 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('external-auto'), require('external-default'), require('external-defaultOnly')) :
 	typeof define === 'function' && define.amd ? define(['external-auto', 'external-default', 'external-defaultOnly'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.externalAuto, global.externalDefault, global.externalDefaultOnly));
-}(this, (function (externalAuto, externalDefault, externalDefaultOnly) { 'use strict';
+})(this, (function (externalAuto, externalDefault, externalDefaultOnly) { 'use strict';
 
-	function _interopNamespaceDefaultOnly(e) {
-		return Object.freeze({__proto__: null, [Symbol.toStringTag]: 'Module', 'default': e});
-	}
+	function _interopNamespaceDefaultOnly (e) { return Object.freeze({ __proto__: null, [Symbol.toStringTag]: 'Module', 'default': e }); }
 
 	function _interopNamespaceDefault(e) {
 		var n = {__proto__: null, [Symbol.toStringTag]: 'Module'};
@@ -16,20 +14,16 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	function _interopNamespace(e) {
-		return e && e.__esModule ? e : _interopNamespaceDefault(e);
-	}
+	function _interopNamespace (e) { return e && e.__esModule ? e : _interopNamespaceDefault(e); }
 
 	var externalAuto__namespace = /*#__PURE__*/_interopNamespace(externalAuto);
 	var externalDefault__namespace = /*#__PURE__*/_interopNamespaceDefault(externalDefault);
@@ -47,4 +41,4 @@
 	assert.strictEqual(Object.prototype.toString.call(externalDefaultOnly__namespace), '[object Module]');
 	assert.deepStrictEqual(externalDefaultOnly__namespace.default, { foo: 42 });
 
-})));
+}));
diff --git a/test/form/samples/namespace-tostring/inlined-namespace/_expected/amd.js b/test/form/samples/namespace-tostring/inlined-namespace/_expected/amd.js
index 98a30ca04..520518ca5 100644
--- a/test/form/samples/namespace-tostring/inlined-namespace/_expected/amd.js
+++ b/test/form/samples/namespace-tostring/inlined-namespace/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const bar = 42;
 
@@ -12,4 +12,4 @@ define(function () { 'use strict';
 	assert.strictEqual(Object.prototype.toString.call(foo), '[object Module]');
 	assert.strictEqual(bar, 42);
 
-});
+}));
diff --git a/test/form/samples/namespace-tostring/inlined-namespace/_expected/iife.js b/test/form/samples/namespace-tostring/inlined-namespace/_expected/iife.js
index 7902a3a3d..229f1e2a0 100644
--- a/test/form/samples/namespace-tostring/inlined-namespace/_expected/iife.js
+++ b/test/form/samples/namespace-tostring/inlined-namespace/_expected/iife.js
@@ -13,4 +13,4 @@
 	assert.strictEqual(Object.prototype.toString.call(foo), '[object Module]');
 	assert.strictEqual(bar, 42);
 
-}());
+})();
diff --git a/test/form/samples/namespace-tostring/inlined-namespace/_expected/system.js b/test/form/samples/namespace-tostring/inlined-namespace/_expected/system.js
index 857ef5aea..936d47916 100644
--- a/test/form/samples/namespace-tostring/inlined-namespace/_expected/system.js
+++ b/test/form/samples/namespace-tostring/inlined-namespace/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const bar = 42;
 
@@ -15,6 +15,6 @@ System.register([], function () {
 			assert.strictEqual(Object.prototype.toString.call(foo), '[object Module]');
 			assert.strictEqual(bar, 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespace-tostring/inlined-namespace/_expected/umd.js b/test/form/samples/namespace-tostring/inlined-namespace/_expected/umd.js
index 191811d70..8299de9b9 100644
--- a/test/form/samples/namespace-tostring/inlined-namespace/_expected/umd.js
+++ b/test/form/samples/namespace-tostring/inlined-namespace/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	const bar = 42;
 
@@ -15,4 +15,4 @@
 	assert.strictEqual(Object.prototype.toString.call(foo), '[object Module]');
 	assert.strictEqual(bar, 42);
 
-})));
+}));
diff --git a/test/form/samples/namespaced-default-exports/_expected/amd.js b/test/form/samples/namespaced-default-exports/_expected/amd.js
index 37d25711e..538fc7738 100644
--- a/test/form/samples/namespaced-default-exports/_expected/amd.js
+++ b/test/form/samples/namespaced-default-exports/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/namespaced-default-exports/_expected/iife.js b/test/form/samples/namespaced-default-exports/_expected/iife.js
index cf8f3648b..0e051ac46 100644
--- a/test/form/samples/namespaced-default-exports/_expected/iife.js
+++ b/test/form/samples/namespaced-default-exports/_expected/iife.js
@@ -7,4 +7,4 @@ this.foo.bar.baz = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/namespaced-default-exports/_expected/system.js b/test/form/samples/namespaced-default-exports/_expected/system.js
index e6a02565e..9db97c987 100644
--- a/test/form/samples/namespaced-default-exports/_expected/system.js
+++ b/test/form/samples/namespaced-default-exports/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('foo.bar.baz', [], function (exports) {
+System.register('foo.bar.baz', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespaced-default-exports/_expected/umd.js b/test/form/samples/namespaced-default-exports/_expected/umd.js
index 87ef18a83..fc92b5633 100644
--- a/test/form/samples/namespaced-default-exports/_expected/umd.js
+++ b/test/form/samples/namespaced-default-exports/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.foo = global.foo || {}, global.foo.bar = global.foo.bar || {}, global.foo.bar.baz = factory()));
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/namespaced-named-exports/_expected/amd.js b/test/form/samples/namespaced-named-exports/_expected/amd.js
index cec0f513a..824f7df5d 100644
--- a/test/form/samples/namespaced-named-exports/_expected/amd.js
+++ b/test/form/samples/namespaced-named-exports/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var answer = 42;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/namespaced-named-exports/_expected/iife.js b/test/form/samples/namespaced-named-exports/_expected/iife.js
index 5f61e011c..1853388f6 100644
--- a/test/form/samples/namespaced-named-exports/_expected/iife.js
+++ b/test/form/samples/namespaced-named-exports/_expected/iife.js
@@ -11,4 +11,4 @@ this.foo.bar.baz = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/namespaced-named-exports/_expected/system.js b/test/form/samples/namespaced-named-exports/_expected/system.js
index cd79c05ca..4dd62e694 100644
--- a/test/form/samples/namespaced-named-exports/_expected/system.js
+++ b/test/form/samples/namespaced-named-exports/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('foo.bar.baz', [], function (exports) {
+System.register('foo.bar.baz', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var answer = exports('answer', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespaced-named-exports/_expected/umd.js b/test/form/samples/namespaced-named-exports/_expected/umd.js
index 8f0ca4057..e830109c5 100644
--- a/test/form/samples/namespaced-named-exports/_expected/umd.js
+++ b/test/form/samples/namespaced-named-exports/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.foo = global.foo || {}, global.foo.bar = global.foo.bar || {}, global.foo.bar.baz = {})));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	var answer = 42;
 
@@ -10,4 +10,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/namespaces-have-null-prototype/_expected/amd.js b/test/form/samples/namespaces-have-null-prototype/_expected/amd.js
index b53ccd4d7..618e00a32 100644
--- a/test/form/samples/namespaces-have-null-prototype/_expected/amd.js
+++ b/test/form/samples/namespaces-have-null-prototype/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const foo = 1;
 	const bar = 2;
@@ -19,4 +19,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/namespaces-have-null-prototype/_expected/iife.js b/test/form/samples/namespaces-have-null-prototype/_expected/iife.js
index 577cfbf55..9eae062a4 100644
--- a/test/form/samples/namespaces-have-null-prototype/_expected/iife.js
+++ b/test/form/samples/namespaces-have-null-prototype/_expected/iife.js
@@ -22,4 +22,4 @@ var myBundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/namespaces-have-null-prototype/_expected/system.js b/test/form/samples/namespaces-have-null-prototype/_expected/system.js
index 258f8497c..25b80da1f 100644
--- a/test/form/samples/namespaces-have-null-prototype/_expected/system.js
+++ b/test/form/samples/namespaces-have-null-prototype/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const foo = 1;
 			const bar = 2;
@@ -17,6 +17,6 @@ System.register('myBundle', [], function (exports) {
 			const a = exports('a', 1);
 			const b = exports('b', 2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/namespaces-have-null-prototype/_expected/umd.js b/test/form/samples/namespaces-have-null-prototype/_expected/umd.js
index 8a26898fc..a2742478f 100644
--- a/test/form/samples/namespaces-have-null-prototype/_expected/umd.js
+++ b/test/form/samples/namespaces-have-null-prototype/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const foo = 1;
 	const bar = 2;
@@ -23,4 +23,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/nested-inlined-dynamic-import/_expected/amd.js b/test/form/samples/nested-inlined-dynamic-import/_expected/amd.js
index 83e0443cf..9786f514a 100644
--- a/test/form/samples/nested-inlined-dynamic-import/_expected/amd.js
+++ b/test/form/samples/nested-inlined-dynamic-import/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	async function main() {
 		const foo$1 = 1;
@@ -15,4 +15,4 @@ define(function () { 'use strict';
 		value: value
 	});
 
-});
+}));
diff --git a/test/form/samples/nested-inlined-dynamic-import/_expected/iife.js b/test/form/samples/nested-inlined-dynamic-import/_expected/iife.js
index 6a2dd7b2a..3dbed43ba 100644
--- a/test/form/samples/nested-inlined-dynamic-import/_expected/iife.js
+++ b/test/form/samples/nested-inlined-dynamic-import/_expected/iife.js
@@ -16,4 +16,4 @@
 		value: value
 	});
 
-}());
+})();
diff --git a/test/form/samples/nested-inlined-dynamic-import/_expected/system.js b/test/form/samples/nested-inlined-dynamic-import/_expected/system.js
index a11234126..8cb925481 100644
--- a/test/form/samples/nested-inlined-dynamic-import/_expected/system.js
+++ b/test/form/samples/nested-inlined-dynamic-import/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			async function main() {
 				const foo$1 = 1;
@@ -18,6 +18,6 @@ System.register([], function () {
 				value: value
 			});
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/nested-inlined-dynamic-import/_expected/umd.js b/test/form/samples/nested-inlined-dynamic-import/_expected/umd.js
index 04bde1cc4..5fa0792d5 100644
--- a/test/form/samples/nested-inlined-dynamic-import/_expected/umd.js
+++ b/test/form/samples/nested-inlined-dynamic-import/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	async function main() {
 		const foo$1 = 1;
@@ -18,4 +18,4 @@
 		value: value
 	});
 
-})));
+}));
diff --git a/test/form/samples/no-external-live-bindings-compact/_expected/amd.js b/test/form/samples/no-external-live-bindings-compact/_expected/amd.js
index 4d4d211ae..14c9563d5 100644
--- a/test/form/samples/no-external-live-bindings-compact/_expected/amd.js
+++ b/test/form/samples/no-external-live-bindings-compact/_expected/amd.js
@@ -1 +1 @@
-define(['require','exports','external1','external2'],function(require,exports,external1,external2){'use strict';function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){n[k]=e[k];});}n['default']=e;return Object.freeze(n);}const dynamic = new Promise(function(c,e){require(['external3'],function(m){c(/*#__PURE__*/_interopNamespace(m));},e)});exports.external1=external1.external1;exports.dynamic=dynamic;Object.keys(external2).forEach(function(k){if(k!=='default'&&!exports.hasOwnProperty(k))exports[k]=external2[k];});Object.defineProperty(exports,'__esModule',{value:true});});
\ No newline at end of file
+define(['require','exports','external1','external2'],(function(require,exports,external1,external2){'use strict';function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){for(var k in e){n[k]=e[k];}}n["default"]=e;return Object.freeze(n)}const dynamic = new Promise(function(c,e){require(['external3'],function(m){c(/*#__PURE__*/_interopNamespace(m))},e)});exports.external1=external1.external1;exports.dynamic=dynamic;for(var k in external2){if(k!=='default'&&!exports.hasOwnProperty(k))exports[k]=external2[k]}Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/no-external-live-bindings-compact/_expected/cjs.js b/test/form/samples/no-external-live-bindings-compact/_expected/cjs.js
index 95ba00662..29bd42c46 100644
--- a/test/form/samples/no-external-live-bindings-compact/_expected/cjs.js
+++ b/test/form/samples/no-external-live-bindings-compact/_expected/cjs.js
@@ -1 +1 @@
-'use strict';Object.defineProperty(exports,'__esModule',{value:true});var external1=require('external1'),external2=require('external2');function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){n[k]=e[k];});}n['default']=e;return Object.freeze(n);}const dynamic = Promise.resolve().then(function(){return /*#__PURE__*/_interopNamespace(require('external3'))});exports.external1=external1.external1;exports.dynamic=dynamic;Object.keys(external2).forEach(function(k){if(k!=='default'&&!exports.hasOwnProperty(k))exports[k]=external2[k];});
\ No newline at end of file
+'use strict';Object.defineProperty(exports,'__esModule',{value:true});var external1=require('external1'),external2=require('external2');function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){for(var k in e){n[k]=e[k];}}n["default"]=e;return Object.freeze(n)}const dynamic = Promise.resolve().then(function(){return /*#__PURE__*/_interopNamespace(require('external3'))});exports.external1=external1.external1;exports.dynamic=dynamic;for(var k in external2){if(k!=='default'&&!exports.hasOwnProperty(k))exports[k]=external2[k]}
\ No newline at end of file
diff --git a/test/form/samples/no-external-live-bindings-compact/_expected/iife.js b/test/form/samples/no-external-live-bindings-compact/_expected/iife.js
index 9b545fb76..06fd0501b 100644
--- a/test/form/samples/no-external-live-bindings-compact/_expected/iife.js
+++ b/test/form/samples/no-external-live-bindings-compact/_expected/iife.js
@@ -1 +1 @@
-var bundle=(function(exports,external1,external2){'use strict';const dynamic = import('external3');exports.external1=external1.external1;exports.dynamic=dynamic;Object.keys(external2).forEach(function(k){if(k!=='default'&&!exports.hasOwnProperty(k))exports[k]=external2[k];});Object.defineProperty(exports,'__esModule',{value:true});return exports;}({},external1,external2));
\ No newline at end of file
+var bundle=(function(exports,external1,external2){'use strict';const dynamic = import('external3');exports.external1=external1.external1;exports.dynamic=dynamic;for(var k in external2){if(k!=='default'&&!exports.hasOwnProperty(k))exports[k]=external2[k]}Object.defineProperty(exports,'__esModule',{value:true});return exports;})({},external1,external2);
\ No newline at end of file
diff --git a/test/form/samples/no-external-live-bindings-compact/_expected/system.js b/test/form/samples/no-external-live-bindings-compact/_expected/system.js
index 50263d423..e98743f57 100644
--- a/test/form/samples/no-external-live-bindings-compact/_expected/system.js
+++ b/test/form/samples/no-external-live-bindings-compact/_expected/system.js
@@ -1 +1 @@
-System.register('bundle',['external1','external2'],function(exports,module){'use strict';var _starExcludes={dynamic:1,default:1,external1:1};return{setters:[function(module){exports('external1',module.external1);},function(module){var _setter={};for(var _$pinmodule){if(!_starExcludes[_$p])_setter[_$p]=module[_$p];}exports(_setter);}],execute:function(){const dynamic = exports('dynamic',module.import('external3'));}}});
\ No newline at end of file
+System.register('bundle',['external1','external2'],(function(exports,module){'use strict';var _starExcludes={dynamic:1,'default':1,external1:1};return{setters:[function(module){exports('external1',module.external1);},function(module){var setter={};for(var name in module){if(!_starExcludes[name])setter[name]=module[name];}exports(setter);}],execute:(function(){const dynamic = exports('dynamic',module.import('external3'));})}}));
\ No newline at end of file
diff --git a/test/form/samples/no-external-live-bindings-compact/_expected/umd.js b/test/form/samples/no-external-live-bindings-compact/_expected/umd.js
index 58c3d25f2..376cb159b 100644
--- a/test/form/samples/no-external-live-bindings-compact/_expected/umd.js
+++ b/test/form/samples/no-external-live-bindings-compact/_expected/umd.js
@@ -1 +1 @@
-(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(exports,require('external1'),require('external2')):typeof define==='function'&&define.amd?define(['exports','external1','external2'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,f(g.bundle={},g.external1,g.external2));}(this,(function(exports, external1, external2){'use strict';const dynamic = import('external3');exports.external1=external1.external1;exports.dynamic=dynamic;Object.keys(external2).forEach(function(k){if(k!=='default'&&!exports.hasOwnProperty(k))exports[k]=external2[k];});Object.defineProperty(exports,'__esModule',{value:true});})));
\ No newline at end of file
+(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?f(exports,require('external1'),require('external2')):typeof define==='function'&&define.amd?define(['exports','external1','external2'],f):(g=typeof globalThis!=='undefined'?globalThis:g||self,f(g.bundle={},g.external1,g.external2));})(this,(function(exports,external1,external2){'use strict';const dynamic = import('external3');exports.external1=external1.external1;exports.dynamic=dynamic;for(var k in external2){if(k!=='default'&&!exports.hasOwnProperty(k))exports[k]=external2[k]}Object.defineProperty(exports,'__esModule',{value:true});}));
\ No newline at end of file
diff --git a/test/form/samples/no-external-live-bindings/_expected/amd.js b/test/form/samples/no-external-live-bindings/_expected/amd.js
index 9b35d440d..d0a67e9bd 100644
--- a/test/form/samples/no-external-live-bindings/_expected/amd.js
+++ b/test/form/samples/no-external-live-bindings/_expected/amd.js
@@ -1,25 +1,25 @@
-define(['require', 'exports', 'external1', 'external2'], function (require, exports, external1, external2) { 'use strict';
+define(['require', 'exports', 'external1', 'external2'], (function (require, exports, external1, external2) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
 		var n = Object.create(null);
 		if (e) {
-			Object.keys(e).forEach(function (k) {
+			for (var k in e) {
 				n[k] = e[k];
-			});
+			}
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
-	const dynamic = new Promise(function (resolve, reject) { require(['external3'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
+	const dynamic = new Promise(function (resolve, reject) { require(['external3'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
 
 	exports.external1 = external1.external1;
 	exports.dynamic = dynamic;
-	Object.keys(external2).forEach(function (k) {
+	for (var k in external2) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) exports[k] = external2[k];
-	});
+	}
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/no-external-live-bindings/_expected/cjs.js b/test/form/samples/no-external-live-bindings/_expected/cjs.js
index 2c9efccf2..1c34cd549 100644
--- a/test/form/samples/no-external-live-bindings/_expected/cjs.js
+++ b/test/form/samples/no-external-live-bindings/_expected/cjs.js
@@ -9,11 +9,11 @@ function _interopNamespace(e) {
 	if (e && e.__esModule) return e;
 	var n = Object.create(null);
 	if (e) {
-		Object.keys(e).forEach(function (k) {
+		for (var k in e) {
 			n[k] = e[k];
-		});
+		}
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
@@ -21,6 +21,6 @@ const dynamic = Promise.resolve().then(function () { return /*#__PURE__*/_intero
 
 exports.external1 = external1.external1;
 exports.dynamic = dynamic;
-Object.keys(external2).forEach(function (k) {
+for (var k in external2) {
 	if (k !== 'default' && !exports.hasOwnProperty(k)) exports[k] = external2[k];
-});
+}
diff --git a/test/form/samples/no-external-live-bindings/_expected/iife.js b/test/form/samples/no-external-live-bindings/_expected/iife.js
index 65bc640d5..5bee7f640 100644
--- a/test/form/samples/no-external-live-bindings/_expected/iife.js
+++ b/test/form/samples/no-external-live-bindings/_expected/iife.js
@@ -5,12 +5,12 @@ var bundle = (function (exports, external1, external2) {
 
 	exports.external1 = external1.external1;
 	exports.dynamic = dynamic;
-	Object.keys(external2).forEach(function (k) {
+	for (var k in external2) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) exports[k] = external2[k];
-	});
+	}
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
 	return exports;
 
-}({}, external1, external2));
+})({}, external1, external2);
diff --git a/test/form/samples/no-external-live-bindings/_expected/system.js b/test/form/samples/no-external-live-bindings/_expected/system.js
index 0b5739a7d..02f9f79dc 100644
--- a/test/form/samples/no-external-live-bindings/_expected/system.js
+++ b/test/form/samples/no-external-live-bindings/_expected/system.js
@@ -1,20 +1,24 @@
-System.register('bundle', ['external1', 'external2'], function (exports, module) {
+System.register('bundle', ['external1', 'external2'], (function (exports, module) {
 	'use strict';
-	var _starExcludes = { dynamic: 1, default: 1, external1: 1 };
+	var _starExcludes = {
+		dynamic: 1,
+		'default': 1,
+		external1: 1
+	};
 	return {
 		setters: [function (module) {
 			exports('external1', module.external1);
 		}, function (module) {
-			var _setter = {};
-			for (var _$p in module) {
-				if (!_starExcludes[_$p]) _setter[_$p] = module[_$p];
+			var setter = {};
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
 			}
-			exports(_setter);
+			exports(setter);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const dynamic = exports('dynamic', module.import('external3'));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/no-external-live-bindings/_expected/umd.js b/test/form/samples/no-external-live-bindings/_expected/umd.js
index 09d4d9e60..5ce46e0ec 100644
--- a/test/form/samples/no-external-live-bindings/_expected/umd.js
+++ b/test/form/samples/no-external-live-bindings/_expected/umd.js
@@ -2,16 +2,16 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external1'), require('external2')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external1', 'external2'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external1, global.external2));
-}(this, (function (exports, external1, external2) { 'use strict';
+})(this, (function (exports, external1, external2) { 'use strict';
 
 	const dynamic = import('external3');
 
 	exports.external1 = external1.external1;
 	exports.dynamic = dynamic;
-	Object.keys(external2).forEach(function (k) {
+	for (var k in external2) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) exports[k] = external2[k];
-	});
+	}
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/no-imports-or-exports/_expected/amd.js b/test/form/samples/no-imports-or-exports/_expected/amd.js
index f0eeb4413..c8b47c1c2 100644
--- a/test/form/samples/no-imports-or-exports/_expected/amd.js
+++ b/test/form/samples/no-imports-or-exports/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log( 'this is it' );
 
-});
+}));
diff --git a/test/form/samples/no-imports-or-exports/_expected/iife.js b/test/form/samples/no-imports-or-exports/_expected/iife.js
index a57b26d3a..0cc176eb3 100644
--- a/test/form/samples/no-imports-or-exports/_expected/iife.js
+++ b/test/form/samples/no-imports-or-exports/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log( 'this is it' );
 
-}());
+})();
diff --git a/test/form/samples/no-imports-or-exports/_expected/system.js b/test/form/samples/no-imports-or-exports/_expected/system.js
index 5bee7fdd0..23d9818aa 100644
--- a/test/form/samples/no-imports-or-exports/_expected/system.js
+++ b/test/form/samples/no-imports-or-exports/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log( 'this is it' );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/no-imports-or-exports/_expected/umd.js b/test/form/samples/no-imports-or-exports/_expected/umd.js
index 3c5125e49..593d845ca 100644
--- a/test/form/samples/no-imports-or-exports/_expected/umd.js
+++ b/test/form/samples/no-imports-or-exports/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log( 'this is it' );
 
-})));
+}));
diff --git a/test/form/samples/no-treeshake-conflict/_expected/amd.js b/test/form/samples/no-treeshake-conflict/_expected/amd.js
index 301c4950b..d8223bac5 100644
--- a/test/form/samples/no-treeshake-conflict/_expected/amd.js
+++ b/test/form/samples/no-treeshake-conflict/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const other$1 = {
 		something: 'here'
@@ -8,4 +8,4 @@ define(function () { 'use strict';
 		somethingElse: 'here'
 	};
 
-});
+}));
diff --git a/test/form/samples/no-treeshake-conflict/_expected/iife.js b/test/form/samples/no-treeshake-conflict/_expected/iife.js
index 278e90716..66f6b17bd 100644
--- a/test/form/samples/no-treeshake-conflict/_expected/iife.js
+++ b/test/form/samples/no-treeshake-conflict/_expected/iife.js
@@ -9,4 +9,4 @@
 		somethingElse: 'here'
 	};
 
-}());
+})();
diff --git a/test/form/samples/no-treeshake-conflict/_expected/system.js b/test/form/samples/no-treeshake-conflict/_expected/system.js
index 094b4f814..20b793cca 100644
--- a/test/form/samples/no-treeshake-conflict/_expected/system.js
+++ b/test/form/samples/no-treeshake-conflict/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('stirred', [], function () {
+System.register('stirred', [], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const other$1 = {
 				something: 'here'
@@ -11,6 +11,6 @@ System.register('stirred', [], function () {
 				somethingElse: 'here'
 			};
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/no-treeshake-conflict/_expected/umd.js b/test/form/samples/no-treeshake-conflict/_expected/umd.js
index be7d134e4..5095f8285 100644
--- a/test/form/samples/no-treeshake-conflict/_expected/umd.js
+++ b/test/form/samples/no-treeshake-conflict/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	const other$1 = {
 		something: 'here'
@@ -11,4 +11,4 @@
 		somethingElse: 'here'
 	};
 
-})));
+}));
diff --git a/test/form/samples/non-empty-block-statement/_expected/amd.js b/test/form/samples/non-empty-block-statement/_expected/amd.js
index aaad1ffce..73fea2d73 100644
--- a/test/form/samples/non-empty-block-statement/_expected/amd.js
+++ b/test/form/samples/non-empty-block-statement/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log( 1 );
 	{
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 	}
 	console.log( tmp );
 
-});
+}));
diff --git a/test/form/samples/non-empty-block-statement/_expected/iife.js b/test/form/samples/non-empty-block-statement/_expected/iife.js
index 611fa6e61..3555580f6 100644
--- a/test/form/samples/non-empty-block-statement/_expected/iife.js
+++ b/test/form/samples/non-empty-block-statement/_expected/iife.js
@@ -7,4 +7,4 @@
 	}
 	console.log( tmp );
 
-}());
+})();
diff --git a/test/form/samples/non-empty-block-statement/_expected/system.js b/test/form/samples/non-empty-block-statement/_expected/system.js
index 782deaeb8..c89478c29 100644
--- a/test/form/samples/non-empty-block-statement/_expected/system.js
+++ b/test/form/samples/non-empty-block-statement/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log( 1 );
 			{
@@ -9,6 +9,6 @@ System.register([], function () {
 			}
 			console.log( tmp );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/non-empty-block-statement/_expected/umd.js b/test/form/samples/non-empty-block-statement/_expected/umd.js
index 065115dc2..e374d6816 100644
--- a/test/form/samples/non-empty-block-statement/_expected/umd.js
+++ b/test/form/samples/non-empty-block-statement/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log( 1 );
 	{
@@ -9,4 +9,4 @@
 	}
 	console.log( tmp );
 
-})));
+}));
diff --git a/test/form/samples/ns-external-star-reexport/_expected/amd.js b/test/form/samples/ns-external-star-reexport/_expected/amd.js
index 49a07ca77..163e68b17 100644
--- a/test/form/samples/ns-external-star-reexport/_expected/amd.js
+++ b/test/form/samples/ns-external-star-reexport/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external1', 'external2'], function (exports, external1, external2) { 'use strict';
+define(['exports', 'external1', 'external2'], (function (exports, external1, external2) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,36 +9,52 @@ define(['exports', 'external1', 'external2'], function (exports, external1, exte
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
 		return Object.freeze(n);
 	}
 
 	var external1__namespace = /*#__PURE__*/_interopNamespace(external1);
 	var external2__namespace = /*#__PURE__*/_interopNamespace(external2);
 
-	var reexportExternal = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), external1__namespace));
+	var reexportExternal = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null
+	}, [external1__namespace]));
 
 	const extra = 'extra';
 
 	const override = 'override';
 	var reexportExternalsWithOverride = { synthetic: 'synthetic' };
 
-	var reexportExternalsWithOverride$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), external1__namespace, external2__namespace, reexportExternalsWithOverride, {
+	var reexportExternalsWithOverride$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
 		override: override,
 		'default': reexportExternalsWithOverride,
 		extra: extra
-	}));
+	}, [reexportExternalsWithOverride, external1__namespace, external2__namespace]));
 
 	exports.external = reexportExternal;
 	exports.externalOverride = reexportExternalsWithOverride$1;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/ns-external-star-reexport/_expected/cjs.js b/test/form/samples/ns-external-star-reexport/_expected/cjs.js
index eef8965a5..e76568712 100644
--- a/test/form/samples/ns-external-star-reexport/_expected/cjs.js
+++ b/test/form/samples/ns-external-star-reexport/_expected/cjs.js
@@ -14,32 +14,48 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
+	return Object.freeze(n);
+}
+
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
 	return Object.freeze(n);
 }
 
 var external1__namespace = /*#__PURE__*/_interopNamespace(external1);
 var external2__namespace = /*#__PURE__*/_interopNamespace(external2);
 
-var reexportExternal = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), external1__namespace));
+var reexportExternal = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null
+}, [external1__namespace]));
 
 const extra = 'extra';
 
 const override = 'override';
 var reexportExternalsWithOverride = { synthetic: 'synthetic' };
 
-var reexportExternalsWithOverride$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), external1__namespace, external2__namespace, reexportExternalsWithOverride, {
+var reexportExternalsWithOverride$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
 	override: override,
 	'default': reexportExternalsWithOverride,
 	extra: extra
-}));
+}, [reexportExternalsWithOverride, external1__namespace, external2__namespace]));
 
 exports.external = reexportExternal;
 exports.externalOverride = reexportExternalsWithOverride$1;
diff --git a/test/form/samples/ns-external-star-reexport/_expected/es.js b/test/form/samples/ns-external-star-reexport/_expected/es.js
index ed3032da5..0c2fed91d 100644
--- a/test/form/samples/ns-external-star-reexport/_expected/es.js
+++ b/test/form/samples/ns-external-star-reexport/_expected/es.js
@@ -1,17 +1,35 @@
 import * as external1 from 'external1';
 import * as external2 from 'external2';
 
-var reexportExternal = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), external1));
+function _mergeNamespaces(n, m) {
+	m.forEach(function (e) {
+		Object.keys(e).forEach(function (k) {
+			if (k !== 'default' && !(k in n)) {
+				var d = Object.getOwnPropertyDescriptor(e, k);
+				Object.defineProperty(n, k, d.get ? d : {
+					enumerable: true,
+					get: function () { return e[k]; }
+				});
+			}
+		});
+	});
+	return Object.freeze(n);
+}
+
+var reexportExternal = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null
+}, [external1]));
 
 const extra = 'extra';
 
 const override = 'override';
 var reexportExternalsWithOverride = { synthetic: 'synthetic' };
 
-var reexportExternalsWithOverride$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), external1, external2, reexportExternalsWithOverride, {
+var reexportExternalsWithOverride$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+	__proto__: null,
 	override: override,
 	'default': reexportExternalsWithOverride,
 	extra: extra
-}));
+}, [reexportExternalsWithOverride, external1, external2]));
 
 export { reexportExternal as external, reexportExternalsWithOverride$1 as externalOverride };
diff --git a/test/form/samples/ns-external-star-reexport/_expected/iife.js b/test/form/samples/ns-external-star-reexport/_expected/iife.js
index d1dd79782..4ce0ce244 100644
--- a/test/form/samples/ns-external-star-reexport/_expected/iife.js
+++ b/test/form/samples/ns-external-star-reexport/_expected/iife.js
@@ -10,32 +10,48 @@ var bundle = (function (exports, external1, external2) {
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
 		return Object.freeze(n);
 	}
 
 	var external1__namespace = /*#__PURE__*/_interopNamespace(external1);
 	var external2__namespace = /*#__PURE__*/_interopNamespace(external2);
 
-	var reexportExternal = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), external1__namespace));
+	var reexportExternal = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null
+	}, [external1__namespace]));
 
 	const extra = 'extra';
 
 	const override = 'override';
 	var reexportExternalsWithOverride = { synthetic: 'synthetic' };
 
-	var reexportExternalsWithOverride$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), external1__namespace, external2__namespace, reexportExternalsWithOverride, {
+	var reexportExternalsWithOverride$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
 		override: override,
 		'default': reexportExternalsWithOverride,
 		extra: extra
-	}));
+	}, [reexportExternalsWithOverride, external1__namespace, external2__namespace]));
 
 	exports.external = reexportExternal;
 	exports.externalOverride = reexportExternalsWithOverride$1;
@@ -44,4 +60,4 @@ var bundle = (function (exports, external1, external2) {
 
 	return exports;
 
-}({}, external1, external2));
+})({}, external1, external2);
diff --git a/test/form/samples/ns-external-star-reexport/_expected/system.js b/test/form/samples/ns-external-star-reexport/_expected/system.js
index 6ad689bd7..bbd3a9961 100644
--- a/test/form/samples/ns-external-star-reexport/_expected/system.js
+++ b/test/form/samples/ns-external-star-reexport/_expected/system.js
@@ -1,4 +1,4 @@
-System.register('bundle', ['external1', 'external2'], function (exports) {
+System.register('bundle', ['external1', 'external2'], (function (exports) {
 	'use strict';
 	var external1, external2;
 	return {
@@ -7,9 +7,26 @@ System.register('bundle', ['external1', 'external2'], function (exports) {
 		}, function (module) {
 			external2 = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
-			var reexportExternal = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), external1));
+			function _mergeNamespaces(n, m) {
+				m.forEach(function (e) {
+					Object.keys(e).forEach(function (k) {
+						if (k !== 'default' && !(k in n)) {
+							var d = Object.getOwnPropertyDescriptor(e, k);
+							Object.defineProperty(n, k, d.get ? d : {
+								enumerable: true,
+								get: function () { return e[k]; }
+							});
+						}
+					});
+				});
+				return Object.freeze(n);
+			}
+
+			var reexportExternal = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+				__proto__: null
+			}, [external1]));
 			exports('external', reexportExternal);
 
 			const extra = 'extra';
@@ -17,13 +34,14 @@ System.register('bundle', ['external1', 'external2'], function (exports) {
 			const override = 'override';
 			var reexportExternalsWithOverride = { synthetic: 'synthetic' };
 
-			var reexportExternalsWithOverride$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), external1, external2, reexportExternalsWithOverride, {
+			var reexportExternalsWithOverride$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+				__proto__: null,
 				override: override,
 				'default': reexportExternalsWithOverride,
 				extra: extra
-			}));
+			}, [reexportExternalsWithOverride, external1, external2]));
 			exports('externalOverride', reexportExternalsWithOverride$1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/ns-external-star-reexport/_expected/umd.js b/test/form/samples/ns-external-star-reexport/_expected/umd.js
index 75662d134..410383e2f 100644
--- a/test/form/samples/ns-external-star-reexport/_expected/umd.js
+++ b/test/form/samples/ns-external-star-reexport/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external1'), require('external2')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external1', 'external2'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external1, global.external2));
-}(this, (function (exports, external1, external2) { 'use strict';
+})(this, (function (exports, external1, external2) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -13,36 +13,52 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
+		return Object.freeze(n);
+	}
+
+	function _mergeNamespaces(n, m) {
+		m.forEach(function (e) {
+			Object.keys(e).forEach(function (k) {
+				if (k !== 'default' && !(k in n)) {
+					var d = Object.getOwnPropertyDescriptor(e, k);
+					Object.defineProperty(n, k, d.get ? d : {
+						enumerable: true,
+						get: function () { return e[k]; }
+					});
+				}
+			});
+		});
 		return Object.freeze(n);
 	}
 
 	var external1__namespace = /*#__PURE__*/_interopNamespace(external1);
 	var external2__namespace = /*#__PURE__*/_interopNamespace(external2);
 
-	var reexportExternal = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), external1__namespace));
+	var reexportExternal = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null
+	}, [external1__namespace]));
 
 	const extra = 'extra';
 
 	const override = 'override';
 	var reexportExternalsWithOverride = { synthetic: 'synthetic' };
 
-	var reexportExternalsWithOverride$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), external1__namespace, external2__namespace, reexportExternalsWithOverride, {
+	var reexportExternalsWithOverride$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/_mergeNamespaces({
+		__proto__: null,
 		override: override,
 		'default': reexportExternalsWithOverride,
 		extra: extra
-	}));
+	}, [reexportExternalsWithOverride, external1__namespace, external2__namespace]));
 
 	exports.external = reexportExternal;
 	exports.externalOverride = reexportExternalsWithOverride$1;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/object-destructuring-default-values/_expected/amd.js b/test/form/samples/object-destructuring-default-values/_expected/amd.js
index 257a7650a..9dd564625 100644
--- a/test/form/samples/object-destructuring-default-values/_expected/amd.js
+++ b/test/form/samples/object-destructuring-default-values/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const a = 1;
 	const b = 2;
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 	const [ d = b ] = [];
 	console.log(c, d);
 
-});
+}));
diff --git a/test/form/samples/object-destructuring-default-values/_expected/iife.js b/test/form/samples/object-destructuring-default-values/_expected/iife.js
index 6923ccc80..f2724d6b5 100644
--- a/test/form/samples/object-destructuring-default-values/_expected/iife.js
+++ b/test/form/samples/object-destructuring-default-values/_expected/iife.js
@@ -7,4 +7,4 @@
 	const [ d = b ] = [];
 	console.log(c, d);
 
-}());
+})();
diff --git a/test/form/samples/object-destructuring-default-values/_expected/system.js b/test/form/samples/object-destructuring-default-values/_expected/system.js
index e5b25902b..7e70f0756 100644
--- a/test/form/samples/object-destructuring-default-values/_expected/system.js
+++ b/test/form/samples/object-destructuring-default-values/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const a = 1;
 			const b = 2;
@@ -9,6 +9,6 @@ System.register([], function () {
 			const [ d = b ] = [];
 			console.log(c, d);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/object-destructuring-default-values/_expected/umd.js b/test/form/samples/object-destructuring-default-values/_expected/umd.js
index 6895039f9..00fa49647 100644
--- a/test/form/samples/object-destructuring-default-values/_expected/umd.js
+++ b/test/form/samples/object-destructuring-default-values/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	const a = 1;
 	const b = 2;
@@ -9,4 +9,4 @@
 	const [ d = b ] = [];
 	console.log(c, d);
 
-})));
+}));
diff --git a/test/form/samples/output-named-library/_expected/amd.js b/test/form/samples/output-named-library/_expected/amd.js
index 97d0f9e6b..e7a86ac71 100644
--- a/test/form/samples/output-named-library/_expected/amd.js
+++ b/test/form/samples/output-named-library/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const valueOnLib = 42;
 
@@ -6,4 +6,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/output-named-library/_expected/iife.js b/test/form/samples/output-named-library/_expected/iife.js
index 27d919720..57d5a9a90 100644
--- a/test/form/samples/output-named-library/_expected/iife.js
+++ b/test/form/samples/output-named-library/_expected/iife.js
@@ -9,4 +9,4 @@ var libraryName = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/output-named-library/_expected/system.js b/test/form/samples/output-named-library/_expected/system.js
index c4835fad6..6d8f7eb39 100644
--- a/test/form/samples/output-named-library/_expected/system.js
+++ b/test/form/samples/output-named-library/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('libraryName', [], function (exports) {
+System.register('libraryName', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const valueOnLib = exports('valueOnLib', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/output-named-library/_expected/umd.js b/test/form/samples/output-named-library/_expected/umd.js
index 1f51cad3c..fba8d4bd6 100644
--- a/test/form/samples/output-named-library/_expected/umd.js
+++ b/test/form/samples/output-named-library/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.libraryName = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const valueOnLib = 42;
 
@@ -10,4 +10,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/override-external-namespace/_expected/amd.js b/test/form/samples/override-external-namespace/_expected/amd.js
index 59cf25327..fc03dcf6d 100644
--- a/test/form/samples/override-external-namespace/_expected/amd.js
+++ b/test/form/samples/override-external-namespace/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external'], function (exports, external) { 'use strict';
+define(['exports', 'external'], (function (exports, external) { 'use strict';
 
 	const a = 'defined';
 	exports.b = void 0;
@@ -11,12 +11,10 @@ define(['exports', 'external'], function (exports, external) { 'use strict';
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/override-external-namespace/_expected/cjs.js b/test/form/samples/override-external-namespace/_expected/cjs.js
index 8d1e3ca2c..0facc0aac 100644
--- a/test/form/samples/override-external-namespace/_expected/cjs.js
+++ b/test/form/samples/override-external-namespace/_expected/cjs.js
@@ -15,8 +15,6 @@ exports.reassign = reassign;
 Object.keys(external).forEach(function (k) {
 	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 		enumerable: true,
-		get: function () {
-			return external[k];
-		}
+		get: function () { return external[k]; }
 	});
 });
diff --git a/test/form/samples/override-external-namespace/_expected/iife.js b/test/form/samples/override-external-namespace/_expected/iife.js
index 13f2f93e7..d6e095526 100644
--- a/test/form/samples/override-external-namespace/_expected/iife.js
+++ b/test/form/samples/override-external-namespace/_expected/iife.js
@@ -12,9 +12,7 @@ var bundle = (function (exports, external) {
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
@@ -22,4 +20,4 @@ var bundle = (function (exports, external) {
 
 	return exports;
 
-}({}, external));
+})({}, external);
diff --git a/test/form/samples/override-external-namespace/_expected/system.js b/test/form/samples/override-external-namespace/_expected/system.js
index b263fe89b..94c430185 100644
--- a/test/form/samples/override-external-namespace/_expected/system.js
+++ b/test/form/samples/override-external-namespace/_expected/system.js
@@ -1,21 +1,27 @@
-System.register('bundle', ['external'], function (exports) {
+System.register('bundle', ['external'], (function (exports) {
 	'use strict';
-	var _starExcludes = { a: 1, b: 1, c: 1, reassign: 1, default: 1 };
+	var _starExcludes = {
+		a: 1,
+		b: 1,
+		c: 1,
+		reassign: 1,
+		'default': 1
+	};
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			for (var _$p in module) {
-				if (!_starExcludes[_$p]) _setter[_$p] = module[_$p];
+			var setter = {};
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
 			}
-			exports(_setter);
+			exports(setter);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const a = exports('a', 'defined');
 			let b; exports('b', b);
 			var c; exports('c', c);
 			const reassign = exports('reassign', () => (exports('b', b = 'defined')));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/override-external-namespace/_expected/umd.js b/test/form/samples/override-external-namespace/_expected/umd.js
index cf25f1164..2b09422a4 100644
--- a/test/form/samples/override-external-namespace/_expected/umd.js
+++ b/test/form/samples/override-external-namespace/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external));
-}(this, (function (exports, external) { 'use strict';
+})(this, (function (exports, external) { 'use strict';
 
 	const a = 'defined';
 	exports.b = void 0;
@@ -15,12 +15,10 @@
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/paths-function/_expected/amd.js b/test/form/samples/paths-function/_expected/amd.js
index ecf9c2e31..543e5cd18 100644
--- a/test/form/samples/paths-function/_expected/amd.js
+++ b/test/form/samples/paths-function/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['require', 'https://unpkg.com/foo'], function (require, foo) { 'use strict';
+define(['require', 'https://unpkg.com/foo'], (function (require, foo) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -11,21 +11,19 @@ define(['require', 'https://unpkg.com/foo'], function (require, foo) { 'use stri
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
 	var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
-	assert.equal(foo__default['default'], 42);
+	assert.equal(foo__default["default"], 42);
 
-	new Promise(function (resolve, reject) { require(['https://unpkg.com/foo'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) }).then(({ default: foo }) => assert.equal(foo, 42));
+	new Promise(function (resolve, reject) { require(['https://unpkg.com/foo'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); }).then(({ default: foo }) => assert.equal(foo, 42));
 
-});
+}));
diff --git a/test/form/samples/paths-function/_expected/cjs.js b/test/form/samples/paths-function/_expected/cjs.js
index abb7d8737..d969f9676 100644
--- a/test/form/samples/paths-function/_expected/cjs.js
+++ b/test/form/samples/paths-function/_expected/cjs.js
@@ -13,19 +13,17 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
 var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
-assert.equal(foo__default['default'], 42);
+assert.equal(foo__default["default"], 42);
 
 Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('https://unpkg.com/foo')); }).then(({ default: foo }) => assert.equal(foo, 42));
diff --git a/test/form/samples/paths-function/_expected/iife.js b/test/form/samples/paths-function/_expected/iife.js
index dc653638e..6b77d20d2 100644
--- a/test/form/samples/paths-function/_expected/iife.js
+++ b/test/form/samples/paths-function/_expected/iife.js
@@ -5,8 +5,8 @@
 
 	var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
-	assert.equal(foo__default['default'], 42);
+	assert.equal(foo__default["default"], 42);
 
 	import('https://unpkg.com/foo').then(({ default: foo }) => assert.equal(foo, 42));
 
-}(foo));
+})(foo);
diff --git a/test/form/samples/paths-function/_expected/system.js b/test/form/samples/paths-function/_expected/system.js
index 29215974a..3416ad7eb 100644
--- a/test/form/samples/paths-function/_expected/system.js
+++ b/test/form/samples/paths-function/_expected/system.js
@@ -1,16 +1,16 @@
-System.register(['https://unpkg.com/foo'], function (exports, module) {
+System.register(['https://unpkg.com/foo'], (function (exports, module) {
 	'use strict';
 	var foo;
 	return {
 		setters: [function (module) {
-			foo = module.default;
+			foo = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			assert.equal(foo, 42);
 
 			module.import('https://unpkg.com/foo').then(({ default: foo }) => assert.equal(foo, 42));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/paths-function/_expected/umd.js b/test/form/samples/paths-function/_expected/umd.js
index b3a3b5217..30e358b79 100644
--- a/test/form/samples/paths-function/_expected/umd.js
+++ b/test/form/samples/paths-function/_expected/umd.js
@@ -2,14 +2,14 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('https://unpkg.com/foo')) :
 	typeof define === 'function' && define.amd ? define(['https://unpkg.com/foo'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.foo));
-}(this, (function (foo) { 'use strict';
+})(this, (function (foo) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
-	assert.equal(foo__default['default'], 42);
+	assert.equal(foo__default["default"], 42);
 
 	import('https://unpkg.com/foo').then(({ default: foo }) => assert.equal(foo, 42));
 
-})));
+}));
diff --git a/test/form/samples/paths-relative/_expected/amd.js b/test/form/samples/paths-relative/_expected/amd.js
index d4ade45ac..60262f8e3 100644
--- a/test/form/samples/paths-relative/_expected/amd.js
+++ b/test/form/samples/paths-relative/_expected/amd.js
@@ -1,9 +1,9 @@
-define(['../foo'], function (foo) { 'use strict';
+define(['../foo'], (function (foo) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
-	assert.equal( foo__default['default'], 42 );
+	assert.equal( foo__default["default"], 42 );
 
-});
+}));
diff --git a/test/form/samples/paths-relative/_expected/cjs.js b/test/form/samples/paths-relative/_expected/cjs.js
index cee48cf4d..667b8a6da 100644
--- a/test/form/samples/paths-relative/_expected/cjs.js
+++ b/test/form/samples/paths-relative/_expected/cjs.js
@@ -6,4 +6,4 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
-assert.equal( foo__default['default'], 42 );
+assert.equal( foo__default["default"], 42 );
diff --git a/test/form/samples/paths-relative/_expected/iife.js b/test/form/samples/paths-relative/_expected/iife.js
index c88f5d274..ceea716e8 100644
--- a/test/form/samples/paths-relative/_expected/iife.js
+++ b/test/form/samples/paths-relative/_expected/iife.js
@@ -5,6 +5,6 @@
 
 	var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
-	assert.equal( foo__default['default'], 42 );
+	assert.equal( foo__default["default"], 42 );
 
-}(foo));
+})(foo);
diff --git a/test/form/samples/paths-relative/_expected/system.js b/test/form/samples/paths-relative/_expected/system.js
index 7c4aa9446..801139a43 100644
--- a/test/form/samples/paths-relative/_expected/system.js
+++ b/test/form/samples/paths-relative/_expected/system.js
@@ -1,14 +1,14 @@
-System.register(['../foo'], function () {
+System.register(['../foo'], (function () {
 	'use strict';
 	var foo;
 	return {
 		setters: [function (module) {
-			foo = module.default;
+			foo = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			assert.equal( foo, 42 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/paths-relative/_expected/umd.js b/test/form/samples/paths-relative/_expected/umd.js
index e05e0e73e..141b25fae 100644
--- a/test/form/samples/paths-relative/_expected/umd.js
+++ b/test/form/samples/paths-relative/_expected/umd.js
@@ -2,12 +2,12 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('../foo')) :
 	typeof define === 'function' && define.amd ? define(['../foo'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.foo));
-}(this, (function (foo) { 'use strict';
+})(this, (function (foo) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
-	assert.equal( foo__default['default'], 42 );
+	assert.equal( foo__default["default"], 42 );
 
-})));
+}));
diff --git a/test/form/samples/paths/_expected/amd.js b/test/form/samples/paths/_expected/amd.js
index 0f7d22ca0..ee789d3a0 100644
--- a/test/form/samples/paths/_expected/amd.js
+++ b/test/form/samples/paths/_expected/amd.js
@@ -1,9 +1,9 @@
-define(['https://unpkg.com/foo'], function (foo) { 'use strict';
+define(['https://unpkg.com/foo'], (function (foo) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
-	assert.equal( foo__default['default'], 42 );
+	assert.equal( foo__default["default"], 42 );
 
-});
+}));
diff --git a/test/form/samples/paths/_expected/cjs.js b/test/form/samples/paths/_expected/cjs.js
index bb32a0b4b..beba2a173 100644
--- a/test/form/samples/paths/_expected/cjs.js
+++ b/test/form/samples/paths/_expected/cjs.js
@@ -6,4 +6,4 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
-assert.equal( foo__default['default'], 42 );
+assert.equal( foo__default["default"], 42 );
diff --git a/test/form/samples/paths/_expected/iife.js b/test/form/samples/paths/_expected/iife.js
index c88f5d274..ceea716e8 100644
--- a/test/form/samples/paths/_expected/iife.js
+++ b/test/form/samples/paths/_expected/iife.js
@@ -5,6 +5,6 @@
 
 	var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
-	assert.equal( foo__default['default'], 42 );
+	assert.equal( foo__default["default"], 42 );
 
-}(foo));
+})(foo);
diff --git a/test/form/samples/paths/_expected/system.js b/test/form/samples/paths/_expected/system.js
index b2566c416..70a24a218 100644
--- a/test/form/samples/paths/_expected/system.js
+++ b/test/form/samples/paths/_expected/system.js
@@ -1,14 +1,14 @@
-System.register(['https://unpkg.com/foo'], function () {
+System.register(['https://unpkg.com/foo'], (function () {
 	'use strict';
 	var foo;
 	return {
 		setters: [function (module) {
-			foo = module.default;
+			foo = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			assert.equal( foo, 42 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/paths/_expected/umd.js b/test/form/samples/paths/_expected/umd.js
index 4339fc9ad..7c284a920 100644
--- a/test/form/samples/paths/_expected/umd.js
+++ b/test/form/samples/paths/_expected/umd.js
@@ -2,12 +2,12 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('https://unpkg.com/foo')) :
 	typeof define === 'function' && define.amd ? define(['https://unpkg.com/foo'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.foo));
-}(this, (function (foo) { 'use strict';
+})(this, (function (foo) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var foo__default = /*#__PURE__*/_interopDefaultLegacy(foo);
 
-	assert.equal( foo__default['default'], 42 );
+	assert.equal( foo__default["default"], 42 );
 
-})));
+}));
diff --git a/test/form/samples/pattern-assignments/_expected/amd.js b/test/form/samples/pattern-assignments/_expected/amd.js
index 4659b2dc5..f940a2722 100644
--- a/test/form/samples/pattern-assignments/_expected/amd.js
+++ b/test/form/samples/pattern-assignments/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var effect = () => console.log( 'effect' );
 
@@ -41,4 +41,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/pattern-assignments/_expected/iife.js b/test/form/samples/pattern-assignments/_expected/iife.js
index ac6e218fa..2cbaf0598 100644
--- a/test/form/samples/pattern-assignments/_expected/iife.js
+++ b/test/form/samples/pattern-assignments/_expected/iife.js
@@ -44,4 +44,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/pattern-assignments/_expected/system.js b/test/form/samples/pattern-assignments/_expected/system.js
index caae6eaa4..2ae3b7071 100644
--- a/test/form/samples/pattern-assignments/_expected/system.js
+++ b/test/form/samples/pattern-assignments/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var effect = () => console.log( 'effect' );
 
@@ -37,6 +37,6 @@ System.register('bundle', [], function (exports) {
 			({ x: h } = { x: v });
 			h.foo = 1;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/pattern-assignments/_expected/umd.js b/test/form/samples/pattern-assignments/_expected/umd.js
index ec62ddb36..2b85f898f 100644
--- a/test/form/samples/pattern-assignments/_expected/umd.js
+++ b/test/form/samples/pattern-assignments/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	var effect = () => console.log( 'effect' );
 
@@ -45,4 +45,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/per-output-plugins/_expected/amd.js b/test/form/samples/per-output-plugins/_expected/amd.js
index a12305aff..24bc392cc 100644
--- a/test/form/samples/per-output-plugins/_expected/amd.js
+++ b/test/form/samples/per-output-plugins/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('amd', '!amd!');
 
-});
+}));
diff --git a/test/form/samples/per-output-plugins/_expected/iife.js b/test/form/samples/per-output-plugins/_expected/iife.js
index 42c0f688f..974dd8e4c 100644
--- a/test/form/samples/per-output-plugins/_expected/iife.js
+++ b/test/form/samples/per-output-plugins/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log('iife', '!iife!');
 
-}());
+})();
diff --git a/test/form/samples/per-output-plugins/_expected/system.js b/test/form/samples/per-output-plugins/_expected/system.js
index 600f1bdfb..7649c00c5 100644
--- a/test/form/samples/per-output-plugins/_expected/system.js
+++ b/test/form/samples/per-output-plugins/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('system', '!system!');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/per-output-plugins/_expected/umd.js b/test/form/samples/per-output-plugins/_expected/umd.js
index 0fddc9f20..53d8ad6d1 100644
--- a/test/form/samples/per-output-plugins/_expected/umd.js
+++ b/test/form/samples/per-output-plugins/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log('umd', '!umd!');
 
-})));
+}));
diff --git a/test/form/samples/preserve-debugger/_expected/amd.js b/test/form/samples/preserve-debugger/_expected/amd.js
index be1ef136c..dcbb93a22 100644
--- a/test/form/samples/preserve-debugger/_expected/amd.js
+++ b/test/form/samples/preserve-debugger/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	before();
 	debugger;
 	after();
 
-});
+}));
diff --git a/test/form/samples/preserve-debugger/_expected/iife.js b/test/form/samples/preserve-debugger/_expected/iife.js
index b40a10005..f0a02c250 100644
--- a/test/form/samples/preserve-debugger/_expected/iife.js
+++ b/test/form/samples/preserve-debugger/_expected/iife.js
@@ -5,4 +5,4 @@
 	debugger;
 	after();
 
-}());
+})();
diff --git a/test/form/samples/preserve-debugger/_expected/system.js b/test/form/samples/preserve-debugger/_expected/system.js
index b49364f07..33c02df38 100644
--- a/test/form/samples/preserve-debugger/_expected/system.js
+++ b/test/form/samples/preserve-debugger/_expected/system.js
@@ -1,12 +1,12 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			before();
 			debugger;
 			after();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/preserve-debugger/_expected/umd.js b/test/form/samples/preserve-debugger/_expected/umd.js
index ec1e8a7ad..52994ec2a 100644
--- a/test/form/samples/preserve-debugger/_expected/umd.js
+++ b/test/form/samples/preserve-debugger/_expected/umd.js
@@ -1,10 +1,10 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	before();
 	debugger;
 	after();
 
-})));
+}));
diff --git a/test/form/samples/preserves-comments-after-imports/_expected/amd.js b/test/form/samples/preserves-comments-after-imports/_expected/amd.js
index 8271ac978..66dc63f5c 100644
--- a/test/form/samples/preserves-comments-after-imports/_expected/amd.js
+++ b/test/form/samples/preserves-comments-after-imports/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	/** A comment for a number */
 	var number = 5;
@@ -10,4 +10,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/preserves-comments-after-imports/_expected/iife.js b/test/form/samples/preserves-comments-after-imports/_expected/iife.js
index 8825245de..dc0d9a8c7 100644
--- a/test/form/samples/preserves-comments-after-imports/_expected/iife.js
+++ b/test/form/samples/preserves-comments-after-imports/_expected/iife.js
@@ -13,4 +13,4 @@ var myBundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/preserves-comments-after-imports/_expected/system.js b/test/form/samples/preserves-comments-after-imports/_expected/system.js
index 7a62df55a..165ac8f2e 100644
--- a/test/form/samples/preserves-comments-after-imports/_expected/system.js
+++ b/test/form/samples/preserves-comments-after-imports/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			/** A comment for a number */
 			var number = 5;
@@ -9,6 +9,6 @@ System.register('myBundle', [], function (exports) {
 			/** A comment for obj */
 			var obj = exports('obj', { number });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/preserves-comments-after-imports/_expected/umd.js b/test/form/samples/preserves-comments-after-imports/_expected/umd.js
index 80df01b54..220feb476 100644
--- a/test/form/samples/preserves-comments-after-imports/_expected/umd.js
+++ b/test/form/samples/preserves-comments-after-imports/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	/** A comment for a number */
 	var number = 5;
@@ -14,4 +14,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/probe-external-namespace/_expected/amd.js b/test/form/samples/probe-external-namespace/_expected/amd.js
index 59330b6d7..e8485a523 100644
--- a/test/form/samples/probe-external-namespace/_expected/amd.js
+++ b/test/form/samples/probe-external-namespace/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['external'], function (external) { 'use strict';
+define(['external'], (function (external) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,14 +9,12 @@ define(['external'], function (external) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -24,4 +22,4 @@ define(['external'], function (external) { 'use strict';
 
 	console.log(external__namespace.default, external__namespace.foo);
 
-});
+}));
diff --git a/test/form/samples/probe-external-namespace/_expected/cjs.js b/test/form/samples/probe-external-namespace/_expected/cjs.js
index abd76ee91..1a30279a0 100644
--- a/test/form/samples/probe-external-namespace/_expected/cjs.js
+++ b/test/form/samples/probe-external-namespace/_expected/cjs.js
@@ -11,14 +11,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/form/samples/probe-external-namespace/_expected/iife.js b/test/form/samples/probe-external-namespace/_expected/iife.js
index 596259e1c..2746891b5 100644
--- a/test/form/samples/probe-external-namespace/_expected/iife.js
+++ b/test/form/samples/probe-external-namespace/_expected/iife.js
@@ -10,14 +10,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -25,4 +23,4 @@
 
 	console.log(external__namespace.default, external__namespace.foo);
 
-}(external));
+})(external);
diff --git a/test/form/samples/probe-external-namespace/_expected/system.js b/test/form/samples/probe-external-namespace/_expected/system.js
index c7e7526df..51377ded7 100644
--- a/test/form/samples/probe-external-namespace/_expected/system.js
+++ b/test/form/samples/probe-external-namespace/_expected/system.js
@@ -1,14 +1,14 @@
-System.register(['external'], function () {
+System.register(['external'], (function () {
 	'use strict';
 	var external;
 	return {
 		setters: [function (module) {
 			external = module;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(external.default, external.foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/probe-external-namespace/_expected/umd.js b/test/form/samples/probe-external-namespace/_expected/umd.js
index 7ad9884a5..16822fdea 100644
--- a/test/form/samples/probe-external-namespace/_expected/umd.js
+++ b/test/form/samples/probe-external-namespace/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('external')) :
 	typeof define === 'function' && define.amd ? define(['external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.external));
-}(this, (function (external) { 'use strict';
+})(this, (function (external) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -13,14 +13,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -28,4 +26,4 @@
 
 	console.log(external__namespace.default, external__namespace.foo);
 
-})));
+}));
diff --git a/test/form/samples/protect-cjs-globals/_expected/amd.js b/test/form/samples/protect-cjs-globals/_expected/amd.js
index 9cd996e86..17a88fc54 100644
--- a/test/form/samples/protect-cjs-globals/_expected/amd.js
+++ b/test/form/samples/protect-cjs-globals/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const exports$1 = 1;
 	const require = 2;
@@ -14,4 +14,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/protect-cjs-globals/_expected/iife.js b/test/form/samples/protect-cjs-globals/_expected/iife.js
index e0e8f3366..00172dddd 100644
--- a/test/form/samples/protect-cjs-globals/_expected/iife.js
+++ b/test/form/samples/protect-cjs-globals/_expected/iife.js
@@ -17,4 +17,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/protect-cjs-globals/_expected/system.js b/test/form/samples/protect-cjs-globals/_expected/system.js
index 55f2c5154..8f490b88c 100644
--- a/test/form/samples/protect-cjs-globals/_expected/system.js
+++ b/test/form/samples/protect-cjs-globals/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const exports$1 = exports('exports', 1);
 			const require = exports('require', 2);
@@ -9,6 +9,6 @@ System.register('bundle', [], function (exports) {
 			const __filename = exports('__filename', 4);
 			const __dirname = exports('__dirname', 5);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/protect-cjs-globals/_expected/umd.js b/test/form/samples/protect-cjs-globals/_expected/umd.js
index 933107790..edcfbfc73 100644
--- a/test/form/samples/protect-cjs-globals/_expected/umd.js
+++ b/test/form/samples/protect-cjs-globals/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const exports$1 = 1;
 	const require = 2;
@@ -18,4 +18,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/prune-pure-unused-import-array/_expected/amd.js b/test/form/samples/prune-pure-unused-import-array/_expected/amd.js
index f02c330d4..1115d7e62 100644
--- a/test/form/samples/prune-pure-unused-import-array/_expected/amd.js
+++ b/test/form/samples/prune-pure-unused-import-array/_expected/amd.js
@@ -1,5 +1,5 @@
-define(['other'], function (other) { 'use strict';
+define(['other'], (function (other) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/form/samples/prune-pure-unused-import-array/_expected/iife.js b/test/form/samples/prune-pure-unused-import-array/_expected/iife.js
index 43ef54268..31dfeb95e 100644
--- a/test/form/samples/prune-pure-unused-import-array/_expected/iife.js
+++ b/test/form/samples/prune-pure-unused-import-array/_expected/iife.js
@@ -3,4 +3,4 @@
 
 
 
-}());
+})();
diff --git a/test/form/samples/prune-pure-unused-import-array/_expected/system.js b/test/form/samples/prune-pure-unused-import-array/_expected/system.js
index 44f1ac2d3..b84607966 100644
--- a/test/form/samples/prune-pure-unused-import-array/_expected/system.js
+++ b/test/form/samples/prune-pure-unused-import-array/_expected/system.js
@@ -1,11 +1,11 @@
-System.register(['other'], function () {
+System.register(['other'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/prune-pure-unused-import-array/_expected/umd.js b/test/form/samples/prune-pure-unused-import-array/_expected/umd.js
index 44508fbc3..f0ccb62ab 100644
--- a/test/form/samples/prune-pure-unused-import-array/_expected/umd.js
+++ b/test/form/samples/prune-pure-unused-import-array/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(['other'], factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 
 
-})));
+}));
diff --git a/test/form/samples/prune-pure-unused-import-function/_expected/amd.js b/test/form/samples/prune-pure-unused-import-function/_expected/amd.js
index f02c330d4..1115d7e62 100644
--- a/test/form/samples/prune-pure-unused-import-function/_expected/amd.js
+++ b/test/form/samples/prune-pure-unused-import-function/_expected/amd.js
@@ -1,5 +1,5 @@
-define(['other'], function (other) { 'use strict';
+define(['other'], (function (other) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/form/samples/prune-pure-unused-import-function/_expected/iife.js b/test/form/samples/prune-pure-unused-import-function/_expected/iife.js
index 43ef54268..31dfeb95e 100644
--- a/test/form/samples/prune-pure-unused-import-function/_expected/iife.js
+++ b/test/form/samples/prune-pure-unused-import-function/_expected/iife.js
@@ -3,4 +3,4 @@
 
 
 
-}());
+})();
diff --git a/test/form/samples/prune-pure-unused-import-function/_expected/system.js b/test/form/samples/prune-pure-unused-import-function/_expected/system.js
index 44f1ac2d3..b84607966 100644
--- a/test/form/samples/prune-pure-unused-import-function/_expected/system.js
+++ b/test/form/samples/prune-pure-unused-import-function/_expected/system.js
@@ -1,11 +1,11 @@
-System.register(['other'], function () {
+System.register(['other'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/prune-pure-unused-import-function/_expected/umd.js b/test/form/samples/prune-pure-unused-import-function/_expected/umd.js
index 44508fbc3..f0ccb62ab 100644
--- a/test/form/samples/prune-pure-unused-import-function/_expected/umd.js
+++ b/test/form/samples/prune-pure-unused-import-function/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(['other'], factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 
 
-})));
+}));
diff --git a/test/form/samples/prune-pure-unused-import/_expected/amd.js b/test/form/samples/prune-pure-unused-import/_expected/amd.js
index f9f8229aa..a9e9419e2 100644
--- a/test/form/samples/prune-pure-unused-import/_expected/amd.js
+++ b/test/form/samples/prune-pure-unused-import/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 
 
-});
+}));
diff --git a/test/form/samples/prune-pure-unused-import/_expected/iife.js b/test/form/samples/prune-pure-unused-import/_expected/iife.js
index 43ef54268..31dfeb95e 100644
--- a/test/form/samples/prune-pure-unused-import/_expected/iife.js
+++ b/test/form/samples/prune-pure-unused-import/_expected/iife.js
@@ -3,4 +3,4 @@
 
 
 
-}());
+})();
diff --git a/test/form/samples/prune-pure-unused-import/_expected/system.js b/test/form/samples/prune-pure-unused-import/_expected/system.js
index a702f2b06..343cc3a51 100644
--- a/test/form/samples/prune-pure-unused-import/_expected/system.js
+++ b/test/form/samples/prune-pure-unused-import/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/prune-pure-unused-import/_expected/umd.js b/test/form/samples/prune-pure-unused-import/_expected/umd.js
index 8bf6301d4..a39fba4f3 100644
--- a/test/form/samples/prune-pure-unused-import/_expected/umd.js
+++ b/test/form/samples/prune-pure-unused-import/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 
 
-})));
+}));
diff --git a/test/form/samples/quote-id/_expected/amd.js b/test/form/samples/quote-id/_expected/amd.js
index aba63d8d2..0f4d352f0 100644
--- a/test/form/samples/quote-id/_expected/amd.js
+++ b/test/form/samples/quote-id/_expected/amd.js
@@ -1,7 +1,7 @@
 define(['quoted\'\
\
 \\external1', './quoted\'\
\
-\\external2', './C:/File/Path'], function (quoted_____external1, quoted_____external2, Path_js) { 'use strict';
+\\external2', './C:/File/Path'], (function (quoted_____external1, quoted_____external2, Path_js) { 'use strict';
 
 	console.log(quoted_____external1.foo, quoted_____external2.bar, Path_js.baz);
 
-});
+}));
diff --git a/test/form/samples/quote-id/_expected/iife.js b/test/form/samples/quote-id/_expected/iife.js
index 2ba4ceac1..497fa5304 100644
--- a/test/form/samples/quote-id/_expected/iife.js
+++ b/test/form/samples/quote-id/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log(quoted_____external1.foo, quoted_____external2.bar, Path_js.baz);
 
-}(quotedExternal1, quotedExternal2, quotedExternal3));
+})(quotedExternal1, quotedExternal2, quotedExternal3);
diff --git a/test/form/samples/quote-id/_expected/system.js b/test/form/samples/quote-id/_expected/system.js
index 2043821f0..f5a9740eb 100644
--- a/test/form/samples/quote-id/_expected/system.js
+++ b/test/form/samples/quote-id/_expected/system.js
@@ -1,6 +1,6 @@
 System.register('Q', ['quoted\'\
\
 \\external1', './quoted\'\
\
-\\external2', './C:/File/Path.js'], function () {
+\\external2', './C:/File/Path.js'], (function () {
 	'use strict';
 	var foo, bar, baz;
 	return {
@@ -11,10 +11,10 @@ System.register('Q', ['quoted\'\
\
 		}, function (module) {
 			baz = module.baz;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo, bar, baz);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/quote-id/_expected/umd.js b/test/form/samples/quote-id/_expected/umd.js
index f59f3c56c..fb276a03c 100644
--- a/test/form/samples/quote-id/_expected/umd.js
+++ b/test/form/samples/quote-id/_expected/umd.js
@@ -6,8 +6,8 @@
 \\external1', './quoted\'\
\
 \\external2', './C:/File/Path'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.quotedExternal1, global.quotedExternal2, global.quotedExternal3));
-}(this, (function (quoted_____external1, quoted_____external2, Path_js) { 'use strict';
+})(this, (function (quoted_____external1, quoted_____external2, Path_js) { 'use strict';
 
 	console.log(quoted_____external1.foo, quoted_____external2.bar, Path_js.baz);
 
-})));
+}));
diff --git a/test/form/samples/re-export-aliasing/_expected/amd.js b/test/form/samples/re-export-aliasing/_expected/amd.js
index 18490b4af..fc944e560 100644
--- a/test/form/samples/re-export-aliasing/_expected/amd.js
+++ b/test/form/samples/re-export-aliasing/_expected/amd.js
@@ -1,14 +1,12 @@
-define(['exports', 'd'], function (exports, d) { 'use strict';
+define(['exports', 'd'], (function (exports, d) { 'use strict';
 
 
 
 	Object.defineProperty(exports, 'b', {
 		enumerable: true,
-		get: function () {
-			return d.d;
-		}
+		get: function () { return d.d; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/re-export-aliasing/_expected/cjs.js b/test/form/samples/re-export-aliasing/_expected/cjs.js
index a58244260..4daace86d 100644
--- a/test/form/samples/re-export-aliasing/_expected/cjs.js
+++ b/test/form/samples/re-export-aliasing/_expected/cjs.js
@@ -8,7 +8,5 @@ var d = require('d');
 
 Object.defineProperty(exports, 'b', {
 	enumerable: true,
-	get: function () {
-		return d.d;
-	}
+	get: function () { return d.d; }
 });
diff --git a/test/form/samples/re-export-aliasing/_expected/iife.js b/test/form/samples/re-export-aliasing/_expected/iife.js
index a18624c85..4271c7806 100644
--- a/test/form/samples/re-export-aliasing/_expected/iife.js
+++ b/test/form/samples/re-export-aliasing/_expected/iife.js
@@ -5,13 +5,11 @@ var reexportsAliasingExternal = (function (exports, d) {
 
 	Object.defineProperty(exports, 'b', {
 		enumerable: true,
-		get: function () {
-			return d.d;
-		}
+		get: function () { return d.d; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
 	return exports;
 
-}({}, d));
+})({}, d);
diff --git a/test/form/samples/re-export-aliasing/_expected/system.js b/test/form/samples/re-export-aliasing/_expected/system.js
index 8e40d2152..4b0f46cff 100644
--- a/test/form/samples/re-export-aliasing/_expected/system.js
+++ b/test/form/samples/re-export-aliasing/_expected/system.js
@@ -1,13 +1,13 @@
-System.register('reexportsAliasingExternal', ['d'], function (exports) {
+System.register('reexportsAliasingExternal', ['d'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('b', module.d);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/re-export-aliasing/_expected/umd.js b/test/form/samples/re-export-aliasing/_expected/umd.js
index b3d0d9021..ac9465b82 100644
--- a/test/form/samples/re-export-aliasing/_expected/umd.js
+++ b/test/form/samples/re-export-aliasing/_expected/umd.js
@@ -2,15 +2,13 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'd'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.reexportsAliasingExternal = {}, global.d));
-}(this, (function (exports, d) { 'use strict';
+})(this, (function (exports, d) { 'use strict';
 
 	Object.defineProperty(exports, 'b', {
 		enumerable: true,
-		get: function () {
-			return d.d;
-		}
+		get: function () { return d.d; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/reassigned-exported-functions-and-classes/_expected/amd.js b/test/form/samples/reassigned-exported-functions-and-classes/_expected/amd.js
index 5daa7ae0d..b65b3e3e6 100644
--- a/test/form/samples/reassigned-exported-functions-and-classes/_expected/amd.js
+++ b/test/form/samples/reassigned-exported-functions-and-classes/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	function foo () {}
 	foo = 1;
@@ -11,4 +11,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/reassigned-exported-functions-and-classes/_expected/iife.js b/test/form/samples/reassigned-exported-functions-and-classes/_expected/iife.js
index 7c826511a..d5c240602 100644
--- a/test/form/samples/reassigned-exported-functions-and-classes/_expected/iife.js
+++ b/test/form/samples/reassigned-exported-functions-and-classes/_expected/iife.js
@@ -14,4 +14,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/reassigned-exported-functions-and-classes/_expected/system.js b/test/form/samples/reassigned-exported-functions-and-classes/_expected/system.js
index 2529a18ce..6b5bda690 100644
--- a/test/form/samples/reassigned-exported-functions-and-classes/_expected/system.js
+++ b/test/form/samples/reassigned-exported-functions-and-classes/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('foo', foo);
 
@@ -11,6 +11,6 @@ System.register('bundle', [], function (exports) {
 			class bar {} exports('bar', bar);
 			exports('bar', bar = 1);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/reassigned-exported-functions-and-classes/_expected/umd.js b/test/form/samples/reassigned-exported-functions-and-classes/_expected/umd.js
index e869a2125..453e5038a 100644
--- a/test/form/samples/reassigned-exported-functions-and-classes/_expected/umd.js
+++ b/test/form/samples/reassigned-exported-functions-and-classes/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	function foo () {}
 	foo = 1;
@@ -15,4 +15,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/reexport-external-default-and-name/_expected/amd.js b/test/form/samples/reexport-external-default-and-name/_expected/amd.js
index facbd2338..40325134b 100644
--- a/test/form/samples/reexport-external-default-and-name/_expected/amd.js
+++ b/test/form/samples/reexport-external-default-and-name/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external'], function (exports, external) { 'use strict';
+define(['exports', 'external'], (function (exports, external) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -8,12 +8,10 @@ define(['exports', 'external'], function (exports, external) { 'use strict';
 
 	Object.defineProperty(exports, 'default', {
 		enumerable: true,
-		get: function () {
-			return external__default['default'];
-		}
+		get: function () { return external__default["default"]; }
 	});
 	exports.value = value;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/reexport-external-default-and-name/_expected/cjs.js b/test/form/samples/reexport-external-default-and-name/_expected/cjs.js
index ea9f06c5d..31a03a899 100644
--- a/test/form/samples/reexport-external-default-and-name/_expected/cjs.js
+++ b/test/form/samples/reexport-external-default-and-name/_expected/cjs.js
@@ -12,8 +12,6 @@ const value = 42;
 
 Object.defineProperty(exports, 'default', {
 	enumerable: true,
-	get: function () {
-		return external__default['default'];
-	}
+	get: function () { return external__default["default"]; }
 });
 exports.value = value;
diff --git a/test/form/samples/reexport-external-default-and-name/_expected/iife.js b/test/form/samples/reexport-external-default-and-name/_expected/iife.js
index 0208526b5..b7744b975 100644
--- a/test/form/samples/reexport-external-default-and-name/_expected/iife.js
+++ b/test/form/samples/reexport-external-default-and-name/_expected/iife.js
@@ -9,9 +9,7 @@ var bundle = (function (exports, external) {
 
 	Object.defineProperty(exports, 'default', {
 		enumerable: true,
-		get: function () {
-			return external__default['default'];
-		}
+		get: function () { return external__default["default"]; }
 	});
 	exports.value = value;
 
@@ -19,4 +17,4 @@ var bundle = (function (exports, external) {
 
 	return exports;
 
-}({}, external));
+})({}, external);
diff --git a/test/form/samples/reexport-external-default-and-name/_expected/system.js b/test/form/samples/reexport-external-default-and-name/_expected/system.js
index 8791e72c5..df3c5243e 100644
--- a/test/form/samples/reexport-external-default-and-name/_expected/system.js
+++ b/test/form/samples/reexport-external-default-and-name/_expected/system.js
@@ -1,13 +1,13 @@
-System.register('bundle', ['external'], function (exports) {
+System.register('bundle', ['external'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('default', module.default);
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const value = exports('value', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/reexport-external-default-and-name/_expected/umd.js b/test/form/samples/reexport-external-default-and-name/_expected/umd.js
index 9710b5858..36a06a5b2 100644
--- a/test/form/samples/reexport-external-default-and-name/_expected/umd.js
+++ b/test/form/samples/reexport-external-default-and-name/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external));
-}(this, (function (exports, external) { 'use strict';
+})(this, (function (exports, external) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -12,12 +12,10 @@
 
 	Object.defineProperty(exports, 'default', {
 		enumerable: true,
-		get: function () {
-			return external__default['default'];
-		}
+		get: function () { return external__default["default"]; }
 	});
 	exports.value = value;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/reexport-external-default-and-namespace/_expected/amd.js b/test/form/samples/reexport-external-default-and-namespace/_expected/amd.js
index 216558ef8..bef57a93e 100644
--- a/test/form/samples/reexport-external-default-and-namespace/_expected/amd.js
+++ b/test/form/samples/reexport-external-default-and-namespace/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external'], function (exports, external) { 'use strict';
+define(['exports', 'external'], (function (exports, external) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -8,19 +8,15 @@ define(['exports', 'external'], function (exports, external) { 'use strict';
 
 	Object.defineProperty(exports, 'default', {
 		enumerable: true,
-		get: function () {
-			return external__default['default'];
-		}
+		get: function () { return external__default["default"]; }
 	});
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/reexport-external-default-and-namespace/_expected/cjs.js b/test/form/samples/reexport-external-default-and-namespace/_expected/cjs.js
index 2099b57d6..16014241f 100644
--- a/test/form/samples/reexport-external-default-and-namespace/_expected/cjs.js
+++ b/test/form/samples/reexport-external-default-and-namespace/_expected/cjs.js
@@ -12,15 +12,11 @@ var external__default = /*#__PURE__*/_interopDefaultLegacy(external);
 
 Object.defineProperty(exports, 'default', {
 	enumerable: true,
-	get: function () {
-		return external__default['default'];
-	}
+	get: function () { return external__default["default"]; }
 });
 Object.keys(external).forEach(function (k) {
 	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 		enumerable: true,
-		get: function () {
-			return external[k];
-		}
+		get: function () { return external[k]; }
 	});
 });
diff --git a/test/form/samples/reexport-external-default-and-namespace/_expected/iife.js b/test/form/samples/reexport-external-default-and-namespace/_expected/iife.js
index 58def2bf9..17b06ab48 100644
--- a/test/form/samples/reexport-external-default-and-namespace/_expected/iife.js
+++ b/test/form/samples/reexport-external-default-and-namespace/_expected/iife.js
@@ -9,16 +9,12 @@ var bundle = (function (exports, external) {
 
 	Object.defineProperty(exports, 'default', {
 		enumerable: true,
-		get: function () {
-			return external__default['default'];
-		}
+		get: function () { return external__default["default"]; }
 	});
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
@@ -26,4 +22,4 @@ var bundle = (function (exports, external) {
 
 	return exports;
 
-}({}, external));
+})({}, external);
diff --git a/test/form/samples/reexport-external-default-and-namespace/_expected/system.js b/test/form/samples/reexport-external-default-and-namespace/_expected/system.js
index 35e2ee4b4..739f1bc82 100644
--- a/test/form/samples/reexport-external-default-and-namespace/_expected/system.js
+++ b/test/form/samples/reexport-external-default-and-namespace/_expected/system.js
@@ -1,19 +1,20 @@
-System.register('bundle', ['external'], function (exports) {
+System.register('bundle', ['external'], (function (exports) {
 	'use strict';
-	var _starExcludes = { default: 1 };
+	var _starExcludes = {
+		'default': 1
+	};
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			for (var _$p in module) {
-				if (!_starExcludes[_$p]) _setter[_$p] = module[_$p];
+			var setter = { 'default': module["default"] };
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
 			}
-			_setter.default = module.default;
-			exports(_setter);
+			exports(setter);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/reexport-external-default-and-namespace/_expected/umd.js b/test/form/samples/reexport-external-default-and-namespace/_expected/umd.js
index 30244c5b7..777bb36d0 100644
--- a/test/form/samples/reexport-external-default-and-namespace/_expected/umd.js
+++ b/test/form/samples/reexport-external-default-and-namespace/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external));
-}(this, (function (exports, external) { 'use strict';
+})(this, (function (exports, external) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -12,19 +12,15 @@
 
 	Object.defineProperty(exports, 'default', {
 		enumerable: true,
-		get: function () {
-			return external__default['default'];
-		}
+		get: function () { return external__default["default"]; }
 	});
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/reexport-external-default-as-name-and-name/_expected/amd.js b/test/form/samples/reexport-external-default-as-name-and-name/_expected/amd.js
index b93f9e149..f367b42a0 100644
--- a/test/form/samples/reexport-external-default-as-name-and-name/_expected/amd.js
+++ b/test/form/samples/reexport-external-default-as-name-and-name/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external'], function (exports, external) { 'use strict';
+define(['exports', 'external'], (function (exports, external) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -8,11 +8,9 @@ define(['exports', 'external'], function (exports, external) { 'use strict';
 
 	Object.defineProperty(exports, 'reexported', {
 		enumerable: true,
-		get: function () {
-			return external__default['default'];
-		}
+		get: function () { return external__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/reexport-external-default-as-name-and-name/_expected/cjs.js b/test/form/samples/reexport-external-default-as-name-and-name/_expected/cjs.js
index 85b68bffb..16a8c9fdb 100644
--- a/test/form/samples/reexport-external-default-as-name-and-name/_expected/cjs.js
+++ b/test/form/samples/reexport-external-default-as-name-and-name/_expected/cjs.js
@@ -12,7 +12,5 @@ console.log(external.value);
 
 Object.defineProperty(exports, 'reexported', {
 	enumerable: true,
-	get: function () {
-		return external__default['default'];
-	}
+	get: function () { return external__default["default"]; }
 });
diff --git a/test/form/samples/reexport-external-default-as-name-and-name/_expected/iife.js b/test/form/samples/reexport-external-default-as-name-and-name/_expected/iife.js
index 71585cd9a..9bce7aafc 100644
--- a/test/form/samples/reexport-external-default-as-name-and-name/_expected/iife.js
+++ b/test/form/samples/reexport-external-default-as-name-and-name/_expected/iife.js
@@ -9,13 +9,11 @@ var bundle = (function (exports, external) {
 
 	Object.defineProperty(exports, 'reexported', {
 		enumerable: true,
-		get: function () {
-			return external__default['default'];
-		}
+		get: function () { return external__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
 	return exports;
 
-}({}, external));
+})({}, external);
diff --git a/test/form/samples/reexport-external-default-as-name-and-name/_expected/system.js b/test/form/samples/reexport-external-default-as-name-and-name/_expected/system.js
index 1b3c4676d..17a63ad03 100644
--- a/test/form/samples/reexport-external-default-as-name-and-name/_expected/system.js
+++ b/test/form/samples/reexport-external-default-as-name-and-name/_expected/system.js
@@ -1,15 +1,15 @@
-System.register('bundle', ['external'], function (exports) {
+System.register('bundle', ['external'], (function (exports) {
 	'use strict';
 	var value;
 	return {
 		setters: [function (module) {
 			value = module.value;
-			exports('reexported', module.default);
+			exports('reexported', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(value);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/reexport-external-default-as-name-and-name/_expected/umd.js b/test/form/samples/reexport-external-default-as-name-and-name/_expected/umd.js
index aded447b9..1a9002396 100644
--- a/test/form/samples/reexport-external-default-as-name-and-name/_expected/umd.js
+++ b/test/form/samples/reexport-external-default-as-name-and-name/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external));
-}(this, (function (exports, external) { 'use strict';
+})(this, (function (exports, external) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -12,11 +12,9 @@
 
 	Object.defineProperty(exports, 'reexported', {
 		enumerable: true,
-		get: function () {
-			return external__default['default'];
-		}
+		get: function () { return external__default["default"]; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/reexport-external-default/_expected/amd.js b/test/form/samples/reexport-external-default/_expected/amd.js
index 5f65595d5..3ef689122 100644
--- a/test/form/samples/reexport-external-default/_expected/amd.js
+++ b/test/form/samples/reexport-external-default/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['external1', 'external2'], function (external1, external2) { 'use strict';
+define(['external1', 'external2'], (function (external1, external2) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -6,6 +6,6 @@ define(['external1', 'external2'], function (external1, external2) { 'use strict
 
 	console.log(external1.foo);
 
-	return external2__default['default'];
+	return external2__default["default"];
 
-});
+}));
diff --git a/test/form/samples/reexport-external-default/_expected/cjs.js b/test/form/samples/reexport-external-default/_expected/cjs.js
index 750215f9a..628f56311 100644
--- a/test/form/samples/reexport-external-default/_expected/cjs.js
+++ b/test/form/samples/reexport-external-default/_expected/cjs.js
@@ -9,4 +9,4 @@ var external2__default = /*#__PURE__*/_interopDefaultLegacy(external2);
 
 console.log(external1.foo);
 
-module.exports = external2__default['default'];
+module.exports = external2__default["default"];
diff --git a/test/form/samples/reexport-external-default/_expected/iife.js b/test/form/samples/reexport-external-default/_expected/iife.js
index 792709f88..674febd3b 100644
--- a/test/form/samples/reexport-external-default/_expected/iife.js
+++ b/test/form/samples/reexport-external-default/_expected/iife.js
@@ -7,6 +7,6 @@ var bundle = (function (external1, external2) {
 
 	console.log(external1.foo);
 
-	return external2__default['default'];
+	return external2__default["default"];
 
-}(external1, external2));
+})(external1, external2);
diff --git a/test/form/samples/reexport-external-default/_expected/system.js b/test/form/samples/reexport-external-default/_expected/system.js
index 42d170c3d..001c24f58 100644
--- a/test/form/samples/reexport-external-default/_expected/system.js
+++ b/test/form/samples/reexport-external-default/_expected/system.js
@@ -1,16 +1,16 @@
-System.register('bundle', ['external1', 'external2'], function (exports) {
+System.register('bundle', ['external1', 'external2'], (function (exports) {
 	'use strict';
 	var foo;
 	return {
 		setters: [function (module) {
 			foo = module.foo;
 		}, function (module) {
-			exports('default', module.default);
+			exports('default', module["default"]);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(foo);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/reexport-external-default/_expected/umd.js b/test/form/samples/reexport-external-default/_expected/umd.js
index 3877fdf1f..c2c0d3fd8 100644
--- a/test/form/samples/reexport-external-default/_expected/umd.js
+++ b/test/form/samples/reexport-external-default/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('external1'), require('external2')) :
 	typeof define === 'function' && define.amd ? define(['external1', 'external2'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.bundle = factory(global.external1, global.external2));
-}(this, (function (external1, external2) { 'use strict';
+})(this, (function (external1, external2) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -10,6 +10,6 @@
 
 	console.log(external1.foo);
 
-	return external2__default['default'];
+	return external2__default["default"];
 
-})));
+}));
diff --git a/test/form/samples/reexport-external-name-as-default/_expected/amd.js b/test/form/samples/reexport-external-name-as-default/_expected/amd.js
index ccae88039..8b3d2903c 100644
--- a/test/form/samples/reexport-external-name-as-default/_expected/amd.js
+++ b/test/form/samples/reexport-external-name-as-default/_expected/amd.js
@@ -1,7 +1,7 @@
-define(['external'], function (external) { 'use strict';
+define(['external'], (function (external) { 'use strict';
 
 
 
 	return external.value;
 
-});
+}));
diff --git a/test/form/samples/reexport-external-name-as-default/_expected/iife.js b/test/form/samples/reexport-external-name-as-default/_expected/iife.js
index fc92c3481..9809edc57 100644
--- a/test/form/samples/reexport-external-name-as-default/_expected/iife.js
+++ b/test/form/samples/reexport-external-name-as-default/_expected/iife.js
@@ -5,4 +5,4 @@ var bundle = (function (external) {
 
 	return external.value;
 
-}(external));
+})(external);
diff --git a/test/form/samples/reexport-external-name-as-default/_expected/system.js b/test/form/samples/reexport-external-name-as-default/_expected/system.js
index 3c99a21cd..b8bfe4aa1 100644
--- a/test/form/samples/reexport-external-name-as-default/_expected/system.js
+++ b/test/form/samples/reexport-external-name-as-default/_expected/system.js
@@ -1,13 +1,13 @@
-System.register('bundle', ['external'], function (exports) {
+System.register('bundle', ['external'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('default', module.value);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/reexport-external-name-as-default/_expected/umd.js b/test/form/samples/reexport-external-name-as-default/_expected/umd.js
index 1523f34d4..59bd083e1 100644
--- a/test/form/samples/reexport-external-name-as-default/_expected/umd.js
+++ b/test/form/samples/reexport-external-name-as-default/_expected/umd.js
@@ -2,8 +2,8 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('external')) :
 	typeof define === 'function' && define.amd ? define(['external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.bundle = factory(global.external));
-}(this, (function (external) { 'use strict';
+})(this, (function (external) { 'use strict';
 
 	return external.value;
 
-})));
+}));
diff --git a/test/form/samples/reexport-external-name-as-default2/_expected/amd.js b/test/form/samples/reexport-external-name-as-default2/_expected/amd.js
index 0e8dc344c..073ba059c 100644
--- a/test/form/samples/reexport-external-name-as-default2/_expected/amd.js
+++ b/test/form/samples/reexport-external-name-as-default2/_expected/amd.js
@@ -1,7 +1,7 @@
-define(['external'], function (external) { 'use strict';
+define(['external'], (function (external) { 'use strict';
 
 
 
 	return external.objAlias;
 
-});
+}));
diff --git a/test/form/samples/reexport-external-name-as-default2/_expected/iife.js b/test/form/samples/reexport-external-name-as-default2/_expected/iife.js
index 10d6c813a..c6248bf83 100644
--- a/test/form/samples/reexport-external-name-as-default2/_expected/iife.js
+++ b/test/form/samples/reexport-external-name-as-default2/_expected/iife.js
@@ -5,4 +5,4 @@ var bundle = (function (external) {
 
 	return external.objAlias;
 
-}(external));
+})(external);
diff --git a/test/form/samples/reexport-external-name-as-default2/_expected/system.js b/test/form/samples/reexport-external-name-as-default2/_expected/system.js
index 9b52f598e..e3e0b8d8c 100644
--- a/test/form/samples/reexport-external-name-as-default2/_expected/system.js
+++ b/test/form/samples/reexport-external-name-as-default2/_expected/system.js
@@ -1,13 +1,13 @@
-System.register('bundle', ['external'], function (exports) {
+System.register('bundle', ['external'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
 			exports('default', module.objAlias);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/reexport-external-name-as-default2/_expected/umd.js b/test/form/samples/reexport-external-name-as-default2/_expected/umd.js
index 38e63b114..ab53ac88b 100644
--- a/test/form/samples/reexport-external-name-as-default2/_expected/umd.js
+++ b/test/form/samples/reexport-external-name-as-default2/_expected/umd.js
@@ -2,8 +2,8 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('external')) :
 	typeof define === 'function' && define.amd ? define(['external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.bundle = factory(global.external));
-}(this, (function (external) { 'use strict';
+})(this, (function (external) { 'use strict';
 
 	return external.objAlias;
 
-})));
+}));
diff --git a/test/form/samples/reexport-external-name/_expected/amd.js b/test/form/samples/reexport-external-name/_expected/amd.js
index 4f91cd0a7..4ab93afab 100644
--- a/test/form/samples/reexport-external-name/_expected/amd.js
+++ b/test/form/samples/reexport-external-name/_expected/amd.js
@@ -1,20 +1,16 @@
-define(['exports', 'external1', 'external2'], function (exports, external1, external2) { 'use strict';
+define(['exports', 'external1', 'external2'], (function (exports, external1, external2) { 'use strict';
 
 
 
 	Object.defineProperty(exports, 'foo', {
 		enumerable: true,
-		get: function () {
-			return external1.foo;
-		}
+		get: function () { return external1.foo; }
 	});
 	Object.defineProperty(exports, 'bar', {
 		enumerable: true,
-		get: function () {
-			return external2.foo;
-		}
+		get: function () { return external2.foo; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/reexport-external-name/_expected/cjs.js b/test/form/samples/reexport-external-name/_expected/cjs.js
index 06061bbe9..7c751b913 100644
--- a/test/form/samples/reexport-external-name/_expected/cjs.js
+++ b/test/form/samples/reexport-external-name/_expected/cjs.js
@@ -9,13 +9,9 @@ var external2 = require('external2');
 
 Object.defineProperty(exports, 'foo', {
 	enumerable: true,
-	get: function () {
-		return external1.foo;
-	}
+	get: function () { return external1.foo; }
 });
 Object.defineProperty(exports, 'bar', {
 	enumerable: true,
-	get: function () {
-		return external2.foo;
-	}
+	get: function () { return external2.foo; }
 });
diff --git a/test/form/samples/reexport-external-name/_expected/iife.js b/test/form/samples/reexport-external-name/_expected/iife.js
index eb09e7a08..6c685860a 100644
--- a/test/form/samples/reexport-external-name/_expected/iife.js
+++ b/test/form/samples/reexport-external-name/_expected/iife.js
@@ -5,19 +5,15 @@ var bundle = (function (exports, external1, external2) {
 
 	Object.defineProperty(exports, 'foo', {
 		enumerable: true,
-		get: function () {
-			return external1.foo;
-		}
+		get: function () { return external1.foo; }
 	});
 	Object.defineProperty(exports, 'bar', {
 		enumerable: true,
-		get: function () {
-			return external2.foo;
-		}
+		get: function () { return external2.foo; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
 	return exports;
 
-}({}, external1, external2));
+})({}, external1, external2);
diff --git a/test/form/samples/reexport-external-name/_expected/system.js b/test/form/samples/reexport-external-name/_expected/system.js
index 73367c2fc..525b87018 100644
--- a/test/form/samples/reexport-external-name/_expected/system.js
+++ b/test/form/samples/reexport-external-name/_expected/system.js
@@ -1,4 +1,4 @@
-System.register('bundle', ['external1', 'external2'], function (exports) {
+System.register('bundle', ['external1', 'external2'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
@@ -6,10 +6,10 @@ System.register('bundle', ['external1', 'external2'], function (exports) {
 		}, function (module) {
 			exports('bar', module.foo);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/reexport-external-name/_expected/umd.js b/test/form/samples/reexport-external-name/_expected/umd.js
index e9747b3fd..cc485108d 100644
--- a/test/form/samples/reexport-external-name/_expected/umd.js
+++ b/test/form/samples/reexport-external-name/_expected/umd.js
@@ -2,21 +2,17 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external1'), require('external2')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external1', 'external2'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external1, global.external2));
-}(this, (function (exports, external1, external2) { 'use strict';
+})(this, (function (exports, external1, external2) { 'use strict';
 
 	Object.defineProperty(exports, 'foo', {
 		enumerable: true,
-		get: function () {
-			return external1.foo;
-		}
+		get: function () { return external1.foo; }
 	});
 	Object.defineProperty(exports, 'bar', {
 		enumerable: true,
-		get: function () {
-			return external2.foo;
-		}
+		get: function () { return external2.foo; }
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/reexport-external-namespace-as/_expected/amd.js b/test/form/samples/reexport-external-namespace-as/_expected/amd.js
index aecab9ce3..6a8da8f21 100644
--- a/test/form/samples/reexport-external-namespace-as/_expected/amd.js
+++ b/test/form/samples/reexport-external-namespace-as/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external'], function (exports, external) { 'use strict';
+define(['exports', 'external'], (function (exports, external) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,14 +9,12 @@ define(['exports', 'external'], function (exports, external) { 'use strict';
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -29,4 +27,4 @@ define(['exports', 'external'], function (exports, external) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/reexport-external-namespace-as/_expected/cjs.js b/test/form/samples/reexport-external-namespace-as/_expected/cjs.js
index 0a67fd346..29d62663a 100644
--- a/test/form/samples/reexport-external-namespace-as/_expected/cjs.js
+++ b/test/form/samples/reexport-external-namespace-as/_expected/cjs.js
@@ -13,14 +13,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/form/samples/reexport-external-namespace-as/_expected/iife.js b/test/form/samples/reexport-external-namespace-as/_expected/iife.js
index 15e7f8e87..9a4f33e17 100644
--- a/test/form/samples/reexport-external-namespace-as/_expected/iife.js
+++ b/test/form/samples/reexport-external-namespace-as/_expected/iife.js
@@ -10,14 +10,12 @@ var bundle = (function (exports, external) {
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -32,4 +30,4 @@ var bundle = (function (exports, external) {
 
 	return exports;
 
-}({}, external));
+})({}, external);
diff --git a/test/form/samples/reexport-external-namespace-as/_expected/system.js b/test/form/samples/reexport-external-namespace-as/_expected/system.js
index 7b2e8f3cd..b54d0ef3e 100644
--- a/test/form/samples/reexport-external-namespace-as/_expected/system.js
+++ b/test/form/samples/reexport-external-namespace-as/_expected/system.js
@@ -1,14 +1,13 @@
-System.register('bundle', ['external'], function (exports) {
+System.register('bundle', ['external'], (function (exports) {
 	'use strict';
 	return {
 		setters: [function (module) {
-			exports('external', module);
-			exports('indirect', module);
+			exports({ external: module, indirect: module });
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/reexport-external-namespace-as/_expected/umd.js b/test/form/samples/reexport-external-namespace-as/_expected/umd.js
index fb54e08e5..6e33d4448 100644
--- a/test/form/samples/reexport-external-namespace-as/_expected/umd.js
+++ b/test/form/samples/reexport-external-namespace-as/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external));
-}(this, (function (exports, external) { 'use strict';
+})(this, (function (exports, external) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -13,14 +13,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -33,4 +31,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/reexport-external-namespace/_expected/amd.js b/test/form/samples/reexport-external-namespace/_expected/amd.js
index c093b8b7f..6431ea29f 100644
--- a/test/form/samples/reexport-external-namespace/_expected/amd.js
+++ b/test/form/samples/reexport-external-namespace/_expected/amd.js
@@ -1,16 +1,14 @@
-define(['exports', 'external'], function (exports, external) { 'use strict';
+define(['exports', 'external'], (function (exports, external) { 'use strict';
 
 
 
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/reexport-external-namespace/_expected/cjs.js b/test/form/samples/reexport-external-namespace/_expected/cjs.js
index e2a1380e6..c7424a46c 100644
--- a/test/form/samples/reexport-external-namespace/_expected/cjs.js
+++ b/test/form/samples/reexport-external-namespace/_expected/cjs.js
@@ -9,8 +9,6 @@ var external = require('external');
 Object.keys(external).forEach(function (k) {
 	if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 		enumerable: true,
-		get: function () {
-			return external[k];
-		}
+		get: function () { return external[k]; }
 	});
 });
diff --git a/test/form/samples/reexport-external-namespace/_expected/iife.js b/test/form/samples/reexport-external-namespace/_expected/iife.js
index 2a5162801..a6f3b8c78 100644
--- a/test/form/samples/reexport-external-namespace/_expected/iife.js
+++ b/test/form/samples/reexport-external-namespace/_expected/iife.js
@@ -6,9 +6,7 @@ var bundle = (function (exports, external) {
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
@@ -16,4 +14,4 @@ var bundle = (function (exports, external) {
 
 	return exports;
 
-}({}, external));
+})({}, external);
diff --git a/test/form/samples/reexport-external-namespace/_expected/system.js b/test/form/samples/reexport-external-namespace/_expected/system.js
index 5d92a82f4..dcd8c1a8d 100644
--- a/test/form/samples/reexport-external-namespace/_expected/system.js
+++ b/test/form/samples/reexport-external-namespace/_expected/system.js
@@ -1,18 +1,20 @@
-System.register('bundle', ['external'], function (exports) {
+System.register('bundle', ['external'], (function (exports) {
 	'use strict';
-	var _starExcludes = { default: 1 };
+	var _starExcludes = {
+		'default': 1
+	};
 	return {
 		setters: [function (module) {
-			var _setter = {};
-			for (var _$p in module) {
-				if (!_starExcludes[_$p]) _setter[_$p] = module[_$p];
+			var setter = {};
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
 			}
-			exports(_setter);
+			exports(setter);
 		}],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/reexport-external-namespace/_expected/umd.js b/test/form/samples/reexport-external-namespace/_expected/umd.js
index f37aded3a..6f396ee06 100644
--- a/test/form/samples/reexport-external-namespace/_expected/umd.js
+++ b/test/form/samples/reexport-external-namespace/_expected/umd.js
@@ -2,17 +2,15 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external));
-}(this, (function (exports, external) { 'use strict';
+})(this, (function (exports, external) { 'use strict';
 
 	Object.keys(external).forEach(function (k) {
 		if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
 			enumerable: true,
-			get: function () {
-				return external[k];
-			}
+			get: function () { return external[k]; }
 		});
 	});
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/reexport-star-deshadow/_expected/amd.js b/test/form/samples/reexport-star-deshadow/_expected/amd.js
index a33e579e6..f8ac5f043 100644
--- a/test/form/samples/reexport-star-deshadow/_expected/amd.js
+++ b/test/form/samples/reexport-star-deshadow/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo() { return true; }
 
@@ -8,4 +8,4 @@ define(function () { 'use strict';
 
 	console.log(baz());
 
-});
+}));
diff --git a/test/form/samples/reexport-star-deshadow/_expected/iife.js b/test/form/samples/reexport-star-deshadow/_expected/iife.js
index bff2fd8fc..61a08b050 100644
--- a/test/form/samples/reexport-star-deshadow/_expected/iife.js
+++ b/test/form/samples/reexport-star-deshadow/_expected/iife.js
@@ -9,4 +9,4 @@
 
 	console.log(baz());
 
-}());
+})();
diff --git a/test/form/samples/reexport-star-deshadow/_expected/system.js b/test/form/samples/reexport-star-deshadow/_expected/system.js
index c74d17643..1ec877ac5 100644
--- a/test/form/samples/reexport-star-deshadow/_expected/system.js
+++ b/test/form/samples/reexport-star-deshadow/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function () {
+System.register('myBundle', [], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo() { return true; }
 
@@ -11,6 +11,6 @@ System.register('myBundle', [], function () {
 
 			console.log(baz());
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/reexport-star-deshadow/_expected/umd.js b/test/form/samples/reexport-star-deshadow/_expected/umd.js
index 79ad3097c..a0894b85e 100644
--- a/test/form/samples/reexport-star-deshadow/_expected/umd.js
+++ b/test/form/samples/reexport-star-deshadow/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo() { return true; }
 
@@ -11,4 +11,4 @@
 
 	console.log(baz());
 
-})));
+}));
diff --git a/test/form/samples/reexport-used-external-namespace-as/_expected/amd.js b/test/form/samples/reexport-used-external-namespace-as/_expected/amd.js
index 01cdc62c5..1a672e425 100644
--- a/test/form/samples/reexport-used-external-namespace-as/_expected/amd.js
+++ b/test/form/samples/reexport-used-external-namespace-as/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports', 'external1', 'external2'], function (exports, imported1, external2) { 'use strict';
+define(['exports', 'external1', 'external2'], (function (exports, imported1, external2) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -9,14 +9,12 @@ define(['exports', 'external1', 'external2'], function (exports, imported1, exte
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -30,4 +28,4 @@ define(['exports', 'external1', 'external2'], function (exports, imported1, exte
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/reexport-used-external-namespace-as/_expected/cjs.js b/test/form/samples/reexport-used-external-namespace-as/_expected/cjs.js
index 518705f0b..473770870 100644
--- a/test/form/samples/reexport-used-external-namespace-as/_expected/cjs.js
+++ b/test/form/samples/reexport-used-external-namespace-as/_expected/cjs.js
@@ -14,14 +14,12 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
diff --git a/test/form/samples/reexport-used-external-namespace-as/_expected/iife.js b/test/form/samples/reexport-used-external-namespace-as/_expected/iife.js
index 510289677..32e8ea1e0 100644
--- a/test/form/samples/reexport-used-external-namespace-as/_expected/iife.js
+++ b/test/form/samples/reexport-used-external-namespace-as/_expected/iife.js
@@ -10,14 +10,12 @@ var bundle = (function (exports, imported1, external2) {
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -33,4 +31,4 @@ var bundle = (function (exports, imported1, external2) {
 
 	return exports;
 
-}({}, external1, external2));
+})({}, external1, external2);
diff --git a/test/form/samples/reexport-used-external-namespace-as/_expected/system.js b/test/form/samples/reexport-used-external-namespace-as/_expected/system.js
index 35f2fe863..fda26cc6c 100644
--- a/test/form/samples/reexport-used-external-namespace-as/_expected/system.js
+++ b/test/form/samples/reexport-used-external-namespace-as/_expected/system.js
@@ -1,4 +1,4 @@
-System.register('bundle', ['external1', 'external2'], function (exports) {
+System.register('bundle', ['external1', 'external2'], (function (exports) {
 	'use strict';
 	var imported1, imported2;
 	return {
@@ -9,10 +9,10 @@ System.register('bundle', ['external1', 'external2'], function (exports) {
 			imported2 = module.imported2;
 			exports('external2', module);
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(imported1, imported2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/reexport-used-external-namespace-as/_expected/umd.js b/test/form/samples/reexport-used-external-namespace-as/_expected/umd.js
index 89e3859e0..9f6cf7bbe 100644
--- a/test/form/samples/reexport-used-external-namespace-as/_expected/umd.js
+++ b/test/form/samples/reexport-used-external-namespace-as/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external1'), require('external2')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external1', 'external2'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.external1, global.external2));
-}(this, (function (exports, imported1, external2) { 'use strict';
+})(this, (function (exports, imported1, external2) { 'use strict';
 
 	function _interopNamespace(e) {
 		if (e && e.__esModule) return e;
@@ -13,14 +13,12 @@
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
@@ -34,4 +32,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/relative-external-with-global/_expected/amd.js b/test/form/samples/relative-external-with-global/_expected/amd.js
index dcd17ff18..306bfe08b 100644
--- a/test/form/samples/relative-external-with-global/_expected/amd.js
+++ b/test/form/samples/relative-external-with-global/_expected/amd.js
@@ -1,13 +1,13 @@
-define(['./lib/throttle'], function (throttle) { 'use strict';
+define(['./lib/throttle'], (function (throttle) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var throttle__default = /*#__PURE__*/_interopDefaultLegacy(throttle);
 
-	throttle__default['default']( () => {
+	throttle__default["default"]( () => {
 		console.log( '.' );
 	}, 500 );
 
-	window.addEventListener( 'mousemove', throttle__default['default'] );
+	window.addEventListener( 'mousemove', throttle__default["default"] );
 
-});
+}));
diff --git a/test/form/samples/relative-external-with-global/_expected/cjs.js b/test/form/samples/relative-external-with-global/_expected/cjs.js
index c7b933373..bcfa62f40 100644
--- a/test/form/samples/relative-external-with-global/_expected/cjs.js
+++ b/test/form/samples/relative-external-with-global/_expected/cjs.js
@@ -6,8 +6,8 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var throttle__default = /*#__PURE__*/_interopDefaultLegacy(throttle);
 
-throttle__default['default']( () => {
+throttle__default["default"]( () => {
 	console.log( '.' );
 }, 500 );
 
-window.addEventListener( 'mousemove', throttle__default['default'] );
+window.addEventListener( 'mousemove', throttle__default["default"] );
diff --git a/test/form/samples/relative-external-with-global/_expected/iife.js b/test/form/samples/relative-external-with-global/_expected/iife.js
index 1465ec52d..deaf1393d 100644
--- a/test/form/samples/relative-external-with-global/_expected/iife.js
+++ b/test/form/samples/relative-external-with-global/_expected/iife.js
@@ -5,10 +5,10 @@
 
 	var throttle__default = /*#__PURE__*/_interopDefaultLegacy(throttle);
 
-	throttle__default['default']( () => {
+	throttle__default["default"]( () => {
 		console.log( '.' );
 	}, 500 );
 
-	window.addEventListener( 'mousemove', throttle__default['default'] );
+	window.addEventListener( 'mousemove', throttle__default["default"] );
 
-}(Lib.throttle));
+})(Lib.throttle);
diff --git a/test/form/samples/relative-external-with-global/_expected/system.js b/test/form/samples/relative-external-with-global/_expected/system.js
index 02b5ce2cf..c3177a2ec 100644
--- a/test/form/samples/relative-external-with-global/_expected/system.js
+++ b/test/form/samples/relative-external-with-global/_expected/system.js
@@ -1,11 +1,11 @@
-System.register(['./lib/throttle.js'], function () {
+System.register(['./lib/throttle.js'], (function () {
 	'use strict';
 	var throttle;
 	return {
 		setters: [function (module) {
-			throttle = module.default;
+			throttle = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			throttle( () => {
 				console.log( '.' );
@@ -13,6 +13,6 @@ System.register(['./lib/throttle.js'], function () {
 
 			window.addEventListener( 'mousemove', throttle );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/relative-external-with-global/_expected/umd.js b/test/form/samples/relative-external-with-global/_expected/umd.js
index 7f505ef2f..c78de6aa3 100644
--- a/test/form/samples/relative-external-with-global/_expected/umd.js
+++ b/test/form/samples/relative-external-with-global/_expected/umd.js
@@ -2,16 +2,16 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('./lib/throttle.js')) :
 	typeof define === 'function' && define.amd ? define(['./lib/throttle'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.Lib.throttle));
-}(this, (function (throttle) { 'use strict';
+})(this, (function (throttle) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var throttle__default = /*#__PURE__*/_interopDefaultLegacy(throttle);
 
-	throttle__default['default']( () => {
+	throttle__default["default"]( () => {
 		console.log( '.' );
 	}, 500 );
 
-	window.addEventListener( 'mousemove', throttle__default['default'] );
+	window.addEventListener( 'mousemove', throttle__default["default"] );
 
-})));
+}));
diff --git a/test/form/samples/removes-existing-sourcemap-comments/_expected/amd.js b/test/form/samples/removes-existing-sourcemap-comments/_expected/amd.js
index 102039464..984bbad48 100644
--- a/test/form/samples/removes-existing-sourcemap-comments/_expected/amd.js
+++ b/test/form/samples/removes-existing-sourcemap-comments/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo (x) {
 		return x;
@@ -10,4 +10,4 @@ define(function () { 'use strict';
 
 	console.log( foo(str) );
 
-});
+}));
diff --git a/test/form/samples/removes-existing-sourcemap-comments/_expected/iife.js b/test/form/samples/removes-existing-sourcemap-comments/_expected/iife.js
index 4ce1d3c65..cb717ed46 100644
--- a/test/form/samples/removes-existing-sourcemap-comments/_expected/iife.js
+++ b/test/form/samples/removes-existing-sourcemap-comments/_expected/iife.js
@@ -11,4 +11,4 @@
 
 	console.log( foo(str) );
 
-}());
+})();
diff --git a/test/form/samples/removes-existing-sourcemap-comments/_expected/system.js b/test/form/samples/removes-existing-sourcemap-comments/_expected/system.js
index 6725a5b14..e94ceff7e 100644
--- a/test/form/samples/removes-existing-sourcemap-comments/_expected/system.js
+++ b/test/form/samples/removes-existing-sourcemap-comments/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo (x) {
 				return x;
@@ -13,6 +13,6 @@ System.register([], function () {
 
 			console.log( foo(str) );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/removes-existing-sourcemap-comments/_expected/umd.js b/test/form/samples/removes-existing-sourcemap-comments/_expected/umd.js
index 1dbb05058..eea161bad 100644
--- a/test/form/samples/removes-existing-sourcemap-comments/_expected/umd.js
+++ b/test/form/samples/removes-existing-sourcemap-comments/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo (x) {
 		return x;
@@ -13,4 +13,4 @@
 
 	console.log( foo(str) );
 
-})));
+}));
diff --git a/test/form/samples/render-declaration-semicolons/_expected/amd.js b/test/form/samples/render-declaration-semicolons/_expected/amd.js
index d7c3cba78..d59f1f9da 100644
--- a/test/form/samples/render-declaration-semicolons/_expected/amd.js
+++ b/test/form/samples/render-declaration-semicolons/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var a, b;
 	console.log(a, b);
@@ -31,4 +31,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/render-declaration-semicolons/_expected/iife.js b/test/form/samples/render-declaration-semicolons/_expected/iife.js
index dc1250b11..120e97bed 100644
--- a/test/form/samples/render-declaration-semicolons/_expected/iife.js
+++ b/test/form/samples/render-declaration-semicolons/_expected/iife.js
@@ -34,4 +34,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/render-declaration-semicolons/_expected/system.js b/test/form/samples/render-declaration-semicolons/_expected/system.js
index 670fb575e..9cfc563a7 100644
--- a/test/form/samples/render-declaration-semicolons/_expected/system.js
+++ b/test/form/samples/render-declaration-semicolons/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var a, b;
 			console.log(a, b);
@@ -23,6 +23,6 @@ System.register('bundle', [], function (exports) {
 
 			const o = 3, p = 4; exports({ o: o, p: p });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/render-declaration-semicolons/_expected/umd.js b/test/form/samples/render-declaration-semicolons/_expected/umd.js
index 27261dded..faf114da3 100644
--- a/test/form/samples/render-declaration-semicolons/_expected/umd.js
+++ b/test/form/samples/render-declaration-semicolons/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	var a, b;
 	console.log(a, b);
@@ -35,4 +35,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/render-named-export-declarations/_expected/amd.js b/test/form/samples/render-named-export-declarations/_expected/amd.js
index cf8c06167..6a18a15ab 100644
--- a/test/form/samples/render-named-export-declarations/_expected/amd.js
+++ b/test/form/samples/render-named-export-declarations/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var aFoo; exports.aBar = void 0;
 	exports.aBar = 2;
@@ -19,4 +19,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/render-named-export-declarations/_expected/iife.js b/test/form/samples/render-named-export-declarations/_expected/iife.js
index bdc716b73..5267bf9d4 100644
--- a/test/form/samples/render-named-export-declarations/_expected/iife.js
+++ b/test/form/samples/render-named-export-declarations/_expected/iife.js
@@ -22,4 +22,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/render-named-export-declarations/_expected/system.js b/test/form/samples/render-named-export-declarations/_expected/system.js
index a46a64324..8c0530a3a 100644
--- a/test/form/samples/render-named-export-declarations/_expected/system.js
+++ b/test/form/samples/render-named-export-declarations/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var aFoo, aBar; exports({ aFoo: aFoo, aBar: aBar });
 			exports('aBar', aBar = 2);
@@ -15,6 +15,6 @@ System.register('bundle', [], function (exports) {
 			var dFoo = 1, dBar; exports({ dFoo: dFoo, dBar: dBar });
 			exports('dFoo', dFoo = 2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/render-named-export-declarations/_expected/umd.js b/test/form/samples/render-named-export-declarations/_expected/umd.js
index 578818ce0..9be6795e9 100644
--- a/test/form/samples/render-named-export-declarations/_expected/umd.js
+++ b/test/form/samples/render-named-export-declarations/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	var aFoo; exports.aBar = void 0;
 	exports.aBar = 2;
@@ -23,4 +23,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/resolve-external-dynamic-imports/_expected/amd.js b/test/form/samples/resolve-external-dynamic-imports/_expected/amd.js
index 309f17592..424923e58 100644
--- a/test/form/samples/resolve-external-dynamic-imports/_expected/amd.js
+++ b/test/form/samples/resolve-external-dynamic-imports/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['require', 'exports', 'external'], function (require, exports, myExternal) { 'use strict';
+define(['require', 'exports', 'external'], (function (require, exports, myExternal) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
@@ -11,26 +11,24 @@ define(['require', 'exports', 'external'], function (require, exports, myExterna
 					var d = Object.getOwnPropertyDescriptor(e, k);
 					Object.defineProperty(n, k, d.get ? d : {
 						enumerable: true,
-						get: function () {
-							return e[k];
-						}
+						get: function () { return e[k]; }
 					});
 				}
 			});
 		}
-		n['default'] = e;
+		n["default"] = e;
 		return Object.freeze(n);
 	}
 
 	var myExternal__default = /*#__PURE__*/_interopDefaultLegacy(myExternal);
 
-	const test = () => myExternal__default['default'];
+	const test = () => myExternal__default["default"];
 
-	const someDynamicImport = () => new Promise(function (resolve, reject) { require(['external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject) });
+	const someDynamicImport = () => new Promise(function (resolve, reject) { require(['external'], function (m) { resolve(/*#__PURE__*/_interopNamespace(m)); }, reject); });
 
 	exports.someDynamicImport = someDynamicImport;
 	exports.test = test;
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/resolve-external-dynamic-imports/_expected/cjs.js b/test/form/samples/resolve-external-dynamic-imports/_expected/cjs.js
index 2f71d692d..e5638ead4 100644
--- a/test/form/samples/resolve-external-dynamic-imports/_expected/cjs.js
+++ b/test/form/samples/resolve-external-dynamic-imports/_expected/cjs.js
@@ -15,20 +15,18 @@ function _interopNamespace(e) {
 				var d = Object.getOwnPropertyDescriptor(e, k);
 				Object.defineProperty(n, k, d.get ? d : {
 					enumerable: true,
-					get: function () {
-						return e[k];
-					}
+					get: function () { return e[k]; }
 				});
 			}
 		});
 	}
-	n['default'] = e;
+	n["default"] = e;
 	return Object.freeze(n);
 }
 
 var myExternal__default = /*#__PURE__*/_interopDefaultLegacy(myExternal);
 
-const test = () => myExternal__default['default'];
+const test = () => myExternal__default["default"];
 
 const someDynamicImport = () => Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('external')); });
 
diff --git a/test/form/samples/resolve-external-dynamic-imports/_expected/iife.js b/test/form/samples/resolve-external-dynamic-imports/_expected/iife.js
index 8c97dd55e..08653d6e3 100644
--- a/test/form/samples/resolve-external-dynamic-imports/_expected/iife.js
+++ b/test/form/samples/resolve-external-dynamic-imports/_expected/iife.js
@@ -5,7 +5,7 @@ var bundle = (function (exports, myExternal) {
 
 	var myExternal__default = /*#__PURE__*/_interopDefaultLegacy(myExternal);
 
-	const test = () => myExternal__default['default'];
+	const test = () => myExternal__default["default"];
 
 	const someDynamicImport = () => import('external');
 
@@ -16,4 +16,4 @@ var bundle = (function (exports, myExternal) {
 
 	return exports;
 
-}({}, myExternal));
+})({}, myExternal);
diff --git a/test/form/samples/resolve-external-dynamic-imports/_expected/system.js b/test/form/samples/resolve-external-dynamic-imports/_expected/system.js
index a2559032d..cd91fed5c 100644
--- a/test/form/samples/resolve-external-dynamic-imports/_expected/system.js
+++ b/test/form/samples/resolve-external-dynamic-imports/_expected/system.js
@@ -1,16 +1,16 @@
-System.register('bundle', ['external'], function (exports, module) {
+System.register('bundle', ['external'], (function (exports, module) {
 	'use strict';
 	var myExternal;
 	return {
 		setters: [function (module) {
-			myExternal = module.default;
+			myExternal = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			const test = exports('test', () => myExternal);
 
 			const someDynamicImport = exports('someDynamicImport', () => module.import('external'));
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/resolve-external-dynamic-imports/_expected/umd.js b/test/form/samples/resolve-external-dynamic-imports/_expected/umd.js
index 1b12d1b1d..8a2bad930 100644
--- a/test/form/samples/resolve-external-dynamic-imports/_expected/umd.js
+++ b/test/form/samples/resolve-external-dynamic-imports/_expected/umd.js
@@ -2,13 +2,13 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('external')) :
 	typeof define === 'function' && define.amd ? define(['exports', 'external'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}, global.myExternal));
-}(this, (function (exports, myExternal) { 'use strict';
+})(this, (function (exports, myExternal) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var myExternal__default = /*#__PURE__*/_interopDefaultLegacy(myExternal);
 
-	const test = () => myExternal__default['default'];
+	const test = () => myExternal__default["default"];
 
 	const someDynamicImport = () => import('external');
 
@@ -17,4 +17,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/resolve-import-meta-url-export/_expected/amd.js b/test/form/samples/resolve-import-meta-url-export/_expected/amd.js
index 66a5baffd..90ecd7655 100644
--- a/test/form/samples/resolve-import-meta-url-export/_expected/amd.js
+++ b/test/form/samples/resolve-import-meta-url-export/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['module', 'exports'], function (module, exports) { 'use strict';
+define(['module', 'exports'], (function (module, exports) { 'use strict';
 
 	const url = 'url';
 	const meta = 'meta';
@@ -8,4 +8,4 @@ define(['module', 'exports'], function (module, exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/resolve-import-meta-url-export/_expected/iife.js b/test/form/samples/resolve-import-meta-url-export/_expected/iife.js
index b71a1ed44..a4c48f8c5 100644
--- a/test/form/samples/resolve-import-meta-url-export/_expected/iife.js
+++ b/test/form/samples/resolve-import-meta-url-export/_expected/iife.js
@@ -11,4 +11,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/resolve-import-meta-url-export/_expected/system.js b/test/form/samples/resolve-import-meta-url-export/_expected/system.js
index b7d753da4..4b2fe8aa9 100644
--- a/test/form/samples/resolve-import-meta-url-export/_expected/system.js
+++ b/test/form/samples/resolve-import-meta-url-export/_expected/system.js
@@ -1,11 +1,11 @@
-System.register('bundle', [], function (exports, module) {
+System.register('bundle', [], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const url = exports('url', 'url');
 			const meta = exports('meta', 'meta');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/resolve-import-meta-url-export/_expected/umd.js b/test/form/samples/resolve-import-meta-url-export/_expected/umd.js
index 25b8ae145..92b28d4a0 100644
--- a/test/form/samples/resolve-import-meta-url-export/_expected/umd.js
+++ b/test/form/samples/resolve-import-meta-url-export/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const url = 'url';
 	const meta = 'meta';
@@ -12,4 +12,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/resolve-import-meta-url/_expected/amd.js b/test/form/samples/resolve-import-meta-url/_expected/amd.js
index f52e4df53..13fa603d4 100644
--- a/test/form/samples/resolve-import-meta-url/_expected/amd.js
+++ b/test/form/samples/resolve-import-meta-url/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['module'], function (module) { 'use strict';
+define(['module'], (function (module) { 'use strict';
 
 	console.log('resolved');
 	console.log('resolved');
@@ -12,4 +12,4 @@ define(['module'], function (module) { 'use strict';
 	console.log('privateProp=amd.js:resolve-import-meta-url/main.js');
 	console.log('null=amd.js:resolve-import-meta-url/main.js');
 
-});
+}));
diff --git a/test/form/samples/resolve-import-meta-url/_expected/iife.js b/test/form/samples/resolve-import-meta-url/_expected/iife.js
index 251f18e4a..bb7de5c76 100644
--- a/test/form/samples/resolve-import-meta-url/_expected/iife.js
+++ b/test/form/samples/resolve-import-meta-url/_expected/iife.js
@@ -13,4 +13,4 @@
 	console.log('privateProp=iife.js:resolve-import-meta-url/main.js');
 	console.log('null=iife.js:resolve-import-meta-url/main.js');
 
-}());
+})();
diff --git a/test/form/samples/resolve-import-meta-url/_expected/system.js b/test/form/samples/resolve-import-meta-url/_expected/system.js
index cdd25b9c2..2284f2223 100644
--- a/test/form/samples/resolve-import-meta-url/_expected/system.js
+++ b/test/form/samples/resolve-import-meta-url/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function (exports, module) {
+System.register([], (function (exports, module) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('resolved');
 			console.log('resolved');
@@ -15,6 +15,6 @@ System.register([], function (exports, module) {
 			console.log('privateProp=system.js:resolve-import-meta-url/main.js');
 			console.log('null=system.js:resolve-import-meta-url/main.js');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/resolve-import-meta-url/_expected/umd.js b/test/form/samples/resolve-import-meta-url/_expected/umd.js
index c05449667..e989f4389 100644
--- a/test/form/samples/resolve-import-meta-url/_expected/umd.js
+++ b/test/form/samples/resolve-import-meta-url/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log('resolved');
 	console.log('resolved');
@@ -15,4 +15,4 @@
 	console.log('privateProp=umd.js:resolve-import-meta-url/main.js');
 	console.log('null=umd.js:resolve-import-meta-url/main.js');
 
-})));
+}));
diff --git a/test/form/samples/self-calling-function-with-effects/_expected/amd.js b/test/form/samples/self-calling-function-with-effects/_expected/amd.js
index b70b6a409..b24966e1c 100644
--- a/test/form/samples/self-calling-function-with-effects/_expected/amd.js
+++ b/test/form/samples/self-calling-function-with-effects/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo ( x ) {
 		effect( x );
@@ -17,4 +17,4 @@ define(function () { 'use strict';
 	foo( 10 );
 	bar( 10 );
 
-});
+}));
diff --git a/test/form/samples/self-calling-function-with-effects/_expected/iife.js b/test/form/samples/self-calling-function-with-effects/_expected/iife.js
index 822b1c816..095087696 100644
--- a/test/form/samples/self-calling-function-with-effects/_expected/iife.js
+++ b/test/form/samples/self-calling-function-with-effects/_expected/iife.js
@@ -18,4 +18,4 @@
 	foo( 10 );
 	bar( 10 );
 
-}());
+})();
diff --git a/test/form/samples/self-calling-function-with-effects/_expected/system.js b/test/form/samples/self-calling-function-with-effects/_expected/system.js
index 136d13627..17a91bc6f 100644
--- a/test/form/samples/self-calling-function-with-effects/_expected/system.js
+++ b/test/form/samples/self-calling-function-with-effects/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo ( x ) {
 				effect( x );
@@ -20,6 +20,6 @@ System.register([], function () {
 			foo( 10 );
 			bar( 10 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/self-calling-function-with-effects/_expected/umd.js b/test/form/samples/self-calling-function-with-effects/_expected/umd.js
index 5aef257f0..0e21a11ce 100644
--- a/test/form/samples/self-calling-function-with-effects/_expected/umd.js
+++ b/test/form/samples/self-calling-function-with-effects/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo ( x ) {
 		effect( x );
@@ -20,4 +20,4 @@
 	foo( 10 );
 	bar( 10 );
 
-})));
+}));
diff --git a/test/form/samples/self-calling-function/_expected/amd.js b/test/form/samples/self-calling-function/_expected/amd.js
index f9f8229aa..a9e9419e2 100644
--- a/test/form/samples/self-calling-function/_expected/amd.js
+++ b/test/form/samples/self-calling-function/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 
 
-});
+}));
diff --git a/test/form/samples/self-calling-function/_expected/iife.js b/test/form/samples/self-calling-function/_expected/iife.js
index 43ef54268..31dfeb95e 100644
--- a/test/form/samples/self-calling-function/_expected/iife.js
+++ b/test/form/samples/self-calling-function/_expected/iife.js
@@ -3,4 +3,4 @@
 
 
 
-}());
+})();
diff --git a/test/form/samples/self-calling-function/_expected/system.js b/test/form/samples/self-calling-function/_expected/system.js
index a702f2b06..343cc3a51 100644
--- a/test/form/samples/self-calling-function/_expected/system.js
+++ b/test/form/samples/self-calling-function/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/self-calling-function/_expected/umd.js b/test/form/samples/self-calling-function/_expected/umd.js
index 8bf6301d4..a39fba4f3 100644
--- a/test/form/samples/self-calling-function/_expected/umd.js
+++ b/test/form/samples/self-calling-function/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 
 
-})));
+}));
diff --git a/test/form/samples/self-contained-bundle/_expected/amd.js b/test/form/samples/self-contained-bundle/_expected/amd.js
index a29d3995b..09e80053d 100644
--- a/test/form/samples/self-contained-bundle/_expected/amd.js
+++ b/test/form/samples/self-contained-bundle/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo () {
 		console.log( bar() );
@@ -15,4 +15,4 @@ define(function () { 'use strict';
 	foo();
 	console.log( 3 );
 
-});
+}));
diff --git a/test/form/samples/self-contained-bundle/_expected/iife.js b/test/form/samples/self-contained-bundle/_expected/iife.js
index d0b884ed6..5ee4b2f00 100644
--- a/test/form/samples/self-contained-bundle/_expected/iife.js
+++ b/test/form/samples/self-contained-bundle/_expected/iife.js
@@ -16,4 +16,4 @@
 	foo();
 	console.log( 3 );
 
-}());
+})();
diff --git a/test/form/samples/self-contained-bundle/_expected/system.js b/test/form/samples/self-contained-bundle/_expected/system.js
index 305cacd0c..8269fe231 100644
--- a/test/form/samples/self-contained-bundle/_expected/system.js
+++ b/test/form/samples/self-contained-bundle/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo () {
 				console.log( bar() );
@@ -18,6 +18,6 @@ System.register([], function () {
 			foo();
 			console.log( 3 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/self-contained-bundle/_expected/umd.js b/test/form/samples/self-contained-bundle/_expected/umd.js
index a43eb5115..596721171 100644
--- a/test/form/samples/self-contained-bundle/_expected/umd.js
+++ b/test/form/samples/self-contained-bundle/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo () {
 		console.log( bar() );
@@ -18,4 +18,4 @@
 	foo();
 	console.log( 3 );
 
-})));
+}));
diff --git a/test/form/samples/shorthand-properties/_expected/amd.js b/test/form/samples/shorthand-properties/_expected/amd.js
index deb0ca463..b6b1a99cd 100644
--- a/test/form/samples/shorthand-properties/_expected/amd.js
+++ b/test/form/samples/shorthand-properties/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function x$2 () {
 		return 'foo';
@@ -22,4 +22,4 @@ define(function () { 'use strict';
 	assert.equal( bar.x(), 'bar' );
 	assert.equal( baz.x(), 'baz' );
 
-});
+}));
diff --git a/test/form/samples/shorthand-properties/_expected/iife.js b/test/form/samples/shorthand-properties/_expected/iife.js
index 9055a4415..a9e1044a2 100644
--- a/test/form/samples/shorthand-properties/_expected/iife.js
+++ b/test/form/samples/shorthand-properties/_expected/iife.js
@@ -23,4 +23,4 @@
 	assert.equal( bar.x(), 'bar' );
 	assert.equal( baz.x(), 'baz' );
 
-}());
+})();
diff --git a/test/form/samples/shorthand-properties/_expected/system.js b/test/form/samples/shorthand-properties/_expected/system.js
index 2747d3f6f..e9cb6eee2 100644
--- a/test/form/samples/shorthand-properties/_expected/system.js
+++ b/test/form/samples/shorthand-properties/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function x$2 () {
 				return 'foo';
@@ -25,6 +25,6 @@ System.register([], function () {
 			assert.equal( bar.x(), 'bar' );
 			assert.equal( baz.x(), 'baz' );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/shorthand-properties/_expected/umd.js b/test/form/samples/shorthand-properties/_expected/umd.js
index dc9ee9b81..5e3ced876 100644
--- a/test/form/samples/shorthand-properties/_expected/umd.js
+++ b/test/form/samples/shorthand-properties/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function x$2 () {
 		return 'foo';
@@ -25,4 +25,4 @@
 	assert.equal( bar.x(), 'bar' );
 	assert.equal( baz.x(), 'baz' );
 
-})));
+}));
diff --git a/test/form/samples/side-effect-b/_expected/amd.js b/test/form/samples/side-effect-b/_expected/amd.js
index 37d25711e..538fc7738 100644
--- a/test/form/samples/side-effect-b/_expected/amd.js
+++ b/test/form/samples/side-effect-b/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/side-effect-b/_expected/iife.js b/test/form/samples/side-effect-b/_expected/iife.js
index 69d1387d3..69055258f 100644
--- a/test/form/samples/side-effect-b/_expected/iife.js
+++ b/test/form/samples/side-effect-b/_expected/iife.js
@@ -5,4 +5,4 @@ var myBundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/side-effect-b/_expected/system.js b/test/form/samples/side-effect-b/_expected/system.js
index 28ccfcd3c..5208878df 100644
--- a/test/form/samples/side-effect-b/_expected/system.js
+++ b/test/form/samples/side-effect-b/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-b/_expected/umd.js b/test/form/samples/side-effect-b/_expected/umd.js
index 6fa2ed814..cd252572f 100644
--- a/test/form/samples/side-effect-b/_expected/umd.js
+++ b/test/form/samples/side-effect-b/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/side-effect-c/_expected/amd.js b/test/form/samples/side-effect-c/_expected/amd.js
index 37d25711e..538fc7738 100644
--- a/test/form/samples/side-effect-c/_expected/amd.js
+++ b/test/form/samples/side-effect-c/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/side-effect-c/_expected/iife.js b/test/form/samples/side-effect-c/_expected/iife.js
index 69d1387d3..69055258f 100644
--- a/test/form/samples/side-effect-c/_expected/iife.js
+++ b/test/form/samples/side-effect-c/_expected/iife.js
@@ -5,4 +5,4 @@ var myBundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/side-effect-c/_expected/system.js b/test/form/samples/side-effect-c/_expected/system.js
index 28ccfcd3c..5208878df 100644
--- a/test/form/samples/side-effect-c/_expected/system.js
+++ b/test/form/samples/side-effect-c/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-c/_expected/umd.js b/test/form/samples/side-effect-c/_expected/umd.js
index 6fa2ed814..cd252572f 100644
--- a/test/form/samples/side-effect-c/_expected/umd.js
+++ b/test/form/samples/side-effect-c/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/side-effect-d/_expected/amd.js b/test/form/samples/side-effect-d/_expected/amd.js
index 37d25711e..538fc7738 100644
--- a/test/form/samples/side-effect-d/_expected/amd.js
+++ b/test/form/samples/side-effect-d/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/side-effect-d/_expected/iife.js b/test/form/samples/side-effect-d/_expected/iife.js
index 69d1387d3..69055258f 100644
--- a/test/form/samples/side-effect-d/_expected/iife.js
+++ b/test/form/samples/side-effect-d/_expected/iife.js
@@ -5,4 +5,4 @@ var myBundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/side-effect-d/_expected/system.js b/test/form/samples/side-effect-d/_expected/system.js
index 28ccfcd3c..5208878df 100644
--- a/test/form/samples/side-effect-d/_expected/system.js
+++ b/test/form/samples/side-effect-d/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-d/_expected/umd.js b/test/form/samples/side-effect-d/_expected/umd.js
index 6fa2ed814..cd252572f 100644
--- a/test/form/samples/side-effect-d/_expected/umd.js
+++ b/test/form/samples/side-effect-d/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/side-effect-e/_expected/amd.js b/test/form/samples/side-effect-e/_expected/amd.js
index 0c10632c2..9f4ef975e 100644
--- a/test/form/samples/side-effect-e/_expected/amd.js
+++ b/test/form/samples/side-effect-e/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo () {
 		var Object = {
@@ -17,4 +17,4 @@ define(function () { 'use strict';
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/side-effect-e/_expected/iife.js b/test/form/samples/side-effect-e/_expected/iife.js
index c181ded34..de3c60139 100644
--- a/test/form/samples/side-effect-e/_expected/iife.js
+++ b/test/form/samples/side-effect-e/_expected/iife.js
@@ -18,4 +18,4 @@ var myBundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/side-effect-e/_expected/system.js b/test/form/samples/side-effect-e/_expected/system.js
index f547aaefa..baef598d6 100644
--- a/test/form/samples/side-effect-e/_expected/system.js
+++ b/test/form/samples/side-effect-e/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo () {
 				var Object = {
@@ -18,6 +18,6 @@ System.register('myBundle', [], function (exports) {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-e/_expected/umd.js b/test/form/samples/side-effect-e/_expected/umd.js
index 74d8daa5e..0ef9db79e 100644
--- a/test/form/samples/side-effect-e/_expected/umd.js
+++ b/test/form/samples/side-effect-e/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	function foo () {
 		var Object = {
@@ -21,4 +21,4 @@
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/side-effect-f/_expected/amd.js b/test/form/samples/side-effect-f/_expected/amd.js
index 37d25711e..538fc7738 100644
--- a/test/form/samples/side-effect-f/_expected/amd.js
+++ b/test/form/samples/side-effect-f/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/side-effect-f/_expected/iife.js b/test/form/samples/side-effect-f/_expected/iife.js
index 69d1387d3..69055258f 100644
--- a/test/form/samples/side-effect-f/_expected/iife.js
+++ b/test/form/samples/side-effect-f/_expected/iife.js
@@ -5,4 +5,4 @@ var myBundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/side-effect-f/_expected/system.js b/test/form/samples/side-effect-f/_expected/system.js
index 28ccfcd3c..5208878df 100644
--- a/test/form/samples/side-effect-f/_expected/system.js
+++ b/test/form/samples/side-effect-f/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-f/_expected/umd.js b/test/form/samples/side-effect-f/_expected/umd.js
index 6fa2ed814..cd252572f 100644
--- a/test/form/samples/side-effect-f/_expected/umd.js
+++ b/test/form/samples/side-effect-f/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/side-effect-g/_expected/amd.js b/test/form/samples/side-effect-g/_expected/amd.js
index 37d25711e..538fc7738 100644
--- a/test/form/samples/side-effect-g/_expected/amd.js
+++ b/test/form/samples/side-effect-g/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/side-effect-g/_expected/iife.js b/test/form/samples/side-effect-g/_expected/iife.js
index 69d1387d3..69055258f 100644
--- a/test/form/samples/side-effect-g/_expected/iife.js
+++ b/test/form/samples/side-effect-g/_expected/iife.js
@@ -5,4 +5,4 @@ var myBundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/side-effect-g/_expected/system.js b/test/form/samples/side-effect-g/_expected/system.js
index 28ccfcd3c..5208878df 100644
--- a/test/form/samples/side-effect-g/_expected/system.js
+++ b/test/form/samples/side-effect-g/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-g/_expected/umd.js b/test/form/samples/side-effect-g/_expected/umd.js
index 6fa2ed814..cd252572f 100644
--- a/test/form/samples/side-effect-g/_expected/umd.js
+++ b/test/form/samples/side-effect-g/_expected/umd.js
@@ -2,10 +2,10 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var main = 42;
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/side-effect-h/_expected/amd.js b/test/form/samples/side-effect-h/_expected/amd.js
index ab252ed73..d3a055b34 100644
--- a/test/form/samples/side-effect-h/_expected/amd.js
+++ b/test/form/samples/side-effect-h/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo ( ok ) {
 		if ( !ok ) {
@@ -12,4 +12,4 @@ define(function () { 'use strict';
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/side-effect-h/_expected/iife.js b/test/form/samples/side-effect-h/_expected/iife.js
index 286de2ad6..083d37914 100644
--- a/test/form/samples/side-effect-h/_expected/iife.js
+++ b/test/form/samples/side-effect-h/_expected/iife.js
@@ -13,4 +13,4 @@ var myBundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/side-effect-h/_expected/system.js b/test/form/samples/side-effect-h/_expected/system.js
index e30fa03b8..3856ffb0a 100644
--- a/test/form/samples/side-effect-h/_expected/system.js
+++ b/test/form/samples/side-effect-h/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo ( ok ) {
 				if ( !ok ) {
@@ -13,6 +13,6 @@ System.register('myBundle', [], function (exports) {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-h/_expected/umd.js b/test/form/samples/side-effect-h/_expected/umd.js
index b90a4d772..770859846 100644
--- a/test/form/samples/side-effect-h/_expected/umd.js
+++ b/test/form/samples/side-effect-h/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	function foo ( ok ) {
 		if ( !ok ) {
@@ -16,4 +16,4 @@
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/side-effect-i/_expected/amd.js b/test/form/samples/side-effect-i/_expected/amd.js
index 21c57f998..a09701166 100644
--- a/test/form/samples/side-effect-i/_expected/amd.js
+++ b/test/form/samples/side-effect-i/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	if ( !ok ) {
 		throw new Error( 'this will be included' );
@@ -8,4 +8,4 @@ define(function () { 'use strict';
 
 	return main;
 
-});
+}));
diff --git a/test/form/samples/side-effect-i/_expected/iife.js b/test/form/samples/side-effect-i/_expected/iife.js
index 29825a5de..e05b65927 100644
--- a/test/form/samples/side-effect-i/_expected/iife.js
+++ b/test/form/samples/side-effect-i/_expected/iife.js
@@ -9,4 +9,4 @@ var myBundle = (function () {
 
 	return main;
 
-}());
+})();
diff --git a/test/form/samples/side-effect-i/_expected/system.js b/test/form/samples/side-effect-i/_expected/system.js
index 4ac8c0a27..5588d814b 100644
--- a/test/form/samples/side-effect-i/_expected/system.js
+++ b/test/form/samples/side-effect-i/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			if ( !ok ) {
 				throw new Error( 'this will be included' );
@@ -9,6 +9,6 @@ System.register('myBundle', [], function (exports) {
 
 			var main = exports('default', 42);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-i/_expected/umd.js b/test/form/samples/side-effect-i/_expected/umd.js
index 58c0e4ddc..c52ae2be9 100644
--- a/test/form/samples/side-effect-i/_expected/umd.js
+++ b/test/form/samples/side-effect-i/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	if ( !ok ) {
 		throw new Error( 'this will be included' );
@@ -12,4 +12,4 @@
 
 	return main;
 
-})));
+}));
diff --git a/test/form/samples/side-effect-j/_expected/amd.js b/test/form/samples/side-effect-j/_expected/amd.js
index f65939a2d..97bf814bc 100644
--- a/test/form/samples/side-effect-j/_expected/amd.js
+++ b/test/form/samples/side-effect-j/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var augment;
 	augment = y => y.augmented = true;
@@ -8,4 +8,4 @@ define(function () { 'use strict';
 
 	return x;
 
-});
+}));
diff --git a/test/form/samples/side-effect-j/_expected/iife.js b/test/form/samples/side-effect-j/_expected/iife.js
index d507fc7d9..ba26a10b4 100644
--- a/test/form/samples/side-effect-j/_expected/iife.js
+++ b/test/form/samples/side-effect-j/_expected/iife.js
@@ -9,4 +9,4 @@ var myBundle = (function () {
 
 	return x;
 
-}());
+})();
diff --git a/test/form/samples/side-effect-j/_expected/system.js b/test/form/samples/side-effect-j/_expected/system.js
index c346c1112..980efdf94 100644
--- a/test/form/samples/side-effect-j/_expected/system.js
+++ b/test/form/samples/side-effect-j/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('default', x);
 
@@ -11,6 +11,6 @@ System.register('myBundle', [], function (exports) {
 			function x () {}
 			augment( x );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-j/_expected/umd.js b/test/form/samples/side-effect-j/_expected/umd.js
index 3b9f0924b..6ec6b839f 100644
--- a/test/form/samples/side-effect-j/_expected/umd.js
+++ b/test/form/samples/side-effect-j/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	var augment;
 	augment = y => y.augmented = true;
@@ -12,4 +12,4 @@
 
 	return x;
 
-})));
+}));
diff --git a/test/form/samples/side-effect-k/_expected/amd.js b/test/form/samples/side-effect-k/_expected/amd.js
index abfcb9824..968aedcf7 100644
--- a/test/form/samples/side-effect-k/_expected/amd.js
+++ b/test/form/samples/side-effect-k/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function augment ( x ) {
 		var prop, source;
@@ -25,4 +25,4 @@ define(function () { 'use strict';
 
 	return x;
 
-});
+}));
diff --git a/test/form/samples/side-effect-k/_expected/iife.js b/test/form/samples/side-effect-k/_expected/iife.js
index eeb57d44a..54942c430 100644
--- a/test/form/samples/side-effect-k/_expected/iife.js
+++ b/test/form/samples/side-effect-k/_expected/iife.js
@@ -26,4 +26,4 @@ var myBundle = (function () {
 
 	return x;
 
-}());
+})();
diff --git a/test/form/samples/side-effect-k/_expected/system.js b/test/form/samples/side-effect-k/_expected/system.js
index 628b4b702..05872d13a 100644
--- a/test/form/samples/side-effect-k/_expected/system.js
+++ b/test/form/samples/side-effect-k/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('default', x);
 
@@ -28,6 +28,6 @@ System.register('myBundle', [], function (exports) {
 			function x () {}
 			augment( x.prototype );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-k/_expected/umd.js b/test/form/samples/side-effect-k/_expected/umd.js
index cedb4b602..0d34ce391 100644
--- a/test/form/samples/side-effect-k/_expected/umd.js
+++ b/test/form/samples/side-effect-k/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
 	typeof define === 'function' && define.amd ? define(factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.myBundle = factory());
-}(this, (function () { 'use strict';
+})(this, (function () { 'use strict';
 
 	function augment ( x ) {
 		var prop, source;
@@ -29,4 +29,4 @@
 
 	return x;
 
-})));
+}));
diff --git a/test/form/samples/side-effect-l/_expected/amd.js b/test/form/samples/side-effect-l/_expected/amd.js
index f9f8229aa..a9e9419e2 100644
--- a/test/form/samples/side-effect-l/_expected/amd.js
+++ b/test/form/samples/side-effect-l/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 
 
-});
+}));
diff --git a/test/form/samples/side-effect-l/_expected/iife.js b/test/form/samples/side-effect-l/_expected/iife.js
index 43ef54268..31dfeb95e 100644
--- a/test/form/samples/side-effect-l/_expected/iife.js
+++ b/test/form/samples/side-effect-l/_expected/iife.js
@@ -3,4 +3,4 @@
 
 
 
-}());
+})();
diff --git a/test/form/samples/side-effect-l/_expected/system.js b/test/form/samples/side-effect-l/_expected/system.js
index a702f2b06..343cc3a51 100644
--- a/test/form/samples/side-effect-l/_expected/system.js
+++ b/test/form/samples/side-effect-l/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-l/_expected/umd.js b/test/form/samples/side-effect-l/_expected/umd.js
index 8bf6301d4..a39fba4f3 100644
--- a/test/form/samples/side-effect-l/_expected/umd.js
+++ b/test/form/samples/side-effect-l/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 
 
-})));
+}));
diff --git a/test/form/samples/side-effect-m/_config.js b/test/form/samples/side-effect-m/_config.js
index 9f53058ac..c44f44e94 100644
--- a/test/form/samples/side-effect-m/_config.js
+++ b/test/form/samples/side-effect-m/_config.js
@@ -1,3 +1,4 @@
 module.exports = {
+	description: 'detects side-effects in circular function calls',
 	expectedWarnings: ['CIRCULAR_DEPENDENCY']
 };
diff --git a/test/form/samples/side-effect-n/_expected/amd.js b/test/form/samples/side-effect-n/_expected/amd.js
index 3aef0ed3b..75484c8a7 100644
--- a/test/form/samples/side-effect-n/_expected/amd.js
+++ b/test/form/samples/side-effect-n/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo () {
 		console.log( 'foo' );
@@ -10,4 +10,4 @@ define(function () { 'use strict';
 
 	( Math.random() < 0.5 ? foo : bar )();
 
-});
+}));
diff --git a/test/form/samples/side-effect-n/_expected/iife.js b/test/form/samples/side-effect-n/_expected/iife.js
index 6358928bd..667e80ef9 100644
--- a/test/form/samples/side-effect-n/_expected/iife.js
+++ b/test/form/samples/side-effect-n/_expected/iife.js
@@ -11,4 +11,4 @@
 
 	( Math.random() < 0.5 ? foo : bar )();
 
-}());
+})();
diff --git a/test/form/samples/side-effect-n/_expected/system.js b/test/form/samples/side-effect-n/_expected/system.js
index 9a55c3465..67b35d4b1 100644
--- a/test/form/samples/side-effect-n/_expected/system.js
+++ b/test/form/samples/side-effect-n/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo () {
 				console.log( 'foo' );
@@ -13,6 +13,6 @@ System.register([], function () {
 
 			( Math.random() < 0.5 ? foo : bar )();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-n/_expected/umd.js b/test/form/samples/side-effect-n/_expected/umd.js
index 1b4578fa7..af8c7c4b2 100644
--- a/test/form/samples/side-effect-n/_expected/umd.js
+++ b/test/form/samples/side-effect-n/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo () {
 		console.log( 'foo' );
@@ -13,4 +13,4 @@
 
 	( Math.random() < 0.5 ? foo : bar )();
 
-})));
+}));
diff --git a/test/form/samples/side-effect-o/_expected/amd.js b/test/form/samples/side-effect-o/_expected/amd.js
index 77451d531..5f8a7af36 100644
--- a/test/form/samples/side-effect-o/_expected/amd.js
+++ b/test/form/samples/side-effect-o/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function fn () {
 		return Math.random() < 0.5 ? foo : bar;
@@ -14,4 +14,4 @@ define(function () { 'use strict';
 
 	fn()();
 
-});
+}));
diff --git a/test/form/samples/side-effect-o/_expected/iife.js b/test/form/samples/side-effect-o/_expected/iife.js
index 0dad11b4d..a1b566ba3 100644
--- a/test/form/samples/side-effect-o/_expected/iife.js
+++ b/test/form/samples/side-effect-o/_expected/iife.js
@@ -15,4 +15,4 @@
 
 	fn()();
 
-}());
+})();
diff --git a/test/form/samples/side-effect-o/_expected/system.js b/test/form/samples/side-effect-o/_expected/system.js
index a9640953e..955f4e029 100644
--- a/test/form/samples/side-effect-o/_expected/system.js
+++ b/test/form/samples/side-effect-o/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function fn () {
 				return Math.random() < 0.5 ? foo : bar;
@@ -17,6 +17,6 @@ System.register([], function () {
 
 			fn()();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-o/_expected/umd.js b/test/form/samples/side-effect-o/_expected/umd.js
index ee51a0c51..7ab003ebf 100644
--- a/test/form/samples/side-effect-o/_expected/umd.js
+++ b/test/form/samples/side-effect-o/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function fn () {
 		return Math.random() < 0.5 ? foo : bar;
@@ -17,4 +17,4 @@
 
 	fn()();
 
-})));
+}));
diff --git a/test/form/samples/side-effect-p/_expected/amd.js b/test/form/samples/side-effect-p/_expected/amd.js
index 11f4daea9..3e8f960dd 100644
--- a/test/form/samples/side-effect-p/_expected/amd.js
+++ b/test/form/samples/side-effect-p/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const hs = document.documentElement.style;
 
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 		hs.color = "#222";
 	}
 
-});
+}));
diff --git a/test/form/samples/side-effect-p/_expected/iife.js b/test/form/samples/side-effect-p/_expected/iife.js
index 66f50c67a..f0943ed49 100644
--- a/test/form/samples/side-effect-p/_expected/iife.js
+++ b/test/form/samples/side-effect-p/_expected/iife.js
@@ -7,4 +7,4 @@
 		hs.color = "#222";
 	}
 
-}());
+})();
diff --git a/test/form/samples/side-effect-p/_expected/system.js b/test/form/samples/side-effect-p/_expected/system.js
index 2a88bc190..fc5518ad0 100644
--- a/test/form/samples/side-effect-p/_expected/system.js
+++ b/test/form/samples/side-effect-p/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const hs = document.documentElement.style;
 
@@ -9,6 +9,6 @@ System.register([], function () {
 				hs.color = "#222";
 			}
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-p/_expected/umd.js b/test/form/samples/side-effect-p/_expected/umd.js
index 275c98fbe..7f7b1a5d2 100644
--- a/test/form/samples/side-effect-p/_expected/umd.js
+++ b/test/form/samples/side-effect-p/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	const hs = document.documentElement.style;
 
@@ -9,4 +9,4 @@
 		hs.color = "#222";
 	}
 
-})));
+}));
diff --git a/test/form/samples/side-effect-s/_expected/amd.js b/test/form/samples/side-effect-s/_expected/amd.js
index f9f8229aa..a9e9419e2 100644
--- a/test/form/samples/side-effect-s/_expected/amd.js
+++ b/test/form/samples/side-effect-s/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 
 
-});
+}));
diff --git a/test/form/samples/side-effect-s/_expected/iife.js b/test/form/samples/side-effect-s/_expected/iife.js
index 43ef54268..31dfeb95e 100644
--- a/test/form/samples/side-effect-s/_expected/iife.js
+++ b/test/form/samples/side-effect-s/_expected/iife.js
@@ -3,4 +3,4 @@
 
 
 
-}());
+})();
diff --git a/test/form/samples/side-effect-s/_expected/system.js b/test/form/samples/side-effect-s/_expected/system.js
index a702f2b06..343cc3a51 100644
--- a/test/form/samples/side-effect-s/_expected/system.js
+++ b/test/form/samples/side-effect-s/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-s/_expected/umd.js b/test/form/samples/side-effect-s/_expected/umd.js
index 8bf6301d4..a39fba4f3 100644
--- a/test/form/samples/side-effect-s/_expected/umd.js
+++ b/test/form/samples/side-effect-s/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 
 
-})));
+}));
diff --git a/test/form/samples/side-effect-t/_expected/amd.js b/test/form/samples/side-effect-t/_expected/amd.js
index aeb4d723d..81b5d4389 100644
--- a/test/form/samples/side-effect-t/_expected/amd.js
+++ b/test/form/samples/side-effect-t/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo () {
 		throw new Error( 'throw side effect' );
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
 	foo();
 
-});
+}));
diff --git a/test/form/samples/side-effect-t/_expected/iife.js b/test/form/samples/side-effect-t/_expected/iife.js
index 79110d183..c43d0eddd 100644
--- a/test/form/samples/side-effect-t/_expected/iife.js
+++ b/test/form/samples/side-effect-t/_expected/iife.js
@@ -7,4 +7,4 @@
 
 	foo();
 
-}());
+})();
diff --git a/test/form/samples/side-effect-t/_expected/system.js b/test/form/samples/side-effect-t/_expected/system.js
index 14ed53c89..8e06bcb54 100644
--- a/test/form/samples/side-effect-t/_expected/system.js
+++ b/test/form/samples/side-effect-t/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function () {
+System.register('myBundle', [], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo () {
 				throw new Error( 'throw side effect' );
@@ -9,6 +9,6 @@ System.register('myBundle', [], function () {
 
 			foo();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect-t/_expected/umd.js b/test/form/samples/side-effect-t/_expected/umd.js
index 698c6927c..b419769c4 100644
--- a/test/form/samples/side-effect-t/_expected/umd.js
+++ b/test/form/samples/side-effect-t/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo () {
 		throw new Error( 'throw side effect' );
@@ -9,4 +9,4 @@
 
 	foo();
 
-})));
+}));
diff --git a/test/form/samples/side-effect/_expected/amd.js b/test/form/samples/side-effect/_expected/amd.js
index c82bf4fd2..153f3859d 100644
--- a/test/form/samples/side-effect/_expected/amd.js
+++ b/test/form/samples/side-effect/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var foo = 42;
 
 	assert.equal( foo, 42 );
 
-});
+}));
diff --git a/test/form/samples/side-effect/_expected/iife.js b/test/form/samples/side-effect/_expected/iife.js
index 5dbfbd5b0..5c4006df4 100644
--- a/test/form/samples/side-effect/_expected/iife.js
+++ b/test/form/samples/side-effect/_expected/iife.js
@@ -5,4 +5,4 @@
 
 	assert.equal( foo, 42 );
 
-}());
+})();
diff --git a/test/form/samples/side-effect/_expected/system.js b/test/form/samples/side-effect/_expected/system.js
index 8aa51d504..05d901ebb 100644
--- a/test/form/samples/side-effect/_expected/system.js
+++ b/test/form/samples/side-effect/_expected/system.js
@@ -1,12 +1,12 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = 42;
 
 			assert.equal( foo, 42 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effect/_expected/umd.js b/test/form/samples/side-effect/_expected/umd.js
index 759123f18..358e41eeb 100644
--- a/test/form/samples/side-effect/_expected/umd.js
+++ b/test/form/samples/side-effect/_expected/umd.js
@@ -1,10 +1,10 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var foo = 42;
 
 	assert.equal( foo, 42 );
 
-})));
+}));
diff --git a/test/form/samples/side-effects-break-statements/_expected/amd.js b/test/form/samples/side-effects-break-statements/_expected/amd.js
index fcb890626..1d230f1cc 100644
--- a/test/form/samples/side-effects-break-statements/_expected/amd.js
+++ b/test/form/samples/side-effects-break-statements/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	for ( let i = 0; i < 2; i++ ) {
 		console.log( 'effect' );
@@ -25,4 +25,4 @@ define(function () { 'use strict';
 		break;
 	} while ( true );
 
-});
+}));
diff --git a/test/form/samples/side-effects-break-statements/_expected/iife.js b/test/form/samples/side-effects-break-statements/_expected/iife.js
index 5977e6677..f6659b47b 100644
--- a/test/form/samples/side-effects-break-statements/_expected/iife.js
+++ b/test/form/samples/side-effects-break-statements/_expected/iife.js
@@ -26,4 +26,4 @@
 		break;
 	} while ( true );
 
-}());
+})();
diff --git a/test/form/samples/side-effects-break-statements/_expected/system.js b/test/form/samples/side-effects-break-statements/_expected/system.js
index 3bd9c2c8d..f3199167a 100644
--- a/test/form/samples/side-effects-break-statements/_expected/system.js
+++ b/test/form/samples/side-effects-break-statements/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function () {
+System.register('myBundle', [], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			for ( let i = 0; i < 2; i++ ) {
 				console.log( 'effect' );
@@ -28,6 +28,6 @@ System.register('myBundle', [], function () {
 				break;
 			} while ( true );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effects-break-statements/_expected/umd.js b/test/form/samples/side-effects-break-statements/_expected/umd.js
index 50433528f..a8527d3eb 100644
--- a/test/form/samples/side-effects-break-statements/_expected/umd.js
+++ b/test/form/samples/side-effects-break-statements/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	for ( let i = 0; i < 2; i++ ) {
 		console.log( 'effect' );
@@ -28,4 +28,4 @@
 		break;
 	} while ( true );
 
-})));
+}));
diff --git a/test/form/samples/side-effects-delete/_expected/amd.js b/test/form/samples/side-effects-delete/_expected/amd.js
index 2c24744ef..0abd4b830 100644
--- a/test/form/samples/side-effects-delete/_expected/amd.js
+++ b/test/form/samples/side-effects-delete/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	var x = {foo: 'bar'};
 	delete x.foo;
@@ -9,4 +9,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/side-effects-delete/_expected/iife.js b/test/form/samples/side-effects-delete/_expected/iife.js
index 239b0edd9..0040d79d2 100644
--- a/test/form/samples/side-effects-delete/_expected/iife.js
+++ b/test/form/samples/side-effects-delete/_expected/iife.js
@@ -12,4 +12,4 @@ var myBundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/side-effects-delete/_expected/system.js b/test/form/samples/side-effects-delete/_expected/system.js
index 7dcd588e1..65bae8c96 100644
--- a/test/form/samples/side-effects-delete/_expected/system.js
+++ b/test/form/samples/side-effects-delete/_expected/system.js
@@ -1,13 +1,13 @@
-System.register('myBundle', [], function (exports) {
+System.register('myBundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var x = exports('x', {foo: 'bar'});
 			delete x.foo;
 
 			delete globalThis.unknown.foo;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effects-delete/_expected/umd.js b/test/form/samples/side-effects-delete/_expected/umd.js
index 4c182ec13..2fb476fd0 100644
--- a/test/form/samples/side-effects-delete/_expected/umd.js
+++ b/test/form/samples/side-effects-delete/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.myBundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	var x = {foo: 'bar'};
 	delete x.foo;
@@ -13,4 +13,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/side-effects-logical-expressions/_expected/amd.js b/test/form/samples/side-effects-logical-expressions/_expected/amd.js
index 6065cf6e8..b682a2bf3 100644
--- a/test/form/samples/side-effects-logical-expressions/_expected/amd.js
+++ b/test/form/samples/side-effects-logical-expressions/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	// effect
 	console.log( 'effect' );
@@ -33,4 +33,4 @@ define(function () { 'use strict';
 	((() => () => console.log( 'effect' )))()();
 	((() => () => console.log( 'effect' )))()();
 
-});
+}));
diff --git a/test/form/samples/side-effects-logical-expressions/_expected/iife.js b/test/form/samples/side-effects-logical-expressions/_expected/iife.js
index 00fa987dc..e20911c96 100644
--- a/test/form/samples/side-effects-logical-expressions/_expected/iife.js
+++ b/test/form/samples/side-effects-logical-expressions/_expected/iife.js
@@ -34,4 +34,4 @@
 	((() => () => console.log( 'effect' )))()();
 	((() => () => console.log( 'effect' )))()();
 
-}());
+})();
diff --git a/test/form/samples/side-effects-logical-expressions/_expected/system.js b/test/form/samples/side-effects-logical-expressions/_expected/system.js
index 5a5da5a79..d8489dc70 100644
--- a/test/form/samples/side-effects-logical-expressions/_expected/system.js
+++ b/test/form/samples/side-effects-logical-expressions/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			// effect
 			console.log( 'effect' );
@@ -36,6 +36,6 @@ System.register([], function () {
 			((() => () => console.log( 'effect' )))()();
 			((() => () => console.log( 'effect' )))()();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effects-logical-expressions/_expected/umd.js b/test/form/samples/side-effects-logical-expressions/_expected/umd.js
index 1ab69e5e2..34c4e745c 100644
--- a/test/form/samples/side-effects-logical-expressions/_expected/umd.js
+++ b/test/form/samples/side-effects-logical-expressions/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	// effect
 	console.log( 'effect' );
@@ -36,4 +36,4 @@
 	((() => () => console.log( 'effect' )))()();
 	((() => () => console.log( 'effect' )))()();
 
-})));
+}));
diff --git a/test/form/samples/side-effects-parameter-defaults/_expected/amd.js b/test/form/samples/side-effects-parameter-defaults/_expected/amd.js
index 3ad4ce95b..5c6eb650c 100644
--- a/test/form/samples/side-effects-parameter-defaults/_expected/amd.js
+++ b/test/form/samples/side-effects-parameter-defaults/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const effect = () => console.log( 'effect' );
 
@@ -26,4 +26,4 @@ define(function () { 'use strict';
 	};
 	bArr();
 
-});
+}));
diff --git a/test/form/samples/side-effects-parameter-defaults/_expected/iife.js b/test/form/samples/side-effects-parameter-defaults/_expected/iife.js
index 9247ef783..2b93c21ad 100644
--- a/test/form/samples/side-effects-parameter-defaults/_expected/iife.js
+++ b/test/form/samples/side-effects-parameter-defaults/_expected/iife.js
@@ -27,4 +27,4 @@
 	};
 	bArr();
 
-}());
+})();
diff --git a/test/form/samples/side-effects-parameter-defaults/_expected/system.js b/test/form/samples/side-effects-parameter-defaults/_expected/system.js
index d4501ce0b..8f8694759 100644
--- a/test/form/samples/side-effects-parameter-defaults/_expected/system.js
+++ b/test/form/samples/side-effects-parameter-defaults/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const effect = () => console.log( 'effect' );
 
@@ -29,6 +29,6 @@ System.register([], function () {
 			};
 			bArr();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effects-parameter-defaults/_expected/umd.js b/test/form/samples/side-effects-parameter-defaults/_expected/umd.js
index 76d08d8ba..c087fe1e9 100644
--- a/test/form/samples/side-effects-parameter-defaults/_expected/umd.js
+++ b/test/form/samples/side-effects-parameter-defaults/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	const effect = () => console.log( 'effect' );
 
@@ -29,4 +29,4 @@
 	};
 	bArr();
 
-})));
+}));
diff --git a/test/form/samples/side-effects-pattern-defaults/_expected/amd.js b/test/form/samples/side-effects-pattern-defaults/_expected/amd.js
index 85339cc44..0532ff1d0 100644
--- a/test/form/samples/side-effects-pattern-defaults/_expected/amd.js
+++ b/test/form/samples/side-effects-pattern-defaults/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const effect = () => console.log( 'effect' );
 	var { x: a2 = effect() } = {};
@@ -28,4 +28,4 @@ define(function () { 'use strict';
 	[ d4 = effect ] = [];
 	d4();
 
-});
+}));
diff --git a/test/form/samples/side-effects-pattern-defaults/_expected/iife.js b/test/form/samples/side-effects-pattern-defaults/_expected/iife.js
index 4ea4fb74c..b73704fb4 100644
--- a/test/form/samples/side-effects-pattern-defaults/_expected/iife.js
+++ b/test/form/samples/side-effects-pattern-defaults/_expected/iife.js
@@ -29,4 +29,4 @@
 	[ d4 = effect ] = [];
 	d4();
 
-}());
+})();
diff --git a/test/form/samples/side-effects-pattern-defaults/_expected/system.js b/test/form/samples/side-effects-pattern-defaults/_expected/system.js
index 1780eb25d..f2a95997c 100644
--- a/test/form/samples/side-effects-pattern-defaults/_expected/system.js
+++ b/test/form/samples/side-effects-pattern-defaults/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const effect = () => console.log( 'effect' );
 			var { x: a2 = effect() } = {};
@@ -31,6 +31,6 @@ System.register([], function () {
 			[ d4 = effect ] = [];
 			d4();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effects-pattern-defaults/_expected/umd.js b/test/form/samples/side-effects-pattern-defaults/_expected/umd.js
index 87287b523..971c4e45f 100644
--- a/test/form/samples/side-effects-pattern-defaults/_expected/umd.js
+++ b/test/form/samples/side-effects-pattern-defaults/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	const effect = () => console.log( 'effect' );
 	var { x: a2 = effect() } = {};
@@ -31,4 +31,4 @@
 	[ d4 = effect ] = [];
 	d4();
 
-})));
+}));
diff --git a/test/form/samples/side-effects-prototype-assignments/_expected/amd.js b/test/form/samples/side-effects-prototype-assignments/_expected/amd.js
index d1d09de5b..143e94218 100644
--- a/test/form/samples/side-effects-prototype-assignments/_expected/amd.js
+++ b/test/form/samples/side-effects-prototype-assignments/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function V8Engine () {}
 
@@ -11,4 +11,4 @@ define(function () { 'use strict';
 
 	console.log( new V8Engine().toString() );
 
-});
+}));
diff --git a/test/form/samples/side-effects-prototype-assignments/_expected/iife.js b/test/form/samples/side-effects-prototype-assignments/_expected/iife.js
index de3d76004..41af21f3b 100644
--- a/test/form/samples/side-effects-prototype-assignments/_expected/iife.js
+++ b/test/form/samples/side-effects-prototype-assignments/_expected/iife.js
@@ -12,4 +12,4 @@
 
 	console.log( new V8Engine().toString() );
 
-}());
+})();
diff --git a/test/form/samples/side-effects-prototype-assignments/_expected/system.js b/test/form/samples/side-effects-prototype-assignments/_expected/system.js
index 704821501..aaa286412 100644
--- a/test/form/samples/side-effects-prototype-assignments/_expected/system.js
+++ b/test/form/samples/side-effects-prototype-assignments/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function V8Engine () {}
 
@@ -14,6 +14,6 @@ System.register([], function () {
 
 			console.log( new V8Engine().toString() );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effects-prototype-assignments/_expected/umd.js b/test/form/samples/side-effects-prototype-assignments/_expected/umd.js
index bb823eb6f..26eb88fc9 100644
--- a/test/form/samples/side-effects-prototype-assignments/_expected/umd.js
+++ b/test/form/samples/side-effects-prototype-assignments/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function V8Engine () {}
 
@@ -14,4 +14,4 @@
 
 	console.log( new V8Engine().toString() );
 
-})));
+}));
diff --git a/test/form/samples/side-effects-reassignment/_expected/amd.js b/test/form/samples/side-effects-reassignment/_expected/amd.js
index 1056781e7..49decd834 100644
--- a/test/form/samples/side-effects-reassignment/_expected/amd.js
+++ b/test/form/samples/side-effects-reassignment/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var effect = function() {
 		console.log('effect');
@@ -7,4 +7,4 @@ define(function () { 'use strict';
 	var alsoEffect = effect;
 	alsoEffect();
 
-});
+}));
diff --git a/test/form/samples/side-effects-reassignment/_expected/iife.js b/test/form/samples/side-effects-reassignment/_expected/iife.js
index 2d21989b4..1679dbbf0 100644
--- a/test/form/samples/side-effects-reassignment/_expected/iife.js
+++ b/test/form/samples/side-effects-reassignment/_expected/iife.js
@@ -8,4 +8,4 @@
 	var alsoEffect = effect;
 	alsoEffect();
 
-}());
+})();
diff --git a/test/form/samples/side-effects-reassignment/_expected/system.js b/test/form/samples/side-effects-reassignment/_expected/system.js
index 8c7b33a50..b10a824e2 100644
--- a/test/form/samples/side-effects-reassignment/_expected/system.js
+++ b/test/form/samples/side-effects-reassignment/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var effect = function() {
 				console.log('effect');
@@ -10,6 +10,6 @@ System.register([], function () {
 			var alsoEffect = effect;
 			alsoEffect();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effects-reassignment/_expected/umd.js b/test/form/samples/side-effects-reassignment/_expected/umd.js
index 433c5241b..3a4cffb24 100644
--- a/test/form/samples/side-effects-reassignment/_expected/umd.js
+++ b/test/form/samples/side-effects-reassignment/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var effect = function() {
 		console.log('effect');
@@ -10,4 +10,4 @@
 	var alsoEffect = effect;
 	alsoEffect();
 
-})));
+}));
diff --git a/test/form/samples/side-effects-return-statements/_expected/amd.js b/test/form/samples/side-effects-return-statements/_expected/amd.js
index d2f35ca8d..dcdb995d3 100644
--- a/test/form/samples/side-effects-return-statements/_expected/amd.js
+++ b/test/form/samples/side-effects-return-statements/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function isUsed ( x ) {
 		if ( x ) {
@@ -9,4 +9,4 @@ define(function () { 'use strict';
 
 	assert.equal( isUsed( true ), 2 );
 
-});
+}));
diff --git a/test/form/samples/side-effects-return-statements/_expected/iife.js b/test/form/samples/side-effects-return-statements/_expected/iife.js
index 12f8e3e20..c9da6fbbc 100644
--- a/test/form/samples/side-effects-return-statements/_expected/iife.js
+++ b/test/form/samples/side-effects-return-statements/_expected/iife.js
@@ -10,4 +10,4 @@
 
 	assert.equal( isUsed( true ), 2 );
 
-}());
+})();
diff --git a/test/form/samples/side-effects-return-statements/_expected/system.js b/test/form/samples/side-effects-return-statements/_expected/system.js
index 8883f155e..968b34163 100644
--- a/test/form/samples/side-effects-return-statements/_expected/system.js
+++ b/test/form/samples/side-effects-return-statements/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function () {
+System.register('myBundle', [], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function isUsed ( x ) {
 				if ( x ) {
@@ -12,6 +12,6 @@ System.register('myBundle', [], function () {
 
 			assert.equal( isUsed( true ), 2 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/side-effects-return-statements/_expected/umd.js b/test/form/samples/side-effects-return-statements/_expected/umd.js
index 255d0d9f3..97a5be316 100644
--- a/test/form/samples/side-effects-return-statements/_expected/umd.js
+++ b/test/form/samples/side-effects-return-statements/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function isUsed ( x ) {
 		if ( x ) {
@@ -12,4 +12,4 @@
 
 	assert.equal( isUsed( true ), 2 );
 
-})));
+}));
diff --git a/test/form/samples/simplified-initializer/_expected/amd.js b/test/form/samples/simplified-initializer/_expected/amd.js
index a64a179e7..6819298bd 100644
--- a/test/form/samples/simplified-initializer/_expected/amd.js
+++ b/test/form/samples/simplified-initializer/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	const a = window.config ? 1 : 2;
 	const b = 1 ;
@@ -10,4 +10,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/simplified-initializer/_expected/iife.js b/test/form/samples/simplified-initializer/_expected/iife.js
index 4f265bd82..150de538b 100644
--- a/test/form/samples/simplified-initializer/_expected/iife.js
+++ b/test/form/samples/simplified-initializer/_expected/iife.js
@@ -13,4 +13,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/simplified-initializer/_expected/system.js b/test/form/samples/simplified-initializer/_expected/system.js
index 0f66633ac..7a2b6a32d 100644
--- a/test/form/samples/simplified-initializer/_expected/system.js
+++ b/test/form/samples/simplified-initializer/_expected/system.js
@@ -1,12 +1,12 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const a = exports('a', window.config ? 1 : 2);
 			const b = exports('b', 1 );
 			const c = exports('c', 2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/simplified-initializer/_expected/umd.js b/test/form/samples/simplified-initializer/_expected/umd.js
index 72b26c410..7acdf1304 100644
--- a/test/form/samples/simplified-initializer/_expected/umd.js
+++ b/test/form/samples/simplified-initializer/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	const a = window.config ? 1 : 2;
 	const b = 1 ;
@@ -14,4 +14,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/skips-dead-branches-b/_expected/amd.js b/test/form/samples/skips-dead-branches-b/_expected/amd.js
index c19290037..6c54aa2f5 100644
--- a/test/form/samples/skips-dead-branches-b/_expected/amd.js
+++ b/test/form/samples/skips-dead-branches-b/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function bar () {
 		console.log( 'this should be included' );
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
 	bar();
 
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-b/_expected/iife.js b/test/form/samples/skips-dead-branches-b/_expected/iife.js
index 3b894d92a..bb5244989 100644
--- a/test/form/samples/skips-dead-branches-b/_expected/iife.js
+++ b/test/form/samples/skips-dead-branches-b/_expected/iife.js
@@ -7,4 +7,4 @@
 
 	bar();
 
-}());
+})();
diff --git a/test/form/samples/skips-dead-branches-b/_expected/system.js b/test/form/samples/skips-dead-branches-b/_expected/system.js
index 606d00fb1..5d704ace2 100644
--- a/test/form/samples/skips-dead-branches-b/_expected/system.js
+++ b/test/form/samples/skips-dead-branches-b/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function bar () {
 				console.log( 'this should be included' );
@@ -9,6 +9,6 @@ System.register([], function () {
 
 			bar();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-b/_expected/umd.js b/test/form/samples/skips-dead-branches-b/_expected/umd.js
index 06df11106..aa3c876a3 100644
--- a/test/form/samples/skips-dead-branches-b/_expected/umd.js
+++ b/test/form/samples/skips-dead-branches-b/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function bar () {
 		console.log( 'this should be included' );
@@ -9,4 +9,4 @@
 
 	bar();
 
-})));
+}));
diff --git a/test/form/samples/skips-dead-branches-c/_expected/amd.js b/test/form/samples/skips-dead-branches-c/_expected/amd.js
index ee0987c25..0db41c4cd 100644
--- a/test/form/samples/skips-dead-branches-c/_expected/amd.js
+++ b/test/form/samples/skips-dead-branches-c/_expected/amd.js
@@ -1,8 +1,8 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function bar () {
 		console.log( 'this should be included' );
 	}
 	bar();
 
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-c/_expected/iife.js b/test/form/samples/skips-dead-branches-c/_expected/iife.js
index fe8653ab5..3aeff6ca0 100644
--- a/test/form/samples/skips-dead-branches-c/_expected/iife.js
+++ b/test/form/samples/skips-dead-branches-c/_expected/iife.js
@@ -6,4 +6,4 @@
 	}
 	bar();
 
-}());
+})();
diff --git a/test/form/samples/skips-dead-branches-c/_expected/system.js b/test/form/samples/skips-dead-branches-c/_expected/system.js
index add436161..07b082ad1 100644
--- a/test/form/samples/skips-dead-branches-c/_expected/system.js
+++ b/test/form/samples/skips-dead-branches-c/_expected/system.js
@@ -1,13 +1,13 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function bar () {
 				console.log( 'this should be included' );
 			}
 			bar();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-c/_expected/umd.js b/test/form/samples/skips-dead-branches-c/_expected/umd.js
index 0d014e6e5..de161b324 100644
--- a/test/form/samples/skips-dead-branches-c/_expected/umd.js
+++ b/test/form/samples/skips-dead-branches-c/_expected/umd.js
@@ -1,11 +1,11 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function bar () {
 		console.log( 'this should be included' );
 	}
 	bar();
 
-})));
+}));
diff --git a/test/form/samples/skips-dead-branches-d/_expected/amd.js b/test/form/samples/skips-dead-branches-d/_expected/amd.js
index ee0987c25..0db41c4cd 100644
--- a/test/form/samples/skips-dead-branches-d/_expected/amd.js
+++ b/test/form/samples/skips-dead-branches-d/_expected/amd.js
@@ -1,8 +1,8 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function bar () {
 		console.log( 'this should be included' );
 	}
 	bar();
 
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-d/_expected/iife.js b/test/form/samples/skips-dead-branches-d/_expected/iife.js
index fe8653ab5..3aeff6ca0 100644
--- a/test/form/samples/skips-dead-branches-d/_expected/iife.js
+++ b/test/form/samples/skips-dead-branches-d/_expected/iife.js
@@ -6,4 +6,4 @@
 	}
 	bar();
 
-}());
+})();
diff --git a/test/form/samples/skips-dead-branches-d/_expected/system.js b/test/form/samples/skips-dead-branches-d/_expected/system.js
index add436161..07b082ad1 100644
--- a/test/form/samples/skips-dead-branches-d/_expected/system.js
+++ b/test/form/samples/skips-dead-branches-d/_expected/system.js
@@ -1,13 +1,13 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function bar () {
 				console.log( 'this should be included' );
 			}
 			bar();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-d/_expected/umd.js b/test/form/samples/skips-dead-branches-d/_expected/umd.js
index 0d014e6e5..de161b324 100644
--- a/test/form/samples/skips-dead-branches-d/_expected/umd.js
+++ b/test/form/samples/skips-dead-branches-d/_expected/umd.js
@@ -1,11 +1,11 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function bar () {
 		console.log( 'this should be included' );
 	}
 	bar();
 
-})));
+}));
diff --git a/test/form/samples/skips-dead-branches-e/_expected/amd.js b/test/form/samples/skips-dead-branches-e/_expected/amd.js
index ee0987c25..0db41c4cd 100644
--- a/test/form/samples/skips-dead-branches-e/_expected/amd.js
+++ b/test/form/samples/skips-dead-branches-e/_expected/amd.js
@@ -1,8 +1,8 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function bar () {
 		console.log( 'this should be included' );
 	}
 	bar();
 
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-e/_expected/iife.js b/test/form/samples/skips-dead-branches-e/_expected/iife.js
index fe8653ab5..3aeff6ca0 100644
--- a/test/form/samples/skips-dead-branches-e/_expected/iife.js
+++ b/test/form/samples/skips-dead-branches-e/_expected/iife.js
@@ -6,4 +6,4 @@
 	}
 	bar();
 
-}());
+})();
diff --git a/test/form/samples/skips-dead-branches-e/_expected/system.js b/test/form/samples/skips-dead-branches-e/_expected/system.js
index add436161..07b082ad1 100644
--- a/test/form/samples/skips-dead-branches-e/_expected/system.js
+++ b/test/form/samples/skips-dead-branches-e/_expected/system.js
@@ -1,13 +1,13 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function bar () {
 				console.log( 'this should be included' );
 			}
 			bar();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-e/_expected/umd.js b/test/form/samples/skips-dead-branches-e/_expected/umd.js
index 0d014e6e5..de161b324 100644
--- a/test/form/samples/skips-dead-branches-e/_expected/umd.js
+++ b/test/form/samples/skips-dead-branches-e/_expected/umd.js
@@ -1,11 +1,11 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function bar () {
 		console.log( 'this should be included' );
 	}
 	bar();
 
-})));
+}));
diff --git a/test/form/samples/skips-dead-branches-f/_expected/amd.js b/test/form/samples/skips-dead-branches-f/_expected/amd.js
index ee0987c25..0db41c4cd 100644
--- a/test/form/samples/skips-dead-branches-f/_expected/amd.js
+++ b/test/form/samples/skips-dead-branches-f/_expected/amd.js
@@ -1,8 +1,8 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function bar () {
 		console.log( 'this should be included' );
 	}
 	bar();
 
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-f/_expected/iife.js b/test/form/samples/skips-dead-branches-f/_expected/iife.js
index fe8653ab5..3aeff6ca0 100644
--- a/test/form/samples/skips-dead-branches-f/_expected/iife.js
+++ b/test/form/samples/skips-dead-branches-f/_expected/iife.js
@@ -6,4 +6,4 @@
 	}
 	bar();
 
-}());
+})();
diff --git a/test/form/samples/skips-dead-branches-f/_expected/system.js b/test/form/samples/skips-dead-branches-f/_expected/system.js
index add436161..07b082ad1 100644
--- a/test/form/samples/skips-dead-branches-f/_expected/system.js
+++ b/test/form/samples/skips-dead-branches-f/_expected/system.js
@@ -1,13 +1,13 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function bar () {
 				console.log( 'this should be included' );
 			}
 			bar();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-f/_expected/umd.js b/test/form/samples/skips-dead-branches-f/_expected/umd.js
index 0d014e6e5..de161b324 100644
--- a/test/form/samples/skips-dead-branches-f/_expected/umd.js
+++ b/test/form/samples/skips-dead-branches-f/_expected/umd.js
@@ -1,11 +1,11 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function bar () {
 		console.log( 'this should be included' );
 	}
 	bar();
 
-})));
+}));
diff --git a/test/form/samples/skips-dead-branches-g/_expected/amd.js b/test/form/samples/skips-dead-branches-g/_expected/amd.js
index 463cee0be..7a8acfa9d 100644
--- a/test/form/samples/skips-dead-branches-g/_expected/amd.js
+++ b/test/form/samples/skips-dead-branches-g/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var a = 0;
 	var b = 1;
@@ -8,4 +8,4 @@ define(function () { 'use strict';
 
 	console.log( x + y );
 
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-g/_expected/iife.js b/test/form/samples/skips-dead-branches-g/_expected/iife.js
index c5763647b..16813c0d0 100644
--- a/test/form/samples/skips-dead-branches-g/_expected/iife.js
+++ b/test/form/samples/skips-dead-branches-g/_expected/iife.js
@@ -9,4 +9,4 @@
 
 	console.log( x + y );
 
-}());
+})();
diff --git a/test/form/samples/skips-dead-branches-g/_expected/system.js b/test/form/samples/skips-dead-branches-g/_expected/system.js
index 680a2b3c9..058775e17 100644
--- a/test/form/samples/skips-dead-branches-g/_expected/system.js
+++ b/test/form/samples/skips-dead-branches-g/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var a = 0;
 			var b = 1;
@@ -11,6 +11,6 @@ System.register([], function () {
 
 			console.log( x + y );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-g/_expected/umd.js b/test/form/samples/skips-dead-branches-g/_expected/umd.js
index 23e965b52..5aa413b63 100644
--- a/test/form/samples/skips-dead-branches-g/_expected/umd.js
+++ b/test/form/samples/skips-dead-branches-g/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var a = 0;
 	var b = 1;
@@ -11,4 +11,4 @@
 
 	console.log( x + y );
 
-})));
+}));
diff --git a/test/form/samples/skips-dead-branches-h/_expected/amd.js b/test/form/samples/skips-dead-branches-h/_expected/amd.js
index 6847fcb33..00c37c45f 100644
--- a/test/form/samples/skips-dead-branches-h/_expected/amd.js
+++ b/test/form/samples/skips-dead-branches-h/_expected/amd.js
@@ -1,8 +1,8 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function baz() {
 		console.log("baz");
 	}
 	baz();
 
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-h/_expected/iife.js b/test/form/samples/skips-dead-branches-h/_expected/iife.js
index 88532fd9b..a59b9e715 100644
--- a/test/form/samples/skips-dead-branches-h/_expected/iife.js
+++ b/test/form/samples/skips-dead-branches-h/_expected/iife.js
@@ -6,4 +6,4 @@
 	}
 	baz();
 
-}());
+})();
diff --git a/test/form/samples/skips-dead-branches-h/_expected/system.js b/test/form/samples/skips-dead-branches-h/_expected/system.js
index b77aee193..0f0b193d4 100644
--- a/test/form/samples/skips-dead-branches-h/_expected/system.js
+++ b/test/form/samples/skips-dead-branches-h/_expected/system.js
@@ -1,13 +1,13 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function baz() {
 				console.log("baz");
 			}
 			baz();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-h/_expected/umd.js b/test/form/samples/skips-dead-branches-h/_expected/umd.js
index 7f38695c8..c56026e3c 100644
--- a/test/form/samples/skips-dead-branches-h/_expected/umd.js
+++ b/test/form/samples/skips-dead-branches-h/_expected/umd.js
@@ -1,11 +1,11 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function baz() {
 		console.log("baz");
 	}
 	baz();
 
-})));
+}));
diff --git a/test/form/samples/skips-dead-branches-i/_expected/amd.js b/test/form/samples/skips-dead-branches-i/_expected/amd.js
index 6847fcb33..00c37c45f 100644
--- a/test/form/samples/skips-dead-branches-i/_expected/amd.js
+++ b/test/form/samples/skips-dead-branches-i/_expected/amd.js
@@ -1,8 +1,8 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function baz() {
 		console.log("baz");
 	}
 	baz();
 
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-i/_expected/iife.js b/test/form/samples/skips-dead-branches-i/_expected/iife.js
index 88532fd9b..a59b9e715 100644
--- a/test/form/samples/skips-dead-branches-i/_expected/iife.js
+++ b/test/form/samples/skips-dead-branches-i/_expected/iife.js
@@ -6,4 +6,4 @@
 	}
 	baz();
 
-}());
+})();
diff --git a/test/form/samples/skips-dead-branches-i/_expected/system.js b/test/form/samples/skips-dead-branches-i/_expected/system.js
index b77aee193..0f0b193d4 100644
--- a/test/form/samples/skips-dead-branches-i/_expected/system.js
+++ b/test/form/samples/skips-dead-branches-i/_expected/system.js
@@ -1,13 +1,13 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function baz() {
 				console.log("baz");
 			}
 			baz();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-i/_expected/umd.js b/test/form/samples/skips-dead-branches-i/_expected/umd.js
index 7f38695c8..c56026e3c 100644
--- a/test/form/samples/skips-dead-branches-i/_expected/umd.js
+++ b/test/form/samples/skips-dead-branches-i/_expected/umd.js
@@ -1,11 +1,11 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function baz() {
 		console.log("baz");
 	}
 	baz();
 
-})));
+}));
diff --git a/test/form/samples/skips-dead-branches-j/_expected/amd.js b/test/form/samples/skips-dead-branches-j/_expected/amd.js
index 9ee958959..fa6285acc 100644
--- a/test/form/samples/skips-dead-branches-j/_expected/amd.js
+++ b/test/form/samples/skips-dead-branches-j/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	{
 		console.log( 'true' );
 	}
 
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-j/_expected/iife.js b/test/form/samples/skips-dead-branches-j/_expected/iife.js
index c506520e1..926618c9e 100644
--- a/test/form/samples/skips-dead-branches-j/_expected/iife.js
+++ b/test/form/samples/skips-dead-branches-j/_expected/iife.js
@@ -5,4 +5,4 @@
 		console.log( 'true' );
 	}
 
-}());
+})();
diff --git a/test/form/samples/skips-dead-branches-j/_expected/system.js b/test/form/samples/skips-dead-branches-j/_expected/system.js
index 4385dfef9..574815f3a 100644
--- a/test/form/samples/skips-dead-branches-j/_expected/system.js
+++ b/test/form/samples/skips-dead-branches-j/_expected/system.js
@@ -1,12 +1,12 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			{
 				console.log( 'true' );
 			}
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/skips-dead-branches-j/_expected/umd.js b/test/form/samples/skips-dead-branches-j/_expected/umd.js
index 7a91a0f6e..70fb1b091 100644
--- a/test/form/samples/skips-dead-branches-j/_expected/umd.js
+++ b/test/form/samples/skips-dead-branches-j/_expected/umd.js
@@ -1,10 +1,10 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	{
 		console.log( 'true' );
 	}
 
-})));
+}));
diff --git a/test/form/samples/slash-in-function-parameters/_expected/amd.js b/test/form/samples/slash-in-function-parameters/_expected/amd.js
index 31fc3e255..645edb113 100644
--- a/test/form/samples/slash-in-function-parameters/_expected/amd.js
+++ b/test/form/samples/slash-in-function-parameters/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	class someClass {}
 
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
 	console.log(someClass, someFunction);
 
-});
+}));
diff --git a/test/form/samples/slash-in-function-parameters/_expected/iife.js b/test/form/samples/slash-in-function-parameters/_expected/iife.js
index 4e673f658..001447efc 100644
--- a/test/form/samples/slash-in-function-parameters/_expected/iife.js
+++ b/test/form/samples/slash-in-function-parameters/_expected/iife.js
@@ -7,4 +7,4 @@
 
 	console.log(someClass, someFunction);
 
-}());
+})();
diff --git a/test/form/samples/slash-in-function-parameters/_expected/system.js b/test/form/samples/slash-in-function-parameters/_expected/system.js
index 1c611a50f..ad1bb2ba3 100644
--- a/test/form/samples/slash-in-function-parameters/_expected/system.js
+++ b/test/form/samples/slash-in-function-parameters/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			class someClass {}
 
@@ -9,6 +9,6 @@ System.register([], function () {
 
 			console.log(someClass, someFunction);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/slash-in-function-parameters/_expected/umd.js b/test/form/samples/slash-in-function-parameters/_expected/umd.js
index 2d20f9f44..ae534f7d8 100644
--- a/test/form/samples/slash-in-function-parameters/_expected/umd.js
+++ b/test/form/samples/slash-in-function-parameters/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	class someClass {}
 
@@ -9,4 +9,4 @@
 
 	console.log(someClass, someFunction);
 
-})));
+}));
diff --git a/test/form/samples/sourcemaps-excludesources/_expected/amd.js b/test/form/samples/sourcemaps-excludesources/_expected/amd.js
index e142f3ab9..4a57bb0a1 100644
--- a/test/form/samples/sourcemaps-excludesources/_expected/amd.js
+++ b/test/form/samples/sourcemaps-excludesources/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo () {
 		console.log( 'hello from foo.js' );
@@ -13,5 +13,5 @@ define(function () { 'use strict';
 	foo();
 	bar();
 
-});
+}));
 //# sourceMappingURL=amd.js.map
diff --git a/test/form/samples/sourcemaps-excludesources/_expected/iife.js b/test/form/samples/sourcemaps-excludesources/_expected/iife.js
index 9d10bae7f..26d1b3ca3 100644
--- a/test/form/samples/sourcemaps-excludesources/_expected/iife.js
+++ b/test/form/samples/sourcemaps-excludesources/_expected/iife.js
@@ -14,5 +14,5 @@
 	foo();
 	bar();
 
-}());
+})();
 //# sourceMappingURL=iife.js.map
diff --git a/test/form/samples/sourcemaps-excludesources/_expected/system.js b/test/form/samples/sourcemaps-excludesources/_expected/system.js
index 0e5a1020f..0d0d48d6a 100644
--- a/test/form/samples/sourcemaps-excludesources/_expected/system.js
+++ b/test/form/samples/sourcemaps-excludesources/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo () {
 				console.log( 'hello from foo.js' );
@@ -16,7 +16,7 @@ System.register([], function () {
 			foo();
 			bar();
 
-		}
+		})
 	};
-});
+}));
 //# sourceMappingURL=system.js.map
diff --git a/test/form/samples/sourcemaps-excludesources/_expected/system.js.map b/test/form/samples/sourcemaps-excludesources/_expected/system.js.map
index 71d46619b..a3e4779e1 100644
--- a/test/form/samples/sourcemaps-excludesources/_expected/system.js.map
+++ b/test/form/samples/sourcemaps-excludesources/_expected/system.js.map
@@ -1 +1 @@
-{"version":3,"file":"system.js","sources":["../foo.js","../bar.js","../main.js"],"sourcesContent":null,"names":[],"mappings":";;;;;GAAe,SAAS,GAAG,IAAI;GAC/B,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,CAAC;GACpC;;GCFe,SAAS,GAAG,IAAI;GAC/B,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,CAAC;GACpC;;GCCA,OAAO,CAAC,GAAG,EAAE,oBAAoB,EAAE,CAAC;AACpC;GACA,GAAG,EAAE,CAAC;GACN,GAAG,EAAE;;;;;;"}
\ No newline at end of file
+{"version":3,"file":"system.js","sources":["../foo.js","../bar.js","../main.js"],"sourcesContent":null,"names":[],"mappings":";;;;;GAAe,SAAS,GAAG,IAAI;GAC/B,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,CAAC;GACpC;;GCFe,SAAS,GAAG,IAAI;GAC/B,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,CAAC;GACpC;;GCCA,OAAO,CAAC,GAAG,EAAE,oBAAoB,EAAE,CAAC;AACpC;GACA,GAAG,EAAE,CAAC;GACN,GAAG,EAAE;;;;;;;;"}
\ No newline at end of file
diff --git a/test/form/samples/sourcemaps-excludesources/_expected/umd.js b/test/form/samples/sourcemaps-excludesources/_expected/umd.js
index 4e06d25f4..e83feed72 100644
--- a/test/form/samples/sourcemaps-excludesources/_expected/umd.js
+++ b/test/form/samples/sourcemaps-excludesources/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo () {
 		console.log( 'hello from foo.js' );
@@ -16,5 +16,5 @@
 	foo();
 	bar();
 
-})));
+}));
 //# sourceMappingURL=umd.js.map
diff --git a/test/form/samples/sourcemaps-external/_expected/amd.js b/test/form/samples/sourcemaps-external/_expected/amd.js
index e142f3ab9..4a57bb0a1 100644
--- a/test/form/samples/sourcemaps-external/_expected/amd.js
+++ b/test/form/samples/sourcemaps-external/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo () {
 		console.log( 'hello from foo.js' );
@@ -13,5 +13,5 @@ define(function () { 'use strict';
 	foo();
 	bar();
 
-});
+}));
 //# sourceMappingURL=amd.js.map
diff --git a/test/form/samples/sourcemaps-external/_expected/iife.js b/test/form/samples/sourcemaps-external/_expected/iife.js
index 9d10bae7f..26d1b3ca3 100644
--- a/test/form/samples/sourcemaps-external/_expected/iife.js
+++ b/test/form/samples/sourcemaps-external/_expected/iife.js
@@ -14,5 +14,5 @@
 	foo();
 	bar();
 
-}());
+})();
 //# sourceMappingURL=iife.js.map
diff --git a/test/form/samples/sourcemaps-external/_expected/system.js b/test/form/samples/sourcemaps-external/_expected/system.js
index 0e5a1020f..0d0d48d6a 100644
--- a/test/form/samples/sourcemaps-external/_expected/system.js
+++ b/test/form/samples/sourcemaps-external/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo () {
 				console.log( 'hello from foo.js' );
@@ -16,7 +16,7 @@ System.register([], function () {
 			foo();
 			bar();
 
-		}
+		})
 	};
-});
+}));
 //# sourceMappingURL=system.js.map
diff --git a/test/form/samples/sourcemaps-external/_expected/system.js.map b/test/form/samples/sourcemaps-external/_expected/system.js.map
index 2d6df9a00..9a87c4bb2 100644
--- a/test/form/samples/sourcemaps-external/_expected/system.js.map
+++ b/test/form/samples/sourcemaps-external/_expected/system.js.map
@@ -1 +1 @@
-{"version":3,"file":"system.js","sources":["../foo.js","../bar.js","../main.js"],"sourcesContent":["export default function foo () {\n\tconsole.log( 'hello from foo.js' );\n}\n","export default function bar () {\n\tconsole.log( 'hello from bar.js' );\n}\n","import foo from './foo';\nimport bar from './bar';\n\nconsole.log( 'hello from main.js' );\n\nfoo();\nbar();\n"],"names":[],"mappings":";;;;;GAAe,SAAS,GAAG,IAAI;GAC/B,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,CAAC;GACpC;;GCFe,SAAS,GAAG,IAAI;GAC/B,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,CAAC;GACpC;;GCCA,OAAO,CAAC,GAAG,EAAE,oBAAoB,EAAE,CAAC;AACpC;GACA,GAAG,EAAE,CAAC;GACN,GAAG,EAAE;;;;;;"}
\ No newline at end of file
+{"version":3,"file":"system.js","sources":["../foo.js","../bar.js","../main.js"],"sourcesContent":["export default function foo () {\n\tconsole.log( 'hello from foo.js' );\n}\n","export default function bar () {\n\tconsole.log( 'hello from bar.js' );\n}\n","import foo from './foo';\nimport bar from './bar';\n\nconsole.log( 'hello from main.js' );\n\nfoo();\nbar();\n"],"names":[],"mappings":";;;;;GAAe,SAAS,GAAG,IAAI;GAC/B,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,CAAC;GACpC;;GCFe,SAAS,GAAG,IAAI;GAC/B,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,CAAC;GACpC;;GCCA,OAAO,CAAC,GAAG,EAAE,oBAAoB,EAAE,CAAC;AACpC;GACA,GAAG,EAAE,CAAC;GACN,GAAG,EAAE;;;;;;;;"}
\ No newline at end of file
diff --git a/test/form/samples/sourcemaps-external/_expected/umd.js b/test/form/samples/sourcemaps-external/_expected/umd.js
index 4e06d25f4..e83feed72 100644
--- a/test/form/samples/sourcemaps-external/_expected/umd.js
+++ b/test/form/samples/sourcemaps-external/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo () {
 		console.log( 'hello from foo.js' );
@@ -16,5 +16,5 @@
 	foo();
 	bar();
 
-})));
+}));
 //# sourceMappingURL=umd.js.map
diff --git a/test/form/samples/sourcemaps-hidden/_expected/amd.js b/test/form/samples/sourcemaps-hidden/_expected/amd.js
index da7dafc68..cf7f78d49 100644
--- a/test/form/samples/sourcemaps-hidden/_expected/amd.js
+++ b/test/form/samples/sourcemaps-hidden/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo () {
 		console.log( 'hello from foo.js' );
@@ -13,4 +13,4 @@ define(function () { 'use strict';
 	foo();
 	bar();
 
-});
+}));
diff --git a/test/form/samples/sourcemaps-hidden/_expected/iife.js b/test/form/samples/sourcemaps-hidden/_expected/iife.js
index eceb9d3de..b14e92b45 100644
--- a/test/form/samples/sourcemaps-hidden/_expected/iife.js
+++ b/test/form/samples/sourcemaps-hidden/_expected/iife.js
@@ -14,4 +14,4 @@
 	foo();
 	bar();
 
-}());
+})();
diff --git a/test/form/samples/sourcemaps-hidden/_expected/system.js b/test/form/samples/sourcemaps-hidden/_expected/system.js
index 698e34e6f..9b5839e52 100644
--- a/test/form/samples/sourcemaps-hidden/_expected/system.js
+++ b/test/form/samples/sourcemaps-hidden/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo () {
 				console.log( 'hello from foo.js' );
@@ -16,6 +16,6 @@ System.register([], function () {
 			foo();
 			bar();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/sourcemaps-hidden/_expected/system.js.map b/test/form/samples/sourcemaps-hidden/_expected/system.js.map
index 2d6df9a00..9a87c4bb2 100644
--- a/test/form/samples/sourcemaps-hidden/_expected/system.js.map
+++ b/test/form/samples/sourcemaps-hidden/_expected/system.js.map
@@ -1 +1 @@
-{"version":3,"file":"system.js","sources":["../foo.js","../bar.js","../main.js"],"sourcesContent":["export default function foo () {\n\tconsole.log( 'hello from foo.js' );\n}\n","export default function bar () {\n\tconsole.log( 'hello from bar.js' );\n}\n","import foo from './foo';\nimport bar from './bar';\n\nconsole.log( 'hello from main.js' );\n\nfoo();\nbar();\n"],"names":[],"mappings":";;;;;GAAe,SAAS,GAAG,IAAI;GAC/B,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,CAAC;GACpC;;GCFe,SAAS,GAAG,IAAI;GAC/B,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,CAAC;GACpC;;GCCA,OAAO,CAAC,GAAG,EAAE,oBAAoB,EAAE,CAAC;AACpC;GACA,GAAG,EAAE,CAAC;GACN,GAAG,EAAE;;;;;;"}
\ No newline at end of file
+{"version":3,"file":"system.js","sources":["../foo.js","../bar.js","../main.js"],"sourcesContent":["export default function foo () {\n\tconsole.log( 'hello from foo.js' );\n}\n","export default function bar () {\n\tconsole.log( 'hello from bar.js' );\n}\n","import foo from './foo';\nimport bar from './bar';\n\nconsole.log( 'hello from main.js' );\n\nfoo();\nbar();\n"],"names":[],"mappings":";;;;;GAAe,SAAS,GAAG,IAAI;GAC/B,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,CAAC;GACpC;;GCFe,SAAS,GAAG,IAAI;GAC/B,CAAC,OAAO,CAAC,GAAG,EAAE,mBAAmB,EAAE,CAAC;GACpC;;GCCA,OAAO,CAAC,GAAG,EAAE,oBAAoB,EAAE,CAAC;AACpC;GACA,GAAG,EAAE,CAAC;GACN,GAAG,EAAE;;;;;;;;"}
\ No newline at end of file
diff --git a/test/form/samples/sourcemaps-hidden/_expected/umd.js b/test/form/samples/sourcemaps-hidden/_expected/umd.js
index ec2fa48e6..9030ec9df 100644
--- a/test/form/samples/sourcemaps-hidden/_expected/umd.js
+++ b/test/form/samples/sourcemaps-hidden/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo () {
 		console.log( 'hello from foo.js' );
@@ -16,4 +16,4 @@
 	foo();
 	bar();
 
-})));
+}));
diff --git a/test/form/samples/sourcemaps-inline/_expected/amd.js b/test/form/samples/sourcemaps-inline/_expected/amd.js
index 7f95f5174..2684fc23c 100644
--- a/test/form/samples/sourcemaps-inline/_expected/amd.js
+++ b/test/form/samples/sourcemaps-inline/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo () {
 		console.log( 'hello from foo.js' );
@@ -13,5 +13,5 @@ define(function () { 'use strict';
 	foo();
 	bar();
 
-});
+}));
 //# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW1kLmpzIiwic291cmNlcyI6WyIuLi9mb28uanMiLCIuLi9iYXIuanMiLCIuLi9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvbyAoKSB7XG5cdGNvbnNvbGUubG9nKCAnaGVsbG8gZnJvbSBmb28uanMnICk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiYXIgKCkge1xuXHRjb25zb2xlLmxvZyggJ2hlbGxvIGZyb20gYmFyLmpzJyApO1xufVxuIiwiaW1wb3J0IGZvbyBmcm9tICcuL2Zvbyc7XG5pbXBvcnQgYmFyIGZyb20gJy4vYmFyJztcblxuY29uc29sZS5sb2coICdoZWxsbyBmcm9tIG1haW4uanMnICk7XG5cbmZvbygpO1xuYmFyKCk7XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Q0FBZSxTQUFTLEdBQUcsSUFBSTtDQUMvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQztDQUNwQzs7Q0NGZSxTQUFTLEdBQUcsSUFBSTtDQUMvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQztDQUNwQzs7Q0NDQSxPQUFPLENBQUMsR0FBRyxFQUFFLG9CQUFvQixFQUFFLENBQUM7QUFDcEM7Q0FDQSxHQUFHLEVBQUUsQ0FBQztDQUNOLEdBQUcsRUFBRTs7Ozs7OyJ9
diff --git a/test/form/samples/sourcemaps-inline/_expected/iife.js b/test/form/samples/sourcemaps-inline/_expected/iife.js
index 32f46ae2d..bbdf41cc3 100644
--- a/test/form/samples/sourcemaps-inline/_expected/iife.js
+++ b/test/form/samples/sourcemaps-inline/_expected/iife.js
@@ -14,5 +14,5 @@
 	foo();
 	bar();
 
-}());
+})();
 //# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWlmZS5qcyIsInNvdXJjZXMiOlsiLi4vZm9vLmpzIiwiLi4vYmFyLmpzIiwiLi4vbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb28gKCkge1xuXHRjb25zb2xlLmxvZyggJ2hlbGxvIGZyb20gZm9vLmpzJyApO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmFyICgpIHtcblx0Y29uc29sZS5sb2coICdoZWxsbyBmcm9tIGJhci5qcycgKTtcbn1cbiIsImltcG9ydCBmb28gZnJvbSAnLi9mb28nO1xuaW1wb3J0IGJhciBmcm9tICcuL2Jhcic7XG5cbmNvbnNvbGUubG9nKCAnaGVsbG8gZnJvbSBtYWluLmpzJyApO1xuXG5mb28oKTtcbmJhcigpO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztDQUFlLFNBQVMsR0FBRyxJQUFJO0NBQy9CLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxtQkFBbUIsRUFBRSxDQUFDO0NBQ3BDOztDQ0ZlLFNBQVMsR0FBRyxJQUFJO0NBQy9CLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxtQkFBbUIsRUFBRSxDQUFDO0NBQ3BDOztDQ0NBLE9BQU8sQ0FBQyxHQUFHLEVBQUUsb0JBQW9CLEVBQUUsQ0FBQztBQUNwQztDQUNBLEdBQUcsRUFBRSxDQUFDO0NBQ04sR0FBRyxFQUFFOzs7Ozs7In0=
diff --git a/test/form/samples/sourcemaps-inline/_expected/system.js b/test/form/samples/sourcemaps-inline/_expected/system.js
index 2acd8bf26..7d0eac205 100644
--- a/test/form/samples/sourcemaps-inline/_expected/system.js
+++ b/test/form/samples/sourcemaps-inline/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo () {
 				console.log( 'hello from foo.js' );
@@ -16,7 +16,7 @@ System.register([], function () {
 			foo();
 			bar();
 
-		}
+		})
 	};
-});
-//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3lzdGVtLmpzIiwic291cmNlcyI6WyIuLi9mb28uanMiLCIuLi9iYXIuanMiLCIuLi9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvbyAoKSB7XG5cdGNvbnNvbGUubG9nKCAnaGVsbG8gZnJvbSBmb28uanMnICk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiYXIgKCkge1xuXHRjb25zb2xlLmxvZyggJ2hlbGxvIGZyb20gYmFyLmpzJyApO1xufVxuIiwiaW1wb3J0IGZvbyBmcm9tICcuL2Zvbyc7XG5pbXBvcnQgYmFyIGZyb20gJy4vYmFyJztcblxuY29uc29sZS5sb2coICdoZWxsbyBmcm9tIG1haW4uanMnICk7XG5cbmZvbygpO1xuYmFyKCk7XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7R0FBZSxTQUFTLEdBQUcsSUFBSTtHQUMvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQztHQUNwQzs7R0NGZSxTQUFTLEdBQUcsSUFBSTtHQUMvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQztHQUNwQzs7R0NDQSxPQUFPLENBQUMsR0FBRyxFQUFFLG9CQUFvQixFQUFFLENBQUM7QUFDcEM7R0FDQSxHQUFHLEVBQUUsQ0FBQztHQUNOLEdBQUcsRUFBRTs7Ozs7OyJ9
+}));
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3lzdGVtLmpzIiwic291cmNlcyI6WyIuLi9mb28uanMiLCIuLi9iYXIuanMiLCIuLi9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvbyAoKSB7XG5cdGNvbnNvbGUubG9nKCAnaGVsbG8gZnJvbSBmb28uanMnICk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiYXIgKCkge1xuXHRjb25zb2xlLmxvZyggJ2hlbGxvIGZyb20gYmFyLmpzJyApO1xufVxuIiwiaW1wb3J0IGZvbyBmcm9tICcuL2Zvbyc7XG5pbXBvcnQgYmFyIGZyb20gJy4vYmFyJztcblxuY29uc29sZS5sb2coICdoZWxsbyBmcm9tIG1haW4uanMnICk7XG5cbmZvbygpO1xuYmFyKCk7XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7R0FBZSxTQUFTLEdBQUcsSUFBSTtHQUMvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQztHQUNwQzs7R0NGZSxTQUFTLEdBQUcsSUFBSTtHQUMvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQztHQUNwQzs7R0NDQSxPQUFPLENBQUMsR0FBRyxFQUFFLG9CQUFvQixFQUFFLENBQUM7QUFDcEM7R0FDQSxHQUFHLEVBQUUsQ0FBQztHQUNOLEdBQUcsRUFBRTs7Ozs7Ozs7In0=
diff --git a/test/form/samples/sourcemaps-inline/_expected/umd.js b/test/form/samples/sourcemaps-inline/_expected/umd.js
index 22a1ef277..53567569e 100644
--- a/test/form/samples/sourcemaps-inline/_expected/umd.js
+++ b/test/form/samples/sourcemaps-inline/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo () {
 		console.log( 'hello from foo.js' );
@@ -16,5 +16,5 @@
 	foo();
 	bar();
 
-})));
+}));
 //# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW1kLmpzIiwic291cmNlcyI6WyIuLi9mb28uanMiLCIuLi9iYXIuanMiLCIuLi9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvbyAoKSB7XG5cdGNvbnNvbGUubG9nKCAnaGVsbG8gZnJvbSBmb28uanMnICk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiYXIgKCkge1xuXHRjb25zb2xlLmxvZyggJ2hlbGxvIGZyb20gYmFyLmpzJyApO1xufVxuIiwiaW1wb3J0IGZvbyBmcm9tICcuL2Zvbyc7XG5pbXBvcnQgYmFyIGZyb20gJy4vYmFyJztcblxuY29uc29sZS5sb2coICdoZWxsbyBmcm9tIG1haW4uanMnICk7XG5cbmZvbygpO1xuYmFyKCk7XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Q0FBZSxTQUFTLEdBQUcsSUFBSTtDQUMvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQztDQUNwQzs7Q0NGZSxTQUFTLEdBQUcsSUFBSTtDQUMvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQztDQUNwQzs7Q0NDQSxPQUFPLENBQUMsR0FBRyxFQUFFLG9CQUFvQixFQUFFLENBQUM7QUFDcEM7Q0FDQSxHQUFHLEVBQUUsQ0FBQztDQUNOLEdBQUcsRUFBRTs7Ozs7OyJ9
diff --git a/test/form/samples/spacing-after-function-with-semicolon/_expected/amd.js b/test/form/samples/spacing-after-function-with-semicolon/_expected/amd.js
index 382aff486..5e0b890fb 100644
--- a/test/form/samples/spacing-after-function-with-semicolon/_expected/amd.js
+++ b/test/form/samples/spacing-after-function-with-semicolon/_expected/amd.js
@@ -1,6 +1,6 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function x () { return 'x' }
 	assert.equal( x(), 'x' );
 
-});
+}));
diff --git a/test/form/samples/spacing-after-function-with-semicolon/_expected/iife.js b/test/form/samples/spacing-after-function-with-semicolon/_expected/iife.js
index 662b22202..627d02024 100644
--- a/test/form/samples/spacing-after-function-with-semicolon/_expected/iife.js
+++ b/test/form/samples/spacing-after-function-with-semicolon/_expected/iife.js
@@ -4,4 +4,4 @@
 	function x () { return 'x' }
 	assert.equal( x(), 'x' );
 
-}());
+})();
diff --git a/test/form/samples/spacing-after-function-with-semicolon/_expected/system.js b/test/form/samples/spacing-after-function-with-semicolon/_expected/system.js
index 6aaf80d1a..3af6ff7ce 100644
--- a/test/form/samples/spacing-after-function-with-semicolon/_expected/system.js
+++ b/test/form/samples/spacing-after-function-with-semicolon/_expected/system.js
@@ -1,11 +1,11 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function x () { return 'x' }
 			assert.equal( x(), 'x' );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/spacing-after-function-with-semicolon/_expected/umd.js b/test/form/samples/spacing-after-function-with-semicolon/_expected/umd.js
index 5e97fddc6..c5ad1a351 100644
--- a/test/form/samples/spacing-after-function-with-semicolon/_expected/umd.js
+++ b/test/form/samples/spacing-after-function-with-semicolon/_expected/umd.js
@@ -1,9 +1,9 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function x () { return 'x' }
 	assert.equal( x(), 'x' );
 
-})));
+}));
diff --git a/test/form/samples/strict-false/_expected/amd.js b/test/form/samples/strict-false/_expected/amd.js
index 374a89b69..f7252f408 100644
--- a/test/form/samples/strict-false/_expected/amd.js
+++ b/test/form/samples/strict-false/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () {
+define((function () {
 
     const localVariable = 'local';
 
@@ -10,4 +10,4 @@ define(function () {
         Function("g", "globalVariable = g")(localVariable);
     }
 
-});
+}));
diff --git a/test/form/samples/strict-false/_expected/iife.js b/test/form/samples/strict-false/_expected/iife.js
index ccbe45b59..f52fafa60 100644
--- a/test/form/samples/strict-false/_expected/iife.js
+++ b/test/form/samples/strict-false/_expected/iife.js
@@ -10,4 +10,4 @@
         Function("g", "globalVariable = g")(localVariable);
     }
 
-}());
+})();
diff --git a/test/form/samples/strict-false/_expected/system.js b/test/form/samples/strict-false/_expected/system.js
index 2ed282add..f490bc06a 100644
--- a/test/form/samples/strict-false/_expected/system.js
+++ b/test/form/samples/strict-false/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
     
     return {
-        execute: function () {
+        execute: (function () {
 
             const localVariable = 'local';
 
@@ -13,6 +13,6 @@ System.register([], function () {
                 Function("g", "globalVariable = g")(localVariable);
             }
 
-        }
+        })
     };
-});
+}));
diff --git a/test/form/samples/strict-false/_expected/umd.js b/test/form/samples/strict-false/_expected/umd.js
index 769abec87..5182de030 100644
--- a/test/form/samples/strict-false/_expected/umd.js
+++ b/test/form/samples/strict-false/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
     typeof define === 'function' && define.amd ? define(factory) :
     factory();
-}((function () {
+})((function () {
     const localVariable = 'local';
 
     try {
@@ -12,4 +12,4 @@
         Function("g", "globalVariable = g")(localVariable);
     }
 
-})));
+}));
diff --git a/test/form/samples/string-indentation-b/_expected/amd.js b/test/form/samples/string-indentation-b/_expected/amd.js
index 2daf4553a..88dfbdc1a 100644
--- a/test/form/samples/string-indentation-b/_expected/amd.js
+++ b/test/form/samples/string-indentation-b/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
     var a = 'a',
         b = 'b';
@@ -6,4 +6,4 @@ define(function () { 'use strict';
     assert.equal( a, 'a' );
     assert.equal( b, 'b' );
 
-});
+}));
diff --git a/test/form/samples/string-indentation-b/_expected/iife.js b/test/form/samples/string-indentation-b/_expected/iife.js
index 4261ea90a..cd2ffb8ed 100644
--- a/test/form/samples/string-indentation-b/_expected/iife.js
+++ b/test/form/samples/string-indentation-b/_expected/iife.js
@@ -7,4 +7,4 @@
     assert.equal( a, 'a' );
     assert.equal( b, 'b' );
 
-}());
+})();
diff --git a/test/form/samples/string-indentation-b/_expected/system.js b/test/form/samples/string-indentation-b/_expected/system.js
index 89acd2e88..627e93f6f 100644
--- a/test/form/samples/string-indentation-b/_expected/system.js
+++ b/test/form/samples/string-indentation-b/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('myBundle', [], function () {
+System.register('myBundle', [], (function () {
     'use strict';
     return {
-        execute: function () {
+        execute: (function () {
 
             var a = 'a',
                 b = 'b';
@@ -9,6 +9,6 @@ System.register('myBundle', [], function () {
             assert.equal( a, 'a' );
             assert.equal( b, 'b' );
 
-        }
+        })
     };
-});
+}));
diff --git a/test/form/samples/string-indentation-b/_expected/umd.js b/test/form/samples/string-indentation-b/_expected/umd.js
index 49eee3e6d..414138112 100644
--- a/test/form/samples/string-indentation-b/_expected/umd.js
+++ b/test/form/samples/string-indentation-b/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
     typeof define === 'function' && define.amd ? define(factory) :
     factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
     var a = 'a',
         b = 'b';
@@ -9,4 +9,4 @@
     assert.equal( a, 'a' );
     assert.equal( b, 'b' );
 
-})));
+}));
diff --git a/test/form/samples/string-indentation/_expected/amd.js b/test/form/samples/string-indentation/_expected/amd.js
index ef51dfa43..194334076 100644
--- a/test/form/samples/string-indentation/_expected/amd.js
+++ b/test/form/samples/string-indentation/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var a = '1\
   2';
@@ -17,4 +17,4 @@ define(function () { 'use strict';
 	assert.equal( c, '1\n  2' );
 	assert.equal( d, '1\n\t2' );
 
-});
+}));
diff --git a/test/form/samples/string-indentation/_expected/iife.js b/test/form/samples/string-indentation/_expected/iife.js
index c2426fa7d..180f70384 100644
--- a/test/form/samples/string-indentation/_expected/iife.js
+++ b/test/form/samples/string-indentation/_expected/iife.js
@@ -18,4 +18,4 @@
 	assert.equal( c, '1\n  2' );
 	assert.equal( d, '1\n\t2' );
 
-}());
+})();
diff --git a/test/form/samples/string-indentation/_expected/system.js b/test/form/samples/string-indentation/_expected/system.js
index 7985b8676..537436a27 100644
--- a/test/form/samples/string-indentation/_expected/system.js
+++ b/test/form/samples/string-indentation/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var a = '1\
   2';
@@ -20,6 +20,6 @@ System.register([], function () {
 			assert.equal( c, '1\n  2' );
 			assert.equal( d, '1\n\t2' );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/string-indentation/_expected/umd.js b/test/form/samples/string-indentation/_expected/umd.js
index bf521300b..50d1c7bd8 100644
--- a/test/form/samples/string-indentation/_expected/umd.js
+++ b/test/form/samples/string-indentation/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var a = '1\
   2';
@@ -20,4 +20,4 @@
 	assert.equal( c, '1\n  2' );
 	assert.equal( d, '1\n\t2' );
 
-})));
+}));
diff --git a/test/form/samples/supports-core-js/_expected.js b/test/form/samples/supports-core-js/_expected.js
index 091e870e1..124c45d30 100644
--- a/test/form/samples/supports-core-js/_expected.js
+++ b/test/form/samples/supports-core-js/_expected.js
@@ -5,7 +5,7 @@ var check = function (it) {
 };
 
 // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
-var global$M =
+var global$R =
   // eslint-disable-next-line es/no-global-this -- safe
   check(typeof globalThis == 'object' && globalThis) ||
   check(typeof window == 'object' && window) ||
@@ -17,7 +17,7 @@ var global$M =
 
 var objectGetOwnPropertyDescriptor = {};
 
-var fails$X = function (exec) {
+var fails$15 = function (exec) {
   try {
     return !!exec();
   } catch (error) {
@@ -25,10 +25,10 @@ var fails$X = function (exec) {
   }
 };
 
-var fails$W = fails$X;
+var fails$14 = fails$15;
 
 // Detect IE8's incomplete defineProperty implementation
-var descriptors = !fails$W(function () {
+var descriptors = !fails$14(function () {
   // eslint-disable-next-line es/no-object-defineproperty -- required for testing
   return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;
 });
@@ -58,105 +58,303 @@ var createPropertyDescriptor$9 = function (bitmap, value) {
   };
 };
 
-var toString$2 = {}.toString;
+var toString$u = {}.toString;
 
 var classofRaw$1 = function (it) {
-  return toString$2.call(it).slice(8, -1);
+  return toString$u.call(it).slice(8, -1);
 };
 
-var fails$V = fails$X;
-var classof$d = classofRaw$1;
+var fails$13 = fails$15;
+var classof$e = classofRaw$1;
 
 var split = ''.split;
 
 // fallback for non-array-like ES3 and non-enumerable old V8 strings
-var indexedObject = fails$V(function () {
+var indexedObject = fails$13(function () {
   // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346
   // eslint-disable-next-line no-prototype-builtins -- safe
   return !Object('z').propertyIsEnumerable(0);
 }) ? function (it) {
-  return classof$d(it) == 'String' ? split.call(it, '') : Object(it);
+  return classof$e(it) == 'String' ? split.call(it, '') : Object(it);
 } : Object;
 
 // `RequireObjectCoercible` abstract operation
 // https://tc39.es/ecma262/#sec-requireobjectcoercible
-var requireObjectCoercible$h = function (it) {
+var requireObjectCoercible$j = function (it) {
   if (it == undefined) throw TypeError("Can't call method on " + it);
   return it;
 };
 
 // toObject with fallback for non-array-like ES3 strings
-var IndexedObject$5 = indexedObject;
-var requireObjectCoercible$g = requireObjectCoercible$h;
+var IndexedObject$6 = indexedObject;
+var requireObjectCoercible$i = requireObjectCoercible$j;
 
 var toIndexedObject$d = function (it) {
-  return IndexedObject$5(requireObjectCoercible$g(it));
+  return IndexedObject$6(requireObjectCoercible$i(it));
+};
+
+// `isCallable` abstract operation
+// https://tc39.es/ecma262/#sec-iscallable
+var isCallable$z = function (argument) {
+  return typeof argument === 'function';
 };
 
+var isCallable$y = isCallable$z;
+
 var isObject$B = function (it) {
-  return typeof it === 'object' ? it !== null : typeof it === 'function';
+  return typeof it === 'object' ? it !== null : isCallable$y(it);
+};
+
+var global$Q = global$R;
+var isCallable$x = isCallable$z;
+
+var aFunction = function (argument) {
+  return isCallable$x(argument) ? argument : undefined;
+};
+
+var getBuiltIn$w = function (namespace, method) {
+  return arguments.length < 2 ? aFunction(global$Q[namespace]) : global$Q[namespace] && global$Q[namespace][method];
+};
+
+var getBuiltIn$v = getBuiltIn$w;
+
+var engineUserAgent = getBuiltIn$v('navigator', 'userAgent') || '';
+
+var global$P = global$R;
+var userAgent$7 = engineUserAgent;
+
+var process$4 = global$P.process;
+var Deno = global$P.Deno;
+var versions = process$4 && process$4.versions || Deno && Deno.version;
+var v8 = versions && versions.v8;
+var match, version;
+
+if (v8) {
+  match = v8.split('.');
+  version = match[0] < 4 ? 1 : match[0] + match[1];
+} else if (userAgent$7) {
+  match = userAgent$7.match(/Edge\/(\d+)/);
+  if (!match || match[1] >= 74) {
+    match = userAgent$7.match(/Chrome\/(\d+)/);
+    if (match) version = match[1];
+  }
+}
+
+var engineV8Version = version && +version;
+
+/* eslint-disable es/no-symbol -- required for testing */
+
+var V8_VERSION$3 = engineV8Version;
+var fails$12 = fails$15;
+
+// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing
+var nativeSymbol$1 = !!Object.getOwnPropertySymbols && !fails$12(function () {
+  var symbol = Symbol();
+  // Chrome 38 Symbol has incorrect toString conversion
+  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances
+  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||
+    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
+    !Symbol.sham && V8_VERSION$3 && V8_VERSION$3 < 41;
+});
+
+/* eslint-disable es/no-symbol -- required for testing */
+
+var NATIVE_SYMBOL$2 = nativeSymbol$1;
+
+var useSymbolAsUid = NATIVE_SYMBOL$2
+  && !Symbol.sham
+  && typeof Symbol.iterator == 'symbol';
+
+var isCallable$w = isCallable$z;
+var getBuiltIn$u = getBuiltIn$w;
+var USE_SYMBOL_AS_UID$1 = useSymbolAsUid;
+
+var isSymbol$5 = USE_SYMBOL_AS_UID$1 ? function (it) {
+  return typeof it == 'symbol';
+} : function (it) {
+  var $Symbol = getBuiltIn$u('Symbol');
+  return isCallable$w($Symbol) && Object(it) instanceof $Symbol;
+};
+
+var tryToString$3 = function (argument) {
+  try {
+    return String(argument);
+  } catch (error) {
+    return 'Object';
+  }
+};
+
+var isCallable$v = isCallable$z;
+var tryToString$2 = tryToString$3;
+
+// `Assert: IsCallable(argument) is true`
+var aCallable$Q = function (argument) {
+  if (isCallable$v(argument)) return argument;
+  throw TypeError(tryToString$2(argument) + ' is not a function');
 };
 
+var aCallable$P = aCallable$Q;
+
+// `GetMethod` abstract operation
+// https://tc39.es/ecma262/#sec-getmethod
+var getMethod$h = function (V, P) {
+  var func = V[P];
+  return func == null ? undefined : aCallable$P(func);
+};
+
+var isCallable$u = isCallable$z;
 var isObject$A = isObject$B;
 
-// `ToPrimitive` abstract operation
-// https://tc39.es/ecma262/#sec-toprimitive
-// instead of the ES6 spec version, we didn't implement @@toPrimitive case
-// and the second argument - flag - preferred type is a string
-var toPrimitive$b = function (input, PREFERRED_STRING) {
-  if (!isObject$A(input)) return input;
+// `OrdinaryToPrimitive` abstract operation
+// https://tc39.es/ecma262/#sec-ordinarytoprimitive
+var ordinaryToPrimitive$2 = function (input, pref) {
   var fn, val;
-  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject$A(val = fn.call(input))) return val;
-  if (typeof (fn = input.valueOf) == 'function' && !isObject$A(val = fn.call(input))) return val;
-  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject$A(val = fn.call(input))) return val;
+  if (pref === 'string' && isCallable$u(fn = input.toString) && !isObject$A(val = fn.call(input))) return val;
+  if (isCallable$u(fn = input.valueOf) && !isObject$A(val = fn.call(input))) return val;
+  if (pref !== 'string' && isCallable$u(fn = input.toString) && !isObject$A(val = fn.call(input))) return val;
   throw TypeError("Can't convert object to primitive value");
 };
 
-var requireObjectCoercible$f = requireObjectCoercible$h;
+var shared$7 = {exports: {}};
+
+var isPure = false;
+
+var global$O = global$R;
+
+var setGlobal$3 = function (key, value) {
+  try {
+    // eslint-disable-next-line es/no-object-defineproperty -- safe
+    Object.defineProperty(global$O, key, { value: value, configurable: true, writable: true });
+  } catch (error) {
+    global$O[key] = value;
+  } return value;
+};
+
+var global$N = global$R;
+var setGlobal$2 = setGlobal$3;
+
+var SHARED = '__core-js_shared__';
+var store$5 = global$N[SHARED] || setGlobal$2(SHARED, {});
+
+var sharedStore = store$5;
+
+var store$4 = sharedStore;
+
+(shared$7.exports = function (key, value) {
+  return store$4[key] || (store$4[key] = value !== undefined ? value : {});
+})('versions', []).push({
+  version: '3.18.0',
+  mode: 'global',
+  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'
+});
+
+var requireObjectCoercible$h = requireObjectCoercible$j;
 
 // `ToObject` abstract operation
 // https://tc39.es/ecma262/#sec-toobject
-var toObject$w = function (argument) {
-  return Object(requireObjectCoercible$f(argument));
+var toObject$z = function (argument) {
+  return Object(requireObjectCoercible$h(argument));
 };
 
-var toObject$v = toObject$w;
+var toObject$y = toObject$z;
 
 var hasOwnProperty = {}.hasOwnProperty;
 
-var has$n = Object.hasOwn || function hasOwn(it, key) {
-  return hasOwnProperty.call(toObject$v(it), key);
+var has$m = Object.hasOwn || function hasOwn(it, key) {
+  return hasOwnProperty.call(toObject$y(it), key);
+};
+
+var id$2 = 0;
+var postfix = Math.random();
+
+var uid$5 = function (key) {
+  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id$2 + postfix).toString(36);
+};
+
+var global$M = global$R;
+var shared$6 = shared$7.exports;
+var has$l = has$m;
+var uid$4 = uid$5;
+var NATIVE_SYMBOL$1 = nativeSymbol$1;
+var USE_SYMBOL_AS_UID = useSymbolAsUid;
+
+var WellKnownSymbolsStore$1 = shared$6('wks');
+var Symbol$3 = global$M.Symbol;
+var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol$3 : Symbol$3 && Symbol$3.withoutSetter || uid$4;
+
+var wellKnownSymbol$G = function (name) {
+  if (!has$l(WellKnownSymbolsStore$1, name) || !(NATIVE_SYMBOL$1 || typeof WellKnownSymbolsStore$1[name] == 'string')) {
+    if (NATIVE_SYMBOL$1 && has$l(Symbol$3, name)) {
+      WellKnownSymbolsStore$1[name] = Symbol$3[name];
+    } else {
+      WellKnownSymbolsStore$1[name] = createWellKnownSymbol('Symbol.' + name);
+    }
+  } return WellKnownSymbolsStore$1[name];
 };
 
-var global$L = global$M;
 var isObject$z = isObject$B;
+var isSymbol$4 = isSymbol$5;
+var getMethod$g = getMethod$h;
+var ordinaryToPrimitive$1 = ordinaryToPrimitive$2;
+var wellKnownSymbol$F = wellKnownSymbol$G;
+
+var TO_PRIMITIVE$2 = wellKnownSymbol$F('toPrimitive');
+
+// `ToPrimitive` abstract operation
+// https://tc39.es/ecma262/#sec-toprimitive
+var toPrimitive$3 = function (input, pref) {
+  if (!isObject$z(input) || isSymbol$4(input)) return input;
+  var exoticToPrim = getMethod$g(input, TO_PRIMITIVE$2);
+  var result;
+  if (exoticToPrim) {
+    if (pref === undefined) pref = 'default';
+    result = exoticToPrim.call(input, pref);
+    if (!isObject$z(result) || isSymbol$4(result)) return result;
+    throw TypeError("Can't convert object to primitive value");
+  }
+  if (pref === undefined) pref = 'number';
+  return ordinaryToPrimitive$1(input, pref);
+};
+
+var toPrimitive$2 = toPrimitive$3;
+var isSymbol$3 = isSymbol$5;
+
+// `ToPropertyKey` abstract operation
+// https://tc39.es/ecma262/#sec-topropertykey
+var toPropertyKey$9 = function (argument) {
+  var key = toPrimitive$2(argument, 'string');
+  return isSymbol$3(key) ? key : String(key);
+};
+
+var global$L = global$R;
+var isObject$y = isObject$B;
 
 var document$3 = global$L.document;
 // typeof document.createElement is 'object' in old IE
-var EXISTS = isObject$z(document$3) && isObject$z(document$3.createElement);
+var EXISTS$1 = isObject$y(document$3) && isObject$y(document$3.createElement);
 
-var documentCreateElement$1 = function (it) {
-  return EXISTS ? document$3.createElement(it) : {};
+var documentCreateElement$2 = function (it) {
+  return EXISTS$1 ? document$3.createElement(it) : {};
 };
 
-var DESCRIPTORS$y = descriptors;
-var fails$U = fails$X;
-var createElement$1 = documentCreateElement$1;
+var DESCRIPTORS$A = descriptors;
+var fails$11 = fails$15;
+var createElement$1 = documentCreateElement$2;
 
 // Thank's IE8 for his funny defineProperty
-var ie8DomDefine = !DESCRIPTORS$y && !fails$U(function () {
+var ie8DomDefine = !DESCRIPTORS$A && !fails$11(function () {
   // eslint-disable-next-line es/no-object-defineproperty -- requied for testing
   return Object.defineProperty(createElement$1('div'), 'a', {
     get: function () { return 7; }
   }).a != 7;
 });
 
-var DESCRIPTORS$x = descriptors;
+var DESCRIPTORS$z = descriptors;
 var propertyIsEnumerableModule$2 = objectPropertyIsEnumerable;
 var createPropertyDescriptor$8 = createPropertyDescriptor$9;
 var toIndexedObject$c = toIndexedObject$d;
-var toPrimitive$a = toPrimitive$b;
-var has$m = has$n;
+var toPropertyKey$8 = toPropertyKey$9;
+var has$k = has$m;
 var IE8_DOM_DEFINE$1 = ie8DomDefine;
 
 // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
@@ -164,39 +362,39 @@ var $getOwnPropertyDescriptor$1 = Object.getOwnPropertyDescriptor;
 
 // `Object.getOwnPropertyDescriptor` method
 // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
-objectGetOwnPropertyDescriptor.f = DESCRIPTORS$x ? $getOwnPropertyDescriptor$1 : function getOwnPropertyDescriptor(O, P) {
+objectGetOwnPropertyDescriptor.f = DESCRIPTORS$z ? $getOwnPropertyDescriptor$1 : function getOwnPropertyDescriptor(O, P) {
   O = toIndexedObject$c(O);
-  P = toPrimitive$a(P, true);
+  P = toPropertyKey$8(P);
   if (IE8_DOM_DEFINE$1) try {
     return $getOwnPropertyDescriptor$1(O, P);
   } catch (error) { /* empty */ }
-  if (has$m(O, P)) return createPropertyDescriptor$8(!propertyIsEnumerableModule$2.f.call(O, P), O[P]);
+  if (has$k(O, P)) return createPropertyDescriptor$8(!propertyIsEnumerableModule$2.f.call(O, P), O[P]);
 };
 
 var objectDefineProperty = {};
 
-var isObject$y = isObject$B;
+var isObject$x = isObject$B;
 
-var anObject$1z = function (it) {
-  if (!isObject$y(it)) {
-    throw TypeError(String(it) + ' is not an object');
-  } return it;
+// `Assert: Type(argument) is Object`
+var anObject$1C = function (argument) {
+  if (isObject$x(argument)) return argument;
+  throw TypeError(String(argument) + ' is not an object');
 };
 
-var DESCRIPTORS$w = descriptors;
+var DESCRIPTORS$y = descriptors;
 var IE8_DOM_DEFINE = ie8DomDefine;
-var anObject$1y = anObject$1z;
-var toPrimitive$9 = toPrimitive$b;
+var anObject$1B = anObject$1C;
+var toPropertyKey$7 = toPropertyKey$9;
 
 // eslint-disable-next-line es/no-object-defineproperty -- safe
 var $defineProperty$1 = Object.defineProperty;
 
 // `Object.defineProperty` method
 // https://tc39.es/ecma262/#sec-object.defineproperty
-objectDefineProperty.f = DESCRIPTORS$w ? $defineProperty$1 : function defineProperty(O, P, Attributes) {
-  anObject$1y(O);
-  P = toPrimitive$9(P, true);
-  anObject$1y(Attributes);
+objectDefineProperty.f = DESCRIPTORS$y ? $defineProperty$1 : function defineProperty(O, P, Attributes) {
+  anObject$1B(O);
+  P = toPropertyKey$7(P);
+  anObject$1B(Attributes);
   if (IE8_DOM_DEFINE) try {
     return $defineProperty$1(O, P, Attributes);
   } catch (error) { /* empty */ }
@@ -205,118 +403,80 @@ objectDefineProperty.f = DESCRIPTORS$w ? $defineProperty$1 : function defineProp
   return O;
 };
 
-var DESCRIPTORS$v = descriptors;
+var DESCRIPTORS$x = descriptors;
 var definePropertyModule$c = objectDefineProperty;
 var createPropertyDescriptor$7 = createPropertyDescriptor$9;
 
-var createNonEnumerableProperty$m = DESCRIPTORS$v ? function (object, key, value) {
+var createNonEnumerableProperty$g = DESCRIPTORS$x ? function (object, key, value) {
   return definePropertyModule$c.f(object, key, createPropertyDescriptor$7(1, value));
 } : function (object, key, value) {
   object[key] = value;
   return object;
 };
 
-var redefine$g = {exports: {}};
-
-var global$K = global$M;
-var createNonEnumerableProperty$l = createNonEnumerableProperty$m;
-
-var setGlobal$3 = function (key, value) {
-  try {
-    createNonEnumerableProperty$l(global$K, key, value);
-  } catch (error) {
-    global$K[key] = value;
-  } return value;
-};
-
-var global$J = global$M;
-var setGlobal$2 = setGlobal$3;
-
-var SHARED = '__core-js_shared__';
-var store$5 = global$J[SHARED] || setGlobal$2(SHARED, {});
-
-var sharedStore = store$5;
+var redefine$l = {exports: {}};
 
-var store$4 = sharedStore;
+var isCallable$t = isCallable$z;
+var store$3 = sharedStore;
 
 var functionToString = Function.toString;
 
 // this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper
-if (typeof store$4.inspectSource != 'function') {
-  store$4.inspectSource = function (it) {
+if (!isCallable$t(store$3.inspectSource)) {
+  store$3.inspectSource = function (it) {
     return functionToString.call(it);
   };
 }
 
-var inspectSource$3 = store$4.inspectSource;
+var inspectSource$4 = store$3.inspectSource;
 
-var global$I = global$M;
-var inspectSource$2 = inspectSource$3;
+var global$K = global$R;
+var isCallable$s = isCallable$z;
+var inspectSource$3 = inspectSource$4;
 
-var WeakMap$3 = global$I.WeakMap;
-
-var nativeWeakMap = typeof WeakMap$3 === 'function' && /native code/.test(inspectSource$2(WeakMap$3));
-
-var shared$7 = {exports: {}};
-
-var isPure = false;
-
-var store$3 = sharedStore;
-
-(shared$7.exports = function (key, value) {
-  return store$3[key] || (store$3[key] = value !== undefined ? value : {});
-})('versions', []).push({
-  version: '3.14.0',
-  mode: 'global',
-  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'
-});
-
-var id$2 = 0;
-var postfix = Math.random();
+var WeakMap$3 = global$K.WeakMap;
 
-var uid$5 = function (key) {
-  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id$2 + postfix).toString(36);
-};
+var nativeWeakMap = isCallable$s(WeakMap$3) && /native code/.test(inspectSource$3(WeakMap$3));
 
-var shared$6 = shared$7.exports;
-var uid$4 = uid$5;
+var shared$5 = shared$7.exports;
+var uid$3 = uid$5;
 
-var keys$3 = shared$6('keys');
+var keys$3 = shared$5('keys');
 
 var sharedKey$4 = function (key) {
-  return keys$3[key] || (keys$3[key] = uid$4(key));
+  return keys$3[key] || (keys$3[key] = uid$3(key));
 };
 
 var hiddenKeys$6 = {};
 
 var NATIVE_WEAK_MAP$1 = nativeWeakMap;
-var global$H = global$M;
-var isObject$x = isObject$B;
-var createNonEnumerableProperty$k = createNonEnumerableProperty$m;
-var objectHas = has$n;
-var shared$5 = sharedStore;
+var global$J = global$R;
+var isObject$w = isObject$B;
+var createNonEnumerableProperty$f = createNonEnumerableProperty$g;
+var objectHas = has$m;
+var shared$4 = sharedStore;
 var sharedKey$3 = sharedKey$4;
 var hiddenKeys$5 = hiddenKeys$6;
 
 var OBJECT_ALREADY_INITIALIZED = 'Object already initialized';
-var WeakMap$2 = global$H.WeakMap;
-var set$3, get$2, has$l;
+var WeakMap$2 = global$J.WeakMap;
+var set$3, get$2, has$j;
 
 var enforce = function (it) {
-  return has$l(it) ? get$2(it) : set$3(it, {});
+  return has$j(it) ? get$2(it) : set$3(it, {});
 };
 
 var getterFor = function (TYPE) {
   return function (it) {
     var state;
-    if (!isObject$x(it) || (state = get$2(it)).type !== TYPE) {
+    if (!isObject$w(it) || (state = get$2(it)).type !== TYPE) {
       throw TypeError('Incompatible receiver, ' + TYPE + ' required');
     } return state;
   };
 };
 
-if (NATIVE_WEAK_MAP$1 || shared$5.state) {
-  var store$2 = shared$5.state || (shared$5.state = new WeakMap$2());
+if (NATIVE_WEAK_MAP$1 || shared$4.state) {
+  var store$2 = shared$4.state || (shared$4.state = new WeakMap$2());
   var wmget = store$2.get;
   var wmhas = store$2.has;
   var wmset = store$2.set;
@@ -329,7 +489,7 @@ if (NATIVE_WEAK_MAP$1 || shared$5.state) {
   get$2 = function (it) {
     return wmget.call(store$2, it) || {};
   };
-  has$l = function (it) {
+  has$j = function (it) {
     return wmhas.call(store$2, it);
   };
 } else {
@@ -338,13 +498,13 @@ if (NATIVE_WEAK_MAP$1 || shared$5.state) {
   set$3 = function (it, metadata) {
     if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);
     metadata.facade = it;
-    createNonEnumerableProperty$k(it, STATE, metadata);
+    createNonEnumerableProperty$f(it, STATE, metadata);
     return metadata;
   };
   get$2 = function (it) {
     return objectHas(it, STATE) ? it[STATE] : {};
   };
-  has$l = function (it) {
+  has$j = function (it) {
     return objectHas(it, STATE);
   };
 }
@@ -352,37 +512,61 @@ if (NATIVE_WEAK_MAP$1 || shared$5.state) {
 var internalState = {
   set: set$3,
   get: get$2,
-  has: has$l,
+  has: has$j,
   enforce: enforce,
   getterFor: getterFor
 };
 
-var global$G = global$M;
-var createNonEnumerableProperty$j = createNonEnumerableProperty$m;
-var has$k = has$n;
+var DESCRIPTORS$w = descriptors;
+var has$i = has$m;
+
+var FunctionPrototype$2 = Function.prototype;
+// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
+var getDescriptor = DESCRIPTORS$w && Object.getOwnPropertyDescriptor;
+
+var EXISTS = has$i(FunctionPrototype$2, 'name');
+// additional protection from minified / mangled / dropped function names
+var PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';
+var CONFIGURABLE = EXISTS && (!DESCRIPTORS$w || (DESCRIPTORS$w && getDescriptor(FunctionPrototype$2, 'name').configurable));
+
+var functionName = {
+  EXISTS: EXISTS,
+  PROPER: PROPER,
+  CONFIGURABLE: CONFIGURABLE
+};
+
+var global$I = global$R;
+var isCallable$r = isCallable$z;
+var has$h = has$m;
+var createNonEnumerableProperty$e = createNonEnumerableProperty$g;
 var setGlobal$1 = setGlobal$3;
-var inspectSource$1 = inspectSource$3;
-var InternalStateModule$i = internalState;
+var inspectSource$2 = inspectSource$4;
+var InternalStateModule$j = internalState;
+var CONFIGURABLE_FUNCTION_NAME$2 = functionName.CONFIGURABLE;
 
-var getInternalState$f = InternalStateModule$i.get;
-var enforceInternalState$1 = InternalStateModule$i.enforce;
+var getInternalState$i = InternalStateModule$j.get;
+var enforceInternalState$1 = InternalStateModule$j.enforce;
 var TEMPLATE = String(String).split('String');
 
-(redefine$g.exports = function (O, key, value, options) {
+(redefine$l.exports = function (O, key, value, options) {
   var unsafe = options ? !!options.unsafe : false;
   var simple = options ? !!options.enumerable : false;
   var noTargetGet = options ? !!options.noTargetGet : false;
+  var name = options && options.name !== undefined ? options.name : key;
   var state;
-  if (typeof value == 'function') {
-    if (typeof key == 'string' && !has$k(value, 'name')) {
-      createNonEnumerableProperty$j(value, 'name', key);
+  if (isCallable$r(value)) {
+    if (String(name).slice(0, 7) === 'Symbol(') {
+      name = '[' + String(name).replace(/^Symbol\(([^)]*)\)/, '$1') + ']';
+    }
+    if (!has$h(value, 'name') || (CONFIGURABLE_FUNCTION_NAME$2 && value.name !== name)) {
+      createNonEnumerableProperty$e(value, 'name', name);
     }
     state = enforceInternalState$1(value);
     if (!state.source) {
-      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');
+      state.source = TEMPLATE.join(typeof name == 'string' ? name : '');
     }
   }
-  if (O === global$G) {
+  if (O === global$I) {
     if (simple) O[key] = value;
     else setGlobal$1(key, value);
     return;
@@ -392,28 +576,12 @@ var TEMPLATE = String(String).split('String');
     simple = true;
   }
   if (simple) O[key] = value;
-  else createNonEnumerableProperty$j(O, key, value);
+  else createNonEnumerableProperty$e(O, key, value);
 // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
 })(Function.prototype, 'toString', function toString() {
-  return typeof this == 'function' && getInternalState$f(this).source || inspectSource$1(this);
+  return isCallable$r(this) && getInternalState$i(this).source || inspectSource$2(this);
 });
 
-var global$F = global$M;
-
-var path$6 = global$F;
-
-var path$5 = path$6;
-var global$E = global$M;
-
-var aFunction$T = function (variable) {
-  return typeof variable == 'function' ? variable : undefined;
-};
-
-var getBuiltIn$t = function (namespace, method) {
-  return arguments.length < 2 ? aFunction$T(path$5[namespace]) || aFunction$T(global$E[namespace])
-    : path$5[namespace] && path$5[namespace][method] || global$E[namespace] && global$E[namespace][method];
-};
-
 var objectGetOwnPropertyNames = {};
 
 var ceil$2 = Math.ceil;
@@ -421,42 +589,42 @@ var floor$a = Math.floor;
 
 // `ToInteger` abstract operation
 // https://tc39.es/ecma262/#sec-tointeger
-var toInteger$f = function (argument) {
+var toInteger$i = function (argument) {
   return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor$a : ceil$2)(argument);
 };
 
-var toInteger$e = toInteger$f;
+var toInteger$h = toInteger$i;
 
-var min$9 = Math.min;
+var min$a = Math.min;
 
 // `ToLength` abstract operation
 // https://tc39.es/ecma262/#sec-tolength
-var toLength$B = function (argument) {
-  return argument > 0 ? min$9(toInteger$e(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991
+var toLength$D = function (argument) {
+  return argument > 0 ? min$a(toInteger$h(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991
 };
 
-var toInteger$d = toInteger$f;
+var toInteger$g = toInteger$i;
 
-var max$5 = Math.max;
-var min$8 = Math.min;
+var max$6 = Math.max;
+var min$9 = Math.min;
 
 // Helper for a popular repeating case of the spec:
 // Let integer be ? ToInteger(index).
 // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).
 var toAbsoluteIndex$8 = function (index, length) {
-  var integer = toInteger$d(index);
-  return integer < 0 ? max$5(integer + length, 0) : min$8(integer, length);
+  var integer = toInteger$g(index);
+  return integer < 0 ? max$6(integer + length, 0) : min$9(integer, length);
 };
 
 var toIndexedObject$b = toIndexedObject$d;
-var toLength$A = toLength$B;
+var toLength$C = toLength$D;
 var toAbsoluteIndex$7 = toAbsoluteIndex$8;
 
 // `Array.prototype.{ indexOf, includes }` methods implementation
 var createMethod$8 = function (IS_INCLUDES) {
   return function ($this, el, fromIndex) {
     var O = toIndexedObject$b($this);
-    var length = toLength$A(O.length);
+    var length = toLength$C(O.length);
     var index = toAbsoluteIndex$7(fromIndex, length);
     var value;
     // Array#includes uses SameValueZero equality algorithm
@@ -481,7 +649,7 @@ var arrayIncludes = {
   indexOf: createMethod$8(false)
 };
 
-var has$j = has$n;
+var has$g = has$m;
 var toIndexedObject$a = toIndexedObject$d;
 var indexOf = arrayIncludes.indexOf;
 var hiddenKeys$4 = hiddenKeys$6;
@@ -491,9 +659,9 @@ var objectKeysInternal = function (object, names) {
   var i = 0;
   var result = [];
   var key;
-  for (key in O) !has$j(hiddenKeys$4, key) && has$j(O, key) && result.push(key);
+  for (key in O) !has$g(hiddenKeys$4, key) && has$g(O, key) && result.push(key);
   // Don't enum bug & hidden keys
-  while (names.length > i) if (has$j(O, key = names[i++])) {
+  while (names.length > i) if (has$g(O, key = names[i++])) {
     ~indexOf(result, key) || result.push(key);
   }
   return result;
@@ -527,19 +695,19 @@ var objectGetOwnPropertySymbols = {};
 // eslint-disable-next-line es/no-object-getownpropertysymbols -- safe
 objectGetOwnPropertySymbols.f = Object.getOwnPropertySymbols;
 
-var getBuiltIn$s = getBuiltIn$t;
-var getOwnPropertyNamesModule$1 = objectGetOwnPropertyNames;
+var getBuiltIn$t = getBuiltIn$w;
+var getOwnPropertyNamesModule$2 = objectGetOwnPropertyNames;
 var getOwnPropertySymbolsModule$2 = objectGetOwnPropertySymbols;
-var anObject$1x = anObject$1z;
+var anObject$1A = anObject$1C;
 
 // all object keys, includes non-enumerable and symbols
-var ownKeys$3 = getBuiltIn$s('Reflect', 'ownKeys') || function ownKeys(it) {
-  var keys = getOwnPropertyNamesModule$1.f(anObject$1x(it));
+var ownKeys$3 = getBuiltIn$t('Reflect', 'ownKeys') || function ownKeys(it) {
+  var keys = getOwnPropertyNamesModule$2.f(anObject$1A(it));
   var getOwnPropertySymbols = getOwnPropertySymbolsModule$2.f;
   return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;
 };
 
-var has$i = has$n;
+var has$f = has$m;
 var ownKeys$2 = ownKeys$3;
 var getOwnPropertyDescriptorModule$6 = objectGetOwnPropertyDescriptor;
 var definePropertyModule$b = objectDefineProperty;
@@ -550,11 +718,12 @@ var copyConstructorProperties$2 = function (target, source) {
   var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule$6.f;
   for (var i = 0; i < keys.length; i++) {
     var key = keys[i];
-    if (!has$i(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));
+    if (!has$f(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));
   }
 };
 
-var fails$T = fails$X;
+var fails$10 = fails$15;
+var isCallable$q = isCallable$z;
 
 var replacement = /#|\.prototype\./;
 
@@ -562,7 +731,7 @@ var isForced$5 = function (feature, detection) {
   var value = data[normalize(feature)];
   return value == POLYFILL ? true
     : value == NATIVE ? false
-    : typeof detection == 'function' ? fails$T(detection)
+    : isCallable$q(detection) ? fails$10(detection)
     : !!detection;
 };
 
@@ -576,10 +745,10 @@ var POLYFILL = isForced$5.POLYFILL = 'P';
 
 var isForced_1 = isForced$5;
 
-var global$D = global$M;
+var global$H = global$R;
 var getOwnPropertyDescriptor$7 = objectGetOwnPropertyDescriptor.f;
-var createNonEnumerableProperty$i = createNonEnumerableProperty$m;
-var redefine$f = redefine$g.exports;
+var createNonEnumerableProperty$d = createNonEnumerableProperty$g;
+var redefine$k = redefine$l.exports;
 var setGlobal = setGlobal$3;
 var copyConstructorProperties$1 = copyConstructorProperties$2;
 var isForced$4 = isForced_1;
@@ -597,6 +766,7 @@ var isForced$4 = isForced_1;
   options.sham        - add a flag to not completely full polyfills
   options.enumerable  - export as enumerable property
   options.noTargetGet - prevent calling a getter on target
+  options.name        - the .name of the function if it does not match the key
 */
 var _export = function (options, source) {
   var TARGET = options.target;
@@ -604,11 +774,11 @@ var _export = function (options, source) {
   var STATIC = options.stat;
   var FORCED, target, key, targetProperty, sourceProperty, descriptor;
   if (GLOBAL) {
-    target = global$D;
+    target = global$H;
   } else if (STATIC) {
-    target = global$D[TARGET] || setGlobal(TARGET, {});
+    target = global$H[TARGET] || setGlobal(TARGET, {});
   } else {
-    target = (global$D[TARGET] || {}).prototype;
+    target = (global$H[TARGET] || {}).prototype;
   }
   if (target) for (key in source) {
     sourceProperty = source[key];
@@ -624,68 +794,64 @@ var _export = function (options, source) {
     }
     // add a flag to not completely full polyfills
     if (options.sham || (targetProperty && targetProperty.sham)) {
-      createNonEnumerableProperty$i(sourceProperty, 'sham', true);
+      createNonEnumerableProperty$d(sourceProperty, 'sham', true);
     }
     // extend global
-    redefine$f(target, key, sourceProperty, options);
+    redefine$k(target, key, sourceProperty, options);
   }
 };
 
-var getBuiltIn$r = getBuiltIn$t;
-
-var engineUserAgent = getBuiltIn$r('navigator', 'userAgent') || '';
-
-var global$C = global$M;
-var userAgent$6 = engineUserAgent;
+var classof$d = classofRaw$1;
 
-var process$4 = global$C.process;
-var versions = process$4 && process$4.versions;
-var v8 = versions && versions.v8;
-var match, version;
+// `IsArray` abstract operation
+// https://tc39.es/ecma262/#sec-isarray
+// eslint-disable-next-line es/no-array-isarray -- safe
+var isArray$8 = Array.isArray || function isArray(argument) {
+  return classof$d(argument) == 'Array';
+};
 
-if (v8) {
-  match = v8.split('.');
-  version = match[0] < 4 ? 1 : match[0] + match[1];
-} else if (userAgent$6) {
-  match = userAgent$6.match(/Edge\/(\d+)/);
-  if (!match || match[1] >= 74) {
-    match = userAgent$6.match(/Chrome\/(\d+)/);
-    if (match) version = match[1];
-  }
-}
+var wellKnownSymbol$E = wellKnownSymbol$G;
 
-var engineV8Version = version && +version;
+var TO_STRING_TAG$8 = wellKnownSymbol$E('toStringTag');
+var test$2 = {};
 
-/* eslint-disable es/no-symbol -- required for testing */
+test$2[TO_STRING_TAG$8] = 'z';
 
-var V8_VERSION$3 = engineV8Version;
-var fails$S = fails$X;
+var toStringTagSupport = String(test$2) === '[object z]';
 
-// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing
-var nativeSymbol = !!Object.getOwnPropertySymbols && !fails$S(function () {
-  var symbol = Symbol();
-  // Chrome 38 Symbol has incorrect toString conversion
-  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances
-  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||
-    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
-    !Symbol.sham && V8_VERSION$3 && V8_VERSION$3 < 41;
-});
+var TO_STRING_TAG_SUPPORT$2 = toStringTagSupport;
+var isCallable$p = isCallable$z;
+var classofRaw = classofRaw$1;
+var wellKnownSymbol$D = wellKnownSymbol$G;
 
-/* eslint-disable es/no-symbol -- required for testing */
+var TO_STRING_TAG$7 = wellKnownSymbol$D('toStringTag');
+// ES3 wrong here
+var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';
 
-var NATIVE_SYMBOL$2 = nativeSymbol;
+// fallback for IE11 Script Access Denied error
+var tryGet = function (it, key) {
+  try {
+    return it[key];
+  } catch (error) { /* empty */ }
+};
 
-var useSymbolAsUid = NATIVE_SYMBOL$2
-  && !Symbol.sham
-  && typeof Symbol.iterator == 'symbol';
+// getting tag from ES6+ `Object.prototype.toString`
+var classof$c = TO_STRING_TAG_SUPPORT$2 ? classofRaw : function (it) {
+  var O, tag, result;
+  return it === undefined ? 'Undefined' : it === null ? 'Null'
+    // @@toStringTag case
+    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG$7)) == 'string' ? tag
+    // builtinTag case
+    : CORRECT_ARGUMENTS ? classofRaw(O)
+    // ES3 arguments fallback
+    : (result = classofRaw(O)) == 'Object' && isCallable$p(O.callee) ? 'Arguments' : result;
+};
 
-var classof$c = classofRaw$1;
+var classof$b = classof$c;
 
-// `IsArray` abstract operation
-// https://tc39.es/ecma262/#sec-isarray
-// eslint-disable-next-line es/no-array-isarray -- safe
-var isArray$8 = Array.isArray || function isArray(arg) {
-  return classof$c(arg) == 'Array';
+var toString$t = function (argument) {
+  if (classof$b(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');
+  return String(argument);
 };
 
 var internalObjectKeys = objectKeysInternal;
@@ -698,16 +864,16 @@ var objectKeys$5 = Object.keys || function keys(O) {
   return internalObjectKeys(O, enumBugKeys$1);
 };
 
-var DESCRIPTORS$u = descriptors;
+var DESCRIPTORS$v = descriptors;
 var definePropertyModule$a = objectDefineProperty;
-var anObject$1w = anObject$1z;
+var anObject$1z = anObject$1C;
 var objectKeys$4 = objectKeys$5;
 
 // `Object.defineProperties` method
 // https://tc39.es/ecma262/#sec-object.defineproperties
 // eslint-disable-next-line es/no-object-defineproperties -- safe
-var objectDefineProperties = DESCRIPTORS$u ? Object.defineProperties : function defineProperties(O, Properties) {
-  anObject$1w(O);
+var objectDefineProperties = DESCRIPTORS$v ? Object.defineProperties : function defineProperties(O, Properties) {
+  anObject$1z(O);
   var keys = objectKeys$4(Properties);
   var length = keys.length;
   var index = 0;
@@ -716,16 +882,18 @@ var objectDefineProperties = DESCRIPTORS$u ? Object.defineProperties : function
   return O;
 };
 
-var getBuiltIn$q = getBuiltIn$t;
+var getBuiltIn$s = getBuiltIn$w;
 
-var html$2 = getBuiltIn$q('document', 'documentElement');
+var html$2 = getBuiltIn$s('document', 'documentElement');
 
-var anObject$1v = anObject$1z;
+/* global ActiveXObject -- old IE, WSH */
+
+var anObject$1y = anObject$1C;
 var defineProperties$3 = objectDefineProperties;
 var enumBugKeys = enumBugKeys$3;
 var hiddenKeys$2 = hiddenKeys$6;
 var html$1 = html$2;
-var documentCreateElement = documentCreateElement$1;
+var documentCreateElement$1 = documentCreateElement$2;
 var sharedKey$2 = sharedKey$4;
 
 var GT = '>';
@@ -752,7 +920,7 @@ var NullProtoObjectViaActiveX = function (activeXDocument) {
 // Create object with fake `null` prototype: use iframe Object with cleared prototype
 var NullProtoObjectViaIFrame = function () {
   // Thrash, waste and sodomy: IE GC bug
-  var iframe = documentCreateElement('iframe');
+  var iframe = documentCreateElement$1('iframe');
   var JS = 'java' + SCRIPT + ':';
   var iframeDocument;
   iframe.style.display = 'none';
@@ -774,10 +942,13 @@ var NullProtoObjectViaIFrame = function () {
 var activeXDocument;
 var NullProtoObject = function () {
   try {
-    /* global ActiveXObject -- old IE */
-    activeXDocument = document.domain && new ActiveXObject('htmlfile');
+    activeXDocument = new ActiveXObject('htmlfile');
   } catch (error) { /* ignore */ }
-  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();
+  NullProtoObject = typeof document != 'undefined'
+    ? document.domain && activeXDocument
+      ? NullProtoObjectViaActiveX(activeXDocument) // old IE
+      : NullProtoObjectViaIFrame()
+    : NullProtoObjectViaActiveX(activeXDocument); // WSH
   var length = enumBugKeys.length;
   while (length--) delete NullProtoObject[PROTOTYPE$2][enumBugKeys[length]];
   return NullProtoObject();
@@ -787,10 +958,10 @@ hiddenKeys$2[IE_PROTO$1] = true;
 
 // `Object.create` method
 // https://tc39.es/ecma262/#sec-object.create
-var objectCreate = Object.create || function create(O, Properties) {
+var objectCreate$1 = Object.create || function create(O, Properties) {
   var result;
   if (O !== null) {
-    EmptyConstructor[PROTOTYPE$2] = anObject$1v(O);
+    EmptyConstructor[PROTOTYPE$2] = anObject$1y(O);
     result = new EmptyConstructor();
     EmptyConstructor[PROTOTYPE$2] = null;
     // add "__proto__" for Object.getPrototypeOf polyfill
@@ -806,7 +977,7 @@ var objectGetOwnPropertyNamesExternal = {};
 var toIndexedObject$9 = toIndexedObject$d;
 var $getOwnPropertyNames$1 = objectGetOwnPropertyNames.f;
 
-var toString$1 = {}.toString;
+var toString$s = {}.toString;
 
 var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
   ? Object.getOwnPropertyNames(window) : [];
@@ -821,73 +992,50 @@ var getWindowNames = function (it) {
 
 // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
 objectGetOwnPropertyNamesExternal.f = function getOwnPropertyNames(it) {
-  return windowNames && toString$1.call(it) == '[object Window]'
+  return windowNames && toString$s.call(it) == '[object Window]'
     ? getWindowNames(it)
     : $getOwnPropertyNames$1(toIndexedObject$9(it));
 };
 
-var global$B = global$M;
-var shared$4 = shared$7.exports;
-var has$h = has$n;
-var uid$3 = uid$5;
-var NATIVE_SYMBOL$1 = nativeSymbol;
-var USE_SYMBOL_AS_UID$1 = useSymbolAsUid;
+var wellKnownSymbolWrapped = {};
 
-var WellKnownSymbolsStore$1 = shared$4('wks');
-var Symbol$1 = global$B.Symbol;
-var createWellKnownSymbol = USE_SYMBOL_AS_UID$1 ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid$3;
+var wellKnownSymbol$C = wellKnownSymbol$G;
 
-var wellKnownSymbol$C = function (name) {
-  if (!has$h(WellKnownSymbolsStore$1, name) || !(NATIVE_SYMBOL$1 || typeof WellKnownSymbolsStore$1[name] == 'string')) {
-    if (NATIVE_SYMBOL$1 && has$h(Symbol$1, name)) {
-      WellKnownSymbolsStore$1[name] = Symbol$1[name];
-    } else {
-      WellKnownSymbolsStore$1[name] = createWellKnownSymbol('Symbol.' + name);
-    }
-  } return WellKnownSymbolsStore$1[name];
-};
+wellKnownSymbolWrapped.f = wellKnownSymbol$C;
 
-var wellKnownSymbolWrapped = {};
+var global$G = global$R;
 
-var wellKnownSymbol$B = wellKnownSymbol$C;
+var path$1 = global$G;
 
-wellKnownSymbolWrapped.f = wellKnownSymbol$B;
-
-var path$4 = path$6;
-var has$g = has$n;
+var path = path$1;
+var has$e = has$m;
 var wrappedWellKnownSymbolModule$1 = wellKnownSymbolWrapped;
-var defineProperty$e = objectDefineProperty.f;
+var defineProperty$f = objectDefineProperty.f;
 
 var defineWellKnownSymbol$l = function (NAME) {
-  var Symbol = path$4.Symbol || (path$4.Symbol = {});
-  if (!has$g(Symbol, NAME)) defineProperty$e(Symbol, NAME, {
+  var Symbol = path.Symbol || (path.Symbol = {});
+  if (!has$e(Symbol, NAME)) defineProperty$f(Symbol, NAME, {
     value: wrappedWellKnownSymbolModule$1.f(NAME)
   });
 };
 
-var defineProperty$d = objectDefineProperty.f;
-var has$f = has$n;
-var wellKnownSymbol$A = wellKnownSymbol$C;
+var defineProperty$e = objectDefineProperty.f;
+var has$d = has$m;
+var wellKnownSymbol$B = wellKnownSymbol$G;
 
-var TO_STRING_TAG$8 = wellKnownSymbol$A('toStringTag');
+var TO_STRING_TAG$6 = wellKnownSymbol$B('toStringTag');
 
 var setToStringTag$b = function (it, TAG, STATIC) {
-  if (it && !has$f(it = STATIC ? it : it.prototype, TO_STRING_TAG$8)) {
-    defineProperty$d(it, TO_STRING_TAG$8, { configurable: true, value: TAG });
+  if (it && !has$d(it = STATIC ? it : it.prototype, TO_STRING_TAG$6)) {
+    defineProperty$e(it, TO_STRING_TAG$6, { configurable: true, value: TAG });
   }
 };
 
-var aFunction$S = function (it) {
-  if (typeof it != 'function') {
-    throw TypeError(String(it) + ' is not a function');
-  } return it;
-};
-
-var aFunction$R = aFunction$S;
+var aCallable$O = aCallable$Q;
 
 // optional / simple context binding
 var functionBindContext = function (fn, that, length) {
-  aFunction$R(fn);
+  aCallable$O(fn);
   if (that === undefined) return fn;
   switch (length) {
     case 0: return function () {
@@ -908,52 +1056,103 @@ var functionBindContext = function (fn, that, length) {
   };
 };
 
-var isObject$w = isObject$B;
+var fails$$ = fails$15;
+var isCallable$o = isCallable$z;
+var classof$a = classof$c;
+var getBuiltIn$r = getBuiltIn$w;
+var inspectSource$1 = inspectSource$4;
+
+var empty = [];
+var construct$1 = getBuiltIn$r('Reflect', 'construct');
+var constructorRegExp = /^\s*(?:class|function)\b/;
+var exec$1 = constructorRegExp.exec;
+var INCORRECT_TO_STRING = !constructorRegExp.exec(function () { /* empty */ });
+
+var isConstructorModern = function (argument) {
+  if (!isCallable$o(argument)) return false;
+  try {
+    construct$1(Object, empty, argument);
+    return true;
+  } catch (error) {
+    return false;
+  }
+};
+
+var isConstructorLegacy = function (argument) {
+  if (!isCallable$o(argument)) return false;
+  switch (classof$a(argument)) {
+    case 'AsyncFunction':
+    case 'GeneratorFunction':
+    case 'AsyncGeneratorFunction': return false;
+    // we can't check .prototype since constructors produced by .bind haven't it
+  } return INCORRECT_TO_STRING || !!exec$1.call(constructorRegExp, inspectSource$1(argument));
+};
+
+// `IsConstructor` abstract operation
+// https://tc39.es/ecma262/#sec-isconstructor
+var isConstructor$7 = !construct$1 || fails$$(function () {
+  var called;
+  return isConstructorModern(isConstructorModern.call)
+    || !isConstructorModern(Object)
+    || !isConstructorModern(function () { called = true; })
+    || called;
+}) ? isConstructorLegacy : isConstructorModern;
+
 var isArray$7 = isArray$8;
-var wellKnownSymbol$z = wellKnownSymbol$C;
+var isConstructor$6 = isConstructor$7;
+var isObject$v = isObject$B;
+var wellKnownSymbol$A = wellKnownSymbol$G;
 
-var SPECIES$6 = wellKnownSymbol$z('species');
+var SPECIES$6 = wellKnownSymbol$A('species');
 
-// `ArraySpeciesCreate` abstract operation
+// a part of `ArraySpeciesCreate` abstract operation
 // https://tc39.es/ecma262/#sec-arrayspeciescreate
-var arraySpeciesCreate$6 = function (originalArray, length) {
+var arraySpeciesConstructor$2 = function (originalArray) {
   var C;
   if (isArray$7(originalArray)) {
     C = originalArray.constructor;
     // cross-realm fallback
-    if (typeof C == 'function' && (C === Array || isArray$7(C.prototype))) C = undefined;
-    else if (isObject$w(C)) {
+    if (isConstructor$6(C) && (C === Array || isArray$7(C.prototype))) C = undefined;
+    else if (isObject$v(C)) {
       C = C[SPECIES$6];
       if (C === null) C = undefined;
     }
-  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);
+  } return C === undefined ? Array : C;
 };
 
-var bind$o = functionBindContext;
-var IndexedObject$4 = indexedObject;
-var toObject$u = toObject$w;
-var toLength$z = toLength$B;
+var arraySpeciesConstructor$1 = arraySpeciesConstructor$2;
+
+// `ArraySpeciesCreate` abstract operation
+// https://tc39.es/ecma262/#sec-arrayspeciescreate
+var arraySpeciesCreate$6 = function (originalArray, length) {
+  return new (arraySpeciesConstructor$1(originalArray))(length === 0 ? 0 : length);
+};
+
+var bind$q = functionBindContext;
+var IndexedObject$5 = indexedObject;
+var toObject$x = toObject$z;
+var toLength$B = toLength$D;
 var arraySpeciesCreate$5 = arraySpeciesCreate$6;
 
-var push$3 = [].push;
+var push$4 = [].push;
 
-// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation
+// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation
 var createMethod$7 = function (TYPE) {
   var IS_MAP = TYPE == 1;
   var IS_FILTER = TYPE == 2;
   var IS_SOME = TYPE == 3;
   var IS_EVERY = TYPE == 4;
   var IS_FIND_INDEX = TYPE == 6;
-  var IS_FILTER_OUT = TYPE == 7;
+  var IS_FILTER_REJECT = TYPE == 7;
   var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
   return function ($this, callbackfn, that, specificCreate) {
-    var O = toObject$u($this);
-    var self = IndexedObject$4(O);
-    var boundFunction = bind$o(callbackfn, that, 3);
-    var length = toLength$z(self.length);
+    var O = toObject$x($this);
+    var self = IndexedObject$5(O);
+    var boundFunction = bind$q(callbackfn, that, 3);
+    var length = toLength$B(self.length);
     var index = 0;
     var create = specificCreate || arraySpeciesCreate$5;
-    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;
+    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;
     var value, result;
     for (;length > index; index++) if (NO_HOLES || index in self) {
       value = self[index];
@@ -964,10 +1163,10 @@ var createMethod$7 = function (TYPE) {
           case 3: return true;              // some
           case 5: return value;             // find
           case 6: return index;             // findIndex
-          case 2: push$3.call(target, value); // filter
+          case 2: push$4.call(target, value); // filter
         } else switch (TYPE) {
           case 4: return false;             // every
-          case 7: push$3.call(target, value); // filterOut
+          case 7: push$4.call(target, value); // filterReject
         }
       }
     }
@@ -997,56 +1196,57 @@ var arrayIteration = {
   // `Array.prototype.findIndex` method
   // https://tc39.es/ecma262/#sec-array.prototype.findIndex
   findIndex: createMethod$7(6),
-  // `Array.prototype.filterOut` method
+  // `Array.prototype.filterReject` method
   // https://github.com/tc39/proposal-array-filtering
-  filterOut: createMethod$7(7)
+  filterReject: createMethod$7(7)
 };
 
-var $$47 = _export;
-var global$A = global$M;
-var getBuiltIn$p = getBuiltIn$t;
-var DESCRIPTORS$t = descriptors;
-var NATIVE_SYMBOL = nativeSymbol;
-var USE_SYMBOL_AS_UID = useSymbolAsUid;
-var fails$R = fails$X;
-var has$e = has$n;
+var $$4i = _export;
+var global$F = global$R;
+var getBuiltIn$q = getBuiltIn$w;
+var DESCRIPTORS$u = descriptors;
+var NATIVE_SYMBOL = nativeSymbol$1;
+var fails$_ = fails$15;
+var has$c = has$m;
 var isArray$6 = isArray$8;
-var isObject$v = isObject$B;
-var anObject$1u = anObject$1z;
-var toObject$t = toObject$w;
+var isCallable$n = isCallable$z;
+var isObject$u = isObject$B;
+var isSymbol$2 = isSymbol$5;
+var anObject$1x = anObject$1C;
+var toObject$w = toObject$z;
 var toIndexedObject$8 = toIndexedObject$d;
-var toPrimitive$8 = toPrimitive$b;
+var toPropertyKey$6 = toPropertyKey$9;
+var $toString$3 = toString$t;
 var createPropertyDescriptor$6 = createPropertyDescriptor$9;
-var nativeObjectCreate = objectCreate;
+var nativeObjectCreate = objectCreate$1;
 var objectKeys$3 = objectKeys$5;
-var getOwnPropertyNamesModule = objectGetOwnPropertyNames;
+var getOwnPropertyNamesModule$1 = objectGetOwnPropertyNames;
 var getOwnPropertyNamesExternal = objectGetOwnPropertyNamesExternal;
 var getOwnPropertySymbolsModule$1 = objectGetOwnPropertySymbols;
 var getOwnPropertyDescriptorModule$5 = objectGetOwnPropertyDescriptor;
 var definePropertyModule$9 = objectDefineProperty;
 var propertyIsEnumerableModule$1 = objectPropertyIsEnumerable;
-var createNonEnumerableProperty$h = createNonEnumerableProperty$m;
-var redefine$e = redefine$g.exports;
+var redefine$j = redefine$l.exports;
 var shared$3 = shared$7.exports;
 var sharedKey$1 = sharedKey$4;
 var hiddenKeys$1 = hiddenKeys$6;
 var uid$2 = uid$5;
-var wellKnownSymbol$y = wellKnownSymbol$C;
+var wellKnownSymbol$z = wellKnownSymbol$G;
 var wrappedWellKnownSymbolModule = wellKnownSymbolWrapped;
 var defineWellKnownSymbol$k = defineWellKnownSymbol$l;
 var setToStringTag$a = setToStringTag$b;
-var InternalStateModule$h = internalState;
+var InternalStateModule$i = internalState;
 var $forEach$3 = arrayIteration.forEach;
 
 var HIDDEN = sharedKey$1('hidden');
 var SYMBOL = 'Symbol';
 var PROTOTYPE$1 = 'prototype';
-var TO_PRIMITIVE$1 = wellKnownSymbol$y('toPrimitive');
-var setInternalState$h = InternalStateModule$h.set;
-var getInternalState$e = InternalStateModule$h.getterFor(SYMBOL);
+var TO_PRIMITIVE$1 = wellKnownSymbol$z('toPrimitive');
+var setInternalState$i = InternalStateModule$i.set;
+var getInternalState$h = InternalStateModule$i.getterFor(SYMBOL);
 var ObjectPrototype$3 = Object[PROTOTYPE$1];
-var $Symbol = global$A.Symbol;
-var $stringify$1 = getBuiltIn$p('JSON', 'stringify');
+var $Symbol = global$F.Symbol;
+var $stringify$1 = getBuiltIn$q('JSON', 'stringify');
 var nativeGetOwnPropertyDescriptor$2 = getOwnPropertyDescriptorModule$5.f;
 var nativeDefineProperty$1 = definePropertyModule$9.f;
 var nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;
@@ -1056,12 +1256,12 @@ var ObjectPrototypeSymbols = shared$3('op-symbols');
 var StringToSymbolRegistry = shared$3('string-to-symbol-registry');
 var SymbolToStringRegistry = shared$3('symbol-to-string-registry');
 var WellKnownSymbolsStore = shared$3('wks');
-var QObject = global$A.QObject;
+var QObject = global$F.QObject;
 // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
 var USE_SETTER = !QObject || !QObject[PROTOTYPE$1] || !QObject[PROTOTYPE$1].findChild;
 
 // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
-var setSymbolDescriptor = DESCRIPTORS$t && fails$R(function () {
+var setSymbolDescriptor = DESCRIPTORS$u && fails$_(function () {
   return nativeObjectCreate(nativeDefineProperty$1({}, 'a', {
     get: function () { return nativeDefineProperty$1(this, 'a', { value: 7 }).a; }
   })).a != 7;
@@ -1076,43 +1276,37 @@ var setSymbolDescriptor = DESCRIPTORS$t && fails$R(function () {
 
 var wrap$1 = function (tag, description) {
   var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE$1]);
-  setInternalState$h(symbol, {
+  setInternalState$i(symbol, {
     type: SYMBOL,
     tag: tag,
     description: description
   });
-  if (!DESCRIPTORS$t) symbol.description = description;
+  if (!DESCRIPTORS$u) symbol.description = description;
   return symbol;
 };
 
-var isSymbol = USE_SYMBOL_AS_UID ? function (it) {
-  return typeof it == 'symbol';
-} : function (it) {
-  return Object(it) instanceof $Symbol;
-};
-
 var $defineProperty = function defineProperty(O, P, Attributes) {
   if (O === ObjectPrototype$3) $defineProperty(ObjectPrototypeSymbols, P, Attributes);
-  anObject$1u(O);
-  var key = toPrimitive$8(P, true);
-  anObject$1u(Attributes);
-  if (has$e(AllSymbols, key)) {
+  anObject$1x(O);
+  var key = toPropertyKey$6(P);
+  anObject$1x(Attributes);
+  if (has$c(AllSymbols, key)) {
     if (!Attributes.enumerable) {
-      if (!has$e(O, HIDDEN)) nativeDefineProperty$1(O, HIDDEN, createPropertyDescriptor$6(1, {}));
+      if (!has$c(O, HIDDEN)) nativeDefineProperty$1(O, HIDDEN, createPropertyDescriptor$6(1, {}));
       O[HIDDEN][key] = true;
     } else {
-      if (has$e(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;
+      if (has$c(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;
       Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor$6(0, false) });
     } return setSymbolDescriptor(O, key, Attributes);
   } return nativeDefineProperty$1(O, key, Attributes);
 };
 
 var $defineProperties = function defineProperties(O, Properties) {
-  anObject$1u(O);
+  anObject$1x(O);
   var properties = toIndexedObject$8(Properties);
   var keys = objectKeys$3(properties).concat($getOwnPropertySymbols(properties));
   $forEach$3(keys, function (key) {
-    if (!DESCRIPTORS$t || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);
+    if (!DESCRIPTORS$u || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);
   });
   return O;
 };
@@ -1122,18 +1316,18 @@ var $create = function create(O, Properties) {
 };
 
 var $propertyIsEnumerable = function propertyIsEnumerable(V) {
-  var P = toPrimitive$8(V, true);
+  var P = toPropertyKey$6(V);
   var enumerable = nativePropertyIsEnumerable.call(this, P);
-  if (this === ObjectPrototype$3 && has$e(AllSymbols, P) && !has$e(ObjectPrototypeSymbols, P)) return false;
-  return enumerable || !has$e(this, P) || !has$e(AllSymbols, P) || has$e(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;
+  if (this === ObjectPrototype$3 && has$c(AllSymbols, P) && !has$c(ObjectPrototypeSymbols, P)) return false;
+  return enumerable || !has$c(this, P) || !has$c(AllSymbols, P) || has$c(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;
 };
 
 var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {
   var it = toIndexedObject$8(O);
-  var key = toPrimitive$8(P, true);
-  if (it === ObjectPrototype$3 && has$e(AllSymbols, key) && !has$e(ObjectPrototypeSymbols, key)) return;
+  var key = toPropertyKey$6(P);
+  if (it === ObjectPrototype$3 && has$c(AllSymbols, key) && !has$c(ObjectPrototypeSymbols, key)) return;
   var descriptor = nativeGetOwnPropertyDescriptor$2(it, key);
-  if (descriptor && has$e(AllSymbols, key) && !(has$e(it, HIDDEN) && it[HIDDEN][key])) {
+  if (descriptor && has$c(AllSymbols, key) && !(has$c(it, HIDDEN) && it[HIDDEN][key])) {
     descriptor.enumerable = true;
   }
   return descriptor;
@@ -1143,7 +1337,7 @@ var $getOwnPropertyNames = function getOwnPropertyNames(O) {
   var names = nativeGetOwnPropertyNames(toIndexedObject$8(O));
   var result = [];
   $forEach$3(names, function (key) {
-    if (!has$e(AllSymbols, key) && !has$e(hiddenKeys$1, key)) result.push(key);
+    if (!has$c(AllSymbols, key) && !has$c(hiddenKeys$1, key)) result.push(key);
   });
   return result;
 };
@@ -1153,7 +1347,7 @@ var $getOwnPropertySymbols = function getOwnPropertySymbols(O) {
   var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject$8(O));
   var result = [];
   $forEach$3(names, function (key) {
-    if (has$e(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has$e(ObjectPrototype$3, key))) {
+    if (has$c(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has$c(ObjectPrototype$3, key))) {
       result.push(AllSymbols[key]);
     }
   });
@@ -1165,50 +1359,50 @@ var $getOwnPropertySymbols = function getOwnPropertySymbols(O) {
 if (!NATIVE_SYMBOL) {
   $Symbol = function Symbol() {
     if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');
-    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);
+    var description = !arguments.length || arguments[0] === undefined ? undefined : $toString$3(arguments[0]);
     var tag = uid$2(description);
     var setter = function (value) {
       if (this === ObjectPrototype$3) setter.call(ObjectPrototypeSymbols, value);
-      if (has$e(this, HIDDEN) && has$e(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
+      if (has$c(this, HIDDEN) && has$c(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
       setSymbolDescriptor(this, tag, createPropertyDescriptor$6(1, value));
     };
-    if (DESCRIPTORS$t && USE_SETTER) setSymbolDescriptor(ObjectPrototype$3, tag, { configurable: true, set: setter });
+    if (DESCRIPTORS$u && USE_SETTER) setSymbolDescriptor(ObjectPrototype$3, tag, { configurable: true, set: setter });
     return wrap$1(tag, description);
   };
 
-  redefine$e($Symbol[PROTOTYPE$1], 'toString', function toString() {
-    return getInternalState$e(this).tag;
+  redefine$j($Symbol[PROTOTYPE$1], 'toString', function toString() {
+    return getInternalState$h(this).tag;
   });
 
-  redefine$e($Symbol, 'withoutSetter', function (description) {
+  redefine$j($Symbol, 'withoutSetter', function (description) {
     return wrap$1(uid$2(description), description);
   });
 
   propertyIsEnumerableModule$1.f = $propertyIsEnumerable;
   definePropertyModule$9.f = $defineProperty;
   getOwnPropertyDescriptorModule$5.f = $getOwnPropertyDescriptor;
-  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;
+  getOwnPropertyNamesModule$1.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;
   getOwnPropertySymbolsModule$1.f = $getOwnPropertySymbols;
 
   wrappedWellKnownSymbolModule.f = function (name) {
-    return wrap$1(wellKnownSymbol$y(name), name);
+    return wrap$1(wellKnownSymbol$z(name), name);
   };
 
-  if (DESCRIPTORS$t) {
+  if (DESCRIPTORS$u) {
     // https://github.com/tc39/proposal-Symbol-description
     nativeDefineProperty$1($Symbol[PROTOTYPE$1], 'description', {
       configurable: true,
       get: function description() {
-        return getInternalState$e(this).description;
+        return getInternalState$h(this).description;
       }
     });
     {
-      redefine$e(ObjectPrototype$3, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });
+      redefine$j(ObjectPrototype$3, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });
     }
   }
 }
 
-$$47({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {
+$$4i({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {
   Symbol: $Symbol
 });
 
@@ -1216,12 +1410,12 @@ $forEach$3(objectKeys$3(WellKnownSymbolsStore), function (name) {
   defineWellKnownSymbol$k(name);
 });
 
-$$47({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {
+$$4i({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {
   // `Symbol.for` method
   // https://tc39.es/ecma262/#sec-symbol.for
   'for': function (key) {
-    var string = String(key);
-    if (has$e(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];
+    var string = $toString$3(key);
+    if (has$c(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];
     var symbol = $Symbol(string);
     StringToSymbolRegistry[string] = symbol;
     SymbolToStringRegistry[symbol] = string;
@@ -1230,14 +1424,14 @@ $$47({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {
   // `Symbol.keyFor` method
   // https://tc39.es/ecma262/#sec-symbol.keyfor
   keyFor: function keyFor(sym) {
-    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');
-    if (has$e(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];
+    if (!isSymbol$2(sym)) throw TypeError(sym + ' is not a symbol');
+    if (has$c(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];
   },
   useSetter: function () { USE_SETTER = true; },
   useSimple: function () { USE_SETTER = false; }
 });
 
-$$47({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS$t }, {
+$$4i({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS$u }, {
   // `Object.create` method
   // https://tc39.es/ecma262/#sec-object.create
   create: $create,
@@ -1252,7 +1446,7 @@ $$47({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS$
   getOwnPropertyDescriptor: $getOwnPropertyDescriptor
 });
 
-$$47({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {
+$$4i({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {
   // `Object.getOwnPropertyNames` method
   // https://tc39.es/ecma262/#sec-object.getownpropertynames
   getOwnPropertyNames: $getOwnPropertyNames,
@@ -1263,16 +1457,16 @@ $$47({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {
 
 // Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives
 // https://bugs.chromium.org/p/v8/issues/detail?id=3443
-$$47({ target: 'Object', stat: true, forced: fails$R(function () { getOwnPropertySymbolsModule$1.f(1); }) }, {
+$$4i({ target: 'Object', stat: true, forced: fails$_(function () { getOwnPropertySymbolsModule$1.f(1); }) }, {
   getOwnPropertySymbols: function getOwnPropertySymbols(it) {
-    return getOwnPropertySymbolsModule$1.f(toObject$t(it));
+    return getOwnPropertySymbolsModule$1.f(toObject$w(it));
   }
 });
 
 // `JSON.stringify` method behavior with symbols
 // https://tc39.es/ecma262/#sec-json.stringify
 if ($stringify$1) {
-  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails$R(function () {
+  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails$_(function () {
     var symbol = $Symbol();
     // MS Edge converts symbol values to JSON as {}
     return $stringify$1([symbol]) != '[null]'
@@ -1282,7 +1476,7 @@ if ($stringify$1) {
       || $stringify$1(Object(symbol)) != '{}';
   });
 
-  $$47({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {
+  $$4i({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {
     // eslint-disable-next-line no-unused-vars -- required for `.length`
     stringify: function stringify(it, replacer, space) {
       var args = [it];
@@ -1290,10 +1484,10 @@ if ($stringify$1) {
       var $replacer;
       while (arguments.length > index) args.push(arguments[index++]);
       $replacer = replacer;
-      if (!isObject$v(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined
+      if (!isObject$u(replacer) && it === undefined || isSymbol$2(it)) return; // IE8 returns string on undefined
       if (!isArray$6(replacer)) replacer = function (key, value) {
-        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);
-        if (!isSymbol(value)) return value;
+        if (isCallable$n($replacer)) value = $replacer.call(this, key, value);
+        if (!isSymbol$2(value)) return value;
       };
       args[1] = replacer;
       return $stringify$1.apply(null, args);
@@ -1304,7 +1498,10 @@ if ($stringify$1) {
 // `Symbol.prototype[@@toPrimitive]` method
 // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
 if (!$Symbol[PROTOTYPE$1][TO_PRIMITIVE$1]) {
-  createNonEnumerableProperty$h($Symbol[PROTOTYPE$1], TO_PRIMITIVE$1, $Symbol[PROTOTYPE$1].valueOf);
+  var valueOf$1 = $Symbol[PROTOTYPE$1].valueOf;
+  redefine$j($Symbol[PROTOTYPE$1], TO_PRIMITIVE$1, function () {
+    return valueOf$1.apply(this, arguments);
+  });
 }
 // `Symbol.prototype[@@toStringTag]` property
 // https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag
@@ -1312,17 +1509,18 @@ setToStringTag$a($Symbol, SYMBOL);
 
 hiddenKeys$1[HIDDEN] = true;
 
-var $$46 = _export;
-var DESCRIPTORS$s = descriptors;
-var global$z = global$M;
-var has$d = has$n;
-var isObject$u = isObject$B;
-var defineProperty$c = objectDefineProperty.f;
+var $$4h = _export;
+var DESCRIPTORS$t = descriptors;
+var global$E = global$R;
+var has$b = has$m;
+var isCallable$m = isCallable$z;
+var isObject$t = isObject$B;
+var defineProperty$d = objectDefineProperty.f;
 var copyConstructorProperties = copyConstructorProperties$2;
 
-var NativeSymbol = global$z.Symbol;
+var NativeSymbol = global$E.Symbol;
 
-if (DESCRIPTORS$s && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||
+if (DESCRIPTORS$t && isCallable$m(NativeSymbol) && (!('description' in NativeSymbol.prototype) ||
   // Safari 12 bug
   NativeSymbol().description !== undefined
 )) {
@@ -1342,20 +1540,20 @@ if (DESCRIPTORS$s && typeof NativeSymbol == 'function' && (!('description' in Na
   symbolPrototype.constructor = SymbolWrapper;
 
   var symbolToString = symbolPrototype.toString;
-  var native = String(NativeSymbol('test')) == 'Symbol(test)';
+  var nativeSymbol = String(NativeSymbol('test')) == 'Symbol(test)';
   var regexp = /^Symbol\((.*)\)[^)]+$/;
-  defineProperty$c(symbolPrototype, 'description', {
+  defineProperty$d(symbolPrototype, 'description', {
     configurable: true,
     get: function description() {
-      var symbol = isObject$u(this) ? this.valueOf() : this;
+      var symbol = isObject$t(this) ? this.valueOf() : this;
       var string = symbolToString.call(symbol);
-      if (has$d(EmptyStringDescriptionStore, symbol)) return '';
-      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');
+      if (has$b(EmptyStringDescriptionStore, symbol)) return '';
+      var desc = nativeSymbol ? string.slice(7, -1) : string.replace(regexp, '$1');
       return desc === '' ? undefined : desc;
     }
   });
 
-  $$46({ global: true, forced: true }, {
+  $$4h({ global: true, forced: true }, {
     Symbol: SymbolWrapper
   });
 }
@@ -1438,17 +1636,18 @@ var defineWellKnownSymbol$7 = defineWellKnownSymbol$l;
 // https://tc39.es/ecma262/#sec-symbol.unscopables
 defineWellKnownSymbol$7('unscopables');
 
-var fails$Q = fails$X;
+var fails$Z = fails$15;
 
-var correctPrototypeGetter = !fails$Q(function () {
+var correctPrototypeGetter = !fails$Z(function () {
   function F() { /* empty */ }
   F.prototype.constructor = null;
   // eslint-disable-next-line es/no-object-getprototypeof -- required for testing
   return Object.getPrototypeOf(new F()) !== F.prototype;
 });
 
-var has$c = has$n;
-var toObject$s = toObject$w;
+var has$a = has$m;
+var isCallable$l = isCallable$z;
+var toObject$v = toObject$z;
 var sharedKey = sharedKey$4;
 var CORRECT_PROTOTYPE_GETTER$2 = correctPrototypeGetter;
 
@@ -1459,24 +1658,24 @@ var ObjectPrototype$2 = Object.prototype;
 // https://tc39.es/ecma262/#sec-object.getprototypeof
 // eslint-disable-next-line es/no-object-getprototypeof -- safe
 var objectGetPrototypeOf$1 = CORRECT_PROTOTYPE_GETTER$2 ? Object.getPrototypeOf : function (O) {
-  O = toObject$s(O);
-  if (has$c(O, IE_PROTO)) return O[IE_PROTO];
-  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
-    return O.constructor.prototype;
-  } return O instanceof Object ? ObjectPrototype$2 : null;
+  var object = toObject$v(O);
+  if (has$a(object, IE_PROTO)) return object[IE_PROTO];
+  var constructor = object.constructor;
+  if (isCallable$l(constructor) && object instanceof constructor) {
+    return constructor.prototype;
+  } return object instanceof Object ? ObjectPrototype$2 : null;
 };
 
-var isObject$t = isObject$B;
+var isCallable$k = isCallable$z;
 
-var aPossiblePrototype$2 = function (it) {
-  if (!isObject$t(it) && it !== null) {
-    throw TypeError("Can't set " + String(it) + ' as a prototype');
-  } return it;
+var aPossiblePrototype$2 = function (argument) {
+  if (typeof argument === 'object' || isCallable$k(argument)) return argument;
+  throw TypeError("Can't set " + String(argument) + ' as a prototype');
 };
 
 /* eslint-disable no-proto -- safe */
 
-var anObject$1t = anObject$1z;
+var anObject$1w = anObject$1C;
 var aPossiblePrototype$1 = aPossiblePrototype$2;
 
 // `Object.setPrototypeOf` method
@@ -1494,7 +1693,7 @@ var objectSetPrototypeOf$1 = Object.setPrototypeOf || ('__proto__' in {} ? funct
     CORRECT_SETTER = test instanceof Array;
   } catch (error) { /* empty */ }
   return function setPrototypeOf(O, proto) {
-    anObject$1t(O);
+    anObject$1w(O);
     aPossiblePrototype$1(proto);
     if (CORRECT_SETTER) setter.call(O, proto);
     else O.__proto__ = proto;
@@ -1504,79 +1703,69 @@ var objectSetPrototypeOf$1 = Object.setPrototypeOf || ('__proto__' in {} ? funct
 
 var iterators = {};
 
-var wellKnownSymbol$x = wellKnownSymbol$C;
+var wellKnownSymbol$y = wellKnownSymbol$G;
 var Iterators$4 = iterators;
 
-var ITERATOR$8 = wellKnownSymbol$x('iterator');
-var ArrayPrototype$1 = Array.prototype;
+var ITERATOR$a = wellKnownSymbol$y('iterator');
+var ArrayPrototype$2 = Array.prototype;
 
 // check on default Array iterator
 var isArrayIteratorMethod$3 = function (it) {
-  return it !== undefined && (Iterators$4.Array === it || ArrayPrototype$1[ITERATOR$8] === it);
+  return it !== undefined && (Iterators$4.Array === it || ArrayPrototype$2[ITERATOR$a] === it);
 };
 
-var wellKnownSymbol$w = wellKnownSymbol$C;
-
-var TO_STRING_TAG$7 = wellKnownSymbol$w('toStringTag');
-var test$2 = {};
-
-test$2[TO_STRING_TAG$7] = 'z';
-
-var toStringTagSupport = String(test$2) === '[object z]';
-
-var TO_STRING_TAG_SUPPORT$2 = toStringTagSupport;
-var classofRaw = classofRaw$1;
-var wellKnownSymbol$v = wellKnownSymbol$C;
-
-var TO_STRING_TAG$6 = wellKnownSymbol$v('toStringTag');
-// ES3 wrong here
-var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';
+var classof$9 = classof$c;
+var getMethod$f = getMethod$h;
+var Iterators$3 = iterators;
+var wellKnownSymbol$x = wellKnownSymbol$G;
 
-// fallback for IE11 Script Access Denied error
-var tryGet = function (it, key) {
-  try {
-    return it[key];
-  } catch (error) { /* empty */ }
-};
+var ITERATOR$9 = wellKnownSymbol$x('iterator');
 
-// getting tag from ES6+ `Object.prototype.toString`
-var classof$b = TO_STRING_TAG_SUPPORT$2 ? classofRaw : function (it) {
-  var O, tag, result;
-  return it === undefined ? 'Undefined' : it === null ? 'Null'
-    // @@toStringTag case
-    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG$6)) == 'string' ? tag
-    // builtinTag case
-    : CORRECT_ARGUMENTS ? classofRaw(O)
-    // ES3 arguments fallback
-    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;
+var getIteratorMethod$9 = function (it) {
+  if (it != undefined) return getMethod$f(it, ITERATOR$9)
+    || getMethod$f(it, '@@iterator')
+    || Iterators$3[classof$9(it)];
 };
 
-var classof$a = classof$b;
-var Iterators$3 = iterators;
-var wellKnownSymbol$u = wellKnownSymbol$C;
-
-var ITERATOR$7 = wellKnownSymbol$u('iterator');
+var aCallable$N = aCallable$Q;
+var anObject$1v = anObject$1C;
+var getIteratorMethod$8 = getIteratorMethod$9;
 
-var getIteratorMethod$8 = function (it) {
-  if (it != undefined) return it[ITERATOR$7]
-    || it['@@iterator']
-    || Iterators$3[classof$a(it)];
+var getIterator$b = function (argument, usingIterator) {
+  var iteratorMethod = arguments.length < 2 ? getIteratorMethod$8(argument) : usingIterator;
+  if (aCallable$N(iteratorMethod)) return anObject$1v(iteratorMethod.call(argument));
+  throw TypeError(String(argument) + ' is not iterable');
 };
 
-var anObject$1s = anObject$1z;
+var anObject$1u = anObject$1C;
+var getMethod$e = getMethod$h;
 
-var iteratorClose$4 = function (iterator) {
-  var returnMethod = iterator['return'];
-  if (returnMethod !== undefined) {
-    return anObject$1s(returnMethod.call(iterator)).value;
+var iteratorClose$4 = function (iterator, kind, value) {
+  var innerResult, innerError;
+  anObject$1u(iterator);
+  try {
+    innerResult = getMethod$e(iterator, 'return');
+    if (!innerResult) {
+      if (kind === 'throw') throw value;
+      return value;
+    }
+    innerResult = innerResult.call(iterator);
+  } catch (error) {
+    innerError = true;
+    innerResult = error;
   }
+  if (kind === 'throw') throw value;
+  if (innerError) throw innerResult;
+  anObject$1u(innerResult);
+  return value;
 };
 
-var anObject$1r = anObject$1z;
+var anObject$1t = anObject$1C;
 var isArrayIteratorMethod$2 = isArrayIteratorMethod$3;
-var toLength$y = toLength$B;
-var bind$n = functionBindContext;
-var getIteratorMethod$7 = getIteratorMethod$8;
+var toLength$A = toLength$D;
+var bind$p = functionBindContext;
+var getIterator$a = getIterator$b;
+var getIteratorMethod$7 = getIteratorMethod$9;
 var iteratorClose$3 = iteratorClose$4;
 
 var Result = function (stopped, result) {
@@ -1589,17 +1778,17 @@ var iterate$I = function (iterable, unboundFunction, options) {
   var AS_ENTRIES = !!(options && options.AS_ENTRIES);
   var IS_ITERATOR = !!(options && options.IS_ITERATOR);
   var INTERRUPTED = !!(options && options.INTERRUPTED);
-  var fn = bind$n(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);
+  var fn = bind$p(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);
   var iterator, iterFn, index, length, result, next, step;
 
   var stop = function (condition) {
-    if (iterator) iteratorClose$3(iterator);
+    if (iterator) iteratorClose$3(iterator, 'normal', condition);
     return new Result(true, condition);
   };
 
   var callFn = function (value) {
     if (AS_ENTRIES) {
-      anObject$1r(value);
+      anObject$1t(value);
       return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);
     } return INTERRUPTED ? fn(value, stop) : fn(value);
   };
@@ -1608,15 +1797,15 @@ var iterate$I = function (iterable, unboundFunction, options) {
     iterator = iterable;
   } else {
     iterFn = getIteratorMethod$7(iterable);
-    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');
+    if (!iterFn) throw TypeError(String(iterable) + ' is not iterable');
     // optimisation for array iterators
     if (isArrayIteratorMethod$2(iterFn)) {
-      for (index = 0, length = toLength$y(iterable.length); length > index; index++) {
+      for (index = 0, length = toLength$A(iterable.length); length > index; index++) {
         result = callFn(iterable[index]);
         if (result && result instanceof Result) return result;
       } return new Result(false);
     }
-    iterator = iterFn.call(iterable);
+    iterator = getIterator$a(iterable, iterFn);
   }
 
   next = iterator.next;
@@ -1624,20 +1813,20 @@ var iterate$I = function (iterable, unboundFunction, options) {
     try {
       result = callFn(step.value);
     } catch (error) {
-      iteratorClose$3(iterator);
-      throw error;
+      iteratorClose$3(iterator, 'throw', error);
     }
     if (typeof result == 'object' && result && result instanceof Result) return result;
   } return new Result(false);
 };
 
-var $$45 = _export;
+var $$4g = _export;
 var getPrototypeOf$d = objectGetPrototypeOf$1;
 var setPrototypeOf$7 = objectSetPrototypeOf$1;
-var create$c = objectCreate;
-var createNonEnumerableProperty$g = createNonEnumerableProperty$m;
+var create$e = objectCreate$1;
+var createNonEnumerableProperty$c = createNonEnumerableProperty$g;
 var createPropertyDescriptor$5 = createPropertyDescriptor$9;
 var iterate$H = iterate$I;
+var toString$r = toString$t;
 
 var $AggregateError = function AggregateError(errors, message) {
   var that = this;
@@ -1646,14 +1835,14 @@ var $AggregateError = function AggregateError(errors, message) {
     // eslint-disable-next-line unicorn/error-message -- expected
     that = setPrototypeOf$7(new Error(undefined), getPrototypeOf$d(that));
   }
-  if (message !== undefined) createNonEnumerableProperty$g(that, 'message', String(message));
+  if (message !== undefined) createNonEnumerableProperty$c(that, 'message', toString$r(message));
   var errorsArray = [];
   iterate$H(errors, errorsArray.push, { that: errorsArray });
-  createNonEnumerableProperty$g(that, 'errors', errorsArray);
+  createNonEnumerableProperty$c(that, 'errors', errorsArray);
   return that;
 };
 
-$AggregateError.prototype = create$c(Error.prototype, {
+$AggregateError.prototype = create$e(Error.prototype, {
   constructor: createPropertyDescriptor$5(5, $AggregateError),
   message: createPropertyDescriptor$5(5, ''),
   name: createPropertyDescriptor$5(5, 'AggregateError')
@@ -1661,31 +1850,72 @@ $AggregateError.prototype = create$c(Error.prototype, {
 
 // `AggregateError` constructor
 // https://tc39.es/ecma262/#sec-aggregate-error-constructor
-$$45({ global: true }, {
+$$4g({ global: true }, {
   AggregateError: $AggregateError
 });
 
-var toPrimitive$7 = toPrimitive$b;
+var wellKnownSymbol$w = wellKnownSymbol$G;
+var create$d = objectCreate$1;
 var definePropertyModule$8 = objectDefineProperty;
+
+var UNSCOPABLES = wellKnownSymbol$w('unscopables');
+var ArrayPrototype$1 = Array.prototype;
+
+// Array.prototype[@@unscopables]
+// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
+if (ArrayPrototype$1[UNSCOPABLES] == undefined) {
+  definePropertyModule$8.f(ArrayPrototype$1, UNSCOPABLES, {
+    configurable: true,
+    value: create$d(null)
+  });
+}
+
+// add a key to Array.prototype[@@unscopables]
+var addToUnscopables$h = function (key) {
+  ArrayPrototype$1[UNSCOPABLES][key] = true;
+};
+
+var $$4f = _export;
+var toObject$u = toObject$z;
+var toLength$z = toLength$D;
+var toInteger$f = toInteger$i;
+var addToUnscopables$g = addToUnscopables$h;
+
+// `Array.prototype.at` method
+// https://github.com/tc39/proposal-relative-indexing-method
+$$4f({ target: 'Array', proto: true }, {
+  at: function at(index) {
+    var O = toObject$u(this);
+    var len = toLength$z(O.length);
+    var relativeIndex = toInteger$f(index);
+    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;
+    return (k < 0 || k >= len) ? undefined : O[k];
+  }
+});
+
+addToUnscopables$g('at');
+
+var toPropertyKey$5 = toPropertyKey$9;
+var definePropertyModule$7 = objectDefineProperty;
 var createPropertyDescriptor$4 = createPropertyDescriptor$9;
 
 var createProperty$7 = function (object, key, value) {
-  var propertyKey = toPrimitive$7(key);
-  if (propertyKey in object) definePropertyModule$8.f(object, propertyKey, createPropertyDescriptor$4(0, value));
+  var propertyKey = toPropertyKey$5(key);
+  if (propertyKey in object) definePropertyModule$7.f(object, propertyKey, createPropertyDescriptor$4(0, value));
   else object[propertyKey] = value;
 };
 
-var fails$P = fails$X;
-var wellKnownSymbol$t = wellKnownSymbol$C;
+var fails$Y = fails$15;
+var wellKnownSymbol$v = wellKnownSymbol$G;
 var V8_VERSION$2 = engineV8Version;
 
-var SPECIES$5 = wellKnownSymbol$t('species');
+var SPECIES$5 = wellKnownSymbol$v('species');
 
 var arrayMethodHasSpeciesSupport$5 = function (METHOD_NAME) {
   // We can't use this feature detection in V8 since it causes
   // deoptimization and serious performance degradation
   // https://github.com/zloirock/core-js/issues/677
-  return V8_VERSION$2 >= 51 || !fails$P(function () {
+  return V8_VERSION$2 >= 51 || !fails$Y(function () {
     var array = [];
     var constructor = array.constructor = {};
     constructor[SPECIES$5] = function () {
@@ -1695,26 +1925,26 @@ var arrayMethodHasSpeciesSupport$5 = function (METHOD_NAME) {
   });
 };
 
-var $$44 = _export;
-var fails$O = fails$X;
+var $$4e = _export;
+var fails$X = fails$15;
 var isArray$5 = isArray$8;
 var isObject$s = isObject$B;
-var toObject$r = toObject$w;
-var toLength$x = toLength$B;
+var toObject$t = toObject$z;
+var toLength$y = toLength$D;
 var createProperty$6 = createProperty$7;
 var arraySpeciesCreate$4 = arraySpeciesCreate$6;
 var arrayMethodHasSpeciesSupport$4 = arrayMethodHasSpeciesSupport$5;
-var wellKnownSymbol$s = wellKnownSymbol$C;
+var wellKnownSymbol$u = wellKnownSymbol$G;
 var V8_VERSION$1 = engineV8Version;
 
-var IS_CONCAT_SPREADABLE = wellKnownSymbol$s('isConcatSpreadable');
-var MAX_SAFE_INTEGER$1 = 0x1FFFFFFFFFFFFF;
+var IS_CONCAT_SPREADABLE = wellKnownSymbol$u('isConcatSpreadable');
+var MAX_SAFE_INTEGER$2 = 0x1FFFFFFFFFFFFF;
 var MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';
 
 // We can't use this feature detection in V8 since it causes
 // deoptimization and serious performance degradation
 // https://github.com/zloirock/core-js/issues/679
-var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION$1 >= 51 || !fails$O(function () {
+var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION$1 >= 51 || !fails$X(function () {
   var array = [];
   array[IS_CONCAT_SPREADABLE] = false;
   return array.concat()[0] !== array;
@@ -1728,26 +1958,26 @@ var isConcatSpreadable = function (O) {
   return spreadable !== undefined ? !!spreadable : isArray$5(O);
 };
 
-var FORCED$r = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;
+var FORCED$t = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;
 
 // `Array.prototype.concat` method
 // https://tc39.es/ecma262/#sec-array.prototype.concat
 // with adding support of @@isConcatSpreadable and @@species
-$$44({ target: 'Array', proto: true, forced: FORCED$r }, {
+$$4e({ target: 'Array', proto: true, forced: FORCED$t }, {
   // eslint-disable-next-line no-unused-vars -- required for `.length`
   concat: function concat(arg) {
-    var O = toObject$r(this);
+    var O = toObject$t(this);
     var A = arraySpeciesCreate$4(O, 0);
     var n = 0;
     var i, k, length, len, E;
     for (i = -1, length = arguments.length; i < length; i++) {
       E = i === -1 ? O : arguments[i];
       if (isConcatSpreadable(E)) {
-        len = toLength$x(E.length);
-        if (n + len > MAX_SAFE_INTEGER$1) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);
+        len = toLength$y(E.length);
+        if (n + len > MAX_SAFE_INTEGER$2) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);
         for (k = 0; k < len; k++, n++) if (k in E) createProperty$6(A, n, E[k]);
       } else {
-        if (n >= MAX_SAFE_INTEGER$1) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);
+        if (n >= MAX_SAFE_INTEGER$2) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);
         createProperty$6(A, n++, E);
       }
     }
@@ -1756,22 +1986,22 @@ $$44({ target: 'Array', proto: true, forced: FORCED$r }, {
   }
 });
 
-var toObject$q = toObject$w;
+var toObject$s = toObject$z;
 var toAbsoluteIndex$6 = toAbsoluteIndex$8;
-var toLength$w = toLength$B;
+var toLength$x = toLength$D;
 
-var min$7 = Math.min;
+var min$8 = Math.min;
 
 // `Array.prototype.copyWithin` method implementation
 // https://tc39.es/ecma262/#sec-array.prototype.copywithin
 // eslint-disable-next-line es/no-array-prototype-copywithin -- safe
 var arrayCopyWithin = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {
-  var O = toObject$q(this);
-  var len = toLength$w(O.length);
+  var O = toObject$s(this);
+  var len = toLength$x(O.length);
   var to = toAbsoluteIndex$6(target, len);
   var from = toAbsoluteIndex$6(start, len);
   var end = arguments.length > 2 ? arguments[2] : undefined;
-  var count = min$7((end === undefined ? len : toAbsoluteIndex$6(end, len)) - from, len - to);
+  var count = min$8((end === undefined ? len : toAbsoluteIndex$6(end, len)) - from, len - to);
   var inc = 1;
   if (from < to && to < from + count) {
     inc = -1;
@@ -1786,51 +2016,30 @@ var arrayCopyWithin = [].copyWithin || function copyWithin(target /* = 0 */, sta
   } return O;
 };
 
-var wellKnownSymbol$r = wellKnownSymbol$C;
-var create$b = objectCreate;
-var definePropertyModule$7 = objectDefineProperty;
-
-var UNSCOPABLES = wellKnownSymbol$r('unscopables');
-var ArrayPrototype = Array.prototype;
-
-// Array.prototype[@@unscopables]
-// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
-if (ArrayPrototype[UNSCOPABLES] == undefined) {
-  definePropertyModule$7.f(ArrayPrototype, UNSCOPABLES, {
-    configurable: true,
-    value: create$b(null)
-  });
-}
-
-// add a key to Array.prototype[@@unscopables]
-var addToUnscopables$f = function (key) {
-  ArrayPrototype[UNSCOPABLES][key] = true;
-};
-
-var $$43 = _export;
+var $$4d = _export;
 var copyWithin = arrayCopyWithin;
-var addToUnscopables$e = addToUnscopables$f;
+var addToUnscopables$f = addToUnscopables$h;
 
 // `Array.prototype.copyWithin` method
 // https://tc39.es/ecma262/#sec-array.prototype.copywithin
-$$43({ target: 'Array', proto: true }, {
+$$4d({ target: 'Array', proto: true }, {
   copyWithin: copyWithin
 });
 
 // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
-addToUnscopables$e('copyWithin');
+addToUnscopables$f('copyWithin');
 
-var fails$N = fails$X;
+var fails$W = fails$15;
 
 var arrayMethodIsStrict$9 = function (METHOD_NAME, argument) {
   var method = [][METHOD_NAME];
-  return !!method && fails$N(function () {
+  return !!method && fails$W(function () {
     // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing
     method.call(null, argument || function () { throw 1; }, 1);
   });
 };
 
-var $$42 = _export;
+var $$4c = _export;
 var $every$2 = arrayIteration.every;
 var arrayMethodIsStrict$8 = arrayMethodIsStrict$9;
 
@@ -1838,21 +2047,21 @@ var STRICT_METHOD$8 = arrayMethodIsStrict$8('every');
 
 // `Array.prototype.every` method
 // https://tc39.es/ecma262/#sec-array.prototype.every
-$$42({ target: 'Array', proto: true, forced: !STRICT_METHOD$8 }, {
+$$4c({ target: 'Array', proto: true, forced: !STRICT_METHOD$8 }, {
   every: function every(callbackfn /* , thisArg */) {
     return $every$2(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
-var toObject$p = toObject$w;
+var toObject$r = toObject$z;
 var toAbsoluteIndex$5 = toAbsoluteIndex$8;
-var toLength$v = toLength$B;
+var toLength$w = toLength$D;
 
 // `Array.prototype.fill` method implementation
 // https://tc39.es/ecma262/#sec-array.prototype.fill
 var arrayFill$1 = function fill(value /* , start = 0, end = @length */) {
-  var O = toObject$p(this);
-  var length = toLength$v(O.length);
+  var O = toObject$r(this);
+  var length = toLength$w(O.length);
   var argumentsLength = arguments.length;
   var index = toAbsoluteIndex$5(argumentsLength > 1 ? arguments[1] : undefined, length);
   var end = argumentsLength > 2 ? arguments[2] : undefined;
@@ -1861,20 +2070,20 @@ var arrayFill$1 = function fill(value /* , start = 0, end = @length */) {
   return O;
 };
 
-var $$41 = _export;
+var $$4b = _export;
 var fill = arrayFill$1;
-var addToUnscopables$d = addToUnscopables$f;
+var addToUnscopables$e = addToUnscopables$h;
 
 // `Array.prototype.fill` method
 // https://tc39.es/ecma262/#sec-array.prototype.fill
-$$41({ target: 'Array', proto: true }, {
+$$4b({ target: 'Array', proto: true }, {
   fill: fill
 });
 
 // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
-addToUnscopables$d('fill');
+addToUnscopables$e('fill');
 
-var $$40 = _export;
+var $$4a = _export;
 var $filter$1 = arrayIteration.filter;
 var arrayMethodHasSpeciesSupport$3 = arrayMethodHasSpeciesSupport$5;
 
@@ -1883,15 +2092,15 @@ var HAS_SPECIES_SUPPORT$3 = arrayMethodHasSpeciesSupport$3('filter');
 // `Array.prototype.filter` method
 // https://tc39.es/ecma262/#sec-array.prototype.filter
 // with adding support of @@species
-$$40({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$3 }, {
+$$4a({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$3 }, {
   filter: function filter(callbackfn /* , thisArg */) {
     return $filter$1(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
-var $$3$ = _export;
+var $$49 = _export;
 var $find$2 = arrayIteration.find;
-var addToUnscopables$c = addToUnscopables$f;
+var addToUnscopables$d = addToUnscopables$h;
 
 var FIND = 'find';
 var SKIPS_HOLES$1 = true;
@@ -1901,18 +2110,18 @@ if (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES$1 = false; });
 
 // `Array.prototype.find` method
 // https://tc39.es/ecma262/#sec-array.prototype.find
-$$3$({ target: 'Array', proto: true, forced: SKIPS_HOLES$1 }, {
+$$49({ target: 'Array', proto: true, forced: SKIPS_HOLES$1 }, {
   find: function find(callbackfn /* , that = undefined */) {
     return $find$2(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
 // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
-addToUnscopables$c(FIND);
+addToUnscopables$d(FIND);
 
-var $$3_ = _export;
+var $$48 = _export;
 var $findIndex$1 = arrayIteration.findIndex;
-var addToUnscopables$b = addToUnscopables$f;
+var addToUnscopables$c = addToUnscopables$h;
 
 var FIND_INDEX = 'findIndex';
 var SKIPS_HOLES = true;
@@ -1922,25 +2131,25 @@ if (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; })
 
 // `Array.prototype.findIndex` method
 // https://tc39.es/ecma262/#sec-array.prototype.findindex
-$$3_({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {
+$$48({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {
   findIndex: function findIndex(callbackfn /* , that = undefined */) {
     return $findIndex$1(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
 // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
-addToUnscopables$b(FIND_INDEX);
+addToUnscopables$c(FIND_INDEX);
 
 var isArray$4 = isArray$8;
-var toLength$u = toLength$B;
-var bind$m = functionBindContext;
+var toLength$v = toLength$D;
+var bind$o = functionBindContext;
 
 // `FlattenIntoArray` abstract operation
 // https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray
 var flattenIntoArray$2 = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {
   var targetIndex = start;
   var sourceIndex = 0;
-  var mapFn = mapper ? bind$m(mapper, thisArg, 3) : false;
+  var mapFn = mapper ? bind$o(mapper, thisArg, 3) : false;
   var element;
 
   while (sourceIndex < sourceLen) {
@@ -1948,7 +2157,7 @@ var flattenIntoArray$2 = function (target, original, source, sourceLen, start, d
       element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];
 
       if (depth > 0 && isArray$4(element)) {
-        targetIndex = flattenIntoArray$2(target, original, element, toLength$u(element.length), targetIndex, depth - 1) - 1;
+        targetIndex = flattenIntoArray$2(target, original, element, toLength$v(element.length), targetIndex, depth - 1) - 1;
       } else {
         if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');
         target[targetIndex] = element;
@@ -1963,41 +2172,41 @@ var flattenIntoArray$2 = function (target, original, source, sourceLen, start, d
 
 var flattenIntoArray_1 = flattenIntoArray$2;
 
-var $$3Z = _export;
+var $$47 = _export;
 var flattenIntoArray$1 = flattenIntoArray_1;
-var toObject$o = toObject$w;
-var toLength$t = toLength$B;
-var toInteger$c = toInteger$f;
+var toObject$q = toObject$z;
+var toLength$u = toLength$D;
+var toInteger$e = toInteger$i;
 var arraySpeciesCreate$3 = arraySpeciesCreate$6;
 
 // `Array.prototype.flat` method
 // https://tc39.es/ecma262/#sec-array.prototype.flat
-$$3Z({ target: 'Array', proto: true }, {
+$$47({ target: 'Array', proto: true }, {
   flat: function flat(/* depthArg = 1 */) {
     var depthArg = arguments.length ? arguments[0] : undefined;
-    var O = toObject$o(this);
-    var sourceLen = toLength$t(O.length);
+    var O = toObject$q(this);
+    var sourceLen = toLength$u(O.length);
     var A = arraySpeciesCreate$3(O, 0);
-    A.length = flattenIntoArray$1(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger$c(depthArg));
+    A.length = flattenIntoArray$1(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger$e(depthArg));
     return A;
   }
 });
 
-var $$3Y = _export;
+var $$46 = _export;
 var flattenIntoArray = flattenIntoArray_1;
-var toObject$n = toObject$w;
-var toLength$s = toLength$B;
-var aFunction$Q = aFunction$S;
+var aCallable$M = aCallable$Q;
+var toObject$p = toObject$z;
+var toLength$t = toLength$D;
 var arraySpeciesCreate$2 = arraySpeciesCreate$6;
 
 // `Array.prototype.flatMap` method
 // https://tc39.es/ecma262/#sec-array.prototype.flatmap
-$$3Y({ target: 'Array', proto: true }, {
+$$46({ target: 'Array', proto: true }, {
   flatMap: function flatMap(callbackfn /* , thisArg */) {
-    var O = toObject$n(this);
-    var sourceLen = toLength$s(O.length);
+    var O = toObject$p(this);
+    var sourceLen = toLength$t(O.length);
     var A;
-    aFunction$Q(callbackfn);
+    aCallable$M(callbackfn);
     A = arraySpeciesCreate$2(O, 0);
     A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
     return A;
@@ -2016,61 +2225,62 @@ var arrayForEach = !STRICT_METHOD$7 ? function forEach(callbackfn /* , thisArg *
 // eslint-disable-next-line es/no-array-prototype-foreach -- safe
 } : [].forEach;
 
-var $$3X = _export;
+var $$45 = _export;
 var forEach$2 = arrayForEach;
 
 // `Array.prototype.forEach` method
 // https://tc39.es/ecma262/#sec-array.prototype.foreach
 // eslint-disable-next-line es/no-array-prototype-foreach -- safe
-$$3X({ target: 'Array', proto: true, forced: [].forEach != forEach$2 }, {
+$$45({ target: 'Array', proto: true, forced: [].forEach != forEach$2 }, {
   forEach: forEach$2
 });
 
-var anObject$1q = anObject$1z;
+var anObject$1s = anObject$1C;
 var iteratorClose$2 = iteratorClose$4;
 
 // call something on iterator step with safe closing on error
 var callWithSafeIterationClosing$3 = function (iterator, fn, value, ENTRIES) {
   try {
-    return ENTRIES ? fn(anObject$1q(value)[0], value[1]) : fn(value);
+    return ENTRIES ? fn(anObject$1s(value)[0], value[1]) : fn(value);
   } catch (error) {
-    iteratorClose$2(iterator);
-    throw error;
+    iteratorClose$2(iterator, 'throw', error);
   }
 };
 
-var bind$l = functionBindContext;
-var toObject$m = toObject$w;
+var bind$n = functionBindContext;
+var toObject$o = toObject$z;
 var callWithSafeIterationClosing$2 = callWithSafeIterationClosing$3;
 var isArrayIteratorMethod$1 = isArrayIteratorMethod$3;
-var toLength$r = toLength$B;
+var isConstructor$5 = isConstructor$7;
+var toLength$s = toLength$D;
 var createProperty$5 = createProperty$7;
-var getIteratorMethod$6 = getIteratorMethod$8;
+var getIterator$9 = getIterator$b;
+var getIteratorMethod$6 = getIteratorMethod$9;
 
 // `Array.from` method implementation
 // https://tc39.es/ecma262/#sec-array.from
 var arrayFrom$1 = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
-  var O = toObject$m(arrayLike);
-  var C = typeof this == 'function' ? this : Array;
+  var O = toObject$o(arrayLike);
+  var IS_CONSTRUCTOR = isConstructor$5(this);
   var argumentsLength = arguments.length;
   var mapfn = argumentsLength > 1 ? arguments[1] : undefined;
   var mapping = mapfn !== undefined;
+  if (mapping) mapfn = bind$n(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);
   var iteratorMethod = getIteratorMethod$6(O);
   var index = 0;
   var length, result, step, iterator, next, value;
-  if (mapping) mapfn = bind$l(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);
   // if the target is not iterable or it's an array with the default iterator - use a simple case
-  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod$1(iteratorMethod))) {
-    iterator = iteratorMethod.call(O);
+  if (iteratorMethod && !(this == Array && isArrayIteratorMethod$1(iteratorMethod))) {
+    iterator = getIterator$9(O, iteratorMethod);
     next = iterator.next;
-    result = new C();
+    result = IS_CONSTRUCTOR ? new this() : [];
     for (;!(step = next.call(iterator)).done; index++) {
       value = mapping ? callWithSafeIterationClosing$2(iterator, mapfn, [step.value, index], true) : step.value;
       createProperty$5(result, index, value);
     }
   } else {
-    length = toLength$r(O.length);
-    result = new C(length);
+    length = toLength$s(O.length);
+    result = IS_CONSTRUCTOR ? new this(length) : Array(length);
     for (;length > index; index++) {
       value = mapping ? mapfn(O[index], index) : O[index];
       createProperty$5(result, index, value);
@@ -2080,9 +2290,9 @@ var arrayFrom$1 = function from(arrayLike /* , mapfn = undefined, thisArg = unde
   return result;
 };
 
-var wellKnownSymbol$q = wellKnownSymbol$C;
+var wellKnownSymbol$t = wellKnownSymbol$G;
 
-var ITERATOR$6 = wellKnownSymbol$q('iterator');
+var ITERATOR$8 = wellKnownSymbol$t('iterator');
 var SAFE_CLOSING = false;
 
 try {
@@ -2095,7 +2305,7 @@ try {
       SAFE_CLOSING = true;
     }
   };
-  iteratorWithReturn[ITERATOR$6] = function () {
+  iteratorWithReturn[ITERATOR$8] = function () {
     return this;
   };
   // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing
@@ -2107,7 +2317,7 @@ var checkCorrectnessOfIteration$4 = function (exec, SKIP_CLOSING) {
   var ITERATION_SUPPORT = false;
   try {
     var object = {};
-    object[ITERATOR$6] = function () {
+    object[ITERATOR$8] = function () {
       return {
         next: function () {
           return { done: ITERATION_SUPPORT = true };
@@ -2119,7 +2329,7 @@ var checkCorrectnessOfIteration$4 = function (exec, SKIP_CLOSING) {
   return ITERATION_SUPPORT;
 };
 
-var $$3W = _export;
+var $$44 = _export;
 var from$5 = arrayFrom$1;
 var checkCorrectnessOfIteration$3 = checkCorrectnessOfIteration$4;
 
@@ -2130,27 +2340,27 @@ var INCORRECT_ITERATION$1 = !checkCorrectnessOfIteration$3(function (iterable) {
 
 // `Array.from` method
 // https://tc39.es/ecma262/#sec-array.from
-$$3W({ target: 'Array', stat: true, forced: INCORRECT_ITERATION$1 }, {
+$$44({ target: 'Array', stat: true, forced: INCORRECT_ITERATION$1 }, {
   from: from$5
 });
 
-var $$3V = _export;
+var $$43 = _export;
 var $includes$1 = arrayIncludes.includes;
-var addToUnscopables$a = addToUnscopables$f;
+var addToUnscopables$b = addToUnscopables$h;
 
 // `Array.prototype.includes` method
 // https://tc39.es/ecma262/#sec-array.prototype.includes
-$$3V({ target: 'Array', proto: true }, {
+$$43({ target: 'Array', proto: true }, {
   includes: function includes(el /* , fromIndex = 0 */) {
     return $includes$1(this, el, arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
 // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
-addToUnscopables$a('includes');
+addToUnscopables$b('includes');
 
 /* eslint-disable es/no-array-prototype-indexof -- required for testing */
-var $$3U = _export;
+var $$42 = _export;
 var $indexOf$1 = arrayIncludes.indexOf;
 var arrayMethodIsStrict$6 = arrayMethodIsStrict$9;
 
@@ -2161,7 +2371,7 @@ var STRICT_METHOD$6 = arrayMethodIsStrict$6('indexOf');
 
 // `Array.prototype.indexOf` method
 // https://tc39.es/ecma262/#sec-array.prototype.indexof
-$$3U({ target: 'Array', proto: true, forced: NEGATIVE_ZERO$1 || !STRICT_METHOD$6 }, {
+$$42({ target: 'Array', proto: true, forced: NEGATIVE_ZERO$1 || !STRICT_METHOD$6 }, {
   indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {
     return NEGATIVE_ZERO$1
       // convert -0 to +0
@@ -2170,62 +2380,62 @@ $$3U({ target: 'Array', proto: true, forced: NEGATIVE_ZERO$1 || !STRICT_METHOD$6
   }
 });
 
-var $$3T = _export;
+var $$41 = _export;
 var isArray$3 = isArray$8;
 
 // `Array.isArray` method
 // https://tc39.es/ecma262/#sec-array.isarray
-$$3T({ target: 'Array', stat: true }, {
+$$41({ target: 'Array', stat: true }, {
   isArray: isArray$3
 });
 
-var fails$M = fails$X;
+var fails$V = fails$15;
+var isCallable$j = isCallable$z;
 var getPrototypeOf$c = objectGetPrototypeOf$1;
-var createNonEnumerableProperty$f = createNonEnumerableProperty$m;
-var has$b = has$n;
-var wellKnownSymbol$p = wellKnownSymbol$C;
+var redefine$i = redefine$l.exports;
+var wellKnownSymbol$s = wellKnownSymbol$G;
 
-var ITERATOR$5 = wellKnownSymbol$p('iterator');
+var ITERATOR$7 = wellKnownSymbol$s('iterator');
 var BUGGY_SAFARI_ITERATORS$1 = false;
 
-var returnThis$2 = function () { return this; };
-
 // `%IteratorPrototype%` object
 // https://tc39.es/ecma262/#sec-%iteratorprototype%-object
-var IteratorPrototype$3, PrototypeOfArrayIteratorPrototype, arrayIterator;
+var IteratorPrototype$5, PrototypeOfArrayIteratorPrototype, arrayIterator$1;
 
 /* eslint-disable es/no-array-prototype-keys -- safe */
 if ([].keys) {
-  arrayIterator = [].keys();
+  arrayIterator$1 = [].keys();
   // Safari 8 has buggy iterators w/o `next`
-  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS$1 = true;
+  if (!('next' in arrayIterator$1)) BUGGY_SAFARI_ITERATORS$1 = true;
   else {
-    PrototypeOfArrayIteratorPrototype = getPrototypeOf$c(getPrototypeOf$c(arrayIterator));
-    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype$3 = PrototypeOfArrayIteratorPrototype;
+    PrototypeOfArrayIteratorPrototype = getPrototypeOf$c(getPrototypeOf$c(arrayIterator$1));
+    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype$5 = PrototypeOfArrayIteratorPrototype;
   }
 }
 
-var NEW_ITERATOR_PROTOTYPE = IteratorPrototype$3 == undefined || fails$M(function () {
+var NEW_ITERATOR_PROTOTYPE = IteratorPrototype$5 == undefined || fails$V(function () {
   var test = {};
   // FF44- legacy iterators case
-  return IteratorPrototype$3[ITERATOR$5].call(test) !== test;
+  return IteratorPrototype$5[ITERATOR$7].call(test) !== test;
 });
 
-if (NEW_ITERATOR_PROTOTYPE) IteratorPrototype$3 = {};
+if (NEW_ITERATOR_PROTOTYPE) IteratorPrototype$5 = {};
 
 // `%IteratorPrototype%[@@iterator]()` method
 // https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator
-if (!has$b(IteratorPrototype$3, ITERATOR$5)) {
-  createNonEnumerableProperty$f(IteratorPrototype$3, ITERATOR$5, returnThis$2);
+if (!isCallable$j(IteratorPrototype$5[ITERATOR$7])) {
+  redefine$i(IteratorPrototype$5, ITERATOR$7, function () {
+    return this;
+  });
 }
 
 var iteratorsCore = {
-  IteratorPrototype: IteratorPrototype$3,
+  IteratorPrototype: IteratorPrototype$5,
   BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS$1
 };
 
-var IteratorPrototype$2 = iteratorsCore.IteratorPrototype;
-var create$a = objectCreate;
+var IteratorPrototype$4 = iteratorsCore.IteratorPrototype;
+var create$c = objectCreate$1;
 var createPropertyDescriptor$3 = createPropertyDescriptor$9;
 var setToStringTag$9 = setToStringTag$b;
 var Iterators$2 = iterators;
@@ -2234,26 +2444,30 @@ var returnThis$1 = function () { return this; };
 
 var createIteratorConstructor$7 = function (IteratorConstructor, NAME, next) {
   var TO_STRING_TAG = NAME + ' Iterator';
-  IteratorConstructor.prototype = create$a(IteratorPrototype$2, { next: createPropertyDescriptor$3(1, next) });
+  IteratorConstructor.prototype = create$c(IteratorPrototype$4, { next: createPropertyDescriptor$3(1, next) });
   setToStringTag$9(IteratorConstructor, TO_STRING_TAG, false);
   Iterators$2[TO_STRING_TAG] = returnThis$1;
   return IteratorConstructor;
 };
 
-var $$3S = _export;
+var $$40 = _export;
+var FunctionName$1 = functionName;
+var isCallable$i = isCallable$z;
 var createIteratorConstructor$6 = createIteratorConstructor$7;
 var getPrototypeOf$b = objectGetPrototypeOf$1;
 var setPrototypeOf$6 = objectSetPrototypeOf$1;
 var setToStringTag$8 = setToStringTag$b;
-var createNonEnumerableProperty$e = createNonEnumerableProperty$m;
-var redefine$d = redefine$g.exports;
-var wellKnownSymbol$o = wellKnownSymbol$C;
+var createNonEnumerableProperty$b = createNonEnumerableProperty$g;
+var redefine$h = redefine$l.exports;
+var wellKnownSymbol$r = wellKnownSymbol$G;
 var Iterators$1 = iterators;
 var IteratorsCore = iteratorsCore;
 
-var IteratorPrototype$1 = IteratorsCore.IteratorPrototype;
+var PROPER_FUNCTION_NAME$4 = FunctionName$1.PROPER;
+var CONFIGURABLE_FUNCTION_NAME$1 = FunctionName$1.CONFIGURABLE;
+var IteratorPrototype$3 = IteratorsCore.IteratorPrototype;
 var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;
-var ITERATOR$4 = wellKnownSymbol$o('iterator');
+var ITERATOR$6 = wellKnownSymbol$r('iterator');
 var KEYS = 'keys';
 var VALUES = 'values';
 var ENTRIES = 'entries';
@@ -2276,7 +2490,7 @@ var defineIterator$3 = function (Iterable, NAME, IteratorConstructor, next, DEFA
   var TO_STRING_TAG = NAME + ' Iterator';
   var INCORRECT_VALUES_NAME = false;
   var IterablePrototype = Iterable.prototype;
-  var nativeIterator = IterablePrototype[ITERATOR$4]
+  var nativeIterator = IterablePrototype[ITERATOR$6]
     || IterablePrototype['@@iterator']
     || DEFAULT && IterablePrototype[DEFAULT];
   var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);
@@ -2286,12 +2500,12 @@ var defineIterator$3 = function (Iterable, NAME, IteratorConstructor, next, DEFA
   // fix native
   if (anyNativeIterator) {
     CurrentIteratorPrototype = getPrototypeOf$b(anyNativeIterator.call(new Iterable()));
-    if (IteratorPrototype$1 !== Object.prototype && CurrentIteratorPrototype.next) {
-      if (getPrototypeOf$b(CurrentIteratorPrototype) !== IteratorPrototype$1) {
+    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {
+      if (getPrototypeOf$b(CurrentIteratorPrototype) !== IteratorPrototype$3) {
         if (setPrototypeOf$6) {
-          setPrototypeOf$6(CurrentIteratorPrototype, IteratorPrototype$1);
-        } else if (typeof CurrentIteratorPrototype[ITERATOR$4] != 'function') {
-          createNonEnumerableProperty$e(CurrentIteratorPrototype, ITERATOR$4, returnThis);
+          setPrototypeOf$6(CurrentIteratorPrototype, IteratorPrototype$3);
+        } else if (!isCallable$i(CurrentIteratorPrototype[ITERATOR$6])) {
+          redefine$h(CurrentIteratorPrototype, ITERATOR$6, returnThis);
         }
       }
       // Set @@toStringTag to native iterators
@@ -2300,16 +2514,14 @@ var defineIterator$3 = function (Iterable, NAME, IteratorConstructor, next, DEFA
   }
 
   // fix Array.prototype.{ values, @@iterator }.name in V8 / FF
-  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {
-    INCORRECT_VALUES_NAME = true;
-    defaultIterator = function values() { return nativeIterator.call(this); };
-  }
-
-  // define iterator
-  if (IterablePrototype[ITERATOR$4] !== defaultIterator) {
-    createNonEnumerableProperty$e(IterablePrototype, ITERATOR$4, defaultIterator);
+  if (PROPER_FUNCTION_NAME$4 && DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {
+    if (CONFIGURABLE_FUNCTION_NAME$1) {
+      createNonEnumerableProperty$b(IterablePrototype, 'name', VALUES);
+    } else {
+      INCORRECT_VALUES_NAME = true;
+      defaultIterator = function values() { return nativeIterator.call(this); };
+    }
   }
-  Iterators$1[NAME] = defaultIterator;
 
   // export additional methods
   if (DEFAULT) {
@@ -2320,23 +2532,29 @@ var defineIterator$3 = function (Iterable, NAME, IteratorConstructor, next, DEFA
     };
     if (FORCED) for (KEY in methods) {
       if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {
-        redefine$d(IterablePrototype, KEY, methods[KEY]);
+        redefine$h(IterablePrototype, KEY, methods[KEY]);
       }
-    } else $$3S({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);
+    } else $$40({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);
+  }
+
+  // define iterator
+  if (IterablePrototype[ITERATOR$6] !== defaultIterator) {
+    redefine$h(IterablePrototype, ITERATOR$6, defaultIterator, { name: DEFAULT });
   }
+  Iterators$1[NAME] = defaultIterator;
 
   return methods;
 };
 
 var toIndexedObject$7 = toIndexedObject$d;
-var addToUnscopables$9 = addToUnscopables$f;
+var addToUnscopables$a = addToUnscopables$h;
 var Iterators = iterators;
-var InternalStateModule$g = internalState;
+var InternalStateModule$h = internalState;
 var defineIterator$2 = defineIterator$3;
 
 var ARRAY_ITERATOR = 'Array Iterator';
-var setInternalState$g = InternalStateModule$g.set;
-var getInternalState$d = InternalStateModule$g.getterFor(ARRAY_ITERATOR);
+var setInternalState$h = InternalStateModule$h.set;
+var getInternalState$g = InternalStateModule$h.getterFor(ARRAY_ITERATOR);
 
 // `Array.prototype.entries` method
 // https://tc39.es/ecma262/#sec-array.prototype.entries
@@ -2349,7 +2567,7 @@ var getInternalState$d = InternalStateModule$g.getterFor(ARRAY_ITERATOR);
 // `CreateArrayIterator` internal method
 // https://tc39.es/ecma262/#sec-createarrayiterator
 var es_array_iterator = defineIterator$2(Array, 'Array', function (iterated, kind) {
-  setInternalState$g(this, {
+  setInternalState$h(this, {
     type: ARRAY_ITERATOR,
     target: toIndexedObject$7(iterated), // target
     index: 0,                          // next index
@@ -2358,7 +2576,7 @@ var es_array_iterator = defineIterator$2(Array, 'Array', function (iterated, kin
 // `%ArrayIteratorPrototype%.next` method
 // https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next
 }, function () {
-  var state = getInternalState$d(this);
+  var state = getInternalState$g(this);
   var target = state.target;
   var kind = state.kind;
   var index = state.index++;
@@ -2377,23 +2595,23 @@ var es_array_iterator = defineIterator$2(Array, 'Array', function (iterated, kin
 Iterators.Arguments = Iterators.Array;
 
 // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
-addToUnscopables$9('keys');
-addToUnscopables$9('values');
-addToUnscopables$9('entries');
+addToUnscopables$a('keys');
+addToUnscopables$a('values');
+addToUnscopables$a('entries');
 
-var $$3R = _export;
-var IndexedObject$3 = indexedObject;
+var $$3$ = _export;
+var IndexedObject$4 = indexedObject;
 var toIndexedObject$6 = toIndexedObject$d;
 var arrayMethodIsStrict$5 = arrayMethodIsStrict$9;
 
 var nativeJoin = [].join;
 
-var ES3_STRINGS = IndexedObject$3 != Object;
+var ES3_STRINGS = IndexedObject$4 != Object;
 var STRICT_METHOD$5 = arrayMethodIsStrict$5('join', ',');
 
 // `Array.prototype.join` method
 // https://tc39.es/ecma262/#sec-array.prototype.join
-$$3R({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD$5 }, {
+$$3$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD$5 }, {
   join: function join(separator) {
     return nativeJoin.call(toIndexedObject$6(this), separator === undefined ? ',' : separator);
   }
@@ -2401,41 +2619,41 @@ $$3R({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD$5 },
 
 /* eslint-disable es/no-array-prototype-lastindexof -- safe */
 var toIndexedObject$5 = toIndexedObject$d;
-var toInteger$b = toInteger$f;
-var toLength$q = toLength$B;
+var toInteger$d = toInteger$i;
+var toLength$r = toLength$D;
 var arrayMethodIsStrict$4 = arrayMethodIsStrict$9;
 
-var min$6 = Math.min;
+var min$7 = Math.min;
 var $lastIndexOf$1 = [].lastIndexOf;
 var NEGATIVE_ZERO = !!$lastIndexOf$1 && 1 / [1].lastIndexOf(1, -0) < 0;
 var STRICT_METHOD$4 = arrayMethodIsStrict$4('lastIndexOf');
-var FORCED$q = NEGATIVE_ZERO || !STRICT_METHOD$4;
+var FORCED$s = NEGATIVE_ZERO || !STRICT_METHOD$4;
 
 // `Array.prototype.lastIndexOf` method implementation
 // https://tc39.es/ecma262/#sec-array.prototype.lastindexof
-var arrayLastIndexOf = FORCED$q ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {
+var arrayLastIndexOf = FORCED$s ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {
   // convert -0 to +0
   if (NEGATIVE_ZERO) return $lastIndexOf$1.apply(this, arguments) || 0;
   var O = toIndexedObject$5(this);
-  var length = toLength$q(O.length);
+  var length = toLength$r(O.length);
   var index = length - 1;
-  if (arguments.length > 1) index = min$6(index, toInteger$b(arguments[1]));
+  if (arguments.length > 1) index = min$7(index, toInteger$d(arguments[1]));
   if (index < 0) index = length + index;
   for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;
   return -1;
 } : $lastIndexOf$1;
 
-var $$3Q = _export;
+var $$3_ = _export;
 var lastIndexOf = arrayLastIndexOf;
 
 // `Array.prototype.lastIndexOf` method
 // https://tc39.es/ecma262/#sec-array.prototype.lastindexof
 // eslint-disable-next-line es/no-array-prototype-lastindexof -- required for testing
-$$3Q({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {
+$$3_({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {
   lastIndexOf: lastIndexOf
 });
 
-var $$3P = _export;
+var $$3Z = _export;
 var $map$1 = arrayIteration.map;
 var arrayMethodHasSpeciesSupport$2 = arrayMethodHasSpeciesSupport$5;
 
@@ -2444,17 +2662,18 @@ var HAS_SPECIES_SUPPORT$2 = arrayMethodHasSpeciesSupport$2('map');
 // `Array.prototype.map` method
 // https://tc39.es/ecma262/#sec-array.prototype.map
 // with adding support of @@species
-$$3P({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$2 }, {
+$$3Z({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$2 }, {
   map: function map(callbackfn /* , thisArg */) {
     return $map$1(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
-var $$3O = _export;
-var fails$L = fails$X;
+var $$3Y = _export;
+var fails$U = fails$15;
+var isConstructor$4 = isConstructor$7;
 var createProperty$4 = createProperty$7;
 
-var ISNT_GENERIC = fails$L(function () {
+var ISNT_GENERIC = fails$U(function () {
   function F() { /* empty */ }
   // eslint-disable-next-line es/no-array-of -- required for testing
   return !(Array.of.call(F) instanceof F);
@@ -2463,29 +2682,29 @@ var ISNT_GENERIC = fails$L(function () {
 // `Array.of` method
 // https://tc39.es/ecma262/#sec-array.of
 // WebKit Array.of isn't generic
-$$3O({ target: 'Array', stat: true, forced: ISNT_GENERIC }, {
+$$3Y({ target: 'Array', stat: true, forced: ISNT_GENERIC }, {
   of: function of(/* ...args */) {
     var index = 0;
     var argumentsLength = arguments.length;
-    var result = new (typeof this == 'function' ? this : Array)(argumentsLength);
+    var result = new (isConstructor$4(this) ? this : Array)(argumentsLength);
     while (argumentsLength > index) createProperty$4(result, index, arguments[index++]);
     result.length = argumentsLength;
     return result;
   }
 });
 
-var aFunction$P = aFunction$S;
-var toObject$l = toObject$w;
-var IndexedObject$2 = indexedObject;
-var toLength$p = toLength$B;
+var aCallable$L = aCallable$Q;
+var toObject$n = toObject$z;
+var IndexedObject$3 = indexedObject;
+var toLength$q = toLength$D;
 
 // `Array.prototype.{ reduce, reduceRight }` methods implementation
 var createMethod$6 = function (IS_RIGHT) {
   return function (that, callbackfn, argumentsLength, memo) {
-    aFunction$P(callbackfn);
-    var O = toObject$l(that);
-    var self = IndexedObject$2(O);
-    var length = toLength$p(O.length);
+    aCallable$L(callbackfn);
+    var O = toObject$n(that);
+    var self = IndexedObject$3(O);
+    var length = toLength$q(O.length);
     var index = IS_RIGHT ? length - 1 : 0;
     var i = IS_RIGHT ? -1 : 1;
     if (argumentsLength < 2) while (true) {
@@ -2515,12 +2734,12 @@ var arrayReduce = {
   right: createMethod$6(true)
 };
 
-var classof$9 = classofRaw$1;
-var global$y = global$M;
+var classof$8 = classofRaw$1;
+var global$D = global$R;
 
-var engineIsNode = classof$9(global$y.process) == 'process';
+var engineIsNode = classof$8(global$D.process) == 'process';
 
-var $$3N = _export;
+var $$3X = _export;
 var $reduce$1 = arrayReduce.left;
 var arrayMethodIsStrict$3 = arrayMethodIsStrict$9;
 var CHROME_VERSION$1 = engineV8Version;
@@ -2533,13 +2752,13 @@ var CHROME_BUG$1 = !IS_NODE$5 && CHROME_VERSION$1 > 79 && CHROME_VERSION$1 < 83;
 
 // `Array.prototype.reduce` method
 // https://tc39.es/ecma262/#sec-array.prototype.reduce
-$$3N({ target: 'Array', proto: true, forced: !STRICT_METHOD$3 || CHROME_BUG$1 }, {
+$$3X({ target: 'Array', proto: true, forced: !STRICT_METHOD$3 || CHROME_BUG$1 }, {
   reduce: function reduce(callbackfn /* , initialValue */) {
     return $reduce$1(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
-var $$3M = _export;
+var $$3W = _export;
 var $reduceRight$1 = arrayReduce.right;
 var arrayMethodIsStrict$2 = arrayMethodIsStrict$9;
 var CHROME_VERSION = engineV8Version;
@@ -2552,13 +2771,13 @@ var CHROME_BUG = !IS_NODE$4 && CHROME_VERSION > 79 && CHROME_VERSION < 83;
 
 // `Array.prototype.reduceRight` method
 // https://tc39.es/ecma262/#sec-array.prototype.reduceright
-$$3M({ target: 'Array', proto: true, forced: !STRICT_METHOD$2 || CHROME_BUG }, {
+$$3W({ target: 'Array', proto: true, forced: !STRICT_METHOD$2 || CHROME_BUG }, {
   reduceRight: function reduceRight(callbackfn /* , initialValue */) {
     return $reduceRight$1(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
-var $$3L = _export;
+var $$3V = _export;
 var isArray$2 = isArray$8;
 
 var nativeReverse = [].reverse;
@@ -2568,7 +2787,7 @@ var test$1 = [1, 2];
 // https://tc39.es/ecma262/#sec-array.prototype.reverse
 // fix for Safari 12.0 bug
 // https://bugs.webkit.org/show_bug.cgi?id=188794
-$$3L({ target: 'Array', proto: true, forced: String(test$1) === String(test$1.reverse()) }, {
+$$3V({ target: 'Array', proto: true, forced: String(test$1) === String(test$1.reverse()) }, {
   reverse: function reverse() {
     // eslint-disable-next-line no-self-assign -- dirty hack
     if (isArray$2(this)) this.length = this.length;
@@ -2576,29 +2795,30 @@ $$3L({ target: 'Array', proto: true, forced: String(test$1) === String(test$1.re
   }
 });
 
-var $$3K = _export;
-var isObject$r = isObject$B;
+var $$3U = _export;
 var isArray$1 = isArray$8;
+var isConstructor$3 = isConstructor$7;
+var isObject$r = isObject$B;
 var toAbsoluteIndex$4 = toAbsoluteIndex$8;
-var toLength$o = toLength$B;
+var toLength$p = toLength$D;
 var toIndexedObject$4 = toIndexedObject$d;
 var createProperty$3 = createProperty$7;
-var wellKnownSymbol$n = wellKnownSymbol$C;
+var wellKnownSymbol$q = wellKnownSymbol$G;
 var arrayMethodHasSpeciesSupport$1 = arrayMethodHasSpeciesSupport$5;
 
 var HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport$1('slice');
 
-var SPECIES$4 = wellKnownSymbol$n('species');
+var SPECIES$4 = wellKnownSymbol$q('species');
 var nativeSlice = [].slice;
-var max$4 = Math.max;
+var max$5 = Math.max;
 
 // `Array.prototype.slice` method
 // https://tc39.es/ecma262/#sec-array.prototype.slice
 // fallback for not array-like ES3 strings and DOM objects
-$$3K({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 }, {
+$$3U({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 }, {
   slice: function slice(start, end) {
     var O = toIndexedObject$4(this);
-    var length = toLength$o(O.length);
+    var length = toLength$p(O.length);
     var k = toAbsoluteIndex$4(start, length);
     var fin = toAbsoluteIndex$4(end === undefined ? length : end, length);
     // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible
@@ -2606,7 +2826,7 @@ $$3K({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 }, {
     if (isArray$1(O)) {
       Constructor = O.constructor;
       // cross-realm fallback
-      if (typeof Constructor == 'function' && (Constructor === Array || isArray$1(Constructor.prototype))) {
+      if (isConstructor$3(Constructor) && (Constructor === Array || isArray$1(Constructor.prototype))) {
         Constructor = undefined;
       } else if (isObject$r(Constructor)) {
         Constructor = Constructor[SPECIES$4];
@@ -2616,14 +2836,14 @@ $$3K({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 }, {
         return nativeSlice.call(O, k, fin);
       }
     }
-    result = new (Constructor === undefined ? Array : Constructor)(max$4(fin - k, 0));
+    result = new (Constructor === undefined ? Array : Constructor)(max$5(fin - k, 0));
     for (n = 0; k < fin; k++, n++) if (k in O) createProperty$3(result, n, O[k]);
     result.length = n;
     return result;
   }
 });
 
-var $$3J = _export;
+var $$3T = _export;
 var $some$2 = arrayIteration.some;
 var arrayMethodIsStrict$1 = arrayMethodIsStrict$9;
 
@@ -2631,7 +2851,7 @@ var STRICT_METHOD$1 = arrayMethodIsStrict$1('some');
 
 // `Array.prototype.some` method
 // https://tc39.es/ecma262/#sec-array.prototype.some
-$$3J({ target: 'Array', proto: true, forced: !STRICT_METHOD$1 }, {
+$$3T({ target: 'Array', proto: true, forced: !STRICT_METHOD$1 }, {
   some: function some(callbackfn /* , thisArg */) {
     return $some$2(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
   }
@@ -2683,9 +2903,9 @@ var merge = function (left, right, comparefn) {
 
 var arraySort = mergeSort;
 
-var userAgent$5 = engineUserAgent;
+var userAgent$6 = engineUserAgent;
 
-var firefox = userAgent$5.match(/firefox\/(\d+)/i);
+var firefox = userAgent$6.match(/firefox\/(\d+)/i);
 
 var engineFfVersion = !!firefox && +firefox[1];
 
@@ -2693,17 +2913,18 @@ var UA = engineUserAgent;
 
 var engineIsIeOrEdge = /MSIE|Trident/.test(UA);
 
-var userAgent$4 = engineUserAgent;
+var userAgent$5 = engineUserAgent;
 
-var webkit = userAgent$4.match(/AppleWebKit\/(\d+)\./);
+var webkit = userAgent$5.match(/AppleWebKit\/(\d+)\./);
 
 var engineWebkitVersion = !!webkit && +webkit[1];
 
-var $$3I = _export;
-var aFunction$O = aFunction$S;
-var toObject$k = toObject$w;
-var toLength$n = toLength$B;
-var fails$K = fails$X;
+var $$3S = _export;
+var aCallable$K = aCallable$Q;
+var toObject$m = toObject$z;
+var toLength$o = toLength$D;
+var toString$q = toString$t;
+var fails$T = fails$15;
 var internalSort$1 = arraySort;
 var arrayMethodIsStrict = arrayMethodIsStrict$9;
 var FF$1 = engineFfVersion;
@@ -2715,17 +2936,17 @@ var test = [];
 var nativeSort$1 = test.sort;
 
 // IE8-
-var FAILS_ON_UNDEFINED = fails$K(function () {
+var FAILS_ON_UNDEFINED = fails$T(function () {
   test.sort(undefined);
 });
 // V8 bug
-var FAILS_ON_NULL = fails$K(function () {
+var FAILS_ON_NULL = fails$T(function () {
   test.sort(null);
 });
 // Old WebKit
 var STRICT_METHOD = arrayMethodIsStrict('sort');
 
-var STABLE_SORT$1 = !fails$K(function () {
+var STABLE_SORT$1 = !fails$T(function () {
   // feature detection can be too slow, so check engines versions
   if (V8$1) return V8$1 < 70;
   if (FF$1 && FF$1 > 3) return;
@@ -2760,29 +2981,29 @@ var STABLE_SORT$1 = !fails$K(function () {
   return result !== 'DGBEFHACIJK';
 });
 
-var FORCED$p = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT$1;
+var FORCED$r = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT$1;
 
 var getSortCompare$1 = function (comparefn) {
   return function (x, y) {
     if (y === undefined) return -1;
     if (x === undefined) return 1;
     if (comparefn !== undefined) return +comparefn(x, y) || 0;
-    return String(x) > String(y) ? 1 : -1;
+    return toString$q(x) > toString$q(y) ? 1 : -1;
   };
 };
 
 // `Array.prototype.sort` method
 // https://tc39.es/ecma262/#sec-array.prototype.sort
-$$3I({ target: 'Array', proto: true, forced: FORCED$p }, {
+$$3S({ target: 'Array', proto: true, forced: FORCED$r }, {
   sort: function sort(comparefn) {
-    if (comparefn !== undefined) aFunction$O(comparefn);
+    if (comparefn !== undefined) aCallable$K(comparefn);
 
-    var array = toObject$k(this);
+    var array = toObject$m(this);
 
     if (STABLE_SORT$1) return comparefn === undefined ? nativeSort$1.call(array) : nativeSort$1.call(array, comparefn);
 
     var items = [];
-    var arrayLength = toLength$n(array.length);
+    var arrayLength = toLength$o(array.length);
     var itemsLength, index;
 
     for (index = 0; index < arrayLength; index++) {
@@ -2800,18 +3021,18 @@ $$3I({ target: 'Array', proto: true, forced: FORCED$p }, {
   }
 });
 
-var getBuiltIn$o = getBuiltIn$t;
+var getBuiltIn$p = getBuiltIn$w;
 var definePropertyModule$6 = objectDefineProperty;
-var wellKnownSymbol$m = wellKnownSymbol$C;
-var DESCRIPTORS$r = descriptors;
+var wellKnownSymbol$p = wellKnownSymbol$G;
+var DESCRIPTORS$s = descriptors;
 
-var SPECIES$3 = wellKnownSymbol$m('species');
+var SPECIES$3 = wellKnownSymbol$p('species');
 
 var setSpecies$7 = function (CONSTRUCTOR_NAME) {
-  var Constructor = getBuiltIn$o(CONSTRUCTOR_NAME);
+  var Constructor = getBuiltIn$p(CONSTRUCTOR_NAME);
   var defineProperty = definePropertyModule$6.f;
 
-  if (DESCRIPTORS$r && Constructor && !Constructor[SPECIES$3]) {
+  if (DESCRIPTORS$s && Constructor && !Constructor[SPECIES$3]) {
     defineProperty(Constructor, SPECIES$3, {
       configurable: true,
       get: function () { return this; }
@@ -2825,29 +3046,29 @@ var setSpecies$6 = setSpecies$7;
 // https://tc39.es/ecma262/#sec-get-array-@@species
 setSpecies$6('Array');
 
-var $$3H = _export;
+var $$3R = _export;
 var toAbsoluteIndex$3 = toAbsoluteIndex$8;
-var toInteger$a = toInteger$f;
-var toLength$m = toLength$B;
-var toObject$j = toObject$w;
+var toInteger$c = toInteger$i;
+var toLength$n = toLength$D;
+var toObject$l = toObject$z;
 var arraySpeciesCreate$1 = arraySpeciesCreate$6;
 var createProperty$2 = createProperty$7;
 var arrayMethodHasSpeciesSupport = arrayMethodHasSpeciesSupport$5;
 
 var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');
 
-var max$3 = Math.max;
-var min$5 = Math.min;
-var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;
+var max$4 = Math.max;
+var min$6 = Math.min;
+var MAX_SAFE_INTEGER$1 = 0x1FFFFFFFFFFFFF;
 var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';
 
 // `Array.prototype.splice` method
 // https://tc39.es/ecma262/#sec-array.prototype.splice
 // with adding support of @@species
-$$3H({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
+$$3R({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
   splice: function splice(start, deleteCount /* , ...items */) {
-    var O = toObject$j(this);
-    var len = toLength$m(O.length);
+    var O = toObject$l(this);
+    var len = toLength$n(O.length);
     var actualStart = toAbsoluteIndex$3(start, len);
     var argumentsLength = arguments.length;
     var insertCount, actualDeleteCount, A, k, from, to;
@@ -2858,9 +3079,9 @@ $$3H({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
       actualDeleteCount = len - actualStart;
     } else {
       insertCount = argumentsLength - 2;
-      actualDeleteCount = min$5(max$3(toInteger$a(deleteCount), 0), len - actualStart);
+      actualDeleteCount = min$6(max$4(toInteger$c(deleteCount), 0), len - actualStart);
     }
-    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {
+    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER$1) {
       throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);
     }
     A = arraySpeciesCreate$1(O, actualDeleteCount);
@@ -2895,43 +3116,42 @@ $$3H({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
 
 // this method was added to unscopables after implementation
 // in popular engines, so it's moved to a separate module
-var addToUnscopables$8 = addToUnscopables$f;
+var addToUnscopables$9 = addToUnscopables$h;
 
 // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
-addToUnscopables$8('flat');
+addToUnscopables$9('flat');
 
 // this method was added to unscopables after implementation
 // in popular engines, so it's moved to a separate module
-var addToUnscopables$7 = addToUnscopables$f;
+var addToUnscopables$8 = addToUnscopables$h;
 
 // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
-addToUnscopables$7('flatMap');
+addToUnscopables$8('flatMap');
 
 // eslint-disable-next-line es/no-typed-arrays -- safe
 var arrayBufferNative = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';
 
-var redefine$c = redefine$g.exports;
+var redefine$g = redefine$l.exports;
 
-var redefineAll$9 = function (target, src, options) {
-  for (var key in src) redefine$c(target, key, src[key], options);
+var redefineAll$a = function (target, src, options) {
+  for (var key in src) redefine$g(target, key, src[key], options);
   return target;
 };
 
 var anInstance$b = function (it, Constructor, name) {
-  if (!(it instanceof Constructor)) {
-    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');
-  } return it;
+  if (it instanceof Constructor) return it;
+  throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');
 };
 
-var toInteger$9 = toInteger$f;
-var toLength$l = toLength$B;
+var toInteger$b = toInteger$i;
+var toLength$m = toLength$D;
 
 // `ToIndex` abstract operation
 // https://tc39.es/ecma262/#sec-toindex
 var toIndex$2 = function (it) {
   if (it === undefined) return 0;
-  var number = toInteger$9(it);
-  var length = toLength$l(number);
+  var number = toInteger$b(it);
+  var length = toLength$m(number);
   if (number !== length) throw RangeError('Wrong length or index');
   return length;
 };
@@ -3023,38 +3243,41 @@ var ieee754 = {
   unpack: unpack
 };
 
-var global$x = global$M;
-var DESCRIPTORS$q = descriptors;
+var global$C = global$R;
+var DESCRIPTORS$r = descriptors;
 var NATIVE_ARRAY_BUFFER$2 = arrayBufferNative;
-var createNonEnumerableProperty$d = createNonEnumerableProperty$m;
-var redefineAll$8 = redefineAll$9;
-var fails$J = fails$X;
+var FunctionName = functionName;
+var createNonEnumerableProperty$a = createNonEnumerableProperty$g;
+var redefineAll$9 = redefineAll$a;
+var fails$S = fails$15;
 var anInstance$a = anInstance$b;
-var toInteger$8 = toInteger$f;
-var toLength$k = toLength$B;
+var toInteger$a = toInteger$i;
+var toLength$l = toLength$D;
 var toIndex$1 = toIndex$2;
 var IEEE754 = ieee754;
 var getPrototypeOf$a = objectGetPrototypeOf$1;
 var setPrototypeOf$5 = objectSetPrototypeOf$1;
 var getOwnPropertyNames$4 = objectGetOwnPropertyNames.f;
-var defineProperty$b = objectDefineProperty.f;
+var defineProperty$c = objectDefineProperty.f;
 var arrayFill = arrayFill$1;
 var setToStringTag$7 = setToStringTag$b;
-var InternalStateModule$f = internalState;
+var InternalStateModule$g = internalState;
 
-var getInternalState$c = InternalStateModule$f.get;
-var setInternalState$f = InternalStateModule$f.set;
+var PROPER_FUNCTION_NAME$3 = FunctionName.PROPER;
+var CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;
+var getInternalState$f = InternalStateModule$g.get;
+var setInternalState$g = InternalStateModule$g.set;
 var ARRAY_BUFFER$1 = 'ArrayBuffer';
 var DATA_VIEW = 'DataView';
 var PROTOTYPE = 'prototype';
 var WRONG_LENGTH$1 = 'Wrong length';
 var WRONG_INDEX = 'Wrong index';
-var NativeArrayBuffer$1 = global$x[ARRAY_BUFFER$1];
+var NativeArrayBuffer$1 = global$C[ARRAY_BUFFER$1];
 var $ArrayBuffer = NativeArrayBuffer$1;
-var $DataView = global$x[DATA_VIEW];
+var $DataView = global$C[DATA_VIEW];
 var $DataViewPrototype = $DataView && $DataView[PROTOTYPE];
 var ObjectPrototype$1 = Object.prototype;
-var RangeError$2 = global$x.RangeError;
+var RangeError$2 = global$C.RangeError;
 
 var packIEEE754 = IEEE754.pack;
 var unpackIEEE754 = IEEE754.unpack;
@@ -3084,14 +3307,14 @@ var packFloat64 = function (number) {
 };
 
 var addGetter$1 = function (Constructor, key) {
-  defineProperty$b(Constructor[PROTOTYPE], key, { get: function () { return getInternalState$c(this)[key]; } });
+  defineProperty$c(Constructor[PROTOTYPE], key, { get: function () { return getInternalState$f(this)[key]; } });
 };
 
 var get$1 = function (view, count, index, isLittleEndian) {
   var intIndex = toIndex$1(index);
-  var store = getInternalState$c(view);
+  var store = getInternalState$f(view);
   if (intIndex + count > store.byteLength) throw RangeError$2(WRONG_INDEX);
-  var bytes = getInternalState$c(store.buffer).bytes;
+  var bytes = getInternalState$f(store.buffer).bytes;
   var start = intIndex + store.byteOffset;
   var pack = bytes.slice(start, start + count);
   return isLittleEndian ? pack : pack.reverse();
@@ -3099,9 +3322,9 @@ var get$1 = function (view, count, index, isLittleEndian) {
 
 var set$2 = function (view, count, index, conversion, value, isLittleEndian) {
   var intIndex = toIndex$1(index);
-  var store = getInternalState$c(view);
+  var store = getInternalState$f(view);
   if (intIndex + count > store.byteLength) throw RangeError$2(WRONG_INDEX);
-  var bytes = getInternalState$c(store.buffer).bytes;
+  var bytes = getInternalState$f(store.buffer).bytes;
   var start = intIndex + store.byteOffset;
   var pack = conversion(+value);
   for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];
@@ -3111,41 +3334,41 @@ if (!NATIVE_ARRAY_BUFFER$2) {
   $ArrayBuffer = function ArrayBuffer(length) {
     anInstance$a(this, $ArrayBuffer, ARRAY_BUFFER$1);
     var byteLength = toIndex$1(length);
-    setInternalState$f(this, {
+    setInternalState$g(this, {
       bytes: arrayFill.call(new Array(byteLength), 0),
       byteLength: byteLength
     });
-    if (!DESCRIPTORS$q) this.byteLength = byteLength;
+    if (!DESCRIPTORS$r) this.byteLength = byteLength;
   };
 
   $DataView = function DataView(buffer, byteOffset, byteLength) {
     anInstance$a(this, $DataView, DATA_VIEW);
     anInstance$a(buffer, $ArrayBuffer, DATA_VIEW);
-    var bufferLength = getInternalState$c(buffer).byteLength;
-    var offset = toInteger$8(byteOffset);
+    var bufferLength = getInternalState$f(buffer).byteLength;
+    var offset = toInteger$a(byteOffset);
     if (offset < 0 || offset > bufferLength) throw RangeError$2('Wrong offset');
-    byteLength = byteLength === undefined ? bufferLength - offset : toLength$k(byteLength);
+    byteLength = byteLength === undefined ? bufferLength - offset : toLength$l(byteLength);
     if (offset + byteLength > bufferLength) throw RangeError$2(WRONG_LENGTH$1);
-    setInternalState$f(this, {
+    setInternalState$g(this, {
       buffer: buffer,
       byteLength: byteLength,
       byteOffset: offset
     });
-    if (!DESCRIPTORS$q) {
+    if (!DESCRIPTORS$r) {
       this.buffer = buffer;
       this.byteLength = byteLength;
       this.byteOffset = offset;
     }
   };
 
-  if (DESCRIPTORS$q) {
+  if (DESCRIPTORS$r) {
     addGetter$1($ArrayBuffer, 'byteLength');
     addGetter$1($DataView, 'buffer');
     addGetter$1($DataView, 'byteLength');
     addGetter$1($DataView, 'byteOffset');
   }
 
-  redefineAll$8($DataView[PROTOTYPE], {
+  redefineAll$9($DataView[PROTOTYPE], {
     getInt8: function getInt8(byteOffset) {
       return get$1(this, 1, byteOffset)[0] << 24 >> 24;
     },
@@ -3198,16 +3421,17 @@ if (!NATIVE_ARRAY_BUFFER$2) {
     }
   });
 } else {
+  var INCORRECT_ARRAY_BUFFER_NAME = PROPER_FUNCTION_NAME$3 && NativeArrayBuffer$1.name !== ARRAY_BUFFER$1;
   /* eslint-disable no-new -- required for testing */
-  if (!fails$J(function () {
+  if (!fails$S(function () {
     NativeArrayBuffer$1(1);
-  }) || !fails$J(function () {
+  }) || !fails$S(function () {
     new NativeArrayBuffer$1(-1);
-  }) || fails$J(function () {
+  }) || fails$S(function () {
     new NativeArrayBuffer$1();
     new NativeArrayBuffer$1(1.5);
     new NativeArrayBuffer$1(NaN);
-    return NativeArrayBuffer$1.name != ARRAY_BUFFER$1;
+    return INCORRECT_ARRAY_BUFFER_NAME && !CONFIGURABLE_FUNCTION_NAME;
   })) {
   /* eslint-enable no-new -- required for testing */
     $ArrayBuffer = function ArrayBuffer(length) {
@@ -3217,10 +3441,12 @@ if (!NATIVE_ARRAY_BUFFER$2) {
     var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer$1[PROTOTYPE];
     for (var keys$2 = getOwnPropertyNames$4(NativeArrayBuffer$1), j$1 = 0, key$1; keys$2.length > j$1;) {
       if (!((key$1 = keys$2[j$1++]) in $ArrayBuffer)) {
-        createNonEnumerableProperty$d($ArrayBuffer, key$1, NativeArrayBuffer$1[key$1]);
+        createNonEnumerableProperty$a($ArrayBuffer, key$1, NativeArrayBuffer$1[key$1]);
       }
     }
     ArrayBufferPrototype.constructor = $ArrayBuffer;
+  } else if (INCORRECT_ARRAY_BUFFER_NAME && CONFIGURABLE_FUNCTION_NAME) {
+    createNonEnumerableProperty$a(NativeArrayBuffer$1, 'name', ARRAY_BUFFER$1);
   }
 
   // WebKit bug - the same parent prototype for typed arrays and data view
@@ -3233,7 +3459,7 @@ if (!NATIVE_ARRAY_BUFFER$2) {
   var $setInt8 = $DataViewPrototype.setInt8;
   testView.setInt8(0, 2147483648);
   testView.setInt8(1, 2147483649);
-  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll$8($DataViewPrototype, {
+  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll$9($DataViewPrototype, {
     setInt8: function setInt8(byteOffset, value) {
       $setInt8.call(this, byteOffset, value << 24 >> 24);
     },
@@ -3251,52 +3477,55 @@ var arrayBuffer = {
   DataView: $DataView
 };
 
-var $$3G = _export;
-var global$w = global$M;
+var $$3Q = _export;
+var global$B = global$R;
 var arrayBufferModule = arrayBuffer;
 var setSpecies$5 = setSpecies$7;
 
 var ARRAY_BUFFER = 'ArrayBuffer';
 var ArrayBuffer$4 = arrayBufferModule[ARRAY_BUFFER];
-var NativeArrayBuffer = global$w[ARRAY_BUFFER];
+var NativeArrayBuffer = global$B[ARRAY_BUFFER];
 
 // `ArrayBuffer` constructor
 // https://tc39.es/ecma262/#sec-arraybuffer-constructor
-$$3G({ global: true, forced: NativeArrayBuffer !== ArrayBuffer$4 }, {
+$$3Q({ global: true, forced: NativeArrayBuffer !== ArrayBuffer$4 }, {
   ArrayBuffer: ArrayBuffer$4
 });
 
 setSpecies$5(ARRAY_BUFFER);
 
 var NATIVE_ARRAY_BUFFER$1 = arrayBufferNative;
-var DESCRIPTORS$p = descriptors;
-var global$v = global$M;
+var DESCRIPTORS$q = descriptors;
+var global$A = global$R;
+var isCallable$h = isCallable$z;
 var isObject$q = isObject$B;
-var has$a = has$n;
-var classof$8 = classof$b;
-var createNonEnumerableProperty$c = createNonEnumerableProperty$m;
-var redefine$b = redefine$g.exports;
-var defineProperty$a = objectDefineProperty.f;
+var has$9 = has$m;
+var classof$7 = classof$c;
+var tryToString$1 = tryToString$3;
+var createNonEnumerableProperty$9 = createNonEnumerableProperty$g;
+var redefine$f = redefine$l.exports;
+var defineProperty$b = objectDefineProperty.f;
 var getPrototypeOf$9 = objectGetPrototypeOf$1;
 var setPrototypeOf$4 = objectSetPrototypeOf$1;
-var wellKnownSymbol$l = wellKnownSymbol$C;
+var wellKnownSymbol$o = wellKnownSymbol$G;
 var uid$1 = uid$5;
 
-var Int8Array$3 = global$v.Int8Array;
+var Int8Array$3 = global$A.Int8Array;
 var Int8ArrayPrototype = Int8Array$3 && Int8Array$3.prototype;
-var Uint8ClampedArray = global$v.Uint8ClampedArray;
+var Uint8ClampedArray = global$A.Uint8ClampedArray;
 var Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;
 var TypedArray$1 = Int8Array$3 && getPrototypeOf$9(Int8Array$3);
 var TypedArrayPrototype$1 = Int8ArrayPrototype && getPrototypeOf$9(Int8ArrayPrototype);
 var ObjectPrototype = Object.prototype;
-var isPrototypeOf = ObjectPrototype.isPrototypeOf;
+var isPrototypeOf$2 = ObjectPrototype.isPrototypeOf;
 
-var TO_STRING_TAG$5 = wellKnownSymbol$l('toStringTag');
+var TO_STRING_TAG$5 = wellKnownSymbol$o('toStringTag');
 var TYPED_ARRAY_TAG$1 = uid$1('TYPED_ARRAY_TAG');
+var TYPED_ARRAY_CONSTRUCTOR$2 = uid$1('TYPED_ARRAY_CONSTRUCTOR');
 // Fixing native typed arrays in Opera Presto crashes the browser, see #595
-var NATIVE_ARRAY_BUFFER_VIEWS$3 = NATIVE_ARRAY_BUFFER$1 && !!setPrototypeOf$4 && classof$8(global$v.opera) !== 'Opera';
+var NATIVE_ARRAY_BUFFER_VIEWS$3 = NATIVE_ARRAY_BUFFER$1 && !!setPrototypeOf$4 && classof$7(global$A.opera) !== 'Opera';
 var TYPED_ARRAY_TAG_REQIRED = false;
-var NAME$1;
+var NAME$1, Constructor, Prototype;
 
 var TypedArrayConstructorsList = {
   Int8Array: 1,
@@ -3317,93 +3546,96 @@ var BigIntArrayConstructorsList = {
 
 var isView = function isView(it) {
   if (!isObject$q(it)) return false;
-  var klass = classof$8(it);
+  var klass = classof$7(it);
   return klass === 'DataView'
-    || has$a(TypedArrayConstructorsList, klass)
-    || has$a(BigIntArrayConstructorsList, klass);
+    || has$9(TypedArrayConstructorsList, klass)
+    || has$9(BigIntArrayConstructorsList, klass);
 };
 
 var isTypedArray$1 = function (it) {
   if (!isObject$q(it)) return false;
-  var klass = classof$8(it);
-  return has$a(TypedArrayConstructorsList, klass)
-    || has$a(BigIntArrayConstructorsList, klass);
+  var klass = classof$7(it);
+  return has$9(TypedArrayConstructorsList, klass)
+    || has$9(BigIntArrayConstructorsList, klass);
 };
 
-var aTypedArray$r = function (it) {
+var aTypedArray$t = function (it) {
   if (isTypedArray$1(it)) return it;
   throw TypeError('Target is not a typed array');
 };
 
-var aTypedArrayConstructor$6 = function (C) {
-  if (setPrototypeOf$4) {
-    if (isPrototypeOf.call(TypedArray$1, C)) return C;
-  } else for (var ARRAY in TypedArrayConstructorsList) if (has$a(TypedArrayConstructorsList, NAME$1)) {
-    var TypedArrayConstructor = global$v[ARRAY];
-    if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {
-      return C;
-    }
-  } throw TypeError('Target is not a typed array constructor');
+var aTypedArrayConstructor$5 = function (C) {
+  if (isCallable$h(C) && (!setPrototypeOf$4 || isPrototypeOf$2.call(TypedArray$1, C))) return C;
+  throw TypeError(tryToString$1(C) + ' is not a typed array constructor');
 };
 
-var exportTypedArrayMethod$s = function (KEY, property, forced) {
-  if (!DESCRIPTORS$p) return;
+var exportTypedArrayMethod$u = function (KEY, property, forced) {
+  if (!DESCRIPTORS$q) return;
   if (forced) for (var ARRAY in TypedArrayConstructorsList) {
-    var TypedArrayConstructor = global$v[ARRAY];
-    if (TypedArrayConstructor && has$a(TypedArrayConstructor.prototype, KEY)) try {
+    var TypedArrayConstructor = global$A[ARRAY];
+    if (TypedArrayConstructor && has$9(TypedArrayConstructor.prototype, KEY)) try {
       delete TypedArrayConstructor.prototype[KEY];
     } catch (error) { /* empty */ }
   }
   if (!TypedArrayPrototype$1[KEY] || forced) {
-    redefine$b(TypedArrayPrototype$1, KEY, forced ? property
+    redefine$f(TypedArrayPrototype$1, KEY, forced ? property
       : NATIVE_ARRAY_BUFFER_VIEWS$3 && Int8ArrayPrototype[KEY] || property);
   }
 };
 
-var exportTypedArrayStaticMethod$2 = function (KEY, property, forced) {
+var exportTypedArrayStaticMethod$3 = function (KEY, property, forced) {
   var ARRAY, TypedArrayConstructor;
-  if (!DESCRIPTORS$p) return;
+  if (!DESCRIPTORS$q) return;
   if (setPrototypeOf$4) {
     if (forced) for (ARRAY in TypedArrayConstructorsList) {
-      TypedArrayConstructor = global$v[ARRAY];
-      if (TypedArrayConstructor && has$a(TypedArrayConstructor, KEY)) try {
+      TypedArrayConstructor = global$A[ARRAY];
+      if (TypedArrayConstructor && has$9(TypedArrayConstructor, KEY)) try {
         delete TypedArrayConstructor[KEY];
       } catch (error) { /* empty */ }
     }
     if (!TypedArray$1[KEY] || forced) {
       // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable
       try {
-        return redefine$b(TypedArray$1, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS$3 && TypedArray$1[KEY] || property);
+        return redefine$f(TypedArray$1, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS$3 && TypedArray$1[KEY] || property);
       } catch (error) { /* empty */ }
     } else return;
   }
   for (ARRAY in TypedArrayConstructorsList) {
-    TypedArrayConstructor = global$v[ARRAY];
+    TypedArrayConstructor = global$A[ARRAY];
     if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {
-      redefine$b(TypedArrayConstructor, KEY, property);
+      redefine$f(TypedArrayConstructor, KEY, property);
     }
   }
 };
 
 for (NAME$1 in TypedArrayConstructorsList) {
-  if (!global$v[NAME$1]) NATIVE_ARRAY_BUFFER_VIEWS$3 = false;
+  Constructor = global$A[NAME$1];
+  Prototype = Constructor && Constructor.prototype;
+  if (Prototype) createNonEnumerableProperty$9(Prototype, TYPED_ARRAY_CONSTRUCTOR$2, Constructor);
+  else NATIVE_ARRAY_BUFFER_VIEWS$3 = false;
+}
+
+for (NAME$1 in BigIntArrayConstructorsList) {
+  Constructor = global$A[NAME$1];
+  Prototype = Constructor && Constructor.prototype;
+  if (Prototype) createNonEnumerableProperty$9(Prototype, TYPED_ARRAY_CONSTRUCTOR$2, Constructor);
 }
 
 // WebKit bug - typed arrays constructors prototype is Object.prototype
-if (!NATIVE_ARRAY_BUFFER_VIEWS$3 || typeof TypedArray$1 != 'function' || TypedArray$1 === Function.prototype) {
+if (!NATIVE_ARRAY_BUFFER_VIEWS$3 || !isCallable$h(TypedArray$1) || TypedArray$1 === Function.prototype) {
   // eslint-disable-next-line no-shadow -- safe
   TypedArray$1 = function TypedArray() {
     throw TypeError('Incorrect invocation');
   };
   if (NATIVE_ARRAY_BUFFER_VIEWS$3) for (NAME$1 in TypedArrayConstructorsList) {
-    if (global$v[NAME$1]) setPrototypeOf$4(global$v[NAME$1], TypedArray$1);
+    if (global$A[NAME$1]) setPrototypeOf$4(global$A[NAME$1], TypedArray$1);
   }
 }
 
 if (!NATIVE_ARRAY_BUFFER_VIEWS$3 || !TypedArrayPrototype$1 || TypedArrayPrototype$1 === ObjectPrototype) {
   TypedArrayPrototype$1 = TypedArray$1.prototype;
   if (NATIVE_ARRAY_BUFFER_VIEWS$3) for (NAME$1 in TypedArrayConstructorsList) {
-    if (global$v[NAME$1]) setPrototypeOf$4(global$v[NAME$1].prototype, TypedArrayPrototype$1);
+    if (global$A[NAME$1]) setPrototypeOf$4(global$A[NAME$1].prototype, TypedArrayPrototype$1);
   }
 }
 
@@ -3412,81 +3644,91 @@ if (NATIVE_ARRAY_BUFFER_VIEWS$3 && getPrototypeOf$9(Uint8ClampedArrayPrototype)
   setPrototypeOf$4(Uint8ClampedArrayPrototype, TypedArrayPrototype$1);
 }
 
-if (DESCRIPTORS$p && !has$a(TypedArrayPrototype$1, TO_STRING_TAG$5)) {
+if (DESCRIPTORS$q && !has$9(TypedArrayPrototype$1, TO_STRING_TAG$5)) {
   TYPED_ARRAY_TAG_REQIRED = true;
-  defineProperty$a(TypedArrayPrototype$1, TO_STRING_TAG$5, { get: function () {
+  defineProperty$b(TypedArrayPrototype$1, TO_STRING_TAG$5, { get: function () {
     return isObject$q(this) ? this[TYPED_ARRAY_TAG$1] : undefined;
   } });
-  for (NAME$1 in TypedArrayConstructorsList) if (global$v[NAME$1]) {
-    createNonEnumerableProperty$c(global$v[NAME$1], TYPED_ARRAY_TAG$1, NAME$1);
+  for (NAME$1 in TypedArrayConstructorsList) if (global$A[NAME$1]) {
+    createNonEnumerableProperty$9(global$A[NAME$1], TYPED_ARRAY_TAG$1, NAME$1);
   }
 }
 
 var arrayBufferViewCore = {
   NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS$3,
+  TYPED_ARRAY_CONSTRUCTOR: TYPED_ARRAY_CONSTRUCTOR$2,
   TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG$1,
-  aTypedArray: aTypedArray$r,
-  aTypedArrayConstructor: aTypedArrayConstructor$6,
-  exportTypedArrayMethod: exportTypedArrayMethod$s,
-  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod$2,
+  aTypedArray: aTypedArray$t,
+  aTypedArrayConstructor: aTypedArrayConstructor$5,
+  exportTypedArrayMethod: exportTypedArrayMethod$u,
+  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod$3,
   isView: isView,
   isTypedArray: isTypedArray$1,
   TypedArray: TypedArray$1,
   TypedArrayPrototype: TypedArrayPrototype$1
 };
 
-var $$3F = _export;
-var ArrayBufferViewCore$t = arrayBufferViewCore;
+var $$3P = _export;
+var ArrayBufferViewCore$x = arrayBufferViewCore;
 
-var NATIVE_ARRAY_BUFFER_VIEWS$2 = ArrayBufferViewCore$t.NATIVE_ARRAY_BUFFER_VIEWS;
+var NATIVE_ARRAY_BUFFER_VIEWS$2 = ArrayBufferViewCore$x.NATIVE_ARRAY_BUFFER_VIEWS;
 
 // `ArrayBuffer.isView` method
 // https://tc39.es/ecma262/#sec-arraybuffer.isview
-$$3F({ target: 'ArrayBuffer', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS$2 }, {
-  isView: ArrayBufferViewCore$t.isView
+$$3P({ target: 'ArrayBuffer', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS$2 }, {
+  isView: ArrayBufferViewCore$x.isView
 });
 
-var anObject$1p = anObject$1z;
-var aFunction$N = aFunction$S;
-var wellKnownSymbol$k = wellKnownSymbol$C;
+var isConstructor$2 = isConstructor$7;
+var tryToString = tryToString$3;
+
+// `Assert: IsConstructor(argument) is true`
+var aConstructor$5 = function (argument) {
+  if (isConstructor$2(argument)) return argument;
+  throw TypeError(tryToString(argument) + ' is not a constructor');
+};
+
+var anObject$1r = anObject$1C;
+var aConstructor$4 = aConstructor$5;
+var wellKnownSymbol$n = wellKnownSymbol$G;
 
-var SPECIES$2 = wellKnownSymbol$k('species');
+var SPECIES$2 = wellKnownSymbol$n('species');
 
 // `SpeciesConstructor` abstract operation
 // https://tc39.es/ecma262/#sec-speciesconstructor
-var speciesConstructor$i = function (O, defaultConstructor) {
-  var C = anObject$1p(O).constructor;
+var speciesConstructor$f = function (O, defaultConstructor) {
+  var C = anObject$1r(O).constructor;
   var S;
-  return C === undefined || (S = anObject$1p(C)[SPECIES$2]) == undefined ? defaultConstructor : aFunction$N(S);
+  return C === undefined || (S = anObject$1r(C)[SPECIES$2]) == undefined ? defaultConstructor : aConstructor$4(S);
 };
 
-var $$3E = _export;
-var fails$I = fails$X;
+var $$3O = _export;
+var fails$R = fails$15;
 var ArrayBufferModule$2 = arrayBuffer;
-var anObject$1o = anObject$1z;
+var anObject$1q = anObject$1C;
 var toAbsoluteIndex$2 = toAbsoluteIndex$8;
-var toLength$j = toLength$B;
-var speciesConstructor$h = speciesConstructor$i;
+var toLength$k = toLength$D;
+var speciesConstructor$e = speciesConstructor$f;
 
 var ArrayBuffer$3 = ArrayBufferModule$2.ArrayBuffer;
 var DataView$2 = ArrayBufferModule$2.DataView;
 var nativeArrayBufferSlice = ArrayBuffer$3.prototype.slice;
 
-var INCORRECT_SLICE = fails$I(function () {
+var INCORRECT_SLICE = fails$R(function () {
   return !new ArrayBuffer$3(2).slice(1, undefined).byteLength;
 });
 
 // `ArrayBuffer.prototype.slice` method
 // https://tc39.es/ecma262/#sec-arraybuffer.prototype.slice
-$$3E({ target: 'ArrayBuffer', proto: true, unsafe: true, forced: INCORRECT_SLICE }, {
+$$3O({ target: 'ArrayBuffer', proto: true, unsafe: true, forced: INCORRECT_SLICE }, {
   slice: function slice(start, end) {
     if (nativeArrayBufferSlice !== undefined && end === undefined) {
-      return nativeArrayBufferSlice.call(anObject$1o(this), start); // FF fix
+      return nativeArrayBufferSlice.call(anObject$1q(this), start); // FF fix
     }
-    var length = anObject$1o(this).byteLength;
+    var length = anObject$1q(this).byteLength;
     var first = toAbsoluteIndex$2(start, length);
     var fin = toAbsoluteIndex$2(end === undefined ? length : end, length);
-    var result = new (speciesConstructor$h(this, ArrayBuffer$3))(toLength$j(fin - first));
+    var result = new (speciesConstructor$e(this, ArrayBuffer$3))(toLength$k(fin - first));
     var viewSource = new DataView$2(this);
     var viewTarget = new DataView$2(result);
     var index = 0;
@@ -3496,54 +3738,99 @@ $$3E({ target: 'ArrayBuffer', proto: true, unsafe: true, forced: INCORRECT_SLICE
   }
 });
 
-var $$3D = _export;
+var $$3N = _export;
 var ArrayBufferModule$1 = arrayBuffer;
 var NATIVE_ARRAY_BUFFER = arrayBufferNative;
 
 // `DataView` constructor
 // https://tc39.es/ecma262/#sec-dataview-constructor
-$$3D({ global: true, forced: !NATIVE_ARRAY_BUFFER }, {
+$$3N({ global: true, forced: !NATIVE_ARRAY_BUFFER }, {
   DataView: ArrayBufferModule$1.DataView
 });
 
-var $$3C = _export;
+var $$3M = _export;
+var fails$Q = fails$15;
 
-// `Date.now` method
+var FORCED$q = fails$Q(function () {
+  return new Date(16e11).getYear() !== 120;
+});
+
+var getFullYear = Date.prototype.getFullYear;
+
+// `Date.prototype.getYear` method
+// https://tc39.es/ecma262/#sec-date.prototype.getyear
+$$3M({ target: 'Date', proto: true, forced: FORCED$q }, {
+  getYear: function getYear() {
+    return getFullYear.call(this) - 1900;
+  }
+});
+
+var $$3L = _export;
+
+// `Date.now` method
 // https://tc39.es/ecma262/#sec-date.now
-$$3C({ target: 'Date', stat: true }, {
+$$3L({ target: 'Date', stat: true }, {
   now: function now() {
     return new Date().getTime();
   }
 });
 
-var toInteger$7 = toInteger$f;
-var requireObjectCoercible$e = requireObjectCoercible$h;
+var $$3K = _export;
+var toInteger$9 = toInteger$i;
+
+var getTime$2 = Date.prototype.getTime;
+var setFullYear = Date.prototype.setFullYear;
+
+// `Date.prototype.setYear` method
+// https://tc39.es/ecma262/#sec-date.prototype.setyear
+$$3K({ target: 'Date', proto: true }, {
+  setYear: function setYear(year) {
+    // validate
+    getTime$2.call(this);
+    var yi = toInteger$9(year);
+    var yyyy = 0 <= yi && yi <= 99 ? yi + 1900 : yi;
+    return setFullYear.call(this, yyyy);
+  }
+});
+
+var $$3J = _export;
+
+// `Date.prototype.toGMTString` method
+// https://tc39.es/ecma262/#sec-date.prototype.togmtstring
+$$3J({ target: 'Date', proto: true }, {
+  toGMTString: Date.prototype.toUTCString
+});
+
+var toInteger$8 = toInteger$i;
+var toString$p = toString$t;
+var requireObjectCoercible$g = requireObjectCoercible$j;
 
 // `String.prototype.repeat` method implementation
 // https://tc39.es/ecma262/#sec-string.prototype.repeat
 var stringRepeat = function repeat(count) {
-  var str = String(requireObjectCoercible$e(this));
+  var str = toString$p(requireObjectCoercible$g(this));
   var result = '';
-  var n = toInteger$7(count);
+  var n = toInteger$8(count);
   if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');
   for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;
   return result;
 };
 
 // https://github.com/tc39/proposal-string-pad-start-end
-var toLength$i = toLength$B;
+var toLength$j = toLength$D;
+var toString$o = toString$t;
 var repeat$2 = stringRepeat;
-var requireObjectCoercible$d = requireObjectCoercible$h;
+var requireObjectCoercible$f = requireObjectCoercible$j;
 
 var ceil$1 = Math.ceil;
 
 // `String.prototype.{ padStart, padEnd }` methods implementation
 var createMethod$5 = function (IS_END) {
   return function ($this, maxLength, fillString) {
-    var S = String(requireObjectCoercible$d($this));
+    var S = toString$o(requireObjectCoercible$f($this));
     var stringLength = S.length;
-    var fillStr = fillString === undefined ? ' ' : String(fillString);
-    var intMaxLength = toLength$i(maxLength);
+    var fillStr = fillString === undefined ? ' ' : toString$o(fillString);
+    var intMaxLength = toLength$j(maxLength);
     var fillLen, stringFiller;
     if (intMaxLength <= stringLength || fillStr == '') return S;
     fillLen = intMaxLength - stringLength;
@@ -3562,7 +3849,7 @@ var stringPad = {
   end: createMethod$5(true)
 };
 
-var fails$H = fails$X;
+var fails$P = fails$15;
 var padStart = stringPad.start;
 
 var abs$6 = Math.abs;
@@ -3573,9 +3860,9 @@ var nativeDateToISOString = DatePrototype$2.toISOString;
 // `Date.prototype.toISOString` method implementation
 // https://tc39.es/ecma262/#sec-date.prototype.toisostring
 // PhantomJS / old WebKit fails here:
-var dateToIsoString = (fails$H(function () {
+var dateToIsoString = (fails$P(function () {
   return nativeDateToISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';
-}) || !fails$H(function () {
+}) || !fails$P(function () {
   nativeDateToISOString.call(new Date(NaN));
 })) ? function toISOString() {
   if (!isFinite(getTime$1.call(this))) throw RangeError('Invalid time value');
@@ -3593,62 +3880,63 @@ var dateToIsoString = (fails$H(function () {
     'Z';
 } : nativeDateToISOString;
 
-var $$3B = _export;
+var $$3I = _export;
 var toISOString = dateToIsoString;
 
 // `Date.prototype.toISOString` method
 // https://tc39.es/ecma262/#sec-date.prototype.toisostring
 // PhantomJS / old WebKit has a broken implementations
-$$3B({ target: 'Date', proto: true, forced: Date.prototype.toISOString !== toISOString }, {
+$$3I({ target: 'Date', proto: true, forced: Date.prototype.toISOString !== toISOString }, {
   toISOString: toISOString
 });
 
-var $$3A = _export;
-var fails$G = fails$X;
-var toObject$i = toObject$w;
-var toPrimitive$6 = toPrimitive$b;
+var $$3H = _export;
+var fails$O = fails$15;
+var toObject$k = toObject$z;
+var toPrimitive$1 = toPrimitive$3;
 
-var FORCED$o = fails$G(function () {
+var FORCED$p = fails$O(function () {
   return new Date(NaN).toJSON() !== null
     || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;
 });
 
 // `Date.prototype.toJSON` method
 // https://tc39.es/ecma262/#sec-date.prototype.tojson
-$$3A({ target: 'Date', proto: true, forced: FORCED$o }, {
+$$3H({ target: 'Date', proto: true, forced: FORCED$p }, {
   // eslint-disable-next-line no-unused-vars -- required for `.length`
   toJSON: function toJSON(key) {
-    var O = toObject$i(this);
-    var pv = toPrimitive$6(O);
+    var O = toObject$k(this);
+    var pv = toPrimitive$1(O, 'number');
     return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();
   }
 });
 
-var anObject$1n = anObject$1z;
-var toPrimitive$5 = toPrimitive$b;
+var anObject$1p = anObject$1C;
+var ordinaryToPrimitive = ordinaryToPrimitive$2;
 
 // `Date.prototype[@@toPrimitive](hint)` method implementation
 // https://tc39.es/ecma262/#sec-date.prototype-@@toprimitive
 var dateToPrimitive$1 = function (hint) {
-  if (hint !== 'string' && hint !== 'number' && hint !== 'default') {
-    throw TypeError('Incorrect hint');
-  } return toPrimitive$5(anObject$1n(this), hint !== 'number');
+  anObject$1p(this);
+  if (hint === 'string' || hint === 'default') hint = 'string';
+  else if (hint !== 'number') throw TypeError('Incorrect hint');
+  return ordinaryToPrimitive(this, hint);
 };
 
-var createNonEnumerableProperty$b = createNonEnumerableProperty$m;
+var redefine$e = redefine$l.exports;
 var dateToPrimitive = dateToPrimitive$1;
-var wellKnownSymbol$j = wellKnownSymbol$C;
+var wellKnownSymbol$m = wellKnownSymbol$G;
 
-var TO_PRIMITIVE = wellKnownSymbol$j('toPrimitive');
+var TO_PRIMITIVE = wellKnownSymbol$m('toPrimitive');
 var DatePrototype$1 = Date.prototype;
 
 // `Date.prototype[@@toPrimitive]` method
 // https://tc39.es/ecma262/#sec-date.prototype-@@toprimitive
 if (!(TO_PRIMITIVE in DatePrototype$1)) {
-  createNonEnumerableProperty$b(DatePrototype$1, TO_PRIMITIVE, dateToPrimitive);
+  redefine$e(DatePrototype$1, TO_PRIMITIVE, dateToPrimitive);
 }
 
-var redefine$a = redefine$g.exports;
+var redefine$d = redefine$l.exports;
 
 var DatePrototype = Date.prototype;
 var INVALID_DATE = 'Invalid Date';
@@ -3658,18 +3946,54 @@ var getTime = DatePrototype.getTime;
 
 // `Date.prototype.toString` method
 // https://tc39.es/ecma262/#sec-date.prototype.tostring
-if (new Date(NaN) + '' != INVALID_DATE) {
-  redefine$a(DatePrototype, TO_STRING$1, function toString() {
+if (String(new Date(NaN)) != INVALID_DATE) {
+  redefine$d(DatePrototype, TO_STRING$1, function toString() {
     var value = getTime.call(this);
     // eslint-disable-next-line no-self-compare -- NaN check
     return value === value ? nativeDateToString.call(this) : INVALID_DATE;
   });
 }
 
-var aFunction$M = aFunction$S;
+var $$3G = _export;
+var toString$n = toString$t;
+
+var raw = /[\w*+\-./@]/;
+
+var hex$1 = function (code, length) {
+  var result = code.toString(16);
+  while (result.length < length) result = '0' + result;
+  return result;
+};
+
+// `escape` method
+// https://tc39.es/ecma262/#sec-escape-string
+$$3G({ global: true }, {
+  escape: function escape(string) {
+    var str = toString$n(string);
+    var result = '';
+    var length = str.length;
+    var index = 0;
+    var chr, code;
+    while (index < length) {
+      chr = str.charAt(index++);
+      if (raw.test(chr)) {
+        result += chr;
+      } else {
+        code = chr.charCodeAt(0);
+        if (code < 256) {
+          result += '%' + hex$1(code, 2);
+        } else {
+          result += '%u' + hex$1(code, 4).toUpperCase();
+        }
+      }
+    } return result;
+  }
+});
+
+var aCallable$J = aCallable$Q;
 var isObject$p = isObject$B;
 
-var slice$1 = [].slice;
+var slice$2 = [].slice;
 var factories = {};
 
 var construct = function (C, argsLength, args) {
@@ -3683,38 +4007,39 @@ var construct = function (C, argsLength, args) {
 // `Function.prototype.bind` method implementation
 // https://tc39.es/ecma262/#sec-function.prototype.bind
 var functionBind = Function.bind || function bind(that /* , ...args */) {
-  var fn = aFunction$M(this);
-  var partArgs = slice$1.call(arguments, 1);
+  var fn = aCallable$J(this);
+  var partArgs = slice$2.call(arguments, 1);
   var boundFunction = function bound(/* args... */) {
-    var args = partArgs.concat(slice$1.call(arguments));
+    var args = partArgs.concat(slice$2.call(arguments));
     return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);
   };
   if (isObject$p(fn.prototype)) boundFunction.prototype = fn.prototype;
   return boundFunction;
 };
 
-var $$3z = _export;
-var bind$k = functionBind;
+var $$3F = _export;
+var bind$m = functionBind;
 
 // `Function.prototype.bind` method
 // https://tc39.es/ecma262/#sec-function.prototype.bind
-$$3z({ target: 'Function', proto: true }, {
-  bind: bind$k
+$$3F({ target: 'Function', proto: true }, {
+  bind: bind$m
 });
 
+var isCallable$g = isCallable$z;
 var isObject$o = isObject$B;
 var definePropertyModule$5 = objectDefineProperty;
 var getPrototypeOf$8 = objectGetPrototypeOf$1;
-var wellKnownSymbol$i = wellKnownSymbol$C;
+var wellKnownSymbol$l = wellKnownSymbol$G;
 
-var HAS_INSTANCE = wellKnownSymbol$i('hasInstance');
+var HAS_INSTANCE = wellKnownSymbol$l('hasInstance');
 var FunctionPrototype$1 = Function.prototype;
 
 // `Function.prototype[@@hasInstance]` method
 // https://tc39.es/ecma262/#sec-function.prototype-@@hasinstance
 if (!(HAS_INSTANCE in FunctionPrototype$1)) {
   definePropertyModule$5.f(FunctionPrototype$1, HAS_INSTANCE, { value: function (O) {
-    if (typeof this != 'function' || !isObject$o(O)) return false;
+    if (!isCallable$g(this) || !isObject$o(O)) return false;
     if (!isObject$o(this.prototype)) return O instanceof this;
     // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:
     while (O = getPrototypeOf$8(O)) if (this.prototype === O) return true;
@@ -3722,8 +4047,9 @@ if (!(HAS_INSTANCE in FunctionPrototype$1)) {
   } });
 }
 
-var DESCRIPTORS$o = descriptors;
-var defineProperty$9 = objectDefineProperty.f;
+var DESCRIPTORS$p = descriptors;
+var FUNCTION_NAME_EXISTS = functionName.EXISTS;
+var defineProperty$a = objectDefineProperty.f;
 
 var FunctionPrototype = Function.prototype;
 var FunctionPrototypeToString = FunctionPrototype.toString;
@@ -3732,8 +4058,8 @@ var NAME = 'name';
 
 // Function instances `.name` property
 // https://tc39.es/ecma262/#sec-function-instances-name
-if (DESCRIPTORS$o && !(NAME in FunctionPrototype)) {
-  defineProperty$9(FunctionPrototype, NAME, {
+if (DESCRIPTORS$p && !FUNCTION_NAME_EXISTS) {
+  defineProperty$a(FunctionPrototype, NAME, {
     configurable: true,
     get: function () {
       try {
@@ -3745,20 +4071,20 @@ if (DESCRIPTORS$o && !(NAME in FunctionPrototype)) {
   });
 }
 
-var $$3y = _export;
-var global$u = global$M;
+var $$3E = _export;
+var global$z = global$R;
 
 // `globalThis` object
 // https://tc39.es/ecma262/#sec-globalthis
-$$3y({ global: true }, {
-  globalThis: global$u
+$$3E({ global: true }, {
+  globalThis: global$z
 });
 
-var $$3x = _export;
-var getBuiltIn$n = getBuiltIn$t;
-var fails$F = fails$X;
+var $$3D = _export;
+var getBuiltIn$o = getBuiltIn$w;
+var fails$N = fails$15;
 
-var $stringify = getBuiltIn$n('JSON', 'stringify');
+var $stringify = getBuiltIn$o('JSON', 'stringify');
 var re = /[\uD800-\uDFFF]/g;
 var low = /^[\uD800-\uDBFF]$/;
 var hi = /^[\uDC00-\uDFFF]$/;
@@ -3771,7 +4097,7 @@ var fix = function (match, offset, string) {
   } return match;
 };
 
-var FORCED$n = fails$F(function () {
+var FORCED$o = fails$N(function () {
   return $stringify('\uDF06\uD834') !== '"\\udf06\\ud834"'
     || $stringify('\uDEAD') !== '"\\udead"';
 });
@@ -3780,7 +4106,7 @@ if ($stringify) {
   // `JSON.stringify` method
   // https://tc39.es/ecma262/#sec-json.stringify
   // https://github.com/tc39/proposal-well-formed-stringify
-  $$3x({ target: 'JSON', stat: true, forced: FORCED$n }, {
+  $$3D({ target: 'JSON', stat: true, forced: FORCED$o }, {
     // eslint-disable-next-line no-unused-vars -- required for `.length`
     stringify: function stringify(it, replacer, space) {
       var result = $stringify.apply(null, arguments);
@@ -3789,29 +4115,33 @@ if ($stringify) {
   });
 }
 
-var global$t = global$M;
+var global$y = global$R;
 var setToStringTag$6 = setToStringTag$b;
 
 // JSON[@@toStringTag] property
 // https://tc39.es/ecma262/#sec-json-@@tostringtag
-setToStringTag$6(global$t.JSON, 'JSON', true);
+setToStringTag$6(global$y.JSON, 'JSON', true);
 
 var internalMetadata = {exports: {}};
 
-var fails$E = fails$X;
+var fails$M = fails$15;
 
-var freezing = !fails$E(function () {
+var freezing = !fails$M(function () {
   // eslint-disable-next-line es/no-object-isextensible, es/no-object-preventextensions -- required for testing
   return Object.isExtensible(Object.preventExtensions({}));
 });
 
+var $$3C = _export;
 var hiddenKeys = hiddenKeys$6;
 var isObject$n = isObject$B;
-var has$9 = has$n;
-var defineProperty$8 = objectDefineProperty.f;
+var has$8 = has$m;
+var defineProperty$9 = objectDefineProperty.f;
+var getOwnPropertyNamesModule = objectGetOwnPropertyNames;
+var getOwnPropertyNamesExternalModule = objectGetOwnPropertyNamesExternal;
 var uid = uid$5;
 var FREEZING$4 = freezing;
 
+var REQUIRED = false;
 var METADATA = uid('meta');
 var id$1 = 0;
 
@@ -3821,8 +4151,8 @@ var isExtensible$1 = Object.isExtensible || function () {
 };
 
 var setMetadata = function (it) {
-  defineProperty$8(it, METADATA, { value: {
-    objectID: 'O' + ++id$1, // object ID
+  defineProperty$9(it, METADATA, { value: {
+    objectID: 'O' + id$1++, // object ID
     weakData: {}          // weak collections IDs
   } });
 };
@@ -3830,7 +4160,7 @@ var setMetadata = function (it) {
 var fastKey$1 = function (it, create) {
   // return a primitive with prefix
   if (!isObject$n(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
-  if (!has$9(it, METADATA)) {
+  if (!has$8(it, METADATA)) {
     // can't set metadata to uncaught frozen object
     if (!isExtensible$1(it)) return 'F';
     // not necessary to add metadata
@@ -3842,7 +4172,7 @@ var fastKey$1 = function (it, create) {
 };
 
 var getWeakData$1 = function (it, create) {
-  if (!has$9(it, METADATA)) {
+  if (!has$8(it, METADATA)) {
     // can't set metadata to uncaught frozen object
     if (!isExtensible$1(it)) return true;
     // not necessary to add metadata
@@ -3855,12 +4185,38 @@ var getWeakData$1 = function (it, create) {
 
 // add metadata on freeze-family methods calling
 var onFreeze$3 = function (it) {
-  if (FREEZING$4 && meta.REQUIRED && isExtensible$1(it) && !has$9(it, METADATA)) setMetadata(it);
+  if (FREEZING$4 && REQUIRED && isExtensible$1(it) && !has$8(it, METADATA)) setMetadata(it);
   return it;
 };
 
+var enable = function () {
+  meta.enable = function () { /* empty */ };
+  REQUIRED = true;
+  var getOwnPropertyNames = getOwnPropertyNamesModule.f;
+  var splice = [].splice;
+  var test = {};
+  test[METADATA] = 1;
+
+  // prevent exposing of metadata key
+  if (getOwnPropertyNames(test).length) {
+    getOwnPropertyNamesModule.f = function (it) {
+      var result = getOwnPropertyNames(it);
+      for (var i = 0, length = result.length; i < length; i++) {
+        if (result[i] === METADATA) {
+          splice.call(result, i, 1);
+          break;
+        }
+      } return result;
+    };
+
+    $$3C({ target: 'Object', stat: true, forced: true }, {
+      getOwnPropertyNames: getOwnPropertyNamesExternalModule.f
+    });
+  }
+};
+
 var meta = internalMetadata.exports = {
-  REQUIRED: false,
+  enable: enable,
   fastKey: fastKey$1,
   getWeakData: getWeakData$1,
   onFreeze: onFreeze$3
@@ -3868,6 +4224,7 @@ var meta = internalMetadata.exports = {
 
 hiddenKeys[METADATA] = true;
 
+var isCallable$f = isCallable$z;
 var isObject$m = isObject$B;
 var setPrototypeOf$3 = objectSetPrototypeOf$1;
 
@@ -3878,7 +4235,7 @@ var inheritIfRequired$4 = function ($this, dummy, Wrapper) {
     // it can work only with native `setPrototypeOf`
     setPrototypeOf$3 &&
     // we haven't completely correct pre-ES6 way for getting `new.target`, so use this
-    typeof (NewTarget = dummy.constructor) == 'function' &&
+    isCallable$f(NewTarget = dummy.constructor) &&
     NewTarget !== Wrapper &&
     isObject$m(NewTargetPrototype = NewTarget.prototype) &&
     NewTargetPrototype !== Wrapper.prototype
@@ -3886,15 +4243,16 @@ var inheritIfRequired$4 = function ($this, dummy, Wrapper) {
   return $this;
 };
 
-var $$3w = _export;
-var global$s = global$M;
+var $$3B = _export;
+var global$x = global$R;
 var isForced$3 = isForced_1;
-var redefine$9 = redefine$g.exports;
+var redefine$c = redefine$l.exports;
 var InternalMetadataModule$1 = internalMetadata.exports;
 var iterate$G = iterate$I;
 var anInstance$9 = anInstance$b;
+var isCallable$e = isCallable$z;
 var isObject$l = isObject$B;
-var fails$D = fails$X;
+var fails$L = fails$15;
 var checkCorrectnessOfIteration$2 = checkCorrectnessOfIteration$4;
 var setToStringTag$5 = setToStringTag$b;
 var inheritIfRequired$3 = inheritIfRequired$4;
@@ -3903,14 +4261,14 @@ var collection$4 = function (CONSTRUCTOR_NAME, wrapper, common) {
   var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;
   var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;
   var ADDER = IS_MAP ? 'set' : 'add';
-  var NativeConstructor = global$s[CONSTRUCTOR_NAME];
+  var NativeConstructor = global$x[CONSTRUCTOR_NAME];
   var NativePrototype = NativeConstructor && NativeConstructor.prototype;
   var Constructor = NativeConstructor;
   var exported = {};
 
   var fixMethod = function (KEY) {
     var nativeMethod = NativePrototype[KEY];
-    redefine$9(NativePrototype, KEY,
+    redefine$c(NativePrototype, KEY,
       KEY == 'add' ? function add(value) {
         nativeMethod.call(this, value === 0 ? 0 : value);
         return this;
@@ -3929,7 +4287,7 @@ var collection$4 = function (CONSTRUCTOR_NAME, wrapper, common) {
 
   var REPLACE = isForced$3(
     CONSTRUCTOR_NAME,
-    typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails$D(function () {
+    !isCallable$e(NativeConstructor) || !(IS_WEAK || NativePrototype.forEach && !fails$L(function () {
       new NativeConstructor().entries().next();
     }))
   );
@@ -3937,18 +4295,18 @@ var collection$4 = function (CONSTRUCTOR_NAME, wrapper, common) {
   if (REPLACE) {
     // create collection constructor
     Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);
-    InternalMetadataModule$1.REQUIRED = true;
+    InternalMetadataModule$1.enable();
   } else if (isForced$3(CONSTRUCTOR_NAME, true)) {
     var instance = new Constructor();
     // early implementations not supports chaining
     var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;
     // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false
-    var THROWS_ON_PRIMITIVES = fails$D(function () { instance.has(1); });
+    var THROWS_ON_PRIMITIVES = fails$L(function () { instance.has(1); });
     // most early implementations doesn't supports iterables, most modern - not close it correctly
     // eslint-disable-next-line no-new -- required for testing
     var ACCEPT_ITERABLES = checkCorrectnessOfIteration$2(function (iterable) { new NativeConstructor(iterable); });
     // for early implementations -0 and +0 not the same
-    var BUGGY_ZERO = !IS_WEAK && fails$D(function () {
+    var BUGGY_ZERO = !IS_WEAK && fails$L(function () {
       // V8 ~ Chromium 42- fails only with 5+ elements
       var $instance = new NativeConstructor();
       var index = 5;
@@ -3980,7 +4338,7 @@ var collection$4 = function (CONSTRUCTOR_NAME, wrapper, common) {
   }
 
   exported[CONSTRUCTOR_NAME] = Constructor;
-  $$3w({ global: true, forced: Constructor != NativeConstructor }, exported);
+  $$3B({ global: true, forced: Constructor != NativeConstructor }, exported);
 
   setToStringTag$5(Constructor, CONSTRUCTOR_NAME);
 
@@ -3989,33 +4347,33 @@ var collection$4 = function (CONSTRUCTOR_NAME, wrapper, common) {
   return Constructor;
 };
 
-var defineProperty$7 = objectDefineProperty.f;
-var create$9 = objectCreate;
-var redefineAll$7 = redefineAll$9;
-var bind$j = functionBindContext;
+var defineProperty$8 = objectDefineProperty.f;
+var create$b = objectCreate$1;
+var redefineAll$8 = redefineAll$a;
+var bind$l = functionBindContext;
 var anInstance$8 = anInstance$b;
 var iterate$F = iterate$I;
 var defineIterator$1 = defineIterator$3;
 var setSpecies$4 = setSpecies$7;
-var DESCRIPTORS$n = descriptors;
+var DESCRIPTORS$o = descriptors;
 var fastKey = internalMetadata.exports.fastKey;
-var InternalStateModule$e = internalState;
+var InternalStateModule$f = internalState;
 
-var setInternalState$e = InternalStateModule$e.set;
-var internalStateGetterFor$1 = InternalStateModule$e.getterFor;
+var setInternalState$f = InternalStateModule$f.set;
+var internalStateGetterFor$1 = InternalStateModule$f.getterFor;
 
 var collectionStrong$2 = {
   getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
     var C = wrapper(function (that, iterable) {
       anInstance$8(that, C, CONSTRUCTOR_NAME);
-      setInternalState$e(that, {
+      setInternalState$f(that, {
         type: CONSTRUCTOR_NAME,
-        index: create$9(null),
+        index: create$b(null),
         first: undefined,
         last: undefined,
         size: 0
       });
-      if (!DESCRIPTORS$n) that.size = 0;
+      if (!DESCRIPTORS$o) that.size = 0;
       if (iterable != undefined) iterate$F(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });
     });
 
@@ -4040,7 +4398,7 @@ var collectionStrong$2 = {
         };
         if (!state.first) state.first = entry;
         if (previous) previous.next = entry;
-        if (DESCRIPTORS$n) state.size++;
+        if (DESCRIPTORS$o) state.size++;
         else that.size++;
         // add to index
         if (index !== 'F') state.index[index] = entry;
@@ -4059,7 +4417,7 @@ var collectionStrong$2 = {
       }
     };
 
-    redefineAll$7(C.prototype, {
+    redefineAll$8(C.prototype, {
       // `{ Map, Set }.prototype.clear()` methods
       // https://tc39.es/ecma262/#sec-map.prototype.clear
       // https://tc39.es/ecma262/#sec-set.prototype.clear
@@ -4075,7 +4433,7 @@ var collectionStrong$2 = {
           entry = entry.next;
         }
         state.first = state.last = undefined;
-        if (DESCRIPTORS$n) state.size = 0;
+        if (DESCRIPTORS$o) state.size = 0;
         else that.size = 0;
       },
       // `{ Map, Set }.prototype.delete(key)` methods
@@ -4094,7 +4452,7 @@ var collectionStrong$2 = {
           if (next) next.previous = prev;
           if (state.first == entry) state.first = next;
           if (state.last == entry) state.last = prev;
-          if (DESCRIPTORS$n) state.size--;
+          if (DESCRIPTORS$o) state.size--;
           else that.size--;
         } return !!entry;
       },
@@ -4103,7 +4461,7 @@ var collectionStrong$2 = {
       // https://tc39.es/ecma262/#sec-set.prototype.foreach
       forEach: function forEach(callbackfn /* , that = undefined */) {
         var state = getInternalState(this);
-        var boundFunction = bind$j(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
+        var boundFunction = bind$l(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
         var entry;
         while (entry = entry ? entry.next : state.first) {
           boundFunction(entry.value, entry.key, this);
@@ -4119,7 +4477,7 @@ var collectionStrong$2 = {
       }
     });
 
-    redefineAll$7(C.prototype, IS_MAP ? {
+    redefineAll$8(C.prototype, IS_MAP ? {
       // `Map.prototype.get(key)` method
       // https://tc39.es/ecma262/#sec-map.prototype.get
       get: function get(key) {
@@ -4138,7 +4496,7 @@ var collectionStrong$2 = {
         return define(this, value = value === 0 ? 0 : value, value);
       }
     });
-    if (DESCRIPTORS$n) defineProperty$7(C.prototype, 'size', {
+    if (DESCRIPTORS$o) defineProperty$8(C.prototype, 'size', {
       get: function () {
         return getInternalState(this).size;
       }
@@ -4159,7 +4517,7 @@ var collectionStrong$2 = {
     // https://tc39.es/ecma262/#sec-set.prototype.values
     // https://tc39.es/ecma262/#sec-set.prototype-@@iterator
     defineIterator$1(C, CONSTRUCTOR_NAME, function (iterated, kind) {
-      setInternalState$e(this, {
+      setInternalState$f(this, {
         type: ITERATOR_NAME,
         target: iterated,
         state: getInternalCollectionState(iterated),
@@ -4209,7 +4567,7 @@ var mathLog1p = Math.log1p || function log1p(x) {
   return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : log$7(1 + x);
 };
 
-var $$3v = _export;
+var $$3A = _export;
 var log1p$1 = mathLog1p;
 
 // eslint-disable-next-line es/no-math-acosh -- required for testing
@@ -4218,7 +4576,7 @@ var log$6 = Math.log;
 var sqrt$2 = Math.sqrt;
 var LN2$1 = Math.LN2;
 
-var FORCED$m = !$acosh
+var FORCED$n = !$acosh
   // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509
   || Math.floor($acosh(Number.MAX_VALUE)) != 710
   // Tor Browser bug: Math.acosh(Infinity) -> NaN
@@ -4226,7 +4584,7 @@ var FORCED$m = !$acosh
 
 // `Math.acosh` method
 // https://tc39.es/ecma262/#sec-math.acosh
-$$3v({ target: 'Math', stat: true, forced: FORCED$m }, {
+$$3A({ target: 'Math', stat: true, forced: FORCED$n }, {
   acosh: function acosh(x) {
     return (x = +x) < 1 ? NaN : x > 94906265.62425156
       ? log$6(x) + LN2$1
@@ -4234,7 +4592,7 @@ $$3v({ target: 'Math', stat: true, forced: FORCED$m }, {
   }
 });
 
-var $$3u = _export;
+var $$3z = _export;
 
 // eslint-disable-next-line es/no-math-asinh -- required for testing
 var $asinh = Math.asinh;
@@ -4248,11 +4606,11 @@ function asinh(x) {
 // `Math.asinh` method
 // https://tc39.es/ecma262/#sec-math.asinh
 // Tor Browser bug: Math.asinh(0) -> -0
-$$3u({ target: 'Math', stat: true, forced: !($asinh && 1 / $asinh(0) > 0) }, {
+$$3z({ target: 'Math', stat: true, forced: !($asinh && 1 / $asinh(0) > 0) }, {
   asinh: asinh
 });
 
-var $$3t = _export;
+var $$3y = _export;
 
 // eslint-disable-next-line es/no-math-atanh -- required for testing
 var $atanh = Math.atanh;
@@ -4261,7 +4619,7 @@ var log$4 = Math.log;
 // `Math.atanh` method
 // https://tc39.es/ecma262/#sec-math.atanh
 // Tor Browser bug: Math.atanh(-0) -> 0
-$$3t({ target: 'Math', stat: true, forced: !($atanh && 1 / $atanh(-0) < 0) }, {
+$$3y({ target: 'Math', stat: true, forced: !($atanh && 1 / $atanh(-0) < 0) }, {
   atanh: function atanh(x) {
     return (x = +x) == 0 ? x : log$4((1 + x) / (1 - x)) / 2;
   }
@@ -4275,7 +4633,7 @@ var mathSign = Math.sign || function sign(x) {
   return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
 };
 
-var $$3s = _export;
+var $$3x = _export;
 var sign$2 = mathSign;
 
 var abs$5 = Math.abs;
@@ -4283,13 +4641,13 @@ var pow$3 = Math.pow;
 
 // `Math.cbrt` method
 // https://tc39.es/ecma262/#sec-math.cbrt
-$$3s({ target: 'Math', stat: true }, {
+$$3x({ target: 'Math', stat: true }, {
   cbrt: function cbrt(x) {
     return sign$2(x = +x) * pow$3(abs$5(x), 1 / 3);
   }
 });
 
-var $$3r = _export;
+var $$3w = _export;
 
 var floor$7 = Math.floor;
 var log$3 = Math.log;
@@ -4297,7 +4655,7 @@ var LOG2E = Math.LOG2E;
 
 // `Math.clz32` method
 // https://tc39.es/ecma262/#sec-math.clz32
-$$3r({ target: 'Math', stat: true }, {
+$$3w({ target: 'Math', stat: true }, {
   clz32: function clz32(x) {
     return (x >>>= 0) ? 31 - floor$7(log$3(x + 0.5) * LOG2E) : 32;
   }
@@ -4318,7 +4676,7 @@ var mathExpm1 = (!$expm1
   return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : exp$2(x) - 1;
 } : $expm1;
 
-var $$3q = _export;
+var $$3v = _export;
 var expm1$3 = mathExpm1;
 
 // eslint-disable-next-line es/no-math-cosh -- required for testing
@@ -4328,20 +4686,20 @@ var E$1 = Math.E;
 
 // `Math.cosh` method
 // https://tc39.es/ecma262/#sec-math.cosh
-$$3q({ target: 'Math', stat: true, forced: !$cosh || $cosh(710) === Infinity }, {
+$$3v({ target: 'Math', stat: true, forced: !$cosh || $cosh(710) === Infinity }, {
   cosh: function cosh(x) {
     var t = expm1$3(abs$4(x) - 1) + 1;
     return (t + 1 / (t * E$1 * E$1)) * (E$1 / 2);
   }
 });
 
-var $$3p = _export;
+var $$3u = _export;
 var expm1$2 = mathExpm1;
 
 // `Math.expm1` method
 // https://tc39.es/ecma262/#sec-math.expm1
 // eslint-disable-next-line es/no-math-expm1 -- required for testing
-$$3p({ target: 'Math', stat: true, forced: expm1$2 != Math.expm1 }, { expm1: expm1$2 });
+$$3u({ target: 'Math', stat: true, forced: expm1$2 != Math.expm1 }, { expm1: expm1$2 });
 
 var sign$1 = mathSign;
 
@@ -4371,14 +4729,14 @@ var mathFround = Math.fround || function fround(x) {
   return $sign * result;
 };
 
-var $$3o = _export;
+var $$3t = _export;
 var fround$1 = mathFround;
 
 // `Math.fround` method
 // https://tc39.es/ecma262/#sec-math.fround
-$$3o({ target: 'Math', stat: true }, { fround: fround$1 });
+$$3t({ target: 'Math', stat: true }, { fround: fround$1 });
 
-var $$3n = _export;
+var $$3s = _export;
 
 // eslint-disable-next-line es/no-math-hypot -- required for testing
 var $hypot = Math.hypot;
@@ -4391,7 +4749,7 @@ var BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;
 
 // `Math.hypot` method
 // https://tc39.es/ecma262/#sec-math.hypot
-$$3n({ target: 'Math', stat: true, forced: BUGGY }, {
+$$3s({ target: 'Math', stat: true, forced: BUGGY }, {
   // eslint-disable-next-line no-unused-vars -- required for `.length`
   hypot: function hypot(value1, value2) {
     var sum = 0;
@@ -4414,20 +4772,20 @@ $$3n({ target: 'Math', stat: true, forced: BUGGY }, {
   }
 });
 
-var $$3m = _export;
-var fails$C = fails$X;
+var $$3r = _export;
+var fails$K = fails$15;
 
 // eslint-disable-next-line es/no-math-imul -- required for testing
 var $imul = Math.imul;
 
-var FORCED$l = fails$C(function () {
+var FORCED$m = fails$K(function () {
   return $imul(0xFFFFFFFF, 5) != -5 || $imul.length != 2;
 });
 
 // `Math.imul` method
 // https://tc39.es/ecma262/#sec-math.imul
 // some WebKit versions fails with big numbers, some has wrong arity
-$$3m({ target: 'Math', stat: true, forced: FORCED$l }, {
+$$3r({ target: 'Math', stat: true, forced: FORCED$m }, {
   imul: function imul(x, y) {
     var UINT16 = 0xFFFF;
     var xn = +x;
@@ -4438,57 +4796,57 @@ $$3m({ target: 'Math', stat: true, forced: FORCED$l }, {
   }
 });
 
-var $$3l = _export;
+var $$3q = _export;
 
 var log$2 = Math.log;
 var LOG10E = Math.LOG10E;
 
 // `Math.log10` method
 // https://tc39.es/ecma262/#sec-math.log10
-$$3l({ target: 'Math', stat: true }, {
+$$3q({ target: 'Math', stat: true }, {
   log10: function log10(x) {
     return log$2(x) * LOG10E;
   }
 });
 
-var $$3k = _export;
+var $$3p = _export;
 var log1p = mathLog1p;
 
 // `Math.log1p` method
 // https://tc39.es/ecma262/#sec-math.log1p
-$$3k({ target: 'Math', stat: true }, { log1p: log1p });
+$$3p({ target: 'Math', stat: true }, { log1p: log1p });
 
-var $$3j = _export;
+var $$3o = _export;
 
 var log$1 = Math.log;
 var LN2 = Math.LN2;
 
 // `Math.log2` method
 // https://tc39.es/ecma262/#sec-math.log2
-$$3j({ target: 'Math', stat: true }, {
+$$3o({ target: 'Math', stat: true }, {
   log2: function log2(x) {
     return log$1(x) / LN2;
   }
 });
 
-var $$3i = _export;
+var $$3n = _export;
 var sign = mathSign;
 
 // `Math.sign` method
 // https://tc39.es/ecma262/#sec-math.sign
-$$3i({ target: 'Math', stat: true }, {
+$$3n({ target: 'Math', stat: true }, {
   sign: sign
 });
 
-var $$3h = _export;
-var fails$B = fails$X;
+var $$3m = _export;
+var fails$J = fails$15;
 var expm1$1 = mathExpm1;
 
 var abs$1 = Math.abs;
 var exp$1 = Math.exp;
 var E = Math.E;
 
-var FORCED$k = fails$B(function () {
+var FORCED$l = fails$J(function () {
   // eslint-disable-next-line es/no-math-sinh -- required for testing
   return Math.sinh(-2e-17) != -2e-17;
 });
@@ -4496,20 +4854,20 @@ var FORCED$k = fails$B(function () {
 // `Math.sinh` method
 // https://tc39.es/ecma262/#sec-math.sinh
 // V8 near Chromium 38 has a problem with very small numbers
-$$3h({ target: 'Math', stat: true, forced: FORCED$k }, {
+$$3m({ target: 'Math', stat: true, forced: FORCED$l }, {
   sinh: function sinh(x) {
     return abs$1(x = +x) < 1 ? (expm1$1(x) - expm1$1(-x)) / 2 : (exp$1(x - 1) - exp$1(-x - 1)) * (E / 2);
   }
 });
 
-var $$3g = _export;
+var $$3l = _export;
 var expm1 = mathExpm1;
 
 var exp = Math.exp;
 
 // `Math.tanh` method
 // https://tc39.es/ecma262/#sec-math.tanh
-$$3g({ target: 'Math', stat: true }, {
+$$3l({ target: 'Math', stat: true }, {
   tanh: function tanh(x) {
     var a = expm1(x = +x);
     var b = expm1(-x);
@@ -4523,14 +4881,14 @@ var setToStringTag$4 = setToStringTag$b;
 // https://tc39.es/ecma262/#sec-math-@@tostringtag
 setToStringTag$4(Math, 'Math', true);
 
-var $$3f = _export;
+var $$3k = _export;
 
 var ceil = Math.ceil;
 var floor$6 = Math.floor;
 
 // `Math.trunc` method
 // https://tc39.es/ecma262/#sec-math.trunc
-$$3f({ target: 'Math', stat: true }, {
+$$3k({ target: 'Math', stat: true }, {
   trunc: function trunc(it) {
     return (it > 0 ? floor$6 : ceil)(it);
   }
@@ -4540,7 +4898,8 @@ $$3f({ target: 'Math', stat: true }, {
 var whitespaces$4 = '\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u2000\u2001\u2002' +
   '\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';
 
-var requireObjectCoercible$c = requireObjectCoercible$h;
+var requireObjectCoercible$e = requireObjectCoercible$j;
+var toString$m = toString$t;
 var whitespaces$3 = whitespaces$4;
 
 var whitespace = '[' + whitespaces$3 + ']';
@@ -4550,7 +4909,7 @@ var rtrim = RegExp(whitespace + whitespace + '*$');
 // `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation
 var createMethod$4 = function (TYPE) {
   return function ($this) {
-    var string = String(requireObjectCoercible$c($this));
+    var string = toString$m(requireObjectCoercible$e($this));
     if (TYPE & 1) string = string.replace(ltrim, '');
     if (TYPE & 2) string = string.replace(rtrim, '');
     return string;
@@ -4569,32 +4928,34 @@ var stringTrim = {
   trim: createMethod$4(3)
 };
 
-var DESCRIPTORS$m = descriptors;
-var global$r = global$M;
+var DESCRIPTORS$n = descriptors;
+var global$w = global$R;
 var isForced$2 = isForced_1;
-var redefine$8 = redefine$g.exports;
-var has$8 = has$n;
-var classof$7 = classofRaw$1;
+var redefine$b = redefine$l.exports;
+var has$7 = has$m;
+var classof$6 = classofRaw$1;
 var inheritIfRequired$2 = inheritIfRequired$4;
-var toPrimitive$4 = toPrimitive$b;
-var fails$A = fails$X;
-var create$8 = objectCreate;
+var isSymbol$1 = isSymbol$5;
+var toPrimitive = toPrimitive$3;
+var fails$I = fails$15;
+var create$a = objectCreate$1;
 var getOwnPropertyNames$3 = objectGetOwnPropertyNames.f;
 var getOwnPropertyDescriptor$6 = objectGetOwnPropertyDescriptor.f;
-var defineProperty$6 = objectDefineProperty.f;
+var defineProperty$7 = objectDefineProperty.f;
 var trim$2 = stringTrim.trim;
 
 var NUMBER = 'Number';
-var NativeNumber = global$r[NUMBER];
+var NativeNumber = global$w[NUMBER];
 var NumberPrototype = NativeNumber.prototype;
 
 // Opera ~12 has broken Object#toString
-var BROKEN_CLASSOF = classof$7(create$8(NumberPrototype)) == NUMBER;
+var BROKEN_CLASSOF = classof$6(create$a(NumberPrototype)) == NUMBER;
 
 // `ToNumber` abstract operation
 // https://tc39.es/ecma262/#sec-tonumber
 var toNumber = function (argument) {
-  var it = toPrimitive$4(argument, false);
+  if (isSymbol$1(argument)) throw TypeError('Cannot convert a Symbol value to a number');
+  var it = toPrimitive(argument, 'number');
   var first, third, radix, maxCode, digits, length, index, code;
   if (typeof it == 'string' && it.length > 2) {
     it = trim$2(it);
@@ -4628,10 +4989,10 @@ if (isForced$2(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNu
     var dummy = this;
     return dummy instanceof NumberWrapper
       // check on 1..constructor(foo) case
-      && (BROKEN_CLASSOF ? fails$A(function () { NumberPrototype.valueOf.call(dummy); }) : classof$7(dummy) != NUMBER)
+      && (BROKEN_CLASSOF ? fails$I(function () { NumberPrototype.valueOf.call(dummy); }) : classof$6(dummy) != NUMBER)
         ? inheritIfRequired$2(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);
   };
-  for (var keys$1 = DESCRIPTORS$m ? getOwnPropertyNames$3(NativeNumber) : (
+  for (var keys$1 = DESCRIPTORS$n ? getOwnPropertyNames$3(NativeNumber) : (
     // ES3:
     'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +
     // ES2015 (in case, if modules with ES2015 Number statics required before):
@@ -4640,26 +5001,26 @@ if (isForced$2(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNu
     // ESNext
     'fromString,range'
   ).split(','), j = 0, key; keys$1.length > j; j++) {
-    if (has$8(NativeNumber, key = keys$1[j]) && !has$8(NumberWrapper, key)) {
-      defineProperty$6(NumberWrapper, key, getOwnPropertyDescriptor$6(NativeNumber, key));
+    if (has$7(NativeNumber, key = keys$1[j]) && !has$7(NumberWrapper, key)) {
+      defineProperty$7(NumberWrapper, key, getOwnPropertyDescriptor$6(NativeNumber, key));
     }
   }
   NumberWrapper.prototype = NumberPrototype;
   NumberPrototype.constructor = NumberWrapper;
-  redefine$8(global$r, NUMBER, NumberWrapper);
+  redefine$b(global$w, NUMBER, NumberWrapper);
 }
 
-var $$3e = _export;
+var $$3j = _export;
 
 // `Number.EPSILON` constant
 // https://tc39.es/ecma262/#sec-number.epsilon
-$$3e({ target: 'Number', stat: true }, {
+$$3j({ target: 'Number', stat: true }, {
   EPSILON: Math.pow(2, -52)
 });
 
-var global$q = global$M;
+var global$v = global$R;
 
-var globalIsFinite = global$q.isFinite;
+var globalIsFinite = global$v.isFinite;
 
 // `Number.isFinite` method
 // https://tc39.es/ecma262/#sec-number.isfinite
@@ -4668,12 +5029,12 @@ var numberIsFinite$2 = Number.isFinite || function isFinite(it) {
   return typeof it == 'number' && globalIsFinite(it);
 };
 
-var $$3d = _export;
+var $$3i = _export;
 var numberIsFinite$1 = numberIsFinite$2;
 
 // `Number.isFinite` method
 // https://tc39.es/ecma262/#sec-number.isfinite
-$$3d({ target: 'Number', stat: true }, { isFinite: numberIsFinite$1 });
+$$3i({ target: 'Number', stat: true }, { isFinite: numberIsFinite$1 });
 
 var isObject$k = isObject$B;
 
@@ -4681,125 +5042,134 @@ var floor$5 = Math.floor;
 
 // `Number.isInteger` method implementation
 // https://tc39.es/ecma262/#sec-number.isinteger
-var isInteger$2 = function isInteger(it) {
+var isInteger$3 = function isInteger(it) {
   return !isObject$k(it) && isFinite(it) && floor$5(it) === it;
 };
 
-var $$3c = _export;
-var isInteger$1 = isInteger$2;
+var $$3h = _export;
+var isInteger$2 = isInteger$3;
 
 // `Number.isInteger` method
 // https://tc39.es/ecma262/#sec-number.isinteger
-$$3c({ target: 'Number', stat: true }, {
-  isInteger: isInteger$1
+$$3h({ target: 'Number', stat: true }, {
+  isInteger: isInteger$2
 });
 
-var $$3b = _export;
+var $$3g = _export;
 
 // `Number.isNaN` method
 // https://tc39.es/ecma262/#sec-number.isnan
-$$3b({ target: 'Number', stat: true }, {
+$$3g({ target: 'Number', stat: true }, {
   isNaN: function isNaN(number) {
     // eslint-disable-next-line no-self-compare -- NaN check
     return number != number;
   }
 });
 
-var $$3a = _export;
-var isInteger = isInteger$2;
+var $$3f = _export;
+var isInteger$1 = isInteger$3;
 
 var abs = Math.abs;
 
 // `Number.isSafeInteger` method
 // https://tc39.es/ecma262/#sec-number.issafeinteger
-$$3a({ target: 'Number', stat: true }, {
+$$3f({ target: 'Number', stat: true }, {
   isSafeInteger: function isSafeInteger(number) {
-    return isInteger(number) && abs(number) <= 0x1FFFFFFFFFFFFF;
+    return isInteger$1(number) && abs(number) <= 0x1FFFFFFFFFFFFF;
   }
 });
 
-var $$39 = _export;
+var $$3e = _export;
 
 // `Number.MAX_SAFE_INTEGER` constant
 // https://tc39.es/ecma262/#sec-number.max_safe_integer
-$$39({ target: 'Number', stat: true }, {
+$$3e({ target: 'Number', stat: true }, {
   MAX_SAFE_INTEGER: 0x1FFFFFFFFFFFFF
 });
 
-var $$38 = _export;
+var $$3d = _export;
 
 // `Number.MIN_SAFE_INTEGER` constant
 // https://tc39.es/ecma262/#sec-number.min_safe_integer
-$$38({ target: 'Number', stat: true }, {
+$$3d({ target: 'Number', stat: true }, {
   MIN_SAFE_INTEGER: -0x1FFFFFFFFFFFFF
 });
 
-var global$p = global$M;
+var global$u = global$R;
+var fails$H = fails$15;
+var toString$l = toString$t;
 var trim$1 = stringTrim.trim;
 var whitespaces$2 = whitespaces$4;
 
-var $parseFloat = global$p.parseFloat;
-var FORCED$j = 1 / $parseFloat(whitespaces$2 + '-0') !== -Infinity;
+var $parseFloat$1 = global$u.parseFloat;
+var Symbol$2 = global$u.Symbol;
+var ITERATOR$5 = Symbol$2 && Symbol$2.iterator;
+var FORCED$k = 1 / $parseFloat$1(whitespaces$2 + '-0') !== -Infinity
+  // MS Edge 18- broken with boxed symbols
+  || (ITERATOR$5 && !fails$H(function () { $parseFloat$1(Object(ITERATOR$5)); }));
 
 // `parseFloat` method
 // https://tc39.es/ecma262/#sec-parsefloat-string
-var numberParseFloat = FORCED$j ? function parseFloat(string) {
-  var trimmedString = trim$1(String(string));
-  var result = $parseFloat(trimmedString);
+var numberParseFloat = FORCED$k ? function parseFloat(string) {
+  var trimmedString = trim$1(toString$l(string));
+  var result = $parseFloat$1(trimmedString);
   return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;
-} : $parseFloat;
+} : $parseFloat$1;
 
-var $$37 = _export;
+var $$3c = _export;
 var parseFloat$1 = numberParseFloat;
 
 // `Number.parseFloat` method
 // https://tc39.es/ecma262/#sec-number.parseFloat
 // eslint-disable-next-line es/no-number-parsefloat -- required for testing
-$$37({ target: 'Number', stat: true, forced: Number.parseFloat != parseFloat$1 }, {
+$$3c({ target: 'Number', stat: true, forced: Number.parseFloat != parseFloat$1 }, {
   parseFloat: parseFloat$1
 });
 
-var global$o = global$M;
+var global$t = global$R;
+var fails$G = fails$15;
+var toString$k = toString$t;
 var trim = stringTrim.trim;
 var whitespaces$1 = whitespaces$4;
 
-var $parseInt = global$o.parseInt;
+var $parseInt$1 = global$t.parseInt;
+var Symbol$1 = global$t.Symbol;
+var ITERATOR$4 = Symbol$1 && Symbol$1.iterator;
 var hex = /^[+-]?0[Xx]/;
-var FORCED$i = $parseInt(whitespaces$1 + '08') !== 8 || $parseInt(whitespaces$1 + '0x16') !== 22;
+var FORCED$j = $parseInt$1(whitespaces$1 + '08') !== 8 || $parseInt$1(whitespaces$1 + '0x16') !== 22
+  // MS Edge 18- broken with boxed symbols
+  || (ITERATOR$4 && !fails$G(function () { $parseInt$1(Object(ITERATOR$4)); }));
 
 // `parseInt` method
 // https://tc39.es/ecma262/#sec-parseint-string-radix
-var numberParseInt = FORCED$i ? function parseInt(string, radix) {
-  var S = trim(String(string));
-  return $parseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));
-} : $parseInt;
+var numberParseInt = FORCED$j ? function parseInt(string, radix) {
+  var S = trim(toString$k(string));
+  return $parseInt$1(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));
+} : $parseInt$1;
 
-var $$36 = _export;
+var $$3b = _export;
 var parseInt$2 = numberParseInt;
 
 // `Number.parseInt` method
 // https://tc39.es/ecma262/#sec-number.parseint
 // eslint-disable-next-line es/no-number-parseint -- required for testing
-$$36({ target: 'Number', stat: true, forced: Number.parseInt != parseInt$2 }, {
+$$3b({ target: 'Number', stat: true, forced: Number.parseInt != parseInt$2 }, {
   parseInt: parseInt$2
 });
 
-var classof$6 = classofRaw$1;
+var valueOf = 1.0.valueOf;
 
 // `thisNumberValue` abstract operation
 // https://tc39.es/ecma262/#sec-thisnumbervalue
 var thisNumberValue$2 = function (value) {
-  if (typeof value != 'number' && classof$6(value) != 'Number') {
-    throw TypeError('Incorrect invocation');
-  }
-  return +value;
+  return valueOf.call(value);
 };
 
-var $$35 = _export;
-var toInteger$6 = toInteger$f;
+var $$3a = _export;
+var toInteger$7 = toInteger$i;
 var thisNumberValue$1 = thisNumberValue$2;
 var repeat$1 = stringRepeat;
-var fails$z = fails$X;
+var fails$F = fails$15;
 
 var nativeToFixed = 1.0.toFixed;
 var floor$4 = Math.floor;
@@ -4852,22 +5222,22 @@ var dataToString = function (data) {
   } return s;
 };
 
-var FORCED$h = nativeToFixed && (
+var FORCED$i = nativeToFixed && (
   0.00008.toFixed(3) !== '0.000' ||
   0.9.toFixed(0) !== '1' ||
   1.255.toFixed(2) !== '1.25' ||
   1000000000000000128.0.toFixed(0) !== '1000000000000000128'
-) || !fails$z(function () {
+) || !fails$F(function () {
   // V8 ~ Android 4.3-
   nativeToFixed.call({});
 });
 
 // `Number.prototype.toFixed` method
 // https://tc39.es/ecma262/#sec-number.prototype.tofixed
-$$35({ target: 'Number', proto: true, forced: FORCED$h }, {
+$$3a({ target: 'Number', proto: true, forced: FORCED$i }, {
   toFixed: function toFixed(fractionDigits) {
     var number = thisNumberValue$1(this);
-    var fractDigits = toInteger$6(fractionDigits);
+    var fractDigits = toInteger$7(fractionDigits);
     var data = [0, 0, 0, 0, 0, 0];
     var sign = '';
     var result = '0';
@@ -4920,23 +5290,23 @@ $$35({ target: 'Number', proto: true, forced: FORCED$h }, {
   }
 });
 
-var $$34 = _export;
-var fails$y = fails$X;
+var $$39 = _export;
+var fails$E = fails$15;
 var thisNumberValue = thisNumberValue$2;
 
 var nativeToPrecision = 1.0.toPrecision;
 
-var FORCED$g = fails$y(function () {
+var FORCED$h = fails$E(function () {
   // IE7-
   return nativeToPrecision.call(1, undefined) !== '1';
-}) || !fails$y(function () {
+}) || !fails$E(function () {
   // V8 ~ Android 4.3-
   nativeToPrecision.call({});
 });
 
 // `Number.prototype.toPrecision` method
 // https://tc39.es/ecma262/#sec-number.prototype.toprecision
-$$34({ target: 'Number', proto: true, forced: FORCED$g }, {
+$$39({ target: 'Number', proto: true, forced: FORCED$h }, {
   toPrecision: function toPrecision(precision) {
     return precision === undefined
       ? nativeToPrecision.call(thisNumberValue(this))
@@ -4944,27 +5314,27 @@ $$34({ target: 'Number', proto: true, forced: FORCED$g }, {
   }
 });
 
-var DESCRIPTORS$l = descriptors;
-var fails$x = fails$X;
+var DESCRIPTORS$m = descriptors;
+var fails$D = fails$15;
 var objectKeys$2 = objectKeys$5;
 var getOwnPropertySymbolsModule = objectGetOwnPropertySymbols;
 var propertyIsEnumerableModule = objectPropertyIsEnumerable;
-var toObject$h = toObject$w;
-var IndexedObject$1 = indexedObject;
+var toObject$j = toObject$z;
+var IndexedObject$2 = indexedObject;
 
 // eslint-disable-next-line es/no-object-assign -- safe
 var $assign = Object.assign;
 // eslint-disable-next-line es/no-object-defineproperty -- required for testing
-var defineProperty$5 = Object.defineProperty;
+var defineProperty$6 = Object.defineProperty;
 
 // `Object.assign` method
 // https://tc39.es/ecma262/#sec-object.assign
-var objectAssign = !$assign || fails$x(function () {
+var objectAssign = !$assign || fails$D(function () {
   // should have correct order of operations (Edge bug)
-  if (DESCRIPTORS$l && $assign({ b: 1 }, $assign(defineProperty$5({}, 'a', {
+  if (DESCRIPTORS$m && $assign({ b: 1 }, $assign(defineProperty$6({}, 'a', {
     enumerable: true,
     get: function () {
-      defineProperty$5(this, 'b', {
+      defineProperty$6(this, 'b', {
         value: 3,
         enumerable: false
       });
@@ -4980,50 +5350,50 @@ var objectAssign = !$assign || fails$x(function () {
   alphabet.split('').forEach(function (chr) { B[chr] = chr; });
   return $assign({}, A)[symbol] != 7 || objectKeys$2($assign({}, B)).join('') != alphabet;
 }) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`
-  var T = toObject$h(target);
+  var T = toObject$j(target);
   var argumentsLength = arguments.length;
   var index = 1;
   var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
   var propertyIsEnumerable = propertyIsEnumerableModule.f;
   while (argumentsLength > index) {
-    var S = IndexedObject$1(arguments[index++]);
+    var S = IndexedObject$2(arguments[index++]);
     var keys = getOwnPropertySymbols ? objectKeys$2(S).concat(getOwnPropertySymbols(S)) : objectKeys$2(S);
     var length = keys.length;
     var j = 0;
     var key;
     while (length > j) {
       key = keys[j++];
-      if (!DESCRIPTORS$l || propertyIsEnumerable.call(S, key)) T[key] = S[key];
+      if (!DESCRIPTORS$m || propertyIsEnumerable.call(S, key)) T[key] = S[key];
     }
   } return T;
 } : $assign;
 
-var $$33 = _export;
+var $$38 = _export;
 var assign$1 = objectAssign;
 
 // `Object.assign` method
 // https://tc39.es/ecma262/#sec-object.assign
 // eslint-disable-next-line es/no-object-assign -- required for testing
-$$33({ target: 'Object', stat: true, forced: Object.assign !== assign$1 }, {
+$$38({ target: 'Object', stat: true, forced: Object.assign !== assign$1 }, {
   assign: assign$1
 });
 
-var $$32 = _export;
-var DESCRIPTORS$k = descriptors;
-var create$7 = objectCreate;
+var $$37 = _export;
+var DESCRIPTORS$l = descriptors;
+var create$9 = objectCreate$1;
 
 // `Object.create` method
 // https://tc39.es/ecma262/#sec-object.create
-$$32({ target: 'Object', stat: true, sham: !DESCRIPTORS$k }, {
-  create: create$7
+$$37({ target: 'Object', stat: true, sham: !DESCRIPTORS$l }, {
+  create: create$9
 });
 
-var global$n = global$M;
-var fails$w = fails$X;
+var global$s = global$R;
+var fails$C = fails$15;
 var WEBKIT$1 = engineWebkitVersion;
 
 // Forced replacement object prototype accessors methods
-var objectPrototypeAccessorsForced = !fails$w(function () {
+var objectPrototypeAccessorsForced = !fails$C(function () {
   // This feature detection crashes old WebKit
   // https://github.com/zloirock/core-js/issues/232
   if (WEBKIT$1 && WEBKIT$1 < 535) return;
@@ -5031,64 +5401,64 @@ var objectPrototypeAccessorsForced = !fails$w(function () {
   // In FF throws only define methods
   // eslint-disable-next-line no-undef, no-useless-call -- required for testing
   __defineSetter__.call(null, key, function () { /* empty */ });
-  delete global$n[key];
+  delete global$s[key];
 });
 
-var $$31 = _export;
-var DESCRIPTORS$j = descriptors;
-var FORCED$f = objectPrototypeAccessorsForced;
-var toObject$g = toObject$w;
-var aFunction$L = aFunction$S;
+var $$36 = _export;
+var DESCRIPTORS$k = descriptors;
+var FORCED$g = objectPrototypeAccessorsForced;
+var aCallable$I = aCallable$Q;
+var toObject$i = toObject$z;
 var definePropertyModule$4 = objectDefineProperty;
 
 // `Object.prototype.__defineGetter__` method
 // https://tc39.es/ecma262/#sec-object.prototype.__defineGetter__
-if (DESCRIPTORS$j) {
-  $$31({ target: 'Object', proto: true, forced: FORCED$f }, {
+if (DESCRIPTORS$k) {
+  $$36({ target: 'Object', proto: true, forced: FORCED$g }, {
     __defineGetter__: function __defineGetter__(P, getter) {
-      definePropertyModule$4.f(toObject$g(this), P, { get: aFunction$L(getter), enumerable: true, configurable: true });
+      definePropertyModule$4.f(toObject$i(this), P, { get: aCallable$I(getter), enumerable: true, configurable: true });
     }
   });
 }
 
-var $$30 = _export;
-var DESCRIPTORS$i = descriptors;
+var $$35 = _export;
+var DESCRIPTORS$j = descriptors;
 var defineProperties$2 = objectDefineProperties;
 
 // `Object.defineProperties` method
 // https://tc39.es/ecma262/#sec-object.defineproperties
-$$30({ target: 'Object', stat: true, forced: !DESCRIPTORS$i, sham: !DESCRIPTORS$i }, {
+$$35({ target: 'Object', stat: true, forced: !DESCRIPTORS$j, sham: !DESCRIPTORS$j }, {
   defineProperties: defineProperties$2
 });
 
-var $$2$ = _export;
-var DESCRIPTORS$h = descriptors;
+var $$34 = _export;
+var DESCRIPTORS$i = descriptors;
 var objectDefinePropertyModile = objectDefineProperty;
 
 // `Object.defineProperty` method
 // https://tc39.es/ecma262/#sec-object.defineproperty
-$$2$({ target: 'Object', stat: true, forced: !DESCRIPTORS$h, sham: !DESCRIPTORS$h }, {
+$$34({ target: 'Object', stat: true, forced: !DESCRIPTORS$i, sham: !DESCRIPTORS$i }, {
   defineProperty: objectDefinePropertyModile.f
 });
 
-var $$2_ = _export;
-var DESCRIPTORS$g = descriptors;
-var FORCED$e = objectPrototypeAccessorsForced;
-var toObject$f = toObject$w;
-var aFunction$K = aFunction$S;
+var $$33 = _export;
+var DESCRIPTORS$h = descriptors;
+var FORCED$f = objectPrototypeAccessorsForced;
+var aCallable$H = aCallable$Q;
+var toObject$h = toObject$z;
 var definePropertyModule$3 = objectDefineProperty;
 
 // `Object.prototype.__defineSetter__` method
 // https://tc39.es/ecma262/#sec-object.prototype.__defineSetter__
-if (DESCRIPTORS$g) {
-  $$2_({ target: 'Object', proto: true, forced: FORCED$e }, {
+if (DESCRIPTORS$h) {
+  $$33({ target: 'Object', proto: true, forced: FORCED$f }, {
     __defineSetter__: function __defineSetter__(P, setter) {
-      definePropertyModule$3.f(toObject$f(this), P, { set: aFunction$K(setter), enumerable: true, configurable: true });
+      definePropertyModule$3.f(toObject$h(this), P, { set: aCallable$H(setter), enumerable: true, configurable: true });
     }
   });
 }
 
-var DESCRIPTORS$f = descriptors;
+var DESCRIPTORS$g = descriptors;
 var objectKeys$1 = objectKeys$5;
 var toIndexedObject$3 = toIndexedObject$d;
 var propertyIsEnumerable = objectPropertyIsEnumerable.f;
@@ -5104,7 +5474,7 @@ var createMethod$3 = function (TO_ENTRIES) {
     var key;
     while (length > i) {
       key = keys[i++];
-      if (!DESCRIPTORS$f || propertyIsEnumerable.call(O, key)) {
+      if (!DESCRIPTORS$g || propertyIsEnumerable.call(O, key)) {
         result.push(TO_ENTRIES ? [key, O[key]] : O[key]);
       }
     }
@@ -5121,42 +5491,42 @@ var objectToArray = {
   values: createMethod$3(false)
 };
 
-var $$2Z = _export;
+var $$32 = _export;
 var $entries = objectToArray.entries;
 
 // `Object.entries` method
 // https://tc39.es/ecma262/#sec-object.entries
-$$2Z({ target: 'Object', stat: true }, {
+$$32({ target: 'Object', stat: true }, {
   entries: function entries(O) {
     return $entries(O);
   }
 });
 
-var $$2Y = _export;
+var $$31 = _export;
 var FREEZING$3 = freezing;
-var fails$v = fails$X;
+var fails$B = fails$15;
 var isObject$j = isObject$B;
 var onFreeze$2 = internalMetadata.exports.onFreeze;
 
 // eslint-disable-next-line es/no-object-freeze -- safe
 var $freeze = Object.freeze;
-var FAILS_ON_PRIMITIVES$9 = fails$v(function () { $freeze(1); });
+var FAILS_ON_PRIMITIVES$9 = fails$B(function () { $freeze(1); });
 
 // `Object.freeze` method
 // https://tc39.es/ecma262/#sec-object.freeze
-$$2Y({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$9, sham: !FREEZING$3 }, {
+$$31({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$9, sham: !FREEZING$3 }, {
   freeze: function freeze(it) {
     return $freeze && isObject$j(it) ? $freeze(onFreeze$2(it)) : it;
   }
 });
 
-var $$2X = _export;
+var $$30 = _export;
 var iterate$E = iterate$I;
 var createProperty$1 = createProperty$7;
 
 // `Object.fromEntries` method
 // https://github.com/tc39/proposal-object-from-entries
-$$2X({ target: 'Object', stat: true }, {
+$$30({ target: 'Object', stat: true }, {
   fromEntries: function fromEntries(iterable) {
     var obj = {};
     iterate$E(iterable, function (k, v) {
@@ -5166,25 +5536,25 @@ $$2X({ target: 'Object', stat: true }, {
   }
 });
 
-var $$2W = _export;
-var fails$u = fails$X;
+var $$2$ = _export;
+var fails$A = fails$15;
 var toIndexedObject$2 = toIndexedObject$d;
 var nativeGetOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;
-var DESCRIPTORS$e = descriptors;
+var DESCRIPTORS$f = descriptors;
 
-var FAILS_ON_PRIMITIVES$8 = fails$u(function () { nativeGetOwnPropertyDescriptor$1(1); });
-var FORCED$d = !DESCRIPTORS$e || FAILS_ON_PRIMITIVES$8;
+var FAILS_ON_PRIMITIVES$8 = fails$A(function () { nativeGetOwnPropertyDescriptor$1(1); });
+var FORCED$e = !DESCRIPTORS$f || FAILS_ON_PRIMITIVES$8;
 
 // `Object.getOwnPropertyDescriptor` method
 // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
-$$2W({ target: 'Object', stat: true, forced: FORCED$d, sham: !DESCRIPTORS$e }, {
+$$2$({ target: 'Object', stat: true, forced: FORCED$e, sham: !DESCRIPTORS$f }, {
   getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {
     return nativeGetOwnPropertyDescriptor$1(toIndexedObject$2(it), key);
   }
 });
 
-var $$2V = _export;
-var DESCRIPTORS$d = descriptors;
+var $$2_ = _export;
+var DESCRIPTORS$e = descriptors;
 var ownKeys$1 = ownKeys$3;
 var toIndexedObject$1 = toIndexedObject$d;
 var getOwnPropertyDescriptorModule$4 = objectGetOwnPropertyDescriptor;
@@ -5192,7 +5562,7 @@ var createProperty = createProperty$7;
 
 // `Object.getOwnPropertyDescriptors` method
 // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors
-$$2V({ target: 'Object', stat: true, sham: !DESCRIPTORS$d }, {
+$$2_({ target: 'Object', stat: true, sham: !DESCRIPTORS$e }, {
   getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
     var O = toIndexedObject$1(object);
     var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule$4.f;
@@ -5208,35 +5578,44 @@ $$2V({ target: 'Object', stat: true, sham: !DESCRIPTORS$d }, {
   }
 });
 
-var $$2U = _export;
-var fails$t = fails$X;
+var $$2Z = _export;
+var fails$z = fails$15;
 var getOwnPropertyNames$2 = objectGetOwnPropertyNamesExternal.f;
 
 // eslint-disable-next-line es/no-object-getownpropertynames -- required for testing
-var FAILS_ON_PRIMITIVES$7 = fails$t(function () { return !Object.getOwnPropertyNames(1); });
+var FAILS_ON_PRIMITIVES$7 = fails$z(function () { return !Object.getOwnPropertyNames(1); });
 
 // `Object.getOwnPropertyNames` method
 // https://tc39.es/ecma262/#sec-object.getownpropertynames
-$$2U({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$7 }, {
+$$2Z({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$7 }, {
   getOwnPropertyNames: getOwnPropertyNames$2
 });
 
-var $$2T = _export;
-var fails$s = fails$X;
-var toObject$e = toObject$w;
+var $$2Y = _export;
+var fails$y = fails$15;
+var toObject$g = toObject$z;
 var nativeGetPrototypeOf = objectGetPrototypeOf$1;
 var CORRECT_PROTOTYPE_GETTER$1 = correctPrototypeGetter;
 
-var FAILS_ON_PRIMITIVES$6 = fails$s(function () { nativeGetPrototypeOf(1); });
+var FAILS_ON_PRIMITIVES$6 = fails$y(function () { nativeGetPrototypeOf(1); });
 
 // `Object.getPrototypeOf` method
 // https://tc39.es/ecma262/#sec-object.getprototypeof
-$$2T({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$6, sham: !CORRECT_PROTOTYPE_GETTER$1 }, {
+$$2Y({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$6, sham: !CORRECT_PROTOTYPE_GETTER$1 }, {
   getPrototypeOf: function getPrototypeOf(it) {
-    return nativeGetPrototypeOf(toObject$e(it));
+    return nativeGetPrototypeOf(toObject$g(it));
   }
 });
 
+var $$2X = _export;
+var hasOwn$1 = has$m;
+
+// `Object.hasOwn` method
+// https://github.com/tc39/proposal-accessible-object-hasownproperty
+$$2X({ target: 'Object', stat: true }, {
+  hasOwn: hasOwn$1
+});
+
 // `SameValue` abstract operation
 // https://tc39.es/ecma262/#sec-samevalue
 // eslint-disable-next-line es/no-object-is -- safe
@@ -5245,93 +5624,93 @@ var sameValue$1 = Object.is || function is(x, y) {
   return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
 };
 
-var $$2S = _export;
+var $$2W = _export;
 var is = sameValue$1;
 
 // `Object.is` method
 // https://tc39.es/ecma262/#sec-object.is
-$$2S({ target: 'Object', stat: true }, {
+$$2W({ target: 'Object', stat: true }, {
   is: is
 });
 
-var $$2R = _export;
-var fails$r = fails$X;
+var $$2V = _export;
+var fails$x = fails$15;
 var isObject$i = isObject$B;
 
 // eslint-disable-next-line es/no-object-isextensible -- safe
 var $isExtensible = Object.isExtensible;
-var FAILS_ON_PRIMITIVES$5 = fails$r(function () { $isExtensible(1); });
+var FAILS_ON_PRIMITIVES$5 = fails$x(function () { $isExtensible(1); });
 
 // `Object.isExtensible` method
 // https://tc39.es/ecma262/#sec-object.isextensible
-$$2R({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$5 }, {
+$$2V({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$5 }, {
   isExtensible: function isExtensible(it) {
     return isObject$i(it) ? $isExtensible ? $isExtensible(it) : true : false;
   }
 });
 
-var $$2Q = _export;
-var fails$q = fails$X;
+var $$2U = _export;
+var fails$w = fails$15;
 var isObject$h = isObject$B;
 
 // eslint-disable-next-line es/no-object-isfrozen -- safe
 var $isFrozen = Object.isFrozen;
-var FAILS_ON_PRIMITIVES$4 = fails$q(function () { $isFrozen(1); });
+var FAILS_ON_PRIMITIVES$4 = fails$w(function () { $isFrozen(1); });
 
 // `Object.isFrozen` method
 // https://tc39.es/ecma262/#sec-object.isfrozen
-$$2Q({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$4 }, {
+$$2U({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$4 }, {
   isFrozen: function isFrozen(it) {
     return isObject$h(it) ? $isFrozen ? $isFrozen(it) : false : true;
   }
 });
 
-var $$2P = _export;
-var fails$p = fails$X;
+var $$2T = _export;
+var fails$v = fails$15;
 var isObject$g = isObject$B;
 
 // eslint-disable-next-line es/no-object-issealed -- safe
 var $isSealed = Object.isSealed;
-var FAILS_ON_PRIMITIVES$3 = fails$p(function () { $isSealed(1); });
+var FAILS_ON_PRIMITIVES$3 = fails$v(function () { $isSealed(1); });
 
 // `Object.isSealed` method
 // https://tc39.es/ecma262/#sec-object.issealed
-$$2P({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$3 }, {
+$$2T({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$3 }, {
   isSealed: function isSealed(it) {
     return isObject$g(it) ? $isSealed ? $isSealed(it) : false : true;
   }
 });
 
-var $$2O = _export;
-var toObject$d = toObject$w;
+var $$2S = _export;
+var toObject$f = toObject$z;
 var nativeKeys = objectKeys$5;
-var fails$o = fails$X;
+var fails$u = fails$15;
 
-var FAILS_ON_PRIMITIVES$2 = fails$o(function () { nativeKeys(1); });
+var FAILS_ON_PRIMITIVES$2 = fails$u(function () { nativeKeys(1); });
 
 // `Object.keys` method
 // https://tc39.es/ecma262/#sec-object.keys
-$$2O({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$2 }, {
+$$2S({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$2 }, {
   keys: function keys(it) {
-    return nativeKeys(toObject$d(it));
+    return nativeKeys(toObject$f(it));
   }
 });
 
-var $$2N = _export;
-var DESCRIPTORS$c = descriptors;
-var FORCED$c = objectPrototypeAccessorsForced;
-var toObject$c = toObject$w;
-var toPrimitive$3 = toPrimitive$b;
+var $$2R = _export;
+var DESCRIPTORS$d = descriptors;
+var FORCED$d = objectPrototypeAccessorsForced;
+var toObject$e = toObject$z;
+var toPropertyKey$4 = toPropertyKey$9;
 var getPrototypeOf$7 = objectGetPrototypeOf$1;
 var getOwnPropertyDescriptor$5 = objectGetOwnPropertyDescriptor.f;
 
 // `Object.prototype.__lookupGetter__` method
 // https://tc39.es/ecma262/#sec-object.prototype.__lookupGetter__
-if (DESCRIPTORS$c) {
-  $$2N({ target: 'Object', proto: true, forced: FORCED$c }, {
+if (DESCRIPTORS$d) {
+  $$2R({ target: 'Object', proto: true, forced: FORCED$d }, {
     __lookupGetter__: function __lookupGetter__(P) {
-      var O = toObject$c(this);
-      var key = toPrimitive$3(P, true);
+      var O = toObject$e(this);
+      var key = toPropertyKey$4(P);
       var desc;
       do {
         if (desc = getOwnPropertyDescriptor$5(O, key)) return desc.get;
@@ -5340,21 +5719,21 @@ if (DESCRIPTORS$c) {
   });
 }
 
-var $$2M = _export;
-var DESCRIPTORS$b = descriptors;
-var FORCED$b = objectPrototypeAccessorsForced;
-var toObject$b = toObject$w;
-var toPrimitive$2 = toPrimitive$b;
+var $$2Q = _export;
+var DESCRIPTORS$c = descriptors;
+var FORCED$c = objectPrototypeAccessorsForced;
+var toObject$d = toObject$z;
+var toPropertyKey$3 = toPropertyKey$9;
 var getPrototypeOf$6 = objectGetPrototypeOf$1;
 var getOwnPropertyDescriptor$4 = objectGetOwnPropertyDescriptor.f;
 
 // `Object.prototype.__lookupSetter__` method
 // https://tc39.es/ecma262/#sec-object.prototype.__lookupSetter__
-if (DESCRIPTORS$b) {
-  $$2M({ target: 'Object', proto: true, forced: FORCED$b }, {
+if (DESCRIPTORS$c) {
+  $$2Q({ target: 'Object', proto: true, forced: FORCED$c }, {
     __lookupSetter__: function __lookupSetter__(P) {
-      var O = toObject$b(this);
-      var key = toPrimitive$2(P, true);
+      var O = toObject$d(this);
+      var key = toPropertyKey$3(P);
       var desc;
       do {
         if (desc = getOwnPropertyDescriptor$4(O, key)) return desc.set;
@@ -5363,53 +5742,53 @@ if (DESCRIPTORS$b) {
   });
 }
 
-var $$2L = _export;
+var $$2P = _export;
 var isObject$f = isObject$B;
 var onFreeze$1 = internalMetadata.exports.onFreeze;
 var FREEZING$2 = freezing;
-var fails$n = fails$X;
+var fails$t = fails$15;
 
 // eslint-disable-next-line es/no-object-preventextensions -- safe
 var $preventExtensions = Object.preventExtensions;
-var FAILS_ON_PRIMITIVES$1 = fails$n(function () { $preventExtensions(1); });
+var FAILS_ON_PRIMITIVES$1 = fails$t(function () { $preventExtensions(1); });
 
 // `Object.preventExtensions` method
 // https://tc39.es/ecma262/#sec-object.preventextensions
-$$2L({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$1, sham: !FREEZING$2 }, {
+$$2P({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$1, sham: !FREEZING$2 }, {
   preventExtensions: function preventExtensions(it) {
     return $preventExtensions && isObject$f(it) ? $preventExtensions(onFreeze$1(it)) : it;
   }
 });
 
-var $$2K = _export;
+var $$2O = _export;
 var isObject$e = isObject$B;
 var onFreeze = internalMetadata.exports.onFreeze;
 var FREEZING$1 = freezing;
-var fails$m = fails$X;
+var fails$s = fails$15;
 
 // eslint-disable-next-line es/no-object-seal -- safe
 var $seal = Object.seal;
-var FAILS_ON_PRIMITIVES = fails$m(function () { $seal(1); });
+var FAILS_ON_PRIMITIVES = fails$s(function () { $seal(1); });
 
 // `Object.seal` method
 // https://tc39.es/ecma262/#sec-object.seal
-$$2K({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING$1 }, {
+$$2O({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING$1 }, {
   seal: function seal(it) {
     return $seal && isObject$e(it) ? $seal(onFreeze(it)) : it;
   }
 });
 
-var $$2J = _export;
+var $$2N = _export;
 var setPrototypeOf$2 = objectSetPrototypeOf$1;
 
 // `Object.setPrototypeOf` method
 // https://tc39.es/ecma262/#sec-object.setprototypeof
-$$2J({ target: 'Object', stat: true }, {
+$$2N({ target: 'Object', stat: true }, {
   setPrototypeOf: setPrototypeOf$2
 });
 
 var TO_STRING_TAG_SUPPORT$1 = toStringTagSupport;
-var classof$5 = classof$b;
+var classof$5 = classof$c;
 
 // `Object.prototype.toString` method implementation
 // https://tc39.es/ecma262/#sec-object.prototype.tostring
@@ -5418,70 +5797,75 @@ var objectToString = TO_STRING_TAG_SUPPORT$1 ? {}.toString : function toString()
 };
 
 var TO_STRING_TAG_SUPPORT = toStringTagSupport;
-var redefine$7 = redefine$g.exports;
-var toString = objectToString;
+var redefine$a = redefine$l.exports;
+var toString$j = objectToString;
 
 // `Object.prototype.toString` method
 // https://tc39.es/ecma262/#sec-object.prototype.tostring
 if (!TO_STRING_TAG_SUPPORT) {
-  redefine$7(Object.prototype, 'toString', toString, { unsafe: true });
+  redefine$a(Object.prototype, 'toString', toString$j, { unsafe: true });
 }
 
-var $$2I = _export;
+var $$2M = _export;
 var $values = objectToArray.values;
 
 // `Object.values` method
 // https://tc39.es/ecma262/#sec-object.values
-$$2I({ target: 'Object', stat: true }, {
+$$2M({ target: 'Object', stat: true }, {
   values: function values(O) {
     return $values(O);
   }
 });
 
-var $$2H = _export;
-var parseFloatImplementation = numberParseFloat;
+var $$2L = _export;
+var $parseFloat = numberParseFloat;
 
 // `parseFloat` method
 // https://tc39.es/ecma262/#sec-parsefloat-string
-$$2H({ global: true, forced: parseFloat != parseFloatImplementation }, {
-  parseFloat: parseFloatImplementation
+$$2L({ global: true, forced: parseFloat != $parseFloat }, {
+  parseFloat: $parseFloat
 });
 
-var $$2G = _export;
-var parseIntImplementation = numberParseInt;
+var $$2K = _export;
+var $parseInt = numberParseInt;
 
 // `parseInt` method
 // https://tc39.es/ecma262/#sec-parseint-string-radix
-$$2G({ global: true, forced: parseInt != parseIntImplementation }, {
-  parseInt: parseIntImplementation
+$$2K({ global: true, forced: parseInt != $parseInt }, {
+  parseInt: $parseInt
 });
 
-var global$m = global$M;
+var global$r = global$R;
 
-var nativePromiseConstructor = global$m.Promise;
+var nativePromiseConstructor = global$r.Promise;
 
-var userAgent$3 = engineUserAgent;
+var userAgent$4 = engineUserAgent;
 
-var engineIsIos = /(?:iphone|ipod|ipad).*applewebkit/i.test(userAgent$3);
+var engineIsIos = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$4);
 
-var global$l = global$M;
-var fails$l = fails$X;
-var bind$i = functionBindContext;
+var global$q = global$R;
+var isCallable$d = isCallable$z;
+var fails$r = fails$15;
+var bind$k = functionBindContext;
 var html = html$2;
-var createElement = documentCreateElement$1;
+var createElement = documentCreateElement$2;
 var IS_IOS$1 = engineIsIos;
 var IS_NODE$3 = engineIsNode;
 
-var location = global$l.location;
-var set$1 = global$l.setImmediate;
-var clear = global$l.clearImmediate;
-var process$3 = global$l.process;
-var MessageChannel = global$l.MessageChannel;
-var Dispatch = global$l.Dispatch;
+var set$1 = global$q.setImmediate;
+var clear = global$q.clearImmediate;
+var process$3 = global$q.process;
+var MessageChannel = global$q.MessageChannel;
+var Dispatch = global$q.Dispatch;
 var counter = 0;
 var queue = {};
 var ONREADYSTATECHANGE = 'onreadystatechange';
-var defer, channel, port;
+var location, defer, channel, port;
+
+try {
+  // Deno throws a ReferenceError on `location` access without `--location` flag
+  location = global$q.location;
+} catch (error) { /* empty */ }
 
 var run = function (id) {
   // eslint-disable-next-line no-prototype-builtins -- safe
@@ -5504,18 +5888,19 @@ var listener = function (event) {
 
 var post = function (id) {
   // old engines have not location.origin
-  global$l.postMessage(id + '', location.protocol + '//' + location.host);
+  global$q.postMessage(String(id), location.protocol + '//' + location.host);
 };
 
 // Node.js 0.9+ & IE10+ has setImmediate, otherwise:
 if (!set$1 || !clear) {
   set$1 = function setImmediate(fn) {
     var args = [];
+    var argumentsLength = arguments.length;
     var i = 1;
-    while (arguments.length > i) args.push(arguments[i++]);
+    while (argumentsLength > i) args.push(arguments[i++]);
     queue[++counter] = function () {
       // eslint-disable-next-line no-new-func -- spec requirement
-      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);
+      (isCallable$d(fn) ? fn : Function(fn)).apply(undefined, args);
     };
     defer(counter);
     return counter;
@@ -5539,18 +5924,18 @@ if (!set$1 || !clear) {
     channel = new MessageChannel();
     port = channel.port2;
     channel.port1.onmessage = listener;
-    defer = bind$i(port.postMessage, port, 1);
+    defer = bind$k(port.postMessage, port, 1);
   // Browsers with postMessage, skip WebWorkers
   // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
   } else if (
-    global$l.addEventListener &&
-    typeof postMessage == 'function' &&
-    !global$l.importScripts &&
+    global$q.addEventListener &&
+    isCallable$d(global$q.postMessage) &&
+    !global$q.importScripts &&
     location && location.protocol !== 'file:' &&
-    !fails$l(post)
+    !fails$r(post)
   ) {
     defer = post;
-    global$l.addEventListener('message', listener, false);
+    global$q.addEventListener('message', listener, false);
   // IE8-
   } else if (ONREADYSTATECHANGE in createElement('script')) {
     defer = function (id) {
@@ -5572,23 +5957,29 @@ var task$2 = {
   clear: clear
 };
 
+var userAgent$3 = engineUserAgent;
+var global$p = global$R;
+
+var engineIsIosPebble = /ipad|iphone|ipod/i.test(userAgent$3) && global$p.Pebble !== undefined;
+
 var userAgent$2 = engineUserAgent;
 
 var engineIsWebosWebkit = /web0s(?!.*chrome)/i.test(userAgent$2);
 
-var global$k = global$M;
+var global$o = global$R;
 var getOwnPropertyDescriptor$3 = objectGetOwnPropertyDescriptor.f;
 var macrotask = task$2.set;
 var IS_IOS = engineIsIos;
+var IS_IOS_PEBBLE = engineIsIosPebble;
 var IS_WEBOS_WEBKIT = engineIsWebosWebkit;
 var IS_NODE$2 = engineIsNode;
 
-var MutationObserver = global$k.MutationObserver || global$k.WebKitMutationObserver;
-var document$2 = global$k.document;
-var process$2 = global$k.process;
-var Promise$4 = global$k.Promise;
+var MutationObserver = global$o.MutationObserver || global$o.WebKitMutationObserver;
+var document$2 = global$o.document;
+var process$2 = global$o.process;
+var Promise$4 = global$o.Promise;
 // Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`
-var queueMicrotaskDescriptor = getOwnPropertyDescriptor$3(global$k, 'queueMicrotask');
+var queueMicrotaskDescriptor = getOwnPropertyDescriptor$3(global$o, 'queueMicrotask');
 var queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;
 
 var flush, head, last, notify$1, toggle, node, promise, then;
@@ -5622,7 +6013,7 @@ if (!queueMicrotask) {
       node.data = toggle = !toggle;
     };
   // environments with maybe non-completely correct, but existent Promise
-  } else if (Promise$4 && Promise$4.resolve) {
+  } else if (!IS_IOS_PEBBLE && Promise$4 && Promise$4.resolve) {
     // Promise.resolve without an argument throws an error in LG WebOS 2
     promise = Promise$4.resolve(undefined);
     // workaround of WebKit ~ iOS Safari 10.1 bug
@@ -5645,7 +6036,7 @@ if (!queueMicrotask) {
   } else {
     notify$1 = function () {
       // strange IE + webpack dev server bug - use .call(global)
-      macrotask.call(global$k, flush);
+      macrotask.call(global$o, flush);
     };
   }
 }
@@ -5661,7 +6052,7 @@ var microtask$2 = queueMicrotask || function (fn) {
 
 var newPromiseCapability$2 = {};
 
-var aFunction$J = aFunction$S;
+var aCallable$G = aCallable$Q;
 
 var PromiseCapability = function (C) {
   var resolve, reject;
@@ -5670,8 +6061,8 @@ var PromiseCapability = function (C) {
     resolve = $$resolve;
     reject = $$reject;
   });
-  this.resolve = aFunction$J(resolve);
-  this.reject = aFunction$J(reject);
+  this.resolve = aCallable$G(resolve);
+  this.reject = aCallable$G(reject);
 };
 
 // `NewPromiseCapability` abstract operation
@@ -5680,12 +6071,12 @@ newPromiseCapability$2.f = function (C) {
   return new PromiseCapability(C);
 };
 
-var anObject$1m = anObject$1z;
+var anObject$1o = anObject$1C;
 var isObject$d = isObject$B;
 var newPromiseCapability$1 = newPromiseCapability$2;
 
 var promiseResolve$2 = function (C, x) {
-  anObject$1m(C);
+  anObject$1o(C);
   if (isObject$d(x) && x.constructor === C) return x;
   var promiseCapability = newPromiseCapability$1.f(C);
   var resolve = promiseCapability.resolve;
@@ -5693,10 +6084,10 @@ var promiseResolve$2 = function (C, x) {
   return promiseCapability.promise;
 };
 
-var global$j = global$M;
+var global$n = global$R;
 
 var hostReportErrors$2 = function (a, b) {
-  var console = global$j.console;
+  var console = global$n.console;
   if (console && console.error) {
     arguments.length === 1 ? console.error(a) : console.error(a, b);
   }
@@ -5712,50 +6103,51 @@ var perform$4 = function (exec) {
 
 var engineIsBrowser = typeof window == 'object';
 
-var $$2F = _export;
-var global$i = global$M;
-var getBuiltIn$m = getBuiltIn$t;
+var $$2J = _export;
+var global$m = global$R;
+var getBuiltIn$n = getBuiltIn$w;
 var NativePromise$1 = nativePromiseConstructor;
-var redefine$6 = redefine$g.exports;
-var redefineAll$6 = redefineAll$9;
+var redefine$9 = redefine$l.exports;
+var redefineAll$7 = redefineAll$a;
 var setPrototypeOf$1 = objectSetPrototypeOf$1;
 var setToStringTag$3 = setToStringTag$b;
 var setSpecies$3 = setSpecies$7;
+var aCallable$F = aCallable$Q;
+var isCallable$c = isCallable$z;
 var isObject$c = isObject$B;
-var aFunction$I = aFunction$S;
 var anInstance$7 = anInstance$b;
-var inspectSource = inspectSource$3;
+var inspectSource = inspectSource$4;
 var iterate$D = iterate$I;
 var checkCorrectnessOfIteration$1 = checkCorrectnessOfIteration$4;
-var speciesConstructor$g = speciesConstructor$i;
+var speciesConstructor$d = speciesConstructor$f;
 var task$1 = task$2.set;
 var microtask$1 = microtask$2;
 var promiseResolve$1 = promiseResolve$2;
 var hostReportErrors$1 = hostReportErrors$2;
 var newPromiseCapabilityModule$3 = newPromiseCapability$2;
 var perform$3 = perform$4;
-var InternalStateModule$d = internalState;
+var InternalStateModule$e = internalState;
 var isForced$1 = isForced_1;
-var wellKnownSymbol$h = wellKnownSymbol$C;
+var wellKnownSymbol$k = wellKnownSymbol$G;
 var IS_BROWSER = engineIsBrowser;
 var IS_NODE$1 = engineIsNode;
 var V8_VERSION = engineV8Version;
 
-var SPECIES$1 = wellKnownSymbol$h('species');
+var SPECIES$1 = wellKnownSymbol$k('species');
 var PROMISE = 'Promise';
-var getInternalState$b = InternalStateModule$d.get;
-var setInternalState$d = InternalStateModule$d.set;
-var getInternalPromiseState = InternalStateModule$d.getterFor(PROMISE);
+var getInternalState$e = InternalStateModule$e.get;
+var setInternalState$e = InternalStateModule$e.set;
+var getInternalPromiseState = InternalStateModule$e.getterFor(PROMISE);
 var NativePromisePrototype = NativePromise$1 && NativePromise$1.prototype;
 var PromiseConstructor = NativePromise$1;
 var PromiseConstructorPrototype = NativePromisePrototype;
-var TypeError$1 = global$i.TypeError;
-var document$1 = global$i.document;
-var process$1 = global$i.process;
+var TypeError$1 = global$m.TypeError;
+var document$1 = global$m.document;
+var process$1 = global$m.process;
 var newPromiseCapability = newPromiseCapabilityModule$3.f;
 var newGenericPromiseCapability = newPromiseCapability;
-var DISPATCH_EVENT = !!(document$1 && document$1.createEvent && global$i.dispatchEvent);
-var NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';
+var DISPATCH_EVENT = !!(document$1 && document$1.createEvent && global$m.dispatchEvent);
+var NATIVE_REJECTION_EVENT = isCallable$c(global$m.PromiseRejectionEvent);
 var UNHANDLED_REJECTION = 'unhandledrejection';
 var REJECTION_HANDLED = 'rejectionhandled';
 var PENDING = 0;
@@ -5766,8 +6158,9 @@ var UNHANDLED = 2;
 var SUBCLASSING = false;
 var Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;
 
-var FORCED$a = isForced$1(PROMISE, function () {
-  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);
+var FORCED$b = isForced$1(PROMISE, function () {
+  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(PromiseConstructor);
+  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(PromiseConstructor);
   // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
   // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
   // We can't detect it synchronously, so just check versions
@@ -5775,7 +6168,7 @@ var FORCED$a = isForced$1(PROMISE, function () {
   // We can't use @@species feature detection in V8 since it causes
   // deoptimization and performance degradation
   // https://github.com/zloirock/core-js/issues/679
-  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;
+  if (V8_VERSION >= 51 && /native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) return false;
   // Detect correctness of subclassing with @@species support
   var promise = new PromiseConstructor(function (resolve) { resolve(1); });
   var FakePromise = function (exec) {
@@ -5789,14 +6182,14 @@ var FORCED$a = isForced$1(PROMISE, function () {
   return !GLOBAL_CORE_JS_PROMISE && IS_BROWSER && !NATIVE_REJECTION_EVENT;
 });
 
-var INCORRECT_ITERATION = FORCED$a || !checkCorrectnessOfIteration$1(function (iterable) {
+var INCORRECT_ITERATION = FORCED$b || !checkCorrectnessOfIteration$1(function (iterable) {
   PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });
 });
 
 // helpers
 var isThenable = function (it) {
   var then;
-  return isObject$c(it) && typeof (then = it.then) == 'function' ? then : false;
+  return isObject$c(it) && isCallable$c(then = it.then) ? then : false;
 };
 
 var notify = function (state, isReject) {
@@ -5854,14 +6247,14 @@ var dispatchEvent = function (name, promise, reason) {
     event.promise = promise;
     event.reason = reason;
     event.initEvent(name, false, true);
-    global$i.dispatchEvent(event);
+    global$m.dispatchEvent(event);
   } else event = { promise: promise, reason: reason };
-  if (!NATIVE_REJECTION_EVENT && (handler = global$i['on' + name])) handler(event);
+  if (!NATIVE_REJECTION_EVENT && (handler = global$m['on' + name])) handler(event);
   else if (name === UNHANDLED_REJECTION) hostReportErrors$1('Unhandled promise rejection', reason);
 };
 
 var onUnhandled = function (state) {
-  task$1.call(global$i, function () {
+  task$1.call(global$m, function () {
     var promise = state.facade;
     var value = state.value;
     var IS_UNHANDLED = isUnhandled(state);
@@ -5884,7 +6277,7 @@ var isUnhandled = function (state) {
 };
 
 var onHandleUnhandled = function (state) {
-  task$1.call(global$i, function () {
+  task$1.call(global$m, function () {
     var promise = state.facade;
     if (IS_NODE$1) {
       process$1.emit('rejectionHandled', promise);
@@ -5892,7 +6285,7 @@ var onHandleUnhandled = function (state) {
   });
 };
 
-var bind$h = function (fn, state, unwrap) {
+var bind$j = function (fn, state, unwrap) {
   return function (value) {
     fn(state, value, unwrap);
   };
@@ -5919,8 +6312,8 @@ var internalResolve = function (state, value, unwrap) {
         var wrapper = { done: false };
         try {
           then.call(value,
-            bind$h(internalResolve, wrapper, state),
-            bind$h(internalReject, wrapper, state)
+            bind$j(internalResolve, wrapper, state),
+            bind$j(internalReject, wrapper, state)
           );
         } catch (error) {
           internalReject(wrapper, error, state);
@@ -5937,15 +6330,15 @@ var internalResolve = function (state, value, unwrap) {
 };
 
 // constructor polyfill
-if (FORCED$a) {
+if (FORCED$b) {
   // 25.4.3.1 Promise(executor)
   PromiseConstructor = function Promise(executor) {
     anInstance$7(this, PromiseConstructor, PROMISE);
-    aFunction$I(executor);
+    aCallable$F(executor);
     Internal.call(this);
-    var state = getInternalState$b(this);
+    var state = getInternalState$e(this);
     try {
-      executor(bind$h(internalResolve, state), bind$h(internalReject, state));
+      executor(bind$j(internalResolve, state), bind$j(internalReject, state));
     } catch (error) {
       internalReject(state, error);
     }
@@ -5953,7 +6346,7 @@ if (FORCED$a) {
   PromiseConstructorPrototype = PromiseConstructor.prototype;
   // eslint-disable-next-line no-unused-vars -- required for `.length`
   Internal = function Promise(executor) {
-    setInternalState$d(this, {
+    setInternalState$e(this, {
       type: PROMISE,
       done: false,
       notified: false,
@@ -5964,14 +6357,14 @@ if (FORCED$a) {
       value: undefined
     });
   };
-  Internal.prototype = redefineAll$6(PromiseConstructorPrototype, {
+  Internal.prototype = redefineAll$7(PromiseConstructorPrototype, {
     // `Promise.prototype.then` method
     // https://tc39.es/ecma262/#sec-promise.prototype.then
     then: function then(onFulfilled, onRejected) {
       var state = getInternalPromiseState(this);
-      var reaction = newPromiseCapability(speciesConstructor$g(this, PromiseConstructor));
-      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
-      reaction.fail = typeof onRejected == 'function' && onRejected;
+      var reaction = newPromiseCapability(speciesConstructor$d(this, PromiseConstructor));
+      reaction.ok = isCallable$c(onFulfilled) ? onFulfilled : true;
+      reaction.fail = isCallable$c(onRejected) && onRejected;
       reaction.domain = IS_NODE$1 ? process$1.domain : undefined;
       state.parent = true;
       state.reactions.push(reaction);
@@ -5986,10 +6379,10 @@ if (FORCED$a) {
   });
   OwnPromiseCapability = function () {
     var promise = new Internal();
-    var state = getInternalState$b(promise);
+    var state = getInternalState$e(promise);
     this.promise = promise;
-    this.resolve = bind$h(internalResolve, state);
-    this.reject = bind$h(internalReject, state);
+    this.resolve = bind$j(internalResolve, state);
+    this.reject = bind$j(internalReject, state);
   };
   newPromiseCapabilityModule$3.f = newPromiseCapability = function (C) {
     return C === PromiseConstructor || C === PromiseWrapper
@@ -5997,12 +6390,12 @@ if (FORCED$a) {
       : newGenericPromiseCapability(C);
   };
 
-  if (typeof NativePromise$1 == 'function' && NativePromisePrototype !== Object.prototype) {
+  if (isCallable$c(NativePromise$1) && NativePromisePrototype !== Object.prototype) {
     nativeThen = NativePromisePrototype.then;
 
     if (!SUBCLASSING) {
       // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs
-      redefine$6(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {
+      redefine$9(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {
         var that = this;
         return new PromiseConstructor(function (resolve, reject) {
           nativeThen.call(that, resolve, reject);
@@ -6011,7 +6404,7 @@ if (FORCED$a) {
       }, { unsafe: true });
 
       // makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`
-      redefine$6(NativePromisePrototype, 'catch', PromiseConstructorPrototype['catch'], { unsafe: true });
+      redefine$9(NativePromisePrototype, 'catch', PromiseConstructorPrototype['catch'], { unsafe: true });
     }
 
     // make `.constructor === Promise` work for native promise-based APIs
@@ -6026,17 +6419,17 @@ if (FORCED$a) {
   }
 }
 
-$$2F({ global: true, wrap: true, forced: FORCED$a }, {
+$$2J({ global: true, wrap: true, forced: FORCED$b }, {
   Promise: PromiseConstructor
 });
 
 setToStringTag$3(PromiseConstructor, PROMISE, false);
 setSpecies$3(PROMISE);
 
-PromiseWrapper = getBuiltIn$m(PROMISE);
+PromiseWrapper = getBuiltIn$n(PROMISE);
 
 // statics
-$$2F({ target: PROMISE, stat: true, forced: FORCED$a }, {
+$$2J({ target: PROMISE, stat: true, forced: FORCED$b }, {
   // `Promise.reject` method
   // https://tc39.es/ecma262/#sec-promise.reject
   reject: function reject(r) {
@@ -6046,7 +6439,7 @@ $$2F({ target: PROMISE, stat: true, forced: FORCED$a }, {
   }
 });
 
-$$2F({ target: PROMISE, stat: true, forced: FORCED$a }, {
+$$2J({ target: PROMISE, stat: true, forced: FORCED$b }, {
   // `Promise.resolve` method
   // https://tc39.es/ecma262/#sec-promise.resolve
   resolve: function resolve(x) {
@@ -6054,7 +6447,7 @@ $$2F({ target: PROMISE, stat: true, forced: FORCED$a }, {
   }
 });
 
-$$2F({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {
+$$2J({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {
   // `Promise.all` method
   // https://tc39.es/ecma262/#sec-promise.all
   all: function all(iterable) {
@@ -6063,7 +6456,7 @@ $$2F({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {
     var resolve = capability.resolve;
     var reject = capability.reject;
     var result = perform$3(function () {
-      var $promiseResolve = aFunction$I(C.resolve);
+      var $promiseResolve = aCallable$F(C.resolve);
       var values = [];
       var counter = 0;
       var remaining = 1;
@@ -6091,7 +6484,7 @@ $$2F({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {
     var capability = newPromiseCapability(C);
     var reject = capability.reject;
     var result = perform$3(function () {
-      var $promiseResolve = aFunction$I(C.resolve);
+      var $promiseResolve = aCallable$F(C.resolve);
       iterate$D(iterable, function (promise) {
         $promiseResolve.call(C, promise).then(capability.resolve, reject);
       });
@@ -6101,22 +6494,22 @@ $$2F({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {
   }
 });
 
-var $$2E = _export;
-var aFunction$H = aFunction$S;
+var $$2I = _export;
+var aCallable$E = aCallable$Q;
 var newPromiseCapabilityModule$2 = newPromiseCapability$2;
 var perform$2 = perform$4;
 var iterate$C = iterate$I;
 
 // `Promise.allSettled` method
 // https://tc39.es/ecma262/#sec-promise.allsettled
-$$2E({ target: 'Promise', stat: true }, {
+$$2I({ target: 'Promise', stat: true }, {
   allSettled: function allSettled(iterable) {
     var C = this;
     var capability = newPromiseCapabilityModule$2.f(C);
     var resolve = capability.resolve;
     var reject = capability.reject;
     var result = perform$2(function () {
-      var promiseResolve = aFunction$H(C.resolve);
+      var promiseResolve = aCallable$E(C.resolve);
       var values = [];
       var counter = 0;
       var remaining = 1;
@@ -6144,9 +6537,9 @@ $$2E({ target: 'Promise', stat: true }, {
   }
 });
 
-var $$2D = _export;
-var aFunction$G = aFunction$S;
-var getBuiltIn$l = getBuiltIn$t;
+var $$2H = _export;
+var aCallable$D = aCallable$Q;
+var getBuiltIn$m = getBuiltIn$w;
 var newPromiseCapabilityModule$1 = newPromiseCapability$2;
 var perform$1 = perform$4;
 var iterate$B = iterate$I;
@@ -6155,14 +6548,14 @@ var PROMISE_ANY_ERROR = 'No one promise resolved';
 
 // `Promise.any` method
 // https://tc39.es/ecma262/#sec-promise.any
-$$2D({ target: 'Promise', stat: true }, {
+$$2H({ target: 'Promise', stat: true }, {
   any: function any(iterable) {
     var C = this;
     var capability = newPromiseCapabilityModule$1.f(C);
     var resolve = capability.resolve;
     var reject = capability.reject;
     var result = perform$1(function () {
-      var promiseResolve = aFunction$G(C.resolve);
+      var promiseResolve = aCallable$D(C.resolve);
       var errors = [];
       var counter = 0;
       var remaining = 1;
@@ -6180,35 +6573,36 @@ $$2D({ target: 'Promise', stat: true }, {
           if (alreadyRejected || alreadyResolved) return;
           alreadyRejected = true;
           errors[index] = error;
-          --remaining || reject(new (getBuiltIn$l('AggregateError'))(errors, PROMISE_ANY_ERROR));
+          --remaining || reject(new (getBuiltIn$m('AggregateError'))(errors, PROMISE_ANY_ERROR));
         });
       });
-      --remaining || reject(new (getBuiltIn$l('AggregateError'))(errors, PROMISE_ANY_ERROR));
+      --remaining || reject(new (getBuiltIn$m('AggregateError'))(errors, PROMISE_ANY_ERROR));
     });
     if (result.error) reject(result.value);
     return capability.promise;
   }
 });
 
-var $$2C = _export;
+var $$2G = _export;
 var NativePromise = nativePromiseConstructor;
-var fails$k = fails$X;
-var getBuiltIn$k = getBuiltIn$t;
-var speciesConstructor$f = speciesConstructor$i;
+var fails$q = fails$15;
+var getBuiltIn$l = getBuiltIn$w;
+var isCallable$b = isCallable$z;
+var speciesConstructor$c = speciesConstructor$f;
 var promiseResolve = promiseResolve$2;
-var redefine$5 = redefine$g.exports;
+var redefine$8 = redefine$l.exports;
 
 // Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829
-var NON_GENERIC = !!NativePromise && fails$k(function () {
+var NON_GENERIC = !!NativePromise && fails$q(function () {
   NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });
 });
 
 // `Promise.prototype.finally` method
 // https://tc39.es/ecma262/#sec-promise.prototype.finally
-$$2C({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {
+$$2G({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {
   'finally': function (onFinally) {
-    var C = speciesConstructor$f(this, getBuiltIn$k('Promise'));
-    var isFunction = typeof onFinally == 'function';
+    var C = speciesConstructor$c(this, getBuiltIn$l('Promise'));
+    var isFunction = isCallable$b(onFinally);
     return this.then(
       isFunction ? function (x) {
         return promiseResolve(C, onFinally()).then(function () { return x; });
@@ -6221,68 +6615,68 @@ $$2C({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {
 });
 
 // makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`
-if (typeof NativePromise == 'function') {
-  var method = getBuiltIn$k('Promise').prototype['finally'];
+if (isCallable$b(NativePromise)) {
+  var method = getBuiltIn$l('Promise').prototype['finally'];
   if (NativePromise.prototype['finally'] !== method) {
-    redefine$5(NativePromise.prototype, 'finally', method, { unsafe: true });
+    redefine$8(NativePromise.prototype, 'finally', method, { unsafe: true });
   }
 }
 
-var $$2B = _export;
-var getBuiltIn$j = getBuiltIn$t;
-var aFunction$F = aFunction$S;
-var anObject$1l = anObject$1z;
-var fails$j = fails$X;
+var $$2F = _export;
+var getBuiltIn$k = getBuiltIn$w;
+var aCallable$C = aCallable$Q;
+var anObject$1n = anObject$1C;
+var fails$p = fails$15;
 
-var nativeApply = getBuiltIn$j('Reflect', 'apply');
+var nativeApply = getBuiltIn$k('Reflect', 'apply');
 var functionApply = Function.apply;
 
 // MS Edge argumentsList argument is optional
-var OPTIONAL_ARGUMENTS_LIST = !fails$j(function () {
+var OPTIONAL_ARGUMENTS_LIST = !fails$p(function () {
   nativeApply(function () { /* empty */ });
 });
 
 // `Reflect.apply` method
 // https://tc39.es/ecma262/#sec-reflect.apply
-$$2B({ target: 'Reflect', stat: true, forced: OPTIONAL_ARGUMENTS_LIST }, {
+$$2F({ target: 'Reflect', stat: true, forced: OPTIONAL_ARGUMENTS_LIST }, {
   apply: function apply(target, thisArgument, argumentsList) {
-    aFunction$F(target);
-    anObject$1l(argumentsList);
+    aCallable$C(target);
+    anObject$1n(argumentsList);
     return nativeApply
       ? nativeApply(target, thisArgument, argumentsList)
       : functionApply.call(target, thisArgument, argumentsList);
   }
 });
 
-var $$2A = _export;
-var getBuiltIn$i = getBuiltIn$t;
-var aFunction$E = aFunction$S;
-var anObject$1k = anObject$1z;
+var $$2E = _export;
+var getBuiltIn$j = getBuiltIn$w;
+var aConstructor$3 = aConstructor$5;
+var anObject$1m = anObject$1C;
 var isObject$b = isObject$B;
-var create$6 = objectCreate;
-var bind$g = functionBind;
-var fails$i = fails$X;
+var create$8 = objectCreate$1;
+var bind$i = functionBind;
+var fails$o = fails$15;
 
-var nativeConstruct = getBuiltIn$i('Reflect', 'construct');
+var nativeConstruct = getBuiltIn$j('Reflect', 'construct');
 
 // `Reflect.construct` method
 // https://tc39.es/ecma262/#sec-reflect.construct
 // MS Edge supports only 2 arguments and argumentsList argument is optional
 // FF Nightly sets third argument as `new.target`, but does not create `this` from it
-var NEW_TARGET_BUG = fails$i(function () {
+var NEW_TARGET_BUG = fails$o(function () {
   function F() { /* empty */ }
   return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);
 });
-var ARGS_BUG = !fails$i(function () {
+var ARGS_BUG = !fails$o(function () {
   nativeConstruct(function () { /* empty */ });
 });
-var FORCED$9 = NEW_TARGET_BUG || ARGS_BUG;
+var FORCED$a = NEW_TARGET_BUG || ARGS_BUG;
 
-$$2A({ target: 'Reflect', stat: true, forced: FORCED$9, sham: FORCED$9 }, {
+$$2E({ target: 'Reflect', stat: true, forced: FORCED$a, sham: FORCED$a }, {
   construct: function construct(Target, args /* , newTarget */) {
-    aFunction$E(Target);
-    anObject$1k(args);
-    var newTarget = arguments.length < 3 ? Target : aFunction$E(arguments[2]);
+    aConstructor$3(Target);
+    anObject$1m(args);
+    var newTarget = arguments.length < 3 ? Target : aConstructor$3(arguments[2]);
     if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);
     if (Target == newTarget) {
       // w/o altered newTarget, optimization for 0-4 arguments
@@ -6296,36 +6690,36 @@ $$2A({ target: 'Reflect', stat: true, forced: FORCED$9, sham: FORCED$9 }, {
       // w/o altered newTarget, lot of arguments case
       var $args = [null];
       $args.push.apply($args, args);
-      return new (bind$g.apply(Target, $args))();
+      return new (bind$i.apply(Target, $args))();
     }
     // with altered newTarget, not support built-in constructors
     var proto = newTarget.prototype;
-    var instance = create$6(isObject$b(proto) ? proto : Object.prototype);
+    var instance = create$8(isObject$b(proto) ? proto : Object.prototype);
     var result = Function.apply.call(Target, instance, args);
     return isObject$b(result) ? result : instance;
   }
 });
 
-var $$2z = _export;
-var DESCRIPTORS$a = descriptors;
-var anObject$1j = anObject$1z;
-var toPrimitive$1 = toPrimitive$b;
+var $$2D = _export;
+var DESCRIPTORS$b = descriptors;
+var anObject$1l = anObject$1C;
+var toPropertyKey$2 = toPropertyKey$9;
 var definePropertyModule$2 = objectDefineProperty;
-var fails$h = fails$X;
+var fails$n = fails$15;
 
 // MS Edge has broken Reflect.defineProperty - throwing instead of returning false
-var ERROR_INSTEAD_OF_FALSE = fails$h(function () {
+var ERROR_INSTEAD_OF_FALSE = fails$n(function () {
   // eslint-disable-next-line es/no-reflect -- required for testing
   Reflect.defineProperty(definePropertyModule$2.f({}, 1, { value: 1 }), 1, { value: 2 });
 });
 
 // `Reflect.defineProperty` method
 // https://tc39.es/ecma262/#sec-reflect.defineproperty
-$$2z({ target: 'Reflect', stat: true, forced: ERROR_INSTEAD_OF_FALSE, sham: !DESCRIPTORS$a }, {
+$$2D({ target: 'Reflect', stat: true, forced: ERROR_INSTEAD_OF_FALSE, sham: !DESCRIPTORS$b }, {
   defineProperty: function defineProperty(target, propertyKey, attributes) {
-    anObject$1j(target);
-    var key = toPrimitive$1(propertyKey, true);
-    anObject$1j(attributes);
+    anObject$1l(target);
+    var key = toPropertyKey$2(propertyKey);
+    anObject$1l(attributes);
     try {
       definePropertyModule$2.f(target, key, attributes);
       return true;
@@ -6335,23 +6729,29 @@ $$2z({ target: 'Reflect', stat: true, forced: ERROR_INSTEAD_OF_FALSE, sham: !DES
   }
 });
 
-var $$2y = _export;
-var anObject$1i = anObject$1z;
+var $$2C = _export;
+var anObject$1k = anObject$1C;
 var getOwnPropertyDescriptor$2 = objectGetOwnPropertyDescriptor.f;
 
 // `Reflect.deleteProperty` method
 // https://tc39.es/ecma262/#sec-reflect.deleteproperty
-$$2y({ target: 'Reflect', stat: true }, {
+$$2C({ target: 'Reflect', stat: true }, {
   deleteProperty: function deleteProperty(target, propertyKey) {
-    var descriptor = getOwnPropertyDescriptor$2(anObject$1i(target), propertyKey);
+    var descriptor = getOwnPropertyDescriptor$2(anObject$1k(target), propertyKey);
     return descriptor && !descriptor.configurable ? false : delete target[propertyKey];
   }
 });
 
-var $$2x = _export;
+var has$6 = has$m;
+
+var isDataDescriptor$2 = function (descriptor) {
+  return descriptor !== undefined && (has$6(descriptor, 'value') || has$6(descriptor, 'writable'));
+};
+
+var $$2B = _export;
 var isObject$a = isObject$B;
-var anObject$1h = anObject$1z;
-var has$7 = has$n;
+var anObject$1j = anObject$1C;
+var isDataDescriptor$1 = isDataDescriptor$2;
 var getOwnPropertyDescriptorModule$3 = objectGetOwnPropertyDescriptor;
 var getPrototypeOf$5 = objectGetPrototypeOf$1;
 
@@ -6360,91 +6760,90 @@ var getPrototypeOf$5 = objectGetPrototypeOf$1;
 function get(target, propertyKey /* , receiver */) {
   var receiver = arguments.length < 3 ? target : arguments[2];
   var descriptor, prototype;
-  if (anObject$1h(target) === receiver) return target[propertyKey];
-  if (descriptor = getOwnPropertyDescriptorModule$3.f(target, propertyKey)) return has$7(descriptor, 'value')
+  if (anObject$1j(target) === receiver) return target[propertyKey];
+  descriptor = getOwnPropertyDescriptorModule$3.f(target, propertyKey);
+  if (descriptor) return isDataDescriptor$1(descriptor)
     ? descriptor.value
-    : descriptor.get === undefined
-      ? undefined
-      : descriptor.get.call(receiver);
+    : descriptor.get === undefined ? undefined : descriptor.get.call(receiver);
   if (isObject$a(prototype = getPrototypeOf$5(target))) return get(prototype, propertyKey, receiver);
 }
 
-$$2x({ target: 'Reflect', stat: true }, {
+$$2B({ target: 'Reflect', stat: true }, {
   get: get
 });
 
-var $$2w = _export;
-var DESCRIPTORS$9 = descriptors;
-var anObject$1g = anObject$1z;
+var $$2A = _export;
+var DESCRIPTORS$a = descriptors;
+var anObject$1i = anObject$1C;
 var getOwnPropertyDescriptorModule$2 = objectGetOwnPropertyDescriptor;
 
 // `Reflect.getOwnPropertyDescriptor` method
 // https://tc39.es/ecma262/#sec-reflect.getownpropertydescriptor
-$$2w({ target: 'Reflect', stat: true, sham: !DESCRIPTORS$9 }, {
+$$2A({ target: 'Reflect', stat: true, sham: !DESCRIPTORS$a }, {
   getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {
-    return getOwnPropertyDescriptorModule$2.f(anObject$1g(target), propertyKey);
+    return getOwnPropertyDescriptorModule$2.f(anObject$1i(target), propertyKey);
   }
 });
 
-var $$2v = _export;
-var anObject$1f = anObject$1z;
+var $$2z = _export;
+var anObject$1h = anObject$1C;
 var objectGetPrototypeOf = objectGetPrototypeOf$1;
 var CORRECT_PROTOTYPE_GETTER = correctPrototypeGetter;
 
 // `Reflect.getPrototypeOf` method
 // https://tc39.es/ecma262/#sec-reflect.getprototypeof
-$$2v({ target: 'Reflect', stat: true, sham: !CORRECT_PROTOTYPE_GETTER }, {
+$$2z({ target: 'Reflect', stat: true, sham: !CORRECT_PROTOTYPE_GETTER }, {
   getPrototypeOf: function getPrototypeOf(target) {
-    return objectGetPrototypeOf(anObject$1f(target));
+    return objectGetPrototypeOf(anObject$1h(target));
   }
 });
 
-var $$2u = _export;
+var $$2y = _export;
 
 // `Reflect.has` method
 // https://tc39.es/ecma262/#sec-reflect.has
-$$2u({ target: 'Reflect', stat: true }, {
+$$2y({ target: 'Reflect', stat: true }, {
   has: function has(target, propertyKey) {
     return propertyKey in target;
   }
 });
 
-var $$2t = _export;
-var anObject$1e = anObject$1z;
+var $$2x = _export;
+var anObject$1g = anObject$1C;
 
 // eslint-disable-next-line es/no-object-isextensible -- safe
 var objectIsExtensible = Object.isExtensible;
 
 // `Reflect.isExtensible` method
 // https://tc39.es/ecma262/#sec-reflect.isextensible
-$$2t({ target: 'Reflect', stat: true }, {
+$$2x({ target: 'Reflect', stat: true }, {
   isExtensible: function isExtensible(target) {
-    anObject$1e(target);
+    anObject$1g(target);
     return objectIsExtensible ? objectIsExtensible(target) : true;
   }
 });
 
-var $$2s = _export;
+var $$2w = _export;
 var ownKeys = ownKeys$3;
 
 // `Reflect.ownKeys` method
 // https://tc39.es/ecma262/#sec-reflect.ownkeys
-$$2s({ target: 'Reflect', stat: true }, {
+$$2w({ target: 'Reflect', stat: true }, {
   ownKeys: ownKeys
 });
 
-var $$2r = _export;
-var getBuiltIn$h = getBuiltIn$t;
-var anObject$1d = anObject$1z;
+var $$2v = _export;
+var getBuiltIn$i = getBuiltIn$w;
+var anObject$1f = anObject$1C;
 var FREEZING = freezing;
 
 // `Reflect.preventExtensions` method
 // https://tc39.es/ecma262/#sec-reflect.preventextensions
-$$2r({ target: 'Reflect', stat: true, sham: !FREEZING }, {
+$$2v({ target: 'Reflect', stat: true, sham: !FREEZING }, {
   preventExtensions: function preventExtensions(target) {
-    anObject$1d(target);
+    anObject$1f(target);
     try {
-      var objectPreventExtensions = getBuiltIn$h('Object', 'preventExtensions');
+      var objectPreventExtensions = getBuiltIn$i('Object', 'preventExtensions');
       if (objectPreventExtensions) objectPreventExtensions(target);
       return true;
     } catch (error) {
@@ -6453,11 +6852,11 @@ $$2r({ target: 'Reflect', stat: true, sham: !FREEZING }, {
   }
 });
 
-var $$2q = _export;
-var anObject$1c = anObject$1z;
+var $$2u = _export;
+var anObject$1e = anObject$1C;
 var isObject$9 = isObject$B;
-var has$6 = has$n;
-var fails$g = fails$X;
+var isDataDescriptor = isDataDescriptor$2;
+var fails$m = fails$15;
 var definePropertyModule$1 = objectDefineProperty;
 var getOwnPropertyDescriptorModule$1 = objectGetOwnPropertyDescriptor;
 var getPrototypeOf$4 = objectGetPrototypeOf$1;
@@ -6467,49 +6866,51 @@ var createPropertyDescriptor$2 = createPropertyDescriptor$9;
 // https://tc39.es/ecma262/#sec-reflect.set
 function set(target, propertyKey, V /* , receiver */) {
   var receiver = arguments.length < 4 ? target : arguments[3];
-  var ownDescriptor = getOwnPropertyDescriptorModule$1.f(anObject$1c(target), propertyKey);
-  var existingDescriptor, prototype;
+  var ownDescriptor = getOwnPropertyDescriptorModule$1.f(anObject$1e(target), propertyKey);
+  var existingDescriptor, prototype, setter;
   if (!ownDescriptor) {
     if (isObject$9(prototype = getPrototypeOf$4(target))) {
       return set(prototype, propertyKey, V, receiver);
     }
     ownDescriptor = createPropertyDescriptor$2(0);
   }
-  if (has$6(ownDescriptor, 'value')) {
+  if (isDataDescriptor(ownDescriptor)) {
     if (ownDescriptor.writable === false || !isObject$9(receiver)) return false;
     if (existingDescriptor = getOwnPropertyDescriptorModule$1.f(receiver, propertyKey)) {
       if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;
       existingDescriptor.value = V;
       definePropertyModule$1.f(receiver, propertyKey, existingDescriptor);
     } else definePropertyModule$1.f(receiver, propertyKey, createPropertyDescriptor$2(0, V));
-    return true;
-  }
-  return ownDescriptor.set === undefined ? false : (ownDescriptor.set.call(receiver, V), true);
+  } else {
+    setter = ownDescriptor.set;
+    if (setter === undefined) return false;
+    setter.call(receiver, V);
+  } return true;
 }
 
 // MS Edge 17-18 Reflect.set allows setting the property to object
 // with non-writable property on the prototype
-var MS_EDGE_BUG = fails$g(function () {
+var MS_EDGE_BUG = fails$m(function () {
   var Constructor = function () { /* empty */ };
   var object = definePropertyModule$1.f(new Constructor(), 'a', { configurable: true });
   // eslint-disable-next-line es/no-reflect -- required for testing
   return Reflect.set(Constructor.prototype, 'a', 1, object) !== false;
 });
 
-$$2q({ target: 'Reflect', stat: true, forced: MS_EDGE_BUG }, {
+$$2u({ target: 'Reflect', stat: true, forced: MS_EDGE_BUG }, {
   set: set
 });
 
-var $$2p = _export;
-var anObject$1b = anObject$1z;
+var $$2t = _export;
+var anObject$1d = anObject$1C;
 var aPossiblePrototype = aPossiblePrototype$2;
 var objectSetPrototypeOf = objectSetPrototypeOf$1;
 
 // `Reflect.setPrototypeOf` method
 // https://tc39.es/ecma262/#sec-reflect.setprototypeof
-if (objectSetPrototypeOf) $$2p({ target: 'Reflect', stat: true }, {
+if (objectSetPrototypeOf) $$2t({ target: 'Reflect', stat: true }, {
   setPrototypeOf: function setPrototypeOf(target, proto) {
-    anObject$1b(target);
+    anObject$1d(target);
     aPossiblePrototype(proto);
     try {
       objectSetPrototypeOf(target, proto);
@@ -6520,21 +6921,21 @@ if (objectSetPrototypeOf) $$2p({ target: 'Reflect', stat: true }, {
   }
 });
 
-var $$2o = _export;
-var global$h = global$M;
+var $$2s = _export;
+var global$l = global$R;
 var setToStringTag$2 = setToStringTag$b;
 
-$$2o({ global: true }, { Reflect: {} });
+$$2s({ global: true }, { Reflect: {} });
 
 // Reflect[@@toStringTag] property
 // https://tc39.es/ecma262/#sec-reflect-@@tostringtag
-setToStringTag$2(global$h.Reflect, 'Reflect', true);
+setToStringTag$2(global$l.Reflect, 'Reflect', true);
 
 var isObject$8 = isObject$B;
 var classof$4 = classofRaw$1;
-var wellKnownSymbol$g = wellKnownSymbol$C;
+var wellKnownSymbol$j = wellKnownSymbol$G;
 
-var MATCH$2 = wellKnownSymbol$g('match');
+var MATCH$2 = wellKnownSymbol$j('match');
 
 // `IsRegExp` abstract operation
 // https://tc39.es/ecma262/#sec-isregexp
@@ -6543,12 +6944,12 @@ var isRegexp = function (it) {
   return isObject$8(it) && ((isRegExp = it[MATCH$2]) !== undefined ? !!isRegExp : classof$4(it) == 'RegExp');
 };
 
-var anObject$1a = anObject$1z;
+var anObject$1c = anObject$1C;
 
 // `RegExp.prototype.flags` getter implementation
 // https://tc39.es/ecma262/#sec-get-regexp.prototype.flags
 var regexpFlags$1 = function () {
-  var that = anObject$1a(this);
+  var that = anObject$1c(this);
   var result = '';
   if (that.global) result += 'g';
   if (that.ignoreCase) result += 'i';
@@ -6561,121 +6962,271 @@ var regexpFlags$1 = function () {
 
 var regexpStickyHelpers = {};
 
-var fails$f = fails$X;
+var fails$l = fails$15;
+var global$k = global$R;
 
-// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,
-// so we use an intermediate function.
-function RE(s, f) {
-  return RegExp(s, f);
-}
+// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError
+var $RegExp$2 = global$k.RegExp;
 
-regexpStickyHelpers.UNSUPPORTED_Y = fails$f(function () {
-  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError
-  var re = RE('a', 'y');
+regexpStickyHelpers.UNSUPPORTED_Y = fails$l(function () {
+  var re = $RegExp$2('a', 'y');
   re.lastIndex = 2;
   return re.exec('abcd') != null;
 });
 
-regexpStickyHelpers.BROKEN_CARET = fails$f(function () {
+regexpStickyHelpers.BROKEN_CARET = fails$l(function () {
   // https://bugzilla.mozilla.org/show_bug.cgi?id=773687
-  var re = RE('^r', 'gy');
+  var re = $RegExp$2('^r', 'gy');
   re.lastIndex = 2;
   return re.exec('str') != null;
 });
 
-var DESCRIPTORS$8 = descriptors;
-var global$g = global$M;
+var fails$k = fails$15;
+var global$j = global$R;
+
+// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError
+var $RegExp$1 = global$j.RegExp;
+
+var regexpUnsupportedDotAll = fails$k(function () {
+  var re = $RegExp$1('.', 's');
+  return !(re.dotAll && re.exec('\n') && re.flags === 's');
+});
+
+var fails$j = fails$15;
+var global$i = global$R;
+
+// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError
+var $RegExp = global$i.RegExp;
+
+var regexpUnsupportedNcg = fails$j(function () {
+  var re = $RegExp('(?<a>b)', 'g');
+  return re.exec('b').groups.a !== 'b' ||
+    'b'.replace(re, '$<a>c') !== 'bc';
+});
+
+var DESCRIPTORS$9 = descriptors;
+var global$h = global$R;
 var isForced = isForced_1;
 var inheritIfRequired$1 = inheritIfRequired$4;
-var defineProperty$4 = objectDefineProperty.f;
+var createNonEnumerableProperty$8 = createNonEnumerableProperty$g;
+var defineProperty$5 = objectDefineProperty.f;
 var getOwnPropertyNames$1 = objectGetOwnPropertyNames.f;
 var isRegExp$4 = isRegexp;
+var toString$i = toString$t;
 var getFlags = regexpFlags$1;
 var stickyHelpers$2 = regexpStickyHelpers;
-var redefine$4 = redefine$g.exports;
-var fails$e = fails$X;
+var redefine$7 = redefine$l.exports;
+var fails$i = fails$15;
+var has$5 = has$m;
 var enforceInternalState = internalState.enforce;
 var setSpecies$2 = setSpecies$7;
-var wellKnownSymbol$f = wellKnownSymbol$C;
-
-var MATCH$1 = wellKnownSymbol$f('match');
-var NativeRegExp = global$g.RegExp;
-var RegExpPrototype$5 = NativeRegExp.prototype;
+var wellKnownSymbol$i = wellKnownSymbol$G;
+var UNSUPPORTED_DOT_ALL$2 = regexpUnsupportedDotAll;
+var UNSUPPORTED_NCG$1 = regexpUnsupportedNcg;
+
+var MATCH$1 = wellKnownSymbol$i('match');
+var NativeRegExp = global$h.RegExp;
+var RegExpPrototype$6 = NativeRegExp.prototype;
+// TODO: Use only propper RegExpIdentifierName
+var IS_NCG = /^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/;
 var re1 = /a/g;
 var re2 = /a/g;
 
 // "new" should create a new object, old webkit bug
 var CORRECT_NEW = new NativeRegExp(re1) !== re1;
 
-var UNSUPPORTED_Y$4 = stickyHelpers$2.UNSUPPORTED_Y;
+var UNSUPPORTED_Y$3 = stickyHelpers$2.UNSUPPORTED_Y;
+
+var BASE_FORCED = DESCRIPTORS$9 &&
+  (!CORRECT_NEW || UNSUPPORTED_Y$3 || UNSUPPORTED_DOT_ALL$2 || UNSUPPORTED_NCG$1 || fails$i(function () {
+    re2[MATCH$1] = false;
+    // RegExp constructor can alter flags and IsRegExp works correct with @@match
+    return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';
+  }));
+
+var handleDotAll = function (string) {
+  var length = string.length;
+  var index = 0;
+  var result = '';
+  var brackets = false;
+  var chr;
+  for (; index <= length; index++) {
+    chr = string.charAt(index);
+    if (chr === '\\') {
+      result += chr + string.charAt(++index);
+      continue;
+    }
+    if (!brackets && chr === '.') {
+      result += '[\\s\\S]';
+    } else {
+      if (chr === '[') {
+        brackets = true;
+      } else if (chr === ']') {
+        brackets = false;
+      } result += chr;
+    }
+  } return result;
+};
 
-var FORCED$8 = DESCRIPTORS$8 && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y$4 || fails$e(function () {
-  re2[MATCH$1] = false;
-  // RegExp constructor can alter flags and IsRegExp works correct with @@match
-  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';
-})));
+var handleNCG = function (string) {
+  var length = string.length;
+  var index = 0;
+  var result = '';
+  var named = [];
+  var names = {};
+  var brackets = false;
+  var ncg = false;
+  var groupid = 0;
+  var groupname = '';
+  var chr;
+  for (; index <= length; index++) {
+    chr = string.charAt(index);
+    if (chr === '\\') {
+      chr = chr + string.charAt(++index);
+    } else if (chr === ']') {
+      brackets = false;
+    } else if (!brackets) switch (true) {
+      case chr === '[':
+        brackets = true;
+        break;
+      case chr === '(':
+        if (IS_NCG.test(string.slice(index + 1))) {
+          index += 2;
+          ncg = true;
+        }
+        result += chr;
+        groupid++;
+        continue;
+      case chr === '>' && ncg:
+        if (groupname === '' || has$5(names, groupname)) {
+          throw new SyntaxError('Invalid capture group name');
+        }
+        names[groupname] = true;
+        named.push([groupname, groupid]);
+        ncg = false;
+        groupname = '';
+        continue;
+    }
+    if (ncg) groupname += chr;
+    else result += chr;
+  } return [result, named];
+};
 
 // `RegExp` constructor
 // https://tc39.es/ecma262/#sec-regexp-constructor
-if (FORCED$8) {
+if (isForced('RegExp', BASE_FORCED)) {
   var RegExpWrapper = function RegExp(pattern, flags) {
     var thisIsRegExp = this instanceof RegExpWrapper;
     var patternIsRegExp = isRegExp$4(pattern);
     var flagsAreUndefined = flags === undefined;
-    var sticky;
+    var groups = [];
+    var rawPattern = pattern;
+    var rawFlags, dotAll, sticky, handled, result, state;
 
-    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {
+    if (!thisIsRegExp && patternIsRegExp && flagsAreUndefined && pattern.constructor === RegExpWrapper) {
       return pattern;
     }
 
-    if (CORRECT_NEW) {
-      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;
-    } else if (pattern instanceof RegExpWrapper) {
-      if (flagsAreUndefined) flags = getFlags.call(pattern);
+    if (patternIsRegExp || pattern instanceof RegExpWrapper) {
       pattern = pattern.source;
+      if (flagsAreUndefined) flags = 'flags' in rawPattern ? rawPattern.flags : getFlags.call(rawPattern);
     }
 
-    if (UNSUPPORTED_Y$4) {
+    pattern = pattern === undefined ? '' : toString$i(pattern);
+    flags = flags === undefined ? '' : toString$i(flags);
+    rawPattern = pattern;
+
+    if (UNSUPPORTED_DOT_ALL$2 && 'dotAll' in re1) {
+      dotAll = !!flags && flags.indexOf('s') > -1;
+      if (dotAll) flags = flags.replace(/s/g, '');
+    }
+
+    rawFlags = flags;
+
+    if (UNSUPPORTED_Y$3 && 'sticky' in re1) {
       sticky = !!flags && flags.indexOf('y') > -1;
       if (sticky) flags = flags.replace(/y/g, '');
     }
 
-    var result = inheritIfRequired$1(
-      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),
-      thisIsRegExp ? this : RegExpPrototype$5,
-      RegExpWrapper
-    );
+    if (UNSUPPORTED_NCG$1) {
+      handled = handleNCG(pattern);
+      pattern = handled[0];
+      groups = handled[1];
+    }
 
-    if (UNSUPPORTED_Y$4 && sticky) {
-      var state = enforceInternalState(result);
-      state.sticky = true;
+    result = inheritIfRequired$1(NativeRegExp(pattern, flags), thisIsRegExp ? this : RegExpPrototype$6, RegExpWrapper);
+
+    if (dotAll || sticky || groups.length) {
+      state = enforceInternalState(result);
+      if (dotAll) {
+        state.dotAll = true;
+        state.raw = RegExpWrapper(handleDotAll(pattern), rawFlags);
+      }
+      if (sticky) state.sticky = true;
+      if (groups.length) state.groups = groups;
     }
 
+    if (pattern !== rawPattern) try {
+      // fails in old engines, but we have no alternatives for unsupported regex syntax
+      createNonEnumerableProperty$8(result, 'source', rawPattern === '' ? '(?:)' : rawPattern);
+    } catch (error) { /* empty */ }
+
     return result;
   };
+
   var proxy = function (key) {
-    key in RegExpWrapper || defineProperty$4(RegExpWrapper, key, {
+    key in RegExpWrapper || defineProperty$5(RegExpWrapper, key, {
       configurable: true,
       get: function () { return NativeRegExp[key]; },
       set: function (it) { NativeRegExp[key] = it; }
     });
   };
-  var keys = getOwnPropertyNames$1(NativeRegExp);
-  var index = 0;
-  while (keys.length > index) proxy(keys[index++]);
-  RegExpPrototype$5.constructor = RegExpWrapper;
-  RegExpWrapper.prototype = RegExpPrototype$5;
-  redefine$4(global$g, 'RegExp', RegExpWrapper);
+
+  for (var keys = getOwnPropertyNames$1(NativeRegExp), index = 0; keys.length > index;) {
+    proxy(keys[index++]);
+  }
+
+  RegExpPrototype$6.constructor = RegExpWrapper;
+  RegExpWrapper.prototype = RegExpPrototype$6;
+  redefine$7(global$h, 'RegExp', RegExpWrapper);
 }
 
 // https://tc39.es/ecma262/#sec-get-regexp-@@species
 setSpecies$2('RegExp');
 
-/* eslint-disable regexp/no-assertion-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */
+var DESCRIPTORS$8 = descriptors;
+var UNSUPPORTED_DOT_ALL$1 = regexpUnsupportedDotAll;
+var defineProperty$4 = objectDefineProperty.f;
+var getInternalState$d = internalState.get;
+var RegExpPrototype$5 = RegExp.prototype;
+
+// `RegExp.prototype.dotAll` getter
+// https://tc39.es/ecma262/#sec-get-regexp.prototype.dotall
+if (DESCRIPTORS$8 && UNSUPPORTED_DOT_ALL$1) {
+  defineProperty$4(RegExpPrototype$5, 'dotAll', {
+    configurable: true,
+    get: function () {
+      if (this === RegExpPrototype$5) return undefined;
+      // We can't use InternalStateModule.getterFor because
+      // we don't add metadata for regexps created by a literal.
+      if (this instanceof RegExp) {
+        return !!getInternalState$d(this).dotAll;
+      }
+      throw TypeError('Incompatible receiver, RegExp required');
+    }
+  });
+}
+
+/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */
 /* eslint-disable regexp/no-useless-quantifier -- testing */
+var toString$h = toString$t;
 var regexpFlags = regexpFlags$1;
 var stickyHelpers$1 = regexpStickyHelpers;
 var shared$2 = shared$7.exports;
+var create$7 = objectCreate$1;
+var getInternalState$c = internalState.get;
+var UNSUPPORTED_DOT_ALL = regexpUnsupportedDotAll;
+var UNSUPPORTED_NCG = regexpUnsupportedNcg;
 
 var nativeExec = RegExp.prototype.exec;
 var nativeReplace = shared$2('native-string-replace', String.prototype.replace);
@@ -6690,18 +7241,31 @@ var UPDATES_LAST_INDEX_WRONG = (function () {
   return re1.lastIndex !== 0 || re2.lastIndex !== 0;
 })();
 
-var UNSUPPORTED_Y$3 = stickyHelpers$1.UNSUPPORTED_Y || stickyHelpers$1.BROKEN_CARET;
+var UNSUPPORTED_Y$2 = stickyHelpers$1.UNSUPPORTED_Y || stickyHelpers$1.BROKEN_CARET;
 
 // nonparticipating capturing group, copied from es5-shim's String#split patch.
 var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;
 
-var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y$3;
+var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y$2 || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;
 
 if (PATCH) {
-  patchedExec = function exec(str) {
+  // eslint-disable-next-line max-statements -- TODO
+  patchedExec = function exec(string) {
     var re = this;
-    var lastIndex, reCopy, match, i;
-    var sticky = UNSUPPORTED_Y$3 && re.sticky;
+    var state = getInternalState$c(re);
+    var str = toString$h(string);
+    var raw = state.raw;
+    var result, reCopy, lastIndex, match, i, object, group;
+
+    if (raw) {
+      raw.lastIndex = re.lastIndex;
+      result = patchedExec.call(raw, str);
+      re.lastIndex = raw.lastIndex;
+      return result;
+    }
+
+    var groups = state.groups;
+    var sticky = UNSUPPORTED_Y$2 && re.sticky;
     var flags = regexpFlags.call(re);
     var source = re.source;
     var charsAdded = 0;
@@ -6713,9 +7277,9 @@ if (PATCH) {
         flags += 'g';
       }
 
-      strCopy = String(str).slice(re.lastIndex);
+      strCopy = str.slice(re.lastIndex);
       // Support anchored sticky behavior.
-      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\n')) {
+      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str.charAt(re.lastIndex - 1) !== '\n')) {
         source = '(?: ' + source + ')';
         strCopy = ' ' + strCopy;
         charsAdded++;
@@ -6752,53 +7316,63 @@ if (PATCH) {
       });
     }
 
+    if (match && groups) {
+      match.groups = object = create$7(null);
+      for (i = 0; i < groups.length; i++) {
+        group = groups[i];
+        object[group[0]] = match[group[1]];
+      }
+    }
+
     return match;
   };
 }
 
 var regexpExec$3 = patchedExec;
 
-var $$2n = _export;
+var $$2r = _export;
 var exec = regexpExec$3;
 
 // `RegExp.prototype.exec` method
 // https://tc39.es/ecma262/#sec-regexp.prototype.exec
-$$2n({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {
+$$2r({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {
   exec: exec
 });
 
 var DESCRIPTORS$7 = descriptors;
 var objectDefinePropertyModule = objectDefineProperty;
 var regExpFlags = regexpFlags$1;
-var UNSUPPORTED_Y$2 = regexpStickyHelpers.UNSUPPORTED_Y;
+var fails$h = fails$15;
+
+var FORCED$9 = DESCRIPTORS$7 && fails$h(function () {
+  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
+  return Object.getOwnPropertyDescriptor(RegExp.prototype, 'flags').get.call({ dotAll: true, sticky: true }) !== 'sy';
+});
 
 // `RegExp.prototype.flags` getter
 // https://tc39.es/ecma262/#sec-get-regexp.prototype.flags
-// eslint-disable-next-line es/no-regexp-prototype-flags -- required for testing
-if (DESCRIPTORS$7 && (/./g.flags != 'g' || UNSUPPORTED_Y$2)) {
-  objectDefinePropertyModule.f(RegExp.prototype, 'flags', {
-    configurable: true,
-    get: regExpFlags
-  });
-}
+if (FORCED$9) objectDefinePropertyModule.f(RegExp.prototype, 'flags', {
+  configurable: true,
+  get: regExpFlags
+});
 
 var DESCRIPTORS$6 = descriptors;
 var UNSUPPORTED_Y$1 = regexpStickyHelpers.UNSUPPORTED_Y;
 var defineProperty$3 = objectDefineProperty.f;
-var getInternalState$a = internalState.get;
+var getInternalState$b = internalState.get;
 var RegExpPrototype$4 = RegExp.prototype;
 
 // `RegExp.prototype.sticky` getter
 // https://tc39.es/ecma262/#sec-get-regexp.prototype.sticky
 if (DESCRIPTORS$6 && UNSUPPORTED_Y$1) {
-  defineProperty$3(RegExp.prototype, 'sticky', {
+  defineProperty$3(RegExpPrototype$4, 'sticky', {
     configurable: true,
     get: function () {
       if (this === RegExpPrototype$4) return undefined;
       // We can't use InternalStateModule.getterFor because
       // we don't add metadata for regexps created by a literal.
       if (this instanceof RegExp) {
-        return !!getInternalState$a(this).sticky;
+        return !!getInternalState$b(this).sticky;
       }
       throw TypeError('Incompatible receiver, RegExp required');
     }
@@ -6807,7 +7381,8 @@ if (DESCRIPTORS$6 && UNSUPPORTED_Y$1) {
 
 // TODO: Remove from `core-js@4` since it's moved to entry points
 
-var $$2m = _export;
+var $$2q = _export;
+var isCallable$a = isCallable$z;
 var isObject$7 = isObject$B;
 
 var DELEGATES_TO_EXEC = function () {
@@ -6824,12 +7399,11 @@ var nativeTest = /./.test;
 
 // `RegExp.prototype.test` method
 // https://tc39.es/ecma262/#sec-regexp.prototype.test
-$$2m({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {
+$$2q({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {
   test: function (str) {
-    if (typeof this.exec !== 'function') {
-      return nativeTest.call(this, str);
-    }
-    var result = this.exec(str);
+    var exec = this.exec;
+    if (!isCallable$a(exec)) return nativeTest.call(this, str);
+    var result = exec.call(this, str);
     if (result !== null && !isObject$7(result)) {
       throw new Error('RegExp exec method returned something other than an Object or null');
     }
@@ -6837,27 +7411,29 @@ $$2m({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {
   }
 });
 
-var redefine$3 = redefine$g.exports;
-var anObject$19 = anObject$1z;
-var fails$d = fails$X;
+var PROPER_FUNCTION_NAME$2 = functionName.PROPER;
+var redefine$6 = redefine$l.exports;
+var anObject$1b = anObject$1C;
+var $toString$2 = toString$t;
+var fails$g = fails$15;
 var flags = regexpFlags$1;
 
 var TO_STRING = 'toString';
 var RegExpPrototype$3 = RegExp.prototype;
 var nativeToString = RegExpPrototype$3[TO_STRING];
 
-var NOT_GENERIC = fails$d(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });
+var NOT_GENERIC = fails$g(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });
 // FF44- RegExp#toString has a wrong name
-var INCORRECT_NAME = nativeToString.name != TO_STRING;
+var INCORRECT_NAME = PROPER_FUNCTION_NAME$2 && nativeToString.name != TO_STRING;
 
 // `RegExp.prototype.toString` method
 // https://tc39.es/ecma262/#sec-regexp.prototype.tostring
 if (NOT_GENERIC || INCORRECT_NAME) {
-  redefine$3(RegExp.prototype, TO_STRING, function toString() {
-    var R = anObject$19(this);
-    var p = String(R.source);
+  redefine$6(RegExp.prototype, TO_STRING, function toString() {
+    var R = anObject$1b(this);
+    var p = $toString$2(R.source);
     var rf = R.flags;
-    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype$3) ? flags.call(R) : rf);
+    var f = $toString$2(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype$3) ? flags.call(R) : rf);
     return '/' + p + '/' + f;
   }, { unsafe: true });
 }
@@ -6871,13 +7447,37 @@ var es_set = collection$2('Set', function (init) {
   return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };
 }, collectionStrong);
 
-var toInteger$5 = toInteger$f;
-var requireObjectCoercible$b = requireObjectCoercible$h;
+var $$2p = _export;
+var requireObjectCoercible$d = requireObjectCoercible$j;
+var toInteger$6 = toInteger$i;
+var toLength$i = toLength$D;
+var toString$g = toString$t;
+var fails$f = fails$15;
+
+var FORCED$8 = fails$f(function () {
+  return ''.at(0) !== '\uD842';
+});
+
+// `String.prototype.at` method
+// https://github.com/tc39/proposal-relative-indexing-method
+$$2p({ target: 'String', proto: true, forced: FORCED$8 }, {
+  at: function at(index) {
+    var S = toString$g(requireObjectCoercible$d(this));
+    var len = toLength$i(S.length);
+    var relativeIndex = toInteger$6(index);
+    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;
+    return (k < 0 || k >= len) ? undefined : S.charAt(k);
+  }
+});
+
+var toInteger$5 = toInteger$i;
+var toString$f = toString$t;
+var requireObjectCoercible$c = requireObjectCoercible$j;
 
-// `String.prototype.{ codePointAt, at }` methods implementation
+// `String.prototype.codePointAt` methods implementation
 var createMethod$2 = function (CONVERT_TO_STRING) {
   return function ($this, pos) {
-    var S = String(requireObjectCoercible$b($this));
+    var S = toString$f(requireObjectCoercible$c($this));
     var position = toInteger$5(pos);
     var size = S.length;
     var first, second;
@@ -6899,12 +7499,12 @@ var stringMultibyte = {
   charAt: createMethod$2(true)
 };
 
-var $$2l = _export;
+var $$2o = _export;
 var codeAt$2 = stringMultibyte.codeAt;
 
 // `String.prototype.codePointAt` method
 // https://tc39.es/ecma262/#sec-string.prototype.codepointat
-$$2l({ target: 'String', proto: true }, {
+$$2o({ target: 'String', proto: true }, {
   codePointAt: function codePointAt(pos) {
     return codeAt$2(this, pos);
   }
@@ -6918,9 +7518,9 @@ var notARegexp = function (it) {
   } return it;
 };
 
-var wellKnownSymbol$e = wellKnownSymbol$C;
+var wellKnownSymbol$h = wellKnownSymbol$G;
 
-var MATCH = wellKnownSymbol$e('match');
+var MATCH = wellKnownSymbol$h('match');
 
 var correctIsRegexpLogic = function (METHOD_NAME) {
   var regexp = /./;
@@ -6934,16 +7534,17 @@ var correctIsRegexpLogic = function (METHOD_NAME) {
   } return false;
 };
 
-var $$2k = _export;
+var $$2n = _export;
 var getOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;
-var toLength$h = toLength$B;
+var toLength$h = toLength$D;
+var toString$e = toString$t;
 var notARegExp$2 = notARegexp;
-var requireObjectCoercible$a = requireObjectCoercible$h;
+var requireObjectCoercible$b = requireObjectCoercible$j;
 var correctIsRegExpLogic$2 = correctIsRegexpLogic;
 
 // eslint-disable-next-line es/no-string-prototype-endswith -- safe
 var $endsWith = ''.endsWith;
-var min$4 = Math.min;
+var min$5 = Math.min;
 
 var CORRECT_IS_REGEXP_LOGIC$1 = correctIsRegExpLogic$2('endsWith');
 // https://github.com/zloirock/core-js/pull/702
@@ -6954,24 +7555,24 @@ var MDN_POLYFILL_BUG$1 = !CORRECT_IS_REGEXP_LOGIC$1 && !!function () {
 
 // `String.prototype.endsWith` method
 // https://tc39.es/ecma262/#sec-string.prototype.endswith
-$$2k({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG$1 && !CORRECT_IS_REGEXP_LOGIC$1 }, {
+$$2n({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG$1 && !CORRECT_IS_REGEXP_LOGIC$1 }, {
   endsWith: function endsWith(searchString /* , endPosition = @length */) {
-    var that = String(requireObjectCoercible$a(this));
+    var that = toString$e(requireObjectCoercible$b(this));
     notARegExp$2(searchString);
     var endPosition = arguments.length > 1 ? arguments[1] : undefined;
     var len = toLength$h(that.length);
-    var end = endPosition === undefined ? len : min$4(toLength$h(endPosition), len);
-    var search = String(searchString);
+    var end = endPosition === undefined ? len : min$5(toLength$h(endPosition), len);
+    var search = toString$e(searchString);
     return $endsWith
       ? $endsWith.call(that, search, end)
       : that.slice(end - search.length, end) === search;
   }
 });
 
-var $$2j = _export;
+var $$2m = _export;
 var toAbsoluteIndex$1 = toAbsoluteIndex$8;
 
-var fromCharCode = String.fromCharCode;
+var fromCharCode$1 = String.fromCharCode;
 // eslint-disable-next-line es/no-string-fromcodepoint -- required for testing
 var $fromCodePoint = String.fromCodePoint;
 
@@ -6980,7 +7581,7 @@ var INCORRECT_LENGTH = !!$fromCodePoint && $fromCodePoint.length != 1;
 
 // `String.fromCodePoint` method
 // https://tc39.es/ecma262/#sec-string.fromcodepoint
-$$2j({ target: 'String', stat: true, forced: INCORRECT_LENGTH }, {
+$$2m({ target: 'String', stat: true, forced: INCORRECT_LENGTH }, {
   // eslint-disable-next-line no-unused-vars -- required for `.length`
   fromCodePoint: function fromCodePoint(x) {
     var elements = [];
@@ -6991,47 +7592,49 @@ $$2j({ target: 'String', stat: true, forced: INCORRECT_LENGTH }, {
       code = +arguments[i++];
       if (toAbsoluteIndex$1(code, 0x10FFFF) !== code) throw RangeError(code + ' is not a valid code point');
       elements.push(code < 0x10000
-        ? fromCharCode(code)
-        : fromCharCode(((code -= 0x10000) >> 10) + 0xD800, code % 0x400 + 0xDC00)
+        ? fromCharCode$1(code)
+        : fromCharCode$1(((code -= 0x10000) >> 10) + 0xD800, code % 0x400 + 0xDC00)
       );
     } return elements.join('');
   }
 });
 
-var $$2i = _export;
+var $$2l = _export;
 var notARegExp$1 = notARegexp;
-var requireObjectCoercible$9 = requireObjectCoercible$h;
+var requireObjectCoercible$a = requireObjectCoercible$j;
+var toString$d = toString$t;
 var correctIsRegExpLogic$1 = correctIsRegexpLogic;
 
 // `String.prototype.includes` method
 // https://tc39.es/ecma262/#sec-string.prototype.includes
-$$2i({ target: 'String', proto: true, forced: !correctIsRegExpLogic$1('includes') }, {
+$$2l({ target: 'String', proto: true, forced: !correctIsRegExpLogic$1('includes') }, {
   includes: function includes(searchString /* , position = 0 */) {
-    return !!~String(requireObjectCoercible$9(this))
-      .indexOf(notARegExp$1(searchString), arguments.length > 1 ? arguments[1] : undefined);
+    return !!~toString$d(requireObjectCoercible$a(this))
+      .indexOf(toString$d(notARegExp$1(searchString)), arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
 var charAt$3 = stringMultibyte.charAt;
-var InternalStateModule$c = internalState;
+var toString$c = toString$t;
+var InternalStateModule$d = internalState;
 var defineIterator = defineIterator$3;
 
 var STRING_ITERATOR$1 = 'String Iterator';
-var setInternalState$c = InternalStateModule$c.set;
-var getInternalState$9 = InternalStateModule$c.getterFor(STRING_ITERATOR$1);
+var setInternalState$d = InternalStateModule$d.set;
+var getInternalState$a = InternalStateModule$d.getterFor(STRING_ITERATOR$1);
 
 // `String.prototype[@@iterator]` method
 // https://tc39.es/ecma262/#sec-string.prototype-@@iterator
 defineIterator(String, 'String', function (iterated) {
-  setInternalState$c(this, {
+  setInternalState$d(this, {
     type: STRING_ITERATOR$1,
-    string: String(iterated),
+    string: toString$c(iterated),
     index: 0
   });
 // `%StringIteratorPrototype%.next` method
 // https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next
 }, function next() {
-  var state = getInternalState$9(this);
+  var state = getInternalState$a(this);
   var string = state.string;
   var index = state.index;
   var point;
@@ -7043,66 +7646,26 @@ defineIterator(String, 'String', function (iterated) {
 
 // TODO: Remove from `core-js@4` since it's moved to entry points
 
-var redefine$2 = redefine$g.exports;
+var redefine$5 = redefine$l.exports;
 var regexpExec$2 = regexpExec$3;
-var fails$c = fails$X;
-var wellKnownSymbol$d = wellKnownSymbol$C;
-var createNonEnumerableProperty$a = createNonEnumerableProperty$m;
+var fails$e = fails$15;
+var wellKnownSymbol$g = wellKnownSymbol$G;
+var createNonEnumerableProperty$7 = createNonEnumerableProperty$g;
 
-var SPECIES = wellKnownSymbol$d('species');
+var SPECIES = wellKnownSymbol$g('species');
 var RegExpPrototype$2 = RegExp.prototype;
 
-var REPLACE_SUPPORTS_NAMED_GROUPS = !fails$c(function () {
-  // #replace needs built-in support for named groups.
-  // #match works fine because it just return the exec results, even if it has
-  // a "grops" property.
-  var re = /./;
-  re.exec = function () {
-    var result = [];
-    result.groups = { a: '7' };
-    return result;
-  };
-  return ''.replace(re, '$<a>') !== '7';
-});
-
-// IE <= 11 replaces $0 with the whole match, as if it was $&
-// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0
-var REPLACE_KEEPS_$0 = (function () {
-  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing
-  return 'a'.replace(/./, '$0') === '$0';
-})();
-
-var REPLACE$1 = wellKnownSymbol$d('replace');
-// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string
-var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {
-  if (/./[REPLACE$1]) {
-    return /./[REPLACE$1]('a', '$0') === '';
-  }
-  return false;
-})();
-
-// Chrome 51 has a buggy "split" implementation when RegExp#exec !== nativeExec
-// Weex JS has frozen built-in prototypes, so use try / catch wrapper
-var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails$c(function () {
-  // eslint-disable-next-line regexp/no-empty-group -- required for testing
-  var re = /(?:)/;
-  var originalExec = re.exec;
-  re.exec = function () { return originalExec.apply(this, arguments); };
-  var result = 'ab'.split(re);
-  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';
-});
-
-var fixRegexpWellKnownSymbolLogic = function (KEY, length, exec, sham) {
-  var SYMBOL = wellKnownSymbol$d(KEY);
+var fixRegexpWellKnownSymbolLogic = function (KEY, exec, FORCED, SHAM) {
+  var SYMBOL = wellKnownSymbol$g(KEY);
 
-  var DELEGATES_TO_SYMBOL = !fails$c(function () {
+  var DELEGATES_TO_SYMBOL = !fails$e(function () {
     // String methods call symbol-named RegEp methods
     var O = {};
     O[SYMBOL] = function () { return 7; };
     return ''[KEY](O) != 7;
   });
 
-  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails$c(function () {
+  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails$e(function () {
     // Symbol-named RegExp methods call .exec
     var execCalled = false;
     var re = /a/;
@@ -7129,12 +7692,7 @@ var fixRegexpWellKnownSymbolLogic = function (KEY, length, exec, sham) {
   if (
     !DELEGATES_TO_SYMBOL ||
     !DELEGATES_TO_EXEC ||
-    (KEY === 'replace' && !(
-      REPLACE_SUPPORTS_NAMED_GROUPS &&
-      REPLACE_KEEPS_$0 &&
-      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE
-    )) ||
-    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)
+    FORCED
   ) {
     var nativeRegExpMethod = /./[SYMBOL];
     var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {
@@ -7149,25 +7707,13 @@ var fixRegexpWellKnownSymbolLogic = function (KEY, length, exec, sham) {
         return { done: true, value: nativeMethod.call(str, regexp, arg2) };
       }
       return { done: false };
-    }, {
-      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,
-      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE
     });
-    var stringMethod = methods[0];
-    var regexMethod = methods[1];
-
-    redefine$2(String.prototype, KEY, stringMethod);
-    redefine$2(RegExpPrototype$2, SYMBOL, length == 2
-      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)
-      // 21.2.5.11 RegExp.prototype[@@split](string, limit)
-      ? function (string, arg) { return regexMethod.call(string, this, arg); }
-      // 21.2.5.6 RegExp.prototype[@@match](string)
-      // 21.2.5.9 RegExp.prototype[@@search](string)
-      : function (string) { return regexMethod.call(string, this); }
-    );
+
+    redefine$5(String.prototype, KEY, methods[0]);
+    redefine$5(RegExpPrototype$2, SYMBOL, methods[1]);
   }
 
-  if (sham) createNonEnumerableProperty$a(RegExpPrototype$2[SYMBOL], 'sham', true);
+  if (SHAM) createNonEnumerableProperty$7(RegExpPrototype$2[SYMBOL], 'sham', true);
 };
 
 var charAt$2 = stringMultibyte.charAt;
@@ -7178,6 +7724,8 @@ var advanceStringIndex$4 = function (S, index, unicode) {
   return index + (unicode ? charAt$2(S, index).length : 1);
 };
 
+var anObject$1a = anObject$1C;
+var isCallable$9 = isCallable$z;
 var classof$3 = classofRaw$1;
 var regexpExec$1 = regexpExec$3;
 
@@ -7185,46 +7733,42 @@ var regexpExec$1 = regexpExec$3;
 // https://tc39.es/ecma262/#sec-regexpexec
 var regexpExecAbstract = function (R, S) {
   var exec = R.exec;
-  if (typeof exec === 'function') {
+  if (isCallable$9(exec)) {
     var result = exec.call(R, S);
-    if (typeof result !== 'object') {
-      throw TypeError('RegExp exec method returned something other than an Object or null');
-    }
+    if (result !== null) anObject$1a(result);
     return result;
   }
-
-  if (classof$3(R) !== 'RegExp') {
-    throw TypeError('RegExp#exec called on incompatible receiver');
-  }
-
-  return regexpExec$1.call(R, S);
+  if (classof$3(R) === 'RegExp') return regexpExec$1.call(R, S);
+  throw TypeError('RegExp#exec called on incompatible receiver');
 };
 
 var fixRegExpWellKnownSymbolLogic$3 = fixRegexpWellKnownSymbolLogic;
-var anObject$18 = anObject$1z;
-var toLength$g = toLength$B;
-var requireObjectCoercible$8 = requireObjectCoercible$h;
+var anObject$19 = anObject$1C;
+var toLength$g = toLength$D;
+var toString$b = toString$t;
+var requireObjectCoercible$9 = requireObjectCoercible$j;
+var getMethod$d = getMethod$h;
 var advanceStringIndex$3 = advanceStringIndex$4;
 var regExpExec$3 = regexpExecAbstract;
 
 // @@match logic
-fixRegExpWellKnownSymbolLogic$3('match', 1, function (MATCH, nativeMatch, maybeCallNative) {
+fixRegExpWellKnownSymbolLogic$3('match', function (MATCH, nativeMatch, maybeCallNative) {
   return [
     // `String.prototype.match` method
     // https://tc39.es/ecma262/#sec-string.prototype.match
     function match(regexp) {
-      var O = requireObjectCoercible$8(this);
-      var matcher = regexp == undefined ? undefined : regexp[MATCH];
-      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));
+      var O = requireObjectCoercible$9(this);
+      var matcher = regexp == undefined ? undefined : getMethod$d(regexp, MATCH);
+      return matcher ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](toString$b(O));
     },
     // `RegExp.prototype[@@match]` method
     // https://tc39.es/ecma262/#sec-regexp.prototype-@@match
-    function (regexp) {
-      var res = maybeCallNative(nativeMatch, regexp, this);
-      if (res.done) return res.value;
+    function (string) {
+      var rx = anObject$19(this);
+      var S = toString$b(string);
+      var res = maybeCallNative(nativeMatch, rx, S);
 
-      var rx = anObject$18(regexp);
-      var S = String(this);
+      if (res.done) return res.value;
 
       if (!rx.global) return regExpExec$3(rx, S);
 
@@ -7234,7 +7778,7 @@ fixRegExpWellKnownSymbolLogic$3('match', 1, function (MATCH, nativeMatch, maybeC
       var n = 0;
       var result;
       while ((result = regExpExec$3(rx, S)) !== null) {
-        var matchStr = String(result[0]);
+        var matchStr = toString$b(result[0]);
         A[n] = matchStr;
         if (matchStr === '') rx.lastIndex = advanceStringIndex$3(S, toLength$g(rx.lastIndex), fullUnicode);
         n++;
@@ -7245,49 +7789,40 @@ fixRegExpWellKnownSymbolLogic$3('match', 1, function (MATCH, nativeMatch, maybeC
 });
 
 /* eslint-disable es/no-string-prototype-matchall -- safe */
-var $$2h = _export;
+var $$2k = _export;
 var createIteratorConstructor$5 = createIteratorConstructor$7;
-var requireObjectCoercible$7 = requireObjectCoercible$h;
-var toLength$f = toLength$B;
-var aFunction$D = aFunction$S;
-var anObject$17 = anObject$1z;
+var requireObjectCoercible$8 = requireObjectCoercible$j;
+var toLength$f = toLength$D;
+var toString$a = toString$t;
+var anObject$18 = anObject$1C;
 var classof$2 = classofRaw$1;
 var isRegExp$2 = isRegexp;
 var getRegExpFlags$1 = regexpFlags$1;
-var createNonEnumerableProperty$9 = createNonEnumerableProperty$m;
-var fails$b = fails$X;
-var wellKnownSymbol$c = wellKnownSymbol$C;
-var speciesConstructor$e = speciesConstructor$i;
+var getMethod$c = getMethod$h;
+var redefine$4 = redefine$l.exports;
+var fails$d = fails$15;
+var wellKnownSymbol$f = wellKnownSymbol$G;
+var speciesConstructor$b = speciesConstructor$f;
 var advanceStringIndex$2 = advanceStringIndex$4;
-var InternalStateModule$b = internalState;
+var regExpExec$2 = regexpExecAbstract;
+var InternalStateModule$c = internalState;
 var IS_PURE$D = isPure;
 
-var MATCH_ALL = wellKnownSymbol$c('matchAll');
+var MATCH_ALL = wellKnownSymbol$f('matchAll');
 var REGEXP_STRING = 'RegExp String';
 var REGEXP_STRING_ITERATOR = REGEXP_STRING + ' Iterator';
-var setInternalState$b = InternalStateModule$b.set;
-var getInternalState$8 = InternalStateModule$b.getterFor(REGEXP_STRING_ITERATOR);
+var setInternalState$c = InternalStateModule$c.set;
+var getInternalState$9 = InternalStateModule$c.getterFor(REGEXP_STRING_ITERATOR);
 var RegExpPrototype$1 = RegExp.prototype;
-var regExpBuiltinExec = RegExpPrototype$1.exec;
 var nativeMatchAll = ''.matchAll;
 
-var WORKS_WITH_NON_GLOBAL_REGEX = !!nativeMatchAll && !fails$b(function () {
+var WORKS_WITH_NON_GLOBAL_REGEX = !!nativeMatchAll && !fails$d(function () {
   'a'.matchAll(/./);
 });
 
-var regExpExec$2 = function (R, S) {
-  var exec = R.exec;
-  var result;
-  if (typeof exec == 'function') {
-    result = exec.call(R, S);
-    if (typeof result != 'object') throw TypeError('Incorrect exec result');
-    return result;
-  } return regExpBuiltinExec.call(R, S);
-};
-
 // eslint-disable-next-line max-len -- ignore
 var $RegExpStringIterator = createIteratorConstructor$5(function RegExpStringIterator(regexp, string, global, fullUnicode) {
-  setInternalState$b(this, {
+  setInternalState$c(this, {
     type: REGEXP_STRING_ITERATOR,
     regexp: regexp,
     string: string,
@@ -7296,14 +7831,14 @@ var $RegExpStringIterator = createIteratorConstructor$5(function RegExpStringIte
     done: false
   });
 }, REGEXP_STRING, function next() {
-  var state = getInternalState$8(this);
+  var state = getInternalState$9(this);
   if (state.done) return { value: undefined, done: true };
   var R = state.regexp;
   var S = state.string;
   var match = regExpExec$2(R, S);
   if (match === null) return { value: undefined, done: state.done = true };
   if (state.global) {
-    if (String(match[0]) == '') R.lastIndex = advanceStringIndex$2(S, toLength$f(R.lastIndex), state.unicode);
+    if (toString$a(match[0]) === '') R.lastIndex = advanceStringIndex$2(S, toLength$f(R.lastIndex), state.unicode);
     return { value: match, done: false };
   }
   state.done = true;
@@ -7311,15 +7846,15 @@ var $RegExpStringIterator = createIteratorConstructor$5(function RegExpStringIte
 });
 
 var $matchAll = function (string) {
-  var R = anObject$17(this);
-  var S = String(string);
+  var R = anObject$18(this);
+  var S = toString$a(string);
   var C, flagsValue, flags, matcher, global, fullUnicode;
-  C = speciesConstructor$e(R, RegExp);
+  C = speciesConstructor$b(R, RegExp);
   flagsValue = R.flags;
   if (flagsValue === undefined && R instanceof RegExp && !('flags' in RegExpPrototype$1)) {
     flagsValue = getRegExpFlags$1.call(R);
   }
-  flags = flagsValue === undefined ? '' : String(flagsValue);
+  flags = flagsValue === undefined ? '' : toString$a(flagsValue);
   matcher = new C(C === RegExp ? R.source : R, flags);
   global = !!~flags.indexOf('g');
   fullUnicode = !!~flags.indexOf('u');
@@ -7329,30 +7864,30 @@ var $matchAll = function (string) {
 
 // `String.prototype.matchAll` method
 // https://tc39.es/ecma262/#sec-string.prototype.matchall
-$$2h({ target: 'String', proto: true, forced: WORKS_WITH_NON_GLOBAL_REGEX }, {
+$$2k({ target: 'String', proto: true, forced: WORKS_WITH_NON_GLOBAL_REGEX }, {
   matchAll: function matchAll(regexp) {
-    var O = requireObjectCoercible$7(this);
+    var O = requireObjectCoercible$8(this);
     var flags, S, matcher, rx;
     if (regexp != null) {
       if (isRegExp$2(regexp)) {
-        flags = String(requireObjectCoercible$7('flags' in RegExpPrototype$1
+        flags = toString$a(requireObjectCoercible$8('flags' in RegExpPrototype$1
           ? regexp.flags
           : getRegExpFlags$1.call(regexp)
         ));
         if (!~flags.indexOf('g')) throw TypeError('`.matchAll` does not allow non-global regexes');
       }
       if (WORKS_WITH_NON_GLOBAL_REGEX) return nativeMatchAll.apply(O, arguments);
-      matcher = regexp[MATCH_ALL];
+      matcher = getMethod$c(regexp, MATCH_ALL);
       if (matcher === undefined && IS_PURE$D && classof$2(regexp) == 'RegExp') matcher = $matchAll;
-      if (matcher != null) return aFunction$D(matcher).call(regexp, O);
+      if (matcher) return matcher.call(regexp, O);
     } else if (WORKS_WITH_NON_GLOBAL_REGEX) return nativeMatchAll.apply(O, arguments);
-    S = String(O);
+    S = toString$a(O);
     rx = new RegExp(regexp, 'g');
     return rx[MATCH_ALL](S);
   }
 });
 
-MATCH_ALL in RegExpPrototype$1 || createNonEnumerableProperty$9(RegExpPrototype$1, MATCH_ALL, $matchAll);
+MATCH_ALL in RegExpPrototype$1 || redefine$4(RegExpPrototype$1, MATCH_ALL, $matchAll);
 
 // https://github.com/zloirock/core-js/issues/280
 var userAgent$1 = engineUserAgent;
@@ -7360,60 +7895,66 @@ var userAgent$1 = engineUserAgent;
 // eslint-disable-next-line unicorn/no-unsafe-regex -- safe
 var stringPadWebkitBug = /Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(userAgent$1);
 
-var $$2g = _export;
+var $$2j = _export;
 var $padEnd = stringPad.end;
 var WEBKIT_BUG$1 = stringPadWebkitBug;
 
 // `String.prototype.padEnd` method
 // https://tc39.es/ecma262/#sec-string.prototype.padend
-$$2g({ target: 'String', proto: true, forced: WEBKIT_BUG$1 }, {
+$$2j({ target: 'String', proto: true, forced: WEBKIT_BUG$1 }, {
   padEnd: function padEnd(maxLength /* , fillString = ' ' */) {
     return $padEnd(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
-var $$2f = _export;
+var $$2i = _export;
 var $padStart = stringPad.start;
 var WEBKIT_BUG = stringPadWebkitBug;
 
 // `String.prototype.padStart` method
 // https://tc39.es/ecma262/#sec-string.prototype.padstart
-$$2f({ target: 'String', proto: true, forced: WEBKIT_BUG }, {
+$$2i({ target: 'String', proto: true, forced: WEBKIT_BUG }, {
   padStart: function padStart(maxLength /* , fillString = ' ' */) {
     return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
-var $$2e = _export;
+var $$2h = _export;
 var toIndexedObject = toIndexedObject$d;
-var toLength$e = toLength$B;
+var toObject$c = toObject$z;
+var toLength$e = toLength$D;
+var toString$9 = toString$t;
+
+var ArrayPrototype = Array.prototype;
+var push$3 = ArrayPrototype.push;
+var join = ArrayPrototype.join;
 
 // `String.raw` method
 // https://tc39.es/ecma262/#sec-string.raw
-$$2e({ target: 'String', stat: true }, {
+$$2h({ target: 'String', stat: true }, {
   raw: function raw(template) {
-    var rawTemplate = toIndexedObject(template.raw);
+    var rawTemplate = toIndexedObject(toObject$c(template).raw);
     var literalSegments = toLength$e(rawTemplate.length);
     var argumentsLength = arguments.length;
     var elements = [];
     var i = 0;
     while (literalSegments > i) {
-      elements.push(String(rawTemplate[i++]));
-      if (i < argumentsLength) elements.push(String(arguments[i]));
-    } return elements.join('');
+      push$3.call(elements, toString$9(rawTemplate[i++]));
+      if (i < argumentsLength) push$3.call(elements, toString$9(arguments[i]));
+    } return join.call(elements, '');
   }
 });
 
-var $$2d = _export;
+var $$2g = _export;
 var repeat = stringRepeat;
 
 // `String.prototype.repeat` method
 // https://tc39.es/ecma262/#sec-string.prototype.repeat
-$$2d({ target: 'String', proto: true }, {
+$$2g({ target: 'String', proto: true }, {
   repeat: repeat
 });
 
-var toObject$a = toObject$w;
+var toObject$b = toObject$z;
 
 var floor$3 = Math.floor;
 var replace$1 = ''.replace;
@@ -7427,7 +7968,7 @@ var getSubstitution$2 = function (matched, str, position, captures, namedCapture
   var m = captures.length;
   var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;
   if (namedCaptures !== undefined) {
-    namedCaptures = toObject$a(namedCaptures);
+    namedCaptures = toObject$b(namedCaptures);
     symbols = SUBSTITUTION_SYMBOLS;
   }
   return replace$1.call(replacement, symbols, function (match, ch) {
@@ -7456,53 +7997,84 @@ var getSubstitution$2 = function (matched, str, position, captures, namedCapture
 };
 
 var fixRegExpWellKnownSymbolLogic$2 = fixRegexpWellKnownSymbolLogic;
-var anObject$16 = anObject$1z;
-var toLength$d = toLength$B;
-var toInteger$4 = toInteger$f;
-var requireObjectCoercible$6 = requireObjectCoercible$h;
+var fails$c = fails$15;
+var anObject$17 = anObject$1C;
+var isCallable$8 = isCallable$z;
+var toInteger$4 = toInteger$i;
+var toLength$d = toLength$D;
+var toString$8 = toString$t;
+var requireObjectCoercible$7 = requireObjectCoercible$j;
 var advanceStringIndex$1 = advanceStringIndex$4;
+var getMethod$b = getMethod$h;
 var getSubstitution$1 = getSubstitution$2;
 var regExpExec$1 = regexpExecAbstract;
+var wellKnownSymbol$e = wellKnownSymbol$G;
 
-var max$2 = Math.max;
-var min$3 = Math.min;
+var REPLACE$1 = wellKnownSymbol$e('replace');
+var max$3 = Math.max;
+var min$4 = Math.min;
 
 var maybeToString = function (it) {
   return it === undefined ? it : String(it);
 };
 
+// IE <= 11 replaces $0 with the whole match, as if it was $&
+// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0
+var REPLACE_KEEPS_$0 = (function () {
+  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing
+  return 'a'.replace(/./, '$0') === '$0';
+})();
+
+// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string
+var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {
+  if (/./[REPLACE$1]) {
+    return /./[REPLACE$1]('a', '$0') === '';
+  }
+  return false;
+})();
+
+var REPLACE_SUPPORTS_NAMED_GROUPS = !fails$c(function () {
+  var re = /./;
+  re.exec = function () {
+    var result = [];
+    result.groups = { a: '7' };
+    return result;
+  };
+  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive
+  return ''.replace(re, '$<a>') !== '7';
+});
+
 // @@replace logic
-fixRegExpWellKnownSymbolLogic$2('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {
-  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;
-  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;
+fixRegExpWellKnownSymbolLogic$2('replace', function (_, nativeReplace, maybeCallNative) {
   var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';
 
   return [
     // `String.prototype.replace` method
     // https://tc39.es/ecma262/#sec-string.prototype.replace
     function replace(searchValue, replaceValue) {
-      var O = requireObjectCoercible$6(this);
-      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];
-      return replacer !== undefined
+      var O = requireObjectCoercible$7(this);
+      var replacer = searchValue == undefined ? undefined : getMethod$b(searchValue, REPLACE$1);
+      return replacer
         ? replacer.call(searchValue, O, replaceValue)
-        : nativeReplace.call(String(O), searchValue, replaceValue);
+        : nativeReplace.call(toString$8(O), searchValue, replaceValue);
     },
     // `RegExp.prototype[@@replace]` method
     // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace
-    function (regexp, replaceValue) {
+    function (string, replaceValue) {
+      var rx = anObject$17(this);
+      var S = toString$8(string);
+
       if (
-        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||
-        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)
+        typeof replaceValue === 'string' &&
+        replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1 &&
+        replaceValue.indexOf('$<') === -1
       ) {
-        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);
+        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);
         if (res.done) return res.value;
       }
 
-      var rx = anObject$16(regexp);
-      var S = String(this);
-
-      var functionalReplace = typeof replaceValue === 'function';
-      if (!functionalReplace) replaceValue = String(replaceValue);
+      var functionalReplace = isCallable$8(replaceValue);
+      if (!functionalReplace) replaceValue = toString$8(replaceValue);
 
       var global = rx.global;
       if (global) {
@@ -7517,7 +8089,7 @@ fixRegExpWellKnownSymbolLogic$2('replace', 2, function (REPLACE, nativeReplace,
         results.push(result);
         if (!global) break;
 
-        var matchStr = String(result[0]);
+        var matchStr = toString$8(result[0]);
         if (matchStr === '') rx.lastIndex = advanceStringIndex$1(S, toLength$d(rx.lastIndex), fullUnicode);
       }
 
@@ -7526,8 +8098,8 @@ fixRegExpWellKnownSymbolLogic$2('replace', 2, function (REPLACE, nativeReplace,
       for (var i = 0; i < results.length; i++) {
         result = results[i];
 
-        var matched = String(result[0]);
-        var position = max$2(min$3(toInteger$4(result.index), S.length), 0);
+        var matched = toString$8(result[0]);
+        var position = max$3(min$4(toInteger$4(result.index), S.length), 0);
         var captures = [];
         // NOTE: This is equivalent to
         //   captures = result.slice(1).map(maybeToString)
@@ -7539,7 +8111,7 @@ fixRegExpWellKnownSymbolLogic$2('replace', 2, function (REPLACE, nativeReplace,
         if (functionalReplace) {
           var replacerArgs = [matched].concat(captures, position, S);
           if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);
-          var replacement = String(replaceValue.apply(undefined, replacerArgs));
+          var replacement = toString$8(replaceValue.apply(undefined, replacerArgs));
         } else {
           replacement = getSubstitution$1(matched, S, position, captures, namedCaptures, replaceValue);
         }
@@ -7551,18 +8123,21 @@ fixRegExpWellKnownSymbolLogic$2('replace', 2, function (REPLACE, nativeReplace,
       return accumulatedResult + S.slice(nextSourcePosition);
     }
   ];
-});
+}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);
 
-var $$2c = _export;
-var requireObjectCoercible$5 = requireObjectCoercible$h;
+var $$2f = _export;
+var requireObjectCoercible$6 = requireObjectCoercible$j;
+var isCallable$7 = isCallable$z;
 var isRegExp$1 = isRegexp;
+var toString$7 = toString$t;
+var getMethod$a = getMethod$h;
 var getRegExpFlags = regexpFlags$1;
 var getSubstitution = getSubstitution$2;
-var wellKnownSymbol$b = wellKnownSymbol$C;
+var wellKnownSymbol$d = wellKnownSymbol$G;
 
-var REPLACE = wellKnownSymbol$b('replace');
+var REPLACE = wellKnownSymbol$d('replace');
 var RegExpPrototype = RegExp.prototype;
-var max$1 = Math.max;
+var max$2 = Math.max;
 
 var stringIndexOf = function (string, searchValue, fromIndex) {
   if (fromIndex > string.length) return -1;
@@ -7572,9 +8147,9 @@ var stringIndexOf = function (string, searchValue, fromIndex) {
 
 // `String.prototype.replaceAll` method
 // https://tc39.es/ecma262/#sec-string.prototype.replaceall
-$$2c({ target: 'String', proto: true }, {
+$$2f({ target: 'String', proto: true }, {
   replaceAll: function replaceAll(searchValue, replaceValue) {
-    var O = requireObjectCoercible$5(this);
+    var O = requireObjectCoercible$6(this);
     var IS_REG_EXP, flags, replacer, string, searchString, functionalReplace, searchLength, advanceBy, replacement;
     var position = 0;
     var endOfLastMatch = 0;
@@ -7582,27 +8157,27 @@ $$2c({ target: 'String', proto: true }, {
     if (searchValue != null) {
       IS_REG_EXP = isRegExp$1(searchValue);
       if (IS_REG_EXP) {
-        flags = String(requireObjectCoercible$5('flags' in RegExpPrototype
+        flags = toString$7(requireObjectCoercible$6('flags' in RegExpPrototype
           ? searchValue.flags
           : getRegExpFlags.call(searchValue)
         ));
         if (!~flags.indexOf('g')) throw TypeError('`.replaceAll` does not allow non-global regexes');
       }
-      replacer = searchValue[REPLACE];
-      if (replacer !== undefined) {
+      replacer = getMethod$a(searchValue, REPLACE);
+      if (replacer) {
         return replacer.call(searchValue, O, replaceValue);
       }
     }
-    string = String(O);
-    searchString = String(searchValue);
-    functionalReplace = typeof replaceValue === 'function';
-    if (!functionalReplace) replaceValue = String(replaceValue);
+    string = toString$7(O);
+    searchString = toString$7(searchValue);
+    functionalReplace = isCallable$7(replaceValue);
+    if (!functionalReplace) replaceValue = toString$7(replaceValue);
     searchLength = searchString.length;
-    advanceBy = max$1(1, searchLength);
+    advanceBy = max$2(1, searchLength);
     position = stringIndexOf(string, searchString, 0);
     while (position !== -1) {
       if (functionalReplace) {
-        replacement = String(replaceValue(searchString, position, string));
+        replacement = toString$7(replaceValue(searchString, position, string));
       } else {
         replacement = getSubstitution(searchString, string, position, [], undefined, replaceValue);
       }
@@ -7618,29 +8193,31 @@ $$2c({ target: 'String', proto: true }, {
 });
 
 var fixRegExpWellKnownSymbolLogic$1 = fixRegexpWellKnownSymbolLogic;
-var anObject$15 = anObject$1z;
-var requireObjectCoercible$4 = requireObjectCoercible$h;
+var anObject$16 = anObject$1C;
+var requireObjectCoercible$5 = requireObjectCoercible$j;
 var sameValue = sameValue$1;
+var toString$6 = toString$t;
+var getMethod$9 = getMethod$h;
 var regExpExec = regexpExecAbstract;
 
 // @@search logic
-fixRegExpWellKnownSymbolLogic$1('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {
+fixRegExpWellKnownSymbolLogic$1('search', function (SEARCH, nativeSearch, maybeCallNative) {
   return [
     // `String.prototype.search` method
     // https://tc39.es/ecma262/#sec-string.prototype.search
     function search(regexp) {
-      var O = requireObjectCoercible$4(this);
-      var searcher = regexp == undefined ? undefined : regexp[SEARCH];
-      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));
+      var O = requireObjectCoercible$5(this);
+      var searcher = regexp == undefined ? undefined : getMethod$9(regexp, SEARCH);
+      return searcher ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](toString$6(O));
     },
     // `RegExp.prototype[@@search]` method
     // https://tc39.es/ecma262/#sec-regexp.prototype-@@search
-    function (regexp) {
-      var res = maybeCallNative(nativeSearch, regexp, this);
-      if (res.done) return res.value;
+    function (string) {
+      var rx = anObject$16(this);
+      var S = toString$6(string);
+      var res = maybeCallNative(nativeSearch, rx, S);
 
-      var rx = anObject$15(regexp);
-      var S = String(this);
+      if (res.done) return res.value;
 
       var previousLastIndex = rx.lastIndex;
       if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;
@@ -7653,22 +8230,36 @@ fixRegExpWellKnownSymbolLogic$1('search', 1, function (SEARCH, nativeSearch, may
 
 var fixRegExpWellKnownSymbolLogic = fixRegexpWellKnownSymbolLogic;
 var isRegExp = isRegexp;
-var anObject$14 = anObject$1z;
-var requireObjectCoercible$3 = requireObjectCoercible$h;
-var speciesConstructor$d = speciesConstructor$i;
+var anObject$15 = anObject$1C;
+var requireObjectCoercible$4 = requireObjectCoercible$j;
+var speciesConstructor$a = speciesConstructor$f;
 var advanceStringIndex = advanceStringIndex$4;
-var toLength$c = toLength$B;
+var toLength$c = toLength$D;
+var toString$5 = toString$t;
+var getMethod$8 = getMethod$h;
 var callRegExpExec = regexpExecAbstract;
 var regexpExec = regexpExec$3;
 var stickyHelpers = regexpStickyHelpers;
+var fails$b = fails$15;
 
 var UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;
 var arrayPush = [].push;
-var min$2 = Math.min;
+var min$3 = Math.min;
 var MAX_UINT32 = 0xFFFFFFFF;
 
+// Chrome 51 has a buggy "split" implementation when RegExp#exec !== nativeExec
+// Weex JS has frozen built-in prototypes, so use try / catch wrapper
+var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails$b(function () {
+  // eslint-disable-next-line regexp/no-empty-group -- required for testing
+  var re = /(?:)/;
+  var originalExec = re.exec;
+  re.exec = function () { return originalExec.apply(this, arguments); };
+  var result = 'ab'.split(re);
+  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';
+});
+
 // @@split logic
-fixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {
+fixRegExpWellKnownSymbolLogic('split', function (SPLIT, nativeSplit, maybeCallNative) {
   var internalSplit;
   if (
     'abbc'.split(/(b)*/)[1] == 'c' ||
@@ -7676,13 +8267,13 @@ fixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCal
     'test'.split(/(?:)/, -1).length != 4 ||
     'ab'.split(/(?:ab)*/).length != 2 ||
     '.'.split(/(.?)(.?)/).length != 4 ||
-    // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing
+    // eslint-disable-next-line regexp/no-empty-capturing-group, regexp/no-empty-group -- required for testing
     '.'.split(/()()/).length > 1 ||
     ''.split(/.?/).length
   ) {
     // based on es5-shim implementation, need to rework it
     internalSplit = function (separator, limit) {
-      var string = String(requireObjectCoercible$3(this));
+      var string = toString$5(requireObjectCoercible$4(this));
       var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;
       if (lim === 0) return [];
       if (separator === undefined) return [string];
@@ -7726,24 +8317,25 @@ fixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCal
     // `String.prototype.split` method
     // https://tc39.es/ecma262/#sec-string.prototype.split
     function split(separator, limit) {
-      var O = requireObjectCoercible$3(this);
-      var splitter = separator == undefined ? undefined : separator[SPLIT];
-      return splitter !== undefined
+      var O = requireObjectCoercible$4(this);
+      var splitter = separator == undefined ? undefined : getMethod$8(separator, SPLIT);
+      return splitter
         ? splitter.call(separator, O, limit)
-        : internalSplit.call(String(O), separator, limit);
+        : internalSplit.call(toString$5(O), separator, limit);
     },
     // `RegExp.prototype[@@split]` method
     // https://tc39.es/ecma262/#sec-regexp.prototype-@@split
     //
     // NOTE: This cannot be properly polyfilled in engines that don't support
     // the 'y' flag.
-    function (regexp, limit) {
-      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);
+    function (string, limit) {
+      var rx = anObject$15(this);
+      var S = toString$5(string);
+      var res = maybeCallNative(internalSplit, rx, S, limit, internalSplit !== nativeSplit);
+
       if (res.done) return res.value;
 
-      var rx = anObject$14(regexp);
-      var S = String(this);
-      var C = speciesConstructor$d(rx, RegExp);
+      var C = speciesConstructor$a(rx, RegExp);
 
       var unicodeMatching = rx.unicode;
       var flags = (rx.ignoreCase ? 'i' : '') +
@@ -7766,7 +8358,7 @@ fixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCal
         var e;
         if (
           z === null ||
-          (e = min$2(toLength$c(splitter.lastIndex + (UNSUPPORTED_Y ? q : 0)), S.length)) === p
+          (e = min$3(toLength$c(splitter.lastIndex + (UNSUPPORTED_Y ? q : 0)), S.length)) === p
         ) {
           q = advanceStringIndex(S, q, unicodeMatching);
         } else {
@@ -7783,18 +8375,19 @@ fixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCal
       return A;
     }
   ];
-}, UNSUPPORTED_Y);
+}, !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC, UNSUPPORTED_Y);
 
-var $$2b = _export;
+var $$2e = _export;
 var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;
-var toLength$b = toLength$B;
+var toLength$b = toLength$D;
+var toString$4 = toString$t;
 var notARegExp = notARegexp;
-var requireObjectCoercible$2 = requireObjectCoercible$h;
+var requireObjectCoercible$3 = requireObjectCoercible$j;
 var correctIsRegExpLogic = correctIsRegexpLogic;
 
 // eslint-disable-next-line es/no-string-prototype-startswith -- safe
 var $startsWith = ''.startsWith;
-var min$1 = Math.min;
+var min$2 = Math.min;
 
 var CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');
 // https://github.com/zloirock/core-js/pull/702
@@ -7805,19 +8398,46 @@ var MDN_POLYFILL_BUG = !CORRECT_IS_REGEXP_LOGIC && !!function () {
 
 // `String.prototype.startsWith` method
 // https://tc39.es/ecma262/#sec-string.prototype.startswith
-$$2b({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {
+$$2e({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {
   startsWith: function startsWith(searchString /* , position = 0 */) {
-    var that = String(requireObjectCoercible$2(this));
+    var that = toString$4(requireObjectCoercible$3(this));
     notARegExp(searchString);
-    var index = toLength$b(min$1(arguments.length > 1 ? arguments[1] : undefined, that.length));
-    var search = String(searchString);
+    var index = toLength$b(min$2(arguments.length > 1 ? arguments[1] : undefined, that.length));
+    var search = toString$4(searchString);
     return $startsWith
       ? $startsWith.call(that, search, index)
       : that.slice(index, index + search.length) === search;
   }
 });
 
-var fails$a = fails$X;
+var $$2d = _export;
+var requireObjectCoercible$2 = requireObjectCoercible$j;
+var toInteger$3 = toInteger$i;
+var toString$3 = toString$t;
+
+var slice$1 = ''.slice;
+var max$1 = Math.max;
+var min$1 = Math.min;
+
+// `String.prototype.substr` method
+// https://tc39.es/ecma262/#sec-string.prototype.substr
+$$2d({ target: 'String', proto: true }, {
+  substr: function substr(start, length) {
+    var that = toString$3(requireObjectCoercible$2(this));
+    var size = that.length;
+    var intStart = toInteger$3(start);
+    var intLength, intEnd;
+    if (intStart === Infinity) intStart = 0;
+    if (intStart < 0) intStart = max$1(size + intStart, 0);
+    intLength = length === undefined ? size : toInteger$3(length);
+    if (intLength <= 0 || intLength === Infinity) return '';
+    intEnd = min$1(intStart + intLength, size);
+    return intStart >= intEnd ? '' : slice$1.call(that, intStart, intEnd);
+  }
+});
+
+var PROPER_FUNCTION_NAME$1 = functionName.PROPER;
+var fails$a = fails$15;
 var whitespaces = whitespaces$4;
 
 var non = '\u200B\u0085\u180E';
@@ -7826,23 +8446,25 @@ var non = '\u200B\u0085\u180E';
 // of whitespaces and has a correct name
 var stringTrimForced = function (METHOD_NAME) {
   return fails$a(function () {
-    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;
+    return !!whitespaces[METHOD_NAME]()
+      || non[METHOD_NAME]() !== non
+      || (PROPER_FUNCTION_NAME$1 && whitespaces[METHOD_NAME].name !== METHOD_NAME);
   });
 };
 
-var $$2a = _export;
+var $$2c = _export;
 var $trim = stringTrim.trim;
 var forcedStringTrimMethod$2 = stringTrimForced;
 
 // `String.prototype.trim` method
 // https://tc39.es/ecma262/#sec-string.prototype.trim
-$$2a({ target: 'String', proto: true, forced: forcedStringTrimMethod$2('trim') }, {
+$$2c({ target: 'String', proto: true, forced: forcedStringTrimMethod$2('trim') }, {
   trim: function trim() {
     return $trim(this);
   }
 });
 
-var $$29 = _export;
+var $$2b = _export;
 var $trimEnd = stringTrim.end;
 var forcedStringTrimMethod$1 = stringTrimForced;
 
@@ -7856,12 +8478,12 @@ var trimEnd = FORCED$7 ? function trimEnd() {
 // `String.prototype.{ trimEnd, trimRight }` methods
 // https://tc39.es/ecma262/#sec-string.prototype.trimend
 // https://tc39.es/ecma262/#String.prototype.trimright
-$$29({ target: 'String', proto: true, forced: FORCED$7 }, {
+$$2b({ target: 'String', proto: true, name: 'trimEnd', forced: FORCED$7 }, {
   trimEnd: trimEnd,
   trimRight: trimEnd
 });
 
-var $$28 = _export;
+var $$2a = _export;
 var $trimStart = stringTrim.start;
 var forcedStringTrimMethod = stringTrimForced;
 
@@ -7875,25 +8497,26 @@ var trimStart = FORCED$6 ? function trimStart() {
 // `String.prototype.{ trimStart, trimLeft }` methods
 // https://tc39.es/ecma262/#sec-string.prototype.trimstart
 // https://tc39.es/ecma262/#String.prototype.trimleft
-$$28({ target: 'String', proto: true, forced: FORCED$6 }, {
+$$2a({ target: 'String', proto: true, name: 'trimStart', forced: FORCED$6 }, {
   trimStart: trimStart,
   trimLeft: trimStart
 });
 
-var requireObjectCoercible$1 = requireObjectCoercible$h;
+var requireObjectCoercible$1 = requireObjectCoercible$j;
+var toString$2 = toString$t;
 
 var quot = /"/g;
 
 // `CreateHTML` abstract operation
 // https://tc39.es/ecma262/#sec-createhtml
 var createHtml = function (string, tag, attribute, value) {
-  var S = String(requireObjectCoercible$1(string));
+  var S = toString$2(requireObjectCoercible$1(string));
   var p1 = '<' + tag;
-  if (attribute !== '') p1 += ' ' + attribute + '="' + String(value).replace(quot, '&quot;') + '"';
+  if (attribute !== '') p1 += ' ' + attribute + '="' + toString$2(value).replace(quot, '&quot;') + '"';
   return p1 + '>' + S + '</' + tag + '>';
 };
 
-var fails$9 = fails$X;
+var fails$9 = fails$15;
 
 // check the existence of a method, lowercase
 // of a tag and escaping quotes in arguments
@@ -7904,157 +8527,157 @@ var stringHtmlForced = function (METHOD_NAME) {
   });
 };
 
-var $$27 = _export;
+var $$29 = _export;
 var createHTML$c = createHtml;
 var forcedStringHTMLMethod$c = stringHtmlForced;
 
 // `String.prototype.anchor` method
 // https://tc39.es/ecma262/#sec-string.prototype.anchor
-$$27({ target: 'String', proto: true, forced: forcedStringHTMLMethod$c('anchor') }, {
+$$29({ target: 'String', proto: true, forced: forcedStringHTMLMethod$c('anchor') }, {
   anchor: function anchor(name) {
     return createHTML$c(this, 'a', 'name', name);
   }
 });
 
-var $$26 = _export;
+var $$28 = _export;
 var createHTML$b = createHtml;
 var forcedStringHTMLMethod$b = stringHtmlForced;
 
 // `String.prototype.big` method
 // https://tc39.es/ecma262/#sec-string.prototype.big
-$$26({ target: 'String', proto: true, forced: forcedStringHTMLMethod$b('big') }, {
+$$28({ target: 'String', proto: true, forced: forcedStringHTMLMethod$b('big') }, {
   big: function big() {
     return createHTML$b(this, 'big', '', '');
   }
 });
 
-var $$25 = _export;
+var $$27 = _export;
 var createHTML$a = createHtml;
 var forcedStringHTMLMethod$a = stringHtmlForced;
 
 // `String.prototype.blink` method
 // https://tc39.es/ecma262/#sec-string.prototype.blink
-$$25({ target: 'String', proto: true, forced: forcedStringHTMLMethod$a('blink') }, {
+$$27({ target: 'String', proto: true, forced: forcedStringHTMLMethod$a('blink') }, {
   blink: function blink() {
     return createHTML$a(this, 'blink', '', '');
   }
 });
 
-var $$24 = _export;
+var $$26 = _export;
 var createHTML$9 = createHtml;
 var forcedStringHTMLMethod$9 = stringHtmlForced;
 
 // `String.prototype.bold` method
 // https://tc39.es/ecma262/#sec-string.prototype.bold
-$$24({ target: 'String', proto: true, forced: forcedStringHTMLMethod$9('bold') }, {
+$$26({ target: 'String', proto: true, forced: forcedStringHTMLMethod$9('bold') }, {
   bold: function bold() {
     return createHTML$9(this, 'b', '', '');
   }
 });
 
-var $$23 = _export;
+var $$25 = _export;
 var createHTML$8 = createHtml;
 var forcedStringHTMLMethod$8 = stringHtmlForced;
 
 // `String.prototype.fixed` method
 // https://tc39.es/ecma262/#sec-string.prototype.fixed
-$$23({ target: 'String', proto: true, forced: forcedStringHTMLMethod$8('fixed') }, {
+$$25({ target: 'String', proto: true, forced: forcedStringHTMLMethod$8('fixed') }, {
   fixed: function fixed() {
     return createHTML$8(this, 'tt', '', '');
   }
 });
 
-var $$22 = _export;
+var $$24 = _export;
 var createHTML$7 = createHtml;
 var forcedStringHTMLMethod$7 = stringHtmlForced;
 
 // `String.prototype.fontcolor` method
 // https://tc39.es/ecma262/#sec-string.prototype.fontcolor
-$$22({ target: 'String', proto: true, forced: forcedStringHTMLMethod$7('fontcolor') }, {
+$$24({ target: 'String', proto: true, forced: forcedStringHTMLMethod$7('fontcolor') }, {
   fontcolor: function fontcolor(color) {
     return createHTML$7(this, 'font', 'color', color);
   }
 });
 
-var $$21 = _export;
+var $$23 = _export;
 var createHTML$6 = createHtml;
 var forcedStringHTMLMethod$6 = stringHtmlForced;
 
 // `String.prototype.fontsize` method
 // https://tc39.es/ecma262/#sec-string.prototype.fontsize
-$$21({ target: 'String', proto: true, forced: forcedStringHTMLMethod$6('fontsize') }, {
+$$23({ target: 'String', proto: true, forced: forcedStringHTMLMethod$6('fontsize') }, {
   fontsize: function fontsize(size) {
     return createHTML$6(this, 'font', 'size', size);
   }
 });
 
-var $$20 = _export;
+var $$22 = _export;
 var createHTML$5 = createHtml;
 var forcedStringHTMLMethod$5 = stringHtmlForced;
 
 // `String.prototype.italics` method
 // https://tc39.es/ecma262/#sec-string.prototype.italics
-$$20({ target: 'String', proto: true, forced: forcedStringHTMLMethod$5('italics') }, {
+$$22({ target: 'String', proto: true, forced: forcedStringHTMLMethod$5('italics') }, {
   italics: function italics() {
     return createHTML$5(this, 'i', '', '');
   }
 });
 
-var $$1$ = _export;
+var $$21 = _export;
 var createHTML$4 = createHtml;
 var forcedStringHTMLMethod$4 = stringHtmlForced;
 
 // `String.prototype.link` method
 // https://tc39.es/ecma262/#sec-string.prototype.link
-$$1$({ target: 'String', proto: true, forced: forcedStringHTMLMethod$4('link') }, {
+$$21({ target: 'String', proto: true, forced: forcedStringHTMLMethod$4('link') }, {
   link: function link(url) {
     return createHTML$4(this, 'a', 'href', url);
   }
 });
 
-var $$1_ = _export;
+var $$20 = _export;
 var createHTML$3 = createHtml;
 var forcedStringHTMLMethod$3 = stringHtmlForced;
 
 // `String.prototype.small` method
 // https://tc39.es/ecma262/#sec-string.prototype.small
-$$1_({ target: 'String', proto: true, forced: forcedStringHTMLMethod$3('small') }, {
+$$20({ target: 'String', proto: true, forced: forcedStringHTMLMethod$3('small') }, {
   small: function small() {
     return createHTML$3(this, 'small', '', '');
   }
 });
 
-var $$1Z = _export;
+var $$1$ = _export;
 var createHTML$2 = createHtml;
 var forcedStringHTMLMethod$2 = stringHtmlForced;
 
 // `String.prototype.strike` method
 // https://tc39.es/ecma262/#sec-string.prototype.strike
-$$1Z({ target: 'String', proto: true, forced: forcedStringHTMLMethod$2('strike') }, {
+$$1$({ target: 'String', proto: true, forced: forcedStringHTMLMethod$2('strike') }, {
   strike: function strike() {
     return createHTML$2(this, 'strike', '', '');
   }
 });
 
-var $$1Y = _export;
+var $$1_ = _export;
 var createHTML$1 = createHtml;
 var forcedStringHTMLMethod$1 = stringHtmlForced;
 
 // `String.prototype.sub` method
 // https://tc39.es/ecma262/#sec-string.prototype.sub
-$$1Y({ target: 'String', proto: true, forced: forcedStringHTMLMethod$1('sub') }, {
+$$1_({ target: 'String', proto: true, forced: forcedStringHTMLMethod$1('sub') }, {
   sub: function sub() {
     return createHTML$1(this, 'sub', '', '');
   }
 });
 
-var $$1X = _export;
+var $$1Z = _export;
 var createHTML = createHtml;
 var forcedStringHTMLMethod = stringHtmlForced;
 
 // `String.prototype.sup` method
 // https://tc39.es/ecma262/#sec-string.prototype.sup
-$$1X({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sup') }, {
+$$1Z({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sup') }, {
   sup: function sup() {
     return createHTML(this, 'sup', '', '');
   }
@@ -8064,13 +8687,13 @@ var typedArrayConstructor = {exports: {}};
 
 /* eslint-disable no-new -- required for testing */
 
-var global$f = global$M;
-var fails$8 = fails$X;
+var global$g = global$R;
+var fails$8 = fails$15;
 var checkCorrectnessOfIteration = checkCorrectnessOfIteration$4;
 var NATIVE_ARRAY_BUFFER_VIEWS$1 = arrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;
 
-var ArrayBuffer$2 = global$f.ArrayBuffer;
-var Int8Array$2 = global$f.Int8Array;
+var ArrayBuffer$2 = global$g.ArrayBuffer;
+var Int8Array$2 = global$g.Int8Array;
 
 var typedArrayConstructorsRequireWrappers = !NATIVE_ARRAY_BUFFER_VIEWS$1 || !fails$8(function () {
   Int8Array$2(1);
@@ -8086,10 +8709,10 @@ var typedArrayConstructorsRequireWrappers = !NATIVE_ARRAY_BUFFER_VIEWS$1 || !fai
   return new Int8Array$2(new ArrayBuffer$2(2), 1, undefined).length !== 1;
 });
 
-var toInteger$3 = toInteger$f;
+var toInteger$2 = toInteger$i;
 
 var toPositiveInteger$5 = function (it) {
-  var result = toInteger$3(it);
+  var result = toInteger$2(it);
   if (result < 0) throw RangeError("The argument can't be less than 0");
   return result;
 };
@@ -8102,22 +8725,25 @@ var toOffset$2 = function (it, BYTES) {
   return offset;
 };
 
-var toObject$9 = toObject$w;
-var toLength$a = toLength$B;
-var getIteratorMethod$5 = getIteratorMethod$8;
+var aConstructor$2 = aConstructor$5;
+var toObject$a = toObject$z;
+var toLength$a = toLength$D;
+var getIterator$8 = getIterator$b;
+var getIteratorMethod$5 = getIteratorMethod$9;
 var isArrayIteratorMethod = isArrayIteratorMethod$3;
-var bind$f = functionBindContext;
-var aTypedArrayConstructor$5 = arrayBufferViewCore.aTypedArrayConstructor;
+var bind$h = functionBindContext;
+var aTypedArrayConstructor$4 = arrayBufferViewCore.aTypedArrayConstructor;
 
 var typedArrayFrom$2 = function from(source /* , mapfn, thisArg */) {
-  var O = toObject$9(source);
+  var C = aConstructor$2(this);
+  var O = toObject$a(source);
   var argumentsLength = arguments.length;
   var mapfn = argumentsLength > 1 ? arguments[1] : undefined;
   var mapping = mapfn !== undefined;
   var iteratorMethod = getIteratorMethod$5(O);
   var i, length, result, step, iterator, next;
-  if (iteratorMethod != undefined && !isArrayIteratorMethod(iteratorMethod)) {
-    iterator = iteratorMethod.call(O);
+  if (iteratorMethod && !isArrayIteratorMethod(iteratorMethod)) {
+    iterator = getIterator$8(O, iteratorMethod);
     next = iterator.next;
     O = [];
     while (!(step = next.call(iterator)).done) {
@@ -8125,33 +8751,35 @@ var typedArrayFrom$2 = function from(source /* , mapfn, thisArg */) {
     }
   }
   if (mapping && argumentsLength > 2) {
-    mapfn = bind$f(mapfn, arguments[2], 2);
+    mapfn = bind$h(mapfn, arguments[2], 2);
   }
   length = toLength$a(O.length);
-  result = new (aTypedArrayConstructor$5(this))(length);
+  result = new (aTypedArrayConstructor$4(C))(length);
   for (i = 0; length > i; i++) {
     result[i] = mapping ? mapfn(O[i], i) : O[i];
   }
   return result;
 };
 
-var $$1W = _export;
-var global$e = global$M;
+var $$1Y = _export;
+var global$f = global$R;
 var DESCRIPTORS$5 = descriptors;
-var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$2 = typedArrayConstructorsRequireWrappers;
-var ArrayBufferViewCore$s = arrayBufferViewCore;
+var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$3 = typedArrayConstructorsRequireWrappers;
+var ArrayBufferViewCore$w = arrayBufferViewCore;
 var ArrayBufferModule = arrayBuffer;
 var anInstance$6 = anInstance$b;
 var createPropertyDescriptor$1 = createPropertyDescriptor$9;
-var createNonEnumerableProperty$8 = createNonEnumerableProperty$m;
-var toLength$9 = toLength$B;
+var createNonEnumerableProperty$6 = createNonEnumerableProperty$g;
+var isInteger = isInteger$3;
+var toLength$9 = toLength$D;
 var toIndex = toIndex$2;
 var toOffset$1 = toOffset$2;
-var toPrimitive = toPrimitive$b;
-var has$5 = has$n;
-var classof$1 = classof$b;
+var toPropertyKey$1 = toPropertyKey$9;
+var has$4 = has$m;
+var classof$1 = classof$c;
 var isObject$6 = isObject$B;
-var create$5 = objectCreate;
+var isSymbol = isSymbol$5;
+var create$6 = objectCreate$1;
 var setPrototypeOf = objectSetPrototypeOf$1;
 var getOwnPropertyNames = objectGetOwnPropertyNames.f;
 var typedArrayFrom$1 = typedArrayFrom$2;
@@ -8159,37 +8787,38 @@ var forEach$1 = arrayIteration.forEach;
 var setSpecies$1 = setSpecies$7;
 var definePropertyModule = objectDefineProperty;
 var getOwnPropertyDescriptorModule = objectGetOwnPropertyDescriptor;
-var InternalStateModule$a = internalState;
+var InternalStateModule$b = internalState;
 var inheritIfRequired = inheritIfRequired$4;
 
-var getInternalState$7 = InternalStateModule$a.get;
-var setInternalState$a = InternalStateModule$a.set;
+var getInternalState$8 = InternalStateModule$b.get;
+var setInternalState$b = InternalStateModule$b.set;
 var nativeDefineProperty = definePropertyModule.f;
 var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
 var round = Math.round;
-var RangeError$1 = global$e.RangeError;
+var RangeError$1 = global$f.RangeError;
 var ArrayBuffer$1 = ArrayBufferModule.ArrayBuffer;
 var DataView$1 = ArrayBufferModule.DataView;
-var NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore$s.NATIVE_ARRAY_BUFFER_VIEWS;
-var TYPED_ARRAY_TAG = ArrayBufferViewCore$s.TYPED_ARRAY_TAG;
-var TypedArray = ArrayBufferViewCore$s.TypedArray;
-var TypedArrayPrototype = ArrayBufferViewCore$s.TypedArrayPrototype;
-var aTypedArrayConstructor$4 = ArrayBufferViewCore$s.aTypedArrayConstructor;
-var isTypedArray = ArrayBufferViewCore$s.isTypedArray;
+var NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore$w.NATIVE_ARRAY_BUFFER_VIEWS;
+var TYPED_ARRAY_CONSTRUCTOR$1 = ArrayBufferViewCore$w.TYPED_ARRAY_CONSTRUCTOR;
+var TYPED_ARRAY_TAG = ArrayBufferViewCore$w.TYPED_ARRAY_TAG;
+var TypedArray = ArrayBufferViewCore$w.TypedArray;
+var TypedArrayPrototype = ArrayBufferViewCore$w.TypedArrayPrototype;
+var aTypedArrayConstructor$3 = ArrayBufferViewCore$w.aTypedArrayConstructor;
+var isTypedArray = ArrayBufferViewCore$w.isTypedArray;
 var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';
 var WRONG_LENGTH = 'Wrong length';
 
 var fromList = function (C, list) {
   var index = 0;
   var length = list.length;
-  var result = new (aTypedArrayConstructor$4(C))(length);
+  var result = new (aTypedArrayConstructor$3(C))(length);
   while (length > index) result[index] = list[index++];
   return result;
 };
 
 var addGetter = function (it, key) {
   nativeDefineProperty(it, key, { get: function () {
-    return getInternalState$7(this)[key];
+    return getInternalState$8(this)[key];
   } });
 };
 
@@ -8200,27 +8829,30 @@ var isArrayBuffer = function (it) {
 
 var isTypedArrayIndex = function (target, key) {
   return isTypedArray(target)
-    && typeof key != 'symbol'
+    && !isSymbol(key)
     && key in target
-    && String(+key) == String(key);
+    && isInteger(+key)
+    && key >= 0;
 };
 
 var wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {
-  return isTypedArrayIndex(target, key = toPrimitive(key, true))
+  key = toPropertyKey$1(key);
+  return isTypedArrayIndex(target, key)
     ? createPropertyDescriptor$1(2, target[key])
     : nativeGetOwnPropertyDescriptor(target, key);
 };
 
 var wrappedDefineProperty = function defineProperty(target, key, descriptor) {
-  if (isTypedArrayIndex(target, key = toPrimitive(key, true))
+  key = toPropertyKey$1(key);
+  if (isTypedArrayIndex(target, key)
     && isObject$6(descriptor)
-    && has$5(descriptor, 'value')
-    && !has$5(descriptor, 'get')
-    && !has$5(descriptor, 'set')
+    && has$4(descriptor, 'value')
+    && !has$4(descriptor, 'get')
+    && !has$4(descriptor, 'set')
     // TODO: add validation descriptor w/o calling accessors
     && !descriptor.configurable
-    && (!has$5(descriptor, 'writable') || descriptor.writable)
-    && (!has$5(descriptor, 'enumerable') || descriptor.enumerable)
+    && (!has$4(descriptor, 'writable') || descriptor.writable)
+    && (!has$4(descriptor, 'enumerable') || descriptor.enumerable)
   ) {
     target[key] = descriptor.value;
     return target;
@@ -8237,7 +8869,7 @@ if (DESCRIPTORS$5) {
     addGetter(TypedArrayPrototype, 'length');
   }
 
-  $$1W({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {
+  $$1Y({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {
     getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,
     defineProperty: wrappedDefineProperty
   });
@@ -8247,18 +8879,18 @@ if (DESCRIPTORS$5) {
     var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';
     var GETTER = 'get' + TYPE;
     var SETTER = 'set' + TYPE;
-    var NativeTypedArrayConstructor = global$e[CONSTRUCTOR_NAME];
+    var NativeTypedArrayConstructor = global$f[CONSTRUCTOR_NAME];
     var TypedArrayConstructor = NativeTypedArrayConstructor;
     var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;
     var exported = {};
 
     var getter = function (that, index) {
-      var data = getInternalState$7(that);
+      var data = getInternalState$8(that);
       return data.view[GETTER](index * BYTES + data.byteOffset, true);
     };
 
     var setter = function (that, index, value) {
-      var data = getInternalState$7(that);
+      var data = getInternalState$8(that);
       if (CLAMPED) value = (value = round(value)) < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;
       data.view[SETTER](index * BYTES + data.byteOffset, value, true);
     };
@@ -8303,7 +8935,7 @@ if (DESCRIPTORS$5) {
         } else {
           return typedArrayFrom$1.call(TypedArrayConstructor, data);
         }
-        setInternalState$a(that, {
+        setInternalState$b(that, {
           buffer: buffer,
           byteOffset: byteOffset,
           byteLength: byteLength,
@@ -8314,8 +8946,8 @@ if (DESCRIPTORS$5) {
       });
 
       if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);
-      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create$5(TypedArrayPrototype);
-    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$2) {
+      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create$6(TypedArrayPrototype);
+    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$3) {
       TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {
         anInstance$6(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);
         return inheritIfRequired(function () {
@@ -8333,32 +8965,34 @@ if (DESCRIPTORS$5) {
       if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);
       forEach$1(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {
         if (!(key in TypedArrayConstructor)) {
-          createNonEnumerableProperty$8(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);
+          createNonEnumerableProperty$6(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);
         }
       });
       TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;
     }
 
     if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {
-      createNonEnumerableProperty$8(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);
+      createNonEnumerableProperty$6(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);
     }
 
+    createNonEnumerableProperty$6(TypedArrayConstructorPrototype, TYPED_ARRAY_CONSTRUCTOR$1, TypedArrayConstructor);
+
     if (TYPED_ARRAY_TAG) {
-      createNonEnumerableProperty$8(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);
+      createNonEnumerableProperty$6(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);
     }
 
     exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;
 
-    $$1W({
+    $$1Y({
       global: true, forced: TypedArrayConstructor != NativeTypedArrayConstructor, sham: !NATIVE_ARRAY_BUFFER_VIEWS
     }, exported);
 
     if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {
-      createNonEnumerableProperty$8(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);
+      createNonEnumerableProperty$6(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);
     }
 
     if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {
-      createNonEnumerableProperty$8(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);
+      createNonEnumerableProperty$6(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);
     }
 
     setSpecies$1(CONSTRUCTOR_NAME);
@@ -8455,268 +9089,299 @@ createTypedArrayConstructor('Uint32', function (init) {
   };
 });
 
-var ArrayBufferViewCore$r = arrayBufferViewCore;
+var ArrayBufferViewCore$v = arrayBufferViewCore;
+var toLength$8 = toLength$D;
+var toInteger$1 = toInteger$i;
+
+var aTypedArray$s = ArrayBufferViewCore$v.aTypedArray;
+var exportTypedArrayMethod$t = ArrayBufferViewCore$v.exportTypedArrayMethod;
+
+// `%TypedArray%.prototype.at` method
+// https://github.com/tc39/proposal-relative-indexing-method
+exportTypedArrayMethod$t('at', function at(index) {
+  var O = aTypedArray$s(this);
+  var len = toLength$8(O.length);
+  var relativeIndex = toInteger$1(index);
+  var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;
+  return (k < 0 || k >= len) ? undefined : O[k];
+});
+
+var ArrayBufferViewCore$u = arrayBufferViewCore;
 var $copyWithin = arrayCopyWithin;
 
-var aTypedArray$q = ArrayBufferViewCore$r.aTypedArray;
-var exportTypedArrayMethod$r = ArrayBufferViewCore$r.exportTypedArrayMethod;
+var aTypedArray$r = ArrayBufferViewCore$u.aTypedArray;
+var exportTypedArrayMethod$s = ArrayBufferViewCore$u.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.copyWithin` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.copywithin
-exportTypedArrayMethod$r('copyWithin', function copyWithin(target, start /* , end */) {
-  return $copyWithin.call(aTypedArray$q(this), target, start, arguments.length > 2 ? arguments[2] : undefined);
+exportTypedArrayMethod$s('copyWithin', function copyWithin(target, start /* , end */) {
+  return $copyWithin.call(aTypedArray$r(this), target, start, arguments.length > 2 ? arguments[2] : undefined);
 });
 
-var ArrayBufferViewCore$q = arrayBufferViewCore;
+var ArrayBufferViewCore$t = arrayBufferViewCore;
 var $every$1 = arrayIteration.every;
 
-var aTypedArray$p = ArrayBufferViewCore$q.aTypedArray;
-var exportTypedArrayMethod$q = ArrayBufferViewCore$q.exportTypedArrayMethod;
+var aTypedArray$q = ArrayBufferViewCore$t.aTypedArray;
+var exportTypedArrayMethod$r = ArrayBufferViewCore$t.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.every` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.every
-exportTypedArrayMethod$q('every', function every(callbackfn /* , thisArg */) {
-  return $every$1(aTypedArray$p(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
+exportTypedArrayMethod$r('every', function every(callbackfn /* , thisArg */) {
+  return $every$1(aTypedArray$q(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
 });
 
-var ArrayBufferViewCore$p = arrayBufferViewCore;
+var ArrayBufferViewCore$s = arrayBufferViewCore;
 var $fill = arrayFill$1;
 
-var aTypedArray$o = ArrayBufferViewCore$p.aTypedArray;
-var exportTypedArrayMethod$p = ArrayBufferViewCore$p.exportTypedArrayMethod;
+var aTypedArray$p = ArrayBufferViewCore$s.aTypedArray;
+var exportTypedArrayMethod$q = ArrayBufferViewCore$s.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.fill` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.fill
 // eslint-disable-next-line no-unused-vars -- required for `.length`
-exportTypedArrayMethod$p('fill', function fill(value /* , start, end */) {
-  return $fill.apply(aTypedArray$o(this), arguments);
+exportTypedArrayMethod$q('fill', function fill(value /* , start, end */) {
+  return $fill.apply(aTypedArray$p(this), arguments);
 });
 
-var aTypedArrayConstructor$3 = arrayBufferViewCore.aTypedArrayConstructor;
-var speciesConstructor$c = speciesConstructor$i;
-
-var typedArrayFromSpeciesAndList = function (instance, list) {
-  var C = speciesConstructor$c(instance, instance.constructor);
+var arrayFromConstructorAndList$3 = function (Constructor, list) {
   var index = 0;
   var length = list.length;
-  var result = new (aTypedArrayConstructor$3(C))(length);
+  var result = new Constructor(length);
   while (length > index) result[index] = list[index++];
   return result;
 };
 
-var ArrayBufferViewCore$o = arrayBufferViewCore;
+var ArrayBufferViewCore$r = arrayBufferViewCore;
+var speciesConstructor$9 = speciesConstructor$f;
+
+var TYPED_ARRAY_CONSTRUCTOR = ArrayBufferViewCore$r.TYPED_ARRAY_CONSTRUCTOR;
+var aTypedArrayConstructor$2 = ArrayBufferViewCore$r.aTypedArrayConstructor;
+
+// a part of `TypedArraySpeciesCreate` abstract operation
+// https://tc39.es/ecma262/#typedarray-species-create
+var typedArraySpeciesConstructor$5 = function (originalArray) {
+  return aTypedArrayConstructor$2(speciesConstructor$9(originalArray, originalArray[TYPED_ARRAY_CONSTRUCTOR]));
+};
+
+var arrayFromConstructorAndList$2 = arrayFromConstructorAndList$3;
+var typedArraySpeciesConstructor$4 = typedArraySpeciesConstructor$5;
+
+var typedArrayFromSpeciesAndList = function (instance, list) {
+  return arrayFromConstructorAndList$2(typedArraySpeciesConstructor$4(instance), list);
+};
+
+var ArrayBufferViewCore$q = arrayBufferViewCore;
 var $filter = arrayIteration.filter;
-var fromSpeciesAndList$2 = typedArrayFromSpeciesAndList;
+var fromSpeciesAndList$3 = typedArrayFromSpeciesAndList;
 
-var aTypedArray$n = ArrayBufferViewCore$o.aTypedArray;
-var exportTypedArrayMethod$o = ArrayBufferViewCore$o.exportTypedArrayMethod;
+var aTypedArray$o = ArrayBufferViewCore$q.aTypedArray;
+var exportTypedArrayMethod$p = ArrayBufferViewCore$q.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.filter` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.filter
-exportTypedArrayMethod$o('filter', function filter(callbackfn /* , thisArg */) {
-  var list = $filter(aTypedArray$n(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
-  return fromSpeciesAndList$2(this, list);
+exportTypedArrayMethod$p('filter', function filter(callbackfn /* , thisArg */) {
+  var list = $filter(aTypedArray$o(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
+  return fromSpeciesAndList$3(this, list);
 });
 
-var ArrayBufferViewCore$n = arrayBufferViewCore;
+var ArrayBufferViewCore$p = arrayBufferViewCore;
 var $find$1 = arrayIteration.find;
 
-var aTypedArray$m = ArrayBufferViewCore$n.aTypedArray;
-var exportTypedArrayMethod$n = ArrayBufferViewCore$n.exportTypedArrayMethod;
+var aTypedArray$n = ArrayBufferViewCore$p.aTypedArray;
+var exportTypedArrayMethod$o = ArrayBufferViewCore$p.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.find` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.find
-exportTypedArrayMethod$n('find', function find(predicate /* , thisArg */) {
-  return $find$1(aTypedArray$m(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
+exportTypedArrayMethod$o('find', function find(predicate /* , thisArg */) {
+  return $find$1(aTypedArray$n(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
 });
 
-var ArrayBufferViewCore$m = arrayBufferViewCore;
+var ArrayBufferViewCore$o = arrayBufferViewCore;
 var $findIndex = arrayIteration.findIndex;
 
-var aTypedArray$l = ArrayBufferViewCore$m.aTypedArray;
-var exportTypedArrayMethod$m = ArrayBufferViewCore$m.exportTypedArrayMethod;
+var aTypedArray$m = ArrayBufferViewCore$o.aTypedArray;
+var exportTypedArrayMethod$n = ArrayBufferViewCore$o.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.findIndex` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.findindex
-exportTypedArrayMethod$m('findIndex', function findIndex(predicate /* , thisArg */) {
-  return $findIndex(aTypedArray$l(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
+exportTypedArrayMethod$n('findIndex', function findIndex(predicate /* , thisArg */) {
+  return $findIndex(aTypedArray$m(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
 });
 
-var ArrayBufferViewCore$l = arrayBufferViewCore;
+var ArrayBufferViewCore$n = arrayBufferViewCore;
 var $forEach$1 = arrayIteration.forEach;
 
-var aTypedArray$k = ArrayBufferViewCore$l.aTypedArray;
-var exportTypedArrayMethod$l = ArrayBufferViewCore$l.exportTypedArrayMethod;
+var aTypedArray$l = ArrayBufferViewCore$n.aTypedArray;
+var exportTypedArrayMethod$m = ArrayBufferViewCore$n.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.forEach` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.foreach
-exportTypedArrayMethod$l('forEach', function forEach(callbackfn /* , thisArg */) {
-  $forEach$1(aTypedArray$k(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
+exportTypedArrayMethod$m('forEach', function forEach(callbackfn /* , thisArg */) {
+  $forEach$1(aTypedArray$l(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
 });
 
-var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$1 = typedArrayConstructorsRequireWrappers;
-var exportTypedArrayStaticMethod$1 = arrayBufferViewCore.exportTypedArrayStaticMethod;
+var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$2 = typedArrayConstructorsRequireWrappers;
+var exportTypedArrayStaticMethod$2 = arrayBufferViewCore.exportTypedArrayStaticMethod;
 var typedArrayFrom = typedArrayFrom$2;
 
 // `%TypedArray%.from` method
 // https://tc39.es/ecma262/#sec-%typedarray%.from
-exportTypedArrayStaticMethod$1('from', typedArrayFrom, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$1);
+exportTypedArrayStaticMethod$2('from', typedArrayFrom, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$2);
 
-var ArrayBufferViewCore$k = arrayBufferViewCore;
+var ArrayBufferViewCore$m = arrayBufferViewCore;
 var $includes = arrayIncludes.includes;
 
-var aTypedArray$j = ArrayBufferViewCore$k.aTypedArray;
-var exportTypedArrayMethod$k = ArrayBufferViewCore$k.exportTypedArrayMethod;
+var aTypedArray$k = ArrayBufferViewCore$m.aTypedArray;
+var exportTypedArrayMethod$l = ArrayBufferViewCore$m.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.includes` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.includes
-exportTypedArrayMethod$k('includes', function includes(searchElement /* , fromIndex */) {
-  return $includes(aTypedArray$j(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
+exportTypedArrayMethod$l('includes', function includes(searchElement /* , fromIndex */) {
+  return $includes(aTypedArray$k(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
 });
 
-var ArrayBufferViewCore$j = arrayBufferViewCore;
+var ArrayBufferViewCore$l = arrayBufferViewCore;
 var $indexOf = arrayIncludes.indexOf;
 
-var aTypedArray$i = ArrayBufferViewCore$j.aTypedArray;
-var exportTypedArrayMethod$j = ArrayBufferViewCore$j.exportTypedArrayMethod;
+var aTypedArray$j = ArrayBufferViewCore$l.aTypedArray;
+var exportTypedArrayMethod$k = ArrayBufferViewCore$l.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.indexOf` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.indexof
-exportTypedArrayMethod$j('indexOf', function indexOf(searchElement /* , fromIndex */) {
-  return $indexOf(aTypedArray$i(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
+exportTypedArrayMethod$k('indexOf', function indexOf(searchElement /* , fromIndex */) {
+  return $indexOf(aTypedArray$j(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
 });
 
-var global$d = global$M;
-var ArrayBufferViewCore$i = arrayBufferViewCore;
+var global$e = global$R;
+var PROPER_FUNCTION_NAME = functionName.PROPER;
+var ArrayBufferViewCore$k = arrayBufferViewCore;
 var ArrayIterators = es_array_iterator;
-var wellKnownSymbol$a = wellKnownSymbol$C;
+var wellKnownSymbol$c = wellKnownSymbol$G;
 
-var ITERATOR$3 = wellKnownSymbol$a('iterator');
-var Uint8Array$1 = global$d.Uint8Array;
+var ITERATOR$3 = wellKnownSymbol$c('iterator');
+var Uint8Array$1 = global$e.Uint8Array;
 var arrayValues = ArrayIterators.values;
 var arrayKeys = ArrayIterators.keys;
 var arrayEntries = ArrayIterators.entries;
-var aTypedArray$h = ArrayBufferViewCore$i.aTypedArray;
-var exportTypedArrayMethod$i = ArrayBufferViewCore$i.exportTypedArrayMethod;
+var aTypedArray$i = ArrayBufferViewCore$k.aTypedArray;
+var exportTypedArrayMethod$j = ArrayBufferViewCore$k.exportTypedArrayMethod;
 var nativeTypedArrayIterator = Uint8Array$1 && Uint8Array$1.prototype[ITERATOR$3];
 
-var CORRECT_ITER_NAME = !!nativeTypedArrayIterator
-  && (nativeTypedArrayIterator.name == 'values' || nativeTypedArrayIterator.name == undefined);
+var PROPER_ARRAY_VALUES_NAME = !!nativeTypedArrayIterator && nativeTypedArrayIterator.name === 'values';
 
 var typedArrayValues = function values() {
-  return arrayValues.call(aTypedArray$h(this));
+  return arrayValues.call(aTypedArray$i(this));
 };
 
 // `%TypedArray%.prototype.entries` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.entries
-exportTypedArrayMethod$i('entries', function entries() {
-  return arrayEntries.call(aTypedArray$h(this));
+exportTypedArrayMethod$j('entries', function entries() {
+  return arrayEntries.call(aTypedArray$i(this));
 });
 // `%TypedArray%.prototype.keys` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.keys
-exportTypedArrayMethod$i('keys', function keys() {
-  return arrayKeys.call(aTypedArray$h(this));
+exportTypedArrayMethod$j('keys', function keys() {
+  return arrayKeys.call(aTypedArray$i(this));
 });
 // `%TypedArray%.prototype.values` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.values
-exportTypedArrayMethod$i('values', typedArrayValues, !CORRECT_ITER_NAME);
+exportTypedArrayMethod$j('values', typedArrayValues, PROPER_FUNCTION_NAME && !PROPER_ARRAY_VALUES_NAME);
 // `%TypedArray%.prototype[@@iterator]` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype-@@iterator
-exportTypedArrayMethod$i(ITERATOR$3, typedArrayValues, !CORRECT_ITER_NAME);
+exportTypedArrayMethod$j(ITERATOR$3, typedArrayValues, PROPER_FUNCTION_NAME && !PROPER_ARRAY_VALUES_NAME);
 
-var ArrayBufferViewCore$h = arrayBufferViewCore;
+var ArrayBufferViewCore$j = arrayBufferViewCore;
 
-var aTypedArray$g = ArrayBufferViewCore$h.aTypedArray;
-var exportTypedArrayMethod$h = ArrayBufferViewCore$h.exportTypedArrayMethod;
+var aTypedArray$h = ArrayBufferViewCore$j.aTypedArray;
+var exportTypedArrayMethod$i = ArrayBufferViewCore$j.exportTypedArrayMethod;
 var $join = [].join;
 
 // `%TypedArray%.prototype.join` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.join
 // eslint-disable-next-line no-unused-vars -- required for `.length`
-exportTypedArrayMethod$h('join', function join(separator) {
-  return $join.apply(aTypedArray$g(this), arguments);
+exportTypedArrayMethod$i('join', function join(separator) {
+  return $join.apply(aTypedArray$h(this), arguments);
 });
 
-var ArrayBufferViewCore$g = arrayBufferViewCore;
+var ArrayBufferViewCore$i = arrayBufferViewCore;
 var $lastIndexOf = arrayLastIndexOf;
 
-var aTypedArray$f = ArrayBufferViewCore$g.aTypedArray;
-var exportTypedArrayMethod$g = ArrayBufferViewCore$g.exportTypedArrayMethod;
+var aTypedArray$g = ArrayBufferViewCore$i.aTypedArray;
+var exportTypedArrayMethod$h = ArrayBufferViewCore$i.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.lastIndexOf` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.lastindexof
 // eslint-disable-next-line no-unused-vars -- required for `.length`
-exportTypedArrayMethod$g('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {
-  return $lastIndexOf.apply(aTypedArray$f(this), arguments);
+exportTypedArrayMethod$h('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {
+  return $lastIndexOf.apply(aTypedArray$g(this), arguments);
 });
 
-var ArrayBufferViewCore$f = arrayBufferViewCore;
+var ArrayBufferViewCore$h = arrayBufferViewCore;
 var $map = arrayIteration.map;
-var speciesConstructor$b = speciesConstructor$i;
+var typedArraySpeciesConstructor$3 = typedArraySpeciesConstructor$5;
 
-var aTypedArray$e = ArrayBufferViewCore$f.aTypedArray;
-var aTypedArrayConstructor$2 = ArrayBufferViewCore$f.aTypedArrayConstructor;
-var exportTypedArrayMethod$f = ArrayBufferViewCore$f.exportTypedArrayMethod;
+var aTypedArray$f = ArrayBufferViewCore$h.aTypedArray;
+var exportTypedArrayMethod$g = ArrayBufferViewCore$h.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.map` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.map
-exportTypedArrayMethod$f('map', function map(mapfn /* , thisArg */) {
-  return $map(aTypedArray$e(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {
-    return new (aTypedArrayConstructor$2(speciesConstructor$b(O, O.constructor)))(length);
+exportTypedArrayMethod$g('map', function map(mapfn /* , thisArg */) {
+  return $map(aTypedArray$f(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {
+    return new (typedArraySpeciesConstructor$3(O))(length);
   });
 });
 
-var ArrayBufferViewCore$e = arrayBufferViewCore;
-var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = typedArrayConstructorsRequireWrappers;
+var ArrayBufferViewCore$g = arrayBufferViewCore;
+var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$1 = typedArrayConstructorsRequireWrappers;
 
-var aTypedArrayConstructor$1 = ArrayBufferViewCore$e.aTypedArrayConstructor;
-var exportTypedArrayStaticMethod = ArrayBufferViewCore$e.exportTypedArrayStaticMethod;
+var aTypedArrayConstructor$1 = ArrayBufferViewCore$g.aTypedArrayConstructor;
+var exportTypedArrayStaticMethod$1 = ArrayBufferViewCore$g.exportTypedArrayStaticMethod;
 
 // `%TypedArray%.of` method
 // https://tc39.es/ecma262/#sec-%typedarray%.of
-exportTypedArrayStaticMethod('of', function of(/* ...items */) {
+exportTypedArrayStaticMethod$1('of', function of(/* ...items */) {
   var index = 0;
   var length = arguments.length;
   var result = new (aTypedArrayConstructor$1(this))(length);
   while (length > index) result[index] = arguments[index++];
   return result;
-}, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);
+}, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$1);
 
-var ArrayBufferViewCore$d = arrayBufferViewCore;
+var ArrayBufferViewCore$f = arrayBufferViewCore;
 var $reduce = arrayReduce.left;
 
-var aTypedArray$d = ArrayBufferViewCore$d.aTypedArray;
-var exportTypedArrayMethod$e = ArrayBufferViewCore$d.exportTypedArrayMethod;
+var aTypedArray$e = ArrayBufferViewCore$f.aTypedArray;
+var exportTypedArrayMethod$f = ArrayBufferViewCore$f.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.reduce` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduce
-exportTypedArrayMethod$e('reduce', function reduce(callbackfn /* , initialValue */) {
-  return $reduce(aTypedArray$d(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);
+exportTypedArrayMethod$f('reduce', function reduce(callbackfn /* , initialValue */) {
+  return $reduce(aTypedArray$e(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);
 });
 
-var ArrayBufferViewCore$c = arrayBufferViewCore;
+var ArrayBufferViewCore$e = arrayBufferViewCore;
 var $reduceRight = arrayReduce.right;
 
-var aTypedArray$c = ArrayBufferViewCore$c.aTypedArray;
-var exportTypedArrayMethod$d = ArrayBufferViewCore$c.exportTypedArrayMethod;
+var aTypedArray$d = ArrayBufferViewCore$e.aTypedArray;
+var exportTypedArrayMethod$e = ArrayBufferViewCore$e.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.reduceRicht` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduceright
-exportTypedArrayMethod$d('reduceRight', function reduceRight(callbackfn /* , initialValue */) {
-  return $reduceRight(aTypedArray$c(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);
+exportTypedArrayMethod$e('reduceRight', function reduceRight(callbackfn /* , initialValue */) {
+  return $reduceRight(aTypedArray$d(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);
 });
 
-var ArrayBufferViewCore$b = arrayBufferViewCore;
+var ArrayBufferViewCore$d = arrayBufferViewCore;
 
-var aTypedArray$b = ArrayBufferViewCore$b.aTypedArray;
-var exportTypedArrayMethod$c = ArrayBufferViewCore$b.exportTypedArrayMethod;
+var aTypedArray$c = ArrayBufferViewCore$d.aTypedArray;
+var exportTypedArrayMethod$d = ArrayBufferViewCore$d.exportTypedArrayMethod;
 var floor$2 = Math.floor;
 
 // `%TypedArray%.prototype.reverse` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.reverse
-exportTypedArrayMethod$c('reverse', function reverse() {
+exportTypedArrayMethod$d('reverse', function reverse() {
   var that = this;
-  var length = aTypedArray$b(that).length;
+  var length = aTypedArray$c(that).length;
   var middle = floor$2(length / 2);
   var index = 0;
   var value;
@@ -8727,14 +9392,14 @@ exportTypedArrayMethod$c('reverse', function reverse() {
   } return that;
 });
 
-var ArrayBufferViewCore$a = arrayBufferViewCore;
-var toLength$8 = toLength$B;
+var ArrayBufferViewCore$c = arrayBufferViewCore;
+var toLength$7 = toLength$D;
 var toOffset = toOffset$2;
-var toObject$8 = toObject$w;
-var fails$7 = fails$X;
+var toObject$9 = toObject$z;
+var fails$7 = fails$15;
 
-var aTypedArray$a = ArrayBufferViewCore$a.aTypedArray;
-var exportTypedArrayMethod$b = ArrayBufferViewCore$a.exportTypedArrayMethod;
+var aTypedArray$b = ArrayBufferViewCore$c.aTypedArray;
+var exportTypedArrayMethod$c = ArrayBufferViewCore$c.exportTypedArrayMethod;
 
 var FORCED$5 = fails$7(function () {
   // eslint-disable-next-line es/no-typed-arrays -- required for testing
@@ -8743,24 +9408,23 @@ var FORCED$5 = fails$7(function () {
 
 // `%TypedArray%.prototype.set` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.set
-exportTypedArrayMethod$b('set', function set(arrayLike /* , offset */) {
-  aTypedArray$a(this);
+exportTypedArrayMethod$c('set', function set(arrayLike /* , offset */) {
+  aTypedArray$b(this);
   var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);
   var length = this.length;
-  var src = toObject$8(arrayLike);
-  var len = toLength$8(src.length);
+  var src = toObject$9(arrayLike);
+  var len = toLength$7(src.length);
   var index = 0;
   if (len + offset > length) throw RangeError('Wrong length');
   while (index < len) this[offset + index] = src[index++];
 }, FORCED$5);
 
-var ArrayBufferViewCore$9 = arrayBufferViewCore;
-var speciesConstructor$a = speciesConstructor$i;
-var fails$6 = fails$X;
+var ArrayBufferViewCore$b = arrayBufferViewCore;
+var typedArraySpeciesConstructor$2 = typedArraySpeciesConstructor$5;
+var fails$6 = fails$15;
 
-var aTypedArray$9 = ArrayBufferViewCore$9.aTypedArray;
-var aTypedArrayConstructor = ArrayBufferViewCore$9.aTypedArrayConstructor;
-var exportTypedArrayMethod$a = ArrayBufferViewCore$9.exportTypedArrayMethod;
+var aTypedArray$a = ArrayBufferViewCore$b.aTypedArray;
+var exportTypedArrayMethod$b = ArrayBufferViewCore$b.exportTypedArrayMethod;
 var $slice$1 = [].slice;
 
 var FORCED$4 = fails$6(function () {
@@ -8770,42 +9434,42 @@ var FORCED$4 = fails$6(function () {
 
 // `%TypedArray%.prototype.slice` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.slice
-exportTypedArrayMethod$a('slice', function slice(start, end) {
-  var list = $slice$1.call(aTypedArray$9(this), start, end);
-  var C = speciesConstructor$a(this, this.constructor);
+exportTypedArrayMethod$b('slice', function slice(start, end) {
+  var list = $slice$1.call(aTypedArray$a(this), start, end);
+  var C = typedArraySpeciesConstructor$2(this);
   var index = 0;
   var length = list.length;
-  var result = new (aTypedArrayConstructor(C))(length);
+  var result = new C(length);
   while (length > index) result[index] = list[index++];
   return result;
 }, FORCED$4);
 
-var ArrayBufferViewCore$8 = arrayBufferViewCore;
+var ArrayBufferViewCore$a = arrayBufferViewCore;
 var $some$1 = arrayIteration.some;
 
-var aTypedArray$8 = ArrayBufferViewCore$8.aTypedArray;
-var exportTypedArrayMethod$9 = ArrayBufferViewCore$8.exportTypedArrayMethod;
+var aTypedArray$9 = ArrayBufferViewCore$a.aTypedArray;
+var exportTypedArrayMethod$a = ArrayBufferViewCore$a.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.some` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.some
-exportTypedArrayMethod$9('some', function some(callbackfn /* , thisArg */) {
-  return $some$1(aTypedArray$8(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
+exportTypedArrayMethod$a('some', function some(callbackfn /* , thisArg */) {
+  return $some$1(aTypedArray$9(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
 });
 
-var ArrayBufferViewCore$7 = arrayBufferViewCore;
-var global$c = global$M;
-var fails$5 = fails$X;
-var aFunction$C = aFunction$S;
-var toLength$7 = toLength$B;
+var ArrayBufferViewCore$9 = arrayBufferViewCore;
+var global$d = global$R;
+var fails$5 = fails$15;
+var aCallable$B = aCallable$Q;
+var toLength$6 = toLength$D;
 var internalSort = arraySort;
 var FF = engineFfVersion;
 var IE_OR_EDGE = engineIsIeOrEdge;
 var V8 = engineV8Version;
 var WEBKIT = engineWebkitVersion;
 
-var aTypedArray$7 = ArrayBufferViewCore$7.aTypedArray;
-var exportTypedArrayMethod$8 = ArrayBufferViewCore$7.exportTypedArrayMethod;
-var Uint16Array = global$c.Uint16Array;
+var aTypedArray$8 = ArrayBufferViewCore$9.aTypedArray;
+var exportTypedArrayMethod$9 = ArrayBufferViewCore$9.exportTypedArrayMethod;
+var Uint16Array = global$d.Uint16Array;
 var nativeSort = Uint16Array && Uint16Array.prototype.sort;
 
 // WebKit
@@ -8855,13 +9519,13 @@ var getSortCompare = function (comparefn) {
 
 // `%TypedArray%.prototype.sort` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort
-exportTypedArrayMethod$8('sort', function sort(comparefn) {
+exportTypedArrayMethod$9('sort', function sort(comparefn) {
   var array = this;
-  if (comparefn !== undefined) aFunction$C(comparefn);
+  if (comparefn !== undefined) aCallable$B(comparefn);
   if (STABLE_SORT) return nativeSort.call(array, comparefn);
 
-  aTypedArray$7(array);
-  var arrayLength = toLength$7(array.length);
+  aTypedArray$8(array);
+  var arrayLength = toLength$6(array.length);
   var items = Array(arrayLength);
   var index;
 
@@ -8878,34 +9542,35 @@ exportTypedArrayMethod$8('sort', function sort(comparefn) {
   return array;
 }, !STABLE_SORT || ACCEPT_INCORRECT_ARGUMENTS);
 
-var ArrayBufferViewCore$6 = arrayBufferViewCore;
-var toLength$6 = toLength$B;
+var ArrayBufferViewCore$8 = arrayBufferViewCore;
+var toLength$5 = toLength$D;
 var toAbsoluteIndex = toAbsoluteIndex$8;
-var speciesConstructor$9 = speciesConstructor$i;
+var typedArraySpeciesConstructor$1 = typedArraySpeciesConstructor$5;
 
-var aTypedArray$6 = ArrayBufferViewCore$6.aTypedArray;
-var exportTypedArrayMethod$7 = ArrayBufferViewCore$6.exportTypedArrayMethod;
+var aTypedArray$7 = ArrayBufferViewCore$8.aTypedArray;
+var exportTypedArrayMethod$8 = ArrayBufferViewCore$8.exportTypedArrayMethod;
 
 // `%TypedArray%.prototype.subarray` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.subarray
-exportTypedArrayMethod$7('subarray', function subarray(begin, end) {
-  var O = aTypedArray$6(this);
+exportTypedArrayMethod$8('subarray', function subarray(begin, end) {
+  var O = aTypedArray$7(this);
   var length = O.length;
   var beginIndex = toAbsoluteIndex(begin, length);
-  return new (speciesConstructor$9(O, O.constructor))(
+  var C = typedArraySpeciesConstructor$1(O);
+  return new C(
     O.buffer,
     O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT,
-    toLength$6((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex)
+    toLength$5((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex)
   );
 });
 
-var global$b = global$M;
-var ArrayBufferViewCore$5 = arrayBufferViewCore;
-var fails$4 = fails$X;
+var global$c = global$R;
+var ArrayBufferViewCore$7 = arrayBufferViewCore;
+var fails$4 = fails$15;
 
-var Int8Array$1 = global$b.Int8Array;
-var aTypedArray$5 = ArrayBufferViewCore$5.aTypedArray;
-var exportTypedArrayMethod$6 = ArrayBufferViewCore$5.exportTypedArrayMethod;
+var Int8Array$1 = global$c.Int8Array;
+var aTypedArray$6 = ArrayBufferViewCore$7.aTypedArray;
+var exportTypedArrayMethod$7 = ArrayBufferViewCore$7.exportTypedArrayMethod;
 var $toLocaleString = [].toLocaleString;
 var $slice = [].slice;
 
@@ -8922,15 +9587,15 @@ var FORCED$3 = fails$4(function () {
 
 // `%TypedArray%.prototype.toLocaleString` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.tolocalestring
-exportTypedArrayMethod$6('toLocaleString', function toLocaleString() {
-  return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray$5(this)) : aTypedArray$5(this), arguments);
+exportTypedArrayMethod$7('toLocaleString', function toLocaleString() {
+  return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray$6(this)) : aTypedArray$6(this), arguments);
 }, FORCED$3);
 
-var exportTypedArrayMethod$5 = arrayBufferViewCore.exportTypedArrayMethod;
-var fails$3 = fails$X;
-var global$a = global$M;
+var exportTypedArrayMethod$6 = arrayBufferViewCore.exportTypedArrayMethod;
+var fails$3 = fails$15;
+var global$b = global$R;
 
-var Uint8Array = global$a.Uint8Array;
+var Uint8Array = global$b.Uint8Array;
 var Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};
 var arrayToString = [].toString;
 var arrayJoin = [].join;
@@ -8945,22 +9610,62 @@ var IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;
 
 // `%TypedArray%.prototype.toString` method
 // https://tc39.es/ecma262/#sec-%typedarray%.prototype.tostring
-exportTypedArrayMethod$5('toString', arrayToString, IS_NOT_ARRAY_METHOD);
+exportTypedArrayMethod$6('toString', arrayToString, IS_NOT_ARRAY_METHOD);
+
+var $$1X = _export;
+var toString$1 = toString$t;
+
+var fromCharCode = String.fromCharCode;
+var hex2 = /^[\da-f]{2}$/i;
+var hex4 = /^[\da-f]{4}$/i;
+
+// `unescape` method
+// https://tc39.es/ecma262/#sec-unescape-string
+$$1X({ global: true }, {
+  unescape: function unescape(string) {
+    var str = toString$1(string);
+    var result = '';
+    var length = str.length;
+    var index = 0;
+    var chr, slice;
+    while (index < length) {
+      chr = str.charAt(index++);
+      if (chr === '%') {
+        if (str.charAt(index) === 'u') {
+          slice = str.slice(index + 1, index + 5);
+          if (hex4.test(slice)) {
+            result += fromCharCode(parseInt(slice, 16));
+            index += 5;
+            continue;
+          }
+        } else {
+          slice = str.slice(index, index + 2);
+          if (hex2.test(slice)) {
+            result += fromCharCode(parseInt(slice, 16));
+            index += 2;
+            continue;
+          }
+        }
+      }
+      result += chr;
+    } return result;
+  }
+});
 
 var es_weakMap = {exports: {}};
 
-var redefineAll$5 = redefineAll$9;
+var redefineAll$6 = redefineAll$a;
 var getWeakData = internalMetadata.exports.getWeakData;
-var anObject$13 = anObject$1z;
+var anObject$14 = anObject$1C;
 var isObject$5 = isObject$B;
 var anInstance$5 = anInstance$b;
 var iterate$A = iterate$I;
 var ArrayIterationModule = arrayIteration;
-var $has = has$n;
-var InternalStateModule$9 = internalState;
+var $has = has$m;
+var InternalStateModule$a = internalState;
 
-var setInternalState$9 = InternalStateModule$9.set;
-var internalStateGetterFor = InternalStateModule$9.getterFor;
+var setInternalState$a = InternalStateModule$a.set;
+var internalStateGetterFor = InternalStateModule$a.getterFor;
 var find$1 = ArrayIterationModule.find;
 var findIndex = ArrayIterationModule.findIndex;
 var id = 0;
@@ -9006,7 +9711,7 @@ var collectionWeak$2 = {
   getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
     var C = wrapper(function (that, iterable) {
       anInstance$5(that, C, CONSTRUCTOR_NAME);
-      setInternalState$9(that, {
+      setInternalState$a(that, {
         type: CONSTRUCTOR_NAME,
         id: id++,
         frozen: undefined
@@ -9018,13 +9723,13 @@ var collectionWeak$2 = {
 
     var define = function (that, key, value) {
       var state = getInternalState(that);
-      var data = getWeakData(anObject$13(key), true);
+      var data = getWeakData(anObject$14(key), true);
       if (data === true) uncaughtFrozenStore(state).set(key, value);
       else data[state.id] = value;
       return that;
     };
 
-    redefineAll$5(C.prototype, {
+    redefineAll$6(C.prototype, {
       // `{ WeakMap, WeakSet }.prototype.delete(key)` methods
       // https://tc39.es/ecma262/#sec-weakmap.prototype.delete
       // https://tc39.es/ecma262/#sec-weakset.prototype.delete
@@ -9047,7 +9752,7 @@ var collectionWeak$2 = {
       }
     });
 
-    redefineAll$5(C.prototype, IS_MAP ? {
+    redefineAll$6(C.prototype, IS_MAP ? {
       // `WeakMap.prototype.get(key)` method
       // https://tc39.es/ecma262/#sec-weakmap.prototype.get
       get: function get(key) {
@@ -9075,8 +9780,8 @@ var collectionWeak$2 = {
   }
 };
 
-var global$9 = global$M;
-var redefineAll$4 = redefineAll$9;
+var global$a = global$R;
+var redefineAll$5 = redefineAll$a;
 var InternalMetadataModule = internalMetadata.exports;
 var collection$1 = collection$4;
 var collectionWeak$1 = collectionWeak$2;
@@ -9084,7 +9789,7 @@ var isObject$4 = isObject$B;
 var enforceIternalState = internalState.enforce;
 var NATIVE_WEAK_MAP = nativeWeakMap;
 
-var IS_IE11 = !global$9.ActiveXObject && 'ActiveXObject' in global$9;
+var IS_IE11 = !global$a.ActiveXObject && 'ActiveXObject' in global$a;
 // eslint-disable-next-line es/no-object-isextensible -- safe
 var isExtensible = Object.isExtensible;
 var InternalWeakMap;
@@ -9104,13 +9809,13 @@ var $WeakMap = es_weakMap.exports = collection$1('WeakMap', wrapper, collectionW
 // https://github.com/zloirock/core-js/issues/485
 if (NATIVE_WEAK_MAP && IS_IE11) {
   InternalWeakMap = collectionWeak$1.getConstructor(wrapper, 'WeakMap', true);
-  InternalMetadataModule.REQUIRED = true;
+  InternalMetadataModule.enable();
   var WeakMapPrototype = $WeakMap.prototype;
   var nativeDelete = WeakMapPrototype['delete'];
   var nativeHas = WeakMapPrototype.has;
   var nativeGet = WeakMapPrototype.get;
   var nativeSet = WeakMapPrototype.set;
-  redefineAll$4(WeakMapPrototype, {
+  redefineAll$5(WeakMapPrototype, {
     'delete': function (key) {
       if (isObject$4(key) && !isExtensible(key)) {
         var state = enforceIternalState(this);
@@ -9152,78 +9857,319 @@ collection('WeakSet', function (init) {
   return function WeakSet() { return init(this, arguments.length ? arguments[0] : undefined); };
 }, collectionWeak);
 
+var global$9 = global$R;
+var shared$1 = sharedStore;
+var isCallable$6 = isCallable$z;
+var getPrototypeOf$3 = objectGetPrototypeOf$1;
+var redefine$3 = redefine$l.exports;
+var wellKnownSymbol$b = wellKnownSymbol$G;
+
+var USE_FUNCTION_CONSTRUCTOR = 'USE_FUNCTION_CONSTRUCTOR';
+var ASYNC_ITERATOR$3 = wellKnownSymbol$b('asyncIterator');
+var AsyncIterator = global$9.AsyncIterator;
+var PassedAsyncIteratorPrototype = shared$1.AsyncIteratorPrototype;
+var AsyncIteratorPrototype$4, prototype;
+
+if (PassedAsyncIteratorPrototype) {
+  AsyncIteratorPrototype$4 = PassedAsyncIteratorPrototype;
+} else if (isCallable$6(AsyncIterator)) {
+  AsyncIteratorPrototype$4 = AsyncIterator.prototype;
+} else if (shared$1[USE_FUNCTION_CONSTRUCTOR] || global$9[USE_FUNCTION_CONSTRUCTOR]) {
+  try {
+    // eslint-disable-next-line no-new-func -- we have no alternatives without usage of modern syntax
+    prototype = getPrototypeOf$3(getPrototypeOf$3(getPrototypeOf$3(Function('return async function*(){}()')())));
+    if (getPrototypeOf$3(prototype) === Object.prototype) AsyncIteratorPrototype$4 = prototype;
+  } catch (error) { /* empty */ }
+}
+
+if (!AsyncIteratorPrototype$4) AsyncIteratorPrototype$4 = {};
+
+if (!isCallable$6(AsyncIteratorPrototype$4[ASYNC_ITERATOR$3])) {
+  redefine$3(AsyncIteratorPrototype$4, ASYNC_ITERATOR$3, function () {
+    return this;
+  });
+}
+
+var asyncIteratorPrototype = AsyncIteratorPrototype$4;
+
+var anObject$13 = anObject$1C;
+var create$5 = objectCreate$1;
+var getMethod$7 = getMethod$h;
+var redefineAll$4 = redefineAll$a;
+var InternalStateModule$9 = internalState;
+var getBuiltIn$h = getBuiltIn$w;
+var AsyncIteratorPrototype$3 = asyncIteratorPrototype;
+
+var Promise$3 = getBuiltIn$h('Promise');
+
+var setInternalState$9 = InternalStateModule$9.set;
+var getInternalState$7 = InternalStateModule$9.get;
+
+var asyncFromSyncIteratorContinuation = function (result, resolve, reject) {
+  var done = result.done;
+  Promise$3.resolve(result.value).then(function (value) {
+    resolve({ done: done, value: value });
+  }, reject);
+};
+
+var AsyncFromSyncIterator$3 = function AsyncIterator(iterator) {
+  setInternalState$9(this, {
+    iterator: anObject$13(iterator),
+    next: iterator.next
+  });
+};
+
+AsyncFromSyncIterator$3.prototype = redefineAll$4(create$5(AsyncIteratorPrototype$3), {
+  next: function next(arg) {
+    var state = getInternalState$7(this);
+    var hasArg = !!arguments.length;
+    return new Promise$3(function (resolve, reject) {
+      var result = anObject$13(state.next.apply(state.iterator, hasArg ? [arg] : []));
+      asyncFromSyncIteratorContinuation(result, resolve, reject);
+    });
+  },
+  'return': function (arg) {
+    var iterator = getInternalState$7(this).iterator;
+    var hasArg = !!arguments.length;
+    return new Promise$3(function (resolve, reject) {
+      var $return = getMethod$7(iterator, 'return');
+      if ($return === undefined) return resolve({ done: true, value: arg });
+      var result = anObject$13($return.apply(iterator, hasArg ? [arg] : []));
+      asyncFromSyncIteratorContinuation(result, resolve, reject);
+    });
+  },
+  'throw': function (arg) {
+    var iterator = getInternalState$7(this).iterator;
+    var hasArg = !!arguments.length;
+    return new Promise$3(function (resolve, reject) {
+      var $throw = getMethod$7(iterator, 'throw');
+      if ($throw === undefined) return reject(arg);
+      var result = anObject$13($throw.apply(iterator, hasArg ? [arg] : []));
+      asyncFromSyncIteratorContinuation(result, resolve, reject);
+    });
+  }
+});
+
+var asyncFromSyncIterator = AsyncFromSyncIterator$3;
+
+var AsyncFromSyncIterator$2 = asyncFromSyncIterator;
+var anObject$12 = anObject$1C;
+var getIterator$7 = getIterator$b;
+var getMethod$6 = getMethod$h;
+var wellKnownSymbol$a = wellKnownSymbol$G;
+
+var ASYNC_ITERATOR$2 = wellKnownSymbol$a('asyncIterator');
+
+var getAsyncIterator$3 = function (it, usingIterator) {
+  var method = arguments.length < 2 ? getMethod$6(it, ASYNC_ITERATOR$2) : usingIterator;
+  return method ? anObject$12(method.call(it)) : new AsyncFromSyncIterator$2(getIterator$7(it));
+};
+
+var global$8 = global$R;
+
+var entryVirtual = function (CONSTRUCTOR) {
+  return global$8[CONSTRUCTOR].prototype;
+};
+
+// https://github.com/tc39/proposal-iterator-helpers
+var aCallable$A = aCallable$Q;
+var anObject$11 = anObject$1C;
+var getBuiltIn$g = getBuiltIn$w;
+var getMethod$5 = getMethod$h;
+
+var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;
+
+var createMethod$1 = function (TYPE) {
+  var IS_TO_ARRAY = TYPE == 0;
+  var IS_FOR_EACH = TYPE == 1;
+  var IS_EVERY = TYPE == 2;
+  var IS_SOME = TYPE == 3;
+  return function (iterator, fn, target) {
+    anObject$11(iterator);
+    var Promise = getBuiltIn$g('Promise');
+    var next = aCallable$A(iterator.next);
+    var index = 0;
+    var MAPPING = fn !== undefined;
+    if (MAPPING || !IS_TO_ARRAY) aCallable$A(fn);
+
+    return new Promise(function (resolve, reject) {
+      var closeIteration = function (method, argument) {
+        try {
+          var returnMethod = getMethod$5(iterator, 'return');
+          if (returnMethod) {
+            return Promise.resolve(returnMethod.call(iterator)).then(function () {
+              method(argument);
+            }, function (error) {
+              reject(error);
+            });
+          }
+        } catch (error2) {
+          return reject(error2);
+        } method(argument);
+      };
+
+      var onError = function (error) {
+        closeIteration(reject, error);
+      };
+
+      var loop = function () {
+        try {
+          if (IS_TO_ARRAY && (index > MAX_SAFE_INTEGER) && MAPPING) {
+            throw TypeError('The allowed number of iterations has been exceeded');
+          }
+          Promise.resolve(anObject$11(next.call(iterator))).then(function (step) {
+            try {
+              if (anObject$11(step).done) {
+                if (IS_TO_ARRAY) {
+                  target.length = index;
+                  resolve(target);
+                } else resolve(IS_SOME ? false : IS_EVERY || undefined);
+              } else {
+                var value = step.value;
+                if (MAPPING) {
+                  Promise.resolve(IS_TO_ARRAY ? fn(value, index) : fn(value)).then(function (result) {
+                    if (IS_FOR_EACH) {
+                      loop();
+                    } else if (IS_EVERY) {
+                      result ? loop() : closeIteration(resolve, false);
+                    } else if (IS_TO_ARRAY) {
+                      target[index++] = result;
+                      loop();
+                    } else {
+                      result ? closeIteration(resolve, IS_SOME || value) : loop();
+                    }
+                  }, onError);
+                } else {
+                  target[index++] = value;
+                  loop();
+                }
+              }
+            } catch (error) { onError(error); }
+          }, onError);
+        } catch (error2) { onError(error2); }
+      };
+
+      loop();
+    });
+  };
+};
+
+var asyncIteratorIteration = {
+  toArray: createMethod$1(0),
+  forEach: createMethod$1(1),
+  every: createMethod$1(2),
+  some: createMethod$1(3),
+  find: createMethod$1(4)
+};
+
+var bind$g = functionBindContext;
+var toObject$8 = toObject$z;
+var isConstructor$1 = isConstructor$7;
+var getAsyncIterator$2 = getAsyncIterator$3;
+var getIterator$6 = getIterator$b;
+var getIteratorMethod$4 = getIteratorMethod$9;
+var getMethod$4 = getMethod$h;
+var getVirtual = entryVirtual;
+var wellKnownSymbol$9 = wellKnownSymbol$G;
+var AsyncFromSyncIterator$1 = asyncFromSyncIterator;
+var toArray = asyncIteratorIteration.toArray;
+
+var ASYNC_ITERATOR$1 = wellKnownSymbol$9('asyncIterator');
+var arrayIterator = getVirtual('Array').values;
+
+// `Array.fromAsync` method implementation
+// https://github.com/tc39/proposal-array-from-async
+var arrayFromAsync$1 = function fromAsync(asyncItems /* , mapfn = undefined, thisArg = undefined */) {
+  var O = toObject$8(asyncItems);
+  var argumentsLength = arguments.length;
+  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;
+  if (mapfn !== undefined) mapfn = bind$g(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);
+  var usingAsyncIterator = getMethod$4(O, ASYNC_ITERATOR$1);
+  var usingIterator;
+  if (!usingAsyncIterator) usingIterator = getIteratorMethod$4(O);
+  var A = isConstructor$1(this) ? new this() : [];
+  var iterator = usingAsyncIterator
+    ? getAsyncIterator$2(O, usingAsyncIterator)
+    : new AsyncFromSyncIterator$1(getIterator$6(O, usingIterator || arrayIterator));
+  return toArray(iterator, mapfn, A);
+};
+
+var $$1W = _export;
+var fromAsync = arrayFromAsync$1;
+
+// `Array.fromAsync` method
+// https://github.com/tc39/proposal-array-from-async
+$$1W({ target: 'Array', stat: true }, {
+  fromAsync: fromAsync
+});
+
+// TODO: remove from `core-js@4`
 var $$1V = _export;
-var toObject$7 = toObject$w;
-var toLength$5 = toLength$B;
-var toInteger$2 = toInteger$f;
-var addToUnscopables$6 = addToUnscopables$f;
+var $filterReject$3 = arrayIteration.filterReject;
+var addToUnscopables$7 = addToUnscopables$h;
 
-// `Array.prototype.at` method
-// https://github.com/tc39/proposal-relative-indexing-method
+// `Array.prototype.filterOut` method
+// https://github.com/tc39/proposal-array-filtering
 $$1V({ target: 'Array', proto: true }, {
-  at: function at(index) {
-    var O = toObject$7(this);
-    var len = toLength$5(O.length);
-    var relativeIndex = toInteger$2(index);
-    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;
-    return (k < 0 || k >= len) ? undefined : O[k];
+  filterOut: function filterOut(callbackfn /* , thisArg */) {
+    return $filterReject$3(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
-addToUnscopables$6('at');
+addToUnscopables$7('filterOut');
 
 var $$1U = _export;
-var $filterOut$1 = arrayIteration.filterOut;
-var addToUnscopables$5 = addToUnscopables$f;
+var $filterReject$2 = arrayIteration.filterReject;
+var addToUnscopables$6 = addToUnscopables$h;
 
-// `Array.prototype.filterOut` method
+// `Array.prototype.filterReject` method
 // https://github.com/tc39/proposal-array-filtering
 $$1U({ target: 'Array', proto: true }, {
-  filterOut: function filterOut(callbackfn /* , thisArg */) {
-    return $filterOut$1(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
+  filterReject: function filterReject(callbackfn /* , thisArg */) {
+    return $filterReject$2(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
   }
 });
 
-addToUnscopables$5('filterOut');
+addToUnscopables$6('filterReject');
 
-var bind$e = functionBindContext;
-var IndexedObject = indexedObject;
-var toObject$6 = toObject$w;
-var toLength$4 = toLength$B;
+var bind$f = functionBindContext;
+var IndexedObject$1 = indexedObject;
+var toObject$7 = toObject$z;
+var toLength$4 = toLength$D;
 
 // `Array.prototype.{ findLast, findLastIndex }` methods implementation
-var createMethod$1 = function (TYPE) {
-  var IS_FIND_INDEX = TYPE == 6;
+var createMethod = function (TYPE) {
+  var IS_FIND_LAST_INDEX = TYPE == 1;
   return function ($this, callbackfn, that) {
-    var O = toObject$6($this);
-    var self = IndexedObject(O);
-    var boundFunction = bind$e(callbackfn, that, 3);
+    var O = toObject$7($this);
+    var self = IndexedObject$1(O);
+    var boundFunction = bind$f(callbackfn, that, 3);
     var index = toLength$4(self.length);
     var value, result;
     while (index-- > 0) {
       value = self[index];
       result = boundFunction(value, index, O);
       if (result) switch (TYPE) {
-        case 5: return value; // find
-        case 6: return index; // findIndex
+        case 0: return value; // findLast
+        case 1: return index; // findLastIndex
       }
     }
-    return IS_FIND_INDEX ? -1 : undefined;
+    return IS_FIND_LAST_INDEX ? -1 : undefined;
   };
 };
 
 var arrayIterationFromLast = {
   // `Array.prototype.findLast` method
   // https://github.com/tc39/proposal-array-find-from-last
-  findLast: createMethod$1(5),
+  findLast: createMethod(0),
   // `Array.prototype.findLastIndex` method
   // https://github.com/tc39/proposal-array-find-from-last
-  findLastIndex: createMethod$1(6)
+  findLastIndex: createMethod(1)
 };
 
 var $$1T = _export;
 var $findLast$1 = arrayIterationFromLast.findLast;
-var addToUnscopables$4 = addToUnscopables$f;
+var addToUnscopables$5 = addToUnscopables$h;
 
 // `Array.prototype.findLast` method
 // https://github.com/tc39/proposal-array-find-from-last
@@ -9233,11 +10179,11 @@ $$1T({ target: 'Array', proto: true }, {
   }
 });
 
-addToUnscopables$4('findLast');
+addToUnscopables$5('findLast');
 
 var $$1S = _export;
 var $findLastIndex$1 = arrayIterationFromLast.findLastIndex;
-var addToUnscopables$3 = addToUnscopables$f;
+var addToUnscopables$4 = addToUnscopables$h;
 
 // `Array.prototype.findLastIndex` method
 // https://github.com/tc39/proposal-array-find-from-last
@@ -9247,9 +10193,59 @@ $$1S({ target: 'Array', proto: true }, {
   }
 });
 
-addToUnscopables$3('findLastIndex');
+addToUnscopables$4('findLastIndex');
+
+var bind$e = functionBindContext;
+var IndexedObject = indexedObject;
+var toObject$6 = toObject$z;
+var toLength$3 = toLength$D;
+var toPropertyKey = toPropertyKey$9;
+var objectCreate = objectCreate$1;
+var arrayFromConstructorAndList$1 = arrayFromConstructorAndList$3;
+
+var push$2 = [].push;
+
+var arrayGroupBy = function ($this, callbackfn, that, specificConstructor) {
+  var O = toObject$6($this);
+  var self = IndexedObject(O);
+  var boundFunction = bind$e(callbackfn, that, 3);
+  var target = objectCreate(null);
+  var length = toLength$3(self.length);
+  var index = 0;
+  var Constructor, key, value;
+  for (;length > index; index++) {
+    value = self[index];
+    key = toPropertyKey(boundFunction(value, index, O));
+    // in some IE10 builds, `hasOwnProperty` returns incorrect result on integer keys
+    // but since it's a `null` prototype object, we can safely use `in`
+    if (key in target) push$2.call(target[key], value);
+    else target[key] = [value];
+  }
+  if (specificConstructor) {
+    Constructor = specificConstructor(O);
+    if (Constructor !== Array) {
+      for (key in target) target[key] = arrayFromConstructorAndList$1(Constructor, target[key]);
+    }
+  } return target;
+};
 
 var $$1R = _export;
+var $groupBy$1 = arrayGroupBy;
+var arraySpeciesConstructor = arraySpeciesConstructor$2;
+var addToUnscopables$3 = addToUnscopables$h;
+
+// `Array.prototype.groupBy` method
+// https://github.com/tc39/proposal-array-grouping
+$$1R({ target: 'Array', proto: true }, {
+  groupBy: function groupBy(callbackfn /* , thisArg */) {
+    var thisArg = arguments.length > 1 ? arguments[1] : undefined;
+    return $groupBy$1(this, callbackfn, thisArg, arraySpeciesConstructor);
+  }
+});
+
+addToUnscopables$3('groupBy');
+
+var $$1Q = _export;
 var isArray = isArray$8;
 
 // eslint-disable-next-line es/no-object-isfrozen -- safe
@@ -9270,7 +10266,7 @@ var isFrozenStringArray = function (array, allowUndefined) {
 
 // `Array.isTemplateObject` method
 // https://github.com/tc39/proposal-array-is-template-object
-$$1R({ target: 'Array', stat: true }, {
+$$1Q({ target: 'Array', stat: true }, {
   isTemplateObject: function isTemplateObject(value) {
     if (!isFrozenStringArray(value, true)) return false;
     var raw = value.raw;
@@ -9280,9 +10276,9 @@ $$1R({ target: 'Array', stat: true }, {
 });
 
 var DESCRIPTORS$4 = descriptors;
-var addToUnscopables$2 = addToUnscopables$f;
-var toObject$5 = toObject$w;
-var toLength$3 = toLength$B;
+var addToUnscopables$2 = addToUnscopables$h;
+var toObject$5 = toObject$z;
+var toLength$2 = toLength$D;
 var defineProperty$2 = objectDefineProperty.f;
 
 // `Array.prototype.lastIndex` getter
@@ -9292,7 +10288,7 @@ if (DESCRIPTORS$4 && !('lastIndex' in [])) {
     configurable: true,
     get: function lastIndex() {
       var O = toObject$5(this);
-      var len = toLength$3(O.length);
+      var len = toLength$2(O.length);
       return len == 0 ? 0 : len - 1;
     }
   });
@@ -9301,9 +10297,9 @@ if (DESCRIPTORS$4 && !('lastIndex' in [])) {
 }
 
 var DESCRIPTORS$3 = descriptors;
-var addToUnscopables$1 = addToUnscopables$f;
-var toObject$4 = toObject$w;
-var toLength$2 = toLength$B;
+var addToUnscopables$1 = addToUnscopables$h;
+var toObject$4 = toObject$z;
+var toLength$1 = toLength$D;
 var defineProperty$1 = objectDefineProperty.f;
 
 // `Array.prototype.lastIndex` accessor
@@ -9313,12 +10309,12 @@ if (DESCRIPTORS$3 && !('lastItem' in [])) {
     configurable: true,
     get: function lastItem() {
       var O = toObject$4(this);
-      var len = toLength$2(O.length);
+      var len = toLength$1(O.length);
       return len == 0 ? undefined : O[len - 1];
     },
     set: function lastItem(value) {
       var O = toObject$4(this);
-      var len = toLength$2(O.length);
+      var len = toLength$1(O.length);
       return O[len == 0 ? 0 : len - 1] = value;
     }
   });
@@ -9326,94 +10322,57 @@ if (DESCRIPTORS$3 && !('lastItem' in [])) {
   addToUnscopables$1('lastItem');
 }
 
-var toLength$1 = toLength$B;
-var toObject$3 = toObject$w;
-var getBuiltIn$g = getBuiltIn$t;
+var aCallable$z = aCallable$Q;
+var toLength = toLength$D;
+var toObject$3 = toObject$z;
+var getBuiltIn$f = getBuiltIn$w;
 var arraySpeciesCreate = arraySpeciesCreate$6;
 
-var push$2 = [].push;
+var push$1 = [].push;
 
 // `Array.prototype.uniqueBy` method
 // https://github.com/tc39/proposal-array-unique
 var arrayUniqueBy$1 = function uniqueBy(resolver) {
   var that = toObject$3(this);
-  var length = toLength$1(that.length);
+  var length = toLength(that.length);
   var result = arraySpeciesCreate(that, 0);
-  var Map = getBuiltIn$g('Map');
+  var Map = getBuiltIn$f('Map');
   var map = new Map();
   var resolverFunction, index, item, key;
-  if (typeof resolver == 'function') resolverFunction = resolver;
-  else if (resolver == null) resolverFunction = function (value) {
+  if (resolver != null) resolverFunction = aCallable$z(resolver);
+  else resolverFunction = function (value) {
     return value;
   };
-  else throw new TypeError('Incorrect resolver!');
   for (index = 0; index < length; index++) {
     item = that[index];
     key = resolverFunction(item);
     if (!map.has(key)) map.set(key, item);
   }
   map.forEach(function (value) {
-    push$2.call(result, value);
+    push$1.call(result, value);
   });
   return result;
 };
 
-var $$1Q = _export;
-var addToUnscopables = addToUnscopables$f;
+var $$1P = _export;
+var addToUnscopables = addToUnscopables$h;
 var uniqueBy = arrayUniqueBy$1;
 
 // `Array.prototype.uniqueBy` method
 // https://github.com/tc39/proposal-array-unique
-$$1Q({ target: 'Array', proto: true }, {
+$$1P({ target: 'Array', proto: true }, {
   uniqueBy: uniqueBy
 });
 
 addToUnscopables('uniqueBy');
 
-var global$8 = global$M;
-var shared$1 = sharedStore;
-var getPrototypeOf$3 = objectGetPrototypeOf$1;
-var has$4 = has$n;
-var createNonEnumerableProperty$7 = createNonEnumerableProperty$m;
-var wellKnownSymbol$9 = wellKnownSymbol$C;
-
-var USE_FUNCTION_CONSTRUCTOR = 'USE_FUNCTION_CONSTRUCTOR';
-var ASYNC_ITERATOR$1 = wellKnownSymbol$9('asyncIterator');
-var AsyncIterator$1 = global$8.AsyncIterator;
-var PassedAsyncIteratorPrototype = shared$1.AsyncIteratorPrototype;
-var AsyncIteratorPrototype$1, prototype;
-
-{
-  if (PassedAsyncIteratorPrototype) {
-    AsyncIteratorPrototype$1 = PassedAsyncIteratorPrototype;
-  } else if (typeof AsyncIterator$1 == 'function') {
-    AsyncIteratorPrototype$1 = AsyncIterator$1.prototype;
-  } else if (shared$1[USE_FUNCTION_CONSTRUCTOR] || global$8[USE_FUNCTION_CONSTRUCTOR]) {
-    try {
-      // eslint-disable-next-line no-new-func -- we have no alternatives without usage of modern syntax
-      prototype = getPrototypeOf$3(getPrototypeOf$3(getPrototypeOf$3(Function('return async function*(){}()')())));
-      if (getPrototypeOf$3(prototype) === Object.prototype) AsyncIteratorPrototype$1 = prototype;
-    } catch (error) { /* empty */ }
-  }
-}
-
-if (!AsyncIteratorPrototype$1) AsyncIteratorPrototype$1 = {};
-
-if (!has$4(AsyncIteratorPrototype$1, ASYNC_ITERATOR$1)) {
-  createNonEnumerableProperty$7(AsyncIteratorPrototype$1, ASYNC_ITERATOR$1, function () {
-    return this;
-  });
-}
-
-var asyncIteratorPrototype = AsyncIteratorPrototype$1;
-
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1P = _export;
+var $$1O = _export;
 var anInstance$4 = anInstance$b;
-var createNonEnumerableProperty$6 = createNonEnumerableProperty$m;
-var has$3 = has$n;
-var wellKnownSymbol$8 = wellKnownSymbol$C;
-var AsyncIteratorPrototype = asyncIteratorPrototype;
+var createNonEnumerableProperty$5 = createNonEnumerableProperty$g;
+var has$3 = has$m;
+var wellKnownSymbol$8 = wellKnownSymbol$G;
+var AsyncIteratorPrototype$2 = asyncIteratorPrototype;
 var IS_PURE$C = isPure;
 
 var TO_STRING_TAG$4 = wellKnownSymbol$8('toStringTag');
@@ -9422,92 +10381,102 @@ var AsyncIteratorConstructor = function AsyncIterator() {
   anInstance$4(this, AsyncIteratorConstructor);
 };
 
-AsyncIteratorConstructor.prototype = AsyncIteratorPrototype;
+AsyncIteratorConstructor.prototype = AsyncIteratorPrototype$2;
 
-if (!has$3(AsyncIteratorPrototype, TO_STRING_TAG$4)) {
-  createNonEnumerableProperty$6(AsyncIteratorPrototype, TO_STRING_TAG$4, 'AsyncIterator');
+if (!has$3(AsyncIteratorPrototype$2, TO_STRING_TAG$4)) {
+  createNonEnumerableProperty$5(AsyncIteratorPrototype$2, TO_STRING_TAG$4, 'AsyncIterator');
 }
 
-if (!has$3(AsyncIteratorPrototype, 'constructor') || AsyncIteratorPrototype.constructor === Object) {
-  createNonEnumerableProperty$6(AsyncIteratorPrototype, 'constructor', AsyncIteratorConstructor);
+if (!has$3(AsyncIteratorPrototype$2, 'constructor') || AsyncIteratorPrototype$2.constructor === Object) {
+  createNonEnumerableProperty$5(AsyncIteratorPrototype$2, 'constructor', AsyncIteratorConstructor);
 }
 
-$$1P({ global: true, forced: IS_PURE$C }, {
+$$1O({ global: true, forced: IS_PURE$C }, {
   AsyncIterator: AsyncIteratorConstructor
 });
 
-var path$3 = path$6;
-var aFunction$B = aFunction$S;
-var anObject$12 = anObject$1z;
-var create$4 = objectCreate;
-var createNonEnumerableProperty$5 = createNonEnumerableProperty$m;
-var redefineAll$3 = redefineAll$9;
-var wellKnownSymbol$7 = wellKnownSymbol$C;
+var aCallable$y = aCallable$Q;
+var anObject$10 = anObject$1C;
+var create$4 = objectCreate$1;
+var createNonEnumerableProperty$4 = createNonEnumerableProperty$g;
+var redefineAll$3 = redefineAll$a;
+var wellKnownSymbol$7 = wellKnownSymbol$G;
 var InternalStateModule$8 = internalState;
-var getBuiltIn$f = getBuiltIn$t;
+var getBuiltIn$e = getBuiltIn$w;
+var getMethod$3 = getMethod$h;
+var AsyncIteratorPrototype$1 = asyncIteratorPrototype;
 
-var Promise$3 = getBuiltIn$f('Promise');
+var Promise$2 = getBuiltIn$e('Promise');
 
 var setInternalState$8 = InternalStateModule$8.set;
 var getInternalState$6 = InternalStateModule$8.get;
 
 var TO_STRING_TAG$3 = wellKnownSymbol$7('toStringTag');
 
-var $return$1 = function (value) {
-  var iterator = getInternalState$6(this).iterator;
-  var $$return = iterator['return'];
-  return $$return === undefined
-    ? Promise$3.resolve({ done: true, value: value })
-    : anObject$12($$return.call(iterator, value));
-};
-
-var $throw$1 = function (value) {
-  var iterator = getInternalState$6(this).iterator;
-  var $$throw = iterator['throw'];
-  return $$throw === undefined
-    ? Promise$3.reject(value)
-    : $$throw.call(iterator, value);
-};
-
 var asyncIteratorCreateProxy = function (nextHandler, IS_ITERATOR) {
   var AsyncIteratorProxy = function AsyncIterator(state) {
-    state.next = aFunction$B(state.iterator.next);
+    state.next = aCallable$y(state.iterator.next);
     state.done = false;
+    state.ignoreArgument = !IS_ITERATOR;
     setInternalState$8(this, state);
   };
 
-  AsyncIteratorProxy.prototype = redefineAll$3(create$4(path$3.AsyncIterator.prototype), {
+  AsyncIteratorProxy.prototype = redefineAll$3(create$4(AsyncIteratorPrototype$1), {
     next: function next(arg) {
-      var state = getInternalState$6(this);
-      if (state.done) return Promise$3.resolve({ done: true, value: undefined });
-      try {
-        return Promise$3.resolve(anObject$12(nextHandler.call(state, arg, Promise$3)));
-      } catch (error) {
-        return Promise$3.reject(error);
-      }
+      var that = this;
+      var hasArgument = !!arguments.length;
+      return new Promise$2(function (resolve) {
+        var state = getInternalState$6(that);
+        var args = hasArgument ? [state.ignoreArgument ? undefined : arg] : IS_ITERATOR ? [] : [undefined];
+        state.ignoreArgument = false;
+        resolve(state.done ? { done: true, value: undefined } : anObject$10(nextHandler.call(state, Promise$2, args)));
+      });
+    },
+    'return': function (value) {
+      var that = this;
+      return new Promise$2(function (resolve, reject) {
+        var state = getInternalState$6(that);
+        var iterator = state.iterator;
+        state.done = true;
+        var $$return = getMethod$3(iterator, 'return');
+        if ($$return === undefined) return resolve({ done: true, value: value });
+        Promise$2.resolve($$return.call(iterator, value)).then(function (result) {
+          anObject$10(result);
+          resolve({ done: true, value: value });
+        }, reject);
+      });
     },
-    'return': $return$1,
-    'throw': $throw$1
+    'throw': function (value) {
+      var that = this;
+      return new Promise$2(function (resolve, reject) {
+        var state = getInternalState$6(that);
+        var iterator = state.iterator;
+        state.done = true;
+        var $$throw = getMethod$3(iterator, 'throw');
+        if ($$throw === undefined) return reject(value);
+        resolve($$throw.call(iterator, value));
+      });
+    }
   });
 
   if (!IS_ITERATOR) {
-    createNonEnumerableProperty$5(AsyncIteratorProxy.prototype, TO_STRING_TAG$3, 'Generator');
+    createNonEnumerableProperty$4(AsyncIteratorProxy.prototype, TO_STRING_TAG$3, 'Generator');
   }
 
   return AsyncIteratorProxy;
 };
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1O = _export;
-var anObject$11 = anObject$1z;
+var $$1N = _export;
+var anObject$$ = anObject$1C;
 var createAsyncIteratorProxy$6 = asyncIteratorCreateProxy;
 
-var AsyncIteratorProxy$6 = createAsyncIteratorProxy$6(function (arg, Promise) {
+var AsyncIteratorProxy$6 = createAsyncIteratorProxy$6(function (Promise, args) {
   var state = this;
   var iterator = state.iterator;
 
-  return Promise.resolve(anObject$11(state.next.call(iterator, arg))).then(function (step) {
-    if (anObject$11(step).done) {
+  return Promise.resolve(anObject$$(state.next.apply(iterator, args))).then(function (step) {
+    if (anObject$$(step).done) {
       state.done = true;
       return { done: true, value: undefined };
     }
@@ -9515,32 +10484,32 @@ var AsyncIteratorProxy$6 = createAsyncIteratorProxy$6(function (arg, Promise) {
   });
 });
 
-$$1O({ target: 'AsyncIterator', proto: true, real: true }, {
+$$1N({ target: 'AsyncIterator', proto: true, real: true }, {
   asIndexedPairs: function asIndexedPairs() {
     return new AsyncIteratorProxy$6({
-      iterator: anObject$11(this),
+      iterator: anObject$$(this),
       index: 0
     });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1N = _export;
-var anObject$10 = anObject$1z;
+var $$1M = _export;
+var anObject$_ = anObject$1C;
 var toPositiveInteger$3 = toPositiveInteger$5;
 var createAsyncIteratorProxy$5 = asyncIteratorCreateProxy;
 
-var AsyncIteratorProxy$5 = createAsyncIteratorProxy$5(function (arg, Promise) {
+var AsyncIteratorProxy$5 = createAsyncIteratorProxy$5(function (Promise, args) {
   var state = this;
 
   return new Promise(function (resolve, reject) {
     var loop = function () {
       try {
         Promise.resolve(
-          anObject$10(state.next.call(state.iterator, state.remaining ? undefined : arg))
+          anObject$_(state.next.apply(state.iterator, state.remaining ? [] : args))
         ).then(function (step) {
           try {
-            if (anObject$10(step).done) {
+            if (anObject$_(step).done) {
               state.done = true;
               resolve({ done: true, value: undefined });
             } else if (state.remaining) {
@@ -9556,121 +10525,41 @@ var AsyncIteratorProxy$5 = createAsyncIteratorProxy$5(function (arg, Promise) {
   });
 });
 
-$$1N({ target: 'AsyncIterator', proto: true, real: true }, {
+$$1M({ target: 'AsyncIterator', proto: true, real: true }, {
   drop: function drop(limit) {
     return new AsyncIteratorProxy$5({
-      iterator: anObject$10(this),
+      iterator: anObject$_(this),
       remaining: toPositiveInteger$3(limit)
     });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var aFunction$A = aFunction$S;
-var anObject$$ = anObject$1z;
-var getBuiltIn$e = getBuiltIn$t;
-
-var Promise$2 = getBuiltIn$e('Promise');
-var push$1 = [].push;
-
-var createMethod = function (TYPE) {
-  var IS_TO_ARRAY = TYPE == 0;
-  var IS_FOR_EACH = TYPE == 1;
-  var IS_EVERY = TYPE == 2;
-  var IS_SOME = TYPE == 3;
-  return function (iterator, fn) {
-    anObject$$(iterator);
-    var next = aFunction$A(iterator.next);
-    var array = IS_TO_ARRAY ? [] : undefined;
-    if (!IS_TO_ARRAY) aFunction$A(fn);
-
-    return new Promise$2(function (resolve, reject) {
-      var closeIteration = function (method, argument) {
-        try {
-          var returnMethod = iterator['return'];
-          if (returnMethod !== undefined) {
-            return Promise$2.resolve(returnMethod.call(iterator)).then(function () {
-              method(argument);
-            }, function (error) {
-              reject(error);
-            });
-          }
-        } catch (error2) {
-          return reject(error2);
-        } method(argument);
-      };
-
-      var onError = function (error) {
-        closeIteration(reject, error);
-      };
-
-      var loop = function () {
-        try {
-          Promise$2.resolve(anObject$$(next.call(iterator))).then(function (step) {
-            try {
-              if (anObject$$(step).done) {
-                resolve(IS_TO_ARRAY ? array : IS_SOME ? false : IS_EVERY || undefined);
-              } else {
-                var value = step.value;
-                if (IS_TO_ARRAY) {
-                  push$1.call(array, value);
-                  loop();
-                } else {
-                  Promise$2.resolve(fn(value)).then(function (result) {
-                    if (IS_FOR_EACH) {
-                      loop();
-                    } else if (IS_EVERY) {
-                      result ? loop() : closeIteration(resolve, false);
-                    } else {
-                      result ? closeIteration(resolve, IS_SOME || value) : loop();
-                    }
-                  }, onError);
-                }
-              }
-            } catch (error) { onError(error); }
-          }, onError);
-        } catch (error2) { onError(error2); }
-      };
-
-      loop();
-    });
-  };
-};
-
-var asyncIteratorIteration = {
-  toArray: createMethod(0),
-  forEach: createMethod(1),
-  every: createMethod(2),
-  some: createMethod(3),
-  find: createMethod(4)
-};
-
-// https://github.com/tc39/proposal-iterator-helpers
-var $$1M = _export;
+var $$1L = _export;
 var $every = asyncIteratorIteration.every;
 
-$$1M({ target: 'AsyncIterator', proto: true, real: true }, {
+$$1L({ target: 'AsyncIterator', proto: true, real: true }, {
   every: function every(fn) {
     return $every(this, fn);
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1L = _export;
-var aFunction$z = aFunction$S;
-var anObject$_ = anObject$1z;
+var $$1K = _export;
+var aCallable$x = aCallable$Q;
+var anObject$Z = anObject$1C;
 var createAsyncIteratorProxy$4 = asyncIteratorCreateProxy;
 
-var AsyncIteratorProxy$4 = createAsyncIteratorProxy$4(function (arg, Promise) {
+var AsyncIteratorProxy$4 = createAsyncIteratorProxy$4(function (Promise, args) {
   var state = this;
   var filterer = state.filterer;
 
   return new Promise(function (resolve, reject) {
     var loop = function () {
       try {
-        Promise.resolve(anObject$_(state.next.call(state.iterator, arg))).then(function (step) {
+        Promise.resolve(anObject$Z(state.next.apply(state.iterator, args))).then(function (step) {
           try {
-            if (anObject$_(step).done) {
+            if (anObject$Z(step).done) {
               state.done = true;
               resolve({ done: true, value: undefined });
             } else {
@@ -9688,64 +10577,51 @@ var AsyncIteratorProxy$4 = createAsyncIteratorProxy$4(function (arg, Promise) {
   });
 });
 
-$$1L({ target: 'AsyncIterator', proto: true, real: true }, {
+$$1K({ target: 'AsyncIterator', proto: true, real: true }, {
   filter: function filter(filterer) {
     return new AsyncIteratorProxy$4({
-      iterator: anObject$_(this),
-      filterer: aFunction$z(filterer)
+      iterator: anObject$Z(this),
+      filterer: aCallable$x(filterer)
     });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1K = _export;
+var $$1J = _export;
 var $find = asyncIteratorIteration.find;
 
-$$1K({ target: 'AsyncIterator', proto: true, real: true }, {
+$$1J({ target: 'AsyncIterator', proto: true, real: true }, {
   find: function find(fn) {
     return $find(this, fn);
   }
 });
 
-var getIteratorMethod$4 = getIteratorMethod$8;
-var wellKnownSymbol$6 = wellKnownSymbol$C;
-
-var ASYNC_ITERATOR = wellKnownSymbol$6('asyncIterator');
-
-var getAsyncIteratorMethod$2 = function (it) {
-  var method = it[ASYNC_ITERATOR];
-  return method === undefined ? getIteratorMethod$4(it) : method;
-};
-
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1J = _export;
-var aFunction$y = aFunction$S;
-var anObject$Z = anObject$1z;
+var $$1I = _export;
+var aCallable$w = aCallable$Q;
+var anObject$Y = anObject$1C;
 var createAsyncIteratorProxy$3 = asyncIteratorCreateProxy;
-var getAsyncIteratorMethod$1 = getAsyncIteratorMethod$2;
+var getAsyncIterator$1 = getAsyncIterator$3;
 
-var AsyncIteratorProxy$3 = createAsyncIteratorProxy$3(function (arg, Promise) {
+var AsyncIteratorProxy$3 = createAsyncIteratorProxy$3(function (Promise) {
   var state = this;
   var mapper = state.mapper;
-  var innerIterator, iteratorMethod;
+  var innerIterator;
 
   return new Promise(function (resolve, reject) {
     var outerLoop = function () {
       try {
-        Promise.resolve(anObject$Z(state.next.call(state.iterator, arg))).then(function (step) {
+        Promise.resolve(anObject$Y(state.next.call(state.iterator))).then(function (step) {
           try {
-            if (anObject$Z(step).done) {
+            if (anObject$Y(step).done) {
               state.done = true;
               resolve({ done: true, value: undefined });
             } else {
               Promise.resolve(mapper(step.value)).then(function (mapped) {
                 try {
-                  iteratorMethod = getAsyncIteratorMethod$1(mapped);
-                  if (iteratorMethod !== undefined) {
-                    state.innerIterator = innerIterator = anObject$Z(iteratorMethod.call(mapped));
-                    state.innerNext = aFunction$y(innerIterator.next);
-                    return innerLoop();
-                  } reject(TypeError('.flatMap callback should return an iterable object'));
+                  state.innerIterator = innerIterator = getAsyncIterator$1(mapped);
+                  state.innerNext = aCallable$w(innerIterator.next);
+                  return innerLoop();
                 } catch (error2) { reject(error2); }
               }, reject);
             }
@@ -9757,9 +10633,9 @@ var AsyncIteratorProxy$3 = createAsyncIteratorProxy$3(function (arg, Promise) {
     var innerLoop = function () {
       if (innerIterator = state.innerIterator) {
         try {
-          Promise.resolve(anObject$Z(state.innerNext.call(innerIterator))).then(function (result) {
+          Promise.resolve(anObject$Y(state.innerNext.call(innerIterator))).then(function (result) {
             try {
-              if (anObject$Z(result).done) {
+              if (anObject$Y(result).done) {
                 state.innerIterator = state.innerNext = null;
                 outerLoop();
               } else resolve({ done: false, value: result.value });
@@ -9773,11 +10649,11 @@ var AsyncIteratorProxy$3 = createAsyncIteratorProxy$3(function (arg, Promise) {
   });
 });
 
-$$1J({ target: 'AsyncIterator', proto: true, real: true }, {
+$$1I({ target: 'AsyncIterator', proto: true, real: true }, {
   flatMap: function flatMap(mapper) {
     return new AsyncIteratorProxy$3({
-      iterator: anObject$Z(this),
-      mapper: aFunction$y(mapper),
+      iterator: anObject$Y(this),
+      mapper: aCallable$w(mapper),
       innerIterator: null,
       innerNext: null
     });
@@ -9785,58 +10661,65 @@ $$1J({ target: 'AsyncIterator', proto: true, real: true }, {
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1I = _export;
+var $$1H = _export;
 var $forEach = asyncIteratorIteration.forEach;
 
-$$1I({ target: 'AsyncIterator', proto: true, real: true }, {
+$$1H({ target: 'AsyncIterator', proto: true, real: true }, {
   forEach: function forEach(fn) {
     return $forEach(this, fn);
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1H = _export;
-var path$2 = path$6;
-var aFunction$x = aFunction$S;
-var anObject$Y = anObject$1z;
-var toObject$2 = toObject$w;
+var $$1G = _export;
+var anObject$X = anObject$1C;
+var toObject$2 = toObject$z;
+var AsyncIteratorPrototype = asyncIteratorPrototype;
 var createAsyncIteratorProxy$2 = asyncIteratorCreateProxy;
-var getAsyncIteratorMethod = getAsyncIteratorMethod$2;
+var getAsyncIterator = getAsyncIterator$3;
+var getIterator$5 = getIterator$b;
+var getIteratorMethod$3 = getIteratorMethod$9;
+var getMethod$2 = getMethod$h;
+var wellKnownSymbol$6 = wellKnownSymbol$G;
+var AsyncFromSyncIterator = asyncFromSyncIterator;
+
+var ASYNC_ITERATOR = wellKnownSymbol$6('asyncIterator');
 
-var AsyncIterator = path$2.AsyncIterator;
+var isPrototypeOf$1 = {}.isPrototypeOf;
 
-var AsyncIteratorProxy$2 = createAsyncIteratorProxy$2(function (arg) {
-  return anObject$Y(this.next.call(this.iterator, arg));
+var AsyncIteratorProxy$2 = createAsyncIteratorProxy$2(function (Promise, args) {
+  return anObject$X(this.next.apply(this.iterator, args));
 }, true);
 
-$$1H({ target: 'AsyncIterator', stat: true }, {
+$$1G({ target: 'AsyncIterator', stat: true }, {
   from: function from(O) {
     var object = toObject$2(O);
-    var usingIterator = getAsyncIteratorMethod(object);
+    var usingIterator = getMethod$2(object, ASYNC_ITERATOR);
     var iterator;
-    if (usingIterator != null) {
-      iterator = aFunction$x(usingIterator).call(object);
-      if (iterator instanceof AsyncIterator) return iterator;
-    } else {
-      iterator = object;
-    } return new AsyncIteratorProxy$2({
-      iterator: iterator
-    });
+    if (usingIterator) {
+      iterator = getAsyncIterator(object, usingIterator);
+      if (isPrototypeOf$1.call(AsyncIteratorPrototype, iterator)) return iterator;
+    }
+    if (iterator === undefined) {
+      usingIterator = getIteratorMethod$3(object);
+      if (usingIterator) return new AsyncFromSyncIterator(getIterator$5(object, usingIterator));
+    }
+    return new AsyncIteratorProxy$2({ iterator: iterator !== undefined ? iterator : object });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1G = _export;
-var aFunction$w = aFunction$S;
-var anObject$X = anObject$1z;
+var $$1F = _export;
+var aCallable$v = aCallable$Q;
+var anObject$W = anObject$1C;
 var createAsyncIteratorProxy$1 = asyncIteratorCreateProxy;
 
-var AsyncIteratorProxy$1 = createAsyncIteratorProxy$1(function (arg, Promise) {
+var AsyncIteratorProxy$1 = createAsyncIteratorProxy$1(function (Promise, args) {
   var state = this;
   var mapper = state.mapper;
 
-  return Promise.resolve(anObject$X(state.next.call(state.iterator, arg))).then(function (step) {
-    if (anObject$X(step).done) {
+  return Promise.resolve(anObject$W(state.next.apply(state.iterator, args))).then(function (step) {
+    if (anObject$W(step).done) {
       state.done = true;
       return { done: true, value: undefined };
     }
@@ -9846,37 +10729,37 @@ var AsyncIteratorProxy$1 = createAsyncIteratorProxy$1(function (arg, Promise) {
   });
 });
 
-$$1G({ target: 'AsyncIterator', proto: true, real: true }, {
+$$1F({ target: 'AsyncIterator', proto: true, real: true }, {
   map: function map(mapper) {
     return new AsyncIteratorProxy$1({
-      iterator: anObject$X(this),
-      mapper: aFunction$w(mapper)
+      iterator: anObject$W(this),
+      mapper: aCallable$v(mapper)
     });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1F = _export;
-var aFunction$v = aFunction$S;
-var anObject$W = anObject$1z;
-var getBuiltIn$d = getBuiltIn$t;
+var $$1E = _export;
+var aCallable$u = aCallable$Q;
+var anObject$V = anObject$1C;
+var getBuiltIn$d = getBuiltIn$w;
 
 var Promise$1 = getBuiltIn$d('Promise');
 
-$$1F({ target: 'AsyncIterator', proto: true, real: true }, {
+$$1E({ target: 'AsyncIterator', proto: true, real: true }, {
   reduce: function reduce(reducer /* , initialValue */) {
-    var iterator = anObject$W(this);
-    var next = aFunction$v(iterator.next);
+    var iterator = anObject$V(this);
+    var next = aCallable$u(iterator.next);
     var noInitial = arguments.length < 2;
     var accumulator = noInitial ? undefined : arguments[1];
-    aFunction$v(reducer);
+    aCallable$u(reducer);
 
     return new Promise$1(function (resolve, reject) {
       var loop = function () {
         try {
-          Promise$1.resolve(anObject$W(next.call(iterator))).then(function (step) {
+          Promise$1.resolve(anObject$V(next.call(iterator))).then(function (step) {
             try {
-              if (anObject$W(step).done) {
+              if (anObject$V(step).done) {
                 noInitial ? reject(TypeError('Reduce of empty iterator with no initial value')) : resolve(accumulator);
               } else {
                 var value = step.value;
@@ -9902,22 +10785,22 @@ $$1F({ target: 'AsyncIterator', proto: true, real: true }, {
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1E = _export;
+var $$1D = _export;
 var $some = asyncIteratorIteration.some;
 
-$$1E({ target: 'AsyncIterator', proto: true, real: true }, {
+$$1D({ target: 'AsyncIterator', proto: true, real: true }, {
   some: function some(fn) {
     return $some(this, fn);
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1D = _export;
-var anObject$V = anObject$1z;
+var $$1C = _export;
+var anObject$U = anObject$1C;
 var toPositiveInteger$2 = toPositiveInteger$5;
 var createAsyncIteratorProxy = asyncIteratorCreateProxy;
 
-var AsyncIteratorProxy = createAsyncIteratorProxy(function (arg, Promise) {
+var AsyncIteratorProxy = createAsyncIteratorProxy(function (Promise, args) {
   var iterator = this.iterator;
   var returnMethod, result;
   if (!this.remaining--) {
@@ -9930,25 +10813,25 @@ var AsyncIteratorProxy = createAsyncIteratorProxy(function (arg, Promise) {
       });
     }
     return result;
-  } return this.next.call(iterator, arg);
+  } return this.next.apply(iterator, args);
 });
 
-$$1D({ target: 'AsyncIterator', proto: true, real: true }, {
+$$1C({ target: 'AsyncIterator', proto: true, real: true }, {
   take: function take(limit) {
     return new AsyncIteratorProxy({
-      iterator: anObject$V(this),
+      iterator: anObject$U(this),
       remaining: toPositiveInteger$2(limit)
     });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1C = _export;
+var $$1B = _export;
 var $toArray = asyncIteratorIteration.toArray;
 
-$$1C({ target: 'AsyncIterator', proto: true, real: true }, {
+$$1B({ target: 'AsyncIterator', proto: true, real: true }, {
   toArray: function toArray() {
-    return $toArray(this);
+    return $toArray(this, undefined, []);
   }
 });
 
@@ -10055,13 +10938,13 @@ if (DESCRIPTORS$2) {
 var numericRangeIterator = $RangeIterator;
 
 /* eslint-disable es/no-bigint -- safe */
-var $$1B = _export;
+var $$1A = _export;
 var NumericRangeIterator$1 = numericRangeIterator;
 
 // `BigInt.range` method
 // https://github.com/tc39/proposal-Number.range
 if (typeof BigInt == 'function') {
-  $$1B({ target: 'BigInt', stat: true }, {
+  $$1A({ target: 'BigInt', stat: true }, {
     range: function range(start, end, option) {
       return new NumericRangeIterator$1(start, end, option, 'bigint', BigInt(0), BigInt(1));
     }
@@ -10071,7 +10954,7 @@ if (typeof BigInt == 'function') {
 // TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`
 var Map$2 = es_map;
 var WeakMap$1 = es_weakMap.exports;
-var create$3 = objectCreate;
+var create$3 = objectCreate$1;
 var isObject$2 = isObject$B;
 
 var Node = function () {
@@ -10112,10 +10995,10 @@ var compositeKey = function () {
   } return active;
 };
 
-var $$1A = _export;
+var $$1z = _export;
 var getCompositeKeyNode$1 = compositeKey;
-var getBuiltIn$c = getBuiltIn$t;
-var create$2 = objectCreate;
+var getBuiltIn$c = getBuiltIn$w;
+var create$2 = objectCreate$1;
 
 var initializer = function () {
   var freeze = getBuiltIn$c('Object', 'freeze');
@@ -10123,18 +11006,18 @@ var initializer = function () {
 };
 
 // https://github.com/tc39/proposal-richer-keys/tree/master/compositeKey
-$$1A({ global: true }, {
+$$1z({ global: true }, {
   compositeKey: function compositeKey() {
     return getCompositeKeyNode$1.apply(Object, arguments).get('object', initializer);
   }
 });
 
-var $$1z = _export;
+var $$1y = _export;
 var getCompositeKeyNode = compositeKey;
-var getBuiltIn$b = getBuiltIn$t;
+var getBuiltIn$b = getBuiltIn$w;
 
 // https://github.com/tc39/proposal-richer-keys/tree/master/compositeKey
-$$1z({ global: true }, {
+$$1y({ global: true }, {
   compositeSymbol: function compositeSymbol() {
     if (arguments.length === 1 && typeof arguments[0] === 'string') return getBuiltIn$b('Symbol')['for'](arguments[0]);
     return getCompositeKeyNode.apply(null, arguments).get('symbol', getBuiltIn$b('Symbol'));
@@ -10142,23 +11025,23 @@ $$1z({ global: true }, {
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1y = _export;
-var global$7 = global$M;
+var $$1x = _export;
+var global$7 = global$R;
 var anInstance$3 = anInstance$b;
-var createNonEnumerableProperty$4 = createNonEnumerableProperty$m;
-var fails$2 = fails$X;
-var has$2 = has$n;
-var wellKnownSymbol$5 = wellKnownSymbol$C;
-var IteratorPrototype = iteratorsCore.IteratorPrototype;
+var isCallable$5 = isCallable$z;
+var createNonEnumerableProperty$3 = createNonEnumerableProperty$g;
+var fails$2 = fails$15;
+var has$2 = has$m;
+var wellKnownSymbol$5 = wellKnownSymbol$G;
+var IteratorPrototype$2 = iteratorsCore.IteratorPrototype;
 
-wellKnownSymbol$5('iterator');
 var TO_STRING_TAG$2 = wellKnownSymbol$5('toStringTag');
 
 var NativeIterator = global$7.Iterator;
 
 // FF56- have non-standard global helper `Iterator`
-var FORCED$2 = typeof NativeIterator != 'function'
-  || NativeIterator.prototype !== IteratorPrototype
+var FORCED$2 = !isCallable$5(NativeIterator)
+  || NativeIterator.prototype !== IteratorPrototype$2
   // FF44- non-standard `Iterator` passes previous tests
   || !fails$2(function () { NativeIterator({}); });
 
@@ -10166,131 +11049,135 @@ var IteratorConstructor = function Iterator() {
   anInstance$3(this, IteratorConstructor);
 };
 
-if (!has$2(IteratorPrototype, TO_STRING_TAG$2)) {
-  createNonEnumerableProperty$4(IteratorPrototype, TO_STRING_TAG$2, 'Iterator');
+if (!has$2(IteratorPrototype$2, TO_STRING_TAG$2)) {
+  createNonEnumerableProperty$3(IteratorPrototype$2, TO_STRING_TAG$2, 'Iterator');
 }
 
-if (FORCED$2 || !has$2(IteratorPrototype, 'constructor') || IteratorPrototype.constructor === Object) {
-  createNonEnumerableProperty$4(IteratorPrototype, 'constructor', IteratorConstructor);
+if (FORCED$2 || !has$2(IteratorPrototype$2, 'constructor') || IteratorPrototype$2.constructor === Object) {
+  createNonEnumerableProperty$3(IteratorPrototype$2, 'constructor', IteratorConstructor);
 }
 
-IteratorConstructor.prototype = IteratorPrototype;
+IteratorConstructor.prototype = IteratorPrototype$2;
 
-$$1y({ global: true, forced: FORCED$2 }, {
+$$1x({ global: true, forced: FORCED$2 }, {
   Iterator: IteratorConstructor
 });
 
-var path$1 = path$6;
-var aFunction$u = aFunction$S;
-var anObject$U = anObject$1z;
-var create$1 = objectCreate;
-var createNonEnumerableProperty$3 = createNonEnumerableProperty$m;
-var redefineAll$2 = redefineAll$9;
-var wellKnownSymbol$4 = wellKnownSymbol$C;
+var aCallable$t = aCallable$Q;
+var anObject$T = anObject$1C;
+var create$1 = objectCreate$1;
+var createNonEnumerableProperty$2 = createNonEnumerableProperty$g;
+var redefineAll$2 = redefineAll$a;
+var wellKnownSymbol$4 = wellKnownSymbol$G;
 var InternalStateModule$6 = internalState;
+var getMethod$1 = getMethod$h;
+var IteratorPrototype$1 = iteratorsCore.IteratorPrototype;
 
 var setInternalState$6 = InternalStateModule$6.set;
 var getInternalState$4 = InternalStateModule$6.get;
 
 var TO_STRING_TAG$1 = wellKnownSymbol$4('toStringTag');
 
-var $return = function (value) {
-  var iterator = getInternalState$4(this).iterator;
-  var $$return = iterator['return'];
-  return $$return === undefined ? { done: true, value: value } : anObject$U($$return.call(iterator, value));
-};
-
-var $throw = function (value) {
-  var iterator = getInternalState$4(this).iterator;
-  var $$throw = iterator['throw'];
-  if ($$throw === undefined) throw value;
-  return $$throw.call(iterator, value);
-};
-
 var iteratorCreateProxy = function (nextHandler, IS_ITERATOR) {
   var IteratorProxy = function Iterator(state) {
-    state.next = aFunction$u(state.iterator.next);
+    state.next = aCallable$t(state.iterator.next);
     state.done = false;
+    state.ignoreArg = !IS_ITERATOR;
     setInternalState$6(this, state);
   };
 
-  IteratorProxy.prototype = redefineAll$2(create$1(path$1.Iterator.prototype), {
-    next: function next() {
+  IteratorProxy.prototype = redefineAll$2(create$1(IteratorPrototype$1), {
+    next: function next(arg) {
       var state = getInternalState$4(this);
-      var result = state.done ? undefined : nextHandler.apply(state, arguments);
+      var args = arguments.length ? [state.ignoreArg ? undefined : arg] : IS_ITERATOR ? [] : [undefined];
+      state.ignoreArg = false;
+      var result = state.done ? undefined : nextHandler.call(state, args);
       return { done: state.done, value: result };
     },
-    'return': $return,
-    'throw': $throw
+    'return': function (value) {
+      var state = getInternalState$4(this);
+      var iterator = state.iterator;
+      state.done = true;
+      var $$return = getMethod$1(iterator, 'return');
+      return { done: true, value: $$return ? anObject$T($$return.call(iterator, value)).value : value };
+    },
+    'throw': function (value) {
+      var state = getInternalState$4(this);
+      var iterator = state.iterator;
+      state.done = true;
+      var $$throw = getMethod$1(iterator, 'throw');
+      if ($$throw) return $$throw.call(iterator, value);
+      throw value;
+    }
   });
 
   if (!IS_ITERATOR) {
-    createNonEnumerableProperty$3(IteratorProxy.prototype, TO_STRING_TAG$1, 'Generator');
+    createNonEnumerableProperty$2(IteratorProxy.prototype, TO_STRING_TAG$1, 'Generator');
   }
 
   return IteratorProxy;
 };
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1x = _export;
-var anObject$T = anObject$1z;
+var $$1w = _export;
+var anObject$S = anObject$1C;
 var createIteratorProxy$6 = iteratorCreateProxy;
 
-var IteratorProxy$6 = createIteratorProxy$6(function (arg) {
-  var result = anObject$T(this.next.call(this.iterator, arg));
+var IteratorProxy$6 = createIteratorProxy$6(function (args) {
+  var result = anObject$S(this.next.apply(this.iterator, args));
   var done = this.done = !!result.done;
   if (!done) return [this.index++, result.value];
 });
 
-$$1x({ target: 'Iterator', proto: true, real: true }, {
+$$1w({ target: 'Iterator', proto: true, real: true }, {
   asIndexedPairs: function asIndexedPairs() {
     return new IteratorProxy$6({
-      iterator: anObject$T(this),
+      iterator: anObject$S(this),
       index: 0
     });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1w = _export;
-var anObject$S = anObject$1z;
+var $$1v = _export;
+var anObject$R = anObject$1C;
 var toPositiveInteger$1 = toPositiveInteger$5;
 var createIteratorProxy$5 = iteratorCreateProxy;
 
-var IteratorProxy$5 = createIteratorProxy$5(function (arg) {
+var IteratorProxy$5 = createIteratorProxy$5(function (args) {
   var iterator = this.iterator;
   var next = this.next;
   var result, done;
   while (this.remaining) {
     this.remaining--;
-    result = anObject$S(next.call(iterator));
+    result = anObject$R(next.call(iterator));
     done = this.done = !!result.done;
     if (done) return;
   }
-  result = anObject$S(next.call(iterator, arg));
+  result = anObject$R(next.apply(iterator, args));
   done = this.done = !!result.done;
   if (!done) return result.value;
 });
 
-$$1w({ target: 'Iterator', proto: true, real: true }, {
+$$1v({ target: 'Iterator', proto: true, real: true }, {
   drop: function drop(limit) {
     return new IteratorProxy$5({
-      iterator: anObject$S(this),
+      iterator: anObject$R(this),
       remaining: toPositiveInteger$1(limit)
     });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1v = _export;
+var $$1u = _export;
 var iterate$z = iterate$I;
-var aFunction$t = aFunction$S;
-var anObject$R = anObject$1z;
+var aCallable$s = aCallable$Q;
+var anObject$Q = anObject$1C;
 
-$$1v({ target: 'Iterator', proto: true, real: true }, {
+$$1u({ target: 'Iterator', proto: true, real: true }, {
   every: function every(fn) {
-    anObject$R(this);
-    aFunction$t(fn);
+    anObject$Q(this);
+    aCallable$s(fn);
     return !iterate$z(this, function (value, stop) {
       if (!fn(value)) return stop();
     }, { IS_ITERATOR: true, INTERRUPTED: true }).stopped;
@@ -10298,19 +11185,19 @@ $$1v({ target: 'Iterator', proto: true, real: true }, {
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1u = _export;
-var aFunction$s = aFunction$S;
-var anObject$Q = anObject$1z;
+var $$1t = _export;
+var aCallable$r = aCallable$Q;
+var anObject$P = anObject$1C;
 var createIteratorProxy$4 = iteratorCreateProxy;
 var callWithSafeIterationClosing$1 = callWithSafeIterationClosing$3;
 
-var IteratorProxy$4 = createIteratorProxy$4(function (arg) {
+var IteratorProxy$4 = createIteratorProxy$4(function (args) {
   var iterator = this.iterator;
   var filterer = this.filterer;
   var next = this.next;
   var result, done, value;
   while (true) {
-    result = anObject$Q(next.call(iterator, arg));
+    result = anObject$P(next.apply(iterator, args));
     done = this.done = !!result.done;
     if (done) return;
     value = result.value;
@@ -10318,25 +11205,25 @@ var IteratorProxy$4 = createIteratorProxy$4(function (arg) {
   }
 });
 
-$$1u({ target: 'Iterator', proto: true, real: true }, {
+$$1t({ target: 'Iterator', proto: true, real: true }, {
   filter: function filter(filterer) {
     return new IteratorProxy$4({
-      iterator: anObject$Q(this),
-      filterer: aFunction$s(filterer)
+      iterator: anObject$P(this),
+      filterer: aCallable$r(filterer)
     });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1t = _export;
+var $$1s = _export;
 var iterate$y = iterate$I;
-var aFunction$r = aFunction$S;
-var anObject$P = anObject$1z;
+var aCallable$q = aCallable$Q;
+var anObject$O = anObject$1C;
 
-$$1t({ target: 'Iterator', proto: true, real: true }, {
+$$1s({ target: 'Iterator', proto: true, real: true }, {
   find: function find(fn) {
-    anObject$P(this);
-    aFunction$r(fn);
+    anObject$O(this);
+    aCallable$q(fn);
     return iterate$y(this, function (value, stop) {
       if (fn(value)) return stop(value);
     }, { IS_ITERATOR: true, INTERRUPTED: true }).result;
@@ -10344,14 +11231,14 @@ $$1t({ target: 'Iterator', proto: true, real: true }, {
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1s = _export;
-var aFunction$q = aFunction$S;
-var anObject$O = anObject$1z;
-var getIteratorMethod$3 = getIteratorMethod$8;
+var $$1r = _export;
+var aCallable$p = aCallable$Q;
+var anObject$N = anObject$1C;
+var getIteratorMethod$2 = getIteratorMethod$9;
 var createIteratorProxy$3 = iteratorCreateProxy;
 var iteratorClose$1 = iteratorClose$4;
 
-var IteratorProxy$3 = createIteratorProxy$3(function (arg) {
+var IteratorProxy$3 = createIteratorProxy$3(function () {
   var iterator = this.iterator;
   var mapper = this.mapper;
   var result, mapped, iteratorMethod, innerIterator;
@@ -10359,36 +11246,35 @@ var IteratorProxy$3 = createIteratorProxy$3(function (arg) {
   while (true) {
     try {
       if (innerIterator = this.innerIterator) {
-        result = anObject$O(this.innerNext.call(innerIterator));
+        result = anObject$N(this.innerNext.call(innerIterator));
         if (!result.done) return result.value;
         this.innerIterator = this.innerNext = null;
       }
 
-      result = anObject$O(this.next.call(iterator, arg));
+      result = anObject$N(this.next.call(iterator));
 
       if (this.done = !!result.done) return;
 
       mapped = mapper(result.value);
-      iteratorMethod = getIteratorMethod$3(mapped);
+      iteratorMethod = getIteratorMethod$2(mapped);
 
-      if (iteratorMethod === undefined) {
+      if (!iteratorMethod) {
         throw TypeError('.flatMap callback should return an iterable object');
       }
 
-      this.innerIterator = innerIterator = anObject$O(iteratorMethod.call(mapped));
-      this.innerNext = aFunction$q(innerIterator.next);
+      this.innerIterator = innerIterator = anObject$N(iteratorMethod.call(mapped));
+      this.innerNext = aCallable$p(innerIterator.next);
     } catch (error) {
-      iteratorClose$1(iterator);
-      throw error;
+      iteratorClose$1(iterator, 'throw', error);
     }
   }
 });
 
-$$1s({ target: 'Iterator', proto: true, real: true }, {
+$$1r({ target: 'Iterator', proto: true, real: true }, {
   flatMap: function flatMap(mapper) {
     return new IteratorProxy$3({
-      iterator: anObject$O(this),
-      mapper: aFunction$q(mapper),
+      iterator: anObject$N(this),
+      mapper: aCallable$p(mapper),
       innerIterator: null,
       innerNext: null
     });
@@ -10396,82 +11282,80 @@ $$1s({ target: 'Iterator', proto: true, real: true }, {
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1r = _export;
+var $$1q = _export;
 var iterate$x = iterate$I;
-var anObject$N = anObject$1z;
+var anObject$M = anObject$1C;
 
-$$1r({ target: 'Iterator', proto: true, real: true }, {
+$$1q({ target: 'Iterator', proto: true, real: true }, {
   forEach: function forEach(fn) {
-    iterate$x(anObject$N(this), fn, { IS_ITERATOR: true });
+    iterate$x(anObject$M(this), fn, { IS_ITERATOR: true });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1q = _export;
-var path = path$6;
-var aFunction$p = aFunction$S;
-var anObject$M = anObject$1z;
-var toObject$1 = toObject$w;
+var $$1p = _export;
+var anObject$L = anObject$1C;
+var toObject$1 = toObject$z;
+var IteratorPrototype = iteratorsCore.IteratorPrototype;
 var createIteratorProxy$2 = iteratorCreateProxy;
-var getIteratorMethod$2 = getIteratorMethod$8;
+var getIterator$4 = getIterator$b;
+var getIteratorMethod$1 = getIteratorMethod$9;
 
-var Iterator = path.Iterator;
+var isPrototypeOf = {}.isPrototypeOf;
 
-var IteratorProxy$2 = createIteratorProxy$2(function (arg) {
-  var result = anObject$M(this.next.call(this.iterator, arg));
+var IteratorProxy$2 = createIteratorProxy$2(function (args) {
+  var result = anObject$L(this.next.apply(this.iterator, args));
   var done = this.done = !!result.done;
   if (!done) return result.value;
 }, true);
 
-$$1q({ target: 'Iterator', stat: true }, {
+$$1p({ target: 'Iterator', stat: true }, {
   from: function from(O) {
     var object = toObject$1(O);
-    var usingIterator = getIteratorMethod$2(object);
+    var usingIterator = getIteratorMethod$1(object);
     var iterator;
-    if (usingIterator != null) {
-      iterator = aFunction$p(usingIterator).call(object);
-      if (iterator instanceof Iterator) return iterator;
+    if (usingIterator) {
+      iterator = getIterator$4(object, usingIterator);
+      if (isPrototypeOf.call(IteratorPrototype, iterator)) return iterator;
     } else {
       iterator = object;
-    } return new IteratorProxy$2({
-      iterator: iterator
-    });
+    } return new IteratorProxy$2({ iterator: iterator });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1p = _export;
-var aFunction$o = aFunction$S;
-var anObject$L = anObject$1z;
+var $$1o = _export;
+var aCallable$o = aCallable$Q;
+var anObject$K = anObject$1C;
 var createIteratorProxy$1 = iteratorCreateProxy;
 var callWithSafeIterationClosing = callWithSafeIterationClosing$3;
 
-var IteratorProxy$1 = createIteratorProxy$1(function (arg) {
+var IteratorProxy$1 = createIteratorProxy$1(function (args) {
   var iterator = this.iterator;
-  var result = anObject$L(this.next.call(iterator, arg));
+  var result = anObject$K(this.next.apply(iterator, args));
   var done = this.done = !!result.done;
   if (!done) return callWithSafeIterationClosing(iterator, this.mapper, result.value);
 });
 
-$$1p({ target: 'Iterator', proto: true, real: true }, {
+$$1o({ target: 'Iterator', proto: true, real: true }, {
   map: function map(mapper) {
     return new IteratorProxy$1({
-      iterator: anObject$L(this),
-      mapper: aFunction$o(mapper)
+      iterator: anObject$K(this),
+      mapper: aCallable$o(mapper)
     });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1o = _export;
+var $$1n = _export;
 var iterate$w = iterate$I;
-var aFunction$n = aFunction$S;
-var anObject$K = anObject$1z;
+var aCallable$n = aCallable$Q;
+var anObject$J = anObject$1C;
 
-$$1o({ target: 'Iterator', proto: true, real: true }, {
+$$1n({ target: 'Iterator', proto: true, real: true }, {
   reduce: function reduce(reducer /* , initialValue */) {
-    anObject$K(this);
-    aFunction$n(reducer);
+    anObject$J(this);
+    aCallable$n(reducer);
     var noInitial = arguments.length < 2;
     var accumulator = noInitial ? undefined : arguments[1];
     iterate$w(this, function (value) {
@@ -10488,15 +11372,15 @@ $$1o({ target: 'Iterator', proto: true, real: true }, {
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1n = _export;
+var $$1m = _export;
 var iterate$v = iterate$I;
-var aFunction$m = aFunction$S;
-var anObject$J = anObject$1z;
+var aCallable$m = aCallable$Q;
+var anObject$I = anObject$1C;
 
-$$1n({ target: 'Iterator', proto: true, real: true }, {
+$$1m({ target: 'Iterator', proto: true, real: true }, {
   some: function some(fn) {
-    anObject$J(this);
-    aFunction$m(fn);
+    anObject$I(this);
+    aCallable$m(fn);
     return iterate$v(this, function (value, stop) {
       if (fn(value)) return stop();
     }, { IS_ITERATOR: true, INTERRUPTED: true }).stopped;
@@ -10504,54 +11388,54 @@ $$1n({ target: 'Iterator', proto: true, real: true }, {
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1m = _export;
-var anObject$I = anObject$1z;
+var $$1l = _export;
+var anObject$H = anObject$1C;
 var toPositiveInteger = toPositiveInteger$5;
 var createIteratorProxy = iteratorCreateProxy;
 var iteratorClose = iteratorClose$4;
 
-var IteratorProxy = createIteratorProxy(function (arg) {
+var IteratorProxy = createIteratorProxy(function (args) {
   var iterator = this.iterator;
   if (!this.remaining--) {
     this.done = true;
-    return iteratorClose(iterator);
+    return iteratorClose(iterator, 'normal', undefined);
   }
-  var result = anObject$I(this.next.call(iterator, arg));
+  var result = anObject$H(this.next.apply(iterator, args));
   var done = this.done = !!result.done;
   if (!done) return result.value;
 });
 
-$$1m({ target: 'Iterator', proto: true, real: true }, {
+$$1l({ target: 'Iterator', proto: true, real: true }, {
   take: function take(limit) {
     return new IteratorProxy({
-      iterator: anObject$I(this),
+      iterator: anObject$H(this),
       remaining: toPositiveInteger(limit)
     });
   }
 });
 
 // https://github.com/tc39/proposal-iterator-helpers
-var $$1l = _export;
+var $$1k = _export;
 var iterate$u = iterate$I;
-var anObject$H = anObject$1z;
+var anObject$G = anObject$1C;
 
 var push = [].push;
 
-$$1l({ target: 'Iterator', proto: true, real: true }, {
+$$1k({ target: 'Iterator', proto: true, real: true }, {
   toArray: function toArray() {
     var result = [];
-    iterate$u(anObject$H(this), push, { that: result, IS_ITERATOR: true });
+    iterate$u(anObject$G(this), push, { that: result, IS_ITERATOR: true });
     return result;
   }
 });
 
-var anObject$G = anObject$1z;
-var aFunction$l = aFunction$S;
+var aCallable$l = aCallable$Q;
+var anObject$F = anObject$1C;
 
 // https://github.com/tc39/collection-methods
 var collectionDeleteAll$4 = function (/* ...elements */) {
-  var collection = anObject$G(this);
-  var remover = aFunction$l(collection['delete']);
+  var collection = anObject$F(this);
+  var remover = aCallable$l(collection['delete']);
   var allDeleted = true;
   var wasDeleted;
   for (var k = 0, len = arguments.length; k < len; k++) {
@@ -10561,24 +11445,24 @@ var collectionDeleteAll$4 = function (/* ...elements */) {
   return !!allDeleted;
 };
 
-var $$1k = _export;
+var $$1j = _export;
 var IS_PURE$B = isPure;
 var collectionDeleteAll$3 = collectionDeleteAll$4;
 
 // `Map.prototype.deleteAll` method
 // https://github.com/tc39/proposal-collection-methods
-$$1k({ target: 'Map', proto: true, real: true, forced: IS_PURE$B }, {
+$$1j({ target: 'Map', proto: true, real: true, forced: IS_PURE$B }, {
   deleteAll: function deleteAll(/* ...elements */) {
     return collectionDeleteAll$3.apply(this, arguments);
   }
 });
 
-var anObject$F = anObject$1z;
+var anObject$E = anObject$1C;
 
 // `Map.prototype.emplace` method
 // https://github.com/thumbsupep/proposal-upsert
 var mapEmplace = function emplace(key, handler) {
-  var map = anObject$F(this);
+  var map = anObject$E(this);
   var value = (map.has(key) && 'update' in handler)
     ? handler.update(map.get(key), key, map)
     : handler.insert(key, map);
@@ -10586,41 +11470,31 @@ var mapEmplace = function emplace(key, handler) {
   return value;
 };
 
-var $$1j = _export;
+var $$1i = _export;
 var IS_PURE$A = isPure;
 var $emplace$1 = mapEmplace;
 
 // `Map.prototype.emplace` method
 // https://github.com/thumbsupep/proposal-upsert
-$$1j({ target: 'Map', proto: true, real: true, forced: IS_PURE$A }, {
+$$1i({ target: 'Map', proto: true, real: true, forced: IS_PURE$A }, {
   emplace: $emplace$1
 });
 
-var anObject$E = anObject$1z;
-var getIteratorMethod$1 = getIteratorMethod$8;
-
-var getIterator$3 = function (it) {
-  var iteratorMethod = getIteratorMethod$1(it);
-  if (typeof iteratorMethod != 'function') {
-    throw TypeError(String(it) + ' is not iterable');
-  } return anObject$E(iteratorMethod.call(it));
-};
-
 var getMapIterator$a = function (it) {
   // eslint-disable-next-line es/no-map -- safe
   return Map.prototype.entries.call(it);
 };
 
-var $$1i = _export;
+var $$1h = _export;
 var IS_PURE$z = isPure;
-var anObject$D = anObject$1z;
+var anObject$D = anObject$1C;
 var bind$d = functionBindContext;
 var getMapIterator$9 = getMapIterator$a;
 var iterate$t = iterate$I;
 
 // `Map.prototype.every` method
 // https://github.com/tc39/proposal-collection-methods
-$$1i({ target: 'Map', proto: true, real: true, forced: IS_PURE$z }, {
+$$1h({ target: 'Map', proto: true, real: true, forced: IS_PURE$z }, {
   every: function every(callbackfn /* , thisArg */) {
     var map = anObject$D(this);
     var iterator = getMapIterator$9(map);
@@ -10631,25 +11505,25 @@ $$1i({ target: 'Map', proto: true, real: true, forced: IS_PURE$z }, {
   }
 });
 
-var $$1h = _export;
+var $$1g = _export;
 var IS_PURE$y = isPure;
-var getBuiltIn$a = getBuiltIn$t;
-var anObject$C = anObject$1z;
-var aFunction$k = aFunction$S;
+var getBuiltIn$a = getBuiltIn$w;
+var aCallable$k = aCallable$Q;
+var anObject$C = anObject$1C;
 var bind$c = functionBindContext;
-var speciesConstructor$8 = speciesConstructor$i;
+var speciesConstructor$8 = speciesConstructor$f;
 var getMapIterator$8 = getMapIterator$a;
 var iterate$s = iterate$I;
 
 // `Map.prototype.filter` method
 // https://github.com/tc39/proposal-collection-methods
-$$1h({ target: 'Map', proto: true, real: true, forced: IS_PURE$y }, {
+$$1g({ target: 'Map', proto: true, real: true, forced: IS_PURE$y }, {
   filter: function filter(callbackfn /* , thisArg */) {
     var map = anObject$C(this);
     var iterator = getMapIterator$8(map);
     var boundFunction = bind$c(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
     var newMap = new (speciesConstructor$8(map, getBuiltIn$a('Map')))();
-    var setter = aFunction$k(newMap.set);
+    var setter = aCallable$k(newMap.set);
     iterate$s(iterator, function (key, value) {
       if (boundFunction(value, key, map)) setter.call(newMap, key, value);
     }, { AS_ENTRIES: true, IS_ITERATOR: true });
@@ -10657,16 +11531,16 @@ $$1h({ target: 'Map', proto: true, real: true, forced: IS_PURE$y }, {
   }
 });
 
-var $$1g = _export;
+var $$1f = _export;
 var IS_PURE$x = isPure;
-var anObject$B = anObject$1z;
+var anObject$B = anObject$1C;
 var bind$b = functionBindContext;
 var getMapIterator$7 = getMapIterator$a;
 var iterate$r = iterate$I;
 
 // `Map.prototype.find` method
 // https://github.com/tc39/proposal-collection-methods
-$$1g({ target: 'Map', proto: true, real: true, forced: IS_PURE$x }, {
+$$1f({ target: 'Map', proto: true, real: true, forced: IS_PURE$x }, {
   find: function find(callbackfn /* , thisArg */) {
     var map = anObject$B(this);
     var iterator = getMapIterator$7(map);
@@ -10677,16 +11551,16 @@ $$1g({ target: 'Map', proto: true, real: true, forced: IS_PURE$x }, {
   }
 });
 
-var $$1f = _export;
+var $$1e = _export;
 var IS_PURE$w = isPure;
-var anObject$A = anObject$1z;
+var anObject$A = anObject$1C;
 var bind$a = functionBindContext;
 var getMapIterator$6 = getMapIterator$a;
 var iterate$q = iterate$I;
 
 // `Map.prototype.findKey` method
 // https://github.com/tc39/proposal-collection-methods
-$$1f({ target: 'Map', proto: true, real: true, forced: IS_PURE$w }, {
+$$1e({ target: 'Map', proto: true, real: true, forced: IS_PURE$w }, {
   findKey: function findKey(callbackfn /* , thisArg */) {
     var map = anObject$A(this);
     var iterator = getMapIterator$6(map);
@@ -10698,7 +11572,8 @@ $$1f({ target: 'Map', proto: true, real: true, forced: IS_PURE$w }, {
 });
 
 // https://tc39.github.io/proposal-setmap-offrom/
-var aFunction$j = aFunction$S;
+var aCallable$j = aCallable$Q;
+var aConstructor$1 = aConstructor$5;
 var bind$9 = functionBindContext;
 var iterate$p = iterate$I;
 
@@ -10706,9 +11581,9 @@ var collectionFrom = function from(source /* , mapFn, thisArg */) {
   var length = arguments.length;
   var mapFn = length > 1 ? arguments[1] : undefined;
   var mapping, array, n, boundFunction;
-  aFunction$j(this);
+  aConstructor$1(this);
   mapping = mapFn !== undefined;
-  if (mapping) aFunction$j(mapFn);
+  if (mapping) aCallable$j(mapFn);
   if (source == undefined) return new this();
   array = [];
   if (mapping) {
@@ -10723,33 +11598,35 @@ var collectionFrom = function from(source /* , mapFn, thisArg */) {
   return new this(array);
 };
 
-var $$1e = _export;
+var $$1d = _export;
 var from$4 = collectionFrom;
 
 // `Map.from` method
 // https://tc39.github.io/proposal-setmap-offrom/#sec-map.from
-$$1e({ target: 'Map', stat: true }, {
+$$1d({ target: 'Map', stat: true }, {
   from: from$4
 });
 
-var $$1d = _export;
+var $$1c = _export;
+var aCallable$i = aCallable$Q;
+var getIterator$3 = getIterator$b;
 var iterate$o = iterate$I;
-var aFunction$i = aFunction$S;
 
 // `Map.groupBy` method
 // https://github.com/tc39/proposal-collection-methods
-$$1d({ target: 'Map', stat: true }, {
+$$1c({ target: 'Map', stat: true }, {
   groupBy: function groupBy(iterable, keyDerivative) {
+    aCallable$i(keyDerivative);
+    var iterator = getIterator$3(iterable);
     var newMap = new this();
-    aFunction$i(keyDerivative);
-    var has = aFunction$i(newMap.has);
-    var get = aFunction$i(newMap.get);
-    var set = aFunction$i(newMap.set);
-    iterate$o(iterable, function (element) {
+    var has = aCallable$i(newMap.has);
+    var get = aCallable$i(newMap.get);
+    var set = aCallable$i(newMap.set);
+    iterate$o(iterator, function (element) {
       var derivedKey = keyDerivative(element);
       if (!has.call(newMap, derivedKey)) set.call(newMap, derivedKey, [element]);
       else get.call(newMap, derivedKey).push(element);
-    });
+    }, { IS_ITERATOR: true });
     return newMap;
   }
 });
@@ -10761,16 +11638,16 @@ var sameValueZero$1 = function (x, y) {
   return x === y || x != x && y != y;
 };
 
-var $$1c = _export;
+var $$1b = _export;
 var IS_PURE$v = isPure;
-var anObject$z = anObject$1z;
+var anObject$z = anObject$1C;
 var getMapIterator$5 = getMapIterator$a;
 var sameValueZero = sameValueZero$1;
 var iterate$n = iterate$I;
 
 // `Map.prototype.includes` method
 // https://github.com/tc39/proposal-collection-methods
-$$1c({ target: 'Map', proto: true, real: true, forced: IS_PURE$v }, {
+$$1b({ target: 'Map', proto: true, real: true, forced: IS_PURE$v }, {
   includes: function includes(searchElement) {
     return iterate$n(getMapIterator$5(anObject$z(this)), function (key, value, stop) {
       if (sameValueZero(value, searchElement)) return stop();
@@ -10778,17 +11655,17 @@ $$1c({ target: 'Map', proto: true, real: true, forced: IS_PURE$v }, {
   }
 });
 
-var $$1b = _export;
+var $$1a = _export;
 var iterate$m = iterate$I;
-var aFunction$h = aFunction$S;
+var aCallable$h = aCallable$Q;
 
 // `Map.keyBy` method
 // https://github.com/tc39/proposal-collection-methods
-$$1b({ target: 'Map', stat: true }, {
+$$1a({ target: 'Map', stat: true }, {
   keyBy: function keyBy(iterable, keyDerivative) {
     var newMap = new this();
-    aFunction$h(keyDerivative);
-    var setter = aFunction$h(newMap.set);
+    aCallable$h(keyDerivative);
+    var setter = aCallable$h(newMap.set);
     iterate$m(iterable, function (element) {
       setter.call(newMap, keyDerivative(element), element);
     });
@@ -10796,15 +11673,15 @@ $$1b({ target: 'Map', stat: true }, {
   }
 });
 
-var $$1a = _export;
+var $$19 = _export;
 var IS_PURE$u = isPure;
-var anObject$y = anObject$1z;
+var anObject$y = anObject$1C;
 var getMapIterator$4 = getMapIterator$a;
 var iterate$l = iterate$I;
 
-// `Map.prototype.includes` method
+// `Map.prototype.keyOf` method
 // https://github.com/tc39/proposal-collection-methods
-$$1a({ target: 'Map', proto: true, real: true, forced: IS_PURE$u }, {
+$$19({ target: 'Map', proto: true, real: true, forced: IS_PURE$u }, {
   keyOf: function keyOf(searchElement) {
     return iterate$l(getMapIterator$4(anObject$y(this)), function (key, value, stop) {
       if (value === searchElement) return stop(key);
@@ -10812,25 +11689,25 @@ $$1a({ target: 'Map', proto: true, real: true, forced: IS_PURE$u }, {
   }
 });
 
-var $$19 = _export;
+var $$18 = _export;
 var IS_PURE$t = isPure;
-var getBuiltIn$9 = getBuiltIn$t;
-var anObject$x = anObject$1z;
-var aFunction$g = aFunction$S;
+var getBuiltIn$9 = getBuiltIn$w;
+var aCallable$g = aCallable$Q;
+var anObject$x = anObject$1C;
 var bind$8 = functionBindContext;
-var speciesConstructor$7 = speciesConstructor$i;
+var speciesConstructor$7 = speciesConstructor$f;
 var getMapIterator$3 = getMapIterator$a;
 var iterate$k = iterate$I;
 
 // `Map.prototype.mapKeys` method
 // https://github.com/tc39/proposal-collection-methods
-$$19({ target: 'Map', proto: true, real: true, forced: IS_PURE$t }, {
+$$18({ target: 'Map', proto: true, real: true, forced: IS_PURE$t }, {
   mapKeys: function mapKeys(callbackfn /* , thisArg */) {
     var map = anObject$x(this);
     var iterator = getMapIterator$3(map);
     var boundFunction = bind$8(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
     var newMap = new (speciesConstructor$7(map, getBuiltIn$9('Map')))();
-    var setter = aFunction$g(newMap.set);
+    var setter = aCallable$g(newMap.set);
     iterate$k(iterator, function (key, value) {
       setter.call(newMap, boundFunction(value, key, map), value);
     }, { AS_ENTRIES: true, IS_ITERATOR: true });
@@ -10838,25 +11715,25 @@ $$19({ target: 'Map', proto: true, real: true, forced: IS_PURE$t }, {
   }
 });
 
-var $$18 = _export;
+var $$17 = _export;
 var IS_PURE$s = isPure;
-var getBuiltIn$8 = getBuiltIn$t;
-var anObject$w = anObject$1z;
-var aFunction$f = aFunction$S;
+var getBuiltIn$8 = getBuiltIn$w;
+var aCallable$f = aCallable$Q;
+var anObject$w = anObject$1C;
 var bind$7 = functionBindContext;
-var speciesConstructor$6 = speciesConstructor$i;
+var speciesConstructor$6 = speciesConstructor$f;
 var getMapIterator$2 = getMapIterator$a;
 var iterate$j = iterate$I;
 
 // `Map.prototype.mapValues` method
 // https://github.com/tc39/proposal-collection-methods
-$$18({ target: 'Map', proto: true, real: true, forced: IS_PURE$s }, {
+$$17({ target: 'Map', proto: true, real: true, forced: IS_PURE$s }, {
   mapValues: function mapValues(callbackfn /* , thisArg */) {
     var map = anObject$w(this);
     var iterator = getMapIterator$2(map);
     var boundFunction = bind$7(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
     var newMap = new (speciesConstructor$6(map, getBuiltIn$8('Map')))();
-    var setter = aFunction$f(newMap.set);
+    var setter = aCallable$f(newMap.set);
     iterate$j(iterator, function (key, value) {
       setter.call(newMap, key, boundFunction(value, key, map));
     }, { AS_ENTRIES: true, IS_ITERATOR: true });
@@ -10864,21 +11741,22 @@ $$18({ target: 'Map', proto: true, real: true, forced: IS_PURE$s }, {
   }
 });
 
-var $$17 = _export;
+var $$16 = _export;
 var IS_PURE$r = isPure;
-var anObject$v = anObject$1z;
-var aFunction$e = aFunction$S;
+var aCallable$e = aCallable$Q;
+var anObject$v = anObject$1C;
 var iterate$i = iterate$I;
 
 // `Map.prototype.merge` method
 // https://github.com/tc39/proposal-collection-methods
-$$17({ target: 'Map', proto: true, real: true, forced: IS_PURE$r }, {
+$$16({ target: 'Map', proto: true, real: true, forced: IS_PURE$r }, {
   // eslint-disable-next-line no-unused-vars -- required for `.length`
   merge: function merge(iterable /* ...iterbles */) {
     var map = anObject$v(this);
-    var setter = aFunction$e(map.set);
+    var setter = aCallable$e(map.set);
+    var argumentsLength = arguments.length;
     var i = 0;
-    while (i < arguments.length) {
+    while (i < argumentsLength) {
       iterate$i(arguments[i++], setter, { that: map, AS_ENTRIES: true });
     }
     return map;
@@ -10893,31 +11771,31 @@ var collectionOf = function of() {
   return new this(A);
 };
 
-var $$16 = _export;
+var $$15 = _export;
 var of$3 = collectionOf;
 
 // `Map.of` method
 // https://tc39.github.io/proposal-setmap-offrom/#sec-map.of
-$$16({ target: 'Map', stat: true }, {
+$$15({ target: 'Map', stat: true }, {
   of: of$3
 });
 
-var $$15 = _export;
+var $$14 = _export;
 var IS_PURE$q = isPure;
-var anObject$u = anObject$1z;
-var aFunction$d = aFunction$S;
+var anObject$u = anObject$1C;
+var aCallable$d = aCallable$Q;
 var getMapIterator$1 = getMapIterator$a;
 var iterate$h = iterate$I;
 
 // `Map.prototype.reduce` method
 // https://github.com/tc39/proposal-collection-methods
-$$15({ target: 'Map', proto: true, real: true, forced: IS_PURE$q }, {
+$$14({ target: 'Map', proto: true, real: true, forced: IS_PURE$q }, {
   reduce: function reduce(callbackfn /* , initialValue */) {
     var map = anObject$u(this);
     var iterator = getMapIterator$1(map);
     var noInitial = arguments.length < 2;
     var accumulator = noInitial ? undefined : arguments[1];
-    aFunction$d(callbackfn);
+    aCallable$d(callbackfn);
     iterate$h(iterator, function (key, value) {
       if (noInitial) {
         noInitial = false;
@@ -10931,16 +11809,16 @@ $$15({ target: 'Map', proto: true, real: true, forced: IS_PURE$q }, {
   }
 });
 
-var $$14 = _export;
+var $$13 = _export;
 var IS_PURE$p = isPure;
-var anObject$t = anObject$1z;
+var anObject$t = anObject$1C;
 var bind$6 = functionBindContext;
 var getMapIterator = getMapIterator$a;
 var iterate$g = iterate$I;
 
 // `Set.prototype.some` method
 // https://github.com/tc39/proposal-collection-methods
-$$14({ target: 'Map', proto: true, real: true, forced: IS_PURE$p }, {
+$$13({ target: 'Map', proto: true, real: true, forced: IS_PURE$p }, {
   some: function some(callbackfn /* , thisArg */) {
     var map = anObject$t(this);
     var iterator = getMapIterator(map);
@@ -10951,29 +11829,30 @@ $$14({ target: 'Map', proto: true, real: true, forced: IS_PURE$p }, {
   }
 });
 
-var $$13 = _export;
+var $$12 = _export;
 var IS_PURE$o = isPure;
-var anObject$s = anObject$1z;
-var aFunction$c = aFunction$S;
+var anObject$s = anObject$1C;
+var aCallable$c = aCallable$Q;
 
 // `Set.prototype.update` method
 // https://github.com/tc39/proposal-collection-methods
-$$13({ target: 'Map', proto: true, real: true, forced: IS_PURE$o }, {
+$$12({ target: 'Map', proto: true, real: true, forced: IS_PURE$o }, {
   update: function update(key, callback /* , thunk */) {
     var map = anObject$s(this);
     var length = arguments.length;
-    aFunction$c(callback);
+    aCallable$c(callback);
     var isPresentInMap = map.has(key);
     if (!isPresentInMap && length < 3) {
       throw TypeError('Updating absent value');
     }
-    var value = isPresentInMap ? map.get(key) : aFunction$c(length > 2 ? arguments[2] : undefined)(key, map);
+    var value = isPresentInMap ? map.get(key) : aCallable$c(length > 2 ? arguments[2] : undefined)(key, map);
     map.set(key, callback(value, key, map));
     return map;
   }
 });
 
-var anObject$r = anObject$1z;
+var isCallable$4 = isCallable$z;
+var anObject$r = anObject$1C;
 
 // `Map.prototype.upsert` method
 // https://github.com/thumbsupep/proposal-upsert
@@ -10981,71 +11860,71 @@ var mapUpsert = function upsert(key, updateFn /* , insertFn */) {
   var map = anObject$r(this);
   var insertFn = arguments.length > 2 ? arguments[2] : undefined;
   var value;
-  if (typeof updateFn != 'function' && typeof insertFn != 'function') {
+  if (!isCallable$4(updateFn) && !isCallable$4(insertFn)) {
     throw TypeError('At least one callback required');
   }
   if (map.has(key)) {
     value = map.get(key);
-    if (typeof updateFn == 'function') {
+    if (isCallable$4(updateFn)) {
       value = updateFn(value);
       map.set(key, value);
     }
-  } else if (typeof insertFn == 'function') {
+  } else if (isCallable$4(insertFn)) {
     value = insertFn();
     map.set(key, value);
   } return value;
 };
 
 // TODO: remove from `core-js@4`
-var $$12 = _export;
+var $$11 = _export;
 var IS_PURE$n = isPure;
 var $upsert$2 = mapUpsert;
 
 // `Map.prototype.updateOrInsert` method (replaced by `Map.prototype.emplace`)
 // https://github.com/thumbsupep/proposal-upsert
-$$12({ target: 'Map', proto: true, real: true, forced: IS_PURE$n }, {
+$$11({ target: 'Map', proto: true, real: true, name: 'upsert', forced: IS_PURE$n }, {
   updateOrInsert: $upsert$2
 });
 
 // TODO: remove from `core-js@4`
-var $$11 = _export;
+var $$10 = _export;
 var IS_PURE$m = isPure;
 var $upsert$1 = mapUpsert;
 
 // `Map.prototype.upsert` method (replaced by `Map.prototype.emplace`)
 // https://github.com/thumbsupep/proposal-upsert
-$$11({ target: 'Map', proto: true, real: true, forced: IS_PURE$m }, {
+$$10({ target: 'Map', proto: true, real: true, forced: IS_PURE$m }, {
   upsert: $upsert$1
 });
 
-var $$10 = _export;
+var $$$ = _export;
 
 var min = Math.min;
 var max = Math.max;
 
 // `Math.clamp` method
 // https://rwaldron.github.io/proposal-math-extensions/
-$$10({ target: 'Math', stat: true }, {
+$$$({ target: 'Math', stat: true }, {
   clamp: function clamp(x, lower, upper) {
     return min(upper, max(lower, x));
   }
 });
 
-var $$$ = _export;
+var $$_ = _export;
 
 // `Math.DEG_PER_RAD` constant
 // https://rwaldron.github.io/proposal-math-extensions/
-$$$({ target: 'Math', stat: true }, {
+$$_({ target: 'Math', stat: true }, {
   DEG_PER_RAD: Math.PI / 180
 });
 
-var $$_ = _export;
+var $$Z = _export;
 
 var RAD_PER_DEG = 180 / Math.PI;
 
 // `Math.degrees` method
 // https://rwaldron.github.io/proposal-math-extensions/
-$$_({ target: 'Math', stat: true }, {
+$$Z({ target: 'Math', stat: true }, {
   degrees: function degrees(radians) {
     return radians * RAD_PER_DEG;
   }
@@ -11068,25 +11947,25 @@ var mathScale = Math.scale || function scale(x, inLow, inHigh, outLow, outHigh)
   return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;
 };
 
-var $$Z = _export;
+var $$Y = _export;
 
 var scale$1 = mathScale;
 var fround = mathFround;
 
 // `Math.fscale` method
 // https://rwaldron.github.io/proposal-math-extensions/
-$$Z({ target: 'Math', stat: true }, {
+$$Y({ target: 'Math', stat: true }, {
   fscale: function fscale(x, inLow, inHigh, outLow, outHigh) {
     return fround(scale$1(x, inLow, inHigh, outLow, outHigh));
   }
 });
 
-var $$Y = _export;
+var $$X = _export;
 
 // `Math.iaddh` method
 // https://gist.github.com/BrendanEich/4294d5c212a6d2254703
 // TODO: Remove from `core-js@4`
-$$Y({ target: 'Math', stat: true }, {
+$$X({ target: 'Math', stat: true }, {
   iaddh: function iaddh(x0, x1, y0, y1) {
     var $x0 = x0 >>> 0;
     var $x1 = x1 >>> 0;
@@ -11095,12 +11974,12 @@ $$Y({ target: 'Math', stat: true }, {
   }
 });
 
-var $$X = _export;
+var $$W = _export;
 
 // `Math.imulh` method
 // https://gist.github.com/BrendanEich/4294d5c212a6d2254703
 // TODO: Remove from `core-js@4`
-$$X({ target: 'Math', stat: true }, {
+$$W({ target: 'Math', stat: true }, {
   imulh: function imulh(u, v) {
     var UINT16 = 0xFFFF;
     var $u = +u;
@@ -11114,12 +11993,12 @@ $$X({ target: 'Math', stat: true }, {
   }
 });
 
-var $$W = _export;
+var $$V = _export;
 
 // `Math.isubh` method
 // https://gist.github.com/BrendanEich/4294d5c212a6d2254703
 // TODO: Remove from `core-js@4`
-$$W({ target: 'Math', stat: true }, {
+$$V({ target: 'Math', stat: true }, {
   isubh: function isubh(x0, x1, y0, y1) {
     var $x0 = x0 >>> 0;
     var $x1 = x1 >>> 0;
@@ -11128,37 +12007,37 @@ $$W({ target: 'Math', stat: true }, {
   }
 });
 
-var $$V = _export;
+var $$U = _export;
 
 // `Math.RAD_PER_DEG` constant
 // https://rwaldron.github.io/proposal-math-extensions/
-$$V({ target: 'Math', stat: true }, {
+$$U({ target: 'Math', stat: true }, {
   RAD_PER_DEG: 180 / Math.PI
 });
 
-var $$U = _export;
+var $$T = _export;
 
 var DEG_PER_RAD = Math.PI / 180;
 
 // `Math.radians` method
 // https://rwaldron.github.io/proposal-math-extensions/
-$$U({ target: 'Math', stat: true }, {
+$$T({ target: 'Math', stat: true }, {
   radians: function radians(degrees) {
     return degrees * DEG_PER_RAD;
   }
 });
 
-var $$T = _export;
+var $$S = _export;
 var scale = mathScale;
 
 // `Math.scale` method
 // https://rwaldron.github.io/proposal-math-extensions/
-$$T({ target: 'Math', stat: true }, {
+$$S({ target: 'Math', stat: true }, {
   scale: scale
 });
 
-var $$S = _export;
-var anObject$q = anObject$1z;
+var $$R = _export;
+var anObject$q = anObject$1C;
 var numberIsFinite = numberIsFinite$2;
 var createIteratorConstructor$3 = createIteratorConstructor$7;
 var InternalStateModule$5 = internalState;
@@ -11183,7 +12062,7 @@ var $SeededRandomGenerator = createIteratorConstructor$3(function SeededRandomGe
 // `Math.seededPRNG` method
 // https://github.com/tc39/proposal-seeded-random
 // based on https://github.com/tc39/proposal-seeded-random/blob/78b8258835b57fc2100d076151ab506bc3202ae6/demo.html
-$$S({ target: 'Math', stat: true, forced: true }, {
+$$R({ target: 'Math', stat: true, forced: true }, {
   seededPRNG: function seededPRNG(it) {
     var seed = anObject$q(it).seed;
     if (!numberIsFinite(seed)) throw TypeError(SEED_TYPE_ERROR);
@@ -11191,22 +12070,22 @@ $$S({ target: 'Math', stat: true, forced: true }, {
   }
 });
 
-var $$R = _export;
+var $$Q = _export;
 
 // `Math.signbit` method
 // https://github.com/tc39/proposal-Math.signbit
-$$R({ target: 'Math', stat: true }, {
+$$Q({ target: 'Math', stat: true }, {
   signbit: function signbit(x) {
     return (x = +x) == x && x == 0 ? 1 / x == -Infinity : x < 0;
   }
 });
 
-var $$Q = _export;
+var $$P = _export;
 
 // `Math.umulh` method
 // https://gist.github.com/BrendanEich/4294d5c212a6d2254703
 // TODO: Remove from `core-js@4`
-$$Q({ target: 'Math', stat: true }, {
+$$P({ target: 'Math', stat: true }, {
   umulh: function umulh(u, v) {
     var UINT16 = 0xFFFF;
     var $u = +u;
@@ -11220,8 +12099,8 @@ $$Q({ target: 'Math', stat: true }, {
   }
 });
 
-var $$P = _export;
-var toInteger$1 = toInteger$f;
+var $$O = _export;
+var toInteger = toInteger$i;
 var parseInt$1 = numberParseInt;
 
 var INVALID_NUMBER_REPRESENTATION = 'Invalid number representation';
@@ -11230,7 +12109,7 @@ var valid = /^[\da-z]+$/;
 
 // `Number.fromString` method
 // https://github.com/tc39/proposal-number-fromstring
-$$P({ target: 'Number', stat: true }, {
+$$O({ target: 'Number', stat: true }, {
   fromString: function fromString(string, radix) {
     var sign = 1;
     var R, mathNum;
@@ -11241,7 +12120,7 @@ $$P({ target: 'Number', stat: true }, {
       string = string.slice(1);
       if (!string.length) throw SyntaxError(INVALID_NUMBER_REPRESENTATION);
     }
-    R = radix === undefined ? 10 : toInteger$1(radix);
+    R = radix === undefined ? 10 : toInteger(radix);
     if (R < 2 || R > 36) throw RangeError(INVALID_RADIX);
     if (!valid.test(string) || (mathNum = parseInt$1(string, R)).toString(R) !== string) {
       throw SyntaxError(INVALID_NUMBER_REPRESENTATION);
@@ -11250,31 +12129,22 @@ $$P({ target: 'Number', stat: true }, {
   }
 });
 
-var $$O = _export;
+var $$N = _export;
 var NumericRangeIterator = numericRangeIterator;
 
 // `Number.range` method
 // https://github.com/tc39/proposal-Number.range
-$$O({ target: 'Number', stat: true }, {
+$$N({ target: 'Number', stat: true }, {
   range: function range(start, end, option) {
     return new NumericRangeIterator(start, end, option, 'number', 0, 1);
   }
 });
 
-var $$N = _export;
-var hasOwn$1 = has$n;
-
-// `Object.hasOwn` method
-// https://github.com/tc39/proposal-accessible-object-hasownproperty
-$$N({ target: 'Object', stat: true }, {
-  hasOwn: hasOwn$1
-});
-
 var InternalStateModule$4 = internalState;
 var createIteratorConstructor$2 = createIteratorConstructor$7;
-var has$1 = has$n;
+var has$1 = has$m;
 var objectKeys = objectKeys$5;
-var toObject = toObject$w;
+var toObject = toObject$z;
 
 var OBJECT_ITERATOR = 'Object Iterator';
 var setInternalState$4 = InternalStateModule$4.set;
@@ -11344,27 +12214,26 @@ $$K({ target: 'Object', stat: true }, {
 var $$J = _export;
 var DESCRIPTORS$1 = descriptors;
 var setSpecies = setSpecies$7;
-var aFunction$b = aFunction$S;
-var anObject$p = anObject$1z;
+var aCallable$b = aCallable$Q;
+var isCallable$3 = isCallable$z;
+var isConstructor = isConstructor$7;
+var anObject$p = anObject$1C;
 var isObject$1 = isObject$B;
 var anInstance$2 = anInstance$b;
 var defineProperty = objectDefineProperty.f;
-var createNonEnumerableProperty$2 = createNonEnumerableProperty$m;
-var redefineAll$1 = redefineAll$9;
-var getIterator$2 = getIterator$3;
+var redefine$2 = redefine$l.exports;
+var redefineAll$1 = redefineAll$a;
+var getIterator$2 = getIterator$b;
+var getMethod = getMethod$h;
 var iterate$f = iterate$I;
 var hostReportErrors = hostReportErrors$2;
-var wellKnownSymbol$3 = wellKnownSymbol$C;
+var wellKnownSymbol$3 = wellKnownSymbol$G;
 var InternalStateModule$3 = internalState;
 
 var OBSERVABLE = wellKnownSymbol$3('observable');
 var getInternalState$1 = InternalStateModule$3.get;
 var setInternalState$3 = InternalStateModule$3.set;
 
-var getMethod = function (fn) {
-  return fn == null ? undefined : aFunction$b(fn);
-};
-
 var cleanupSubscription = function (subscriptionState) {
   var cleanup = subscriptionState.cleanup;
   if (cleanup) {
@@ -11399,7 +12268,7 @@ var Subscription = function (observer, subscriber) {
   var start;
   if (!DESCRIPTORS$1) this.closed = false;
   try {
-    if (start = getMethod(observer.start)) start.call(observer, this);
+    if (start = getMethod(observer, 'start')) start.call(observer, this);
   } catch (error) {
     hostReportErrors(error);
   }
@@ -11408,9 +12277,9 @@ var Subscription = function (observer, subscriber) {
   try {
     var cleanup = subscriber(subscriptionObserver);
     var subscription = cleanup;
-    if (cleanup != null) subscriptionState.cleanup = typeof cleanup.unsubscribe === 'function'
+    if (cleanup != null) subscriptionState.cleanup = isCallable$3(cleanup.unsubscribe)
       ? function () { subscription.unsubscribe(); }
-      : aFunction$b(cleanup);
+      : aCallable$b(cleanup);
   } catch (error) {
     subscriptionObserver.error(error);
     return;
@@ -11445,7 +12314,7 @@ SubscriptionObserver.prototype = redefineAll$1({}, {
     if (!subscriptionClosed(subscriptionState)) {
       var observer = subscriptionState.observer;
       try {
-        var nextMethod = getMethod(observer.next);
+        var nextMethod = getMethod(observer, 'next');
         if (nextMethod) nextMethod.call(observer, value);
       } catch (error) {
         hostReportErrors(error);
@@ -11458,7 +12327,7 @@ SubscriptionObserver.prototype = redefineAll$1({}, {
       var observer = subscriptionState.observer;
       close(subscriptionState);
       try {
-        var errorMethod = getMethod(observer.error);
+        var errorMethod = getMethod(observer, 'error');
         if (errorMethod) errorMethod.call(observer, value);
         else hostReportErrors(value);
       } catch (err) {
@@ -11472,7 +12341,7 @@ SubscriptionObserver.prototype = redefineAll$1({}, {
       var observer = subscriptionState.observer;
       close(subscriptionState);
       try {
-        var completeMethod = getMethod(observer.complete);
+        var completeMethod = getMethod(observer, 'complete');
         if (completeMethod) completeMethod.call(observer);
       } catch (error) {
         hostReportErrors(error);
@@ -11490,13 +12359,13 @@ if (DESCRIPTORS$1) defineProperty(SubscriptionObserver.prototype, 'closed', {
 
 var $Observable = function Observable(subscriber) {
   anInstance$2(this, $Observable, 'Observable');
-  setInternalState$3(this, { subscriber: aFunction$b(subscriber) });
+  setInternalState$3(this, { subscriber: aCallable$b(subscriber) });
 };
 
 redefineAll$1($Observable.prototype, {
   subscribe: function subscribe(observer) {
     var length = arguments.length;
-    return new Subscription(typeof observer === 'function' ? {
+    return new Subscription(isCallable$3(observer) ? {
       next: observer,
       error: length > 1 ? arguments[1] : undefined,
       complete: length > 2 ? arguments[2] : undefined
@@ -11506,8 +12375,8 @@ redefineAll$1($Observable.prototype, {
 
 redefineAll$1($Observable, {
   from: function from(x) {
-    var C = typeof this === 'function' ? this : $Observable;
-    var observableMethod = getMethod(anObject$p(x)[OBSERVABLE]);
+    var C = isConstructor(this) ? this : $Observable;
+    var observableMethod = getMethod(anObject$p(x), OBSERVABLE);
     if (observableMethod) {
       var observable = anObject$p(observableMethod.call(x));
       return observable.constructor === C ? observable : new C(function (observer) {
@@ -11524,7 +12393,7 @@ redefineAll$1($Observable, {
     });
   },
   of: function of() {
-    var C = typeof this === 'function' ? this : $Observable;
+    var C = isConstructor(this) ? this : $Observable;
     var length = arguments.length;
     var items = new Array(length);
     var index = 0;
@@ -11538,7 +12407,7 @@ redefineAll$1($Observable, {
   }
 });
 
-createNonEnumerableProperty$2($Observable.prototype, OBSERVABLE, function () { return this; });
+redefine$2($Observable.prototype, OBSERVABLE, function () { return this; });
 
 $$J({ global: true }, {
   Observable: $Observable
@@ -11619,7 +12488,7 @@ var reflectMetadata = {
 
 var $$H = _export;
 var ReflectMetadataModule$8 = reflectMetadata;
-var anObject$o = anObject$1z;
+var anObject$o = anObject$1C;
 
 var toMetadataKey$8 = ReflectMetadataModule$8.toKey;
 var ordinaryDefineOwnMetadata$1 = ReflectMetadataModule$8.set;
@@ -11635,7 +12504,7 @@ $$H({ target: 'Reflect', stat: true }, {
 
 var $$G = _export;
 var ReflectMetadataModule$7 = reflectMetadata;
-var anObject$n = anObject$1z;
+var anObject$n = anObject$1C;
 
 var toMetadataKey$7 = ReflectMetadataModule$7.toKey;
 var getOrCreateMetadataMap = ReflectMetadataModule$7.getMap;
@@ -11657,7 +12526,7 @@ $$G({ target: 'Reflect', stat: true }, {
 
 var $$F = _export;
 var ReflectMetadataModule$6 = reflectMetadata;
-var anObject$m = anObject$1z;
+var anObject$m = anObject$1C;
 var getPrototypeOf$2 = objectGetPrototypeOf$1;
 
 var ordinaryHasOwnMetadata$2 = ReflectMetadataModule$6.has;
@@ -11684,7 +12553,7 @@ var $$E = _export;
 // TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`
 var Set$1 = es_set;
 var ReflectMetadataModule$5 = reflectMetadata;
-var anObject$l = anObject$1z;
+var anObject$l = anObject$1C;
 var getPrototypeOf$1 = objectGetPrototypeOf$1;
 var iterate$e = iterate$I;
 
@@ -11716,7 +12585,7 @@ $$E({ target: 'Reflect', stat: true }, {
 
 var $$D = _export;
 var ReflectMetadataModule$4 = reflectMetadata;
-var anObject$k = anObject$1z;
+var anObject$k = anObject$1C;
 
 var ordinaryGetOwnMetadata = ReflectMetadataModule$4.get;
 var toMetadataKey$4 = ReflectMetadataModule$4.toKey;
@@ -11732,7 +12601,7 @@ $$D({ target: 'Reflect', stat: true }, {
 
 var $$C = _export;
 var ReflectMetadataModule$3 = reflectMetadata;
-var anObject$j = anObject$1z;
+var anObject$j = anObject$1C;
 
 var ordinaryOwnMetadataKeys = ReflectMetadataModule$3.keys;
 var toMetadataKey$3 = ReflectMetadataModule$3.toKey;
@@ -11748,7 +12617,7 @@ $$C({ target: 'Reflect', stat: true }, {
 
 var $$B = _export;
 var ReflectMetadataModule$2 = reflectMetadata;
-var anObject$i = anObject$1z;
+var anObject$i = anObject$1C;
 var getPrototypeOf = objectGetPrototypeOf$1;
 
 var ordinaryHasOwnMetadata$1 = ReflectMetadataModule$2.has;
@@ -11772,7 +12641,7 @@ $$B({ target: 'Reflect', stat: true }, {
 
 var $$A = _export;
 var ReflectMetadataModule$1 = reflectMetadata;
-var anObject$h = anObject$1z;
+var anObject$h = anObject$1C;
 
 var ordinaryHasOwnMetadata = ReflectMetadataModule$1.has;
 var toMetadataKey$1 = ReflectMetadataModule$1.toKey;
@@ -11788,7 +12657,7 @@ $$A({ target: 'Reflect', stat: true }, {
 
 var $$z = _export;
 var ReflectMetadataModule = reflectMetadata;
-var anObject$g = anObject$1z;
+var anObject$g = anObject$1C;
 
 var toMetadataKey = ReflectMetadataModule.toKey;
 var ordinaryDefineOwnMetadata = ReflectMetadataModule.set;
@@ -11803,13 +12672,13 @@ $$z({ target: 'Reflect', stat: true }, {
   }
 });
 
-var anObject$f = anObject$1z;
-var aFunction$a = aFunction$S;
+var aCallable$a = aCallable$Q;
+var anObject$f = anObject$1C;
 
 // https://github.com/tc39/collection-methods
 var collectionAddAll$2 = function (/* ...elements */) {
   var set = anObject$f(this);
-  var adder = aFunction$a(set.add);
+  var adder = aCallable$a(set.add);
   for (var k = 0, len = arguments.length; k < len; k++) {
     adder.call(set, arguments[k]);
   }
@@ -11842,10 +12711,10 @@ $$x({ target: 'Set', proto: true, real: true, forced: IS_PURE$k }, {
 
 var $$w = _export;
 var IS_PURE$j = isPure;
-var getBuiltIn$7 = getBuiltIn$t;
-var anObject$e = anObject$1z;
-var aFunction$9 = aFunction$S;
-var speciesConstructor$5 = speciesConstructor$i;
+var getBuiltIn$7 = getBuiltIn$w;
+var aCallable$9 = aCallable$Q;
+var anObject$e = anObject$1C;
+var speciesConstructor$5 = speciesConstructor$f;
 var iterate$d = iterate$I;
 
 // `Set.prototype.difference` method
@@ -11854,7 +12723,7 @@ $$w({ target: 'Set', proto: true, real: true, forced: IS_PURE$j }, {
   difference: function difference(iterable) {
     var set = anObject$e(this);
     var newSet = new (speciesConstructor$5(set, getBuiltIn$7('Set')))(set);
-    var remover = aFunction$9(newSet['delete']);
+    var remover = aCallable$9(newSet['delete']);
     iterate$d(iterable, function (value) {
       remover.call(newSet, value);
     });
@@ -11869,7 +12738,7 @@ var getSetIterator$7 = function (it) {
 
 var $$v = _export;
 var IS_PURE$i = isPure;
-var anObject$d = anObject$1z;
+var anObject$d = anObject$1C;
 var bind$5 = functionBindContext;
 var getSetIterator$6 = getSetIterator$7;
 var iterate$c = iterate$I;
@@ -11889,11 +12758,11 @@ $$v({ target: 'Set', proto: true, real: true, forced: IS_PURE$i }, {
 
 var $$u = _export;
 var IS_PURE$h = isPure;
-var getBuiltIn$6 = getBuiltIn$t;
-var anObject$c = anObject$1z;
-var aFunction$8 = aFunction$S;
+var getBuiltIn$6 = getBuiltIn$w;
+var aCallable$8 = aCallable$Q;
+var anObject$c = anObject$1C;
 var bind$4 = functionBindContext;
-var speciesConstructor$4 = speciesConstructor$i;
+var speciesConstructor$4 = speciesConstructor$f;
 var getSetIterator$5 = getSetIterator$7;
 var iterate$b = iterate$I;
 
@@ -11905,7 +12774,7 @@ $$u({ target: 'Set', proto: true, real: true, forced: IS_PURE$h }, {
     var iterator = getSetIterator$5(set);
     var boundFunction = bind$4(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
     var newSet = new (speciesConstructor$4(set, getBuiltIn$6('Set')))();
-    var adder = aFunction$8(newSet.add);
+    var adder = aCallable$8(newSet.add);
     iterate$b(iterator, function (value) {
       if (boundFunction(value, value, set)) adder.call(newSet, value);
     }, { IS_ITERATOR: true });
@@ -11915,7 +12784,7 @@ $$u({ target: 'Set', proto: true, real: true, forced: IS_PURE$h }, {
 
 var $$t = _export;
 var IS_PURE$g = isPure;
-var anObject$b = anObject$1z;
+var anObject$b = anObject$1C;
 var bind$3 = functionBindContext;
 var getSetIterator$4 = getSetIterator$7;
 var iterate$a = iterate$I;
@@ -11944,10 +12813,10 @@ $$s({ target: 'Set', stat: true }, {
 
 var $$r = _export;
 var IS_PURE$f = isPure;
-var getBuiltIn$5 = getBuiltIn$t;
-var anObject$a = anObject$1z;
-var aFunction$7 = aFunction$S;
-var speciesConstructor$3 = speciesConstructor$i;
+var getBuiltIn$5 = getBuiltIn$w;
+var aCallable$7 = aCallable$Q;
+var anObject$a = anObject$1C;
+var speciesConstructor$3 = speciesConstructor$f;
 var iterate$9 = iterate$I;
 
 // `Set.prototype.intersection` method
@@ -11956,8 +12825,8 @@ $$r({ target: 'Set', proto: true, real: true, forced: IS_PURE$f }, {
   intersection: function intersection(iterable) {
     var set = anObject$a(this);
     var newSet = new (speciesConstructor$3(set, getBuiltIn$5('Set')))();
-    var hasCheck = aFunction$7(set.has);
-    var adder = aFunction$7(newSet.add);
+    var hasCheck = aCallable$7(set.has);
+    var adder = aCallable$7(newSet.add);
     iterate$9(iterable, function (value) {
       if (hasCheck.call(set, value)) adder.call(newSet, value);
     });
@@ -11967,8 +12836,8 @@ $$r({ target: 'Set', proto: true, real: true, forced: IS_PURE$f }, {
 
 var $$q = _export;
 var IS_PURE$e = isPure;
-var anObject$9 = anObject$1z;
-var aFunction$6 = aFunction$S;
+var aCallable$6 = aCallable$Q;
+var anObject$9 = anObject$1C;
 var iterate$8 = iterate$I;
 
 // `Set.prototype.isDisjointFrom` method
@@ -11976,7 +12845,7 @@ var iterate$8 = iterate$I;
 $$q({ target: 'Set', proto: true, real: true, forced: IS_PURE$e }, {
   isDisjointFrom: function isDisjointFrom(iterable) {
     var set = anObject$9(this);
-    var hasCheck = aFunction$6(set.has);
+    var hasCheck = aCallable$6(set.has);
     return !iterate$8(iterable, function (value, stop) {
       if (hasCheck.call(set, value) === true) return stop();
     }, { INTERRUPTED: true }).stopped;
@@ -11985,10 +12854,11 @@ $$q({ target: 'Set', proto: true, real: true, forced: IS_PURE$e }, {
 
 var $$p = _export;
 var IS_PURE$d = isPure;
-var getBuiltIn$4 = getBuiltIn$t;
-var anObject$8 = anObject$1z;
-var aFunction$5 = aFunction$S;
-var getIterator$1 = getIterator$3;
+var getBuiltIn$4 = getBuiltIn$w;
+var aCallable$5 = aCallable$Q;
+var isCallable$2 = isCallable$z;
+var anObject$8 = anObject$1C;
+var getIterator$1 = getIterator$b;
 var iterate$7 = iterate$I;
 
 // `Set.prototype.isSubsetOf` method
@@ -11998,9 +12868,9 @@ $$p({ target: 'Set', proto: true, real: true, forced: IS_PURE$d }, {
     var iterator = getIterator$1(this);
     var otherSet = anObject$8(iterable);
     var hasCheck = otherSet.has;
-    if (typeof hasCheck != 'function') {
+    if (!isCallable$2(hasCheck)) {
       otherSet = new (getBuiltIn$4('Set'))(iterable);
-      hasCheck = aFunction$5(otherSet.has);
+      hasCheck = aCallable$5(otherSet.has);
     }
     return !iterate$7(iterator, function (value, stop) {
       if (hasCheck.call(otherSet, value) === false) return stop();
@@ -12010,8 +12880,8 @@ $$p({ target: 'Set', proto: true, real: true, forced: IS_PURE$d }, {
 
 var $$o = _export;
 var IS_PURE$c = isPure;
-var anObject$7 = anObject$1z;
-var aFunction$4 = aFunction$S;
+var aCallable$4 = aCallable$Q;
+var anObject$7 = anObject$1C;
 var iterate$6 = iterate$I;
 
 // `Set.prototype.isSupersetOf` method
@@ -12019,7 +12889,7 @@ var iterate$6 = iterate$I;
 $$o({ target: 'Set', proto: true, real: true, forced: IS_PURE$c }, {
   isSupersetOf: function isSupersetOf(iterable) {
     var set = anObject$7(this);
-    var hasCheck = aFunction$4(set.has);
+    var hasCheck = aCallable$4(set.has);
     return !iterate$6(iterable, function (value, stop) {
       if (hasCheck.call(set, value) === false) return stop();
     }, { INTERRUPTED: true }).stopped;
@@ -12028,7 +12898,7 @@ $$o({ target: 'Set', proto: true, real: true, forced: IS_PURE$c }, {
 
 var $$n = _export;
 var IS_PURE$b = isPure;
-var anObject$6 = anObject$1z;
+var anObject$6 = anObject$1C;
 var getSetIterator$3 = getSetIterator$7;
 var iterate$5 = iterate$I;
 
@@ -12047,11 +12917,11 @@ $$n({ target: 'Set', proto: true, real: true, forced: IS_PURE$b }, {
 
 var $$m = _export;
 var IS_PURE$a = isPure;
-var getBuiltIn$3 = getBuiltIn$t;
-var anObject$5 = anObject$1z;
-var aFunction$3 = aFunction$S;
+var getBuiltIn$3 = getBuiltIn$w;
+var aCallable$3 = aCallable$Q;
+var anObject$5 = anObject$1C;
 var bind$2 = functionBindContext;
-var speciesConstructor$2 = speciesConstructor$i;
+var speciesConstructor$2 = speciesConstructor$f;
 var getSetIterator$2 = getSetIterator$7;
 var iterate$4 = iterate$I;
 
@@ -12063,7 +12933,7 @@ $$m({ target: 'Set', proto: true, real: true, forced: IS_PURE$a }, {
     var iterator = getSetIterator$2(set);
     var boundFunction = bind$2(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
     var newSet = new (speciesConstructor$2(set, getBuiltIn$3('Set')))();
-    var adder = aFunction$3(newSet.add);
+    var adder = aCallable$3(newSet.add);
     iterate$4(iterator, function (value) {
       adder.call(newSet, boundFunction(value, value, set));
     }, { IS_ITERATOR: true });
@@ -12082,8 +12952,8 @@ $$l({ target: 'Set', stat: true }, {
 
 var $$k = _export;
 var IS_PURE$9 = isPure;
-var anObject$4 = anObject$1z;
-var aFunction$2 = aFunction$S;
+var aCallable$2 = aCallable$Q;
+var anObject$4 = anObject$1C;
 var getSetIterator$1 = getSetIterator$7;
 var iterate$3 = iterate$I;
 
@@ -12095,7 +12965,7 @@ $$k({ target: 'Set', proto: true, real: true, forced: IS_PURE$9 }, {
     var iterator = getSetIterator$1(set);
     var noInitial = arguments.length < 2;
     var accumulator = noInitial ? undefined : arguments[1];
-    aFunction$2(callbackfn);
+    aCallable$2(callbackfn);
     iterate$3(iterator, function (value) {
       if (noInitial) {
         noInitial = false;
@@ -12111,7 +12981,7 @@ $$k({ target: 'Set', proto: true, real: true, forced: IS_PURE$9 }, {
 
 var $$j = _export;
 var IS_PURE$8 = isPure;
-var anObject$3 = anObject$1z;
+var anObject$3 = anObject$1C;
 var bind$1 = functionBindContext;
 var getSetIterator = getSetIterator$7;
 var iterate$2 = iterate$I;
@@ -12131,10 +13001,10 @@ $$j({ target: 'Set', proto: true, real: true, forced: IS_PURE$8 }, {
 
 var $$i = _export;
 var IS_PURE$7 = isPure;
-var getBuiltIn$2 = getBuiltIn$t;
-var anObject$2 = anObject$1z;
-var aFunction$1 = aFunction$S;
-var speciesConstructor$1 = speciesConstructor$i;
+var getBuiltIn$2 = getBuiltIn$w;
+var aCallable$1 = aCallable$Q;
+var anObject$2 = anObject$1C;
+var speciesConstructor$1 = speciesConstructor$f;
 var iterate$1 = iterate$I;
 
 // `Set.prototype.symmetricDifference` method
@@ -12143,8 +13013,8 @@ $$i({ target: 'Set', proto: true, real: true, forced: IS_PURE$7 }, {
   symmetricDifference: function symmetricDifference(iterable) {
     var set = anObject$2(this);
     var newSet = new (speciesConstructor$1(set, getBuiltIn$2('Set')))(set);
-    var remover = aFunction$1(newSet['delete']);
-    var adder = aFunction$1(newSet.add);
+    var remover = aCallable$1(newSet['delete']);
+    var adder = aCallable$1(newSet.add);
     iterate$1(iterable, function (value) {
       remover.call(newSet, value) || adder.call(newSet, value);
     });
@@ -12154,10 +13024,10 @@ $$i({ target: 'Set', proto: true, real: true, forced: IS_PURE$7 }, {
 
 var $$h = _export;
 var IS_PURE$6 = isPure;
-var getBuiltIn$1 = getBuiltIn$t;
-var anObject$1 = anObject$1z;
-var aFunction = aFunction$S;
-var speciesConstructor = speciesConstructor$i;
+var getBuiltIn$1 = getBuiltIn$w;
+var aCallable = aCallable$Q;
+var anObject$1 = anObject$1C;
+var speciesConstructor = speciesConstructor$f;
 var iterate = iterate$I;
 
 // `Set.prototype.union` method
@@ -12166,14 +13036,14 @@ $$h({ target: 'Set', proto: true, real: true, forced: IS_PURE$6 }, {
   union: function union(iterable) {
     var set = anObject$1(this);
     var newSet = new (speciesConstructor(set, getBuiltIn$1('Set')))(set);
-    iterate(iterable, aFunction(newSet.add), { that: newSet });
+    iterate(iterable, aCallable(newSet.add), { that: newSet });
     return newSet;
   }
 });
 
 var $$g = _export;
 var charAt$1 = stringMultibyte.charAt;
-var fails$1 = fails$X;
+var fails$1 = fails$15;
 
 var FORCED$1 = fails$1(function () {
   return ''.at(0) !== '';
@@ -12189,7 +13059,8 @@ $$g({ target: 'String', proto: true, forced: FORCED$1 }, {
 
 var $$f = _export;
 var createIteratorConstructor$1 = createIteratorConstructor$7;
-var requireObjectCoercible = requireObjectCoercible$h;
+var requireObjectCoercible = requireObjectCoercible$j;
+var toString = toString$t;
 var InternalStateModule$2 = internalState;
 var StringMultibyteModule = stringMultibyte;
 
@@ -12221,7 +13092,7 @@ var $StringIterator = createIteratorConstructor$1(function StringIterator(string
 // https://github.com/tc39/proposal-string-prototype-codepoints
 $$f({ target: 'String', proto: true }, {
   codePoints: function codePoints() {
-    return new $StringIterator(String(requireObjectCoercible(this)));
+    return new $StringIterator(toString(requireObjectCoercible(this)));
   }
 });
 
@@ -12267,59 +13138,90 @@ var defineWellKnownSymbol = defineWellKnownSymbol$l;
 
 defineWellKnownSymbol('replaceAll');
 
+var aConstructor = aConstructor$5;
+var arrayFromAsync = arrayFromAsync$1;
+var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = typedArrayConstructorsRequireWrappers;
+var ArrayBufferViewCore$6 = arrayBufferViewCore;
+var arrayFromConstructorAndList = arrayFromConstructorAndList$3;
+
+var aTypedArrayConstructor = ArrayBufferViewCore$6.aTypedArrayConstructor;
+var exportTypedArrayStaticMethod = ArrayBufferViewCore$6.exportTypedArrayStaticMethod;
+
+// `%TypedArray%.fromAsync` method
+// https://github.com/tc39/proposal-array-from-async
+// eslint-disable-next-line -- required for .length
+exportTypedArrayStaticMethod('fromAsync', function fromAsync(asyncItems /* , mapfn = undefined, thisArg = undefined */) {
+  var C = aConstructor(this);
+  return arrayFromAsync.apply(Array, arguments).then(function (list) {
+    return arrayFromConstructorAndList(aTypedArrayConstructor(C), list);
+  });
+}, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);
+
+// TODO: Remove from `core-js@4`
+var ArrayBufferViewCore$5 = arrayBufferViewCore;
+var $filterReject$1 = arrayIteration.filterReject;
+var fromSpeciesAndList$2 = typedArrayFromSpeciesAndList;
+
+var aTypedArray$5 = ArrayBufferViewCore$5.aTypedArray;
+var exportTypedArrayMethod$5 = ArrayBufferViewCore$5.exportTypedArrayMethod;
+
+// `%TypedArray%.prototype.filterOut` method
+// https://github.com/tc39/proposal-array-filtering
+exportTypedArrayMethod$5('filterOut', function filterOut(callbackfn /* , thisArg */) {
+  var list = $filterReject$1(aTypedArray$5(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
+  return fromSpeciesAndList$2(this, list);
+});
+
 var ArrayBufferViewCore$4 = arrayBufferViewCore;
-var toLength = toLength$B;
-var toInteger = toInteger$f;
+var $filterReject = arrayIteration.filterReject;
+var fromSpeciesAndList$1 = typedArrayFromSpeciesAndList;
 
 var aTypedArray$4 = ArrayBufferViewCore$4.aTypedArray;
 var exportTypedArrayMethod$4 = ArrayBufferViewCore$4.exportTypedArrayMethod;
 
-// `%TypedArray%.prototype.at` method
-// https://github.com/tc39/proposal-relative-indexing-method
-exportTypedArrayMethod$4('at', function at(index) {
-  var O = aTypedArray$4(this);
-  var len = toLength(O.length);
-  var relativeIndex = toInteger(index);
-  var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;
-  return (k < 0 || k >= len) ? undefined : O[k];
+// `%TypedArray%.prototype.filterReject` method
+// https://github.com/tc39/proposal-array-filtering
+exportTypedArrayMethod$4('filterReject', function filterReject(callbackfn /* , thisArg */) {
+  var list = $filterReject(aTypedArray$4(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
+  return fromSpeciesAndList$1(this, list);
 });
 
 var ArrayBufferViewCore$3 = arrayBufferViewCore;
-var $filterOut = arrayIteration.filterOut;
-var fromSpeciesAndList$1 = typedArrayFromSpeciesAndList;
+var $findLast = arrayIterationFromLast.findLast;
 
 var aTypedArray$3 = ArrayBufferViewCore$3.aTypedArray;
 var exportTypedArrayMethod$3 = ArrayBufferViewCore$3.exportTypedArrayMethod;
 
-// `%TypedArray%.prototype.filterOut` method
-// https://github.com/tc39/proposal-array-filtering
-exportTypedArrayMethod$3('filterOut', function filterOut(callbackfn /* , thisArg */) {
-  var list = $filterOut(aTypedArray$3(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
-  return fromSpeciesAndList$1(this, list);
+// `%TypedArray%.prototype.findLast` method
+// https://github.com/tc39/proposal-array-find-from-last
+exportTypedArrayMethod$3('findLast', function findLast(predicate /* , thisArg */) {
+  return $findLast(aTypedArray$3(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
 });
 
 var ArrayBufferViewCore$2 = arrayBufferViewCore;
-var $findLast = arrayIterationFromLast.findLast;
+var $findLastIndex = arrayIterationFromLast.findLastIndex;
 
 var aTypedArray$2 = ArrayBufferViewCore$2.aTypedArray;
 var exportTypedArrayMethod$2 = ArrayBufferViewCore$2.exportTypedArrayMethod;
 
-// `%TypedArray%.prototype.findLast` method
+// `%TypedArray%.prototype.findLastIndex` method
 // https://github.com/tc39/proposal-array-find-from-last
-exportTypedArrayMethod$2('findLast', function findLast(predicate /* , thisArg */) {
-  return $findLast(aTypedArray$2(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
+exportTypedArrayMethod$2('findLastIndex', function findLastIndex(predicate /* , thisArg */) {
+  return $findLastIndex(aTypedArray$2(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
 });
 
 var ArrayBufferViewCore$1 = arrayBufferViewCore;
-var $findLastIndex = arrayIterationFromLast.findLastIndex;
+var $groupBy = arrayGroupBy;
+var typedArraySpeciesConstructor = typedArraySpeciesConstructor$5;
 
 var aTypedArray$1 = ArrayBufferViewCore$1.aTypedArray;
 var exportTypedArrayMethod$1 = ArrayBufferViewCore$1.exportTypedArrayMethod;
 
-// `%TypedArray%.prototype.findLastIndex` method
-// https://github.com/tc39/proposal-array-find-from-last
-exportTypedArrayMethod$1('findLastIndex', function findLastIndex(predicate /* , thisArg */) {
-  return $findLastIndex(aTypedArray$1(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
+// `%TypedArray%.prototype.groupBy` method
+// https://github.com/tc39/proposal-array-grouping
+exportTypedArrayMethod$1('groupBy', function groupBy(callbackfn /* , thisArg */) {
+  var thisArg = arguments.length > 1 ? arguments[1] : undefined;
+  return $groupBy(aTypedArray$1(this), callbackfn, thisArg, typedArraySpeciesConstructor);
 });
 
 var ArrayBufferViewCore = arrayBufferViewCore;
@@ -12464,35 +13366,47 @@ var domIterables = {
   TouchList: 0
 };
 
-var global$6 = global$M;
+// in old WebKit versions, `element.classList` is not an instance of global `DOMTokenList`
+var documentCreateElement = documentCreateElement$2;
+
+var classList = documentCreateElement('span').classList;
+var DOMTokenListPrototype$2 = classList && classList.constructor && classList.constructor.prototype;
+
+var domTokenListPrototype = DOMTokenListPrototype$2 === Object.prototype ? undefined : DOMTokenListPrototype$2;
+
+var global$6 = global$R;
 var DOMIterables$1 = domIterables;
+var DOMTokenListPrototype$1 = domTokenListPrototype;
 var forEach = arrayForEach;
-var createNonEnumerableProperty$1 = createNonEnumerableProperty$m;
+var createNonEnumerableProperty$1 = createNonEnumerableProperty$g;
 
-for (var COLLECTION_NAME$1 in DOMIterables$1) {
-  var Collection$1 = global$6[COLLECTION_NAME$1];
-  var CollectionPrototype$1 = Collection$1 && Collection$1.prototype;
+var handlePrototype$1 = function (CollectionPrototype) {
   // some Chrome versions have non-configurable methods on DOMTokenList
-  if (CollectionPrototype$1 && CollectionPrototype$1.forEach !== forEach) try {
-    createNonEnumerableProperty$1(CollectionPrototype$1, 'forEach', forEach);
+  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {
+    createNonEnumerableProperty$1(CollectionPrototype, 'forEach', forEach);
   } catch (error) {
-    CollectionPrototype$1.forEach = forEach;
+    CollectionPrototype.forEach = forEach;
   }
+};
+
+for (var COLLECTION_NAME$1 in DOMIterables$1) {
+  handlePrototype$1(global$6[COLLECTION_NAME$1] && global$6[COLLECTION_NAME$1].prototype);
 }
 
-var global$5 = global$M;
+handlePrototype$1(DOMTokenListPrototype$1);
+
+var global$5 = global$R;
 var DOMIterables = domIterables;
+var DOMTokenListPrototype = domTokenListPrototype;
 var ArrayIteratorMethods = es_array_iterator;
-var createNonEnumerableProperty = createNonEnumerableProperty$m;
-var wellKnownSymbol$2 = wellKnownSymbol$C;
+var createNonEnumerableProperty = createNonEnumerableProperty$g;
+var wellKnownSymbol$2 = wellKnownSymbol$G;
 
 var ITERATOR$2 = wellKnownSymbol$2('iterator');
 var TO_STRING_TAG = wellKnownSymbol$2('toStringTag');
 var ArrayValues = ArrayIteratorMethods.values;
 
-for (var COLLECTION_NAME in DOMIterables) {
-  var Collection = global$5[COLLECTION_NAME];
-  var CollectionPrototype = Collection && Collection.prototype;
+var handlePrototype = function (CollectionPrototype, COLLECTION_NAME) {
   if (CollectionPrototype) {
     // some Chrome versions have non-configurable methods on DOMTokenList
     if (CollectionPrototype[ITERATOR$2] !== ArrayValues) try {
@@ -12512,10 +13426,16 @@ for (var COLLECTION_NAME in DOMIterables) {
       }
     }
   }
+};
+
+for (var COLLECTION_NAME in DOMIterables) {
+  handlePrototype(global$5[COLLECTION_NAME] && global$5[COLLECTION_NAME].prototype, COLLECTION_NAME);
 }
 
+handlePrototype(DOMTokenListPrototype, 'DOMTokenList');
+
 var $$5 = _export;
-var global$4 = global$M;
+var global$4 = global$R;
 var task = task$2;
 
 var FORCED = !global$4.setImmediate || !global$4.clearImmediate;
@@ -12531,7 +13451,7 @@ $$5({ global: true, bind: true, enumerable: true, forced: FORCED }, {
 });
 
 var $$4 = _export;
-var global$3 = global$M;
+var global$3 = global$R;
 var microtask = microtask$2;
 var IS_NODE = engineIsNode;
 
@@ -12547,7 +13467,8 @@ $$4({ global: true, enumerable: true, noTargetGet: true }, {
 });
 
 var $$3 = _export;
-var global$2 = global$M;
+var global$2 = global$R;
+var isCallable$1 = isCallable$z;
 var userAgent = engineUserAgent;
 
 var slice = [].slice;
@@ -12559,7 +13480,7 @@ var wrap = function (scheduler) {
     var args = boundArgs ? slice.call(arguments, 2) : undefined;
     return scheduler(boundArgs ? function () {
       // eslint-disable-next-line no-new-func -- spec requirement
-      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);
+      (isCallable$1(handler) ? handler : Function(handler)).apply(this, args);
     } : handler, timeout);
   };
 };
@@ -12575,8 +13496,8 @@ $$3({ global: true, bind: true, forced: MSIE }, {
   setInterval: wrap(global$2.setInterval)
 });
 
-var fails = fails$X;
-var wellKnownSymbol$1 = wellKnownSymbol$C;
+var fails = fails$15;
+var wellKnownSymbol$1 = wellKnownSymbol$G;
 var IS_PURE = isPure;
 
 var ITERATOR$1 = wellKnownSymbol$1('iterator');
@@ -12780,26 +13701,30 @@ var stringPunycodeToAscii = function (input) {
 // TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`
 
 var $$2 = _export;
-var getBuiltIn = getBuiltIn$t;
+var getBuiltIn = getBuiltIn$w;
 var USE_NATIVE_URL$1 = nativeUrl;
-var redefine$1 = redefine$g.exports;
-var redefineAll = redefineAll$9;
+var redefine$1 = redefine$l.exports;
+var redefineAll = redefineAll$a;
 var setToStringTag$1 = setToStringTag$b;
 var createIteratorConstructor = createIteratorConstructor$7;
 var InternalStateModule$1 = internalState;
 var anInstance$1 = anInstance$b;
-var hasOwn = has$n;
+var isCallable = isCallable$z;
+var hasOwn = has$m;
 var bind = functionBindContext;
-var classof = classof$b;
-var anObject = anObject$1z;
+var classof = classof$c;
+var anObject = anObject$1C;
 var isObject = isObject$B;
-var create = objectCreate;
+var $toString$1 = toString$t;
+var create = objectCreate$1;
 var createPropertyDescriptor = createPropertyDescriptor$9;
-var getIterator = getIterator$3;
-var getIteratorMethod = getIteratorMethod$8;
-var wellKnownSymbol = wellKnownSymbol$C;
+var getIterator = getIterator$b;
+var getIteratorMethod = getIteratorMethod$9;
+var wellKnownSymbol = wellKnownSymbol$G;
 
-var $fetch = getBuiltIn('fetch');
+var nativeFetch = getBuiltIn('fetch');
+var NativeRequest = getBuiltIn('Request');
+var RequestPrototype = NativeRequest && NativeRequest.prototype;
 var Headers = getBuiltIn('Headers');
 var ITERATOR = wellKnownSymbol('iterator');
 var URL_SEARCH_PARAMS = 'URLSearchParams';
@@ -12917,8 +13842,8 @@ var URLSearchParamsConstructor = function URLSearchParams(/* init */) {
   if (init !== undefined) {
     if (isObject(init)) {
       iteratorMethod = getIteratorMethod(init);
-      if (typeof iteratorMethod === 'function') {
-        iterator = iteratorMethod.call(init);
+      if (iteratorMethod) {
+        iterator = getIterator(init, iteratorMethod);
         next = iterator.next;
         while (!(step = next.call(iterator)).done) {
           entryIterator = getIterator(anObject(step.value));
@@ -12928,11 +13853,14 @@ var URLSearchParamsConstructor = function URLSearchParams(/* init */) {
             (second = entryNext.call(entryIterator)).done ||
             !entryNext.call(entryIterator).done
           ) throw TypeError('Expected sequence with length 2');
-          entries.push({ key: first.value + '', value: second.value + '' });
+          entries.push({ key: $toString$1(first.value), value: $toString$1(second.value) });
         }
-      } else for (key in init) if (hasOwn(init, key)) entries.push({ key: key, value: init[key] + '' });
+      } else for (key in init) if (hasOwn(init, key)) entries.push({ key: key, value: $toString$1(init[key]) });
     } else {
-      parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');
+      parseSearchParams(
+        entries,
+        typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : $toString$1(init)
+      );
     }
   }
 };
@@ -12945,7 +13873,7 @@ redefineAll(URLSearchParamsPrototype, {
   append: function append(name, value) {
     validateArgumentsLength(arguments.length, 2);
     var state = getInternalParamsState(this);
-    state.entries.push({ key: name + '', value: value + '' });
+    state.entries.push({ key: $toString$1(name), value: $toString$1(value) });
     state.updateURL();
   },
   // `URLSearchParams.prototype.delete` method
@@ -12954,7 +13882,7 @@ redefineAll(URLSearchParamsPrototype, {
     validateArgumentsLength(arguments.length, 1);
     var state = getInternalParamsState(this);
     var entries = state.entries;
-    var key = name + '';
+    var key = $toString$1(name);
     var index = 0;
     while (index < entries.length) {
       if (entries[index].key === key) entries.splice(index, 1);
@@ -12967,7 +13895,7 @@ redefineAll(URLSearchParamsPrototype, {
   get: function get(name) {
     validateArgumentsLength(arguments.length, 1);
     var entries = getInternalParamsState(this).entries;
-    var key = name + '';
+    var key = $toString$1(name);
     var index = 0;
     for (; index < entries.length; index++) {
       if (entries[index].key === key) return entries[index].value;
@@ -12979,7 +13907,7 @@ redefineAll(URLSearchParamsPrototype, {
   getAll: function getAll(name) {
     validateArgumentsLength(arguments.length, 1);
     var entries = getInternalParamsState(this).entries;
-    var key = name + '';
+    var key = $toString$1(name);
     var result = [];
     var index = 0;
     for (; index < entries.length; index++) {
@@ -12992,7 +13920,7 @@ redefineAll(URLSearchParamsPrototype, {
   has: function has(name) {
     validateArgumentsLength(arguments.length, 1);
     var entries = getInternalParamsState(this).entries;
-    var key = name + '';
+    var key = $toString$1(name);
     var index = 0;
     while (index < entries.length) {
       if (entries[index++].key === key) return true;
@@ -13006,8 +13934,8 @@ redefineAll(URLSearchParamsPrototype, {
     var state = getInternalParamsState(this);
     var entries = state.entries;
     var found = false;
-    var key = name + '';
-    var val = value + '';
+    var key = $toString$1(name);
+    var val = $toString$1(value);
     var index = 0;
     var entry;
     for (; index < entries.length; index++) {
@@ -13070,7 +13998,7 @@ redefineAll(URLSearchParamsPrototype, {
 }, { enumerable: true });
 
 // `URLSearchParams.prototype[@@iterator]` method
-redefine$1(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);
+redefine$1(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries, { name: 'entries' });
 
 // `URLSearchParams.prototype.toString` method
 // https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior
@@ -13091,32 +14019,46 @@ $$2({ global: true, forced: !USE_NATIVE_URL$1 }, {
   URLSearchParams: URLSearchParamsConstructor
 });
 
-// Wrap `fetch` for correct work with polyfilled `URLSearchParams`
-// https://github.com/zloirock/core-js/issues/674
-if (!USE_NATIVE_URL$1 && typeof $fetch == 'function' && typeof Headers == 'function') {
-  $$2({ global: true, enumerable: true, forced: true }, {
-    fetch: function fetch(input /* , init */) {
-      var args = [input];
-      var init, body, headers;
-      if (arguments.length > 1) {
-        init = arguments[1];
-        if (isObject(init)) {
-          body = init.body;
-          if (classof(body) === URL_SEARCH_PARAMS) {
-            headers = init.headers ? new Headers(init.headers) : new Headers();
-            if (!headers.has('content-type')) {
-              headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');
-            }
-            init = create(init, {
-              body: createPropertyDescriptor(0, String(body)),
-              headers: createPropertyDescriptor(0, headers)
-            });
-          }
+// Wrap `fetch` and `Request` for correct work with polyfilled `URLSearchParams`
+if (!USE_NATIVE_URL$1 && isCallable(Headers)) {
+  var wrapRequestOptions = function (init) {
+    if (isObject(init)) {
+      var body = init.body;
+      var headers;
+      if (classof(body) === URL_SEARCH_PARAMS) {
+        headers = init.headers ? new Headers(init.headers) : new Headers();
+        if (!headers.has('content-type')) {
+          headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');
         }
-        args.push(init);
-      } return $fetch.apply(this, args);
-    }
-  });
+        return create(init, {
+          body: createPropertyDescriptor(0, String(body)),
+          headers: createPropertyDescriptor(0, headers)
+        });
+      }
+    } return init;
+  };
+
+  if (isCallable(nativeFetch)) {
+    $$2({ global: true, enumerable: true, forced: true }, {
+      fetch: function fetch(input /* , init */) {
+        return nativeFetch(input, arguments.length > 1 ? wrapRequestOptions(arguments[1]) : {});
+      }
+    });
+  }
+
+  if (isCallable(NativeRequest)) {
+    var RequestConstructor = function Request(input /* , init */) {
+      anInstance$1(this, RequestConstructor, 'Request');
+      return new NativeRequest(input, arguments.length > 1 ? wrapRequestOptions(arguments[1]) : {});
+    };
+
+    RequestPrototype.constructor = RequestConstructor;
+    RequestConstructor.prototype = RequestPrototype;
+
+    $$2({ global: true, forced: true }, {
+      Request: RequestConstructor
+    });
+  }
 }
 
 var web_urlSearchParams = {
@@ -13129,15 +14071,16 @@ var web_urlSearchParams = {
 var $$1 = _export;
 var DESCRIPTORS = descriptors;
 var USE_NATIVE_URL = nativeUrl;
-var global$1 = global$M;
+var global$1 = global$R;
 var defineProperties = objectDefineProperties;
-var redefine = redefine$g.exports;
+var redefine = redefine$l.exports;
 var anInstance = anInstance$b;
-var has = has$n;
+var has = has$m;
 var assign = objectAssign;
 var arrayFrom = arrayFrom$1;
 var codeAt = stringMultibyte.codeAt;
 var toASCII = stringPunycodeToAscii;
+var $toString = toString$t;
 var setToStringTag = setToStringTag$b;
 var URLSearchParamsModule = web_urlSearchParams;
 var InternalStateModule = internalState;
@@ -13159,14 +14102,14 @@ var ALPHA = /[A-Za-z]/;
 // eslint-disable-next-line regexp/no-obscure-range -- safe
 var ALPHANUMERIC = /[\d+-.A-Za-z]/;
 var DIGIT = /\d/;
-var HEX_START = /^(0x|0X)/;
+var HEX_START = /^0x/i;
 var OCT = /^[0-7]+$/;
 var DEC = /^\d+$/;
 var HEX = /^[\dA-Fa-f]+$/;
 /* eslint-disable no-control-regex -- safe */
-var FORBIDDEN_HOST_CODE_POINT = /[\0\t\n\r #%/:?@[\\]]/;
-var FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\0\t\n\r #/:?@[\\]]/;
-var LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g;
+var FORBIDDEN_HOST_CODE_POINT = /[\0\t\n\r #%/:<>?@[\\\]^|]/;
+var FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\0\t\n\r #/:<>?@[\\\]^|]/;
+var LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\u0000-\u0020]+|[\u0000-\u0020]+$/g;
 var TAB_AND_NEW_LINE = /[\t\n\r]/g;
 /* eslint-enable no-control-regex -- safe */
 var EOF;
@@ -13242,19 +14185,19 @@ var parseIPv6 = function (input) {
   var pointer = 0;
   var value, length, numbersSeen, ipv4Piece, number, swaps, swap;
 
-  var char = function () {
+  var chr = function () {
     return input.charAt(pointer);
   };
 
-  if (char() == ':') {
+  if (chr() == ':') {
     if (input.charAt(1) != ':') return;
     pointer += 2;
     pieceIndex++;
     compress = pieceIndex;
   }
-  while (char()) {
+  while (chr()) {
     if (pieceIndex == 8) return;
-    if (char() == ':') {
+    if (chr() == ':') {
       if (compress !== null) return;
       pointer++;
       pieceIndex++;
@@ -13262,25 +14205,25 @@ var parseIPv6 = function (input) {
       continue;
     }
     value = length = 0;
-    while (length < 4 && HEX.test(char())) {
-      value = value * 16 + parseInt(char(), 16);
+    while (length < 4 && HEX.test(chr())) {
+      value = value * 16 + parseInt(chr(), 16);
       pointer++;
       length++;
     }
-    if (char() == '.') {
+    if (chr() == '.') {
       if (length == 0) return;
       pointer -= length;
       if (pieceIndex > 6) return;
       numbersSeen = 0;
-      while (char()) {
+      while (chr()) {
         ipv4Piece = null;
         if (numbersSeen > 0) {
-          if (char() == '.' && numbersSeen < 4) pointer++;
+          if (chr() == '.' && numbersSeen < 4) pointer++;
           else return;
         }
-        if (!DIGIT.test(char())) return;
-        while (DIGIT.test(char())) {
-          number = parseInt(char(), 10);
+        if (!DIGIT.test(chr())) return;
+        while (DIGIT.test(chr())) {
+          number = parseInt(chr(), 10);
           if (ipv4Piece === null) ipv4Piece = number;
           else if (ipv4Piece == 0) return;
           else ipv4Piece = ipv4Piece * 10 + number;
@@ -13293,10 +14236,10 @@ var parseIPv6 = function (input) {
       }
       if (numbersSeen != 4) return;
       break;
-    } else if (char() == ':') {
+    } else if (chr() == ':') {
       pointer++;
-      if (!char()) return;
-    } else if (char()) return;
+      if (!chr()) return;
+    } else if (chr()) return;
     address[pieceIndex++] = value;
   }
   if (compress !== null) {
@@ -13376,9 +14319,9 @@ var userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {
   '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\': 1, ']': 1, '^': 1, '|': 1
 });
 
-var percentEncode = function (char, set) {
-  var code = codeAt(char, 0);
-  return code > 0x20 && code < 0x7F && !has(set, char) ? char : encodeURIComponent(char);
+var percentEncode = function (chr, set) {
+  var code = codeAt(chr, 0);
+  return code > 0x20 && code < 0x7F && !has(set, chr) ? chr : encodeURIComponent(chr);
 };
 
 var specialSchemes = {
@@ -13464,7 +14407,7 @@ var parseURL = function (url, input, stateOverride, base) {
   var seenAt = false;
   var seenBracket = false;
   var seenPasswordToken = false;
-  var codePoints, char, bufferCodePoints, failure;
+  var codePoints, chr, bufferCodePoints, failure;
 
   if (!stateOverride) {
     url.scheme = '';
@@ -13484,11 +14427,11 @@ var parseURL = function (url, input, stateOverride, base) {
   codePoints = arrayFrom(input);
 
   while (pointer <= codePoints.length) {
-    char = codePoints[pointer];
+    chr = codePoints[pointer];
     switch (state) {
       case SCHEME_START:
-        if (char && ALPHA.test(char)) {
-          buffer += char.toLowerCase();
+        if (chr && ALPHA.test(chr)) {
+          buffer += chr.toLowerCase();
           state = SCHEME;
         } else if (!stateOverride) {
           state = NO_SCHEME;
@@ -13497,9 +14440,9 @@ var parseURL = function (url, input, stateOverride, base) {
         break;
 
       case SCHEME:
-        if (char && (ALPHANUMERIC.test(char) || char == '+' || char == '-' || char == '.')) {
-          buffer += char.toLowerCase();
-        } else if (char == ':') {
+        if (chr && (ALPHANUMERIC.test(chr) || chr == '+' || chr == '-' || chr == '.')) {
+          buffer += chr.toLowerCase();
+        } else if (chr == ':') {
           if (stateOverride && (
             (isSpecial(url) != has(specialSchemes, buffer)) ||
             (buffer == 'file' && (includesCredentials(url) || url.port !== null)) ||
@@ -13534,8 +14477,8 @@ var parseURL = function (url, input, stateOverride, base) {
         break;
 
       case NO_SCHEME:
-        if (!base || (base.cannotBeABaseURL && char != '#')) return INVALID_SCHEME;
-        if (base.cannotBeABaseURL && char == '#') {
+        if (!base || (base.cannotBeABaseURL && chr != '#')) return INVALID_SCHEME;
+        if (base.cannotBeABaseURL && chr == '#') {
           url.scheme = base.scheme;
           url.path = base.path.slice();
           url.query = base.query;
@@ -13548,7 +14491,7 @@ var parseURL = function (url, input, stateOverride, base) {
         continue;
 
       case SPECIAL_RELATIVE_OR_AUTHORITY:
-        if (char == '/' && codePoints[pointer + 1] == '/') {
+        if (chr == '/' && codePoints[pointer + 1] == '/') {
           state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
           pointer++;
         } else {
@@ -13557,7 +14500,7 @@ var parseURL = function (url, input, stateOverride, base) {
         } break;
 
       case PATH_OR_AUTHORITY:
-        if (char == '/') {
+        if (chr == '/') {
           state = AUTHORITY;
           break;
         } else {
@@ -13567,16 +14510,16 @@ var parseURL = function (url, input, stateOverride, base) {
 
       case RELATIVE:
         url.scheme = base.scheme;
-        if (char == EOF) {
+        if (chr == EOF) {
           url.username = base.username;
           url.password = base.password;
           url.host = base.host;
           url.port = base.port;
           url.path = base.path.slice();
           url.query = base.query;
-        } else if (char == '/' || (char == '\\' && isSpecial(url))) {
+        } else if (chr == '/' || (chr == '\\' && isSpecial(url))) {
           state = RELATIVE_SLASH;
-        } else if (char == '?') {
+        } else if (chr == '?') {
           url.username = base.username;
           url.password = base.password;
           url.host = base.host;
@@ -13584,7 +14527,7 @@ var parseURL = function (url, input, stateOverride, base) {
           url.path = base.path.slice();
           url.query = '';
           state = QUERY;
-        } else if (char == '#') {
+        } else if (chr == '#') {
           url.username = base.username;
           url.password = base.password;
           url.host = base.host;
@@ -13605,9 +14548,9 @@ var parseURL = function (url, input, stateOverride, base) {
         } break;
 
       case RELATIVE_SLASH:
-        if (isSpecial(url) && (char == '/' || char == '\\')) {
+        if (isSpecial(url) && (chr == '/' || chr == '\\')) {
           state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
-        } else if (char == '/') {
+        } else if (chr == '/') {
           state = AUTHORITY;
         } else {
           url.username = base.username;
@@ -13620,18 +14563,18 @@ var parseURL = function (url, input, stateOverride, base) {
 
       case SPECIAL_AUTHORITY_SLASHES:
         state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
-        if (char != '/' || buffer.charAt(pointer + 1) != '/') continue;
+        if (chr != '/' || buffer.charAt(pointer + 1) != '/') continue;
         pointer++;
         break;
 
       case SPECIAL_AUTHORITY_IGNORE_SLASHES:
-        if (char != '/' && char != '\\') {
+        if (chr != '/' && chr != '\\') {
           state = AUTHORITY;
           continue;
         } break;
 
       case AUTHORITY:
-        if (char == '@') {
+        if (chr == '@') {
           if (seenAt) buffer = '%40' + buffer;
           seenAt = true;
           bufferCodePoints = arrayFrom(buffer);
@@ -13647,14 +14590,14 @@ var parseURL = function (url, input, stateOverride, base) {
           }
           buffer = '';
         } else if (
-          char == EOF || char == '/' || char == '?' || char == '#' ||
-          (char == '\\' && isSpecial(url))
+          chr == EOF || chr == '/' || chr == '?' || chr == '#' ||
+          (chr == '\\' && isSpecial(url))
         ) {
           if (seenAt && buffer == '') return INVALID_AUTHORITY;
           pointer -= arrayFrom(buffer).length + 1;
           buffer = '';
           state = HOST;
-        } else buffer += char;
+        } else buffer += chr;
         break;
 
       case HOST:
@@ -13662,7 +14605,7 @@ var parseURL = function (url, input, stateOverride, base) {
         if (stateOverride && url.scheme == 'file') {
           state = FILE_HOST;
           continue;
-        } else if (char == ':' && !seenBracket) {
+        } else if (chr == ':' && !seenBracket) {
           if (buffer == '') return INVALID_HOST;
           failure = parseHost(url, buffer);
           if (failure) return failure;
@@ -13670,8 +14613,8 @@ var parseURL = function (url, input, stateOverride, base) {
           state = PORT;
           if (stateOverride == HOSTNAME) return;
         } else if (
-          char == EOF || char == '/' || char == '?' || char == '#' ||
-          (char == '\\' && isSpecial(url))
+          chr == EOF || chr == '/' || chr == '?' || chr == '#' ||
+          (chr == '\\' && isSpecial(url))
         ) {
           if (isSpecial(url) && buffer == '') return INVALID_HOST;
           if (stateOverride && buffer == '' && (includesCredentials(url) || url.port !== null)) return;
@@ -13682,17 +14625,17 @@ var parseURL = function (url, input, stateOverride, base) {
           if (stateOverride) return;
           continue;
         } else {
-          if (char == '[') seenBracket = true;
-          else if (char == ']') seenBracket = false;
-          buffer += char;
+          if (chr == '[') seenBracket = true;
+          else if (chr == ']') seenBracket = false;
+          buffer += chr;
         } break;
 
       case PORT:
-        if (DIGIT.test(char)) {
-          buffer += char;
+        if (DIGIT.test(chr)) {
+          buffer += chr;
         } else if (
-          char == EOF || char == '/' || char == '?' || char == '#' ||
-          (char == '\\' && isSpecial(url)) ||
+          chr == EOF || chr == '/' || chr == '?' || chr == '#' ||
+          (chr == '\\' && isSpecial(url)) ||
           stateOverride
         ) {
           if (buffer != '') {
@@ -13709,18 +14652,18 @@ var parseURL = function (url, input, stateOverride, base) {
 
       case FILE:
         url.scheme = 'file';
-        if (char == '/' || char == '\\') state = FILE_SLASH;
+        if (chr == '/' || chr == '\\') state = FILE_SLASH;
         else if (base && base.scheme == 'file') {
-          if (char == EOF) {
+          if (chr == EOF) {
             url.host = base.host;
             url.path = base.path.slice();
             url.query = base.query;
-          } else if (char == '?') {
+          } else if (chr == '?') {
             url.host = base.host;
             url.path = base.path.slice();
             url.query = '';
             state = QUERY;
-          } else if (char == '#') {
+          } else if (chr == '#') {
             url.host = base.host;
             url.path = base.path.slice();
             url.query = base.query;
@@ -13741,7 +14684,7 @@ var parseURL = function (url, input, stateOverride, base) {
         } break;
 
       case FILE_SLASH:
-        if (char == '/' || char == '\\') {
+        if (chr == '/' || chr == '\\') {
           state = FILE_HOST;
           break;
         }
@@ -13753,7 +14696,7 @@ var parseURL = function (url, input, stateOverride, base) {
         continue;
 
       case FILE_HOST:
-        if (char == EOF || char == '/' || char == '\\' || char == '?' || char == '#') {
+        if (chr == EOF || chr == '/' || chr == '\\' || chr == '?' || chr == '#') {
           if (!stateOverride && isWindowsDriveLetter(buffer)) {
             state = PATH;
           } else if (buffer == '') {
@@ -13768,37 +14711,37 @@ var parseURL = function (url, input, stateOverride, base) {
             buffer = '';
             state = PATH_START;
           } continue;
-        } else buffer += char;
+        } else buffer += chr;
         break;
 
       case PATH_START:
         if (isSpecial(url)) {
           state = PATH;
-          if (char != '/' && char != '\\') continue;
-        } else if (!stateOverride && char == '?') {
+          if (chr != '/' && chr != '\\') continue;
+        } else if (!stateOverride && chr == '?') {
           url.query = '';
           state = QUERY;
-        } else if (!stateOverride && char == '#') {
+        } else if (!stateOverride && chr == '#') {
           url.fragment = '';
           state = FRAGMENT;
-        } else if (char != EOF) {
+        } else if (chr != EOF) {
           state = PATH;
-          if (char != '/') continue;
+          if (chr != '/') continue;
         } break;
 
       case PATH:
         if (
-          char == EOF || char == '/' ||
-          (char == '\\' && isSpecial(url)) ||
-          (!stateOverride && (char == '?' || char == '#'))
+          chr == EOF || chr == '/' ||
+          (chr == '\\' && isSpecial(url)) ||
+          (!stateOverride && (chr == '?' || chr == '#'))
         ) {
           if (isDoubleDot(buffer)) {
             shortenURLsPath(url);
-            if (char != '/' && !(char == '\\' && isSpecial(url))) {
+            if (chr != '/' && !(chr == '\\' && isSpecial(url))) {
               url.path.push('');
             }
           } else if (isSingleDot(buffer)) {
-            if (char != '/' && !(char == '\\' && isSpecial(url))) {
+            if (chr != '/' && !(chr == '\\' && isSpecial(url))) {
               url.path.push('');
             }
           } else {
@@ -13809,45 +14752,45 @@ var parseURL = function (url, input, stateOverride, base) {
             url.path.push(buffer);
           }
           buffer = '';
-          if (url.scheme == 'file' && (char == EOF || char == '?' || char == '#')) {
+          if (url.scheme == 'file' && (chr == EOF || chr == '?' || chr == '#')) {
             while (url.path.length > 1 && url.path[0] === '') {
               url.path.shift();
             }
           }
-          if (char == '?') {
+          if (chr == '?') {
             url.query = '';
             state = QUERY;
-          } else if (char == '#') {
+          } else if (chr == '#') {
             url.fragment = '';
             state = FRAGMENT;
           }
         } else {
-          buffer += percentEncode(char, pathPercentEncodeSet);
+          buffer += percentEncode(chr, pathPercentEncodeSet);
         } break;
 
       case CANNOT_BE_A_BASE_URL_PATH:
-        if (char == '?') {
+        if (chr == '?') {
           url.query = '';
           state = QUERY;
-        } else if (char == '#') {
+        } else if (chr == '#') {
           url.fragment = '';
           state = FRAGMENT;
-        } else if (char != EOF) {
-          url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);
+        } else if (chr != EOF) {
+          url.path[0] += percentEncode(chr, C0ControlPercentEncodeSet);
         } break;
 
       case QUERY:
-        if (!stateOverride && char == '#') {
+        if (!stateOverride && chr == '#') {
           url.fragment = '';
           state = FRAGMENT;
-        } else if (char != EOF) {
-          if (char == "'" && isSpecial(url)) url.query += '%27';
-          else if (char == '#') url.query += '%23';
-          else url.query += percentEncode(char, C0ControlPercentEncodeSet);
+        } else if (chr != EOF) {
+          if (chr == "'" && isSpecial(url)) url.query += '%27';
+          else if (chr == '#') url.query += '%23';
+          else url.query += percentEncode(chr, C0ControlPercentEncodeSet);
         } break;
 
       case FRAGMENT:
-        if (char != EOF) url.fragment += percentEncode(char, fragmentPercentEncodeSet);
+        if (chr != EOF) url.fragment += percentEncode(chr, fragmentPercentEncodeSet);
         break;
     }
 
@@ -13860,13 +14803,13 @@ var parseURL = function (url, input, stateOverride, base) {
 var URLConstructor = function URL(url /* , base */) {
   var that = anInstance(this, URLConstructor, 'URL');
   var base = arguments.length > 1 ? arguments[1] : undefined;
-  var urlString = String(url);
+  var urlString = $toString(url);
   var state = setInternalState(that, { type: 'URL' });
   var baseState, failure;
   if (base !== undefined) {
     if (base instanceof URLConstructor) baseState = getInternalURLState(base);
     else {
-      failure = parseURL(baseState = {}, String(base));
+      failure = parseURL(baseState = {}, $toString(base));
       if (failure) throw TypeError(failure);
     }
   }
@@ -13995,7 +14938,7 @@ if (DESCRIPTORS) {
     // https://url.spec.whatwg.org/#dom-url-href
     href: accessorDescriptor(serializeURL, function (href) {
       var url = getInternalURLState(this);
-      var urlString = String(href);
+      var urlString = $toString(href);
       var failure = parseURL(url, urlString);
       if (failure) throw TypeError(failure);
       getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);
@@ -14007,13 +14950,13 @@ if (DESCRIPTORS) {
     // https://url.spec.whatwg.org/#dom-url-protocol
     protocol: accessorDescriptor(getProtocol, function (protocol) {
       var url = getInternalURLState(this);
-      parseURL(url, String(protocol) + ':', SCHEME_START);
+      parseURL(url, $toString(protocol) + ':', SCHEME_START);
     }),
     // `URL.prototype.username` accessors pair
     // https://url.spec.whatwg.org/#dom-url-username
     username: accessorDescriptor(getUsername, function (username) {
       var url = getInternalURLState(this);
-      var codePoints = arrayFrom(String(username));
+      var codePoints = arrayFrom($toString(username));
       if (cannotHaveUsernamePasswordPort(url)) return;
       url.username = '';
       for (var i = 0; i < codePoints.length; i++) {
@@ -14024,7 +14967,7 @@ if (DESCRIPTORS) {
     // https://url.spec.whatwg.org/#dom-url-password
     password: accessorDescriptor(getPassword, function (password) {
       var url = getInternalURLState(this);
-      var codePoints = arrayFrom(String(password));
+      var codePoints = arrayFrom($toString(password));
       if (cannotHaveUsernamePasswordPort(url)) return;
       url.password = '';
       for (var i = 0; i < codePoints.length; i++) {
@@ -14036,21 +14979,21 @@ if (DESCRIPTORS) {
     host: accessorDescriptor(getHost, function (host) {
       var url = getInternalURLState(this);
       if (url.cannotBeABaseURL) return;
-      parseURL(url, String(host), HOST);
+      parseURL(url, $toString(host), HOST);
     }),
     // `URL.prototype.hostname` accessors pair
     // https://url.spec.whatwg.org/#dom-url-hostname
     hostname: accessorDescriptor(getHostname, function (hostname) {
       var url = getInternalURLState(this);
       if (url.cannotBeABaseURL) return;
-      parseURL(url, String(hostname), HOSTNAME);
+      parseURL(url, $toString(hostname), HOSTNAME);
     }),
     // `URL.prototype.port` accessors pair
     // https://url.spec.whatwg.org/#dom-url-port
     port: accessorDescriptor(getPort, function (port) {
       var url = getInternalURLState(this);
       if (cannotHaveUsernamePasswordPort(url)) return;
-      port = String(port);
+      port = $toString(port);
       if (port == '') url.port = null;
       else parseURL(url, port, PORT);
     }),
@@ -14060,13 +15003,13 @@ if (DESCRIPTORS) {
       var url = getInternalURLState(this);
       if (url.cannotBeABaseURL) return;
       url.path = [];
-      parseURL(url, pathname + '', PATH_START);
+      parseURL(url, $toString(pathname), PATH_START);
     }),
     // `URL.prototype.search` accessors pair
     // https://url.spec.whatwg.org/#dom-url-search
     search: accessorDescriptor(getSearch, function (search) {
       var url = getInternalURLState(this);
-      search = String(search);
+      search = $toString(search);
       if (search == '') {
         url.query = null;
       } else {
@@ -14083,7 +15026,7 @@ if (DESCRIPTORS) {
     // https://url.spec.whatwg.org/#dom-url-hash
     hash: accessorDescriptor(getHash, function (hash) {
       var url = getInternalURLState(this);
-      hash = String(hash);
+      hash = $toString(hash);
       if (hash == '') {
         url.fragment = null;
         return;
diff --git a/test/form/samples/supports-es5-shim/_expected.js b/test/form/samples/supports-es5-shim/_expected.js
index a240d888a..a7c1574d7 100644
--- a/test/form/samples/supports-es5-shim/_expected.js
+++ b/test/form/samples/supports-es5-shim/_expected.js
@@ -57,6 +57,12 @@ var es5Shim = {exports: {}};
     var floor = Math.floor;
     var abs = Math.abs;
     var pow = Math.pow;
+    var round = Math.round;
+    var log = Math.log;
+    var LOG10E = Math.LOG10E;
+    var log10 = Math.log10 || function log10(value) {
+        return log(value) * LOG10E;
+    };
 
     // Having a toString local variable name breaks in Opera so use to_string.
     var to_string = ObjectPrototype.toString;
@@ -244,33 +250,31 @@ var es5Shim = {exports: {}};
                     }
                     return this;
 
-                } else {
-                    // 15.3.4.5.1 [[Call]]
-                    // When the [[Call]] internal method of a function object, F,
-                    // which was created using the bind function is called with a
-                    // this value and a list of arguments ExtraArgs, the following
-                    // steps are taken:
-                    // 1. Let boundArgs be the value of F's [[BoundArgs]] internal
-                    //   property.
-                    // 2. Let boundThis be the value of F's [[BoundThis]] internal
-                    //   property.
-                    // 3. Let target be the value of F's [[TargetFunction]] internal
-                    //   property.
-                    // 4. Let args be a new list containing the same values as the
-                    //   list boundArgs in the same order followed by the same
-                    //   values as the list ExtraArgs in the same order.
-                    // 5. Return the result of calling the [[Call]] internal method
-                    //   of target providing boundThis as the this value and
-                    //   providing args as the arguments.
-
-                    // equiv: target.call(this, ...boundArgs, ...args)
-                    return apply.call(
-                        target,
-                        that,
-                        array_concat.call(args, array_slice.call(arguments))
-                    );
-
                 }
+                // 15.3.4.5.1 [[Call]]
+                // When the [[Call]] internal method of a function object, F,
+                // which was created using the bind function is called with a
+                // this value and a list of arguments ExtraArgs, the following
+                // steps are taken:
+                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal
+                //   property.
+                // 2. Let boundThis be the value of F's [[BoundThis]] internal
+                //   property.
+                // 3. Let target be the value of F's [[TargetFunction]] internal
+                //   property.
+                // 4. Let args be a new list containing the same values as the
+                //   list boundArgs in the same order followed by the same
+                //   values as the list ExtraArgs in the same order.
+                // 5. Return the result of calling the [[Call]] internal method
+                //   of target providing boundThis as the this value and
+                //   providing args as the arguments.
+
+                // equiv: target.call(this, ...boundArgs, ...args)
+                return apply.call(
+                    target,
+                    that,
+                    array_concat.call(args, array_slice.call(arguments))
+                );
 
             };
 
@@ -761,9 +765,9 @@ var es5Shim = {exports: {}};
         splice: function splice(start, deleteCount) {
             if (arguments.length === 0) {
                 return [];
-            } else {
-                return array_splice.apply(this, arguments);
             }
+            return array_splice.apply(this, arguments);
+
         }
     }, !spliceNoopReturnsEmptyArray);
 
@@ -998,6 +1002,7 @@ var es5Shim = {exports: {}};
     // http://es5.github.com/#x15.2.3.14
 
     // http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation
+    // eslint-disable-next-line quote-props
     var hasDontEnumBug = !isEnum({ 'toString': null }, 'toString'); // jscs:ignore disallowQuotedKeysInObjects
     var hasProtoEnumBug = isEnum(function () {}, 'prototype');
     var hasStringEnumBug = !owns('x', '0');
@@ -1140,9 +1145,9 @@ var es5Shim = {exports: {}};
         keys: function keys(object) {
             if (isArguments(object)) {
                 return originalKeys(arraySlice(object));
-            } else {
-                return originalKeys(object);
             }
+            return originalKeys(object);
+
         }
     }, !keysWorksWithArguments || keysHasArgumentsLengthBug);
 
@@ -1774,6 +1779,135 @@ var es5Shim = {exports: {}};
     };
     defineProperties(NumberPrototype, { toFixed: toFixedShim }, hasToFixedBugs);
 
+    var hasToExponentialRoundingBug = (function () {
+        try {
+            return (-6.9e-11).toExponential(4) !== '-6.9000e-11';
+        } catch (e) {
+            return false;
+        }
+    }());
+    var toExponentialAllowsInfiniteDigits = (function () {
+        try {
+            (1).toExponential(Infinity);
+            (1).toExponential(-Infinity);
+            return true;
+        } catch (e) {
+            return false;
+        }
+    }());
+    var originalToExponential = call.bind(NumberPrototype.toExponential);
+    var numberToString = call.bind(NumberPrototype.toString);
+    defineProperties(NumberPrototype, {
+        toExponential: function toExponential(fractionDigits) {
+            // 1: Let x be this Number value.
+            var x = $Number(this);
+
+            if (typeof fractionDigits === 'undefined') {
+                return originalToExponential(x);
+            }
+            var f = ES.ToInteger(fractionDigits);
+            if (isActualNaN(x)) {
+                return 'NaN';
+            }
+
+            if (f < 0 || f > 20) {
+                // this will probably have thrown already
+                return originalToExponential(x, f);
+            }
+
+            // only cases left are a finite receiver + in-range fractionDigits
+
+            // implementation adapted from https://gist.github.com/SheetJSDev/1100ad56b9f856c95299ed0e068eea08
+
+            // 4: Let s be the empty string
+            var s = '';
+
+            // 5: If x < 0
+            if (x < 0) {
+                s = '-';
+                x = -x;
+            }
+
+            // 6: If x = +Infinity
+            if (x === Infinity) {
+                return s + 'Infinity';
+            }
+
+            // 7: If fractionDigits is not undefined and (f < 0 or f > 20), throw a RangeError exception.
+            if (typeof fractionDigits !== 'undefined' && (f < 0 || f > 20)) {
+                throw new RangeError('Fraction digits ' + fractionDigits + ' out of range');
+            }
+
+            var m = '';
+            var e = 0;
+            var c = '';
+            var d = '';
+
+            // 8: If x = 0 then
+            if (x === 0) {
+                e = 0;
+                f = 0;
+                m = '0';
+            } else { // 9: Else, x != 0
+                var L = log10(x);
+                e = floor(L); // 10 ** e <= x and x < 10 ** (e+1)
+                var n = 0;
+                if (typeof fractionDigits !== 'undefined') { // eslint-disable-line no-negated-condition
+                    var w = pow(10, e - f); // x / 10 ** (f+1) < w and w <= x / 10 ** f
+                    n = round(x / w); // 10 ** f <= n and n < 10 ** (f+1)
+                    if (2 * x >= (((2 * n) + 1) * w)) {
+                        n += 1; // pick larger value
+                    }
+                    if (n >= pow(10, f + 1)) { // 10e-1 = 1e0
+                        n /= 10;
+                        e += 1;
+                    }
+                } else {
+                    f = 16; // start from Math.ceil(Math.log10(Number.MAX_SAFE_INTEGER)) and loop down
+                    var guess_n = round(pow(10, L - e + f));
+                    var target_f = f;
+                    while (f-- > 0) {
+                        guess_n = round(pow(10, L - e + f));
+                        if (
+                            abs((guess_n * pow(10, e - f)) - x)
+                            <= abs((n * pow(10, e - target_f)) - x)
+                        ) {
+                            target_f = f;
+                            n = guess_n;
+                        }
+                    }
+                }
+                m = numberToString(n, 10);
+                if (typeof fractionDigits === 'undefined') {
+                    while (strSlice(m, -1) === '0') {
+                        m = strSlice(m, 0, -1);
+                        d += 1;
+                    }
+                }
+            }
+
+            // 10: If f != 0, then
+            if (f !== 0) {
+                m = strSlice(m, 0, 1) + '.' + strSlice(m, 1);
+            }
+
+            // 11: If e = 0, then
+            if (e === 0) {
+                c = '+';
+                d = '0';
+            } else { // 12: Else
+                c = e > 0 ? '+' : '-';
+                d = numberToString(abs(e), 10);
+            }
+
+            // 13: Let m be the concatenation of the four Strings m, "e", c, and d.
+            m += 'e' + c + d;
+
+            // 14: Return the concatenation of the Strings s and m.
+            return s + m;
+        }
+    }, hasToExponentialRoundingBug || toExponentialAllowsInfiniteDigits);
+
     var hasToPrecisionUndefinedBug = (function () {
         try {
             return 1.0.toPrecision(undefined) === '1';
@@ -1781,10 +1915,10 @@ var es5Shim = {exports: {}};
             return true;
         }
     }());
-    var originalToPrecision = NumberPrototype.toPrecision;
+    var originalToPrecision = call.bind(NumberPrototype.toPrecision);
     defineProperties(NumberPrototype, {
         toPrecision: function toPrecision(precision) {
-            return typeof precision === 'undefined' ? originalToPrecision.call(this) : originalToPrecision.call(this, precision);
+            return typeof precision === 'undefined' ? originalToPrecision(this) : originalToPrecision(this, precision);
         }
     }, hasToPrecisionUndefinedBug);
 
@@ -1926,18 +2060,18 @@ var es5Shim = {exports: {}};
             var hasCapturingGroups = isRegex(searchValue) && (/\)[*?]/).test(searchValue.source);
             if (!isFn || !hasCapturingGroups) {
                 return str_replace.call(this, searchValue, replaceValue);
-            } else {
-                var wrappedReplaceValue = function (match) {
-                    var length = arguments.length;
-                    var originalLastIndex = searchValue.lastIndex;
-                    searchValue.lastIndex = 0; // eslint-disable-line no-param-reassign
-                    var args = searchValue.exec(match) || [];
-                    searchValue.lastIndex = originalLastIndex; // eslint-disable-line no-param-reassign
-                    pushCall(args, arguments[length - 2], arguments[length - 1]);
-                    return replaceValue.apply(this, args);
-                };
-                return str_replace.call(this, searchValue, wrappedReplaceValue);
             }
+            var wrappedReplaceValue = function (match) {
+                var length = arguments.length;
+                var originalLastIndex = searchValue.lastIndex;
+                searchValue.lastIndex = 0; // eslint-disable-line no-param-reassign
+                var args = searchValue.exec(match) || [];
+                searchValue.lastIndex = originalLastIndex; // eslint-disable-line no-param-reassign
+                pushCall(args, arguments[length - 2], arguments[length - 1]);
+                return replaceValue.apply(this, args);
+            };
+            return str_replace.call(this, searchValue, wrappedReplaceValue);
+
         };
     }
 
@@ -2011,19 +2145,56 @@ var es5Shim = {exports: {}};
         }
     }, StringPrototype.lastIndexOf.length !== 1);
 
+    var hexRegex = /^[-+]?0[xX]/;
+
     // ES-5 15.1.2.2
     // eslint-disable-next-line radix
     if (parseInt(ws + '08') !== 8 || parseInt(ws + '0x16') !== 22) {
         // eslint-disable-next-line no-global-assign, no-implicit-globals
         parseInt = (function (origParseInt) {
-            var hexRegex = /^[-+]?0[xX]/;
             return function parseInt(str, radix) {
-                if (typeof str === 'symbol') {
+                var string = trim(String(str));
+                var defaultedRadix = $Number(radix) || (hexRegex.test(string) ? 16 : 10);
+                return origParseInt(string, defaultedRadix);
+            };
+        }(parseInt));
+    }
+    // Edge 15-18
+    var parseIntFailsToThrowOnBoxedSymbols = (function () {
+        if (typeof Symbol !== 'function') {
+            return false;
+        }
+        try {
+            // eslint-disable-next-line radix
+            parseInt(Object(Symbol.iterator));
+            return true;
+        } catch (e) { /**/ }
+
+        try {
+            // eslint-disable-next-line radix
+            parseInt(Symbol.iterator);
+            return true;
+        } catch (e) { /**/ }
+
+        return false;
+    }());
+    if (parseIntFailsToThrowOnBoxedSymbols) {
+        var symbolValueOf = Symbol.prototype.valueOf;
+        // eslint-disable-next-line no-global-assign, no-implicit-globals
+        parseInt = (function (origParseInt) {
+            return function parseInt(str, radix) {
+                var isSym = typeof str === 'symbol';
+                if (!isSym && str && typeof str === 'object') {
+                    try {
+                        symbolValueOf.call(str);
+                        isSym = true;
+                    } catch (e) { /**/ }
+                }
+                if (isSym) {
                     // handle Symbols in node 8.3/8.4
                     // eslint-disable-next-line no-implicit-coercion, no-unused-expressions
                     '' + str; // jscs:ignore disallowImplicitTypeConversion
                 }
-
                 var string = trim(String(str));
                 var defaultedRadix = $Number(radix) || (hexRegex.test(string) ? 16 : 10);
                 return origParseInt(string, defaultedRadix);
diff --git a/test/form/samples/system-comments/_expected.js b/test/form/samples/system-comments/_expected.js
index bf0f137f9..4f96d5583 100644
--- a/test/form/samples/system-comments/_expected.js
+++ b/test/form/samples/system-comments/_expected.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const pureFunc = () => console.log('not really pure') || 0;
 
@@ -17,6 +17,6 @@ System.register([], function (exports) {
 				/*#__PURE__*/
 				pureFunc());
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/system-default-comments/_expected.js b/test/form/samples/system-default-comments/_expected.js
index e2da4be4a..65cb13f43 100644
--- a/test/form/samples/system-default-comments/_expected.js
+++ b/test/form/samples/system-default-comments/_expected.js
@@ -1,12 +1,12 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const pureFunc = () => console.log('not really pure') || 0;
 
 			var main = exports('default', /*#__PURE__*/pureFunc());
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/system-export-declarations/_expected.js b/test/form/samples/system-export-declarations/_expected.js
index 863dfa8c5..84788f846 100644
--- a/test/form/samples/system-export-declarations/_expected.js
+++ b/test/form/samples/system-export-declarations/_expected.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			// middle binding
 			const a1 = 1, a2 = exports('a2', 2), a3 = 3;
@@ -25,6 +25,6 @@ System.register([], function (exports) {
 			// destructuring declaration
 			let {f1, f2} = globalThis.obj; exports('f2', f2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/system-export-destructuring-declaration/_expected.js b/test/form/samples/system-export-destructuring-declaration/_expected.js
index 9ccd368a2..a44c2e5ee 100644
--- a/test/form/samples/system-export-destructuring-declaration/_expected.js
+++ b/test/form/samples/system-export-destructuring-declaration/_expected.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const {a = 1, ...b} = global1, c = global2, {d} = global3; exports({ a: a, b: b, c: c, d: d });
 			const [e, ...f] = global4; exports({ e: e, f: f });
@@ -10,8 +10,8 @@ System.register([], function (exports) {
 			var m = exports('m', 1);
 			var {m} = global6; exports('m', m);
 
-			(function (v) { return exports('m', m), v; }({m} = global7));
+			(function (v) { return exports('m', m), v; })({m} = global7);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/system-export-rendering-compact/_expected.js b/test/form/samples/system-export-rendering-compact/_expected.js
index f943ad990..8ac9d4672 100644
--- a/test/form/samples/system-export-rendering-compact/_expected.js
+++ b/test/form/samples/system-export-rendering-compact/_expected.js
@@ -1,4 +1,4 @@
-System.register([],function(exports){'use strict';return{execute:function(){// ---
+System.register([],(function(exports){'use strict';return{execute:(function(){// ---
 // Single export name
 let foo = exports('foo',1);
 
@@ -52,4 +52,4 @@ exports({bar:bar-1,bar2:bar-1}),bar--;
 // ++bar
 ++bar,exports({bar:bar,bar2:bar}),bar;
 console.log((++bar,exports({bar:bar,bar2:bar}),bar));
---bar,exports({bar:bar,bar2:bar}),bar;}}});
\ No newline at end of file
+--bar,exports({bar:bar,bar2:bar}),bar;})}}));
\ No newline at end of file
diff --git a/test/form/samples/system-export-rendering/_expected.js b/test/form/samples/system-export-rendering/_expected.js
index 3901a93a3..00e279277 100644
--- a/test/form/samples/system-export-rendering/_expected.js
+++ b/test/form/samples/system-export-rendering/_expected.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			// ---
 			// Single export name
@@ -59,6 +59,6 @@ System.register([], function (exports) {
 			console.log((++bar, exports({ bar: bar, bar2: bar }), bar));
 			--bar, exports({ bar: bar, bar2: bar }), bar;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/system-module-reserved/_expected/amd.js b/test/form/samples/system-module-reserved/_expected/amd.js
index 488ded02f..86042a75d 100644
--- a/test/form/samples/system-module-reserved/_expected/amd.js
+++ b/test/form/samples/system-module-reserved/_expected/amd.js
@@ -1,5 +1,5 @@
-define(['test'], function (test) { 'use strict';
+define(['test'], (function (test) { 'use strict';
 
 	console.log(test.module, test.other);
 
-});
+}));
diff --git a/test/form/samples/system-module-reserved/_expected/iife.js b/test/form/samples/system-module-reserved/_expected/iife.js
index 6f0152b4b..1d46e1685 100644
--- a/test/form/samples/system-module-reserved/_expected/iife.js
+++ b/test/form/samples/system-module-reserved/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log(test.module, test.other);
 
-}(test));
+})(test);
diff --git a/test/form/samples/system-module-reserved/_expected/system.js b/test/form/samples/system-module-reserved/_expected/system.js
index dd6fda8d2..945afaa55 100644
--- a/test/form/samples/system-module-reserved/_expected/system.js
+++ b/test/form/samples/system-module-reserved/_expected/system.js
@@ -1,4 +1,4 @@
-System.register('systemReserved', ['test'], function () {
+System.register('systemReserved', ['test'], (function () {
 	'use strict';
 	var module$1, other;
 	return {
@@ -6,10 +6,10 @@ System.register('systemReserved', ['test'], function () {
 			module$1 = module.module;
 			other = module.other;
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(module$1, other);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/system-module-reserved/_expected/umd.js b/test/form/samples/system-module-reserved/_expected/umd.js
index 45ef58765..dba95d9f9 100644
--- a/test/form/samples/system-module-reserved/_expected/umd.js
+++ b/test/form/samples/system-module-reserved/_expected/umd.js
@@ -2,8 +2,8 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('test')) :
 	typeof define === 'function' && define.amd ? define(['test'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.test));
-}(this, (function (test) { 'use strict';
+})(this, (function (test) { 'use strict';
 
 	console.log(test.module, test.other);
 
-})));
+}));
diff --git a/test/form/samples/system-multiple-export-bindings/_expected.js b/test/form/samples/system-multiple-export-bindings/_expected.js
index 4adc6c6de..769457de1 100644
--- a/test/form/samples/system-multiple-export-bindings/_expected.js
+++ b/test/form/samples/system-multiple-export-bindings/_expected.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports({
 				fn: fn,
@@ -50,6 +50,6 @@ System.register([], function (exports) {
 			// Class Declaration
 			class A {} exports({ A: A, B: A });
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/system-reexports/_config.js b/test/form/samples/system-reexports/_config.js
new file mode 100644
index 000000000..813bf77ce
--- /dev/null
+++ b/test/form/samples/system-reexports/_config.js
@@ -0,0 +1,7 @@
+module.exports = {
+	description: 'merges reexports in systemjs',
+	options: {
+		external: true,
+		output: { format: 'system' }
+	}
+};
diff --git a/test/form/samples/system-reexports/_expected.js b/test/form/samples/system-reexports/_expected.js
new file mode 100644
index 000000000..9ddeb93d2
--- /dev/null
+++ b/test/form/samples/system-reexports/_expected.js
@@ -0,0 +1,38 @@
+System.register(['external1', 'external2', 'external3', 'external4', 'external5'], (function (exports) {
+	'use strict';
+	var _starExcludes = {
+		'default': 1,
+		namedReexport1: 1,
+		namedReexport2a: 1,
+		namedReexport2b: 1,
+		namespaceReexport3: 1,
+		namedReexport5: 1,
+		namespaceReexport5: 1
+	};
+	return {
+		setters: [function (module) {
+			exports('namedReexport1', module.namedReexport1);
+		}, function (module) {
+			exports({ namedReexport2a: module.namedReexport2a, namedReexport2b: module["default"] });
+		}, function (module) {
+			exports('namespaceReexport3', module);
+		}, function (module) {
+			var setter = {};
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
+			}
+			exports(setter);
+		}, function (module) {
+			var setter = { namedReexport5: module.namedReexport5, namespaceReexport5: module };
+			for (var name in module) {
+				if (!_starExcludes[name]) setter[name] = module[name];
+			}
+			exports(setter);
+		}],
+		execute: (function () {
+
+
+
+		})
+	};
+}));
diff --git a/test/form/samples/system-reexports/main.js b/test/form/samples/system-reexports/main.js
new file mode 100644
index 000000000..750ad5d7d
--- /dev/null
+++ b/test/form/samples/system-reexports/main.js
@@ -0,0 +1,12 @@
+export { namedReexport1 } from 'external1';
+
+export { namedReexport2a } from 'external2';
+export { default as namedReexport2b } from 'external2';
+
+export * as namespaceReexport3 from 'external3';
+
+export * from 'external4';
+
+export { namedReexport5 } from 'external5';
+export * as namespaceReexport5 from 'external5';
+export * from 'external5';
diff --git a/test/form/samples/system-reexports/system.js b/test/form/samples/system-reexports/system.js
new file mode 100644
index 000000000..af5613225
--- /dev/null
+++ b/test/form/samples/system-reexports/system.js
@@ -0,0 +1,26 @@
+System.register([], (function () {
+	'use strict';
+	return {
+		execute: (function () {
+
+			var effect1 = () => console.log( 'effect' ); // must not be removed!
+			function isKept1 ( x = effect1 ) {
+				x();
+			}
+			isKept1();
+
+			var effect2 = () => console.log( 'effect' ); // must not be removed!
+			var isKept2 = function ( x = effect2 ) {
+				x();
+			};
+			isKept2();
+
+			var effect3 = () => console.log( 'effect' ); // must not be removed!
+			var isKept3 = ( x = effect3 ) => {
+				x();
+			};
+			isKept3();
+
+		})
+	};
+}));
diff --git a/test/form/samples/system-semicolon/_expected.js b/test/form/samples/system-semicolon/_expected.js
index c7c7ae0cb..7c722d7a5 100644
--- a/test/form/samples/system-semicolon/_expected.js
+++ b/test/form/samples/system-semicolon/_expected.js
@@ -1,12 +1,12 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       var main = exports('default', typeof global !== "undefined" ? global :
         typeof self !== "undefined" ? self :
         typeof window !== "undefined" ? window : {});
 
-    }
+    })
   };
-});
+}));
diff --git a/test/form/samples/system-uninitialized/_expected.js b/test/form/samples/system-uninitialized/_expected.js
index bf976f7cb..aee95857f 100644
--- a/test/form/samples/system-uninitialized/_expected.js
+++ b/test/form/samples/system-uninitialized/_expected.js
@@ -1,7 +1,7 @@
-System.register([], function (exports) {
+System.register([], (function (exports) {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       exports('q', q);
 
@@ -10,6 +10,6 @@ System.register([], function (exports) {
         exports('p', p = 10);
       }
 
-    }
+    })
   };
-});
+}));
diff --git a/test/form/samples/this-is-undefined/_expected/amd.js b/test/form/samples/this-is-undefined/_expected/amd.js
index c90e97518..87b9c13c3 100644
--- a/test/form/samples/this-is-undefined/_expected/amd.js
+++ b/test/form/samples/this-is-undefined/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const fooContext = {};
 
@@ -18,4 +18,4 @@ define(function () { 'use strict';
 	// outside a function, `this` is undefined
 	assert.strictEqual( undefined, undefined );
 
-});
+}));
diff --git a/test/form/samples/this-is-undefined/_expected/iife.js b/test/form/samples/this-is-undefined/_expected/iife.js
index f82edce9c..06e976b27 100644
--- a/test/form/samples/this-is-undefined/_expected/iife.js
+++ b/test/form/samples/this-is-undefined/_expected/iife.js
@@ -19,4 +19,4 @@
 	// outside a function, `this` is undefined
 	assert.strictEqual( undefined, undefined );
 
-}());
+})();
diff --git a/test/form/samples/this-is-undefined/_expected/system.js b/test/form/samples/this-is-undefined/_expected/system.js
index cf485fcc5..c172f6dae 100644
--- a/test/form/samples/this-is-undefined/_expected/system.js
+++ b/test/form/samples/this-is-undefined/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const fooContext = {};
 
@@ -21,6 +21,6 @@ System.register([], function () {
 			// outside a function, `this` is undefined
 			assert.strictEqual( undefined, undefined );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/this-is-undefined/_expected/umd.js b/test/form/samples/this-is-undefined/_expected/umd.js
index ebe49fe59..e8b192d83 100644
--- a/test/form/samples/this-is-undefined/_expected/umd.js
+++ b/test/form/samples/this-is-undefined/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	const fooContext = {};
 
@@ -21,4 +21,4 @@
 	// outside a function, `this` is undefined
 	assert.strictEqual( undefined, undefined );
 
-})));
+}));
diff --git a/test/form/samples/top-level-await/_expected/system.js b/test/form/samples/top-level-await/_expected/system.js
index 14c43dfc0..f109ac116 100644
--- a/test/form/samples/top-level-await/_expected/system.js
+++ b/test/form/samples/top-level-await/_expected/system.js
@@ -1,12 +1,12 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: async function () {
+		execute: (async function () {
 
 			await operation();
 
 			await retainedOperation();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/tree-shake-default-exports/_expected/amd.js b/test/form/samples/tree-shake-default-exports/_expected/amd.js
index fa3e3c3a4..ddd6976b4 100644
--- a/test/form/samples/tree-shake-default-exports/_expected/amd.js
+++ b/test/form/samples/tree-shake-default-exports/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	/* header 3 */
 
@@ -54,4 +54,4 @@ define(function () { 'use strict';
 	importedUsedFunction();
 	usedNamedFunction();
 
-});
+}));
diff --git a/test/form/samples/tree-shake-default-exports/_expected/iife.js b/test/form/samples/tree-shake-default-exports/_expected/iife.js
index 6be2f7327..b96ee3775 100644
--- a/test/form/samples/tree-shake-default-exports/_expected/iife.js
+++ b/test/form/samples/tree-shake-default-exports/_expected/iife.js
@@ -55,4 +55,4 @@
 	importedUsedFunction();
 	usedNamedFunction();
 
-}());
+})();
diff --git a/test/form/samples/tree-shake-default-exports/_expected/system.js b/test/form/samples/tree-shake-default-exports/_expected/system.js
index e6e9a00d4..caf635fe6 100644
--- a/test/form/samples/tree-shake-default-exports/_expected/system.js
+++ b/test/form/samples/tree-shake-default-exports/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			/* header 3 */
 
@@ -57,6 +57,6 @@ System.register([], function () {
 			importedUsedFunction();
 			usedNamedFunction();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/tree-shake-default-exports/_expected/umd.js b/test/form/samples/tree-shake-default-exports/_expected/umd.js
index 416e9c52b..000e1bf9c 100644
--- a/test/form/samples/tree-shake-default-exports/_expected/umd.js
+++ b/test/form/samples/tree-shake-default-exports/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	/* header 3 */
 
@@ -57,4 +57,4 @@
 	importedUsedFunction();
 	usedNamedFunction();
 
-})));
+}));
diff --git a/test/form/samples/tree-shake-logical-expressions/_expected/amd.js b/test/form/samples/tree-shake-logical-expressions/_expected/amd.js
index 31345bf4f..e7058ed79 100644
--- a/test/form/samples/tree-shake-logical-expressions/_expected/amd.js
+++ b/test/form/samples/tree-shake-logical-expressions/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function getStringA() {
 		return 'A';
@@ -16,4 +16,4 @@ define(function () { 'use strict';
 
 	console.log(getStringD());
 
-});
+}));
diff --git a/test/form/samples/tree-shake-logical-expressions/_expected/iife.js b/test/form/samples/tree-shake-logical-expressions/_expected/iife.js
index 2ce582c81..665bd6743 100644
--- a/test/form/samples/tree-shake-logical-expressions/_expected/iife.js
+++ b/test/form/samples/tree-shake-logical-expressions/_expected/iife.js
@@ -17,4 +17,4 @@
 
 	console.log(getStringD());
 
-}());
+})();
diff --git a/test/form/samples/tree-shake-logical-expressions/_expected/system.js b/test/form/samples/tree-shake-logical-expressions/_expected/system.js
index 05ea8647e..b9caa3d83 100644
--- a/test/form/samples/tree-shake-logical-expressions/_expected/system.js
+++ b/test/form/samples/tree-shake-logical-expressions/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function getStringA() {
 				return 'A';
@@ -19,6 +19,6 @@ System.register([], function () {
 
 			console.log(getStringD());
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/tree-shake-logical-expressions/_expected/umd.js b/test/form/samples/tree-shake-logical-expressions/_expected/umd.js
index ac7fc0f38..62dc3debf 100644
--- a/test/form/samples/tree-shake-logical-expressions/_expected/umd.js
+++ b/test/form/samples/tree-shake-logical-expressions/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function getStringA() {
 		return 'A';
@@ -19,4 +19,4 @@
 
 	console.log(getStringD());
 
-})));
+}));
diff --git a/test/form/samples/treeshake-import-meta-props/_expected/amd.js b/test/form/samples/treeshake-import-meta-props/_expected/amd.js
index 126aa22ee..49540b44d 100644
--- a/test/form/samples/treeshake-import-meta-props/_expected/amd.js
+++ b/test/form/samples/treeshake-import-meta-props/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/form/samples/treeshake-import-meta-props/_expected/iife.js b/test/form/samples/treeshake-import-meta-props/_expected/iife.js
index d283cbce8..455edee6a 100644
--- a/test/form/samples/treeshake-import-meta-props/_expected/iife.js
+++ b/test/form/samples/treeshake-import-meta-props/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log('main');
 
-}());
+})();
diff --git a/test/form/samples/treeshake-import-meta-props/_expected/system.js b/test/form/samples/treeshake-import-meta-props/_expected/system.js
index c83499bc2..35e269337 100644
--- a/test/form/samples/treeshake-import-meta-props/_expected/system.js
+++ b/test/form/samples/treeshake-import-meta-props/_expected/system.js
@@ -1,10 +1,10 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/treeshake-import-meta-props/_expected/umd.js b/test/form/samples/treeshake-import-meta-props/_expected/umd.js
index f69e11c02..c8ba7daa8 100644
--- a/test/form/samples/treeshake-import-meta-props/_expected/umd.js
+++ b/test/form/samples/treeshake-import-meta-props/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log('main');
 
-})));
+}));
diff --git a/test/form/samples/treeshake-namespace-access/_expected/amd.js b/test/form/samples/treeshake-namespace-access/_expected/amd.js
index 0bae1e8d5..abb86309e 100644
--- a/test/form/samples/treeshake-namespace-access/_expected/amd.js
+++ b/test/form/samples/treeshake-namespace-access/_expected/amd.js
@@ -1,5 +1,5 @@
-define(['external'], function (external) { 'use strict';
+define(['external'], (function (external) { 'use strict';
 
 	console.log('main');
 
-});
+}));
diff --git a/test/form/samples/treeshake-namespace-access/_expected/iife.js b/test/form/samples/treeshake-namespace-access/_expected/iife.js
index d283cbce8..455edee6a 100644
--- a/test/form/samples/treeshake-namespace-access/_expected/iife.js
+++ b/test/form/samples/treeshake-namespace-access/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log('main');
 
-}());
+})();
diff --git a/test/form/samples/treeshake-namespace-access/_expected/system.js b/test/form/samples/treeshake-namespace-access/_expected/system.js
index d927c51ce..53138ccb7 100644
--- a/test/form/samples/treeshake-namespace-access/_expected/system.js
+++ b/test/form/samples/treeshake-namespace-access/_expected/system.js
@@ -1,11 +1,11 @@
-System.register(['external'], function () {
+System.register(['external'], (function () {
 	'use strict';
 	return {
 		setters: [function () {}],
-		execute: function () {
+		execute: (function () {
 
 			console.log('main');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/treeshake-namespace-access/_expected/umd.js b/test/form/samples/treeshake-namespace-access/_expected/umd.js
index a0358332a..33824109f 100644
--- a/test/form/samples/treeshake-namespace-access/_expected/umd.js
+++ b/test/form/samples/treeshake-namespace-access/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(['external'], factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	console.log('main');
 
-})));
+}));
diff --git a/test/form/samples/umd-noconflict-extend/_expected/amd.js b/test/form/samples/umd-noconflict-extend/_expected/amd.js
index f2fd756cb..092454a1e 100644
--- a/test/form/samples/umd-noconflict-extend/_expected/amd.js
+++ b/test/form/samples/umd-noconflict-extend/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	function doThings() {
 		console.log( 'doing things...' );
@@ -14,4 +14,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/umd-noconflict-extend/_expected/iife.js b/test/form/samples/umd-noconflict-extend/_expected/iife.js
index 4f2588f8f..aa51ff5b9 100644
--- a/test/form/samples/umd-noconflict-extend/_expected/iife.js
+++ b/test/form/samples/umd-noconflict-extend/_expected/iife.js
@@ -15,4 +15,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-}(this.FooBar = this.FooBar || {}));
+})(this.FooBar = this.FooBar || {});
diff --git a/test/form/samples/umd-noconflict-extend/_expected/system.js b/test/form/samples/umd-noconflict-extend/_expected/system.js
index 50b3617c1..fe648a9d3 100644
--- a/test/form/samples/umd-noconflict-extend/_expected/system.js
+++ b/test/form/samples/umd-noconflict-extend/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('FooBar', [], function (exports) {
+System.register('FooBar', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('doThings', doThings);
 
@@ -13,6 +13,6 @@ System.register('FooBar', [], function (exports) {
 
 			var setting = exports('setting', 'no');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/umd-noconflict-extend/_expected/umd.js b/test/form/samples/umd-noconflict-extend/_expected/umd.js
index 148718c54..6e452e207 100644
--- a/test/form/samples/umd-noconflict-extend/_expected/umd.js
+++ b/test/form/samples/umd-noconflict-extend/_expected/umd.js
@@ -6,8 +6,8 @@
 		var exports = global.FooBar = global.FooBar || {};
 		factory(exports);
 		exports.noConflict = function () { global.FooBar = current; return exports; };
-	}()));
-}(this, (function (exports) { 'use strict';
+	})());
+})(this, (function (exports) { 'use strict';
 
 	function doThings() {
 		console.log( 'doing things...' );
@@ -23,4 +23,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/umd-noconflict-namespaced/_expected/amd.js b/test/form/samples/umd-noconflict-namespaced/_expected/amd.js
index f2fd756cb..092454a1e 100644
--- a/test/form/samples/umd-noconflict-namespaced/_expected/amd.js
+++ b/test/form/samples/umd-noconflict-namespaced/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	function doThings() {
 		console.log( 'doing things...' );
@@ -14,4 +14,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/umd-noconflict-namespaced/_expected/iife.js b/test/form/samples/umd-noconflict-namespaced/_expected/iife.js
index 2d11e13eb..93be5fa03 100644
--- a/test/form/samples/umd-noconflict-namespaced/_expected/iife.js
+++ b/test/form/samples/umd-noconflict-namespaced/_expected/iife.js
@@ -20,4 +20,4 @@ this.my.name.spaced.module = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/umd-noconflict-namespaced/_expected/system.js b/test/form/samples/umd-noconflict-namespaced/_expected/system.js
index 3a0183e00..aff4f2648 100644
--- a/test/form/samples/umd-noconflict-namespaced/_expected/system.js
+++ b/test/form/samples/umd-noconflict-namespaced/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('my.name.spaced.module', [], function (exports) {
+System.register('my.name.spaced.module', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('doThings', doThings);
 
@@ -13,6 +13,6 @@ System.register('my.name.spaced.module', [], function (exports) {
 
 			var setting = exports('setting', 'no');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/umd-noconflict-namespaced/_expected/umd.js b/test/form/samples/umd-noconflict-namespaced/_expected/umd.js
index 02fb7e6e3..81960e085 100644
--- a/test/form/samples/umd-noconflict-namespaced/_expected/umd.js
+++ b/test/form/samples/umd-noconflict-namespaced/_expected/umd.js
@@ -6,8 +6,8 @@
 		var exports = (global.my = global.my || {}, global.my.name = global.my.name || {}, global.my.name.spaced = global.my.name.spaced || {}, global.my.name.spaced.module = {});
 		factory(exports);
 		exports.noConflict = function () { global.my.name.spaced.module = current; return exports; };
-	}()));
-}(this, (function (exports) { 'use strict';
+	})());
+})(this, (function (exports) { 'use strict';
 
 	function doThings() {
 		console.log( 'doing things...' );
@@ -23,4 +23,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/umd-noconflict-no-exports/_expected/amd.js b/test/form/samples/umd-noconflict-no-exports/_expected/amd.js
index 861a053bf..68a316e68 100644
--- a/test/form/samples/umd-noconflict-no-exports/_expected/amd.js
+++ b/test/form/samples/umd-noconflict-no-exports/_expected/amd.js
@@ -1,5 +1,5 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	console.log('no exports');
 
-});
+}));
diff --git a/test/form/samples/umd-noconflict-no-exports/_expected/iife.js b/test/form/samples/umd-noconflict-no-exports/_expected/iife.js
index 13ad15c87..3e1b72c6f 100644
--- a/test/form/samples/umd-noconflict-no-exports/_expected/iife.js
+++ b/test/form/samples/umd-noconflict-no-exports/_expected/iife.js
@@ -3,4 +3,4 @@
 
 	console.log('no exports');
 
-}());
+})();
diff --git a/test/form/samples/umd-noconflict-no-exports/_expected/system.js b/test/form/samples/umd-noconflict-no-exports/_expected/system.js
index 04195b57c..5f9b5691d 100644
--- a/test/form/samples/umd-noconflict-no-exports/_expected/system.js
+++ b/test/form/samples/umd-noconflict-no-exports/_expected/system.js
@@ -1,10 +1,10 @@
-System.register('FooBar', [], function () {
+System.register('FooBar', [], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			console.log('no exports');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/umd-noconflict-no-exports/_expected/umd.js b/test/form/samples/umd-noconflict-no-exports/_expected/umd.js
index d088870ab..ca71c706e 100644
--- a/test/form/samples/umd-noconflict-no-exports/_expected/umd.js
+++ b/test/form/samples/umd-noconflict-no-exports/_expected/umd.js
@@ -6,9 +6,9 @@
 		var exports = global.FooBar = {};
 		factory(exports);
 		exports.noConflict = function () { global.FooBar = current; return exports; };
-	}()));
-}(this, (function (exports) { 'use strict';
+	})());
+})(this, (function (exports) { 'use strict';
 
 	console.log('no exports');
 
-})));
+}));
diff --git a/test/form/samples/umd-noconflict/_expected/amd.js b/test/form/samples/umd-noconflict/_expected/amd.js
index f2fd756cb..092454a1e 100644
--- a/test/form/samples/umd-noconflict/_expected/amd.js
+++ b/test/form/samples/umd-noconflict/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	function doThings() {
 		console.log( 'doing things...' );
@@ -14,4 +14,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/umd-noconflict/_expected/iife.js b/test/form/samples/umd-noconflict/_expected/iife.js
index 086122085..82360ea4b 100644
--- a/test/form/samples/umd-noconflict/_expected/iife.js
+++ b/test/form/samples/umd-noconflict/_expected/iife.js
@@ -17,4 +17,4 @@ var FooBar = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/umd-noconflict/_expected/system.js b/test/form/samples/umd-noconflict/_expected/system.js
index 50b3617c1..fe648a9d3 100644
--- a/test/form/samples/umd-noconflict/_expected/system.js
+++ b/test/form/samples/umd-noconflict/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('FooBar', [], function (exports) {
+System.register('FooBar', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			exports('doThings', doThings);
 
@@ -13,6 +13,6 @@ System.register('FooBar', [], function (exports) {
 
 			var setting = exports('setting', 'no');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/umd-noconflict/_expected/umd.js b/test/form/samples/umd-noconflict/_expected/umd.js
index fe606d730..b7324ca82 100644
--- a/test/form/samples/umd-noconflict/_expected/umd.js
+++ b/test/form/samples/umd-noconflict/_expected/umd.js
@@ -6,8 +6,8 @@
 		var exports = global.FooBar = {};
 		factory(exports);
 		exports.noConflict = function () { global.FooBar = current; return exports; };
-	}()));
-}(this, (function (exports) { 'use strict';
+	})());
+})(this, (function (exports) { 'use strict';
 
 	function doThings() {
 		console.log( 'doing things...' );
@@ -23,4 +23,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/unused-called-import/_expected/amd.js b/test/form/samples/unused-called-import/_expected/amd.js
index b9ef0a705..41a24f9bf 100644
--- a/test/form/samples/unused-called-import/_expected/amd.js
+++ b/test/form/samples/unused-called-import/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo() { return 'foo'; }
 
 	assert.equal( foo(), 'foo' );
 
-});
+}));
diff --git a/test/form/samples/unused-called-import/_expected/iife.js b/test/form/samples/unused-called-import/_expected/iife.js
index 645453ade..b1b36c314 100644
--- a/test/form/samples/unused-called-import/_expected/iife.js
+++ b/test/form/samples/unused-called-import/_expected/iife.js
@@ -5,4 +5,4 @@
 
 	assert.equal( foo(), 'foo' );
 
-}());
+})();
diff --git a/test/form/samples/unused-called-import/_expected/system.js b/test/form/samples/unused-called-import/_expected/system.js
index 6efccc5fd..b775f5fc1 100644
--- a/test/form/samples/unused-called-import/_expected/system.js
+++ b/test/form/samples/unused-called-import/_expected/system.js
@@ -1,12 +1,12 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo() { return 'foo'; }
 
 			assert.equal( foo(), 'foo' );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/unused-called-import/_expected/umd.js b/test/form/samples/unused-called-import/_expected/umd.js
index a80a818e2..494675745 100644
--- a/test/form/samples/unused-called-import/_expected/umd.js
+++ b/test/form/samples/unused-called-import/_expected/umd.js
@@ -1,10 +1,10 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo() { return 'foo'; }
 
 	assert.equal( foo(), 'foo' );
 
-})));
+}));
diff --git a/test/form/samples/unused-called-with-side-effects/_expected/amd.js b/test/form/samples/unused-called-with-side-effects/_expected/amd.js
index 8be9631bd..27a46c2b3 100644
--- a/test/form/samples/unused-called-with-side-effects/_expected/amd.js
+++ b/test/form/samples/unused-called-with-side-effects/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
   function foo() {
     return 'foo'
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
   assert.equal( foo(), 'foo' );
 
-});
+}));
diff --git a/test/form/samples/unused-called-with-side-effects/_expected/iife.js b/test/form/samples/unused-called-with-side-effects/_expected/iife.js
index ccdb51377..486507072 100644
--- a/test/form/samples/unused-called-with-side-effects/_expected/iife.js
+++ b/test/form/samples/unused-called-with-side-effects/_expected/iife.js
@@ -7,4 +7,4 @@
 
   assert.equal( foo(), 'foo' );
 
-}());
+})();
diff --git a/test/form/samples/unused-called-with-side-effects/_expected/system.js b/test/form/samples/unused-called-with-side-effects/_expected/system.js
index 39ac06ae5..1819b4115 100644
--- a/test/form/samples/unused-called-with-side-effects/_expected/system.js
+++ b/test/form/samples/unused-called-with-side-effects/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
   'use strict';
   return {
-    execute: function () {
+    execute: (function () {
 
       function foo() {
         return 'foo'
@@ -9,6 +9,6 @@ System.register([], function () {
 
       assert.equal( foo(), 'foo' );
 
-    }
+    })
   };
-});
+}));
diff --git a/test/form/samples/unused-called-with-side-effects/_expected/umd.js b/test/form/samples/unused-called-with-side-effects/_expected/umd.js
index 56efa8270..05cd01a51 100644
--- a/test/form/samples/unused-called-with-side-effects/_expected/umd.js
+++ b/test/form/samples/unused-called-with-side-effects/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
   typeof define === 'function' && define.amd ? define(factory) :
   factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
   function foo() {
     return 'foo'
@@ -9,4 +9,4 @@
 
   assert.equal( foo(), 'foo' );
 
-})));
+}));
diff --git a/test/form/samples/unused-default-exports/_expected/amd.js b/test/form/samples/unused-default-exports/_expected/amd.js
index 78573431c..c9e995f30 100644
--- a/test/form/samples/unused-default-exports/_expected/amd.js
+++ b/test/form/samples/unused-default-exports/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var foo = { value: 1 };
 
@@ -11,4 +11,4 @@ define(function () { 'use strict';
 
 	assert.equal( foo.value, 2 );
 
-});
+}));
diff --git a/test/form/samples/unused-default-exports/_expected/iife.js b/test/form/samples/unused-default-exports/_expected/iife.js
index 2c6a51572..ed5ba8f8a 100644
--- a/test/form/samples/unused-default-exports/_expected/iife.js
+++ b/test/form/samples/unused-default-exports/_expected/iife.js
@@ -12,4 +12,4 @@
 
 	assert.equal( foo.value, 2 );
 
-}());
+})();
diff --git a/test/form/samples/unused-default-exports/_expected/system.js b/test/form/samples/unused-default-exports/_expected/system.js
index b739002d7..4c9981aab 100644
--- a/test/form/samples/unused-default-exports/_expected/system.js
+++ b/test/form/samples/unused-default-exports/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = { value: 1 };
 
@@ -14,6 +14,6 @@ System.register([], function () {
 
 			assert.equal( foo.value, 2 );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/unused-default-exports/_expected/umd.js b/test/form/samples/unused-default-exports/_expected/umd.js
index 708608f92..0aec0d70b 100644
--- a/test/form/samples/unused-default-exports/_expected/umd.js
+++ b/test/form/samples/unused-default-exports/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var foo = { value: 1 };
 
@@ -14,4 +14,4 @@
 
 	assert.equal( foo.value, 2 );
 
-})));
+}));
diff --git a/test/form/samples/unused-function-and-class-expressions/_expected/amd.js b/test/form/samples/unused-function-and-class-expressions/_expected/amd.js
index da2ca3527..db5784b8c 100644
--- a/test/form/samples/unused-function-and-class-expressions/_expected/amd.js
+++ b/test/form/samples/unused-function-and-class-expressions/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function foo() {
 		console.log("foo");
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
 	foo();
 
-});
+}));
diff --git a/test/form/samples/unused-function-and-class-expressions/_expected/iife.js b/test/form/samples/unused-function-and-class-expressions/_expected/iife.js
index b1ac97f22..9a66fb969 100644
--- a/test/form/samples/unused-function-and-class-expressions/_expected/iife.js
+++ b/test/form/samples/unused-function-and-class-expressions/_expected/iife.js
@@ -7,4 +7,4 @@
 
 	foo();
 
-}());
+})();
diff --git a/test/form/samples/unused-function-and-class-expressions/_expected/system.js b/test/form/samples/unused-function-and-class-expressions/_expected/system.js
index 0151e8d9b..ccf8bd29b 100644
--- a/test/form/samples/unused-function-and-class-expressions/_expected/system.js
+++ b/test/form/samples/unused-function-and-class-expressions/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function foo() {
 				console.log("foo");
@@ -9,6 +9,6 @@ System.register([], function () {
 
 			foo();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/unused-function-and-class-expressions/_expected/umd.js b/test/form/samples/unused-function-and-class-expressions/_expected/umd.js
index 640549e9a..5e612caf8 100644
--- a/test/form/samples/unused-function-and-class-expressions/_expected/umd.js
+++ b/test/form/samples/unused-function-and-class-expressions/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function foo() {
 		console.log("foo");
@@ -9,4 +9,4 @@
 
 	foo();
 
-})));
+}));
diff --git a/test/form/samples/unused-import/_expected/amd.js b/test/form/samples/unused-import/_expected/amd.js
index cf0fc03cc..23be7b2b6 100644
--- a/test/form/samples/unused-import/_expected/amd.js
+++ b/test/form/samples/unused-import/_expected/amd.js
@@ -1,5 +1,5 @@
-define(['external'], function (external) { 'use strict';
+define(['external'], (function (external) { 'use strict';
 
 
 
-});
+}));
diff --git a/test/form/samples/unused-import/_expected/iife.js b/test/form/samples/unused-import/_expected/iife.js
index 43ef54268..31dfeb95e 100644
--- a/test/form/samples/unused-import/_expected/iife.js
+++ b/test/form/samples/unused-import/_expected/iife.js
@@ -3,4 +3,4 @@
 
 
 
-}());
+})();
diff --git a/test/form/samples/unused-import/_expected/system.js b/test/form/samples/unused-import/_expected/system.js
index bddf5f142..f950dd1bb 100644
--- a/test/form/samples/unused-import/_expected/system.js
+++ b/test/form/samples/unused-import/_expected/system.js
@@ -1,11 +1,11 @@
-System.register(['external'], function () {
+System.register(['external'], (function () {
 	'use strict';
 	return {
 		setters: [null],
-		execute: function () {
+		execute: (function () {
 
 
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/unused-import/_expected/umd.js b/test/form/samples/unused-import/_expected/umd.js
index e4f8be894..60f03df0b 100644
--- a/test/form/samples/unused-import/_expected/umd.js
+++ b/test/form/samples/unused-import/_expected/umd.js
@@ -1,8 +1,8 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(['external'], factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 
 
-})));
+}));
diff --git a/test/form/samples/unused-inner-functions-and-classes/_expected/amd.js b/test/form/samples/unused-inner-functions-and-classes/_expected/amd.js
index e1eb59196..fff302d58 100644
--- a/test/form/samples/unused-inner-functions-and-classes/_expected/amd.js
+++ b/test/form/samples/unused-inner-functions-and-classes/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
     function bar () { console.log("outer bar"); }
 
@@ -20,4 +20,4 @@ define(function () { 'use strict';
 
     console.log( getClass().name );
 
-});
+}));
diff --git a/test/form/samples/unused-inner-functions-and-classes/_expected/iife.js b/test/form/samples/unused-inner-functions-and-classes/_expected/iife.js
index 7759377c1..352c9805f 100644
--- a/test/form/samples/unused-inner-functions-and-classes/_expected/iife.js
+++ b/test/form/samples/unused-inner-functions-and-classes/_expected/iife.js
@@ -21,4 +21,4 @@
 
     console.log( getClass().name );
 
-}());
+})();
diff --git a/test/form/samples/unused-inner-functions-and-classes/_expected/system.js b/test/form/samples/unused-inner-functions-and-classes/_expected/system.js
index 012aeb760..2a597a5cc 100644
--- a/test/form/samples/unused-inner-functions-and-classes/_expected/system.js
+++ b/test/form/samples/unused-inner-functions-and-classes/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
     'use strict';
     return {
-        execute: function () {
+        execute: (function () {
 
             function bar () { console.log("outer bar"); }
 
@@ -23,6 +23,6 @@ System.register([], function () {
 
             console.log( getClass().name );
 
-        }
+        })
     };
-});
+}));
diff --git a/test/form/samples/unused-inner-functions-and-classes/_expected/umd.js b/test/form/samples/unused-inner-functions-and-classes/_expected/umd.js
index 512ea191f..a2cec2a16 100644
--- a/test/form/samples/unused-inner-functions-and-classes/_expected/umd.js
+++ b/test/form/samples/unused-inner-functions-and-classes/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
     typeof define === 'function' && define.amd ? define(factory) :
     factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
     function bar () { console.log("outer bar"); }
 
@@ -23,4 +23,4 @@
 
     console.log( getClass().name );
 
-})));
+}));
diff --git a/test/form/samples/unused-var/_expected/amd.js b/test/form/samples/unused-var/_expected/amd.js
index 29e6e6924..bf7a35d92 100644
--- a/test/form/samples/unused-var/_expected/amd.js
+++ b/test/form/samples/unused-var/_expected/amd.js
@@ -1,7 +1,7 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	var foo = 'lol';
 
 	console.log( foo );
 
-});
+}));
diff --git a/test/form/samples/unused-var/_expected/iife.js b/test/form/samples/unused-var/_expected/iife.js
index e50863df5..3d80d3599 100644
--- a/test/form/samples/unused-var/_expected/iife.js
+++ b/test/form/samples/unused-var/_expected/iife.js
@@ -5,4 +5,4 @@
 
 	console.log( foo );
 
-}());
+})();
diff --git a/test/form/samples/unused-var/_expected/system.js b/test/form/samples/unused-var/_expected/system.js
index 29f4d12cf..c5ac67e8c 100644
--- a/test/form/samples/unused-var/_expected/system.js
+++ b/test/form/samples/unused-var/_expected/system.js
@@ -1,12 +1,12 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			var foo = 'lol';
 
 			console.log( foo );
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/unused-var/_expected/umd.js b/test/form/samples/unused-var/_expected/umd.js
index 775b46ba2..3727ca263 100644
--- a/test/form/samples/unused-var/_expected/umd.js
+++ b/test/form/samples/unused-var/_expected/umd.js
@@ -1,10 +1,10 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	var foo = 'lol';
 
 	console.log( foo );
 
-})));
+}));
diff --git a/test/form/samples/update-expression-side-effects/_expected/amd.js b/test/form/samples/update-expression-side-effects/_expected/amd.js
index 5b0fca61a..f87acf1a3 100644
--- a/test/form/samples/update-expression-side-effects/_expected/amd.js
+++ b/test/form/samples/update-expression-side-effects/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const effectY = () => {
 		console.log('effect');
@@ -12,4 +12,4 @@ define(function () { 'use strict';
 	foo++;
 	foo.bar.baz = 1;
 
-});
+}));
diff --git a/test/form/samples/update-expression-side-effects/_expected/iife.js b/test/form/samples/update-expression-side-effects/_expected/iife.js
index 4811226e4..c3aa12cc8 100644
--- a/test/form/samples/update-expression-side-effects/_expected/iife.js
+++ b/test/form/samples/update-expression-side-effects/_expected/iife.js
@@ -13,4 +13,4 @@
 	foo++;
 	foo.bar.baz = 1;
 
-}());
+})();
diff --git a/test/form/samples/update-expression-side-effects/_expected/system.js b/test/form/samples/update-expression-side-effects/_expected/system.js
index b21da97ab..e25b6d84d 100644
--- a/test/form/samples/update-expression-side-effects/_expected/system.js
+++ b/test/form/samples/update-expression-side-effects/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const effectY = () => {
 				console.log('effect');
@@ -15,6 +15,6 @@ System.register([], function () {
 			foo++;
 			foo.bar.baz = 1;
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/update-expression-side-effects/_expected/umd.js b/test/form/samples/update-expression-side-effects/_expected/umd.js
index 5eee7ba28..aee4c06d7 100644
--- a/test/form/samples/update-expression-side-effects/_expected/umd.js
+++ b/test/form/samples/update-expression-side-effects/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	const effectY = () => {
 		console.log('effect');
@@ -15,4 +15,4 @@
 	foo++;
 	foo.bar.baz = 1;
 
-})));
+}));
diff --git a/test/form/samples/updating-assignments/_expected/amd.js b/test/form/samples/updating-assignments/_expected/amd.js
index addd8e09c..0d08c9de5 100644
--- a/test/form/samples/updating-assignments/_expected/amd.js
+++ b/test/form/samples/updating-assignments/_expected/amd.js
@@ -1,4 +1,4 @@
-define(['exports'], function (exports) { 'use strict';
+define(['exports'], (function (exports) { 'use strict';
 
 	exports.x = 1;
 	exports.x = 2;
@@ -17,4 +17,4 @@ define(['exports'], function (exports) { 'use strict';
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-});
+}));
diff --git a/test/form/samples/updating-assignments/_expected/iife.js b/test/form/samples/updating-assignments/_expected/iife.js
index c4ad3ef4f..f4243a165 100644
--- a/test/form/samples/updating-assignments/_expected/iife.js
+++ b/test/form/samples/updating-assignments/_expected/iife.js
@@ -20,4 +20,4 @@ var bundle = (function (exports) {
 
 	return exports;
 
-}({}));
+})({});
diff --git a/test/form/samples/updating-assignments/_expected/system.js b/test/form/samples/updating-assignments/_expected/system.js
index f67d255b2..2c57f28d5 100644
--- a/test/form/samples/updating-assignments/_expected/system.js
+++ b/test/form/samples/updating-assignments/_expected/system.js
@@ -1,7 +1,7 @@
-System.register('bundle', [], function (exports) {
+System.register('bundle', [], (function (exports) {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			let x = exports('x', 1);
 			exports('x', x = 2);
@@ -18,6 +18,6 @@ System.register('bundle', [], function (exports) {
 			exports('x', x ^= 2);
 			exports('x', x |= 2);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/updating-assignments/_expected/umd.js b/test/form/samples/updating-assignments/_expected/umd.js
index 84f363540..eb0dee7fe 100644
--- a/test/form/samples/updating-assignments/_expected/umd.js
+++ b/test/form/samples/updating-assignments/_expected/umd.js
@@ -2,7 +2,7 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
 	typeof define === 'function' && define.amd ? define(['exports'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.bundle = {}));
-}(this, (function (exports) { 'use strict';
+})(this, (function (exports) { 'use strict';
 
 	exports.x = 1;
 	exports.x = 2;
@@ -21,4 +21,4 @@
 
 	Object.defineProperty(exports, '__esModule', { value: true });
 
-})));
+}));
diff --git a/test/form/samples/url-external/_expected/amd.js b/test/form/samples/url-external/_expected/amd.js
index 761c7fcb2..c09ddfba4 100644
--- a/test/form/samples/url-external/_expected/amd.js
+++ b/test/form/samples/url-external/_expected/amd.js
@@ -1,9 +1,9 @@
-define(['https://external.com/external.js'], function (external) { 'use strict';
+define(['https://external.com/external.js'], (function (external) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var external__default = /*#__PURE__*/_interopDefaultLegacy(external);
 
-	console.log(external__default['default']);
+	console.log(external__default["default"]);
 
-});
+}));
diff --git a/test/form/samples/url-external/_expected/cjs.js b/test/form/samples/url-external/_expected/cjs.js
index 68eb1525b..6a3df4612 100644
--- a/test/form/samples/url-external/_expected/cjs.js
+++ b/test/form/samples/url-external/_expected/cjs.js
@@ -6,4 +6,4 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var external__default = /*#__PURE__*/_interopDefaultLegacy(external);
 
-console.log(external__default['default']);
+console.log(external__default["default"]);
diff --git a/test/form/samples/url-external/_expected/iife.js b/test/form/samples/url-external/_expected/iife.js
index db1e304cd..59219bda9 100644
--- a/test/form/samples/url-external/_expected/iife.js
+++ b/test/form/samples/url-external/_expected/iife.js
@@ -5,6 +5,6 @@
 
 	var external__default = /*#__PURE__*/_interopDefaultLegacy(external);
 
-	console.log(external__default['default']);
+	console.log(external__default["default"]);
 
-}(external));
+})(external);
diff --git a/test/form/samples/url-external/_expected/system.js b/test/form/samples/url-external/_expected/system.js
index 43a69cb5d..8e0d55f64 100644
--- a/test/form/samples/url-external/_expected/system.js
+++ b/test/form/samples/url-external/_expected/system.js
@@ -1,14 +1,14 @@
-System.register(['https://external.com/external.js'], function () {
+System.register(['https://external.com/external.js'], (function () {
 	'use strict';
 	var external;
 	return {
 		setters: [function (module) {
-			external = module.default;
+			external = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			console.log(external);
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/url-external/_expected/umd.js b/test/form/samples/url-external/_expected/umd.js
index 933e5f0fd..5db02f3b3 100644
--- a/test/form/samples/url-external/_expected/umd.js
+++ b/test/form/samples/url-external/_expected/umd.js
@@ -2,12 +2,12 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('https://external.com/external.js')) :
 	typeof define === 'function' && define.amd ? define(['https://external.com/external.js'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.external));
-}(this, (function (external) { 'use strict';
+})(this, (function (external) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var external__default = /*#__PURE__*/_interopDefaultLegacy(external);
 
-	console.log(external__default['default']);
+	console.log(external__default["default"]);
 
-})));
+}));
diff --git a/test/form/samples/use-global-map-for-export-name/_expected/amd.js b/test/form/samples/use-global-map-for-export-name/_expected/amd.js
index 49366bee2..f322b77f1 100644
--- a/test/form/samples/use-global-map-for-export-name/_expected/amd.js
+++ b/test/form/samples/use-global-map-for-export-name/_expected/amd.js
@@ -1,10 +1,10 @@
-define(['leaflet'], function (L) { 'use strict';
+define(['leaflet'], (function (L) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var L__default = /*#__PURE__*/_interopDefaultLegacy(L);
 
-	L__default['default'].terminator = function(options) {
+	L__default["default"].terminator = function(options) {
 	};
 
-});
+}));
diff --git a/test/form/samples/use-global-map-for-export-name/_expected/cjs.js b/test/form/samples/use-global-map-for-export-name/_expected/cjs.js
index d09a88ea6..e69eb117b 100644
--- a/test/form/samples/use-global-map-for-export-name/_expected/cjs.js
+++ b/test/form/samples/use-global-map-for-export-name/_expected/cjs.js
@@ -6,5 +6,5 @@ function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'defau
 
 var L__default = /*#__PURE__*/_interopDefaultLegacy(L);
 
-L__default['default'].terminator = function(options) {
+L__default["default"].terminator = function(options) {
 };
diff --git a/test/form/samples/use-global-map-for-export-name/_expected/iife.js b/test/form/samples/use-global-map-for-export-name/_expected/iife.js
index f53c12bd8..f781f641f 100644
--- a/test/form/samples/use-global-map-for-export-name/_expected/iife.js
+++ b/test/form/samples/use-global-map-for-export-name/_expected/iife.js
@@ -5,7 +5,7 @@
 
 	var L__default = /*#__PURE__*/_interopDefaultLegacy(L);
 
-	L__default['default'].terminator = function(options) {
+	L__default["default"].terminator = function(options) {
 	};
 
-}(L));
+})(L);
diff --git a/test/form/samples/use-global-map-for-export-name/_expected/system.js b/test/form/samples/use-global-map-for-export-name/_expected/system.js
index 213c132f8..9ecc11378 100644
--- a/test/form/samples/use-global-map-for-export-name/_expected/system.js
+++ b/test/form/samples/use-global-map-for-export-name/_expected/system.js
@@ -1,15 +1,15 @@
-System.register('leaflet.terminator', ['leaflet'], function () {
+System.register('leaflet.terminator', ['leaflet'], (function () {
 	'use strict';
 	var L;
 	return {
 		setters: [function (module) {
-			L = module.default;
+			L = module["default"];
 		}],
-		execute: function () {
+		execute: (function () {
 
 			L.terminator = function(options) {
 			};
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/use-global-map-for-export-name/_expected/umd.js b/test/form/samples/use-global-map-for-export-name/_expected/umd.js
index 6397f0d33..5b7e5380a 100644
--- a/test/form/samples/use-global-map-for-export-name/_expected/umd.js
+++ b/test/form/samples/use-global-map-for-export-name/_expected/umd.js
@@ -2,13 +2,13 @@
 	typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('leaflet')) :
 	typeof define === 'function' && define.amd ? define(['leaflet'], factory) :
 	(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.L));
-}(this, (function (L) { 'use strict';
+})(this, (function (L) { 'use strict';
 
 	function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
 
 	var L__default = /*#__PURE__*/_interopDefaultLegacy(L);
 
-	L__default['default'].terminator = function(options) {
+	L__default["default"].terminator = function(options) {
 	};
 
-})));
+}));
diff --git a/test/form/samples/whitespace-around-namespace-member-expression/_expected/amd.js b/test/form/samples/whitespace-around-namespace-member-expression/_expected/amd.js
index 144665ac4..31a6ecf26 100644
--- a/test/form/samples/whitespace-around-namespace-member-expression/_expected/amd.js
+++ b/test/form/samples/whitespace-around-namespace-member-expression/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	function yar() {
 		console.log('yar?');
@@ -6,4 +6,4 @@ define(function () { 'use strict';
 
 	yar();
 
-});
+}));
diff --git a/test/form/samples/whitespace-around-namespace-member-expression/_expected/iife.js b/test/form/samples/whitespace-around-namespace-member-expression/_expected/iife.js
index d776c9d75..7d2d33d4f 100644
--- a/test/form/samples/whitespace-around-namespace-member-expression/_expected/iife.js
+++ b/test/form/samples/whitespace-around-namespace-member-expression/_expected/iife.js
@@ -7,4 +7,4 @@
 
 	yar();
 
-}());
+})();
diff --git a/test/form/samples/whitespace-around-namespace-member-expression/_expected/system.js b/test/form/samples/whitespace-around-namespace-member-expression/_expected/system.js
index 5f952ef25..2f949c39f 100644
--- a/test/form/samples/whitespace-around-namespace-member-expression/_expected/system.js
+++ b/test/form/samples/whitespace-around-namespace-member-expression/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			function yar() {
 				console.log('yar?');
@@ -9,6 +9,6 @@ System.register([], function () {
 
 			yar();
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/whitespace-around-namespace-member-expression/_expected/umd.js b/test/form/samples/whitespace-around-namespace-member-expression/_expected/umd.js
index 6e2c969da..5970dd96a 100644
--- a/test/form/samples/whitespace-around-namespace-member-expression/_expected/umd.js
+++ b/test/form/samples/whitespace-around-namespace-member-expression/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	function yar() {
 		console.log('yar?');
@@ -9,4 +9,4 @@
 
 	yar();
 
-})));
+}));
diff --git a/test/form/samples/wrap-simplified-expressions/_expected/amd.js b/test/form/samples/wrap-simplified-expressions/_expected/amd.js
index 435a2bc2a..4ab9f4486 100644
--- a/test/form/samples/wrap-simplified-expressions/_expected/amd.js
+++ b/test/form/samples/wrap-simplified-expressions/_expected/amd.js
@@ -1,4 +1,4 @@
-define(function () { 'use strict';
+define((function () { 'use strict';
 
 	const wrapper = {
 		foo() {
@@ -26,4 +26,4 @@ define(function () { 'use strict';
 
 	testEval.call('test');
 
-});
+}));
diff --git a/test/form/samples/wrap-simplified-expressions/_expected/iife.js b/test/form/samples/wrap-simplified-expressions/_expected/iife.js
index 15613c424..6475bf46d 100644
--- a/test/form/samples/wrap-simplified-expressions/_expected/iife.js
+++ b/test/form/samples/wrap-simplified-expressions/_expected/iife.js
@@ -27,4 +27,4 @@
 
 	testEval.call('test');
 
-}());
+})();
diff --git a/test/form/samples/wrap-simplified-expressions/_expected/system.js b/test/form/samples/wrap-simplified-expressions/_expected/system.js
index 5098c1745..e202ad775 100644
--- a/test/form/samples/wrap-simplified-expressions/_expected/system.js
+++ b/test/form/samples/wrap-simplified-expressions/_expected/system.js
@@ -1,7 +1,7 @@
-System.register([], function () {
+System.register([], (function () {
 	'use strict';
 	return {
-		execute: function () {
+		execute: (function () {
 
 			const wrapper = {
 				foo() {
@@ -29,6 +29,6 @@ System.register([], function () {
 
 			testEval.call('test');
 
-		}
+		})
 	};
-});
+}));
diff --git a/test/form/samples/wrap-simplified-expressions/_expected/umd.js b/test/form/samples/wrap-simplified-expressions/_expected/umd.js
index 62e10c512..d8e2f1c3d 100644
--- a/test/form/samples/wrap-simplified-expressions/_expected/umd.js
+++ b/test/form/samples/wrap-simplified-expressions/_expected/umd.js
@@ -1,7 +1,7 @@
 (function (factory) {
 	typeof define === 'function' && define.amd ? define(factory) :
 	factory();
-}((function () { 'use strict';
+})((function () { 'use strict';
 
 	const wrapper = {
 		foo() {
@@ -29,4 +29,4 @@
 
 	testEval.call('test');
 
-})));
+}));
diff --git a/test/function/samples/amd-auto-id-id/_config.js b/test/function/samples/amd-auto-id-id/_config.js
index 0041b5d33..918c6f2a7 100644
--- a/test/function/samples/amd-auto-id-id/_config.js
+++ b/test/function/samples/amd-auto-id-id/_config.js
@@ -6,6 +6,7 @@ module.exports = {
 	generateError: {
 		code: 'INVALID_OPTION',
 		message:
-			'"output.amd.autoId"/"output.amd.basePath" and "output.amd.id" cannot be used together.'
+			'Invalid value for option "output.amd.id" - this option cannot be used together with "output.amd.autoId"/"output.amd.basePath".',
+		url: 'https://rollupjs.org/guide/en/#outputamd'
 	}
 };
diff --git a/test/function/samples/amd-base-path-id/_config.js b/test/function/samples/amd-base-path-id/_config.js
index 5e1175089..5a27f2123 100644
--- a/test/function/samples/amd-base-path-id/_config.js
+++ b/test/function/samples/amd-base-path-id/_config.js
@@ -6,6 +6,7 @@ module.exports = {
 	generateError: {
 		code: 'INVALID_OPTION',
 		message:
-			'"output.amd.autoId"/"output.amd.basePath" and "output.amd.id" cannot be used together.'
+			'Invalid value for option "output.amd.id" - this option cannot be used together with "output.amd.autoId"/"output.amd.basePath".',
+		url: 'https://rollupjs.org/guide/en/#outputamd'
 	}
 };
diff --git a/test/function/samples/amd-base-path/_config.js b/test/function/samples/amd-base-path/_config.js
index 9ebfc670a..73fa94fe5 100644
--- a/test/function/samples/amd-base-path/_config.js
+++ b/test/function/samples/amd-base-path/_config.js
@@ -5,6 +5,8 @@ module.exports = {
 	},
 	generateError: {
 		code: 'INVALID_OPTION',
-		message: '"output.amd.basePath" only works with "output.amd.autoId".'
+		message:
+			'Invalid value for option "output.amd.basePath" - this option only works with "output.amd.autoId".',
+		url: 'https://rollupjs.org/guide/en/#outputamd'
 	}
 };
diff --git a/test/function/samples/deprecated/dynamic-import-name-warn/_config.js b/test/function/samples/deprecated/dynamic-import-name-warn/_config.js
index 7a8e97c0f..c9b5c1ad7 100644
--- a/test/function/samples/deprecated/dynamic-import-name-warn/_config.js
+++ b/test/function/samples/deprecated/dynamic-import-name-warn/_config.js
@@ -29,7 +29,9 @@ module.exports = {
 	warnings: [
 		{
 			code: 'INVALID_OPTION',
-			message: '"output.dynamicImportFunction" is ignored for formats other than "es".'
+			message:
+				'Invalid value for option "output.dynamicImportFunction" - this option is ignored for formats other than "es".',
+			url: 'https://rollupjs.org/guide/en/#outputdynamicImportFunction'
 		}
 	]
 };
diff --git a/test/function/samples/deprecated/inline-imports-with-manual/_config.js b/test/function/samples/deprecated/inline-imports-with-manual/_config.js
index 803c6f315..907a12634 100644
--- a/test/function/samples/deprecated/inline-imports-with-manual/_config.js
+++ b/test/function/samples/deprecated/inline-imports-with-manual/_config.js
@@ -10,6 +10,8 @@ module.exports = {
 	},
 	generateError: {
 		code: 'INVALID_OPTION',
-		message: 'The "output.manualChunks" option is not supported for "output.inlineDynamicImports".'
+		message:
+			'Invalid value for option "output.manualChunks" - this option is not supported for "output.inlineDynamicImports".',
+		url: 'https://rollupjs.org/guide/en/#outputmanualchunks'
 	}
 };
diff --git a/test/function/samples/deprecated/inline-imports-with-multiple-array/_config.js b/test/function/samples/deprecated/inline-imports-with-multiple-array/_config.js
index dd87192aa..dff057acf 100644
--- a/test/function/samples/deprecated/inline-imports-with-multiple-array/_config.js
+++ b/test/function/samples/deprecated/inline-imports-with-multiple-array/_config.js
@@ -7,6 +7,8 @@ module.exports = {
 	},
 	generateError: {
 		code: 'INVALID_OPTION',
-		message: 'Multiple inputs are not supported for "output.inlineDynamicImports".'
+		message:
+			'Invalid value for option "output.inlineDynamicImports" - multiple inputs are not supported when "output.inlineDynamicImports" is true.',
+		url: 'https://rollupjs.org/guide/en/#outputinlinedynamicimports'
 	}
 };
diff --git a/test/function/samples/deprecated/inline-imports-with-multiple-object/_config.js b/test/function/samples/deprecated/inline-imports-with-multiple-object/_config.js
index 58bd7b00a..ca38de586 100644
--- a/test/function/samples/deprecated/inline-imports-with-multiple-object/_config.js
+++ b/test/function/samples/deprecated/inline-imports-with-multiple-object/_config.js
@@ -7,6 +7,8 @@ module.exports = {
 	},
 	generateError: {
 		code: 'INVALID_OPTION',
-		message: 'Multiple inputs are not supported for "output.inlineDynamicImports".'
+		message:
+			'Invalid value for option "output.inlineDynamicImports" - multiple inputs are not supported when "output.inlineDynamicImports" is true.',
+		url: 'https://rollupjs.org/guide/en/#outputinlinedynamicimports'
 	}
 };
diff --git a/test/function/samples/deprecated/manual-chunks-preserve-modules/_config.js b/test/function/samples/deprecated/manual-chunks-preserve-modules/_config.js
index b896cd2aa..adb29a8db 100644
--- a/test/function/samples/deprecated/manual-chunks-preserve-modules/_config.js
+++ b/test/function/samples/deprecated/manual-chunks-preserve-modules/_config.js
@@ -10,6 +10,8 @@ module.exports = {
 	},
 	generateError: {
 		code: 'INVALID_OPTION',
-		message: 'The "output.manualChunks" option is not supported for "output.preserveModules".'
+		message:
+			'Invalid value for option "output.manualChunks" - this option is not supported for "output.preserveModules".',
+		url: 'https://rollupjs.org/guide/en/#outputmanualchunks'
 	}
 };
diff --git a/test/function/samples/deprecated/preserveModules/inline-dynamic-imports/_config.js b/test/function/samples/deprecated/preserveModules/inline-dynamic-imports/_config.js
index af0f5fe59..da737296e 100644
--- a/test/function/samples/deprecated/preserveModules/inline-dynamic-imports/_config.js
+++ b/test/function/samples/deprecated/preserveModules/inline-dynamic-imports/_config.js
@@ -9,6 +9,7 @@ module.exports = {
 	generateError: {
 		code: 'INVALID_OPTION',
 		message:
-			'The "output.inlineDynamicImports" option is not supported for "output.preserveModules".'
+			'Invalid value for option "output.inlineDynamicImports" - this option is not supported for "output.preserveModules".',
+		url: 'https://rollupjs.org/guide/en/#outputinlinedynamicimports'
 	}
 };
diff --git a/test/function/samples/deprecated/preserveModules/invalid-no-preserve-entry-signatures/_config.js b/test/function/samples/deprecated/preserveModules/invalid-no-preserve-entry-signatures/_config.js
index dc378668c..f7fb4c764 100644
--- a/test/function/samples/deprecated/preserveModules/invalid-no-preserve-entry-signatures/_config.js
+++ b/test/function/samples/deprecated/preserveModules/invalid-no-preserve-entry-signatures/_config.js
@@ -9,6 +9,7 @@ module.exports = {
 	generateError: {
 		code: 'INVALID_OPTION',
 		message:
-			'Setting "preserveEntrySignatures" to "false" is not supported for "output.preserveModules".'
+			'Invalid value for option "preserveEntrySignatures" - setting this option to false is not supported for "output.preserveModules".',
+		url: 'https://rollupjs.org/guide/en/#preserveentrysignatures'
 	}
 };
diff --git a/test/function/samples/deprecated/preserveModules/manual-chunks/_config.js b/test/function/samples/deprecated/preserveModules/manual-chunks/_config.js
index 3bef57f77..0fa84c667 100644
--- a/test/function/samples/deprecated/preserveModules/manual-chunks/_config.js
+++ b/test/function/samples/deprecated/preserveModules/manual-chunks/_config.js
@@ -12,6 +12,8 @@ module.exports = {
 	},
 	generateError: {
 		code: 'INVALID_OPTION',
-		message: 'The "output.manualChunks" option is not supported for "output.preserveModules".'
+		message:
+			'Invalid value for option "output.manualChunks" - this option is not supported for "output.preserveModules".',
+		url: 'https://rollupjs.org/guide/en/#outputmanualchunks'
 	}
 };
diff --git a/test/function/samples/deprecations/prefer-const/_config.js b/test/function/samples/deprecations/prefer-const/_config.js
new file mode 100644
index 000000000..87ac976ef
--- /dev/null
+++ b/test/function/samples/deprecations/prefer-const/_config.js
@@ -0,0 +1,13 @@
+module.exports = {
+	description: 'marks the "output.preferConst" option as deprecated',
+	options: {
+		output: {
+			preferConst: true
+		}
+	},
+	generateError: {
+		code: 'DEPRECATED_FEATURE',
+		message:
+			'The "output.preferConst" option is deprecated. Use the "output.generatedCode.constBindings" option instead.'
+	}
+};
diff --git a/test/function/samples/deprecations/prefer-const/main.js b/test/function/samples/deprecations/prefer-const/main.js
new file mode 100644
index 000000000..7a4e8a723
--- /dev/null
+++ b/test/function/samples/deprecations/prefer-const/main.js
@@ -0,0 +1 @@
+export default 42;
diff --git a/test/function/samples/dynamic-import-this-arrow/_config.js b/test/function/samples/dynamic-import-this-arrow/_config.js
new file mode 100644
index 000000000..0135981db
--- /dev/null
+++ b/test/function/samples/dynamic-import-this-arrow/_config.js
@@ -0,0 +1,26 @@
+const assert = require('assert');
+
+module.exports = {
+	description: 'uses correct "this" in dynamic imports when using arrow functions',
+	context: {
+		require(id) {
+			switch (id) {
+				case 'input':
+					return { outputPath: 'output' };
+				case 'output':
+					return { foo: 42 };
+				default:
+					throw new Error(`Unexpected require "${id}"`);
+			}
+		}
+	},
+	exports({ promise }) {
+		return promise.then(({ foo }) => assert.strictEqual(foo, 42));
+	},
+	options: {
+		external: ['input', 'output'],
+		output: {
+			generatedCode: { arrowFunctions: true }
+		}
+	}
+};
diff --git a/test/function/samples/dynamic-import-this-arrow/main.js b/test/function/samples/dynamic-import-this-arrow/main.js
new file mode 100644
index 000000000..bfe419d7f
--- /dev/null
+++ b/test/function/samples/dynamic-import-this-arrow/main.js
@@ -0,0 +1,13 @@
+import { outputPath } from 'input';
+
+class Importer {
+	constructor() {
+		this.outputPath = outputPath;
+	}
+
+	getImport() {
+		return import(this.outputPath);
+	}
+}
+
+export const promise = new Importer().getImport();
diff --git a/test/function/samples/dynamic-import-this-function/_config.js b/test/function/samples/dynamic-import-this-function/_config.js
new file mode 100644
index 000000000..200aed658
--- /dev/null
+++ b/test/function/samples/dynamic-import-this-function/_config.js
@@ -0,0 +1,26 @@
+const assert = require('assert');
+
+module.exports = {
+	description: 'uses correct "this" in dynamic imports when not using arrow functions',
+	context: {
+		require(id) {
+			switch (id) {
+				case 'input':
+					return { outputPath: 'output' };
+				case 'output':
+					return { foo: 42 };
+				default:
+					throw new Error(`Unexpected require "${id}"`);
+			}
+		}
+	},
+	exports({ promise }) {
+		return promise.then(({ foo }) => assert.strictEqual(foo, 42));
+	},
+	options: {
+		external: ['input', 'output'],
+		output: {
+			generatedCode: { arrowFunctions: false }
+		}
+	}
+};
diff --git a/test/function/samples/dynamic-import-this-function/main.js b/test/function/samples/dynamic-import-this-function/main.js
new file mode 100644
index 000000000..bfe419d7f
--- /dev/null
+++ b/test/function/samples/dynamic-import-this-function/main.js
@@ -0,0 +1,13 @@
+import { outputPath } from 'input';
+
+class Importer {
+	constructor() {
+		this.outputPath = outputPath;
+	}
+
+	getImport() {
+		return import(this.outputPath);
+	}
+}
+
+export const promise = new Importer().getImport();
diff --git a/test/function/samples/es5-class-called-without-new/_config.js b/test/function/samples/es5-class-called-without-new/_config.js
index f053ebf79..8c25f2414 100644
--- a/test/function/samples/es5-class-called-without-new/_config.js
+++ b/test/function/samples/es5-class-called-without-new/_config.js
@@ -1 +1,3 @@
-module.exports = {};
+module.exports = {
+	description: 'does not swallow type errors when running constructor functions without "new"'
+};
diff --git a/test/function/samples/file-and-dir/_config.js b/test/function/samples/file-and-dir/_config.js
index 5a777946e..eb8584ef9 100644
--- a/test/function/samples/file-and-dir/_config.js
+++ b/test/function/samples/file-and-dir/_config.js
@@ -6,6 +6,7 @@ module.exports = {
 	generateError: {
 		code: 'INVALID_OPTION',
 		message:
-			'You must set either "output.file" for a single-file build or "output.dir" when generating multiple chunks.'
+			'Invalid value for option "output.dir" - you must set either "output.file" for a single-file build or "output.dir" when generating multiple chunks.',
+		url: 'https://rollupjs.org/guide/en/#outputdir'
 	}
 };
diff --git a/test/function/samples/iife-code-splitting/_config.js b/test/function/samples/iife-code-splitting/_config.js
index ae4602851..e727c6a68 100644
--- a/test/function/samples/iife-code-splitting/_config.js
+++ b/test/function/samples/iife-code-splitting/_config.js
@@ -5,6 +5,8 @@ module.exports = {
 	},
 	generateError: {
 		code: 'INVALID_OPTION',
-		message: 'UMD and IIFE output formats are not supported for code-splitting builds.'
+		message:
+			'Invalid value "iife" for option "output.format" - UMD and IIFE output formats are not supported for code-splitting builds.',
+		url: 'https://rollupjs.org/guide/en/#outputformat'
 	}
 };
diff --git a/test/function/samples/inline-imports-with-manual/_config.js b/test/function/samples/inline-imports-with-manual/_config.js
index e5e787708..65ba32caa 100644
--- a/test/function/samples/inline-imports-with-manual/_config.js
+++ b/test/function/samples/inline-imports-with-manual/_config.js
@@ -11,6 +11,8 @@ module.exports = {
 	},
 	generateError: {
 		code: 'INVALID_OPTION',
-		message: 'The "output.manualChunks" option is not supported for "output.inlineDynamicImports".'
+		message:
+			'Invalid value for option "output.manualChunks" - this option is not supported for "output.inlineDynamicImports".',
+		url: 'https://rollupjs.org/guide/en/#outputmanualchunks'
 	}
 };
diff --git a/test/function/samples/inline-imports-with-multiple-array/_config.js b/test/function/samples/inline-imports-with-multiple-array/_config.js
index a1be26d33..b5a6b3ab8 100644
--- a/test/function/samples/inline-imports-with-multiple-array/_config.js
+++ b/test/function/samples/inline-imports-with-multiple-array/_config.js
@@ -6,6 +6,8 @@ module.exports = {
 	},
 	generateError: {
 		code: 'INVALID_OPTION',
-		message: 'Multiple inputs are not supported for "output.inlineDynamicImports".'
+		message:
+			'Invalid value for option "output.inlineDynamicImports" - multiple inputs are not supported when "output.inlineDynamicImports" is true.',
+		url: 'https://rollupjs.org/guide/en/#outputinlinedynamicimports'
 	}
 };
diff --git a/test/function/samples/inline-imports-with-multiple-object/_config.js b/test/function/samples/inline-imports-with-multiple-object/_config.js
index 9a5b1fd1a..a9cc61e4e 100644
--- a/test/function/samples/inline-imports-with-multiple-object/_config.js
+++ b/test/function/samples/inline-imports-with-multiple-object/_config.js
@@ -6,6 +6,8 @@ module.exports = {
 	},
 	generateError: {
 		code: 'INVALID_OPTION',
-		message: 'Multiple inputs are not supported for "output.inlineDynamicImports".'
+		message:
+			'Invalid value for option "output.inlineDynamicImports" - multiple inputs are not supported when "output.inlineDynamicImports" is true.',
+		url: 'https://rollupjs.org/guide/en/#outputinlinedynamicimports'
 	}
 };
diff --git a/test/function/samples/internal-reexports-from-external/_config.js b/test/function/samples/internal-reexports-from-external/_config.js
index 83d235ccd..125d4c582 100644
--- a/test/function/samples/internal-reexports-from-external/_config.js
+++ b/test/function/samples/internal-reexports-from-external/_config.js
@@ -20,12 +20,11 @@ module.exports = {
 	},
 	exports(exports) {
 		assert.strictEqual(exports.fs.readFile, fs.readFile);
-		assert.deepStrictEqual(Object.keys(exports.fs), Object.keys(fs).concat(['default']));
-		assert.notStrictEqual(exports.fsOverride.readFile, fs.readFile);
+		assert.deepStrictEqual(Object.keys(exports.fs), Object.keys(fs));
 		assert.strictEqual(exports.fsOverride.readFile, 'override');
 		assert.strictEqual(exports.fsOverride.extra, 'extra');
 		assert.strictEqual(exports.fsOverride.synthetic, 'synthetic');
-		assert.strictEqual(exports.fsOverride.synthetic, 'synthetic');
+		assert.strictEqual(exports.fsOverride.readFileSync, fs.readFileSync);
 		assert.strictEqual(exports.fsOverride.dirname, path.dirname);
 	}
 };
diff --git a/test/function/samples/invalid-interop/_config.js b/test/function/samples/invalid-interop/_config.js
index d833dd1a6..37a858a3a 100644
--- a/test/function/samples/invalid-interop/_config.js
+++ b/test/function/samples/invalid-interop/_config.js
@@ -9,7 +9,7 @@ module.exports = {
 	generateError: {
 		code: 'INVALID_OPTION',
 		message:
-			'The value "true" is not supported for "output.interop". Use one of "auto", "esModule", "default", "defaultOnly", true, false instead.',
+			'Invalid value "true" for option "output.interop" - use one of "auto", "esModule", "default", "defaultOnly", true, false.',
 		url: 'https://rollupjs.org/guide/en/#outputinterop'
 	}
 };
diff --git a/test/function/samples/merged-namespace-live-bindings/_config.js b/test/function/samples/merged-namespace-live-bindings/_config.js
new file mode 100644
index 000000000..88fda1bf9
--- /dev/null
+++ b/test/function/samples/merged-namespace-live-bindings/_config.js
@@ -0,0 +1,22 @@
+module.exports = {
+	description: 'respects getters when accessing properties of an instance',
+	context: {
+		require(id) {
+			if (id === 'external') {
+				let external = 'original';
+				return {
+					get external() {
+						return external;
+					},
+					updateExternal() {
+						external = 'updated';
+					}
+				};
+			}
+			throw new Error(`Unexpected import "${id}".`);
+		}
+	},
+	options: {
+		external: ['external']
+	}
+};
diff --git a/test/function/samples/merged-namespace-live-bindings/internal.js b/test/function/samples/merged-namespace-live-bindings/internal.js
new file mode 100644
index 000000000..4417abc41
--- /dev/null
+++ b/test/function/samples/merged-namespace-live-bindings/internal.js
@@ -0,0 +1,3 @@
+export let internal = 'original';
+export const updateInternal = () => (internal = 'updated');
+export default 'ignored';
diff --git a/test/function/samples/merged-namespace-live-bindings/main.js b/test/function/samples/merged-namespace-live-bindings/main.js
new file mode 100644
index 000000000..bf26be464
--- /dev/null
+++ b/test/function/samples/merged-namespace-live-bindings/main.js
@@ -0,0 +1,12 @@
+import * as ns from './reexport';
+
+const checkNamespace = ns => {
+	assert.strictEqual(ns.internal, 'original', 'internal');
+	ns.updateInternal();
+	assert.strictEqual(ns.internal, 'updated', 'internal');
+	assert.strictEqual(ns.external, 'original', 'external');
+	ns.updateExternal();
+	assert.strictEqual(ns.external, 'updated', 'external');
+};
+
+checkNamespace(ns);
diff --git a/test/function/samples/merged-namespace-live-bindings/reexport.js b/test/function/samples/merged-namespace-live-bindings/reexport.js
new file mode 100644
index 000000000..31b746544
--- /dev/null
+++ b/test/function/samples/merged-namespace-live-bindings/reexport.js
@@ -0,0 +1,2 @@
+export * from './internal';
+export * from 'external';
diff --git a/test/function/samples/module-side-effects/invalid-option/_config.js b/test/function/samples/module-side-effects/invalid-option/_config.js
index fd2c0021e..5dc00487e 100644
--- a/test/function/samples/module-side-effects/invalid-option/_config.js
+++ b/test/function/samples/module-side-effects/invalid-option/_config.js
@@ -8,6 +8,7 @@ module.exports = {
 	error: {
 		code: 'INVALID_OPTION',
 		message:
-			'Invalid value for option "treeshake.moduleSideEffects" - please use one of false, "no-external", a function or an array.'
+			'Invalid value for option "treeshake.moduleSideEffects" - please use one of false, "no-external", a function or an array.',
+		url: 'https://rollupjs.org/guide/en/#treeshake'
 	}
 };
diff --git a/test/function/samples/output-options-hook/_config.js b/test/function/samples/output-options-hook/_config.js
index f00024de2..4505a8295 100644
--- a/test/function/samples/output-options-hook/_config.js
+++ b/test/function/samples/output-options-hook/_config.js
@@ -30,6 +30,12 @@ module.exports = {
 					externalLiveBindings: true,
 					format: 'cjs',
 					freeze: true,
+					generatedCode: {
+						arrowFunctions: false,
+						constBindings: false,
+						objectShorthand: false,
+						reservedNamesAsProps: false
+					},
 					globals: {},
 					hoistTransitiveImports: true,
 					indent: true,
diff --git a/test/function/samples/preserve-modules/inline-dynamic-imports/_config.js b/test/function/samples/preserve-modules/inline-dynamic-imports/_config.js
index b315aa96f..d44c6663e 100644
--- a/test/function/samples/preserve-modules/inline-dynamic-imports/_config.js
+++ b/test/function/samples/preserve-modules/inline-dynamic-imports/_config.js
@@ -10,6 +10,7 @@ module.exports = {
 	generateError: {
 		code: 'INVALID_OPTION',
 		message:
-			'The "output.inlineDynamicImports" option is not supported for "output.preserveModules".'
+			'Invalid value for option "output.inlineDynamicImports" - this option is not supported for "output.preserveModules".',
+		url: 'https://rollupjs.org/guide/en/#outputinlinedynamicimports'
 	}
 };
diff --git a/test/function/samples/preserve-modules/invalid-no-preserve-entry-signatures/_config.js b/test/function/samples/preserve-modules/invalid-no-preserve-entry-signatures/_config.js
index dcd159dc9..563fcad80 100644
--- a/test/function/samples/preserve-modules/invalid-no-preserve-entry-signatures/_config.js
+++ b/test/function/samples/preserve-modules/invalid-no-preserve-entry-signatures/_config.js
@@ -8,6 +8,7 @@ module.exports = {
 	generateError: {
 		code: 'INVALID_OPTION',
 		message:
-			'Setting "preserveEntrySignatures" to "false" is not supported for "output.preserveModules".'
+			'Invalid value for option "preserveEntrySignatures" - setting this option to false is not supported for "output.preserveModules".',
+		url: 'https://rollupjs.org/guide/en/#preserveentrysignatures'
 	}
 };
diff --git a/test/function/samples/preserve-modules/manual-chunks/_config.js b/test/function/samples/preserve-modules/manual-chunks/_config.js
index 5f9f2e6ec..22519ab39 100644
--- a/test/function/samples/preserve-modules/manual-chunks/_config.js
+++ b/test/function/samples/preserve-modules/manual-chunks/_config.js
@@ -11,6 +11,8 @@ module.exports = {
 	},
 	generateError: {
 		code: 'INVALID_OPTION',
-		message: 'The "output.manualChunks" option is not supported for "output.preserveModules".'
+		message:
+			'Invalid value for option "output.manualChunks" - this option is not supported for "output.preserveModules".',
+		url: 'https://rollupjs.org/guide/en/#outputmanualchunks'
 	}
 };
diff --git a/test/function/samples/unknown-generated-code-preset/_config.js b/test/function/samples/unknown-generated-code-preset/_config.js
new file mode 100644
index 000000000..b5d5e7c04
--- /dev/null
+++ b/test/function/samples/unknown-generated-code-preset/_config.js
@@ -0,0 +1,14 @@
+module.exports = {
+	description: 'throws for unknown presets for the generatedCode option',
+	options: {
+		output: {
+			generatedCode: { preset: 'some-string' }
+		}
+	},
+	generateError: {
+		code: 'INVALID_OPTION',
+		message:
+			'Invalid value "some-string" for option "output.generatedCode.preset" - valid values are "es2015" and "es5".',
+		url: 'https://rollupjs.org/guide/en/#outputgeneratedcode'
+	}
+};
diff --git a/test/function/samples/unknown-generated-code-preset/_expected.js b/test/function/samples/unknown-generated-code-preset/_expected.js
new file mode 100644
index 000000000..65f08abb6
--- /dev/null
+++ b/test/function/samples/unknown-generated-code-preset/_expected.js
@@ -0,0 +1,13 @@
+console.log('dep');
+
+console.log('main');
+
+({
+	get foo() {
+		console.log('effect');
+	}
+}.foo);
+
+try {
+	const noeffect = 1;
+} catch {}
diff --git a/test/function/samples/unknown-generated-code-preset/main.js b/test/function/samples/unknown-generated-code-preset/main.js
new file mode 100644
index 000000000..7e37f689f
--- /dev/null
+++ b/test/function/samples/unknown-generated-code-preset/main.js
@@ -0,0 +1 @@
+throw new Error('not executed');
diff --git a/test/function/samples/unknown-generated-code-value/_config.js b/test/function/samples/unknown-generated-code-value/_config.js
new file mode 100644
index 000000000..f75c906d2
--- /dev/null
+++ b/test/function/samples/unknown-generated-code-value/_config.js
@@ -0,0 +1,14 @@
+module.exports = {
+	description: 'throws for unknown string values for the generatedCode option',
+	options: {
+		output: {
+			generatedCode: 'some-string'
+		}
+	},
+	generateError: {
+		code: 'INVALID_OPTION',
+		message:
+			'Invalid value "some-string" for option "output.generatedCode" - valid values are "es2015" and "es5". You can also supply an object for more fine-grained control.',
+		url: 'https://rollupjs.org/guide/en/#outputgeneratedcode'
+	}
+};
diff --git a/test/function/samples/unknown-generated-code-value/_expected.js b/test/function/samples/unknown-generated-code-value/_expected.js
new file mode 100644
index 000000000..65f08abb6
--- /dev/null
+++ b/test/function/samples/unknown-generated-code-value/_expected.js
@@ -0,0 +1,13 @@
+console.log('dep');
+
+console.log('main');
+
+({
+	get foo() {
+		console.log('effect');
+	}
+}.foo);
+
+try {
+	const noeffect = 1;
+} catch {}
diff --git a/test/function/samples/unknown-generated-code-value/main.js b/test/function/samples/unknown-generated-code-value/main.js
new file mode 100644
index 000000000..7e37f689f
--- /dev/null
+++ b/test/function/samples/unknown-generated-code-value/main.js
@@ -0,0 +1 @@
+throw new Error('not executed');
diff --git a/test/function/samples/unknown-treeshake-preset/_config.js b/test/function/samples/unknown-treeshake-preset/_config.js
index 041457589..6603f8608 100644
--- a/test/function/samples/unknown-treeshake-preset/_config.js
+++ b/test/function/samples/unknown-treeshake-preset/_config.js
@@ -6,6 +6,7 @@ module.exports = {
 	error: {
 		code: 'INVALID_OPTION',
 		message:
-			'Invalid value for option "treeshake.preset" - valid values are "recommended", "safest" and "smallest".'
+			'Invalid value "some-string" for option "treeshake.preset" - valid values are "recommended", "safest" and "smallest".',
+		url: 'https://rollupjs.org/guide/en/#treeshake'
 	}
 };
diff --git a/test/function/samples/unknown-treeshake-value/_config.js b/test/function/samples/unknown-treeshake-value/_config.js
index d4aceb40a..173024138 100644
--- a/test/function/samples/unknown-treeshake-value/_config.js
+++ b/test/function/samples/unknown-treeshake-value/_config.js
@@ -6,6 +6,7 @@ module.exports = {
 	error: {
 		code: 'INVALID_OPTION',
 		message:
-			'Invalid value for option "treeshake" - valid values are false, true, "recommended", "safest" and "smallest". You can also supply an object for more fine-grained control.'
+			'Invalid value "some-string" for option "treeshake" - valid values are false, true, "recommended", "safest" and "smallest". You can also supply an object for more fine-grained control.',
+		url: 'https://rollupjs.org/guide/en/#treeshake'
 	}
 };
diff --git a/test/hooks/index.js b/test/hooks/index.js
index 43937ed0a..d0f04609a 100644
--- a/test/hooks/index.js
+++ b/test/hooks/index.js
@@ -889,7 +889,7 @@ describe('hooks', () => {
 				watcher.close();
 				assert.strictEqual(
 					err.message,
-					'When building multiple chunks, the "output.dir" option must be used, not "output.file". To inline dynamic imports, set the "inlineDynamicImports" option.'
+					'Invalid value for option "output.file" - when building multiple chunks, the "output.dir" option must be used, not "output.file". To inline dynamic imports, set the "inlineDynamicImports" option.'
 				);
 			})
 			.then(() => watcher.close());
@@ -915,7 +915,7 @@ describe('hooks', () => {
 				watcher.close();
 				assert.strictEqual(
 					err.message,
-					'"output.sourcemapFile" is only supported for single-file builds.'
+					'Invalid value for option "output.sourcemapFile" - "output.sourcemapFile" is only supported for single-file builds.'
 				);
 			})
 			.then(() => watcher.close());
diff --git a/test/misc/iife.js b/test/misc/iife.js
index b82096df3..14404f3b1 100644
--- a/test/misc/iife.js
+++ b/test/misc/iife.js
@@ -137,7 +137,7 @@ describe('The IIFE wrapper with an illegal name', () => {
 					'\n' +
 					"\tObject.defineProperty(exports, '__esModule', { value: true });\n" +
 					'\n' +
-					"}(this['my=name'] = this['my=name'] || {}));\n"
+					'})(this["my=name"] = this["my=name"] || {});\n'
 			)
 		));
 });
diff --git a/test/misc/optionList.js b/test/misc/optionList.js
index 2b97b8da4..e44f01660 100644
--- a/test/misc/optionList.js
+++ b/test/misc/optionList.js
@@ -1,6 +1,6 @@
 exports.input =
 	'acorn, acornInjectPlugins, cache, context, experimentalCacheExpiry, external, inlineDynamicImports, input, makeAbsoluteExternalsRelative, manualChunks, maxParallelFileReads, moduleContext, onwarn, perf, plugins, preserveEntrySignatures, preserveModules, preserveSymlinks, shimMissingExports, strictDeprecations, treeshake, watch';
 exports.flags =
-	'acorn, acornInjectPlugins, amd, assetFileNames, banner, c, cache, chunkFileNames, compact, config, configPlugin, context, d, dir, dynamicImportFunction, e, entryFileNames, environment, esModule, experimentalCacheExpiry, exports, extend, external, externalLiveBindings, f, failAfterWarnings, file, footer, format, freeze, g, globals, h, hoistTransitiveImports, i, indent, inlineDynamicImports, input, interop, intro, m, makeAbsoluteExternalsRelative, manualChunks, maxParallelFileReads, minifyInternalExports, moduleContext, n, name, namespaceToStringTag, noConflict, o, onwarn, outro, p, paths, perf, plugin, plugins, preferConst, preserveEntrySignatures, preserveModules, preserveModulesRoot, preserveSymlinks, sanitizeFileName, shimMissingExports, silent, sourcemap, sourcemapExcludeSources, sourcemapFile, stdin, strict, strictDeprecations, systemNullSetters, treeshake, v, validate, w, waitForBundleInput, watch';
+	'acorn, acornInjectPlugins, amd, assetFileNames, banner, c, cache, chunkFileNames, compact, config, configPlugin, context, d, dir, dynamicImportFunction, e, entryFileNames, environment, esModule, experimentalCacheExpiry, exports, extend, external, externalLiveBindings, f, failAfterWarnings, file, footer, format, freeze, g, generatedCode, globals, h, hoistTransitiveImports, i, indent, inlineDynamicImports, input, interop, intro, m, makeAbsoluteExternalsRelative, manualChunks, maxParallelFileReads, minifyInternalExports, moduleContext, n, name, namespaceToStringTag, noConflict, o, onwarn, outro, p, paths, perf, plugin, plugins, preferConst, preserveEntrySignatures, preserveModules, preserveModulesRoot, preserveSymlinks, sanitizeFileName, shimMissingExports, silent, sourcemap, sourcemapExcludeSources, sourcemapFile, stdin, strict, strictDeprecations, systemNullSetters, treeshake, v, validate, w, waitForBundleInput, watch';
 exports.output =
-	'amd, assetFileNames, banner, chunkFileNames, compact, dir, dynamicImportFunction, entryFileNames, esModule, exports, extend, externalLiveBindings, file, footer, format, freeze, globals, hoistTransitiveImports, indent, inlineDynamicImports, interop, intro, manualChunks, minifyInternalExports, name, namespaceToStringTag, noConflict, outro, paths, plugins, preferConst, preserveModules, preserveModulesRoot, sanitizeFileName, sourcemap, sourcemapExcludeSources, sourcemapFile, sourcemapPathTransform, strict, systemNullSetters, validate';
+	'amd, assetFileNames, banner, chunkFileNames, compact, dir, dynamicImportFunction, entryFileNames, esModule, exports, extend, externalLiveBindings, file, footer, format, freeze, generatedCode, globals, hoistTransitiveImports, indent, inlineDynamicImports, interop, intro, manualChunks, minifyInternalExports, name, namespaceToStringTag, noConflict, outro, paths, plugins, preferConst, preserveModules, preserveModulesRoot, sanitizeFileName, sourcemap, sourcemapExcludeSources, sourcemapFile, sourcemapPathTransform, strict, systemNullSetters, validate';
diff --git a/test/misc/sanity-checks.js b/test/misc/sanity-checks.js
index ed11742ed..e7534f182 100644
--- a/test/misc/sanity-checks.js
+++ b/test/misc/sanity-checks.js
@@ -165,7 +165,7 @@ describe('sanity checks', () => {
 		}
 		assert.strictEqual(
 			error && error.message,
-			'When building multiple chunks, the "output.dir" option must be used, not "output.file". To inline dynamic imports, set the "inlineDynamicImports" option.'
+			'Invalid value for option "output.file" - when building multiple chunks, the "output.dir" option must be used, not "output.file". To inline dynamic imports, set the "inlineDynamicImports" option.'
 		);
 	});
 
@@ -190,7 +190,7 @@ describe('sanity checks', () => {
 		}
 		assert.strictEqual(
 			error && error.message,
-			'When building multiple chunks, the "output.dir" option must be used, not "output.file". To inline dynamic imports, set the "inlineDynamicImports" option.'
+			'Invalid value for option "output.file" - when building multiple chunks, the "output.dir" option must be used, not "output.file". To inline dynamic imports, set the "inlineDynamicImports" option.'
 		);
 	});
 
@@ -216,7 +216,7 @@ describe('sanity checks', () => {
 		}
 		assert.strictEqual(
 			error && error.message,
-			'You must set "output.dir" instead of "output.file" when providing named inputs.'
+			'Invalid value for option "output.file" - you must set "output.dir" instead of "output.file" when providing named inputs.'
 		);
 	});
 
@@ -233,7 +233,7 @@ describe('sanity checks', () => {
 		}
 		assert.strictEqual(
 			error && error.message,
-			'You must set "output.dir" instead of "output.file" when using the "output.preserveModules" option.'
+			'Invalid value for option "output.file" - you must set "output.dir" instead of "output.file" when using the "output.preserveModules" option.'
 		);
 	});
 
@@ -287,7 +287,7 @@ describe('sanity checks', () => {
 
 		assert.strictEqual(
 			warning && warning.message,
-			'"output.amd.id" is only properly supported for single-file builds. Use "output.amd.autoId" and "output.amd.basePath".'
+			'Invalid value for option "output.amd.id" - this option is only properly supported for single-file builds. Use "output.amd.autoId" and "output.amd.basePath" instead.'
 		);
 	});
 });
diff --git a/test/utils.js b/test/utils.js
index df8fb5226..d4969234a 100644
--- a/test/utils.js
+++ b/test/utils.js
@@ -85,37 +85,6 @@ function getObject(entries) {
 	return object;
 }
 
-function loadConfig(configFile) {
-	try {
-		return require(configFile);
-	} catch (err) {
-		if (err.code === 'MODULE_NOT_FOUND') {
-			const dir = path.dirname(configFile);
-			removeOldTest(dir);
-		} else {
-			throw new Error(`Failed to load ${configFile}: ${err.message}`);
-		}
-	}
-}
-
-function removeOldOutput(dir) {
-	if (sander.existsSync(path.join(dir, '_actual'))) {
-		sander.rimrafSync(path.join(dir, '_actual'));
-	}
-	if (sander.existsSync(path.join(dir, '_actual.js'))) {
-		sander.unlinkSync(path.join(dir, '_actual.js'));
-	}
-}
-
-function removeOldTest(dir) {
-	removeOldOutput(dir);
-	console.warn(
-		`Test configuration in ${dir} not found.\nTrying to clean up no longer existing test...`
-	);
-	sander.rmdirSync(dir);
-	console.warn('Directory removed.');
-}
-
 function loader(modules) {
 	modules = Object.assign(Object.create(null), modules);
 	return {
@@ -158,14 +127,12 @@ function runSamples(samplesDir, runTest, onTeardown) {
 }
 
 function runTestsInDir(dir, runTest) {
-	const fileNames = sander.readdirSync(dir);
-
+	const fileNames = getFileNamesAndRemoveOutput(dir);
 	if (fileNames.indexOf('_config.js') >= 0) {
-		removeOldOutput(dir);
 		loadConfigAndRunTest(dir, runTest);
-	} else if (fileNames.indexOf('_actual') >= 0 || fileNames.indexOf('_actual.js') >= 0) {
-		removeOldOutput(dir);
-		removeOldTest(dir);
+	} else if (fileNames.length === 0) {
+		console.warn(`Removing empty test directory ${dir}`);
+		sander.rmdirSync(dir);
 	} else {
 		describe(path.basename(dir), () => {
 			fileNames
@@ -176,15 +143,42 @@ function runTestsInDir(dir, runTest) {
 	}
 }
 
+function getFileNamesAndRemoveOutput(dir) {
+	try {
+		return sander.readdirSync(dir).filter(fileName => {
+			if (fileName === '_actual') {
+				sander.rimrafSync(path.join(dir, '_actual'));
+				return false;
+			}
+			if (fileName === '_actual.js') {
+				sander.unlinkSync(path.join(dir, '_actual.js'));
+				return false;
+			}
+			return true;
+		});
+	} catch (error) {
+		if (error.code === 'ENOTDIR') {
+			throw new Error(
+				`${dir} is not located next to a "_config.js" file but is not a directory or old test output either. Please inspect and consider removing the file.`
+			);
+		}
+		throw error;
+	}
+}
+
 function loadConfigAndRunTest(dir, runTest) {
-	const config = loadConfig(dir + '/_config.js');
+	const configFile = path.join(dir, '_config.js');
+	const config = require(configFile);
+	if (!config || !config.description) {
+		throw new Error(`Found invalid config without description: ${configFile}`);
+	}
 	if (
-		config &&
 		(!config.skipIfWindows || process.platform !== 'win32') &&
 		(!config.onlyWindows || process.platform === 'win32') &&
 		(!config.minNodeVersion || config.minNodeVersion <= Number(/^v(\d+)/.exec(process.version)[1]))
-	)
+	) {
 		runTest(dir, config);
+	}
 }
 
 function assertDirectoriesAreEqual(actualDir, expectedDir) {
