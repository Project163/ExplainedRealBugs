diff --git a/src/Bundle.js b/src/Bundle.js
index 271610234..d56f4a5b4 100644
--- a/src/Bundle.js
+++ b/src/Bundle.js
@@ -141,7 +141,9 @@ export default class Bundle {
 						let i = this.dependentExpressions.length;
 						while ( i-- ) {
 							const expression = this.dependentExpressions[i];
-							const statement = expression.findParent( /ExpressionStatement/ );
+
+							let statement = expression;
+							while ( statement.parent && !/Function/.test( statement.parent.type ) ) statement = statement.parent;
 
 							if ( !statement || statement.ran ) {
 								this.dependentExpressions.splice( i, 1 );
diff --git a/src/ast/nodes/UpdateExpression.js b/src/ast/nodes/UpdateExpression.js
index c5b926334..656da6984 100644
--- a/src/ast/nodes/UpdateExpression.js
+++ b/src/ast/nodes/UpdateExpression.js
@@ -28,11 +28,13 @@ export default class UpdateExpression extends Node {
 	}
 
 	initialise ( scope ) {
+		this.scope = scope;
+
 		this.module.bundle.dependentExpressions.push( this );
 		super.initialise( scope );
 	}
 
 	isUsedByBundle () {
-		return isUsedByBundle( this.findScope(), this.subject );
+		return isUsedByBundle( this.scope, this.subject );
 	}
 }
diff --git a/test/function/if-statement-with-assignment/_config.js b/test/function/if-statement-with-assignment/_config.js
new file mode 100644
index 000000000..6c573d5e7
--- /dev/null
+++ b/test/function/if-statement-with-assignment/_config.js
@@ -0,0 +1,3 @@
+module.exports = {
+	description: 'update assignments to names are preserved (#930)'
+};
diff --git a/test/function/if-statement-with-assignment/main.js b/test/function/if-statement-with-assignment/main.js
new file mode 100644
index 000000000..612436bf5
--- /dev/null
+++ b/test/function/if-statement-with-assignment/main.js
@@ -0,0 +1,4 @@
+var result = 0;
+if ( Math.random() <= 1 ) result += 1;
+
+assert.equal( result, 1 );
diff --git a/test/function/if-statement-with-update/_config.js b/test/function/if-statement-with-update/_config.js
new file mode 100644
index 000000000..8601e12f7
--- /dev/null
+++ b/test/function/if-statement-with-update/_config.js
@@ -0,0 +1,3 @@
+module.exports = {
+	description: 'updates to names are preserved (#930)'
+};
diff --git a/test/function/if-statement-with-update/main.js b/test/function/if-statement-with-update/main.js
new file mode 100644
index 000000000..92397948e
--- /dev/null
+++ b/test/function/if-statement-with-update/main.js
@@ -0,0 +1,4 @@
+var result = 0;
+if ( Math.random() <= 1 ) ++result;
+
+assert.equal( result, 1 );
