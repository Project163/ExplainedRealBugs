diff --git a/src/Chunk.ts b/src/Chunk.ts
index e3792a2ae..becc654a9 100644
--- a/src/Chunk.ts
+++ b/src/Chunk.ts
@@ -1137,7 +1137,11 @@ export default class Chunk {
 					map = magicString.generateMap({ file, includeContent: true });
 				}
 
-				map.sources = map.sources.map(normalize);
+				map.sources = map.sources.map(sourcePath =>
+					normalize(
+						options.sourcemapPathTransform ? options.sourcemapPathTransform(sourcePath) : sourcePath
+					)
+				);
 
 				timeEnd('sourcemap', 3);
 			}
diff --git a/src/rollup/types.d.ts b/src/rollup/types.d.ts
index 0c20447fb..8066a7030 100644
--- a/src/rollup/types.d.ts
+++ b/src/rollup/types.d.ts
@@ -284,6 +284,7 @@ export interface OutputOptions {
 	outro?: string | (() => string | Promise<string>);
 	sourcemap?: boolean | 'inline';
 	sourcemapFile?: string;
+	sourcemapPathTransform?: (sourcePath: string) => string;
 	interop?: boolean;
 	extend?: boolean;
 
diff --git a/src/utils/mergeOptions.ts b/src/utils/mergeOptions.ts
index a0283de8c..223437f2a 100644
--- a/src/utils/mergeOptions.ts
+++ b/src/utils/mergeOptions.ts
@@ -128,11 +128,14 @@ export default function mergeOptions({
 		'output option'
 	);
 
+	const validCliOutputOptions = validOutputOptions.filter(
+		option => option !== 'sourcemapPathTransform'
+	);
 	addUnknownOptionErrors(
 		unknownOptionErrors,
 		Object.keys(command),
 		validInputOptions.concat(
-			validOutputOptions,
+			validCliOutputOptions,
 			Object.keys(commandAliases),
 			'config',
 			'environment',
@@ -269,6 +272,7 @@ function getOutputOptions(
 		paths: getOption('paths'),
 		sourcemap: getOption('sourcemap'),
 		sourcemapFile: getOption('sourcemapFile'),
+		sourcemapPathTransform: getOption('sourcemapPathTransform'),
 		strict: getOption('strict', true)
 	};
 }
diff --git a/test/misc/optionList.js b/test/misc/optionList.js
index c71badbe1..d7397e7de 100644
--- a/test/misc/optionList.js
+++ b/test/misc/optionList.js
@@ -1,3 +1,3 @@
 exports.input = 'acorn, acornInjectPlugins, cache, chunkGroupingSize, context, entry, experimentalCacheExpiry, experimentalCodeSplitting, experimentalPreserveModules, experimentalTopLevelAwait, external, inlineDynamicImports, input, manualChunks, moduleContext, onwarn, optimizeChunks, perf, plugins, preferConst, preserveSymlinks, shimMissingExports, treeshake, watch';
 exports.flags = 'acorn, acornInjectPlugins, amd, assetFileNames, banner, c, cache, chunkFileNames, chunkGroupingSize, compact, config, context, dir, e, entry, entryFileNames, environment, esModule, experimentalCacheExpiry, experimentalCodeSplitting, experimentalPreserveModules, experimentalTopLevelAwait, exports, extend, external, f, file, footer, format, freeze, g, globals, h, i, indent, inlineDynamicImports, input, interop, intro, m, manualChunks, moduleContext, n, name, namespaceToStringTag, noConflict, o, onwarn, optimizeChunks, outro, paths, perf, plugins, preferConst, preserveSymlinks, shimMissingExports, silent, sourcemap, sourcemapFile, strict, treeshake, v, w, watch';
-exports.output = 'amd, assetFileNames, banner, dir, chunkFileNames, compact, entryFileNames, esModule, exports, extend, file, footer, format, freeze, globals, indent, interop, intro, name, namespaceToStringTag, noConflict, outro, paths, sourcemap, sourcemapFile, strict';
+exports.output = 'amd, assetFileNames, banner, dir, chunkFileNames, compact, entryFileNames, esModule, exports, extend, file, footer, format, freeze, globals, indent, interop, intro, name, namespaceToStringTag, noConflict, outro, paths, sourcemap, sourcemapFile, sourcemapPathTransform, strict';
diff --git a/test/sourcemaps/samples/transform-source-paths/_config.js b/test/sourcemaps/samples/transform-source-paths/_config.js
new file mode 100644
index 000000000..536232d18
--- /dev/null
+++ b/test/sourcemaps/samples/transform-source-paths/_config.js
@@ -0,0 +1,19 @@
+const path = require('path');
+const assert = require('assert');
+
+module.exports = {
+	description: 'transform sourcemap paths (#2168)',
+	options: {
+		output: {
+			name: 'myModule',
+			file: path.resolve(__dirname, '_actual/bundle.js'),
+			sourcemapPathTransform: sourcePath => sourcePath.replace(
+				`..${path.sep}`,
+				'~/pkg-name/'
+			)
+		}
+	},
+	test(code, map) {
+		assert.deepEqual(map.sources, ['~/pkg-name/main.js']);
+	}
+};
diff --git a/test/sourcemaps/samples/transform-source-paths/main.js b/test/sourcemaps/samples/transform-source-paths/main.js
new file mode 100644
index 000000000..7a4e8a723
--- /dev/null
+++ b/test/sourcemaps/samples/transform-source-paths/main.js
@@ -0,0 +1 @@
+export default 42;
