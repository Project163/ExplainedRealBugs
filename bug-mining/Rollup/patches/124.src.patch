diff --git a/.gitignore b/.gitignore
index e5d345401..70cf11dc7 100644
--- a/.gitignore
+++ b/.gitignore
@@ -10,3 +10,4 @@ bin/rollup
 test/_tmp
 test/hooks/tmp
 test/tmp
+test/typescript/typings
diff --git a/package-lock.json b/package-lock.json
index 4134de095..ef229808d 100644
--- a/package-lock.json
+++ b/package-lock.json
@@ -451,10 +451,10 @@
       "integrity": "sha1-gWfBq4OX+1u5X5bSjlqBxQ8kesQ=",
       "dev": true
     },
-    "cash-mv": {
+    "cash-cp": {
       "version": "0.2.0",
-      "resolved": "https://registry.npmjs.org/cash-mv/-/cash-mv-0.2.0.tgz",
-      "integrity": "sha1-lreB1FJUxGfbowGZEUkRBMLyYBc=",
+      "resolved": "https://registry.npmjs.org/cash-cp/-/cash-cp-0.2.0.tgz",
+      "integrity": "sha1-mYUHnb02/KHyIOCf4fVyZAi4na0=",
       "dev": true,
       "requires": {
         "glob": "6.0.4",
diff --git a/package.json b/package.json
index bfc524a3e..7f9214ba9 100644
--- a/package.json
+++ b/package.json
@@ -15,7 +15,8 @@
     "test:only": "mocha",
     "test:leak": "node --expose-gc test/leak/index.js",
     "test:quick": "rollup -c && mocha -b",
-    "test:typescript": "mv src src_tmp; tsc -p test/typescript; mv src_tmp src",
+    "pretest:typescript": "rm -rf test/typescript/dist && rm -rf test/typescript/typings && cp -r dist test/typescript/ && cp -r typings test/typescript/",
+    "test:typescript": "tsc -p test/typescript",
     "pretest-coverage": "npm run build",
     "test-coverage": "rm -rf coverage/* && istanbul cover --report json node_modules/.bin/_mocha -- -u exports -R spec test/test.js",
     "posttest-coverage": "remap-istanbul -i coverage/coverage-final.json -o coverage/coverage-remapped.json -b dist && remap-istanbul -i coverage/coverage-final.json -o coverage/coverage-remapped.lcov -t lcovonly -b dist && remap-istanbul -i coverage/coverage-final.json -o coverage/coverage-remapped -t html -b dist",
@@ -55,7 +56,7 @@
     "acorn-dynamic-import": "^3.0.0",
     "ansi-escapes": "^3.0.0",
     "buble": "^0.18.0",
-    "cash-mv": "^0.2.0",
+    "cash-cp": "^0.2.0",
     "cash-rm": "^0.2.0",
     "chalk": "^2.3.0",
     "codecov.io": "^0.1.6",
diff --git a/test/typescript/index.ts b/test/typescript/index.ts
index 2d903f642..8e7b25ba8 100644
--- a/test/typescript/index.ts
+++ b/test/typescript/index.ts
@@ -1 +1 @@
-import * as rollup from '../../dist/typings/node-entry';
+import * as rollup from './dist/typings/node-entry';
diff --git a/test/typescript/tsconfig.json b/test/typescript/tsconfig.json
index 04087a092..115ff1a87 100644
--- a/test/typescript/tsconfig.json
+++ b/test/typescript/tsconfig.json
@@ -8,7 +8,8 @@
     ]
   },
   "include": [
-    "../../dist"
+    "./dist",
+    "./typings"
   ],
   "files": [
     "./index.ts"
diff --git a/tsconfig.json b/tsconfig.json
index c8a8d0dcc..a046e038f 100644
--- a/tsconfig.json
+++ b/tsconfig.json
@@ -20,6 +20,7 @@
     ],
     "exclude": [
         "dist",
-        "node_modules"
+        "node_modules",
+        "test/typescript"
     ]
 }
