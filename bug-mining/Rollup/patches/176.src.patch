diff --git a/src/ast/nodes/shared/Expression.ts b/src/ast/nodes/shared/Expression.ts
index 7cd16f32f..ddb2c97eb 100644
--- a/src/ast/nodes/shared/Expression.ts
+++ b/src/ast/nodes/shared/Expression.ts
@@ -99,8 +99,10 @@ export class ExpressionEntity implements WritableEntity {
 
 	includeCallArguments(context: InclusionContext, interaction: NodeInteractionCalled): void {
 		for (const argument of interaction.args) {
-			argument?.includePath(UNKNOWN_PATH, context);
-			argument?.include(context, false);
+			if (argument) {
+				argument.includePath(UNKNOWN_PATH, context);
+				argument.include(context, false);
+			}
 		}
 	}
 
diff --git a/src/ast/nodes/shared/IdentifierBase.ts b/src/ast/nodes/shared/IdentifierBase.ts
index 9e151755d..ede8b90c7 100644
--- a/src/ast/nodes/shared/IdentifierBase.ts
+++ b/src/ast/nodes/shared/IdentifierBase.ts
@@ -142,6 +142,7 @@ export default class IdentifierBase extends NodeBase {
 	includePath(path: ObjectPath, context: InclusionContext): void {
 		if (!this.included) {
 			this.included = true;
+			if (!this.deoptimized) this.applyDeoptimizations();
 			if (this.variable !== null) {
 				this.scope.context.includeVariableInModule(this.variable, path, context);
 			}
diff --git a/src/ast/scopes/ParameterScope.ts b/src/ast/scopes/ParameterScope.ts
index 25914d86c..79f26c2ed 100644
--- a/src/ast/scopes/ParameterScope.ts
+++ b/src/ast/scopes/ParameterScope.ts
@@ -97,7 +97,7 @@ export default class ParameterScope extends ChildScope {
 					}
 				}
 			}
-			if (!argument.included && (argumentIncluded || argument.shouldBeIncluded(context))) {
+			if (argumentIncluded || argument.shouldBeIncluded(context)) {
 				argumentIncluded = true;
 				argument.include(context, calledFromTryStatement);
 			}
diff --git a/test/function/samples/parameters-promise-constructor/_config.js b/test/function/samples/parameters-promise-constructor/_config.js
new file mode 100644
index 000000000..735f6d348
--- /dev/null
+++ b/test/function/samples/parameters-promise-constructor/_config.js
@@ -0,0 +1,8 @@
+const assert = require('assert');
+
+module.exports = defineTest({
+	description: 'correctly handles parameters of promise constructor',
+	async exports({ result }) {
+		assert.strictEqual(await result, 42);
+	}
+});
diff --git a/test/function/samples/parameters-promise-constructor/main.js b/test/function/samples/parameters-promise-constructor/main.js
new file mode 100644
index 000000000..6e8a38ba8
--- /dev/null
+++ b/test/function/samples/parameters-promise-constructor/main.js
@@ -0,0 +1,12 @@
+const value = 42;
+
+export function test(callback) {
+	return callback ? execute(undefined, callback) : new Promise(execute);
+
+	function execute(resolve) {
+		if (resolve) resolve(value);
+		else resolve('FAIL');
+	}
+}
+
+export const result = test().then(r => r);
