diff --git a/src/utils/mergeOptions.ts b/src/utils/mergeOptions.ts
index 9f31da028..5306148b3 100644
--- a/src/utils/mergeOptions.ts
+++ b/src/utils/mergeOptions.ts
@@ -213,7 +213,7 @@ function getInputOptions(
 		acornInjectPlugins: config.acornInjectPlugins as any,
 		cache: getOption('cache'),
 		chunkGroupingSize: getOption('chunkGroupingSize', 5000),
-		context: config.context as any,
+		context: getOption('context'),
 		experimentalCacheExpiry: getOption('experimentalCacheExpiry', 10),
 		experimentalOptimizeChunks: getOption('experimentalOptimizeChunks'),
 		experimentalTopLevelAwait: getOption('experimentalTopLevelAwait'),
diff --git a/test/cli/samples/context/_config.js b/test/cli/samples/context/_config.js
new file mode 100644
index 000000000..9f2d46d66
--- /dev/null
+++ b/test/cli/samples/context/_config.js
@@ -0,0 +1,4 @@
+module.exports = {
+	description: 'Uses --context to set `this` value',
+	command: 'rollup main.js --format commonjs --context window'
+};
diff --git a/test/cli/samples/context/_expected.js b/test/cli/samples/context/_expected.js
new file mode 100644
index 000000000..3600df361
--- /dev/null
+++ b/test/cli/samples/context/_expected.js
@@ -0,0 +1,6 @@
+'use strict';
+
+console.log(window);
+var main = 42;
+
+module.exports = main;
diff --git a/test/cli/samples/context/main.js b/test/cli/samples/context/main.js
new file mode 100644
index 000000000..cf70aac8b
--- /dev/null
+++ b/test/cli/samples/context/main.js
@@ -0,0 +1,2 @@
+console.log(this);
+export default 42;
