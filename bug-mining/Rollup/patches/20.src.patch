diff --git a/src/rollup.js b/src/rollup.js
index ee2b3b072..32faf3317 100644
--- a/src/rollup.js
+++ b/src/rollup.js
@@ -17,6 +17,9 @@ export function rollup ( options ) {
 		return {
 			imports: bundle.externalModules.map( module => module.id ),
 			exports: keys( bundle.entryModule.exports ),
+			modules: bundle.orderedModules.map( module => {
+				return { id: module.id };
+			}),
 
 			generate: options => bundle.render( options ),
 			write: options => {
diff --git a/test/function/has-modules-array/_config.js b/test/function/has-modules-array/_config.js
new file mode 100644
index 000000000..df37d8430
--- /dev/null
+++ b/test/function/has-modules-array/_config.js
@@ -0,0 +1,13 @@
+var path = require( 'path' );
+var assert = require( 'assert' );
+
+module.exports = {
+	description: 'user-facing bundle has modules array',
+	bundle: function ( bundle ) {
+		assert.ok( bundle.modules );
+		assert.deepEqual( bundle.modules, [
+			{ id: path.resolve( __dirname, 'foo.js' ) },
+			{ id: path.resolve( __dirname, 'main.js' ) }
+		]);
+	}
+};
diff --git a/test/function/has-modules-array/foo.js b/test/function/has-modules-array/foo.js
new file mode 100644
index 000000000..7a4e8a723
--- /dev/null
+++ b/test/function/has-modules-array/foo.js
@@ -0,0 +1 @@
+export default 42;
diff --git a/test/function/has-modules-array/main.js b/test/function/has-modules-array/main.js
new file mode 100644
index 000000000..3206f5382
--- /dev/null
+++ b/test/function/has-modules-array/main.js
@@ -0,0 +1,2 @@
+import foo from './foo';
+assert.equal( foo, 42 );
diff --git a/test/test.js b/test/test.js
index 4e2bd25b8..772b5b4bb 100644
--- a/test/test.js
+++ b/test/test.js
@@ -128,9 +128,8 @@ describe( 'rollup', function () {
 								unintendedError = new Error( 'Expected an error while executing output' );
 							}
 
-							if ( config.exports ) {
-								config.exports( module.exports );
-							}
+							if ( config.exports ) config.exports( module.exports );
+							if ( config.bundle ) config.bundle( bundle );
 						} catch ( err ) {
 							if ( config.error ) {
 								config.error( err );
