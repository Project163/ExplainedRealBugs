diff --git a/clients/src/test/java/org/apache/kafka/common/network/SelectorTest.java b/clients/src/test/java/org/apache/kafka/common/network/SelectorTest.java
index 3bb6244715..cfd7fb3af8 100644
--- a/clients/src/test/java/org/apache/kafka/common/network/SelectorTest.java
+++ b/clients/src/test/java/org/apache/kafka/common/network/SelectorTest.java
@@ -418,7 +418,9 @@ public class SelectorTest {
             selector.mute(id);
             for (int i = 0; i <= maxStagedReceives; i++) {
                 selector.send(createSend(id, String.valueOf(i)));
-                selector.poll(1000);
+                do {
+                    selector.poll(1000);
+                } while (selector.completedSends().isEmpty());
             }
 
             selector.unmute(id);
