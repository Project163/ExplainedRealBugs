diff --git a/core/src/main/scala/kafka/log/LogSegment.scala b/core/src/main/scala/kafka/log/LogSegment.scala
index 8cc1c945cc..6f11a8b6c8 100644
--- a/core/src/main/scala/kafka/log/LogSegment.scala
+++ b/core/src/main/scala/kafka/log/LogSegment.scala
@@ -147,6 +147,7 @@ class LogSegment(val messageSet: FileMessageSet,
     messageSet.truncateTo(mapping.position)
     if (messageSet.sizeInBytes == 0)
       firstAppendTime = None
+    bytesSinceLastIndexEntry = 0
   }
   
   /**
