diff --git a/clients/src/main/java/org/apache/kafka/common/requests/ControlledShutdownResponse.java b/clients/src/main/java/org/apache/kafka/common/requests/ControlledShutdownResponse.java
index 15d600d791..1f4af7ca59 100644
--- a/clients/src/main/java/org/apache/kafka/common/requests/ControlledShutdownResponse.java
+++ b/clients/src/main/java/org/apache/kafka/common/requests/ControlledShutdownResponse.java
@@ -52,6 +52,7 @@ public class ControlledShutdownResponse extends AbstractRequestResponse {
             Struct topicPartitionStruct = struct.instance(PARTITIONS_REMAINING_KEY_NAME);
             topicPartitionStruct.set(TOPIC_KEY_NAME, topicPartition.topic());
             topicPartitionStruct.set(PARTITION_KEY_NAME, topicPartition.partition());
+            partitionsRemainingList.add(topicPartitionStruct);
         }
         struct.set(PARTITIONS_REMAINING_KEY_NAME, partitionsRemainingList.toArray());
 
diff --git a/clients/src/test/java/org/apache/kafka/common/requests/RequestResponseTest.java b/clients/src/test/java/org/apache/kafka/common/requests/RequestResponseTest.java
index ab18817653..69431a5956 100644
--- a/clients/src/test/java/org/apache/kafka/common/requests/RequestResponseTest.java
+++ b/clients/src/test/java/org/apache/kafka/common/requests/RequestResponseTest.java
@@ -148,6 +148,17 @@ public class RequestResponseTest {
         assertEquals("Response data does not match", responseData, v1Response.responseData());
     }
 
+    @Test
+    public void testControlledShutdownResponse() {
+        ControlledShutdownResponse response = createControlledShutdownResponse();
+        ByteBuffer buffer = ByteBuffer.allocate(response.sizeOf());
+        response.writeTo(buffer);
+        buffer.rewind();
+        ControlledShutdownResponse deserialized = ControlledShutdownResponse.parse(buffer);
+        assertEquals(response.errorCode(), deserialized.errorCode());
+        assertEquals(response.partitionsRemaining(), deserialized.partitionsRemaining());
+    }
+
 
     private AbstractRequestResponse createRequestHeader() {
         return new RequestHeader((short) 10, (short) 1, "", 10);
@@ -311,7 +322,7 @@ public class RequestResponseTest {
         return new ControlledShutdownRequest(10);
     }
 
-    private AbstractRequestResponse createControlledShutdownResponse() {
+    private ControlledShutdownResponse createControlledShutdownResponse() {
         HashSet<TopicPartition> topicPartitions = new HashSet<>(Arrays.asList(
                 new TopicPartition("test2", 5),
                 new TopicPartition("test1", 10)
