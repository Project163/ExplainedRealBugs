diff --git a/core/src/main/scala/kafka/log/Log.scala b/core/src/main/scala/kafka/log/Log.scala
index a0e1b11d8b..9205128a99 100644
--- a/core/src/main/scala/kafka/log/Log.scala
+++ b/core/src/main/scala/kafka/log/Log.scala
@@ -165,8 +165,7 @@ class Log(val dir: File,
   
   private def recoverLog() {
     val lastOffset = try {activeSegment.nextOffset} catch {case _: Throwable => -1L}
-    val cleanShutdownFile = new File(dir.getParentFile, CleanShutdownFile)
-    val needsRecovery = !cleanShutdownFile.exists()
+    val needsRecovery = !(new File(dir.getParentFile, CleanShutdownFile)).exists()
     if(!needsRecovery) {
       this.recoveryPoint = lastOffset
       return
diff --git a/core/src/test/scala/unit/kafka/log/LogTest.scala b/core/src/test/scala/unit/kafka/log/LogTest.scala
index 0b516f97d4..1571f1e780 100644
--- a/core/src/test/scala/unit/kafka/log/LogTest.scala
+++ b/core/src/test/scala/unit/kafka/log/LogTest.scala
@@ -628,7 +628,7 @@ class LogTest extends JUnitSuite {
     val cleanShutdownFile = new File(parentLogDir, Log.CleanShutdownFile)
     cleanShutdownFile.createNewFile()
     assertTrue(".kafka_cleanshutdown must exist", cleanShutdownFile.exists())
-    var recoveryPoint = 50L
+    var recoveryPoint = 0L
     // create a log and write some messages to it
     var log = new Log(logDir,
       config,
