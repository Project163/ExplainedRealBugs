diff --git a/core/src/test/scala/unit/kafka/producer/AsyncProducerTest.scala b/core/src/test/scala/unit/kafka/producer/AsyncProducerTest.scala
index beb63a4de9..fb0666fd0b 100644
--- a/core/src/test/scala/unit/kafka/producer/AsyncProducerTest.scala
+++ b/core/src/test/scala/unit/kafka/producer/AsyncProducerTest.scala
@@ -65,6 +65,7 @@ class AsyncProducerTest extends JUnit3Suite {
     props.put("producer.type", "async")
     props.put("queue.buffering.max.messages", "10")
     props.put("batch.num.messages", "1")
+    props.put("queue.enqueue.timeout.ms", "0")
 
     val config = new ProducerConfig(props)
     val produceData = getProduceData(12)
