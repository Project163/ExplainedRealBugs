diff --git a/build.gradle b/build.gradle
index 27d0ef6bf2..725cf0b8bb 100644
--- a/build.gradle
+++ b/build.gradle
@@ -25,10 +25,10 @@ buildscript {
   dependencies {
     // For Apache Rat plugin to ignore non-Git files
     classpath "org.ajoberstar:grgit:1.9.3"
-    classpath 'com.github.ben-manes:gradle-versions-plugin:0.15.0'
+    classpath 'com.github.ben-manes:gradle-versions-plugin:0.17.0'
     classpath 'org.scoverage:gradle-scoverage:2.1.0'
-    classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.1'
-    classpath 'org.owasp:dependency-check-gradle:3.0.1'
+    classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.2'
+    classpath 'org.owasp:dependency-check-gradle:3.0.2'
   }
 }
 
@@ -79,7 +79,7 @@ allprojects {
 }
 
 ext {
-  gradleVersion = "4.2.1"
+  gradleVersion = "4.4.1"
   buildVersionFileName = "kafka-version.properties"
 
   maxPermSizeArgs = []
@@ -548,7 +548,9 @@ project(':core') {
     compile libs.jacksonDatabind
     compile libs.joptSimple
     compile libs.metrics
-    compile libs.scala
+    compile libs.scalaLibrary
+    // only needed transitively, but set it explicitly to ensure it has the same version as scala-library
+    compile libs.scalaReflect
     compile libs.scalaLogging
     compile libs.slf4jApi
     compile(libs.zkclient) {
diff --git a/core/src/test/scala/unit/kafka/server/ServerShutdownTest.scala b/core/src/test/scala/unit/kafka/server/ServerShutdownTest.scala
index 135f7f1fd2..c8c3076121 100755
--- a/core/src/test/scala/unit/kafka/server/ServerShutdownTest.scala
+++ b/core/src/test/scala/unit/kafka/server/ServerShutdownTest.scala
@@ -23,13 +23,11 @@ import kafka.utils.TestUtils._
 import kafka.api.FetchRequestBuilder
 import kafka.message.ByteBufferMessageSet
 import java.io.File
-import java.net.UnknownHostException
 
 import kafka.log.LogManager
 import org.apache.kafka.clients.producer.{KafkaProducer, ProducerRecord}
 import org.apache.kafka.common.errors.KafkaStorageException
 import org.apache.kafka.common.serialization.{IntegerSerializer, StringSerializer}
-import org.I0Itec.zkclient.exception.ZkException
 import org.junit.{Before, Test}
 import org.junit.Assert._
 
@@ -130,9 +128,9 @@ class ServerShutdownTest extends ZooKeeperTestHarness {
   @Test
   def testCleanShutdownAfterFailedStartup() {
     val newProps = TestUtils.createBrokerConfig(0, zkConnect)
-    newProps.setProperty("zookeeper.connect", "fakehostthatwontresolve:65535")
+    newProps.setProperty("zookeeper.connect", "some.invalid.hostname.foo.bar.local:65535")
     val newConfig = KafkaConfig.fromProps(newProps)
-    verifyCleanShutdownAfterFailedStartup[UnknownHostException](newConfig)
+    verifyCleanShutdownAfterFailedStartup[IllegalArgumentException](newConfig)
   }
 
   @Test
diff --git a/core/src/test/scala/unit/kafka/zookeeper/ZooKeeperClientTest.scala b/core/src/test/scala/unit/kafka/zookeeper/ZooKeeperClientTest.scala
index 141dcee8e3..d402abb5b6 100644
--- a/core/src/test/scala/unit/kafka/zookeeper/ZooKeeperClientTest.scala
+++ b/core/src/test/scala/unit/kafka/zookeeper/ZooKeeperClientTest.scala
@@ -53,7 +53,7 @@ class ZooKeeperClientTest extends ZooKeeperTestHarness {
     Configuration.setConfiguration(null)
   }
 
-  @Test(expected = classOf[UnknownHostException])
+  @Test(expected = classOf[IllegalArgumentException])
   def testUnresolvableConnectString(): Unit = {
     new ZooKeeperClient("some.invalid.hostname.foo.bar.local", -1, -1, Int.MaxValue, time)
   }
diff --git a/gradle/dependencies.gradle b/gradle/dependencies.gradle
index 6f30e7adec..0f395b8119 100644
--- a/gradle/dependencies.gradle
+++ b/gradle/dependencies.gradle
@@ -51,8 +51,8 @@ versions += [
   apacheds: "2.0.0-M24",
   argparse4j: "0.7.0",
   bcpkix: "1.58",
-  easymock: "3.5",
-  jackson: "2.9.1",
+  easymock: "3.5.1",
+  jackson: "2.9.3",
   jetty: "9.2.22.v20170606",
   jersey: "2.25.1",
   jmh: "1.19",
@@ -69,11 +69,11 @@ versions += [
   scalatest: "3.0.4",
   scoverage: "1.3.1",
   slf4j: "1.7.25",
-  snappy: "1.1.4",
+  snappy: "1.1.7.1",
   zkclient: "0.10",
-  zookeeper: "3.4.10",
+  zookeeper: "3.4.11",
   jfreechart: "1.0.0",
-  mavenArtifact: "3.5.0"
+  mavenArtifact: "3.5.2"
 ]
 
 libs += [
@@ -108,8 +108,8 @@ libs += [
   powermockEasymock: "org.powermock:powermock-api-easymock:$versions.powermock",
   reflections: "org.reflections:reflections:$versions.reflections",
   rocksDBJni: "org.rocksdb:rocksdbjni:$versions.rocksDB",
-  scala: "org.scala-lang:scala-library:$versions.scala",
-  scalaCompiler: "org.scala-lang:scala-compiler:$versions.scala",
+  scalaLibrary: "org.scala-lang:scala-library:$versions.scala",
+  scalaReflect: "org.scala-lang:scala-reflect:$versions.scala",
   scalatest: "org.scalatest:scalatest_$versions.baseScala:$versions.scalatest",
   scoveragePlugin: "org.scoverage:scalac-scoverage-plugin_$versions.baseScala:$versions.scoverage",
   scoverageRuntime: "org.scoverage:scalac-scoverage-runtime_$versions.baseScala:$versions.scoverage",
