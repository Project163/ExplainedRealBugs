diff --git a/streams/src/test/java/org/apache/kafka/streams/processor/internals/StoreChangelogReaderTest.java b/streams/src/test/java/org/apache/kafka/streams/processor/internals/StoreChangelogReaderTest.java
index 46cbdb92d3..9a79617269 100644
--- a/streams/src/test/java/org/apache/kafka/streams/processor/internals/StoreChangelogReaderTest.java
+++ b/streams/src/test/java/org/apache/kafka/streams/processor/internals/StoreChangelogReaderTest.java
@@ -946,8 +946,8 @@ public class StoreChangelogReaderTest extends EasyMockSupport {
 
     @Test
     public void shouldNotThrowOnUnknownRevokedPartition() {
-        final LogCaptureAppender appender = LogCaptureAppender.createAndRegister();
         LogCaptureAppender.setClassLoggerToDebug(changelogReader.getClass());
+        final LogCaptureAppender appender = LogCaptureAppender.createAndRegister(changelogReader.getClass());
 
         try {
             changelogReader.remove(
diff --git a/streams/src/test/java/org/apache/kafka/streams/processor/internals/testutil/LogCaptureAppender.java b/streams/src/test/java/org/apache/kafka/streams/processor/internals/testutil/LogCaptureAppender.java
index a1f7b3111f..40c6076d01 100644
--- a/streams/src/test/java/org/apache/kafka/streams/processor/internals/testutil/LogCaptureAppender.java
+++ b/streams/src/test/java/org/apache/kafka/streams/processor/internals/testutil/LogCaptureAppender.java
@@ -60,6 +60,12 @@ public class LogCaptureAppender extends AppenderSkeleton {
         return logCaptureAppender;
     }
 
+    public static LogCaptureAppender createAndRegister(final Class<?> clazz) {
+        final LogCaptureAppender logCaptureAppender = new LogCaptureAppender();
+        Logger.getLogger(clazz).addAppender(logCaptureAppender);
+        return logCaptureAppender;
+    }
+
     public static void setClassLoggerToDebug(final Class<?> clazz) {
         Logger.getLogger(clazz).setLevel(Level.DEBUG);
     }
