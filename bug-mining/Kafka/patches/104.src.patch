diff --git a/core/src/test/scala/unit/kafka/message/MessageCompressionTest.scala b/core/src/test/scala/unit/kafka/message/MessageCompressionTest.scala
index 8b5f38a24b..aac82ddfca 100644
--- a/core/src/test/scala/unit/kafka/message/MessageCompressionTest.scala
+++ b/core/src/test/scala/unit/kafka/message/MessageCompressionTest.scala
@@ -60,6 +60,7 @@ class MessageCompressionTest extends JUnitSuite {
       true
     } catch {
       case e: UnsatisfiedLinkError => false
+      case e: org.xerial.snappy.SnappyError => false
     }
   }
 }
