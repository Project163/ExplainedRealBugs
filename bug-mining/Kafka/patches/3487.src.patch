diff --git a/tools/src/test/java/org/apache/kafka/tools/JmxToolTest.java b/tools/src/test/java/org/apache/kafka/tools/JmxToolTest.java
index 674599edcc..f936d3d094 100644
--- a/tools/src/test/java/org/apache/kafka/tools/JmxToolTest.java
+++ b/tools/src/test/java/org/apache/kafka/tools/JmxToolTest.java
@@ -40,20 +40,33 @@ import java.util.Arrays;
 import java.util.HashMap;
 import java.util.Map;
 
+import static java.lang.String.format;
 import static org.junit.jupiter.api.Assertions.assertEquals;
 import static org.junit.jupiter.api.Assertions.assertTrue;
 
 public class JmxToolTest {
     private final ToolsTestUtils.MockExitProcedure exitProcedure = new ToolsTestUtils.MockExitProcedure();
-
     private static JMXConnectorServer jmxAgent;
     private static String jmxUrl;
 
     @BeforeAll
     public static void beforeAll() throws Exception {
         int port = findRandomOpenPortOnAllLocalInterfaces();
-        jmxAgent = startJmxAgent(port);
-        jmxUrl = String.format("service:jmx:rmi:///jndi/rmi://:%d/jmxrmi", port);
+        jmxUrl = format("service:jmx:rmi:///jndi/rmi://:%d/jmxrmi", port);
+        // explicitly set the hostname returned to the the clients in the remote stub object
+        // when connecting to a multi-homed machine using RMI, the wrong address may be returned
+        // by the RMI registry to the client, causing the connection to the RMI server to timeout
+        System.setProperty("java.rmi.server.hostname", "localhost");
+        LocateRegistry.createRegistry(port);
+        Map<String, Object> env = new HashMap<>();
+        env.put("com.sun.management.jmxremote.authenticate", "false");
+        env.put("com.sun.management.jmxremote.ssl", "false");
+        JMXServiceURL url = new JMXServiceURL(jmxUrl);
+        MBeanServer server = ManagementFactory.getPlatformMBeanServer();
+        server.registerMBean(new Metrics(),
+            new ObjectName("kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec"));
+        jmxAgent = JMXConnectorServerFactory.newJMXConnectorServer(url, env, server);
+        jmxAgent.start();
     }
 
     @AfterAll
@@ -324,20 +337,6 @@ public class JmxToolTest {
         assertTrue(validDateFormat(dateFormat, csv.get("time")));
     }
 
-    private static JMXConnectorServer startJmxAgent(int port) throws Exception {
-        LocateRegistry.createRegistry(port);
-        Map<String, Object> env = new HashMap<>();
-        env.put("com.sun.management.jmxremote.authenticate", "false");
-        env.put("com.sun.management.jmxremote.ssl", "false");
-        JMXServiceURL url = new JMXServiceURL(String.format("service:jmx:rmi:///jndi/rmi://:%d/jmxrmi", port));
-        MBeanServer server = ManagementFactory.getPlatformMBeanServer();
-        server.registerMBean(new Metrics(),
-            new ObjectName("kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec"));
-        JMXConnectorServer agent = JMXConnectorServerFactory.newJMXConnectorServer(url, env, server);
-        agent.start();
-        return agent;
-    }
-
     private static int findRandomOpenPortOnAllLocalInterfaces() throws Exception {
         try (ServerSocket socket = new ServerSocket(0)) {
             return socket.getLocalPort();
