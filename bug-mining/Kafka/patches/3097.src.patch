diff --git a/clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java b/clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java
index 4fd695499c..85b0103e59 100644
--- a/clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java
+++ b/clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java
@@ -1372,11 +1372,15 @@ public class ConfigDef {
      */
     private void getConfigKeyRst(ConfigKey key, StringBuilder b) {
         b.append("``").append(key.name).append("``").append("\n");
-        for (String docLine : key.documentation.split("\n")) {
-            if (docLine.length() == 0) {
-                continue;
+        if (key.documentation != null) {
+            for (String docLine : key.documentation.split("\n")) {
+                if (docLine.length() == 0) {
+                    continue;
+                }
+                b.append("  ").append(docLine).append("\n\n");
             }
-            b.append("  ").append(docLine).append("\n\n");
+        } else {
+            b.append("\n");
         }
         b.append("  * Type: ").append(getConfigValue(key, "Type")).append("\n");
         if (key.hasDefault()) {
@@ -1556,7 +1560,9 @@ public class ConfigDef {
                     "<a id=\"%3$s\"></a><a id=\"%2$s\" href=\"#%2$s\">%3$s</a>" +
                     "</h%1$d>%n", headerDepth, idGenerator.apply(key.name), key.name));
             b.append("<p>");
-            b.append(key.documentation.replaceAll("\n", "<br>"));
+            if (key.documentation != null) {
+                b.append(key.documentation.replaceAll("\n", "<br>"));
+            }
             b.append("</p>\n");
 
             b.append("<table>" +
diff --git a/clients/src/test/java/org/apache/kafka/common/config/ConfigDefTest.java b/clients/src/test/java/org/apache/kafka/common/config/ConfigDefTest.java
index f8239e5b7e..893f68b89e 100644
--- a/clients/src/test/java/org/apache/kafka/common/config/ConfigDefTest.java
+++ b/clients/src/test/java/org/apache/kafka/common/config/ConfigDefTest.java
@@ -368,12 +368,16 @@ public class ConfigDefTest {
     }
 
     @Test
-    public void testInternalConfigDoesntShowUpInDocs() throws Exception {
+    public void testInternalConfigDoesntShowUpInDocs() {
         final String name = "my.config";
         final ConfigDef configDef = new ConfigDef().defineInternal(name, Type.STRING, "", Importance.LOW);
+        configDef.defineInternal("my.other.config", Type.STRING, "", null, Importance.LOW, null);
         assertFalse(configDef.toHtmlTable().contains("my.config"));
         assertFalse(configDef.toEnrichedRst().contains("my.config"));
         assertFalse(configDef.toRst().contains("my.config"));
+        assertFalse(configDef.toHtmlTable().contains("my.other.config"));
+        assertFalse(configDef.toEnrichedRst().contains("my.other.config"));
+        assertFalse(configDef.toRst().contains("my.other.config"));
     }
 
     @Test
@@ -492,7 +496,8 @@ public class ConfigDefTest {
         final ConfigDef def = new ConfigDef()
                 .define("opt1", Type.STRING, "a", ValidString.in("a", "b", "c"), Importance.HIGH, "docs1")
                 .define("opt2", Type.INT, Importance.MEDIUM, "docs2")
-                .define("opt3", Type.LIST, Arrays.asList("a", "b"), Importance.LOW, "docs3");
+                .define("opt3", Type.LIST, Arrays.asList("a", "b"), Importance.LOW, "docs3")
+                .define("opt4", Type.BOOLEAN, false, Importance.LOW, null);
 
         final String expectedRst = "" +
                 "``opt2``\n" +
@@ -515,6 +520,12 @@ public class ConfigDefTest {
                 "  * Type: list\n" +
                 "  * Default: a,b\n" +
                 "  * Importance: low\n" +
+                "\n" +
+                "``opt4``\n" +
+                "\n" +
+                "  * Type: boolean\n" +
+                "  * Default: false\n" +
+                "  * Importance: low\n" +
                 "\n";
 
         assertEquals(expectedRst, def.toRst());
