<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:38:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-871] Rename ZkConfig properties</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-871</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;For clarity. Renaming these properties should help in migration from 0.7 to 0.8.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12644034">KAFKA-871</key>
            <summary>Rename ZkConfig properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="swapnilghike">Swapnil Ghike</assignee>
                                    <reporter username="swapnilghike">Swapnil Ghike</reporter>
                        <labels>
                            <label>kafka-0.8</label>
                            <label>p1</label>
                    </labels>
                <created>Tue, 23 Apr 2013 01:31:21 +0000</created>
                <updated>Fri, 26 Apr 2013 01:58:30 +0000</updated>
                            <resolved>Fri, 26 Apr 2013 01:58:30 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13638695" author="swapnilghike" created="Tue, 23 Apr 2013 01:33:03 +0000"  >&lt;p&gt;Unit tests pass.&lt;/p&gt;</comment>
                            <comment id="13638696" author="swapnilghike" created="Tue, 23 Apr 2013 01:33:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jfung&quot; class=&quot;user-hover&quot; rel=&quot;jfung&quot;&gt;jfung&lt;/a&gt;: Could you take a look at this patch? Since it touches a lot of the system test files.&lt;/p&gt;</comment>
                            <comment id="13639244" author="junrao" created="Tue, 23 Apr 2013 17:05:13 +0000"  >&lt;p&gt;Thanks for the patch. For clarity, should we rename broker.list in ProducerConfig to sth like bootstrap.broker.list? In 0.8, broker.list is only used by the metadata request for bootstrapping, not for the actual produce requests.&lt;/p&gt;</comment>
                            <comment id="13639359" author="swapnilghike" created="Tue, 23 Apr 2013 18:23:59 +0000"  >&lt;p&gt;How about using metadata.broker.list or metadata.brokers? &lt;/p&gt;</comment>
                            <comment id="13639364" author="junrao" created="Tue, 23 Apr 2013 18:31:00 +0000"  >&lt;p&gt;metadata.broker.list is fine.&lt;/p&gt;</comment>
                            <comment id="13639382" author="jfung" created="Tue, 23 Apr 2013 18:45:37 +0000"  >&lt;p&gt;Hi Swapnil,&lt;/p&gt;

&lt;p&gt;In system_test/migration_tool_testsuite, the source cluster are running in 0.7. It is necessary to distinguish between 0.7 &amp;amp; 0.8 config in the testcase_xxxx_properties.json file. Let&apos;s walk through the changes needed.&lt;/p&gt;</comment>
                            <comment id="13639968" author="swapnilghike" created="Wed, 24 Apr 2013 01:39:22 +0000"  >&lt;p&gt;Renamed broker.list to metadata.broker.list. &lt;/p&gt;

&lt;p&gt;Discussed the system test changes with John, they are included in this patch. Unfortunately I could not run the sanity test locally, because it kept prompting for password. I will work with John tomorrow to solve this issue. &lt;/p&gt;

&lt;p&gt;As a by product of the discussion with John, we have filed &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-874&quot; title=&quot;Migration tool&amp;#39;s system tests should use separate server.properties files for 0.7 and 0.8 brokers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-874&quot;&gt;&lt;del&gt;KAFKA-874&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-875&quot; title=&quot;System test cleanup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-875&quot;&gt;&lt;del&gt;KAFKA-875&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Testing: All unit tests pass.&lt;/p&gt;</comment>
                            <comment id="13640151" author="swapnilghike" created="Wed, 24 Apr 2013 06:20:07 +0000"  >&lt;p&gt;We should hold off checking this patch in until we have verified that the system test works. I will also include a little JSON parsing related bug fix in v3.&lt;/p&gt;</comment>
                            <comment id="13640553" author="junrao" created="Wed, 24 Apr 2013 15:53:41 +0000"  >&lt;p&gt;Some comments on patch v2. There are a few places that we changed &quot;-&lt;del&gt;brokerinfo broker.list&quot; or &quot;&lt;/del&gt;&lt;del&gt;brokerinfo zk.connect&quot; in the 0.7 kafka.perf.ProducerPerformance to use the new 0.8 property name (the &quot;&lt;/del&gt;-brokerinfo&quot; option is only available in 0.7). These include&lt;br/&gt;
system_test/producer_perf/bin/run-compression-test.sh&lt;br/&gt;
system_test/producer_perf/bin/run-test.sh&lt;br/&gt;
system_test/broker_failure/bin/run-test.sh&lt;br/&gt;
system_test/mirror_maker/bin/run-test.sh &lt;/p&gt;

&lt;p&gt;It&apos;s weird that we include the 0.7 ProducerPerformance in system_test/broker_failure/bin/run-test.sh and system_test/mirror_maker/bin/run-test.sh since they are supposed to only test 0.8.&lt;/p&gt;</comment>
                            <comment id="13640665" author="swapnilghike" created="Wed, 24 Apr 2013 17:18:04 +0000"  >&lt;p&gt;According to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jfung&quot; class=&quot;user-hover&quot; rel=&quot;jfung&quot;&gt;jfung&lt;/a&gt;, anything under system_test that does not have &quot;_testsuite&quot; at the end is not being used currently. So, I did not take the pains to clean up the changes that you mentioned, I believe those directories should be deleted as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-875&quot; title=&quot;System test cleanup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-875&quot;&gt;&lt;del&gt;KAFKA-875&lt;/del&gt;&lt;/a&gt; anyways.&lt;/p&gt;</comment>
                            <comment id="13640667" author="swapnilghike" created="Wed, 24 Apr 2013 17:18:36 +0000"  >&lt;p&gt;I will exclude them from v3 to reduce the noise in the patch.&lt;/p&gt;</comment>
                            <comment id="13640711" author="jfung" created="Wed, 24 Apr 2013 17:45:01 +0000"  >&lt;p&gt;The following are older system testing scripts in bash before system test is ported to Python. It is probably safe to be removed from the branch to avoid confusion.&lt;/p&gt;

&lt;p&gt;1. system_test/broker_failure&lt;br/&gt;
2. system_test/mirror_maker  (NOT mirror_maker_testsuite)&lt;br/&gt;
3. system_test/producer_perf&lt;br/&gt;
4. system_test/common&lt;/p&gt;</comment>
                            <comment id="13641323" author="swapnilghike" created="Thu, 25 Apr 2013 02:38:23 +0000"  >&lt;p&gt;1. Removed the aforementioned noise from patch v3.&lt;br/&gt;
2. The additional interesting change is a one character fix to JSON parsing in seqToJson in Utils.scala. We were not building the comma separated string correctly earlier, and this bug was not exposed because that particular condition was not exercised.&lt;br/&gt;
3. Added zookeeper.connect and zookeeper.connection.timeout.ms to migration_tool_testsuite/config/server.properties, because we are currently using only 1 server.properties file for both kafka 0.7 and 0.8 brokers. &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-874&quot; title=&quot;Migration tool&amp;#39;s system tests should use separate server.properties files for 0.7 and 0.8 brokers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-874&quot;&gt;&lt;del&gt;KAFKA-874&lt;/del&gt;&lt;/a&gt; will create two separate config files for 0.7 and 0.8 brokers.&lt;/p&gt;

&lt;p&gt;Testing:&lt;br/&gt;
1. Unit tests pass.&lt;br/&gt;
2. As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jfung&quot; class=&quot;user-hover&quot; rel=&quot;jfung&quot;&gt;jfung&lt;/a&gt; suggested, tested migration tool test case 9001. It passed:&lt;/p&gt;

&lt;p&gt;_test_case_name  :  testcase_9001&lt;br/&gt;
_test_class_name  :  MigrationToolTest&lt;br/&gt;
arg : bounce_migration_tool  :  false&lt;br/&gt;
arg : message_producing_free_time_sec  :  30&lt;br/&gt;
arg : num_iteration  :  1&lt;br/&gt;
arg : num_messages_to_produce_per_producer_call  :  50&lt;br/&gt;
arg : num_partition  :  1&lt;br/&gt;
arg : replica_factor  :  3&lt;br/&gt;
arg : sleep_seconds_between_producer_calls  :  1&lt;br/&gt;
validation_status  : &lt;br/&gt;
     Unique messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt;  :  0&lt;br/&gt;
     Unique messages from producer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt;  :  0&lt;/p&gt;

&lt;p&gt;Total failures count : 0&lt;/p&gt;
</comment>
                            <comment id="13641942" author="junrao" created="Thu, 25 Apr 2013 16:47:19 +0000"  >&lt;p&gt;Thanks for patch v3. Looks good. The following config is weird. It seems to be an 0.7 producer config. However, in 0.7, the broker list format is brokerid:host:port. Is it still being used?&lt;/p&gt;

&lt;p&gt;./system_test/migration_tool_testsuite/config/migration_producer.properties:broker.list=localhost:9094,localhost:9095,localhost:9096&lt;/p&gt;</comment>
                            <comment id="13641966" author="jfung" created="Thu, 25 Apr 2013 17:15:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swapnilghike&quot; class=&quot;user-hover&quot; rel=&quot;swapnilghike&quot;&gt;swapnilghike&lt;/a&gt; : The test result is showing 0 messages for both producer &amp;amp; consumer. There may be some settings which are configured incorrectly.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=junrao&quot; class=&quot;user-hover&quot; rel=&quot;junrao&quot;&gt;junrao&lt;/a&gt; : The broker.list property line is also used in the Hudson nightly job.&lt;/p&gt;</comment>
                            <comment id="13642347" author="swapnilghike" created="Thu, 25 Apr 2013 23:02:25 +0000"  >&lt;p&gt;Attached patch v4. &lt;/p&gt;

&lt;p&gt;I think v4 fixes the system test. Ran 3 test cases according to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jfung&quot; class=&quot;user-hover&quot; rel=&quot;jfung&quot;&gt;jfung&lt;/a&gt;&apos;s advice:&lt;/p&gt;

&lt;p&gt;_test_case_name  :  testcase_5001&lt;br/&gt;
_test_class_name  :  MirrorMakerTest&lt;br/&gt;
arg : bounce_leader  :  false&lt;br/&gt;
arg : bounce_mirror_maker  :  false&lt;br/&gt;
arg : message_producing_free_time_sec  :  15&lt;br/&gt;
arg : num_iteration  :  1&lt;br/&gt;
arg : num_messages_to_produce_per_producer_call  :  50&lt;br/&gt;
arg : num_partition  :  1&lt;br/&gt;
arg : replica_factor  :  3&lt;br/&gt;
arg : sleep_seconds_between_producer_calls  :  1&lt;br/&gt;
validation_status  :-&lt;br/&gt;
     Unique messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt;  :  500&lt;br/&gt;
     Unique messages from producer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt;  :  500&lt;br/&gt;
     Validate for data matched on topic &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt;  :  PASSED&lt;br/&gt;
     Validate for merged log segment checksum in cluster &lt;span class=&quot;error&quot;&gt;&amp;#91;source&amp;#93;&lt;/span&gt;  :  PASSED&lt;br/&gt;
     Validate for merged log segment checksum in cluster &lt;span class=&quot;error&quot;&gt;&amp;#91;target&amp;#93;&lt;/span&gt;  :  PASSED&lt;/p&gt;

&lt;p&gt;_test_case_name  :  testcase_0001&lt;br/&gt;
_test_class_name  :  ReplicaBasicTest&lt;br/&gt;
arg : bounce_broker  :  false&lt;br/&gt;
arg : broker_type  :  leader&lt;br/&gt;
arg : message_producing_free_time_sec  :  15&lt;br/&gt;
arg : num_iteration  :  1&lt;br/&gt;
arg : num_messages_to_produce_per_producer_call  :  50&lt;br/&gt;
arg : num_partition  :  1&lt;br/&gt;
arg : replica_factor  :  3&lt;br/&gt;
arg : sleep_seconds_between_producer_calls  :  1&lt;br/&gt;
validation_status  :-&lt;br/&gt;
     Leader Election Latency MAX  :  None&lt;br/&gt;
     Leader Election Latency MIN  :  None&lt;br/&gt;
     No. of messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt; at simple_consumer_test_1-0_r1.log  :  500&lt;br/&gt;
     No. of messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt; at simple_consumer_test_1-0_r2.log  :  500&lt;br/&gt;
     No. of messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt; at simple_consumer_test_1-0_r3.log  :  500&lt;br/&gt;
     Unique messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt;  :  500&lt;br/&gt;
     Unique messages from producer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt;  :  500&lt;br/&gt;
     Validate for data matched on topic &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt;  :  PASSED&lt;br/&gt;
     Validate for data matched on topic &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt; across replicas  :  PASSED&lt;br/&gt;
     Validate for merged log segment checksum in cluster &lt;span class=&quot;error&quot;&gt;&amp;#91;source&amp;#93;&lt;/span&gt;  :  PASSED&lt;br/&gt;
     Validate index log in cluster &lt;span class=&quot;error&quot;&gt;&amp;#91;source&amp;#93;&lt;/span&gt;  :  PASSED&lt;/p&gt;

&lt;p&gt;_test_case_name : testcase_9001&lt;br/&gt;
_test_class_name : MigrationToolTest&lt;br/&gt;
validation_status : &lt;br/&gt;
     Unique messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt; : 10500&lt;br/&gt;
     Unique messages from producer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt; : 10500&lt;/p&gt;

&lt;p&gt;Unit tests pass.&lt;/p&gt;</comment>
                            <comment id="13642507" author="junrao" created="Fri, 26 Apr 2013 01:58:30 +0000"  >&lt;p&gt;Thanks for the patch. Committed to 0.8.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12579956" name="kafka-871-v1.patch" size="35996" author="swapnilghike" created="Tue, 23 Apr 2013 01:33:03 +0000"/>
                            <attachment id="12580210" name="kafka-871-v2.patch" size="66720" author="swapnilghike" created="Wed, 24 Apr 2013 01:39:22 +0000"/>
                            <attachment id="12580454" name="kafka-871-v3.patch" size="46704" author="swapnilghike" created="Thu, 25 Apr 2013 02:39:22 +0000"/>
                            <attachment id="12580611" name="kafka-871-v4.patch" size="47317" author="swapnilghike" created="Thu, 25 Apr 2013 23:02:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324401</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jyvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>