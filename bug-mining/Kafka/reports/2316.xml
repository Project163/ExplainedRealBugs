<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:19:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-8637] WriteBatch objects leak off-heap memory</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-8637</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;In 2.1 we did some refactoring that led to the WriteBatch objects in RocksDBSegmentedBytesStore#restoreAllInternal being created in a separate method, rather than in a try-with-resources statement as used elsewhere. This&#160;causes a memory leak as the WriteBatches are no longer closed automatically&lt;/p&gt;</description>
                <environment></environment>
        <key id="13243755">KAFKA-8637</key>
            <summary>WriteBatch objects leak off-heap memory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ableegoldman">A. Sophie Blee-Goldman</assignee>
                                    <reporter username="ableegoldman">A. Sophie Blee-Goldman</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Jul 2019 19:56:33 +0000</created>
                <updated>Sun, 22 Dec 2024 03:40:05 +0000</updated>
                            <resolved>Mon, 15 Jul 2019 23:46:30 +0000</resolved>
                                    <version>2.1.0</version>
                    <version>2.2.0</version>
                    <version>2.3.0</version>
                                    <fixVersion>2.1.2</fixVersion>
                    <fixVersion>2.2.2</fixVersion>
                    <fixVersion>2.3.1</fixVersion>
                    <fixVersion>2.4.0</fixVersion>
                                    <component>streams</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16880729" author="githubbot" created="Mon, 8 Jul 2019 21:48:26 +0000"  >&lt;p&gt;ableegoldman commented on pull request #7049: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8637&quot; title=&quot;WriteBatch objects leak off-heap memory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8637&quot;&gt;&lt;del&gt;KAFKA-8637&lt;/del&gt;&lt;/a&gt;: WriteBatch objects leak off-heap memory&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/7049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/7049&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Should be cherry-picked back to 2.1&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16880748" author="githubbot" created="Mon, 8 Jul 2019 22:08:53 +0000"  >&lt;p&gt;ableegoldman commented on pull request #7050: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8637&quot; title=&quot;WriteBatch objects leak off-heap memory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8637&quot;&gt;&lt;del&gt;KAFKA-8637&lt;/del&gt;&lt;/a&gt;: WriteBatch objects leak off-heap memory&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/7050&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/7050&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Should be cherry-picked back to 2.1  (`batch.close()` should be moved to `RocksDBSegmentedBytesStore#restoreAllInternal` for 2.2 and earlier)&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16883417" author="githubbot" created="Thu, 11 Jul 2019 23:52:09 +0000"  >&lt;p&gt;ableegoldman commented on pull request #7077: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8637&quot; title=&quot;WriteBatch objects leak off-heap memory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8637&quot;&gt;&lt;del&gt;KAFKA-8637&lt;/del&gt;&lt;/a&gt;: WriteBatch objects leak off-heap memory&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/7077&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/7077&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Cherry-pick to 2.1&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16884004" author="githubbot" created="Fri, 12 Jul 2019 17:19:53 +0000"  >&lt;p&gt;mjsax commented on pull request #7077: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8637&quot; title=&quot;WriteBatch objects leak off-heap memory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8637&quot;&gt;&lt;del&gt;KAFKA-8637&lt;/del&gt;&lt;/a&gt;: WriteBatch objects leak off-heap memory&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/7077&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/7077&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16885702" author="githubbot" created="Mon, 15 Jul 2019 23:38:31 +0000"  >&lt;p&gt;guozhangwang commented on pull request #7050: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8637&quot; title=&quot;WriteBatch objects leak off-heap memory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8637&quot;&gt;&lt;del&gt;KAFKA-8637&lt;/del&gt;&lt;/a&gt;: WriteBatch objects leak off-heap memory&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/7050&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/7050&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13233492">KAFKA-8367</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z04gzs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>