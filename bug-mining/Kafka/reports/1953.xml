<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:12:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-7055] Kafka Streams Processor API allows you to add sinks and processors without parent</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-7055</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;The Kafka Streams Processor API allows you to define a Topology and connect sources, processors, and sinks. From reading through the code, it seems that you cannot forward a message to a downstream node unless it is explicitly connected to the upstream node (from which you are forwarding the message) as a child. Here is an example&#160;where you forward using name of downstream node rather than child index (&lt;a href=&quot;https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java#L117&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java#L117&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;However, I&apos;ve been able to connect processors and sinks to the topology without including parent names, i.e with empty vararg, using this&#160;method: &lt;a href=&quot;https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/Topology.java#L423&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/Topology.java#L423&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;As any attempt to forward a message to&#160;those nodes will throw a StreamsException, I suggest throwing an exception if a processor or sink is added without at least one upstream node. There is a method in `InternalTopologyBuilder` that allows you to connect processors by name after you add them to the topology, but it is not part of the external Processor API.&lt;/p&gt;

&lt;p&gt;In addition (or alternatively), I suggest making &lt;a href=&quot;https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java#L119&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the error message for when users try to forward messages to a node that is not connected&lt;/a&gt; more descriptive, like this one for when a user attempts to access a state store that is not connected to the processor:&#160;&lt;a href=&quot;https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java#L75-L81&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java#L75-L81&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13165848">KAFKA-7055</key>
            <summary>Kafka Streams Processor API allows you to add sinks and processors without parent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nthean">Nikki Thean</assignee>
                                    <reporter username="nthean">Nikki Thean</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Jun 2018 14:13:12 +0000</created>
                <updated>Fri, 15 Jun 2018 13:53:25 +0000</updated>
                            <resolved>Fri, 15 Jun 2018 03:28:18 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>streams</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16511195" author="nthean" created="Wed, 13 Jun 2018 14:13:51 +0000"  >&lt;p&gt;If&#160;project reviewers feel this is a reasonable approach to take, I&apos;m happy to submit my own pull request and link it to the ticket!&lt;/p&gt;</comment>
                            <comment id="16511202" author="nthean" created="Wed, 13 Jun 2018 14:19:02 +0000"  >&lt;p&gt;Sorry about the inconsistent link format; Jira decided to convert only one of the links I formatted.&lt;/p&gt;</comment>
                            <comment id="16511401" author="guozhang" created="Wed, 13 Jun 2018 16:37:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nthean&quot; class=&quot;user-hover&quot; rel=&quot;nthean&quot;&gt;nthean&lt;/a&gt; Thanks for reporting the issue, and I think it is a better idea to throw an exception at the parsing time, not at runtime (i.e. your first option). More specifically in `InternalTopologyBuilder#addProcessor / #addSink` we should check that `predecessorNames` size is at least one.&lt;/p&gt;</comment>
                            <comment id="16511436" author="githubbot" created="Wed, 13 Jun 2018 17:04:34 +0000"  >&lt;p&gt;nixsticks opened a new pull request #5214: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-7055&quot; title=&quot;Kafka Streams Processor API allows you to add sinks and processors without parent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-7055&quot;&gt;&lt;del&gt;KAFKA-7055&lt;/del&gt;&lt;/a&gt;: Update InternalTopologyBuilder to throw TopologyException&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/5214&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/5214&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &#8230; if a processor or sink is added with no upstream node attached&lt;/p&gt;

&lt;p&gt;   InternalTopologyBuilder throws an exception if a sink or a processor is added without at least one upstream node, as records cannot be forwarded downstream to an unconnected node. This does not prevent users from attempting to forward to unconnected nodes, but it does prevent them from attaching effectively useless downstream nodes, and the error message for forwarding to an unconnected node has been updated to be slightly more specific.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16511476" author="githubbot" created="Wed, 13 Jun 2018 17:49:10 +0000"  >&lt;p&gt;nixsticks closed pull request #5214: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-7055&quot; title=&quot;Kafka Streams Processor API allows you to add sinks and processors without parent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-7055&quot;&gt;&lt;del&gt;KAFKA-7055&lt;/del&gt;&lt;/a&gt;: Update InternalTopologyBuilder to throw TopologyException&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/5214&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/5214&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/streams/src/main/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilder.java b/streams/src/main/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilder.java&lt;br/&gt;
index 36a2edc6766..cf50c1c4bed 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilder.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilder.java&lt;br/&gt;
@@ -442,6 +442,10 @@ public final void addSource(final Topology.AutoOffsetReset offsetReset,&lt;br/&gt;
                                      final String... predecessorNames) {&lt;br/&gt;
         Objects.requireNonNull(name, &quot;name must not be null&quot;);&lt;br/&gt;
         Objects.requireNonNull(topic, &quot;topic must not be null&quot;);&lt;br/&gt;
+        if (predecessorNames.length == 0) &lt;/p&gt;
{
+            throw new TopologyException(&quot;Sink &quot; + name + &quot; must have at least one parent&quot;);
+        }&lt;br/&gt;
+&lt;br/&gt;
         addSink(name, new StaticTopicNameExtractor&amp;lt;K, V&amp;gt;(topic), keySerializer, valSerializer, partitioner, predecessorNames);&lt;br/&gt;
         nodeToSinkTopic.put(name, topic);&lt;br/&gt;
     }&lt;br/&gt;
@@ -457,6 +461,9 @@ public final void addSource(final Topology.AutoOffsetReset offsetReset,&lt;br/&gt;
         if (nodeFactories.containsKey(name)) {
             throw new TopologyException(&quot;Processor &quot; + name + &quot; is already added.&quot;);
         }&lt;br/&gt;
+        if (predecessorNames.length == 0) {+            throw new TopologyException(&quot;Sink &quot; + name + &quot; must have at least one parent&quot;);+        }

&lt;p&gt;         for (final String predecessor : predecessorNames) {&lt;br/&gt;
             Objects.requireNonNull(predecessor, &quot;predecessor name can&apos;t be null&quot;);&lt;br/&gt;
@@ -484,6 +491,9 @@ public final void addProcessor(final String name,&lt;br/&gt;
         if (nodeFactories.containsKey(name)) &lt;/p&gt;
{
             throw new TopologyException(&quot;Processor &quot; + name + &quot; is already added.&quot;);
         }
&lt;p&gt;+        if (predecessorNames.length == 0) &lt;/p&gt;
{
+            throw new TopologyException(&quot;Processor &quot; + name + &quot; must have at least one parent&quot;);
+        }

&lt;p&gt;         for (final String predecessor : predecessorNames) {&lt;br/&gt;
             Objects.requireNonNull(predecessor, &quot;predecessor name must not be null&quot;);&lt;br/&gt;
diff --git a/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java b/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java&lt;br/&gt;
index a539a1bcda0..f1ee81ff367 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java&lt;br/&gt;
@@ -116,7 +116,8 @@ public StateStore getStateStore(final String name) {&lt;br/&gt;
             if (sendTo != null) {&lt;br/&gt;
                 final ProcessorNode child = currentNode().getChild(sendTo);&lt;br/&gt;
                 if (child == null) &lt;/p&gt;
{
-                    throw new StreamsException(&quot;Unknown processor name: &quot; + sendTo);
+                    throw new StreamsException(&quot;Unknown downstream node: &quot; + sendTo + &quot; either does not exist or is not&quot; +
+                            &quot; connected to this processor.&quot;);
                 }
&lt;p&gt;                 forward(child, key, value);&lt;br/&gt;
             } else {&lt;br/&gt;
diff --git a/streams/src/test/java/org/apache/kafka/streams/TopologyTest.java b/streams/src/test/java/org/apache/kafka/streams/TopologyTest.java&lt;br/&gt;
index 8b478852c41..63d5b18a3ae 100644&lt;br/&gt;
&amp;#8212; a/streams/src/test/java/org/apache/kafka/streams/TopologyTest.java&lt;br/&gt;
+++ b/streams/src/test/java/org/apache/kafka/streams/TopologyTest.java&lt;br/&gt;
@@ -174,6 +174,15 @@ public void shouldNotAllowToAddProcessorWithSameName() {&lt;br/&gt;
         } catch (final TopologyException expected) { }&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;+    @Test&lt;br/&gt;
+    public void shouldNotAllowToAddProcessorWithoutAtLeastOneParent() {&lt;br/&gt;
+        topology.addSource(&quot;source&quot;, &quot;topic-1&quot;);&lt;br/&gt;
+        try &lt;/p&gt;
{
+            topology.addProcessor(&quot;processor&quot;, new MockProcessorSupplier());
+            fail(&quot;Should throw TopologyException for processor without at least one parent node&quot;);
+        }
&lt;p&gt; catch (final TopologyException expected) { }&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
     @Test(expected = TopologyException.class)&lt;br/&gt;
     public void shouldFailOnUnknownSource() {&lt;br/&gt;
         topology.addProcessor(&quot;processor&quot;, new MockProcessorSupplier(), &quot;source&quot;);&lt;br/&gt;
@@ -194,6 +203,16 @@ public void shouldNotAllowToAddSinkWithSameName() {&lt;br/&gt;
         } catch (final TopologyException expected) { }&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;+    @Test&lt;br/&gt;
+    public void shouldNotAllowToAddSinkWithoutAtLeastOneParent() {&lt;br/&gt;
+        topology.addSource(&quot;source&quot;, &quot;topic-1&quot;);&lt;br/&gt;
+        topology.addProcessor(&quot;processor&quot;, new MockProcessorSupplier(), &quot;source&quot;);&lt;br/&gt;
+        try &lt;/p&gt;
{
+            topology.addSink(&quot;sink&quot;, &quot;topic-2&quot;);
+            fail(&quot;Should throw TopologyException for sink without at least one parent node&quot;);
+        }
&lt;p&gt; catch (final TopologyException expected) { }&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
     @Test(expected = TopologyException.class)&lt;br/&gt;
     public void shouldFailWithUnknownParent() {&lt;br/&gt;
         topology.addSink(&quot;sink&quot;, &quot;topic-2&quot;, &quot;source&quot;);&lt;br/&gt;
@@ -236,7 +255,8 @@ public void shouldNotAllowToAddStateStoreToSource() {&lt;br/&gt;
     public void shouldNotAllowToAddStateStoreToSink() {&lt;br/&gt;
         mockStoreBuilder();&lt;br/&gt;
         EasyMock.replay(storeBuilder);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;topology.addSink(&quot;sink-1&quot;, &quot;topic-1&quot;);&lt;br/&gt;
+        topology.addSource(&quot;source-1&quot;, &quot;topic-1&quot;);&lt;br/&gt;
+        topology.addSink(&quot;sink-1&quot;, &quot;topic-1&quot;, &quot;source-1&quot;);&lt;br/&gt;
         try {&lt;br/&gt;
             topology.addStateStore(storeBuilder, &quot;sink-1&quot;);&lt;br/&gt;
             fail(&quot;Should have thrown TopologyException for adding store to sink node&quot;);&lt;br/&gt;
diff --git a/streams/src/test/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilderTest.java b/streams/src/test/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilderTest.java&lt;br/&gt;
index 1da04255b11..29227cc6742 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/streams/src/test/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilderTest.java&lt;br/&gt;
+++ b/streams/src/test/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilderTest.java&lt;br/&gt;
@@ -275,7 +275,8 @@ public void testAddStateStoreWithSource() {&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     @Test&lt;br/&gt;
     public void testAddStateStoreWithSink() {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;builder.addSink(&quot;sink-1&quot;, &quot;topic-1&quot;, null, null, null);&lt;br/&gt;
+        builder.addSource(null, &quot;source-1&quot;, null, null, null, &quot;topic-1&quot;);&lt;br/&gt;
+        builder.addSink(&quot;sink-1&quot;, &quot;topic-1&quot;, null, null, null, &quot;source-1&quot;);&lt;br/&gt;
         try {&lt;br/&gt;
             builder.addStateStore(storeBuilder, &quot;sink-1&quot;);&lt;br/&gt;
             fail(&quot;Should throw TopologyException with store cannot be added to sink&quot;);&lt;br/&gt;
diff --git a/streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamThreadTest.java b/streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamThreadTest.java&lt;br/&gt;
index 3412c629a56..513d1c01b05 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamThreadTest.java&lt;br/&gt;
+++ b/streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamThreadTest.java&lt;br/&gt;
@@ -597,7 +597,7 @@ public void shouldOnlyShutdownOnce() {&lt;br/&gt;
     @Test&lt;br/&gt;
     public void shouldNotNullPointerWhenStandbyTasksAssignedAndNoStateStoresForTopology() {&lt;br/&gt;
         internalTopologyBuilder.addSource(null, &quot;name&quot;, null, null, null, &quot;topic&quot;);&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;internalTopologyBuilder.addSink(&quot;out&quot;, &quot;output&quot;, null, null, null);&lt;br/&gt;
+        internalTopologyBuilder.addSink(&quot;out&quot;, &quot;output&quot;, null, null, null, &quot;name&quot;);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         final StreamThread thread = createStreamThread(clientId, config, false);&lt;/p&gt;

&lt;p&gt;@@ -690,7 +690,7 @@ public boolean conditionMet() {&lt;br/&gt;
     @Test&lt;br/&gt;
     public void shouldCloseTaskAsZombieAndRemoveFromActiveTasksIfProducerGotFencedAtBeginTransactionWhenTaskIsResumed() {&lt;br/&gt;
         internalTopologyBuilder.addSource(null, &quot;name&quot;, null, null, null, topic1);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;internalTopologyBuilder.addSink(&quot;out&quot;, &quot;output&quot;, null, null, null);&lt;br/&gt;
+        internalTopologyBuilder.addSink(&quot;out&quot;, &quot;output&quot;, null, null, null, &quot;name&quot;);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         final StreamThread thread = createStreamThread(clientId, new StreamsConfig(configProps(true)), true);&lt;/p&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16511489" author="mjsax" created="Wed, 13 Jun 2018 18:10:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nthean&quot; class=&quot;user-hover&quot; rel=&quot;nthean&quot;&gt;nthean&lt;/a&gt; I just double checked the code. I think we can remove `InternalTopologyBuilder#connectProcessors()`, too. Can we picky-back this cleanup to your PR? Thx.&lt;/p&gt;</comment>
                            <comment id="16511496" author="nthean" created="Wed, 13 Jun 2018 18:15:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mjsax&quot; class=&quot;user-hover&quot; rel=&quot;mjsax&quot;&gt;mjsax&lt;/a&gt; Absolutely! Re-running tests, then will re-open with that change.&lt;/p&gt;</comment>
                            <comment id="16511595" author="nthean" created="Wed, 13 Jun 2018 19:55:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mjsax&quot; class=&quot;user-hover&quot; rel=&quot;mjsax&quot;&gt;mjsax&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt; I may have screwed up the GitHub Bot by closing and opening a new PR &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Sorry. PR is here:&#160;&lt;a href=&quot;https://github.com/apache/kafka/pull/5215&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/5215&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16511616" author="mjsax" created="Wed, 13 Jun 2018 20:18:14 +0000"  >&lt;p&gt;&#160;No worries. All good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16513283" author="githubbot" created="Fri, 15 Jun 2018 03:26:04 +0000"  >&lt;p&gt;mjsax closed pull request #5215: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-7055&quot; title=&quot;Kafka Streams Processor API allows you to add sinks and processors without parent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-7055&quot;&gt;&lt;del&gt;KAFKA-7055&lt;/del&gt;&lt;/a&gt;: Update InternalTopologyBuilder to throw TopologyException if a processor or sink is added with no upstream node attached&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/5215&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/5215&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/KStreamImpl.java b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/KStreamImpl.java&lt;br/&gt;
index 7356aff153f..e7dabbf649c 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/KStreamImpl.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/KStreamImpl.java&lt;br/&gt;
@@ -580,7 +580,6 @@ public boolean test(final K1 key, final V1 value) &lt;/p&gt;
{
         final String name = builder.newProcessorName(leftJoin ? LEFTJOIN_NAME : JOIN_NAME);
         builder.internalTopologyBuilder.addProcessor(name, new KStreamKTableJoin&amp;lt;&amp;gt;(((KTableImpl&amp;lt;K, ?, V1&amp;gt;) other).valueGetterSupplier(), joiner, leftJoin), this.name);
         builder.internalTopologyBuilder.connectProcessorAndStateStores(name, ((KTableImpl) other).valueGetterSupplier().storeNames());
-        builder.internalTopologyBuilder.connectProcessors(this.name, ((KTableImpl&amp;lt;K, ?, V1&amp;gt;) other).name);
 
         return new KStreamImpl&amp;lt;&amp;gt;(builder, name, allSourceNodes, false);
     }
&lt;p&gt;diff --git a/streams/src/main/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilder.java b/streams/src/main/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilder.java&lt;br/&gt;
index 36a2edc6766..5b4b4d737b4 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilder.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilder.java&lt;br/&gt;
@@ -442,6 +442,11 @@ public final void addSource(final Topology.AutoOffsetReset offsetReset,&lt;br/&gt;
                                      final String... predecessorNames) {&lt;br/&gt;
         Objects.requireNonNull(name, &quot;name must not be null&quot;);&lt;br/&gt;
         Objects.requireNonNull(topic, &quot;topic must not be null&quot;);&lt;br/&gt;
+        Objects.requireNonNull(predecessorNames, &quot;predecessor names must not be null&quot;);&lt;br/&gt;
+        if (predecessorNames.length == 0) &lt;/p&gt;
{
+            throw new TopologyException(&quot;Sink &quot; + name + &quot; must have at least one parent&quot;);
+        }&lt;br/&gt;
+&lt;br/&gt;
         addSink(name, new StaticTopicNameExtractor&amp;lt;K, V&amp;gt;(topic), keySerializer, valSerializer, partitioner, predecessorNames);&lt;br/&gt;
         nodeToSinkTopic.put(name, topic);&lt;br/&gt;
     }&lt;br/&gt;
@@ -454,9 +459,13 @@ public final void addSource(final Topology.AutoOffsetReset offsetReset,&lt;br/&gt;
                                      final String... predecessorNames) {&lt;br/&gt;
         Objects.requireNonNull(name, &quot;name must not be null&quot;);&lt;br/&gt;
         Objects.requireNonNull(topicExtractor, &quot;topic extractor must not be null&quot;);&lt;br/&gt;
+        Objects.requireNonNull(predecessorNames, &quot;predecessor names must not be null&quot;);&lt;br/&gt;
         if (nodeFactories.containsKey(name)) {
             throw new TopologyException(&quot;Processor &quot; + name + &quot; is already added.&quot;);
         }&lt;br/&gt;
+        if (predecessorNames.length == 0) {+            throw new TopologyException(&quot;Sink &quot; + name + &quot; must have at least one parent&quot;);+        }

&lt;p&gt;         for (final String predecessor : predecessorNames) {&lt;br/&gt;
             Objects.requireNonNull(predecessor, &quot;predecessor name can&apos;t be null&quot;);&lt;br/&gt;
@@ -481,9 +490,13 @@ public final void addProcessor(final String name,&lt;br/&gt;
                                    final String... predecessorNames) {&lt;br/&gt;
         Objects.requireNonNull(name, &quot;name must not be null&quot;);&lt;br/&gt;
         Objects.requireNonNull(supplier, &quot;supplier must not be null&quot;);&lt;br/&gt;
+        Objects.requireNonNull(predecessorNames, &quot;predecessor names must not be null&quot;);&lt;br/&gt;
         if (nodeFactories.containsKey(name)) &lt;/p&gt;
{
             throw new TopologyException(&quot;Processor &quot; + name + &quot; is already added.&quot;);
         }
&lt;p&gt;+        if (predecessorNames.length == 0) &lt;/p&gt;
{
+            throw new TopologyException(&quot;Processor &quot; + name + &quot; must have at least one parent&quot;);
+        }

&lt;p&gt;         for (final String predecessor : predecessorNames) &lt;/p&gt;
{
             Objects.requireNonNull(predecessor, &quot;predecessor name must not be null&quot;);
@@ -592,21 +605,6 @@ public final void markSourceStoreAndTopic(final StoreBuilder storeBuilder,
         storeToSourceChangelogTopic.put(storeBuilder, topic);
     }

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public final void connectProcessors(final String... processorNames) {&lt;/li&gt;
	&lt;li&gt;if (processorNames.length &amp;lt; 2) 
{
-            throw new TopologyException(&quot;At least two processors need to participate in the connection.&quot;);
-        }
&lt;p&gt;-&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;for (final String processorName : processorNames) {&lt;/li&gt;
	&lt;li&gt;Objects.requireNonNull(processorName, &quot;processor name can&apos;t be null&quot;);&lt;/li&gt;
	&lt;li&gt;if (!nodeFactories.containsKey(processorName)) 
{
-                throw new TopologyException(&quot;Processor &quot; + processorName + &quot; is not added yet.&quot;);
-            }&lt;/li&gt;
	&lt;li&gt;}&lt;br/&gt;
-&lt;/li&gt;
	&lt;li&gt;nodeGrouper.unite(processorNames&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, Arrays.copyOfRange(processorNames, 1, processorNames.length));&lt;/li&gt;
	&lt;li&gt;}&lt;br/&gt;
-&lt;br/&gt;
     public final void addInternalTopic(final String topicName) {&lt;br/&gt;
         Objects.requireNonNull(topicName, &quot;topicName can&apos;t be null&quot;);&lt;br/&gt;
         internalTopicNames.add(topicName);&lt;br/&gt;
diff --git a/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java b/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java&lt;br/&gt;
index a539a1bcda0..f1ee81ff367 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/processor/internals/ProcessorContextImpl.java&lt;br/&gt;
@@ -116,7 +116,8 @@ public StateStore getStateStore(final String name) {&lt;br/&gt;
             if (sendTo != null) 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {                 final ProcessorNode child = currentNode().getChild(sendTo);                 if (child == null) {
-                    throw new StreamsException(&quot;Unknown processor name: &quot; + sendTo);
+                    throw new StreamsException(&quot;Unknown downstream node: &quot; + sendTo + &quot; either does not exist or is not&quot; +
+                            &quot; connected to this processor.&quot;);
                 }                 forward(child, key, value);             }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; else {&lt;br/&gt;
diff --git a/streams/src/test/java/org/apache/kafka/streams/TopologyTest.java b/streams/src/test/java/org/apache/kafka/streams/TopologyTest.java&lt;br/&gt;
index 8b478852c41..ece157cd02e 100644&lt;/p&gt;&lt;/li&gt;
			&lt;li&gt;a/streams/src/test/java/org/apache/kafka/streams/TopologyTest.java&lt;br/&gt;
+++ b/streams/src/test/java/org/apache/kafka/streams/TopologyTest.java&lt;br/&gt;
@@ -174,6 +174,24 @@ public void shouldNotAllowToAddProcessorWithSameName() {&lt;br/&gt;
         } catch (final TopologyException expected) { }&lt;br/&gt;
     }&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+    @Test&lt;br/&gt;
+    public void shouldNotAllowToAddProcessorWithEmptyParents() {&lt;br/&gt;
+        topology.addSource(&quot;source&quot;, &quot;topic-1&quot;);&lt;br/&gt;
+        try &lt;/p&gt;
{
+            topology.addProcessor(&quot;processor&quot;, new MockProcessorSupplier());
+            fail(&quot;Should throw TopologyException for processor without at least one parent node&quot;);
+        }
&lt;p&gt; catch (final TopologyException expected) { }&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void shouldNotAllowToAddProcessorWithNullParents() {&lt;br/&gt;
+        topology.addSource(&quot;source&quot;, &quot;topic-1&quot;);&lt;br/&gt;
+        try &lt;/p&gt;
{
+            topology.addProcessor(&quot;processor&quot;, new MockProcessorSupplier(), null);
+            fail(&quot;Should throw NullPointerException for processor when null parent names are provided&quot;);
+        }
&lt;p&gt; catch (final NullPointerException expected) { }&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
     @Test(expected = TopologyException.class)&lt;br/&gt;
     public void shouldFailOnUnknownSource() {&lt;br/&gt;
         topology.addProcessor(&quot;processor&quot;, new MockProcessorSupplier(), &quot;source&quot;);&lt;br/&gt;
@@ -194,6 +212,26 @@ public void shouldNotAllowToAddSinkWithSameName() {&lt;br/&gt;
         } catch (final TopologyException expected) { }&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;+    @Test&lt;br/&gt;
+    public void shouldNotAllowToAddSinkWithEmptyParents() {&lt;br/&gt;
+        topology.addSource(&quot;source&quot;, &quot;topic-1&quot;);&lt;br/&gt;
+        topology.addProcessor(&quot;processor&quot;, new MockProcessorSupplier(), &quot;source&quot;);&lt;br/&gt;
+        try &lt;/p&gt;
{
+            topology.addSink(&quot;sink&quot;, &quot;topic-2&quot;);
+            fail(&quot;Should throw TopologyException for sink without at least one parent node&quot;);
+        }
&lt;p&gt; catch (final TopologyException expected) { }&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void shouldNotAllowToAddSinkWithNullParents() {&lt;br/&gt;
+        topology.addSource(&quot;source&quot;, &quot;topic-1&quot;);&lt;br/&gt;
+        topology.addProcessor(&quot;processor&quot;, new MockProcessorSupplier(), &quot;source&quot;);&lt;br/&gt;
+        try &lt;/p&gt;
{
+            topology.addSink(&quot;sink&quot;, &quot;topic-2&quot;, null);
+            fail(&quot;Should throw NullPointerException for sink when null parent names are provided&quot;);
+        }
&lt;p&gt; catch (final NullPointerException expected) { }&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
     @Test(expected = TopologyException.class)&lt;br/&gt;
     public void shouldFailWithUnknownParent() {&lt;br/&gt;
         topology.addSink(&quot;sink&quot;, &quot;topic-2&quot;, &quot;source&quot;);&lt;br/&gt;
@@ -236,7 +274,8 @@ public void shouldNotAllowToAddStateStoreToSource() {&lt;br/&gt;
     public void shouldNotAllowToAddStateStoreToSink() {&lt;br/&gt;
         mockStoreBuilder();&lt;br/&gt;
         EasyMock.replay(storeBuilder);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;topology.addSink(&quot;sink-1&quot;, &quot;topic-1&quot;);&lt;br/&gt;
+        topology.addSource(&quot;source-1&quot;, &quot;topic-1&quot;);&lt;br/&gt;
+        topology.addSink(&quot;sink-1&quot;, &quot;topic-1&quot;, &quot;source-1&quot;);&lt;br/&gt;
         try {&lt;br/&gt;
             topology.addStateStore(storeBuilder, &quot;sink-1&quot;);&lt;br/&gt;
             fail(&quot;Should have thrown TopologyException for adding store to sink node&quot;);&lt;br/&gt;
diff --git a/streams/src/test/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilderTest.java b/streams/src/test/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilderTest.java&lt;br/&gt;
index 1da04255b11..b0674ea338a 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/streams/src/test/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilderTest.java&lt;br/&gt;
+++ b/streams/src/test/java/org/apache/kafka/streams/processor/internals/InternalTopologyBuilderTest.java&lt;br/&gt;
@@ -159,6 +159,16 @@ public void testAddProcessorWithSelfParent() 
{
         builder.addProcessor(&quot;processor&quot;, new MockProcessorSupplier(), &quot;processor&quot;);
     }&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+    @Test(expected = TopologyException.class)&lt;br/&gt;
+    public void testAddProcessorWithEmptyParents() &lt;/p&gt;
{
+        builder.addProcessor(&quot;processor&quot;, new MockProcessorSupplier());
+    }
&lt;p&gt;+&lt;br/&gt;
+    @Test(expected = NullPointerException.class)&lt;br/&gt;
+    public void testAddProcessorWithNullParents() &lt;/p&gt;
{
+        builder.addProcessor(&quot;processor&quot;, new MockProcessorSupplier(), null);
+    }
&lt;p&gt;+&lt;br/&gt;
     @Test&lt;br/&gt;
     public void testAddSinkWithSameName() {&lt;br/&gt;
         builder.addSource(null, &quot;source&quot;, null, null, null, &quot;topic-1&quot;);&lt;br/&gt;
@@ -179,6 +189,17 @@ public void testAddSinkWithSelfParent() &lt;/p&gt;
{
         builder.addSink(&quot;sink&quot;, &quot;topic-2&quot;, null, null, null, &quot;sink&quot;);
     }

&lt;p&gt;+&lt;br/&gt;
+    @Test(expected = TopologyException.class)&lt;br/&gt;
+    public void testAddSinkWithEmptyParents() &lt;/p&gt;
{
+        builder.addSink(&quot;sink&quot;, &quot;topic&quot;, null, null, null);
+    }
&lt;p&gt;+&lt;br/&gt;
+    @Test(expected = NullPointerException.class)&lt;br/&gt;
+    public void testAddSinkWithNullParents() &lt;/p&gt;
{
+        builder.addSink(&quot;sink&quot;, &quot;topic&quot;, null, null, null, null);
+    }
&lt;p&gt;+&lt;br/&gt;
     @Test&lt;br/&gt;
     public void testAddSinkConnectedWithParent() {&lt;br/&gt;
         builder.addSource(null, &quot;source&quot;, null, null, null, &quot;source-topic&quot;);&lt;br/&gt;
@@ -275,7 +296,8 @@ public void testAddStateStoreWithSource() {&lt;/p&gt;

&lt;p&gt;     @Test&lt;br/&gt;
     public void testAddStateStoreWithSink() {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;builder.addSink(&quot;sink-1&quot;, &quot;topic-1&quot;, null, null, null);&lt;br/&gt;
+        builder.addSource(null, &quot;source-1&quot;, null, null, null, &quot;topic-1&quot;);&lt;br/&gt;
+        builder.addSink(&quot;sink-1&quot;, &quot;topic-1&quot;, null, null, null, &quot;source-1&quot;);&lt;br/&gt;
         try {&lt;br/&gt;
             builder.addStateStore(storeBuilder, &quot;sink-1&quot;);&lt;br/&gt;
             fail(&quot;Should throw TopologyException with store cannot be added to sink&quot;);&lt;br/&gt;
diff --git a/streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamThreadTest.java b/streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamThreadTest.java&lt;br/&gt;
index 3412c629a56..513d1c01b05 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamThreadTest.java&lt;br/&gt;
+++ b/streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamThreadTest.java&lt;br/&gt;
@@ -597,7 +597,7 @@ public void shouldOnlyShutdownOnce() {&lt;br/&gt;
     @Test&lt;br/&gt;
     public void shouldNotNullPointerWhenStandbyTasksAssignedAndNoStateStoresForTopology() {&lt;br/&gt;
         internalTopologyBuilder.addSource(null, &quot;name&quot;, null, null, null, &quot;topic&quot;);&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;internalTopologyBuilder.addSink(&quot;out&quot;, &quot;output&quot;, null, null, null);&lt;br/&gt;
+        internalTopologyBuilder.addSink(&quot;out&quot;, &quot;output&quot;, null, null, null, &quot;name&quot;);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         final StreamThread thread = createStreamThread(clientId, config, false);&lt;/p&gt;

&lt;p&gt;@@ -690,7 +690,7 @@ public boolean conditionMet() {&lt;br/&gt;
     @Test&lt;br/&gt;
     public void shouldCloseTaskAsZombieAndRemoveFromActiveTasksIfProducerGotFencedAtBeginTransactionWhenTaskIsResumed() {&lt;br/&gt;
         internalTopologyBuilder.addSource(null, &quot;name&quot;, null, null, null, topic1);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;internalTopologyBuilder.addSink(&quot;out&quot;, &quot;output&quot;, null, null, null);&lt;br/&gt;
+        internalTopologyBuilder.addSink(&quot;out&quot;, &quot;output&quot;, null, null, null, &quot;name&quot;);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         final StreamThread thread = createStreamThread(clientId, new StreamsConfig(configProps(true)), true);&lt;/p&gt;

&lt;p&gt;diff --git a/streams/test-utils/src/test/java/org/apache/kafka/streams/TopologyTestDriverTest.java b/streams/test-utils/src/test/java/org/apache/kafka/streams/TopologyTestDriverTest.java&lt;br/&gt;
index 7552637dc26..078b2884e8d 100644&lt;br/&gt;
&amp;#8212; a/streams/test-utils/src/test/java/org/apache/kafka/streams/TopologyTestDriverTest.java&lt;br/&gt;
+++ b/streams/test-utils/src/test/java/org/apache/kafka/streams/TopologyTestDriverTest.java&lt;br/&gt;
@@ -684,7 +684,7 @@ public void shouldPunctuateOnWallClockTime() {&lt;br/&gt;
     @Test&lt;br/&gt;
     public void shouldReturnAllStores() {&lt;br/&gt;
         final Topology topology = setupSourceSinkTopology();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;topology.addProcessor(&quot;processor&quot;, () -&amp;gt; null);&lt;br/&gt;
+        topology.addProcessor(&quot;processor&quot;, () -&amp;gt; null, &quot;source&quot;);&lt;br/&gt;
         topology.addStateStore(&lt;br/&gt;
             new KeyValueStoreBuilder&amp;lt;&amp;gt;(&lt;br/&gt;
                 Stores.inMemoryKeyValueStore(&quot;store&quot;),&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3uth3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>