<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:44:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-2295] Dynamically loaded classes (encoders, etc.) may not be found by Kafka Producer </title>
                <link>https://issues.apache.org/jira/browse/KAFKA-2295</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Kafka Producer (via CoreUtils.createObject) effectively uses Class.forName to load encoder classes. Class.forName is by design finds classes only in the defining classloader of the enclosing class (which is often the bootstrap class loader). It does not use the current thread context class loader. This can lead to problems in environments where classes are dynamically loaded and therefore may not be present in the bootstrap classloader.&lt;/p&gt;

&lt;p&gt;This leads to ClassNotFound Exceptions in environments like Spark where classes are loaded dynamically using custom classloaders. Issues like this have reported. E.g. - &lt;br/&gt;
&lt;a href=&quot;https://www.mail-archive.com/user@spark.apache.org/msg30951.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.mail-archive.com/user@spark.apache.org/msg30951.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Other references regarding this issue with Class.forName &lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/questions/21749741/though-my-class-was-loaded-class-forname-throws-classnotfoundexception&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/21749741/though-my-class-was-loaded-class-forname-throws-classnotfoundexception&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is a problem we have faced repeatedly in Apache Spark and we solved it by explicitly specifying the class loader to use. See &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/util/Utils.scala#L178&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/util/Utils.scala#L178&lt;/a&gt;&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12839790">KAFKA-2295</key>
            <summary>Dynamically loaded classes (encoders, etc.) may not be found by Kafka Producer </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="omkreddy">Manikumar</assignee>
                                    <reporter username="tdas">Tathagata Das</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Jun 2015 08:53:00 +0000</created>
                <updated>Thu, 14 Mar 2024 12:05:49 +0000</updated>
                            <resolved>Thu, 15 Oct 2015 18:07:02 +0000</resolved>
                                                    <fixVersion>0.9.0.0</fixVersion>
                                    <component>producer </component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14601476" author="omkreddy" created="Thu, 25 Jun 2015 16:24:46 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/35880/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/35880/diff/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="14614582" author="omkreddy" created="Mon, 6 Jul 2015 06:05:55 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/35880/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/35880/diff/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="14622722" author="guozhang" created="Fri, 10 Jul 2015 18:35:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tdas&quot; class=&quot;user-hover&quot; rel=&quot;tdas&quot;&gt;tdas&lt;/a&gt; The latest patch from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=omkreddy&quot; class=&quot;user-hover&quot; rel=&quot;omkreddy&quot;&gt;omkreddy&lt;/a&gt; looks good to me, do you want to apply it and see if it resolves your Spark usecase?&lt;/p&gt;

&lt;p&gt;Guozhang&lt;/p&gt;</comment>
                            <comment id="14704749" author="omkreddy" created="Thu, 20 Aug 2015 12:18:10 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/35880/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/35880/diff/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="14704757" author="omkreddy" created="Thu, 20 Aug 2015 12:20:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt;  Can we go ahead and commit this minor patch?&lt;/p&gt;</comment>
                            <comment id="14936958" author="jamesnetherton" created="Wed, 30 Sep 2015 15:07:17 +0000"  >&lt;p&gt;Any news on this?&lt;/p&gt;

&lt;p&gt;This issue looks critical.&lt;/p&gt;</comment>
                            <comment id="14953689" author="guozhang" created="Mon, 12 Oct 2015 20:36:07 +0000"  >&lt;p&gt;Pinging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tdas&quot; class=&quot;user-hover&quot; rel=&quot;tdas&quot;&gt;tdas&lt;/a&gt; once again for validation, or if someone else and verify the issue was reproducible and now fixed with the patch, we can go ahead and check it in.&lt;/p&gt;</comment>
                            <comment id="14958017" author="guozhang" created="Wed, 14 Oct 2015 23:39:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=omkreddy&quot; class=&quot;user-hover&quot; rel=&quot;omkreddy&quot;&gt;omkreddy&lt;/a&gt; Could you rebase the patch again, and probably using PR for the rebased patch?&lt;/p&gt;</comment>
                            <comment id="14958614" author="githubbot" created="Thu, 15 Oct 2015 10:10:00 +0000"  >&lt;p&gt;GitHub user omkreddy opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/314&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/314&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2295&quot; title=&quot;Dynamically loaded classes (encoders, etc.) may not be found by Kafka Producer &quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2295&quot;&gt;&lt;del&gt;KAFKA-2295&lt;/del&gt;&lt;/a&gt;; Support given for dynamically loaded classes (encoders, e&#8230;&lt;/p&gt;

&lt;p&gt;    Rebased code..&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/omkreddy/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/omkreddy/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2295&quot; title=&quot;Dynamically loaded classes (encoders, etc.) may not be found by Kafka Producer &quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2295&quot;&gt;&lt;del&gt;KAFKA-2295&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/314.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/314.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #314&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit dafc210c2501ac7fc91ba63e744d9939fbeb64c5&lt;br/&gt;
Author: Manikumar reddy O &amp;lt;manikumar.reddy@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-10-15T10:06:40Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2295&quot; title=&quot;Dynamically loaded classes (encoders, etc.) may not be found by Kafka Producer &quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2295&quot;&gt;&lt;del&gt;KAFKA-2295&lt;/del&gt;&lt;/a&gt;; Support given for dynamically loaded classes (encoders, etc.)&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14959317" author="guozhang" created="Thu, 15 Oct 2015 18:07:02 +0000"  >&lt;p&gt;Issue resolved by pull request 314&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/314&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/314&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14959318" author="githubbot" created="Thu, 15 Oct 2015 18:07:08 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/314&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/314&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15136818" author="joconnor" created="Mon, 8 Feb 2016 11:12:08 +0000"  >&lt;p&gt;This change appears to have caused  &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3218&quot; title=&quot;Kafka-0.9.0.0 does not work as OSGi module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3218&quot;&gt;&lt;del&gt;KAFKA-3218&lt;/del&gt;&lt;/a&gt;, ClassNotFoundException when using kafka-clients as an OSGi  module&lt;/p&gt;</comment>
                            <comment id="15150298" author="guozhang" created="Wed, 17 Feb 2016 11:01:09 +0000"  >&lt;p&gt;Thanks for reporting &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joconnor&quot; class=&quot;user-hover&quot; rel=&quot;joconnor&quot;&gt;joconnor&lt;/a&gt;. Could you try to verify if the patch provided in &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3218&quot; title=&quot;Kafka-0.9.0.0 does not work as OSGi module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3218&quot;&gt;&lt;del&gt;KAFKA-3218&lt;/del&gt;&lt;/a&gt; fixes the issue?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12937466">KAFKA-3218</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12741888" name="KAFKA-2295.patch" size="4113" author="omkreddy" created="Thu, 25 Jun 2015 16:24:39 +0000"/>
                            <attachment id="12743670" name="KAFKA-2295_2015-07-06_11:32:58.patch" size="6717" author="omkreddy" created="Mon, 6 Jul 2015 06:05:49 +0000"/>
                            <attachment id="12751475" name="KAFKA-2295_2015-08-20_17:44:56.patch" size="6139" author="omkreddy" created="Thu, 20 Aug 2015 12:18:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gdkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>guozhang</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>