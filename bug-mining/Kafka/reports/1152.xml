<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:55:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-4056] Kafka logs values of sensitive configs like passwords</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-4056</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;From the mail discussion here: &lt;a href=&quot;https://www.mail-archive.com/dev@kafka.apache.org/msg55012.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.mail-archive.com/dev@kafka.apache.org/msg55012.html&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;We are using 0.9.0.1 of Kafka (Java) libraries for our Kafka consumers and producers. In one of our consumers, our consumer config had a SSL specific property which ended up being used against a non-SSL Kafka broker port. As a result, the logs ended up seeing messages like:&lt;/p&gt;


&lt;p&gt;17:53:33,722 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;o.a.k.c.c.ConsumerConfig&amp;#93;&lt;/span&gt; - The configuration &lt;b&gt;ssl.truststore.password = foobar&lt;/b&gt; was supplied but isn&apos;t a known config.&lt;/p&gt;


&lt;p&gt;The log message is fine and makes sense, but can Kafka please not log the values of the properties and instead just include the config name which it considers as unknown? That way it won&apos;t ended up logging these potentially sensitive values. I understand that only those with access to these log files can end up seeing these values but even then some of our internal processes forbid logging such sensitive information to the logs. This log message will still end up being useful if only the config name is logged without the value. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Apparently (as noted in that thread), there&apos;s already code in the Kafka library which masks sensitive values like passwords, but it looks like there&apos;s a bug where it unintentionally logs these raw values.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12997906">KAFKA-4056</key>
            <summary>Kafka logs values of sensitive configs like passwords</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mimaison">Mickael Maison</assignee>
                                    <reporter username="jaikiran">Jaikiran Pai</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Aug 2016 13:19:35 +0000</created>
                <updated>Thu, 18 May 2017 18:56:56 +0000</updated>
                            <resolved>Fri, 19 Aug 2016 18:30:16 +0000</resolved>
                                    <version>0.9.0.1</version>
                                    <fixVersion>0.10.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15426521" author="mimaison" created="Thu, 18 Aug 2016 14:04:34 +0000"  >&lt;p&gt;Using trunk, I don&apos;t see known but unused configurations (like ssl.truststore.password) being logged. Only unknown configuration are listed.&lt;/p&gt;

&lt;p&gt;I think the easiest is probably to only logged the unknown config key and not the value. Like this:&lt;br/&gt;
17:53:33,722 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;o.a.k.c.c.ConsumerConfig&amp;#93;&lt;/span&gt; - The configuration ssl.truststore.password was supplied but isn&apos;t a known config.&lt;/p&gt;</comment>
                            <comment id="15426538" author="jaikiran" created="Thu, 18 Aug 2016 14:22:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mimaison&quot; class=&quot;user-hover&quot; rel=&quot;mimaison&quot;&gt;mimaison&lt;/a&gt;, we ran into this on our system when we created a consumer and passed consumer properties which included ssl.truststore.password property and a &lt;b&gt;non SSL&lt;/b&gt; port for the broker via the bootstrap.servers config property (it pointed to localhost:9092 instead of a SSL port and we had both plaintext and SSL listeners enabled on the broker).&lt;/p&gt;</comment>
                            <comment id="15426541" author="ijuma" created="Thu, 18 Aug 2016 14:23:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mimaison&quot; class=&quot;user-hover&quot; rel=&quot;mimaison&quot;&gt;mimaison&lt;/a&gt;, the key thing to trigger this issue is to set the config, but use PLAINTEXT as the security protocol (what is unused is determined dynamically).&lt;/p&gt;

&lt;p&gt;The option you suggest is the same one Jaikiran suggested in the mailing list. It&apos;s probably fine. The other option is to use `values` instead of `originals`, but maybe that&apos;s more confusing.&lt;/p&gt;</comment>
                            <comment id="15426576" author="mimaison" created="Thu, 18 Aug 2016 14:57:59 +0000"  >&lt;p&gt;This is what I&apos;ve been trying &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Connecting to a broker on 9092 using PLAINTEXT&lt;/p&gt;

&lt;p&gt;I can reproduce fine with 0.9.0.1 but with trunk, I don&apos;t get this output. It only lists unknown configs. Known but unused configs appear in the Consumer/Producer normal config output and they are correctly hidden in case of passwords.&lt;/p&gt;</comment>
                            <comment id="15426594" author="ijuma" created="Thu, 18 Aug 2016 15:03:17 +0000"  >&lt;p&gt;Interesting, maybe it&apos;s been fixed then.&lt;/p&gt;</comment>
                            <comment id="15426600" author="githubbot" created="Thu, 18 Aug 2016 15:08:00 +0000"  >&lt;p&gt;GitHub user mimaison opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1759&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1759&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4056&quot; title=&quot;Kafka logs values of sensitive configs like passwords&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4056&quot;&gt;&lt;del&gt;KAFKA-4056&lt;/del&gt;&lt;/a&gt;: Kafka logs values of sensitive configs like passwords&lt;/p&gt;

&lt;p&gt;    In case of unknown configs, only list the name without the value&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mimaison/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mimaison/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4056&quot; title=&quot;Kafka logs values of sensitive configs like passwords&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4056&quot;&gt;&lt;del&gt;KAFKA-4056&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1759.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1759.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1759&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit bd3c0a9ceb2661cd027319bae17fbd3c6df7d54d&lt;br/&gt;
Author: Mickael Maison &amp;lt;mickael.maison@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-08-18T15:01:26Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4056&quot; title=&quot;Kafka logs values of sensitive configs like passwords&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4056&quot;&gt;&lt;del&gt;KAFKA-4056&lt;/del&gt;&lt;/a&gt;: Kafka logs values of sensitive configs like passwords&lt;/p&gt;

&lt;p&gt;    In case of unknown configs, only list the name without the value&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15426603" author="mimaison" created="Thu, 18 Aug 2016 15:08:46 +0000"  >&lt;p&gt;I&apos;ve sent a PR to only log the name is case of unknown configs&lt;/p&gt;</comment>
                            <comment id="15428596" author="gwenshap" created="Fri, 19 Aug 2016 18:30:17 +0000"  >&lt;p&gt;Issue resolved by pull request 1759&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/1759&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1759&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15428597" author="githubbot" created="Fri, 19 Aug 2016 18:30:37 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1759&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1759&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13004969">KAFKA-4171</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 13 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32f9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>