<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:28:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-9747] No tasks created for a connector</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-9747</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;We are running Kafka Connect in a distributed mode on 3 nodes using Debezium (MongoDB) and Confluent S3 connectors. When adding a new connector via the REST API the connector is created in RUNNING state, but no tasks are created for the connector.&lt;/p&gt;

&lt;p&gt;Pausing and resuming the connector does not help. When we stop all workers and then start them again, the tasks are created and everything runs as it should.&lt;/p&gt;

&lt;p&gt;The issue does not show up if we run only a single node.&lt;/p&gt;

&lt;p&gt;The issue is not caused by the connector plugins, because we see the same behaviour for both Debezium and S3 connectors. Also in debug logs I can see that Debezium is correctly returning a task configuration from the Connector.taskConfigs() method.&lt;/p&gt;

&lt;p&gt;Connector configuration examples&lt;/p&gt;

&lt;p&gt;Debezium:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;qa-mongodb-comp-converter-task|1&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;config&quot;&lt;/span&gt;: {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;connector.class&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;io.debezium.connector.mongodb.MongoDbConnector&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;mongodb.hosts&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;mongodb-qa-001:27017,mongodb-qa-002:27017,mongodb-qa-003:27017&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;mongodb.name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;qa-debezium-comp&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;mongodb.ssl.enabled&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;collection.whitelist&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;converter[.]task&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;tombstones.on.delete&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;S3 Connector:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;qa-s3-sink-task|1&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;config&quot;&lt;/span&gt;: {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;connector.class&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;io.confluent.connect.s3.S3SinkConnector&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;topics&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;qa-debezium-comp.converter.task&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;topics.dir&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;data/env/qa&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;s3.region&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;eu-west-1&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;s3.bucket.name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;bucket-name&amp;gt;&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;flush.size&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;15000&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;rotate.interval.ms&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;3600000&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;storage.class&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;io.confluent.connect.s3.storage.S3Storage&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;format.class&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;custom.kafka.connect.s3.format.plaintext.PlaintextFormat&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;schema.generator.class&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;io.confluent.connect.storage.hive.schema.DefaultSchemaGenerator&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;partitioner.class&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;io.confluent.connect.storage.partitioner.DefaultPartitioner&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;schema.compatibility&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;NONE&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;key.converter&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.kafka.connect.json.JsonConverter&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;value.converter&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.kafka.connect.json.JsonConverter&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;key.converter.schemas.enable&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;value.converter.schemas.enable&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;transforms&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;ExtractDocument&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;transforms.ExtractDocument.type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;custom.kafka.connect.transforms.ExtractDocument$Value&quot;&lt;/span&gt;
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The connectors are created using curl: &lt;tt&gt;curl -X POST -H &quot;Content-Type: application/json&quot; --data @&amp;lt;json_file&amp;gt; http:/&amp;lt;connect_host&amp;gt;:10083/connectors&lt;/tt&gt;&lt;/p&gt;
</description>
                <environment>OS: Ubuntu 18.04 LTS&lt;br/&gt;
Platform: Confluent Platform 5.4&lt;br/&gt;
HW: The same behaviour on various AWS instances - from t3.small to c5.xlarge</environment>
        <key id="13293325">KAFKA-9747</key>
            <summary>No tasks created for a connector</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="akatona">Andras Katona</assignee>
                                    <reporter username="vko">Vit Koma</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Mar 2020 15:34:59 +0000</created>
                <updated>Mon, 4 Oct 2021 16:17:36 +0000</updated>
                            <resolved>Thu, 2 Sep 2021 08:10:41 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>2.8.1</fixVersion>
                    <fixVersion>3.0.1</fixVersion>
                    <fixVersion>3.1.0</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>12</votes>
                                    <watches>21</watches>
                                                                                                                <comments>
                            <comment id="17090718" author="psz" created="Thu, 23 Apr 2020 16:01:22 +0000"  >&lt;p&gt;Yes, Kafka Connect team, please at least give us a WARN or ERROR as to why the task can&apos;t be created or sustained.&lt;/p&gt;</comment>
                            <comment id="17111918" author="duonglt" created="Wed, 20 May 2020 08:24:36 +0000"  >&lt;p&gt;I also stuck with the sample problem, task isn&apos;t created. Although I get log:&lt;br/&gt;
&apos;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[2020-05-20 07:20:33,131] INFO [Worker clientId=connect-1, groupId=xxxxxxxxxxx] Finished starting connectors and tasks (org.apache.kafka.connect.runtime.distributed.DistributedHerder)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17113414" author="garrett528" created="Thu, 21 May 2020 17:32:00 +0000"  >&lt;p&gt;I&apos;m seeing similar behavior, getting random tasks that are coming back as blank when checking status through the REST API. Then a second later, these tasks are showing as running on some machine after re-requesting the status. We have 10 Connect pods running in distributed mode with a load balancer pointing to the overarching k8s service for the Connect pods.&lt;/p&gt;</comment>
                            <comment id="17118039" author="adw12382" created="Wed, 27 May 2020 19:56:57 +0000"  >&lt;p&gt;+1 encountered similar issue.&lt;/p&gt;

&lt;p&gt;running a customized sink conncector in distributed mode on 2 hosts but only 1 host has both connector &amp;amp; task whereas the other one just has connector running.&lt;/p&gt;</comment>
                            <comment id="17129374" author="rodrigoabdo" created="Tue, 9 Jun 2020 15:05:53 +0000"  >&lt;p&gt;I have the same issue here... MongoDB (Atlas), MongoDB Connector and AWS MSK.&lt;/p&gt;</comment>
                            <comment id="17181869" author="yarosman" created="Fri, 21 Aug 2020 13:01:46 +0000"  >&lt;p&gt;Have the same problem for&#160;Debezium (Mysql connector)&lt;br/&gt;
 &#160;&lt;/p&gt;</comment>
                            <comment id="17203203" author="serganov" created="Mon, 28 Sep 2020 12:50:54 +0000"  >&lt;p&gt;Same issue for Debezium (SqlServer connector)&lt;/p&gt;</comment>
                            <comment id="17209558" author="pawel.wilczynski@fieldaware.com" created="Wed, 7 Oct 2020 14:01:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://rmoff.net/2019/11/22/common-mistakes-made-when-configuring-multiple-kafka-connect-workers/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://rmoff.net/2019/11/22/common-mistakes-made-when-configuring-multiple-kafka-connect-workers/&lt;/a&gt;&#160;- after making sure that workers can communiate with each other the issue is gone in my case.&lt;/p&gt;</comment>
                            <comment id="17217753" author="rhauch" created="Tue, 20 Oct 2020 16:49:09 +0000"  >&lt;p&gt;If anyone has this problem and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pawel.wilczynski%40fieldaware.com&quot; class=&quot;user-hover&quot; rel=&quot;pawel.wilczynski@fieldaware.com&quot;&gt;pawel.wilczynski@fieldaware.com&lt;/a&gt;&apos;s suggestion to ensure that workers can communicate with each other does not work, please provide more details of your environment, including:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;the Connect version&lt;/li&gt;
	&lt;li&gt;the Connect worker configuration&lt;/li&gt;
	&lt;li&gt;a description of how many workers you&apos;re using&lt;/li&gt;
	&lt;li&gt;debug-level logs showing the startup through the time where the tasks are not being started&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="17393078" author="akatona" created="Wed, 4 Aug 2021 12:10:29 +0000"  >&lt;p&gt;The connect name contains a character which is considered as illegal char via HttpClient::newRequest&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.IllegalArgumentException: Illegal character in path at index ......
	at java.net.URI.create(URI.java:852)
	at org.eclipse.jetty.client.HttpClient.newRequest(HttpClient.java:453)
...
Caused by: java.net.URISyntaxException: Illegal character in path at index .......
	at java.net.URI$Parser.fail(URI.java:2848)
	at java.net.URI$Parser.checkChars(URI.java:3021)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17393655" author="durban" created="Thu, 5 Aug 2021 06:39:43 +0000"  >&lt;p&gt;To add more details to the issue:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;When running multiple workers&lt;/li&gt;
	&lt;li&gt;AND the Connector name contains a non-URL compatible character&lt;/li&gt;
	&lt;li&gt;AND a follower worker has the Connector in its assignment&lt;/li&gt;
	&lt;li&gt;Then the follower-&amp;gt;leader request sent over Connect REST fails in RestClient (without any error logging, or the corresponding future ever completed)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13295722">KAFKA-9805</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13398223">KAFKA-13253</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13295722">KAFKA-9805</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12997485" name="connect-distributed.properties" size="1573" author="vko" created="Mon, 23 Mar 2020 20:40:14 +0000"/>
                            <attachment id="12997486" name="connect.log" size="220626" author="vko" created="Mon, 23 Mar 2020 20:56:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ct1s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>