<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:57:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-4306] Connect workers won&apos;t shut down if brokers are not available</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-4306</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;If brokers are not available and we try to shut down connect workers, sink connectors will be stuck in a loop retrying to commit offsets:&lt;/p&gt;

&lt;p&gt;2016-10-17 09:39:14,907] INFO Marking the coordinator 192.168.1.9:9092 (id: 2147483647 rack: null) dead for group connect-dump-kafka-config1 (org.apache.kafka.clients.consumer.internals.AbstractCoordinator:600)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2016-10-17 09:39:14,907&amp;#93;&lt;/span&gt; ERROR Commit of WorkerSinkTask&lt;/p&gt;
{id=dump-kafka-config1-0}
&lt;p&gt; offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSinkTask:194)&lt;br/&gt;
org.apache.kafka.clients.consumer.RetriableCommitFailedException: Offset commit failed with a retriable exception. You should retry committing offsets.&lt;br/&gt;
Caused by: org.apache.kafka.common.errors.GroupCoordinatorNotAvailableException&lt;/p&gt;

&lt;p&gt;We should probably limit the number of retries before doing &quot;unclean&quot; shutdown.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13012913">KAFKA-4306</key>
            <summary>Connect workers won&apos;t shut down if brokers are not available</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kkonstantine">Konstantine Karantasis</assignee>
                                    <reporter username="gwenshap">Gwen Shapira</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Oct 2016 16:50:28 +0000</created>
                <updated>Tue, 6 Dec 2016 22:35:43 +0000</updated>
                            <resolved>Tue, 6 Dec 2016 22:35:13 +0000</resolved>
                                    <version>0.10.1.0</version>
                                    <fixVersion>0.10.2.0</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15586568" author="shikhar" created="Tue, 18 Oct 2016 20:23:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4154&quot; title=&quot;Kafka Connect fails to shutdown if it has not completed startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4154&quot;&gt;&lt;del&gt;KAFKA-4154&lt;/del&gt;&lt;/a&gt; is another issue relating to broker-unavailability preventing shutdown, but I believe there it&apos;s because it failed to finish startup in the first place.&lt;/p&gt;</comment>
                            <comment id="15598388" author="saravanan_vt" created="Sat, 22 Oct 2016 19:54:40 +0000"  >&lt;p&gt;We are noticing this same problem (RetriableCommitFailedException) in production  caused by Request Timed out. consumer.request.timeout.ms is also far higher in our case,So , what could be the reason in our case. &lt;/p&gt;</comment>
                            <comment id="15713416" author="githubbot" created="Thu, 1 Dec 2016 23:35:04 +0000"  >&lt;p&gt;GitHub user kkonstantine opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2201&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2201&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4306&quot; title=&quot;Connect workers won&amp;#39;t shut down if brokers are not available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4306&quot;&gt;&lt;del&gt;KAFKA-4306&lt;/del&gt;&lt;/a&gt;: Shutdown distributed herder with a timeout.&lt;/p&gt;

&lt;p&gt;    Resolves&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4306&quot; title=&quot;Connect workers won&amp;#39;t shut down if brokers are not available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4306&quot;&gt;&lt;del&gt;KAFKA-4306&lt;/del&gt;&lt;/a&gt;: Connect workers won&apos;t shut down if brokers are not available&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4154&quot; title=&quot;Kafka Connect fails to shutdown if it has not completed startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4154&quot;&gt;&lt;del&gt;KAFKA-4154&lt;/del&gt;&lt;/a&gt;: Kafka Connect fails to shutdown if it has not completed startup&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/kkonstantine/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/kkonstantine/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4306&quot; title=&quot;Connect workers won&amp;#39;t shut down if brokers are not available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4306&quot;&gt;&lt;del&gt;KAFKA-4306&lt;/del&gt;&lt;/a&gt;-Connect-workers-will-not-shut-down-if-brokers-are-not-available&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2201.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2201.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2201&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b1decf8ab09ae8e89288d7548cc7561e2455aa0d&lt;br/&gt;
Author: Konstantine Karantasis &amp;lt;konstantine@confluent.io&amp;gt;&lt;br/&gt;
Date:   2016-11-12T00:55:07Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4306&quot; title=&quot;Connect workers won&amp;#39;t shut down if brokers are not available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4306&quot;&gt;&lt;del&gt;KAFKA-4306&lt;/del&gt;&lt;/a&gt;: Shutdown distributed herder with a timeout.&lt;/p&gt;

&lt;p&gt;    Resolves&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4306&quot; title=&quot;Connect workers won&amp;#39;t shut down if brokers are not available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4306&quot;&gt;&lt;del&gt;KAFKA-4306&lt;/del&gt;&lt;/a&gt;: Connect workers won&apos;t shut down if brokers are not available&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4154&quot; title=&quot;Kafka Connect fails to shutdown if it has not completed startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4154&quot;&gt;&lt;del&gt;KAFKA-4154&lt;/del&gt;&lt;/a&gt;: Kafka Connect fails to shutdown if it has not completed startup&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15726938" author="ewencp" created="Tue, 6 Dec 2016 22:35:13 +0000"  >&lt;p&gt;Issue resolved by pull request 2201&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/2201&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2201&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15726940" author="githubbot" created="Tue, 6 Dec 2016 22:35:43 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2201&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2201&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13004453">KAFKA-4154</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34znr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>