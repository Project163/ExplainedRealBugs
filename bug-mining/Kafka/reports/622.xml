<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:42:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-1824] in ConsoleProducer - properties key.separator and parse.key no longer work</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-1824</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Looks like the change in kafka-1711 breaks them accidentally.&lt;/p&gt;

&lt;p&gt;reader.init is called with readerProps which is initialized with commandline properties as defaults.&lt;/p&gt;

&lt;p&gt;the problem is that reader.init checks:&lt;br/&gt;
    if(props.containsKey(&quot;parse.key&quot;))&lt;br/&gt;
and defaults don&apos;t return true in this case.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12762628">KAFKA-1824</key>
            <summary>in ConsoleProducer - properties key.separator and parse.key no longer work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gwenshap">Gwen Shapira</assignee>
                                    <reporter username="gwenshap">Gwen Shapira</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Dec 2014 17:19:05 +0000</created>
                <updated>Sat, 28 Feb 2015 15:42:53 +0000</updated>
                            <resolved>Sat, 28 Feb 2015 15:42:44 +0000</resolved>
                                                    <fixVersion>0.9.0.0</fixVersion>
                                    <component>tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14252061" author="gwenshap" created="Thu, 18 Dec 2014 19:08:32 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/29211/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/29211/diff/&lt;/a&gt;&lt;br/&gt;
 against branch trunk&lt;/p&gt;</comment>
                            <comment id="14252701" author="nehanarkhede" created="Fri, 19 Dec 2014 01:06:21 +0000"  >&lt;p&gt;Thanks for the patch. Pushed to trunk.&lt;/p&gt;</comment>
                            <comment id="14252706" author="gwenshap" created="Fri, 19 Dec 2014 01:08:23 +0000"  >&lt;p&gt;Thanks for the quick review &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nehanarkhede&quot; class=&quot;user-hover&quot; rel=&quot;nehanarkhede&quot;&gt;nehanarkhede&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14252774" author="gwenshap" created="Fri, 19 Dec 2014 01:56:19 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/29231/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/29231/diff/&lt;/a&gt;&lt;br/&gt;
 against branch trunk&lt;/p&gt;</comment>
                            <comment id="14252777" author="gwenshap" created="Fri, 19 Dec 2014 01:58:09 +0000"  >&lt;p&gt;My apologies! &lt;/p&gt;

&lt;p&gt;Additional round of tests revealed that my first patch accidentally breaks what was fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-1711&quot; title=&quot;WARN Property topic is not valid when running console producer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-1711&quot;&gt;&lt;del&gt;KAFKA-1711&lt;/del&gt;&lt;/a&gt; - i.e. the &quot;WARN Property topic is not valid&quot; message returned. Those VerifiableProperties are tricky!&lt;/p&gt;

&lt;p&gt;I added a new patch, on top of the one already committed that removes the extra properties before creating the producer and eliminates the WARN messages.&lt;/p&gt;</comment>
                            <comment id="14252805" author="nehanarkhede" created="Fri, 19 Dec 2014 02:21:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt; Good catch. I wonder if we should just add tests given the tricky logic involved.&lt;/p&gt;</comment>
                            <comment id="14252809" author="gwenshap" created="Fri, 19 Dec 2014 02:28:33 +0000"  >&lt;p&gt;Yes, lets do that. Will help us avoid another round of the break-and-fix cycle.&lt;/p&gt;

&lt;p&gt;Hold off on this patch and I&apos;ll provide tests in a day or two.&lt;/p&gt;</comment>
                            <comment id="14256355" author="gwenshap" created="Tue, 23 Dec 2014 00:17:48 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/29231/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/29231/diff/&lt;/a&gt;&lt;br/&gt;
 against branch trunk&lt;/p&gt;</comment>
                            <comment id="14256363" author="gwenshap" created="Tue, 23 Dec 2014 00:23:55 +0000"  >&lt;p&gt;I added tests, I also did some refactoring to ConsoleProducer to allow testing (i.e. pulled some portions off main() to separate functions where we can test them). &lt;/p&gt;

&lt;p&gt;One caveat - This patch removes an undocumented feature: &lt;br/&gt;
Before the patch, properties specified in --property were passed to the producer (even though it is documented as properties for the MessageReader), so users could configure producer properties not supported by the console producer directly to the underlying producer.&lt;br/&gt;
Now the properties specified in --property are only sent to the reader, as documented.&lt;/p&gt;

&lt;p&gt;If we think that allowing users to send custom properties to producer is useful, I can add an additional option (--producer-property).&lt;/p&gt;</comment>
                            <comment id="14256569" author="joestein" created="Tue, 23 Dec 2014 03:55:12 +0000"  >&lt;p&gt;Shouldn&apos;t this go into 0.8.2 branch also since it is a fix for a regression bug?&lt;/p&gt;</comment>
                            <comment id="14259188" author="gwenshap" created="Fri, 26 Dec 2014 19:14:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joestein&quot; class=&quot;user-hover&quot; rel=&quot;joestein&quot;&gt;joestein&lt;/a&gt; 0.8.2 branch is actually ok (i.e. you get a warning about &quot;invalid property&quot;, but key.separator and parse.key work fine).&lt;br/&gt;
So this just needs to go into trunk.&lt;/p&gt;</comment>
                            <comment id="14283097" author="gwenshap" created="Mon, 19 Jan 2015 22:31:05 +0000"  >&lt;p&gt;I noticed that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=junrao&quot; class=&quot;user-hover&quot; rel=&quot;junrao&quot;&gt;junrao&lt;/a&gt; committed &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-1711&quot; title=&quot;WARN Property topic is not valid when running console producer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-1711&quot;&gt;&lt;del&gt;KAFKA-1711&lt;/del&gt;&lt;/a&gt; to 0.8.2 branch last week, so we need this patch on 0.8.2 as well.&lt;/p&gt;</comment>
                            <comment id="14283216" author="junrao" created="Tue, 20 Jan 2015 00:20:03 +0000"  >&lt;p&gt;Gwen, thanks for point this out. I am reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-1711&quot; title=&quot;WARN Property topic is not valid when running console producer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-1711&quot;&gt;&lt;del&gt;KAFKA-1711&lt;/del&gt;&lt;/a&gt; from the 0.8.2 branch before cutting RC1.&lt;/p&gt;</comment>
                            <comment id="14283244" author="junrao" created="Tue, 20 Jan 2015 00:55:07 +0000"  >&lt;p&gt;Reopening the issue since the followup patch hasn&apos;t been committed yet.&lt;/p&gt;</comment>
                            <comment id="14283351" author="gwenshap" created="Tue, 20 Jan 2015 03:14:44 +0000"  >&lt;p&gt;Thanks, Jun. &lt;br/&gt;
I changed status to Patch Available, so once the 0.8.2 madness calms down a bit, we can review and get it into trunk.&lt;/p&gt;</comment>
                            <comment id="14318990" author="gwenshap" created="Thu, 12 Feb 2015 21:17:05 +0000"  >&lt;p&gt;pinging for review &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14332011" author="nehanarkhede" created="Sun, 22 Feb 2015 03:42:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt; Is this the rb you are asking a review on? &lt;a href=&quot;https://reviews.apache.org/r/29231/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/29231/diff/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14332054" author="gwenshap" created="Sun, 22 Feb 2015 06:17:50 +0000"  >&lt;p&gt;Thats the right RB, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nehanarkhede&quot; class=&quot;user-hover&quot; rel=&quot;nehanarkhede&quot;&gt;nehanarkhede&lt;/a&gt;.&lt;/p&gt;
</comment>
                            <comment id="14332339" author="nehanarkhede" created="Sun, 22 Feb 2015 20:17:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt; I&apos;m having trouble applying the patch on trunk -&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;nnarkhed-mn1:kafka nnarkhed$ git apply --check 1824.patch 
error: patch failed: core/src/main/scala/kafka/tools/ConsoleProducer.scala:36
error: core/src/main/scala/kafka/tools/ConsoleProducer.scala: patch does not apply
error: patch failed: core/src/main/scala/kafka/tools/ConsoleProducer.scala:34
error: core/src/main/scala/kafka/tools/ConsoleProducer.scala: patch does not apply
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14339818" author="gwenshap" created="Fri, 27 Feb 2015 07:05:15 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/29231/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/29231/diff/&lt;/a&gt;&lt;br/&gt;
 against branch trunk&lt;/p&gt;</comment>
                            <comment id="14341089" author="nehanarkhede" created="Sat, 28 Feb 2015 00:29:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt; Still doesn&apos;t apply. Not sure if I&apos;m doing something incorrectly-&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;nnarkhed-mn1:kafka nnarkhed$ git apply --check ~/Projects/kafka-patches/1824.patch 
error: patch failed: core/src/main/scala/kafka/tools/ConsoleProducer.scala:36
error: core/src/main/scala/kafka/tools/ConsoleProducer.scala: patch does not apply
error: patch failed: core/src/main/scala/kafka/tools/ConsoleProducer.scala:34
error: core/src/main/scala/kafka/tools/ConsoleProducer.scala: patch does not apply
error: core/src/test/scala/kafka/tools/ConsoleProducerTest.scala: already exists in working directory
error: patch failed: core/src/main/scala/kafka/tools/ConsoleProducer.scala:76
error: core/src/main/scala/kafka/tools/ConsoleProducer.scala: patch does not apply
error: patch failed: core/src/main/scala/kafka/tools/ConsoleProducer.scala:266
error: core/src/main/scala/kafka/tools/ConsoleProducer.scala: patch does not apply
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14341107" author="gwenshap" created="Sat, 28 Feb 2015 00:40:48 +0000"  >&lt;p&gt;I&apos;ll blame the patch-tool.&lt;/p&gt;

&lt;p&gt;I generated new patch with &quot;git diff&quot; and tested on trunk. Seems to work &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14341593" author="nehanarkhede" created="Sat, 28 Feb 2015 15:42:44 +0000"  >&lt;p&gt;Thanks for the patches. Pushed to trunk&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12688211" name="KAFKA-1824.patch" size="2698" author="gwenshap" created="Fri, 19 Dec 2014 01:56:18 +0000"/>
                            <attachment id="12688090" name="KAFKA-1824.patch" size="1120" author="gwenshap" created="Thu, 18 Dec 2014 19:08:31 +0000"/>
                            <attachment id="12701505" name="KAFKA-1824.v1.patch" size="11523" author="gwenshap" created="Sat, 28 Feb 2015 00:40:48 +0000"/>
                            <attachment id="12688747" name="KAFKA-1824_2014-12-22_16:17:42.patch" size="14824" author="gwenshap" created="Tue, 23 Dec 2014 00:17:47 +0000"/>
                            <attachment id="12701287" name="KAFKA-1824_2015-02-26_23:05:10.patch" size="18483" author="gwenshap" created="Fri, 27 Feb 2015 07:05:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23l1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>