<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:34:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-146] testUnreachableServer sporadically fails</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-146</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;(If anyone can tell me how to convince Jira to do verbatim output,  I would be grateful)&lt;/p&gt;

&lt;p&gt;This seems to fail about 50% of the time on builds.apache.org, also reported by Bao Thai Ngo on the -dev list.  I have not had success reproducing it locally on my Ubuntu laptop.&lt;/p&gt;

&lt;p&gt;[0m[[0minfo&lt;span class=&quot;error&quot;&gt;&amp;#91;0m&amp;#93;&lt;/span&gt; [34m[0m&lt;br/&gt;
[0m[[0minfo&lt;span class=&quot;error&quot;&gt;&amp;#91;0m&amp;#93;&lt;/span&gt; [34m== core-kafka / kafka.javaapi.producer.SyncProducerTest ==[0m&lt;br/&gt;
[0m[[0minfo&lt;span class=&quot;error&quot;&gt;&amp;#91;0m&amp;#93;&lt;/span&gt; [0mTest Starting: testUnreachableServer[0m&lt;br/&gt;
First message send retries took 365 ms&lt;br/&gt;
[0m[[31merror&lt;span class=&quot;error&quot;&gt;&amp;#91;0m&amp;#93;&lt;/span&gt; [0mTest Failed: testUnreachableServer[0m&lt;br/&gt;
junit.framework.AssertionFailedError: null&lt;br/&gt;
	at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
	at junit.framework.Assert.assertTrue(Assert.java:20)&lt;br/&gt;
	at junit.framework.Assert.assertTrue(Assert.java:27)&lt;br/&gt;
	at kafka.javaapi.producer.SyncProducerTest.testUnreachableServer(SyncProducerTest.scala:75)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.junit.internal.runners.TestMethodRunner.executeMethodBody(TestMethodRunner.java:99)&lt;br/&gt;
	at org.junit.internal.runners.TestMethodRunner.runUnprotected(TestMethodRunner.java:81)&lt;br/&gt;
	at org.junit.internal.runners.BeforeAndAfterRunner.runProtected(BeforeAndAfterRunner.java:34)&lt;br/&gt;
	at org.junit.internal.runners.TestMethodRunner.runMethod(TestMethodRunner.java:75)&lt;br/&gt;
	at org.junit.internal.runners.TestMethodRunner.run(TestMethodRunner.java:45)&lt;br/&gt;
	at org.junit.internal.runners.TestClassMethodsRunner.invokeTestMethod(TestClassMethodsRunner.java:71)&lt;br/&gt;
	at org.junit.internal.runners.TestClassMethodsRunner.run(TestClassMethodsRunner.java:35)&lt;br/&gt;
	at org.junit.internal.runners.TestClassRunner$1.runUnprotected(TestClassRunner.java:42)&lt;br/&gt;
	at org.junit.internal.runners.BeforeAndAfterRunner.runProtected(BeforeAndAfterRunner.java:34)&lt;br/&gt;
	at org.junit.internal.runners.TestClassRunner.run(TestClassRunner.java:52)&lt;br/&gt;
	at org.junit.internal.runners.CompositeRunner.run(CompositeRunner.java:29)&lt;br/&gt;
	at org.junit.runner.JUnitCore.run(JUnitCore.java:121)&lt;br/&gt;
	at org.junit.runner.JUnitCore.run(JUnitCore.java:100)&lt;br/&gt;
	at org.junit.runner.JUnitCore.run(JUnitCore.java:91)&lt;br/&gt;
	at org.scalatest.junit.JUnitSuite$class.run(JUnitSuite.scala:261)&lt;br/&gt;
	at kafka.javaapi.producer.SyncProducerTest.run(SyncProducerTest.scala:33)&lt;br/&gt;
	at org.scalatest.tools.ScalaTestFramework$ScalaTestRunner.run(ScalaTestFramework.scala:40)&lt;br/&gt;
	at sbt.TestRunner.run(TestFramework.scala:53)&lt;br/&gt;
	at sbt.TestRunner.runTest$1(TestFramework.scala:67)&lt;br/&gt;
	at sbt.TestRunner.run(TestFramework.scala:76)&lt;br/&gt;
	at sbt.TestFramework$$anonfun$10$$anonfun$apply$11.runTest$2(TestFramework.scala:194)&lt;br/&gt;
	at sbt.TestFramework$$anonfun$10$$anonfun$apply$11$$anonfun$apply$12.apply(TestFramework.scala:205)&lt;br/&gt;
	at sbt.TestFramework$$anonfun$10$$anonfun$apply$11$$anonfun$apply$12.apply(TestFramework.scala:205)&lt;br/&gt;
	at sbt.NamedTestTask.run(TestFramework.scala:92)&lt;br/&gt;
	at sbt.ScalaProject$$anonfun$sbt$ScalaProject$$toTask$1.apply(ScalaProject.scala:193)&lt;br/&gt;
	at sbt.ScalaProject$$anonfun$sbt$ScalaProject$$toTask$1.apply(ScalaProject.scala:193)&lt;br/&gt;
	at sbt.TaskManager$Task.invoke(TaskManager.scala:62)&lt;br/&gt;
	at sbt.impl.RunTask.doRun$1(RunTask.scala:77)&lt;br/&gt;
	at sbt.impl.RunTask.runTask(RunTask.scala:85)&lt;br/&gt;
	at sbt.impl.RunTask.sbt$impl$RunTask$$runIfNotRoot(RunTask.scala:60)&lt;br/&gt;
	at sbt.impl.RunTask$$anonfun$runTasksExceptRoot$2.apply(RunTask.scala:48)&lt;br/&gt;
	at sbt.impl.RunTask$$anonfun$runTasksExceptRoot$2.apply(RunTask.scala:48)&lt;br/&gt;
	at sbt.Distributor$Run$Worker$$anonfun$2.apply(ParallelRunner.scala:131)&lt;br/&gt;
	at sbt.Distributor$Run$Worker$$anonfun$2.apply(ParallelRunner.scala:131)&lt;br/&gt;
	at sbt.Control$.trapUnit(Control.scala:19)&lt;br/&gt;
	at sbt.Distributor$Run$Worker.run(ParallelRunner.scala:131)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12525615">KAFKA-146</key>
            <summary>testUnreachableServer sporadically fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nehanarkhede">Neha Narkhede</assignee>
                                    <reporter username="cburroughs">Chris Burroughs</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Oct 2011 02:09:57 +0000</created>
                <updated>Wed, 5 Oct 2011 20:29:38 +0000</updated>
                            <resolved>Wed, 5 Oct 2011 20:29:38 +0000</resolved>
                                                    <fixVersion>0.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13120554" author="nehanarkhede" created="Tue, 4 Oct 2011 22:50:40 +0000"  >&lt;p&gt;This test keeps failing on and off on Mac boxes as well. Basically, it is written to test the producer reconnect timeout, so it is timing dependent. I think we should clean all unit tests that have a timing dependency. &lt;/p&gt;

&lt;p&gt;For this ticket, I&apos;ve attached a patch that deletes these tests from the unit test suite. &lt;/p&gt;</comment>
                            <comment id="13120632" author="junrao" created="Wed, 5 Oct 2011 01:12:02 +0000"  >&lt;p&gt;It seems that the problem is caused by this assertion: Assert.assertTrue((firstEnd-firstStart) &amp;lt; 300). However, I don&apos;t see too much value of these 2 tests and would agree that they can be removed. We should also remove the same tests in javaapi too.&lt;br/&gt;
.&lt;/p&gt;</comment>
                            <comment id="13120643" author="nehanarkhede" created="Wed, 5 Oct 2011 01:39:55 +0000"  >&lt;p&gt;Deleted those tests from kafka.producer.SyncProducerTest as well as kafka.javaapi.producer.SyncProducerTest&lt;/p&gt;</comment>
                            <comment id="13120646" author="junrao" created="Wed, 5 Oct 2011 01:53:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13121439" author="nehanarkhede" created="Wed, 5 Oct 2011 20:29:38 +0000"  >&lt;p&gt;Committed this patch. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12497739" name="KAFKA-146.patch" size="7207" author="nehanarkhede" created="Wed, 5 Oct 2011 01:39:55 +0000"/>
                            <attachment id="12497722" name="KAFKA-146.patch" size="3444" author="nehanarkhede" created="Tue, 4 Oct 2011 22:50:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i15z5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>