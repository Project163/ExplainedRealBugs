<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:41:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-1637] SimpleConsumer.fetchOffset returns wrong error code when no offset exists for topic/partition/consumer group</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-1637</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;This concerns Kafka&apos;s Offset  Fetch API:&lt;/p&gt;

&lt;p&gt;According to Kafka&apos;s current documentation, &quot;if there is no offset associated with a topic-partition under that consumer group the broker does not set an error code (since it is not really an error), but returns empty metadata and sets the offset field to -1.&quot;  (Link below)&lt;/p&gt;

&lt;p&gt;However, in Kafka 08.1.1 Error code &apos;3&apos; is returned, which effectively makes it impossible for the client to decide if there was an error, or if there is no offset associated with a topic-partition under that consumer group.&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/KAFKA/A+Guide+To+The+Kafka+Protocol#AGuideToTheKafkaProtocol-MetadataAPI&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/KAFKA/A+Guide+To+The+Kafka+Protocol#AGuideToTheKafkaProtocol-MetadataAPI&lt;/a&gt;&lt;/p&gt;</description>
                <environment>Linux</environment>
        <key id="12742012">KAFKA-1637</key>
            <summary>SimpleConsumer.fetchOffset returns wrong error code when no offset exists for topic/partition/consumer group</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ewencp">Ewen Cheslack-Postava</assignee>
                                    <reporter username="amir.malekpour">Amir Malekpour</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Wed, 17 Sep 2014 00:59:26 +0000</created>
                <updated>Fri, 14 Nov 2014 19:16:55 +0000</updated>
                            <resolved>Thu, 16 Oct 2014 17:39:14 +0000</resolved>
                                    <version>0.8.1</version>
                    <version>0.8.1.1</version>
                                    <fixVersion>0.8.2.0</fixVersion>
                                    <component>consumer</component>
                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14171610" author="ewencp" created="Tue, 14 Oct 2014 22:04:56 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/26710/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/26710/diff/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="14171621" author="ewencp" created="Tue, 14 Oct 2014 22:11:38 +0000"  >&lt;p&gt;The error code is for &quot;UnkownTopicOrPartition&quot;, which may have been correct if the request was for a non-existent topic or partition. Previously the code seemed to be doing the correct thing, reporting this error and returning invalid offset when the consumer hadn&apos;t started reading from that group. But &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-1012&quot; title=&quot;Implement an Offset Manager and hook offset requests to it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-1012&quot;&gt;&lt;del&gt;KAFKA-1012&lt;/del&gt;&lt;/a&gt; (a670537aa337) actually changed that behavior. The provided patch tries to cover the different possible scenarios (missing topic, invalid partition, and valid TopicAndPartition but a consumer with no offset for it).&lt;/p&gt;

&lt;p&gt;One potential caveat is auto topic creation since it could be reasonable to not return UnkownTopicOrPartition for a missing topic in that case. I&apos;m not sure we really want different behavior in that case though.&lt;/p&gt;</comment>
                            <comment id="14171978" author="nehanarkhede" created="Wed, 15 Oct 2014 04:50:49 +0000"  >&lt;p&gt;Thanks for the patch. Pushed to trunk and 0.8.2&lt;/p&gt;</comment>
                            <comment id="14172020" author="jjkoshy" created="Wed, 15 Oct 2014 05:34:41 +0000"  >&lt;p&gt;-1 on this patch per the comment in the RB. Reverted it for now.&lt;/p&gt;</comment>
                            <comment id="14172372" author="nehanarkhede" created="Wed, 15 Oct 2014 13:51:33 +0000"  >&lt;p&gt;Wups. Didn&apos;t mean to push the patch for this JIRA. Sorry! &lt;br/&gt;
Had a suggestion myself for not using the replica manager which didn&apos;t get published by reviewboard.&lt;/p&gt;</comment>
                            <comment id="14172513" author="ewencp" created="Wed, 15 Oct 2014 16:08:33 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/26710/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/26710/diff/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="14172968" author="nehanarkhede" created="Wed, 15 Oct 2014 21:24:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ewencp&quot; class=&quot;user-hover&quot; rel=&quot;ewencp&quot;&gt;ewencp&lt;/a&gt; Your latest patch looks good. Once you&apos;ve addressed &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjkoshy&quot; class=&quot;user-hover&quot; rel=&quot;jjkoshy&quot;&gt;jjkoshy&lt;/a&gt;&apos;s latest comment, I&apos;ll push it to trunk and 0.8.2&lt;/p&gt;</comment>
                            <comment id="14173018" author="ewencp" created="Wed, 15 Oct 2014 21:47:37 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/26710/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/26710/diff/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="14174007" author="nehanarkhede" created="Thu, 16 Oct 2014 17:39:14 +0000"  >&lt;p&gt;Pushed updated patch to trunk and 0.8.2&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12674862" name="KAFKA-1637.patch" size="7191" author="ewencp" created="Tue, 14 Oct 2014 22:04:55 +0000"/>
                            <attachment id="12675023" name="KAFKA-1637_2014-10-15_09:08:12.patch" size="8516" author="ewencp" created="Wed, 15 Oct 2014 16:08:33 +0000"/>
                            <attachment id="12675127" name="KAFKA-1637_2014-10-15_14:47:21.patch" size="10378" author="ewencp" created="Wed, 15 Oct 2014 21:47:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i204wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>