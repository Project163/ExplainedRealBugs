<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:59:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-4567] Connect Producer and Consumer ignore ssl parameters configured for worker</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-4567</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;When using Connect with a SSL enabled Kafka cluster, the configuration options are either documented a bit misleading, or handled in an incorrect way.&lt;/p&gt;

&lt;p&gt;The documentation states the usual available SSL options (ssl.keystore.location, ssl.truststore.location, ...) and these are picked up and used for the producers and consumers that are used to communicate with the status, offset and configs topics.&lt;br/&gt;
For the producers and consumers that are used for the actual data, these parameters are ignored as can be seen &lt;a href=&quot;https://github.com/apache/kafka/blob/trunk/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/Worker.java#L98&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;, which results in plaintext communication on an SSL port, leading to an OOM exception (&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4493&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;KAFKA-4493&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;So in order to get Connect to communicate with a secured cluster you need to override all SSL configs with the prefixes &lt;em&gt;consumer.&lt;/em&gt; and &lt;em&gt;producer.&lt;/em&gt; and duplicate the values already set at a global level.&lt;/p&gt;

&lt;p&gt;The documentation states: &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The most critical site-specific options, such as the Kafka bootstrap servers, are already exposed via the standard worker configuration.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Since the address for the cluster is exposed here, I would propose that there is no reason not to also pass the SSL parameters through to the consumers and producers, as it is clearly intended that communication happens with the same cluster. &lt;br/&gt;
In fringe cases, these can still be overridden manually to achieve different behavior.&lt;/p&gt;

&lt;p&gt;I am happy to create a pull request to address this or clarify the docs, after we decide which one is the appropriate course of action.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="13030041">KAFKA-4567</key>
            <summary>Connect Producer and Consumer ignore ssl parameters configured for worker</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sliebau">S&#246;nke Liebau</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 08:42:01 +0000</created>
                <updated>Sun, 5 Mar 2017 18:29:36 +0000</updated>
                            <resolved>Sun, 5 Mar 2017 18:29:09 +0000</resolved>
                                    <version>0.10.1.1</version>
                                    <fixVersion>0.11.0.0</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15786745" author="ewencp" created="Fri, 30 Dec 2016 03:13:07 +0000"  >&lt;p&gt;Given some future security features we may want to support (e.g. supporting different identities for different connectors), we probably don&apos;t want to just include the worker-level security configs into the producer &amp;amp; consumer. It&apos;s annoying to have to duplicate them now, but we probably want to support more flexible combinations in the future, such as having unique credentials for the workers (limiting the ability to, e.g., write to the config/offsets/status topics) than those used by producers and consumers (where we may want both unique credentials to apply ACLs and maybe support things like delegation tokens in the future).&lt;/p&gt;

&lt;p&gt;So I think the short term solution is probably to just update the docs to clarify that you&apos;ll currently need the settings both at the worker level and prefixed by &lt;tt&gt;producer.&lt;/tt&gt; and &lt;tt&gt;consumer.&lt;/tt&gt; if you&apos;re trying to use the same credentials for worker, producer, and consumer.&lt;/p&gt;</comment>
                            <comment id="15855931" author="githubbot" created="Tue, 7 Feb 2017 13:01:03 +0000"  >&lt;p&gt;GitHub user soenkeliebau opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2511&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4567&quot; title=&quot;Connect Producer and Consumer ignore ssl parameters configured for worker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4567&quot;&gt;&lt;del&gt;KAFKA-4567&lt;/del&gt;&lt;/a&gt; - Connect Producer and Consumer ignore ssl parameters&#8230;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4567&quot; title=&quot;Connect Producer and Consumer ignore ssl parameters configured for worker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4567&quot;&gt;&lt;del&gt;KAFKA-4567&lt;/del&gt;&lt;/a&gt; - Connect Producer and Consumer ignore ssl parameters configured for worker&lt;/p&gt;

&lt;p&gt;    Added brief explanation to the docs about parameter inheritance of Kafka consumers and producers from the worker config.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/soenkeliebau/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/soenkeliebau/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4567&quot; title=&quot;Connect Producer and Consumer ignore ssl parameters configured for worker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4567&quot;&gt;&lt;del&gt;KAFKA-4567&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2511.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2511.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2511&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c3f7ebac1cb1d34b50cd4306f63a09dd0e5ac694&lt;br/&gt;
Author: S&#246;nke Liebau &amp;lt;soenke.liebau@opencore.com&amp;gt;&lt;br/&gt;
Date:   2017-02-07T12:55:26Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4567&quot; title=&quot;Connect Producer and Consumer ignore ssl parameters configured for worker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4567&quot;&gt;&lt;del&gt;KAFKA-4567&lt;/del&gt;&lt;/a&gt; - Connect Producer and Consumer ignore ssl parameters configured for worker&lt;/p&gt;

&lt;p&gt;    Added brief explanation to the docs about parameter inheritance of Kafka consumers and producers from the worker config.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15855932" author="sliebau" created="Tue, 7 Feb 2017 13:01:44 +0000"  >&lt;p&gt;Alright.&lt;br/&gt;
I have added a small paragraph to the docs about this and created a pull request.&lt;/p&gt;</comment>
                            <comment id="15896473" author="gwenshap" created="Sun, 5 Mar 2017 18:29:09 +0000"  >&lt;p&gt;Issue resolved by pull request 2511&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/2511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2511&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15896475" author="githubbot" created="Sun, 5 Mar 2017 18:29:36 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2511&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37xbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>