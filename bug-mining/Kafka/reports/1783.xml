<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:05:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-6265] GlobalKTable missing #queryableStoreName()</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-6265</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;KTable has the nicely useful #queryableStoreName(), it seems to be missing from GlobalKTable&lt;/p&gt;</description>
                <environment></environment>
        <key id="13120383">KAFKA-6265</key>
            <summary>GlobalKTable missing #queryableStoreName()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Yohan123">Richard Yu</assignee>
                                    <reporter username="astubbs">Antony Stubbs</reporter>
                        <labels>
                            <label>beginner</label>
                            <label>needs-kip</label>
                            <label>newbie</label>
                    </labels>
                <created>Thu, 23 Nov 2017 03:21:23 +0000</created>
                <updated>Fri, 12 Jan 2018 10:55:07 +0000</updated>
                            <resolved>Thu, 11 Jan 2018 17:54:22 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>streams</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16287230" author="guozhang" created="Tue, 12 Dec 2017 07:42:35 +0000"  >&lt;p&gt;Note that &lt;tt&gt;GlobalKTableImpl&lt;/tt&gt; is only constructed in &lt;tt&gt;InternalStreamsBuilder#globalTable&lt;/tt&gt; (the other caller is a deprecated one and would be removed in the future) with a single store name passed from &lt;tt&gt;storeBuilder&lt;/tt&gt;, so its &lt;tt&gt;KTableSourceValueGetterSupplier#storeNames()&lt;/tt&gt; should always return a single store name passed in by the &lt;tt&gt;storeBuilder&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Now we can take a look at which values should we return when adding this &lt;tt&gt;queryableStoreName&lt;/tt&gt;, similar to &lt;tt&gt;KTable&lt;/tt&gt; there are two cases:&lt;/p&gt;

&lt;p&gt;1) users do not provide a store name when specifying &lt;tt&gt;Materialized&lt;/tt&gt; or they do not a &lt;tt&gt;Materialized&lt;/tt&gt; object at all in the other overloading &lt;tt&gt;globalTable&lt;/tt&gt; function. In this case the library will auto generate a store name &lt;tt&gt;storeName = nameProvider.newStoreName(generatedStorePrefix);&lt;/tt&gt; which is only used as a place holder for internal usage and hence should not be exposed in &lt;tt&gt;queryableStoreName&lt;/tt&gt;, instead we should return &lt;tt&gt;null&lt;/tt&gt; indicating that this store is not queryable.&lt;/p&gt;

&lt;p&gt;2) users do provide a store name when building the topology, in this case we should make sure that this store name is made to the &lt;tt&gt;storeBuilder&lt;/tt&gt; (I think we already do, but worth double checking all the call traces) and hence can be returned in &lt;tt&gt;queryableStoreName&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16293344" author="guozhang" created="Fri, 15 Dec 2017 22:13:00 +0000"  >&lt;p&gt;That&apos;s a good point. &lt;/p&gt;

&lt;p&gt;&lt;tt&gt;KStreamBuilder&lt;/tt&gt; is a deprecated class that has been replaced by &lt;tt&gt;StreamsBuilder&lt;/tt&gt;, but it always passed in a non-null &lt;tt&gt;storeSupplier.name()&lt;/tt&gt; to the &lt;tt&gt;KTableSourceValueGetterSupplier&lt;/tt&gt; parameter of the &lt;tt&gt;GlobalKTableImpl&lt;/tt&gt; constructor, if this name is generated as &lt;tt&gt;final String internalStoreName = queryableStoreName != null ? queryableStoreName : newStoreName(KTableImpl.SOURCE_NAME);&lt;/tt&gt; then we should not return it in &lt;tt&gt;queryableStoreName&lt;/tt&gt;. It is the same logic as in the new class where internal store names as of &lt;tt&gt;nameProvider.newStoreName(generatedStorePrefix)&lt;/tt&gt; should not be returned.&lt;/p&gt;</comment>
                            <comment id="16293412" author="githubbot" created="Fri, 15 Dec 2017 23:41:40 +0000"  >&lt;p&gt;GitHub user ConcurrencyPractitioner opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4334&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6265&quot; title=&quot;GlobalKTable missing #queryableStoreName()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6265&quot;&gt;&lt;del&gt;KAFKA-6265&lt;/del&gt;&lt;/a&gt; GlobalKTable missing #queryableStoreName()&lt;/p&gt;




&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ConcurrencyPractitioner/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ConcurrencyPractitioner/kafka&lt;/a&gt; trunk&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4334.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4334.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4334&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 9264592828fe7bc38c660588c07526de17a5b761&lt;br/&gt;
Author: RichardYuSTUG &amp;lt;yohan.richard.yu2@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-12-15T23:40:54Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6265&quot; title=&quot;GlobalKTable missing #queryableStoreName()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6265&quot;&gt;&lt;del&gt;KAFKA-6265&lt;/del&gt;&lt;/a&gt; GlobalKTable missing #queryableStoreName()&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16293467" author="mjsax" created="Sat, 16 Dec 2017 00:22:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Yohan123&quot; class=&quot;user-hover&quot; rel=&quot;Yohan123&quot;&gt;Yohan123&lt;/a&gt; Please assign ticket to yourself when you work on them. Thx.&lt;/p&gt;</comment>
                            <comment id="16295751" author="githubbot" created="Mon, 18 Dec 2017 22:13:30 +0000"  >&lt;p&gt;GitHub user ConcurrencyPractitioner opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4340&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4340&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6265&quot; title=&quot;GlobalKTable missing #queryableStoreName()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6265&quot;&gt;&lt;del&gt;KAFKA-6265&lt;/del&gt;&lt;/a&gt; GlobalKTable missing #queryableStoreName()&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ConcurrencyPractitioner/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ConcurrencyPractitioner/kafka&lt;/a&gt; kafka-6265&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4340.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4340.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4340&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit bc50a83789ab3f1ad13b4db74ef02a3a3368eef0&lt;br/&gt;
Author: RichardYuSTUG &amp;lt;yohan.richard.yu2@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-12-18T22:12:52Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6265&quot; title=&quot;GlobalKTable missing #queryableStoreName()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6265&quot;&gt;&lt;del&gt;KAFKA-6265&lt;/del&gt;&lt;/a&gt; GlobalKTable missing #queryableStoreName()&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16296276" author="githubbot" created="Tue, 19 Dec 2017 06:18:16 +0000"  >&lt;p&gt;Github user ConcurrencyPractitioner closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4334&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16321544" author="githubbot" created="Thu, 11 Jan 2018 01:50:10 +0000"  >&lt;p&gt;ConcurrencyPractitioner opened a new pull request #4412: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6265&quot; title=&quot;GlobalKTable missing #queryableStoreName()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6265&quot;&gt;&lt;del&gt;KAFKA-6265&lt;/del&gt;&lt;/a&gt; GlobalKTable missing #queryableStoreName()&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/4412&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4412&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Adding call to constructor&lt;/p&gt;

&lt;p&gt;   Reverting due to compileJava identifying constructor as undefined&lt;/p&gt;

&lt;p&gt;   Adding documentation&lt;/p&gt;

&lt;p&gt;   Resolving format errors&lt;/p&gt;

&lt;p&gt;   Moving documentation 2&lt;/p&gt;

&lt;p&gt;   Removing unneeded indentation&lt;/p&gt;

&lt;p&gt;   Changes in developer and upgrade guide&lt;/p&gt;

&lt;p&gt;   New doc syntaz&lt;/p&gt;

&lt;p&gt;   Using list notation&lt;/p&gt;

&lt;p&gt;   *More detailed description of your change,&lt;br/&gt;
   if necessary. The PR title and PR message become&lt;br/&gt;
   the squashed commit message, so use a separate&lt;br/&gt;
   comment to ping reviewers.*&lt;/p&gt;

&lt;p&gt;   *Summary of testing strategy (including rationale)&lt;br/&gt;
   for the feature or bug fix. Unit and/or integration&lt;br/&gt;
   tests are expected for any behaviour change and&lt;br/&gt;
   system tests should be considered for larger changes.*&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Committer Checklist (excluded from commit message)&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Verify design and implementation&lt;/li&gt;
	&lt;li&gt;[ ] Verify test coverage and CI build status&lt;/li&gt;
	&lt;li&gt;[ ] Verify documentation (including upgrade notes)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16321551" author="githubbot" created="Thu, 11 Jan 2018 02:05:19 +0000"  >&lt;p&gt;ConcurrencyPractitioner closed pull request #4412: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6265&quot; title=&quot;GlobalKTable missing #queryableStoreName()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6265&quot;&gt;&lt;del&gt;KAFKA-6265&lt;/del&gt;&lt;/a&gt; GlobalKTable missing #queryableStoreName()&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/4412&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4412&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/docs/streams/developer-guide.html b/docs/streams/developer-guide.html&lt;br/&gt;
index 5730f5330e1..20d01f2c148 100644&lt;br/&gt;
&amp;#8212; a/docs/streams/developer-guide.html&lt;br/&gt;
+++ b/docs/streams/developer-guide.html&lt;br/&gt;
@@ -2294,22 +2294,22 @@ &amp;lt;h4&amp;gt;&amp;lt;a id=&quot;streams_developer-guide_interactive-queries_local-window-stores&quot; href&lt;br/&gt;
     &amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;     &amp;lt;pre class=&quot;brush: java;&quot;&amp;gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;// Get the window store named &quot;CountsWindowStore&quot;&lt;/li&gt;
	&lt;li&gt;ReadOnlyWindowStore&amp;lt;String, Long&amp;gt; windowStore =&lt;/li&gt;
	&lt;li&gt;streams.store(&quot;CountsWindowStore&quot;, QueryableStoreTypes.windowStore());&lt;br/&gt;
-&lt;/li&gt;
	&lt;li&gt;// Fetch values for the key &quot;world&quot; for all of the windows available in this application instance.&lt;/li&gt;
	&lt;li&gt;// To get &lt;b&gt;all&lt;/b&gt; available windows we fetch windows from the beginning of time until now.&lt;/li&gt;
	&lt;li&gt;long timeFrom = 0; // beginning of time = oldest available&lt;/li&gt;
	&lt;li&gt;long timeTo = System.currentTimeMillis(); // now (in processing-time)&lt;/li&gt;
	&lt;li&gt;WindowStoreIterator&amp;lt;Long&amp;gt; iterator = windowStore.fetch(&quot;world&quot;, timeFrom, timeTo);&lt;/li&gt;
	&lt;li&gt;while (iterator.hasNext()) {&lt;br/&gt;
+         // Get the window store named &quot;CountsWindowStore&quot;&lt;br/&gt;
+         ReadOnlyWindowStore&amp;lt;String, Long&amp;gt; windowStore =&lt;br/&gt;
+             streams.store(&quot;CountsWindowStore&quot;, QueryableStoreTypes.windowStore());&lt;br/&gt;
+&lt;br/&gt;
+         // Fetch values for the key &quot;world&quot; for all of the windows available in this application instance.&lt;br/&gt;
+         // To get &lt;b&gt;all&lt;/b&gt; available windows we fetch windows from the beginning of time until now.&lt;br/&gt;
+         long timeFrom = 0; // beginning of time = oldest available&lt;br/&gt;
+         long timeTo = System.currentTimeMillis(); // now (in processing-time)&lt;br/&gt;
+         WindowStoreIterator&amp;lt;Long&amp;gt; iterator = windowStore.fetch(&quot;world&quot;, timeFrom, timeTo);&lt;br/&gt;
+         while (iterator.hasNext()) 
{
             KeyValue&amp;lt;Long, Long&amp;gt; next = iterator.next();
             long windowTimestamp = next.key;
             System.out.println(&quot;Count of &apos;world&apos; @ time &quot; + windowTimestamp + &quot; is &quot; + next.value);
-          }&lt;/li&gt;
	&lt;li&gt;iterator.close();&lt;/li&gt;
	&lt;li&gt;&amp;lt;/pre&amp;gt;&lt;br/&gt;
+         }&lt;br/&gt;
+         iterator.close();&lt;br/&gt;
+    &amp;lt;/pre&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     &amp;lt;h4&amp;gt;&amp;lt;a id=&quot;streams_developer-guide_interactive-queries_custom-stores&quot; href=&quot;#streams_developer-guide_interactive-queries_custom-stores&quot;&amp;gt;Querying local custom state stores&amp;lt;/a&amp;gt;&amp;lt;/h4&amp;gt;&lt;br/&gt;
     &amp;lt;p&amp;gt;&lt;br/&gt;
@@ -3023,4 +3023,4 @@ &amp;lt;h4&amp;gt;&amp;lt;a id=&quot;streams_execute&quot; href=&quot;#streams_execute&quot;&amp;gt;Executing Your Kafka Streams&lt;br/&gt;
   // Display docs subnav items&lt;br/&gt;
   $(&apos;.b-nav_&lt;em&gt;docs&apos;).parent().toggleClass(&apos;nav&lt;/em&gt;&lt;em&gt;item&lt;/em&gt;&lt;em&gt;with&lt;/em&gt;_subs--expanded&apos;);&lt;br/&gt;
 });&lt;br/&gt;
-&amp;lt;/script&amp;gt;&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
+&amp;lt;/script&amp;gt;&lt;br/&gt;
diff --git a/docs/streams/upgrade-guide.html b/docs/streams/upgrade-guide.html&lt;br/&gt;
index 297405802ca..cd5ad433159 100644&lt;br/&gt;
&amp;#8212; a/docs/streams/upgrade-guide.html&lt;br/&gt;
+++ b/docs/streams/upgrade-guide.html&lt;br/&gt;
@@ -44,6 +44,15 @@ &amp;lt;h1&amp;gt;Upgrade Guide &amp;amp; API Changes&amp;lt;/h1&amp;gt;&lt;br/&gt;
         See &amp;lt;a href=&quot;#streams_api_changes_0101&quot;&amp;gt;below&amp;lt;/a&amp;gt; a complete list of 0.10.1 API changes that allow you to advance your application and/or simplify your code base, including the usage of new features.&lt;br/&gt;
     &amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;+&lt;br/&gt;
+    &amp;lt;h3&amp;gt;&amp;lt;a id=&quot;streams_api_changes_110&quot; href=&quot;#streams_api_changes_110&quot;&amp;gt;Streams API changes in 1.1.0&amp;lt;/a&amp;gt;&amp;lt;/h3&amp;gt;&lt;br/&gt;
+    &amp;lt;p&amp;gt;&lt;br/&gt;
+	New method in &amp;lt;code&amp;gt;GlobalKTable&amp;lt;/code&amp;gt;&lt;br/&gt;
+    &amp;lt;/p&amp;gt;&lt;br/&gt;
+    &amp;lt;ul&amp;gt;&lt;br/&gt;
+	&amp;lt;li&amp;gt; A method has been provided such that it will return the store name associated with the &amp;lt;code&amp;gt;GlobalKTable&amp;lt;/code&amp;gt; or &amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt; if the store name is non-queryable. &amp;lt;/li&amp;gt;&lt;br/&gt;
+    &amp;lt;/ul&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
     &amp;lt;h3&amp;gt;&amp;lt;a id=&quot;streams_api_changes_100&quot; href=&quot;#streams_api_changes_100&quot;&amp;gt;Streams API changes in 1.0.0&amp;lt;/a&amp;gt;&amp;lt;/h3&amp;gt;&lt;/p&gt;

&lt;p&gt;     &amp;lt;p&amp;gt;&lt;br/&gt;
diff --git a/streams/src/main/java/org/apache/kafka/streams/kstream/GlobalKTable.java b/streams/src/main/java/org/apache/kafka/streams/kstream/GlobalKTable.java&lt;br/&gt;
index 72286c20529..e58f67fc5b3 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/kstream/GlobalKTable.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/kstream/GlobalKTable.java&lt;br/&gt;
@@ -67,4 +67,10 @@&lt;br/&gt;
  */&lt;br/&gt;
 @InterfaceStability.Evolving&lt;br/&gt;
 public interface GlobalKTable&amp;lt;K, V&amp;gt; {&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Get the name of the local state store that can be used to query this &lt;/p&gt;
{@code GlobalKTable}.&lt;br/&gt;
+     *&lt;br/&gt;
+     * @return the underlying state store name, or {@code null} if this {@code GlobalKTable}
&lt;p&gt; cannot be queried.&lt;br/&gt;
+     */&lt;br/&gt;
+    String queryableStoreName();&lt;br/&gt;
 }&lt;br/&gt;
diff --git a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/GlobalKTableImpl.java b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/GlobalKTableImpl.java&lt;br/&gt;
index 34e23752444..8fcdfed1e52 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/GlobalKTableImpl.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/GlobalKTableImpl.java&lt;br/&gt;
@@ -21,13 +21,29 @@&lt;br/&gt;
 public class GlobalKTableImpl&amp;lt;K, V&amp;gt; implements GlobalKTable&amp;lt;K, V&amp;gt; {&lt;/p&gt;

&lt;p&gt;     private final KTableValueGetterSupplier&amp;lt;K, V&amp;gt; valueGetterSupplier;&lt;br/&gt;
+    private final boolean queryable;&lt;/p&gt;

&lt;p&gt;     public GlobalKTableImpl(final KTableValueGetterSupplier&amp;lt;K, V&amp;gt; valueGetterSupplier) &lt;/p&gt;
{
         this.valueGetterSupplier = valueGetterSupplier;
+        this.queryable = true;
+    }
&lt;p&gt;+    &lt;br/&gt;
+    public GlobalKTableImpl(final KTableValueGetterSupplier&amp;lt;K, V&amp;gt; valueGetterSupplier, &lt;br/&gt;
+                            final boolean queryable) &lt;/p&gt;
{
+        this.valueGetterSupplier = valueGetterSupplier;
+        this.queryable = queryable;
     }

&lt;p&gt;     KTableValueGetterSupplier&amp;lt;K, V&amp;gt; valueGetterSupplier() &lt;/p&gt;
{
         return valueGetterSupplier;
     }

&lt;p&gt;+    @Override&lt;br/&gt;
+    public String queryableStoreName() {&lt;br/&gt;
+        if (!queryable) &lt;/p&gt;
{
+            return null;
+        }
&lt;p&gt;+        return valueGetterSupplier.storeNames()&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;;&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
 }&lt;br/&gt;
diff --git a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilder.java b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilder.java&lt;br/&gt;
index 4308e5d0c50..2a8a89e1f0e 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilder.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilder.java&lt;br/&gt;
@@ -158,7 +158,7 @@ public InternalStreamsBuilder(final InternalTopologyBuilder internalTopologyBuil&lt;br/&gt;
                                                topic,&lt;br/&gt;
                                                processorName,&lt;br/&gt;
                                                tableSource);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return new GlobalKTableImpl&amp;lt;&amp;gt;(new KTableSourceValueGetterSupplier&amp;lt;K, V&amp;gt;(storeBuilder.name()));&lt;br/&gt;
+        return new GlobalKTableImpl&amp;lt;&amp;gt;(new KTableSourceValueGetterSupplier&amp;lt;K, V&amp;gt;(storeBuilder.name()), materialized.isQueryable());&lt;br/&gt;
     }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     @Override&lt;br/&gt;
diff --git a/streams/src/test/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilderTest.java b/streams/src/test/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilderTest.java&lt;br/&gt;
index 05a02140c35..9526f60e2c1 100644&lt;br/&gt;
&amp;#8212; a/streams/src/test/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilderTest.java&lt;br/&gt;
+++ b/streams/src/test/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilderTest.java&lt;br/&gt;
@@ -156,6 +156,32 @@ public void shouldStillMaterializeSourceKTableIfMaterializedIsntQueryable() thro&lt;br/&gt;
         assertEquals(&quot;topic2&quot;, topology.storeToChangelogTopic().get(storeName));&lt;br/&gt;
         assertNull(table1.queryableStoreName());&lt;br/&gt;
     }&lt;br/&gt;
+    &lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void shouldBuildGlobalTableWithNonQueryableStoreName() throws Exception &lt;/p&gt;
{
+        final GlobalKTable&amp;lt;String, String&amp;gt; table1 = builder.globalTable(
+            &quot;topic2&quot;,
+            consumed,
+            new MaterializedInternal&amp;lt;&amp;gt;(
+                Materialized.&amp;lt;String, String, KeyValueStore&amp;lt;Bytes, byte[]&amp;gt;&amp;gt;with(null, null),
+                builder,
+                storePrefix));
+
+        assertNull(table1.queryableStoreName());
+    }
&lt;p&gt;+&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void shouldBuildGlobalTableWithQueryaIbleStoreName() throws Exception &lt;/p&gt;
{
+        final GlobalKTable&amp;lt;String, String&amp;gt; table1 = builder.globalTable(
+            &quot;topic2&quot;,
+            consumed,
+            new MaterializedInternal&amp;lt;&amp;gt;(
+                Materialized.&amp;lt;String, String, KeyValueStore&amp;lt;Bytes, byte[]&amp;gt;&amp;gt;as(&quot;globalTable&quot;),
+                builder,
+                storePrefix));
+
+        assertEquals(&quot;globalTable&quot;, table1.queryableStoreName());
+    }

&lt;p&gt;     @Test&lt;br/&gt;
     public void shouldBuildSimpleGlobalTableTopology() throws Exception {&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16321568" author="githubbot" created="Thu, 11 Jan 2018 02:17:01 +0000"  >&lt;p&gt;ConcurrencyPractitioner opened a new pull request #4413: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6265&quot; title=&quot;GlobalKTable missing #queryableStoreName()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6265&quot;&gt;&lt;del&gt;KAFKA-6265&lt;/del&gt;&lt;/a&gt; GlobalKTable missing #queryableStoreName()&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/4413&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4413&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   A spinoff of original pull request #4340 for resolving conflicts. &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16321583" author="githubbot" created="Thu, 11 Jan 2018 02:28:18 +0000"  >&lt;p&gt;ConcurrencyPractitioner closed pull request #4340: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6265&quot; title=&quot;GlobalKTable missing #queryableStoreName()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6265&quot;&gt;&lt;del&gt;KAFKA-6265&lt;/del&gt;&lt;/a&gt; GlobalKTable missing #queryableStoreName()&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/4340&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4340&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/docs/streams/developer-guide.html b/docs/streams/developer-guide.html&lt;br/&gt;
index 5730f5330e1..20d01f2c148 100644&lt;br/&gt;
&amp;#8212; a/docs/streams/developer-guide.html&lt;br/&gt;
+++ b/docs/streams/developer-guide.html&lt;br/&gt;
@@ -2294,22 +2294,22 @@ &amp;lt;h4&amp;gt;&amp;lt;a id=&quot;streams_developer-guide_interactive-queries_local-window-stores&quot; href&lt;br/&gt;
     &amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;     &amp;lt;pre class=&quot;brush: java;&quot;&amp;gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;// Get the window store named &quot;CountsWindowStore&quot;&lt;/li&gt;
	&lt;li&gt;ReadOnlyWindowStore&amp;lt;String, Long&amp;gt; windowStore =&lt;/li&gt;
	&lt;li&gt;streams.store(&quot;CountsWindowStore&quot;, QueryableStoreTypes.windowStore());&lt;br/&gt;
-&lt;/li&gt;
	&lt;li&gt;// Fetch values for the key &quot;world&quot; for all of the windows available in this application instance.&lt;/li&gt;
	&lt;li&gt;// To get &lt;b&gt;all&lt;/b&gt; available windows we fetch windows from the beginning of time until now.&lt;/li&gt;
	&lt;li&gt;long timeFrom = 0; // beginning of time = oldest available&lt;/li&gt;
	&lt;li&gt;long timeTo = System.currentTimeMillis(); // now (in processing-time)&lt;/li&gt;
	&lt;li&gt;WindowStoreIterator&amp;lt;Long&amp;gt; iterator = windowStore.fetch(&quot;world&quot;, timeFrom, timeTo);&lt;/li&gt;
	&lt;li&gt;while (iterator.hasNext()) {&lt;br/&gt;
+         // Get the window store named &quot;CountsWindowStore&quot;&lt;br/&gt;
+         ReadOnlyWindowStore&amp;lt;String, Long&amp;gt; windowStore =&lt;br/&gt;
+             streams.store(&quot;CountsWindowStore&quot;, QueryableStoreTypes.windowStore());&lt;br/&gt;
+&lt;br/&gt;
+         // Fetch values for the key &quot;world&quot; for all of the windows available in this application instance.&lt;br/&gt;
+         // To get &lt;b&gt;all&lt;/b&gt; available windows we fetch windows from the beginning of time until now.&lt;br/&gt;
+         long timeFrom = 0; // beginning of time = oldest available&lt;br/&gt;
+         long timeTo = System.currentTimeMillis(); // now (in processing-time)&lt;br/&gt;
+         WindowStoreIterator&amp;lt;Long&amp;gt; iterator = windowStore.fetch(&quot;world&quot;, timeFrom, timeTo);&lt;br/&gt;
+         while (iterator.hasNext()) 
{
             KeyValue&amp;lt;Long, Long&amp;gt; next = iterator.next();
             long windowTimestamp = next.key;
             System.out.println(&quot;Count of &apos;world&apos; @ time &quot; + windowTimestamp + &quot; is &quot; + next.value);
-          }&lt;/li&gt;
	&lt;li&gt;iterator.close();&lt;/li&gt;
	&lt;li&gt;&amp;lt;/pre&amp;gt;&lt;br/&gt;
+         }&lt;br/&gt;
+         iterator.close();&lt;br/&gt;
+    &amp;lt;/pre&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     &amp;lt;h4&amp;gt;&amp;lt;a id=&quot;streams_developer-guide_interactive-queries_custom-stores&quot; href=&quot;#streams_developer-guide_interactive-queries_custom-stores&quot;&amp;gt;Querying local custom state stores&amp;lt;/a&amp;gt;&amp;lt;/h4&amp;gt;&lt;br/&gt;
     &amp;lt;p&amp;gt;&lt;br/&gt;
@@ -3023,4 +3023,4 @@ &amp;lt;h4&amp;gt;&amp;lt;a id=&quot;streams_execute&quot; href=&quot;#streams_execute&quot;&amp;gt;Executing Your Kafka Streams&lt;br/&gt;
   // Display docs subnav items&lt;br/&gt;
   $(&apos;.b-nav_&lt;em&gt;docs&apos;).parent().toggleClass(&apos;nav&lt;/em&gt;&lt;em&gt;item&lt;/em&gt;&lt;em&gt;with&lt;/em&gt;_subs--expanded&apos;);&lt;br/&gt;
 });&lt;br/&gt;
-&amp;lt;/script&amp;gt;&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
+&amp;lt;/script&amp;gt;&lt;br/&gt;
diff --git a/docs/streams/upgrade-guide.html b/docs/streams/upgrade-guide.html&lt;br/&gt;
index 297405802ca..cd5ad433159 100644&lt;br/&gt;
&amp;#8212; a/docs/streams/upgrade-guide.html&lt;br/&gt;
+++ b/docs/streams/upgrade-guide.html&lt;br/&gt;
@@ -44,6 +44,15 @@ &amp;lt;h1&amp;gt;Upgrade Guide &amp;amp; API Changes&amp;lt;/h1&amp;gt;&lt;br/&gt;
         See &amp;lt;a href=&quot;#streams_api_changes_0101&quot;&amp;gt;below&amp;lt;/a&amp;gt; a complete list of 0.10.1 API changes that allow you to advance your application and/or simplify your code base, including the usage of new features.&lt;br/&gt;
     &amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;+&lt;br/&gt;
+    &amp;lt;h3&amp;gt;&amp;lt;a id=&quot;streams_api_changes_110&quot; href=&quot;#streams_api_changes_110&quot;&amp;gt;Streams API changes in 1.1.0&amp;lt;/a&amp;gt;&amp;lt;/h3&amp;gt;&lt;br/&gt;
+    &amp;lt;p&amp;gt;&lt;br/&gt;
+	New method in &amp;lt;code&amp;gt;GlobalKTable&amp;lt;/code&amp;gt;&lt;br/&gt;
+    &amp;lt;/p&amp;gt;&lt;br/&gt;
+    &amp;lt;ul&amp;gt;&lt;br/&gt;
+	&amp;lt;li&amp;gt; A method has been provided such that it will return the store name associated with the &amp;lt;code&amp;gt;GlobalKTable&amp;lt;/code&amp;gt; or &amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt; if the store name is non-queryable. &amp;lt;/li&amp;gt;&lt;br/&gt;
+    &amp;lt;/ul&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
     &amp;lt;h3&amp;gt;&amp;lt;a id=&quot;streams_api_changes_100&quot; href=&quot;#streams_api_changes_100&quot;&amp;gt;Streams API changes in 1.0.0&amp;lt;/a&amp;gt;&amp;lt;/h3&amp;gt;&lt;/p&gt;

&lt;p&gt;     &amp;lt;p&amp;gt;&lt;br/&gt;
diff --git a/streams/src/main/java/org/apache/kafka/streams/kstream/GlobalKTable.java b/streams/src/main/java/org/apache/kafka/streams/kstream/GlobalKTable.java&lt;br/&gt;
index 72286c20529..e58f67fc5b3 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/kstream/GlobalKTable.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/kstream/GlobalKTable.java&lt;br/&gt;
@@ -67,4 +67,10 @@&lt;br/&gt;
  */&lt;br/&gt;
 @InterfaceStability.Evolving&lt;br/&gt;
 public interface GlobalKTable&amp;lt;K, V&amp;gt; {&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Get the name of the local state store that can be used to query this &lt;/p&gt;
{@code GlobalKTable}.&lt;br/&gt;
+     *&lt;br/&gt;
+     * @return the underlying state store name, or {@code null} if this {@code GlobalKTable}
&lt;p&gt; cannot be queried.&lt;br/&gt;
+     */&lt;br/&gt;
+    String queryableStoreName();&lt;br/&gt;
 }&lt;br/&gt;
diff --git a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/GlobalKTableImpl.java b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/GlobalKTableImpl.java&lt;br/&gt;
index 34e23752444..8fcdfed1e52 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/GlobalKTableImpl.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/GlobalKTableImpl.java&lt;br/&gt;
@@ -21,13 +21,29 @@&lt;br/&gt;
 public class GlobalKTableImpl&amp;lt;K, V&amp;gt; implements GlobalKTable&amp;lt;K, V&amp;gt; {&lt;/p&gt;

&lt;p&gt;     private final KTableValueGetterSupplier&amp;lt;K, V&amp;gt; valueGetterSupplier;&lt;br/&gt;
+    private final boolean queryable;&lt;/p&gt;

&lt;p&gt;     public GlobalKTableImpl(final KTableValueGetterSupplier&amp;lt;K, V&amp;gt; valueGetterSupplier) &lt;/p&gt;
{
         this.valueGetterSupplier = valueGetterSupplier;
+        this.queryable = true;
+    }
&lt;p&gt;+    &lt;br/&gt;
+    public GlobalKTableImpl(final KTableValueGetterSupplier&amp;lt;K, V&amp;gt; valueGetterSupplier, &lt;br/&gt;
+                            final boolean queryable) &lt;/p&gt;
{
+        this.valueGetterSupplier = valueGetterSupplier;
+        this.queryable = queryable;
     }

&lt;p&gt;     KTableValueGetterSupplier&amp;lt;K, V&amp;gt; valueGetterSupplier() &lt;/p&gt;
{
         return valueGetterSupplier;
     }

&lt;p&gt;+    @Override&lt;br/&gt;
+    public String queryableStoreName() {&lt;br/&gt;
+        if (!queryable) &lt;/p&gt;
{
+            return null;
+        }
&lt;p&gt;+        return valueGetterSupplier.storeNames()&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;;&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
 }&lt;br/&gt;
diff --git a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilder.java b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilder.java&lt;br/&gt;
index 4308e5d0c50..2a8a89e1f0e 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilder.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilder.java&lt;br/&gt;
@@ -158,7 +158,7 @@ public InternalStreamsBuilder(final InternalTopologyBuilder internalTopologyBuil&lt;br/&gt;
                                                topic,&lt;br/&gt;
                                                processorName,&lt;br/&gt;
                                                tableSource);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return new GlobalKTableImpl&amp;lt;&amp;gt;(new KTableSourceValueGetterSupplier&amp;lt;K, V&amp;gt;(storeBuilder.name()));&lt;br/&gt;
+        return new GlobalKTableImpl&amp;lt;&amp;gt;(new KTableSourceValueGetterSupplier&amp;lt;K, V&amp;gt;(storeBuilder.name()), materialized.isQueryable());&lt;br/&gt;
     }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     @Override&lt;br/&gt;
diff --git a/streams/src/test/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilderTest.java b/streams/src/test/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilderTest.java&lt;br/&gt;
index 05a02140c35..9526f60e2c1 100644&lt;br/&gt;
&amp;#8212; a/streams/src/test/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilderTest.java&lt;br/&gt;
+++ b/streams/src/test/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilderTest.java&lt;br/&gt;
@@ -156,6 +156,32 @@ public void shouldStillMaterializeSourceKTableIfMaterializedIsntQueryable() thro&lt;br/&gt;
         assertEquals(&quot;topic2&quot;, topology.storeToChangelogTopic().get(storeName));&lt;br/&gt;
         assertNull(table1.queryableStoreName());&lt;br/&gt;
     }&lt;br/&gt;
+    &lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void shouldBuildGlobalTableWithNonQueryableStoreName() throws Exception &lt;/p&gt;
{
+        final GlobalKTable&amp;lt;String, String&amp;gt; table1 = builder.globalTable(
+            &quot;topic2&quot;,
+            consumed,
+            new MaterializedInternal&amp;lt;&amp;gt;(
+                Materialized.&amp;lt;String, String, KeyValueStore&amp;lt;Bytes, byte[]&amp;gt;&amp;gt;with(null, null),
+                builder,
+                storePrefix));
+
+        assertNull(table1.queryableStoreName());
+    }
&lt;p&gt;+&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void shouldBuildGlobalTableWithQueryaIbleStoreName() throws Exception &lt;/p&gt;
{
+        final GlobalKTable&amp;lt;String, String&amp;gt; table1 = builder.globalTable(
+            &quot;topic2&quot;,
+            consumed,
+            new MaterializedInternal&amp;lt;&amp;gt;(
+                Materialized.&amp;lt;String, String, KeyValueStore&amp;lt;Bytes, byte[]&amp;gt;&amp;gt;as(&quot;globalTable&quot;),
+                builder,
+                storePrefix));
+
+        assertEquals(&quot;globalTable&quot;, table1.queryableStoreName());
+    }

&lt;p&gt;     @Test&lt;br/&gt;
     public void shouldBuildSimpleGlobalTableTopology() throws Exception {&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16322662" author="guozhang" created="Thu, 11 Jan 2018 17:54:22 +0000"  >&lt;p&gt;Issue resolved by pull request 4413&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/4413&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4413&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16322667" author="githubbot" created="Thu, 11 Jan 2018 17:56:03 +0000"  >&lt;p&gt;guozhangwang closed pull request #4413: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6265&quot; title=&quot;GlobalKTable missing #queryableStoreName()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6265&quot;&gt;&lt;del&gt;KAFKA-6265&lt;/del&gt;&lt;/a&gt; GlobalKTable missing #queryableStoreName()&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/4413&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4413&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/docs/streams/upgrade-guide.html b/docs/streams/upgrade-guide.html&lt;br/&gt;
index 43038118692..c68b9bf4333 100644&lt;br/&gt;
&amp;#8212; a/docs/streams/upgrade-guide.html&lt;br/&gt;
+++ b/docs/streams/upgrade-guide.html&lt;br/&gt;
@@ -71,6 +71,13 @@ &amp;lt;h3&amp;gt;&amp;lt;a id=&quot;streams_api_changes_110&quot; href=&quot;#streams_api_changes_110&quot;&amp;gt;Streams API&lt;br/&gt;
         to distinguish them from configurations of other clients that share the same config names.&lt;br/&gt;
     &amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;+    &amp;lt;p&amp;gt;&lt;br/&gt;
+	New method in &amp;lt;code&amp;gt;GlobalKTable&amp;lt;/code&amp;gt;&lt;br/&gt;
+    &amp;lt;/p&amp;gt;&lt;br/&gt;
+    &amp;lt;ul&amp;gt;&lt;br/&gt;
+	&amp;lt;li&amp;gt; A method has been provided such that it will return the store name associated with the &amp;lt;code&amp;gt;GlobalKTable&amp;lt;/code&amp;gt; or &amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt; if the store name is non-queryable. &amp;lt;/li&amp;gt;&lt;br/&gt;
+    &amp;lt;/ul&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
     &amp;lt;p&amp;gt;&lt;br/&gt;
         New methods in &amp;lt;code&amp;gt;KafkaStreams&amp;lt;/code&amp;gt;:&lt;br/&gt;
     &amp;lt;/p&amp;gt;&lt;br/&gt;
diff --git a/streams/src/main/java/org/apache/kafka/streams/kstream/GlobalKTable.java b/streams/src/main/java/org/apache/kafka/streams/kstream/GlobalKTable.java&lt;br/&gt;
index 72286c20529..e58f67fc5b3 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/kstream/GlobalKTable.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/kstream/GlobalKTable.java&lt;br/&gt;
@@ -67,4 +67,10 @@&lt;br/&gt;
  */&lt;br/&gt;
 @InterfaceStability.Evolving&lt;br/&gt;
 public interface GlobalKTable&amp;lt;K, V&amp;gt; {&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Get the name of the local state store that can be used to query this &lt;/p&gt;
{@code GlobalKTable}.&lt;br/&gt;
+     *&lt;br/&gt;
+     * @return the underlying state store name, or {@code null} if this {@code GlobalKTable}
&lt;p&gt; cannot be queried.&lt;br/&gt;
+     */&lt;br/&gt;
+    String queryableStoreName();&lt;br/&gt;
 }&lt;br/&gt;
diff --git a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/GlobalKTableImpl.java b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/GlobalKTableImpl.java&lt;br/&gt;
index 34e23752444..8fcdfed1e52 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/GlobalKTableImpl.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/GlobalKTableImpl.java&lt;br/&gt;
@@ -21,13 +21,29 @@&lt;br/&gt;
 public class GlobalKTableImpl&amp;lt;K, V&amp;gt; implements GlobalKTable&amp;lt;K, V&amp;gt; {&lt;/p&gt;

&lt;p&gt;     private final KTableValueGetterSupplier&amp;lt;K, V&amp;gt; valueGetterSupplier;&lt;br/&gt;
+    private final boolean queryable;&lt;/p&gt;

&lt;p&gt;     public GlobalKTableImpl(final KTableValueGetterSupplier&amp;lt;K, V&amp;gt; valueGetterSupplier) &lt;/p&gt;
{
         this.valueGetterSupplier = valueGetterSupplier;
+        this.queryable = true;
+    }
&lt;p&gt;+    &lt;br/&gt;
+    public GlobalKTableImpl(final KTableValueGetterSupplier&amp;lt;K, V&amp;gt; valueGetterSupplier, &lt;br/&gt;
+                            final boolean queryable) &lt;/p&gt;
{
+        this.valueGetterSupplier = valueGetterSupplier;
+        this.queryable = queryable;
     }

&lt;p&gt;     KTableValueGetterSupplier&amp;lt;K, V&amp;gt; valueGetterSupplier() &lt;/p&gt;
{
         return valueGetterSupplier;
     }

&lt;p&gt;+    @Override&lt;br/&gt;
+    public String queryableStoreName() {&lt;br/&gt;
+        if (!queryable) &lt;/p&gt;
{
+            return null;
+        }
&lt;p&gt;+        return valueGetterSupplier.storeNames()&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;;&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
 }&lt;br/&gt;
diff --git a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilder.java b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilder.java&lt;br/&gt;
index 4308e5d0c50..2a8a89e1f0e 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilder.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilder.java&lt;br/&gt;
@@ -158,7 +158,7 @@ public InternalStreamsBuilder(final InternalTopologyBuilder internalTopologyBuil&lt;br/&gt;
                                                topic,&lt;br/&gt;
                                                processorName,&lt;br/&gt;
                                                tableSource);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return new GlobalKTableImpl&amp;lt;&amp;gt;(new KTableSourceValueGetterSupplier&amp;lt;K, V&amp;gt;(storeBuilder.name()));&lt;br/&gt;
+        return new GlobalKTableImpl&amp;lt;&amp;gt;(new KTableSourceValueGetterSupplier&amp;lt;K, V&amp;gt;(storeBuilder.name()), materialized.isQueryable());&lt;br/&gt;
     }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     @Override&lt;br/&gt;
diff --git a/streams/src/test/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilderTest.java b/streams/src/test/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilderTest.java&lt;br/&gt;
index 156acadbedd..b9ba6089497 100644&lt;br/&gt;
&amp;#8212; a/streams/src/test/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilderTest.java&lt;br/&gt;
+++ b/streams/src/test/java/org/apache/kafka/streams/kstream/internals/InternalStreamsBuilderTest.java&lt;br/&gt;
@@ -156,6 +156,32 @@ public void shouldStillMaterializeSourceKTableIfMaterializedIsntQueryable() thro&lt;br/&gt;
         assertEquals(&quot;topic2&quot;, topology.storeToChangelogTopic().get(storeName));&lt;br/&gt;
         assertNull(table1.queryableStoreName());&lt;br/&gt;
     }&lt;br/&gt;
+    &lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void shouldBuildGlobalTableWithNonQueryableStoreName() throws Exception &lt;/p&gt;
{
+        final GlobalKTable&amp;lt;String, String&amp;gt; table1 = builder.globalTable(
+            &quot;topic2&quot;,
+            consumed,
+            new MaterializedInternal&amp;lt;&amp;gt;(
+                Materialized.&amp;lt;String, String, KeyValueStore&amp;lt;Bytes, byte[]&amp;gt;&amp;gt;with(null, null),
+                builder,
+                storePrefix));
+
+        assertNull(table1.queryableStoreName());
+    }
&lt;p&gt;+&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void shouldBuildGlobalTableWithQueryaIbleStoreName() throws Exception &lt;/p&gt;
{
+        final GlobalKTable&amp;lt;String, String&amp;gt; table1 = builder.globalTable(
+            &quot;topic2&quot;,
+            consumed,
+            new MaterializedInternal&amp;lt;&amp;gt;(
+                Materialized.&amp;lt;String, String, KeyValueStore&amp;lt;Bytes, byte[]&amp;gt;&amp;gt;as(&quot;globalTable&quot;),
+                builder,
+                storePrefix));
+
+        assertEquals(&quot;globalTable&quot;, table1.queryableStoreName());
+    }

&lt;p&gt;     @Test&lt;br/&gt;
     public void shouldBuildSimpleGlobalTableTopology() throws Exception {&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13112631">KAFKA-6138</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3n4in:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>