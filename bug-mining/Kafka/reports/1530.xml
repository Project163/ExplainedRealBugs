<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:01:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-5374] AdminClient gets &quot;server returned information about unknown correlation ID&quot; when communicating with older brokers</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-5374</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;AdminClient gets &quot;server returned information about unknown correlation ID&quot; when communicating with older brokers.&lt;/p&gt;

&lt;p&gt;The messages look like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; [2017-06-02 22:58:29,774] ERROR Internal server error on -2: server returned information about unknown correlation ID 5 (org.apache.kafka.clients.admin.KafkaAdminClient)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13077021">KAFKA-5374</key>
            <summary>AdminClient gets &quot;server returned information about unknown correlation ID&quot; when communicating with older brokers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cmccabe">Colin McCabe</assignee>
                                    <reporter username="cmccabe">Colin McCabe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Jun 2017 23:23:36 +0000</created>
                <updated>Mon, 5 Jun 2017 16:29:54 +0000</updated>
                            <resolved>Sat, 3 Jun 2017 05:38:46 +0000</resolved>
                                    <version>0.11.0.0</version>
                                    <fixVersion>0.11.0.0</fixVersion>
                                    <component>admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16035653" author="githubbot" created="Sat, 3 Jun 2017 00:01:49 +0000"  >&lt;p&gt;GitHub user cmccabe opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3219&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5374&quot; title=&quot;AdminClient gets &amp;quot;server returned information about unknown correlation ID&amp;quot; when communicating with older brokers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5374&quot;&gt;&lt;del&gt;KAFKA-5374&lt;/del&gt;&lt;/a&gt;. AdminClient gets &quot;server returned information about unkno&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;wn correlation ID&quot; when communicating with older brokers&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/cmccabe/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/cmccabe/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5374&quot; title=&quot;AdminClient gets &amp;quot;server returned information about unknown correlation ID&amp;quot; when communicating with older brokers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5374&quot;&gt;&lt;del&gt;KAFKA-5374&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3219.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3219.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3219&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7b255c597f90a0823d7b2e594d6bb32dda04087d&lt;br/&gt;
Author: Colin P. Mccabe &amp;lt;cmccabe@confluent.io&amp;gt;&lt;br/&gt;
Date:   2017-06-03T00:01:02Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5374&quot; title=&quot;AdminClient gets &amp;quot;server returned information about unknown correlation ID&amp;quot; when communicating with older brokers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5374&quot;&gt;&lt;del&gt;KAFKA-5374&lt;/del&gt;&lt;/a&gt;. AdminClient gets &quot;server returned information about unknown correlation ID&quot; when communicating with older brokers&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16035664" author="cmccabe" created="Sat, 3 Jun 2017 00:07:49 +0000"  >&lt;p&gt;This was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5291&quot; title=&quot;AdminClient should not trigger auto creation of topics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5291&quot;&gt;&lt;del&gt;KAFKA-5291&lt;/del&gt;&lt;/a&gt;.  The issue here is that the internal metadata requests being made by AdminClient were using &lt;tt&gt;allowAutoCreateTopics=false&lt;/tt&gt;, which did not work with brokers older than 0.11.&lt;/p&gt;

&lt;p&gt;Unfortunately, NetworkClient doesn&apos;t handle this failure case well, and the failed internal metadata request responses were being returned back from the &lt;tt&gt;NetworkClient#poll&lt;/tt&gt; call.  This caused the puzzling error message, since they had not been explicitly made by the &lt;tt&gt;AdminClient&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Since we are just making MetadataRequests for zero topics, there is no point in setting allowAutoCreateTopics=false anyway.  So I just set it to true in this patch.  I added a system test to the patch that will test a cross-version AdminClient call.  In the future, we should probably look into handling UnsupportedVersionException and other errors better in the internal metadata request code, but that&apos;s a bigger patch.&lt;/p&gt;</comment>
                            <comment id="16035746" author="githubbot" created="Sat, 3 Jun 2017 01:33:41 +0000"  >&lt;p&gt;GitHub user ijuma opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3220&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3220&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5374&quot; title=&quot;AdminClient gets &amp;quot;server returned information about unknown correlation ID&amp;quot; when communicating with older brokers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5374&quot;&gt;&lt;del&gt;KAFKA-5374&lt;/del&gt;&lt;/a&gt;: Set allow auto topic creation to false when requesting node information only&lt;/p&gt;

&lt;p&gt;    It avoids the need to handle protocol downgrades and it&apos;s safe (i.e. it will never cause&lt;br/&gt;
    the auto creation of topics).&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ijuma/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ijuma/kafka&lt;/a&gt; kafka-5374-admin-client-metadata&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3220.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3220.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3220&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7b255c597f90a0823d7b2e594d6bb32dda04087d&lt;br/&gt;
Author: Colin P. Mccabe &amp;lt;cmccabe@confluent.io&amp;gt;&lt;br/&gt;
Date:   2017-06-03T00:01:02Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5374&quot; title=&quot;AdminClient gets &amp;quot;server returned information about unknown correlation ID&amp;quot; when communicating with older brokers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5374&quot;&gt;&lt;del&gt;KAFKA-5374&lt;/del&gt;&lt;/a&gt;. AdminClient gets &quot;server returned information about unknown correlation ID&quot; when communicating with older brokers&lt;/p&gt;

&lt;p&gt;commit 29cde9a008efcdc1ea663983e3f5dbdd8944bed4&lt;br/&gt;
Author: Ismael Juma &amp;lt;ismael@juma.me.uk&amp;gt;&lt;br/&gt;
Date:   2017-06-03T01:31:46Z&lt;/p&gt;

&lt;p&gt;    Fix checkstyle and add comments&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16035835" author="githubbot" created="Sat, 3 Jun 2017 05:27:16 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3220&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3220&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16037175" author="githubbot" created="Mon, 5 Jun 2017 16:29:54 +0000"  >&lt;p&gt;Github user cmccabe closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3219&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fu6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>