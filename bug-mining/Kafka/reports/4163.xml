<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:42:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-19205] inconsistent result of beginningOffsets/endoffset between classic consumer and async consumer with zero timeout</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-19205</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;classic consumer returns empty map, but async consumer returns map having targets with null&lt;/p&gt;</description>
                <environment></environment>
        <key id="13616413">KAFKA-19205</key>
            <summary>inconsistent result of beginningOffsets/endoffset between classic consumer and async consumer with zero timeout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kangning">kangning.li</assignee>
                                    <reporter username="chia7712">Chia-Ping Tsai</reporter>
                        <labels>
                            <label>kip-848-client-support</label>
                    </labels>
                <created>Fri, 25 Apr 2025 17:05:14 +0000</created>
                <updated>Thu, 2 Oct 2025 14:23:06 +0000</updated>
                            <resolved>Thu, 2 Oct 2025 14:23:06 +0000</resolved>
                                                    <fixVersion>4.1.0</fixVersion>
                                    <component>clients</component>
                    <component>consumer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17947381" author="chia7712" created="Fri, 25 Apr 2025 17:05:47 +0000"  >&lt;p&gt;this can be reproduced by following code.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-scala&quot;&gt;
  @ParameterizedTest(name = TestInfoUtils.TestWithParameterizedGroupProtocolNames)
  @MethodSource(Array(&lt;span class=&quot;code-quote&quot;&gt;&quot;getTestGroupProtocolParametersAll&quot;&lt;/span&gt;))
  &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; test(groupProtocol: String): Unit = {
    &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; consumer = createConsumer()
    &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; result2 = consumer.beginningOffsets(Collections.singleton(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TopicPartition(topic, 0)), Duration.ZERO)
    assertEquals(1, result2.size())
    assertTrue(result2.containsKey(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TopicPartition(topic, 0)))
    assertNull(result2.get(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TopicPartition(topic, 0)))

    &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; result3 = consumer.endOffsets(Collections.singleton(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TopicPartition(topic, 0)), Duration.ZERO)
    assertEquals(1, result3.size())
    assertTrue(result3.containsKey(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TopicPartition(topic, 0)))
    assertNull(result3.get(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TopicPartition(topic, 0)))
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17947383" author="chia7712" created="Fri, 25 Apr 2025 17:07:49 +0000"  >&lt;p&gt;If we want to align the behavior with no offset, the classic consumer should return the map with null values.&lt;/p&gt;</comment>
                            <comment id="17947384" author="chia7712" created="Fri, 25 Apr 2025 17:10:32 +0000"  >&lt;p&gt;the related code:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/AsyncKafkaConsumer.java#L1247&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/AsyncKafkaConsumer.java#L1247&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/OffsetFetcher.java#L170&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/OffsetFetcher.java#L170&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17947385" author="JIRAUSER306086" created="Fri, 25 Apr 2025 17:12:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chia7712&quot; class=&quot;user-hover&quot; rel=&quot;chia7712&quot;&gt;chia7712&lt;/a&gt; if you haven&apos;t started doing it, cloud you assign it to me?&lt;/p&gt;</comment>
                            <comment id="17986082" author="mimaison" created="Wed, 25 Jun 2025 10:15:05 +0000"  >&lt;p&gt;Moving to the next release as we&apos;re now in code freeze for 4.1.0.&lt;/p&gt;</comment>
                            <comment id="18024170" author="kirktrue" created="Thu, 2 Oct 2025 00:18:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kangning&quot; class=&quot;user-hover&quot; rel=&quot;kangning&quot;&gt;kangning&lt;/a&gt;&#8212;is this ticket still on your radar for 4.2?&lt;/p&gt;</comment>
                            <comment id="18024288" author="chia7712" created="Thu, 2 Oct 2025 14:23:06 +0000"  >&lt;p&gt;It was merged into 4.1 already. resolve it and update the fix version&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vk68:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>