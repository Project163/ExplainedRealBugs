<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:02:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-5472] Connector validate REST endpoint returning duplicate entries in &quot;groups&quot;</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-5472</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;When calling the REST endpoint to validate a connector configuration, the response includes duplicate values for the &lt;tt&gt;groups&lt;/tt&gt; field:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-javascript&quot;&gt;{
  &lt;span class=&quot;code-comment&quot;&gt;// ...
&lt;/span&gt;  groups: [&lt;span class=&quot;code-quote&quot;&gt;&quot;Common&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Transforms&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Common&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Transforms&quot;&lt;/span&gt;]
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is a regression and may cause issues for any tooling that is using the Kafka Connect REST API.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13080937">KAFKA-5472</key>
            <summary>Connector validate REST endpoint returning duplicate entries in &quot;groups&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhauch">Randall Hauch</assignee>
                                    <reporter username="rhauch">Randall Hauch</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jun 2017 21:14:40 +0000</created>
                <updated>Tue, 25 Jul 2017 11:11:37 +0000</updated>
                            <resolved>Wed, 21 Jun 2017 00:48:52 +0000</resolved>
                                    <version>0.11.0.0</version>
                                    <fixVersion>0.11.0.0</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16054756" author="rhauch" created="Mon, 19 Jun 2017 21:20:07 +0000"  >&lt;p&gt;The logic changed recently as &lt;a href=&quot;https://github.com/apache/kafka/commit/45f2261763eac5caaebf860daab32ef5337c9293#diff-fad18b064f6a9aa922ad13e6d7e60df3R252&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;part of the classloader isolation changes&lt;/a&gt;, and it looks to me like this introduced duplicate validation of the basic config definitions that contain properties in the &quot;Common&quot; and &quot;Transform&quot; groups. Prior to the classloading feature, the connector-independent (i.e., basic) configuration definitions were validated and then the connector-specific configurations were validated, and all groups added to the list of group names. However, with the classloading feature this logic was changed to validate the connector-independent (i.e., basic) configuration first, and then the connector-specific configurations are enriched with the basic configuration definitions and then all of these are validated. That leads to validating the basic configuration definitions twice.&lt;/p&gt;

&lt;p&gt;There are several approaches to correct this:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Simply remove duplicates from the list of all group names. This would still lead to the basic configurations being performed twice, but it is simple and low-risk.&lt;/li&gt;
	&lt;li&gt;Remove &lt;a href=&quot;https://github.com/apache/kafka/blob/45f2261763eac5caaebf860daab32ef5337c9293/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/AbstractHerder.java#L245-L252&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;lines 245-252&lt;/a&gt; that validate just the basic config definitions, since the remaining code would enrich the connector-specific configuration definitions with the basic config defs and validate all of them. This approach is probably more correct, as long as we ensure that the basic config defs are validated first.&lt;/li&gt;
	&lt;li&gt;Remove the enrichment process so that the second validation step only validates the connector-specific configuration properties. This is closest to the previous behavior.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16055019" author="githubbot" created="Tue, 20 Jun 2017 00:58:27 +0000"  >&lt;p&gt;GitHub user rhauch opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3379&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3379&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5472&quot; title=&quot;Connector validate REST endpoint returning duplicate entries in &amp;quot;groups&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5472&quot;&gt;&lt;del&gt;KAFKA-5472&lt;/del&gt;&lt;/a&gt; Eliminated duplicate group names when validating connector results&lt;/p&gt;

&lt;p&gt;    Kafka Connect was adding duplicate group names in the response from the REST API&apos;s validation of connector configurations. This fixes the duplicates and maintains the order of the `ConfigDef` objects so that the `ConfigValue` results are in the same order.&lt;/p&gt;

&lt;p&gt;    This is a blocker and should be merged to 0.11.0.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rhauch/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rhauch/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5472&quot; title=&quot;Connector validate REST endpoint returning duplicate entries in &amp;quot;groups&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5472&quot;&gt;&lt;del&gt;KAFKA-5472&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3379.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3379.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3379&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d8e6168584cab68ff0844b6d18d8cdb79792427b&lt;br/&gt;
Author: Randall Hauch &amp;lt;rhauch@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-06-20T00:52:28Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5472&quot; title=&quot;Connector validate REST endpoint returning duplicate entries in &amp;quot;groups&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5472&quot;&gt;&lt;del&gt;KAFKA-5472&lt;/del&gt;&lt;/a&gt; Eliminated duplicate group names when validating connector results&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16056743" author="ewencp" created="Wed, 21 Jun 2017 00:48:52 +0000"  >&lt;p&gt;Issue resolved by pull request 3379&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/3379&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3379&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16056745" author="githubbot" created="Wed, 21 Jun 2017 00:49:47 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3379&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3379&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ggov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>ewencp</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>