<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:59:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-4039] Exit Strategy: using exceptions instead of inline invocation of exit/halt</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-4039</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;The current practice is to directly invoke halt/exit right after the line that intends to terminate the execution. In the case of System.exit this could cause deadlocks if the thread invoking System.exit is holding  a lock that will be requested by the shutdown hook threads that will be started by System.exit. An example is reported by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aozeritsky&quot; class=&quot;user-hover&quot; rel=&quot;aozeritsky&quot;&gt;aozeritsky&lt;/a&gt; in &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3924&quot; title=&quot;Data loss due to halting when LEO is larger than leader&amp;#39;s LEO&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3924&quot;&gt;&lt;del&gt;KAFKA-3924&lt;/del&gt;&lt;/a&gt;. This would also makes testing more difficult as it would require mocking static methods of System and Runtime classes, which is not natively supported in Java.&lt;/p&gt;

&lt;p&gt;One alternative suggested &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3924?focusedCommentId=15420269&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15420269&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt; would be to throw some dedicated exceptions that will eventually invoke exit/halt:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt; it would be great to move away from executing `System.exit` inline in favour of throwing an exception (two examples, but maybe we can find better names: FatalExitException and FatalHaltException) that is caught by some central code that then does the `System.exit` or `Runtime.getRuntime.halt`. This helps in a couple of ways:&lt;/p&gt;

&lt;p&gt;(1) Avoids issues with locks being held as in this issue&lt;br/&gt;
(2) It makes it possible to abstract the action, which is very useful in tests. At the moment, we can&apos;t easily test for these conditions as they cause the whole test harness to exit. Worse, these conditions are sometimes triggered in the tests and it&apos;s unclear why.&lt;br/&gt;
(3) We can have more consistent logging around these actions and possibly extended logging for tests&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12997202">KAFKA-4039</key>
            <summary>Exit Strategy: using exceptions instead of inline invocation of exit/halt</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="maysamyabandeh">Maysam Yabandeh</assignee>
                                    <reporter username="maysamyabandeh">Maysam Yabandeh</reporter>
                        <labels>
                            <label>reliability</label>
                    </labels>
                <created>Sun, 14 Aug 2016 19:18:45 +0000</created>
                <updated>Fri, 4 Aug 2017 14:35:15 +0000</updated>
                            <resolved>Thu, 2 Feb 2017 22:24:32 +0000</resolved>
                                    <version>0.10.0.0</version>
                                    <fixVersion>0.11.0.0</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="15423298" author="aozeritsky" created="Tue, 16 Aug 2016 20:01:22 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maysamyabandeh&quot; class=&quot;user-hover&quot; rel=&quot;maysamyabandeh&quot;&gt;maysamyabandeh&lt;/a&gt;.&lt;br/&gt;
I think we have to decide how to solve the problem or revert commit d1757c70a198014e85026c01a1a4ccab6a12da7d because it brings more serious problem. In fact, my &quot;solution&quot; from &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3924&quot; title=&quot;Data loss due to halting when LEO is larger than leader&amp;#39;s LEO&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3924&quot;&gt;&lt;del&gt;KAFKA-3924&lt;/del&gt;&lt;/a&gt; does not solve the problem because shutdown hook waits for sheduler and vice versa. &lt;/p&gt;</comment>
                            <comment id="15423311" author="maysamyabandeh" created="Tue, 16 Aug 2016 20:13:44 +0000"  >&lt;p&gt;Revert is certainly an option but I am not sure if the deadlock is more serious than data loss: with the current status it shuts down cleanly but does not exit waiting for one last thread that is processing an outstanding request. For me this is a bit of operational burden but it is at least safe.&lt;/p&gt;

&lt;p&gt;Also the suggested solution of throwing an exception seems pretty straightforward and would address the other perhaps-yet-unreported issues with inline invocation of system.exit. If there is no other volunteer I would be happy to take up this jira and prepare the patch.&lt;/p&gt;</comment>
                            <comment id="15423320" author="ijuma" created="Tue, 16 Aug 2016 20:19:02 +0000"  >&lt;p&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maysamyabandeh&quot; class=&quot;user-hover&quot; rel=&quot;maysamyabandeh&quot;&gt;maysamyabandeh&lt;/a&gt; , a PR would be great. I suggest you do one that just solves the deadlock issue and another for the rest (if you&apos;re willing).&lt;/p&gt;</comment>
                            <comment id="15423346" author="maysamyabandeh" created="Tue, 16 Aug 2016 20:37:10 +0000"  >&lt;p&gt;Certainly. I will submit a patch soon.&lt;/p&gt;</comment>
                            <comment id="15424201" author="aozeritsky" created="Wed, 17 Aug 2016 09:33:38 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maysamyabandeh&quot; class=&quot;user-hover&quot; rel=&quot;maysamyabandeh&quot;&gt;maysamyabandeh&lt;/a&gt;&lt;br/&gt;
I&apos;ll be happy to test your patch.&lt;/p&gt;</comment>
                            <comment id="15425123" author="githubbot" created="Wed, 17 Aug 2016 18:31:40 +0000"  >&lt;p&gt;GitHub user maysamyabandeh opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1755&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1755&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4039&quot; title=&quot;Exit Strategy: using exceptions instead of inline invocation of exit/halt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4039&quot;&gt;&lt;del&gt;KAFKA-4039&lt;/del&gt;&lt;/a&gt;: delay invocation of System.exit via FatalExitException&lt;/p&gt;

&lt;p&gt;    @resetius would be great if you can confirm that the deadlock no longer manifests with the path.&lt;br/&gt;
    Thanks&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/maysamyabandeh/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/maysamyabandeh/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4039&quot; title=&quot;Exit Strategy: using exceptions instead of inline invocation of exit/halt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4039&quot;&gt;&lt;del&gt;KAFKA-4039&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1755.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1755.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1755&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d902c2bc81c4799ad1eb7bc7ec50e67d04d1c9c2&lt;br/&gt;
Author: Maysam Yabandeh &amp;lt;myabandeh@dropbox.com&amp;gt;&lt;br/&gt;
Date:   2016-08-17T18:21:07Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4039&quot; title=&quot;Exit Strategy: using exceptions instead of inline invocation of exit/halt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4039&quot;&gt;&lt;del&gt;KAFKA-4039&lt;/del&gt;&lt;/a&gt;: delay invocation of System.exit via FatalExitException&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15498509" author="ijuma" created="Sat, 17 Sep 2016 07:56:09 +0000"  >&lt;p&gt;Seems important to fix the deadlock for 0.10.1.0.&lt;/p&gt;</comment>
                            <comment id="15536786" author="hachikuji" created="Fri, 30 Sep 2016 19:17:22 +0000"  >&lt;p&gt;Looks like we&apos;re going to have to push this to 0.10.1.1 since the patch doesn&apos;t look like it will be ready.&lt;/p&gt;</comment>
                            <comment id="15691142" author="guozhang" created="Wed, 23 Nov 2016 19:30:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hachikuji&quot; class=&quot;user-hover&quot; rel=&quot;hachikuji&quot;&gt;hachikuji&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ijuma&quot; class=&quot;user-hover&quot; rel=&quot;ijuma&quot;&gt;ijuma&lt;/a&gt; If you guys feel it is an important fix to be in 0.10.1.1, maybe you can review and merge it?&lt;/p&gt;</comment>
                            <comment id="15703696" author="guozhang" created="Tue, 29 Nov 2016 00:38:08 +0000"  >&lt;p&gt;Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hachikuji&quot; class=&quot;user-hover&quot; rel=&quot;hachikuji&quot;&gt;hachikuji&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ijuma&quot; class=&quot;user-hover&quot; rel=&quot;ijuma&quot;&gt;ijuma&lt;/a&gt; again.&lt;/p&gt;</comment>
                            <comment id="15703697" author="guozhang" created="Tue, 29 Nov 2016 00:38:12 +0000"  >&lt;p&gt;Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hachikuji&quot; class=&quot;user-hover&quot; rel=&quot;hachikuji&quot;&gt;hachikuji&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ijuma&quot; class=&quot;user-hover&quot; rel=&quot;ijuma&quot;&gt;ijuma&lt;/a&gt; again.&lt;/p&gt;</comment>
                            <comment id="15706109" author="guozhang" created="Tue, 29 Nov 2016 18:26:32 +0000"  >&lt;p&gt;Discussed offline, we will move this out of 0.10.1.1 as there was no consensus on the solution yet.&lt;/p&gt;</comment>
                            <comment id="15721224" author="maysamyabandeh" created="Mon, 5 Dec 2016 04:50:35 +0000"  >&lt;p&gt;I am afraid I do not have much free cycles left to work on this jira. The task is up for grab.&lt;/p&gt;</comment>
                            <comment id="15847520" author="githubbot" created="Tue, 31 Jan 2017 21:09:58 +0000"  >&lt;p&gt;GitHub user ijuma opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2474&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2474&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4039&quot; title=&quot;Exit Strategy: using exceptions instead of inline invocation of exit/halt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4039&quot;&gt;&lt;del&gt;KAFKA-4039&lt;/del&gt;&lt;/a&gt;: Fix deadlock during shutdown due to log truncation not allowed&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ijuma/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ijuma/kafka&lt;/a&gt; kafka-4039-deadlock-during-shutdown&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2474.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2474.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2474&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d902c2bc81c4799ad1eb7bc7ec50e67d04d1c9c2&lt;br/&gt;
Author: Maysam Yabandeh &amp;lt;myabandeh@dropbox.com&amp;gt;&lt;br/&gt;
Date:   2016-08-17T18:21:07Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4039&quot; title=&quot;Exit Strategy: using exceptions instead of inline invocation of exit/halt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4039&quot;&gt;&lt;del&gt;KAFKA-4039&lt;/del&gt;&lt;/a&gt;: delay invocation of System.exit via FatalExitException&lt;/p&gt;

&lt;p&gt;commit 548ddec8c8715125f25f3da3263fe4ead39deca2&lt;br/&gt;
Author: Maysam Yabandeh &amp;lt;myabandeh@dropbox.com&amp;gt;&lt;br/&gt;
Date:   2016-08-17T22:39:12Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4039&quot; title=&quot;Exit Strategy: using exceptions instead of inline invocation of exit/halt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4039&quot;&gt;&lt;del&gt;KAFKA-4039&lt;/del&gt;&lt;/a&gt; change FatalExitException to Error&lt;/p&gt;

&lt;p&gt;commit 08992e10eacb661d24506bff1f617f42cce02ffb&lt;br/&gt;
Author: Maysam Yabandeh &amp;lt;myabandeh@dropbox.com&amp;gt;&lt;br/&gt;
Date:   2016-08-18T00:33:43Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4039&quot; title=&quot;Exit Strategy: using exceptions instead of inline invocation of exit/halt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4039&quot;&gt;&lt;del&gt;KAFKA-4039&lt;/del&gt;&lt;/a&gt; fix the default value of test mode in FatalExitError&lt;/p&gt;

&lt;p&gt;commit bcf9e9d605fef9bc2cf46380767f3881eeee6313&lt;br/&gt;
Author: Maysam Yabandeh &amp;lt;myabandeh@dropbox.com&amp;gt;&lt;br/&gt;
Date:   2016-08-18T14:26:20Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4039&quot; title=&quot;Exit Strategy: using exceptions instead of inline invocation of exit/halt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4039&quot;&gt;&lt;del&gt;KAFKA-4039&lt;/del&gt;&lt;/a&gt; mock System.exit&lt;/p&gt;

&lt;p&gt;commit 98acc3674a610ac329935c2d3a1bbdd032685d25&lt;br/&gt;
Author: Maysam Yabandeh &amp;lt;myabandeh@dropbox.com&amp;gt;&lt;br/&gt;
Date:   2016-08-19T14:38:33Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4039&quot; title=&quot;Exit Strategy: using exceptions instead of inline invocation of exit/halt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4039&quot;&gt;&lt;del&gt;KAFKA-4039&lt;/del&gt;&lt;/a&gt; exit inside an anonymous thread, add test for deadlock&lt;/p&gt;

&lt;p&gt;commit 39a667eda0817bc42beaaedb962e5797b6f106e1&lt;br/&gt;
Author: Ismael Juma &amp;lt;ismael@juma.me.uk&amp;gt;&lt;br/&gt;
Date:   2017-01-30T14:48:24Z&lt;/p&gt;

&lt;p&gt;    Merge remote-tracking branch &apos;apache/trunk&apos; into kafka-4039-deadlock-during-shutdown&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;apache/trunk: (552 commits)&lt;br/&gt;
      MINOR: JavaDoc markup cleanup&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4679&quot; title=&quot;Remove unstable markers from Connect APIs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4679&quot;&gt;&lt;del&gt;KAFKA-4679&lt;/del&gt;&lt;/a&gt;: Remove unstable markers from Connect APIs&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4450&quot; title=&quot;Add missing 0.10.1.x upgrade tests and ensure ongoing compatibility checks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4450&quot;&gt;&lt;del&gt;KAFKA-4450&lt;/del&gt;&lt;/a&gt;; Add upgrade tests for 0.10.1 and rename TRUNK to DEV_BRANCH to reduce confusion&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4635&quot; title=&quot;Client Compatibility follow-up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4635&quot;&gt;&lt;del&gt;KAFKA-4635&lt;/del&gt;&lt;/a&gt;; Client Compatibility follow-ups&lt;br/&gt;
      MINOR: update JavaDocs for Kafka Streams DSL helpers&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4557&quot; title=&quot;ConcurrentModificationException in KafkaProducer event loop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4557&quot;&gt;&lt;del&gt;KAFKA-4557&lt;/del&gt;&lt;/a&gt;; Handle Producer.send correctly in expiry callbacks&lt;br/&gt;
      MINOR: Update copyright year in the NOTICE file.&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4664&quot; title=&quot;Update docs/protocol.html with KIP-97 information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4664&quot;&gt;&lt;del&gt;KAFKA-4664&lt;/del&gt;&lt;/a&gt;; Update docs/protocol.html with KIP-97 information&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4704&quot; title=&quot;Group coordinator cache loading fails if groupId is used first for consumer groups and then for simple consumer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4704&quot;&gt;&lt;del&gt;KAFKA-4704&lt;/del&gt;&lt;/a&gt;; Coordinator cache loading fails if groupId is reused for offset storage after group is removed&lt;br/&gt;
      MINOR: Replace for within for each; replace if-elseif with match&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4644&quot; title=&quot;Improve test coverage of StreamsPartitionAssignor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4644&quot;&gt;&lt;del&gt;KAFKA-4644&lt;/del&gt;&lt;/a&gt;: Improve test coverage of StreamsPartitionAssignor&lt;br/&gt;
      MINOR: Update KTable JavaDoc&lt;br/&gt;
      MINOR: Include more detail in `ConfigDef.parseType` exception message&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4578&quot; title=&quot;Upgrade notes for 0.10.2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4578&quot;&gt;&lt;del&gt;KAFKA-4578&lt;/del&gt;&lt;/a&gt;; Upgrade notes for 0.10.2.0&lt;br/&gt;
      MINOR: Streams API JavaDoc improvements&lt;br/&gt;
      MINOR: Add Streams system test for broker backwards compatibility&lt;br/&gt;
      MINOR: Close create topics policy during shutdown and more tests&lt;br/&gt;
      MINOR: Update JavaDoc for DSL PAPI-API&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4636&quot; title=&quot;Per listener security setting overrides (KIP-103)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4636&quot;&gt;&lt;del&gt;KAFKA-4636&lt;/del&gt;&lt;/a&gt;; Per listener security settings overrides (KIP-103)&lt;br/&gt;
      MINOR: Change logging level for ignored maybeAddMetric from debug to trace&lt;br/&gt;
      ...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;commit 4d130ef7e990ca8215684adc36865f08caa79557&lt;br/&gt;
Author: Ismael Juma &amp;lt;ismael@juma.me.uk&amp;gt;&lt;br/&gt;
Date:   2017-01-31T21:07:37Z&lt;/p&gt;

&lt;p&gt;    Try a slightly different approach to solving the shutdown deadlock&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Open the latch in `ShutdownableThread` before calling `exit`&lt;/li&gt;
	&lt;li&gt;Introduce `Exit` classes that perform exit/halt and can be changed in tests&lt;/li&gt;
	&lt;li&gt;Invoke `exit` from the calling thread instead of spawning a new thread&lt;/li&gt;
	&lt;li&gt;Updated the tests&lt;/li&gt;
	&lt;li&gt;A few clean-ups&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;commit 1c8032b7419874ef2c56e7cf321d39a3f64e6833&lt;br/&gt;
Author: Ismael Juma &amp;lt;ismael@juma.me.uk&amp;gt;&lt;br/&gt;
Date:   2017-01-31T21:07:51Z&lt;/p&gt;

&lt;p&gt;    A few style clean-ups&lt;/p&gt;

&lt;p&gt;commit 50b6c571ae51d2c9f5b7288faace349acc156bc8&lt;br/&gt;
Author: Ismael Juma &amp;lt;ismael@juma.me.uk&amp;gt;&lt;br/&gt;
Date:   2017-01-31T21:08:18Z&lt;/p&gt;

&lt;p&gt;    Merge remote-tracking branch &apos;apache/trunk&apos; into kafka-4039-deadlock-during-shutdown&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;apache/trunk:&lt;br/&gt;
      MINOR: Logging improvements in consumer internals&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2955&quot; title=&quot;Add Prompt to kafka-console-producer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2955&quot;&gt;&lt;del&gt;KAFKA-2955&lt;/del&gt;&lt;/a&gt;; Add a simple &quot;&amp;gt;&quot; prompt to console producer&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4613&quot; title=&quot;Treat null-key records the same way for joins and aggreations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4613&quot;&gt;&lt;del&gt;KAFKA-4613&lt;/del&gt;&lt;/a&gt;: Follow-up to fix JavaDocs&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4613&quot; title=&quot;Treat null-key records the same way for joins and aggreations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4613&quot;&gt;&lt;del&gt;KAFKA-4613&lt;/del&gt;&lt;/a&gt;: Treat null-key records the same way for joins and aggreations&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;</comment>
                            <comment id="15850617" author="ijuma" created="Thu, 2 Feb 2017 22:24:32 +0000"  >&lt;p&gt;Issue resolved by pull request 2474&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/2474&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2474&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15850618" author="githubbot" created="Thu, 2 Feb 2017 22:25:11 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2474&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2474&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16114442" author="githubbot" created="Fri, 4 Aug 2017 14:35:15 +0000"  >&lt;p&gt;Github user maysamyabandeh closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1755&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1755&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12824386" name="deadlock-stack2" size="32667" author="aozeritsky" created="Thu, 18 Aug 2016 15:02:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 15 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32axj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>