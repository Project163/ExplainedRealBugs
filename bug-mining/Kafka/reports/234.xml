<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:37:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-801] Fix MessagesInPerSec mbean to count uncompressed message rate</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-801</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Today, BrokerTopicMetrics.MessagesInPerSec does shallow iteration and hence counts the number of compressed messages in every request. This does not make sense, we should count the number of uncompressed messages stored on the leader. Also, this metric makes sense only on the leader.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636492">KAFKA-801</key>
            <summary>Fix MessagesInPerSec mbean to count uncompressed message rate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="junrao">Jun Rao</assignee>
                                    <reporter username="nehanarkhede">Neha Narkhede</reporter>
                        <labels>
                            <label>kafka-0.8</label>
                            <label>p2</label>
                    </labels>
                <created>Tue, 12 Mar 2013 01:30:48 +0000</created>
                <updated>Wed, 13 Mar 2013 17:14:32 +0000</updated>
                            <resolved>Wed, 13 Mar 2013 17:11:27 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13600805" author="junrao" created="Wed, 13 Mar 2013 04:32:34 +0000"  >&lt;p&gt;Attach a patch.&lt;/p&gt;</comment>
                            <comment id="13601252" author="nehanarkhede" created="Wed, 13 Mar 2013 15:40:03 +0000"  >&lt;p&gt;+1. Minor simplification -&lt;/p&gt;

&lt;p&gt;Can we do the following instead of subtracting 1 and then adding 1 to compute the number of messages ?&lt;br/&gt;
              val numMessages = offsetCounter.get - firstOffset &lt;/p&gt;</comment>
                            <comment id="13601282" author="junrao" created="Wed, 13 Mar 2013 16:02:04 +0000"  >&lt;p&gt;We could do that. However, the meaning of offsetCounter is not clear while the meaning of lastOffset is.&lt;/p&gt;</comment>
                            <comment id="13601295" author="nehanarkhede" created="Wed, 13 Mar 2013 16:15:47 +0000"  >&lt;p&gt;Agree, I guess we can pass on that suggestion&lt;/p&gt;</comment>
                            <comment id="13601366" author="junrao" created="Wed, 13 Mar 2013 17:11:27 +0000"  >&lt;p&gt;Thanks for the review. Committed to 0.8.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573472" name="kafka-801.patch" size="1366" author="junrao" created="Wed, 13 Mar 2013 04:32:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316984</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ip3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317325</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>