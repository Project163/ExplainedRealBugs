<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:42:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-19130] Do not add fenced brokers to BrokerRegistrationTracker on startup</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-19130</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;When the controller starts up (or becomes active after being inactive), we add all of the&lt;br/&gt;
registered brokers to BrokerRegistrationTracker so that they will not be accidentally fenced the&lt;br/&gt;
next time we are looking for a broker to fence. We do this because the state in&lt;br/&gt;
BrokerRegistrationTracker is &quot;soft state&quot; (it doesn&apos;t appear in the metadata log), and the newly&lt;br/&gt;
active controller starts off with no soft state. (Its soft state will be populated by the brokers&lt;br/&gt;
sending heartbeat requests to it over time.)&lt;/p&gt;

&lt;p&gt;In the case of fenced brokers, we are not worried about accidentally fencing the broker due to it&lt;br/&gt;
being missing from BrokerRegistrationTracker for a while (it&apos;s already fenced). Therefore, it&lt;br/&gt;
should be reasonable to just not add fenced brokers to the tracker initially.&lt;/p&gt;

&lt;p&gt;One case where this change will have a positive impact is for people running single-node demonstration&lt;br/&gt;
clusters in combined KRaft mode. In that case, when the single-node cluster is taken down and&lt;br/&gt;
restarted, it currently will have to wait about 9 seconds for the broker to come up and&lt;br/&gt;
re-register. With this change, the broker should be able to re-register immediately.&lt;/p&gt;

&lt;p&gt;One possible negative impact is that if there is a controller failover, it will open a small window&lt;br/&gt;
where a broker with the same ID as a fenced broker could re-register. However, our detection of&lt;br/&gt;
duplicate broker IDs is best-effort (and duplicate broker IDs are an administrative mistake), so&lt;br/&gt;
this downside seems acceptable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13615035">KAFKA-19130</key>
            <summary>Do not add fenced brokers to BrokerRegistrationTracker on startup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cmccabe">Colin McCabe</assignee>
                                    <reporter username="cmccabe">Colin McCabe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Apr 2025 22:46:59 +0000</created>
                <updated>Tue, 1 Jul 2025 13:33:20 +0000</updated>
                            <resolved>Tue, 1 Jul 2025 13:33:20 +0000</resolved>
                                                    <fixVersion>4.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17987216" author="mimaison" created="Tue, 1 Jul 2025 13:33:15 +0000"  >&lt;p&gt;The PR has been merged, marking as resolved.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13613231">KAFKA-19047</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vbog:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>