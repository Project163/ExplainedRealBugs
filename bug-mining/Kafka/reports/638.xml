<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:42:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-1961] Looks like its possible to delete _consumer_offsets topic</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-1961</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Noticed that kafka-topics.sh --delete can successfully delete internal topics (__consumer_offsets).&lt;/p&gt;

&lt;p&gt;I&apos;m pretty sure we want to prevent that, to avoid users shooting themselves in the foot.&lt;/p&gt;

&lt;p&gt;Topic admin command should check for internal topics, just like ReplicaManager does and not let users delete them.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12775499">KAFKA-1961</key>
            <summary>Looks like its possible to delete _consumer_offsets topic</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ted.m">Theodore michael Malaska</assignee>
                                    <reporter username="gwenshap">Gwen Shapira</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Tue, 17 Feb 2015 04:27:01 +0000</created>
                <updated>Fri, 3 Apr 2015 23:30:41 +0000</updated>
                            <resolved>Fri, 3 Apr 2015 18:44:27 +0000</resolved>
                                    <version>0.8.2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14324505" author="nehanarkhede" created="Tue, 17 Feb 2015 17:27:02 +0000"  >&lt;p&gt;That&apos;s a good catch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt;. Seems like a bug.&lt;/p&gt;</comment>
                            <comment id="14324545" author="jkreps" created="Tue, 17 Feb 2015 17:43:19 +0000"  >&lt;p&gt;This would be hard to do accidentally, right, you have to type out the name of the topic you want to delete? Is there ever a valid reason to do this, e.g. you want to clean up all the offsets so you delete and recreate. Does that actually work or would something terrible happen (since state in broker wouldn&apos;t get reset)?&lt;/p&gt;</comment>
                            <comment id="14324724" author="gwenshap" created="Tue, 17 Feb 2015 19:19:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jkreps&quot; class=&quot;user-hover&quot; rel=&quot;jkreps&quot;&gt;jkreps&lt;/a&gt; - by &quot;accidentally&quot; I mean, &quot;I don&apos;t know what this topic is, so I probably don&apos;t need it. Lets delete!&quot;. &lt;br/&gt;
I&apos;ve seen this happen twice in the last few weeks. I wrote off the first incident, but two is a trend &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;We have utility for cleaning offsets per consumer group or topic in the consumer tool (or at least I think we have them? or planning to have them?). I think deleting an entire topic is pretty extreme. Perhaps we can allow it with a code-level flag (if someone calls the object directly) but hide the capability in the CLI? &lt;br/&gt;
I think we do something similar in producing to internal topics.&lt;/p&gt;
</comment>
                            <comment id="14324770" author="jkreps" created="Tue, 17 Feb 2015 19:55:56 +0000"  >&lt;p&gt;Makes sense.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjkoshy&quot; class=&quot;user-hover&quot; rel=&quot;jjkoshy&quot;&gt;jjkoshy&lt;/a&gt; Deleting the topic would leave the broker in an inconsistent state, right? If this is the case I think we should just prevent it as Gwen suggests.&lt;/p&gt;</comment>
                            <comment id="14324917" author="jjkoshy" created="Tue, 17 Feb 2015 21:26:50 +0000"  >&lt;p&gt;Yes it would be inconsistent in that you would lose offsets but we don&apos;t actually purge from the offsets cache if that happens. I agree that we should prevent this from happening in the first place.&lt;/p&gt;

&lt;p&gt;We could expose a broker-side config to allow deleting internal topics but I think the better approach would be a combination of KIP-4 (topic command RPC) with authorization.&lt;/p&gt;</comment>
                            <comment id="14324924" author="jkreps" created="Tue, 17 Feb 2015 21:30:00 +0000"  >&lt;p&gt;Yeah I think since the cache would be totally out of sync it is basically an error--you can&apos;t use this as a way to reset offsets. Let&apos;s just disable it in the command line tool, that is probably good enough, right?&lt;/p&gt;</comment>
                            <comment id="14329723" author="nehanarkhede" created="Fri, 20 Feb 2015 23:05:11 +0000"  >&lt;p&gt;Yes, that&apos;s what I was thinking. +1 on removing it from the tool only.&lt;/p&gt;</comment>
                            <comment id="14332268" author="ted.m" created="Sun, 22 Feb 2015 17:43:52 +0000"  >&lt;p&gt;Hey Gwen,&lt;/p&gt;

&lt;p&gt;Thank you for the help here is the link to Review Board.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/31271/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/31271/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I will add this to the jira and mark the Jira as patch available &lt;/p&gt;</comment>
                            <comment id="14332269" author="ted.m" created="Sun, 22 Feb 2015 17:46:25 +0000"  >&lt;p&gt;The change makes it so the user can not delete topics that are contained in Topic.InternalTopics.&lt;/p&gt;

&lt;p&gt;If they do they will be notified.&lt;/p&gt;

&lt;p&gt;Patch also included unit tests&lt;/p&gt;</comment>
                            <comment id="14332270" author="gwenshap" created="Sun, 22 Feb 2015 17:49:22 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted.m&quot; class=&quot;user-hover&quot; rel=&quot;ted.m&quot;&gt;ted.m&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Patch and test looks good to me.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nehanarkhede&quot; class=&quot;user-hover&quot; rel=&quot;nehanarkhede&quot;&gt;nehanarkhede&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jkreps&quot; class=&quot;user-hover&quot; rel=&quot;jkreps&quot;&gt;jkreps&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjkoshy&quot; class=&quot;user-hover&quot; rel=&quot;jjkoshy&quot;&gt;jjkoshy&lt;/a&gt; - can one of you take a look and see if its read for commit?&lt;/p&gt;</comment>
                            <comment id="14332379" author="ted.m" created="Sun, 22 Feb 2015 21:17:04 +0000"  >&lt;p&gt;Changed action from print statement to exception.  Also updated unit test&lt;/p&gt;</comment>
                            <comment id="14336675" author="ted.m" created="Wed, 25 Feb 2015 16:05:25 +0000"  >&lt;p&gt;Let me know if there are any other changes I need to make before this can get committed.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="14365875" author="gwenshap" created="Tue, 17 Mar 2015 19:36:00 +0000"  >&lt;p&gt;ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nehanarkhede&quot; class=&quot;user-hover&quot; rel=&quot;nehanarkhede&quot;&gt;nehanarkhede&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I think this is ready for commit?&lt;/p&gt;</comment>
                            <comment id="14389409" author="gwenshap" created="Tue, 31 Mar 2015 21:05:47 +0000"  >&lt;p&gt;pinging for review again &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nehanarkhede&quot; class=&quot;user-hover&quot; rel=&quot;nehanarkhede&quot;&gt;nehanarkhede&lt;/a&gt;...&lt;/p&gt;</comment>
                            <comment id="14392769" author="ted.m" created="Thu, 2 Apr 2015 14:38:08 +0000"  >&lt;p&gt;Hey there,&lt;/p&gt;

&lt;p&gt;This jira and 2016 have been hanging around for some time.  Is there anything I can do to get them committed or are there changes I need to do.  Let me know.&lt;/p&gt;

&lt;p&gt;It would mean a lot to me to get my first Kafka patch.  Thanks&lt;/p&gt;

&lt;p&gt;Ted Malaska&lt;/p&gt;</comment>
                            <comment id="14393886" author="junrao" created="Fri, 3 Apr 2015 01:23:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted.m&quot; class=&quot;user-hover&quot; rel=&quot;ted.m&quot;&gt;ted.m&lt;/a&gt;, thanks for the patch. Just added a minor comment to the RB. Once it&apos;s addressed, we can commit it.&lt;/p&gt;</comment>
                            <comment id="14394683" author="ted.m" created="Fri, 3 Apr 2015 16:56:30 +0000"  >&lt;p&gt;Updated based on comments&lt;/p&gt;</comment>
                            <comment id="14394856" author="nehanarkhede" created="Fri, 3 Apr 2015 18:31:00 +0000"  >&lt;p&gt;+1. Checking it in...&lt;/p&gt;</comment>
                            <comment id="14394899" author="nehanarkhede" created="Fri, 3 Apr 2015 18:44:27 +0000"  >&lt;p&gt;Thanks for the patch, Ted! Pushed to trunk.&lt;/p&gt;</comment>
                            <comment id="14395260" author="ted.m" created="Fri, 3 Apr 2015 23:30:41 +0000"  >&lt;p&gt;Thank you Neha for the final review.&lt;/p&gt;

&lt;p&gt;Thank you also Jun and Gwen.  I will work with Gwen to try to find another jira in the next couple of weeks.&lt;/p&gt;

&lt;p&gt;Thank you again.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12709263" name="KAFKA-1961-6.patch" size="4570" author="ted.m" created="Fri, 3 Apr 2015 16:56:30 +0000"/>
                            <attachment id="12700105" name="KAFKA-1961.3.patch" size="4653" author="ted.m" created="Sun, 22 Feb 2015 17:44:42 +0000"/>
                            <attachment id="12700117" name="KAFKA-1961.4.patch" size="4967" author="ted.m" created="Sun, 22 Feb 2015 21:17:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25p9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>