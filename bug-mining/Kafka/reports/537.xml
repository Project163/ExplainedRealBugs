<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:41:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-1648] Round robin consumer balance throws an NPE when there are no topics</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-1648</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;If you use the roundrobin rebalance method with a wildcard consumer, and there are no topics in the cluster, rebalance throws a NullPointerException in the consumer and fails. It retries the rebalance, but will continue to throw the NPE.&lt;/p&gt;

&lt;p&gt;2014/09/23 17:51:16.147 &lt;span class=&quot;error&quot;&gt;&amp;#91;ZookeeperConsumerConnector&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;kafka-audit_lva1-app0007.corp-1411494404908-4e620544&amp;#93;&lt;/span&gt;, Cleared all relevant queues for this fetcher&lt;br/&gt;
2014/09/23 17:51:16.147 &lt;span class=&quot;error&quot;&gt;&amp;#91;ZookeeperConsumerConnector&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;kafka-audit_lva1-app0007.corp-1411494404908-4e620544&amp;#93;&lt;/span&gt;, Cleared the data chunks in all the consumer message iterators&lt;br/&gt;
2014/09/23 17:51:16.148 &lt;span class=&quot;error&quot;&gt;&amp;#91;ZookeeperConsumerConnector&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;kafka-audit_lva1-app0007.corp-1411494404908-4e620544&amp;#93;&lt;/span&gt;, Committing all offsets after clearing the fetcher queues&lt;br/&gt;
2014/09/23 17:51:46.148 &lt;span class=&quot;error&quot;&gt;&amp;#91;ZookeeperConsumerConnector&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;kafka-audit_lva1-app0007.corp-1411494404908-4e620544&amp;#93;&lt;/span&gt;, begin rebalancing consumer kafka-audit_lva1-app0007.corp-1411494404908-4e620544 try #0&lt;br/&gt;
2014/09/23 17:51:46.148 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;OffspringServletRuntime&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;kafka-console-audit&amp;#93;&lt;/span&gt; [] Boot listener com.linkedin.kafkaconsoleaudit.KafkaConsoleAuditBootListener failed&lt;br/&gt;
kafka.common.ConsumerRebalanceFailedException: kafka-audit_lva1-app0007.corp-1411494404908-4e620544 can&apos;t rebalance after 10 retries&lt;br/&gt;
	at kafka.consumer.ZookeeperConsumerConnector$ZKRebalancerListener.syncedRebalance(ZookeeperConsumerConnector.scala:630)&lt;br/&gt;
	at kafka.consumer.ZookeeperConsumerConnector.kafka$consumer$ZookeeperConsumerConnector$$reinitializeConsumer(ZookeeperConsumerConnector.scala:897)&lt;br/&gt;
	at kafka.consumer.ZookeeperConsumerConnector$WildcardStreamsHandler.&amp;lt;init&amp;gt;(ZookeeperConsumerConnector.scala:931)&lt;br/&gt;
	at kafka.consumer.ZookeeperConsumerConnector.createMessageStreamsByFilter(ZookeeperConsumerConnector.scala:159)&lt;br/&gt;
	at kafka.javaapi.consumer.ZookeeperConsumerConnector.createMessageStreamsByFilter(ZookeeperConsumerConnector.scala:101)&lt;br/&gt;
	at com.linkedin.tracker.consumer.TrackingConsumerImpl.initWildcardIterators(TrackingConsumerImpl.java:88)&lt;br/&gt;
	at com.linkedin.tracker.consumer.TrackingConsumerImpl.getWildcardIterators(TrackingConsumerImpl.java:116)&lt;br/&gt;
	at com.linkedin.kafkaconsoleaudit.KafkaConsoleAudit.createAuditThreads(KafkaConsoleAudit.java:59)&lt;br/&gt;
	at com.linkedin.kafkaconsoleaudit.KafkaConsoleAudit.initializeAudit(KafkaConsoleAudit.java:50)&lt;br/&gt;
	at com.linkedin.kafkaconsoleaudit.KafkaConsoleAuditFactory.createInstance(KafkaConsoleAuditFactory.java:125)&lt;br/&gt;
	at com.linkedin.kafkaconsoleaudit.KafkaConsoleAuditFactory.createInstance(KafkaConsoleAuditFactory.java:20)&lt;br/&gt;
	at com.linkedin.util.factory.SimpleSingletonFactory.createInstance(SimpleSingletonFactory.java:20)&lt;br/&gt;
	at com.linkedin.util.factory.SimpleSingletonFactory.createInstance(SimpleSingletonFactory.java:14)&lt;br/&gt;
	at com.linkedin.util.factory.Generator.doGetBean(Generator.java:337)&lt;br/&gt;
	at com.linkedin.util.factory.Generator.getBean(Generator.java:270)&lt;br/&gt;
	at com.linkedin.kafkaconsoleaudit.KafkaConsoleAuditBootListener.onBoot(KafkaConsoleAuditBootListener.java:16)&lt;br/&gt;
	at com.linkedin.offspring.servlet.OffspringServletRuntime.startGenerator(OffspringServletRuntime.java:147)&lt;br/&gt;
	at com.linkedin.offspring.servlet.OffspringServletRuntime.start(OffspringServletRuntime.java:73)&lt;br/&gt;
	at com.linkedin.offspring.servlet.OffspringServletContextListener.contextInitialized(OffspringServletContextListener.java:28)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:771)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:424)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:763)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:249)&lt;br/&gt;
	at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:706)&lt;br/&gt;
	at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:492)&lt;br/&gt;
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)&lt;br/&gt;
	at com.linkedin.emweb.ContextBasedHandlerImpl.doStart(ContextBasedHandlerImpl.java:105)&lt;br/&gt;
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64)&lt;br/&gt;
	at com.linkedin.emweb.WebappDeployerImpl.start(WebappDeployerImpl.java:333)&lt;br/&gt;
	at com.linkedin.emweb.WebappDeployerImpl.deploy(WebappDeployerImpl.java:187)&lt;br/&gt;
	at com.linkedin.emweb.StateKeeperWebappDeployer.deploy(StateKeeperWebappDeployer.java:75)&lt;br/&gt;
	at com.linkedin.emweb.StateKeeperWebappDeployer.restore(StateKeeperWebappDeployer.java:62)&lt;br/&gt;
	at com.linkedin.emweb.WebappRunner.restoreServerState(WebappRunner.java:171)&lt;br/&gt;
	at com.linkedin.emweb.BaseRunner.start(BaseRunner.java:96)&lt;br/&gt;
	at com.linkedin.spring.cmdline.ServerCmdLineApp.start(ServerCmdLineApp.java:86)&lt;br/&gt;
	at com.linkedin.spring.cmdline.ServerCmdLineApp.doRun(ServerCmdLineApp.java:102)&lt;br/&gt;
	at com.linkedin.spring.cmdline.CmdLineAppRunner.run(CmdLineAppRunner.java:246)&lt;br/&gt;
	at com.linkedin.spring.cmdline.CmdLineAppRunner.main(CmdLineAppRunner.java:480)&lt;/p&gt;

&lt;p&gt;(note - the com.linkedin stuff in the stack trace is from the container we run our applications in and does not affect the operation of the rebalance)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12743567">KAFKA-1648</key>
            <summary>Round robin consumer balance throws an NPE when there are no topics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgharat">Mayuresh Gharat</assignee>
                                    <reporter username="toddpalino">Todd Palino</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Tue, 23 Sep 2014 18:11:55 +0000</created>
                <updated>Fri, 14 Nov 2014 19:15:15 +0000</updated>
                            <resolved>Thu, 9 Oct 2014 23:36:50 +0000</resolved>
                                                    <fixVersion>0.9.0.0</fixVersion>
                                    <component>consumer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14147372" author="nehanarkhede" created="Thu, 25 Sep 2014 05:02:41 +0000"  >&lt;p&gt;Assigning this to Joel for review as he probably has the most context on this feature&lt;/p&gt;</comment>
                            <comment id="14157333" author="mgharat" created="Thu, 2 Oct 2014 22:43:23 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/26291/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/26291/diff/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="14159366" author="mgharat" created="Sun, 5 Oct 2014 00:41:00 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/26291/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/26291/diff/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="14164465" author="mgharat" created="Thu, 9 Oct 2014 00:29:20 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/26291/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/26291/diff/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="14164487" author="mgharat" created="Thu, 9 Oct 2014 00:46:49 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/26291/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/26291/diff/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="14165549" author="mgharat" created="Thu, 9 Oct 2014 18:56:47 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/26291/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/26291/diff/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="14165997" author="jjkoshy" created="Thu, 9 Oct 2014 23:36:50 +0000"  >&lt;p&gt;Committed to trunk&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12672671" name="KAFKA-1648.patch" size="2212" author="mgharat" created="Thu, 2 Oct 2014 22:43:23 +0000"/>
                            <attachment id="12672963" name="KAFKA-1648_2014-10-04_17:40:47.patch" size="3294" author="mgharat" created="Sun, 5 Oct 2014 00:40:59 +0000"/>
                            <attachment id="12673782" name="KAFKA-1648_2014-10-08_17:29:14.patch" size="4551" author="mgharat" created="Thu, 9 Oct 2014 00:29:20 +0000"/>
                            <attachment id="12673788" name="KAFKA-1648_2014-10-08_17:46:45.patch" size="11001" author="mgharat" created="Thu, 9 Oct 2014 00:46:48 +0000"/>
                            <attachment id="12673960" name="KAFKA-1648_2014-10-09_11:56:44.patch" size="13864" author="mgharat" created="Thu, 9 Oct 2014 18:56:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20egn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jjkoshy</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>