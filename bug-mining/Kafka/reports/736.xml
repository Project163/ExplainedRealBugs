<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:44:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-2408] (new) system tests: ConsoleConsumerService occasionally fails to register consumed message</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-2408</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;There have been a few spurious failures in ReplicationTest.test_hard_bounce, where it was reported that a few of the acked messages were not consumed.&lt;/p&gt;

&lt;p&gt;Checking the logs, however, it is clear that they were consumed, but ConsoleConsumerService failed to parse.&lt;/p&gt;

&lt;p&gt;Lines causing parsing failure looks something like:&lt;/p&gt;

&lt;p&gt;779725&lt;span class=&quot;error&quot;&gt;&amp;#91;2015-08-03 07:25:47,757&amp;#93;&lt;/span&gt; ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;ConsumerFetcherThread-console-consumer-78957_ip-172-31-5-20-1438586715191-249db71c-0-1&amp;#93;&lt;/span&gt;, Error for partition &lt;span class=&quot;error&quot;&gt;&amp;#91;test_topic,0&amp;#93;&lt;/span&gt; to broker 1:class kafka.common.NotLeaderForPartitionException (kafka.consumer.ConsumerFetcherThread)&lt;/p&gt;

&lt;p&gt;(i.e. the consumed message, and a log message appear on the same line)&lt;/p&gt;

&lt;p&gt;ConsoleConsumerService simply tries to strip each line of whitespace and parse as an integer, which will clearly fail in this case.&lt;/p&gt;

&lt;p&gt;Solution should either redirect stderr elsewhere or update parsing to handle this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12852344">KAFKA-2408</key>
            <summary>(new) system tests: ConsoleConsumerService occasionally fails to register consumed message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="granders">Geoff Anderson</assignee>
                                    <reporter username="granders">Geoff Anderson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Aug 2015 18:57:01 +0000</created>
                <updated>Thu, 14 Mar 2024 12:02:18 +0000</updated>
                            <resolved>Tue, 11 Aug 2015 22:23:50 +0000</resolved>
                                                    <fixVersion>0.9.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14661403" author="githubbot" created="Fri, 7 Aug 2015 06:43:25 +0000"  >&lt;p&gt;GitHub user granders opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/123&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/123&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2408&quot; title=&quot;(new) system tests: ConsoleConsumerService occasionally fails to register consumed message&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2408&quot;&gt;&lt;del&gt;KAFKA-2408&lt;/del&gt;&lt;/a&gt; ConsoleConsumerService direct log output to file&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/confluentinc/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/confluentinc/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2408&quot; title=&quot;(new) system tests: ConsoleConsumerService occasionally fails to register consumed message&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2408&quot;&gt;&lt;del&gt;KAFKA-2408&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/123.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/123.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #123&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 521a84b6d529d7f97cbb0e4cd099efdc5b88fe13&lt;br/&gt;
Author: Geoff Anderson &amp;lt;geoff@confluent.io&amp;gt;&lt;br/&gt;
Date:   2015-08-07T01:36:26Z&lt;/p&gt;

&lt;p&gt;    Updated console consumer to directo log output directly to file rather than stdout&lt;/p&gt;

&lt;p&gt;commit 8f890441aa755e3d79886b9d72bb572d3aa16fbd&lt;br/&gt;
Author: Geoff Anderson &amp;lt;geoff@confluent.io&amp;gt;&lt;br/&gt;
Date:   2015-08-07T02:44:49Z&lt;/p&gt;

&lt;p&gt;    Added another lifecycle check. Wait for log file to exist before exmaning contents.&lt;/p&gt;

&lt;p&gt;commit af67e01bf0a114701117b069cfde0ba44a43c75c&lt;br/&gt;
Author: Geoff Anderson &amp;lt;geoff@confluent.io&amp;gt;&lt;br/&gt;
Date:   2015-08-07T06:08:55Z&lt;/p&gt;

&lt;p&gt;    Merged in upstream trunk&lt;/p&gt;

&lt;p&gt;commit e67f55423b8da89ec8592fae314e59bd21e585ee&lt;br/&gt;
Author: Geoff Anderson &amp;lt;geoff@confluent.io&amp;gt;&lt;br/&gt;
Date:   2015-08-07T06:25:53Z&lt;/p&gt;

&lt;p&gt;    Changed incorrect license header&lt;/p&gt;

&lt;p&gt;commit 66d6f4f2dc37e1d7f3dc348c1e4e2651a3fceaa1&lt;br/&gt;
Author: Geoff Anderson &amp;lt;geoff@confluent.io&amp;gt;&lt;br/&gt;
Date:   2015-08-07T06:40:38Z&lt;/p&gt;

&lt;p&gt;    lower -&amp;gt; uperrcase constants&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14692379" author="githubbot" created="Tue, 11 Aug 2015 22:23:46 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/123&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/123&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14692380" author="guozhang" created="Tue, 11 Aug 2015 22:23:50 +0000"  >&lt;p&gt;Issue resolved by pull request 123&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/123&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/123&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2idq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>ewencp</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>