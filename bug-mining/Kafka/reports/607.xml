<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:42:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-1948] kafka.api.consumerTests are hanging</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-1948</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Noticed today that very often when I run the full test suite, it hangs on kafka.api.consumerTest (not always same test though). It doesn&apos;t reproduce 100% of the time, but enough to be very annoying.&lt;/p&gt;

&lt;p&gt;I also saw it happening on trunk after &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-1333&quot; title=&quot;Add consumer co-ordinator module to the server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-1333&quot;&gt;&lt;del&gt;KAFKA-1333&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/view/All/job/Kafka-trunk/389/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/All/job/Kafka-trunk/389/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12774463">KAFKA-1948</key>
            <summary>kafka.api.consumerTests are hanging</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="guozhang">Guozhang Wang</assignee>
                                    <reporter username="gwenshap">Gwen Shapira</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Feb 2015 06:54:01 +0000</created>
                <updated>Mon, 4 Aug 2025 00:51:47 +0000</updated>
                            <resolved>Tue, 10 Mar 2015 18:22:04 +0000</resolved>
                                                    <fixVersion>0.9.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14317713" author="gwenshap" created="Thu, 12 Feb 2015 06:54:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=onurkaraman&quot; class=&quot;user-hover&quot; rel=&quot;onurkaraman&quot;&gt;onurkaraman&lt;/a&gt; - since you worked on &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-1333&quot; title=&quot;Add consumer co-ordinator module to the server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-1333&quot;&gt;&lt;del&gt;KAFKA-1333&lt;/del&gt;&lt;/a&gt;, can you check if the hangs are related?&lt;/p&gt;</comment>
                            <comment id="14317722" author="guozhang" created="Thu, 12 Feb 2015 07:03:46 +0000"  >&lt;p&gt;Gwen,&lt;/p&gt;

&lt;p&gt;Just ran locally a few times and I do see this issue coming, will take a look at this asap.&lt;/p&gt;</comment>
                            <comment id="14318311" author="tongli" created="Thu, 12 Feb 2015 14:58:07 +0000"  >&lt;p&gt;Pulled down the latest trunk and run into this problem. It will be nice if someone can take a look. The test does not stuck always at the same place. I did notice there are tons of threads getting created and died. What I did is when the test hung, I ran this command.&lt;/p&gt;

&lt;p&gt;top -H -p &amp;lt;theprocessid of the test java&amp;gt;&lt;/p&gt;

&lt;p&gt;You will notice that many threads come and go. and the state of these threads are always S (meaning sleep). including the parent thread. Not really sure what the deal is.&lt;/p&gt;</comment>
                            <comment id="14318838" author="guozhang" created="Thu, 12 Feb 2015 19:36:25 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/30946/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/30946/diff/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="14318844" author="guozhang" created="Thu, 12 Feb 2015 19:39:06 +0000"  >&lt;p&gt;One issue I found is that in ConsumerTest.testPartitionReassignmentCallback, the shutdown coordinator may also be the leader of the &quot;test&quot; topic partition, and hence consumer cannot shutdown. This issue exist before &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-1333&quot; title=&quot;Add consumer co-ordinator module to the server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-1333&quot;&gt;&lt;del&gt;KAFKA-1333&lt;/del&gt;&lt;/a&gt; but was not exposed.&lt;/p&gt;

&lt;p&gt;I did not see the test hangs on other cases, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt; do you want to apply this patch and see if you still see the test hanging, please let me know the specific test case.&lt;/p&gt;</comment>
                            <comment id="14318939" author="gwenshap" created="Thu, 12 Feb 2015 20:35:55 +0000"  >&lt;p&gt;Applied the patch and the tests are passing! Thank you for the quick solution.&lt;/p&gt;

&lt;p&gt;Non-binding +1 from me, and I hope this will be committed ASAP.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12771573">KAFKA-1910</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12698514" name="KAFKA-1948.patch" size="2399" author="guozhang" created="Thu, 12 Feb 2015 19:36:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25ixr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>