<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:41:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-17960] PlaintextAdminIntegrationTest.testConsumerGroups fails with CONSUMER group protocol</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-17960</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;When executing the &lt;tt&gt;PlaintextAdminIntegrationTest&lt;/tt&gt;&apos;s &lt;tt&gt;testConsumerGroups()&lt;/tt&gt; using the &lt;tt&gt;CONSUMER&lt;/tt&gt; group protocol, it fails with the error:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;font color=&quot;#FF0000&quot;&gt;Expected the offset for partition 0 to eventually become 1.&lt;/font&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13598141">KAFKA-17960</key>
            <summary>PlaintextAdminIntegrationTest.testConsumerGroups fails with CONSUMER group protocol</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dajac">David Jacot</assignee>
                                    <reporter username="kirktrue">Kirk True</reporter>
                        <labels>
                            <label>integration-test</label>
                            <label>kip-848-client-support</label>
                    </labels>
                <created>Fri, 8 Nov 2024 00:10:29 +0000</created>
                <updated>Tue, 17 Dec 2024 19:10:02 +0000</updated>
                            <resolved>Tue, 17 Dec 2024 19:10:02 +0000</resolved>
                                    <version>3.9.0</version>
                                    <fixVersion>4.0.0</fixVersion>
                                    <component>admin</component>
                    <component>clients</component>
                    <component>consumer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17896583" author="JIRAUSER303691" created="Fri, 8 Nov 2024 07:12:36 +0000"  >&lt;p&gt;I&apos;ll try to fix it&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17901741" author="JIRAUSER300183" created="Thu, 28 Nov 2024 14:37:36 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=linsiyuan&quot; class=&quot;user-hover&quot; rel=&quot;linsiyuan&quot;&gt;linsiyuan&lt;/a&gt; , I just liked a Jira that I suspect may be behind this failure, let&apos;s follow that one and see if it&apos;s all that&apos;s needed for this to pass. Thanks!&lt;/p&gt;</comment>
                            <comment id="17903789" author="kirktrue" created="Sat, 7 Dec 2024 02:40:27 +0000"  >&lt;p&gt;It doesn&apos;t appear that &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-18116&quot; title=&quot;Admin LeaveGroup fails for static consumer group member &quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-18116&quot;&gt;&lt;del&gt;KAFKA-18116&lt;/del&gt;&lt;/a&gt; fixed this. I just re-ran the test (locally) against &lt;tt&gt;trunk&lt;/tt&gt; and I get this error:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.IllegalArgumentException: Member &quot;MemberIdentity(memberId=&apos;&apos;, groupInstanceId=&apos;test_instance_id_1&apos;, reason=null)&quot; was not included in the removal response
java.util.concurrent.ExecutionException: java.lang.IllegalArgumentException: Member &quot;MemberIdentity(memberId=&apos;&apos;, groupInstanceId=&apos;test_instance_id_1&apos;, reason=null)&quot; was not included in the removal response
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)
	at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:155)
	at kafka.api.PlaintextAdminIntegrationTest.testConsumerGroups(PlaintextAdminIntegrationTest.scala:2004)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
Caused by: java.lang.IllegalArgumentException: Member &quot;MemberIdentity(memberId=&apos;&apos;, groupInstanceId=&apos;test_instance_id_1&apos;, reason=null)&quot; was not included in the removal response
	at org.apache.kafka.clients.admin.KafkaAdminClient.getSubLevelError(KafkaAdminClient.java:5006)
	at org.apache.kafka.clients.admin.RemoveMembersFromConsumerGroupResult.maybeCompleteExceptionally(RemoveMembersFromConsumerGroupResult.java:103)
	at org.apache.kafka.clients.admin.RemoveMembersFromConsumerGroupResult.lambda$all$0(RemoveMembersFromConsumerGroupResult.java:67)
	at org.apache.kafka.common.internals.KafkaFutureImpl.lambda$whenComplete$2(KafkaFutureImpl.java:97)
	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
	at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)
	at org.apache.kafka.common.internals.KafkaCompletableFuture.kafkaComplete(KafkaCompletableFuture.java:39)
	at org.apache.kafka.common.internals.KafkaFutureImpl.complete(KafkaFutureImpl.java:112)
	at org.apache.kafka.clients.admin.internals.AdminApiFuture$SimpleAdminApiFuture.complete(AdminApiFuture.java:120)
	at java.base/java.util.Collections$SingletonMap.forEach(Collections.java:5061)
	at java.base/java.util.Collections$UnmodifiableMap.forEach(Collections.java:1553)
	at org.apache.kafka.clients.admin.internals.AdminApiFuture$SimpleAdminApiFuture.complete(AdminApiFuture.java:116)
	at org.apache.kafka.clients.admin.internals.AdminApiDriver.complete(AdminApiDriver.java:192)
	at org.apache.kafka.clients.admin.internals.AdminApiDriver.onResponse(AdminApiDriver.java:236)
	at org.apache.kafka.clients.admin.KafkaAdminClient$38.handleResponse(KafkaAdminClient.java:4957)
	at org.apache.kafka.clients.admin.KafkaAdminClient$AdminClientRunnable.handleResponses(KafkaAdminClient.java:1417)
	at org.apache.kafka.clients.admin.KafkaAdminClient$AdminClientRunnable.processRequests(KafkaAdminClient.java:1571)
	at org.apache.kafka.clients.admin.KafkaAdminClient$AdminClientRunnable.run(KafkaAdminClient.java:1494)
	at java.base/java.lang.Thread.run(Thread.java:840)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17904239" author="JIRAUSER300183" created="Mon, 9 Dec 2024 18:16:44 +0000"  >&lt;p&gt;This one is a hurdle race. The issue with the leave group has been fixed, now the test fails on another step, deleting members, linked a Jira that may be related. (This test does lots of different operations on consumer groups via admin, lets check again once the delete issue is fixed)&lt;/p&gt;</comment>
                            <comment id="17904745" author="dajac" created="Wed, 11 Dec 2024 09:38:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=linsiyuan&quot; class=&quot;user-hover&quot; rel=&quot;linsiyuan&quot;&gt;linsiyuan&lt;/a&gt; Now that I have merged &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-18188&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/KAFKA-18188&lt;/a&gt;, this test should work. Could you please check?&lt;/p&gt;</comment>
                            <comment id="17904798" author="JIRAUSER300183" created="Wed, 11 Dec 2024 13:45:08 +0000"  >&lt;p&gt;I validated locally and the test now passes consistently, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dajac&quot; class=&quot;user-hover&quot; rel=&quot;dajac&quot;&gt;dajac&lt;/a&gt; ! I can enable it in a next PR if &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=linsiyuan&quot; class=&quot;user-hover&quot; rel=&quot;linsiyuan&quot;&gt;linsiyuan&lt;/a&gt; you&apos;re not on it before. Thanks!&lt;/p&gt;</comment>
                            <comment id="17904889" author="dajac" created="Wed, 11 Dec 2024 18:09:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lianetm&quot; class=&quot;user-hover&quot; rel=&quot;lianetm&quot;&gt;lianetm&lt;/a&gt; Great! &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=linsiyuan&quot; class=&quot;user-hover&quot; rel=&quot;linsiyuan&quot;&gt;linsiyuan&lt;/a&gt; Could you raise a PR to re-enable it?&lt;/p&gt;</comment>
                            <comment id="17906456" author="dajac" created="Tue, 17 Dec 2024 16:13:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=linsiyuan&quot; class=&quot;user-hover&quot; rel=&quot;linsiyuan&quot;&gt;linsiyuan&lt;/a&gt; Hey. I am sorry but as we are under pressure for the 4.0 release, I raised a small PR to re-enable this test. I hope that you don&apos;t mind.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13601379">KAFKA-18188</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="13600315">KAFKA-18116</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1sg88:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>