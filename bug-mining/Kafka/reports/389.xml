<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:39:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-1200] inconsistent log levels when consumed offset is reset</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-1200</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;I&apos;ve recently been dealing with the issue where my consumer falls behind and essentially loses data when the broker deletes data, due to it&apos;s retention policy.&lt;/p&gt;

&lt;p&gt;On the broker, this is logged as an ERROR:&lt;/p&gt;

&lt;p&gt;2013-12-23 05:02:08,456 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;kafka-request-handler-2&amp;#93;&lt;/span&gt; server.KafkaApis - &lt;span class=&quot;error&quot;&gt;&amp;#91;KafkaApi-45&amp;#93;&lt;/span&gt; Error when processing fetch request for partition &lt;span class=&quot;error&quot;&gt;&amp;#91;mytopic,0&amp;#93;&lt;/span&gt; offset 204243601 from consumer with correlation id 130341&lt;br/&gt;
kafka.common.OffsetOutOfRangeException: Request for offset 204243601 but we only have log segments in the range 204343397 to 207423640.&lt;/p&gt;

&lt;p&gt;But on the consumer, this same event is logged as a WARN:&lt;/p&gt;

&lt;p&gt;2013-12-23 05:02:08,797  WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;ConsumerFetcherThread-myconsumergroup-1387353494862-7aa0c61d-0-45&amp;#93;&lt;/span&gt; consumer.ConsumerFetcherThread - &lt;span class=&quot;error&quot;&gt;&amp;#91;ConsumerFetcherThread-myconsumergroup-1387353494862-7aa0c61d-0-45&amp;#93;&lt;/span&gt;, Current offset 204243601 for partition &lt;span class=&quot;error&quot;&gt;&amp;#91;mytopic,0&amp;#93;&lt;/span&gt; out of range; reset offset to 204343397&lt;/p&gt;

&lt;p&gt;It seems this should also be an ERROR condition (it would seem the consumer would care more about this than the broker, at least!).&lt;/p&gt;

&lt;p&gt;Also, sometimes (but not always) there is also this log message on the consumer, which does log as an ERROR (I&apos;m not sure why this log line doesn&apos;t always appear after the above WARN?):&lt;/p&gt;

&lt;p&gt;2014-01-08 02:31:47,681 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;myconsumerthread-0&amp;#93;&lt;/span&gt;&lt;br/&gt;
consumer.ConsumerIterator - consumed offset: 16163904970 doesn&apos;t match&lt;br/&gt;
fetch offset: 16175326044 for mytopic:0: fetched offset = 16175330598:&lt;br/&gt;
consumed offset = 16163904970;&lt;br/&gt;
 Consumer may lose data&lt;/p&gt;

&lt;p&gt;In this message, there is the &quot;Consumer may lose data&quot; message, which makes sense.  Seems the fetcher thread above should also log something like that, and be an ERROR.&lt;/p&gt;

&lt;p&gt;This would allow for more consistent alerting, in this case.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12687802">KAFKA-1200</key>
            <summary>inconsistent log levels when consumed offset is reset</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nehanarkhede">Neha Narkhede</assignee>
                                    <reporter username="jbrosenberg@gmail.com">Jason Rosenberg</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jan 2014 04:53:49 +0000</created>
                <updated>Tue, 14 Jan 2014 02:16:56 +0000</updated>
                            <resolved>Tue, 14 Jan 2014 02:16:56 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.1</fixVersion>
                                    <component>consumer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13865554" author="joestein" created="Wed, 8 Jan 2014 15:31:29 +0000"  >&lt;p&gt;the consumer should log the error too, yeah.  should be able to patch this too if no one else is already working on it&lt;/p&gt;</comment>
                            <comment id="13869466" author="dima pekar" created="Mon, 13 Jan 2014 12:58:28 +0000"  >&lt;p&gt;Provided patch that changes log level (several occurrences) to from warn to error inside kafka.server.AbstractFetcherThread#processFetchRequest method.&lt;/p&gt;</comment>
                            <comment id="13870302" author="joestein" created="Tue, 14 Jan 2014 02:16:24 +0000"  >&lt;p&gt;+1, committing to trunk&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12622618" name="KAFKA-1200.patch" size="3138" author="Dima Pekar" created="Mon, 13 Jan 2014 12:58:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1r873:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>367117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>