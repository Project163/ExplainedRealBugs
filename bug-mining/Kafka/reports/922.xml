<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:52:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-3134] Missing required configuration &quot;value.deserializer&quot; when initializing a KafkaConsumer with a valid &quot;valueDeserializer&quot;</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-3134</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;I tried to initialize a KafkaConsumer object using with a null keyDeserializer and a non-null valueDeserializer:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; KafkaConsumer(Properties properties, Deserializer&amp;lt;K&amp;gt; keyDeserializer,
                         Deserializer&amp;lt;V&amp;gt; valueDeserializer)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then I got an exception as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: org.apache.kafka.common.config.ConfigException: Missing required configuration &lt;span class=&quot;code-quote&quot;&gt;&quot;value.deserializer&quot;&lt;/span&gt; which has no &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value.
	at org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:148)
	at org.apache.kafka.common.config.AbstractConfig.&amp;lt;init&amp;gt;(AbstractConfig.java:49)
	at org.apache.kafka.common.config.AbstractConfig.&amp;lt;init&amp;gt;(AbstractConfig.java:56)
	at org.apache.kafka.clients.consumer.ConsumerConfig.&amp;lt;init&amp;gt;(ConsumerConfig.java:336)
	at org.apache.kafka.clients.consumer.KafkaConsumer.&amp;lt;init&amp;gt;(KafkaConsumer.java:518)
	.....
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then I went to ConsumerConfig.java file and found this block of code causing the problem:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; addDeserializerToConfig(Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; configs,
                                                              Deserializer&amp;lt;?&amp;gt; keyDeserializer,
                                                              Deserializer&amp;lt;?&amp;gt; valueDeserializer) {
        Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; newConfigs = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;();
        newConfigs.putAll(configs);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (keyDeserializer != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
            newConfigs.put(KEY_DESERIALIZER_CLASS_CONFIG, keyDeserializer.getClass());
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (keyDeserializer != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
            newConfigs.put(VALUE_DESERIALIZER_CLASS_CONFIG, valueDeserializer.getClass());
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; newConfigs;
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Properties addDeserializerToConfig(Properties properties,
                                                     Deserializer&amp;lt;?&amp;gt; keyDeserializer,
                                                     Deserializer&amp;lt;?&amp;gt; valueDeserializer) {
        Properties newProperties = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Properties();
        newProperties.putAll(properties);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (keyDeserializer != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
            newProperties.put(KEY_DESERIALIZER_CLASS_CONFIG, keyDeserializer.getClass().getName());
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (keyDeserializer != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
            newProperties.put(VALUE_DESERIALIZER_CLASS_CONFIG, valueDeserializer.getClass().getName());
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; newProperties;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Instead of checking valueDeserializer, the code checks keyDeserializer every time. So when keyDeserializer is null but valueDeserializer is not, the valueDeserializer property will never get set. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12933426">KAFKA-3134</key>
            <summary>Missing required configuration &quot;value.deserializer&quot; when initializing a KafkaConsumer with a valid &quot;valueDeserializer&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yying1">Yifan Ying</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jan 2016 19:07:08 +0000</created>
                <updated>Sun, 24 Jan 2016 09:56:12 +0000</updated>
                            <resolved>Sun, 24 Jan 2016 09:56:12 +0000</resolved>
                                    <version>0.9.0.0</version>
                                    <fixVersion>0.9.0.1</fixVersion>
                    <fixVersion>0.10.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15112919" author="githubbot" created="Fri, 22 Jan 2016 19:25:56 +0000"  >&lt;p&gt;GitHub user happymap opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/803&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3134&quot; title=&quot;Missing required configuration &amp;quot;value.deserializer&amp;quot; when initializing a KafkaConsumer with a valid &amp;quot;valueDeserializer&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3134&quot;&gt;&lt;del&gt;KAFKA-3134&lt;/del&gt;&lt;/a&gt;: Fix missing value.deserializer error during KafkaConsumer&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230; initialization&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/happymap/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/happymap/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3134&quot; title=&quot;Missing required configuration &amp;quot;value.deserializer&amp;quot; when initializing a KafkaConsumer with a valid &amp;quot;valueDeserializer&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3134&quot;&gt;&lt;del&gt;KAFKA-3134&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/803.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/803.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #803&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 1afc67d4d944486dc8fb6361922a7e7a8b573ad5&lt;br/&gt;
Author: Yifan Ying &amp;lt;yying@fitbit.com&amp;gt;&lt;br/&gt;
Date:   2016-01-22T19:24:02Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3134&quot; title=&quot;Missing required configuration &amp;quot;value.deserializer&amp;quot; when initializing a KafkaConsumer with a valid &amp;quot;valueDeserializer&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3134&quot;&gt;&lt;del&gt;KAFKA-3134&lt;/del&gt;&lt;/a&gt;: Fix missing value.deserializer error during KafkaConsumer initialization&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15114255" author="githubbot" created="Sun, 24 Jan 2016 09:56:09 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/803&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/803&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15114256" author="ewencp" created="Sun, 24 Jan 2016 09:56:12 +0000"  >&lt;p&gt;Issue resolved by pull request 803&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/803&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/803&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ruxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>