<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:25:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-10192] Flaky test BlockingConnectorTest#testBlockInConnectorStop</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-10192</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;h3&gt;&lt;a name=&quot;https%3A%2F%2Fbuilds.apache.org%2Fjob%2Fkafkaprjdk14scal...&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk14-scala2.13/1218/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk14-scala2.13/1218/&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a name=&quot;ErrorMessage&quot;&gt;&lt;/a&gt;Error Message&lt;/h3&gt;

&lt;p&gt;org.apache.kafka.connect.runtime.rest.errors.ConnectRestException: Could not execute PUT request. Error response: {&quot;error_code&quot;:500,&quot;message&quot;:&quot;Request timed out&quot;}&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;Stacktrace&quot;&gt;&lt;/a&gt;Stacktrace&lt;/h3&gt;

&lt;p&gt;org.apache.kafka.connect.runtime.rest.errors.ConnectRestException: Could not execute PUT request. Error response: {&quot;error_code&quot;:500,&quot;message&quot;:&quot;Request timed out&quot;} at org.apache.kafka.connect.util.clusters.EmbeddedConnectCluster.putConnectorConfig(EmbeddedConnectCluster.java:346) at org.apache.kafka.connect.util.clusters.EmbeddedConnectCluster.configureConnector(EmbeddedConnectCluster.java:300) at org.apache.kafka.connect.integration.BlockingConnectorTest.createConnectorWithBlock(BlockingConnectorTest.java:185) at org.apache.kafka.connect.integration.BlockingConnectorTest.testBlockInConnectorStop(BlockingConnectorTest.java:140) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:564) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63) at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329) at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293) at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306) at org.junit.runners.ParentRunner.run(ParentRunner.java:413) at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110) at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58) at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38) at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62) at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:564) at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94) at com.sun.proxy.$Proxy2.processTestClass(Unknown Source) at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:564) at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182) at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164) at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414) at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64) at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56) at java.base/java.lang.Thread.run(Thread.java:830)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13312912">KAFKA-10192</key>
            <summary>Flaky test BlockingConnectorTest#testBlockInConnectorStop</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="showuon">Luke Chen</assignee>
                                    <reporter username="bchen225242">Boyang Chen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Jun 2020 21:29:49 +0000</created>
                <updated>Tue, 9 Mar 2021 18:35:28 +0000</updated>
                            <resolved>Tue, 9 Mar 2021 18:35:28 +0000</resolved>
                                                    <fixVersion>2.5.2</fixVersion>
                    <fixVersion>2.6.1</fixVersion>
                    <fixVersion>2.7.1</fixVersion>
                    <fixVersion>2.8.0</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17143052" author="bchen225242" created="Tue, 23 Jun 2020 15:36:19 +0000"  >&lt;p&gt;Failed again:&#160;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk14-scala2.13/1225/testReport/junit/org.apache.kafka.connect.integration/BlockingConnectorTest/testBlockInConnectorStop/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk14-scala2.13/1225/testReport/junit/org.apache.kafka.connect.integration/BlockingConnectorTest/testBlockInConnectorStop/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17143092" author="chrisegerton" created="Tue, 23 Jun 2020 16:36:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bchen225242&quot; class=&quot;user-hover&quot; rel=&quot;bchen225242&quot;&gt;bchen225242&lt;/a&gt;&#160;I have a hypothesis for why these tests are failing but I cannot reproduce locally and the Jenkins logs I&apos;ve been able to find are incomplete (based on lines like &quot;&lt;tt&gt;...&lt;span class=&quot;error&quot;&gt;&amp;#91;truncated 2495514 chars&amp;#93;&lt;/span&gt;...&quot;&lt;/tt&gt;). Is there a way to get complete logs for this test from Jenkins?&lt;/p&gt;</comment>
                            <comment id="17143135" author="chrisegerton" created="Tue, 23 Jun 2020 17:22:41 +0000"  >&lt;p&gt;I think what might be happening is that the worker is taking too long to initialize and the first request &lt;a href=&quot;https://github.com/apache/kafka/blob/14137def712a43b5bbbf02b067f2b1d4a12926b6/connect/runtime/src/test/java/org/apache/kafka/connect/integration/BlockingConnectorTest.java#L140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;to create a connector&lt;/a&gt;&#160;is timing out. This isn&apos;t a problem in other integration tests because the REST request timeout for Connect is 90 seconds, but that timeout is &lt;a href=&quot;https://github.com/apache/kafka/blob/14137def712a43b5bbbf02b067f2b1d4a12926b6/connect/runtime/src/test/java/org/apache/kafka/connect/integration/BlockingConnectorTest.java#L66-L67&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;artificially reduced&lt;/a&gt;&#160;for these tests since some requests are supposed to time out and minute-and-a-half-long integration tests would be painful to deal with.&lt;/p&gt;

&lt;p&gt;This is impossible to verify without either a reproduction or complete logs from the test run, though, and I can&apos;t reproduce locally.&lt;/p&gt;</comment>
                            <comment id="17145556" author="chrisegerton" created="Thu, 25 Jun 2020 17:25:57 +0000"  >&lt;p&gt;Attempted a fix with&#160;&lt;a href=&quot;https://github.com/apache/kafka/pull/8928&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/8928&lt;/a&gt;. If I can get some assistance from anyone with access to Jenkins to try to verify the effectiveness of that fix, that&apos;d be great.&lt;/p&gt;</comment>
                            <comment id="17283512" author="showuon" created="Fri, 12 Feb 2021 05:44:38 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Stacktraceorg.opentest4j.AssertionFailedError: Condition not met within timeout 30000. Worker did not complete startup in time ==&amp;gt; expected: &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;gt; but was: &amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;gt;
	at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:40)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:193)
	at org.apache.kafka.test.TestUtils.lambda$waitForCondition$3(TestUtils.java:303)
	at org.apache.kafka.test.TestUtils.retryOnExceptionWithTimeout(TestUtils.java:351)
	at org.apache.kafka.test.TestUtils.retryOnExceptionWithTimeout(TestUtils.java:319)
	at org.apache.kafka.test.TestUtils.waitForCondition(TestUtils.java:300)
	at org.apache.kafka.test.TestUtils.waitForCondition(TestUtils.java:290)
	at org.apache.kafka.connect.integration.BlockingConnectorTest.setup(BlockingConnectorTest.java:133)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17283513" author="showuon" created="Fri, 12 Feb 2021 05:45:31 +0000"  >&lt;p&gt;Error happened in tests in BlockingConnectorTests.&lt;/p&gt;

&lt;p&gt;ex: &lt;a href=&quot;https://ci-builds.apache.org/job/Kafka/job/kafka-trunk-jdk8/475/testReport/junit/org.apache.kafka.connect.integration/BlockingConnectorTest/testBlockInConnectorStop/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Kafka/job/kafka-trunk-jdk8/475/testReport/junit/org.apache.kafka.connect.integration/BlockingConnectorTest/testBlockInConnectorStop/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ci-builds.apache.org/job/Kafka/job/kafka-trunk-jdk8/475/testReport/junit/org.apache.kafka.connect.integration/BlockingConnectorTest/testBlockInConnectorConfig/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Kafka/job/kafka-trunk-jdk8/475/testReport/junit/org.apache.kafka.connect.integration/BlockingConnectorTest/testBlockInConnectorConfig/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;\&lt;/p&gt;</comment>
                            <comment id="17286776" author="mjsax" created="Fri, 19 Feb 2021 00:01:29 +0000"  >&lt;p&gt;Failed in setup:&#160;&lt;a href=&quot;https://github.com/apache/kafka/pull/10134/checks?check_run_id=1915517987&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/10134/checks?check_run_id=1915517987&lt;/a&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&#160;{{org.opentest4j.AssertionFailedError: Condition not met within timeout 30000. Worker did not complete startup in time ==&amp;gt; expected: &amp;lt;true&amp;gt; but was: &amp;lt;false&amp;gt;&lt;br/&gt;
	at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)&lt;br/&gt;
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:40)&lt;br/&gt;
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:193)&lt;br/&gt;
	at org.apache.kafka.test.TestUtils.lambda$waitForCondition$3(TestUtils.java:303)&lt;br/&gt;
	at org.apache.kafka.test.TestUtils.retryOnExceptionWithTimeout(TestUtils.java:351)&lt;br/&gt;
	at org.apache.kafka.test.TestUtils.retryOnExceptionWithTimeout(TestUtils.java:319)&lt;br/&gt;
	at org.apache.kafka.test.TestUtils.waitForCondition(TestUtils.java:300)&lt;br/&gt;
	at org.apache.kafka.test.TestUtils.waitForCondition(TestUtils.java:290)&lt;br/&gt;
	at org.apache.kafka.connect.integration.BlockingConnectorTest.setup(BlockingConnectorTest.java:133)}}&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="17298108" author="chrisegerton" created="Tue, 9 Mar 2021 15:06:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mjsax&quot; class=&quot;user-hover&quot; rel=&quot;mjsax&quot;&gt;mjsax&lt;/a&gt;&#160;FYI, there&apos;s a PR up for this from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=showuon&quot; class=&quot;user-hover&quot; rel=&quot;showuon&quot;&gt;showuon&lt;/a&gt;&#160;if you have time for a quick one-liner: &lt;a href=&quot;https://github.com/apache/kafka/pull/10118&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/10118&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I think the change is described and justified in the PR well-enough that you might be able to review, even if you&apos;re not very familiar with Connect.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0g3o0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>rhauch</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>