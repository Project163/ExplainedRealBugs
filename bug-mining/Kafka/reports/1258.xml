<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:57:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-3703] Handle close gracefully for consumers and producers with acks=0</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-3703</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Outgoing writes may be discarded when a connection is closed. For instance, when running a producer with acks=0, a producer that writes data and closes the producer would expect to see all writes to complete if there are no errors. But close() simply closes the channel and socket which could result in outgoing data being discarded.&lt;/p&gt;

&lt;p&gt;This is also an issue in consumers which use commitAsync to commit offsets. Closing the consumer may result in commits being discarded because writes have not completed before close().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12967478">KAFKA-3703</key>
            <summary>Handle close gracefully for consumers and producers with acks=0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsivaram">Rajini Sivaram</assignee>
                                    <reporter username="rsivaram">Rajini Sivaram</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 May 2016 16:05:10 +0000</created>
                <updated>Sat, 19 Nov 2016 09:41:29 +0000</updated>
                            <resolved>Sat, 19 Nov 2016 09:41:28 +0000</resolved>
                                    <version>0.10.0.1</version>
                                    <fixVersion>0.10.2.0</fixVersion>
                                    <component>clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15457896" author="githubbot" created="Fri, 2 Sep 2016 08:15:15 +0000"  >&lt;p&gt;GitHub user rajinisivaram opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1817&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1817&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3703&quot; title=&quot;Handle close gracefully for consumers and producers with acks=0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3703&quot;&gt;&lt;del&gt;KAFKA-3703&lt;/del&gt;&lt;/a&gt;: Flush outgoing writes before closing client selector&lt;/p&gt;

&lt;p&gt;    Close client connections only after outgoing writes complete or timeout.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rajinisivaram/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rajinisivaram/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3703&quot; title=&quot;Handle close gracefully for consumers and producers with acks=0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3703&quot;&gt;&lt;del&gt;KAFKA-3703&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1817.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1817.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1817&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 50f009bebe0beaf55cb5e00f9db8fcb626f1399a&lt;br/&gt;
Author: Rajini Sivaram &amp;lt;rajinisivaram@googlemail.com&amp;gt;&lt;br/&gt;
Date:   2016-09-02T07:55:49Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3703&quot; title=&quot;Handle close gracefully for consumers and producers with acks=0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3703&quot;&gt;&lt;del&gt;KAFKA-3703&lt;/del&gt;&lt;/a&gt;: Flush outgoing writes before closing client selector&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15470071" author="githubbot" created="Wed, 7 Sep 2016 08:58:29 +0000"  >&lt;p&gt;Github user rajinisivaram closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1817&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1817&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15474933" author="githubbot" created="Thu, 8 Sep 2016 20:40:47 +0000"  >&lt;p&gt;GitHub user rajinisivaram opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1836&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1836&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3703&quot; title=&quot;Handle close gracefully for consumers and producers with acks=0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3703&quot;&gt;&lt;del&gt;KAFKA-3703&lt;/del&gt;&lt;/a&gt;: Graceful close for consumers and producer with acks=0&lt;/p&gt;

&lt;p&gt;    Process requests received from channels before they were closed. For consumers, wait for coordinator requests to complete before returning from close.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rajinisivaram/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rajinisivaram/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3703&quot; title=&quot;Handle close gracefully for consumers and producers with acks=0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3703&quot;&gt;&lt;del&gt;KAFKA-3703&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1836.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1836.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1836&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 44ac2327c9c6b66de702fccf0b3c9cabcd8bc25b&lt;br/&gt;
Author: Rajini Sivaram &amp;lt;rajinisivaram@googlemail.com&amp;gt;&lt;br/&gt;
Date:   2016-09-02T07:55:49Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3703&quot; title=&quot;Handle close gracefully for consumers and producers with acks=0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3703&quot;&gt;&lt;del&gt;KAFKA-3703&lt;/del&gt;&lt;/a&gt;: Graceful close for consumers and producer with acks=0&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15678939" author="githubbot" created="Sat, 19 Nov 2016 09:35:25 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1836&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1836&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2xl27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>