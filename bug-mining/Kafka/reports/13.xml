<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:34:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-117] The FetcherRunnable busy waits on empty fetch requests </title>
                <link>https://issues.apache.org/jira/browse/KAFKA-117</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;The FetcherRunnable busy waits on empty fetch requests by skipping the backoff logic. This can fill up the disk space due to the public access log being filled up. Also the CPU usage shoots up to 100%. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12519882">KAFKA-117</key>
            <summary>The FetcherRunnable busy waits on empty fetch requests </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nehanarkhede">Neha Narkhede</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Aug 2011 21:42:40 +0000</created>
                <updated>Tue, 13 Sep 2011 01:30:02 +0000</updated>
                            <resolved>Tue, 13 Sep 2011 01:30:02 +0000</resolved>
                                    <version>0.7</version>
                                    <fixVersion>0.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13089794" author="nehanarkhede" created="Tue, 23 Aug 2011 21:49:42 +0000"  >&lt;p&gt;The bug was in the shallowValidBytes logic where it returns a negative value when dealing with an empty fetch request.&lt;/p&gt;

&lt;p&gt;Corrected the logic of shallowValidBytes to return 0 when there is no data in the ByteBufferMessageSet created from an empty fetch request.&lt;/p&gt;</comment>
                            <comment id="13089864" author="junrao" created="Tue, 23 Aug 2011 23:21:00 +0000"  >&lt;p&gt;We probably should just have a method validBytes that returns the valid bytes in the original message (ie, if the message is compressed, the bytes refer to the compressed bytes). There is no real need for knowing the total valid bytes on a compressed message set.&lt;/p&gt;</comment>
                            <comment id="13089889" author="nehanarkhede" created="Wed, 24 Aug 2011 00:18:45 +0000"  >&lt;p&gt;I think your suggestion makes sense. The deepValidBytes method is useless and never used, even by the unit tests. It is better to have just a single API for calculating valid bytes.&lt;/p&gt;</comment>
                            <comment id="13089892" author="nehanarkhede" created="Wed, 24 Aug 2011 00:21:34 +0000"  >&lt;p&gt;Deleted the deepValidBytes API. Made the shallowValidBytes API private and had the validBytes API point to shallowValidBytes.&lt;/p&gt;

&lt;p&gt;validBytes() API will always give you the number of compressed bytes in the ByteBufferMessageSet, if it is compressed. &lt;/p&gt;</comment>
                            <comment id="13089921" author="nehanarkhede" created="Wed, 24 Aug 2011 00:59:22 +0000"  >&lt;p&gt;Includes all changes from v2 patch + a unit test to cover the valid bytes for empty message sets&lt;/p&gt;</comment>
                            <comment id="13089924" author="junrao" created="Wed, 24 Aug 2011 01:05:45 +0000"  >&lt;p&gt;+1 on v3.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12491421" name="KAFKA-117-v2.patch" size="2953" author="nehanarkhede" created="Wed, 24 Aug 2011 00:21:34 +0000"/>
                            <attachment id="12491427" name="KAFKA-117-v3.patch" size="4482" author="nehanarkhede" created="Wed, 24 Aug 2011 00:59:22 +0000"/>
                            <attachment id="12491393" name="KAFKA-117.patch" size="574" author="nehanarkhede" created="Tue, 23 Aug 2011 21:49:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i15z0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>