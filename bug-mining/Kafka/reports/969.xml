<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:53:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-3233] Per topic consumer metrics missing in new consumer&apos;s metrics reporter</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-3233</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;In version of 0.8.2.1, the old consumer will provide the metrics reporter per-topic consumer metrics under group &apos;ConsumerTopicMetrics&apos;. For example:&lt;/p&gt;

&lt;p&gt;*.ConsumerTopicMetrics.clientId.&lt;span class=&quot;error&quot;&gt;&amp;#91;topic name&amp;#93;&lt;/span&gt;.BytesPerSec.count&lt;br/&gt;
*.ConsumerTopicMetrics.clientId.&lt;span class=&quot;error&quot;&gt;&amp;#91;topic name&amp;#93;&lt;/span&gt;.MessagesPerSec.count&lt;/p&gt;

&lt;p&gt;These consumer metrics are useful since it provides consumer rate for each topic. But the new consumer(0.9.0.0) doesn&apos;t expose per topic metrics anymore, even though I did find sensor objects in consumer metrics object collecting per-topic metrics. &lt;/p&gt;

&lt;p&gt;After investigation, I found that these sensors don&apos;t register any KafkaMetrics.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12938643">KAFKA-3233</key>
            <summary>Per topic consumer metrics missing in new consumer&apos;s metrics reporter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yying1">Yifan Ying</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Feb 2016 23:13:19 +0000</created>
                <updated>Mon, 7 Mar 2016 19:18:46 +0000</updated>
                            <resolved>Sat, 5 Mar 2016 23:17:54 +0000</resolved>
                                                    <fixVersion>0.10.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15143684" author="githubbot" created="Thu, 11 Feb 2016 23:17:30 +0000"  >&lt;p&gt;GitHub user happymap opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/905&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/905&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3233&quot; title=&quot;Per topic consumer metrics missing in new consumer&amp;#39;s metrics reporter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3233&quot;&gt;&lt;del&gt;KAFKA-3233&lt;/del&gt;&lt;/a&gt;: expose per topic consumer metrics to metrics reporter&lt;/p&gt;

&lt;p&gt;    In version of 0.8.2.1, the old consumer will provide the metrics reporter per-topic consumer metrics under group &apos;ConsumerTopicMetrics&apos;. For example:&lt;/p&gt;

&lt;p&gt;    *.ConsumerTopicMetrics.clientId.&lt;span class=&quot;error&quot;&gt;&amp;#91;topic name&amp;#93;&lt;/span&gt;.BytesPerSec.count&lt;br/&gt;
    *.ConsumerTopicMetrics.clientId.&lt;span class=&quot;error&quot;&gt;&amp;#91;topic name&amp;#93;&lt;/span&gt;.MessagesPerSec.count&lt;/p&gt;

&lt;p&gt;    These consumer metrics are useful since it provides consumer rate for each topic. But the new consumer(0.9.0.0) doesn&apos;t expose per topic metrics anymore, even though I did find sensor objects in consumer metrics object collecting per-topic metrics.&lt;/p&gt;

&lt;p&gt;    After investigation, I found that these sensors don&apos;t register any KafkaMetrics.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/happymap/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/happymap/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3233&quot; title=&quot;Per topic consumer metrics missing in new consumer&amp;#39;s metrics reporter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3233&quot;&gt;&lt;del&gt;KAFKA-3233&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/905.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/905.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #905&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b813a7cc48963ae2e1aa8f25362811fcaed28f10&lt;br/&gt;
Author: Yifan Ying &amp;lt;yying@fitbit.com&amp;gt;&lt;br/&gt;
Date:   2016-02-11T23:15:16Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3233&quot; title=&quot;Per topic consumer metrics missing in new consumer&amp;#39;s metrics reporter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3233&quot;&gt;&lt;del&gt;KAFKA-3233&lt;/del&gt;&lt;/a&gt;: expose per topic consumer metrics to metrics reporter&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15154611" author="githubbot" created="Fri, 19 Feb 2016 18:34:34 +0000"  >&lt;p&gt;Github user happymap closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/905&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/905&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15154624" author="githubbot" created="Fri, 19 Feb 2016 18:39:02 +0000"  >&lt;p&gt;GitHub user happymap opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/939&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3233&quot; title=&quot;Per topic consumer metrics missing in new consumer&amp;#39;s metrics reporter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3233&quot;&gt;&lt;del&gt;KAFKA-3233&lt;/del&gt;&lt;/a&gt;: expose consumer per-topic metrics&lt;/p&gt;

&lt;p&gt;    In version of 0.8.2.1, the old consumer will provide the metrics reporter per-topic consumer metrics under group &apos;ConsumerTopicMetrics&apos;. For example:&lt;/p&gt;

&lt;p&gt;    *.ConsumerTopicMetrics.clientId.&lt;span class=&quot;error&quot;&gt;&amp;#91;topic name&amp;#93;&lt;/span&gt;.BytesPerSec.count&lt;br/&gt;
    *.ConsumerTopicMetrics.clientId.&lt;span class=&quot;error&quot;&gt;&amp;#91;topic name&amp;#93;&lt;/span&gt;.MessagesPerSec.count&lt;/p&gt;

&lt;p&gt;    These consumer metrics are useful since it helps us monitor consumer rate for each topic. But the new consumer(0.9.0.0) doesn&apos;t expose per topic metrics anymore, even though I did find sensor objects in consumer metrics object collecting per-topic metrics.&lt;/p&gt;

&lt;p&gt;    After investigation, I found that these sensors are not registering any KafkaMetrics.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/happymap/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/happymap/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3233&quot; title=&quot;Per topic consumer metrics missing in new consumer&amp;#39;s metrics reporter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3233&quot;&gt;&lt;del&gt;KAFKA-3233&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/939.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/939.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #939&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c0ca957a40b3a946aae1e00e3dd8a899c36ed5d0&lt;br/&gt;
Author: Yifan Ying &amp;lt;yying@fitbit.com&amp;gt;&lt;br/&gt;
Date:   2016-02-19T18:37:08Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3233&quot; title=&quot;Per topic consumer metrics missing in new consumer&amp;#39;s metrics reporter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3233&quot;&gt;&lt;del&gt;KAFKA-3233&lt;/del&gt;&lt;/a&gt;: expose consumer per-topic metrics&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15181886" author="githubbot" created="Sat, 5 Mar 2016 23:17:51 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/939&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15181887" author="guozhang" created="Sat, 5 Mar 2016 23:17:54 +0000"  >&lt;p&gt;Issue resolved by pull request 939&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/939&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15183449" author="yying1" created="Mon, 7 Mar 2016 18:51:10 +0000"  >&lt;p&gt;Hi Guozhang, thanks for merging my change. Is there any chance this fix could get into the next release? &lt;/p&gt;</comment>
                            <comment id="15183502" author="gwenshap" created="Mon, 7 Mar 2016 19:18:46 +0000"  >&lt;p&gt;Since the change was merged into trunk, it will be included in 0.10.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2sqtz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>