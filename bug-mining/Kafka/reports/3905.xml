<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:40:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-17335] Lack of default for URL encoding configuration for OAuth causes NPE</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-17335</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-16345&quot; title=&quot;Optionally allow urlencoding clientId and clientSecret in authorization header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-16345&quot;&gt;&lt;del&gt;KAFKA-16345&lt;/del&gt;&lt;/a&gt; added a new client configuration option &lt;tt&gt;SASL_OAUTHBEARER_HEADER_URLENCODE&lt;/tt&gt;. This is an optional configuration, so the user doesn&apos;t need to provide it. When an &lt;tt&gt;AdminConfig&lt;/tt&gt;, &lt;tt&gt;ConsumerConfig&lt;/tt&gt;, or &lt;tt&gt;ProducerConfig&lt;/tt&gt; object is created, it uses the default value of &lt;tt&gt;DEFAULT_SASL_OAUTHBEARER_HEADER_URLENCODE&lt;/tt&gt; if the value isn&apos;t present.&lt;/p&gt;

&lt;p&gt;However, if the configuration is created as a plain &lt;tt&gt;Map&lt;/tt&gt; or &lt;tt&gt;Properties&lt;/tt&gt; and the &lt;tt&gt;sasl.oauthbearer.header.urlencode&lt;/tt&gt; key isn&apos;t present, it can lead to a &lt;tt&gt;NullPointerException&lt;/tt&gt;. This occurs because the code in &lt;tt&gt;AccessTokenRetriever.create()&lt;/tt&gt; assumes that there&apos;s always a value present in the incoming &lt;tt&gt;configs&lt;/tt&gt; parameter. But if there isn&apos;t an entry for the &lt;tt&gt;sasl.oauthbearer.header.urlencode&lt;/tt&gt; key in the map, a &lt;tt&gt;NullPointerException&lt;/tt&gt; is thrown.&lt;/p&gt;

&lt;p&gt;When using map-based configuration, one workaround is to explicitly add an entry to the map like so:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; configs = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap();
. . .
configs.put(SASL_OAUTHBEARER_HEADER_URLENCODE, DEFAULT_SASL_OAUTHBEARER_HEADER_URLENCODE);
. . .
configureSomething(configs);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13588752">KAFKA-17335</key>
            <summary>Lack of default for URL encoding configuration for OAuth causes NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kirktrue">Kirk True</assignee>
                                    <reporter username="kirktrue">Kirk True</reporter>
                        <labels>
                            <label>OAuth</label>
                            <label>oauth</label>
                    </labels>
                <created>Tue, 13 Aug 2024 18:39:06 +0000</created>
                <updated>Sun, 12 Jan 2025 13:37:04 +0000</updated>
                            <resolved>Wed, 28 Aug 2024 15:16:11 +0000</resolved>
                                    <version>3.9.0</version>
                                    <fixVersion>3.9.0</fixVersion>
                                    <component>clients</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17876370" author="JIRAUSER298866" created="Fri, 23 Aug 2024 21:21:49 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kirktrue&quot; class=&quot;user-hover&quot; rel=&quot;kirktrue&quot;&gt;kirktrue&lt;/a&gt;, thank you for catching this! I&apos;m really sorry for causing this major bug. Just one question, since there is still some time left until the code freeze (27 August) wouldn&apos;t be it better to target 3.9.0?&#160;&lt;/p&gt;</comment>
                            <comment id="17876399" author="kirktrue" created="Sat, 24 Aug 2024 03:38:05 +0000"  >&lt;p&gt;No worries, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bachmanity1&quot; class=&quot;user-hover&quot; rel=&quot;bachmanity1&quot;&gt;bachmanity1&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Regarding 3.9.0, I think we should ask the release manager on the mailing list.&lt;/p&gt;</comment>
                            <comment id="17877938" author="chia7712" created="Fri, 30 Aug 2024 01:34:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kirktrue&quot; class=&quot;user-hover&quot; rel=&quot;kirktrue&quot;&gt;kirktrue&lt;/a&gt; sorry that I forgot to say it is already be backport to 3.9 &lt;/p&gt;

&lt;p&gt;4.0: &lt;a href=&quot;https://github.com/apache/kafka/commit/dd7d7c3145d41103525cd212e718a8bdf5dd484b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/commit/dd7d7c3145d41103525cd212e718a8bdf5dd484b&lt;/a&gt;&lt;br/&gt;
3.9: &lt;a href=&quot;https://github.com/apache/kafka/commit/a87b501a47a55a1f9038b6c52e31b71590c3a80a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/commit/a87b501a47a55a1f9038b6c52e31b71590c3a80a&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17877943" author="kirktrue" created="Fri, 30 Aug 2024 01:59:32 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chia7712&quot; class=&quot;user-hover&quot; rel=&quot;chia7712&quot;&gt;chia7712&lt;/a&gt;!!!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qufs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>