<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:40:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-1373] LogCleaner assumes first dirty offset zero if there is no cleaner checkpoint</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-1373</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;If you try enabling the compaction policy on a topic that already exists and if its first segment starts with anything other than zero you will see something like this:&lt;/p&gt;

&lt;p&gt;java.lang.IllegalArgumentException: requirement failed: Last clean offset is 0 but segment base offset is 2722629 for log test-0.&lt;br/&gt;
        at scala.Predef$.require(Predef.scala:145)&lt;br/&gt;
        at kafka.log.Cleaner.buildOffsetMap(LogCleaner.scala:489)&lt;br/&gt;
        at kafka.log.Cleaner.clean(LogCleaner.scala:287)&lt;br/&gt;
        at kafka.log.LogCleaner$CleanerThread.cleanOrSleep(LogCleaner.scala:203)&lt;br/&gt;
        at kafka.log.LogCleaner$CleanerThread.doWork(LogCleaner.scala:188)&lt;br/&gt;
        at kafka.utils.ShutdownableThread.run(ShutdownableThread.scala:51)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12707262">KAFKA-1373</key>
            <summary>LogCleaner assumes first dirty offset zero if there is no cleaner checkpoint</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jjkoshy">Joel Jacob Koshy</assignee>
                                    <reporter username="jjkoshy">Joel Jacob Koshy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Apr 2014 21:20:20 +0000</created>
                <updated>Thu, 10 Apr 2014 23:19:57 +0000</updated>
                            <resolved>Thu, 10 Apr 2014 23:19:52 +0000</resolved>
                                    <version>0.8.1</version>
                                    <fixVersion>0.8.1.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13963461" author="jjkoshy" created="Tue, 8 Apr 2014 21:22:26 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/20130/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/20130/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="13963605" author="jjkoshy" created="Tue, 8 Apr 2014 23:18:47 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/20130/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/20130/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="13963608" author="jjkoshy" created="Tue, 8 Apr 2014 23:20:26 +0000"  >&lt;p&gt;Updated the RB with an additional fix: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-1289&quot; title=&quot;Misc. nitpicks in log cleaner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-1289&quot;&gt;&lt;del&gt;KAFKA-1289&lt;/del&gt;&lt;/a&gt; changed the compaction config from dedupe to compact. That needed to be updated in a couple of other places as well. Ideally it should have been some global constant string but this is fine for now.&lt;/p&gt;</comment>
                            <comment id="13964457" author="jjkoshy" created="Wed, 9 Apr 2014 17:51:13 +0000"  >&lt;p&gt;Committed to trunk, but need to submit a separate patch for 0.8.1 branch.&lt;/p&gt;</comment>
                            <comment id="13965692" author="jjkoshy" created="Thu, 10 Apr 2014 18:55:31 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/20227/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/20227/&lt;/a&gt;&lt;br/&gt;
 against branch origin/0.8.1&lt;/p&gt;</comment>
                            <comment id="13965983" author="jjkoshy" created="Thu, 10 Apr 2014 23:19:52 +0000"  >&lt;p&gt;Committed to 0.8.1 also.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12707583">KAFKA-1380</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12639627" name="KAFKA-1373.patch" size="4275" author="jjkoshy" created="Thu, 10 Apr 2014 18:55:31 +0000"/>
                            <attachment id="12639269" name="KAFKA-1373.patch" size="2574" author="jjkoshy" created="Tue, 8 Apr 2014 21:22:26 +0000"/>
                            <attachment id="12639297" name="KAFKA-1373_2014-04-08_16:18:22.patch" size="4921" author="jjkoshy" created="Tue, 8 Apr 2014 23:18:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385585</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ufc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385851</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>