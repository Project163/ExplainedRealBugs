<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:03:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-5535] Transformations - tranformations for value broken on tombstone events</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-5535</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;I&apos;m trying to use the transformation for Kafka Connect and running into issues.&lt;/p&gt;

&lt;p&gt;The tranformation configuration is:&lt;br/&gt;
-----------------&lt;br/&gt;
&quot;transforms&quot;: &quot;GetAfter&quot;,&lt;br/&gt;
&quot;transforms.GetAfter.type&quot;: &quot;org.apache.kafka.connect.transforms.ExtractField$Value&quot;,&lt;br/&gt;
&quot;transforms.GetAfter.field&quot;: &quot;after&quot;,&lt;br/&gt;
-----------------&lt;br/&gt;
And I got the following errors occasionally&#65306;&lt;br/&gt;
-----------------&lt;br/&gt;
org.apache.kafka.connect.errors.DataException: Only Map objects supported in absence of schema for &lt;span class=&quot;error&quot;&gt;&amp;#91;field extraction&amp;#93;&lt;/span&gt;, found: null&lt;br/&gt;
	at org.apache.kafka.connect.transforms.util.Requirements.requireMap(Requirements.java:38)&lt;br/&gt;
	at org.apache.kafka.connect.transforms.ExtractField.apply(ExtractField.java:57)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.TransformationChain.apply(TransformationChain.java:39)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.WorkerSinkTask.convertMessages(WorkerSinkTask.java:408)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.WorkerSinkTask.poll(WorkerSinkTask.java:249)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.WorkerSinkTask.iteration(WorkerSinkTask.java:179)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.WorkerSinkTask.execute(WorkerSinkTask.java:148)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.WorkerTask.doRun(WorkerTask.java:139)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.WorkerTask.run(WorkerTask.java:182)&lt;br/&gt;
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)&lt;br/&gt;
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
----------------- &lt;br/&gt;
Seems that tombstone events break the transformation, but after checking the source code for Transformations on Value (ExtractField$Value, ValueToKey, MaskField$Value, ReplaceField$Value), none of them handles tombstone events explicitly, none of them work through Tombstone events neither.&lt;br/&gt;
Null check in those transformations may be nessesary.&lt;/p&gt;</description>
                <environment>Unbuntu 14.04&lt;br/&gt;
Java 8</environment>
        <key id="13083358">KAFKA-5535</key>
            <summary>Transformations - tranformations for value broken on tombstone events</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ewencp">Ewen Cheslack-Postava</assignee>
                                    <reporter username="alei">Yelei Wu</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Thu, 29 Jun 2017 04:12:36 +0000</created>
                <updated>Tue, 15 Aug 2017 17:23:15 +0000</updated>
                            <resolved>Fri, 4 Aug 2017 17:25:36 +0000</resolved>
                                    <version>0.10.2.1</version>
                                    <fixVersion>1.0.0</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16069714" author="evis" created="Fri, 30 Jun 2017 08:44:16 +0000"  >&lt;p&gt;I&apos;m unable to reproduce this. Could you provide more detailed steps, please?&lt;/p&gt;</comment>
                            <comment id="16095737" author="githubbot" created="Fri, 21 Jul 2017 03:56:02 +0000"  >&lt;p&gt;GitHub user ewencp opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3559&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3559&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5535&quot; title=&quot;Transformations - tranformations for value broken on tombstone events&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5535&quot;&gt;&lt;del&gt;KAFKA-5535&lt;/del&gt;&lt;/a&gt;: Handle null values in ExtractField&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ewencp/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ewencp/kafka&lt;/a&gt; kafka-5535-extract-field-null&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3559.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3559.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3559&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d8ffc8b4300cc2a0ee047af941dd4eb3bfcfd58f&lt;br/&gt;
Author: Ewen Cheslack-Postava &amp;lt;me@ewencp.org&amp;gt;&lt;br/&gt;
Date:   2017-07-21T03:55:26Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5535&quot; title=&quot;Transformations - tranformations for value broken on tombstone events&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5535&quot;&gt;&lt;del&gt;KAFKA-5535&lt;/del&gt;&lt;/a&gt;: Handle null values in ExtractField&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16114673" author="ewencp" created="Fri, 4 Aug 2017 17:25:36 +0000"  >&lt;p&gt;Issue resolved by pull request 3559&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/3559&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3559&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16114674" author="githubbot" created="Fri, 4 Aug 2017 17:26:47 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3559&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3559&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16127574" author="rhauch" created="Tue, 15 Aug 2017 17:23:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hachikuji&quot; class=&quot;user-hover&quot; rel=&quot;hachikuji&quot;&gt;hachikuji&lt;/a&gt;, can you please backport this to the &lt;tt&gt;0.11.0&lt;/tt&gt; branch and update the fix version of this issue to include 0.11.0.1? IMO it is low-risk and a few people have been running into it with connectors that produce tombtstone events. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3gvlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>