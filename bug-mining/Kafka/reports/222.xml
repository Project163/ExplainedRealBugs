<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:37:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-776] Changing ZK format breaks some tools</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-776</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;There are some tools that parse the zk output and they might break.1 has been verified to break.&lt;/p&gt;

&lt;p&gt;Few that read the zk output are &lt;br/&gt;
1. Shutdown Broker&lt;br/&gt;
2. PreferredReplicaLeader&lt;br/&gt;
3. ConsumerOffsetChecker&lt;/p&gt;

&lt;p&gt;There could be few others but I have not checked everything&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634505">KAFKA-776</key>
            <summary>Changing ZK format breaks some tools</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="swapnilghike">Swapnil Ghike</assignee>
                                    <reporter username="sriramsub">Sriram</reporter>
                        <labels>
                            <label>kafka-0.8</label>
                            <label>p1</label>
                    </labels>
                <created>Wed, 27 Feb 2013 22:42:52 +0000</created>
                <updated>Thu, 28 Feb 2013 03:18:23 +0000</updated>
                            <resolved>Thu, 28 Feb 2013 03:18:21 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13588922" author="swapnilghike" created="Wed, 27 Feb 2013 23:46:52 +0000"  >&lt;p&gt;From what I see in the code, kafka.admin.ShutdownBroker and kafka.tools.ConsumerOffsetChecker should break because of &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-755&quot; title=&quot;standardizing json values stored in ZK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-755&quot;&gt;&lt;del&gt;KAFKA-755&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Unrelated to &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-755&quot; title=&quot;standardizing json values stored in ZK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-755&quot;&gt;&lt;del&gt;KAFKA-755&lt;/del&gt;&lt;/a&gt;, kafka.tools.&lt;/p&gt;
{ExportZkOffsets, VerifyConsumerRebalance}
&lt;p&gt; should break because we don&apos;t seem to have tested them for a while and there has been an API change in ZkUtils.readDataMaybeNull.&lt;/p&gt;

&lt;p&gt;Sriram, which tool did you verify to break? &lt;/p&gt;</comment>
                            <comment id="13589014" author="swapnilghike" created="Thu, 28 Feb 2013 01:34:44 +0000"  >&lt;p&gt;Attached a patch to fix the 4 tools.&lt;/p&gt;</comment>
                            <comment id="13589091" author="nehanarkhede" created="Thu, 28 Feb 2013 02:21:56 +0000"  >&lt;p&gt;Thanks for the patch. Overall looks good, few review comments -&lt;br/&gt;
1. ConsumerOffsetChecker&lt;br/&gt;
Fix error() statement in getConsumer() to include the throwable e as the 2nd argument to error(). That will ensure that the stack trace is pretty printed&lt;/p&gt;

&lt;p&gt;2. ExportZkOffsets&lt;br/&gt;
Maybe the following 2 lines should be in the &quot;case: Some(m)&quot; block or protected by if(offsetVal != null)&lt;br/&gt;
 fileWriter.write(offsetPath + &quot;:&quot; + offsetVal + &quot;\n&quot;)&lt;br/&gt;
            debug(offsetPath + &quot; =&amp;gt; &quot; + offsetVal)&lt;/p&gt;

&lt;p&gt;3. ShutdownBroker&lt;br/&gt;
Would you mind changing the error() line to the following -&lt;br/&gt;
error(&quot;Operation failed due to controller failure&quot;, t)&lt;/p&gt;</comment>
                            <comment id="13589121" author="swapnilghike" created="Thu, 28 Feb 2013 02:43:52 +0000"  >&lt;p&gt;Attached the changes.&lt;/p&gt;</comment>
                            <comment id="13589133" author="nehanarkhede" created="Thu, 28 Feb 2013 03:18:13 +0000"  >&lt;p&gt;+1 on patch v2&lt;/p&gt;</comment>
                            <comment id="13589134" author="nehanarkhede" created="Thu, 28 Feb 2013 03:18:21 +0000"  >&lt;p&gt;Checked in v2&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12571332" name="kafka-776-v1.patch" size="9684" author="swapnilghike" created="Thu, 28 Feb 2013 01:34:44 +0000"/>
                            <attachment id="12571344" name="kafka-776-v2.patch" size="9760" author="swapnilghike" created="Thu, 28 Feb 2013 02:43:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 38 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1icuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315342</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>