<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:41:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-17554] Flaky testFutureCompletionOutsidePoll in ConsumerNetworkClientTest</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-17554</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Fails with:&lt;/p&gt;

&lt;p&gt;org.opentest4j.AssertionFailedError: expected: &amp;lt;true&amp;gt; but was: &amp;lt;false&amp;gt; at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151) at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132) at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63) at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36) at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31) at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:183) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClientTest.testFutureCompletionOutsidePoll(ConsumerNetworkClientTest.java:295) at java.lang.reflect.Method.invoke(Method.java:498) at java.util.ArrayList.forEach(ArrayList.java:1259) at java.util.ArrayList.forEach(ArrayList.java:1259)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Flaky behaviour started recently (~ Aug 27, 2024): &lt;a href=&quot;https://ge.apache.org/scans/tests?search.names=Git%20branch&amp;amp;search.rootProjectNames=kafka&amp;amp;search.startTimeMax=1726258207388&amp;amp;search.startTimeMin=1721102400000&amp;amp;search.timeZoneId=America%2FToronto&amp;amp;search.values=trunk&amp;amp;tests.container=org.apache.kafka.clients.consumer.internals.ConsumerNetworkClientTest&amp;amp;tests.test=testFutureCompletionOutsidePoll()&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ge.apache.org/scans/tests?search.names=Git%20branch&amp;amp;search.rootProjectNames=kafka&amp;amp;search.startTimeMax=1726258207388&amp;amp;search.startTimeMin=1721102400000&amp;amp;search.timeZoneId=America%2FToronto&amp;amp;search.values=trunk&amp;amp;tests.container=org.apache.kafka.clients.consumer.internals.ConsumerNetworkClientTest&amp;amp;tests.test=testFutureCompletionOutsidePoll()&lt;/a&gt; &#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13592121">KAFKA-17554</key>
            <summary>Flaky testFutureCompletionOutsidePoll in ConsumerNetworkClientTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="m1a2st">&#40643;&#31459;&#38525;</assignee>
                                    <reporter username="lianetm">Lianet Magrans</reporter>
                        <labels>
                            <label>consumer</label>
                            <label>flaky-test</label>
                    </labels>
                <created>Fri, 13 Sep 2024 20:12:23 +0000</created>
                <updated>Wed, 24 Sep 2025 10:42:28 +0000</updated>
                            <resolved>Wed, 24 Sep 2025 10:42:28 +0000</resolved>
                                                    <fixVersion>4.2.0</fixVersion>
                                    <component>clients</component>
                    <component>consumer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="17881732" author="JIRAUSER305187" created="Sat, 14 Sep 2024 01:13:53 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lianetm&quot; class=&quot;user-hover&quot; rel=&quot;lianetm&quot;&gt;lianetm&lt;/a&gt;, if you wont work on this, may I take the issue? Thank you.&lt;/p&gt;</comment>
                            <comment id="17881862" author="chia7712" created="Sun, 15 Sep 2024 17:21:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=m1a2st&quot; class=&quot;user-hover&quot; rel=&quot;m1a2st&quot;&gt;m1a2st&lt;/a&gt; I have assigned this to you. thanks for taking over it&lt;/p&gt;</comment>
                            <comment id="17882416" author="JIRAUSER301926" created="Tue, 17 Sep 2024 13:52:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=m1a2st&quot; class=&quot;user-hover&quot; rel=&quot;m1a2st&quot;&gt;m1a2st&lt;/a&gt; Are you working on it ?Otherwise I can pick up. &lt;/p&gt;</comment>
                            <comment id="17882417" author="JIRAUSER305187" created="Tue, 17 Sep 2024 13:55:25 +0000"  >&lt;p&gt;Yes, I&apos;m working on it.&lt;/p&gt;</comment>
                            <comment id="17904393" author="chia7712" created="Tue, 10 Dec 2024 08:28:36 +0000"  >&lt;p&gt;reopen due to following error&lt;/p&gt;

&lt;p&gt;&quot;Test worker&quot; #1 prio=5 os_prio=0 cpu=53352.35ms elapsed=10258.50s tid=0x00007f1a2c02bdf0 nid=0x5267 in Object.wait()  &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f1a31ffb000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(java.base@17.0.13/Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;no object reference available&amp;gt;&lt;br/&gt;
	at java.lang.Thread.join(java.base@17.0.13/Thread.java:1313)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x0000000097ce44d8&amp;gt; (a java.lang.Thread)&lt;br/&gt;
	at java.lang.Thread.join(java.base@17.0.13/Thread.java:1381)&lt;br/&gt;
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClientTest.testFutureCompletionOutsidePoll(ConsumerNetworkClientTest.java:309)&lt;br/&gt;
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(java.base@17.0.13/Native Method)&lt;br/&gt;
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(java.base@17.0.13/NativeMethodAccessorImpl.java:77)&lt;br/&gt;
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(java.base@17.0.13/DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(java.base@17.0.13/Method.java:569)&lt;/li&gt;
&lt;/ul&gt;




&lt;p&gt;&quot;Thread-5&quot; #272 prio=5 os_prio=0 cpu=0.14ms elapsed=10140.49s tid=0x00007f1a2d099100 nid=0x8154 waiting on condition  &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f196eff6000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (parking)&lt;br/&gt;
	at jdk.internal.misc.Unsafe.park(java.base@17.0.13/Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;parking to wait for  &amp;lt;0x0000000097ce53b8&amp;gt; (a java.util.concurrent.CountDownLatch$Sync)&lt;br/&gt;
	at java.util.concurrent.locks.LockSupport.park(java.base@17.0.13/LockSupport.java:211)&lt;br/&gt;
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(java.base@17.0.13/AbstractQueuedSynchronizer.java:715)&lt;br/&gt;
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(java.base@17.0.13/AbstractQueuedSynchronizer.java:1047)&lt;br/&gt;
	at java.util.concurrent.CountDownLatch.await(java.base@17.0.13/CountDownLatch.java:230)&lt;br/&gt;
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClientTest.lambda$testFutureCompletionOutsidePoll$9(ConsumerNetworkClientTest.java:290)&lt;br/&gt;
	at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClientTest$$Lambda$1852/0x00007f19cc6657e8.run(Unknown Source)&lt;br/&gt;
	at java.lang.Thread.run(java.base@17.0.13/Thread.java:840)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17904789" author="chia7712" created="Wed, 11 Dec 2024 13:03:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=m1a2st&quot; class=&quot;user-hover&quot; rel=&quot;m1a2st&quot;&gt;m1a2st&lt;/a&gt; Could you please file a PR to disable the test temporarily?&lt;/p&gt;</comment>
                            <comment id="17914653" author="dajac" created="Mon, 20 Jan 2025 12:51:12 +0000"  >&lt;p&gt;Changing target fix version to 4.1 since this is not a blocker and we are past code freeze.&lt;/p&gt;</comment>
                            <comment id="17986358" author="mimaison" created="Thu, 26 Jun 2025 13:07:43 +0000"  >&lt;p&gt;Moving to the next release as we&apos;re now in code freeze for 4.1.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rf6g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>