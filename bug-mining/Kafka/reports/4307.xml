<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:44:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-19578] Fix flaky RemoteLogManagerTest#testCopyQuota</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-19578</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;CI: &lt;a href=&quot;https://github.com/apache/kafka/actions/runs/16651849478/job/47166854957?pr=20269&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/actions/runs/16651849478/job/47166854957?pr=20269&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;develocity: &lt;a href=&quot;https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&amp;amp;search.timeZoneId=Europe%2FWarsaw&amp;amp;tests.container=org.apache.kafka.server.log.remote.storage.RemoteLogManagerTest&amp;amp;tests.test=testCopyQuota(boolean)%5B1%5D&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://develocity.apache.org/scans/tests?search.rootProjectNames=kafka&amp;amp;search.timeZoneId=Europe%2FWarsaw&amp;amp;tests.container=org.apache.kafka.server.log.remote.storage.RemoteLogManagerTest&amp;amp;tests.test=testCopyQuota(boolean)%5B1%5D&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Root cause:&lt;/p&gt;

&lt;p&gt;Not enough time to execute this function: &lt;a href=&quot;https://github.com/apache/kafka/pull/20845/files#diff-b1c88902ed00a1f69231484869415b83599a711d5e95dec19c396f0a350c31d9R3427&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/20845/files#diff-b1c88902ed00a1f69231484869415b83599a711d5e95dec19c396f0a350c31d9R3427&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13625452">KAFKA-19578</key>
            <summary>Fix flaky RemoteLogManagerTest#testCopyQuota</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bloku">Uladzislau Blok</assignee>
                                    <reporter username="chia7712">Chia-Ping Tsai</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Aug 2025 16:32:46 +0000</created>
                <updated>Mon, 10 Nov 2025 06:18:32 +0000</updated>
                            <resolved>Mon, 10 Nov 2025 06:18:32 +0000</resolved>
                                                    <fixVersion>4.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="18020734" author="JIRAUSER300183" created="Tue, 16 Sep 2025 18:04:37 +0000"  >&lt;p&gt;In case it helps, saw this one today in a PR &lt;a href=&quot;https://github.com/apache/kafka/actions/runs/17769042747/job/50500642991?pr=20542&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;, passes locally but times out every one and then on CI it seems, on:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// Verify the copy operation completes within the timeout, since it does not need to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; quota availability
&lt;/span&gt;assertTimeoutPreemptively(Duration.ofMillis(100), () -&amp;gt; task.copyLogSegmentsToRemote(mockLog));&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="18020744" author="JIRAUSER309258" created="Tue, 16 Sep 2025 18:21:31 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lianetm&quot; class=&quot;user-hover&quot; rel=&quot;lianetm&quot;&gt;lianetm&lt;/a&gt;&#160; Didn&apos;t yet have a time to take a look on this one&lt;br/&gt;
btw. if we&apos;re talking about flaky tests, could you please check this one? It was already waiting for like 3 months &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-19299?jql=resolution%20%3D%20Unresolved%20AND%20assignee%20%3D%20currentUser()%20AND%20project%20%3D%2012311720&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/KAFKA-19299?jql=resolution%20%3D%20Unresolved%20AND%20assignee%20%3D%20currentUser()%20AND%20project%20%3D%2012311720&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/kafka/pull/19927&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/19927&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="18020767" author="JIRAUSER300183" created="Tue, 16 Sep 2025 19:56:48 +0000"  >&lt;p&gt;Sure! Sorry that one has been sitting there, I will take a look. Thanks!&lt;/p&gt;</comment>
                            <comment id="18034517" author="JIRAUSER310351" created="Fri, 31 Oct 2025 23:51:46 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bloku&quot; class=&quot;user-hover&quot; rel=&quot;bloku&quot;&gt;bloku&lt;/a&gt;, can I take this ticket if you are not working on it?&lt;/p&gt;</comment>
                            <comment id="18036596" author="JIRAUSER309258" created="Sun, 9 Nov 2025 13:33:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cyh2012aa&quot; class=&quot;user-hover&quot; rel=&quot;cyh2012aa&quot;&gt;cyh2012aa&lt;/a&gt; Hey. Sorry for delay, but I&apos;m already working on it, thanks&lt;/p&gt;</comment>
                            <comment id="18036615" author="JIRAUSER310351" created="Sun, 9 Nov 2025 18:12:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bloku&quot; class=&quot;user-hover&quot; rel=&quot;bloku&quot;&gt;bloku&lt;/a&gt; No problem. I already had some tests on it and seems like there is no &quot;root cause&quot; of the flaky behavior. You can try to comment out uncritical function calls, the flaky behavior still exists. Hope this can help you.&#160;&lt;/p&gt;</comment>
                            <comment id="18036617" author="chia7712" created="Sun, 9 Nov 2025 18:27:29 +0000"  >&lt;p&gt;It seems there is already a PR for that flaky - &lt;a href=&quot;https://github.com/apache/kafka/pull/20845&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/20845&lt;/a&gt; would you mind taking a look? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bloku&quot; class=&quot;user-hover&quot; rel=&quot;bloku&quot;&gt;bloku&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cyh2012aa&quot; class=&quot;user-hover&quot; rel=&quot;cyh2012aa&quot;&gt;cyh2012aa&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="18036618" author="JIRAUSER310351" created="Sun, 9 Nov 2025 18:33:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chia7712&quot; class=&quot;user-hover&quot; rel=&quot;chia7712&quot;&gt;chia7712&lt;/a&gt; Sure! Thanks for the reminder.&lt;/p&gt;</comment>
                            <comment id="18036621" author="JIRAUSER309258" created="Sun, 9 Nov 2025 19:41:40 +0000"  >&lt;p&gt;Hey. I was doing more analysis around this test, but my fix is actually the same as in PR you&apos;ve linked. I still want to prepare separate PR to bring more refactor / clean up, because:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;From my POV it doesn&apos;t make sense to have this test as parametrized&lt;/li&gt;
	&lt;li&gt;This test has dead code (check if statement inside of &apos;false&apos; path)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Proposal:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Merge PR you&apos;ve linked, that should fix flakiness&lt;/li&gt;
	&lt;li&gt;I&apos;ll prepare separate PR with clean up&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chia7712&quot; class=&quot;user-hover&quot; rel=&quot;chia7712&quot;&gt;chia7712&lt;/a&gt; WDYT?&lt;/p&gt;</comment>
                            <comment id="18036690" author="chia7712" created="Mon, 10 Nov 2025 03:51:34 +0000"  >&lt;p&gt;sounds good! I will check the PR #20845 as soon as possible&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1x3j4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>