<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:36:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-15836] KafkaConsumer subscribes to multiple topics does not respect max.poll.records</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-15836</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;We discovered that when KafkaConsumer subscribes to multiple topics with max.poll.record configured.&#160; The max.poll.record is not properly respected for all poll() invocation.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I was able to reproduce it with the AK example, here is how I ran my tests:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/kafka/pull/14772&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/14772&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;1. start zookeeper and kafka server (or kraft mode should be fine too)&lt;/p&gt;

&lt;p&gt;2. Run: examples/bin/java-producer-consumer-demo.sh 10000000&lt;/p&gt;

&lt;p&gt;3. Polled records &amp;gt; 400 will be printed to stdout&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here is what the program does:&lt;/p&gt;

&lt;p&gt;The produce produces a large number of records to multiple topics.&#160; We configure the consumer using a max.poll.record = 400, and subscribed to multiple topics.&#160; The consumer poll, and the returned records can sometimes be larger than 400.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This is an issue in AK 3.6 but 3.5 was fine.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13558141">KAFKA-15836</key>
            <summary>KafkaConsumer subscribes to multiple topics does not respect max.poll.records</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="schofielaj">Andrew Schofield</assignee>
                                    <reporter username="pnee">Philip Nee</reporter>
                        <labels>
                            <label>consumer</label>
                    </labels>
                <created>Thu, 16 Nov 2023 00:16:17 +0000</created>
                <updated>Wed, 22 Nov 2023 19:22:15 +0000</updated>
                            <resolved>Tue, 21 Nov 2023 08:48:30 +0000</resolved>
                                    <version>3.7.0</version>
                                    <fixVersion>3.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17787118" author="mimaison" created="Fri, 17 Nov 2023 10:04:40 +0000"  >&lt;p&gt;This is marked as a blocker for 3.6.1. We&apos;re hoping the make this release in the next couple of weeks. Do you think you can provide a fix by then?&lt;/p&gt;</comment>
                            <comment id="17787128" author="schofielaj" created="Fri, 17 Nov 2023 10:34:40 +0000"  >&lt;p&gt;Yes, I would say so. I think I&apos;ll have a PR on trunk soon.&lt;/p&gt;</comment>
                            <comment id="17787217" author="mimaison" created="Fri, 17 Nov 2023 13:55:24 +0000"  >&lt;p&gt;Awesome, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=schofielaj&quot; class=&quot;user-hover&quot; rel=&quot;schofielaj&quot;&gt;schofielaj&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17787243" author="schofielaj" created="Fri, 17 Nov 2023 14:56:16 +0000"  >&lt;p&gt;I would say that it&apos;s not applicable to 3.6. From my reading, it looks like a refactoring in 3.7 introduced a regression that was not caught by unit tests.&lt;/p&gt;</comment>
                            <comment id="17787896" author="mimaison" created="Mon, 20 Nov 2023 09:12:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnee&quot; class=&quot;user-hover&quot; rel=&quot;pnee&quot;&gt;pnee&lt;/a&gt; Can you confirm Andrew&apos;s findings?&lt;/p&gt;</comment>
                            <comment id="17788084" author="schofielaj" created="Mon, 20 Nov 2023 16:55:14 +0000"  >&lt;p&gt;PR merged to trunk.&lt;/p&gt;</comment>
                            <comment id="17788313" author="mimaison" created="Tue, 21 Nov 2023 08:37:48 +0000"  >&lt;p&gt;So can we resolve this ticket now?&lt;/p&gt;</comment>
                            <comment id="17788314" author="schofielaj" created="Tue, 21 Nov 2023 08:39:04 +0000"  >&lt;p&gt;I think so. Waiting for &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pnee&quot; class=&quot;user-hover&quot; rel=&quot;pnee&quot;&gt;pnee&lt;/a&gt; to confirm.&lt;/p&gt;</comment>
                            <comment id="17788323" author="JIRAUSER283568" created="Tue, 21 Nov 2023 08:48:30 +0000"  >&lt;p&gt;PR merged.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lmy8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>