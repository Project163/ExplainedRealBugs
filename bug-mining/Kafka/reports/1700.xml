<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:04:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-6012] NoSuchElementException in markErrorMeter during TransactionsBounceTest</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-6012</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;I think this is probably a test issue, but setting as &quot;Blocker&quot; until we can confirm that.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Error
org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; output-topic-0: 10467 ms has passed since batch creation plus linger time
Stacktrace
org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; output-topic-0: 10467 ms has passed since batch creation plus linger time
Standard Output
[2017-10-05 00:29:31,327] ERROR ZKShutdownHandler is not registered, so ZooKeeper server won&apos;t take any action on ERROR or SHUTDOWN server state changes (org.apache.zookeeper.server.ZooKeeperServer:472)
[2017-10-05 00:29:31,877] ERROR [ReplicaFetcher replicaId=0, leaderId=1, fetcherId=0] Error &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; partition input-topic-0 to broker %1:org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; topic-partition. (kafka.server.ReplicaFetcherThread:101)
[2017-10-05 00:29:31,877] ERROR [ReplicaFetcher replicaId=3, leaderId=1, fetcherId=0] Error &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; partition input-topic-0 to broker %1:org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; topic-partition. (kafka.server.ReplicaFetcherThread:101)
[2017-10-05 00:29:31,877] ERROR [ReplicaFetcher replicaId=0, leaderId=2, fetcherId=0] Error &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; partition input-topic-1 to broker %2:org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; topic-partition. (kafka.server.ReplicaFetcherThread:101)
[2017-10-05 00:29:32,268] ERROR [ReplicaFetcher replicaId=0, leaderId=1, fetcherId=0] Error &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; partition output-topic-1 to broker %1:org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; topic-partition. (kafka.server.ReplicaFetcherThread:101)
[2017-10-05 00:29:32,284] ERROR [ReplicaFetcher replicaId=2, leaderId=1, fetcherId=0] Error &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; partition output-topic-1 to broker %1:org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; topic-partition. (kafka.server.ReplicaFetcherThread:101)
[2017-10-05 00:29:44,283] ERROR [KafkaApi-0] Error when handling request {controller_id=0,controller_epoch=1,delete_partitions=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,partitions=[{topic=input-topic,partition=1}]} (kafka.server.KafkaApis:107)
java.util.NoSuchElementException: key not found: NONE
	at scala.collection.MapLike$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;(MapLike.scala:228)
	at scala.collection.AbstractMap.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;(Map.scala:59)
	at scala.collection.mutable.HashMap.apply(HashMap.scala:65)
	at kafka.network.RequestMetrics.markErrorMeter(RequestChannel.scala:410)
	at kafka.network.RequestChannel$$anonfun$updateErrorMetrics$1.apply(RequestChannel.scala:315)
	at kafka.network.RequestChannel$$anonfun$updateErrorMetrics$1.apply(RequestChannel.scala:314)
	at scala.collection.Iterator$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;foreach(Iterator.scala:891)
	at scala.collection.AbstractIterator.foreach(Iterator.scala:1334)
	at scala.collection.IterableLike$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;foreach(IterableLike.scala:72)
	at scala.collection.AbstractIterable.foreach(Iterable.scala:54)
	at kafka.network.RequestChannel.updateErrorMetrics(RequestChannel.scala:314)
	at kafka.server.KafkaApis$$anonfun$kafka$server$KafkaApis$$sendResponse$1.apply(KafkaApis.scala:2092)
	at kafka.server.KafkaApis$$anonfun$kafka$server$KafkaApis$$sendResponse$1.apply(KafkaApis.scala:2092)
	at scala.Option.foreach(Option.scala:257)
	at kafka.server.KafkaApis.kafka$server$KafkaApis$$sendResponse(KafkaApis.scala:2092)
	at kafka.server.KafkaApis.sendResponseExemptThrottle(KafkaApis.scala:2061)
	at kafka.server.KafkaApis.handleStopReplicaRequest(KafkaApis.scala:202)
	at kafka.server.KafkaApis.handle(KafkaApis.scala:104)
	at kafka.server.KafkaRequestHandler.run(KafkaRequestHandler.scala:65)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/blue/organizations/jenkins/kafka-trunk-jdk8/detail/kafka-trunk-jdk8/2106/tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/blue/organizations/jenkins/kafka-trunk-jdk8/detail/kafka-trunk-jdk8/2106/tests&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13107107">KAFKA-6012</key>
            <summary>NoSuchElementException in markErrorMeter during TransactionsBounceTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsivaram">Rajini Sivaram</assignee>
                                    <reporter username="ijuma">Ismael Juma</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Oct 2017 01:11:23 +0000</created>
                <updated>Thu, 5 Oct 2017 16:27:56 +0000</updated>
                            <resolved>Thu, 5 Oct 2017 16:26:21 +0000</resolved>
                                                    <fixVersion>1.0.0</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16192945" author="githubbot" created="Thu, 5 Oct 2017 14:24:50 +0000"  >&lt;p&gt;GitHub user rajinisivaram opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4024&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6012&quot; title=&quot;NoSuchElementException in markErrorMeter during TransactionsBounceTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6012&quot;&gt;&lt;del&gt;KAFKA-6012&lt;/del&gt;&lt;/a&gt;: Close request metrics only after closing request handlers&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rajinisivaram/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rajinisivaram/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6012&quot; title=&quot;NoSuchElementException in markErrorMeter during TransactionsBounceTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6012&quot;&gt;&lt;del&gt;KAFKA-6012&lt;/del&gt;&lt;/a&gt;-error-metric&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4024.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4024.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4024&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 4a891452343d6176d48dcb7cab180ae2a650dc81&lt;br/&gt;
Author: Rajini Sivaram &amp;lt;rajinisivaram@googlemail.com&amp;gt;&lt;br/&gt;
Date:   2017-10-05T14:19:10Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6012&quot; title=&quot;NoSuchElementException in markErrorMeter during TransactionsBounceTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6012&quot;&gt;&lt;del&gt;KAFKA-6012&lt;/del&gt;&lt;/a&gt;: Close request metrics only after closing request handlers&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16193133" author="rsivaram" created="Thu, 5 Oct 2017 16:26:21 +0000"  >&lt;p&gt;Issue resolved by pull request 4024&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/4024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4024&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16193136" author="githubbot" created="Thu, 5 Oct 2017 16:27:56 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4024&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3kw8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>