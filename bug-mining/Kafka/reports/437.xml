<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:40:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-1323] log.dirs server property no longer supports relative directories</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-1323</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;This seems to have been caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-1315&quot; title=&quot;log.dirs property in KafkaServer intolerant of trailing slash&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-1315&quot;&gt;&lt;del&gt;KAFKA-1315&lt;/del&gt;&lt;/a&gt; - we now don&apos;t support relative directories.&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Set a relative directory for log.dirs. E.g., &lt;tt&gt;log.dirs=data/kafka-logs&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;Bring up the broker and produce some messages: &lt;tt&gt;./bin/kafka-producer-perf-test.sh --broker-list localhost:9092 --messages 1000 --topic test&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12703267">KAFKA-1323</key>
            <summary>log.dirs server property no longer supports relative directories</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jjkoshy">Joel Jacob Koshy</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Mar 2014 18:19:23 +0000</created>
                <updated>Tue, 27 May 2014 18:42:01 +0000</updated>
                            <resolved>Wed, 16 Apr 2014 20:31:01 +0000</resolved>
                                                    <fixVersion>0.8.1.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13945469" author="jjkoshy" created="Mon, 24 Mar 2014 18:22:06 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.util.NoSuchElementException: key not found: data/kafka-logs
        at scala.collection.MapLike$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;(MapLike.scala:223)
        at scala.collection.immutable.Map$Map1.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;(Map.scala:93)
        at scala.collection.MapLike$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;apply(MapLike.scala:134)
        at scala.collection.immutable.Map$Map1.apply(Map.scala:93)
        at kafka.cluster.Partition.getOrCreateReplica(Partition.scala:93)
        at kafka.cluster.Partition$$anonfun$makeLeader$2.apply(Partition.scala:178)
        at kafka.cluster.Partition$$anonfun$makeLeader$2.apply(Partition.scala:178)
        at scala.collection.immutable.Set$Set1.foreach(Set.scala:81)
        at kafka.cluster.Partition.makeLeader(Partition.scala:178)
        at kafka.server.ReplicaManager$$anonfun$makeLeaders$5.apply(ReplicaManager.scala:309)
        at kafka.server.ReplicaManager$$anonfun$makeLeaders$5.apply(ReplicaManager.scala:308)
        at scala.collection.mutable.HashMap$$anonfun$foreach$1.apply(HashMap.scala:80)
        at scala.collection.mutable.HashMap$$anonfun$foreach$1.apply(HashMap.scala:80)
        at scala.collection.Iterator$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;foreach(Iterator.scala:631)
        at scala.collection.mutable.HashTable$$anon$1.foreach(HashTable.scala:161)
        at scala.collection.mutable.HashTable$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;foreachEntry(HashTable.scala:194)
        at scala.collection.mutable.HashMap.foreachEntry(HashMap.scala:39)
        at scala.collection.mutable.HashMap.foreach(HashMap.scala:80)
        at kafka.server.ReplicaManager.makeLeaders(ReplicaManager.scala:308)
        at kafka.server.ReplicaManager.becomeLeaderOrFollower(ReplicaManager.scala:260)
        at kafka.server.KafkaApis.handleLeaderAndIsrRequest(KafkaApis.scala:100)
        at kafka.server.KafkaApis.handle(KafkaApis.scala:71)
        at kafka.server.KafkaRequestHandler.run(KafkaRequestHandler.scala:42)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think we just need to update the look-up key in getOrCreateReplica with&lt;br/&gt;
the absolute path, but we should check if there are other accesses to the&lt;br/&gt;
same map which needs an update.&lt;/p&gt;</comment>
                            <comment id="13945532" author="nehanarkhede" created="Mon, 24 Mar 2014 18:54:05 +0000"  >&lt;p&gt;oops, this is my bad. Missed this during the review. Which points out that we need a unit test to cover this as well.&lt;/p&gt;</comment>
                            <comment id="13946963" author="tnachen" created="Tue, 25 Mar 2014 18:54:13 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/19626/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/19626/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="13950112" author="tnachen" created="Thu, 27 Mar 2014 23:17:39 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/19626/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/19626/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="13950353" author="nehanarkhede" created="Fri, 28 Mar 2014 04:26:34 +0000"  >&lt;p&gt;I ran into quite a few unit test failures with the patch on trunk -&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12637330/12637330_kafka-1323-trunk-test-failures.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="13955532" author="tnachen" created="Mon, 31 Mar 2014 18:57:47 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/19626/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/19626/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="13956794" author="nehanarkhede" created="Tue, 1 Apr 2014 17:28:01 +0000"  >&lt;p&gt;The tests seem to pass now. I&apos;m a +1 once &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=junrao&quot; class=&quot;user-hover&quot; rel=&quot;junrao&quot;&gt;junrao&lt;/a&gt;&apos;s comments are addressed.&lt;/p&gt;</comment>
                            <comment id="13958061" author="tnachen" created="Wed, 2 Apr 2014 19:18:13 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/19626/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/19626/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="13960097" author="nehanarkhede" created="Fri, 4 Apr 2014 16:24:47 +0000"  >&lt;p&gt;The same tests (mentioned above) fail for me on trunk with the latest patch.&lt;/p&gt;</comment>
                            <comment id="13966046" author="nehanarkhede" created="Fri, 11 Apr 2014 00:08:36 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tnachen&quot; class=&quot;user-hover&quot; rel=&quot;tnachen&quot;&gt;tnachen&lt;/a&gt;, I think the trunk patch needs to be rebased. &lt;/p&gt;</comment>
                            <comment id="13968984" author="guozhang" created="Mon, 14 Apr 2014 23:13:14 +0000"  >&lt;p&gt;Updated reviewboard  against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="13969698" author="guozhang" created="Tue, 15 Apr 2014 16:36:08 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/20370/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/20370/&lt;/a&gt;&lt;br/&gt;
 against branch origin/trunk&lt;/p&gt;</comment>
                            <comment id="13970174" author="guozhang" created="Tue, 15 Apr 2014 23:09:27 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/20392/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/20392/&lt;/a&gt;&lt;br/&gt;
 against branch origin/0.8.1&lt;/p&gt;</comment>
                            <comment id="13970189" author="guozhang" created="Tue, 15 Apr 2014 23:25:55 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/20393/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/20393/&lt;/a&gt;&lt;br/&gt;
 against branch origin/0.8.1&lt;/p&gt;</comment>
                            <comment id="13970191" author="guozhang" created="Tue, 15 Apr 2014 23:27:00 +0000"  >&lt;p&gt;Please ignore the RB 20392, that was a messed one.&lt;/p&gt;</comment>
                            <comment id="13970217" author="jjkoshy" created="Tue, 15 Apr 2014 23:52:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt; You can mark that RB as discarded&lt;/p&gt;</comment>
                            <comment id="13970236" author="guozhang" created="Wed, 16 Apr 2014 00:09:02 +0000"  >&lt;p&gt;Thanks Joel. Done.&lt;/p&gt;</comment>
                            <comment id="13971804" author="guozhang" created="Wed, 16 Apr 2014 18:53:53 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/20393/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/20393/&lt;/a&gt;&lt;br/&gt;
 against branch origin/0.8.1&lt;/p&gt;</comment>
                            <comment id="13971815" author="guozhang" created="Wed, 16 Apr 2014 19:05:55 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/20393/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/20393/&lt;/a&gt;&lt;br/&gt;
 against branch origin/0.8.1&lt;/p&gt;</comment>
                            <comment id="13971905" author="jjkoshy" created="Wed, 16 Apr 2014 20:31:01 +0000"  >&lt;p&gt;Thanks for the patch. Committed to trunk and 0.8.1.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12707583">KAFKA-1380</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12640361" name="KAFKA-1323.patch" size="12081" author="guozhang" created="Tue, 15 Apr 2014 23:25:55 +0000"/>
                            <attachment id="12640354" name="KAFKA-1323.patch" size="61429" author="guozhang" created="Tue, 15 Apr 2014 23:09:27 +0000"/>
                            <attachment id="12640291" name="KAFKA-1323.patch" size="14349" author="guozhang" created="Tue, 15 Apr 2014 16:36:07 +0000"/>
                            <attachment id="12636754" name="KAFKA-1323.patch" size="6853" author="tnachen" created="Tue, 25 Mar 2014 18:54:12 +0000"/>
                            <attachment id="12637277" name="KAFKA-1323_2014-03-27_16:17:26.patch" size="80015" author="tnachen" created="Thu, 27 Mar 2014 23:17:39 +0000"/>
                            <attachment id="12637895" name="KAFKA-1323_2014-03-31_11:57:37.patch" size="15077" author="tnachen" created="Mon, 31 Mar 2014 18:57:47 +0000"/>
                            <attachment id="12638314" name="KAFKA-1323_2014-04-02_12:17:57.patch" size="19092" author="tnachen" created="Wed, 2 Apr 2014 19:18:13 +0000"/>
                            <attachment id="12640165" name="KAFKA-1323_2014-04-14_16:13:07.patch" size="14349" author="guozhang" created="Mon, 14 Apr 2014 23:13:14 +0000"/>
                            <attachment id="12640521" name="KAFKA-1323_2014-04-16_11:53:39.patch" size="15563" author="guozhang" created="Wed, 16 Apr 2014 18:53:53 +0000"/>
                            <attachment id="12640524" name="KAFKA-1323_2014-04-16_12:05:40.patch" size="16190" author="guozhang" created="Wed, 16 Apr 2014 19:05:54 +0000"/>
                            <attachment id="12637330" name="kafka-1323-trunk-test-failures.png" size="87653" author="nehanarkhede" created="Fri, 28 Mar 2014 04:26:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>381605</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tqvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>381880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>