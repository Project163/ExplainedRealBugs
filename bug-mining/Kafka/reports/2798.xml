<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:25:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-10362] When resuming Streams active task with EOS, the checkpoint file should be deleted</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-10362</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Today when we suspend a task we commit and along with the commit we always write checkpoint file even if we are eosEnabled (since the state is already SUSPENDED). But the suspended task may later be resumed and in that case the checkpoint file should be deleted since it should only be written when it is cleanly closed.&lt;/p&gt;

&lt;p&gt;With our latest rebalance protocol in KIP-429, resume would not be called since all suspended tasks would be closed, but with the old eager protocol it may still be called &#8212; I think that may be the reason we did not get it often.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13321007">KAFKA-10362</key>
            <summary>When resuming Streams active task with EOS, the checkpoint file should be deleted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="DOJI">Sharath Bhat</assignee>
                                    <reporter username="guozhang">Guozhang Wang</reporter>
                        <labels>
                            <label>newbie++</label>
                    </labels>
                <created>Wed, 5 Aug 2020 04:18:17 +0000</created>
                <updated>Wed, 3 Feb 2021 01:21:21 +0000</updated>
                            <resolved>Wed, 7 Oct 2020 18:20:28 +0000</resolved>
                                    <version>2.6.0</version>
                                    <fixVersion>2.6.2</fixVersion>
                    <fixVersion>2.7.0</fixVersion>
                                    <component>streams</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17181231" author="ipasynkov" created="Thu, 20 Aug 2020 14:38:18 +0000"  >&lt;p&gt;Hello, can I pick this task?&lt;/p&gt;</comment>
                            <comment id="17181498" author="guozhang" created="Thu, 20 Aug 2020 23:57:06 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ipasynkov&quot; class=&quot;user-hover&quot; rel=&quot;ipasynkov&quot;&gt;ipasynkov&lt;/a&gt;, sure! If you have read through the related code of Kafka Streams around TaskManager and StreamTask, then feel free to start preparing a PR and ping me whenever it is ready for reviews.&lt;/p&gt;</comment>
                            <comment id="17183075" author="high.lee" created="Mon, 24 Aug 2020 08:52:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ipasynkov&quot; class=&quot;user-hover&quot; rel=&quot;ipasynkov&quot;&gt;ipasynkov&lt;/a&gt; &lt;br/&gt;
Are you working on it? If not, can I do PR?&lt;/p&gt;</comment>
                            <comment id="17183104" author="ipasynkov" created="Mon, 24 Aug 2020 09:29:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=high.lee&quot; class=&quot;user-hover&quot; rel=&quot;high.lee&quot;&gt;high.lee&lt;/a&gt;&#160;Hello, yes I&apos;m working on this task)&lt;/p&gt;</comment>
                            <comment id="17183802" author="ipasynkov" created="Tue, 25 Aug 2020 07:22:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt;&#160;Hello. I&apos;ve read related TaskManager and StreamTask. Please correct me if I&apos;m wrong, It seems that I have to make a call to OffsetCheckpoint&apos;s delete() method in StreamTask&apos;s resume() method &lt;span class=&quot;error&quot;&gt;&amp;#91;when task&amp;#39;s state is SUSPENDED&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17189629" author="doji" created="Wed, 2 Sep 2020 18:37:52 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt;,&#160;&lt;/p&gt;

&lt;p&gt;I worked on the bug and have raised a &lt;a href=&quot;https://github.com/apache/kafka/pull/9247&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;could you please review the PR.&lt;/p&gt;

&lt;p&gt;and can I get this ticket on my name?&lt;/p&gt;</comment>
                            <comment id="17189711" author="mjsax" created="Wed, 2 Sep 2020 21:10:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=DOJI&quot; class=&quot;user-hover&quot; rel=&quot;DOJI&quot;&gt;DOJI&lt;/a&gt;, even if the ticket was not assigned yet, it seems that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ipasynkov&quot; class=&quot;user-hover&quot; rel=&quot;ipasynkov&quot;&gt;ipasynkov&lt;/a&gt;&#160;was actually working on it... Not sure how to proceed now. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ipasynkov&quot; class=&quot;user-hover&quot; rel=&quot;ipasynkov&quot;&gt;ipasynkov&lt;/a&gt;&#160;do you already have a PR? I leave it up to both of you to figure it out you takes this ticket.&lt;/p&gt;</comment>
                            <comment id="17189831" author="doji" created="Thu, 3 Sep 2020 04:23:01 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ipasynkov&quot; class=&quot;user-hover&quot; rel=&quot;ipasynkov&quot;&gt;ipasynkov&lt;/a&gt;,&#160;&lt;/p&gt;

&lt;p&gt;Can I continue work on this ticket ?&lt;/p&gt;

&lt;p&gt;I am newbie to kafka community, so I thought this would be a place to start and have raised the PR.&lt;/p&gt;

&lt;p&gt;Please let me know your thoughts.&lt;/p&gt;</comment>
                            <comment id="17189860" author="ipasynkov" created="Thu, 3 Sep 2020 06:04:48 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=DOJI&quot; class=&quot;user-hover&quot; rel=&quot;DOJI&quot;&gt;DOJI&lt;/a&gt;. You can continue with this ticket since you&apos;ve already made some progress and have a PR. I&apos;ll switch to another task then&lt;/p&gt;</comment>
                            <comment id="17189879" author="doji" created="Thu, 3 Sep 2020 06:58:35 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ipasynkov&quot; class=&quot;user-hover&quot; rel=&quot;ipasynkov&quot;&gt;ipasynkov&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17190178" author="mjsax" created="Thu, 3 Sep 2020 14:19:24 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=DOJI&quot; class=&quot;user-hover&quot; rel=&quot;DOJI&quot;&gt;DOJI&lt;/a&gt;&#160;and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ipasynkov&quot; class=&quot;user-hover&quot; rel=&quot;ipasynkov&quot;&gt;ipasynkov&lt;/a&gt;! We should make sure that tickets are assigned properly to avoid such an overlap in the future.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0hhcw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>