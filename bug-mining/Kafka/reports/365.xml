<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:39:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-1119] Kafka 0.8.1 overwrites previous per topic config changes</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-1119</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;kafka-topics --alter --config overwrites the previous per topic configs. There is no way to override more than one per topic config for the same topic&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677431">KAFKA-1119</key>
            <summary>Kafka 0.8.1 overwrites previous per topic config changes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nehanarkhede">Neha Narkhede</assignee>
                                    <reporter username="nehanarkhede">Neha Narkhede</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Nov 2013 19:06:40 +0000</created>
                <updated>Fri, 8 Nov 2013 18:03:03 +0000</updated>
                            <resolved>Fri, 8 Nov 2013 01:46:01 +0000</resolved>
                                    <version>0.8.1</version>
                                                    <component>config</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13813577" author="nehanarkhede" created="Tue, 5 Nov 2013 02:33:45 +0000"  >&lt;p&gt;Turns out the right way to use the existing tool to specify more than one override is -&lt;/p&gt;

&lt;p&gt;./bin/kafka-topics.sh --zookeeper localhost:2181 --topic topicconfigtest --alter --config retention.ms=180000 --config segment.ms=180000&lt;/p&gt;
</comment>
                            <comment id="13813655" author="jkreps" created="Tue, 5 Nov 2013 05:25:11 +0000"  >&lt;p&gt;Hmm, but it looks like the current behavior is to just blindly set whatever properties are given on the command line as the FULL set of properties. So if I say&lt;br/&gt;
./bin/kafka-topics.sh --alter --config retention.ms=180000&lt;br/&gt;
I might think I am just changing the retention.ms but in reality I am unsetting any previous per-topic configs (whatever they may be) and setting retention.ms.&lt;/p&gt;

&lt;p&gt;Currently the code looks like this:&lt;br/&gt;
      val configs = parseTopicConfigs(opts)&lt;br/&gt;
      AdminUtils.changeTopicConfig(zkClient, topic, configs)&lt;/p&gt;

&lt;p&gt;I think it might be more intuitive if we interpreted the args as a diff to apply to the current settings. So the code would be soemthing like:&lt;br/&gt;
      val configs = AdminUtils.fetchTopicConfig(zkClient, topic)&lt;br/&gt;
      configs.addAll(parseTopicConfigs(opts))&lt;br/&gt;
      AdminUtils.changeTopicConfig(zkClient, topic, configs)&lt;/p&gt;

&lt;p&gt;This does have a downside, though. How do you remove an override? Let&apos;s say there is a default of X, setting X actually sets a topic override of X which is different from having no setting for the config (because if you change the default that topic would be unaffected). This is not hugely important but some options for handling this would be&lt;br/&gt;
  1. No value means delete the config: --config x=&lt;br/&gt;
  2. Add a new option for unconfiguring: --config x=12 and --unconfig x&lt;/p&gt;</comment>
                            <comment id="13814047" author="nehanarkhede" created="Tue, 5 Nov 2013 17:03:24 +0000"  >&lt;p&gt;Yes, removing overrides is an issue today. I like option #1 where no value means delete the per-topic override.&lt;/p&gt;</comment>
                            <comment id="13815093" author="nehanarkhede" created="Wed, 6 Nov 2013 18:10:54 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/15274/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/15274/&lt;/a&gt;&lt;br/&gt;
 against branch trunk&lt;/p&gt;</comment>
                            <comment id="13815097" author="nehanarkhede" created="Wed, 6 Nov 2013 18:13:38 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/15274/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/15274/&lt;/a&gt;&lt;br/&gt;
 against branch trunk&lt;/p&gt;</comment>
                            <comment id="13816177" author="nehanarkhede" created="Thu, 7 Nov 2013 17:50:44 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/15274/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/15274/&lt;/a&gt;&lt;br/&gt;
 against branch trunk&lt;/p&gt;</comment>
                            <comment id="13816200" author="nehanarkhede" created="Thu, 7 Nov 2013 18:18:06 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/15274/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/15274/&lt;/a&gt;&lt;br/&gt;
 against branch trunk&lt;/p&gt;</comment>
                            <comment id="13816877" author="nehanarkhede" created="Fri, 8 Nov 2013 01:07:39 +0000"  >&lt;p&gt;Updated reviewboard &lt;a href=&quot;https://reviews.apache.org/r/15274/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/15274/&lt;/a&gt;&lt;br/&gt;
 against branch trunk&lt;/p&gt;</comment>
                            <comment id="13816900" author="nehanarkhede" created="Fri, 8 Nov 2013 01:46:01 +0000"  >&lt;p&gt;Thanks for the reviews! Pushed to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12612409" name="KAFKA-1119.patch" size="5891" author="nehanarkhede" created="Wed, 6 Nov 2013 18:10:48 +0000"/>
                            <attachment id="12612410" name="KAFKA-1119_2013-11-06_10:13:13.patch" size="5457" author="nehanarkhede" created="Wed, 6 Nov 2013 18:13:33 +0000"/>
                            <attachment id="12612644" name="KAFKA-1119_2013-11-07_09:50:20.patch" size="7432" author="nehanarkhede" created="Thu, 7 Nov 2013 17:50:39 +0000"/>
                            <attachment id="12612651" name="KAFKA-1119_2013-11-07_10:17:14.patch" size="7876" author="nehanarkhede" created="Thu, 7 Nov 2013 18:17:58 +0000"/>
                            <attachment id="12612752" name="KAFKA-1119_2013-11-07_17:07:18.patch" size="8708" author="nehanarkhede" created="Fri, 8 Nov 2013 01:07:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pief:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357096</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>