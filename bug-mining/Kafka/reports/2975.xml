<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:27:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-6435] Application Reset Tool might delete incorrect internal topics</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-6435</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;The streams application reset tool, deletes all topic that start with &lt;tt&gt;&amp;lt;application.id&amp;gt;-&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;If people have two versions of the same application and name them &lt;tt&gt;&quot;app&quot;&lt;/tt&gt; and &lt;tt&gt;&quot;app-v2&quot;&lt;/tt&gt;, resetting &lt;tt&gt;&quot;app&quot;&lt;/tt&gt; would also delete the internal topics of &lt;tt&gt;&quot;app-v2&quot;&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;We either need to disallow the dash in the application ID, or improve the topic identification logic in the reset tool to fix this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13129726">KAFKA-6435</key>
            <summary>Application Reset Tool might delete incorrect internal topics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="JoelWee">Joel Wee</assignee>
                                    <reporter username="mjsax">Matthias J. Sax</reporter>
                        <labels>
                            <label>bug</label>
                            <label>help-wanted</label>
                            <label>kip</label>
                            <label>newbie</label>
                    </labels>
                <created>Wed, 10 Jan 2018 01:25:30 +0000</created>
                <updated>Fri, 11 Jun 2021 18:22:35 +0000</updated>
                            <resolved>Tue, 27 Apr 2021 22:45:29 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>streams</component>
                    <component>tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="17043163" author="bchen225242" created="Mon, 24 Feb 2020 05:35:50 +0000"  >&lt;p&gt;This is very an interesting scenario. However we currently have a `dry-run` mode before actually deleting the topics, so user could be alerted. Maybe we could also consider doing sth like a `negative prefix` which means the command should delete the app with prefix `app` but not `app-v2`&lt;/p&gt;</comment>
                            <comment id="17127673" author="joelwee" created="Sun, 7 Jun 2020 14:36:25 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bchen225242&quot; class=&quot;user-hover&quot; rel=&quot;bchen225242&quot;&gt;bchen225242&lt;/a&gt; and&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mjsax&quot; class=&quot;user-hover&quot; rel=&quot;mjsax&quot;&gt;mjsax&lt;/a&gt;, is this issue still worth resolving? If so I&apos;d like to, and would solve it by adding an option `ignore-prefixes` which takes in a comma separated list of prefixes to ignore.&lt;/p&gt;</comment>
                            <comment id="17127684" author="bchen225242" created="Sun, 7 Jun 2020 15:27:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JoelWee&quot; class=&quot;user-hover&quot; rel=&quot;JoelWee&quot;&gt;JoelWee&lt;/a&gt;&#160;Thanks for your interest! Feel free to take it, but the solution you propose requires a KIP. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mjsax&quot; class=&quot;user-hover&quot; rel=&quot;mjsax&quot;&gt;mjsax&lt;/a&gt;&#160;could you also share some thoughts on the alternative solutions here? I feel adding a regular expression option is also valid approach here.&lt;/p&gt;</comment>
                            <comment id="17127715" author="guozhang" created="Sun, 7 Jun 2020 16:58:39 +0000"  >&lt;p&gt;What about just adding a `--internal-topics` instead of a negative regex to the tools? It is opt-in and by default we still use prefix to get all internal topics. With that the workflow would be:&lt;/p&gt;

&lt;p&gt;1. use dry-run to check the internal topic names;&lt;br/&gt;
2. if internal topics name looks good, just without dry-run and without internal-topics specification; otherwise, list the internal topic names instead.&lt;/p&gt;</comment>
                            <comment id="17127772" author="mjsax" created="Sun, 7 Jun 2020 21:28:16 +0000"  >&lt;p&gt;I don&apos;t have a strong preference. Disallowing &quot;dash&quot;&#160;in the application.id seems to raise too many backward compatibility issue. Listing all internal topic might be tedious, especially if there are many internal topics (but maybe acceptable, if we assume it&apos;s a rare corner case)?&#160;&#8211; While &lt;tt&gt;--ignore-prefix&lt;/tt&gt;&#160;(even if I would use different name for the parameter) might be harder to grog, it might still be most convenient for users? &#8211; But in the end, this would be part of the KIP discussion anyway?&lt;/p&gt;</comment>
                            <comment id="17127880" author="bchen225242" created="Mon, 8 Jun 2020 04:49:50 +0000"  >&lt;p&gt;I would prefer we reach agreement on the approach here, before starting the KIP. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt;&#160;I think your approach should work, it just needs more explanatory on the tool usage, maybe we could get a mini blog for all the recent improvements on the reset tool for the next release. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mjsax&quot; class=&quot;user-hover&quot; rel=&quot;mjsax&quot;&gt;mjsax&lt;/a&gt;&#160;Do you also agree with Guozhang&apos;s idea?&lt;/p&gt;</comment>
                            <comment id="17128651" author="mjsax" created="Mon, 8 Jun 2020 20:58:27 +0000"  >&lt;p&gt;I would fine with adding `--internal-topics` flag.&lt;/p&gt;</comment>
                            <comment id="17128656" author="bchen225242" created="Mon, 8 Jun 2020 21:08:58 +0000"  >&lt;p&gt;Thanks for confirming! &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JoelWee&quot; class=&quot;user-hover&quot; rel=&quot;JoelWee&quot;&gt;JoelWee&lt;/a&gt;&#160;Do you think our discussion make sense, so that you could start drafting a KIP?&lt;/p&gt;</comment>
                            <comment id="17128669" author="joelwee" created="Mon, 8 Jun 2020 21:41:02 +0000"  >&lt;p&gt;Thanks all&#160;for the input, and thanks for pushing this along &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bchen225242&quot; class=&quot;user-hover&quot; rel=&quot;bchen225242&quot;&gt;bchen225242&lt;/a&gt;. Yes I think what you&apos;ve said makes sense and I&apos;ll start drafting a KIP&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3opvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>