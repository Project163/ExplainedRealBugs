<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:05:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-6391] output from ensure copartitioning is not used for Cluster metadata, resulting in partitions without tasks working on them</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-6391</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/kafka/blob/1.0/streams/src/main/java/org/apache/kafka/streams/processor/internals/StreamPartitionAssignor.java#L394&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/blob/1.0/streams/src/main/java/org/apache/kafka/streams/processor/internals/StreamPartitionAssignor.java#L394&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Map&amp;lt;TopicPartition, PartitionInfo&amp;gt; allRepartitionTopicPartitions is created from repartitionTopicMetadata&lt;br/&gt;
THEN we do ensureCoPartitioning on repartitionTopicMetadata&lt;br/&gt;
THEN we create topics and partitions according to repartitionTopicMetadata&lt;br/&gt;
THEN we use allRepartitionTopicPartitions to create our Cluster fullMetadata&lt;br/&gt;
THEN we use fullMetadata to assign the tasks and no longer use repartitionTopicMetadata&lt;/p&gt;

&lt;p&gt;This results in any change to repartitionTopicMetadata in ensureCoPartitioning to be used for creating partitions but no tasks are ever created for any partition added by ensureCoPartitioning()&lt;/p&gt;


&lt;p&gt;the fix is easy: First ensureCoPartitioning() on repartitionTopicMetadata before creating allRepartitionTopicPartitions&lt;/p&gt;</description>
                <environment></environment>
        <key id="13126316">KAFKA-6391</key>
            <summary>output from ensure copartitioning is not used for Cluster metadata, resulting in partitions without tasks working on them</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cvaliente">Clemens Valiente</assignee>
                                    <reporter username="cvaliente">Clemens Valiente</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Dec 2017 15:39:14 +0000</created>
                <updated>Tue, 2 Jan 2018 18:22:59 +0000</updated>
                            <resolved>Tue, 2 Jan 2018 18:22:59 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>streams</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="1200">20m</timeoriginalestimate>
                            <timeestimate seconds="1200">20m</timeestimate>
                                        <comments>
                            <comment id="16298657" author="cvaliente" created="Wed, 20 Dec 2017 15:48:00 +0000"  >&lt;p&gt;I dunno if I am too dumb to understand it correctly because it seems to be a relatively basic thing to get wrong..&lt;/p&gt;</comment>
                            <comment id="16298661" author="githubbot" created="Wed, 20 Dec 2017 15:52:31 +0000"  >&lt;p&gt;GitHub user cvaliente opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4347&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4347&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6391&quot; title=&quot;output from ensure copartitioning is not used for Cluster metadata, resulting in partitions without tasks working on them&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6391&quot;&gt;&lt;del&gt;KAFKA-6391&lt;/del&gt;&lt;/a&gt; ensure topics are created with correct partitions BEFORE building the&#8230;&lt;/p&gt;

&lt;p&gt;    ensure topics are created with correct partitions BEFORE building the metadata for our stream tasks&lt;/p&gt;

&lt;p&gt;    First ensureCoPartitioning() on repartitionTopicMetadata before creating allRepartitionTopicPartitions&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Committer Checklist (excluded from commit message)&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Verify design and implementation&lt;/li&gt;
	&lt;li&gt;[ ] Verify test coverage and CI build status&lt;/li&gt;
	&lt;li&gt;[ ] Verify documentation (including upgrade notes)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/cvaliente/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/cvaliente/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6391&quot; title=&quot;output from ensure copartitioning is not used for Cluster metadata, resulting in partitions without tasks working on them&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6391&quot;&gt;&lt;del&gt;KAFKA-6391&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4347.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4347.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4347&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit bda1803d50d984ef4860579d508c37487df9781a&lt;br/&gt;
Author: Clemens Valiente &amp;lt;clemens.valiente@...&amp;gt;&lt;br/&gt;
Date:   2017-12-20T15:45:41Z&lt;/p&gt;

&lt;p&gt;    ensure topics are created with correct partitions BEFORE building the metadata for our stream tasks&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16308455" author="githubbot" created="Tue, 2 Jan 2018 18:22:32 +0000"  >&lt;p&gt;guozhangwang closed pull request #4347: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6391&quot; title=&quot;output from ensure copartitioning is not used for Cluster metadata, resulting in partitions without tasks working on them&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6391&quot;&gt;&lt;del&gt;KAFKA-6391&lt;/del&gt;&lt;/a&gt; ensure topics are created with correct partitions BEFORE building the&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/4347&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4347&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/streams/src/main/java/org/apache/kafka/streams/processor/internals/StreamPartitionAssignor.java b/streams/src/main/java/org/apache/kafka/streams/processor/internals/StreamPartitionAssignor.java&lt;br/&gt;
index d5a1fe69121..83e5835de7f 100644&lt;br/&gt;
&amp;#8212; a/streams/src/main/java/org/apache/kafka/streams/processor/internals/StreamPartitionAssignor.java&lt;br/&gt;
+++ b/streams/src/main/java/org/apache/kafka/streams/processor/internals/StreamPartitionAssignor.java&lt;br/&gt;
@@ -361,6 +361,16 @@ public Subscription subscription(Set&amp;lt;String&amp;gt; topics) {&lt;br/&gt;
             }&lt;br/&gt;
         } while (numPartitionsNeeded);&lt;/p&gt;

&lt;p&gt;+&lt;br/&gt;
+        // ensure the co-partitioning topics within the group have the same number of partitions,&lt;br/&gt;
+        // and enforce the number of partitions for those repartition topics to be the same if they&lt;br/&gt;
+        // are co-partitioned as well.&lt;br/&gt;
+        ensureCopartitioning(taskManager.builder().copartitionGroups(), repartitionTopicMetadata, metadata);&lt;br/&gt;
+&lt;br/&gt;
+        // make sure the repartition source topics exist with the right number of partitions,&lt;br/&gt;
+        // create these topics if necessary&lt;br/&gt;
+        prepareTopic(repartitionTopicMetadata);&lt;br/&gt;
+&lt;br/&gt;
         // augment the metadata with the newly computed number of partitions for all the&lt;br/&gt;
         // repartition source topics&lt;br/&gt;
         final Map&amp;lt;TopicPartition, PartitionInfo&amp;gt; allRepartitionTopicPartitions = new HashMap&amp;lt;&amp;gt;();&lt;br/&gt;
@@ -374,15 +384,6 @@ public Subscription subscription(Set&amp;lt;String&amp;gt; topics) {&lt;br/&gt;
             }&lt;br/&gt;
         }&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;// ensure the co-partitioning topics within the group have the same number of partitions,&lt;/li&gt;
	&lt;li&gt;// and enforce the number of partitions for those repartition topics to be the same if they&lt;/li&gt;
	&lt;li&gt;// are co-partitioned as well.&lt;/li&gt;
	&lt;li&gt;ensureCopartitioning(taskManager.builder().copartitionGroups(), repartitionTopicMetadata, metadata);&lt;br/&gt;
-&lt;/li&gt;
	&lt;li&gt;// make sure the repartition source topics exist with the right number of partitions,&lt;/li&gt;
	&lt;li&gt;// create these topics if necessary&lt;/li&gt;
	&lt;li&gt;prepareTopic(repartitionTopicMetadata);&lt;br/&gt;
-&lt;br/&gt;
         final Cluster fullMetadata = metadata.withPartitions(allRepartitionTopicPartitions);&lt;br/&gt;
         taskManager.setClusterMetadata(fullMetadata);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;diff --git a/streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamPartitionAssignorTest.java b/streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamPartitionAssignorTest.java&lt;br/&gt;
index d9e0ee7bb30..582c70b3dfd 100644&lt;br/&gt;
&amp;#8212; a/streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamPartitionAssignorTest.java&lt;br/&gt;
+++ b/streams/src/test/java/org/apache/kafka/streams/processor/internals/StreamPartitionAssignorTest.java&lt;br/&gt;
@@ -31,6 +31,7 @@&lt;br/&gt;
 import org.apache.kafka.streams.StreamsConfig;&lt;br/&gt;
 import org.apache.kafka.streams.kstream.JoinWindows;&lt;br/&gt;
 import org.apache.kafka.streams.kstream.KStream;&lt;br/&gt;
+import org.apache.kafka.streams.kstream.KTable;&lt;br/&gt;
 import org.apache.kafka.streams.kstream.KeyValueMapper;&lt;br/&gt;
 import org.apache.kafka.streams.kstream.Materialized;&lt;br/&gt;
 import org.apache.kafka.streams.kstream.ValueJoiner;&lt;br/&gt;
@@ -398,10 +399,11 @@ public void testAssignWithStates() throws Exception &lt;/p&gt;
{
         UUID uuid1 = UUID.randomUUID();
         UUID uuid2 = UUID.randomUUID();
 
-        mockTaskManager(Collections.&amp;lt;TaskId&amp;gt;emptySet(),
-                               Collections.&amp;lt;TaskId&amp;gt;emptySet(),
-                               uuid1,
-                builder);
+        mockTaskManager(
+            Collections.&amp;lt;TaskId&amp;gt;emptySet(),
+            Collections.&amp;lt;TaskId&amp;gt;emptySet(),
+            uuid1,
+            builder);
         configurePartitionAssignor(Collections.&amp;lt;String, Object&amp;gt;emptyMap());
 
         partitionAssignor.setInternalTopicManager(new MockInternalTopicManager(streamsConfig, mockClientSupplier.restoreConsumer));
@@ -632,6 +634,106 @@ public void testAssignWithInternalTopicThatsSourceIsAnotherInternalTopic() throw
         assertEquals(allTasks.size(), (long) internalTopicManager.readyTopics.get(&quot;test-topicZ&quot;));
     }

&lt;p&gt;+    @Test&lt;br/&gt;
+    public void shouldGenerateTasksForAllCreatedPartitions() throws Exception {&lt;br/&gt;
+        final StreamsBuilder builder = new StreamsBuilder();&lt;br/&gt;
+&lt;br/&gt;
+        final InternalTopologyBuilder internalTopologyBuilder = StreamsBuilderTest.internalTopologyBuilder(builder);&lt;br/&gt;
+        internalTopologyBuilder.setApplicationId(applicationId);&lt;br/&gt;
+&lt;br/&gt;
+        // KStream with 3 partitions&lt;br/&gt;
+        KStream&amp;lt;Object, Object&amp;gt; stream1 = builder&lt;br/&gt;
+            .stream(&quot;topic1&quot;)&lt;br/&gt;
+            // force creation of internal repartition topic&lt;br/&gt;
+            .map(new KeyValueMapper&amp;lt;Object, Object, KeyValue&amp;lt;Object, Object&amp;gt;&amp;gt;() {&lt;br/&gt;
+                @Override&lt;br/&gt;
+                public KeyValue&amp;lt;Object, Object&amp;gt; apply(final Object key, final Object value) &lt;/p&gt;
{
+                    return new KeyValue&amp;lt;&amp;gt;(key, value);
+                }&lt;br/&gt;
+            });&lt;br/&gt;
+&lt;br/&gt;
+        // KTable with 4 partitions&lt;br/&gt;
+        KTable&amp;lt;Object, Long&amp;gt; table1 = builder&lt;br/&gt;
+            .table(&quot;topic3&quot;)&lt;br/&gt;
+            // force creation of internal repartition topic&lt;br/&gt;
+            .groupBy(new KeyValueMapper&amp;lt;Object, Object, KeyValue&amp;lt;Object, Object&amp;gt;&amp;gt;() {&lt;br/&gt;
+                @Override&lt;br/&gt;
+                public KeyValue&amp;lt;Object, Object&amp;gt; apply(final Object key, final Object value) {+                    return new KeyValue&amp;lt;&amp;gt;(key, value);+                }
&lt;p&gt;+            })&lt;br/&gt;
+            .count();&lt;br/&gt;
+&lt;br/&gt;
+        // joining the stream and the table&lt;br/&gt;
+        // this triggers the enforceCopartitioning() routine in the StreamPartitionAssignor,&lt;br/&gt;
+        // forcing the stream.map to get repartitioned to a topic with four partitions.&lt;br/&gt;
+        stream1.join(&lt;br/&gt;
+            table1,&lt;br/&gt;
+            new ValueJoiner() {&lt;br/&gt;
+                @Override&lt;br/&gt;
+                public Object apply(final Object value1, final Object value2) &lt;/p&gt;
{
+                    return null;
+                }
&lt;p&gt;+            });&lt;br/&gt;
+&lt;br/&gt;
+        final UUID uuid = UUID.randomUUID();&lt;br/&gt;
+        final String client = &quot;client1&quot;;&lt;br/&gt;
+&lt;br/&gt;
+        mockTaskManager(&lt;br/&gt;
+            Collections.&amp;lt;TaskId&amp;gt;emptySet(),&lt;br/&gt;
+            Collections.&amp;lt;TaskId&amp;gt;emptySet(),&lt;br/&gt;
+            UUID.randomUUID(),&lt;br/&gt;
+            internalTopologyBuilder);&lt;br/&gt;
+        configurePartitionAssignor(Collections.&amp;lt;String, Object&amp;gt;emptyMap());&lt;br/&gt;
+&lt;br/&gt;
+        final MockInternalTopicManager mockInternalTopicManager = new MockInternalTopicManager(&lt;br/&gt;
+            streamsConfig,&lt;br/&gt;
+            mockClientSupplier.restoreConsumer);&lt;br/&gt;
+        partitionAssignor.setInternalTopicManager(mockInternalTopicManager);&lt;br/&gt;
+&lt;br/&gt;
+        final Map&amp;lt;String, PartitionAssignor.Subscription&amp;gt; subscriptions = new HashMap&amp;lt;&amp;gt;();&lt;br/&gt;
+        final Set&amp;lt;TaskId&amp;gt; emptyTasks = Collections.emptySet();&lt;br/&gt;
+        subscriptions.put(&lt;br/&gt;
+            client,&lt;br/&gt;
+            new PartitionAssignor.Subscription(&lt;br/&gt;
+                Utils.mkList(&quot;topic1&quot;, &quot;topic3&quot;),&lt;br/&gt;
+                new SubscriptionInfo(uuid, emptyTasks, emptyTasks, userEndPoint).encode()&lt;br/&gt;
+            )&lt;br/&gt;
+        );&lt;br/&gt;
+&lt;br/&gt;
+        final Map&amp;lt;String, PartitionAssignor.Assignment&amp;gt; assignment = partitionAssignor.assign(metadata, subscriptions);&lt;br/&gt;
+&lt;br/&gt;
+        final Map&amp;lt;String, Integer&amp;gt; expectedCreatedInternalTopics = new HashMap&amp;lt;&amp;gt;();&lt;br/&gt;
+        expectedCreatedInternalTopics.put(applicationId + &quot;-KTABLE-AGGREGATE-STATE-STORE-0000000006-repartition&quot;, 4);&lt;br/&gt;
+        expectedCreatedInternalTopics.put(applicationId + &quot;-KTABLE-AGGREGATE-STATE-STORE-0000000006-changelog&quot;, 4);&lt;br/&gt;
+        expectedCreatedInternalTopics.put(applicationId + &quot;-KSTREAM-MAP-0000000001-repartition&quot;, 4);&lt;br/&gt;
+        expectedCreatedInternalTopics.put(applicationId + &quot;-topic3-STATE-STORE-0000000002-changelog&quot;, 4);&lt;br/&gt;
+&lt;br/&gt;
+        // check if all internal topics were created as expected&lt;br/&gt;
+        assertThat(mockInternalTopicManager.readyTopics, equalTo(expectedCreatedInternalTopics));&lt;br/&gt;
+&lt;br/&gt;
+        final List&amp;lt;TopicPartition&amp;gt; expectedAssignment = Arrays.asList(&lt;br/&gt;
+            new TopicPartition(&quot;topic1&quot;, 0),&lt;br/&gt;
+            new TopicPartition(&quot;topic1&quot;, 1),&lt;br/&gt;
+            new TopicPartition(&quot;topic1&quot;, 2),&lt;br/&gt;
+            new TopicPartition(&quot;topic3&quot;, 0),&lt;br/&gt;
+            new TopicPartition(&quot;topic3&quot;, 1),&lt;br/&gt;
+            new TopicPartition(&quot;topic3&quot;, 2),&lt;br/&gt;
+            new TopicPartition(&quot;topic3&quot;, 3),&lt;br/&gt;
+            new TopicPartition(applicationId + &quot;-KTABLE-AGGREGATE-STATE-STORE-0000000006-repartition&quot;, 0),&lt;br/&gt;
+            new TopicPartition(applicationId + &quot;-KTABLE-AGGREGATE-STATE-STORE-0000000006-repartition&quot;, 1),&lt;br/&gt;
+            new TopicPartition(applicationId + &quot;-KTABLE-AGGREGATE-STATE-STORE-0000000006-repartition&quot;, 2),&lt;br/&gt;
+            new TopicPartition(applicationId + &quot;-KTABLE-AGGREGATE-STATE-STORE-0000000006-repartition&quot;, 3),&lt;br/&gt;
+            new TopicPartition(applicationId + &quot;-KSTREAM-MAP-0000000001-repartition&quot;, 0),&lt;br/&gt;
+            new TopicPartition(applicationId + &quot;-KSTREAM-MAP-0000000001-repartition&quot;, 1),&lt;br/&gt;
+            new TopicPartition(applicationId + &quot;-KSTREAM-MAP-0000000001-repartition&quot;, 2),&lt;br/&gt;
+            new TopicPartition(applicationId + &quot;-KSTREAM-MAP-0000000001-repartition&quot;, 3)&lt;br/&gt;
+        );&lt;br/&gt;
+&lt;br/&gt;
+        // check if we created a task for all expected topicPartitions.&lt;br/&gt;
+        assertThat(new HashSet&amp;lt;&amp;gt;(assignment.get(client).partitions()), equalTo(new HashSet&amp;lt;&amp;gt;(expectedAssignment)));&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
     @Test&lt;br/&gt;
     public void shouldAddUserDefinedEndPointToSubscription() throws Exception {&lt;br/&gt;
         builder.setApplicationId(applicationId);&lt;br/&gt;
@@ -640,10 +742,11 @@ public void shouldAddUserDefinedEndPointToSubscription() throws Exception {&lt;br/&gt;
         builder.addSink(&quot;sink&quot;, &quot;output&quot;, null, null, null, &quot;processor&quot;);&lt;/p&gt;

&lt;p&gt;         final UUID uuid1 = UUID.randomUUID();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;mockTaskManager(Collections.&amp;lt;TaskId&amp;gt;emptySet(),&lt;/li&gt;
	&lt;li&gt;Collections.&amp;lt;TaskId&amp;gt;emptySet(),&lt;/li&gt;
	&lt;li&gt;uuid1,&lt;/li&gt;
	&lt;li&gt;builder);&lt;br/&gt;
+        mockTaskManager(&lt;br/&gt;
+            Collections.&amp;lt;TaskId&amp;gt;emptySet(),&lt;br/&gt;
+            Collections.&amp;lt;TaskId&amp;gt;emptySet(),&lt;br/&gt;
+            uuid1,&lt;br/&gt;
+            builder);&lt;br/&gt;
         configurePartitionAssignor(Collections.singletonMap(StreamsConfig.APPLICATION_SERVER_CONFIG, (Object) userEndPoint));&lt;br/&gt;
         final PartitionAssignor.Subscription subscription = partitionAssignor.subscription(Utils.mkSet(&quot;input&quot;));&lt;br/&gt;
         final SubscriptionInfo subscriptionInfo = SubscriptionInfo.decode(subscription.userData());&lt;br/&gt;
@@ -837,10 +940,11 @@ public void shouldNotAddStandbyTaskPartitionsToPartitionsForHost() throws Except&lt;br/&gt;
         builder.stream(&quot;topic1&quot;).groupByKey().count();&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         final UUID uuid = UUID.randomUUID();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;mockTaskManager(Collections.&amp;lt;TaskId&amp;gt;emptySet(),&lt;/li&gt;
	&lt;li&gt;Collections.&amp;lt;TaskId&amp;gt;emptySet(),&lt;/li&gt;
	&lt;li&gt;uuid,&lt;/li&gt;
	&lt;li&gt;internalTopologyBuilder);&lt;br/&gt;
+        mockTaskManager(&lt;br/&gt;
+            Collections.&amp;lt;TaskId&amp;gt;emptySet(),&lt;br/&gt;
+            Collections.&amp;lt;TaskId&amp;gt;emptySet(),&lt;br/&gt;
+            uuid,&lt;br/&gt;
+            internalTopologyBuilder);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         Map&amp;lt;String, Object&amp;gt; props = new HashMap&amp;lt;&amp;gt;();&lt;br/&gt;
         props.put(StreamsConfig.NUM_STANDBY_REPLICAS_CONFIG, 1);&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 45 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3o4xj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>