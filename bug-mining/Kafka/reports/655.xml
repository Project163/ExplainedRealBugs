<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:42:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-2088] kafka-console-consumer.sh should not create zookeeper path when no brokers found and chroot was set in zookeeper.connect</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-2088</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;1. set server.properties&lt;br/&gt;
server.properties:&lt;br/&gt;
zookeeper.connect = 192.168.0.10:2181,192.168.0.10:2181,192.168.0.10:2181/kafka&lt;/p&gt;

&lt;p&gt;2 default zookeeepr path:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;zk: 192.168.0.10:2181(CONNECTED) 10&amp;#93;&lt;/span&gt; ls /&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;zookeeper, kafka, storm&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;3.start console consumer use a not exist topic and zookeeper address without chroot.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;root@stream client_0402&amp;#93;&lt;/span&gt;# kafka-console-consumer.sh --zookeeper 192.168.0.10:2181 --topic test --from-beginning&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2015-04-03 18:15:28,599&amp;#93;&lt;/span&gt; WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;console-consumer-63060_stream-1428056127990-d35ca648&amp;#93;&lt;/span&gt;, no brokers found when trying to rebalance. (kafka.consumer.ZookeeperConsumerConnector)&lt;/p&gt;


&lt;p&gt;4.then &quot;/consumer&quot; and &quot;/brokers&quot; path was create in zookeeper.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;zk: 192.168.0.10:2181(CONNECTED) 2&amp;#93;&lt;/span&gt; ls /&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;zookeeper, consumers, kafka, storm, brokers&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;so it is a bug. consumer should not create &quot;/consumer&quot; and &quot;/brokers&quot; path .&lt;/p&gt;</description>
                <environment></environment>
        <key id="12787885">KAFKA-2088</key>
            <summary>kafka-console-consumer.sh should not create zookeeper path when no brokers found and chroot was set in zookeeper.connect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ransom">Zhiqiang He</assignee>
                                    <reporter username="ransom">Zhiqiang He</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Apr 2015 02:38:58 +0000</created>
                <updated>Sat, 18 Apr 2015 15:49:40 +0000</updated>
                            <resolved>Sat, 18 Apr 2015 15:49:39 +0000</resolved>
                                    <version>0.8.2.1</version>
                                    <fixVersion>0.9.0.0</fixVersion>
                                    <component>clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14492448" author="ransom" created="Mon, 13 Apr 2015 14:24:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/33132/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/33132/diff/&lt;/a&gt;&lt;br/&gt;
please review it.&lt;/p&gt;</comment>
                            <comment id="14500026" author="gwenshap" created="Fri, 17 Apr 2015 15:25:36 +0000"  >&lt;p&gt;Thanks for fixing this and for the friendly error message. The patch looks good to me.&lt;/p&gt;

&lt;p&gt;I suspect that we have a similar issue with TopicCommand, if you have time, perhaps you can check it as well.&lt;/p&gt;</comment>
                            <comment id="14500104" author="ransom" created="Fri, 17 Apr 2015 16:09:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt;&lt;br/&gt;
I have aleady test topic command in kafka 0.8.2.1 &lt;br/&gt;
./kafka-topics.sh --zookeeper 127.0.0.1:2181 --list&lt;br/&gt;
./kafka-topics.sh --zookeeper 127.0.0.1:2181 --describe &lt;br/&gt;
./kafka-topics.sh --zookeeper 127.0.0.1:2181 --describe test&lt;br/&gt;
./kafka-topics.sh --zookeeper 127.0.0.1:2181 --create --topic test --partitions 1 --replication-factor 2&lt;br/&gt;
these all does not create path in zookeeper. they all looks good.&lt;br/&gt;
I does&apos;t found the same issues.&lt;/p&gt;</comment>
                            <comment id="14500286" author="gwenshap" created="Fri, 17 Apr 2015 17:47:13 +0000"  >&lt;p&gt;Awesome, thanks for checking &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14500289" author="gwenshap" created="Fri, 17 Apr 2015 17:48:59 +0000"  >&lt;p&gt;Pinging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=junrao&quot; class=&quot;user-hover&quot; rel=&quot;junrao&quot;&gt;junrao&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jjkoshy&quot; class=&quot;user-hover&quot; rel=&quot;jjkoshy&quot;&gt;jjkoshy&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nehanarkhede&quot; class=&quot;user-hover&quot; rel=&quot;nehanarkhede&quot;&gt;nehanarkhede&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt; for taking a look and perhaps committing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14500330" author="junrao" created="Fri, 17 Apr 2015 18:06:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ransom&quot; class=&quot;user-hover&quot; rel=&quot;ransom&quot;&gt;ransom&lt;/a&gt;, thanks for the patch. It may be reasonable to start a console consumer before the data is produced or even the Kafka cluster is started. It just won&apos;t get any data until the cluster is up and the data is produced. It&apos;s reasonable for the console consumer to create /consumer path. However, it probably shouldn&apos;t create /brokers, do you know what triggered this inside console consumer?&lt;/p&gt;</comment>
                            <comment id="14500473" author="gwenshap" created="Fri, 17 Apr 2015 19:21:14 +0000"  >&lt;p&gt;I think the main problem here is that someone mistyping the zookeeper chroot path (or points a consumer at the wrong ZK) looks indistinguishable from someone starting a consumer before the cluster exists. The first is far more common though (at least in my experience), so it will be nice to warn the user that things are not  as he expected.&lt;/p&gt;</comment>
                            <comment id="14501055" author="ransom" created="Sat, 18 Apr 2015 03:11:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=junrao&quot; class=&quot;user-hover&quot; rel=&quot;junrao&quot;&gt;junrao&lt;/a&gt;&lt;br/&gt;
II have read codes but not found where to create these path in zookeeper.&lt;br/&gt;
So I add a check before kafka-console-consumer.sh start.&lt;/p&gt;</comment>
                            <comment id="14501427" author="junrao" created="Sat, 18 Apr 2015 15:49:40 +0000"  >&lt;p&gt;Thanks for the explanation. That makes sense. +1 on the patch and committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12724940" name="kafka-2088.1.patch" size="1000" author="ransom" created="Mon, 13 Apr 2015 14:20:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27qjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>