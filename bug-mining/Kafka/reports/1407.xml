<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:00:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-4607] Kafka Streams allows you to provide strings with illegal characters for internal topic names</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-4607</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;When using the aggregate function of the Kafka Streams DSL, I supplied the function with a name for the underlying state store that contained whitespace. The stream application ran with no error message but seemed to be hanging. &lt;/p&gt;

&lt;p&gt;After a lot of troubleshooting, I looked in the logs on the Kafka cluster and noticed that it was complaining about illegal characters in the log line. It turns out that an internal changelog topic had been created that contained whitespace and this was causing both Kafka and ZK to choke. I was unable to use the delete-topic command line utility as it also threw the illegal character error. In the end I had to manually delete the topics out of ZK (using an open source ZK tool because the ZK delete command was choking on any strings with spaces) and do some stuff with the offset logs.&lt;/p&gt;

&lt;p&gt;I am not well versed in the Kafka or Kafka Streams code, but from looking through it, I notice that &lt;a href=&quot;https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/processor/internals/InternalTopicManager.java#L170&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;InternalTopicManager&lt;/a&gt; does not seem to validate the names of auto-generated internal topics beyond &lt;a href=&quot;https://github.com/apache/kafka/blob/trunk/streams/src/main/java/org/apache/kafka/streams/processor/internals/InternalTopicConfig.java#L38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;checking for null topic names&lt;/a&gt; rather than using Topic.validate.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13032724">KAFKA-4607</key>
            <summary>Kafka Streams allows you to provide strings with illegal characters for internal topic names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nthean">Nikki Thean</assignee>
                                    <reporter username="nthean">Nikki Thean</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Jan 2017 23:20:36 +0000</created>
                <updated>Fri, 17 Mar 2017 19:03:58 +0000</updated>
                            <resolved>Fri, 17 Mar 2017 19:03:14 +0000</resolved>
                                                    <fixVersion>0.11.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15806138" author="githubbot" created="Fri, 6 Jan 2017 23:27:24 +0000"  >&lt;p&gt;GitHub user nixsticks opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2331&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2331&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4607&quot; title=&quot;Kafka Streams allows you to provide strings with illegal characters for internal topic names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4607&quot;&gt;&lt;del&gt;KAFKA-4607&lt;/del&gt;&lt;/a&gt;: Validate the names of auto-generated internal topics&lt;/p&gt;

&lt;p&gt;    I considered catching errors to add further information about naming internal state stores. However, Topic.validate() will throw an error that prints the offending name, so I decided not to add too much complexity.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/nixsticks/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/nixsticks/kafka&lt;/a&gt; internal-topics&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2331.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2331.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2331&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5ffb1ccd2a6624ba96522612caf30fe13f183fa4&lt;br/&gt;
Author: Nikki Thean &amp;lt;nthean@etsy.com&amp;gt;&lt;br/&gt;
Date:   2017-01-06T23:21:38Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4607&quot; title=&quot;Kafka Streams allows you to provide strings with illegal characters for internal topic names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4607&quot;&gt;&lt;del&gt;KAFKA-4607&lt;/del&gt;&lt;/a&gt;: Validate the names of auto-generated internal topics&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15806176" author="mjsax" created="Fri, 6 Jan 2017 23:43:19 +0000"  >&lt;p&gt;Very good catch!&lt;/p&gt;</comment>
                            <comment id="15930507" author="guozhang" created="Fri, 17 Mar 2017 19:03:14 +0000"  >&lt;p&gt;Issue resolved by pull request 2331&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/2331&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2331&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15930509" author="githubbot" created="Fri, 17 Mar 2017 19:03:58 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2331&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2331&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38dv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>