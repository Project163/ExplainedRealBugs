<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:27:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-12749] Changelog topic config on suppressed KTable lost</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-12749</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;When trying to set the changelog configuration on a suppressed KTable, the config is lost if either&#160;&lt;tt&gt;emitEarlyWhenFull&lt;/tt&gt; or&#160;&lt;tt&gt;shutDownWhenFull&lt;/tt&gt; is set after the logging config.&lt;/p&gt;

&lt;p&gt;This works -&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
.suppress(Suppressed.untilTimeLimit(Duration.ofMillis(maxIdleIntervalMs), BufferConfig.maxRecords(
 maxBufferRecords).emitEarlyWhenFull().withLoggingEnabled(changelogConfig))&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but not if you set&#160;&lt;tt&gt;emitEarlyWhenFull&lt;/tt&gt;&#160;last.&lt;/p&gt;

&lt;p&gt;See comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8147&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/KAFKA-8147&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13376645">KAFKA-12749</key>
            <summary>Changelog topic config on suppressed KTable lost</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vishranganathan">Viswanathan Ranganathan</assignee>
                                    <reporter username="philbour">Philip Bourke</reporter>
                        <labels>
                            <label>newbie</label>
                            <label>newbie++</label>
                    </labels>
                <created>Tue, 4 May 2021 22:05:21 +0000</created>
                <updated>Fri, 4 Jun 2021 08:06:04 +0000</updated>
                            <resolved>Thu, 3 Jun 2021 18:00:51 +0000</resolved>
                                    <version>2.6.0</version>
                    <version>2.7.0</version>
                    <version>2.8.0</version>
                                    <fixVersion>2.8.1</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>streams</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17339355" author="ableegoldman" created="Tue, 4 May 2021 23:49:21 +0000"  >&lt;p&gt;Thanks for filing a ticket &#8211; we should try to get this fixed up in 3.0 since it&apos;s kind of awkward to just silently drop the user&apos;s specified configurations, we&apos;re lucky that you happened to notice this at all. Just copying over our observation of the underlying problem:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Seems like BufferConfigInternal#emitEarlyWhenFull creates a new EagerBufferConfigImpl and passes the two original configs (maxRecords and maxBytes) in to the constructor, but loses the logging configs at that point. Same thing for BufferConfigInternal#shutDownWhenFull&#160;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think we can do a trivial, one-line fix to just pass the logging configs as a parameter to the constructor for an immediate patch in 3.0 (or two lines, one for the EagerBufferConfigImpl and one for the StrictBufferConfigImpl constructed in BufferConfigInternal). And maybe also remove the constructor that doesn&apos;t accept a logConfig parameter so you&apos;re forced to specify it explicitly, whether it&apos;s empty/unspecified or not.&lt;/p&gt;

&lt;p&gt;Eventually we probably want to refactor things a bit for a more natural fluent API, and try to future-proof things a bit so we don&apos;t accidentally introduce bugs like this again. But that&apos;s not as urgent&lt;/p&gt;</comment>
                            <comment id="17341452" author="vishranganathan" created="Sun, 9 May 2021 04:41:10 +0000"  >&lt;p&gt;Hi&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ableegoldman&quot; class=&quot;user-hover&quot; rel=&quot;ableegoldman&quot;&gt;ableegoldman&lt;/a&gt;.&#160;&lt;/p&gt;

&lt;p&gt;I am interested in picking up this issue and get my feet wet in contributing to the Kafka community. I am currently unable to assign the ticket to myself. Would appreciate it if you can assign this ticket to me.&#160;&lt;/p&gt;

&lt;p&gt;Thank you&lt;/p&gt;</comment>
                            <comment id="17342120" author="ableegoldman" created="Mon, 10 May 2021 20:09:33 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vishranganathan&quot; class=&quot;user-hover&quot; rel=&quot;vishranganathan&quot;&gt;vishranganathan&lt;/a&gt;, assigned the ticket to you. I also added you as a contributor so you can self-assign from now on&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13223330">KAFKA-8147</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0qq2o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>