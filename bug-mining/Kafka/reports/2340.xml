<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:19:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-8592] Broker Dynamic Configuration fails to resolve variables as per KIP-421 </title>
                <link>https://issues.apache.org/jira/browse/KAFKA-8592</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;In add/alter new configs for DynamicConfigs it does not go through the KafkaConfig&lt;br/&gt;
eg: bin/kafka-configs --bootstrap-server localhost:9092 --entity-type brokers --entity-name 0 --alter --add-config log.cleaner.threads=2&lt;br/&gt;
However the bootstrap-server localhost is parsed through the kafkaConfig to create the adminClient but not the log.cleaner.thread.&#160;&lt;/p&gt;

&lt;p&gt;As the configs are not parsed using the KafkaConfig if we pass variables in configs they are bot resolved at run time.&lt;/p&gt;

&lt;p&gt;In order to resolve the variables&#160;in alterConfig/addConfigs flow we need to parse the new configs&#160; using KafkaConfig before they are parsed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13241283">KAFKA-8592</key>
            <summary>Broker Dynamic Configuration fails to resolve variables as per KIP-421 </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tejal">TEJAL ADSUL</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Jun 2019 15:25:44 +0000</created>
                <updated>Fri, 16 Aug 2019 07:43:58 +0000</updated>
                            <resolved>Fri, 16 Aug 2019 07:43:58 +0000</resolved>
                                    <version>2.3.0</version>
                                    <fixVersion>2.3.1</fixVersion>
                                    <component>config</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16871409" author="tejal" created="Mon, 24 Jun 2019 15:30:17 +0000"  >&lt;p&gt;Code Review:&#160;&lt;a href=&quot;https://github.com/apache/kafka/pull/6992/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/6992/files&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16875330" author="tejal" created="Sat, 29 Jun 2019 00:49:21 +0000"  >&lt;p&gt;On further debugging the issue, the auto resolution is actually happening on the broker side. The Broker performs validation of configs before processing it so if we substitute a non string value with string it fails the validation. For auto resolution we substitute the configs with a tuple with config provider info so it fails the validation for non string configs.&#160;&lt;/p&gt;

&lt;p&gt;I validated the flow for a string config ssl.keystore.password and its working as expected. So need to fix for non string values. Eg it fails for log.cleaner.threads with exception:&#160;&lt;b&gt;&#8220;Invalid value ${&lt;a href=&quot;file:/usr/kerberos:log&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/usr/kerberos:log&lt;/a&gt;} for configuration log.cleaner.threads: Not a number of type INT&#8221;&lt;/b&gt;&lt;/p&gt;</comment>
                            <comment id="16908821" author="rsivaram" created="Fri, 16 Aug 2019 07:40:35 +0000"  >&lt;p&gt;New PR for this is here: &lt;a href=&quot;https://github.com/apache/kafka/pull/7031&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/7031&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16908824" author="githubbot" created="Fri, 16 Aug 2019 07:43:26 +0000"  >&lt;p&gt;rajinisivaram commented on pull request #7031: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8592&quot; title=&quot;Broker Dynamic Configuration fails to resolve variables as per KIP-421 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8592&quot;&gt;&lt;del&gt;KAFKA-8592&lt;/del&gt;&lt;/a&gt;; Fix for resolving variables for dynamic config as per KIP-421.&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/7031&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/7031&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13210656">KAFKA-7847</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z041rs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>rsivaram</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>