<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:33:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-10337] Wait for pending async commits in commitSync() even if no offsets are specified</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-10337</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;The JavaDoc for commitSync() states the following:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Note that asynchronous offset commits sent previously with the&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {@link #commitAsync(OffsetCommitCallback)}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; (or similar) are guaranteed to have their callbacks invoked prior to completion of this method.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;But should we happen to call the method with an empty offset map&lt;br/&gt;
(i.e. commitSync(Collections.emptyMap())) the callbacks for any incomplete async commits will not be invoked because of an early return in ConsumerCoordinator.commitOffsetsSync() when the input map is empty.&lt;/p&gt;

&lt;p&gt;If users are doing manual offset commits and relying on commitSync as a barrier for in-flight async commits prior to a rebalance, this could be an important (though somewhat implementation-dependent) detail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13320521">KAFKA-10337</key>
            <summary>Wait for pending async commits in commitSync() even if no offsets are specified</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erikvanoosten">Erik van Oosten</assignee>
                                    <reporter username="thomaslee">Tom Lee</reporter>
                        <labels>
                    </labels>
                <created>Sun, 2 Aug 2020 02:21:29 +0000</created>
                <updated>Thu, 20 Jul 2023 05:17:27 +0000</updated>
                            <resolved>Wed, 7 Jun 2023 14:56:00 +0000</resolved>
                                                    <fixVersion>3.6.0</fixVersion>
                                    <component>clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17169439" author="thomaslee" created="Sun, 2 Aug 2020 02:40:30 +0000"  >&lt;p&gt;Opened &lt;a href=&quot;https://github.com/apache/kafka/pull/9111&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/9111&lt;/a&gt; to address this particular edge case.&lt;/p&gt;</comment>
                            <comment id="17720113" author="erikvanoosten" created="Sat, 6 May 2023 06:41:39 +0000"  >&lt;p&gt;Opened &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomaslee&quot; class=&quot;user-hover&quot; rel=&quot;thomaslee&quot;&gt;thomaslee&lt;/a&gt; &apos;s PR again: &lt;a href=&quot;https://github.com/apache/kafka/pull/13678&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/13678&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17720114" author="erikvanoosten" created="Sat, 6 May 2023 06:43:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomaslee&quot; class=&quot;user-hover&quot; rel=&quot;thomaslee&quot;&gt;thomaslee&lt;/a&gt; when we use commitAsync from the rebalance listener (potentially with empty offsets), no polling takes place anymore. Shall I amend the PR so that it does polling from commitAsync as well? WDYT?&lt;/p&gt;</comment>
                            <comment id="17730665" author="erikvanoosten" created="Thu, 8 Jun 2023 18:23:26 +0000"  >&lt;p&gt;Thanks for your PR &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomaslee&quot; class=&quot;user-hover&quot; rel=&quot;thomaslee&quot;&gt;thomaslee&lt;/a&gt;. It has been merged now with little changes.&lt;/p&gt;</comment>
                            <comment id="17744877" author="thomaslee" created="Thu, 20 Jul 2023 05:17:27 +0000"  >&lt;p&gt;Thanks for pushing this through &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erikvanoosten&quot; class=&quot;user-hover&quot; rel=&quot;erikvanoosten&quot;&gt;erikvanoosten&lt;/a&gt;, nice to see this finally land. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0heds:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>