<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:52:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-3157] Mirror maker doesn&apos;t commit offset with new consumer when there is no more messages</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-3157</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Mirror maker doesn&apos;t commit messages with new consumer enabled when messages are sent to source within the time range that is smaller than commit interval and no more messages are sent afterwards.&lt;/p&gt;

&lt;p&gt;The steps to reproduce:&lt;/p&gt;

&lt;p&gt;1. Start mirror maker.&lt;br/&gt;
2. The default commit interval is 1 min. Send message for less than 1 min for example 10 seconds.&lt;br/&gt;
3. Don&apos;t send more messages.&lt;br/&gt;
4. Check committed offset with group command. The lag remains unchanged for ever even though the messages have been sent to destination.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12934376">KAFKA-3157</key>
            <summary>Mirror maker doesn&apos;t commit offset with new consumer when there is no more messages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xiaotao183">TAO XIAO</assignee>
                                    <reporter username="xiaotao183">TAO XIAO</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jan 2016 09:45:46 +0000</created>
                <updated>Fri, 5 Feb 2016 17:11:48 +0000</updated>
                            <resolved>Fri, 5 Feb 2016 17:11:45 +0000</resolved>
                                    <version>0.9.0.0</version>
                                    <fixVersion>0.9.0.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15120954" author="githubbot" created="Thu, 28 Jan 2016 07:44:43 +0000"  >&lt;p&gt;GitHub user xiaotao183 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/821&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/821&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3157&quot; title=&quot;Mirror maker doesn&amp;#39;t commit offset with new consumer when there is no more messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3157&quot;&gt;&lt;del&gt;KAFKA-3157&lt;/del&gt;&lt;/a&gt; - Mirror maker doesn&apos;t commit offset&lt;/p&gt;

&lt;p&gt;    Mirror maker doesn&apos;t commit offset with new consumer enabled when data volume is low. This is caused by infinite loop in ```receive()``` which would never jump out of loop if no data coming&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/xiaotao183/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/xiaotao183/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3157&quot; title=&quot;Mirror maker doesn&amp;#39;t commit offset with new consumer when there is no more messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3157&quot;&gt;&lt;del&gt;KAFKA-3157&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/821.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/821.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #821&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c3221c0d0391080889ab899f8570b629561a8529&lt;br/&gt;
Author: Tao Xiao &amp;lt;xiaotao183@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-01-28T07:42:27Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3157&quot; title=&quot;Mirror maker doesn&amp;#39;t commit offset with new consumer when there is no more messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3157&quot;&gt;&lt;del&gt;KAFKA-3157&lt;/del&gt;&lt;/a&gt; - Mirror maker doesn&apos;t commit offset with new consumer enabled if data volume is low&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15129588" author="githubbot" created="Wed, 3 Feb 2016 01:52:52 +0000"  >&lt;p&gt;Github user xiaotao183 closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/821&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/821&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15129589" author="githubbot" created="Wed, 3 Feb 2016 01:52:53 +0000"  >&lt;p&gt;GitHub user xiaotao183 reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/821&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/821&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3157&quot; title=&quot;Mirror maker doesn&amp;#39;t commit offset with new consumer when there is no more messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3157&quot;&gt;&lt;del&gt;KAFKA-3157&lt;/del&gt;&lt;/a&gt; - Mirror maker doesn&apos;t commit offset&lt;/p&gt;

&lt;p&gt;    Mirror maker doesn&apos;t commit offset with new consumer enabled when data volume is low. This is caused by infinite loop in ```receive()``` which would never jump out of loop if no data coming&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/xiaotao183/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/xiaotao183/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3157&quot; title=&quot;Mirror maker doesn&amp;#39;t commit offset with new consumer when there is no more messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3157&quot;&gt;&lt;del&gt;KAFKA-3157&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/821.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/821.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #821&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c3221c0d0391080889ab899f8570b629561a8529&lt;br/&gt;
Author: Tao Xiao &amp;lt;xiaotao183@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-01-28T07:42:27Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3157&quot; title=&quot;Mirror maker doesn&amp;#39;t commit offset with new consumer when there is no more messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3157&quot;&gt;&lt;del&gt;KAFKA-3157&lt;/del&gt;&lt;/a&gt; - Mirror maker doesn&apos;t commit offset with new consumer enabled if data volume is low&lt;/p&gt;

&lt;p&gt;commit f674012525cc17b6d68e18ccf8819f9e84936ef9&lt;br/&gt;
Author: Tao Xiao &amp;lt;xiaotao183@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-02-02T10:58:09Z&lt;/p&gt;

&lt;p&gt;    Reuse NewShinyConsumer receive to make receive behavior in mirror maker consistent across the board&lt;/p&gt;

&lt;p&gt;commit 18fe1a60ddcc2b75d357f664bdedb5cebfb5bb3a&lt;br/&gt;
Author: Tao Xiao &amp;lt;xiaotao183@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-02-02T11:12:58Z&lt;/p&gt;

&lt;p&gt;    add parentheses to next&lt;/p&gt;

&lt;p&gt;commit 3f193b04ab9fa6f2abaf80b07c259cbf8fb5dba2&lt;br/&gt;
Author: Tao Xiao &amp;lt;xiaotao183@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-02-02T11:14:31Z&lt;/p&gt;

&lt;p&gt;    avoid whitespace in empty line&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15134492" author="guozhang" created="Fri, 5 Feb 2016 17:11:45 +0000"  >&lt;p&gt;Issue resolved by pull request 821&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/821&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/821&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15134493" author="githubbot" created="Fri, 5 Feb 2016 17:11:48 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/821&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/821&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2s0rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>