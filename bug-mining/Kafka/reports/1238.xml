<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:56:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-4313] ISRs may thrash when replication quota is enabled</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-4313</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;I created a high volume topic and a low volume topic, each with 1000 partitions and 2 replicas on 2 brokers. I populated the high volume topic with 4GB of data. Added a third broker and ran the rebalance tool with a 2MB/sec replication quota. At some point, all replicas for the low volume topic have been moved over and the new replicas are all in sync, but the high volume replicas are still catching up. Then, I started slowly producing to the low volume topic. Once I do that, I started seeing the low volume partitions&apos; ISR constantly expanding and shrinking. The observed ISR change rate is ~ 6/sec. So, it does seem that ISR thrashing can happen.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13013367">KAFKA-4313</key>
            <summary>ISRs may thrash when replication quota is enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="junrao">Jun Rao</assignee>
                                    <reporter username="junrao">Jun Rao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Oct 2016 02:00:00 +0000</created>
                <updated>Thu, 20 Oct 2016 10:11:24 +0000</updated>
                            <resolved>Thu, 20 Oct 2016 10:11:23 +0000</resolved>
                                    <version>0.10.1.0</version>
                                    <fixVersion>0.10.1.1</fixVersion>
                    <fixVersion>0.10.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15587386" author="junrao" created="Wed, 19 Oct 2016 02:01:07 +0000"  >&lt;p&gt;One way to fix this is that we avoid throttling those replicas in the throttled replica list that are already in sync. Those in-sync replicas traffic will still be accounted for the throttled traffic though.&lt;/p&gt;</comment>
                            <comment id="15587404" author="githubbot" created="Wed, 19 Oct 2016 02:10:00 +0000"  >&lt;p&gt;GitHub user junrao opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2043&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2043&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4313&quot; title=&quot;ISRs may thrash when replication quota is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4313&quot;&gt;&lt;del&gt;KAFKA-4313&lt;/del&gt;&lt;/a&gt;: ISRs may thrash when replication quota is enabled&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/junrao/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/junrao/kafka&lt;/a&gt; kafka-4313&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2043.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2043.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2043&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 4fd876cc82b8ff5b455ecde8cb4a97fc3cf18c75&lt;br/&gt;
Author: Jun Rao &amp;lt;junrao@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-10-19T02:07:16Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4313&quot; title=&quot;ISRs may thrash when replication quota is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4313&quot;&gt;&lt;del&gt;KAFKA-4313&lt;/del&gt;&lt;/a&gt;: ISRs may thrash when replication quota is enabled&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15591416" author="githubbot" created="Thu, 20 Oct 2016 10:11:18 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2043&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2043&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15591418" author="ijuma" created="Thu, 20 Oct 2016 10:11:24 +0000"  >&lt;p&gt;Issue resolved by pull request 2043&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/2043&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2043&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i352g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>