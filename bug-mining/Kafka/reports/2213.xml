<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:17:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-8030] Flaky Test TopicCommandWithAdminClientTest#testDescribeUnderMinIsrPartitionsMixed</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-8030</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/2830/testReport/junit/kafka.admin/TopicCommandWithAdminClientTest/testDescribeUnderMinIsrPartitionsMixed/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/2830/testReport/junit/kafka.admin/TopicCommandWithAdminClientTest/testDescribeUnderMinIsrPartitionsMixed/&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;java.lang.AssertionError at org.junit.Assert.fail(Assert.java:87) at org.junit.Assert.assertTrue(Assert.java:42) at org.junit.Assert.assertTrue(Assert.java:53) at kafka.admin.TopicCommandWithAdminClientTest.testDescribeUnderMinIsrPartitionsMixed(TopicCommandWithAdminClientTest.scala:602)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;STDERR&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Option &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;replica-assignment&amp;#93;&lt;/span&gt;&quot; can&apos;t be used with option &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;partitions&amp;#93;&lt;/span&gt;&quot;&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="13219129">KAFKA-8030</key>
            <summary>Flaky Test TopicCommandWithAdminClientTest#testDescribeUnderMinIsrPartitionsMixed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="viktorsomogyi">Viktor Somogyi-Vass</assignee>
                                    <reporter username="mjsax">Matthias J. Sax</reporter>
                        <labels>
                            <label>flaky-test</label>
                    </labels>
                <created>Sun, 3 Mar 2019 05:31:44 +0000</created>
                <updated>Mon, 21 Oct 2019 11:08:49 +0000</updated>
                            <resolved>Mon, 21 Oct 2019 11:08:49 +0000</resolved>
                                    <version>2.3.0</version>
                                    <fixVersion>2.5.0</fixVersion>
                                    <component>admin</component>
                    <component>unit tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16782757" author="omkreddy" created="Sun, 3 Mar 2019 15:26:45 +0000"  >&lt;p&gt;cc&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viktorsomogyi&quot; class=&quot;user-hover&quot; rel=&quot;viktorsomogyi&quot;&gt;viktorsomogyi&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16789241" author="viktorsomogyi" created="Mon, 11 Mar 2019 07:28:15 +0000"  >&lt;p&gt;I&apos;ll take a look&lt;/p&gt;</comment>
                            <comment id="16793972" author="mjsax" created="Fri, 15 Mar 2019 21:59:28 +0000"  >&lt;p&gt;Failed again: &lt;a href=&quot;https://builds.apache.org/blue/organizations/jenkins/kafka-trunk-jdk11/detail/kafka-trunk-jdk11/376/tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/blue/organizations/jenkins/kafka-trunk-jdk11/detail/kafka-trunk-jdk11/376/tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16794351" author="mjsax" created="Sat, 16 Mar 2019 21:59:58 +0000"  >&lt;p&gt;One more: &lt;a href=&quot;https://builds.apache.org/blue/organizations/jenkins/kafka-trunk-jdk8/detail/kafka-trunk-jdk8/3471/tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/blue/organizations/jenkins/kafka-trunk-jdk8/detail/kafka-trunk-jdk8/3471/tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16794364" author="mjsax" created="Sat, 16 Mar 2019 22:32:28 +0000"  >&lt;p&gt;Again: &lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/3279/testReport/junit/kafka.admin/TopicCommandWithAdminClientTest/testDescribeUnderMinIsrPartitionsMixed/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/3279/testReport/junit/kafka.admin/TopicCommandWithAdminClientTest/testDescribeUnderMinIsrPartitionsMixed/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16795965" author="viktorsomogyi" created="Tue, 19 Mar 2019 10:46:39 +0000"  >&lt;p&gt;Started working on this, now trying to reproduce. I don&apos;t exactly see why does it fail but I have the feeling that we have to wait for metadata propagation after killing the broker.&lt;/p&gt;</comment>
                            <comment id="16801909" author="viktorsomogyi" created="Tue, 26 Mar 2019 16:31:23 +0000"  >&lt;p&gt;Update: couldn&apos;t reproduce the flakiness by simply running the tests. I really think that the issue here is the asynchronicity with Zookeeper so I&apos;ll make a PR tomorrow to eliminate this by waiting for topic metadata changes in alive brokers. The pattern that is used in testDescribeUnderMinIsrPartitionsMixed is present elsewhere and I have yet to eliminate one more trickier case.&lt;/p&gt;</comment>
                            <comment id="16801911" author="viktorsomogyi" created="Tue, 26 Mar 2019 16:33:00 +0000"  >&lt;p&gt;Also: the STDERR output belongs to a different test (&lt;tt&gt;testCreateWithAssignmentAndPartitionCount&lt;/tt&gt;) which tests if those argument combinations are not valid together.&lt;/p&gt;</comment>
                            <comment id="16802771" author="githubbot" created="Wed, 27 Mar 2019 13:21:15 +0000"  >&lt;p&gt;viktorsomogyi commented on pull request #6505: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8030&quot; title=&quot;Flaky Test TopicCommandWithAdminClientTest#testDescribeUnderMinIsrPartitionsMixed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8030&quot;&gt;&lt;del&gt;KAFKA-8030&lt;/del&gt;&lt;/a&gt;: Fix flaky tests in TopicCommandWithAdminClientTest&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/6505&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/6505&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   This change adds waits for metadata updates after killing the broker in order to make the tests more stable.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Committer Checklist (excluded from commit message)&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Verify design and implementation&lt;/li&gt;
	&lt;li&gt;[ ] Verify test coverage and CI build status&lt;/li&gt;
	&lt;li&gt;[ ] Verify documentation (including upgrade notes)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16806948" author="githubbot" created="Mon, 1 Apr 2019 16:19:21 +0000"  >&lt;p&gt;omkreddy commented on pull request #6505: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8030&quot; title=&quot;Flaky Test TopicCommandWithAdminClientTest#testDescribeUnderMinIsrPartitionsMixed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8030&quot;&gt;&lt;del&gt;KAFKA-8030&lt;/del&gt;&lt;/a&gt;: Fix flaky tests in TopicCommandWithAdminClientTest&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/6505&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/6505&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16821368" author="mjsax" created="Thu, 18 Apr 2019 18:11:07 +0000"  >&lt;p&gt;Failed again:&#160;&lt;a href=&quot;https://builds.apache.org/blue/organizations/jenkins/kafka-trunk-jdk11/detail/kafka-trunk-jdk11/445/tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/blue/organizations/jenkins/kafka-trunk-jdk11/detail/kafka-trunk-jdk11/445/tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16822608" author="mjsax" created="Sun, 21 Apr 2019 02:00:55 +0000"  >&lt;p&gt;Might be related:&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8269&quot; title=&quot;Flaky Test TopicCommandWithAdminClientTest#testDescribeUnderMinIsrPartitionsMixed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8269&quot;&gt;&lt;del&gt;KAFKA-8269&lt;/del&gt;&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16828965" author="mjsax" created="Mon, 29 Apr 2019 07:04:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/4111/testReport/junit/kafka.admin/TopicCommandWithAdminClientTest/testDescribeUnderMinIsrPartitionsMixed/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/4111/testReport/junit/kafka.admin/TopicCommandWithAdminClientTest/testDescribeUnderMinIsrPartitionsMixed/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16830086" author="viktorsomogyi" created="Tue, 30 Apr 2019 09:09:54 +0000"  >&lt;p&gt;I think I managed to reproduce it, or at least something like it. Running it for more than 17 hours the 204th iteration failed.&lt;/p&gt;</comment>
                            <comment id="16830302" author="viktorsomogyi" created="Tue, 30 Apr 2019 13:34:49 +0000"  >&lt;p&gt;Managed to reproduce a failure again with logs. Now it&apos;s better, just 1 hour and 100 something&#160;iterations&#160;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;Attached the info level logs. Will look into it later this week.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12967494/12967494_testDescribeUnderMinIsrPartitionsMixed.log&quot; title=&quot;testDescribeUnderMinIsrPartitionsMixed.log attached to KAFKA-8030&quot;&gt;testDescribeUnderMinIsrPartitionsMixed.log&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="16955959" author="viktorsomogyi" created="Mon, 21 Oct 2019 11:08:49 +0000"  >&lt;p&gt;Since there were no further reports I take it as my PR fixed the problem. I&apos;m closing this jira but please reopen if any flakiness reoccurs.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13220579">KAFKA-8081</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13229251">KAFKA-8269</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12967494" name="testDescribeUnderMinIsrPartitionsMixed.log" size="501782" author="viktorsomogyi" created="Tue, 30 Apr 2019 13:34:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z009u8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>