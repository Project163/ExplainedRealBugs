<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:00:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-4564] When the destination brokers are down or misconfigured in config, Streams should fail fast</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-4564</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Today if Kafka is down or users misconfigure the bootstrap list, Streams may just hangs for a while without any error messages even with the log4j enabled, which is quite confusing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029597">KAFKA-4564</key>
            <summary>When the destination brokers are down or misconfigured in config, Streams should fail fast</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mjsax">Matthias J. Sax</assignee>
                                    <reporter username="guozhang">Guozhang Wang</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Tue, 20 Dec 2016 23:25:26 +0000</created>
                <updated>Sun, 23 Apr 2017 15:24:36 +0000</updated>
                            <resolved>Fri, 21 Apr 2017 17:53:41 +0000</resolved>
                                                    <fixVersion>0.11.0.0</fixVersion>
                                    <component>streams</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15792067" author="umesh9794@gmail.com" created="Mon, 2 Jan 2017 02:54:52 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt;, please assign this to me.&lt;/p&gt;</comment>
                            <comment id="15793379" author="ewencp" created="Mon, 2 Jan 2017 19:35:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=umesh9794%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;umesh9794@gmail.com&quot;&gt;umesh9794@gmail.com&lt;/a&gt; I have assigned you, and also given you contributor permissions on the project so you can assign yourself to tickets in the future.&lt;/p&gt;</comment>
                            <comment id="15793810" author="umesh9794@gmail.com" created="Tue, 3 Jan 2017 01:01:05 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ewencp&quot; class=&quot;user-hover&quot; rel=&quot;ewencp&quot;&gt;ewencp&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15814359" author="umesh9794@gmail.com" created="Tue, 10 Jan 2017 08:48:38 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ewencp&quot; class=&quot;user-hover&quot; rel=&quot;ewencp&quot;&gt;ewencp&lt;/a&gt;, I am thinking to create a KafkaProducer (using the properties wrapped in the StreamsConfig) inside the constructor of StreamTask class to verify whether user has configured the bootstrap listed correctly or not. For misconfigured bootstrap list, we can throw the appropriate exception here itself without proceeding further. &lt;/p&gt;

&lt;p&gt;Please suggest if that was the expectation form this JIRA and correct me if I am wrong here.&lt;/p&gt;</comment>
                            <comment id="15854436" author="mjsax" created="Mon, 6 Feb 2017 17:46:25 +0000"  >&lt;p&gt;With new client compatibility in &lt;tt&gt;0.10.2&lt;/tt&gt; we did add some startup broker version verification code &amp;#8211; this might resolve this issue, too. But I am not sure &amp;#8211; at least I think it related. Can anyone verify (\cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt;). Cf. &lt;a href=&quot;https://github.com/apache/kafka/pull/2403&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2403&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15856964" author="gwenshap" created="Tue, 7 Feb 2017 22:51:13 +0000"  >&lt;p&gt;OMG, this is great. I got this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[2017-02-07 14:48:10,250] INFO Deleting obsolete state directory 0_0 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; task 0_0 as cleanup delay of 0 ms has passed (org.apache.kafka.streams.processor.internals.StateDirectory)
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.kafka.streams.errors.StreamsException: Could not find any available broker.
	at org.apache.kafka.streams.processor.internals.StreamsKafkaClient.getBrokerId(StreamsKafkaClient.java:205)
	at org.apache.kafka.streams.processor.internals.StreamsKafkaClient.checkBrokerCompatibility(StreamsKafkaClient.java:266)
	at org.apache.kafka.streams.KafkaStreams.checkBrokerVersionCompatibility(KafkaStreams.java:392)
	at org.apache.kafka.streams.KafkaStreams.start(KafkaStreams.java:416)
	at com.shapira.examples.streams.stockstats.StockStatsExample.main(StockStatsExample.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It took about a minute to get it though. Is this timeout tunable?&lt;/p&gt;</comment>
                            <comment id="15857193" author="mjsax" created="Wed, 8 Feb 2017 01:32:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt; You can configure it via `request.timeout.ms` &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15857198" author="mjsax" created="Wed, 8 Feb 2017 01:36:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt; Can we close this ?&lt;/p&gt;</comment>
                            <comment id="15860430" author="mjsax" created="Fri, 10 Feb 2017 00:00:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=umesh9794%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;umesh9794@gmail.com&quot;&gt;umesh9794@gmail.com&lt;/a&gt; It would be nice if you could add a system test for older brokers (i.e., pre-0.10). See &lt;tt&gt;streams_broker_compatibliliy.py&lt;/tt&gt; &amp;#8211; if you don&apos;t want to do it, I can take it over, too.&lt;/p&gt;</comment>
                            <comment id="15963479" author="githubbot" created="Mon, 10 Apr 2017 21:00:28 +0000"  >&lt;p&gt;GitHub user mjsax opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2837&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2837&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4564&quot; title=&quot;When the destination brokers are down or misconfigured in config, Streams should fail fast&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4564&quot;&gt;&lt;del&gt;KAFKA-4564&lt;/del&gt;&lt;/a&gt;: Add system test for pre-0.10 brokers&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mjsax/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mjsax/kafka&lt;/a&gt; kafka-4564-fail-fast-test-stream-compatibility&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2837.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2837.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2837&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 6f6e6cfcc866887c5dfabb94bd90d2a39bd5cb18&lt;br/&gt;
Author: Matthias J. Sax &amp;lt;matthias@confluent.io&amp;gt;&lt;br/&gt;
Date:   2017-04-10T18:18:01Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4564&quot; title=&quot;When the destination brokers are down or misconfigured in config, Streams should fail fast&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4564&quot;&gt;&lt;del&gt;KAFKA-4564&lt;/del&gt;&lt;/a&gt;: Add system test for pre-0.10 brokers&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15979125" author="guozhang" created="Fri, 21 Apr 2017 17:53:41 +0000"  >&lt;p&gt;Issue resolved by pull request 2837&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/2837&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2837&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15979128" author="githubbot" created="Fri, 21 Apr 2017 17:54:24 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2837&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2837&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15980091" author="githubbot" created="Sat, 22 Apr 2017 19:13:12 +0000"  >&lt;p&gt;GitHub user mjsax opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2897&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2897&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4564&quot; title=&quot;When the destination brokers are down or misconfigured in config, Streams should fail fast&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4564&quot;&gt;&lt;del&gt;KAFKA-4564&lt;/del&gt;&lt;/a&gt;: follow up hotfix for system test&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mjsax/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mjsax/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4564&quot; title=&quot;When the destination brokers are down or misconfigured in config, Streams should fail fast&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4564&quot;&gt;&lt;del&gt;KAFKA-4564&lt;/del&gt;&lt;/a&gt;-follow-up&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2897.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2897.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2897&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3a8ca51fad7c8e9221c3709b354f37a072c5f71d&lt;br/&gt;
Author: Matthias J. Sax &amp;lt;matthias@confluent.io&amp;gt;&lt;br/&gt;
Date:   2017-04-22T19:12:01Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4564&quot; title=&quot;When the destination brokers are down or misconfigured in config, Streams should fail fast&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4564&quot;&gt;&lt;del&gt;KAFKA-4564&lt;/del&gt;&lt;/a&gt;: follow up hotfix for system test&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15980432" author="githubbot" created="Sun, 23 Apr 2017 15:24:36 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2897&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2897&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13040509">KAFKA-4737</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37ul3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>