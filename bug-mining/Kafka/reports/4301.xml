<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:43:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-19606] Anomaly of JMX metrics RequestHandlerAvgIdlePercent in kraft combined mode</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-19606</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;JMX metrics RequestHandlerAvgIdlePercent reports a value close to 2 in combined kraft mode but it&apos;s expected to be b/w 0 and 1.&lt;/p&gt;

&lt;p&gt;This is an issue with combined mode specifically because both controller + broker are using the same Meter object in combined mode, defined in &lt;tt&gt;RequestThreadIdleMeter#requestThreadIdleMeter&lt;/tt&gt;, but the controller and broker are using separate&#160;&lt;tt&gt;KafkaRequestHandlerPool&lt;/tt&gt; objects, where each object&apos;s &lt;tt&gt;threadPoolSize == KafkaConfig.numIoThreads&lt;/tt&gt;. This means when calculating idle time, each pool divides by its own &lt;tt&gt;numIoThreads&lt;/tt&gt;&#160;value before reporting to the shared meter and&#160;&#160;&lt;tt&gt;RequestHandlerAvgIdlePercent&lt;/tt&gt;&#160;calculates the final result by accumulating all the values reported by all threads. However, since there are actually 2 &#215; numIoThreads total threads contributing to the metric, the denominator should be doubled to get the correct average.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13626403">KAFKA-19606</key>
            <summary>Anomaly of JMX metrics RequestHandlerAvgIdlePercent in kraft combined mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tzyyzt2025">tony tang</assignee>
                                    <reporter username="tzyyzt2025">tony tang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Aug 2025 20:23:09 +0000</created>
                <updated>Thu, 30 Oct 2025 17:38:01 +0000</updated>
                            <resolved>Thu, 30 Oct 2025 14:59:16 +0000</resolved>
                                                    <fixVersion>4.2.0</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                            <attachment id="13077991" name="Screenshot 2025-08-14 at 12.41.42.png" size="166581" author="tzyyzt2025" created="Thu, 14 Aug 2025 23:46:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1x9gw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>