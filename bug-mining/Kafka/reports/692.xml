<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:43:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-2252] Socket connection closing is logged, but not corresponding opening of socket</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-2252</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;(using 0.8.2.1)&lt;br/&gt;
We see a large number of &quot;Closing socket connection&quot; logging to the broker logs, e.g.:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2015-06-04 16:49:30,262  INFO [kafka-network-thread-27330-2] network.Processor - Closing socket connection to /1.2.3.4.
2015-06-04 16:49:30,262  INFO [kafka-network-thread-27330-0] network.Processor - Closing socket connection to /5.6.7.8.
2015-06-04 16:49:30,695  INFO [kafka-network-thread-27330-0] network.Processor - Closing socket connection to /9.10.11.12.
2015-06-04 16:49:31,465  INFO [kafka-network-thread-27330-1] network.Processor - Closing socket connection to /13.14.15.16.
2015-06-04 16:49:31,806  INFO [kafka-network-thread-27330-0] network.Processor - Closing socket connection to /17.18.19.20.
2015-06-04 16:49:31,842  INFO [kafka-network-thread-27330-2] network.Processor - Closing socket connection to /21.22.23.24.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, we have no corresponding logging for when these connections are established.  Consequently, it&apos;s not very useful to see a flood of closed connections, etc.  I&apos;d think we&apos;d want to see the corresponding &apos;connection established&apos; messages, also logged as INFO.&lt;/p&gt;

&lt;p&gt;Occasionally, we see a flood of the above messages, and have no idea as to whether it indicates a problem, etc.  (Sometimes it might be due to an ongoing rolling restart, or a change in the Zookeeper cluster).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12835528">KAFKA-2252</key>
            <summary>Socket connection closing is logged, but not corresponding opening of socket</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gwenshap">Gwen Shapira</assignee>
                                    <reporter username="jbrosenberg@gmail.com">Jason Rosenberg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Jun 2015 20:52:32 +0000</created>
                <updated>Tue, 16 Jun 2015 22:38:20 +0000</updated>
                            <resolved>Tue, 16 Jun 2015 22:38:20 +0000</resolved>
                                                    <fixVersion>0.9.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14585519" author="omkreddy" created="Mon, 15 Jun 2015 07:04:16 +0000"  >&lt;p&gt;Some of these logs are removed/modified as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-1928&quot; title=&quot;Move kafka.network over to using the network classes in org.apache.kafka.common.network&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-1928&quot;&gt;&lt;del&gt;KAFKA-1928&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14586390" author="gwenshap" created="Mon, 15 Jun 2015 17:48:24 +0000"  >&lt;p&gt;We still have this exact issue. Only now its in Selector and not SocketServer.&lt;/p&gt;</comment>
                            <comment id="14586437" author="toddpalino" created="Mon, 15 Jun 2015 18:18:54 +0000"  >&lt;p&gt;I moved the normal connection closed message to DEBUG level in &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2175&quot; title=&quot;Reduce server log verbosity at info level&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2175&quot;&gt;&lt;del&gt;KAFKA-2175&lt;/del&gt;&lt;/a&gt;. In general, we should not log either normal connection close or open at INFO level. There is far too much noise due to these messages.&lt;/p&gt;</comment>
                            <comment id="14586445" author="gwenshap" created="Mon, 15 Jun 2015 18:24:10 +0000"  >&lt;p&gt;Ick! I lost your fix while working on &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-1928&quot; title=&quot;Move kafka.network over to using the network classes in org.apache.kafka.common.network&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-1928&quot;&gt;&lt;del&gt;KAFKA-1928&lt;/del&gt;&lt;/a&gt;. So sorry!&lt;/p&gt;

&lt;p&gt;I&apos;ll move it back to DEBUG, add another DEBUG for creating connections (for symmetry), and I think we are good.&lt;/p&gt;</comment>
                            <comment id="14586744" author="gwenshap" created="Mon, 15 Jun 2015 21:28:27 +0000"  >&lt;p&gt;Created reviewboard &lt;a href=&quot;https://reviews.apache.org/r/35474/diff/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/35474/diff/&lt;/a&gt;&lt;br/&gt;
 against branch trunk&lt;/p&gt;</comment>
                            <comment id="14588933" author="junrao" created="Tue, 16 Jun 2015 22:38:20 +0000"  >&lt;p&gt;Thanks for the patch. +1 and committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12739697" name="KAFKA-2252.patch" size="1773" author="gwenshap" created="Mon, 15 Jun 2015 21:28:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fnlj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>