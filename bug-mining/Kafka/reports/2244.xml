<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:18:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-8289] KTable&lt;Windowed&lt;String&gt;, Long&gt;  can&apos;t be suppressed</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-8289</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;I&#160;write a simple stream app followed official developer guide &lt;a href=&quot;#window-final-results]&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Stream DSL&lt;/a&gt;. but I got more than one&#160;&lt;a href=&quot;https://kafka.apache.org/22/documentation/streams/developer-guide/dsl-api.html#id31&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Window Final Results&lt;/a&gt;&#160;from a session time window.&lt;/p&gt;

&lt;p&gt;time ticker A -&amp;gt; (4,A) / 25s,&lt;/p&gt;

&lt;p&gt;time ticker B -&amp;gt; (4, B) / 25s&#160; all send to the same topic&#160;&lt;/p&gt;

&lt;p&gt;below is my stream app code&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
kstreams[0]
.peek((k, v) -&amp;gt; log.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;--&amp;gt; ping, k={},v={}&quot;&lt;/span&gt;, k, v))
.groupBy((k, v) -&amp;gt; v, Grouped.with(Serdes.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;(), Serdes.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;()))
.windowedBy(SessionWindows.with(Duration.ofSeconds(100)).grace(Duration.ofMillis(20)))
.count()
.suppress(Suppressed.untilWindowCloses(BufferConfig.unbounded()))
.toStream().peek((k, v) -&amp;gt; log.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;window={},k={},v={}&quot;&lt;/span&gt;, k.window(), k.key(), v));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;tt&gt;here is my log print&lt;/tt&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2019-04-24 20:00:26.142  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:00:47.070  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556106587744, endMs=1556107129191},k=A,v=20
2019-04-24 20:00:51.071  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:01:16.065  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:01:41.066  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:02:06.069  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:02:31.066  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:02:56.208  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:03:21.070  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:03:46.078  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:04:04.684  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:04:11.069  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:04:19.371  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107226473, endMs=1556107426409},k=B,v=9
2019-04-24 20:04:19.372  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107445012, endMs=1556107445012},k=A,v=1
2019-04-24 20:04:29.604  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:04:36.067  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:04:49.715  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107226473, endMs=1556107451397},k=B,v=10
2019-04-24 20:04:49.716  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107445012, endMs=1556107469935},k=A,v=2
2019-04-24 20:04:54.593  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:05:01.070  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:05:19.599  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:05:20.045  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107226473, endMs=1556107476398},k=B,v=11
2019-04-24 20:05:20.047  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107226473, endMs=1556107501398},k=B,v=12
2019-04-24 20:05:26.075  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:05:44.598  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:05:50.399  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107445012, endMs=1556107519930},k=A,v=4
2019-04-24 20:05:50.400  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107226473, endMs=1556107526405},k=B,v=13
2019-04-24 20:05:51.067  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:06:09.595  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:06:16.089  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:06:20.765  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107445012, endMs=1556107544929},k=A,v=5
2019-04-24 20:06:20.767  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107445012, endMs=1556107569926},k=A,v=6
2019-04-24 20:06:34.595  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:06:41.063  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:06:51.081  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107226473, endMs=1556107576415},k=B,v=15
2019-04-24 20:06:51.082  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107445012, endMs=1556107594925},k=A,v=7
2019-04-24 20:06:59.607  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:07:06.072  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:07:21.440  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107226473, endMs=1556107601391},k=B,v=16
2019-04-24 20:07:21.441  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107445012, endMs=1556107619935},k=A,v=8
2019-04-24 20:07:24.596  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:07:31.066  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:07:49.608  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:07:51.775  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107226473, endMs=1556107626420},k=B,v=17
2019-04-24 20:07:51.777  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107226473, endMs=1556107651396},k=B,v=18
2019-04-24 20:07:56.064  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:08:14.591  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:08:21.066  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:08:22.125  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107445012, endMs=1556107669943},k=A,v=10
2019-04-24 20:08:22.126  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107445012, endMs=1556107694921},k=A,v=11
2019-04-24 20:08:39.619  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:08:46.067  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:08:52.457  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107226473, endMs=1556107701397},k=B,v=20
2019-04-24 20:08:52.458  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107445012, endMs=1556107719949},k=A,v=12
2019-04-24 20:09:04.599  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=A
2019-04-24 20:09:11.066  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : --&amp;gt; ping, k=4,v=B
2019-04-24 20:09:22.794  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107226473, endMs=1556107726398},k=B,v=21   
2019-04-24 20:09:22.796  INFO --- [-StreamThread-1] c.g.k.AppStreams                        : window=Window{startMs=1556107445012, endMs=1556107744928},k=A,v=13&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;Can&#8216;t a&#160;&lt;span class=&quot;error&quot;&gt;&amp;#91;SessionWindowedKStream&amp;#93;&lt;/span&gt;&#160;be suppressed after count operation? It seems the latest type record produce a previous type record &apos;Window Final Results&apos;. I just want&#160;get exactly one&#160;&lt;a href=&quot;https://kafka.apache.org/22/documentation/streams/developer-guide/dsl-api.html#id31&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Window Final Results&lt;/a&gt;.&#160;&lt;/p&gt;

&lt;p&gt;First i just start one time ticker, log print seems ok, when I start the second, then window info print log appeared.&lt;/p&gt;

&lt;p&gt;My source stream record rate is a same v record / 25s, gap of inactivity is 100s, 25&amp;lt;100. I shouldn&apos;t got so many window info print log. Session window close and then reopened? my grace is 20 millisecond, it should not be ah.&#160;&lt;/p&gt;</description>
                <environment>Broker on a Linux, stream app on my win10 laptop. &lt;br/&gt;
I add one row log.message.timestamp.type=LogAppendTime to my broker&amp;#39;s server.properties. stream app all default config.</environment>
        <key id="13230038">KAFKA-8289</key>
            <summary>KTable&lt;Windowed&lt;String&gt;, Long&gt;  can&apos;t be suppressed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vvcephei">John Roesler</assignee>
                                    <reporter username="xiaoxiaoliner">Xiaolin Jia</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Apr 2019 07:52:22 +0000</created>
                <updated>Fri, 10 May 2019 15:08:43 +0000</updated>
                            <resolved>Sat, 4 May 2019 06:33:34 +0000</resolved>
                                    <version>2.1.0</version>
                    <version>2.1.1</version>
                    <version>2.2.0</version>
                                    <fixVersion>2.1.2</fixVersion>
                    <fixVersion>2.2.1</fixVersion>
                    <fixVersion>2.3.0</fixVersion>
                                    <component>streams</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16826168" author="mjsax" created="Thu, 25 Apr 2019 15:32:04 +0000"  >&lt;p&gt;To what extend is this ticket different to&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-7895&quot; title=&quot;Ktable supress operator emitting more than one record for the same key per window&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-7895&quot;&gt;&lt;del&gt;KAFKA-7895&lt;/del&gt;&lt;/a&gt;? Can you elaborate? Could you also try out the fix for&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-7895&quot; title=&quot;Ktable supress operator emitting more than one record for the same key per window&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-7895&quot;&gt;&lt;del&gt;KAFKA-7895&lt;/del&gt;&lt;/a&gt;&#160;to verify if it solves your problem?&lt;/p&gt;

&lt;p&gt;Btw: 2.2.1 release should be release soon. Cf.&#160;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/KAFKA/Release+Plan+2.2.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/KAFKA/Release+Plan+2.2.1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16826634" author="xiaoxiaoliner" created="Fri, 26 Apr 2019 04:41:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mjsax&quot; class=&quot;user-hover&quot; rel=&quot;mjsax&quot;&gt;mjsax&lt;/a&gt;, Thank you for replying to me. In &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-7895&quot; title=&quot;Ktable supress operator emitting more than one record for the same key per window&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-7895&quot;&gt;&lt;del&gt;KAFKA-7895&lt;/del&gt;&lt;/a&gt;&#160; John was using a TimeWindows, but the window I used was SessionWindow, I am not sure if it is because of this. I have tried the 2.2.1-SNAPSHOT and the trunk, no effect all. As log shows my SessionWindow&apos;s endMs is increasing, it should be, but I don&apos;t think it should be printed out,&#160;Is my understanding correct?&#160;A and B windows&#8217;s info seems to be printed at same time. I will try to see the source code.&lt;/p&gt;</comment>
                            <comment id="16826796" author="mjsax" created="Fri, 26 Apr 2019 09:05:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vvcephei&quot; class=&quot;user-hover&quot; rel=&quot;vvcephei&quot;&gt;vvcephei&lt;/a&gt; Assigning this to you for visibility.&lt;/p&gt;</comment>
                            <comment id="16829636" author="vvcephei" created="Mon, 29 Apr 2019 19:15:47 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xiaoxiaoliner&quot; class=&quot;user-hover&quot; rel=&quot;xiaoxiaoliner&quot;&gt;xiaoxiaoliner&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Thanks for the bug report; I&apos;m sorry to hear this is causing you trouble.&lt;/p&gt;

&lt;p&gt;For the record, we do expect Suppress to work just as well for SessionWindows as for TimeWindows. Your understanding is correct, the suppression should be waiting until the session window is closed before emitting the results, which means you should see a unique start time per key.&lt;/p&gt;

&lt;p&gt;I looked into the code, and suppression does appear to be misconfigured for session window aggregations. Currently, it is waiting until time `window.end + grace` before emitting, but session windows are special, since the window end is provisional... if more data arrives before the &quot;inactivity gap&quot; passes, the window end moves to the latest record&apos;s timestamp. Thus, suppression should be waiting until `window.end + inactivityGap + grace` before emitting, to be sure that it really does wait until the window is closed (i.e., until it can never emit more updates).&lt;/p&gt;

&lt;p&gt;I looked into our tests, and we didn&apos;t detect this error because the session window tests unfortunately set the grace period equal to the inactivity gap. After setting the grace period to a smaller value, I was able to reproduce the reported case. I am preparing a PR to fix this bug. I&apos;ve marked this ticket as a blocker for the next release, and also for the next 2.1 and 2.2 bugfix releases.&lt;/p&gt;

&lt;p&gt;While debugging this issue, I noticed that the grace period calculation for session window aggregations is apparently off by one. Setting the grace period to 0ms results in all output from the aggregation being dropped. With the current code, if you want to implement a super-strict grace period, you need to use 1ms. Pending code review, I plan to include this fix in the same PR.&lt;/p&gt;

&lt;p&gt;Within my theories above, you should be able to employ a workaround of using a grace period equal to (or greater than) the inactivity gap. This isn&apos;t precisely the same logic you encoded in your application above, and (in the presence of late-arriving data) you may observe that the &quot;final results&quot; stream differs from the &quot;raw results&quot; stream, but you &lt;b&gt;should&lt;/b&gt; at least see unique results for your aggregations.&lt;/p&gt;</comment>
                            <comment id="16830365" author="xiaoxiaoliner" created="Tue, 30 Apr 2019 14:50:02 +0000"  >&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vvcephei&quot; class=&quot;user-hover&quot; rel=&quot;vvcephei&quot;&gt;vvcephei&lt;/a&gt; Thank you, thank you for your reply, according to your suggestion&#160;and my recording rate. I temporarily set my gap and&#160;grace to the same seconds. Imperfect but effective, got&#160;exactly one window final result.&lt;/p&gt;</comment>
                            <comment id="16830577" author="githubbot" created="Tue, 30 Apr 2019 18:45:09 +0000"  >&lt;p&gt;vvcephei commented on pull request #6654: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8289&quot; title=&quot;KTable&amp;lt;Windowed&amp;lt;String&amp;gt;, Long&amp;gt;  can&amp;#39;t be suppressed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8289&quot;&gt;&lt;del&gt;KAFKA-8289&lt;/del&gt;&lt;/a&gt;: Fix Session Expiration and Suppression&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/6654&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/6654&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Fix two problems in Streams:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Session windows expired prematurely (off-by-one error), since the window end is inclusive, unlike other windows&lt;/li&gt;
	&lt;li&gt;Suppress duration for sessions incorrectly waited only the grace period, but session windows aren&apos;t closed until `gracePeriod + sessionGap`&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Update the tests accordingly&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Committer Checklist (excluded from commit message)&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Verify design and implementation&lt;/li&gt;
	&lt;li&gt;[ ] Verify test coverage and CI build status&lt;/li&gt;
	&lt;li&gt;[ ] Verify documentation (including upgrade notes)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16830587" author="vvcephei" created="Tue, 30 Apr 2019 19:03:56 +0000"  >&lt;p&gt;Ok, I&apos;ve submitted a bugfix PR: &lt;a href=&quot;https://github.com/apache/kafka/pull/6654&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/6654&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xiaoxiaoliner&quot; class=&quot;user-hover&quot; rel=&quot;xiaoxiaoliner&quot;&gt;xiaoxiaoliner&lt;/a&gt;, if you have a chance, can you verify that that PR fixes the issue for you? Also, if you&apos;re available for a code review, I&apos;d appreciate your feedback.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-John&lt;/p&gt;</comment>
                            <comment id="16832134" author="githubbot" created="Fri, 3 May 2019 00:44:55 +0000"  >&lt;p&gt;guozhangwang commented on pull request #6654: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8289&quot; title=&quot;KTable&amp;lt;Windowed&amp;lt;String&amp;gt;, Long&amp;gt;  can&amp;#39;t be suppressed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8289&quot;&gt;&lt;del&gt;KAFKA-8289&lt;/del&gt;&lt;/a&gt;: Fix Session Expiration and Suppression&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/6654&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/6654&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16832176" author="vahid" created="Fri, 3 May 2019 03:33:59 +0000"  >&lt;p&gt;Removed Fix Version 2.2.1 as this issue is not blocking that release.&lt;/p&gt;</comment>
                            <comment id="16832575" author="vvcephei" created="Fri, 3 May 2019 15:22:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vahid&quot; class=&quot;user-hover&quot; rel=&quot;vahid&quot;&gt;vahid&lt;/a&gt;, can you explain why this critical bug doesn&apos;t block the release?&lt;/p&gt;</comment>
                            <comment id="16832582" author="vahid" created="Fri, 3 May 2019 15:34:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vvcephei&quot; class=&quot;user-hover&quot; rel=&quot;vvcephei&quot;&gt;vvcephei&lt;/a&gt; Since, according to your earlier comment, there seems to be a workaround for the reported issue, I didn&apos;t think this was blocking the bug fix release, and thought it could be included in a follow-up release. In any case, it seems that the fix is merged to trunk. Is there a reason this ticket is not resolved yet?&lt;/p&gt;</comment>
                            <comment id="16832653" author="vvcephei" created="Fri, 3 May 2019 16:48:14 +0000"  >&lt;p&gt;Last I heard &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bbejeck&quot; class=&quot;user-hover&quot; rel=&quot;bbejeck&quot;&gt;bbejeck&lt;/a&gt; was working on merging to 2.2 and 2.1 . I think there was just some flaky test failure. &lt;/p&gt;

&lt;p&gt;Then, the ticket will be resolved.&lt;/p&gt;

&lt;p&gt;The workaround was just to get the reporter unstuck. There is a larger correctness issue here, which affects any session aggregation, and for which there is no workaround.&lt;/p&gt;

&lt;p&gt;I see the confusion. Thanks.&lt;/p&gt;</comment>
                            <comment id="16832685" author="githubbot" created="Fri, 3 May 2019 17:36:43 +0000"  >&lt;p&gt;vvcephei commented on pull request #6670: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8289&quot; title=&quot;KTable&amp;lt;Windowed&amp;lt;String&amp;gt;, Long&amp;gt;  can&amp;#39;t be suppressed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8289&quot;&gt;&lt;del&gt;KAFKA-8289&lt;/del&gt;&lt;/a&gt;: Fix Session Expiration and Suppression (#6654)&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/6670&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/6670&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Fix two problems in Streams:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Session windows expired prematurely (off-by-one error), since the window end is inclusive, unlike other windows&lt;/li&gt;
	&lt;li&gt;Suppress duration for sessions incorrectly waited only the grace period, but session windows aren&apos;t closed until gracePeriod + sessionGap&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Update the tests accordingly&lt;/p&gt;

&lt;p&gt;   Reviewers: A. Sophie Blee-Goldman &amp;lt;sophie@confluent.io&amp;gt;, Boyang Chen &amp;lt;boyang@confluent.io&amp;gt;, Matthias J. Sax &amp;lt;matthias@confluent.io&amp;gt;, Bill Bejeck &amp;lt;bill@confluent.io&amp;gt;, Guozhang Wang &amp;lt;wangguoz@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;   *More detailed description of your change,&lt;br/&gt;
   if necessary. The PR title and PR message become&lt;br/&gt;
   the squashed commit message, so use a separate&lt;br/&gt;
   comment to ping reviewers.*&lt;/p&gt;

&lt;p&gt;   *Summary of testing strategy (including rationale)&lt;br/&gt;
   for the feature or bug fix. Unit and/or integration&lt;br/&gt;
   tests are expected for any behaviour change and&lt;br/&gt;
   system tests should be considered for larger changes.*&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Committer Checklist (excluded from commit message)&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Verify design and implementation&lt;/li&gt;
	&lt;li&gt;[ ] Verify test coverage and CI build status&lt;/li&gt;
	&lt;li&gt;[ ] Verify documentation (including upgrade notes)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16832703" author="githubbot" created="Fri, 3 May 2019 18:00:43 +0000"  >&lt;p&gt;vvcephei commented on pull request #6671: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8289&quot; title=&quot;KTable&amp;lt;Windowed&amp;lt;String&amp;gt;, Long&amp;gt;  can&amp;#39;t be suppressed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8289&quot;&gt;&lt;del&gt;KAFKA-8289&lt;/del&gt;&lt;/a&gt;: Fix Session Expiration and Suppression (#6654)&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/6671&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/6671&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Fix two problems in Streams:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Session windows expired prematurely (off-by-one error), since the window end is inclusive, unlike other windows&lt;/li&gt;
	&lt;li&gt;Suppress duration for sessions incorrectly waited only the grace period, but session windows aren&apos;t closed until gracePeriod + sessionGap&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Update the tests accordingly&lt;/p&gt;

&lt;p&gt;   Reviewers: A. Sophie Blee-Goldman &amp;lt;sophie@confluent.io&amp;gt;, Boyang Chen &amp;lt;boyang@confluent.io&amp;gt;, Matthias J. Sax &amp;lt;matthias@confluent.io&amp;gt;, Bill Bejeck &amp;lt;bill@confluent.io&amp;gt;, Guozhang Wang &amp;lt;wangguoz@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;   *More detailed description of your change,&lt;br/&gt;
   if necessary. The PR title and PR message become&lt;br/&gt;
   the squashed commit message, so use a separate&lt;br/&gt;
   comment to ping reviewers.*&lt;/p&gt;

&lt;p&gt;   *Summary of testing strategy (including rationale)&lt;br/&gt;
   for the feature or bug fix. Unit and/or integration&lt;br/&gt;
   tests are expected for any behaviour change and&lt;br/&gt;
   system tests should be considered for larger changes.*&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Committer Checklist (excluded from commit message)&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Verify design and implementation&lt;/li&gt;
	&lt;li&gt;[ ] Verify test coverage and CI build status&lt;/li&gt;
	&lt;li&gt;[ ] Verify documentation (including upgrade notes)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16832801" author="githubbot" created="Fri, 3 May 2019 20:24:06 +0000"  >&lt;p&gt;bbejeck commented on pull request #6670: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8289&quot; title=&quot;KTable&amp;lt;Windowed&amp;lt;String&amp;gt;, Long&amp;gt;  can&amp;#39;t be suppressed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8289&quot;&gt;&lt;del&gt;KAFKA-8289&lt;/del&gt;&lt;/a&gt;: Fix Session Expiration and Suppression (#6654)&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/6670&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/6670&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16832869" author="vvcephei" created="Fri, 3 May 2019 22:05:21 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vahid&quot; class=&quot;user-hover&quot; rel=&quot;vahid&quot;&gt;vahid&lt;/a&gt;, the fix has been merged to 2.2 . Sorry for the delay.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-John&lt;/p&gt;</comment>
                            <comment id="16833045" author="githubbot" created="Sat, 4 May 2019 11:26:17 +0000"  >&lt;p&gt;bbejeck commented on pull request #6671: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8289&quot; title=&quot;KTable&amp;lt;Windowed&amp;lt;String&amp;gt;, Long&amp;gt;  can&amp;#39;t be suppressed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8289&quot;&gt;&lt;del&gt;KAFKA-8289&lt;/del&gt;&lt;/a&gt;: Fix Session Expiration and Suppression (#6654)&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/6671&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/6671&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16833875" author="vvcephei" created="Mon, 6 May 2019 14:37:50 +0000"  >&lt;p&gt;Just confirming this has now been merged to 2.1, 2.2, and trunk (2.3), and the fix versions listed in the ticket are accurate.&lt;/p&gt;

&lt;p&gt;2.2.1 release is in progress (see the dev mailing list for details) &lt;a href=&quot;https://cwiki.apache.org/confluence/display/KAFKA/Release+Plan+2.2.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/KAFKA/Release+Plan+2.2.1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16837351" author="vvcephei" created="Fri, 10 May 2019 15:08:43 +0000"  >&lt;p&gt;FYI, 2.2.1 RC0 vote is in progress. (&lt;a href=&quot;https://lists.apache.org/thread.html/3486798e63ae666fc336ce9009f07c7fdf66a96badc1fed63bcbd2ed@%3Cdev.kafka.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/3486798e63ae666fc336ce9009f07c7fdf66a96badc1fed63bcbd2ed@%3Cdev.kafka.apache.org%3E&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Please feel free to test it out, and reply on the vote thread if you have some trouble with it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310361">
                    <name>Blocked</name>
                                            <outwardlinks description="Blocked">
                                        <issuelink>
            <issuekey id="13226727">KAFKA-8199</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z024k0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>