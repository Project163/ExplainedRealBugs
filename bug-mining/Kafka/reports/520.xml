<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:41:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-1123] Broker IPv6 addresses parsed incorrectly</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-1123</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;It seems that broker addresses are parsed incorrectly when IPv6 addresses are supplied.  IPv6 addresses have colons in them, and Kafka seems to be interpreting the first : as the address:port separator.&lt;/p&gt;

&lt;p&gt;I have only tried this with the console-producer --broker-list option, so I don&apos;t know if this affects anything deeper than the CLI.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677819">KAFKA-1123</key>
            <summary>Broker IPv6 addresses parsed incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kszafran">Krzysztof Szafra&#324;ski</assignee>
                                    <reporter username="ottomata">Andrew Otto</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Wed, 6 Nov 2013 17:57:31 +0000</created>
                <updated>Wed, 8 Apr 2015 21:26:45 +0000</updated>
                            <resolved>Thu, 18 Sep 2014 22:55:52 +0000</resolved>
                                    <version>0.8.2.0</version>
                                    <fixVersion>0.8.2.0</fixVersion>
                                    <component>producer </component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14074553" author="junrao" created="Fri, 25 Jul 2014 16:44:14 +0000"  >&lt;p&gt;We probably should add the IPV6 support asap. It seems that for a given string of &quot;host:port&quot;, we can just look up for the last : to separate the host and port. This should cover both IPV4 and IPV6. We will need to do that for both the old and the new producer.&lt;/p&gt;</comment>
                            <comment id="14099610" author="kszafran" created="Sat, 16 Aug 2014 11:46:20 +0000"  >&lt;p&gt;I have added methods to split the host and port, and to put them back together (surrounding IPv6 addresses with &apos;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;, &amp;#39;&amp;#93;&lt;/span&gt;&apos;).&lt;/p&gt;</comment>
                            <comment id="14100956" author="junrao" created="Mon, 18 Aug 2014 18:01:32 +0000"  >&lt;p&gt;Thanks for the patch. Some comments.&lt;/p&gt;

&lt;p&gt;1. Utils.parseHostPort(): Should we just move the logic into org.apache.kafka.common.utils.ClientUtils and reuse it in parseAndValidateAddresses()? That way, we have only one way of parsing the hostAndPort.&lt;/p&gt;

&lt;p&gt;2. Do we need to wrap the ipv6 address with &quot;[]&quot;? It seems that InetSocketAddress can take that format. However, I am not sure if this is the standard representation. When specifying ipv6-based broker list, do we expect the user to wrap the address part with &quot;[]&quot;?&lt;/p&gt;
</comment>
                            <comment id="14101076" author="kszafran" created="Mon, 18 Aug 2014 18:52:13 +0000"  >&lt;p&gt;&lt;del&gt;1. I agree that parseAndValidateAddress() could reuse ClientUtils (though it implies dealing with Tuple2 in Java).&lt;/del&gt; (&quot;core&quot; module is not visible from &quot;clients&quot;)&lt;br/&gt;
2. InetSocketAddress can take the address without the square braces, but my intention with addressString() was to propagate this notation throughout the system. And as for the standard it would be RFC 2732 (&lt;a href=&quot;http://www.ietf.org/rfc/rfc2732.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.ietf.org/rfc/rfc2732.txt&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="14104751" author="junrao" created="Wed, 20 Aug 2014 22:59:50 +0000"  >&lt;p&gt;1. kafka-client doesn&apos;t depend on core. However, core already depends on kafka-client. So, we can put the parsing code in org.apache.kafka.common.utils.ClientUtils. Then, both kafka-client and core can use the common code.&lt;/p&gt;

&lt;p&gt;2. Yes, that makes sense.&lt;/p&gt;</comment>
                            <comment id="14133558" author="nehanarkhede" created="Mon, 15 Sep 2014 03:59:33 +0000"  >&lt;p&gt;Bump &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kszafran&quot; class=&quot;user-hover&quot; rel=&quot;kszafran&quot;&gt;kszafran&lt;/a&gt;. Are you going to get a chance to update your patch?&lt;/p&gt;</comment>
                            <comment id="14134437" author="kszafran" created="Mon, 15 Sep 2014 20:31:50 +0000"  >&lt;p&gt;Sorry, I&apos;ve been busy lately. I&apos;ll move the parsing util to ClientUtils this week, and post an updated patch.&lt;/p&gt;</comment>
                            <comment id="14137568" author="junrao" created="Wed, 17 Sep 2014 17:12:26 +0000"  >&lt;p&gt;Thanks for the patch. Looks good overall. Some minor comments below.&lt;/p&gt;

&lt;p&gt;1. ClientUitls: There is still one place that references &quot;bootstrap url&quot;. We can change it to use the BOOTSTRAP constant.&lt;/p&gt;

&lt;p&gt;2. Broker: redundant import of kafka.util.Utils.&lt;/p&gt;

&lt;p&gt;3. DataGenerator, TopicMetadata: unused import kafka.util.Utils&lt;/p&gt;

&lt;p&gt;4. UtilsTest.testParseHostPort seems can be testParsePort?&lt;/p&gt;

&lt;p&gt;5. ClientUtilsTest: Do we need to test &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;2001:db8:85a3:8d3:1319:8a2e:370:7348&amp;#93;&lt;/span&gt;:1234&quot; twice?&lt;/p&gt;

&lt;p&gt;6. Could you rebase?&lt;/p&gt;
</comment>
                            <comment id="14137655" author="kszafran" created="Wed, 17 Sep 2014 18:01:52 +0000"  >&lt;p&gt;I have updated the patch according to your remarks.&lt;/p&gt;</comment>
                            <comment id="14139537" author="junrao" created="Thu, 18 Sep 2014 21:20:14 +0000"  >&lt;p&gt;Thanks for the latest patch. In Broker, you used the simple string interpolator like the following. So far, we haven&apos;t adopted this syntax. Perhaps we can leave out those changes for now for consistency?&lt;/p&gt;

&lt;p&gt;s&quot;Broker id $id does not exist&quot;&lt;/p&gt;</comment>
                            <comment id="14139603" author="kszafran" created="Thu, 18 Sep 2014 22:11:45 +0000"  >&lt;p&gt;I have now removed the string interpolation syntax.&lt;/p&gt;</comment>
                            <comment id="14139655" author="junrao" created="Thu, 18 Sep 2014 22:55:52 +0000"  >&lt;p&gt;Thanks for patch v4. +1 and committed to trunk.&lt;/p&gt;</comment>
                            <comment id="14485767" author="mingtao.zhang" created="Wed, 8 Apr 2015 18:41:22 +0000"  >&lt;p&gt;Curious anyone tested in Java, i.e. new Producer&amp;lt;&amp;gt;(config). I am on 0.8.2.1, it&apos;s doesn&apos;t work with metadata.broker.list=&lt;span class=&quot;error&quot;&gt;&amp;#91;FEDC:BA98:7654:3210:FEDC:BA98:7654:3210&amp;#93;&lt;/span&gt;:9092&lt;/p&gt;</comment>
                            <comment id="14486093" author="junrao" created="Wed, 8 Apr 2015 21:26:45 +0000"  >&lt;p&gt;The new producer needs to use bootstrap.servers, instead of metadata.broker.list.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12662273" name="KAFKA-1123.patch" size="16580" author="kszafran" created="Sat, 16 Aug 2014 11:46:20 +0000"/>
                            <attachment id="12669237" name="KAFKA-1123_v2.patch" size="23895" author="kszafran" created="Tue, 16 Sep 2014 22:04:15 +0000"/>
                            <attachment id="12669459" name="KAFKA-1123_v3.patch" size="25165" author="kszafran" created="Wed, 17 Sep 2014 18:01:52 +0000"/>
                            <attachment id="12669828" name="KAFKA-1123_v4.patch" size="24307" author="kszafran" created="Thu, 18 Sep 2014 22:11:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357194</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pks7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357484</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>junrao</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>