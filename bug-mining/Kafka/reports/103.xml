<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:35:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-474] support changing host/port of a broker</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-474</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Currently, the consumer client caches the host/port of a broker and never refreshes the cache. This means that if a broker changes to a different host, the consumer client won&apos;t be able to connect to the new host without a restart. One possibility is to change AbstractFetcherManager to maintain a map of &amp;lt;Broker, fetcher&amp;gt;, instead of &amp;lt;broker id, fetcher&amp;gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12604078">KAFKA-474</key>
            <summary>support changing host/port of a broker</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mumrah">David Arthur</assignee>
                                    <reporter username="junrao">Jun Rao</reporter>
                        <labels>
                            <label>bugs</label>
                            <label>newbie</label>
                    </labels>
                <created>Mon, 20 Aug 2012 16:14:18 +0000</created>
                <updated>Tue, 9 Oct 2012 17:09:39 +0000</updated>
                            <resolved>Tue, 9 Oct 2012 17:09:34 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13469333" author="mumrah" created="Thu, 4 Oct 2012 12:41:42 +0000"  >&lt;p&gt;I took a look at AbstractFetcherManager and the broker -&amp;gt; thread map. I don&apos;t see where/how this map is used to actually get the fetcher thread for a particular broker. I see the fetcherSourceBroker method, but cannot find anywhere where it is invoked.&lt;/p&gt;

&lt;p&gt;In fact, the only usage of this map I can see is when fetcher threads are created and removed. &lt;/p&gt;

&lt;p&gt;Am I overlooking something?&lt;/p&gt;</comment>
                            <comment id="13469522" author="junrao" created="Thu, 4 Oct 2012 17:18:03 +0000"  >&lt;p&gt;Yes, fetcherSourceBroker is actually no longer needed. It was used before when a follower switches leaders. The follower uses that method to see if it&apos;s already fetching from the new leader. We removed this when we cache the leader epoch in Partition, which avoids executing duplicated leader change requests.&lt;/p&gt;

&lt;p&gt;The real problem here is that in addFetcher(), we use the broker id as the key. Of course, the host/port info could have changed. I think a simple solution may be just key fetcherThreadMap on Broker, instead of broker id.&lt;/p&gt;</comment>
                            <comment id="13470314" author="mumrah" created="Fri, 5 Oct 2012 13:37:49 +0000"  >&lt;p&gt;Something as simple as this?&lt;/p&gt;</comment>
                            <comment id="13472547" author="junrao" created="Tue, 9 Oct 2012 17:09:34 +0000"  >&lt;p&gt;Thanks for the patch. Committed to 0.8.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547975" name="KAFKA-474.patch" size="1986" author="mumrah" created="Fri, 5 Oct 2012 13:37:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>239988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00v9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2999</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>