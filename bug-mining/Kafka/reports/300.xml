<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:38:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-969] Need to prevent failure of rebalance when there are no brokers available when consumer comes up</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-969</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;There are some rare instances when a consumer would be up before bringing up the Kafka brokers. This would usually happen in a test scenario. In such conditions, during rebalance instead of failing the rebalance we just log the error and subscribe to broker changes. When the broker comes back up, we trigger the rebalance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657154">KAFKA-969</key>
            <summary>Need to prevent failure of rebalance when there are no brokers available when consumer comes up</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sriramsub">Sriram</assignee>
                                    <reporter username="sriramsub">Sriram</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Jul 2013 22:00:25 +0000</created>
                <updated>Thu, 11 Jul 2013 16:43:52 +0000</updated>
                            <resolved>Thu, 11 Jul 2013 05:49:27 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13705340" author="jjkoshy" created="Thu, 11 Jul 2013 01:09:13 +0000"  >&lt;p&gt;This seems reasonable, but I&apos;m not fully convinced about it. E.g., a test&lt;br/&gt;
framework should ensure external dependencies are up before attempting to&lt;br/&gt;
make service calls to those dependencies. That said, it is perhaps also&lt;br/&gt;
reasonable from a consumer&apos;s perspective to expect that returned streams be&lt;br/&gt;
empty at first, and whenever brokers and topics show up, then events should&lt;br/&gt;
just show up.&lt;/p&gt;

&lt;p&gt;I&apos;m +1 on this patch except for the if-else formatting issue.  Also, I think&lt;br/&gt;
this patch alone would be insufficient to meet the above.  There are two&lt;br/&gt;
other issues:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;We should register a watcher under the topics path (currently done only if&lt;br/&gt;
  a wildcard is specified)&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-956&quot; title=&quot;High-level consumer fails to check topic metadata response for errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-956&quot;&gt;&lt;del&gt;KAFKA-956&lt;/del&gt;&lt;/a&gt; is also related. I need to give that one some thought.&lt;/li&gt;
&lt;/ul&gt;


</comment>
                            <comment id="13705461" author="sriramsub" created="Thu, 11 Jul 2013 04:54:45 +0000"  >&lt;p&gt;The other issues you mention are separate from this. You should file JIRAs for those. &lt;/p&gt;</comment>
                            <comment id="13705484" author="guozhang" created="Thu, 11 Jul 2013 05:40:17 +0000"  >&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-956&quot; title=&quot;High-level consumer fails to check topic metadata response for errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-956&quot;&gt;&lt;del&gt;KAFKA-956&lt;/del&gt;&lt;/a&gt; is orthogonal to this JIRA. It is about broker metadata not able to propagate to the brokers yet.&lt;/p&gt;</comment>
                            <comment id="13705488" author="junrao" created="Thu, 11 Jul 2013 05:49:27 +0000"  >&lt;p&gt;Thanks for the patch. Committed to 0.8 with the following minor change.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;change ERROR logging to WARN.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13705490" author="jjkoshy" created="Thu, 11 Jul 2013 05:53:04 +0000"  >&lt;p&gt;As I already said, I&apos;m +1 on this patch for what it intends to address. Those two issues I mentioned are orthogonal. By &quot;above&quot; in my comment I was referring to the possible expectation from consumers: &quot;.. from a consumer&apos;s perspective to expect that returned streams be empty at first, and whenever brokers and topics show up, then events should just show up.&quot; - not the &quot;failed to rebalance issue&quot;.&lt;/p&gt;</comment>
                            <comment id="13705517" author="swapnilghike" created="Thu, 11 Jul 2013 06:34:06 +0000"  >&lt;p&gt;I agree with Joel. Registering a consumers&apos; subscription in zookeeper and being open to brokers and topics showing up after the consumer has started is reasonable. It&apos;s similar to a consumer waiting to consume data from the tail of a topic when no new data is coming in and partition count could change.&lt;/p&gt;</comment>
                            <comment id="13705954" author="guozhang" created="Thu, 11 Jul 2013 16:28:28 +0000"  >&lt;p&gt;I think this is related to how we would enforce the order of starting servers/clients. In the quickstart Wiki page&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://kafka.apache.org/08/quickstart.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://kafka.apache.org/08/quickstart.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We suggest to 1) start servers, 2) start producers and start sending messages, and then 3) start consumers. This is the normal case for production, whereas for dev testing this order would be different, such as 1) start servers with no topics created, 2) start producers and consumers, 3) producer start sending messages; or start 1) and 2) at roughly the same time; or even start 2) before start 1). When such order happens, these issues will arise.&lt;/p&gt;</comment>
                            <comment id="13705971" author="smeder" created="Thu, 11 Jul 2013 16:43:52 +0000"  >&lt;p&gt;I feel that Kafka servers and clients should really not have to care about their respective start-up order and should be able to recover from any order. Otherwise certain recovery scenarios become cumbersome and it introduces a lot of extra complexity in the deployment system.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12591741" name="emptybrokeronrebalance-1.patch" size="9253" author="sriramsub" created="Wed, 10 Jul 2013 22:01:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337377</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m6yf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337700</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>