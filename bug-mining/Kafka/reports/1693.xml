<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:04:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-6008] Kafka Connect: Unsanitized workerID causes exception during startup</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-6008</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;When KAfka Connect starts, it seems to use unsanitized workerId for creating Metrics. As a result it throws following exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[2017-10-04 13:16:08,886] WARN Error registering AppInfo mbean (org.apache.kafka.common.utils.AppInfoParser:66)
javax.management.MalformedObjectNameException: Invalid character &lt;span class=&quot;code-quote&quot;&gt;&apos;:&apos;&lt;/span&gt; in value part of property
	at javax.management.ObjectName.construct(ObjectName.java:618)
	at javax.management.ObjectName.&amp;lt;init&amp;gt;(ObjectName.java:1382)
	at org.apache.kafka.common.utils.AppInfoParser.registerAppInfo(AppInfoParser.java:60)
	at org.apache.kafka.connect.runtime.ConnectMetrics.&amp;lt;init&amp;gt;(ConnectMetrics.java:77)
	at org.apache.kafka.connect.runtime.Worker.&amp;lt;init&amp;gt;(Worker.java:88)
	at org.apache.kafka.connect.cli.ConnectDistributed.main(ConnectDistributed.java:81)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It looks like in my case the generated workerId is &amp;lt;IP adderess&amp;gt;:&amp;lt;port&amp;gt;. The workerId should be sanitized before creating the metric.&lt;/p&gt;</description>
                <environment>MacOS, Java 1.8.0_77-b03</environment>
        <key id="13106914">KAFKA-6008</key>
            <summary>Kafka Connect: Unsanitized workerID causes exception during startup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="scholzj">Jakub Scholz</assignee>
                                    <reporter username="scholzj">Jakub Scholz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Oct 2017 11:25:24 +0000</created>
                <updated>Fri, 17 Nov 2017 14:38:12 +0000</updated>
                            <resolved>Wed, 4 Oct 2017 18:52:43 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.0.0</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16191141" author="githubbot" created="Wed, 4 Oct 2017 11:27:24 +0000"  >&lt;p&gt;GitHub user scholzj opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4012&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4012&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6008&quot; title=&quot;Kafka Connect: Unsanitized workerID causes exception during startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6008&quot;&gt;&lt;del&gt;KAFKA-6008&lt;/del&gt;&lt;/a&gt;: Sanitize the Kafka Connect workerId before passing it to AppInfoParser&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/scholzj/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/scholzj/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6008&quot; title=&quot;Kafka Connect: Unsanitized workerID causes exception during startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6008&quot;&gt;&lt;del&gt;KAFKA-6008&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4012.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4012.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4012&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 8aac02d76ca9bc723a58bd54965977c7a2a6dfec&lt;br/&gt;
Author: Jakub Scholz &amp;lt;www@scholzj.com&amp;gt;&lt;br/&gt;
Date:   2017-10-04T11:26:21Z&lt;/p&gt;

&lt;p&gt;    Sanitize the workerId before passing it to AppInfoParser&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16191770" author="ewencp" created="Wed, 4 Oct 2017 18:20:37 +0000"  >&lt;p&gt;Good catch, I actually don&apos;t think that should only be a WARN, and not even sure we should really be catching that exception &amp;#8211; made it really easy to miss that it was even happening. I&apos;ve also filed &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6011&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/KAFKA-6011&lt;/a&gt; as some KIP-190 follow up to handle name mangling in the JmxReporter would have made this a non-problem if that metric was using the metrics api instead of directly creating the JMX metric itself.&lt;/p&gt;</comment>
                            <comment id="16191825" author="ewencp" created="Wed, 4 Oct 2017 18:52:43 +0000"  >&lt;p&gt;Issue resolved by pull request 4012&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/4012&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4012&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16191827" author="githubbot" created="Wed, 4 Oct 2017 18:53:51 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4012&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4012&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12607718">KAFKA-517</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3kv1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>