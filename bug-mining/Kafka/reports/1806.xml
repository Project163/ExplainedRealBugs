<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:06:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-4930] Connect Rest API allows creating connectors with an empty name - KIP-212</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-4930</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;The Connect Rest API allows to deploy connectors with an empty name field, which then cannot be removed through the api.&lt;/p&gt;

&lt;p&gt;Sending the following request:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &quot;&quot;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;config&quot;&lt;/span&gt;: {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;connector.class&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.kafka.connect.tools.MockSourceConnector&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;tasks.max&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;topics&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;test-topic&quot;&lt;/span&gt;
        
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Results in a connector being deployed which can be seen in the list of connectors:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[
	&quot;&quot;,
	&lt;span class=&quot;code-quote&quot;&gt;&quot;testconnector&quot;&lt;/span&gt;
]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But cannot be removed via a DELETE call, as the api thinks we are trying to delete the /connectors endpoint and declines the request.&lt;/p&gt;

&lt;p&gt;I don&apos;t think there is a valid case for the connector name to be empty so perhaps we should add a check for this. I am happy to work on this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13058152">KAFKA-4930</key>
            <summary>Connect Rest API allows creating connectors with an empty name - KIP-212</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sliebau">S&#246;nke Liebau</assignee>
                                    <reporter username="sliebau">S&#246;nke Liebau</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Mar 2017 09:09:19 +0000</created>
                <updated>Wed, 31 Jan 2018 16:51:42 +0000</updated>
                            <resolved>Wed, 31 Jan 2018 16:49:47 +0000</resolved>
                                    <version>0.10.2.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15936374" author="gwenshap" created="Wed, 22 Mar 2017 14:12:51 +0000"  >&lt;p&gt;Good catch! If you fix this, we&apos;ll gladly take the PR. Let me know if you need help or pointers.&lt;/p&gt;</comment>
                            <comment id="15936679" author="nachomdo" created="Wed, 22 Mar 2017 16:56:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt; is there any reason why there&apos;s no validation when creating a connector? I&apos;m aware of the validating endpoint to test the connector configuration but, would it make sense to validate the configuration as part of the creation process? &lt;/p&gt;</comment>
                            <comment id="15936720" author="nachomdo" created="Wed, 22 Mar 2017 17:19:13 +0000"  >&lt;p&gt;Actually, ignore my comment. I have just realised that validation is now part of the creation process in the latest release &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="15937220" author="sliebau" created="Wed, 22 Mar 2017 21:53:29 +0000"  >&lt;p&gt;I&apos;ve created a potential fix for this issue and pushed to &lt;a href=&quot;https://github.com/soenkeliebau/kafka/tree/KAFKA-4930&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/soenkeliebau/kafka/tree/KAFKA-4930&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;However I am unsure, whether this fully addresses all potential issues tbh. All tests pass, but I won&apos;t pretend that I have fully understood all dependencies in the validation model, so some feedback would be very welcome. &lt;br/&gt;
My fundamental worry with this implementation is, that I create a validator for a option that cannot have a default value, which means that the validator won&apos;t greenlight a default config, which I then get around by allowing a null value. This seems not entirely clean. &lt;br/&gt;
An alternative approach would be to add checks &lt;a href=&quot;https://github.com/apache/kafka/blob/trunk/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/rest/resources/ConnectorsResource.java#L91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; but I actually found that the existing check here throws a NullPointerException for requests that don&apos;t have the &lt;em&gt;name&lt;/em&gt; parameter (will create an issue for that), so there are caveats here as well.&lt;/p&gt;

&lt;p&gt;Anyway, thoughts?&lt;/p&gt;</comment>
                            <comment id="15938458" author="sliebau" created="Thu, 23 Mar 2017 14:36:45 +0000"  >&lt;p&gt;After a good nights sleep I am beginning to think that between this and &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4938&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;KAFKA-4938&lt;/a&gt; a better approach might be to change the &lt;em&gt;nonEmpty&lt;/em&gt; Validator to a more specialised &lt;em&gt;ValidName&lt;/em&gt; validator, which could check for empty strings, backslashes and other problematic characters (I think there are a few more jiras around).&lt;br/&gt;
The problematic check in &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4938&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;KAFKA-4938&lt;/a&gt; could be replaced by a check for null, if no name parameter is present in the request at all, which we could consider a bad request I think, so the BadRequest Exception makes sense here.&lt;/p&gt;</comment>
                            <comment id="15943621" author="gwenshap" created="Mon, 27 Mar 2017 16:51:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sliebau&quot; class=&quot;user-hover&quot; rel=&quot;sliebau&quot;&gt;sliebau&lt;/a&gt; I like your validName approach. Can you create a PR? It is much easier for me to review that way &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15945974" author="githubbot" created="Tue, 28 Mar 2017 21:11:34 +0000"  >&lt;p&gt;GitHub user soenkeliebau opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2755&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2755&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4930&quot; title=&quot;Connect Rest API allows creating connectors with an empty name - KIP-212&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4930&quot;&gt;&lt;del&gt;KAFKA-4930&lt;/del&gt;&lt;/a&gt;: Added connector name validator &#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;to check for empty connector name and illegal characters in connector name. This also fixes  &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4938&quot; title=&quot;Creating a connector with missing name parameter throws a NullPointerException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4938&quot;&gt;&lt;del&gt;KAFKA-4938&lt;/del&gt;&lt;/a&gt; by removing the check for slashes in connector name from ConnectorsResource.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/soenkeliebau/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/soenkeliebau/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4930&quot; title=&quot;Connect Rest API allows creating connectors with an empty name - KIP-212&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4930&quot;&gt;&lt;del&gt;KAFKA-4930&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2755.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2755.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2755&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 348d75dce006ddeb5beba0fc5ea5d761a4a87a82&lt;br/&gt;
Author: Soenke Liebau &amp;lt;soenke.liebau@opencore.com&amp;gt;&lt;br/&gt;
Date:   2017-03-28T21:06:43Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4930&quot; title=&quot;Connect Rest API allows creating connectors with an empty name - KIP-212&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4930&quot;&gt;&lt;del&gt;KAFKA-4930&lt;/del&gt;&lt;/a&gt;: Added connector name validator to check for empty connector name and illegal characters in connector name. This also fixes  &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4938&quot; title=&quot;Creating a connector with missing name parameter throws a NullPointerException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4938&quot;&gt;&lt;del&gt;KAFKA-4938&lt;/del&gt;&lt;/a&gt; by removing the check for slashes in connector name from ConnectorsResource.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15945987" author="sliebau" created="Tue, 28 Mar 2017 21:22:05 +0000"  >&lt;p&gt;I&apos;ve created a PR with my approach as it currently stands. I probably still need to create and additional test case or two, for now I just fixed one broken test (moved the check for / in connector name to a different part of the code that was being mocked in that test). And added a simple test for no name given at all.&lt;/p&gt;

&lt;p&gt;If we go with this route we should probably discuss what characters we want to prohibit in connector names, I did a bit of googling in the hope of finding a rfc that states &quot;these 5 characters are illegal in a rest url&quot; - but that seems to be a somewhat more &lt;a href=&quot;http://stackoverflow.com/questions/2366260/whats-valid-and-whats-not-in-a-uri-query&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;complicated topic&lt;/a&gt;. Also there is of course the risk of prohibiting something that someone out there already used, so we should be very careful here I think.&lt;/p&gt;</comment>
                            <comment id="15964886" author="sliebau" created="Tue, 11 Apr 2017 19:58:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt;: Did you have a chance yet to have a look at my PR? I&apos;m happy to add tests, but would like to wait for a +1 in principle to the approach chosen before doing so &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16069612" author="sliebau" created="Fri, 30 Jun 2017 06:59:58 +0000"  >&lt;p&gt;I&apos;ve updated the PR to resolve a conflict that was caused by introducing the nonEmptyString validator. As far as I can tell that validator is only being used in the transactional producer config, so this PR should still apply as discussed previously.&lt;/p&gt;</comment>
                            <comment id="16069720" author="evis" created="Fri, 30 Jun 2017 08:50:15 +0000"  >&lt;p&gt;I think, it&apos;s good idea to add S&#246;nke to contributors list, so that he can self-assign this ticket &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16246460" author="rhauch" created="Thu, 9 Nov 2017 20:26:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sliebau&quot; class=&quot;user-hover&quot; rel=&quot;sliebau&quot;&gt;sliebau&lt;/a&gt; created KIP-212 and then started the &lt;a href=&quot;https://mail-archives.apache.org/mod_mbox/kafka-dev/201710.mbox/%3CCAMTc-3GXD3jYfknq3LHV726OFMRkbVyGjwnNAsOJL=UxaP0MNg@mail.gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;KIP discussion on the AK dev mailing list&lt;/a&gt;. After a few questions and time to research, S&#246;nke reports the following:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I&apos;ve spent some time looking at this and testing various characters and it would appear that Randall&apos;s suspicion was spot on. I think we can support a fairly large set of characters with very minor changes.&lt;/p&gt;

&lt;p&gt;I was put of by the exceptions that were thrown when creating connectors with certain characters and suspected a larger underlying problem when in fact the only issue is, that the URL in the rest request used to retrieve the response for the create connector request needs to be percent encoded (see &lt;a href=&quot;https://github.com/apache/kafka/blob/trunk/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/rest/resources/ConnectorsResource.java#L102&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ConnectorsResource.java&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;I&apos;ve fixed this and done some local testing which worked out quite nicely, apart from two special cases, I&apos;ve not been able to find characters that created issues, even space and slash work.&lt;br/&gt;
The mentioned special cases are:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;\  - if the name contains a backslash that is not the beginning of a valid escape sequence the request fails before we ever get it in ConnectorsResource, so a backslash would need to be escaped: &lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;&quot;&lt;/tt&gt;  - Quotation marks need to be escaped as well to keep the json body of the request legal: \&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In both cases the escape character will be part of the connector name and need to be specified in the url to retrieve the connector as well, even though we could URL encode it in a legal way without escaping here. So they work, not sure if I&apos;d recommend using those characters, but no real reason to prohibit people from using them that I can see either.&lt;/p&gt;

&lt;p&gt;What I&apos;d do going forward is:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;withdraw the KIP, as I don&apos;t see a real need for one, since this is not changing anything, just fixing things.&lt;/li&gt;
	&lt;li&gt;add a section to the documentation around legal characters, specify the ones I tested explicitly (url encoded %20 - %7F) and mention that most other characters should work as well but no guarantees are given&lt;/li&gt;
	&lt;li&gt;update the pull request for &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4930&quot; title=&quot;Connect Rest API allows creating connectors with an empty name - KIP-212&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4930&quot;&gt;&lt;del&gt;KAFKA-4930&lt;/del&gt;&lt;/a&gt; to allow all characters but still prohibit creating a connector with an empty name. I&apos;d propose to keep the validator though as it&apos;ll give us a central location to do any checking that might turn out to be necessary later on.&lt;/li&gt;
	&lt;li&gt;add some integration tests to check connectors with special characters in their names work&lt;/li&gt;
	&lt;li&gt;fix the url encoding line in ConnectorsResource&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Does that sound fair to everybody?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The important takeaway: Connector names should be URL-encoded in the REST request and will then be properly handled by Connect. The only characters that need to be handled differently (before URL-encoding the connector name) are the double quote character &lt;tt&gt;&quot;&lt;/tt&gt; and backslash character &apos;\&apos; that must be &lt;b&gt;&lt;em&gt;escaped&lt;/em&gt;&lt;/b&gt; with a preceding backslash character within the connector name &lt;em&gt;before&lt;/em&gt; it is URL-encoded.&lt;/p&gt;</comment>
                            <comment id="16262465" author="sliebau" created="Wed, 22 Nov 2017 12:49:58 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhauch&quot; class=&quot;user-hover&quot; rel=&quot;rhauch&quot;&gt;rhauch&lt;/a&gt; - did you have a chance yet to have a look at the updated KIP and PR, so I can start the voting process on the KIP?&lt;/p&gt;</comment>
                            <comment id="16347162" author="ewencp" created="Wed, 31 Jan 2018 16:49:47 +0000"  >&lt;p&gt;Issue resolved by pull request 2755&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/2755&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2755&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16347164" author="githubbot" created="Wed, 31 Jan 2018 16:51:42 +0000"  >&lt;p&gt;ewencp closed pull request #2755: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4930&quot; title=&quot;Connect Rest API allows creating connectors with an empty name - KIP-212&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4930&quot;&gt;&lt;del&gt;KAFKA-4930&lt;/del&gt;&lt;/a&gt;: Added connector name validator &#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/2755&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2755&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java b/clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java&lt;br/&gt;
index 30802984cac..bb199dde202 100644&lt;br/&gt;
&amp;#8212; a/clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java&lt;br/&gt;
+++ b/clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java&lt;br/&gt;
@@ -982,6 +982,40 @@ public String toString() {&lt;br/&gt;
         }&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;+    public static class NonEmptyStringWithoutControlChars implements Validator {&lt;br/&gt;
+&lt;br/&gt;
+        public static NonEmptyStringWithoutControlChars nonEmptyStringWithoutControlChars() &lt;/p&gt;
{
+            return new NonEmptyStringWithoutControlChars();
+        }
&lt;p&gt;+&lt;br/&gt;
+        @Override&lt;br/&gt;
+        public void ensureValid(String name, Object value) {&lt;br/&gt;
+            String s = (String) value;&lt;br/&gt;
+&lt;br/&gt;
+            if (s == null) &lt;/p&gt;
{
+                // This can happen during creation of the config object due to no default value being defined for the
+                // name configuration - a missing name parameter is caught when checking for mandatory parameters,
+                // thus we can ok a null value here
+                return;
+            }
&lt;p&gt; else if (s.isEmpty()) &lt;/p&gt;
{
+                throw new ConfigException(name, value, &quot;String may not be empty&quot;);
+            }
&lt;p&gt;+&lt;br/&gt;
+            // Check name string for illegal characters&lt;br/&gt;
+            ArrayList&amp;lt;Integer&amp;gt; foundIllegalCharacters = new ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;
+&lt;br/&gt;
+            for (int i = 0; i &amp;lt; s.length(); i++) {&lt;br/&gt;
+                if (Character.isISOControl(s.codePointAt&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/information.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)) &lt;/p&gt;
{
+                    foundIllegalCharacters.add(s.codePointAt(i));
+                }
&lt;p&gt;+            }&lt;br/&gt;
+&lt;br/&gt;
+            if (!foundIllegalCharacters.isEmpty()) &lt;/p&gt;
{
+                throw new ConfigException(name, value, &quot;String may not contain control sequences but had the following ASCII chars: &quot; + Utils.join(foundIllegalCharacters, &quot;, &quot;));
+            }
&lt;p&gt;+        }&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
     public static class ConfigKey {&lt;br/&gt;
         public final String name;&lt;br/&gt;
         public final Type type;&lt;br/&gt;
diff --git a/clients/src/test/java/org/apache/kafka/common/config/ConfigDefTest.java b/clients/src/test/java/org/apache/kafka/common/config/ConfigDefTest.java&lt;br/&gt;
index 602147b3114..339c51aa4b1 100644&lt;br/&gt;
&amp;#8212; a/clients/src/test/java/org/apache/kafka/common/config/ConfigDefTest.java&lt;br/&gt;
+++ b/clients/src/test/java/org/apache/kafka/common/config/ConfigDefTest.java&lt;br/&gt;
@@ -160,6 +160,9 @@ public void testValidators() {&lt;br/&gt;
         testValidators(Type.LIST, ConfigDef.ValidList.in(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;), &quot;1&quot;, new Object[]&lt;/p&gt;
{&quot;1&quot;, &quot;2&quot;, &quot;3&quot;}
&lt;p&gt;, new Object[]&lt;/p&gt;
{&quot;4&quot;, &quot;5&quot;, &quot;6&quot;}
&lt;p&gt;);&lt;br/&gt;
         testValidators(Type.STRING, new ConfigDef.NonNullValidator(), &quot;a&quot;, new Object[]&lt;/p&gt;
{&quot;abb&quot;}
&lt;p&gt;, new Object[] &lt;/p&gt;
{null}
&lt;p&gt;);&lt;br/&gt;
         testValidators(Type.STRING, ConfigDef.CompositeValidator.of(new ConfigDef.NonNullValidator(), ValidString.in(&quot;a&quot;, &quot;b&quot;)), &quot;a&quot;, new Object[]&lt;/p&gt;
{&quot;a&quot;, &quot;b&quot;}
&lt;p&gt;, new Object[] &lt;/p&gt;
{null, -1, &quot;c&quot;}
&lt;p&gt;);&lt;br/&gt;
+        testValidators(Type.STRING, new ConfigDef.NonEmptyStringWithoutControlChars(), &quot;defaultname&quot;,&lt;br/&gt;
+                new Object[]&lt;/p&gt;
{&quot;test&quot;, &quot;name&quot;, &quot;test/test&quot;, &quot;test\u1234&quot;, &quot;\u1324name\\&quot;, &quot;/+%&amp;gt;&amp;amp;):??&amp;lt;&amp;amp;()?-&quot;, &quot;+1&quot;, &quot;\uD83D\uDE01&quot;, &quot;\uF3B1&quot;, &quot;     test   \n\r&quot;, &quot;\n  hello \t&quot;}
&lt;p&gt;,&lt;br/&gt;
+                new Object[]&lt;/p&gt;
{&quot;nontrailing\nnotallowed&quot;, &quot;as\u0001cii control char&quot;, &quot;tes\rt&quot;, &quot;test\btest&quot;, &quot;1\t2&quot;, &quot;&quot;}
&lt;p&gt;);&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;     @Test&lt;br/&gt;
diff --git a/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/ConnectorConfig.java b/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/ConnectorConfig.java&lt;br/&gt;
index e63d1002a92..aad12c3a4a5 100644&lt;br/&gt;
&amp;#8212; a/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/ConnectorConfig.java&lt;br/&gt;
+++ b/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/ConnectorConfig.java&lt;br/&gt;
@@ -37,6 +37,7 @@&lt;br/&gt;
 import java.util.Map;&lt;/p&gt;

&lt;p&gt; import static org.apache.kafka.common.config.ConfigDef.Range.atLeast;&lt;br/&gt;
+import static org.apache.kafka.common.config.ConfigDef.NonEmptyStringWithoutControlChars.nonEmptyStringWithoutControlChars;&lt;/p&gt;

&lt;p&gt; /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;&lt;br/&gt;
@@ -96,7 +97,7 @@ public Object get(String key) {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     public static ConfigDef configDef() {&lt;br/&gt;
         return new ConfigDef()&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;.define(NAME_CONFIG, Type.STRING, Importance.HIGH, NAME_DOC, COMMON_GROUP, 1, Width.MEDIUM, NAME_DISPLAY)&lt;br/&gt;
+                .define(NAME_CONFIG, Type.STRING, ConfigDef.NO_DEFAULT_VALUE, nonEmptyStringWithoutControlChars(), Importance.HIGH, NAME_DOC, COMMON_GROUP, 1, Width.MEDIUM, NAME_DISPLAY)&lt;br/&gt;
                 .define(CONNECTOR_CLASS_CONFIG, Type.STRING, Importance.HIGH, CONNECTOR_CLASS_DOC, COMMON_GROUP, 2, Width.LONG, CONNECTOR_CLASS_DISPLAY)&lt;br/&gt;
                 .define(TASKS_MAX_CONFIG, Type.INT, TASKS_MAX_DEFAULT, atLeast(TASKS_MIN_CONFIG), Importance.HIGH, TASKS_MAX_DOC, COMMON_GROUP, 3, Width.SHORT, TASK_MAX_DISPLAY)&lt;br/&gt;
                 .define(KEY_CONVERTER_CLASS_CONFIG, Type.CLASS, null, Importance.LOW, KEY_CONVERTER_CLASS_DOC, COMMON_GROUP, 4, Width.SHORT, KEY_CONVERTER_CLASS_DISPLAY)&lt;br/&gt;
diff --git a/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/rest/resources/ConnectorsResource.java b/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/rest/resources/ConnectorsResource.java&lt;br/&gt;
index 2c031245c06..50d67ce9ce7 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/rest/resources/ConnectorsResource.java&lt;br/&gt;
+++ b/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/rest/resources/ConnectorsResource.java&lt;br/&gt;
@@ -87,10 +87,11 @@ public ConnectorsResource(Herder herder) {&lt;br/&gt;
     @Path(&quot;/&quot;)&lt;br/&gt;
     public Response createConnector(final @QueryParam(&quot;forward&quot;) Boolean forward,&lt;br/&gt;
                                     final CreateConnectorRequest createRequest) throws Throwable {&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;String name = createRequest.name();&lt;/li&gt;
	&lt;li&gt;if (name.contains(&quot;/&quot;)) 
{
-            throw new BadRequestException(&quot;connector name should not contain &apos;/&apos;&quot;);
-        }
&lt;p&gt;+        // Trim leading and trailing whitespaces from the connector name, replace null with empty string&lt;br/&gt;
+        // if no name element present to keep validation within validator (NonEmptyStringWithoutControlChars&lt;br/&gt;
+        // allows null values)&lt;br/&gt;
+        String name = createRequest.name() == null ? &quot;&quot; : createRequest.name().trim();&lt;br/&gt;
+&lt;br/&gt;
         Map&amp;lt;String, String&amp;gt; configs = createRequest.config();&lt;br/&gt;
         checkAndPutConnectorConfigName(name, configs);&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;diff --git a/connect/runtime/src/test/java/org/apache/kafka/connect/runtime/ConnectorConfigTest.java b/connect/runtime/src/test/java/org/apache/kafka/connect/runtime/ConnectorConfigTest.java&lt;br/&gt;
index f8c4fd690dc..fe1bf264654 100644&lt;br/&gt;
&amp;#8212; a/connect/runtime/src/test/java/org/apache/kafka/connect/runtime/ConnectorConfigTest.java&lt;br/&gt;
+++ b/connect/runtime/src/test/java/org/apache/kafka/connect/runtime/ConnectorConfigTest.java&lt;br/&gt;
@@ -90,6 +90,14 @@ public void danglingTransformAlias() &lt;/p&gt;
{
         new ConnectorConfig(MOCK_PLUGINS, props);
     }

&lt;p&gt;+    @Test(expected = ConfigException.class)&lt;br/&gt;
+    public void emptyConnectorName() &lt;/p&gt;
{
+        Map&amp;lt;String, String&amp;gt; props = new HashMap&amp;lt;&amp;gt;();
+        props.put(&quot;name&quot;, &quot;&quot;);
+        props.put(&quot;connector.class&quot;, TestConnector.class.getName());
+        new ConnectorConfig(MOCK_PLUGINS, props);
+    }
&lt;p&gt;+&lt;br/&gt;
     @Test(expected = ConfigException.class)&lt;br/&gt;
     public void wrongTransformationType() {&lt;br/&gt;
         Map&amp;lt;String, String&amp;gt; props = new HashMap&amp;lt;&amp;gt;();&lt;br/&gt;
@@ -168,5 +176,5 @@ public void multipleTransforms() &lt;/p&gt;
{
         assertEquals(42, ((SimpleTransformation) transformations.get(0)).magicNumber);
         assertEquals(84, ((SimpleTransformation) transformations.get(1)).magicNumber);
     }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;p&gt;+&lt;br/&gt;
 }&lt;br/&gt;
diff --git a/connect/runtime/src/test/java/org/apache/kafka/connect/runtime/rest/resources/ConnectorsResourceTest.java b/connect/runtime/src/test/java/org/apache/kafka/connect/runtime/rest/resources/ConnectorsResourceTest.java&lt;br/&gt;
index 89a221835ef..ab4fb0a0f9e 100644&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/connect/runtime/src/test/java/org/apache/kafka/connect/runtime/rest/resources/ConnectorsResourceTest.java&lt;br/&gt;
+++ b/connect/runtime/src/test/java/org/apache/kafka/connect/runtime/rest/resources/ConnectorsResourceTest.java&lt;br/&gt;
@@ -67,8 +67,11 @@&lt;br/&gt;
     // URL construction properly, avoiding //, which will mess up routing in the REST server&lt;br/&gt;
     private static final String LEADER_URL = &quot;http://leader:8083/&quot;;&lt;br/&gt;
     private static final String CONNECTOR_NAME = &quot;test&quot;;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;private static final String CONNECTOR_NAME_SPECIAL_CHARS = &quot;t?a=b&amp;amp;c=d\rx=1.1\n&amp;gt;&amp;lt; \t`&apos;\&quot; x%y+z!#$&amp;amp;&apos;()*+,:;=?@[]&quot;;&lt;br/&gt;
+    private static final String CONNECTOR_NAME_SPECIAL_CHARS = &quot;ta/b&amp;amp;c=d//&lt;br class=&quot;atl-forced-newline&quot; /&gt;rx=1&#254;.1&amp;gt;&amp;lt; `&apos;\&quot; x%y+z!&#4660;#$&amp;amp;&apos;(&#230;)*+,:;=?&#241;@[]&#255;&quot;;&lt;br/&gt;
+    private static final String CONNECTOR_NAME_CONTROL_SEQUENCES1 = &quot;ta/b&amp;amp;c=drx=1\n.1&amp;gt;&amp;lt; `&apos;\&quot; x%y+z!#$&amp;amp;&apos;()*+,:;=?@[]&quot;;&lt;br/&gt;
     private static final String CONNECTOR2_NAME = &quot;test2&quot;;&lt;br/&gt;
+    private static final String CONNECTOR_NAME_ALL_WHITESPACES = &quot;   \t\n  \b&quot;;&lt;br/&gt;
+    private static final String CONNECTOR_NAME_PADDING_WHITESPACES = &quot;   &quot; + CONNECTOR_NAME + &quot;  \n  &quot;;&lt;br/&gt;
     private static final Boolean FORWARD = true;&lt;br/&gt;
     private static final Map&amp;lt;String, String&amp;gt; CONNECTOR_CONFIG_SPECIAL_CHARS = new HashMap&amp;lt;&amp;gt;();&lt;br/&gt;
     static 
{
@@ -81,6 +84,24 @@
         CONNECTOR_CONFIG.put(&quot;name&quot;, CONNECTOR_NAME);
         CONNECTOR_CONFIG.put(&quot;sample_config&quot;, &quot;test_config&quot;);
     }
&lt;p&gt;+&lt;br/&gt;
+    private static final Map&amp;lt;String, String&amp;gt; CONNECTOR_CONFIG_CONTROL_SEQUENCES = new HashMap&amp;lt;&amp;gt;();&lt;br/&gt;
+    static &lt;/p&gt;
{
+        CONNECTOR_CONFIG_CONTROL_SEQUENCES.put(&quot;name&quot;, CONNECTOR_NAME_CONTROL_SEQUENCES1);
+        CONNECTOR_CONFIG_CONTROL_SEQUENCES.put(&quot;sample_config&quot;, &quot;test_config&quot;);
+    }
&lt;p&gt;+&lt;br/&gt;
+    private static final Map&amp;lt;String, String&amp;gt; CONNECTOR_CONFIG_WITHOUT_NAME = new HashMap&amp;lt;&amp;gt;();&lt;br/&gt;
+    static &lt;/p&gt;
{
+        CONNECTOR_CONFIG_WITHOUT_NAME.put(&quot;sample_config&quot;, &quot;test_config&quot;);
+    }
&lt;p&gt;+&lt;br/&gt;
+    private static final Map&amp;lt;String, String&amp;gt; CONNECTOR_CONFIG_WITH_EMPTY_NAME = new HashMap&amp;lt;&amp;gt;();&lt;br/&gt;
+&lt;br/&gt;
+    static &lt;/p&gt;
{
+        CONNECTOR_CONFIG_WITH_EMPTY_NAME.put(ConnectorConfig.NAME_CONFIG, &quot;&quot;);
+        CONNECTOR_CONFIG_WITH_EMPTY_NAME.put(&quot;sample_config&quot;, &quot;test_config&quot;);
+    }
&lt;p&gt;     private static final List&amp;lt;ConnectorTaskId&amp;gt; CONNECTOR_TASK_NAMES = Arrays.asList(&lt;br/&gt;
             new ConnectorTaskId(CONNECTOR_NAME, 0),&lt;br/&gt;
             new ConnectorTaskId(CONNECTOR_NAME, 1)&lt;br/&gt;
@@ -107,6 +128,12 @@ public void setUp() throws NoSuchMethodException &lt;/p&gt;
{
         connectorsResource = new ConnectorsResource(herder);
     }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+    private static final Map&amp;lt;String, String&amp;gt; getConnectorConfig(Map&amp;lt;String, String&amp;gt; mapToClone) &lt;/p&gt;
{
+        Map&amp;lt;String, String&amp;gt; result = new HashMap&amp;lt;&amp;gt;();
+        result.putAll(mapToClone);
+        return result;
+    }
&lt;p&gt;+&lt;br/&gt;
     @Test&lt;br/&gt;
     public void testListConnectors() throws Throwable {&lt;br/&gt;
         final Capture&amp;lt;Callback&amp;lt;Collection&amp;lt;String&amp;gt;&amp;gt;&amp;gt; cb = Capture.newInstance();&lt;br/&gt;
@@ -205,20 +232,59 @@ public void testCreateConnectorExists() throws Throwable &lt;/p&gt;
{
         PowerMock.verifyAll();
     }&lt;br/&gt;
 &lt;br/&gt;
-    @Test(expected = BadRequestException.class)&lt;br/&gt;
-    public void testCreateConnectorWithASlashInItsName() throws Throwable {&lt;br/&gt;
-        String badConnectorName = CONNECTOR_NAME + &quot;/&quot; + &quot;test&quot;;&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void testCreateConnectorNameTrimWhitespaces() throws Throwable {
+        // Clone CONNECTOR_CONFIG_WITHOUT_NAME Map, as createConnector changes it (puts the name in it) and this
+        // will affect later tests
+        Map&amp;lt;String, String&amp;gt; inputConfig = getConnectorConfig(CONNECTOR_CONFIG_WITHOUT_NAME);
+        final CreateConnectorRequest bodyIn = new CreateConnectorRequest(CONNECTOR_NAME_PADDING_WHITESPACES, inputConfig);
+        final CreateConnectorRequest bodyOut = new CreateConnectorRequest(CONNECTOR_NAME, CONNECTOR_CONFIG);
+
+        final Capture&amp;lt;Callback&amp;lt;Herder.Created&amp;lt;ConnectorInfo&amp;gt;&amp;gt;&amp;gt; cb = Capture.newInstance();
+        herder.putConnectorConfig(EasyMock.eq(bodyOut.name()), EasyMock.eq(bodyOut.config()), EasyMock.eq(false), EasyMock.capture(cb));
+        expectAndCallbackResult(cb, new Herder.Created&amp;lt;&amp;gt;(true, new ConnectorInfo(bodyOut.name(), bodyOut.config(), CONNECTOR_TASK_NAMES, ConnectorType.SOURCE)));
+
+        PowerMock.replayAll();
+
+        connectorsResource.createConnector(FORWARD, bodyIn);
 
-        CreateConnectorRequest body = new CreateConnectorRequest(badConnectorName, Collections.singletonMap(ConnectorConfig.NAME_CONFIG, badConnectorName));
+        PowerMock.verifyAll();
+    }&lt;br/&gt;
+&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void testCreateConnectorNameAllWhitespaces() throws Throwable {
+        // Clone CONNECTOR_CONFIG_WITHOUT_NAME Map, as createConnector changes it (puts the name in it) and this
+        // will affect later tests
+        Map&amp;lt;String, String&amp;gt; inputConfig = getConnectorConfig(CONNECTOR_CONFIG_WITHOUT_NAME);
+        final CreateConnectorRequest bodyIn = new CreateConnectorRequest(CONNECTOR_NAME_ALL_WHITESPACES, inputConfig);
+        final CreateConnectorRequest bodyOut = new CreateConnectorRequest(&quot;&quot;, CONNECTOR_CONFIG_WITH_EMPTY_NAME);
 
         final Capture&amp;lt;Callback&amp;lt;Herder.Created&amp;lt;ConnectorInfo&amp;gt;&amp;gt;&amp;gt; cb = Capture.newInstance();
-        herder.putConnectorConfig(EasyMock.eq(CONNECTOR_NAME), EasyMock.eq(body.config()), EasyMock.eq(false), EasyMock.capture(cb));
-        expectAndCallbackResult(cb, new Herder.Created&amp;lt;&amp;gt;(true, new ConnectorInfo(CONNECTOR_NAME, CONNECTOR_CONFIG, CONNECTOR_TASK_NAMES,
-            ConnectorType.SOURCE)));
+        herder.putConnectorConfig(EasyMock.eq(bodyOut.name()), EasyMock.eq(bodyOut.config()), EasyMock.eq(false), EasyMock.capture(cb));
+        expectAndCallbackResult(cb, new Herder.Created&amp;lt;&amp;gt;(true, new ConnectorInfo(bodyOut.name(), bodyOut.config(), CONNECTOR_TASK_NAMES, ConnectorType.SOURCE)));
 
         PowerMock.replayAll();
 
-        connectorsResource.createConnector(FORWARD, body);
+        connectorsResource.createConnector(FORWARD, bodyIn);
+
+        PowerMock.verifyAll();
+    }&lt;br/&gt;
+&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void testCreateConnectorNoName() throws Throwable {
+        // Clone CONNECTOR_CONFIG_WITHOUT_NAME Map, as createConnector changes it (puts the name in it) and this
+        // will affect later tests
+        Map&amp;lt;String, String&amp;gt; inputConfig = getConnectorConfig(CONNECTOR_CONFIG_WITHOUT_NAME);
+        final CreateConnectorRequest bodyIn = new CreateConnectorRequest(null, inputConfig);
+        final CreateConnectorRequest bodyOut = new CreateConnectorRequest(&quot;&quot;, CONNECTOR_CONFIG_WITH_EMPTY_NAME);
+
+        final Capture&amp;lt;Callback&amp;lt;Herder.Created&amp;lt;ConnectorInfo&amp;gt;&amp;gt;&amp;gt; cb = Capture.newInstance();
+        herder.putConnectorConfig(EasyMock.eq(bodyOut.name()), EasyMock.eq(bodyOut.config()), EasyMock.eq(false), EasyMock.capture(cb));
+        expectAndCallbackResult(cb, new Herder.Created&amp;lt;&amp;gt;(true, new ConnectorInfo(bodyOut.name(), bodyOut.config(), CONNECTOR_TASK_NAMES, ConnectorType.SOURCE)));
+
+        PowerMock.replayAll();
+
+        connectorsResource.createConnector(FORWARD, bodyIn);
 
         PowerMock.verifyAll();
     }&lt;br/&gt;
@@ -341,6 +407,24 @@ public void testCreateConnectorWithSpecialCharsInName() throws Throwable {         PowerMock.verifyAll();     }

&lt;p&gt;+    @Test&lt;br/&gt;
+    public void testCreateConnectorWithControlSequenceInName() throws Throwable &lt;/p&gt;
{
+        CreateConnectorRequest body = new CreateConnectorRequest(CONNECTOR_NAME_CONTROL_SEQUENCES1, Collections.singletonMap(ConnectorConfig.NAME_CONFIG, CONNECTOR_NAME_CONTROL_SEQUENCES1));
+
+        final Capture&amp;lt;Callback&amp;lt;Herder.Created&amp;lt;ConnectorInfo&amp;gt;&amp;gt;&amp;gt; cb = Capture.newInstance();
+        herder.putConnectorConfig(EasyMock.eq(CONNECTOR_NAME_CONTROL_SEQUENCES1), EasyMock.eq(body.config()), EasyMock.eq(false), EasyMock.capture(cb));
+        expectAndCallbackResult(cb, new Herder.Created&amp;lt;&amp;gt;(true, new ConnectorInfo(CONNECTOR_NAME_CONTROL_SEQUENCES1, CONNECTOR_CONFIG,
+                CONNECTOR_TASK_NAMES, ConnectorType.SOURCE)));
+
+        PowerMock.replayAll();
+
+        String rspLocation = connectorsResource.createConnector(FORWARD, body).getLocation().toString();
+        String decoded = new URI(rspLocation).getPath();
+        Assert.assertEquals(&quot;/connectors/&quot; + CONNECTOR_NAME_CONTROL_SEQUENCES1, decoded);
+
+        PowerMock.verifyAll();
+    }
&lt;p&gt;+&lt;br/&gt;
     @Test&lt;br/&gt;
     public void testPutConnectorConfigWithSpecialCharsInName() throws Throwable {&lt;br/&gt;
         final Capture&amp;lt;Callback&amp;lt;Herder.Created&amp;lt;ConnectorInfo&amp;gt;&amp;gt;&amp;gt; cb = Capture.newInstance();&lt;br/&gt;
@@ -358,6 +442,23 @@ public void testPutConnectorConfigWithSpecialCharsInName() throws Throwable &lt;/p&gt;
{
         PowerMock.verifyAll();
     }

&lt;p&gt;+    @Test&lt;br/&gt;
+    public void testPutConnectorConfigWithControlSequenceInName() throws Throwable &lt;/p&gt;
{
+        final Capture&amp;lt;Callback&amp;lt;Herder.Created&amp;lt;ConnectorInfo&amp;gt;&amp;gt;&amp;gt; cb = Capture.newInstance();
+
+        herder.putConnectorConfig(EasyMock.eq(CONNECTOR_NAME_CONTROL_SEQUENCES1), EasyMock.eq(CONNECTOR_CONFIG_CONTROL_SEQUENCES), EasyMock.eq(true), EasyMock.capture(cb));
+        expectAndCallbackResult(cb, new Herder.Created&amp;lt;&amp;gt;(true, new ConnectorInfo(CONNECTOR_NAME_CONTROL_SEQUENCES1, CONNECTOR_CONFIG_CONTROL_SEQUENCES, CONNECTOR_TASK_NAMES,
+                ConnectorType.SINK)));
+
+        PowerMock.replayAll();
+
+        String rspLocation = connectorsResource.putConnectorConfig(CONNECTOR_NAME_CONTROL_SEQUENCES1, FORWARD, CONNECTOR_CONFIG_CONTROL_SEQUENCES).getLocation().toString();
+        String decoded = new URI(rspLocation).getPath();
+        Assert.assertEquals(&quot;/connectors/&quot; + CONNECTOR_NAME_CONTROL_SEQUENCES1, decoded);
+
+        PowerMock.verifyAll();
+    }
&lt;p&gt;+&lt;br/&gt;
     @Test(expected = BadRequestException.class)&lt;br/&gt;
     public void testPutConnectorConfigNameMismatch() throws Throwable {&lt;br/&gt;
         Map&amp;lt;String, String&amp;gt; connConfig = new HashMap&amp;lt;&amp;gt;(CONNECTOR_CONFIG);&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13085169">KAFKA-5563</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="13058407">KAFKA-4938</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13047406">KAFKA-4827</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13090623">KAFKA-5669</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cmfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>