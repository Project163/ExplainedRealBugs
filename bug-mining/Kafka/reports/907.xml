<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:52:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-3044] Consumer.poll doesnot return messages when poll interval is less</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-3044</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;When seeking to particular position in consumer and starting poll with timeout param 0 the consumer does not come back with data though there is data published via a producer already. If the timeout is increased slowly in chunks of 100ms then at 700ms value the consumer returns back the record on first call to poll.&lt;/p&gt;

&lt;p&gt;Docs &lt;a href=&quot;http://kafka.apache.org/090/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#poll(long)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://kafka.apache.org/090/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#poll(long)&lt;/a&gt; for poll reads if timeout is 0 then data will be returned immediately but the behaviour seen is that data is not returned.&lt;/p&gt;

&lt;p&gt;The test code I am using can be found here &lt;a href=&quot;https://gist.github.com/praveend/013dcab01ebb8c7e2f2d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/praveend/013dcab01ebb8c7e2f2d&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have created a topic with data published as below and then running the test program &lt;span class=&quot;error&quot;&gt;&amp;#91;ConsumerPollTest.java&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;$ bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic mytopic&lt;br/&gt;
$ bin/kafka-console-producer.sh --broker-list localhost:9092 --topic mytopic&lt;br/&gt;
Hello&lt;br/&gt;
Hai&lt;br/&gt;
bye&lt;br/&gt;
$ java ConsumerPollTest&lt;/p&gt;

&lt;p&gt;I have published this 3 lines of data to kafka only once....later on I just use the above program with different poll interval&lt;/p&gt;

&lt;p&gt;Let me know if I am missing anything and interpreting it wrongly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12924521">KAFKA-3044</key>
            <summary>Consumer.poll doesnot return messages when poll interval is less</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="praveend">Praveen Devarao</assignee>
                                    <reporter username="praveend">Praveen Devarao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Dec 2015 15:44:35 +0000</created>
                <updated>Wed, 3 Feb 2016 03:18:07 +0000</updated>
                            <resolved>Mon, 11 Jan 2016 06:14:44 +0000</resolved>
                                    <version>0.9.0.0</version>
                                    <fixVersion>0.10.0.0</fixVersion>
                                    <component>clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15073016" author="guozhang" created="Mon, 28 Dec 2015 18:58:09 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=praveend&quot; class=&quot;user-hover&quot; rel=&quot;praveend&quot;&gt;praveend&lt;/a&gt; I think the Java docs need to be reworded since &quot;returns immediately with any records that are available now&quot; could be a bit misleading, actually what it meant is that if there is already some data fetched from the server and buffered at the consumer client, return them immediately, otherwise return empty.&lt;/p&gt;

&lt;p&gt;Assigning to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hachikuji&quot; class=&quot;user-hover&quot; rel=&quot;hachikuji&quot;&gt;hachikuji&lt;/a&gt; to review and change the java docs. &lt;/p&gt;</comment>
                            <comment id="15073212" author="jkreps" created="Mon, 28 Dec 2015 22:26:06 +0000"  >&lt;p&gt;+1 on the doc change, let&apos;s not try to make the contract of poll() that it always returns messages, I think that will be hard to live up to (and in any case irrelevant since you can always hit the timeout).&lt;/p&gt;</comment>
                            <comment id="15073597" author="praveend" created="Tue, 29 Dec 2015 07:34:18 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jkreps&quot; class=&quot;user-hover&quot; rel=&quot;jkreps&quot;&gt;jkreps&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OK.&lt;/p&gt;

&lt;p&gt;Also, could we recommend a value for timeout &lt;span class=&quot;error&quot;&gt;&amp;#91;based on some assumed factors&amp;#93;&lt;/span&gt;?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Praveen&lt;/p&gt;</comment>
                            <comment id="15090892" author="githubbot" created="Sun, 10 Jan 2016 05:02:55 +0000"  >&lt;p&gt;GitHub user praveend opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/751&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/751&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3044&quot; title=&quot;Consumer.poll doesnot return messages when poll interval is less&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3044&quot;&gt;&lt;del&gt;KAFKA-3044&lt;/del&gt;&lt;/a&gt;: Re-word consumer.poll behaviour&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3044&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/KAFKA-3044&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/praveend/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/praveend/kafka&lt;/a&gt; poll_doc_changes&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/751.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/751.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #751&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 331a5ecc6a65212e27e8a4551ce4af3321598d1a&lt;br/&gt;
Author: Praveen Devarao &amp;lt;praveendrl@in.ibm.com&amp;gt;&lt;br/&gt;
Date:   2016-01-10T04:54:00Z&lt;/p&gt;

&lt;p&gt;    Doc change as per &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3044&quot; title=&quot;Consumer.poll doesnot return messages when poll interval is less&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3044&quot;&gt;&lt;del&gt;KAFKA-3044&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15090894" author="praveend" created="Sun, 10 Jan 2016 05:05:40 +0000"  >&lt;p&gt;Had some time on hands and thought will make the doc changes. Let me know if the wording for timeout is fine and also if any other place that needs similar change (will make them too).&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Praveen&lt;/p&gt;</comment>
                            <comment id="15091491" author="ewencp" created="Mon, 11 Jan 2016 06:14:44 +0000"  >&lt;p&gt;Issue resolved by pull request 751&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/751&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/751&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15091492" author="githubbot" created="Mon, 11 Jan 2016 06:14:46 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/751&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/751&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15091524" author="praveend" created="Mon, 11 Jan 2016 06:58:41 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ewencp&quot; class=&quot;user-hover&quot; rel=&quot;ewencp&quot;&gt;ewencp&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;May I request to set me as the assignee of this JIRA?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Praveen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qcfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>