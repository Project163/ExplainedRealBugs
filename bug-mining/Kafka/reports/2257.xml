<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:18:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-7633] Kafka Connect requires permission to create internal topics even if they exist</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-7633</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Similar to issue &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6250&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/KAFKA-6250&lt;/a&gt; but now with a different exception.&lt;/p&gt;

&lt;p&gt;Error is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
018-11-13 16:14:10,283 [DistributedHerder] ERROR o.a.k.c.r.d.DistributedHerder - Uncaught exception in herder work thread, exiting:
org.apache.kafka.connect.errors.ConnectException: Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; attempting to create/find topic(s) &lt;span class=&quot;code-quote&quot;&gt;&apos;connect-offsets&apos;&lt;/span&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.connect.util.TopicAdmin.createTopics(TopicAdmin.java:255)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.connect.storage.KafkaOffsetBackingStore$1.run(KafkaOffsetBackingStore.java:100)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.connect.util.KafkaBasedLog.start(KafkaBasedLog.java:126)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.connect.storage.KafkaOffsetBackingStore.start(KafkaOffsetBackingStore.java:110)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.connect.runtime.Worker.start(Worker.java:144)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.connect.runtime.AbstractHerder.startServices(AbstractHerder.java:108)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.connect.runtime.distributed.DistributedHerder.run(DistributedHerder.java:211)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.util.concurrent.FutureTask.run(FutureTask.java:266)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
Caused by: java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TopicAuthorizationException: Not authorized to access topics: [Topic authorization failed.]
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.common.internals.KafkaFutureImpl.wrapAndThrow(KafkaFutureImpl.java:45)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.common.internals.KafkaFutureImpl.access$000(KafkaFutureImpl.java:32)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.common.internals.KafkaFutureImpl$SingleWaiter.await(KafkaFutureImpl.java:89)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:258)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.connect.util.TopicAdmin.createTopics(TopicAdmin.java:228)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; ... 11 common frames omitted
Caused by: org.apache.kafka.common.errors.TopicAuthorizationException: Not authorized to access topics: [Topic authorization failed.]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Kafka 2.0 uses TOPIC_AUTHORIZATION_FAILED(29) as a response code now in the &lt;a href=&quot;https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/requests/CreateTopicsResponse.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CreateTopicsResponse&lt;/a&gt; class whereas it used CLUSTER_AUTHORIZATION_FAILED(31) in Kafka 1.1 &lt;a href=&quot;https://github.com/apache/kafka/blob/1.1/clients/src/main/java/org/apache/kafka/common/requests/CreateTopicsResponse.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;for example&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13198759">KAFKA-7633</key>
            <summary>Kafka Connect requires permission to create internal topics even if they exist</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="arabelle">Arabelle Hou</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Nov 2018 22:24:12 +0000</created>
                <updated>Mon, 20 May 2019 16:50:52 +0000</updated>
                            <resolved>Sat, 11 May 2019 18:09:29 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>2.0.2</fixVersion>
                    <fixVersion>2.1.2</fixVersion>
                    <fixVersion>2.2.1</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16688737" author="githubbot" created="Thu, 15 Nov 2018 22:32:41 +0000"  >&lt;p&gt;arabelle opened a new pull request #5918: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-7633&quot; title=&quot;Kafka Connect requires permission to create internal topics even if they exist&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-7633&quot;&gt;&lt;del&gt;KAFKA-7633&lt;/del&gt;&lt;/a&gt;: Allow Kafka Connect to access internal topics without clu&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/5918&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/5918&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &#8230;ster ACLs&lt;/p&gt;

&lt;p&gt;   When Kafka Connect does not have cluster ACLs to create topics,&lt;br/&gt;
   it fails to even access its internal topics which already exist.&lt;br/&gt;
   This was originally fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6250&quot; title=&quot;Kafka Connect requires permission to create internal topics even if they exist&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6250&quot;&gt;&lt;del&gt;KAFKA-6250&lt;/del&gt;&lt;/a&gt; by ignoring the cluster&lt;br/&gt;
   authorization error, but now Kafka 2.0 returns a different response&lt;br/&gt;
   code that corresponds to a different error. Add a patch to ignore this&lt;br/&gt;
   new error as well.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Committer Checklist (excluded from commit message)&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Verify design and implementation&lt;/li&gt;
	&lt;li&gt;[ ] Verify test coverage and CI build status&lt;/li&gt;
	&lt;li&gt;[ ] Verify documentation (including upgrade notes)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16742398" author="arabelle" created="Mon, 14 Jan 2019 18:35:50 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gavriep&quot; class=&quot;user-hover&quot; rel=&quot;gavriep&quot;&gt;gavriep&lt;/a&gt;, do you mind taking a look at this since you created the original patch?&lt;/p&gt;</comment>
                            <comment id="16743203" author="gavriep" created="Tue, 15 Jan 2019 16:33:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arabelle&quot; class=&quot;user-hover&quot; rel=&quot;arabelle&quot;&gt;arabelle&lt;/a&gt;: Sorry, but I haven&apos;t been working with Kafka for quite a while now and no longer&#160;have the relevant setup ready.&lt;/p&gt;</comment>
                            <comment id="16837903" author="githubbot" created="Sat, 11 May 2019 18:05:44 +0000"  >&lt;p&gt;hachikuji commented on pull request #5918: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-7633&quot; title=&quot;Kafka Connect requires permission to create internal topics even if they exist&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-7633&quot;&gt;&lt;del&gt;KAFKA-7633&lt;/del&gt;&lt;/a&gt;: Allow Kafka Connect to access internal topics without cluster ACLs&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/5918&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/5918&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16844109" author="muzeeb" created="Mon, 20 May 2019 16:50:52 +0000"  >&lt;p&gt;Which version (&lt;a href=&quot;https://hub.docker.com/r/confluentinc/cp-kafka-connect/tags&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hub.docker.com/r/confluentinc/cp-kafka-connect/tags&lt;/a&gt;) of Kafka Connect docker image would have this fix ? If not, how do we get this fix pushed to docker hub as well ?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s00k0g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>