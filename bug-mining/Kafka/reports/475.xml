<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:40:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-1469] Util.abs function does not return correct absolute values for negative values</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-1469</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Reported by Russell Melick. [edit1: I don&apos;t think this affects correctness of&lt;br/&gt;
the places that use the abs utility since we just need it to return a&lt;br/&gt;
consistent positive value, but we should fix this nonetheless]&lt;br/&gt;
[edit 2: actually it affects correctness in places that depend on consistent&lt;br/&gt;
values across the fix. e.g., the offset manager is determined based on&lt;br/&gt;
abs(hash(consumer group)). So after an upgrade that can change]&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;     /**
      * Get the absolute value of the given number. If the number is
   Int.MinValue &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0.
      * This is different from java.lang.&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.abs or scala.math.abs in that
   they &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Int.MinValue (!).
      */
     def abs(n: Int) = n &amp;amp; 0x7fffffff
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For negative integers, it does not return the absolute value.  It does&lt;br/&gt;
appear to do what the comment says for Int.MinValue though.  For example,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   scala&amp;gt; -1 &amp;amp; 0x7fffffff
   res8: Int = 2147483647

   scala&amp;gt; -2 &amp;amp; 0x7fffffff
   res9: Int = 2147483646

   scala&amp;gt; -2147483647 &amp;amp; 0x7fffffff
   res11: Int = 1

   scala&amp;gt; -2147483648 &amp;amp; 0x7fffffff
   res12: Int = 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12716451">KAFKA-1469</key>
            <summary>Util.abs function does not return correct absolute values for negative values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jjkoshy">Joel Jacob Koshy</reporter>
                        <labels>
                            <label>newbie</label>
                            <label>patch</label>
                    </labels>
                <created>Fri, 23 May 2014 21:54:33 +0000</created>
                <updated>Mon, 22 Sep 2014 22:42:09 +0000</updated>
                            <resolved>Fri, 6 Jun 2014 17:04:06 +0000</resolved>
                                                    <fixVersion>0.8.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14017113" author="sgeller" created="Tue, 3 Jun 2014 20:33:39 +0000"  >&lt;p&gt;This patch handles MinValue as described in the comment aswell as handling negative integers. Added unit tests nevertheless.&lt;/p&gt;</comment>
                            <comment id="14017833" author="guozhang" created="Wed, 4 Jun 2014 16:38:11 +0000"  >&lt;p&gt;Thanks for the patch, I am +1 on this one.&lt;/p&gt;</comment>
                            <comment id="14020050" author="nehanarkhede" created="Fri, 6 Jun 2014 17:02:52 +0000"  >&lt;p&gt;+1. Thanks for the patch.&lt;/p&gt;</comment>
                            <comment id="14020053" author="nehanarkhede" created="Fri, 6 Jun 2014 17:04:06 +0000"  >&lt;p&gt;Pushed to trunk&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12648224" name="KAFKA-1469.patch" size="1443" author="sgeller" created="Tue, 3 Jun 2014 20:31:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>394659</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 24 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vy9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>394798</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>