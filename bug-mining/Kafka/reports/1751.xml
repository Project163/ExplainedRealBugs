<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:05:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-6174] Add methods in Options classes to keep binary compatibility with 0.11</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-6174</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;From 0.11 to 1.0, we moved `DescribeClusterOptions timeoutMs(Integer timeoutMs)` from DescribeClusterOptions to AbstractOptions. User reports that code compiled against 0.11.0 fails when it is executed with 1.0 kafka-clients jar.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13116272">KAFKA-6174</key>
            <summary>Add methods in Options classes to keep binary compatibility with 0.11</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lindong">Dong Lin</assignee>
                                    <reporter username="lindong">Dong Lin</reporter>
                        <labels>
                    </labels>
                <created>Sun, 5 Nov 2017 21:21:37 +0000</created>
                <updated>Sun, 7 Sep 2025 22:22:48 +0000</updated>
                            <resolved>Wed, 6 Dec 2017 14:22:06 +0000</resolved>
                                                    <fixVersion>1.0.1</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16239730" author="lindong" created="Sun, 5 Nov 2017 21:27:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ijuma&quot; class=&quot;user-hover&quot; rel=&quot;ijuma&quot;&gt;ijuma&lt;/a&gt; I am still now sure why this change breaks binary compatibility. Even though we moved `DescribeClusterOptions timeoutMs(Integer timeoutMs)` from DescribeClusterOptions to AbstractOptions, the compiled jar should include a method with the same signature in the class DescribeClusterOptions. &lt;a href=&quot;https://wiki.eclipse.org/Evolving_Java-based_APIs_2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.eclipse.org/Evolving_Java-based_APIs_2&lt;/a&gt; suggests that it should be binary compatible to move a API method up type hierarchy. By your knowledge if binary compatibility, do you think this change in the source code will actually break binary compatibility?&lt;/p&gt;

&lt;p&gt;Even if it breaks binary compatibility, if we were to fix binary compatibility, we will have to add the method `timeoutMs(Integer timeoutMs)` in all existing option classes, not just for 1.0, but for all future Kafka versions. I am not sure we should do this. Do you know our current policy regarding enforcement of binary compatibility, e.g. is it necessary even if we bump up the major version?&lt;/p&gt;

&lt;p&gt;Also, do you know how to reproduce this issue?&lt;/p&gt;</comment>
                            <comment id="16239742" author="ijuma" created="Sun, 5 Nov 2017 21:56:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lindong&quot; class=&quot;user-hover&quot; rel=&quot;lindong&quot;&gt;lindong&lt;/a&gt;, I think the issue is that the return type is not the same in the base class. Since it&apos;s a generic parameter, it gets erased in the bytecode and doesn&apos;t match.&lt;/p&gt;

&lt;p&gt;To test you just have to compile code that calls that method with 0.11.0.x and the run it with 1.0.0.&lt;/p&gt;

&lt;p&gt;We should never do binary incompatible changes without a KIP, so yes, we need to fix it and then propose a KIP for a future release if we think it&apos;s worth it. And there should be a deprecation period, if possible.&lt;/p&gt;</comment>
                            <comment id="16240067" author="tombentley" created="Mon, 6 Nov 2017 09:30:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ijuma&quot; class=&quot;user-hover&quot; rel=&quot;ijuma&quot;&gt;ijuma&lt;/a&gt; binary compatibility checking could be something done in CI, since there are tools (e.g. &lt;a href=&quot;https://lvc.github.io/japi-compliance-checker/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lvc.github.io/japi-compliance-checker/&lt;/a&gt;, &lt;a href=&quot;http://siom79.github.io/japicmp/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://siom79.github.io/japicmp/&lt;/a&gt;) which can detect this sort of thing. &lt;/p&gt;</comment>
                            <comment id="16241779" author="ijuma" created="Tue, 7 Nov 2017 10:08:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tombentley&quot; class=&quot;user-hover&quot; rel=&quot;tombentley&quot;&gt;tombentley&lt;/a&gt;, yes, there is a JIRA and proof of concept PR for that. I was planning on reviving that for the upcoming release, but feel free to do it, if you&apos;d like. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; The JIRA is &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-1880&quot; title=&quot;Add support for checking binary/source compatibility&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-1880&quot;&gt;KAFKA-1880&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16263646" author="githubbot" created="Thu, 23 Nov 2017 01:15:59 +0000"  >&lt;p&gt;GitHub user lindong28 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4257&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4257&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6174&quot; title=&quot;Add methods in Options classes to keep binary compatibility with 0.11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6174&quot;&gt;&lt;del&gt;KAFKA-6174&lt;/del&gt;&lt;/a&gt;; Add methods in Options classes to keep binary compatibility with 0.11&lt;/p&gt;

&lt;p&gt;    From 0.11 to 1.0, we moved `DescribeClusterOptions timeoutMs(Integer timeoutMs)` from DescribeClusterOptions to AbstractOptions. User reports that code compiled against 0.11.0 fails when it is executed with 1.0 kafka-clients jar. This patch adds back these methods to keep binary compatibility with 0.11.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/lindong28/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/lindong28/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6174&quot; title=&quot;Add methods in Options classes to keep binary compatibility with 0.11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6174&quot;&gt;&lt;del&gt;KAFKA-6174&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4257.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4257.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4257&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit be3069d99e1da91d7bb2aa00be1c4e0b2050ad39&lt;br/&gt;
Author: Dong Lin &amp;lt;lindong28@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-23T01:14:02Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-6174&quot; title=&quot;Add methods in Options classes to keep binary compatibility with 0.11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-6174&quot;&gt;&lt;del&gt;KAFKA-6174&lt;/del&gt;&lt;/a&gt;; Add methods in Options classes to keep binary compatibility with 0.11&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16280211" author="githubbot" created="Wed, 6 Dec 2017 13:59:20 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/4257&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/4257&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13628316">KAFKA-19684</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3mf8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>