<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:43:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-19668] processValues() must be declared as value-changing operation</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-19668</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;When adding `KStreams#processValues()` we missed to declare the operation as &quot;value changing&quot;. This can lead to an &quot;incorrectly&quot; built topology.&lt;/p&gt;

&lt;p&gt;The main problem is, that `processValues()` is the replacement of `transformValues()` which we removed with AK 4.0.0 release. Thus, if users rewrite existing programs from `transformValues()` to the new `processValues()` (what will be required when upgrading to 4.x release), they might observe this change as a regression.&lt;/p&gt;

&lt;p&gt;The impact of the changed topology is, that local state is effectively lost, and must be restored from the changelog topic, resulting in downtime after an upgrade.&lt;/p&gt;

&lt;p&gt;Note: the bug does only surface, if topology optimization is used, in particular the &quot;merge repartition topics&quot; rewrite.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13628009">KAFKA-19668</key>
            <summary>processValues() must be declared as value-changing operation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mjsax">Matthias J. Sax</assignee>
                                    <reporter username="mjsax">Matthias J. Sax</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Sep 2025 15:30:42 +0000</created>
                <updated>Mon, 8 Sep 2025 20:40:28 +0000</updated>
                            <resolved>Mon, 8 Sep 2025 20:40:28 +0000</resolved>
                                    <version>3.3.0</version>
                                    <fixVersion>4.0.1</fixVersion>
                    <fixVersion>4.2.0</fixVersion>
                    <fixVersion>4.1.1</fixVersion>
                                    <component>streams</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="18018250" author="mjsax" created="Thu, 4 Sep 2025 23:38:55 +0000"  >&lt;p&gt;Do not break backward compatibility, we decided to not enable this fix by default in AK 4.0.1 and 4.1.1 releases, and will do some follow up work for AK 4.2.0 for allow us to enable the fix by default there.&lt;/p&gt;</comment>
                            <comment id="18018892" author="githubbot" created="Mon, 8 Sep 2025 20:20:04 +0000"  >&lt;p&gt;mjsax opened a new pull request, #721:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka-site/pull/721&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka-site/pull/721&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   (no comment)&lt;/p&gt;

</comment>
                            <comment id="18018893" author="githubbot" created="Mon, 8 Sep 2025 20:28:50 +0000"  >&lt;p&gt;mjsax commented on code in PR #721:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka-site/pull/721#discussion_r2331305729&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka-site/pull/721#discussion_r2331305729&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
33/streams/developer-guide/dsl-api.html:&lt;br/&gt;
##########&lt;br/&gt;
@@ -3496,6 +3496,9 @@ &amp;lt;h5&amp;gt;&amp;lt;a class=&quot;toc-backref&quot; href=&quot;#id34&quot;&amp;gt;KTable-KTable Foreign-Key&lt;br/&gt;
                     &amp;lt;/tr&amp;gt;&lt;br/&gt;
                     &amp;lt;/tbody&amp;gt;&lt;br/&gt;
                 &amp;lt;/table&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+                &amp;lt;p&amp;gt;&amp;lt;b&amp;gt;CAUTION:&amp;lt;/b&amp;gt; If you are using &quot;merge repartition topics&quot; optimization, it is not recommended to use &amp;lt;code&amp;gt;KStream#processValues&amp;lt;/code&amp;gt; to avoid compatibility issues for future upgrades to newer versions of Kafka Streams.&lt;br/&gt;
+                    For more details, see the &amp;lt;a href=&quot;/40/documentation/streams/developer-guide/dsl-api.htm#transformers-removal-and-migration-to-processors&quot;&amp;gt;migration guide&amp;lt;/a&amp;gt; in the Kafka Streams 4.0 docs.&amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   This update (same for other version up to, including, `3.8`) are only done here on `kafka-site.git`, but not in `kafka.git`. But should be ok, as we won&apos;t do any more 3.x bug-fix releases with high probability.&lt;/p&gt;

&lt;p&gt;   I did put this line into `3.9` though, as it&apos;s the last release in `3.9` series and might get more bug-fix releases, if people are hesitant to migrate to `4.0`.&lt;/p&gt;


</comment>
                            <comment id="18018898" author="githubbot" created="Mon, 8 Sep 2025 20:39:41 +0000"  >&lt;p&gt;mjsax merged PR #721:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka-site/pull/721&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka-site/pull/721&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="18018899" author="mjsax" created="Mon, 8 Sep 2025 20:40:28 +0000"  >&lt;p&gt;While we mark this ticket as resolved for AK 4.2.0 release, we also need a follow up for a cleaner fix. Filed &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-19688&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/KAFKA-19688&lt;/a&gt; for AK 4.2.0 follow up work.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13628406">KAFKA-19688</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xjds:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>