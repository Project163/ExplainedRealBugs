<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:26:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-12190] Failure on Windows due to an UnsupportedOperationException when StateDirectory sets file permissions</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-12190</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;There appears to be a regression in Kafka 2.6.1 due to &lt;a href=&quot;https://github.com/apache/kafka/pull/9583&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the changes&lt;/a&gt; made for &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-10705&quot; title=&quot;Avoid World Readable RocksDB&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-10705&quot;&gt;&lt;del&gt;KAFKA-10705&lt;/del&gt;&lt;/a&gt; that causes a failure on Windows. After upgrading to 2.6.1 from 2.6.0, we&apos;re seeing failures in Spring Boot&apos;s CI on Windows such as the following:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.lang.UnsupportedOperationException: (No message provided)    
        at java.nio.file.Files.setPosixFilePermissions(Files.java:2044)    
        at org.apache.kafka.streams.processor.internals.StateDirectory.&amp;lt;init&amp;gt;(StateDirectory.java:115)    
        at org.apache.kafka.streams.KafkaStreams.&amp;lt;init&amp;gt;(KafkaStreams.java:745)    
        at org.apache.kafka.streams.KafkaStreams.&amp;lt;init&amp;gt;(KafkaStreams.java:585)    
        at org.springframework.kafka.config.StreamsBuilderFactoryBean.start(StreamsBuilderFactoryBean.java:316)    
        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)    
        at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)    
        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)    
        at java.lang.Iterable.forEach(Iterable.java:75)    
        at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)    
        at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)    
        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:940)    
        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)    
        at org.springframework.boot.test.context.runner.AbstractApplicationContextRunner.configureContext(AbstractApplicationContextRunner.java:447)    
        at org.springframework.boot.test.context.runner.AbstractApplicationContextRunner.createAndLoadContext(AbstractApplicationContextRunner.java:423)    
        at org.springframework.boot.test.context.assertj.AssertProviderApplicationContextInvocationHandler.getContextOrStartupFailure(AssertProviderApplicationContextInvocationHandler.java:61)    
        at org.springframework.boot.test.context.assertj.AssertProviderApplicationContextInvocationHandler.&amp;lt;init&amp;gt;(AssertProviderApplicationContextInvocationHandler.java:48)    
        at org.springframework.boot.test.context.assertj.ApplicationContextAssertProvider.get(ApplicationContextAssertProvider.java:112)    
        at org.springframework.boot.test.context.runner.AbstractApplicationContextRunner.createAssertableContext(AbstractApplicationContextRunner.java:412)    
        at org.springframework.boot.test.context.runner.AbstractApplicationContextRunner.lambda$null$0(AbstractApplicationContextRunner.java:382)    
        at org.springframework.boot.test.util.TestPropertyValues.applyToSystemProperties(TestPropertyValues.java:175)    
        at org.springframework.boot.test.context.runner.AbstractApplicationContextRunner.lambda$run$1(AbstractApplicationContextRunner.java:381)    
        at org.springframework.boot.test.context.runner.AbstractApplicationContextRunner.withContextClassLoader(AbstractApplicationContextRunner.java:392)    
        at org.springframework.boot.test.context.runner.AbstractApplicationContextRunner.run(AbstractApplicationContextRunner.java:381)    
        at org.springframework.boot.actuate.autoconfigure.metrics.KafkaMetricsAutoConfigurationTests.whenKafkaStreamsIsEnabledAndThereIsNoMeterRegistryThenListenerCustomizationBacksOff(KafkaMetricsAutoConfigurationTests.java:92)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The same code worked without changes using Kafka 2.6.0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13352055">KAFKA-12190</key>
            <summary>Failure on Windows due to an UnsupportedOperationException when StateDirectory sets file permissions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="awilkinson">Andy Wilkinson</assignee>
                                    <reporter username="awilkinson">Andy Wilkinson</reporter>
                        <labels>
                            <label>bug</label>
                    </labels>
                <created>Wed, 13 Jan 2021 17:15:58 +0000</created>
                <updated>Thu, 29 Sep 2022 15:18:38 +0000</updated>
                            <resolved>Mon, 25 Jan 2021 19:54:52 +0000</resolved>
                                    <version>2.6.1</version>
                    <version>2.7.0</version>
                                    <fixVersion>2.6.2</fixVersion>
                    <fixVersion>2.7.1</fixVersion>
                    <fixVersion>2.8.0</fixVersion>
                                    <component>streams</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="17264398" author="ableegoldman" created="Wed, 13 Jan 2021 20:13:40 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=awilkinson&quot; class=&quot;user-hover&quot; rel=&quot;awilkinson&quot;&gt;awilkinson&lt;/a&gt;, thanks for the bug report. Technically Kafka Streams is not &quot;officially supported&quot; on Windows and we encourage users to run on Linux based systems if at all possible.&lt;/p&gt;

&lt;p&gt;But I recognize that sometimes it really isn&apos;t possible, so I&apos;m sorry that this slipped through. We&apos;ve had kind of a &quot;best effort&quot; approach to supporting Windows based on user reports in the past. Unfortunately I doubt many (if any) Kafka Streams devs even have a Windows environment set up for testing, much less run those tests on a regular basis. I&apos;m not sure what the best approach would be to prevent this sort of thing going forward &#8211; perhaps we need to reach out to Windows users during the release process and ask them to participate in the pre-release testing.&lt;/p&gt;

&lt;p&gt;For now, would you be interested in submitting a patch for this issue? We should try to get this fixed before the next release&lt;/p&gt;</comment>
                            <comment id="17264685" author="awilkinson" created="Thu, 14 Jan 2021 08:20:33 +0000"  >&lt;p&gt;Yes, I&apos;d be happy to provide a patch. What&apos;s the timeline for the next release? It may take me a little while to get my employer&apos;s approval to contribute. The SLA for approval is 3 days but it has taken longer in the past. I can work on the changes in the meantime. To that end, what branch should I base the changes on? Should it be trunk with the changes then potentially being back-ported to the 2.6 and 2.7 branches?&lt;/p&gt;</comment>
                            <comment id="17264922" author="lct45" created="Thu, 14 Jan 2021 14:37:53 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=awilkinson&quot; class=&quot;user-hover&quot; rel=&quot;awilkinson&quot;&gt;awilkinson&lt;/a&gt;, the 2.8 release plan is here: &lt;a href=&quot;https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=173081737.&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=173081737.&lt;/a&gt;&#160;Code freeze is February 17th&lt;/p&gt;</comment>
                            <comment id="17265081" author="grussell" created="Thu, 14 Jan 2021 17:58:02 +0000"  >&lt;p&gt;Given that this is a critical bug, and a regression in a point release (2.6.1), doesn&apos;t this warrant a fairly swift 2.6.2 release?&lt;/p&gt;</comment>
                            <comment id="17266222" author="mjsax" created="Fri, 15 Jan 2021 17:30:25 +0000"  >&lt;p&gt;Note that `2.7.0` release is not affected by this issue, but I don&apos;t think we need to aggressively release `2.6.2`.&lt;/p&gt;

&lt;p&gt;However,&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-10705&quot; title=&quot;Avoid World Readable RocksDB&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-10705&quot;&gt;&lt;del&gt;KAFKA-10705&lt;/del&gt;&lt;/a&gt;&#160;was cherry-picked for `2.7.1` release and thus a fix should be cherry-picked to `2.7` to avoid that we release this regression in `2.7.1`.&lt;/p&gt;</comment>
                            <comment id="17266371" author="mjsax" created="Fri, 15 Jan 2021 21:55:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=awilkinson&quot; class=&quot;user-hover&quot; rel=&quot;awilkinson&quot;&gt;awilkinson&lt;/a&gt;&#160;PR should first always be against `trunk` branch and we would cherry-pick the commit after merging to older branches. Only if there are non-resolvable conflicts while cherry-picking, we would do a dedicated PR against older branches for back-porting.&lt;/p&gt;</comment>
                            <comment id="17267773" author="awilkinson" created="Tue, 19 Jan 2021 09:22:02 +0000"  >&lt;p&gt;Thanks, Matthias. I&apos;ve made the changes against trunk and tested them in a Windows VM. I&apos;m ready to submit a PR once I&apos;ve received approval to do so from my employer. To that end, can you please let me know if contributors to Kafka are required to sign the Apache CLA?&lt;/p&gt;</comment>
                            <comment id="17267959" author="grussell" created="Tue, 19 Jan 2021 15:19:42 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=awilkinson&quot; class=&quot;user-hover&quot; rel=&quot;awilkinson&quot;&gt;awilkinson&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;but I don&apos;t think we need to aggressively release `2.6.2`.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I couldn&apos;t disagree more. In many enterprises, devs are only allowed to upgrade to patch releases. In order to upgrade to a new version (even a minor version), the library has to go through some formal approval process. Not exactly my preference but reality, unfortunately.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;we encourage users to run on Linux based systems if at all possible.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Furthermore, while deployments are probably more often on Linux, developers are often forced to develop on Windows.&lt;/p&gt;

&lt;p&gt;Please reconsider accelerating 2.6.2 to resolve this critical regression, for these reasons.&lt;/p&gt;</comment>
                            <comment id="17268914" author="mjsax" created="Wed, 20 Jan 2021 23:10:11 +0000"  >&lt;p&gt;\cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ijuma&quot; class=&quot;user-hover&quot; rel=&quot;ijuma&quot;&gt;ijuma&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt; &#8211; what do you think? Should we do a `2.6.2` release quickly because of this bug?&lt;/p&gt;</comment>
                            <comment id="17269505" author="iponomarev" created="Thu, 21 Jan 2021 18:15:42 +0000"  >&lt;p&gt;Hello, I came across the same issue. While I&apos;m running Kafka Streams on Linux, I&apos;m developing (and debugging Kafka itself) on Windows, so I need to be able to run TopologyTestDriver-based tests at least. But the fix must be trivial and safe (see &lt;a href=&quot;https://github.com/apache/kafka/pull/9946&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR9946&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="17269567" author="awilkinson" created="Thu, 21 Jan 2021 19:30:16 +0000"  >&lt;p&gt;As promised, here&apos;s a pull request for the changes: &lt;a href=&quot;https://github.com/apache/kafka/pull/9947&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/9947&lt;/a&gt;. The permissions are set as well as they can be on Windows and the tests have been updated to verify the behaviour.&lt;/p&gt;</comment>
                            <comment id="17269608" author="mjsax" created="Thu, 21 Jan 2021 20:24:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iponomarev&quot; class=&quot;user-hover&quot; rel=&quot;iponomarev&quot;&gt;iponomarev&lt;/a&gt;&#160;Thanks for chiming it &#8211; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=awilkinson&quot; class=&quot;user-hover&quot; rel=&quot;awilkinson&quot;&gt;awilkinson&lt;/a&gt;&#160;was working on this issue already and also did a PR. &#8211; I would prefer to review and merge Andy&apos;s PR, because he was the first one who reported the issue and started to look into it. Would this be ok for you?&lt;/p&gt;</comment>
                            <comment id="17269610" author="mjsax" created="Thu, 21 Jan 2021 20:26:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=awilkinson&quot; class=&quot;user-hover&quot; rel=&quot;awilkinson&quot;&gt;awilkinson&lt;/a&gt;&#160;Thanks for the PR. I added you to the list of contributors and assigned this ticket to you. You can now also self-assign tickets.&lt;/p&gt;</comment>
                            <comment id="17269923" author="iponomarev" created="Fri, 22 Jan 2021 06:32:57 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mjsax&quot; class=&quot;user-hover&quot; rel=&quot;mjsax&quot;&gt;mjsax&lt;/a&gt; sure! I searched for the issue on Jira, but didn&apos;t find it, that&apos;s why the duplicated Jira ticket and the PR. Looking forward for the &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=awilkinson&quot; class=&quot;user-hover&quot; rel=&quot;awilkinson&quot;&gt;awilkinson&lt;/a&gt; &apos;s fix!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13363577">KAFKA-12448</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0mjwo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>