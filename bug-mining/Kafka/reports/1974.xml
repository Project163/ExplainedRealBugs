<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:12:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-7097] VerifiableProducer does not work properly with --message-create-time argument</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-7097</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;If you run:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;./bin/kafka-verifiable-producer.sh --broker-list&#160;&amp;lt;broker-list:9092&amp;gt; --topic test_topic_increasing_p2 --message-create-time &amp;lt;epoch argument&amp;gt; --acks -1 --max-messages 100&lt;/p&gt;

&lt;p&gt;the &quot;&amp;lt;epoch argument&amp;gt;&quot; for --message-create-time doesn&apos;t take a 13 digit long like 1529656934000.&#160;&lt;/p&gt;

&lt;p&gt;The error message:&lt;/p&gt;

&lt;p&gt;verifiable-producer: error: argument --message-create-time: could not convert &apos;1529656934000&apos; to Integer (For input string: &quot;1529656934000&quot;)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;When you provide a 10 digit (1529656934) epoch for the argument it does work but this leads to your topic being cleaned up in a few minutes since the retention time is expired.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The error seems to be obvious since VerifiableProducer.java has:&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; Long createTime = (long) res.getInt(&quot;createTime&quot;);&lt;/p&gt;

&lt;p&gt;when parsing the argument. This should be taken as a Long instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13168135">KAFKA-7097</key>
            <summary>VerifiableProducer does not work properly with --message-create-time argument</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tedyu">Zhihong Yu</assignee>
                                    <reporter username="jasperknulst">Jasper Knulst</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jun 2018 19:43:30 +0000</created>
                <updated>Fri, 29 Jun 2018 20:50:31 +0000</updated>
                            <resolved>Thu, 28 Jun 2018 21:47:06 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16523074" author="githubbot" created="Tue, 26 Jun 2018 02:08:40 +0000"  >&lt;p&gt;tedyu opened a new pull request #5292: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-7097&quot; title=&quot;VerifiableProducer does not work properly with --message-create-time argument&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-7097&quot;&gt;&lt;del&gt;KAFKA-7097&lt;/del&gt;&lt;/a&gt; VerifiableProducer does not work properly with --message-create-time argument&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/5292&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/5292&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Currently create time is interpreted as integer.&lt;/p&gt;

&lt;p&gt;   This PR makes the tool accept long values.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Committer Checklist (excluded from commit message)&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Verify design and implementation&lt;/li&gt;
	&lt;li&gt;[ ] Verify test coverage and CI build status&lt;/li&gt;
	&lt;li&gt;[ ] Verify documentation (including upgrade notes)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16526814" author="githubbot" created="Thu, 28 Jun 2018 21:46:29 +0000"  >&lt;p&gt;guozhangwang closed pull request #5292: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-7097&quot; title=&quot;VerifiableProducer does not work properly with --message-create-time argument&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-7097&quot;&gt;&lt;del&gt;KAFKA-7097&lt;/del&gt;&lt;/a&gt; VerifiableProducer does not work properly with --message-create-time argument&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/5292&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/5292&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/tools/src/main/java/org/apache/kafka/tools/VerifiableProducer.java b/tools/src/main/java/org/apache/kafka/tools/VerifiableProducer.java&lt;br/&gt;
index 744142b2f64..3cf67c8ac5e 100644&lt;br/&gt;
&amp;#8212; a/tools/src/main/java/org/apache/kafka/tools/VerifiableProducer.java&lt;br/&gt;
+++ b/tools/src/main/java/org/apache/kafka/tools/VerifiableProducer.java&lt;br/&gt;
@@ -165,7 +165,7 @@ private static ArgumentParser argParser() {&lt;br/&gt;
                 .action(store())&lt;br/&gt;
                 .required(false)&lt;br/&gt;
                 .setDefault(-1)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;.type(Integer.class)&lt;br/&gt;
+                .type(Long.class)&lt;br/&gt;
                 .metavar(&quot;CREATETIME&quot;)&lt;br/&gt;
                 .dest(&quot;createTime&quot;)&lt;br/&gt;
                 .help(&quot;Send messages with creation time starting at the arguments value, in milliseconds since epoch&quot;);&lt;br/&gt;
@@ -215,7 +215,7 @@ public static VerifiableProducer createFromArgs(ArgumentParser parser, String[]&lt;br/&gt;
         int throughput = res.getInt(&quot;throughput&quot;);&lt;br/&gt;
         String configFile = res.getString(&quot;producer.config&quot;);&lt;br/&gt;
         Integer valuePrefix = res.getInt(&quot;valuePrefix&quot;);&lt;/li&gt;
	&lt;li&gt;Long createTime = (long) res.getInt(&quot;createTime&quot;);&lt;br/&gt;
+        Long createTime = res.getLong(&quot;createTime&quot;);&lt;br/&gt;
         Integer repeatingKeys = res.getInt(&quot;repeatingKeys&quot;);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         if (createTime == -1L)&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16528187" author="githubbot" created="Fri, 29 Jun 2018 20:21:30 +0000"  >&lt;p&gt;guozhangwang opened a new pull request #5313: HOTFIX: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-7097&quot; title=&quot;VerifiableProducer does not work properly with --message-create-time argument&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-7097&quot;&gt;&lt;del&gt;KAFKA-7097&lt;/del&gt;&lt;/a&gt;; Set create time default to -1L&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/5313&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/5313&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @apovzner @tedyu @hachikuji &lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Committer Checklist (excluded from commit message)&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Verify design and implementation&lt;/li&gt;
	&lt;li&gt;[ ] Verify test coverage and CI build status&lt;/li&gt;
	&lt;li&gt;[ ] Verify documentation (including upgrade notes)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16528217" author="githubbot" created="Fri, 29 Jun 2018 20:50:31 +0000"  >&lt;p&gt;hachikuji closed pull request #5313: HOTFIX: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-7097&quot; title=&quot;VerifiableProducer does not work properly with --message-create-time argument&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-7097&quot;&gt;&lt;del&gt;KAFKA-7097&lt;/del&gt;&lt;/a&gt;; Set create time default to -1L&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/5313&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/5313&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/tools/src/main/java/org/apache/kafka/tools/VerifiableProducer.java b/tools/src/main/java/org/apache/kafka/tools/VerifiableProducer.java&lt;br/&gt;
index 168ce17908b..fafa9e6c8c6 100644&lt;br/&gt;
&amp;#8212; a/tools/src/main/java/org/apache/kafka/tools/VerifiableProducer.java&lt;br/&gt;
+++ b/tools/src/main/java/org/apache/kafka/tools/VerifiableProducer.java&lt;br/&gt;
@@ -164,7 +164,7 @@ private static ArgumentParser argParser() {&lt;br/&gt;
         parser.addArgument(&quot;--message-create-time&quot;)&lt;br/&gt;
                 .action(store())&lt;br/&gt;
                 .required(false)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;.setDefault(-1)&lt;br/&gt;
+                .setDefault(-1L)&lt;br/&gt;
                 .type(Long.class)&lt;br/&gt;
                 .metavar(&quot;CREATETIME&quot;)&lt;br/&gt;
                 .dest(&quot;createTime&quot;)&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3v7m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>guozhang</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>