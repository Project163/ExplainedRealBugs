<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:39:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-16858] Flatten SMT throws NPE</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-16858</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;&lt;tt&gt;ConnectSchema.expectedClassesFor&lt;/tt&gt; sometimes will throw an NPE as part of a call to an SMT chain.&#160; Stack trace snippet:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;at com.github.momenttechnology.kafka.connect.transforms.MomentFlatten.apply(MomentFlatten.java:84)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;at com.github.momenttechnology.kafka.connect.transforms.MomentFlatten.applyWithSchema(MomentFlatten.java:173)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;at com.github.momenttechnology.kafka.connect.transforms.MomentFlatten.buildWithSchema(MomentFlatten.java:280)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;at com.github.momenttechnology.kafka.connect.transforms.MomentFlatten.buildWithSchema(MomentFlatten.java:280)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;at com.github.momenttechnology.kafka.connect.transforms.MomentFlatten.buildWithSchema(MomentFlatten.java:280)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;at com.github.momenttechnology.kafka.connect.transforms.MomentFlatten.buildWithSchema(MomentFlatten.java:274)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;at org.apache.kafka.connect.data.Struct.put(Struct.java:203)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;at org.apache.kafka.connect.data.Struct.put(Struct.java:216)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;at org.apache.kafka.connect.data.ConnectSchema.validateValue(ConnectSchema.java:255)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;at org.apache.kafka.connect.data.ConnectSchema.validateValue(ConnectSchema.java:213)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;at org.apache.kafka.connect.data.ConnectSchema.validateValue(ConnectSchema.java:224)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;at org.apache.kafka.connect.data.ConnectSchema.expectedClassesFor(ConnectSchema.java:268)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;(the above transform is a sub-class of &lt;tt&gt;o.a.k.connect.transforms.Flatten&lt;/tt&gt;; have confirmed that the error occurs regardless).&lt;/p&gt;

&lt;p&gt;The field being transformed is an array of structs. If the call to &lt;tt&gt;Schema#valueSchema()&lt;/tt&gt; (o.a.k.connect.data.ConnectSchema.java:255) returns &lt;tt&gt;null&lt;/tt&gt;, the subsequent call to &lt;tt&gt;Schema#name()&lt;/tt&gt; at o.a.k.connect.data.ConnectSchema:268 throws an NPE.&lt;/p&gt;

&lt;p&gt;The strange thing that we have observed is that this doesn&apos;t always happen; &lt;b&gt;sometimes&lt;/b&gt; the struct&apos;s schema is found and sometimes it is not. We have been unable to determine the root cause, but have constructed a test that replicates the problem as observed (see attachment).&lt;/p&gt;

&lt;p&gt;In our case we have worked around the issue with the aforementioned sub-class of &lt;tt&gt;Flatten&lt;/tt&gt;, catching and logging the NPE on that specific use-case.&lt;/p&gt;</description>
                <environment>Kafka 3.6 by way of CP 7.6.0</environment>
        <key id="13580706">KAFKA-16858</key>
            <summary>Flatten SMT throws NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="undone">Adam Strickland</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 May 2024 14:03:19 +0000</created>
                <updated>Wed, 12 Jun 2024 19:13:08 +0000</updated>
                            <resolved>Wed, 12 Jun 2024 19:13:08 +0000</resolved>
                                    <version>3.6.0</version>
                                    <fixVersion>3.8.0</fixVersion>
                    <fixVersion>3.9.0</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17850173" author="gharris1727" created="Tue, 28 May 2024 20:37:13 +0000"  >&lt;p&gt;It really confused me that the stacktrace is in reverse order, is there a tool that does that by default?&lt;/p&gt;

&lt;p&gt;I confirmed that ConnectSchema.validateValue() throws NPE when given a null schema, this is replicated with this assertion:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;assertThrows(NullPointerException.class, () -&amp;gt; ConnectSchema.validateValue(null, new Object()));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I can also confirm that this NPE appears when using SchemaBuilder.arrayOfNull(), which would cause `valueSchema()` to return null. The exception only appears when the array is non-empty.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;final String fieldName = &quot;fieldName&quot;;
Schema testSchema = SchemaBuilder.struct()
        .field(fieldName, SchemaBuilder.arrayOfNull());
new Struct(testSchema).put(fieldName, Collections.emptyList());
assertThrows(NullPointerException.class, () -&amp;gt; 
        new Struct(testSchema).put(fieldName, Collections.singletonList(new Object())));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looking at the way Flatten works, it&apos;s just copying schemas from input to output, so an arrayOfNull() can appear if the input contained an arrayOfNull(): &lt;a href=&quot;https://github.com/apache/kafka/blob/4d04eb83ea2cf67484d81e30603e976f63616428/connect/transforms/src/main/java/org/apache/kafka/connect/transforms/util/SchemaUtil.java#L29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/blob/4d04eb83ea2cf67484d81e30603e976f63616428/connect/transforms/src/main/java/org/apache/kafka/connect/transforms/util/SchemaUtil.java#L29&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Since this is a type that SchemaBuilder can emit, we should probably handle it intentionally, either emitting a DataException, or passing the validation.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=undone&quot; class=&quot;user-hover&quot; rel=&quot;undone&quot;&gt;undone&lt;/a&gt; For my own reference: Do you see this fault with another SMT in the chain ahead of Flatten? What Converter (sink connector) or source connector implementation are you using? There&apos;s also a very noisy log statement you could use to figure out where this null-array-schema is appearing: &lt;a href=&quot;https://github.com/apache/kafka/blob/4d04eb83ea2cf67484d81e30603e976f63616428/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/TransformationChain.java#L53&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/blob/4d04eb83ea2cf67484d81e30603e976f63616428/connect/runtime/src/main/java/org/apache/kafka/connect/runtime/TransformationChain.java#L53&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17850174" author="gharris1727" created="Tue, 28 May 2024 20:52:25 +0000"  >&lt;p&gt;It looks like this should probably be a DataException. We use arrayOfNull() in Values/SimpleHeaderConverter when inferring the schema for an empty array, and generally assume that when a root value is schema&apos;d, that all contained values (within a map, array, or struct) are also schema&apos;d. If this validation passed, it would make null function as top-type, and allow non-schema&apos;d data embedded inside of schema&apos;d data.&lt;/p&gt;</comment>
                            <comment id="17850361" author="JIRAUSER305595" created="Wed, 29 May 2024 12:58:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;It really confused me that the stacktrace is in reverse order, is there a tool that does that by default?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Oh yeah, sorry about that, I guess I&apos;ve gotten used to it. It&apos;s from streaming the logs to DataDog and not accounting for the linebreaks in Java stacktraces. One of the many items on the list...&lt;/p&gt;</comment>
                            <comment id="17850375" author="JIRAUSER305595" created="Wed, 29 May 2024 13:48:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do you see this fault with another SMT in the chain ahead of Flatten?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No. It consistently shows up only from the Flatten SMT and always on the same attribute.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;What Converter (sink connector) or source connector implementation are you using?&#160;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is a sink connector, writing to Postgres using `io.confluent.connect.jdbc.JdbcSinkConnector`. The value converter is `io.confluent.connect.protobuf.ProtobufConverter`.&lt;/p&gt;

&lt;p&gt;Some other data points:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;We use this same SMT in multiple connectors; we see the NPE in only one of them.&lt;/li&gt;
	&lt;li&gt;While it always throws from the same attribute, it doesn&apos;t &lt;b&gt;always&lt;/b&gt; throw... For instance, the NPE was logged 52 times within the last 24 hours, out of 234 messages processed via that connector.&lt;/li&gt;
	&lt;li&gt;The connector we see it on has multiple SMTs; the Flatten is the 4th SMT applied.&lt;/li&gt;
	&lt;li&gt;For reference, the SMTs being applied prior to Flatten are, in order:
	&lt;ol&gt;
		&lt;li&gt;`io.confluent.connect.transforms.Filter$Value`,&lt;/li&gt;
		&lt;li&gt;`o.a.k.connect.transforms.ExtravtField$Value`, and&lt;/li&gt;
		&lt;li&gt;another `o.a.k.connect.transforms.ExtravtField$Value`&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
	&lt;li&gt;The attribute it breaks on is an array of `Struct`s; the array can be empty and the attribute is itself optional. We have seen the break occur in 3 states (attribute missing, attribute present with empty list, and attribute present with a list). We have not seen it occur when the attribute is present but the value is `null`. However, I think that&apos;s simply a use case we do not have.&lt;/li&gt;
	&lt;li&gt;We have not used the trace logger you linked to, but at one point inserted our own logging statements at various levels in our custom transform; this was how we found the faulty attribute. One other thing we have noticed is the stack recurses all the way down into `ConnectSchema.validateValue` an unexpected number of times, resolving to `Schema{STRUCT}` some number of times prior to returning `null`. The number of times is not consistent and does not correlate (as far as we can tell) with the number of items in the array or any other measure we have checked.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17850530" author="gharris1727" created="Thu, 30 May 2024 00:25:22 +0000"  >&lt;p&gt;Thanks so much for the additional context &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=undone&quot; class=&quot;user-hover&quot; rel=&quot;undone&quot;&gt;undone&lt;/a&gt; this is a very odd bug.&lt;/p&gt;

&lt;p&gt;I managed to reproduce a Flatten NPE with mutable input objects rather than mocking:&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;xformValue.configure(Collections.emptyMap());

Schema innerSchema = SchemaBuilder.struct().optional();
Struct innerStruct = new Struct(innerSchema);
AtomicReference&amp;lt;Schema&amp;gt; valueSchema = new AtomicReference&amp;lt;&amp;gt;(innerSchema);
Schema arraySchema = SchemaBuilder.array(new ConnectSchema(Schema.Type.ARRAY) {
    @Override
    public Schema valueSchema() {
        return valueSchema.get();
    }
});
Schema schema = SchemaBuilder.struct().field(&quot;field&quot;, arraySchema);
Struct value = new Struct(schema).put(&quot;field&quot;, Collections.singletonList(Collections.singletonList(innerStruct)));
valueSchema.set(null);

SourceRecord record = new SourceRecord(null, null, &quot;topic&quot;, 0, schema, value);
xformValue.apply(record);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It throws this error:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Cannot invoke &quot;org.apache.kafka.connect.data.Schema.name()&quot; because &quot;schema&quot; is null
java.lang.NullPointerException: Cannot invoke &quot;org.apache.kafka.connect.data.Schema.name()&quot; because &quot;schema&quot; is null
&#160; &#160; at org.apache.kafka.connect.data.ConnectSchema.expectedClassesFor(ConnectSchema.java:268)
&#160; &#160; at org.apache.kafka.connect.data.ConnectSchema.validateValue(ConnectSchema.java:224)
&#160; &#160; at org.apache.kafka.connect.data.ConnectSchema.validateValue(ConnectSchema.java:213)
&#160; &#160; at org.apache.kafka.connect.data.ConnectSchema.validateValue(ConnectSchema.java:255)
&#160; &#160; at org.apache.kafka.connect.data.ConnectSchema.validateValue(ConnectSchema.java:213)
&#160; &#160; at org.apache.kafka.connect.data.ConnectSchema.validateValue(ConnectSchema.java:255)
&#160; &#160; at org.apache.kafka.connect.data.Struct.put(Struct.java:216)
&#160; &#160; at org.apache.kafka.connect.data.Struct.put(Struct.java:203)
&#160; &#160; at org.apache.kafka.connect.transforms.Flatten.buildWithSchema(Flatten.java:250)
&#160; &#160; at org.apache.kafka.connect.transforms.Flatten.applyWithSchema(Flatten.java:164)
&#160; &#160; at org.apache.kafka.connect.transforms.Flatten.apply(Flatten.java:79)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is different from your stacktrace in two ways:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Instead of 4 buildWithSchema calls, there&apos;s only 1. This is because my test Struct is nested less deeply than your Struct, and a deeper test case behaves almost identically.&lt;/li&gt;
	&lt;li&gt;Instead of 3 validateValue calls, there&apos;s 5. This is because I&apos;m using an a nested array &quot;[&lt;span class=&quot;error&quot;&gt;&amp;#91;Struct&amp;#93;&lt;/span&gt;]&quot; instead of your singly-nested array &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;Struct&amp;#93;&lt;/span&gt;&quot;. This one is a bit more important, because the reproduction case doesn&apos;t work for singly-nested arrays. The difference is that a singly-nested array has it&apos;s valueSchema evaluated during `buildUpdatedSchema`, and the doubly-nested array has it&apos;s valueSchema evaluated during `buildWithSchema`. When the null valueSchema is evaluated during buildUpdatedSchema, it throws this exception instead:&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;valueSchema cannot be null.
org.apache.kafka.connect.errors.SchemaBuilderException: valueSchema cannot be null.
&#160; &#160; at app//org.apache.kafka.connect.data.SchemaBuilder.array(SchemaBuilder.java:363)
&#160; &#160; at app//org.apache.kafka.connect.transforms.util.SchemaUtil.copySchemaBasics(SchemaUtil.java:29)
&#160; &#160; at app//org.apache.kafka.connect.transforms.Flatten.convertFieldSchema(Flatten.java:225)
&#160; &#160; at app//org.apache.kafka.connect.transforms.Flatten.buildUpdatedSchema(Flatten.java:201)
&#160; &#160; at app//org.apache.kafka.connect.transforms.Flatten.applyWithSchema(Flatten.java:156)
&#160; &#160; at app//org.apache.kafka.connect.transforms.Flatten.apply(Flatten.java:79)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I was unable to reproduce this with non-mutable schemas, they trigger the NPE too early while the input Struct is being constructed.&lt;/p&gt;

&lt;p&gt;Some follow-ups:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Are you able to provide an anonymized form of your schema directly, rather than just a high-level &quot;Array of Structs&quot;? I&apos;m wondering if your schema is capable of triggering the use of the mutable SchemaWrapper &lt;a href=&quot;https://github.com/confluentinc/schema-registry/blob/7b886f309c83041d4f2a5b41b5910f3b8002413a/protobuf-converter/src/main/java/io/confluent/connect/protobuf/ProtobufData.java#L1779&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/confluentinc/schema-registry/blob/7b886f309c83041d4f2a5b41b5910f3b8002413a/protobuf-converter/src/main/java/io/confluent/connect/protobuf/ProtobufData.java#L1779&lt;/a&gt; inside the ProtobufConverter.&lt;/li&gt;
	&lt;li&gt;I don&apos;t have an explanation of how this can happen for empty and non-present arrays, as it looks like validateValue(ConnectSchema:255) can only be triggered by non-empty lists.&lt;/li&gt;
	&lt;li&gt;w.r.t. the variable validateValue depth: Are you saying that in &lt;em&gt;error cases&lt;/em&gt; the recursion depth is unpredictable, or in general? The validateValue should be called at every or almost every location in the tree of values, so I would expect to see lots of different recursion depths. Maybe you can share some more stacktraces as examples.&lt;/li&gt;
	&lt;li&gt;So far in this investigation, I&apos;m trying to find the source of the null in hopes that we can prevent it, and get well-formed data to the Flatten SMT. Regardless of the result of that investigation, I think we can consider this input malformed, and throw an intentional DataException instead of NullPointerException. Would that be an acceptable solution for you, or does this data need to make it all the way through the pipeline?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17850866" author="JIRAUSER305595" created="Thu, 30 May 2024 21:19:52 +0000"  >&lt;ul&gt;
	&lt;li&gt;&lt;blockquote&gt;&lt;p&gt;Are you able to provide an anonymized form of your schema directly, rather than just a high-level &quot;Array of Structs&quot;? I&apos;m wondering if your schema is capable of triggering the use of the mutable SchemaWrapper&#160;&lt;a href=&quot;https://github.com/confluentinc/schema-registry/blob/7b886f309c83041d4f2a5b41b5910f3b8002413a/protobuf-converter/src/main/java/io/confluent/connect/protobuf/ProtobufData.java#L1779&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/confluentinc/schema-registry/blob/7b886f309c83041d4f2a5b41b5910f3b8002413a/protobuf-converter/src/main/java/io/confluent/connect/protobuf/ProtobufData.java#L1779&lt;/a&gt;&#160;inside the ProtobufConverter.&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Yes; see &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13069216/13069216_proto.proto&quot; title=&quot;proto.proto attached to KAFKA-16858&quot;&gt;proto.proto&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;blockquote&gt;&lt;p&gt;w.r.t. the variable validateValue depth: Are you saying that in&#160;&lt;em&gt;error cases&lt;/em&gt;&#160;the recursion depth is unpredictable, or in general? The validateValue should be called at every or almost every location in the tree of values, so I would expect to see lots of different recursion depths. Maybe you can share some more stacktraces as examples.&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We were only looking at error cases. I specifically recall seeing the same message break on the 3rd recursion and on the 7th; the array for the message in question contained 2 Structs.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;blockquote&gt;&lt;p&gt;So far in this investigation, I&apos;m trying to find the source of the null in hopes that we can prevent it, and get well-formed data to the Flatten SMT. Regardless of the result of that investigation, I think we can consider this input malformed, and throw an intentional DataException instead of NullPointerException. Would that be an acceptable solution for you, or does this data need to make it all the way through the pipeline?&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Throwing a DataException would be preferable to the NPE. I&apos;m not sure I understand what you mean by &quot;need to make it all the way through the pipeline&quot;... As it stands the particular problematic attribute is not something we care about right now, which is why we can simply squash the Exception.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13581230">KAFKA-16870</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13069153" name="FlattenTest.java" size="5283" author="undone" created="Tue, 28 May 2024 14:03:08 +0000"/>
                            <attachment id="13069216" name="proto.proto" size="570" author="undone" created="Thu, 30 May 2024 21:19:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 23 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1pgu0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>