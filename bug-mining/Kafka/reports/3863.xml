<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:39:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-17150] Connect converter validation does not accept class aliases</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-17150</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Connect allows users to specify aliases instead of full classes when configuring plugins. For example, the following configuration is valid:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{
&#160; &#160; &#160; &#160; &quot;connector.class&quot;: &quot;FileStreamSource&quot;,
&#160; &#160; &#160; &#160; &quot;topic&quot;: &quot;anything&quot;,
&#160; &#160; &#160; &#160; &quot;key.converter&quot;: &quot;JsonConverter&quot;
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In &amp;lt;= 3.7.1 this will pass validation and function correctly.&lt;/p&gt;

&lt;p&gt;In 3.8.0-rc1 this will instead fail with this error message:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[2024-07-16 13:58:54,250] ERROR Failed to instantiate key converter class JsonConverter; this should have been caught by prior validation logic (org.apache.kafka.connect.runtime.AbstractHerder:462)
java.lang.ClassNotFoundException: JsonConverter
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.apache.kafka.common.utils.Utils.loadClass(Utils.java:426)
	at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:415)
	at org.apache.kafka.connect.runtime.AbstractHerder.validateConverterConfig(AbstractHerder.java:460)
	at org.apache.kafka.connect.runtime.AbstractHerder.validateKeyConverterConfig(AbstractHerder.java:528)
	at org.apache.kafka.connect.runtime.AbstractHerder.validateConnectorConfig(AbstractHerder.java:734)
	at org.apache.kafka.connect.runtime.AbstractHerder.lambda$validateConnectorConfig$3(AbstractHerder.java:574)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and this error will eventually be shown to the user:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Connector configuration is invalid and contains the following 1 error(s):
Failed to load class JsonConverter: JsonConverter&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When the full class name is specified, the class is found and passes validation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13586046">KAFKA-17150</key>
            <summary>Connect converter validation does not accept class aliases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gharris1727">Greg Harris</assignee>
                                    <reporter username="gharris1727">Greg Harris</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Jul 2024 21:14:06 +0000</created>
                <updated>Thu, 18 Jul 2024 00:13:01 +0000</updated>
                            <resolved>Thu, 18 Jul 2024 00:13:01 +0000</resolved>
                                    <version>3.8.0</version>
                                    <fixVersion>3.8.0</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17866541" author="gharris1727" created="Tue, 16 Jul 2024 21:42:02 +0000"  >&lt;p&gt;The difference seems to be caused by the difference between these two calls:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/kafka/blob/b015a83f6d286965af999c39c0902584fb6fb9de/clients/src/main/java/org/apache/kafka/common/utils/Utils.java#L428&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/blob/b015a83f6d286965af999c39c0902584fb6fb9de/clients/src/main/java/org/apache/kafka/common/utils/Utils.java#L428&lt;/a&gt; which passes the class alias into Class.forName, and&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/kafka/blob/b015a83f6d286965af999c39c0902584fb6fb9de/clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java#L776&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/blob/b015a83f6d286965af999c39c0902584fb6fb9de/clients/src/main/java/org/apache/kafka/common/config/ConfigDef.java#L776&lt;/a&gt; which uses the alias to first load the class, and then calls Class.forName with the full name of the class.&lt;/p&gt;

&lt;p&gt;These diverged a long time ago in &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8550&quot; title=&quot;Connector validation fails with aliased converters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8550&quot;&gt;&lt;del&gt;KAFKA-8550&lt;/del&gt;&lt;/a&gt; and the same bug resurfaced when we added more validation surrounding the converter classes.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13403588">KAFKA-13329</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13240066">KAFKA-8550</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qdqg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>