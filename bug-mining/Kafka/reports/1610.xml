<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:03:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-3623] Make KStreamTestDriver extending from ExternalResource</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-3623</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;In unit test we have lots of duplicate code for closing KStreamTestDriver upon completing the test:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @After
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void tearDown() {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (driver != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            driver.close();
        }
        driver = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;One way to remove this duplicate code is to make KStreamTestDriver extending from ExternalResource. By doing this we need to move the constructor logic into a setup / init function and leave the construction empty.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12962610">KAFKA-3623</key>
            <summary>Make KStreamTestDriver extending from ExternalResource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="johnma">Mariam John</assignee>
                                    <reporter username="guozhang">Guozhang Wang</reporter>
                        <labels>
                            <label>newbie</label>
                            <label>test</label>
                    </labels>
                <created>Tue, 26 Apr 2016 14:30:39 +0000</created>
                <updated>Tue, 1 Aug 2017 23:17:44 +0000</updated>
                            <resolved>Tue, 1 Aug 2017 23:17:05 +0000</resolved>
                                                    <fixVersion>1.0.0</fixVersion>
                                    <component>streams</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16104009" author="githubbot" created="Thu, 27 Jul 2017 22:20:55 +0000"  >&lt;p&gt;GitHub user johnma14 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3589&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3589&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3623&quot; title=&quot;Make KStreamTestDriver extending from ExternalResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3623&quot;&gt;&lt;del&gt;KAFKA-3623&lt;/del&gt;&lt;/a&gt;: KStreamTestDriver extends ExternalResource&lt;/p&gt;

&lt;p&gt;    In the streams project, there are a number of unit tests that has duplicate&lt;br/&gt;
    code with respect to the tearDown() method, in which it tries to close the&lt;br/&gt;
    KStreamTestDriver connection. The goal of this changeset is to eliminate&lt;br/&gt;
    this duplication by converting the KStreamTestDriver class to an ExternalResource&lt;br/&gt;
    class which is the base class of JUnit Rule.&lt;/p&gt;

&lt;p&gt;    In every unit tests that calls KStreamTestDriver, we annotate the KStreamTestDriver&lt;br/&gt;
    using @Rule annotation. In the KStreamTestDriver class, we override the after()&lt;br/&gt;
    method. This after() method in turn calls the close() method which was previously&lt;br/&gt;
    called in the tearDown() method in the unit tests. By annotating the KStreamTestDriver&lt;br/&gt;
    as a @Rule, the after() method will be called automatically after every testcase.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/johnma14/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/johnma14/kafka&lt;/a&gt; bug/&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3623&quot; title=&quot;Make KStreamTestDriver extending from ExternalResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3623&quot;&gt;&lt;del&gt;KAFKA-3623&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3589.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3589.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3589&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3fb1cd54f507ac35cb0fb64677c9ad386ad89b3e&lt;br/&gt;
Author: johnma14 &amp;lt;mariamj@us.ibm.com&amp;gt;&lt;br/&gt;
Date:   2017-07-15T08:42:23Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3623&quot; title=&quot;Make KStreamTestDriver extending from ExternalResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3623&quot;&gt;&lt;del&gt;KAFKA-3623&lt;/del&gt;&lt;/a&gt;: KStreamTestDriver extends ExternalResource&lt;/p&gt;

&lt;p&gt;    In the streams project, there are a number of unit tests that has duplicate&lt;br/&gt;
    code with respect to the tearDown() method, in which it tries to close the&lt;br/&gt;
    KStreamTestDriver connection. The goal of this changeset is to eliminate&lt;br/&gt;
    this duplication by converting the KStreamTestDriver class to an ExternalResource&lt;br/&gt;
    class which is the base class of JUnit Rule.&lt;/p&gt;

&lt;p&gt;    In every unit tests that calls KStreamTestDriver, we annotate the KStreamTestDriver&lt;br/&gt;
    using @Rule annotation. In the KStreamTestDriver class, we override the after()&lt;br/&gt;
    method. This after() method in turn calls the close() method which was previously&lt;br/&gt;
    called in the tearDown() method in the unit tests. By annotating the KStreamTestDriver&lt;br/&gt;
    as a @Rule, the after() method will be called automatically after every testcase.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16109975" author="guozhang" created="Tue, 1 Aug 2017 23:17:05 +0000"  >&lt;p&gt;Issue resolved by pull request 3589&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/3589&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3589&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16109977" author="githubbot" created="Tue, 1 Aug 2017 23:17:44 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3589&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3589&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2wr4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>guozhang</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>