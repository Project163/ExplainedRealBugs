<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:19:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-8748] Flaky Test DescribeLogDirsRequestTest#testDescribeLogDirsRequest</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-8748</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6704/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6704/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;java.lang.AssertionError at org.junit.Assert.fail(Assert.java:87) at org.junit.Assert.assertTrue(Assert.java:42) at org.junit.Assert.assertTrue(Assert.java:53) at kafka.server.DescribeLogDirsRequestTest.testDescribeLogDirsRequest(DescribeLogDirsRequestTest.scala:60)&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="13248730">KAFKA-8748</key>
            <summary>Flaky Test DescribeLogDirsRequestTest#testDescribeLogDirsRequest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ijuma">Ismael Juma</assignee>
                                    <reporter username="mjsax">Matthias J. Sax</reporter>
                        <labels>
                            <label>flaky-test</label>
                    </labels>
                <created>Sat, 3 Aug 2019 20:58:43 +0000</created>
                <updated>Fri, 9 Aug 2019 18:50:23 +0000</updated>
                            <resolved>Fri, 9 Aug 2019 13:45:08 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>2.4.0</fixVersion>
                                    <component>core</component>
                    <component>unit tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16900465" author="mjsax" created="Mon, 5 Aug 2019 23:03:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.13/786/testReport/kafka.server/Des&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.13/786/testReport/kafka.server/Des&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16900466" author="mjsax" created="Mon, 5 Aug 2019 23:03:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6735/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6735/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16901287" author="mjsax" created="Tue, 6 Aug 2019 17:07:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk8-scala2.11/23952/testReport/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk8-scala2.11/23952/testReport/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16901288" author="mjsax" created="Tue, 6 Aug 2019 17:07:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.13/796/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.13/796/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16901447" author="ableegoldman" created="Tue, 6 Aug 2019 20:47:24 +0000"  >&lt;p&gt;Fails again:&#160;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6740/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6740/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16901454" author="ableegoldman" created="Tue, 6 Aug 2019 20:51:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk8-scala2.11/23947/testReport/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk8-scala2.11/23947/testReport/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16902232" author="mjsax" created="Wed, 7 Aug 2019 16:36:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6782/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6782/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16903298" author="ableegoldman" created="Thu, 8 Aug 2019 20:33:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk8-scala2.11/24011/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk8-scala2.11/24011/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16903302" author="ableegoldman" created="Thu, 8 Aug 2019 20:36:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6802/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6802/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16903340" author="bchen225242" created="Thu, 8 Aug 2019 21:18:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.13/866/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.13/866/consoleFull&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6815/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6815/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16903362" author="ableegoldman" created="Thu, 8 Aug 2019 21:39:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mjsax&quot; class=&quot;user-hover&quot; rel=&quot;mjsax&quot;&gt;mjsax&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bchen225242&quot; class=&quot;user-hover&quot; rel=&quot;bchen225242&quot;&gt;bchen225242&lt;/a&gt;&#160;Some of these tests in particular have insane failure rates...can (at least) 12 times in 2 days even be called flaky anymore? Seems like the flaky part is that it sometimes passes. At what point do we ping the responsible team to do something...&lt;/p&gt;</comment>
                            <comment id="16903484" author="mjsax" created="Fri, 9 Aug 2019 01:41:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk8-scala2.11/24031/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk8-scala2.11/24031/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16903486" author="mjsax" created="Fri, 9 Aug 2019 01:47:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.13/873/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.13/873/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16903488" author="mjsax" created="Fri, 9 Aug 2019 01:48:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6822/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/kafka-pr-jdk11-scala2.12/6822/testReport/junit/kafka.server/DescribeLogDirsRequestTest/testDescribeLogDirsRequest/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16903556" author="ijuma" created="Fri, 9 Aug 2019 04:29:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ableegoldman&quot; class=&quot;user-hover&quot; rel=&quot;ableegoldman&quot;&gt;ableegoldman&lt;/a&gt; if a test is failing very frequently and affecting your ability to contribute changes, please go ahead and submit a PR to disable it. This is a community project, the responsibility is shared by everyone.&lt;/p&gt;</comment>
                            <comment id="16903557" author="ijuma" created="Fri, 9 Aug 2019 04:30:22 +0000"  >&lt;p&gt;I can reproduce the failure locally, let&apos;s see if I can fix it.&lt;/p&gt;</comment>
                            <comment id="16903574" author="githubbot" created="Fri, 9 Aug 2019 05:16:21 +0000"  >&lt;p&gt;ijuma commented on pull request #7182: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8748&quot; title=&quot;Flaky Test DescribeLogDirsRequestTest#testDescribeLogDirsRequest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8748&quot;&gt;&lt;del&gt;KAFKA-8748&lt;/del&gt;&lt;/a&gt;: Fix flaky DescribeLogDirsRequestTest#testDescribeLogDirsRequest&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/7182&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/7182&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   The introduction of KIP-480: Sticky Producer Partitioner had the&lt;br/&gt;
   side effect that `generateAndProduceMessages` can often write&lt;br/&gt;
   messages to a lower number of partitions to improve batching.&lt;/p&gt;

&lt;p&gt;   `testDescribeLogDirsRequest` (and potentially other tests) relies&lt;br/&gt;
   on the messages being written somewhat uniformly to the topic&lt;br/&gt;
   partitions. We fix the issue by including a monotonically&lt;br/&gt;
   increasing key in the produced messages.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Committer Checklist (excluded from commit message)&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Verify design and implementation&lt;/li&gt;
	&lt;li&gt;[ ] Verify test coverage and CI build status&lt;/li&gt;
	&lt;li&gt;[ ] Verify documentation (including upgrade notes)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16903877" author="githubbot" created="Fri, 9 Aug 2019 13:16:35 +0000"  >&lt;p&gt;ijuma commented on pull request #7182: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-8748&quot; title=&quot;Flaky Test DescribeLogDirsRequestTest#testDescribeLogDirsRequest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-8748&quot;&gt;&lt;del&gt;KAFKA-8748&lt;/del&gt;&lt;/a&gt;: Fix flaky testDescribeLogDirsRequest&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/7182&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/7182&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16903903" author="mjsax" created="Fri, 9 Aug 2019 13:45:08 +0000"  >&lt;p&gt;Thanks for the quick fix &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ijuma&quot; class=&quot;user-hover&quot; rel=&quot;ijuma&quot;&gt;ijuma&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16904071" author="ableegoldman" created="Fri, 9 Aug 2019 17:40:44 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ijuma&quot; class=&quot;user-hover&quot; rel=&quot;ijuma&quot;&gt;ijuma&lt;/a&gt;! I didn&apos;t want to disable it in case it was surfacing a real issue &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16904117" author="mjsax" created="Fri, 9 Aug 2019 18:34:51 +0000"  >&lt;p&gt;Well. I think it did surface a real issue... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16904124" author="ijuma" created="Fri, 9 Aug 2019 18:50:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ableegoldman&quot; class=&quot;user-hover&quot; rel=&quot;ableegoldman&quot;&gt;ableegoldman&lt;/a&gt; If we disable a test, we should also create a blocker Jira for the next release until it&apos;s been triaged. If we never revert, the incentive to fix quickly is sometimes not there.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z05b3s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>