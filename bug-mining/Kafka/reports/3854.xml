<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:39:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-17085] Streams Cooperative Rebalance Upgrade Test fails in System Tests</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-17085</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;StreamsCooperativeRebalanceUpgradeTest fails on system tests when upgrading from: 2.1.1, 2.2.2 and 2.3.1.&lt;/p&gt;


&lt;p&gt;Tests that fail:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Module: kafkatest.tests.streams.streams_cooperative_rebalance_upgrade_test
Class:&#160; StreamsCooperativeRebalanceUpgradeTest
Method: test_upgrade_to_cooperative_rebalance
Arguments:
{
&#160;&#160;&quot;upgrade_from_version&quot;: &quot;2.1.1&quot;
}
&#160;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Module: kafkatest.tests.streams.streams_cooperative_rebalance_upgrade_test
Class:&#160; StreamsCooperativeRebalanceUpgradeTest
Method: test_upgrade_to_cooperative_rebalance
Arguments:
{
&#160;&#160;&quot;upgrade_from_version&quot;: &quot;2.2.2&quot;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Module: kafkatest.tests.streams.streams_cooperative_rebalance_upgrade_test
Class:&#160; StreamsCooperativeRebalanceUpgradeTest
Method: test_upgrade_to_cooperative_rebalance
Arguments:
{
&#160;&#160;&quot;upgrade_from_version&quot;: &quot;2.3.1&quot;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Failure for 2.1.1 is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TimeoutError(&quot;Never saw &apos;first_bounce_phase-Processed [0-9]* records so far&apos; message ubuntu@worker28&quot;)
Traceback (most recent call last):
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/tests/runner_client.py&quot;, line 184, in _do_run
    data = self.run_test()
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/tests/runner_client.py&quot;, line 262, in run_test
    return self.test_context.function(self.test)
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/mark/_mark.py&quot;, line 433, in wrapper
    return functools.partial(f, *args, **kwargs)(*w_args, **w_kwargs)
  File &quot;/home/semaphore/kafka-overlay/kafka/tests/kafkatest/tests/streams/streams_cooperative_rebalance_upgrade_test.py&quot;, line 101, in test_upgrade_to_cooperative_rebalance
    self.maybe_upgrade_rolling_bounce_and_verify(processors,
  File &quot;/home/semaphore/kafka-overlay/kafka/tests/kafkatest/tests/streams/streams_cooperative_rebalance_upgrade_test.py&quot;, line 182, in maybe_upgrade_rolling_bounce_and_verify
    stdout_monitor.wait_until(verify_processing_msg,
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/cluster/remoteaccount.py&quot;, line 736, in wait_until
    return wait_until(lambda: self.acct.ssh(&quot;tail -c +%d %s | grep &apos;%s&apos;&quot; % (self.offset + 1, self.log, pattern),
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/utils/util.py&quot;, line 58, in wait_until
    raise TimeoutError(err_msg() if callable(err_msg) else err_msg) from last_exception
ducktape.errors.TimeoutError: Never saw &apos;first_bounce_phase-Processed [0-9]* records so far&apos; message ubuntu@worker28&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Failure for 2.2.2 is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TimeoutError(&quot;Never saw &apos;first_bounce_phase-Processed [0-9]* records so far&apos; message ubuntu@worker5&quot;)
Traceback (most recent call last):
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/tests/runner_client.py&quot;, line 184, in _do_run
    data = self.run_test()
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/tests/runner_client.py&quot;, line 262, in run_test
    return self.test_context.function(self.test)
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/mark/_mark.py&quot;, line 433, in wrapper
    return functools.partial(f, *args, **kwargs)(*w_args, **w_kwargs)
  File &quot;/home/semaphore/kafka-overlay/kafka/tests/kafkatest/tests/streams/streams_cooperative_rebalance_upgrade_test.py&quot;, line 101, in test_upgrade_to_cooperative_rebalance
    self.maybe_upgrade_rolling_bounce_and_verify(processors,
  File &quot;/home/semaphore/kafka-overlay/kafka/tests/kafkatest/tests/streams/streams_cooperative_rebalance_upgrade_test.py&quot;, line 182, in maybe_upgrade_rolling_bounce_and_verify
    stdout_monitor.wait_until(verify_processing_msg,
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/cluster/remoteaccount.py&quot;, line 736, in wait_until
    return wait_until(lambda: self.acct.ssh(&quot;tail -c +%d %s | grep &apos;%s&apos;&quot; % (self.offset + 1, self.log, pattern),
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/utils/util.py&quot;, line 58, in wait_until
    raise TimeoutError(err_msg() if callable(err_msg) else err_msg) from last_exception
ducktape.errors.TimeoutError: Never saw &apos;first_bounce_phase-Processed [0-9]* records so far&apos; message ubuntu@worker5&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Failure for 2.3.1 is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TimeoutError(&quot;Never saw &apos;first_bounce_phase-Processed [0-9]* records so far&apos; message ubuntu@worker21&quot;)
Traceback (most recent call last):
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/tests/runner_client.py&quot;, line 184, in _do_run
    data = self.run_test()
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/tests/runner_client.py&quot;, line 262, in run_test
    return self.test_context.function(self.test)
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/mark/_mark.py&quot;, line 433, in wrapper
    return functools.partial(f, *args, **kwargs)(*w_args, **w_kwargs)
  File &quot;/home/semaphore/kafka-overlay/kafka/tests/kafkatest/tests/streams/streams_cooperative_rebalance_upgrade_test.py&quot;, line 101, in test_upgrade_to_cooperative_rebalance
    self.maybe_upgrade_rolling_bounce_and_verify(processors,
  File &quot;/home/semaphore/kafka-overlay/kafka/tests/kafkatest/tests/streams/streams_cooperative_rebalance_upgrade_test.py&quot;, line 182, in maybe_upgrade_rolling_bounce_and_verify
    stdout_monitor.wait_until(verify_processing_msg,
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/cluster/remoteaccount.py&quot;, line 736, in wait_until
    return wait_until(lambda: self.acct.ssh(&quot;tail -c +%d %s | grep &apos;%s&apos;&quot; % (self.offset + 1, self.log, pattern),
  File &quot;/home/semaphore/kafka-overlay/kafka/venv/lib/python3.8/site-packages/ducktape/utils/util.py&quot;, line 58, in wait_until
    raise TimeoutError(err_msg() if callable(err_msg) else err_msg) from last_exception
ducktape.errors.TimeoutError: Never saw &apos;first_bounce_phase-Processed [0-9]* records so far&apos; message ubuntu@worker21&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13584808">KAFKA-17085</key>
            <summary>Streams Cooperative Rebalance Upgrade Test fails in System Tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cadonna">Bruno Cadonna</assignee>
                                    <reporter username="jlprat">Josep Prat</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Jul 2024 09:50:35 +0000</created>
                <updated>Thu, 11 Jul 2024 08:41:58 +0000</updated>
                            <resolved>Wed, 10 Jul 2024 06:49:56 +0000</resolved>
                                    <version>3.8.0</version>
                                    <fixVersion>3.8.0</fixVersion>
                                    <component>system tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1q63s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>