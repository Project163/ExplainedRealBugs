<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:43:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-19786] Session mode compileScala reports missing classes java main directory</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-19786</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;&lt;b&gt;Problem&lt;/b&gt;&lt;br/&gt;
When running &lt;b&gt;&lt;tt&gt;:core:compileScala&lt;/tt&gt;&lt;/b&gt; under &lt;b&gt;&lt;tt&gt;keepAliveMode=SESSION&lt;/tt&gt;&lt;/b&gt;, joint compilation adds a non-existent directory (&lt;em&gt;&lt;tt&gt;.../core/build/classes/java/main&lt;/tt&gt;&lt;/em&gt;) to &lt;tt&gt;javac&lt;/tt&gt;&#8217;s classpath.&lt;br/&gt;
This triggers:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Unexpected javac output: warning: [path] bad path element &lt;span class=&quot;code-quote&quot;&gt;&quot;.../core/build/classes/java/main&quot;&lt;/span&gt;: no such file or directory
error: warnings found and -Werror specified &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The same task succeeds under &lt;tt&gt;keepAliveMode=DAEMON&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Current Workaround&lt;/b&gt;&lt;br/&gt;
Added a scoped compiler flag (&lt;tt&gt;-Xlint:-path&lt;/tt&gt;) only under &lt;tt&gt;keepAliveMode=SESSION&lt;/tt&gt;&#160;to suppress the &lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;path&amp;#93;&lt;/span&gt;&lt;/tt&gt; warning and allow the build to succeed.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Steps to Reproduce&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
./gradlew clean :core:compileScala -PkeepAliveMode=session &#160; # fails before workaround &#160;
./gradlew clean :core:compileScala -PkeepAliveMode=daemon &#160; &#160;# succeeds &#160; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;Goal of This Ticket&lt;/b&gt;&lt;br/&gt;
Identify why SESSION-mode joint compilation includes the missing &lt;tt&gt;classes/java/main&lt;/tt&gt; entry in &lt;tt&gt;javac&lt;/tt&gt;&#8217;s classpath, align its behavior with DAEMON mode, and remove the temporary suppression once the classpath is corrected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13631344">KAFKA-19786</key>
            <summary>Session mode compileScala reports missing classes java main directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="apalan60">HongYi Chen</assignee>
                                    <reporter username="apalan60">HongYi Chen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Oct 2025 04:58:26 +0000</created>
                <updated>Mon, 13 Oct 2025 05:01:29 +0000</updated>
                                            <version>4.1.0</version>
                                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1y3yo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>