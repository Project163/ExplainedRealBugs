<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:56:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-4025] build fails on windows due to rat target output encoding</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-4025</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;kafka runs a rat report during the build, using &lt;a href=&quot;http://creadur.apache.org/rat/apache-rat-tasks/report.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the rat ant report task&lt;/a&gt;, which has no output encoding parameter.&lt;br/&gt;
this means that the resulting xml report is produced using the system-default encoding, which is OS-dependent:&lt;/p&gt;

&lt;p&gt;the rat ant task code instantiates the output writer like so (&lt;a href=&quot;http://svn.apache.org/repos/asf/creadur/rat/tags/apache-rat-project-0.11/apache-rat-tasks/src/main/java/org/apache/rat/anttasks/Report.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;org.apache.rat.anttasks.Report.java&lt;/a&gt; line 196):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;out = new PrintWriter(new FileWriter(reportFile));&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which eventually leads to &lt;tt&gt;Charset.defaultCharset()&lt;/tt&gt; that relies on the file.encoding system property. this causes an issue if the default encoding isnt UTF-8 (which it isnt on windows) as the code called by printUnknownFiles() in rat.gradle defaults to UTF-8 when reading the report xml, causing the build to fail with:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(see complete output of &lt;tt&gt;gradlew --debug --stacktrace rat&lt;/tt&gt; in attached file)&lt;/p&gt;</description>
                <environment>windows 7, either regular command prompt or git bash</environment>
        <key id="12995455">KAFKA-4025</key>
            <summary>build fails on windows due to rat target output encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radai">Radai Rosenblatt</assignee>
                                    <reporter username="radai">Radai Rosenblatt</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Aug 2016 02:18:02 +0000</created>
                <updated>Wed, 12 Oct 2016 23:30:11 +0000</updated>
                            <resolved>Wed, 12 Oct 2016 23:30:10 +0000</resolved>
                                                    <fixVersion>0.10.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15410797" author="radai" created="Sun, 7 Aug 2016 02:19:53 +0000"  >&lt;p&gt;debug output for running the rat task on windows&lt;/p&gt;</comment>
                            <comment id="15410798" author="githubbot" created="Sun, 7 Aug 2016 02:23:27 +0000"  >&lt;p&gt;GitHub user radai-rosenblatt opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1708&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1708&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4025&quot; title=&quot;build fails on windows due to rat target output encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4025&quot;&gt;&lt;del&gt;KAFKA-4025&lt;/del&gt;&lt;/a&gt; - make sure file.encoding system property is set to UTF-8 when invoking the rat task&lt;/p&gt;

&lt;p&gt;    reset back to previous value after.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/radai-rosenblatt/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/radai-rosenblatt/kafka&lt;/a&gt; fix-build-on-windows&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1708.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1708.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1708&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit cc249d06d98fd59ac42826aa2a894571a0967c34&lt;br/&gt;
Author: radai-rosenblatt &amp;lt;radai.rosenblatt@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-08-07T02:21:58Z&lt;/p&gt;

&lt;p&gt;    &#150;&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4025&quot; title=&quot;build fails on windows due to rat target output encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4025&quot;&gt;&lt;del&gt;KAFKA-4025&lt;/del&gt;&lt;/a&gt; - make sure file.encoding system property is set to UTF-8 when invoking the rat task. reset back to previous value after&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15411096" author="githubbot" created="Sun, 7 Aug 2016 22:22:38 +0000"  >&lt;p&gt;Github user radai-rosenblatt closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1708&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1708&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15411099" author="githubbot" created="Sun, 7 Aug 2016 22:25:42 +0000"  >&lt;p&gt;GitHub user radai-rosenblatt opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1710&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1710&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4025&quot; title=&quot;build fails on windows due to rat target output encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4025&quot;&gt;&lt;del&gt;KAFKA-4025&lt;/del&gt;&lt;/a&gt; - make sure file.encoding system property is set to UTF-8 when calling rat&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/radai-rosenblatt/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/radai-rosenblatt/kafka&lt;/a&gt; fix-build-on-windows&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1710.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1710.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1710&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 35563f203e993bc044bc408f50cad35dea2203bb&lt;br/&gt;
Author: radai-rosenblatt &amp;lt;radai.rosenblatt@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-08-07T02:26:15Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4025&quot; title=&quot;build fails on windows due to rat target output encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4025&quot;&gt;&lt;del&gt;KAFKA-4025&lt;/del&gt;&lt;/a&gt; - make sure file.encoding system property is set to UTF-8 when invoking the rat ant task&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15570214" author="githubbot" created="Wed, 12 Oct 2016 23:29:27 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1710&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1710&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12822459" name="windows build debug output.txt" size="1349455" author="radai" created="Sun, 7 Aug 2016 02:19:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3205r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jjkoshy</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>