<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:36:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-580] system test testcase_0122 under replication fails due to large # of data loss</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-580</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;testcase_0122 fails sometimes because a large # of messages is lost with ack = 1. In this case, we expect only a small number of messages to be lost when there are broker failures.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613157">KAFKA-580</key>
            <summary>system test testcase_0122 under replication fails due to large # of data loss</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="junrao">Jun Rao</assignee>
                                    <reporter username="junrao">Jun Rao</reporter>
                        <labels>
                            <label>bugs</label>
                    </labels>
                <created>Tue, 23 Oct 2012 15:21:21 +0000</created>
                <updated>Tue, 23 Oct 2012 17:26:20 +0000</updated>
                            <resolved>Tue, 23 Oct 2012 17:26:15 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13482402" author="junrao" created="Tue, 23 Oct 2012 15:24:40 +0000"  >&lt;p&gt;Attach a patch. The problem is that if we remove items from a set while iterating it, the behavior is not deterministic.Also fixed kafka-578 in the patch since it&apos;s touching the same code.&lt;/p&gt;</comment>
                            <comment id="13482474" author="nehanarkhede" created="Tue, 23 Oct 2012 17:14:53 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13482484" author="jfung" created="Tue, 23 Oct 2012 17:23:44 +0000"  >&lt;p&gt;Thanks Jun for the patch.&lt;/p&gt;

&lt;p&gt;The patch is applied to the latest 0.8 branch and testcase_0122 PASSES as shown below. There are data from 2 topics. Topic &quot;test_1&quot; are all matching and topic &quot;test_2&quot; has minor data loss. Please note that we have a new policy of 1% data loss tolerance for those test cases with leader failure and acks == 1.&lt;/p&gt;

&lt;p&gt;_test_case_name  :  testcase_0122&lt;br/&gt;
_test_class_name  :  ReplicaBasicTest&lt;br/&gt;
arg : bounce_broker  :  true&lt;br/&gt;
arg : broker_type  :  leader&lt;br/&gt;
arg : message_producing_free_time_sec  :  15&lt;br/&gt;
arg : num_iteration  :  3&lt;br/&gt;
arg : num_partition  :  3&lt;br/&gt;
arg : replica_factor  :  3&lt;br/&gt;
arg : sleep_seconds_between_producer_calls  :  1&lt;br/&gt;
validation_status  :&lt;br/&gt;
     Leader Election Latency - iter 1 brokerid 1  :  375.00 ms&lt;br/&gt;
     Leader Election Latency - iter 2 brokerid 2  :  324.00 ms&lt;br/&gt;
     Leader Election Latency - iter 3 brokerid 3  :  326.00 ms&lt;br/&gt;
     Leader Election Latency MAX  :  375.00&lt;br/&gt;
     Leader Election Latency MIN  :  324.00&lt;br/&gt;
     Unique messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt; at simple_consumer_1.log  :  3900&lt;br/&gt;
     Unique messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt; at simple_consumer_2.log  :  3900&lt;br/&gt;
     Unique messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt; at simple_consumer_3.log  :  3900&lt;br/&gt;
     Unique messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_2&amp;#93;&lt;/span&gt; at simple_consumer_1.log  :  3893&lt;br/&gt;
     Unique messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_2&amp;#93;&lt;/span&gt; at simple_consumer_2.log  :  3893&lt;br/&gt;
     Unique messages from consumer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_2&amp;#93;&lt;/span&gt; at simple_consumer_3.log  :  3893&lt;br/&gt;
     Unique messages from producer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt;  :  3900&lt;br/&gt;
     Unique messages from producer on &lt;span class=&quot;error&quot;&gt;&amp;#91;test_2&amp;#93;&lt;/span&gt;  :  3900&lt;br/&gt;
     Validate for data matched on topic &lt;span class=&quot;error&quot;&gt;&amp;#91;test_1&amp;#93;&lt;/span&gt;  :  PASSED&lt;br/&gt;
     Validate for data matched on topic &lt;span class=&quot;error&quot;&gt;&amp;#91;test_2&amp;#93;&lt;/span&gt;  :  PASSED&lt;br/&gt;
     Validate for merged log segment checksum in cluster &lt;span class=&quot;error&quot;&gt;&amp;#91;source&amp;#93;&lt;/span&gt;  :  PASSED&lt;br/&gt;
     Validate leader election successful  :  PASSED&lt;/p&gt;</comment>
                            <comment id="13482488" author="junrao" created="Tue, 23 Oct 2012 17:26:15 +0000"  >&lt;p&gt;Thanks for the review. Committed to 0.8&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12550476" name="kafka-580.patch" size="3017" author="junrao" created="Tue, 23 Oct 2012 15:24:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250588</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0azhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62027</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>