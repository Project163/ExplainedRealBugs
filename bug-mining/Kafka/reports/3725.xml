<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:38:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-16222] KRaft Migration: desanitize entity name when migrate client quotas</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-16222</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;We observed that our default user quota seems not to be migrated correctly.&lt;/p&gt;

&lt;p&gt;Before Migration:&lt;/p&gt;

&lt;p&gt;bin/kafka-configs.sh --describe --all --entity-type users&lt;/p&gt;

&lt;p&gt;Quota configs for the &lt;b&gt;default user-principal&lt;/b&gt; are consumer_byte_rate=1000000.0, producer_byte_rate=1000000.0&lt;br/&gt;
Quota configs for user-principal &lt;font color=&quot;#172b4d&quot;&gt;&apos;myuser&lt;b&gt;@&lt;/b&gt;prod&apos;&lt;/font&gt; are consumer_byte_rate=1.5E8, producer_byte_rate=1.5E8&lt;/p&gt;

&lt;p&gt;After Migration:&lt;/p&gt;

&lt;p&gt;bin/kafka-configs.sh --describe --all --entity-type users&lt;/p&gt;

&lt;p&gt;Quota configs for &lt;b&gt;user-principal &apos;&apos;&lt;/b&gt; are consumer_byte_rate=1000000.0, producer_byte_rate=1000000.0&lt;br/&gt;
Quota configs for user-principal &lt;font color=&quot;#172b4d&quot;&gt;&apos;myuser&lt;b&gt;%40&lt;/b&gt;prod&apos;&lt;/font&gt; are consumer_byte_rate=1.5E8, producer_byte_rate=1.5E8&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Additional finding: Our names contains a &quot;@&quot; which also lead to incorrect after migration state.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13567431">KAFKA-16222</key>
            <summary>KRaft Migration: desanitize entity name when migrate client quotas</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yangpoan">PoAn Yang</assignee>
                                    <reporter username="schmidomin">Dominik</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Feb 2024 14:42:25 +0000</created>
                <updated>Fri, 22 Mar 2024 22:39:59 +0000</updated>
                            <resolved>Wed, 20 Mar 2024 07:06:43 +0000</resolved>
                                    <version>3.6.1</version>
                    <version>3.7.0</version>
                                    <fixVersion>3.6.2</fixVersion>
                    <fixVersion>3.7.1</fixVersion>
                    <fixVersion>3.8.0</fixVersion>
                                    <component>kraft</component>
                    <component>migration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17823675" author="JIRAUSER300229" created="Tue, 5 Mar 2024 15:25:44 +0000"  >&lt;p&gt;I can reproduce the error. I will look into code tomorrow. Thanks.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; docker run -it --rm --network mykafka-zookeeper_default bitnami/kafka:3.6 kafka-configs.sh --describe --all --entity-type users --bootstrap-server kafka-0:9092
kafka 15:19:03.20 INFO &#160;==&amp;gt;
kafka 15:19:03.20 INFO &#160;==&amp;gt; Welcome to the Bitnami kafka container
kafka 15:19:03.20 INFO &#160;==&amp;gt; Subscribe to project updates by watching https://github.com/bitnami/containers
kafka 15:19:03.20 INFO &#160;==&amp;gt; Submit issues and feature requests at https://github.com/bitnami/containers/issues
kafka 15:19:03.20 INFO &#160;==&amp;gt;

Quota configs for user-principal &apos;myuser%40prod&apos; are consumer_byte_rate=2048.0, request_percentage=200.0, producer_byte_rate=1024.0&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13573022">KAFKA-16411</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1n7xk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>