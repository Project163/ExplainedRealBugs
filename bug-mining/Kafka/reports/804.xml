<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:45:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-2719] Kafka classpath has grown too large and breaks some system tests</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-2719</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;The jars added under &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2369&quot; title=&quot;Add Copycat REST API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2369&quot;&gt;&lt;del&gt;KAFKA-2369&lt;/del&gt;&lt;/a&gt; makes the Kafka command line used in system tests much higher than 4096 due to more jars in the classpath. Since the ps command used to find processes in system tests truncates the command line, some system tests are failing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12909488">KAFKA-2719</key>
            <summary>Kafka classpath has grown too large and breaks some system tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsivaram">Rajini Sivaram</assignee>
                                    <reporter username="rsivaram">Rajini Sivaram</reporter>
                        <labels>
                    </labels>
                <created>Sun, 1 Nov 2015 12:34:02 +0000</created>
                <updated>Thu, 14 Mar 2024 12:05:43 +0000</updated>
                            <resolved>Tue, 3 Nov 2015 16:10:54 +0000</resolved>
                                                    <fixVersion>0.9.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14984392" author="githubbot" created="Sun, 1 Nov 2015 12:49:07 +0000"  >&lt;p&gt;GitHub user rajinisivaram opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/400&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/400&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2719&quot; title=&quot;Kafka classpath has grown too large and breaks some system tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2719&quot;&gt;&lt;del&gt;KAFKA-2719&lt;/del&gt;&lt;/a&gt;: Use wildcard classpath for dependant-libs&lt;/p&gt;

&lt;p&gt;    PR switches to wildcard classpath for dependant libs to restrict the length of classpath, thereby reducing command line length.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rajinisivaram/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rajinisivaram/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2719&quot; title=&quot;Kafka classpath has grown too large and breaks some system tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2719&quot;&gt;&lt;del&gt;KAFKA-2719&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/400.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/400.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #400&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit f49a366334391074456859ac42059c0752bc40d2&lt;br/&gt;
Author: Rajini Sivaram &amp;lt;rajinisivaram@googlemail.com&amp;gt;&lt;br/&gt;
Date:   2015-11-01T12:40:23Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2719&quot; title=&quot;Kafka classpath has grown too large and breaks some system tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2719&quot;&gt;&lt;del&gt;KAFKA-2719&lt;/del&gt;&lt;/a&gt;: Use wildcard classpath for dependant-libs to reduce command line length&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14984394" author="rsivaram" created="Sun, 1 Nov 2015 12:55:14 +0000"  >&lt;p&gt;PR uses wildcard classpath for dependant libs to reduce the length of CLASSPATH, thereby reducing command line length. Classpath when running using a release is not affected since the new dependency jars are not in the kafka release libs directory. &lt;/p&gt;

&lt;p&gt;An alternative would be to export CLASSPATH instead of using -cp option on the java command, but that would be a visible change while running kafka using the release, and could potentially break scripts which expect to match some entry in the classpath (eg. scala version).&lt;/p&gt;</comment>
                            <comment id="14985813" author="granders" created="Mon, 2 Nov 2015 19:13:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rsivaram&quot; class=&quot;user-hover&quot; rel=&quot;rsivaram&quot;&gt;rsivaram&lt;/a&gt; I wonder if this problem is better addressed in the services rather than changes to the kafka-run-class script?&lt;/p&gt;</comment>
                            <comment id="14985881" author="rsivaram" created="Mon, 2 Nov 2015 19:39:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=geoffra&quot; class=&quot;user-hover&quot; rel=&quot;geoffra&quot;&gt;geoffra&lt;/a&gt; If system tests are guaranteed to start only one java process on each VM, then services could always grep for &lt;em&gt;java&lt;/em&gt; to find processes instead of grepping for the classname as they do now (since &lt;em&gt;java&lt;/em&gt; is at the start and classname is at the end). But in general, it is useful to see what is running when you run &lt;em&gt;ps&lt;/em&gt;, and not just in system tests. Hence the PR. Also, the changes to kafka-run-class.sh only change the parts of the script that are used to run from the development build, not from a release build. It felt like the simplest fix (because it is contained in one file), but I dont have a strong opinion either way.&lt;/p&gt;</comment>
                            <comment id="14986056" author="granders" created="Mon, 2 Nov 2015 21:08:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rsivaram&quot; class=&quot;user-hover&quot; rel=&quot;rsivaram&quot;&gt;rsivaram&lt;/a&gt; Unfortunately we don&apos;t have this guarantee, for example with the addition of jmx. &lt;br/&gt;
As for your change, my take is that this is probably good enough for now, and does make the classpath more legible.&lt;/p&gt;</comment>
                            <comment id="14987529" author="junrao" created="Tue, 3 Nov 2015 16:10:54 +0000"  >&lt;p&gt;Issue resolved by pull request 400&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/400&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/400&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14987531" author="githubbot" created="Tue, 3 Nov 2015 16:11:00 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/400&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/400&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2nshj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>