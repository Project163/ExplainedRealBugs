<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:34:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-160] ZK consumer gets into infinite loop if a message is larger than fetch size</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-160</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description></description>
                <environment></environment>
        <key id="12527622">KAFKA-160</key>
            <summary>ZK consumer gets into infinite loop if a message is larger than fetch size</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="junrao">Jun Rao</assignee>
                                    <reporter username="junrao">Jun Rao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Oct 2011 17:11:16 +0000</created>
                <updated>Wed, 19 Oct 2011 23:53:34 +0000</updated>
                            <resolved>Wed, 19 Oct 2011 23:53:34 +0000</resolved>
                                    <version>0.7</version>
                                    <fixVersion>0.7</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13129884" author="junrao" created="Tue, 18 Oct 2011 17:39:05 +0000"  >&lt;p&gt;There were a couple of problems.&lt;br/&gt;
1. We used to throw an exception while iterating messages in a ByteBufferMessageSet, if we can&apos;t iterate a single message out of the buffer. This indicates that either the fetch size is too small or if there is corruption in the data. Throwing exception is a good way to notify the consumer that something is wrong. After the compression patch, such an exception is no longer thrown.&lt;/p&gt;

&lt;p&gt;2. The constructor of ByetBufferMessageSet recently added a new parameter in the middle and some of the callers didn&apos;t get changed accordingly. So, some input parameters are misaligned.&lt;/p&gt;

&lt;p&gt;Attach a patch that fixes both problems.&lt;/p&gt;</comment>
                            <comment id="13130044" author="jkreps" created="Tue, 18 Oct 2011 21:44:58 +0000"  >&lt;p&gt;Hey did I break this?&lt;/p&gt;</comment>
                            <comment id="13130051" author="junrao" created="Tue, 18 Oct 2011 21:50:14 +0000"  >&lt;p&gt;I think this was introduced when compression was added. I reviewed the patch, but didn&apos;t catch this.&lt;/p&gt;</comment>
                            <comment id="13130717" author="junrao" created="Wed, 19 Oct 2011 16:04:08 +0000"  >&lt;p&gt;Submitted patch v2, adding a unit test that uncovers the problem.&lt;/p&gt;</comment>
                            <comment id="13131115" author="nehanarkhede" created="Wed, 19 Oct 2011 22:57:37 +0000"  >&lt;p&gt;+1 on patch v2&lt;/p&gt;</comment>
                            <comment id="13131173" author="junrao" created="Wed, 19 Oct 2011 23:53:34 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12499567" name="KAFKA-160.patch" size="2275" author="junrao" created="Tue, 18 Oct 2011 17:30:39 +0000"/>
                            <attachment id="12499702" name="KAFKA-160_v2.patch" size="3811" author="junrao" created="Wed, 19 Oct 2011 16:04:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>88873</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i15z87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>243007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>