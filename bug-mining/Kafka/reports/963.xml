<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:53:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-2944] NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-2944</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Relevant log where you can see a config update starting, then the request to shutdown happens and we end up with a NullPointerException:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2015-12-03 09:12:55,712&amp;#93;&lt;/span&gt; DEBUG Change in connector task count from 2 to 3, writing updated task configurations (org.apache.kafka.connect.runtime.distributed.DistributedHerder)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2015-12-03 09:12:56,224&amp;#93;&lt;/span&gt; INFO Kafka Connect stopping (org.apache.kafka.connect.runtime.Connect)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2015-12-03 09:12:56,224&amp;#93;&lt;/span&gt; INFO Stopping REST server (org.apache.kafka.connect.runtime.rest.RestServer)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2015-12-03 09:12:56,227&amp;#93;&lt;/span&gt; INFO Stopped ServerConnector@10cb550e&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {HTTP/1.1}&lt;/span&gt; &lt;/div&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {0.0.0.0}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; (org.eclipse.jetty.server.ServerConnector)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2015-12-03 09:12:56,234&amp;#93;&lt;/span&gt; INFO Stopped o.e.j.s.ServletContextHandler@3f8a24d5&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {/,null,UNAVAILABLE}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; (org.eclipse.jetty.server.handler.ContextHandler)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2015-12-03 09:12:56,235&amp;#93;&lt;/span&gt; INFO REST server stopped (org.apache.kafka.connect.runtime.rest.RestServer)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2015-12-03 09:12:56,235&amp;#93;&lt;/span&gt; INFO Herder stopping (org.apache.kafka.connect.runtime.distributed.DistributedHerder)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2015-12-03 09:12:58,209&amp;#93;&lt;/span&gt; ERROR Unexpected exception in KafkaBasedLog&apos;s work thread (org.apache.kafka.connect.util.KafkaBasedLog)&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.kafka.connect.storage.KafkaConfigStorage.completeTaskIdSet(KafkaConfigStorage.java:558)&lt;br/&gt;
	at org.apache.kafka.connect.storage.KafkaConfigStorage.access$1200(KafkaConfigStorage.java:143)&lt;br/&gt;
	at org.apache.kafka.connect.storage.KafkaConfigStorage$1.onCompletion(KafkaConfigStorage.java:476)&lt;br/&gt;
	at org.apache.kafka.connect.storage.KafkaConfigStorage$1.onCompletion(KafkaConfigStorage.java:372)&lt;br/&gt;
	at org.apache.kafka.connect.util.KafkaBasedLog.poll(KafkaBasedLog.java:235)&lt;br/&gt;
	at org.apache.kafka.connect.util.KafkaBasedLog.readToLogEnd(KafkaBasedLog.java:275)&lt;br/&gt;
	at org.apache.kafka.connect.util.KafkaBasedLog.access$300(KafkaBasedLog.java:70)&lt;br/&gt;
	at org.apache.kafka.connect.util.KafkaBasedLog$WorkThread.run(KafkaBasedLog.java:307)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2015-12-03 09:13:26,704&amp;#93;&lt;/span&gt; ERROR Failed to write root configuration to Kafka:  (org.apache.kafka.connect.storage.KafkaConfigStorage)&lt;br/&gt;
java.util.concurrent.TimeoutException: Timed out waiting for future&lt;br/&gt;
	at org.apache.kafka.connect.util.ConvertingFutureCallback.get(ConvertingFutureCallback.java:74)&lt;br/&gt;
	at org.apache.kafka.connect.storage.KafkaConfigStorage.putTaskConfigs(KafkaConfigStorage.java:352)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.reconfigureConnector(DistributedHerder.java:737)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.reconfigureConnectorTasksWithRetry(DistributedHerder.java:677)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.startConnector(DistributedHerder.java:673)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.startWork(DistributedHerder.java:640)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.handleRebalanceCompleted(DistributedHerder.java:598)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.tick(DistributedHerder.java:184)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.run(DistributedHerder.java:159)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2015-12-03 09:13:26,704&amp;#93;&lt;/span&gt; ERROR Failed to reconfigure connector&apos;s tasks, retrying after backoff: (org.apache.kafka.connect.runtime.distributed.DistributedHerder)&lt;br/&gt;
org.apache.kafka.connect.errors.ConnectException: Error writing root configuration to Kafka&lt;br/&gt;
	at org.apache.kafka.connect.storage.KafkaConfigStorage.putTaskConfigs(KafkaConfigStorage.java:355)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.reconfigureConnector(DistributedHerder.java:737)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.reconfigureConnectorTasksWithRetry(DistributedHerder.java:677)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.startConnector(DistributedHerder.java:673)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.startWork(DistributedHerder.java:640)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.handleRebalanceCompleted(DistributedHerder.java:598)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.tick(DistributedHerder.java:184)&lt;br/&gt;
	at org.apache.kafka.connect.runtime.distributed.DistributedHerder.run(DistributedHerder.java:159)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
Caused by: java.util.concurrent.TimeoutException: Timed out waiting for future&lt;br/&gt;
	at org.apache.kafka.connect.util.ConvertingFutureCallback.get(ConvertingFutureCallback.java:74)&lt;br/&gt;
	at org.apache.kafka.connect.storage.KafkaConfigStorage.putTaskConfigs(KafkaConfigStorage.java:352)&lt;br/&gt;
	... 8 more&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m not certain that the issue is specifically due to shutting down (the KafkaConfigStorage.stop() hasn&apos;t been invoked yet when this occurs, so the underlying KafkaBasedLog is still running, although shutdown of the entire process has started), but this has only shown up during shutdown so far.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12918068">KAFKA-2944</key>
            <summary>NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gwenshap">Gwen Shapira</assignee>
                                    <reporter username="ewencp">Ewen Cheslack-Postava</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Dec 2015 16:58:46 +0000</created>
                <updated>Thu, 12 Jan 2017 02:05:19 +0000</updated>
                            <resolved>Wed, 15 Jun 2016 15:53:05 +0000</resolved>
                                    <version>0.9.0.0</version>
                                    <fixVersion>0.10.0.0</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15076312" author="jinxing6042@126.com" created="Fri, 1 Jan 2016 15:16:12 +0000"  >&lt;p&gt;Cannot reproduce this; believe it is transient failure;&lt;br/&gt;
Since method &quot;halt()&quot; in DistributedHerder has not executed yet, believe that it is not the issue of shutdown; &lt;br/&gt;
In method of KafkaConfigStorage::putTaskConfigs, if failed to send messages with TASK but succeeded sending message with COMMIT_TASKS_PREFIX, the deferredTaskUpdates will not have corresponding key of connector, thus result in a NullPointerException in KafkaConfigStorage;&lt;br/&gt;
So it make sense to call a &apos;flush&apos;  after sending easy message of connector or task configuration to KafkaBasedLog;&lt;/p&gt;</comment>
                            <comment id="15076316" author="githubbot" created="Fri, 1 Jan 2016 15:29:40 +0000"  >&lt;p&gt;GitHub user ZoneMayor opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;p&gt;    Lost of &quot;config messages&quot; can affect the logic of KafkaConfigStorage;&lt;br/&gt;
    Call readToEnd after sending each message to KafkaBasedLog to ensure that all config messages are flushed to Kafka;&lt;br/&gt;
    Since &quot;config messages&quot;  sending to KafkaBasedLog are metadata, it will not affect performance too much;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ZoneMayor/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ZoneMayor/kafka&lt;/a&gt; trunk-&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #723&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 34240b52e1b70aa172b65155f6042243d838b420&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-18T07:22:20Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #12 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-18&lt;/p&gt;

&lt;p&gt;commit 52d02f333e86d06cfa8fff5facd18999b3db6d83&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-30T03:08:08Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #13 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-30&lt;/p&gt;

&lt;p&gt;commit 82150dccc59ac0e436acc5186d2b8fb66c9df671&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-01T15:21:41Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15076451" author="githubbot" created="Sat, 2 Jan 2016 07:05:06 +0000"  >&lt;p&gt;Github user ZoneMayor closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15076452" author="githubbot" created="Sat, 2 Jan 2016 07:05:09 +0000"  >&lt;p&gt;GitHub user ZoneMayor reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;p&gt;    Lost of &quot;config messages&quot; can affect the logic of KafkaConfigStorage;&lt;br/&gt;
    Call readToEnd after sending each message to KafkaBasedLog to ensure that all config messages are flushed to Kafka;&lt;br/&gt;
    Since &quot;config messages&quot;  sending to KafkaBasedLog are metadata, it will not affect performance too much;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ZoneMayor/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ZoneMayor/kafka&lt;/a&gt; trunk-&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #723&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 34240b52e1b70aa172b65155f6042243d838b420&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-18T07:22:20Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #12 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-18&lt;/p&gt;

&lt;p&gt;commit 52d02f333e86d06cfa8fff5facd18999b3db6d83&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-30T03:08:08Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #13 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-30&lt;/p&gt;

&lt;p&gt;commit 82150dccc59ac0e436acc5186d2b8fb66c9df671&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-01T15:21:41Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15076453" author="githubbot" created="Sat, 2 Jan 2016 07:06:09 +0000"  >&lt;p&gt;Github user ZoneMayor closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15076454" author="githubbot" created="Sat, 2 Jan 2016 07:06:11 +0000"  >&lt;p&gt;GitHub user ZoneMayor reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;p&gt;    Lost of &quot;config messages&quot; can affect the logic of KafkaConfigStorage;&lt;br/&gt;
    Call readToEnd after sending each message to KafkaBasedLog to ensure that all config messages are flushed to Kafka;&lt;br/&gt;
    Since &quot;config messages&quot;  sending to KafkaBasedLog are metadata, it will not affect performance too much;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ZoneMayor/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ZoneMayor/kafka&lt;/a&gt; trunk-&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #723&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 34240b52e1b70aa172b65155f6042243d838b420&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-18T07:22:20Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #12 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-18&lt;/p&gt;

&lt;p&gt;commit 52d02f333e86d06cfa8fff5facd18999b3db6d83&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-30T03:08:08Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #13 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-30&lt;/p&gt;

&lt;p&gt;commit 82150dccc59ac0e436acc5186d2b8fb66c9df671&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-01T15:21:41Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15076455" author="githubbot" created="Sat, 2 Jan 2016 07:06:55 +0000"  >&lt;p&gt;Github user ZoneMayor closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15076457" author="githubbot" created="Sat, 2 Jan 2016 07:31:15 +0000"  >&lt;p&gt;GitHub user ZoneMayor reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;p&gt;    Lost of &quot;config messages&quot; can affect the logic of KafkaConfigStorage;&lt;br/&gt;
    Call readToEnd after sending each message to KafkaBasedLog to ensure that all config messages are flushed to Kafka;&lt;br/&gt;
    Since &quot;config messages&quot;  sending to KafkaBasedLog are metadata, it will not affect performance too much;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ZoneMayor/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ZoneMayor/kafka&lt;/a&gt; trunk-&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #723&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 34240b52e1b70aa172b65155f6042243d838b420&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-18T07:22:20Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #12 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-18&lt;/p&gt;

&lt;p&gt;commit 52d02f333e86d06cfa8fff5facd18999b3db6d83&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-30T03:08:08Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #13 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-30&lt;/p&gt;

&lt;p&gt;commit 82150dccc59ac0e436acc5186d2b8fb66c9df671&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-01T15:21:41Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15080427" author="githubbot" created="Sun, 3 Jan 2016 13:20:31 +0000"  >&lt;p&gt;Github user ZoneMayor closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15080428" author="githubbot" created="Sun, 3 Jan 2016 13:22:17 +0000"  >&lt;p&gt;GitHub user ZoneMayor reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;p&gt;    Lost of &quot;config messages&quot; can affect the logic of KafkaConfigStorage;&lt;br/&gt;
    Call readToEnd after sending each message to KafkaBasedLog to ensure that all config messages are flushed to Kafka;&lt;br/&gt;
    Since &quot;config messages&quot;  sending to KafkaBasedLog are metadata, it will not affect performance too much;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ZoneMayor/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ZoneMayor/kafka&lt;/a&gt; trunk-&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #723&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 34240b52e1b70aa172b65155f6042243d838b420&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-18T07:22:20Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #12 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-18&lt;/p&gt;

&lt;p&gt;commit 52d02f333e86d06cfa8fff5facd18999b3db6d83&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-30T03:08:08Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #13 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-30&lt;/p&gt;

&lt;p&gt;commit 82150dccc59ac0e436acc5186d2b8fb66c9df671&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-01T15:21:41Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;p&gt;commit 320386d2c484dac7eed9b7fe1584ca376e4ad897&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-03T06:09:00Z&lt;/p&gt;

&lt;p&gt;    fix&lt;/p&gt;

&lt;p&gt;commit 67d1b21661886b204bbb86bc472a2ecce57613dc&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-03T07:45:53Z&lt;/p&gt;

&lt;p&gt;    small fix&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15080444" author="githubbot" created="Sun, 3 Jan 2016 14:48:31 +0000"  >&lt;p&gt;Github user ZoneMayor closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15080445" author="githubbot" created="Sun, 3 Jan 2016 14:52:34 +0000"  >&lt;p&gt;GitHub user ZoneMayor reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;p&gt;    Lost of &quot;config messages&quot; can affect the logic of KafkaConfigStorage;&lt;br/&gt;
    Call readToEnd after sending each message to KafkaBasedLog to ensure that all config messages are flushed to Kafka;&lt;br/&gt;
    Since &quot;config messages&quot;  sending to KafkaBasedLog are metadata, it will not affect performance too much;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ZoneMayor/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ZoneMayor/kafka&lt;/a&gt; trunk-&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #723&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 34240b52e1b70aa172b65155f6042243d838b420&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-18T07:22:20Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #12 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-18&lt;/p&gt;

&lt;p&gt;commit 52d02f333e86d06cfa8fff5facd18999b3db6d83&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-30T03:08:08Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #13 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-30&lt;/p&gt;

&lt;p&gt;commit 82150dccc59ac0e436acc5186d2b8fb66c9df671&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-01T15:21:41Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;p&gt;commit 320386d2c484dac7eed9b7fe1584ca376e4ad897&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-03T06:09:00Z&lt;/p&gt;

&lt;p&gt;    fix&lt;/p&gt;

&lt;p&gt;commit 67d1b21661886b204bbb86bc472a2ecce57613dc&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-03T07:45:53Z&lt;/p&gt;

&lt;p&gt;    small fix&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15103737" author="githubbot" created="Sun, 17 Jan 2016 13:57:05 +0000"  >&lt;p&gt;Github user ZoneMayor closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15103738" author="githubbot" created="Sun, 17 Jan 2016 13:57:10 +0000"  >&lt;p&gt;GitHub user ZoneMayor reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;p&gt;    Lost of &quot;config messages&quot; can affect the logic of KafkaConfigStorage;&lt;br/&gt;
    Call readToEnd after sending each message to KafkaBasedLog to ensure that all config messages are flushed to Kafka;&lt;br/&gt;
    Since &quot;config messages&quot;  sending to KafkaBasedLog are metadata, it will not affect performance too much;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ZoneMayor/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ZoneMayor/kafka&lt;/a&gt; trunk-&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #723&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 34240b52e1b70aa172b65155f6042243d838b420&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-18T07:22:20Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #12 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-18&lt;/p&gt;

&lt;p&gt;commit 52d02f333e86d06cfa8fff5facd18999b3db6d83&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-30T03:08:08Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #13 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-30&lt;/p&gt;

&lt;p&gt;commit 82150dccc59ac0e436acc5186d2b8fb66c9df671&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-01T15:21:41Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;p&gt;commit 320386d2c484dac7eed9b7fe1584ca376e4ad897&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-03T06:09:00Z&lt;/p&gt;

&lt;p&gt;    fix&lt;/p&gt;

&lt;p&gt;commit 67d1b21661886b204bbb86bc472a2ecce57613dc&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-03T07:45:53Z&lt;/p&gt;

&lt;p&gt;    small fix&lt;/p&gt;

&lt;p&gt;commit c31562642eaf2fa9bd35366246430fa6de8be6d8&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-09T10:46:43Z&lt;/p&gt;

&lt;p&gt;    Revert &quot;small fix&quot;&lt;/p&gt;

&lt;p&gt;    This reverts commit 67d1b21661886b204bbb86bc472a2ecce57613dc.&lt;/p&gt;

&lt;p&gt;commit ef1d9a8921d2e5060824878d7212b1d50454e0f9&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-09T10:48:44Z&lt;/p&gt;

&lt;p&gt;    Revert &quot;fix&quot;&lt;/p&gt;

&lt;p&gt;    This reverts commit 320386d2c484dac7eed9b7fe1584ca376e4ad897.&lt;/p&gt;

&lt;p&gt;commit 5c09181de11a5cdae78acf690513f0166a1d5c21&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-09T10:48:58Z&lt;/p&gt;

&lt;p&gt;    Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&quot;&lt;/p&gt;

&lt;p&gt;    This reverts commit 82150dccc59ac0e436acc5186d2b8fb66c9df671.&lt;/p&gt;

&lt;p&gt;commit eba2a0737ae93f3d8e0137c5901277f53c62daac&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-10T08:25:36Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15103772" author="githubbot" created="Sun, 17 Jan 2016 16:14:12 +0000"  >&lt;p&gt;Github user ZoneMayor closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15103773" author="githubbot" created="Sun, 17 Jan 2016 16:14:14 +0000"  >&lt;p&gt;GitHub user ZoneMayor reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;p&gt;    Lost of &quot;config messages&quot; can affect the logic of KafkaConfigStorage;&lt;br/&gt;
    Call readToEnd after sending each message to KafkaBasedLog to ensure that all config messages are flushed to Kafka;&lt;br/&gt;
    Since &quot;config messages&quot;  sending to KafkaBasedLog are metadata, it will not affect performance too much;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ZoneMayor/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ZoneMayor/kafka&lt;/a&gt; trunk-&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #723&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 34240b52e1b70aa172b65155f6042243d838b420&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-18T07:22:20Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #12 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-18&lt;/p&gt;

&lt;p&gt;commit 52d02f333e86d06cfa8fff5facd18999b3db6d83&lt;br/&gt;
Author: ZoneMayor &amp;lt;jinxing6042@126.com&amp;gt;&lt;br/&gt;
Date:   2015-12-30T03:08:08Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #13 from apache/trunk&lt;/p&gt;

&lt;p&gt;    2015-12-30&lt;/p&gt;

&lt;p&gt;commit 82150dccc59ac0e436acc5186d2b8fb66c9df671&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-01T15:21:41Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;p&gt;commit 320386d2c484dac7eed9b7fe1584ca376e4ad897&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-03T06:09:00Z&lt;/p&gt;

&lt;p&gt;    fix&lt;/p&gt;

&lt;p&gt;commit 67d1b21661886b204bbb86bc472a2ecce57613dc&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-03T07:45:53Z&lt;/p&gt;

&lt;p&gt;    small fix&lt;/p&gt;

&lt;p&gt;commit c31562642eaf2fa9bd35366246430fa6de8be6d8&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-09T10:46:43Z&lt;/p&gt;

&lt;p&gt;    Revert &quot;small fix&quot;&lt;/p&gt;

&lt;p&gt;    This reverts commit 67d1b21661886b204bbb86bc472a2ecce57613dc.&lt;/p&gt;

&lt;p&gt;commit ef1d9a8921d2e5060824878d7212b1d50454e0f9&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-09T10:48:44Z&lt;/p&gt;

&lt;p&gt;    Revert &quot;fix&quot;&lt;/p&gt;

&lt;p&gt;    This reverts commit 320386d2c484dac7eed9b7fe1584ca376e4ad897.&lt;/p&gt;

&lt;p&gt;commit 5c09181de11a5cdae78acf690513f0166a1d5c21&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-09T10:48:58Z&lt;/p&gt;

&lt;p&gt;    Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&quot;&lt;/p&gt;

&lt;p&gt;    This reverts commit 82150dccc59ac0e436acc5186d2b8fb66c9df671.&lt;/p&gt;

&lt;p&gt;commit eba2a0737ae93f3d8e0137c5901277f53c62daac&lt;br/&gt;
Author: jinxing &amp;lt;jinxing@fenbi.com&amp;gt;&lt;br/&gt;
Date:   2016-01-10T08:25:36Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2944&quot; title=&quot;NullPointerException in KafkaConfigStorage when config storage starts right before shutdown request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2944&quot;&gt;&lt;del&gt;KAFKA-2944&lt;/del&gt;&lt;/a&gt;: fix NullPointerException in KafkaConfigStorage&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15174991" author="gwenshap" created="Wed, 2 Mar 2016 03:50:26 +0000"  >&lt;p&gt;Created PR &lt;a href=&quot;https://github.com/apache/kafka/pull/993&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/993&lt;/a&gt; for partial improvement here.&lt;/p&gt;</comment>
                            <comment id="15177056" author="githubbot" created="Thu, 3 Mar 2016 02:51:39 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/993&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/993&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15331943" author="ewencp" created="Wed, 15 Jun 2016 15:53:05 +0000"  >&lt;p&gt;Refactoring has actually made it impossible to trigger this anymore &amp;#8211; the data passed in at the call site of the method that causes the problem is guaranteed to be non-null after the refactoring in &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-3459&quot; title=&quot;Returning zero task configurations from a connector does not properly clean up existing tasks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-3459&quot;&gt;&lt;del&gt;KAFKA-3459&lt;/del&gt;&lt;/a&gt;. Marking with the same fix version, 0.10.0.0&lt;/p&gt;</comment>
                            <comment id="15819890" author="githubbot" created="Thu, 12 Jan 2017 02:05:19 +0000"  >&lt;p&gt;Github user jinxing64 closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/723&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12951454">KAFKA-3423</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2p98f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>ewencp</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>