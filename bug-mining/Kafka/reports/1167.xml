<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:56:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-4103] DumpLogSegments cannot print data from offsets topic</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-4103</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;It looks like there&apos;s been a regression in the DumpLogSegments tool. I&apos;m marking it a blocker since it appears we can no longer dump offset information from this tool, which makes it really hard to debug anything related to __consumer_offsets.&lt;/p&gt;

&lt;p&gt;The 0.10.0 branch seems to work fine, but even with offsets log files generated using only old formats (0.10.0 branch), the DumpLogSegments tool from trunk (i.e. 0.10.1.0-SNAPSHOT with latest githash b91eeac9438b8718c410045b0e9191296ebb536d as of reporting this) will cause the exception below. This was found while doing some basic testing of &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4062&quot; title=&quot;Require --print-data-log if --offsets-decoder is enabled for DumpLogOffsets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4062&quot;&gt;&lt;del&gt;KAFKA-4062&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;SLF4J: Actual binding is of type &lt;span class=&quot;error&quot;&gt;&amp;#91;org.slf4j.impl.Log4jLoggerFactory&amp;#93;&lt;/span&gt;&lt;br/&gt;
offset: 0 position: 0 CreateTime: 1472615183913 isvalid: true payloadsize: 199 magic: 1 compresscodec: NoCompressionCodec crc: 2036280914 keysize: 26Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: x != scala.math.BigInt&lt;br/&gt;
       	at java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4045)&lt;br/&gt;
       	at java.util.Formatter$FormatSpecifier.printInteger(Formatter.java:2748)&lt;br/&gt;
       	at java.util.Formatter$FormatSpecifier.print(Formatter.java:2702)&lt;br/&gt;
       	at java.util.Formatter.format(Formatter.java:2488)&lt;br/&gt;
       	at java.util.Formatter.format(Formatter.java:2423)&lt;br/&gt;
       	at java.lang.String.format(String.java:2792)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$OffsetsMessageParser.kafka$tools$DumpLogSegments$OffsetsMessageParser$$hex(DumpLogSegments.scala:240)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$OffsetsMessageParser$$anonfun$3.apply(DumpLogSegments.scala:272)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$OffsetsMessageParser$$anonfun$3.apply(DumpLogSegments.scala:262)&lt;br/&gt;
       	at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244)&lt;br/&gt;
       	at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244)&lt;br/&gt;
       	at scala.collection.immutable.List.foreach(List.scala:318)&lt;br/&gt;
       	at scala.collection.TraversableLike$class.map(TraversableLike.scala:244)&lt;br/&gt;
       	at scala.collection.AbstractTraversable.map(Traversable.scala:105)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$OffsetsMessageParser.parseGroupMetadata(DumpLogSegments.scala:262)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$OffsetsMessageParser.parse(DumpLogSegments.scala:290)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$$anonfun$kafka$tools$DumpLogSegments$$dumpLog$1$$anonfun$apply$3.apply(DumpLogSegments.scala:332)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$$anonfun$kafka$tools$DumpLogSegments$$dumpLog$1$$anonfun$apply$3.apply(DumpLogSegments.scala:312)&lt;br/&gt;
       	at scala.collection.Iterator$class.foreach(Iterator.scala:727)&lt;br/&gt;
       	at kafka.utils.IteratorTemplate.foreach(IteratorTemplate.scala:30)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$$anonfun$kafka$tools$DumpLogSegments$$dumpLog$1.apply(DumpLogSegments.scala:312)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$$anonfun$kafka$tools$DumpLogSegments$$dumpLog$1.apply(DumpLogSegments.scala:310)&lt;br/&gt;
       	at scala.collection.Iterator$class.foreach(Iterator.scala:727)&lt;br/&gt;
       	at kafka.utils.IteratorTemplate.foreach(IteratorTemplate.scala:30)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$.kafka$tools$DumpLogSegments$$dumpLog(DumpLogSegments.scala:310)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$$anonfun$main$1.apply(DumpLogSegments.scala:96)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$$anonfun$main$1.apply(DumpLogSegments.scala:92)&lt;br/&gt;
       	at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)&lt;br/&gt;
       	at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:108)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments$.main(DumpLogSegments.scala:92)&lt;br/&gt;
       	at kafka.tools.DumpLogSegments.main(DumpLogSegments.scala)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I haven&apos;t really dug in, but the source of the error is confusing since the relevant string formatting code doesn&apos;t seem to have changed anytime recently. It seems it might be related to changes in the group metadata code. I did the git bisect and this seems to be the bad commit:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;8c551675adb11947e9f27b20a9195c9c4a20b432 is the first bad commit&lt;br/&gt;
commit 8c551675adb11947e9f27b20a9195c9c4a20b432&lt;br/&gt;
Author: Jason Gustafson &amp;lt;jason@confluent.io&amp;gt;&lt;br/&gt;
Date:   Wed Jun 15 19:46:42 2016 -0700&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2720&quot; title=&quot;Periodic purging groups in the coordinator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2720&quot;&gt;&lt;del&gt;KAFKA-2720&lt;/del&gt;&lt;/a&gt;: expire group metadata when all offsets have expired&lt;/p&gt;

&lt;p&gt;    Author: Jason Gustafson &amp;lt;jason@confluent.io&amp;gt;&lt;/p&gt;

&lt;p&gt;    Reviewers: Liquan Pei, Onur Karaman, Guozhang Wang&lt;/p&gt;

&lt;p&gt;    Closes #1427 from hachikuji/&lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-2720&quot; title=&quot;Periodic purging groups in the coordinator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-2720&quot;&gt;&lt;del&gt;KAFKA-2720&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;:040000 040000 0da885a8896f0894940cc1b002160ca4e7176905 eb5a672ae09159264993bc61b6a18a2f19de804e M     	core&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="13001556">KAFKA-4103</key>
            <summary>DumpLogSegments cannot print data from offsets topic</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hachikuji">Jason Gustafson</assignee>
                                    <reporter username="ewencp">Ewen Cheslack-Postava</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Aug 2016 04:26:00 +0000</created>
                <updated>Wed, 31 Aug 2016 20:41:38 +0000</updated>
                            <resolved>Wed, 31 Aug 2016 20:41:38 +0000</resolved>
                                                    <fixVersion>0.10.1.0</fixVersion>
                                    <component>tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15451076" author="ewencp" created="Wed, 31 Aug 2016 04:26:38 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hachikuji&quot; class=&quot;user-hover&quot; rel=&quot;hachikuji&quot;&gt;hachikuji&lt;/a&gt; since it looks like you authored the commit that introduced the regression.&lt;/p&gt;</comment>
                            <comment id="15452869" author="githubbot" created="Wed, 31 Aug 2016 17:47:40 +0000"  >&lt;p&gt;GitHub user hachikuji opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1807&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1807&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4103&quot; title=&quot;DumpLogSegments cannot print data from offsets topic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4103&quot;&gt;&lt;del&gt;KAFKA-4103&lt;/del&gt;&lt;/a&gt;: Fix regression in DumpLogSegments offsets decoder&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/hachikuji/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/hachikuji/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4103&quot; title=&quot;DumpLogSegments cannot print data from offsets topic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4103&quot;&gt;&lt;del&gt;KAFKA-4103&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1807.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1807.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1807&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 1e80d26256d2a09db88601a387244c47a9f44e2c&lt;br/&gt;
Author: Jason Gustafson &amp;lt;jason@confluent.io&amp;gt;&lt;br/&gt;
Date:   2016-08-31T17:47:12Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4103&quot; title=&quot;DumpLogSegments cannot print data from offsets topic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4103&quot;&gt;&lt;del&gt;KAFKA-4103&lt;/del&gt;&lt;/a&gt;: Fix regression in DumpLogSegments offsets decoder&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15453298" author="githubbot" created="Wed, 31 Aug 2016 20:40:39 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/1807&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1807&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15453301" author="ewencp" created="Wed, 31 Aug 2016 20:41:38 +0000"  >&lt;p&gt;Issue resolved by pull request 1807&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/1807&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/1807&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i331sf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10022" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Reviewer</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>ewencp</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>