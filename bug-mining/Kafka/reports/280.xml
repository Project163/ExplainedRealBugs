<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 16:38:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-920] zkclient jar 0.2.0 is not compatible with 0.1.0</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-920</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Just realized that zkclient 0.2.0 introduced a non-backward compatible api. In 0.1.0, it has&lt;br/&gt;
   public void writeData(java.lang.String path, java.lang.Object datat)&lt;br/&gt;
   public void writeData(java.lang.String path, java.lang.Object datat, int expectedVersion)&lt;/p&gt;

&lt;p&gt;In 0.2.0, they are changed to&lt;/p&gt;

&lt;p&gt;   public Stat writeData(java.lang.String path, java.lang.Object datat)&lt;br/&gt;
   public Stat writeData(java.lang.String path, java.lang.Object datat, int expectedVersion)&lt;/p&gt;

&lt;p&gt;This means that If an application uses Kafka and also drags in another library (X) that depends on zkclient 0.1.0 (and uses &quot;void writeData())&quot;, then when they upgrade to Kafka 0.8 consumer (which uses zkclient 0.2.0), their application can&apos;t just upgrade to zkclient 0.2.0 since library X&apos;s call to &quot;void writeData()&quot; will fail because of the signature change. Since zkclient 0.1.0 is widely used, this issue may affect many applications.&lt;/p&gt;

&lt;p&gt;This non-backward compatible change was introduced by me since I didn&apos;t realize it&apos;s a signature change then. I am trying to see if zkclient can release a new version that&apos;s compatible. If that can&apos;t be done in time, we will have to downgrade zkclient to 0.1.0 and add the needed ZK functionality inside Kafka. This is not ideal, but can solve the issue quicker.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12649354">KAFKA-920</key>
            <summary>zkclient jar 0.2.0 is not compatible with 0.1.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="junrao">Jun Rao</assignee>
                                    <reporter username="junrao">Jun Rao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 May 2013 16:49:11 +0000</created>
                <updated>Fri, 31 May 2013 03:33:08 +0000</updated>
                            <resolved>Fri, 31 May 2013 03:33:08 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13666456" author="junrao" created="Fri, 24 May 2013 16:55:42 +0000"  >&lt;p&gt;Attach a patch that downgrades zkclient to 0.1.0. The idea is to create a kafka.zookeeper.ZkClient that wraps zkclient and exposes the needed new api. All other changes are package renaming. Unit tests pass.&lt;/p&gt;</comment>
                            <comment id="13666489" author="nehanarkhede" created="Fri, 24 May 2013 17:36:45 +0000"  >&lt;p&gt;I tried applying your patch, it fails at the new file - &lt;/p&gt;

&lt;p&gt;can&apos;t find file to patch at input line 392&lt;br/&gt;
Perhaps you used the wrong -p or --strip option?&lt;br/&gt;
The text leading up to this was:&lt;br/&gt;
--------------------------&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;diff --git a/core/src/main/scala/kafka/zookeeper/ZkClient.java b/core/src/main/scala/kafka/zookeeper/ZkClient.java&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;index 9a82120..0c6e305 100644&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212; a/core/src/main/scala/kafka/zookeeper/ZkClient.java&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;+++ b/core/src/main/scala/kafka/zookeeper/ZkClient.java&lt;br/&gt;
--------------------------&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="13666720" author="junrao" created="Fri, 24 May 2013 21:48:39 +0000"  >&lt;p&gt;Attach patch v2 (by using git diff HEAD). &lt;/p&gt;

&lt;p&gt;The zkclient folks actually just committed a change to make the api backward compatible with zkclient 0.1. So, we may be able to use zkclient 0.3 if it&apos;s released in time.&lt;/p&gt;</comment>
                            <comment id="13670429" author="junrao" created="Thu, 30 May 2013 15:44:13 +0000"  >&lt;p&gt;Thanks to the zkclient guys, they just released an 0.3 jar that&apos;s backward compatible with the 0.1 jar. Attached is a patch that upgrades zkclient to 0.3. Need to run sbt update to pick up the new jar.&lt;/p&gt;</comment>
                            <comment id="13670912" author="nehanarkhede" created="Thu, 30 May 2013 22:45:56 +0000"  >&lt;p&gt;+1, thanks for the patch!&lt;/p&gt;</comment>
                            <comment id="13671107" author="junrao" created="Fri, 31 May 2013 03:33:08 +0000"  >&lt;p&gt;Thanks for the review. Committed to 0.8.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12584712" name="kafka-920-downgrade-zkclient.patch" size="23410" author="junrao" created="Fri, 24 May 2013 16:55:42 +0000"/>
                            <attachment id="12584765" name="kafka-920-downgrade-zkclient_v2.patch" size="23684" author="junrao" created="Fri, 24 May 2013 21:48:39 +0000"/>
                            <attachment id="12585425" name="kafka_920_zkclient_0.3.patch" size="2904" author="junrao" created="Thu, 30 May 2013 15:44:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329681</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kvmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330016</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>