<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:20:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-9077] System Test Failure: StreamsSimpleBenchmarkTest</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-9077</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;StreamsSimpleBenchmarkTest tests are failing on 2.4 and trunk.&lt;br/&gt;
&lt;a href=&quot;http://confluent-kafka-2-4-system-test-results.s3-us-west-2.amazonaws.com/2019-10-21--001.1571716233--confluentinc--2.4--cb4944f/report.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://confluent-kafka-2-4-system-test-results.s3-us-west-2.amazonaws.com/2019-10-21--001.1571716233--confluentinc--2.4--cb4944f/report.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13263759">KAFKA-9077</key>
            <summary>System Test Failure: StreamsSimpleBenchmarkTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cadonna">Bruno Cadonna</assignee>
                                    <reporter username="omkreddy">Manikumar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Oct 2019 09:48:13 +0000</created>
                <updated>Tue, 29 Oct 2019 20:04:37 +0000</updated>
                            <resolved>Tue, 29 Oct 2019 20:04:37 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>2.5.0</fixVersion>
                                    <component>streams</component>
                    <component>system tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16956877" author="omkreddy" created="Tue, 22 Oct 2019 09:50:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mjsax&quot; class=&quot;user-hover&quot; rel=&quot;mjsax&quot;&gt;mjsax&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt; Can we check if these failures are blockers for 2.4.0 release?&lt;/p&gt;</comment>
                            <comment id="16957583" author="mjsax" created="Wed, 23 Oct 2019 06:04:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt; &#8211; had a quick look into the logs. I found the following:&lt;/p&gt;

&lt;p&gt;From&#160;jmx_tool.err.log:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Could not find all object names, retrying
Could not find all requested object names after 10000 ms. Missing kafka.streams:type=stream-metrics,client-id=simple-benchmark-StreamThread-1
Exiting.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;From python debug log:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[DEBUG - 2019-10-21 11:34:33,238 - remoteaccount - _log - lineno:160]: ubuntu@worker4: Running ssh command: test -s /mnt/streams/jmx_tool.log
...
kafkatest.benchmarks.streams.streams_simple_benchmark_test.StreamsSimpleBenchmarkTest.test_simple_benchmark.test=streamcount.scale=1: FAIL: ubuntu@worker4: Jmx tool took too &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; to start
...
File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/jenkins/workspace/system-test-kafka_2.4/kafka/venv/local/lib/python2.7/site-packages/ducktape-0.7.6-py2.7.egg/ducktape/utils/util.py&quot;&lt;/span&gt;, line 41, in wait_until raise TimeoutError(err_msg() &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; callable(err_msg) &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; err_msg) TimeoutError: ubuntu@worker4: Jmx tool took too &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; to start
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Does this ring a bell?&lt;/p&gt;</comment>
                            <comment id="16957684" author="cadonna" created="Wed, 23 Oct 2019 09:27:43 +0000"  >&lt;p&gt;I looked into the &lt;tt&gt;StreamsSimpleBenchmarkTest&lt;/tt&gt; failure. The error message comes from &lt;tt&gt;kafka.tools.JmxTool&lt;/tt&gt;. &lt;tt&gt;kafka.tools.JmxTool&lt;/tt&gt; fetches metrics from a given endpoint. You can specify the endpoint when you start a java application with &lt;tt&gt;-Dcom.sun.management.jmxremote.port=9192&lt;/tt&gt; (turn off authentication and ssl with &lt;tt&gt;-Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false&lt;/tt&gt;). So, I started locally a Kafka Streams application using the 2.4 library and with a JMX endpoint. Then I started &lt;tt&gt;kafka.tools.JmxTool&lt;/tt&gt; with the endpoint specified in the Kafka Streams application. &lt;tt&gt;kafka.tools.JmxTool&lt;/tt&gt; could read the metrics that it could not read in the &lt;tt&gt;StreamsSimpleBenchmarkTest&lt;/tt&gt;. I do not know why it does not work in &lt;tt&gt;StreamsSimpleBenchmarkTest&lt;/tt&gt; but at least until now it seems to be an issue in &lt;tt&gt;StreamsSimpleBenchmarkTest&lt;/tt&gt; or the test environment.&lt;/p&gt;</comment>
                            <comment id="16957793" author="omkreddy" created="Wed, 23 Oct 2019 11:49:26 +0000"  >&lt;p&gt;Ran the tests on 2.4 branch to confirm the failures. All the tests are passed.&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://testing.confluent.io/confluent-kafka-2-4-system-test-results/?prefix=2019-10-23--001.1571831015--omkreddy--2.4--ac85cfb/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://testing.confluent.io/confluent-kafka-2-4-system-test-results/?prefix=2019-10-23--001.1571831015--omkreddy--2.4--ac85cfb/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16962293" author="githubbot" created="Tue, 29 Oct 2019 18:05:53 +0000"  >&lt;p&gt;cadonna commented on pull request #7610: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-9077&quot; title=&quot;System Test Failure: StreamsSimpleBenchmarkTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-9077&quot;&gt;&lt;del&gt;KAFKA-9077&lt;/del&gt;&lt;/a&gt;: Fix reading of metrics of Streams&apos; SimpleBenchmark&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/7610&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/7610&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   With KIP-444 the metrics definitions are refactored. Thus, Streams&apos; SimpleBenchmark needs to be updated to correctly access the refactored metrics.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Committer Checklist (excluded from commit message)&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Verify design and implementation&lt;/li&gt;
	&lt;li&gt;[ ] Verify test coverage and CI build status&lt;/li&gt;
	&lt;li&gt;[ ] Verify documentation (including upgrade notes)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16962367" author="githubbot" created="Tue, 29 Oct 2019 20:02:22 +0000"  >&lt;p&gt;bbejeck commented on pull request #7610: &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-9077&quot; title=&quot;System Test Failure: StreamsSimpleBenchmarkTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-9077&quot;&gt;&lt;del&gt;KAFKA-9077&lt;/del&gt;&lt;/a&gt;: Fix reading of metrics of Streams&apos; SimpleBenchmark&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/kafka/pull/7610&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/7610&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07ty0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>