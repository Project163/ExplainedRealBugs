<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:40:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-17233] MirrorCheckpointConnector should use batched listConsumerGroupOffsets</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-17233</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;The AdminClient provides us a single-group listConsumerGroupOffsets, and a batched listConsumerGroupOffsets. Because we are potentially requesting the offsets for hundreds or thousands of groups, serially requesting all of the offsets may be very slow.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13587490">KAFKA-17233</key>
            <summary>MirrorCheckpointConnector should use batched listConsumerGroupOffsets</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joaopedrofonseca">Jo&#227;o Pedro Fonseca</assignee>
                                    <reporter username="gharris1727">Greg Harris</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Wed, 31 Jul 2024 19:44:03 +0000</created>
                <updated>Thu, 24 Oct 2024 07:39:00 +0000</updated>
                            <resolved>Thu, 24 Oct 2024 07:39:00 +0000</resolved>
                                    <version>3.5.0</version>
                                    <fixVersion>4.0.0</fixVersion>
                                    <component>mirrormaker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17870056" author="JIRAUSER305181" created="Wed, 31 Jul 2024 23:24:11 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gharris1727&quot; class=&quot;user-hover&quot; rel=&quot;gharris1727&quot;&gt;gharris1727&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;May I have this issue?&lt;/p&gt;

&lt;p&gt;Many thanks &#128570;&lt;/p&gt;</comment>
                            <comment id="17876662" author="JIRAUSER306759" created="Mon, 26 Aug 2024 10:17:45 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gharris1727&quot; class=&quot;user-hover&quot; rel=&quot;gharris1727&quot;&gt;gharris1727&lt;/a&gt;! I&apos;ve noticed that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=frankvicky&quot; class=&quot;user-hover&quot; rel=&quot;frankvicky&quot;&gt;frankvicky&lt;/a&gt; has done some work on &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-17232&quot; title=&quot;MirrorCheckpointConnector does not generate task configs if initial consumer group load times out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-17232&quot;&gt;&lt;del&gt;KAFKA-17232&lt;/del&gt;&lt;/a&gt;. But this issue here remains unassigned. Could I pick it, guys? I&apos;ve already done some exploration and thought about a solution.&lt;/p&gt;</comment>
                            <comment id="17876700" author="JIRAUSER306759" created="Mon, 26 Aug 2024 12:20:05 +0000"  >&lt;p&gt;Based on &lt;a href=&quot;https://cwiki.apache.org/confluence/display/KAFKA/Contributing+Code+Changes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Contributing Code Changes&lt;/a&gt;, I&apos;ve checked there is no PR for this issue. Also there no update since July 31, so I assign it to me. Please let me know about if it&apos;s a problem, guys&lt;/p&gt;</comment>
                            <comment id="17878385" author="JIRAUSER306759" created="Sat, 31 Aug 2024 18:47:30 +0000"  >&lt;p&gt;I am having some trouble to test. When I run the tests on my machine even based on trunk HEAD, some tests fails. How could I distinguish that the problem is not caused by my modifications? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gharris1727&quot; class=&quot;user-hover&quot; rel=&quot;gharris1727&quot;&gt;gharris1727&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Also CI have appointed a failed test that in fact passed on my local run:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ci-builds.apache.org/job/Kafka/job/kafka-pr/job/PR-17038/1/testReport/junit/org.apache.kafka.connect.integration/OffsetsApiIntegrationTest/Build___JDK_21_and_Scala_2_13___testGetSinkConnectorOffsets__/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Kafka/job/kafka-pr/job/PR-17038/1/testReport/junit/org.apache.kafka.connect.integration/OffsetsApiIntegrationTest/Build___JDK_21_and_Scala_2_13___testGetSinkConnectorOffsets__/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13071208/13071208_image-2024-08-31-15-47-14-066.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Many thanks!&lt;/p&gt;</comment>
                            <comment id="17878434" author="JIRAUSER306759" created="Sun, 1 Sep 2024 14:19:20 +0000"  >&lt;p&gt;Another example:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I run gradle clean unitTest --console plain &amp;gt; /tmp/unitTestX.txt where X is the number of the run. I have obtained three different results:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;$ grep &apos; FAILED&apos; /tmp/unitTest.txt&#160;&lt;br/&gt;
Gradle Test Run :clients:unitTest &amp;gt; Gradle Test Executor 624 &amp;gt; AbstractCoordinatorTest &amp;gt; testWakeupAfterSyncGroupReceivedExternalCompletion() FAILED&lt;br/&gt;
Gradle Test Run :metadata:unitTest &amp;gt; Gradle Test Executor 697 &amp;gt; QuorumControllerTest &amp;gt; testBootstrapZkMigrationRecord() FAILED&lt;br/&gt;
Gradle Test Run :metadata:unitTest &amp;gt; Gradle Test Executor 697 &amp;gt; QuorumControllerTest &amp;gt; testBalancePartitionLeaders() FAILED&lt;br/&gt;
Gradle Test Run :metadata:unitTest &amp;gt; Gradle Test Executor 697 &amp;gt; QuorumControllerTest &amp;gt; testBrokerHeartbeatDuringMigration(MetadataVersion) &amp;gt; &quot;testBrokerHeartbeatDuringMigration(MetadataVersion).metadataVersion=3.6-IV1&quot; FAILED&lt;br/&gt;
Gradle Test Run :clients:unitTest &amp;gt; Gradle Test Executor 703 &amp;gt; CooperativeConsumerCoordinatorTest &amp;gt; testOutdatedCoordinatorAssignment() FAILED&lt;br/&gt;
&amp;gt; Task :metadata:unitTest FAILED&lt;br/&gt;
&amp;gt; Task :clients:unitTest FAILED&lt;/p&gt;

&lt;p&gt;$ grep &apos; FAILED&apos; /tmp/unitTest2.txt&#160;&lt;br/&gt;
Gradle Test Run :clients:unitTest &amp;gt; Gradle Test Executor 1193 &amp;gt; AbstractCoordinatorTest &amp;gt; testWakeupAfterSyncGroupReceivedExternalCompletion() FAILED&lt;br/&gt;
Gradle Test Run :metadata:unitTest &amp;gt; Gradle Test Executor 1160 &amp;gt; QuorumControllerTest &amp;gt; testNoOpRecordWriteAfterTimeout() FAILED&lt;br/&gt;
&amp;gt; Task :metadata:unitTest FAILED&lt;br/&gt;
&amp;gt; Task :clients:unitTest FAILED&lt;/p&gt;

&lt;p&gt;$ grep &apos; FAILED&apos; /tmp/unitTest3.txt&#160;&lt;br/&gt;
Gradle Test Run :metadata:unitTest &amp;gt; Gradle Test Executor 1511 &amp;gt; QuorumControllerTest &amp;gt; testInsertBootstrapRecordsToEmptyLog() FAILED&lt;br/&gt;
&amp;gt; Task :metadata:unitTest FAILED&lt;br/&gt;
Gradle Test Run :clients:unitTest &amp;gt; Gradle Test Executor 1582 &amp;gt; Tls13SelectorTest &amp;gt; testCloseOldestConnection() FAILED&lt;br/&gt;
Gradle Test Run :clients:unitTest &amp;gt; Gradle Test Executor 1611 &amp;gt; KafkaConsumerTest &amp;gt; testMissingOffsetNoResetPolicy(GroupProtocol) &amp;gt; &quot;testMissingOffsetNoResetPolicy(GroupProtocol).groupProtocol=CONSUMER&quot; FAILED&lt;br/&gt;
&amp;gt; Task :clients:unitTest FAILED&lt;/p&gt;</comment>
                            <comment id="17878602" author="JIRAUSER306759" created="Mon, 2 Sep 2024 15:05:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/kafka/pull/17038&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/17038&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17882741" author="JIRAUSER306759" created="Wed, 18 Sep 2024 15:12:10 +0000"  >&lt;p&gt;Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gharris1727&quot; class=&quot;user-hover&quot; rel=&quot;gharris1727&quot;&gt;gharris1727&lt;/a&gt;! I have pushed a fix since your last review, could you check it? Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13587486">KAFKA-17232</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13529792">KAFKA-14837</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13071208" name="image-2024-08-31-15-47-14-066.png" size="20855" author="joaopedrofonseca" created="Sat, 31 Aug 2024 18:47:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qmnc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>