<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:00:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-5075] Defer exception to the next pollOnce() if consumer&apos;s fetch position has already increased</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-5075</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;In Fetcher.fetchRecords() we iterate over the partition data to collect the ConsumerRecords, after we collect some consumer records from a partition, we advance the position of that partition then move on to the next partition. If the next partition throws exceptions (e.g. OffsetOutOfRangeException), the messages that have already been read out of the buffer will not be delivered to the users. Since the positions of the previous partitions have been be updated, those messages will not be consumed again either.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13064173">KAFKA-5075</key>
            <summary>Defer exception to the next pollOnce() if consumer&apos;s fetch position has already increased</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lindong">Dong Lin</assignee>
                                    <reporter username="becket_qin">Jiangjie Qin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Apr 2017 23:35:22 +0000</created>
                <updated>Wed, 19 Apr 2017 15:14:50 +0000</updated>
                            <resolved>Wed, 19 Apr 2017 15:14:50 +0000</resolved>
                                    <version>0.10.2.0</version>
                                    <fixVersion>0.10.2.1</fixVersion>
                    <fixVersion>0.11.0.0</fixVersion>
                                    <component>clients</component>
                    <component>consumer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15969681" author="gwenshap" created="Fri, 14 Apr 2017 23:42:48 +0000"  >&lt;p&gt;I changed the fixVersion since this isn&apos;t marked as a blocker and we already have an RC for 0.10.2.1.&lt;/p&gt;

&lt;p&gt;If you think this is a blocker, please mark it as blocker and respond to the VOTE thread for 0.10.2.1 so we&apos;ll know we need to stop the vote.&lt;br/&gt;
Is this issue new to 0.10.2 or did it exist in earlier releases too?&lt;/p&gt;</comment>
                            <comment id="15969699" author="becket_qin" created="Sat, 15 Apr 2017 00:10:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt; I was actually about to reply on the 0.10.2.1-RC1 mail thread &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; This is an issue since 0.10.1. So it is not something new. The reason I set it to 0.10.2.1 is that it may cause data loss. That said I am also fine to leave the fix to 0.11.0 given the issue has been there for a while. &lt;/p&gt;</comment>
                            <comment id="15969719" author="gwenshap" created="Sat, 15 Apr 2017 00:38:13 +0000"  >&lt;p&gt;I don&apos;t mind doing another RC, since I agree data loss is serious. However, I don&apos;t want to delay a bugfix release that already has good bug fixes in it.&lt;/p&gt;

&lt;p&gt;When do you think you&apos;ll have the patch merged?&lt;/p&gt;</comment>
                            <comment id="15969730" author="becket_qin" created="Sat, 15 Apr 2017 00:43:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lindong&quot; class=&quot;user-hover&quot; rel=&quot;lindong&quot;&gt;lindong&lt;/a&gt; is currently working on the patch. Hopefully we can check that in this weekend. &lt;/p&gt;</comment>
                            <comment id="15969764" author="gwenshap" created="Sat, 15 Apr 2017 01:18:31 +0000"  >&lt;p&gt;Cool. I&apos;ll check back on Monday.&lt;/p&gt;</comment>
                            <comment id="15970219" author="githubbot" created="Sun, 16 Apr 2017 01:15:50 +0000"  >&lt;p&gt;GitHub user lindong28 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2859&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2859&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5075&quot; title=&quot;Defer exception to the next pollOnce() if consumer&amp;#39;s fetch position has already increased&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5075&quot;&gt;&lt;del&gt;KAFKA-5075&lt;/del&gt;&lt;/a&gt;; Defer exception to the next pollOnce() if consumer&apos;s fetch position has already increased&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/lindong28/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/lindong28/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5075&quot; title=&quot;Defer exception to the next pollOnce() if consumer&amp;#39;s fetch position has already increased&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5075&quot;&gt;&lt;del&gt;KAFKA-5075&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2859.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2859.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2859&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a0d358396c94c6252790920fc80d42d60caf6289&lt;br/&gt;
Author: Dong Lin &amp;lt;lindong28@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-04-15T22:42:26Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5075&quot; title=&quot;Defer exception to the next pollOnce() if consumer&amp;#39;s fetch position has already increased&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5075&quot;&gt;&lt;del&gt;KAFKA-5075&lt;/del&gt;&lt;/a&gt;; Defer exception to the next pollOnce() if consumer&apos;s fetch position has already increased&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15970727" author="githubbot" created="Mon, 17 Apr 2017 06:24:30 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2859&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2859&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15970771" author="becket_qin" created="Mon, 17 Apr 2017 07:34:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt; The patch has been checked in. Thanks for the patience and keeping an eye on this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15971565" author="hachikuji" created="Mon, 17 Apr 2017 19:58:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=becket_qin&quot; class=&quot;user-hover&quot; rel=&quot;becket_qin&quot;&gt;becket_qin&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lindong&quot; class=&quot;user-hover&quot; rel=&quot;lindong&quot;&gt;lindong&lt;/a&gt; Seems like this is worth fixing in  0.10.2 bug fix release. Were you guys planning to push the fix to 0.10.2 as well?&lt;/p&gt;</comment>
                            <comment id="15971639" author="becket_qin" created="Mon, 17 Apr 2017 20:53:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hachikuji&quot; class=&quot;user-hover&quot; rel=&quot;hachikuji&quot;&gt;hachikuji&lt;/a&gt; I also think it is worth fixing. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt; I&apos;ll cherry-pick the fix to 0.10.2 branch if you don&apos;t mind having another RC.&lt;/p&gt;</comment>
                            <comment id="15971892" author="becket_qin" created="Tue, 18 Apr 2017 00:34:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hachikuji&quot; class=&quot;user-hover&quot; rel=&quot;hachikuji&quot;&gt;hachikuji&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gwenshap&quot; class=&quot;user-hover&quot; rel=&quot;gwenshap&quot;&gt;gwenshap&lt;/a&gt; I&apos;ve cherry-picked the patch to 0.10.2 branch after resolving some conflicts.&lt;/p&gt;</comment>
                            <comment id="15971898" author="hachikuji" created="Tue, 18 Apr 2017 00:38:31 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=becket_qin&quot; class=&quot;user-hover&quot; rel=&quot;becket_qin&quot;&gt;becket_qin&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="15974888" author="gwenshap" created="Wed, 19 Apr 2017 15:14:50 +0000"  >&lt;p&gt;Resolving so it will show up in 0.10.2.1 release notes&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3dnjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>