<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:23:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-9617] Replica Fetcher can mark partition as failed when max.message.bytes is changed</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-9617</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;There exists a race condition when changing the dynamic max.message.bytes config for a topic. A follower replica can replicate a message that is over that size after it processes the config change. When this happens, the replica fetcher catches the unexpected exception, marks the partition as failed and stops replicating it.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
06:38:46.596	Processing override &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; entityPath: topics/partition-1 with config: Map(max.message.bytes -&amp;gt; 512)

06:38:46.597	 [ReplicaFetcher replicaId=1, leaderId=3, fetcherId=0] Unexpected error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing data &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; partition partition-1 at offset 20964
org.apache.kafka.common.errors.RecordTooLargeException: The record batch size in the append to partition-1 is 3349 bytes which exceeds the maximum configured value of 512.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13288087">KAFKA-9617</key>
            <summary>Replica Fetcher can mark partition as failed when max.message.bytes is changed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chia7712">Chia-Ping Tsai</assignee>
                                    <reporter username="enether">Stanislav Kozlovski</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Thu, 27 Feb 2020 15:41:13 +0000</created>
                <updated>Sat, 16 May 2020 17:05:41 +0000</updated>
                            <resolved>Sat, 16 May 2020 17:05:37 +0000</resolved>
                                                    <fixVersion>2.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17067347" author="showuon" created="Thu, 26 Mar 2020 04:26:56 +0000"  >&lt;p&gt;I can take this if no one else is looking at this issue. Please let me know, and help to assign to me. Thanks.&lt;/p&gt;</comment>
                            <comment id="17088692" author="enether" created="Tue, 21 Apr 2020 13:32:10 +0000"  >&lt;p&gt;Feel free to assign yourself &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=showuon&quot; class=&quot;user-hover&quot; rel=&quot;showuon&quot;&gt;showuon&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="17103346" author="chia7712" created="Sat, 9 May 2020 15:44:28 +0000"  >&lt;p&gt;Should we skip the limit when the fetch is run by follower replica since the &quot;larger&quot; batch was accepted by leader ?&lt;/p&gt;</comment>
                            <comment id="17103396" author="ijuma" created="Sat, 9 May 2020 17:55:55 +0000"  >&lt;p&gt;Yeah, I think that&apos;s reasonable. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=showuon&quot; class=&quot;user-hover&quot; rel=&quot;showuon&quot;&gt;showuon&lt;/a&gt;&#160;are you working on this?&lt;/p&gt;</comment>
                            <comment id="17103768" author="showuon" created="Sun, 10 May 2020 12:07:25 +0000"  >&lt;p&gt;No, I haven&apos;t started to work on this. Go ahead to take it. Thanks.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17103798" author="chia7712" created="Sun, 10 May 2020 13:35:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ijuma&quot; class=&quot;user-hover&quot; rel=&quot;ijuma&quot;&gt;ijuma&lt;/a&gt;&#160;Could I take over this ticket?&lt;/p&gt;</comment>
                            <comment id="17104946" author="guozhang" created="Mon, 11 May 2020 22:40:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chia7712&quot; class=&quot;user-hover&quot; rel=&quot;chia7712&quot;&gt;chia7712&lt;/a&gt; sure! I&apos;ve just assigned the ticket to you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=showuon&quot; class=&quot;user-hover&quot; rel=&quot;showuon&quot;&gt;showuon&lt;/a&gt; and us can help review it.&lt;/p&gt;</comment>
                            <comment id="17105630" author="chia7712" created="Tue, 12 May 2020 17:37:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guozhang&quot; class=&quot;user-hover&quot; rel=&quot;guozhang&quot;&gt;guozhang&lt;/a&gt;&#160;thanks!&lt;/p&gt;</comment>
                            <comment id="17106843" author="chia7712" created="Thu, 14 May 2020 03:38:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/kafka/pull/8659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/8659&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0byts:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>