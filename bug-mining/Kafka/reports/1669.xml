<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:03:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-5735] Client-ids are not handled consistently by clients and broker</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-5735</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;At the moment, Java clients expect client-ids to use a limited set of characters so that they can be used without quoting in metrics. kafka-configs.sh allows quotas to be defined only for that limited set. But the broker does not validate client-ids. And the documentation does not mention any limitations. Existing non-Java clients do not place any restrictions on client-ids and hence introducing restrictions on the broker-side now will be a breaking change. So we should allow any characters and treat them consistently in the same way as we handle user principals.&lt;/p&gt;

&lt;p&gt;Changes required:&lt;br/&gt;
1. Client-id in metrics should be sanitized using URL-encoding similar to the encoding used for user principal in quota metrics. This leaves metrics for client-ids using the current limited set of characters as-is, but will allow arbitrary characters in encoded form. To avoid sanitizing multiple times and to avoid unsanitized ids being used by mistake in some metrics, it may be better to introduce a ClientId class that stores the sanitized id and uses appropriate methods to retrieve the id for metrics etc.&lt;br/&gt;
2. Quota metrics and sensors as well as ZooKeeper quota configuration paths should use sanitized ids for client-ids (they already do for user principal).&lt;br/&gt;
3. Remove client-id validation in kafka-configs.sh and allow any characters for client-id similar to usernames, URL-encoding the names to generate ZK path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13094743">KAFKA-5735</key>
            <summary>Client-ids are not handled consistently by clients and broker</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mimaison">Mickael Maison</assignee>
                                    <reporter username="rsivaram">Rajini Sivaram</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Aug 2017 12:09:56 +0000</created>
                <updated>Thu, 21 Sep 2017 20:18:55 +0000</updated>
                            <resolved>Thu, 21 Sep 2017 20:17:43 +0000</resolved>
                                    <version>0.11.0.0</version>
                                    <fixVersion>1.0.0</fixVersion>
                                    <component>clients</component>
                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16172099" author="githubbot" created="Tue, 19 Sep 2017 18:00:48 +0000"  >&lt;p&gt;GitHub user mimaison opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3906&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3906&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5735&quot; title=&quot;Client-ids are not handled consistently by clients and broker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5735&quot;&gt;&lt;del&gt;KAFKA-5735&lt;/del&gt;&lt;/a&gt;: KIP-190: Handle client-ids consistently&lt;/p&gt;

&lt;p&gt;    Developed with @edoardocomar &lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mimaison/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mimaison/kafka&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5735&quot; title=&quot;Client-ids are not handled consistently by clients and broker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5735&quot;&gt;&lt;del&gt;KAFKA-5735&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3906.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3906.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3906&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 274e52db0f800785d485c01280b03632eac8c2b6&lt;br/&gt;
Author: Mickael Maison &amp;lt;mickael.maison@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-09-16T13:00:05Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-5735&quot; title=&quot;Client-ids are not handled consistently by clients and broker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-5735&quot;&gt;&lt;del&gt;KAFKA-5735&lt;/del&gt;&lt;/a&gt;: KIP-190: Handle client-ids consistently&lt;/p&gt;

&lt;p&gt;    Developed with @edoardocomar&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16175391" author="rsivaram" created="Thu, 21 Sep 2017 20:17:43 +0000"  >&lt;p&gt;Issue resolved by pull request 3906&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/3906&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3906&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16175393" author="githubbot" created="Thu, 21 Sep 2017 20:18:55 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3906&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3906&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 8 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3isxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>