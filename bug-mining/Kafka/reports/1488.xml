<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 17:01:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[KAFKA-4714] Implement remaining KIP-66 SMTs</title>
                <link>https://issues.apache.org/jira/browse/KAFKA-4714</link>
                <project id="12311720" key="KAFKA">Kafka</project>
                    <description>&lt;p&gt;Three didn&apos;t make it for the 0.10.2.0 release: Flatten, Cast, and TimestampConverter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13038949">KAFKA-4714</key>
            <summary>Implement remaining KIP-66 SMTs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ewencp">Ewen Cheslack-Postava</assignee>
                                    <reporter username="ewencp">Ewen Cheslack-Postava</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jan 2017 17:51:22 +0000</created>
                <updated>Wed, 20 Sep 2017 17:04:11 +0000</updated>
                            <resolved>Wed, 17 May 2017 06:07:58 +0000</resolved>
                                                    <fixVersion>0.11.0.0</fixVersion>
                                    <component>connect</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16011773" author="githubbot" created="Tue, 16 May 2017 05:40:12 +0000"  >&lt;p&gt;GitHub user ewencp opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3065&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4714&quot; title=&quot;Implement remaining KIP-66 SMTs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4714&quot;&gt;&lt;del&gt;KAFKA-4714&lt;/del&gt;&lt;/a&gt;: TimestampConverter transformation (KIP-66)&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ewencp/kafka&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ewencp/kafka&lt;/a&gt; kafka-3209-timestamp-converter&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3065.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3065.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3065&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit dbb85346d9ca9a09648832ea95c262dfd1021588&lt;br/&gt;
Author: Ewen Cheslack-Postava &amp;lt;me@ewencp.org&amp;gt;&lt;br/&gt;
Date:   2017-01-27T07:26:02Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4714&quot; title=&quot;Implement remaining KIP-66 SMTs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4714&quot;&gt;&lt;del&gt;KAFKA-4714&lt;/del&gt;&lt;/a&gt;: KIP-66: Flatten and Cast single message transforms&lt;/p&gt;

&lt;p&gt;commit 386978ac4b527eb0c80b66cbada5c6da679433b3&lt;br/&gt;
Author: Ewen Cheslack-Postava &amp;lt;me@ewencp.org&amp;gt;&lt;br/&gt;
Date:   2017-01-27T17:58:26Z&lt;/p&gt;

&lt;p&gt;    Update list of transformations in documentation class.&lt;/p&gt;

&lt;p&gt;commit 16a836d1142f1a642c3bbced93aaa2ae0dee4b68&lt;br/&gt;
Author: Ewen Cheslack-Postava &amp;lt;me@ewencp.org&amp;gt;&lt;br/&gt;
Date:   2017-01-28T04:53:49Z&lt;/p&gt;

&lt;p&gt;    Handle null values for optional fields in Flatten transformation.&lt;/p&gt;

&lt;p&gt;commit ad92662e257d652fad4224b2ac85e4428946734d&lt;br/&gt;
Author: Ewen Cheslack-Postava &amp;lt;me@ewencp.org&amp;gt;&lt;br/&gt;
Date:   2017-05-14T22:47:13Z&lt;/p&gt;

&lt;p&gt;    Address review comments and checkstyle issues&lt;/p&gt;

&lt;p&gt;commit 7b234982f99a612b7ca03a088aa8a28b2be8e38f&lt;br/&gt;
Author: Ewen Cheslack-Postava &amp;lt;me@ewencp.org&amp;gt;&lt;br/&gt;
Date:   2017-05-15T02:00:39Z&lt;/p&gt;

&lt;p&gt;    Make Flatten transformation handle optionality and default values from ancestors&lt;/p&gt;

&lt;p&gt;commit 9eafd31a8471b96208a1cb3bf6bcd568b15c3839&lt;br/&gt;
Author: Ewen Cheslack-Postava &amp;lt;me@ewencp.org&amp;gt;&lt;br/&gt;
Date:   2017-05-15T17:26:50Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/KAFKA-4714&quot; title=&quot;Implement remaining KIP-66 SMTs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KAFKA-4714&quot;&gt;&lt;del&gt;KAFKA-4714&lt;/del&gt;&lt;/a&gt;: KIP-66: TimestampConverter single message transform&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16013581" author="hachikuji" created="Wed, 17 May 2017 06:07:58 +0000"  >&lt;p&gt;Issue resolved by pull request 2458&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/kafka/pull/2458&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2458&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16013584" author="githubbot" created="Wed, 17 May 2017 06:08:58 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/2458&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/2458&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16017806" author="githubbot" created="Fri, 19 May 2017 18:29:24 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/kafka/pull/3065&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/kafka/pull/3065&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16169907" author="dhananjaydp" created="Mon, 18 Sep 2017 11:28:38 +0000"  >&lt;p&gt;Currently on the sink side, transformations are applied  before consuming record.&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;For sink connectors, transformations are applied on the collection of SinkRecord before being provided to SinkTask.put().&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;Is it possible to get original ConnectRecord object in consumer task?&lt;br/&gt;
If this is not available then ,can we preserve original message or is it possible to add support for post &quot;SinkTask.put()&quot; transformation? &lt;/p&gt;</comment>
                            <comment id="16170244" author="ewencp" created="Mon, 18 Sep 2017 16:24:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dhananjaydp&quot; class=&quot;user-hover&quot; rel=&quot;dhananjaydp&quot;&gt;dhananjaydp&lt;/a&gt; The record is maintained internally, but it is not exposed to the connector. It&apos;s somewhat counter to the point of SMTs since in some cases you may be trying to do things like remove PII, in which case you definitely don&apos;t want to give the connector task a chance to see that data.&lt;/p&gt;

&lt;p&gt;Regarding support for a transformation after SinkTask.put(), that doesn&apos;t really make sense since the whole point of put() is that it passes the data to the task to be written to the external system &amp;#8211; not only is the message in a different system, it&apos;s likely been converted to some native format for that system and is no longer in Connect&apos;s data API format.&lt;/p&gt;

&lt;p&gt;Is there a reason you want the original value in the task? Can you describe your use case?&lt;/p&gt;</comment>
                            <comment id="16171189" author="dhananjaydp" created="Tue, 19 Sep 2017 06:42:09 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ewencp&quot; class=&quot;user-hover&quot; rel=&quot;ewencp&quot;&gt;ewencp&lt;/a&gt; for quick reply.&lt;/p&gt;

&lt;p&gt;I have a use case, wherein I need to map incoming raw message to standard format and persist, as well as persist raw message as is.&lt;br/&gt;
Converting from raw message to standard format message is not always guaranteed, but I still need to persist raw message.&lt;/p&gt;

&lt;p&gt;I understand I can write multiple consumer to same topic, 1 consumer will persist  raw messages as is and other will transform raw message into standard format and persist.&lt;/p&gt;

&lt;p&gt;Just wanted to know, is there way I can do it as a single consumer through SMT.&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;The record is maintained internally, but it is not exposed to the connector&lt;/cite&gt;&lt;br/&gt;
Is there a possibility to expose raw message based on configuration of SMT?&lt;/p&gt;</comment>
                            <comment id="16173506" author="ewencp" created="Wed, 20 Sep 2017 17:04:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dhananjaydp&quot; class=&quot;user-hover&quot; rel=&quot;dhananjaydp&quot;&gt;dhananjaydp&lt;/a&gt; You cannot do that with SMTs, you would need to define two connectors as you describe. The KIP probably could have included some more information about why. Your use case is really a special case of the more general problem of a single record generating multiple outputs, with some of those outputs possibly transformed in some way. Supporting this would significantly complicate the system, in ways that it would be difficult to provide the guarantees we provide today (e.g. at-least once delivery). It messes with some core concepts in Connect, such as having unique (partition, offset) values for each message. Complex processing topologies like this are better suited to Kafka Streams, which was built just for that purpose.&lt;/p&gt;

&lt;p&gt;Note that you &lt;b&gt;can&lt;/b&gt; do this without SMTs if you write your own connector that can safely handle each message resulting in multiple writes to some output system. You could still use the transformations internally in that connector if you wanted to reuse the existing transformation code, they just wouldn&apos;t be configured via the standard mechanism in Connect.&lt;/p&gt;

&lt;p&gt;As for the specific use case of the original message, if someone made a strong case for it and a KIP describing how it would be implemented, sure. We&apos;re open to plenty of ideas about how to improve the framework.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39dlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>