diff --git a/components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfProducer.java b/components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfProducer.java
index 60fead6b6d6..2ee51ee17bf 100644
--- a/components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfProducer.java
+++ b/components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfProducer.java
@@ -89,15 +89,7 @@ public class CxfProducer extends DefaultProducer {
 
         boolean jsr181Enabled = CxfEndpointUtils.hasWebServiceAnnotation(serviceClass);
         cfb.setJSR181Enabled(jsr181Enabled);
-        dataFormat = CxfEndpointUtils.getDataFormat(endpoint);
-        if (dataFormat.equals(DataFormat.MESSAGE)) {
-            cfb.getFeatures().add(new MessageDataFormatFeature());
-            // features.add(new LoggingFeature());
-        } else if (dataFormat.equals(DataFormat.PAYLOAD)) {
-            cfb.getFeatures().add(new PayLoadDataFormatFeature());
-            // features.add(new LoggingFeature());
-        }
-
+        
         return createClientFromClientFactoryBean(cfb);
     }
 
@@ -153,6 +145,13 @@ public class CxfProducer extends DefaultProducer {
                 cfb.setWsdlURL(endpoint.getWsdlURL());
             }
         }
+        
+        if (dataFormat.equals(DataFormat.MESSAGE)) {
+            cfb.getFeatures().add(new MessageDataFormatFeature());
+        } else if (dataFormat.equals(DataFormat.PAYLOAD)) {
+            cfb.getFeatures().add(new PayLoadDataFormatFeature());
+        }
+        
         cfb.setBus(bus);
         return cfb.create();
     }
diff --git a/components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CXFGreeterRouterTest.java b/components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CXFGreeterRouterTest.java
index fbdb8a9cdca..0331076afa1 100644
--- a/components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CXFGreeterRouterTest.java
+++ b/components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CXFGreeterRouterTest.java
@@ -16,22 +16,18 @@
  */
 package org.apache.camel.component.cxf;
 
-import java.lang.reflect.UndeclaredThrowableException;
-
 import javax.xml.namespace.QName;
 import javax.xml.ws.Endpoint;
 import javax.xml.ws.Service;
 
-import org.springframework.context.support.AbstractXmlApplicationContext;
-import org.springframework.context.support.ClassPathXmlApplicationContext;
-
 import org.apache.camel.CamelContext;
 import org.apache.camel.spring.SpringCamelContext;
-import org.apache.camel.spring.processor.SpringTestHelper;
 import org.apache.cxf.jaxws.EndpointImpl;
 import org.apache.hello_world_soap_http.Greeter;
 import org.apache.hello_world_soap_http.GreeterImpl;
 import org.apache.hello_world_soap_http.NoSuchCodeLitFault;
+import org.springframework.context.support.AbstractXmlApplicationContext;
+import org.springframework.context.support.ClassPathXmlApplicationContext;
 
 public class CXFGreeterRouterTest extends CxfRouterTestSupport {
     protected AbstractXmlApplicationContext applicationContext;
diff --git a/components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfGreeterPayLoadWithFeatureRouterTest.java b/components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfGreeterPayLoadWithFeatureRouterTest.java
new file mode 100644
index 00000000000..4793b881cc8
--- /dev/null
+++ b/components/camel-cxf/src/test/java/org/apache/camel/component/cxf/CxfGreeterPayLoadWithFeatureRouterTest.java
@@ -0,0 +1,45 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.cxf;
+
+import org.apache.camel.CamelContext;
+import org.apache.camel.spring.processor.SpringTestHelper;
+
+/**
+ * The Greeter Payload mode test that is configured with CXF features.
+ */
+public class CxfGreeterPayLoadWithFeatureRouterTest  extends CXFGreeterRouterTest {
+
+    @Override
+    protected void setUp() throws Exception {
+        setUseRouteBuilder(false);
+        super.setUp();
+        
+        CxfEndpoint endpoint = getMandatoryEndpoint("cxf:bean:serviceEndpoint?dataFormat=PAYLOAD", 
+                CxfEndpoint.class);
+        
+        assertEquals(TestCxfFeature.class, endpoint.getCxfEndpointBean().getFeatures().get(0).getClass());
+        assertEquals(DataFormat.PAYLOAD.toString(), endpoint.getDataFormat());
+    }   
+    
+    @Override
+    protected CamelContext createCamelContext() throws Exception {
+        return SpringTestHelper.createSpringCamelContext(this, 
+                "org/apache/camel/component/cxf/GreeterEndpointWithFeatureBeans.xml");
+    }
+
+}
diff --git a/components/camel-cxf/src/test/java/org/apache/camel/component/cxf/TestCxfFeature.java b/components/camel-cxf/src/test/java/org/apache/camel/component/cxf/TestCxfFeature.java
new file mode 100644
index 00000000000..3e12238871a
--- /dev/null
+++ b/components/camel-cxf/src/test/java/org/apache/camel/component/cxf/TestCxfFeature.java
@@ -0,0 +1,23 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.cxf;
+
+import org.apache.cxf.feature.AbstractFeature;
+
+public class TestCxfFeature extends AbstractFeature {
+
+}
diff --git a/components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/GreeterEndpointWithFeatureBeans.xml b/components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/GreeterEndpointWithFeatureBeans.xml
new file mode 100644
index 00000000000..ef4762770bd
--- /dev/null
+++ b/components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/GreeterEndpointWithFeatureBeans.xml
@@ -0,0 +1,57 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+    Licensed to the Apache Software Foundation (ASF) under one or more
+    contributor license agreements.  See the NOTICE file distributed with
+    this work for additional information regarding copyright ownership.
+    The ASF licenses this file to You under the Apache License, Version 2.0
+    (the "License"); you may not use this file except in compliance with
+    the License.  You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing, software
+    distributed under the License is distributed on an "AS IS" BASIS,
+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+    See the License for the specific language governing permissions and
+    limitations under the License.
+-->
+<beans xmlns="http://www.springframework.org/schema/beans"
+       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+       xmlns:cxf="http://activemq.apache.org/camel/schema/cxfEndpoint"
+
+       xsi:schemaLocation="
+       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
+       http://activemq.apache.org/camel/schema/cxfEndpoint http://activemq.apache.org/camel/schema/cxfEndpoint/camel-cxf.xsd
+       http://activemq.apache.org/camel/schema/spring http://activemq.apache.org/camel/schema/spring/camel-spring.xsd
+    ">
+   <import resource="classpath:META-INF/cxf/cxf.xml"/>
+   <import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" />
+   <import resource="classpath:META-INF/cxf/cxf-extension-http-jetty.xml" />
+   <!-- Added the import for testing the CAMEL-329 -->
+
+   <cxf:cxfEndpoint id="routerEndpoint" address="http://localhost:9003/CamelContext/RouterPort"
+    		serviceClass="org.apache.hello_world_soap_http.GreeterImpl"/>
+ 
+
+   <cxf:cxfEndpoint id="serviceEndpoint" address="http://localhost:9000/SoapContext/SoapPort"
+    		wsdlURL="testutils/hello_world.wsdl"
+    		serviceClass="org.apache.hello_world_soap_http.Greeter"
+    		endpointName="s:SoapPort"
+    		serviceName="s:SOAPService"
+    	xmlns:s="http://apache.org/hello_world_soap_http">
+       <cxf:features>
+           <bean class="org.apache.camel.component.cxf.TestCxfFeature"/>
+       </cxf:features>
+   </cxf:cxfEndpoint>
+
+   <camelContext id="camel" xmlns="http://activemq.apache.org/camel/schema/spring">
+    <route errorHandlerRef="noErrorHandler">
+      <from uri="cxf:bean:routerEndpoint?dataFormat=PAYLOAD" />
+      <to uri="cxf:bean:serviceEndpoint?dataFormat=PAYLOAD" />
+    </route>
+   </camelContext>
+
+   <bean id="noErrorHandler" class="org.apache.camel.builder.NoErrorHandlerBuilder"/>
+
+</beans>
+
