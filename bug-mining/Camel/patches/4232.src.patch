diff --git a/camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java b/camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java
index 6d2c5a3a76b..236665e836a 100644
--- a/camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java
+++ b/camel-core/src/main/java/org/apache/camel/processor/aggregate/AggregateProcessor.java
@@ -346,16 +346,16 @@ public class AggregateProcessor extends ServiceSupport implements AsyncProcessor
             lock.lock();
             try {
                 aggregated = doAggregation(key, copy);
+                // we are completed so do that work outside the lock
+                if (aggregated != null) {
+                    for (Exchange agg : aggregated) {
+                        onSubmitCompletion(key, agg);
+                    }
+                }
             } finally {
                 lock.unlock();
             }
 
-            // we are completed so do that work outside the lock
-            if (aggregated != null) {
-                for (Exchange agg : aggregated) {
-                    onSubmitCompletion(key, agg);
-                }
-            }
         }
 
         // check for the special header to force completion of all groups (inclusive of the message)
