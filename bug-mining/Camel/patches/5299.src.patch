diff --git a/components/camel-activemq/src/main/java/org/apache/camel/component/activemq/ActiveMQConfiguration.java b/components/camel-activemq/src/main/java/org/apache/camel/component/activemq/ActiveMQConfiguration.java
index f9b6f85c29b..7c505f6e70c 100644
--- a/components/camel-activemq/src/main/java/org/apache/camel/component/activemq/ActiveMQConfiguration.java
+++ b/components/camel-activemq/src/main/java/org/apache/camel/component/activemq/ActiveMQConfiguration.java
@@ -141,23 +141,32 @@ public class ActiveMQConfiguration extends JmsConfiguration {
 
     @Override
     public void setConnectionFactory(ConnectionFactory connectionFactory) {
-        if (customBrokerURL) {
-            // okay a custom broker url was configured which we want to ensure
-            // the real target connection factory knows about
-            ConnectionFactory target = connectionFactory;
-            if (target instanceof CachingConnectionFactory) {
-                CachingConnectionFactory ccf = (CachingConnectionFactory) target;
-                target = ccf.getTargetConnectionFactory();
-            }
-            if (target instanceof DelegatingConnectionFactory) {
-                DelegatingConnectionFactory dcf = (DelegatingConnectionFactory) target;
-                target = dcf.getTargetConnectionFactory();
-            }
-            if (target instanceof ActiveMQConnectionFactory) {
-                ActiveMQConnectionFactory acf = (ActiveMQConnectionFactory) target;
+        ActiveMQConnectionFactory acf = null;
+
+        ConnectionFactory target = connectionFactory;
+        if (target instanceof CachingConnectionFactory) {
+            CachingConnectionFactory ccf = (CachingConnectionFactory) target;
+            target = ccf.getTargetConnectionFactory();
+        }
+        if (target instanceof DelegatingConnectionFactory) {
+            DelegatingConnectionFactory dcf = (DelegatingConnectionFactory) target;
+            target = dcf.getTargetConnectionFactory();
+        }
+        if (target instanceof ActiveMQConnectionFactory) {
+            acf = (ActiveMQConnectionFactory) target;
+        }
+
+        if (acf != null) {
+            if (customBrokerURL) {
+                // okay a custom broker url was configured which we want to ensure
+                // the real target connection factory knows about
                 acf.setBrokerURL(brokerURL);
+            } else {
+                // its the opposite the target has the brokerURL which we want to set on this
+                setBrokerURL(acf.getBrokerURL());
             }
         }
+
         super.setConnectionFactory(connectionFactory);
     }
 
diff --git a/components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java b/components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java
index 4cb33890a77..3103a3269f0 100644
--- a/components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java
+++ b/components/camel-jms/src/main/java/org/apache/camel/component/jms/JmsComponent.java
@@ -1009,7 +1009,7 @@ public class JmsComponent extends HeaderFilterStrategyComponent {
     // -------------------------------------------------------------------------
 
     @Override
-    protected void doStart() throws Exception {
+    protected void doInit() throws Exception {
         // only attempt to set connection factory if there is no transaction manager
         if (configuration.getConnectionFactory() == null && configuration.getOrCreateTransactionManager() == null && isAllowAutoWiredConnectionFactory()) {
             Set<ConnectionFactory> beans = getCamelContext().getRegistry().findByType(ConnectionFactory.class);
@@ -1034,6 +1034,8 @@ public class JmsComponent extends HeaderFilterStrategyComponent {
         if (getHeaderFilterStrategy() == null) {
             setHeaderFilterStrategy(new JmsHeaderFilterStrategy(configuration.isIncludeAllJMSXProperties()));
         }
+
+        super.doInit();
     }
 
     @Override
