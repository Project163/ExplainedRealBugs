diff --git a/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailComponent.java b/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailComponent.java
index 38b8f9f9689..9154818b7a1 100644
--- a/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailComponent.java
+++ b/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailComponent.java
@@ -32,7 +32,7 @@ import org.apache.camel.util.ObjectHelper;
 /**
  * Component for JavaMail.
  *
- * @version 
+ * @version
  */
 public class MailComponent extends UriEndpointComponent {
     private MailConfiguration configuration;
@@ -40,7 +40,6 @@ public class MailComponent extends UriEndpointComponent {
 
     public MailComponent() {
         super(MailEndpoint.class);
-        this.configuration = new MailConfiguration();
     }
 
     public MailComponent(MailConfiguration configuration) {
@@ -50,7 +49,6 @@ public class MailComponent extends UriEndpointComponent {
 
     public MailComponent(CamelContext context) {
         super(context, MailEndpoint.class);
-        this.configuration = new MailConfiguration();
     }
 
     @Override
@@ -58,8 +56,7 @@ public class MailComponent extends UriEndpointComponent {
         URI url = new URI(uri);
 
         // must use copy as each endpoint can have different options
-        ObjectHelper.notNull(configuration, "configuration");
-        MailConfiguration config = configuration.copy();
+        MailConfiguration config = getConfiguration().copy();
 
         // only configure if we have a url with a known protocol
         config.configure(url);
@@ -102,6 +99,9 @@ public class MailComponent extends UriEndpointComponent {
     }
 
     public MailConfiguration getConfiguration() {
+        if (configuration == null) {
+            configuration = new MailConfiguration(getCamelContext());
+        }
         return configuration;
     }
 
diff --git a/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java b/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java
index 7511e72ef7d..917f9c2520d 100644
--- a/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java
+++ b/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailConfiguration.java
@@ -20,10 +20,12 @@ import java.net.URI;
 import java.util.HashMap;
 import java.util.Map;
 import java.util.Properties;
+
 import javax.mail.Message;
 import javax.mail.Session;
 import javax.net.ssl.SSLContext;
 
+import org.apache.camel.CamelContext;
 import org.apache.camel.RuntimeCamelException;
 import org.apache.camel.spi.UriParam;
 import org.apache.camel.spi.UriParams;
@@ -33,10 +35,10 @@ import org.apache.camel.util.jsse.SSLContextParameters;
 /**
  * Represents the configuration data for communicating over email
  *
- * @version 
+ * @version
  */
 @UriParams
-public class MailConfiguration implements Cloneable {   
+public class MailConfiguration implements Cloneable {
 
     private JavaMailSender javaMailSender;
     private Properties javaMailProperties;
@@ -95,9 +97,14 @@ public class MailConfiguration implements Cloneable {
     private boolean peek = true;
     @UriParam
     private SSLContextParameters sslContextParameters;
+    private ClassLoader applicationClassLoader;
 
     public MailConfiguration() {
     }
+    
+    public MailConfiguration(CamelContext context) {
+        this.applicationClassLoader = context.getApplicationContextClassLoader();
+    }
 
     /**
      * Returns a copy of this configuration
@@ -173,11 +180,19 @@ public class MailConfiguration implements Cloneable {
         if (session != null) {
             answer.setSession(session);
         } else {
-            // use our authenticator that does no live user interaction but returns the already configured username and password
-            Session session = Session.getInstance(answer.getJavaMailProperties(), new DefaultAuthenticator(getUsername(), getPassword()));
-            // sets the debug mode of the underlying mail framework
-            session.setDebug(debugMode);
-            answer.setSession(session);
+            ClassLoader tccl = Thread.currentThread().getContextClassLoader();
+            try {
+                if (applicationClassLoader != null) {
+                    Thread.currentThread().setContextClassLoader(applicationClassLoader);
+                }
+                // use our authenticator that does no live user interaction but returns the already configured username and password
+                Session session = Session.getInstance(answer.getJavaMailProperties(), new DefaultAuthenticator(getUsername(), getPassword()));
+                // sets the debug mode of the underlying mail framework
+                session.setDebug(debugMode);
+                answer.setSession(session);
+            } finally {
+                Thread.currentThread().setContextClassLoader(tccl);
+            }
         }
 
         return answer;
@@ -420,7 +435,7 @@ public class MailConfiguration implements Cloneable {
     public Map<Message.RecipientType, String> getRecipients() {
         return recipients;
     }
-    
+
     public String getReplyTo() {
         return replyTo;
     }
diff --git a/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailProducer.java b/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailProducer.java
index b7d033cb83d..5eb5dc218c2 100644
--- a/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailProducer.java
+++ b/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailProducer.java
@@ -17,6 +17,7 @@
 package org.apache.camel.component.mail;
 
 import java.io.IOException;
+
 import javax.mail.MessagingException;
 import javax.mail.internet.MimeMessage;
 
@@ -38,7 +39,13 @@ public class MailProducer extends DefaultProducer {
     }
 
     public void process(final Exchange exchange) {
+        ClassLoader tccl = Thread.currentThread().getContextClassLoader();
         try {
+            ClassLoader applicationClassLoader = getEndpoint().getCamelContext().getApplicationContextClassLoader();
+            if (applicationClassLoader != null) {
+                Thread.currentThread().setContextClassLoader(applicationClassLoader);
+            }
+
             MimeMessage mimeMessage;
 
             final Object body = exchange.getIn().getBody();
@@ -60,6 +67,8 @@ public class MailProducer extends DefaultProducer {
             exchange.setException(e);
         } catch (IOException e) {
             exchange.setException(e);
+        } finally {
+            Thread.currentThread().setContextClassLoader(tccl);
         }
     }
 
