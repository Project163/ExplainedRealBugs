diff --git a/components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsComponent.java b/components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsComponent.java
index e9b9ebf4b81..4f6bbe6ac6c 100644
--- a/components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsComponent.java
+++ b/components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsComponent.java
@@ -89,11 +89,7 @@ public class SqsComponent extends DefaultComponent {
         if (configuration.isExtendMessageVisibility() && (configuration.getVisibilityTimeout() == null)) {
             throw new IllegalArgumentException("Extending message visibility (extendMessageVisibility) requires visibilityTimeout to be set on the Endpoint.");
         }
-        
-        if (configuration.isFifoQueue() && ObjectHelper.isEmpty(configuration.getMessageGroupIdStrategy())) {
-            throw new IllegalArgumentException("messageGroupIdStrategy must be set for FIFO queues.");
-        }
-        
+
         SqsEndpoint sqsEndpoint = new SqsEndpoint(uri, this, configuration);
         sqsEndpoint.setConsumerProperties(parameters);
         return sqsEndpoint;
diff --git a/components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsProducer.java b/components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsProducer.java
index 853b9d9acf9..3189d492442 100644
--- a/components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsProducer.java
+++ b/components/camel-aws/src/main/java/org/apache/camel/component/aws/sqs/SqsProducer.java
@@ -31,6 +31,7 @@ import org.apache.camel.Message;
 import org.apache.camel.NoFactoryAvailableException;
 import org.apache.camel.spi.HeaderFilterStrategy;
 import org.apache.camel.support.DefaultProducer;
+import org.apache.camel.util.ObjectHelper;
 import org.apache.camel.util.URISupport;
 
 import static org.apache.camel.component.aws.common.AwsExchangeUtil.getMessageForResponse;
@@ -45,6 +46,9 @@ public class SqsProducer extends DefaultProducer {
 
     public SqsProducer(SqsEndpoint endpoint) throws NoFactoryAvailableException {
         super(endpoint);
+        if (endpoint.getConfiguration().isFifoQueue() && ObjectHelper.isEmpty(getEndpoint().getConfiguration().getMessageGroupIdStrategy())) {
+            throw new IllegalArgumentException("messageGroupIdStrategy must be set for FIFO queues.");
+        }
     }
 
     public void process(Exchange exchange) throws Exception {
diff --git a/components/camel-aws/src/test/java/org/apache/camel/component/aws/sqs/SqsProducerTest.java b/components/camel-aws/src/test/java/org/apache/camel/component/aws/sqs/SqsProducerTest.java
index 62c786431dc..f919f6707a3 100644
--- a/components/camel-aws/src/test/java/org/apache/camel/component/aws/sqs/SqsProducerTest.java
+++ b/components/camel-aws/src/test/java/org/apache/camel/component/aws/sqs/SqsProducerTest.java
@@ -40,6 +40,8 @@ import static org.hamcrest.CoreMatchers.is;
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertNull;
 import static org.junit.Assert.assertThat;
+import static org.junit.Assert.assertTrue;
+import static org.junit.Assert.fail;
 import static org.mockito.ArgumentMatchers.any;
 import static org.mockito.Mockito.verify;
 import static org.mockito.Mockito.when;
@@ -70,28 +72,27 @@ public class SqsProducerTest {
     private Message outMessage;
     @Mock
     private Message inMessage;
-    
-    private SendMessageResult sendMessageResult;
+
     private SqsConfiguration sqsConfiguration;
     private SqsProducer underTest;
 
     @Before
     public void setup() throws Exception {
-        underTest = new SqsProducer(sqsEndpoint);
-        sendMessageResult = new SendMessageResult().withMD5OfMessageBody(MESSAGE_MD5).withMessageId(MESSAGE_ID);
         sqsConfiguration = new SqsConfiguration();
-        HeaderFilterStrategy headerFilterStrategy = new SqsHeaderFilterStrategy();
-        sqsConfiguration.setDelaySeconds(Integer.valueOf(0));
+        sqsConfiguration.setDelaySeconds( 0 );
         sqsConfiguration.setQueueName("queueName");
+        SendMessageResult sendMessageResult =
+            new SendMessageResult().withMD5OfMessageBody( MESSAGE_MD5 ).withMessageId( MESSAGE_ID );
+        when(amazonSQSClient.sendMessage(any(SendMessageRequest.class))).thenReturn( sendMessageResult );
         when(sqsEndpoint.getClient()).thenReturn(amazonSQSClient);
         when(sqsEndpoint.getConfiguration()).thenReturn(sqsConfiguration);
-        when(amazonSQSClient.sendMessage(any(SendMessageRequest.class))).thenReturn(sendMessageResult);
+        when(sqsEndpoint.getQueueUrl()).thenReturn(QUEUE_URL);
+        when(sqsEndpoint.getHeaderFilterStrategy()).thenReturn( new SqsHeaderFilterStrategy() );
         when(exchange.getIn()).thenReturn(inMessage);
         when(exchange.getPattern()).thenReturn(ExchangePattern.InOnly);
         when(exchange.getExchangeId()).thenReturn(SAMPLE_EXCHANGE_ID);
         when(inMessage.getBody(String.class)).thenReturn(SAMPLE_MESSAGE_BODY);
-        when(sqsEndpoint.getQueueUrl()).thenReturn(QUEUE_URL);
-        when(sqsEndpoint.getHeaderFilterStrategy()).thenReturn(headerFilterStrategy);
+        underTest = new SqsProducer(sqsEndpoint);
     }
 
     @Test
@@ -217,6 +218,19 @@ public class SqsProducerTest {
         
         assertEquals("CamelSingleMessageGroup", capture.getValue().getMessageGroupId());
     }
+
+    @Test
+    public void itFailsWhenFifoQueueAndNoMessageGroupIdStrategySet() {
+        try
+        {
+            sqsConfiguration.setQueueName( "queueName.fifo" );
+            SqsProducer invalidProducer = new SqsProducer(sqsEndpoint);
+
+            fail( "Should have thrown an exception" );
+        } catch(Exception e) {
+            assertTrue("Bad error message: " + e.getMessage(), e.getMessage().startsWith("messageGroupIdStrategy must be set for FIFO queues"));
+        }
+    }
     
     @Test
     public void itSetsMessageGroupIdUsingExchangeIdStrategy() throws Exception {
