diff --git a/core/camel-main/pom.xml b/core/camel-main/pom.xml
index f4f6c705e51..8f2cfc921d6 100644
--- a/core/camel-main/pom.xml
+++ b/core/camel-main/pom.xml
@@ -114,11 +114,6 @@
             <artifactId>camel-seda</artifactId>
             <scope>test</scope>
         </dependency>
-        <dependency>
-            <groupId>org.apache.camel</groupId>
-            <artifactId>camel-undertow</artifactId>
-            <scope>test</scope>
-        </dependency>
         <dependency>
             <groupId>org.apache.logging.log4j</groupId>
             <artifactId>log4j-slf4j-impl</artifactId>
diff --git a/core/camel-main/src/main/java/org/apache/camel/main/DefaultRoutesCollector.java b/core/camel-main/src/main/java/org/apache/camel/main/DefaultRoutesCollector.java
index bda912e408f..16e515c85ad 100644
--- a/core/camel-main/src/main/java/org/apache/camel/main/DefaultRoutesCollector.java
+++ b/core/camel-main/src/main/java/org/apache/camel/main/DefaultRoutesCollector.java
@@ -206,7 +206,7 @@ public class DefaultRoutesCollector implements RoutesCollector {
                 Set<InputStream> set = resolver.findResources(part);
                 for (InputStream is : set) {
                     log.debug("Found XML rest from location: {}", part);
-                    RestsDefinition rests = (RestsDefinition) ecc.getXMLRoutesDefinitionLoader().loadRestsDefinition(ecc, is);
+                    RestsDefinition rests = (RestsDefinition) ecc.getXMLRoutesDefinitionLoader().loadRoutesDefinition(ecc, is);
                     if (rests != null) {
                         answer.add(rests);
                         IOHelper.close(is);
diff --git a/core/camel-main/src/test/java/org/apache/camel/main/xml/MainXmlRestsTest.java b/core/camel-main/src/test/java/org/apache/camel/main/xml/MainXmlRestsTest.java
deleted file mode 100644
index 76f41cacc84..00000000000
--- a/core/camel-main/src/test/java/org/apache/camel/main/xml/MainXmlRestsTest.java
+++ /dev/null
@@ -1,99 +0,0 @@
-/*
- * Licensed to the Apache Software Foundation (ASF) under one or more
- * contributor license agreements.  See the NOTICE file distributed with
- * this work for additional information regarding copyright ownership.
- * The ASF licenses this file to You under the Apache License, Version 2.0
- * (the "License"); you may not use this file except in compliance with
- * the License.  You may obtain a copy of the License at
- *
- *      http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-package org.apache.camel.main.xml;
-
-import java.util.List;
-
-import org.apache.camel.CamelContext;
-import org.apache.camel.main.Main;
-import org.apache.camel.model.ModelCamelContext;
-import org.apache.camel.model.rest.GetVerbDefinition;
-import org.apache.camel.model.rest.RestDefinition;
-import org.apache.camel.model.rest.VerbDefinition;
-import org.junit.jupiter.api.Test;
-
-import static org.junit.jupiter.api.Assertions.assertEquals;
-import static org.junit.jupiter.api.Assertions.assertNotNull;
-import static org.junit.jupiter.api.Assertions.assertTrue;
-
-public class MainXmlRestsTest {
-
-    @Test
-    public void testMainRestsCollector() throws Exception {
-        // will load XML from target/classes when testing
-        doTestMain("org/apache/camel/main/xml/camel-rests.xml");
-    }
-
-    @Test
-    public void testMainRestsCollectorScan() throws Exception {
-        // will load XML from target/classes when testing
-        doTestMain("org/apache/camel/main/xml/camel-res*.xml");
-    }
-
-    @Test
-    public void testMainRestsCollectorScanWildcardDirClasspathPath() throws Exception {
-        // will load XML from target/classes when testing
-        doTestMain("org/apache/camel/main/**/camel-res*.xml");
-    }
-
-    @Test
-    public void testMainRestsCollectorScanClasspathPrefix() throws Exception {
-        // will load XML from target/classes when testing
-        doTestMain("classpath:org/apache/camel/main/xml/camel-res*.xml");
-    }
-
-    @Test
-    public void testMainRestsCollectorScanInDir() throws Exception {
-        doTestMain("file:src/test/resources/org/apache/camel/main/xml/camel-res*.xml");
-    }
-
-    @Test
-    public void testMainRestsCollectorScanWildcardDirFilePath() throws Exception {
-        doTestMain("file:src/test/resources/**/camel-res*.xml");
-    }
-
-    @Test
-    public void testMainRestsCollectorFile() throws Exception {
-        doTestMain(
-                "file:src/test/resources/org/apache/camel/main/xml/camel-rests.xml,");
-    }
-
-    protected void doTestMain(String xmlRests) throws Exception {
-        Main main = new Main();
-        main.configure().withXmlRests(xmlRests);
-        main.start();
-
-        CamelContext camelContext = main.getCamelContext();
-        assertNotNull(camelContext);
-
-        List<RestDefinition> restDefinitions = camelContext.adapt(ModelCamelContext.class).getRestDefinitions();
-        assertEquals(1, restDefinitions.size());
-
-        RestDefinition restDefinition = restDefinitions.get(0);
-        assertEquals("bar", restDefinition.getId());
-        assertEquals("/say/hello", restDefinition.getPath());
-
-        List<VerbDefinition> verbs = restDefinition.getVerbs();
-        assertNotNull(verbs);
-        assertEquals(1, verbs.size());
-
-        VerbDefinition verbDefinition = verbs.get(0);
-        assertTrue(verbDefinition instanceof GetVerbDefinition);
-
-        main.stop();
-    }
-}
diff --git a/core/camel-main/src/test/resources/org/apache/camel/main/xml/camel-rests.xml b/core/camel-main/src/test/resources/org/apache/camel/main/xml/camel-rests.xml
deleted file mode 100644
index 30a111acc25..00000000000
--- a/core/camel-main/src/test/resources/org/apache/camel/main/xml/camel-rests.xml
+++ /dev/null
@@ -1,26 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!--
-
-    Licensed to the Apache Software Foundation (ASF) under one or more
-    contributor license agreements.  See the NOTICE file distributed with
-    this work for additional information regarding copyright ownership.
-    The ASF licenses this file to You under the Apache License, Version 2.0
-    (the "License"); you may not use this file except in compliance with
-    the License.  You may obtain a copy of the License at
-
-         http://www.apache.org/licenses/LICENSE-2.0
-
-    Unless required by applicable law or agreed to in writing, software
-    distributed under the License is distributed on an "AS IS" BASIS,
-    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-    See the License for the specific language governing permissions and
-    limitations under the License.
-
--->
-<rests xmlns="http://camel.apache.org/schema/spring">
-    <rest id="bar" path="/say/hello">
-        <get uri="/bar">
-            <to uri="mock:bar"/>
-        </get>
-    </rest>
-</rests>
