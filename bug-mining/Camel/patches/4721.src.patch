diff --git a/components/camel-mqtt/src/test/java/org/apache/camel/component/mqtt/MQTTLoopProducerTest.java b/components/camel-mqtt/src/test/java/org/apache/camel/component/mqtt/MQTTLoopProducerTest.java
index e28e0e47b29..a58943013a8 100644
--- a/components/camel-mqtt/src/test/java/org/apache/camel/component/mqtt/MQTTLoopProducerTest.java
+++ b/components/camel-mqtt/src/test/java/org/apache/camel/component/mqtt/MQTTLoopProducerTest.java
@@ -22,6 +22,7 @@ import java.util.concurrent.TimeUnit;
 import org.apache.camel.Exchange;
 import org.apache.camel.Producer;
 import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.support.DefaultProducer;
 import org.fusesource.mqtt.client.BlockingConnection;
 import org.fusesource.mqtt.client.MQTT;
 import org.fusesource.mqtt.client.Message;
@@ -57,7 +58,7 @@ public class MQTTLoopProducerTest extends MQTTBaseTest {
         });
         thread.start();
 
-        Producer producer = context.getEndpoint("direct:foo").createProducer();
+        DefaultProducer producer = (DefaultProducer) context.getEndpoint("direct:foo").createProducer();
         for (int i = 0; i < numberOfMessages; i++) {
             Exchange exchange = producer.createExchange();
             exchange.getIn().setBody("test message " + i);
