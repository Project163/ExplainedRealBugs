diff --git a/components/camel-elasticsearch/src/main/java/org/apache/camel/component/elasticsearch/ElasticsearchEndpoint.java b/components/camel-elasticsearch/src/main/java/org/apache/camel/component/elasticsearch/ElasticsearchEndpoint.java
index 0077ce3e775..07ff1e0e9cf 100644
--- a/components/camel-elasticsearch/src/main/java/org/apache/camel/component/elasticsearch/ElasticsearchEndpoint.java
+++ b/components/camel-elasticsearch/src/main/java/org/apache/camel/component/elasticsearch/ElasticsearchEndpoint.java
@@ -93,6 +93,7 @@ public class ElasticsearchEndpoint extends DefaultEndpoint {
             if (!configuration.isLocal() && configuration.getClusterName() != null) {
                 builder.clusterName(configuration.getClusterName());
             }
+            builder.getSettings().classLoader(Settings.class.getClassLoader());
             node = builder.node();
             client = node.client();
         }
