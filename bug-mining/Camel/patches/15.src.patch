diff --git a/components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java b/components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java
index 9b3656406fd..09deba18217 100644
--- a/components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java
+++ b/components/camel-spring/src/main/java/org/apache/camel/spring/CamelContextFactoryBean.java
@@ -91,9 +91,9 @@ public class CamelContextFactoryBean extends IdentifiedType implements RouteCont
         getContext().addRouteDefinitions(routes);
 
         LOG.debug("Found JAXB created routes: " + getRoutes());
-        String[] names = applicationContext.getBeanNamesForType(SpringInstrumentationAgent.class);
+        String[] names = getApplicationContext().getBeanNamesForType(SpringInstrumentationAgent.class);
         if (names.length == 1) {
-            applicationContext.getBean(names[0], SpringInstrumentationAgent.class);
+            getApplicationContext().getBean(names[0], SpringInstrumentationAgent.class);
         }
         
         findRouteBuiders();
@@ -168,6 +168,9 @@ public class CamelContextFactoryBean extends IdentifiedType implements RouteCont
     }
 
     public ApplicationContext getApplicationContext() {
+        if (applicationContext == null) {
+            throw new IllegalArgumentException("No applicationContext has been injected!");
+        }
         return applicationContext;
     }
 
diff --git a/components/camel-spring/src/test/java/org/apache/camel/spring/CamelContextFactoryBeanTest.java b/components/camel-spring/src/test/java/org/apache/camel/spring/CamelContextFactoryBeanTest.java
index 0163d3d4991..f20c9d9d7ee 100644
--- a/components/camel-spring/src/test/java/org/apache/camel/spring/CamelContextFactoryBeanTest.java
+++ b/components/camel-spring/src/test/java/org/apache/camel/spring/CamelContextFactoryBeanTest.java
@@ -16,8 +16,6 @@
  */
 package org.apache.camel.spring;
 
-import java.util.List;
-
 import org.apache.camel.CamelContext;
 import org.apache.camel.Endpoint;
 import org.apache.camel.Processor;
@@ -26,9 +24,13 @@ import org.apache.camel.TestSupport;
 import org.apache.camel.impl.EventDrivenConsumerRoute;
 import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
-
+import org.springframework.beans.factory.xml.XmlBeanDefinitionReader;
 import org.springframework.context.ApplicationContext;
 import org.springframework.context.support.ClassPathXmlApplicationContext;
+import org.springframework.context.support.GenericApplicationContext;
+import org.springframework.core.io.ClassPathResource;
+
+import java.util.List;
 
 /**
  * @version $Revision$
@@ -50,6 +52,18 @@ public class CamelContextFactoryBeanTest extends TestSupport {
         assertValidContext(context);
     }
 
+    public void testGenericApplicationContextUsingNamespaces() throws Exception {
+        GenericApplicationContext applicationContext = new GenericApplicationContext();
+        XmlBeanDefinitionReader xmlReader = new XmlBeanDefinitionReader(applicationContext);
+        xmlReader.loadBeanDefinitions(new ClassPathResource("org/apache/camel/spring/camelContextFactoryBean.xml"));
+
+        // lets refresh to inject the applicationContext into beans
+        applicationContext.refresh();
+        
+        CamelContext context = (CamelContext) applicationContext.getBean("camel3");
+        assertValidContext(context);
+    }
+
     protected void assertValidContext(CamelContext context) {
         assertNotNull("No context found!", context);
 
