diff --git a/camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java b/camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java
index 5201c3f2f59..622cfb078d7 100644
--- a/camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java
+++ b/camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java
@@ -18,8 +18,6 @@ package org.apache.camel.builder;
 
 import org.apache.camel.Processor;
 import org.apache.camel.processor.DefaultErrorHandler;
-import org.apache.camel.processor.ErrorHandlerSupport;
-import org.apache.camel.processor.exceptionpolicy.ExceptionPolicyStrategy;
 import org.apache.camel.spi.RouteContext;
 
 /**
diff --git a/camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java b/camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java
index fabbc15976c..8314bec4ab6 100644
--- a/camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java
+++ b/camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java
@@ -127,7 +127,6 @@ public abstract class DefaultEndpoint implements Endpoint, CamelContextAware {
      * Converts the given exchange to the specified exchange type
      */
     public Exchange convertTo(Class<Exchange> type, Exchange exchange) {
-        // TODO we could infer type parameter
         if (type.isInstance(exchange)) {
             return type.cast(exchange);
         }
diff --git a/camel-core/src/main/java/org/apache/camel/impl/DefaultRouteContext.java b/camel-core/src/main/java/org/apache/camel/impl/DefaultRouteContext.java
index 72e296e4c90..0900109f7c7 100644
--- a/camel-core/src/main/java/org/apache/camel/impl/DefaultRouteContext.java
+++ b/camel-core/src/main/java/org/apache/camel/impl/DefaultRouteContext.java
@@ -141,6 +141,8 @@ public class DefaultRouteContext implements RouteContext {
 
             // lets create the async processor
             final AsyncProcessor asyncProcessor = AsyncProcessorTypeConverter.convert(processor);
+            // and wrap it in a unit of work so the UoW is on the top, so the entire route
+            // will be in the same UoW
             Processor unitOfWorkProcessor = new UnitOfWorkProcessor(asyncProcessor);
 
             // TODO: hz: move all this into the lifecycle strategy! (used by jmx naming strategy)
diff --git a/camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java b/camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java
index c6068c3c522..bc6fa50e199 100644
--- a/camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java
+++ b/camel-core/src/main/java/org/apache/camel/management/InstrumentationLifecycleStrategy.java
@@ -268,7 +268,7 @@ public class InstrumentationLifecycleStrategy implements LifecycleStrategy {
             // add exception handlers as top children
             routeType.getOutputs().addAll(exceptionHandlers);
 
-            // add an interceptor
+            // add an interceptor to instrument the route
             InstrumentationProcessor processor = new InstrumentationProcessor();
             routeType.intercept(processor);
 
diff --git a/camel-core/src/main/java/org/apache/camel/management/InstrumentationProcessor.java b/camel-core/src/main/java/org/apache/camel/management/InstrumentationProcessor.java
index 0b1e8d7898a..7c70261a9b8 100644
--- a/camel-core/src/main/java/org/apache/camel/management/InstrumentationProcessor.java
+++ b/camel-core/src/main/java/org/apache/camel/management/InstrumentationProcessor.java
@@ -44,7 +44,7 @@ public class InstrumentationProcessor extends DelegateProcessor implements Async
     
     @Override
     public String toString() {
-        return "Instrumentation(" + processor + ")";
+        return "Instrumentation[" + processor + "]";
     }
 
     public void setCounter(PerformanceCounter counter) {
diff --git a/camel-core/src/main/java/org/apache/camel/model/MarshalDefinition.java b/camel-core/src/main/java/org/apache/camel/model/MarshalDefinition.java
index 3c977e83a03..4062d94999d 100644
--- a/camel-core/src/main/java/org/apache/camel/model/MarshalDefinition.java
+++ b/camel-core/src/main/java/org/apache/camel/model/MarshalDefinition.java
@@ -51,8 +51,7 @@ import org.apache.camel.spi.RouteContext;
 public class MarshalDefinition extends OutputDefinition<ProcessorDefinition> {
     @XmlAttribute(required = false)
     private String ref;
-    // TODO cannot use @XmlElementRef as it doesn't allow optional properties
-    // @XmlElementRef
+    // cannot use @XmlElementRef as it doesn't allow optional properties
     @XmlElements({
     @XmlElement(required = false, name = "artixDS", type = ArtixDSDataFormat.class),
     @XmlElement(required = false, name = "csv", type = CsvDataFormat.class),
diff --git a/camel-core/src/main/java/org/apache/camel/model/PolicyDefinition.java b/camel-core/src/main/java/org/apache/camel/model/PolicyDefinition.java
index a8489d27a06..61a154be2e3 100644
--- a/camel-core/src/main/java/org/apache/camel/model/PolicyDefinition.java
+++ b/camel-core/src/main/java/org/apache/camel/model/PolicyDefinition.java
@@ -16,7 +16,6 @@
  */
 package org.apache.camel.model;
 
-import java.util.Map;
 import javax.xml.bind.annotation.XmlAccessType;
 import javax.xml.bind.annotation.XmlAccessorType;
 import javax.xml.bind.annotation.XmlAttribute;
@@ -26,7 +25,6 @@ import javax.xml.bind.annotation.XmlTransient;
 import org.apache.camel.Processor;
 import org.apache.camel.spi.Policy;
 import org.apache.camel.spi.RouteContext;
-import org.apache.camel.spi.TransactedPolicy;
 import org.apache.camel.util.ObjectHelper;
 
 /**
@@ -40,8 +38,6 @@ public class PolicyDefinition extends OutputDefinition<ProcessorDefinition> {
 
     // TODO: Align this code with TransactedDefinition
 
-    @XmlTransient
-    public static final String PROPAGATION_REQUIRED = "PROPAGATION_REQUIRED";
     @XmlTransient
     protected Class<? extends Policy> type;
     @XmlAttribute(required = true)
@@ -121,36 +117,6 @@ public class PolicyDefinition extends OutputDefinition<ProcessorDefinition> {
         return policy.wrap(routeContext, childProcessor);
     }
 
-    protected Policy resolvePolicy(RouteContext routeContext) {
-        if (policy == null) {
-            // try ref first
-            String ref = getRef();
-            if (ObjectHelper.isNotEmpty(ref)) {
-                policy = routeContext.lookup(ref, Policy.class);
-            }
-
-            // try to lookup by scoped type
-            if (policy == null && type != null) {
-                // try find by type, note that this method is not supported by all registry
-                Map types = routeContext.lookupByType(type);
-                if (types.size() == 1) {
-                    // only one policy defined so use it
-                    Object found = types.values().iterator().next();
-                    if (type.isInstance(found)) {
-                        return type.cast(found);
-                    }
-                }
-            }
-
-            // for transacted routing try the default REQUIRED name
-            if (policy == null && type == TransactedPolicy.class) {
-                // still not found try with the default name PROPAGATION_REQUIRED
-                policy = routeContext.lookup(PROPAGATION_REQUIRED, TransactedPolicy.class);
-            }
-        }
-        return policy;
-    }
-
     protected String description() {
         if (policy != null) {
             return policy.toString();
@@ -158,4 +124,13 @@ public class PolicyDefinition extends OutputDefinition<ProcessorDefinition> {
             return "ref: " + ref;
         }
     }
+
+    protected Policy resolvePolicy(RouteContext routeContext) {
+        if (policy != null) {
+            return policy;
+        }
+        // reuse code on transacted definition to do the resolution
+        return TransactedDefinition.doResolvePolicy(routeContext, getRef(), type);
+    }
+
 }
diff --git a/camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java b/camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java
index 510ef85907d..9e317b975b0 100644
--- a/camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java
+++ b/camel-core/src/main/java/org/apache/camel/model/ProcessorDefinition.java
@@ -2040,6 +2040,7 @@ public abstract class ProcessorDefinition<Type extends ProcessorDefinition> exte
         CamelContext camelContext = routeContext.getCamelContext();
         strategies.addAll(camelContext.getInterceptStrategies());
         strategies.addAll(routeContext.getInterceptStrategies());
+        // TODO: Order the strategies, eg using Comparable so we can have Tracer near the real processor
         for (InterceptStrategy strategy : strategies) {
             if (strategy != null) {
                 target = strategy.wrapProcessorInInterceptors(this, target);
diff --git a/camel-core/src/main/java/org/apache/camel/model/TransactedDefinition.java b/camel-core/src/main/java/org/apache/camel/model/TransactedDefinition.java
index ce50338e4b5..aa19b6d6b94 100644
--- a/camel-core/src/main/java/org/apache/camel/model/TransactedDefinition.java
+++ b/camel-core/src/main/java/org/apache/camel/model/TransactedDefinition.java
@@ -16,6 +16,7 @@
  */
 package org.apache.camel.model;
 
+import java.lang.reflect.Method;
 import java.util.Map;
 import javax.xml.bind.annotation.XmlAccessType;
 import javax.xml.bind.annotation.XmlAccessorType;
@@ -24,10 +25,13 @@ import javax.xml.bind.annotation.XmlRootElement;
 import javax.xml.bind.annotation.XmlTransient;
 
 import org.apache.camel.Processor;
+import org.apache.camel.RuntimeCamelException;
 import org.apache.camel.spi.Policy;
 import org.apache.camel.spi.RouteContext;
 import org.apache.camel.spi.TransactedPolicy;
 import org.apache.camel.util.ObjectHelper;
+import org.apache.commons.logging.Log;
+import org.apache.commons.logging.LogFactory;
 
 /**
  * Represents an XML &lt;transacted/&gt; element
@@ -44,6 +48,9 @@ public class TransactedDefinition extends OutputDefinition<ProcessorDefinition>
     // if we extend PolicyDefinition so we must make a copy of the class
     @XmlTransient
     public static final String PROPAGATION_REQUIRED = "PROPAGATION_REQUIRED";
+
+    private static final transient Log LOG = LogFactory.getLog(TransactedDefinition.class);
+
     @XmlTransient
     protected Class<? extends Policy> type = TransactedPolicy.class;
     @XmlAttribute
@@ -123,41 +130,99 @@ public class TransactedDefinition extends OutputDefinition<ProcessorDefinition>
         return policy.wrap(routeContext, childProcessor);
     }
 
+
+    protected String description() {
+        if (policy != null) {
+            return policy.toString();
+        } else {
+            return "ref: " + ref;
+        }
+    }
+
     protected Policy resolvePolicy(RouteContext routeContext) {
-        if (policy == null) {
-            // try ref first
-            String ref = getRef();
-            if (ObjectHelper.isNotEmpty(ref)) {
-                policy = routeContext.lookup(ref, Policy.class);
-            }
+        if (policy != null) {
+            return policy;
+        }
+        return doResolvePolicy(routeContext, getRef(), type);
+    }
 
-            // try to lookup by scoped type
-            if (policy == null && type != null) {
-                // try find by type, note that this method is not supported by all registry
-                Map types = routeContext.lookupByType(type);
-                if (types.size() == 1) {
-                    // only one policy defined so use it
-                    Object found = types.values().iterator().next();
-                    if (type.isInstance(found)) {
-                        return type.cast(found);
-                    }
+    @SuppressWarnings("unchecked")
+    protected static Policy doResolvePolicy(RouteContext routeContext, String ref, Class<? extends Policy> type) {
+        Policy answer = null;
+
+        // try ref first
+        if (ObjectHelper.isNotEmpty(ref)) {
+            answer = routeContext.lookup(ref, Policy.class);
+        }
+
+        // try to lookup by scoped type
+        if (answer == null && type != null) {
+            // try find by type, note that this method is not supported by all registry
+            Map types = routeContext.lookupByType(type);
+            if (types.size() == 1) {
+                // only one policy defined so use it
+                Object found = types.values().iterator().next();
+                if (type.isInstance(found)) {
+                    return type.cast(found);
                 }
             }
+        }
 
-            // for transacted routing try the default REQUIRED name
-            if (policy == null && type == TransactedPolicy.class) {
-                // still not found try with the default name PROPAGATION_REQUIRED
-                policy = routeContext.lookup(PROPAGATION_REQUIRED, TransactedPolicy.class);
-            }
+        // for transacted routing try the default REQUIRED name
+        if (answer == null && type == TransactedPolicy.class) {
+            // still not found try with the default name PROPAGATION_REQUIRED
+            answer = routeContext.lookup(PROPAGATION_REQUIRED, TransactedPolicy.class);
         }
-        return policy;
-    }
 
-    protected String description() {
-        if (policy != null) {
-            return policy.toString();
-        } else {
-            return "ref: " + ref;
+        // no policy then try lookup the platform transaction manager and use it as policy
+        if (answer == null && type == TransactedPolicy.class) {
+            Class tmClazz = routeContext.getCamelContext().getClassResolver().resolveClass("org.springframework.transaction.PlatformTransactionManager");
+            if (tmClazz != null) {
+                // see if we can find the platform transaction manager in the registry
+                Map<String, Object> maps = routeContext.lookupByType(tmClazz);
+                if (maps.size() == 1) {
+                    // only one platform manager then use it as default and create a transacted
+                    // policy with it and default to required
+
+                    // as we do not want dependency on spring jars in the camel-core we use
+                    // reflection to lookup classes and create new objects and call methods
+                    // as this is only done during route building it does not matter that we
+                    // use reflection as performance is no a concern during route building
+                    Object transactionManager = maps.values().iterator().next();
+                    if (LOG.isDebugEnabled()) {
+                        LOG.debug("One instance of PlatformTransactionManager found in registry: " + transactionManager);
+                    }
+                    Class txClazz = routeContext.getCamelContext().getClassResolver().resolveClass("org.apache.camel.spring.spi.SpringTransactionPolicy");
+                    if (txClazz != null) {
+                        if (LOG.isDebugEnabled()) {
+                            LOG.debug("Creating a new temporary SpringTransactionPolicy using the PlatformTransactionManager: " + transactionManager);
+                        }
+                        TransactedPolicy txPolicy = ObjectHelper.newInstance(txClazz, TransactedPolicy.class);
+                        Method method;
+                        try {
+                            method = txClazz.getMethod("setTransactionManager", tmClazz);
+                        } catch (NoSuchMethodException e) {
+                            throw new RuntimeCamelException("Cannot get method setTransactionManager(PlatformTransactionManager) on class: " + txClazz);
+                        }
+                        ObjectHelper.invokeMethod(method, txPolicy, transactionManager);
+                        return txPolicy;
+                    } else {
+                        LOG.warn("Cannot create a transacted policy as camel-spring.jar is not on the classpath!");
+                    }
+                } else {
+                    if (LOG.isDebugEnabled()) {
+                        if (maps.isEmpty()) {
+                            LOG.debug("No PlatformTransactionManager found in registry.");
+                        } else {
+                            LOG.debug("Found " + maps.size() + " PlatformTransactionManager in registry. "
+                                    + "Cannot determine which one to use. Please configure a TransactionTemplate on the policy");
+                        }
+                    }
+                }
+            }
         }
+
+        return answer;
     }
+
 }
diff --git a/camel-core/src/main/java/org/apache/camel/model/UnmarshalDefinition.java b/camel-core/src/main/java/org/apache/camel/model/UnmarshalDefinition.java
index c4ea053533e..29b37be7f14 100644
--- a/camel-core/src/main/java/org/apache/camel/model/UnmarshalDefinition.java
+++ b/camel-core/src/main/java/org/apache/camel/model/UnmarshalDefinition.java
@@ -52,8 +52,7 @@ import org.apache.camel.spi.RouteContext;
 public class UnmarshalDefinition extends OutputDefinition<ProcessorDefinition> {
     @XmlAttribute(required = false)
     private String ref;
-    // TODO cannot use @XmlElementRef as it doesn't allow optional properties
-    // @XmlElementRef
+    // cannot use @XmlElementRef as it doesn't allow optional properties
     @XmlElements({
     @XmlElement(required = false, name = "artixDS", type = ArtixDSDataFormat.class),
     @XmlElement(required = false, name = "csv", type = CsvDataFormat.class),
diff --git a/camel-core/src/main/java/org/apache/camel/model/dataformat/DataFormatsDefinition.java b/camel-core/src/main/java/org/apache/camel/model/dataformat/DataFormatsDefinition.java
index 82a1b3f601f..2286af7caf9 100644
--- a/camel-core/src/main/java/org/apache/camel/model/dataformat/DataFormatsDefinition.java
+++ b/camel-core/src/main/java/org/apache/camel/model/dataformat/DataFormatsDefinition.java
@@ -33,8 +33,7 @@ import javax.xml.bind.annotation.XmlRootElement;
 @XmlAccessorType(XmlAccessType.FIELD)
 public class DataFormatsDefinition {
 
-    // TODO cannot use @XmlElementRef as it doesn't allow optional properties
-    // @XmlElementRef
+    // cannot use @XmlElementRef as it doesn't allow optional properties
     @XmlElements({
         @XmlElement(required = false, name = "artixDS", type = ArtixDSDataFormat.class),
         @XmlElement(required = false, name = "csv", type = CsvDataFormat.class),   
diff --git a/camel-core/src/main/java/org/apache/camel/processor/Delayer.java b/camel-core/src/main/java/org/apache/camel/processor/Delayer.java
index b3f91afff6b..f0913ec3f3c 100644
--- a/camel-core/src/main/java/org/apache/camel/processor/Delayer.java
+++ b/camel-core/src/main/java/org/apache/camel/processor/Delayer.java
@@ -42,7 +42,7 @@ public class Delayer extends DelayProcessorSupport {
 
     @Override
     public String toString() {
-        return "Delayer[on: " + timeExpression + " delay: " + delay + " to: " + getProcessor() + "]";
+        return "Delayer[" + (timeExpression != null ? "on: " + timeExpression : "") + " delay: " + delay + " to: " + getProcessor() + "]";
     }
 
     // Properties
diff --git a/camel-core/src/main/java/org/apache/camel/processor/DelegateProcessor.java b/camel-core/src/main/java/org/apache/camel/processor/DelegateProcessor.java
index 00f20dab3b6..5c64023085f 100644
--- a/camel-core/src/main/java/org/apache/camel/processor/DelegateProcessor.java
+++ b/camel-core/src/main/java/org/apache/camel/processor/DelegateProcessor.java
@@ -52,7 +52,7 @@ public class DelegateProcessor extends ServiceSupport implements Processor {
 
     @Override
     public String toString() {
-        return "Delegate(" + processor + ")";
+        return "Delegate[" + processor + "]";
     }
 
     public Processor getProcessor() {
diff --git a/camel-core/src/main/java/org/apache/camel/processor/HandleFaultProcessor.java b/camel-core/src/main/java/org/apache/camel/processor/HandleFaultProcessor.java
index 3b83b1321c6..a87529546d5 100644
--- a/camel-core/src/main/java/org/apache/camel/processor/HandleFaultProcessor.java
+++ b/camel-core/src/main/java/org/apache/camel/processor/HandleFaultProcessor.java
@@ -27,7 +27,7 @@ public class HandleFaultProcessor extends DelegateProcessor implements AsyncProc
     
     @Override
     public String toString() {
-        return "HandleFaultProcessor(" + processor + ")";
+        return "HandleFault[" + processor + "]";
     }
 
     @Override
diff --git a/camel-core/src/main/java/org/apache/camel/processor/Interceptor.java b/camel-core/src/main/java/org/apache/camel/processor/Interceptor.java
index d583c87ba85..eb5374aef8b 100644
--- a/camel-core/src/main/java/org/apache/camel/processor/Interceptor.java
+++ b/camel-core/src/main/java/org/apache/camel/processor/Interceptor.java
@@ -49,6 +49,11 @@ public class Interceptor extends DelegateProcessor implements Intercept {
         this.interceptorLogic = interceptorLogic;
     }
 
+    @Override
+    public String toString() {
+        return "Interceptor[" + interceptorLogic + "]";
+    }
+
     @Override
     protected void doStart() throws Exception {
         ServiceHelper.startService(interceptorLogic);
diff --git a/camel-core/src/main/java/org/apache/camel/processor/interceptor/StreamCachingInterceptor.java b/camel-core/src/main/java/org/apache/camel/processor/interceptor/StreamCachingInterceptor.java
index 30e6ce78621..c32dfdf417b 100644
--- a/camel-core/src/main/java/org/apache/camel/processor/interceptor/StreamCachingInterceptor.java
+++ b/camel-core/src/main/java/org/apache/camel/processor/interceptor/StreamCachingInterceptor.java
@@ -45,7 +45,7 @@ public class StreamCachingInterceptor extends DelegateProcessor implements Async
 
     @Override
     public String toString() {
-        return "StreamCachingInterceptor(" + processor + ")";
+        return "StreamCachingInterceptor[" + processor + "]";
     }
 
     /**
diff --git a/camel-core/src/main/java/org/apache/camel/spi/InterceptStrategy.java b/camel-core/src/main/java/org/apache/camel/spi/InterceptStrategy.java
index 926d843b404..70f66442d3e 100644
--- a/camel-core/src/main/java/org/apache/camel/spi/InterceptStrategy.java
+++ b/camel-core/src/main/java/org/apache/camel/spi/InterceptStrategy.java
@@ -40,5 +40,5 @@ public interface InterceptStrategy {
      * @throws Exception can be thrown
      */
     Processor wrapProcessorInInterceptors(ProcessorDefinition processorType,
-            Processor target) throws Exception;
+                                          Processor target) throws Exception;
 }
diff --git a/camel-core/src/test/java/org/apache/camel/BodyAndHeaderConvertTest.java b/camel-core/src/test/java/org/apache/camel/BodyAndHeaderConvertTest.java
index 2f431bfd284..a903e16cd4f 100644
--- a/camel-core/src/test/java/org/apache/camel/BodyAndHeaderConvertTest.java
+++ b/camel-core/src/test/java/org/apache/camel/BodyAndHeaderConvertTest.java
@@ -47,15 +47,11 @@ public class BodyAndHeaderConvertTest extends TestCase {
     public void testConversionOfExchangeProperties() throws Exception {
         String text = exchange.getProperty("foo", String.class);
         assertEquals("foo property", "1234", text);
-
-        // TODO better conversion example when the property editor support is added
     }
 
     public void testConversionOfMessageHeaders() throws Exception {
         String text = exchange.getIn().getHeader("bar", String.class);
         assertEquals("bar header", "567", text);
-
-        // TODO better conversion example when the property editor support is added
     }
 
     public void testConversionOfMessageAttachments() throws Exception {
diff --git a/camel-core/src/test/java/org/apache/camel/builder/InterceptorBuilderTest.java b/camel-core/src/test/java/org/apache/camel/builder/InterceptorBuilderTest.java
index 830769eb9cb..9b2699c655d 100644
--- a/camel-core/src/test/java/org/apache/camel/builder/InterceptorBuilderTest.java
+++ b/camel-core/src/test/java/org/apache/camel/builder/InterceptorBuilderTest.java
@@ -73,12 +73,7 @@ public class InterceptorBuilderTest extends TestSupport {
 
         RouteBuilder builder = new RouteBuilder() {
             public void configure() {
-                //from("direct:a").intercept(interceptor1).intercept(interceptor2).to("direct:d");
                 from("direct:a").intercept(interceptor1).process(orderProcessor).intercept(interceptor2).process(toProcessor);
-                /*
-                 * TODO keep old DSL? .intercept() .add(interceptor1)
-                 * .add(interceptor2) .target().to("direct:d");
-                 */
             }
         };
         container.addRoutes(builder);
diff --git a/camel-core/src/test/java/org/apache/camel/impl/ProducerTest.java b/camel-core/src/test/java/org/apache/camel/impl/ProducerTest.java
index 7cd19d0ab5d..ecbb181daed 100644
--- a/camel-core/src/test/java/org/apache/camel/impl/ProducerTest.java
+++ b/camel-core/src/test/java/org/apache/camel/impl/ProducerTest.java
@@ -69,18 +69,11 @@ public class ProducerTest extends TestSupport {
         Exchange exchange = new DefaultExchange(context);
         producer.process(exchange);
 
-        // TODO: fix me
-        // Class<?> type = endpoint.getExchangeType();
-        // assertEquals("exchange type", MyExchange.class, type);
-
         MyExchange actual = (MyExchange) endpoint.createExchange(exchange);
         assertNotNull(actual);
         assertTrue("Not same exchange", actual != exchange);
 
         MyExchange expected = new MyExchange(context, pattern);
         actual = (MyExchange) endpoint.createExchange(expected);
-
-        // TODO: fix me
-        // assertSame("Should not copy an exchange when of the correct type", expected, actual);
     }
 }
diff --git a/camel-core/src/test/java/org/apache/camel/model/XmlTestSupport.java b/camel-core/src/test/java/org/apache/camel/model/XmlTestSupport.java
index 41dccc22e7d..1d507dde658 100644
--- a/camel-core/src/test/java/org/apache/camel/model/XmlTestSupport.java
+++ b/camel-core/src/test/java/org/apache/camel/model/XmlTestSupport.java
@@ -55,7 +55,6 @@ public abstract class XmlTestSupport extends TestSupport {
     }
 
     public static JAXBContext createJaxbContext() throws JAXBException {
-        return JAXBContext
-            .newInstance(Constants.JAXB_CONTEXT_PACKAGES);
+        return JAXBContext.newInstance(Constants.JAXB_CONTEXT_PACKAGES);
     }
 }
diff --git a/camel-core/src/test/java/org/apache/camel/processor/resequencer/ResequencerRunner.java b/camel-core/src/test/java/org/apache/camel/processor/resequencer/ResequencerRunner.java
index cc1f46e547b..51cc4991c2c 100644
--- a/camel-core/src/test/java/org/apache/camel/processor/resequencer/ResequencerRunner.java
+++ b/camel-core/src/test/java/org/apache/camel/processor/resequencer/ResequencerRunner.java
@@ -44,7 +44,6 @@ public class ResequencerRunner<E> extends Thread {
                 e.printStackTrace();
             }
         }
-        // TODO Auto-generated method stub
         super.run();
     }
 
diff --git a/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/TransactionMinimalConfigurationTest.java b/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/TransactionMinimalConfigurationTest.java
new file mode 100644
index 00000000000..5f72b727344
--- /dev/null
+++ b/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/TransactionMinimalConfigurationTest.java
@@ -0,0 +1,63 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.jms.tx;
+
+import org.apache.camel.Exchange;
+import org.apache.camel.Processor;
+import org.apache.camel.component.mock.MockEndpoint;
+import org.apache.camel.spring.SpringTestSupport;
+import org.springframework.context.support.ClassPathXmlApplicationContext;
+
+/**
+ * To demonstrate transacted with minimal configuration.
+ */
+public class TransactionMinimalConfigurationTest extends SpringTestSupport {
+
+    protected ClassPathXmlApplicationContext createApplicationContext() {
+        return new ClassPathXmlApplicationContext(
+            "/org/apache/camel/component/jms/tx/TransactionMinimalConfigurationTest.xml");
+    }
+
+    protected int getExpectedRouteCount() {
+        return 1;
+    }
+
+    public void testTransactionSuccess() throws Exception {
+        MockEndpoint mock = getMockEndpoint("mock:result");
+        mock.expectedMessageCount(1);
+        mock.expectedBodiesReceived("Bye World");
+        // success at 3rd attempt
+        mock.message(0).header("count").isEqualTo(3);
+
+        template.sendBody("activemq:queue:okay", "Hello World");
+
+        mock.assertIsSatisfied();
+    }
+
+    public static class MyProcessor implements Processor {
+        private int count;
+
+        public void process(Exchange exchange) throws Exception {
+            if (++count <= 2) {
+                throw new IllegalArgumentException("Forced Exception number " + count + ", please retry");
+            }
+            exchange.getIn().setBody("Bye World");
+            exchange.getIn().setHeader("count", count);
+        }
+    }
+
+}
\ No newline at end of file
diff --git a/components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/TransactionMinimalConfigurationTest.xml b/components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/TransactionMinimalConfigurationTest.xml
new file mode 100644
index 00000000000..7e8138d492c
--- /dev/null
+++ b/components/camel-jms/src/test/resources/org/apache/camel/component/jms/tx/TransactionMinimalConfigurationTest.xml
@@ -0,0 +1,57 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+    Licensed to the Apache Software Foundation (ASF) under one or more
+    contributor license agreements.  See the NOTICE file distributed with
+    this work for additional information regarding copyright ownership.
+    The ASF licenses this file to You under the Apache License, Version 2.0
+    (the "License"); you may not use this file except in compliance with
+    the License.  You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing, software
+    distributed under the License is distributed on an "AS IS" BASIS,
+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+    See the License for the specific language governing permissions and
+    limitations under the License.
+-->
+<beans xmlns="http://www.springframework.org/schema/beans"
+       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+       xmlns:camel="http://camel.apache.org/schema/spring"
+       xsi:schemaLocation="
+         http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
+         http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd">
+
+    <camelContext xmlns="http://camel.apache.org/schema/spring">
+        <route>
+            <!-- 1: from the jms queue -->
+            <from uri="activemq:queue:okay"/>
+            <!-- 2: mark this route as transacted -->
+            <transacted/>
+            <!-- 3: call our business logic that is myProcessor -->
+            <process ref="myProcessor"/>
+            <!-- 4: if success then send it to the mock -->
+            <to uri="mock:result"/>
+        </route>
+    </camelContext>
+
+    <bean id="myProcessor" class="org.apache.camel.component.jms.tx.JMSTransactionalClientTest$MyProcessor"/>
+
+    <!-- setup JMS connection factory -->
+    <bean id="jmsConnectionFactory" class="org.apache.activemq.ActiveMQConnectionFactory">
+        <property name="brokerURL" value="vm://localhost?broker.persistent=false&amp;broker.useJmx=false"/>
+    </bean>
+
+    <!-- setup spring jms TX manager -->
+    <bean id="jmsTransactionManager" class="org.springframework.jms.connection.JmsTransactionManager">
+        <property name="connectionFactory" ref="jmsConnectionFactory"/>
+    </bean>
+
+    <!-- define our activemq component -->
+    <bean id="activemq" class="org.apache.activemq.camel.component.ActiveMQComponent">
+        <property name="connectionFactory" ref="jmsConnectionFactory"/>
+        <!-- define the jms consumer/producer as transacted -->
+        <property name="transacted" value="true"/>
+    </bean>
+
+</beans>
diff --git a/components/camel-spring/src/main/java/org/apache/camel/spring/SpringRouteBuilder.java b/components/camel-spring/src/main/java/org/apache/camel/spring/SpringRouteBuilder.java
index b6c0c1620a9..4db4c66a5b3 100644
--- a/components/camel-spring/src/main/java/org/apache/camel/spring/SpringRouteBuilder.java
+++ b/components/camel-spring/src/main/java/org/apache/camel/spring/SpringRouteBuilder.java
@@ -23,6 +23,7 @@ import org.apache.camel.spring.spi.TransactionErrorHandler;
 import org.apache.camel.spring.spi.TransactionErrorHandlerBuilder;
 import org.springframework.context.ApplicationContext;
 import org.springframework.context.ApplicationContextAware;
+import org.springframework.transaction.PlatformTransactionManager;
 import org.springframework.transaction.support.TransactionTemplate;
 
 /**
@@ -124,4 +125,15 @@ public abstract class SpringRouteBuilder extends RouteBuilder implements Applica
         return answer;
     }
 
+    /**
+     * Creates a transaction error handler.
+     *
+     * @param transactionManager the spring transaction manager
+     * @return the created error handler
+     */
+    public TransactionErrorHandlerBuilder transactionErrorHandler(PlatformTransactionManager transactionManager) {
+        TransactionTemplate template = new TransactionTemplate(transactionManager);
+        return transactionErrorHandler(template);
+    }
+
 }
diff --git a/components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringTransactionPolicy.java b/components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringTransactionPolicy.java
index 4bad3f12e7a..665943d1a9a 100644
--- a/components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringTransactionPolicy.java
+++ b/components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringTransactionPolicy.java
@@ -16,6 +16,8 @@
  */
 package org.apache.camel.spring.spi;
 
+import java.util.Map;
+
 import org.apache.camel.Processor;
 import org.apache.camel.builder.ErrorHandlerBuilder;
 import org.apache.camel.builder.ErrorHandlerBuilderRef;
diff --git a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceMinimalConfigurationTest.java b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceMinimalConfigurationTest.java
new file mode 100644
index 00000000000..91f9f4a9229
--- /dev/null
+++ b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceMinimalConfigurationTest.java
@@ -0,0 +1,76 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.spring.interceptor;
+
+import javax.sql.DataSource;
+
+import org.apache.camel.RuntimeCamelException;
+import org.apache.camel.spring.SpringTestSupport;
+import org.springframework.context.support.AbstractXmlApplicationContext;
+import org.springframework.context.support.ClassPathXmlApplicationContext;
+import org.springframework.jdbc.core.JdbcTemplate;
+
+/**
+ * Easier transaction configuration as we only setup Spring TX stuff.
+ */
+public class TransactionalClientDataSourceMinimalConfigurationTest extends SpringTestSupport {
+
+    protected JdbcTemplate jdbc;
+
+    protected AbstractXmlApplicationContext createApplicationContext() {
+        return new ClassPathXmlApplicationContext(
+            "/org/apache/camel/spring/interceptor/springTransactionalClientDataSourceMinimalConfiguration.xml");
+    }
+
+    @Override
+    protected void setUp() throws Exception {
+        super.setUp();
+
+        // create database and insert dummy data
+        final DataSource ds = getMandatoryBean(DataSource.class, "dataSource");
+        jdbc = new JdbcTemplate(ds);
+        jdbc.execute("create table books (title varchar(50))");
+        jdbc.update("insert into books (title) values (?)", new Object[] {"Camel in Action"});
+    }
+
+    @Override
+    protected void tearDown() throws Exception {
+        super.tearDown();
+        jdbc.execute("drop table books");
+    }
+
+    public void testTransactionSuccess() throws Exception {
+        template.sendBody("direct:okay", "Hello World");
+
+        int count = jdbc.queryForInt("select count(*) from books");
+        assertEquals("Number of books", 3, count);
+    }
+
+    public void testTransactionRollback() throws Exception {
+        try {
+            template.sendBody("direct:fail", "Hello World");
+        } catch (RuntimeCamelException e) {
+            // expeced as we fail
+            assertTrue(e.getCause() instanceof IllegalArgumentException);
+            assertEquals("We don't have Donkeys, only Camels", e.getCause().getMessage());
+        }
+
+        int count = jdbc.queryForInt("select count(*) from books");
+        assertEquals("Number of books", 1, count);
+    }
+
+}
\ No newline at end of file
diff --git a/components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/springTransactionalClientDataSourceMinimalConfiguration.xml b/components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/springTransactionalClientDataSourceMinimalConfiguration.xml
new file mode 100644
index 00000000000..fd5ebbcdfce
--- /dev/null
+++ b/components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/springTransactionalClientDataSourceMinimalConfiguration.xml
@@ -0,0 +1,81 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+    Licensed to the Apache Software Foundation (ASF) under one or more
+    contributor license agreements.  See the NOTICE file distributed with
+    this work for additional information regarding copyright ownership.
+    The ASF licenses this file to You under the Apache License, Version 2.0
+    (the "License"); you may not use this file except in compliance with
+    the License.  You may obtain a copy of the License at
+
+        http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing, software
+    distributed under the License is distributed on an "AS IS" BASIS,
+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+    See the License for the specific language governing permissions and
+    limitations under the License.
+-->
+<beans xmlns="http://www.springframework.org/schema/beans"
+       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+       xsi:schemaLocation="
+         http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
+         http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd">
+
+    <!-- START SNIPPET: e1 -->
+    <!-- this example uses JDBC so we define a data source -->
+    <bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
+        <property name="driverClassName" value="org.hsqldb.jdbcDriver"/>
+        <property name="url" value="jdbc:hsqldb:mem:camel"/>
+        <property name="username" value="sa"/>
+        <property name="password" value=""/>
+    </bean>
+
+    <!-- spring transaction manager -->
+    <!-- this is the transaction manager Camel will use for transacted routes -->
+    <bean id="txManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
+        <property name="dataSource" ref="dataSource"/>
+    </bean>
+
+    <!-- bean for book business logic -->
+    <bean id="bookService" class="org.apache.camel.spring.interceptor.BookService">
+        <property name="dataSource" ref="dataSource"/>
+    </bean>
+    <!-- END SNIPPET: e1 -->
+
+    <!-- START SNIPPET: e2 -->
+    <camelContext id="camel" xmlns="http://camel.apache.org/schema/spring">
+        <route>
+            <from uri="direct:okay"/>
+            <!-- we mark this route as transacted. Camel will lookup the spring transaction manager
+                 and use it by default. We can optimally pass in arguments to specify a policy to use
+                 that is configured with a spring transaction manager of choice. However Camel supports
+                 convention over configuration as we can just use the defaults out of the box and Camel
+                 that suites in most situations -->
+            <transacted/>
+            <setBody>
+                <constant>Tiger in Action</constant>
+            </setBody>
+            <bean ref="bookService"/>
+            <setBody>
+                <constant>Elephant in Action</constant>
+            </setBody>
+            <bean ref="bookService"/>
+        </route>
+
+        <route>
+            <from uri="direct:fail"/>
+            <!-- we mark this route as transacted. See comments above. -->
+            <transacted/>
+            <setBody>
+                <constant>Tiger in Action</constant>
+            </setBody>
+            <bean ref="bookService"/>
+            <setBody>
+                <constant>Donkey in Action</constant>
+            </setBody>
+            <bean ref="bookService"/>
+        </route>
+    </camelContext>
+    <!-- END SNIPPET: e2 -->
+
+</beans>
