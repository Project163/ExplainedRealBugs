diff --git a/camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java b/camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java
index 4c12e2805c5..ef048b3d0e5 100644
--- a/camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java
+++ b/camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java
@@ -29,6 +29,7 @@ import java.util.List;
 import org.apache.camel.Exchange;
 import org.apache.camel.InvalidPayloadException;
 import org.apache.camel.util.ExchangeHelper;
+import org.apache.camel.util.FileUtil;
 import org.apache.camel.util.ObjectHelper;
 import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
@@ -53,72 +54,13 @@ public class FileOperations implements GenericFileOperations<File> {
 
     public boolean deleteFile(String name) throws GenericFileOperationFailedException {        
         File file = new File(name);
-
-        // do not try to delete non existing files
-        if (!file.exists()) {
-            return false;
-        }
-
-        // some OS such as Windows can have problem doing delete IO operations so we may need to
-        // retry a couple of times to let it work
-        boolean deleted = false;
-        int count = 0;
-        while (!deleted && count < 3) {
-            if (LOG.isDebugEnabled() && count > 0) {
-                LOG.debug("Retrying attempt " + count + " to delete file: " + name);
-            }
-
-            deleted = file.delete();
-            if (!deleted && count > 0) {
-                try {
-                    Thread.sleep(1000);
-                } catch (InterruptedException e) {
-                    // ignore
-                }
-            }
-            count++;
-        }
-
-
-        if (LOG.isDebugEnabled() && count > 0) {
-            LOG.debug("Tried " + count + " to delete file: " + name + " with result: " + deleted);
-        }
-        return deleted;
+        return FileUtil.deleteFile(file);
     }
 
     public boolean renameFile(String from, String to) throws GenericFileOperationFailedException {
         File file = new File(from);
         File target = new File(to);
-
-        // do not try to rename non existing files
-        if (!file.exists()) {
-            return false;
-        }
-
-        // some OS such as Windows can have problem doing rename IO operations so we may need to
-        // retry a couple of times to let it work
-        boolean renamed = false;
-        int count = 0;
-        while (!renamed && count < 3) {
-            if (LOG.isDebugEnabled() && count > 0) {
-                LOG.debug("Retrying attempt " + count + " to rename file from: " + from + " to: " + to);
-            }
-
-            renamed = file.renameTo(target);
-            if (!renamed && count > 0) {
-                try {
-                    Thread.sleep(1000);
-                } catch (InterruptedException e) {
-                    // ignore
-                }
-            }
-            count++;
-        }
-
-        if (LOG.isDebugEnabled() && count > 0) {
-            LOG.debug("Tried " + count + " to rename file: " + from + " to: " + to + " with result: " + renamed);
-        }
-        return renamed;
+        return FileUtil.renameFile(file, target);
     }
 
     public boolean existsFile(String name) throws GenericFileOperationFailedException {
@@ -204,7 +146,7 @@ public class FileOperations implements GenericFileOperations<File> {
 
         File file = new File(fileName);
 
-        // if an existing file already exsists what should we do?
+        // if an existing file already exists what should we do?
         if (file.exists()) {
             if (endpoint.getFileExist() == GenericFileExist.Ignore) {
                 // ignore but indicate that the file was written
@@ -267,7 +209,8 @@ public class FileOperations implements GenericFileOperations<File> {
         if (LOG.isTraceEnabled()) {
             LOG.trace("Using local work file being renamed from: " + source + " to: " + file);
         }
-        return source.renameTo(file);
+
+        return FileUtil.renameFile(source, file);
     }
 
     private void writeFileByFile(File source, File target) throws IOException {
diff --git a/camel-core/src/main/java/org/apache/camel/component/file/GenericFileOperations.java b/camel-core/src/main/java/org/apache/camel/component/file/GenericFileOperations.java
index 0ea06106fa0..f847fad59ba 100644
--- a/camel-core/src/main/java/org/apache/camel/component/file/GenericFileOperations.java
+++ b/camel-core/src/main/java/org/apache/camel/component/file/GenericFileOperations.java
@@ -63,7 +63,7 @@ public interface GenericFileOperations<T> {
      *
      * @param directory the directory path to build as a relative string name
      * @param absolute wether the directory is an absolute or relative path
-     * @return true if build or already exists, false if not possbile (could be lack of permissions)
+     * @return true if build or already exists, false if not possible (could be lack of permissions)
      * @throws GenericFileOperationFailedException can be thrown
      */
     boolean buildDirectory(String directory, boolean absolute) throws GenericFileOperationFailedException;
diff --git a/camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileProcessStrategySupport.java b/camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileProcessStrategySupport.java
index 13ef7d068d5..94778b286a6 100644
--- a/camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileProcessStrategySupport.java
+++ b/camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileProcessStrategySupport.java
@@ -24,6 +24,7 @@ import org.apache.camel.component.file.GenericFileEndpoint;
 import org.apache.camel.component.file.GenericFileExclusiveReadLockStrategy;
 import org.apache.camel.component.file.GenericFileOperations;
 import org.apache.camel.component.file.GenericFileProcessStrategy;
+import org.apache.camel.util.FileUtil;
 import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
 
@@ -32,11 +33,11 @@ public abstract class GenericFileProcessStrategySupport<T> implements GenericFil
     protected GenericFileExclusiveReadLockStrategy<T> exclusiveReadLockStrategy;
 
     public boolean begin(GenericFileOperations<T> operations, GenericFileEndpoint<T> endpoint, Exchange exchange, GenericFile<T> file) throws Exception {
-        // is we use excluse read then acquire the exclusive read (waiting until we got it)
+        // if we use exclusive read then acquire the exclusive read (waiting until we got it)
         if (exclusiveReadLockStrategy != null) {
             boolean lock = exclusiveReadLockStrategy.acquireExclusiveReadLock(operations, file, exchange);
             if (!lock) {
-                // do not begin sice we could not get the exclusive read lcok
+                // do not begin since we could not get the exclusive read lock
                 return false;
             }
         }
@@ -72,7 +73,7 @@ public abstract class GenericFileProcessStrategySupport<T> implements GenericFil
         // delete local work file, if it was used (eg by ftp component)
         File local = exchange.getIn().getHeader(Exchange.FILE_LOCAL_WORK_PATH, File.class);
         if (local != null && local.exists()) {
-            boolean deleted = local.delete();
+            boolean deleted = FileUtil.deleteFile(local);
             if (log.isTraceEnabled()) {
                 log.trace("Local work file: " + local + " was deleted: " + deleted);
             }
diff --git a/camel-core/src/main/java/org/apache/camel/component/file/strategy/MarkerFileExclusiveReadLockStrategy.java b/camel-core/src/main/java/org/apache/camel/component/file/strategy/MarkerFileExclusiveReadLockStrategy.java
index 1db0471f83a..00d9d46cbc2 100644
--- a/camel-core/src/main/java/org/apache/camel/component/file/strategy/MarkerFileExclusiveReadLockStrategy.java
+++ b/camel-core/src/main/java/org/apache/camel/component/file/strategy/MarkerFileExclusiveReadLockStrategy.java
@@ -24,6 +24,7 @@ import org.apache.camel.component.file.GenericFile;
 import org.apache.camel.component.file.GenericFileExclusiveReadLockStrategy;
 import org.apache.camel.component.file.GenericFileOperations;
 import org.apache.camel.util.ExchangeHelper;
+import org.apache.camel.util.FileUtil;
 import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
 
@@ -64,7 +65,7 @@ public class MarkerFileExclusiveReadLockStrategy implements GenericFileExclusive
             LOG.trace("Unlocking file: " + lockFileName);
         }
 
-        boolean deleted = lock.delete();
+        boolean deleted = FileUtil.deleteFile(lock);
         if (LOG.isTraceEnabled()) {
             LOG.trace("Lock file: " + lockFileName + " was deleted: " + deleted);
         }
diff --git a/camel-core/src/main/java/org/apache/camel/util/FileUtil.java b/camel-core/src/main/java/org/apache/camel/util/FileUtil.java
index c0a9e9b50c4..ef2fcbbeacf 100644
--- a/camel-core/src/main/java/org/apache/camel/util/FileUtil.java
+++ b/camel-core/src/main/java/org/apache/camel/util/FileUtil.java
@@ -23,11 +23,15 @@ import java.util.Locale;
 import java.util.Random;
 import java.util.Stack;
 
+import org.apache.commons.logging.Log;
+import org.apache.commons.logging.LogFactory;
+
 /**
  * File utilities
  */
 public final class FileUtil {
     
+    private static final transient Log LOG = LogFactory.getLog(FileUtil.class);
     private static final int RETRY_SLEEP_MILLIS = 10;
     private static File defaultTempDir;
 
@@ -260,4 +264,70 @@ public final class FileUtil {
         }
     }
 
+    public static boolean renameFile(File from, File to) {
+        // do not try to rename non existing files
+        if (!from.exists()) {
+            return false;
+        }
+
+        // some OS such as Windows can have problem doing rename IO operations so we may need to
+        // retry a couple of times to let it work
+        boolean renamed = false;
+        int count = 0;
+        while (!renamed && count < 3) {
+            if (LOG.isDebugEnabled() && count > 0) {
+                LOG.debug("Retrying attempt " + count + " to rename file from: " + from + " to: " + to);
+            }
+
+            renamed = from.renameTo(to);
+            if (!renamed && count > 0) {
+                try {
+                    Thread.sleep(1000);
+                } catch (InterruptedException e) {
+                    // ignore
+                }
+            }
+            count++;
+        }
+
+        if (LOG.isDebugEnabled() && count > 0) {
+            LOG.debug("Tried " + count + " to rename file: " + from + " to: " + to + " with result: " + renamed);
+        }
+        return renamed;
+    }
+
+    public static boolean deleteFile(File file) {
+        // do not try to delete non existing files
+        if (!file.exists()) {
+            return false;
+        }
+
+        // some OS such as Windows can have problem doing delete IO operations so we may need to
+        // retry a couple of times to let it work
+        boolean deleted = false;
+        int count = 0;
+        while (!deleted && count < 3) {
+            if (LOG.isDebugEnabled() && count > 0) {
+                LOG.debug("Retrying attempt " + count + " to delete file: " + file);
+            }
+
+            deleted = file.delete();
+            if (!deleted && count > 0) {
+                try {
+                    Thread.sleep(1000);
+                } catch (InterruptedException e) {
+                    // ignore
+                }
+            }
+            count++;
+        }
+
+
+        if (LOG.isDebugEnabled() && count > 0) {
+            LOG.debug("Tried " + count + " to delete file: " + file + " with result: " + deleted);
+        }
+        return deleted;
+    }
+
+
 }
diff --git a/camel-core/src/test/java/org/apache/camel/component/file/strategy/FileBigFileCopyManually.java b/camel-core/src/test/java/org/apache/camel/component/file/strategy/FileBigFileCopyManually.java
index f5cb3a5addb..d4d76603143 100644
--- a/camel-core/src/test/java/org/apache/camel/component/file/strategy/FileBigFileCopyManually.java
+++ b/camel-core/src/test/java/org/apache/camel/component/file/strategy/FileBigFileCopyManually.java
@@ -22,7 +22,7 @@ import org.apache.camel.component.mock.MockEndpoint;
 
 /**
  * A manual test by copying a big file into the target/big/in folder and check
- * that it is copied completly, eg its file size is the same as the original file
+ * that it is copied completely, eg its file size is the same as the original file
  *
  * @version $Revision$
  */
diff --git a/components/camel-jpa/src/main/java/org/apache/camel/component/jpa/QueryBuilder.java b/components/camel-jpa/src/main/java/org/apache/camel/component/jpa/QueryBuilder.java
index 1830cf98eb7..2551e9fbdae 100644
--- a/components/camel-jpa/src/main/java/org/apache/camel/component/jpa/QueryBuilder.java
+++ b/components/camel-jpa/src/main/java/org/apache/camel/component/jpa/QueryBuilder.java
@@ -46,7 +46,7 @@ public abstract class QueryBuilder implements QueryFactory {
 
             @Override
             public String toString() {
-                return "Query: " + query + " params: " + getParameterDescription();
+                return "Query: " + query + getParameterDescription();
             }
         };
     }
diff --git a/components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaWithNamedQueryTest.java b/components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaWithNamedQueryTest.java
index 466edd2b3e4..f3b4b205cf1 100644
--- a/components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaWithNamedQueryTest.java
+++ b/components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaWithNamedQueryTest.java
@@ -133,6 +133,9 @@ public class JpaWithNamedQueryTest extends Assert {
                 return null;
             }
         });
+
+        JpaConsumer jpaConsumer = (JpaConsumer) consumer;
+        assertEquals("step1", jpaConsumer.getNamedQuery());
     }
 
     @Before
diff --git a/components/camel-jpa/src/test/java/org/apache/camel/component/jpa/QueryBuilderTest.java b/components/camel-jpa/src/test/java/org/apache/camel/component/jpa/QueryBuilderTest.java
new file mode 100644
index 00000000000..440fea53d03
--- /dev/null
+++ b/components/camel-jpa/src/test/java/org/apache/camel/component/jpa/QueryBuilderTest.java
@@ -0,0 +1,70 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.jpa;
+
+import java.util.HashMap;
+import java.util.Map;
+
+import org.apache.camel.test.junit4.CamelTestSupport;
+import org.junit.Test;
+
+/**
+ * @version $Revision$
+ */
+public class QueryBuilderTest extends CamelTestSupport {
+
+    @Test
+    public void testQueryBuilder() throws Exception {
+        QueryBuilder q = QueryBuilder.query("select x from SendEmail x");
+        assertNotNull(q);
+        assertEquals("Query: select x from SendEmail x", q.toString());
+    }
+
+    @Test
+    public void testNamedQueryBuilder() throws Exception {
+        QueryBuilder q = QueryBuilder.namedQuery("step1");
+        assertNotNull(q);
+        assertEquals("Named: step1", q.toString());
+    }
+
+    @Test
+    public void testNativeQueryBuilder() throws Exception {
+        QueryBuilder q = QueryBuilder.nativeQuery("select count(*) from SendEmail");
+        assertNotNull(q);
+        assertEquals("NativeQuery: select count(*) from SendEmail", q.toString());
+    }
+
+    @Test
+    public void testQueryBuilderWithParameters() throws Exception {
+        QueryBuilder q = QueryBuilder.query("select x from SendEmail x where x.id = :a");
+        assertNotNull(q);
+        q.parameters(1);
+        assertEquals("Query: select x from SendEmail x where x.id = :a Parameters: [1]", q.toString());
+    }
+
+    @Test
+    public void testQueryBuilderWithParametersMap() throws Exception {
+        QueryBuilder q = QueryBuilder.query("select x from SendEmail x where x.id = :a");
+        assertNotNull(q);
+        Map map = new HashMap();
+        map.put("a", 1);
+        q.parameters(map);
+        assertEquals("Query: select x from SendEmail x where x.id = :a Parameters: {a=1}", q.toString());
+    }
+
+
+}
