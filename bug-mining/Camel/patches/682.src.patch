diff --git a/camel-core/src/main/java/org/apache/camel/Endpoint.java b/camel-core/src/main/java/org/apache/camel/Endpoint.java
index e2983227fe5..58d141fe543 100644
--- a/camel-core/src/main/java/org/apache/camel/Endpoint.java
+++ b/camel-core/src/main/java/org/apache/camel/Endpoint.java
@@ -33,11 +33,28 @@ public interface Endpoint extends IsSingleton {
 
     /**
      * Returns the string representation of the endpoint URI
+     *
+     * @return the endpoint URI
      */
     String getEndpointUri();
 
+    /**
+     * Returns a string key of this endpoint.
+     * <p/>
+     * This key is used by {@link org.apache.camel.spi.LifecycleStrategy} when registering endpoint.
+     * This allows to register different instances of endpoints with the same key.
+     * <p/>
+     * For JMX mbeans this allows us to use the same JMX Mbean for all endpoints that are logical
+     * the same but have different parameters. For instance the http endpoint.
+     *
+     * @return the endpoint key
+     */
+    String getEndpointKey();
+
     /**
      * Create a new exchange for communicating with this endpoint
+     *
+     * @return a new exchange
      */
     Exchange createExchange();
 
@@ -47,6 +64,7 @@ public interface Endpoint extends IsSingleton {
      * to be an {@link ExchangePattern#InOnly} or {@link ExchangePattern#InOut} exchange
      *
      * @param pattern the message exchange pattern for the exchange
+     * @return a new exchange
      */
     Exchange createExchange(ExchangePattern pattern);
 
@@ -54,7 +72,8 @@ public interface Endpoint extends IsSingleton {
      * Creates a new exchange for communicating with this exchange using the
      * given exchange to pre-populate the values of the headers and messages
      *
-     * @param exchange given exchange to use for pre-polulate
+     * @param exchange given exchange to use for pre-populate
+     * @return a new exchange
      */
     Exchange createExchange(Exchange exchange);
 
@@ -128,6 +147,8 @@ public interface Endpoint extends IsSingleton {
      * dynamic URI options appended that is targeted for an external system.
      * <p/>
      * Most endpoints is configured to be <b>not</b> lenient.
+     *
+     * @return whether properties is lenient or not
      */
     boolean isLenientProperties();
 }
diff --git a/camel-core/src/main/java/org/apache/camel/component/direct/DirectConsumer.java b/camel-core/src/main/java/org/apache/camel/component/direct/DirectConsumer.java
new file mode 100644
index 00000000000..8139ccfe560
--- /dev/null
+++ b/camel-core/src/main/java/org/apache/camel/component/direct/DirectConsumer.java
@@ -0,0 +1,53 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.direct;
+
+import org.apache.camel.Endpoint;
+import org.apache.camel.Processor;
+import org.apache.camel.impl.DefaultConsumer;
+
+/**
+ * The direct consumer.
+ *
+ * @version $Revision$
+ */
+public class DirectConsumer extends DefaultConsumer {
+
+    private DirectEndpoint endpoint;
+
+    public DirectConsumer(Endpoint endpoint, Processor processor) {
+        super(endpoint, processor);
+        this.endpoint = (DirectEndpoint) endpoint;
+    }
+
+    @Override
+    public void start() throws Exception {
+        if (!endpoint.isAllowMultipleConsumers() && !endpoint.getConsumers().isEmpty()) {
+            throw new IllegalStateException("Endpoint " + endpoint.getEndpointUri() + " only allows 1 active consumer but you attempted to start a 2nd consumer.");
+        }
+
+        endpoint.getConsumers().add(this);
+        super.start();
+    }
+
+    @Override
+    public void stop() throws Exception {
+        super.stop();
+        endpoint.getConsumers().remove(this);
+    }
+
+}
diff --git a/camel-core/src/main/java/org/apache/camel/component/direct/DirectEndpoint.java b/camel-core/src/main/java/org/apache/camel/component/direct/DirectEndpoint.java
index 1f7dcd131f8..2a5ece5b07a 100644
--- a/camel-core/src/main/java/org/apache/camel/component/direct/DirectEndpoint.java
+++ b/camel-core/src/main/java/org/apache/camel/component/direct/DirectEndpoint.java
@@ -51,23 +51,7 @@ public class DirectEndpoint extends DefaultEndpoint {
     }
 
     public Consumer createConsumer(Processor processor) throws Exception {
-        return new DefaultConsumer(this, processor) {
-            @Override
-            public void start() throws Exception {
-                if (!allowMultipleConsumers && !consumers.isEmpty()) {
-                    throw new IllegalStateException("Endpoint " + getEndpointUri() + " only allows 1 active consumer but you attempted to start a 2nd consumer.");
-                }
-
-                consumers.add(this);
-                super.start();
-            }
-
-            @Override
-            public void stop() throws Exception {
-                super.stop();
-                consumers.remove(this);
-            }
-        };
+        return new DirectConsumer(this, processor);
     }
 
     public boolean isAllowMultipleConsumers() {
diff --git a/camel-core/src/main/java/org/apache/camel/impl/ConsumerCache.java b/camel-core/src/main/java/org/apache/camel/impl/ConsumerCache.java
index 96adb2d0f41..155ca219c36 100644
--- a/camel-core/src/main/java/org/apache/camel/impl/ConsumerCache.java
+++ b/camel-core/src/main/java/org/apache/camel/impl/ConsumerCache.java
@@ -69,7 +69,7 @@ public class ConsumerCache extends ServiceSupport {
                 consumers.put(key, answer);
             } else {
                 if (LOG.isDebugEnabled()) {
-                    LOG.debug("Consumer for endpoint: " + key + " is not singleton and thus not added to producer cache");
+                    LOG.debug("Consumer for endpoint: " + key + " is not singleton and thus not added to consumer cache");
                 }
             }
         }
@@ -111,4 +111,13 @@ public class ConsumerCache extends ServiceSupport {
     protected void doStart() throws Exception {
     }
 
+    /**
+     * Returns the current size of the consumer cache
+     *
+     * @return the current size
+     */
+    int size() {
+        return consumers.size();
+    }
+
 }
diff --git a/camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java b/camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java
index d65d3d237a2..1e4534564c2 100644
--- a/camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java
+++ b/camel-core/src/main/java/org/apache/camel/impl/DefaultCamelContext.java
@@ -70,6 +70,7 @@ import org.apache.camel.spi.Registry;
 import org.apache.camel.spi.RouteContext;
 import org.apache.camel.spi.ServicePool;
 import org.apache.camel.spi.TypeConverterRegistry;
+import org.apache.camel.util.LRUCache;
 import org.apache.camel.util.ObjectHelper;
 import org.apache.camel.util.ReflectionInjector;
 import org.apache.camel.util.SystemHelper;
@@ -90,7 +91,7 @@ public class DefaultCamelContext extends ServiceSupport implements CamelContext,
     private static int nameSuffix;
     private boolean routeDefinitionInitiated;
     private String name;  
-    private final Map<String, Endpoint> endpoints = new HashMap<String, Endpoint>();
+    private final Map<String, Endpoint> endpoints = new LRUCache<String, Endpoint>(1000);
     private final List<EndpointStrategy> endpointStrategies = new ArrayList<EndpointStrategy>();
     private final Map<String, Component> components = new HashMap<String, Component>();
     private List<Route> routes;
diff --git a/camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java b/camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java
index 4d1b8e8bce8..8f59102001d 100644
--- a/camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java
+++ b/camel-core/src/main/java/org/apache/camel/impl/DefaultEndpoint.java
@@ -92,6 +92,21 @@ public abstract class DefaultEndpoint implements Endpoint, CamelContextAware {
         return endpointUri;
     }
 
+    public String getEndpointKey() {
+        if (isLenientProperties()) {
+            // only use the endpoint uri without parameters as the properties is lenient
+            String uri = getEndpointUri();
+            if (uri.indexOf("?") != -1) {
+                return ObjectHelper.before(uri, "?");
+            } else {
+                return uri;
+            }
+        } else {
+            // use the full endpoint uri
+            return getEndpointUri();
+        }
+    }
+
     public CamelContext getCamelContext() {
         return camelContext;
     }
@@ -225,4 +240,6 @@ public abstract class DefaultEndpoint implements Endpoint, CamelContextAware {
         return false;
     }
 
+
+
 }
diff --git a/camel-core/src/main/java/org/apache/camel/impl/InterceptSendToEndpoint.java b/camel-core/src/main/java/org/apache/camel/impl/InterceptSendToEndpoint.java
index 527350ab434..c581fe32de5 100644
--- a/camel-core/src/main/java/org/apache/camel/impl/InterceptSendToEndpoint.java
+++ b/camel-core/src/main/java/org/apache/camel/impl/InterceptSendToEndpoint.java
@@ -67,6 +67,10 @@ public class InterceptSendToEndpoint implements Endpoint {
         return delegate.getEndpointUri();
     }
 
+    public String getEndpointKey() {
+        return delegate.getEndpointKey();
+    }
+
     public Exchange createExchange() {
         return delegate.createExchange();
     }
diff --git a/camel-core/src/main/java/org/apache/camel/impl/ProducerCache.java b/camel-core/src/main/java/org/apache/camel/impl/ProducerCache.java
index d7f5101452b..1e24538d51f 100644
--- a/camel-core/src/main/java/org/apache/camel/impl/ProducerCache.java
+++ b/camel-core/src/main/java/org/apache/camel/impl/ProducerCache.java
@@ -217,4 +217,14 @@ public class ProducerCache extends ServiceSupport {
     protected void doStart() throws Exception {
         ServiceHelper.startServices(pool);
     }
+
+    /**
+     * Returns the current size of the producer cache
+     *
+     * @return the current size
+     */
+    int size() {
+        return producers.size();
+    }
+
 }
diff --git a/camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java b/camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java
index 5de778727be..cbd573b1a04 100644
--- a/camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java
+++ b/camel-core/src/main/java/org/apache/camel/management/CamelNamingStrategy.java
@@ -48,7 +48,7 @@ public class CamelNamingStrategy {
     public static final String TYPE_ROUTE = "routes";
 
     protected String domainName;
-    protected String hostName = "locahost";
+    protected String hostName = "localhost";
 
     public CamelNamingStrategy() {
         this("org.apache.camel");
@@ -111,7 +111,7 @@ public class CamelNamingStrategy {
         } else {
             return null;
         }
-        
+
         StringBuffer buffer = new StringBuffer();
         buffer.append(domainName).append(":");
         buffer.append(KEY_CONTEXT + "=").append(getContextId(context)).append(",");
@@ -192,11 +192,16 @@ public class CamelNamingStrategy {
     }
 
     protected String getEndpointId(Endpoint ep) {
-        String uri = ep.getEndpointUri();
-        int pos = uri.indexOf('?');
-        String id = (pos == -1) ? uri : uri.substring(0, pos);
-        id += "?id=0x" + Integer.toHexString(ep.hashCode());
-        return id;
+        if (ep.isSingleton()) {
+            return ep.getEndpointKey();
+        } else {
+            // non singleton then add hashcoded id
+            String uri = ep.getEndpointKey();
+            int pos = uri.indexOf('?');
+            String id = (pos == -1) ? uri : uri.substring(0, pos);
+            id += "?id=0x" + Integer.toHexString(ep.hashCode());
+            return id;
+        }
     }
 
     /**
diff --git a/camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java b/camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java
index 1c93d0faa97..c8bd835a8c7 100644
--- a/camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java
+++ b/camel-core/src/main/java/org/apache/camel/processor/MulticastProcessor.java
@@ -92,7 +92,6 @@ public class MulticastProcessor extends ServiceSupport implements Processor, Nav
     
     public MulticastProcessor(Collection<Processor> processors, AggregationStrategy aggregationStrategy, boolean parallelProcessing, ExecutorService executorService, boolean streaming) {
         notNull(processors, "processors");
-        // TODO: end() does not work correctly with Splitter
         this.processors = processors;
         this.aggregationStrategy = aggregationStrategy;
         this.isParallelProcessing = parallelProcessing;
diff --git a/camel-core/src/test/java/org/apache/camel/impl/DefaultCamelContextEndpointCacheTest.java b/camel-core/src/test/java/org/apache/camel/impl/DefaultCamelContextEndpointCacheTest.java
new file mode 100644
index 00000000000..1c4617c646c
--- /dev/null
+++ b/camel-core/src/test/java/org/apache/camel/impl/DefaultCamelContextEndpointCacheTest.java
@@ -0,0 +1,60 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.impl;
+
+import java.util.ArrayList;
+import java.util.Collection;
+import java.util.List;
+
+import org.apache.camel.Consumer;
+import org.apache.camel.ContextTestSupport;
+import org.apache.camel.Endpoint;
+import org.apache.camel.Processor;
+import org.apache.camel.Producer;
+
+/**
+ * @version $Revision$
+ */
+public class DefaultCamelContextEndpointCacheTest extends ContextTestSupport {
+
+    public void testCacheEndpoints() throws Exception {
+        // test that we cache at most 1000 endpoints in camel context to avoid it eating to much memory
+        for (int i = 0; i < 1003; i++) {
+            String uri = "myendpoint?id=" + i;
+            Endpoint e = new DefaultEndpoint(uri, context) {
+                public Producer createProducer() throws Exception {
+                    return null;
+                }
+                public Consumer createConsumer(Processor processor) throws Exception {
+                    return null;
+                }
+                public boolean isSingleton() {
+                    return true;
+                }
+            };
+
+            context.addEndpoint(uri, e);
+        }
+
+        Collection<Endpoint> col = context.getEndpoints();
+        assertEquals("Size should be 1000", 1000, col.size());
+        List<Endpoint> list = new ArrayList<Endpoint>(col);
+        assertEquals("myendpoint?id=3", list.get(0).getEndpointUri());
+        assertEquals("myendpoint?id=1002", list.get(999).getEndpointUri());
+    }
+
+}
diff --git a/camel-core/src/test/java/org/apache/camel/impl/DefaultConsumerCacheTest.java b/camel-core/src/test/java/org/apache/camel/impl/DefaultConsumerCacheTest.java
new file mode 100644
index 00000000000..307c3796512
--- /dev/null
+++ b/camel-core/src/test/java/org/apache/camel/impl/DefaultConsumerCacheTest.java
@@ -0,0 +1,44 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.impl;
+
+import org.apache.camel.ContextTestSupport;
+import org.apache.camel.Endpoint;
+import org.apache.camel.PollingConsumer;
+
+/**
+ * @version $Revision$
+ */
+public class DefaultConsumerCacheTest extends ContextTestSupport {
+
+    public void testCacheConsumers() throws Exception {
+        ConsumerCache cache = new ConsumerCache();
+        cache.start();
+
+        assertEquals("Size should be 0", 0, cache.size());
+
+        // test that we cache at most 1000 producers to avoid it eating to much memory
+        for (int i = 0; i < 1003; i++) {
+            Endpoint e = context.getEndpoint("direct:queue:" + i);
+            PollingConsumer p = cache.getConsumer(e);
+        }
+
+        assertEquals("Size should be 1000", 1000, cache.size());
+        cache.stop();
+    }
+
+}
\ No newline at end of file
diff --git a/camel-core/src/test/java/org/apache/camel/impl/DefaultProducerCacheTest.java b/camel-core/src/test/java/org/apache/camel/impl/DefaultProducerCacheTest.java
new file mode 100644
index 00000000000..7553c98fb10
--- /dev/null
+++ b/camel-core/src/test/java/org/apache/camel/impl/DefaultProducerCacheTest.java
@@ -0,0 +1,44 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.impl;
+
+import org.apache.camel.ContextTestSupport;
+import org.apache.camel.Endpoint;
+import org.apache.camel.Producer;
+
+/**
+ * @version $Revision$
+ */
+public class DefaultProducerCacheTest extends ContextTestSupport {
+
+    public void testCacheProducers() throws Exception {
+        ProducerCache cache = new ProducerCache(context.getProducerServicePool());
+        cache.start();
+
+        assertEquals("Size should be 0", 0, cache.size());
+
+        // test that we cache at most 1000 producers to avoid it eating to much memory
+        for (int i = 0; i < 1003; i++) {
+            Endpoint e = context.getEndpoint("direct:queue:" + i);
+            Producer p = cache.getProducer(e);
+        }
+
+        assertEquals("Size should be 1000", 1000, cache.size());
+        cache.stop();
+    }
+
+}
diff --git a/components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSoapEndpoint.java b/components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSoapEndpoint.java
index ddbe12b2555..3a530b83196 100644
--- a/components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSoapEndpoint.java
+++ b/components/camel-cxf/src/main/java/org/apache/camel/component/cxf/CxfSoapEndpoint.java
@@ -70,6 +70,10 @@ public class CxfSoapEndpoint implements Endpoint, HeaderFilterStrategyAware {
         return endpoint.getEndpointUri();
     }
 
+    public String getEndpointKey() {
+        return endpoint.getEndpointUri();
+    }
+
     public Exchange createExchange() {
         return endpoint.createExchange();
     }
@@ -168,6 +172,7 @@ public class CxfSoapEndpoint implements Endpoint, HeaderFilterStrategyAware {
         headerFilterStrategy = strategy;
         
     }
+
     public boolean isLenientProperties() {
         return false;
     }
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpProducerJMXBeansIssueTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpProducerJMXBeansIssueTest.java
new file mode 100644
index 00000000000..4e5dd2c4a6e
--- /dev/null
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpProducerJMXBeansIssueTest.java
@@ -0,0 +1,81 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.jetty;
+
+import org.apache.camel.Endpoint;
+import org.apache.camel.Exchange;
+import org.apache.camel.Processor;
+import org.apache.camel.Producer;
+import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.test.junit4.CamelTestSupport;
+import org.apache.commons.logging.Log;
+import org.apache.commons.logging.LogFactory;
+import org.junit.Test;
+
+/**
+ * @version $Revision$
+ */
+public class HttpProducerJMXBeansIssueTest extends CamelTestSupport {
+
+    private static final Log LOG = LogFactory.getLog(HttpProducerJMXBeansIssueTest.class);
+
+    @Override
+    public void setUp() throws Exception {
+        // to enable the JMX connector
+        enableJMX();
+        System.setProperty("org.apache.camel.jmx.createRmiConnector", "True");
+        super.setUp();
+    }
+
+    @Override
+    protected RouteBuilder createRouteBuilder() throws Exception {
+        return new RouteBuilder() {
+            @Override
+            public void configure() throws Exception {
+                from("jetty:http://localhost:9080/leak").transform(constant("Bye World"));
+
+                from("direct:leak").process(new Processor() {
+                    public void process(Exchange exchange) throws Exception {
+                        LOG.debug("URL is: " + exchange.getIn().getHeader("url"));
+                    }
+                }).recipientList(header("url"));
+            }
+        };
+    }
+
+    @Test
+    public void testNothing() {
+        // do nothing as this test is manual
+    }
+
+    // @Test
+    // TODO: disabled as this is a manual test
+    public void testSendAlot() throws Exception {
+        Endpoint ep = context.getEndpoint("direct:leak");
+        Producer p = ep.createProducer();
+        p.start();
+
+        for (int i = 0; i < 10000; i++) {
+            Exchange ex = ep.createExchange();
+            ex.getIn().setHeader("url", "http://localhost:9080/leak?id=" + i);
+            p.process(ex);
+        }
+
+        p.stop();
+    }
+
+}
