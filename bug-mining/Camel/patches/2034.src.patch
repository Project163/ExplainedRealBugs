diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/AbstractSmppCommand.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/AbstractSmppCommand.java
index 76820102f83..d37beadf73c 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/AbstractSmppCommand.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/AbstractSmppCommand.java
@@ -37,10 +37,8 @@ public abstract class AbstractSmppCommand implements SmppCommand {
     protected Message getResponseMessage(Exchange exchange) {
         Message message;
         if (exchange.getPattern().isOutCapable()) {
-            log.debug("Exchange is out capable, setting headers on out exchange...");
             message = exchange.getOut();
         } else {
-            log.debug("Exchange is not out capable, setting headers on in exchange...");
             message = exchange.getIn();
         }
         
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/MessageReceiverListenerImpl.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/MessageReceiverListenerImpl.java
index baca145f7ab..5581b330de8 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/MessageReceiverListenerImpl.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/MessageReceiverListenerImpl.java
@@ -50,31 +50,41 @@ public class MessageReceiverListenerImpl implements MessageReceiverListener {
     public void onAcceptAlertNotification(AlertNotification alertNotification) {
         LOG.debug("Received an alertNotification {}", alertNotification);
 
+        Exchange exchange = endpoint.createOnAcceptAlertNotificationExchange(alertNotification);
         try {
-            Exchange exchange = endpoint.createOnAcceptAlertNotificationExchange(alertNotification);
-
-            LOG.trace("Processing the new smpp exchange...");
             processor.process(exchange);
-            LOG.trace("Processed the new smpp exchange");
         } catch (Exception e) {
-            exceptionHandler.handleException(e);
+            exchange.setException(e);
+        }
+
+        if (exchange.getException() != null) {
+            exceptionHandler.handleException("Cannot process exchange. This exception will be ignored.", exchange, exchange.getException());
         }
     }
 
     public void onAcceptDeliverSm(DeliverSm deliverSm) throws ProcessRequestException {
         LOG.debug("Received a deliverSm {}", deliverSm);
 
+        Exchange exchange;
         try {
-            Exchange exchange = endpoint.createOnAcceptDeliverSmExchange(deliverSm);
+            exchange = endpoint.createOnAcceptDeliverSmExchange(deliverSm);
+        } catch (Exception e) {
+            exceptionHandler.handleException("Cannot create exchange. This exception will be ignored.", e);
+            return;
+        }
 
-            LOG.trace("processing the new smpp exchange...");
+        try {
             processor.process(exchange);
-            LOG.trace("processed the new smpp exchange");
         } catch (Exception e) {
-            exceptionHandler.handleException(e);
-            if (e instanceof ProcessRequestException) {
-                throw (ProcessRequestException) e;
+            exchange.setException(e);
+        }
+
+        if (exchange.getException() != null) {
+            ProcessRequestException pre = exchange.getException(ProcessRequestException.class);
+            if (pre == null) {
+                pre = new ProcessRequestException(exchange.getException().getMessage(), 255, exchange.getException());
             }
+            throw pre;
         }
     }
 
@@ -82,19 +92,19 @@ public class MessageReceiverListenerImpl implements MessageReceiverListener {
         LOG.debug("Received a dataSm {}", dataSm);
 
         MessageId newMessageId = messageIDGenerator.newMessageId();
-
+        Exchange exchange = endpoint.createOnAcceptDataSm(dataSm, newMessageId.getValue());
         try {
-            Exchange exchange = endpoint.createOnAcceptDataSm(dataSm, newMessageId.getValue());
-
-            LOG.trace("processing the new smpp exchange...");
             processor.process(exchange);
-            LOG.trace("processed the new smpp exchange");
         } catch (Exception e) {
-            exceptionHandler.handleException(e);
-            if (e instanceof ProcessRequestException) {
-                throw (ProcessRequestException) e;
+            exchange.setException(e);
+        }
+
+        if (exchange.getException() != null) {
+            ProcessRequestException pre = exchange.getException(ProcessRequestException.class);
+            if (pre == null) {
+                pre = new ProcessRequestException(exchange.getException().getMessage(), 255, exchange.getException());
             }
-            throw new ProcessRequestException(e.getMessage(), 255, e);
+            throw pre;
         }
 
         return new DataSmResult(newMessageId, dataSm.getOptionalParametes());
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppBinding.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppBinding.java
index 420849c2419..aec4a9f17e2 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppBinding.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppBinding.java
@@ -51,7 +51,7 @@ public class SmppBinding {
 
     /**
      * Create the SmppCommand object from the inbound exchange
-     * 
+     *
      * @throws UnsupportedEncodingException if the encoding is not supported
      */
     public SmppCommand createSmppCommand(SMPPSession session, Exchange exchange) {
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppCancelSmCommand.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppCancelSmCommand.java
index a38c82ef890..defbd71f0d3 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppCancelSmCommand.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppCancelSmCommand.java
@@ -32,9 +32,11 @@ public class SmppCancelSmCommand extends AbstractSmppCommand {
     @Override
     public void execute(Exchange exchange) throws SmppException {
         CancelSm cancelSm = createCancelSm(exchange);
-        
-        log.debug("Canceling a short message for exchange id '{}' and message id '{}'",
-                exchange.getExchangeId(), cancelSm.getMessageId());
+
+        if (log.isDebugEnabled()) {
+            log.debug("Canceling a short message for exchange id '{}' and message id '{}'",
+                    exchange.getExchangeId(), cancelSm.getMessageId());
+        }
 
         try {
             session.cancelShortMessage(
@@ -50,8 +52,10 @@ public class SmppCancelSmCommand extends AbstractSmppCommand {
             throw new SmppException(e);
         }
 
-        log.debug("Cancel a short message for exchange id '{}' and message id '{}'",
-                exchange.getExchangeId(), cancelSm.getMessageId());
+        if (log.isDebugEnabled()) {
+            log.debug("Cancel a short message for exchange id '{}' and message id '{}'",
+                    exchange.getExchangeId(), cancelSm.getMessageId());
+        }
 
         Message message = getResponseMessage(exchange);
         message.setHeader(SmppConstants.ID, cancelSm.getMessageId());
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppCommandType.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppCommandType.java
index a139c457254..50f4e89f2cc 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppCommandType.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppCommandType.java
@@ -75,7 +75,7 @@ public enum SmppCommandType {
      * Tries to return an instance of {@link SmppCommandType} using
      * {@link SmppConstants#COMMAND} header of the incoming message.
      * <p/>
-     * Returns {@link #SUBMIT_SM} if threre is no {@link SmppConstants#COMMAND}
+     * Returns {@link #SUBMIT_SM} if there is no {@link SmppConstants#COMMAND}
      * header in the incoming message or value of such a header cannot be
      * recognized.
      * <p/>
@@ -89,7 +89,7 @@ public enum SmppCommandType {
      * 
      * @param exchange
      *            an exchange to get an incoming message from
-     * @return an instalce of {@link SmppCommandType}
+     * @return an instance of {@link SmppCommandType}
      */
     public static SmppCommandType fromExchange(Exchange exchange) {
         Message in = exchange.getIn();
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppConstants.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppConstants.java
index 81cb89dde43..36d6bb8cfdd 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppConstants.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppConstants.java
@@ -46,7 +46,7 @@ public interface SmppConstants {
     String REGISTERED_DELIVERY = "CamelSmppRegisteredDelivery";
     String REPLACE_IF_PRESENT_FLAG = "CamelSmppReplaceIfPresentFlag";
     String SCHEDULE_DELIVERY_TIME = "CamelSmppScheduleDeliveryTime";
-    String SENT_MESSAGE_COUNT = "CamelSmppSentMessageCount"; // TODO: document this new property
+    String SENT_MESSAGE_COUNT = "CamelSmppSentMessageCount";
     String SEQUENCE_NUMBER = "CamelSmppSequenceNumber";
     String SERVICE_TYPE = "CamelSmppServiceType";
     String SOURCE_ADDR = "CamelSmppSourceAddr";
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppConsumer.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppConsumer.java
index aa21d2625e4..c70735afbd3 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppConsumer.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppConsumer.java
@@ -37,7 +37,7 @@ import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
 
 /**
- * An implementation of @{link Consumer} which use the SMPP protocol
+ * An implementation of {@link Consumer} which use the SMPP protocol
  * 
  * @version 
  */
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppDataSmCommand.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppDataSmCommand.java
index 2704c54ffc0..1ffd3529f43 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppDataSmCommand.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppDataSmCommand.java
@@ -37,7 +37,9 @@ public class SmppDataSmCommand extends AbstractSmppCommand {
     public void execute(Exchange exchange) throws SmppException {
         DataSm dataSm = createDataSm(exchange);
 
-        log.debug("Sending a data short message for exchange id '{}'...", exchange.getExchangeId());
+        if (log.isDebugEnabled()) {
+            log.debug("Sending a data short message for exchange id '{}'...", exchange.getExchangeId());
+        }
         
         DataSmResult result;
         try {
@@ -56,8 +58,10 @@ public class SmppDataSmCommand extends AbstractSmppCommand {
             throw new SmppException(e);
         }
 
-        log.debug("Sent a data short message for exchange id '{}' and message id '{}'",
-                exchange.getExchangeId(), result.getMessageId());
+        if (log.isDebugEnabled()) {
+            log.debug("Sent a data short message for exchange id '{}' and message id '{}'",
+                    exchange.getExchangeId(), result.getMessageId());
+        }
 
         Message message = getResponseMessage(exchange);
         message.setHeader(SmppConstants.ID, result.getMessageId());
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppQuerySmCommand.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppQuerySmCommand.java
index 42aacd373ca..3773d18b060 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppQuerySmCommand.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppQuerySmCommand.java
@@ -34,8 +34,10 @@ public class SmppQuerySmCommand extends AbstractSmppCommand {
     public void execute(Exchange exchange) throws SmppException {
         QuerySm querySm = createQuerySm(exchange);
 
-        log.debug("Querying for a short message for exchange id '{}' and message id '{}'...",
-                exchange.getExchangeId(), querySm.getMessageId());
+        if (log.isDebugEnabled()) {
+            log.debug("Querying for a short message for exchange id '{}' and message id '{}'...",
+                    exchange.getExchangeId(), querySm.getMessageId());
+        }
         
         QuerySmResult querySmResult;
         try {
@@ -48,8 +50,10 @@ public class SmppQuerySmCommand extends AbstractSmppCommand {
             throw new SmppException(e);
         }
 
-        log.debug("Query for a short message for exchange id '{}' and message id '{}'",
-                exchange.getExchangeId(), querySm.getMessageId());
+        if (log.isDebugEnabled()) {
+            log.debug("Query for a short message for exchange id '{}' and message id '{}'",
+                    exchange.getExchangeId(), querySm.getMessageId());
+        }
 
         Message message = getResponseMessage(exchange);
         message.setHeader(SmppConstants.ID, querySm.getMessageId());
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppReplaceSmCommand.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppReplaceSmCommand.java
index 71d41d04c3a..ffab474702d 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppReplaceSmCommand.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppReplaceSmCommand.java
@@ -49,9 +49,11 @@ public class SmppReplaceSmCommand extends SmppSmCommand {
 
         ReplaceSm replaceSm = createReplaceSmTempate(exchange);
         replaceSm.setShortMessage(message);
-        
-        log.debug("Sending replacement command for a short message for exchange id '{}' and message id '{}'",
-                exchange.getExchangeId(), replaceSm.getMessageId());
+
+        if (log.isDebugEnabled()) {
+            log.debug("Sending replacement command for a short message for exchange id '{}' and message id '{}'",
+                    exchange.getExchangeId(), replaceSm.getMessageId());
+        }
 
         try {
             session.replaceShortMessage(
@@ -68,8 +70,10 @@ public class SmppReplaceSmCommand extends SmppSmCommand {
             throw new SmppException(e);
         }
 
-        log.debug("Sent replacement command for a short message for exchange id '{}' and message id '{}'",
-                exchange.getExchangeId(), replaceSm.getMessageId());
+        if (log.isDebugEnabled()) {
+            log.debug("Sent replacement command for a short message for exchange id '{}' and message id '{}'",
+                    exchange.getExchangeId(), replaceSm.getMessageId());
+        }
         
         Message rspMsg = getResponseMessage(exchange);
         rspMsg.setHeader(SmppConstants.ID, replaceSm.getMessageId());
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppSplitter.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppSplitter.java
index 33e3423a181..3c79eee4ed5 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppSplitter.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppSplitter.java
@@ -142,16 +142,16 @@ public class SmppSplitter {
         int lengthOfData;
         byte refNum = getReferenceNumber();
         for (int i = 0; i < segmentNum; i++) {
-            LOG.debug("segment number = {}", i);
+            LOG.trace("segment number = {}", i);
             if (segmentNum - i == 1) {
                 lengthOfData = messageLength - i * segmentLength;
             } else {
                 lengthOfData = segmentLength;
             }
-            LOG.debug("Length of data = {}", lengthOfData);
+            LOG.trace("Length of data = {}", lengthOfData);
 
             segments[i] = new byte[UDHIE_HEADER_REAL_LENGTH + lengthOfData];
-            LOG.debug("segments[{}].length = {}", i, segments[i].length);
+            LOG.trace("segments[{}].length = {}", i, segments[i].length);
 
             segments[i][0] = UDHIE_HEADER_LENGTH; // doesn't include itself, is header length
             // SAR identifier
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppSubmitMultiCommand.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppSubmitMultiCommand.java
index 9b2816870d4..074545ea74d 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppSubmitMultiCommand.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppSubmitMultiCommand.java
@@ -56,7 +56,9 @@ public class SmppSubmitMultiCommand extends SmppSmCommand {
         
         for (SubmitMulti submitMulti : submitMulties) {
             SubmitMultiResult result;
-            log.debug("Sending multiple short messages for exchange id '{}'...", exchange.getExchangeId());
+            if (log.isDebugEnabled()) {
+                log.debug("Sending multiple short messages for exchange id '{}'...", exchange.getExchangeId());
+            }
             
             try {
                 result = session.submitMultiple(
@@ -82,7 +84,9 @@ public class SmppSubmitMultiCommand extends SmppSmCommand {
             }
         }
 
-        log.debug("Sent multiple short messages for exchange id '{}' and received results '{}'", exchange.getExchangeId(), results);
+        if (log.isDebugEnabled()) {
+            log.debug("Sent multiple short messages for exchange id '{}' and received results '{}'", exchange.getExchangeId(), results);
+        }
 
         List<String> messageIDs = new ArrayList<String>(results.size());
         // {messageID : [{destAddr : address, error : errorCode}]}
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppSubmitSmCommand.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppSubmitSmCommand.java
index bb202d58539..6f99d5061fb 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppSubmitSmCommand.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppSubmitSmCommand.java
@@ -50,7 +50,9 @@ public class SmppSubmitSmCommand extends SmppSmCommand {
         for (int i = 0; i < submitSms.length; i++) {
             SubmitSm submitSm = submitSms[i];
             String messageID;
-            log.debug("Sending short message {} for exchange id '{}'...", i, exchange.getExchangeId());
+            if (log.isDebugEnabled()) {
+                log.debug("Sending short message {} for exchange id '{}'...", i, exchange.getExchangeId());
+            }
             
             try {
                 messageID = session.submitShortMessage(
@@ -79,8 +81,10 @@ public class SmppSubmitSmCommand extends SmppSmCommand {
             messageIDs.add(messageID);
         }
 
-        log.debug("Sent short message for exchange id '{}' and received message ids '{}'",
-                exchange.getExchangeId(), messageIDs);
+        if (log.isDebugEnabled()) {
+            log.debug("Sent short message for exchange id '{}' and received message ids '{}'",
+                    exchange.getExchangeId(), messageIDs);
+        }
 
         Message message = getResponseMessage(exchange);
         message.setHeader(SmppConstants.ID, messageIDs);
@@ -205,7 +209,7 @@ public class SmppSubmitSmCommand extends SmppSmCommand {
         
         submitSm.setEsmClass(new ESMClass().value());
         
-        submitSm.setOptionalParametes(new OptionalParameter[0]);
+        submitSm.setOptionalParametes();
 
         return submitSm;
     }
diff --git a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppUtils.java b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppUtils.java
index eda9b017062..2cc277b9613 100644
--- a/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppUtils.java
+++ b/components/camel-smpp/src/main/java/org/apache/camel/component/smpp/SmppUtils.java
@@ -81,7 +81,7 @@ public final class SmppUtils {
      * Java format is (yyMMddHHmmSS).
      *
      * @param date in <tt>String</tt> format.
-     * @return
+     * @return the date
      * @throws NumberFormatException if there is contains non number on
      *         <code>date</code> parameter.
      * @throws IndexOutOfBoundsException if the date length in <tt>String</tt>
diff --git a/components/camel-smpp/src/test/java/org/apache/camel/component/smpp/MessageReceiverListenerImplTest.java b/components/camel-smpp/src/test/java/org/apache/camel/component/smpp/MessageReceiverListenerImplTest.java
index 14912bbda5c..fcc9b6331fa 100644
--- a/components/camel-smpp/src/test/java/org/apache/camel/component/smpp/MessageReceiverListenerImplTest.java
+++ b/components/camel-smpp/src/test/java/org/apache/camel/component/smpp/MessageReceiverListenerImplTest.java
@@ -75,6 +75,7 @@ public class MessageReceiverListenerImplTest {
         expect(endpoint.createOnAcceptAlertNotificationExchange(alertNotification))
             .andReturn(exchange);
         processor.process(exchange);
+        expect(exchange.getException()).andReturn(null);
         
         replay(endpoint, processor, exceptionHandler, alertNotification, exchange);
         
@@ -83,44 +84,6 @@ public class MessageReceiverListenerImplTest {
         verify(endpoint, processor, exceptionHandler, alertNotification, exchange);
     }
     
-    @Test
-    public void onAcceptAlertNotificationException() throws Exception {
-        AlertNotification alertNotification = createMock(AlertNotification.class);
-        Exchange exchange = createMock(Exchange.class);
-        Exception exception = new Exception("forced exception for test");
-        
-        expect(endpoint.createOnAcceptAlertNotificationExchange(alertNotification))
-            .andReturn(exchange);
-        processor.process(exchange);
-        expectLastCall().andThrow(exception);
-        exceptionHandler.handleException(exception);
-        
-        replay(endpoint, processor, exceptionHandler, alertNotification, exchange);
-        
-        listener.onAcceptAlertNotification(alertNotification);
-        
-        verify(endpoint, processor, exceptionHandler, alertNotification, exchange);
-    }
-    
-    @Test
-    public void onAcceptDeliverSmSuccess() throws Exception {
-        DeliverSm deliverSm = createMock(DeliverSm.class);
-        Exchange exchange = createMock(Exchange.class);
-        Exception exception = new Exception("forced exception for test");
-        
-        expect(endpoint.createOnAcceptDeliverSmExchange(deliverSm))
-            .andReturn(exchange);
-        processor.process(exchange);
-        expectLastCall().andThrow(exception);
-        exceptionHandler.handleException(exception);
-        
-        replay(endpoint, processor, exceptionHandler, deliverSm, exchange);
-        
-        listener.onAcceptDeliverSm(deliverSm);
-        
-        verify(endpoint, processor, exceptionHandler, deliverSm, exchange);
-    }
-    
     @Test
     public void onAcceptDeliverSmException() throws Exception {
         DeliverSm deliverSm = createMock(DeliverSm.class);
@@ -129,7 +92,8 @@ public class MessageReceiverListenerImplTest {
         expect(endpoint.createOnAcceptDeliverSmExchange(deliverSm))
             .andReturn(exchange);
         processor.process(exchange);
-        
+        expect(exchange.getException()).andReturn(null);
+
         replay(endpoint, processor, exceptionHandler, deliverSm, exchange);
         
         listener.onAcceptDeliverSm(deliverSm);
@@ -137,32 +101,6 @@ public class MessageReceiverListenerImplTest {
         verify(endpoint, processor, exceptionHandler, deliverSm, exchange);
     }
     
-    @Test
-    public void onAcceptDeliverSmProcessRequestException() throws Exception {
-        DeliverSm deliverSm = createMock(DeliverSm.class);
-        Exchange exchange = createMock(Exchange.class);
-        ProcessRequestException exception = new ProcessRequestException("forced exception for test", 100);
-        
-        expect(endpoint.createOnAcceptDeliverSmExchange(deliverSm))
-            .andReturn(exchange);
-        processor.process(exchange);
-        expectLastCall().andThrow(exception);
-        exceptionHandler.handleException(exception);
-        
-        replay(endpoint, processor, exceptionHandler, deliverSm, exchange);
-        
-        try {
-            listener.onAcceptDeliverSm(deliverSm);
-            fail("ProcessRequestException expected");
-        } catch (ProcessRequestException e) {
-            assertEquals(100, e.getErrorCode());
-            assertEquals("forced exception for test", e.getMessage());
-            assertNull(e.getCause());
-        }
-        
-        verify(endpoint, processor, exceptionHandler, deliverSm, exchange);
-    }
-    
     @Test
     public void onAcceptDataSmSuccess() throws Exception {
         SMPPSession session = createMock(SMPPSession.class);
@@ -173,6 +111,7 @@ public class MessageReceiverListenerImplTest {
         expect(endpoint.createOnAcceptDataSm(dataSm, "1"))
             .andReturn(exchange);
         processor.process(exchange);
+        expect(exchange.getException()).andReturn(null);
         expect(dataSm.getOptionalParametes())
             .andReturn(optionalParameters);
         
@@ -186,57 +125,4 @@ public class MessageReceiverListenerImplTest {
         assertSame(optionalParameters, result.getOptionalParameters());
     }
     
-    @Test
-    public void onAcceptDataSmException() throws Exception {
-        SMPPSession session = createMock(SMPPSession.class);
-        DataSm dataSm = createMock(DataSm.class);
-        Exchange exchange = createMock(Exchange.class);
-        Exception exception = new Exception("forced exception for test");
-        
-        expect(endpoint.createOnAcceptDataSm(dataSm, "1"))
-            .andReturn(exchange);
-        processor.process(exchange);
-        expectLastCall().andThrow(exception);
-        exceptionHandler.handleException(exception);
-        
-        replay(endpoint, processor, exceptionHandler, session, dataSm, exchange);
-        
-        try {
-            listener.onAcceptDataSm(dataSm, session);
-            fail("ProcessRequestException expected");
-        } catch (ProcessRequestException e) {
-            assertEquals(255, e.getErrorCode());
-            assertEquals("forced exception for test", e.getMessage());
-            assertSame(exception, e.getCause());
-        }
-        
-        verify(endpoint, processor, exceptionHandler, session, dataSm, exchange);
-    }
-    
-    @Test
-    public void onAcceptDataSmProcessRequestException() throws Exception {
-        SMPPSession session = createMock(SMPPSession.class);
-        DataSm dataSm = createMock(DataSm.class);
-        Exchange exchange = createMock(Exchange.class);
-        ProcessRequestException exception = new ProcessRequestException("forced exception for test", 100);
-        
-        expect(endpoint.createOnAcceptDataSm(dataSm, "1"))
-            .andReturn(exchange);
-        processor.process(exchange);
-        expectLastCall().andThrow(exception);
-        exceptionHandler.handleException(exception);
-        
-        replay(endpoint, processor, exceptionHandler, session, dataSm, exchange);
-        
-        try {
-            listener.onAcceptDataSm(dataSm, session);
-            fail("ProcessRequestException expected");
-        } catch (ProcessRequestException e) {
-            assertEquals(100, e.getErrorCode());
-            assertEquals("forced exception for test", e.getMessage());
-            assertNull(e.getCause());
-        }
-        
-        verify(endpoint, processor, exceptionHandler, session, dataSm, exchange);
-    }
 }
\ No newline at end of file
