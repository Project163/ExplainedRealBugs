diff --git a/examples/camel-example-jms-file/README.txt b/examples/camel-example-jms-file/README.txt
index 686403c18c3..0ce4b73e8b2 100644
--- a/examples/camel-example-jms-file/README.txt
+++ b/examples/camel-example-jms-file/README.txt
@@ -15,7 +15,12 @@ You will need to compile this example first:
   mvn compile
   
 The example should run if you type
-  mvn exec:java
+  mvn exec:java -PExample
+  
+To run the example inside ServiceMix 4
+  First install this example bundle, make sure the jms-file route service is started,
+  then start the client to send the JMS message to camel route service 
+  mvn exec:java -PClient
 
 To run the example with Ant
   a. You need to have Apache ActiveMQ installed. It can be downloaded from 
diff --git a/examples/camel-example-jms-file/pom.xml b/examples/camel-example-jms-file/pom.xml
index 660e0fcc859..edb07c4c7a3 100755
--- a/examples/camel-example-jms-file/pom.xml
+++ b/examples/camel-example-jms-file/pom.xml
@@ -34,6 +34,7 @@
 
   <properties>
     <camel.osgi.export.pkg>org.apache.camel.example.jmstofile.*</camel.osgi.export.pkg>
+    <camel.osgi.import.pkg>org.apache.activemq.xbean,org.apache.activemq.broker,org.apache.activemq.pool,*</camel.osgi.import.pkg>
   </properties>
 
   <dependencies>
@@ -75,6 +76,23 @@
       <scope>test</scope>
     </dependency>
   </dependencies>
+  
+  <profiles>
+  	<profile>
+  		<id>Example</id>
+  		<properties>
+  			<!-- Starting the camel-cxf example of routing the SOAP over http message to SOAP over JMS Server -->
+  			<target.main.class>org.apache.camel.example.jmstofile.CamelJmsToFileExample</target.main.class>
+  		</properties>
+     </profile>
+     <profile>
+  		<id>Client</id>
+  		<properties>
+  			<!-- Starting the camel-cxf example of routing the SOAP over http message to SOAP over JMS Server -->
+  			<target.main.class>org.apache.camel.example.jmstofile.JmsToFileClient</target.main.class>
+  		</properties>
+  	</profile>
+  </profiles>
 
   <build>
     <plugins>
@@ -84,7 +102,7 @@
         <groupId>org.codehaus.mojo</groupId>
         <artifactId>exec-maven-plugin</artifactId>
         <configuration>
-          <mainClass>org.apache.camel.example.jmstofile.CamelJmsToFileExample</mainClass>
+          <mainClass>${target.main.class}</mainClass>
           <includePluginDependencies>false</includePluginDependencies>
         </configuration>
       </plugin>
diff --git a/examples/camel-example-jms-file/src/main/java/org/apache/camel/example/jmstofile/JmsToFileClient.java b/examples/camel-example-jms-file/src/main/java/org/apache/camel/example/jmstofile/JmsToFileClient.java
index 300078849aa..9fe6dbfb80b 100644
--- a/examples/camel-example-jms-file/src/main/java/org/apache/camel/example/jmstofile/JmsToFileClient.java
+++ b/examples/camel-example-jms-file/src/main/java/org/apache/camel/example/jmstofile/JmsToFileClient.java
@@ -31,7 +31,7 @@ public final class JmsToFileClient {
         //Helper class
     }
     
-    public static void mail(String[] args) throws Exception {
+    public static void main(String args[]) throws Exception {
         
         CamelContext context = new DefaultCamelContext();
        
