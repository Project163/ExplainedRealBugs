diff --git a/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaProducer.java b/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaProducer.java
index 2918ffcfac6..c598cf9b3aa 100644
--- a/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaProducer.java
+++ b/components/camel-kafka/src/main/java/org/apache/camel/component/kafka/KafkaProducer.java
@@ -66,9 +66,21 @@ public class KafkaProducer extends DefaultProducer {
             throw new CamelExchangeException("No topic key set", exchange);
         }
         String partitionKey = exchange.getIn().getHeader(KafkaConstants.PARTITION_KEY, String.class);
+        boolean hasPartitionKey = partitionKey != null;
         String messageKey = exchange.getIn().getHeader(KafkaConstants.KEY, String.class);
+        boolean hasMessageKey = messageKey != null;
         String msg = exchange.getIn().getBody(String.class);
-        KeyedMessage<String, String> data = new KeyedMessage<String, String>(topic, messageKey, partitionKey, msg);
+        KeyedMessage<String, String> data;
+        if (hasPartitionKey && hasMessageKey) {
+            data = new KeyedMessage<String, String>(topic, messageKey, partitionKey, msg);
+        } else if (hasPartitionKey) {
+            data = new KeyedMessage<String, String>(topic, partitionKey, msg);
+        } else if (hasMessageKey) {
+            data = new KeyedMessage<String, String>(topic, messageKey, msg);
+        } else {
+            log.warn("No message key or partition key set");
+            data = new KeyedMessage<String, String>(topic, messageKey, partitionKey, msg);
+        }
         producer.send(data);
     }
 
diff --git a/components/camel-kafka/src/test/java/org/apache/camel/component/kafka/KafkaProducerTest.java b/components/camel-kafka/src/test/java/org/apache/camel/component/kafka/KafkaProducerTest.java
index b0f516f56c4..d989c9616c5 100644
--- a/components/camel-kafka/src/test/java/org/apache/camel/component/kafka/KafkaProducerTest.java
+++ b/components/camel-kafka/src/test/java/org/apache/camel/component/kafka/KafkaProducerTest.java
@@ -76,7 +76,7 @@ public class KafkaProducerTest {
 
         producer.process(exchange);
 
-        verifySendMessage("4", "anotherTopic", null);
+        verifySendMessage("4", "anotherTopic", "4");
     }
 
     @Test
@@ -115,7 +115,18 @@ public class KafkaProducerTest {
 
         producer.process(exchange);
 
-        verifySendMessage("4", "someTopic", null);
+        verifySendMessage("4", "someTopic", "4");
+    }
+
+    @Test
+    public void processSendsMesssageWithMessageKeyHeader() throws Exception {
+        endpoint.setTopic("someTopic");
+        Mockito.when(exchange.getIn()).thenReturn(in);
+        in.setHeader(KafkaConstants.KEY, "someKey");
+
+        producer.process(exchange);
+
+        verifySendMessage("someKey", "someTopic", "someKey");
     }
 
     @SuppressWarnings({"unchecked", "rawtypes"})
