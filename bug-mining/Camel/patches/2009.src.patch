diff --git a/camel-core/src/main/java/org/apache/camel/util/FileUtil.java b/camel-core/src/main/java/org/apache/camel/util/FileUtil.java
index ae8e1ee9a34..d6d4ddacda7 100644
--- a/camel-core/src/main/java/org/apache/camel/util/FileUtil.java
+++ b/camel-core/src/main/java/org/apache/camel/util/FileUtil.java
@@ -202,7 +202,8 @@ public final class FileUtil {
     }
 
     /**
-     * Compacts a path by stacking it and reducing <tt>..</tt>
+     * Compacts a path by stacking it and reducing <tt>..</tt>,
+     * and uses OS specific file separators (eg {@link java.io.File#separator}).
      */
     public static String compactPath(String path) {
         if (path == null) {
@@ -219,6 +220,9 @@ public final class FileUtil {
             return path;
         }
 
+        // preserve ending slash if given in input path
+        boolean endsWithSlash = path.endsWith("/") || path.endsWith("\\");
+
         Stack<String> stack = new Stack<String>();
         
         String separatorRegex = File.separator;
@@ -227,8 +231,8 @@ public final class FileUtil {
         }
         String[] parts = path.split(separatorRegex);
         for (String part : parts) {
-            if (part.equals("..") && !stack.isEmpty()) {
-                // only pop if there is a previous path
+            if (part.equals("..") && !stack.isEmpty() && !"..".equals(stack.peek())) {
+                // only pop if there is a previous path, which is not a ".." path either
                 stack.pop();
             } else {
                 stack.push(part);
@@ -244,6 +248,10 @@ public final class FileUtil {
             }
         }
 
+        if (endsWithSlash) {
+            sb.append(File.separator);
+        }
+
         return sb.toString();
     }
 
diff --git a/camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java b/camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java
index 30d762e7a1a..d48da11c197 100644
--- a/camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java
+++ b/camel-core/src/main/java/org/apache/camel/util/ObjectHelper.java
@@ -905,17 +905,7 @@ public final class ObjectHelper {
      * @return the modified or unmodified string if there were no changes
      */
     private static String resolveUriPath(String name) {
-        String answer = name;
-        if (answer.indexOf("//") > -1) {
-            answer = answer.replaceAll("//", "/");
-        }
-        if (answer.indexOf("../") > -1) {
-            answer = answer.replaceAll("[A-Za-z0-9]*/\\.\\./", "");
-        }
-        if (answer.indexOf("./") > -1) {
-            answer = answer.replaceAll("\\./", "");
-        }
-        return answer;
+        return FileUtil.compactPath(name);
     }
 
     /**
diff --git a/camel-core/src/test/java/org/apache/camel/util/FileUtilTest.java b/camel-core/src/test/java/org/apache/camel/util/FileUtilTest.java
index a5bd5e62f82..cf62605bcb7 100644
--- a/camel-core/src/test/java/org/apache/camel/util/FileUtilTest.java
+++ b/camel-core/src/test/java/org/apache/camel/util/FileUtilTest.java
@@ -133,6 +133,10 @@ public class FileUtilTest extends TestCase {
     public void testCompactPath() {
         assertEquals(null, FileUtil.compactPath(null));
         if (FileUtil.isWindows()) {
+            assertEquals("..\\foo", FileUtil.compactPath("..\\foo"));
+            assertEquals("..\\..\\foo", FileUtil.compactPath("..\\..\\foo"));
+            assertEquals("..\\..\\foo\\bar", FileUtil.compactPath("..\\..\\foo\\bar"));
+            assertEquals("..\\..\\foo", FileUtil.compactPath("..\\..\\foo\\bar\\.."));
             assertEquals("foo", FileUtil.compactPath("foo"));
             assertEquals("bar", FileUtil.compactPath("foo\\..\\bar"));
             assertEquals("bar\\baz", FileUtil.compactPath("foo\\..\\bar\\baz"));
@@ -141,6 +145,10 @@ public class FileUtilTest extends TestCase {
             assertEquals("..\\baz", FileUtil.compactPath("foo\\bar\\..\\..\\..\\baz"));
             assertEquals("..\\foo\\bar", FileUtil.compactPath("..\\foo\\bar"));
         } else {
+            assertEquals("../foo", FileUtil.compactPath("../foo"));
+            assertEquals("../../foo", FileUtil.compactPath("../../foo"));
+            assertEquals("../../foo/bar", FileUtil.compactPath("../../foo/bar"));
+            assertEquals("../../foo", FileUtil.compactPath("../../foo/bar/.."));
             assertEquals("foo", FileUtil.compactPath("foo"));
             assertEquals("bar", FileUtil.compactPath("foo/../bar"));
             assertEquals("bar/baz", FileUtil.compactPath("foo/../bar/baz"));
