diff --git a/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiConsumer.java b/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiConsumer.java
index 92f45f3cb09..4fea54cfd3c 100644
--- a/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiConsumer.java
+++ b/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiConsumer.java
@@ -40,7 +40,6 @@ public class KratiConsumer extends ScheduledBatchPollingConsumer {
 
     protected final KratiEndpoint endpoint;
     protected DataStore<Object, Object> dataStore;
-    protected int maxMessagesPerPoll = 10;
 
     public KratiConsumer(KratiEndpoint endpoint, Processor processor, DataStore<Object, Object> dataStore) {
         super(endpoint, processor);
@@ -88,12 +87,12 @@ public class KratiConsumer extends ScheduledBatchPollingConsumer {
                     try {
                         dataStore.delete(exchange.getProperty(KratiConstants.KEY));
                     } catch (Exception e) {
-                        LOG.warn("Failed to remove from datastore.", e);
+                        LOG.warn("Failed to remove from datastore. This exception is ignored.", e);
                     }
                 }
 
                 public void onFailure(Exchange exchange) {
-                  //emtpy
+                  // noop
                 }
             });
 
diff --git a/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiDataStoreRegistration.java b/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiDataStoreRegistration.java
index 048f5255a82..22b500755d0 100644
--- a/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiDataStoreRegistration.java
+++ b/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiDataStoreRegistration.java
@@ -14,7 +14,6 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-
 package org.apache.camel.component.krati;
 
 import java.io.IOException;
@@ -42,7 +41,7 @@ public class KratiDataStoreRegistration {
             try {
                 dataStore.close();
             } catch (IOException e) {
-                LOG.warn("Error while closing datastore.", e);
+                LOG.warn("Error while closing datastore. This exception is ignored.", e);
             }
             return true;
         } else {
diff --git a/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiHelper.java b/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiHelper.java
index 18ca295d236..6c890b0e4a9 100644
--- a/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiHelper.java
+++ b/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiHelper.java
@@ -82,7 +82,7 @@ public final class KratiHelper {
         try {
             result = new DynamicDataSet(homeDir, initialCapacity, segmentFactory);
         } catch (Exception e) {
-            throw new RuntimeCamelException("Failed to create Krati DataSet.", e);
+            throw new RuntimeCamelException("Failed to create Krati DataSet. This exception is ignored.", e);
         }
         return result;
     }
diff --git a/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiProducer.java b/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiProducer.java
index 68db6cf25bd..25933896b99 100644
--- a/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiProducer.java
+++ b/components/camel-krati/src/main/java/org/apache/camel/component/krati/KratiProducer.java
@@ -28,8 +28,8 @@ import org.slf4j.LoggerFactory;
 public class KratiProducer extends DefaultProducer {
     private static final transient Logger LOG = LoggerFactory.getLogger(KratiProducer.class);
 
-    protected KratiEndpoint endpoint;
-    protected DataStore<Object, Object> dataStore;
+    protected final KratiEndpoint endpoint;
+    protected final DataStore<Object, Object> dataStore;
 
     public KratiProducer(KratiEndpoint endpoint, DataStore<Object, Object> dataStore) {
         super(endpoint);
@@ -43,6 +43,9 @@ public class KratiProducer extends DefaultProducer {
 
         LOG.trace("Processing {} operation on '[{}]'", operation, exchange);
         if (KratiConstants.KRATI_OPERATION_GET.equals(operation) && key != null) {
+            // preserve headers and attachments
+            exchange.getOut().setHeaders(exchange.getIn().getHeaders());
+            exchange.getOut().setAttachments(exchange.getIn().getAttachments());
             exchange.getOut().setBody(dataStore.get(key));
         } else if (KratiConstants.KRATI_OPERATION_DELETE.equals(operation) && key != null) {
             boolean status;
@@ -51,16 +54,23 @@ public class KratiProducer extends DefaultProducer {
                 dataStore.persist();
             }
             if (status) {
+                exchange.getOut().setHeaders(exchange.getIn().getHeaders());
+                exchange.getOut().setAttachments(exchange.getIn().getAttachments());
                 exchange.getOut().setHeader(KratiConstants.KRATI_OPERATION_STATUS, KratiConstants.KRATI_OPERATION_SUCESSFUL);
             } else {
+                exchange.getOut().setHeaders(exchange.getIn().getHeaders());
+                exchange.getOut().setAttachments(exchange.getIn().getAttachments());
                 exchange.getOut().setHeader(KratiConstants.KRATI_OPERATION_STATUS, KratiConstants.KRATI_OPERATION_FAILURE);
             }
         } else if (KratiConstants.KRATI_OPERATION_DELETEALL.equals(operation)) {
             try {
                 dataStore.clear();
+                exchange.getOut().setHeaders(exchange.getIn().getHeaders());
+                exchange.getOut().setAttachments(exchange.getIn().getAttachments());
                 exchange.getOut().setHeader(KratiConstants.KRATI_OPERATION_STATUS, KratiConstants.KRATI_OPERATION_SUCESSFUL);
             } catch (Exception e) {
                 LOG.warn("Error clearing all entries from store", e);
+                // This is not so good to ignore exceptions, the end user have not access the exception, and cannot use Camel error handling
                 exchange.getOut().setHeader(KratiConstants.KRATI_OPERATION_STATUS, KratiConstants.KRATI_OPERATION_FAILURE);
             }
         } else {
@@ -74,9 +84,6 @@ public class KratiProducer extends DefaultProducer {
 
     /**
      * Retrieves the operation from the URI or from the exchange headers. The header will take precedence over the URI.
-     *
-     * @param exchange
-     * @return
      */
     public String getOperation(Exchange exchange) {
         String operation = ((KratiEndpoint) getEndpoint()).getOperation();
@@ -90,9 +97,6 @@ public class KratiProducer extends DefaultProducer {
 
     /**
      * Retrieves the key from the URI or from the exchange headers. The header will take precedence over the URI.
-     *
-     * @param exchange
-     * @return
      */
     public Object getKey(Exchange exchange) {
         Object key = ((KratiEndpoint) getEndpoint()).getKey();
@@ -105,9 +109,6 @@ public class KratiProducer extends DefaultProducer {
 
     /**
      * Retrieves the value from the URI or from the exchange headers/body. The header/body will take precedence over the URI.
-     *
-     * @param exchange
-     * @return
      */
     public Object getValue(Exchange exchange) {
         Object value = ((KratiEndpoint) getEndpoint()).getValue();
diff --git a/components/camel-krati/src/main/java/org/apache/camel/component/krati/processor/idempotent/KratiIdempotentRepository.java b/components/camel-krati/src/main/java/org/apache/camel/component/krati/processor/idempotent/KratiIdempotentRepository.java
index 8de5b719acf..5011691676f 100644
--- a/components/camel-krati/src/main/java/org/apache/camel/component/krati/processor/idempotent/KratiIdempotentRepository.java
+++ b/components/camel-krati/src/main/java/org/apache/camel/component/krati/processor/idempotent/KratiIdempotentRepository.java
@@ -57,7 +57,7 @@ public class KratiIdempotentRepository extends ServiceSupport implements Idempot
 
             }
         } catch (Exception e) {
-            LOG.warn("Error adding item to krati idempotent repository. This exception is ignored.", e);
+            LOG.warn("Error adding item to Krati idempotent repository. This exception is ignored.", e);
             return false;
         }
     }
@@ -69,7 +69,7 @@ public class KratiIdempotentRepository extends ServiceSupport implements Idempot
         try {
             return dataSet.has(bytes);
         } catch (Exception e) {
-            LOG.warn("Error checking item exists in krati idempotent repository. This exception is ignored.", e);
+            LOG.warn("Error checking item exists in Krati idempotent repository. This exception is ignored.", e);
             return false;
         }
     }
@@ -81,7 +81,7 @@ public class KratiIdempotentRepository extends ServiceSupport implements Idempot
         try {
             return dataSet.delete(bytes);
         } catch (Exception e) {
-            LOG.warn("Error removing item from krati idempotent repository. This exception is ignored.", e);
+            LOG.warn("Error removing item from Krati idempotent repository. This exception is ignored.", e);
             return false;
         }
     }
diff --git a/components/camel-krati/src/main/java/org/apache/camel/component/krati/serializer/KratiDefaultSerializer.java b/components/camel-krati/src/main/java/org/apache/camel/component/krati/serializer/KratiDefaultSerializer.java
index 4c4b0af6313..8fd29a99190 100644
--- a/components/camel-krati/src/main/java/org/apache/camel/component/krati/serializer/KratiDefaultSerializer.java
+++ b/components/camel-krati/src/main/java/org/apache/camel/component/krati/serializer/KratiDefaultSerializer.java
@@ -14,7 +14,6 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-
 package org.apache.camel.component.krati.serializer;
 
 import java.io.ByteArrayInputStream;
@@ -77,6 +76,7 @@ public class KratiDefaultSerializer<T extends Serializable> implements Serialize
             return null;
         }
 
+        // TODO: should use Camel's ClassResolver for classloading
         ByteArrayInputStream bais = new ByteArrayInputStream(binary);
         final ClassLoader classLoader = Thread.currentThread().getContextClassLoader();
         try {
diff --git a/components/camel-krati/src/test/java/org/apache/camel/component/krati/KratiProducerTest.java b/components/camel-krati/src/test/java/org/apache/camel/component/krati/KratiProducerTest.java
index 3957832a5de..2e499f05aa0 100644
--- a/components/camel-krati/src/test/java/org/apache/camel/component/krati/KratiProducerTest.java
+++ b/components/camel-krati/src/test/java/org/apache/camel/component/krati/KratiProducerTest.java
@@ -17,6 +17,8 @@
 
 package org.apache.camel.component.krati;
 
+import org.apache.camel.Exchange;
+import org.apache.camel.Processor;
 import org.apache.camel.ProducerTemplate;
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.component.mock.MockEndpoint;
@@ -47,6 +49,25 @@ public class KratiProducerTest extends CamelTestSupport {
         assertEquals(new ValueObject("TEST3"), result);
     }
 
+    @Test
+    public void testPutAndGetPreserveHeaders() throws InterruptedException {
+        ProducerTemplate template = context.createProducerTemplate();
+        template.sendBodyAndHeader("direct:put", new ValueObject("TEST1"), KratiConstants.KEY, new KeyObject("1"));
+        template.sendBodyAndHeader("direct:put", new ValueObject("TEST2"), KratiConstants.KEY, new KeyObject("2"));
+        template.sendBodyAndHeader("direct:put", new ValueObject("TEST3"), KratiConstants.KEY, new KeyObject("3"));
+
+        Exchange out = template.send("direct:get", new Processor() {
+            @Override
+            public void process(Exchange exchange) throws Exception {
+                exchange.getIn().setHeader("foo", 123);
+                exchange.getIn().setHeader(KratiConstants.KEY, new KeyObject("3"));
+            }
+        });
+        assertNotNull(out);
+        assertEquals(123, out.getOut().getHeader("foo"));
+        assertEquals(new ValueObject("TEST3"), out.getOut().getBody());
+    }
+
     @Test
     public void testPutDeleteAndGet() throws InterruptedException {
         ProducerTemplate template = context.createProducerTemplate();
