diff --git a/catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/models/routeTemplate.json b/catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/models/routeTemplate.json
index 954b6650482..9d681a04740 100644
--- a/catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/models/routeTemplate.json
+++ b/catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/models/routeTemplate.json
@@ -11,8 +11,8 @@
     "output": true
   },
   "properties": {
-    "templateParameter": { "kind": "element", "displayName": "Template Parameter", "required": false, "type": "array", "javaType": "java.util.List<org.apache.camel.model.RouteTemplateParameterDefinition>", "deprecated": false, "autowired": false, "secret": false, "description": "Adds a parameter the route template uses." },
-    "templateBean": { "kind": "element", "displayName": "Template Bean", "required": false, "type": "array", "javaType": "java.util.List<org.apache.camel.model.RouteTemplateBeanDefinition>", "deprecated": false, "autowired": false, "secret": false, "description": "Adds a local bean the route template uses." },
+    "templateParameter": { "kind": "element", "displayName": "Template Parameter", "required": false, "type": "array", "javaType": "java.util.List<org.apache.camel.model.RouteTemplateParameterDefinition>", "deprecated": false, "autowired": false, "secret": false, "description": "Adds a template parameter the route template uses" },
+    "templateBean": { "kind": "element", "displayName": "Template Bean", "required": false, "type": "array", "javaType": "java.util.List<org.apache.camel.model.RouteTemplateBeanDefinition>", "deprecated": false, "autowired": false, "secret": false, "description": "Adds a local bean the route template uses" },
     "route": { "kind": "element", "displayName": "Route", "required": true, "type": "object", "javaType": "org.apache.camel.model.RouteDefinition", "deprecated": false, "autowired": false, "secret": false, "description": "To define the route in the template" },
     "id": { "kind": "attribute", "displayName": "Id", "required": false, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "Sets the id of this node" },
     "description": { "kind": "element", "displayName": "Description", "required": false, "type": "object", "javaType": "org.apache.camel.model.DescriptionDefinition", "deprecated": false, "autowired": false, "secret": false, "description": "Sets the description of this node" }
diff --git a/catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/models/templateParameter.json b/catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/models/templateParameter.json
index 61aa987d9de..bf2a5586580 100644
--- a/catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/models/templateParameter.json
+++ b/catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/models/templateParameter.json
@@ -11,8 +11,9 @@
     "output": false
   },
   "properties": {
-    "name": { "kind": "attribute", "displayName": "Name", "required": true, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "Parameter name" },
-    "defaultValue": { "kind": "attribute", "displayName": "Default Value", "required": false, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "Parameter default value" },
-    "description": { "kind": "attribute", "displayName": "Description", "required": false, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "Parameter description" }
+    "name": { "kind": "attribute", "displayName": "Name", "required": true, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "The name of the parameter" },
+    "required": { "kind": "attribute", "displayName": "Required", "required": false, "type": "boolean", "javaType": "java.lang.Boolean", "deprecated": false, "autowired": false, "secret": false, "defaultValue": false, "description": "Whether the parameter is required or not. A parameter is required unless this option is set to false or a default value has been configured." },
+    "defaultValue": { "kind": "attribute", "displayName": "Default Value", "required": false, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "Default value of the parameter. If a default value is provided then the parameter is implied not to be required." },
+    "description": { "kind": "attribute", "displayName": "Description", "required": false, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "Description of the parameter" }
   }
 }
diff --git a/core/camel-core-engine/src/main/java/org/apache/camel/impl/DefaultModel.java b/core/camel-core-engine/src/main/java/org/apache/camel/impl/DefaultModel.java
index a9dd0ce6de0..53b02cc9f1a 100644
--- a/core/camel-core-engine/src/main/java/org/apache/camel/impl/DefaultModel.java
+++ b/core/camel-core-engine/src/main/java/org/apache/camel/impl/DefaultModel.java
@@ -262,8 +262,8 @@ public class DefaultModel implements Model {
                 if (temp.getDefaultValue() != null) {
                     prop.put(temp.getName(), temp.getDefaultValue());
                 } else {
-                    // this is a required parameter do we have that as input
-                    if (!routeTemplateContext.getParameters().containsKey(temp.getName())) {
+                    if (temp.isRequired() && !routeTemplateContext.getParameters().containsKey(temp.getName())) {
+                        // this is a required parameter which is missing
                         templatesBuilder.add(temp.getName());
                     }
                 }
@@ -271,7 +271,7 @@ public class DefaultModel implements Model {
             if (templatesBuilder.length() > 0) {
                 throw new IllegalArgumentException(
                         "Route template " + routeTemplateId + " the following mandatory parameters must be provided: "
-                                                   + templatesBuilder.toString());
+                                                   + templatesBuilder);
             }
         }
 
diff --git a/core/camel-core-model/src/generated/resources/org/apache/camel/model/routeTemplate.json b/core/camel-core-model/src/generated/resources/org/apache/camel/model/routeTemplate.json
index 954b6650482..9d681a04740 100644
--- a/core/camel-core-model/src/generated/resources/org/apache/camel/model/routeTemplate.json
+++ b/core/camel-core-model/src/generated/resources/org/apache/camel/model/routeTemplate.json
@@ -11,8 +11,8 @@
     "output": true
   },
   "properties": {
-    "templateParameter": { "kind": "element", "displayName": "Template Parameter", "required": false, "type": "array", "javaType": "java.util.List<org.apache.camel.model.RouteTemplateParameterDefinition>", "deprecated": false, "autowired": false, "secret": false, "description": "Adds a parameter the route template uses." },
-    "templateBean": { "kind": "element", "displayName": "Template Bean", "required": false, "type": "array", "javaType": "java.util.List<org.apache.camel.model.RouteTemplateBeanDefinition>", "deprecated": false, "autowired": false, "secret": false, "description": "Adds a local bean the route template uses." },
+    "templateParameter": { "kind": "element", "displayName": "Template Parameter", "required": false, "type": "array", "javaType": "java.util.List<org.apache.camel.model.RouteTemplateParameterDefinition>", "deprecated": false, "autowired": false, "secret": false, "description": "Adds a template parameter the route template uses" },
+    "templateBean": { "kind": "element", "displayName": "Template Bean", "required": false, "type": "array", "javaType": "java.util.List<org.apache.camel.model.RouteTemplateBeanDefinition>", "deprecated": false, "autowired": false, "secret": false, "description": "Adds a local bean the route template uses" },
     "route": { "kind": "element", "displayName": "Route", "required": true, "type": "object", "javaType": "org.apache.camel.model.RouteDefinition", "deprecated": false, "autowired": false, "secret": false, "description": "To define the route in the template" },
     "id": { "kind": "attribute", "displayName": "Id", "required": false, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "Sets the id of this node" },
     "description": { "kind": "element", "displayName": "Description", "required": false, "type": "object", "javaType": "org.apache.camel.model.DescriptionDefinition", "deprecated": false, "autowired": false, "secret": false, "description": "Sets the description of this node" }
diff --git a/core/camel-core-model/src/generated/resources/org/apache/camel/model/templateParameter.json b/core/camel-core-model/src/generated/resources/org/apache/camel/model/templateParameter.json
index 61aa987d9de..bf2a5586580 100644
--- a/core/camel-core-model/src/generated/resources/org/apache/camel/model/templateParameter.json
+++ b/core/camel-core-model/src/generated/resources/org/apache/camel/model/templateParameter.json
@@ -11,8 +11,9 @@
     "output": false
   },
   "properties": {
-    "name": { "kind": "attribute", "displayName": "Name", "required": true, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "Parameter name" },
-    "defaultValue": { "kind": "attribute", "displayName": "Default Value", "required": false, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "Parameter default value" },
-    "description": { "kind": "attribute", "displayName": "Description", "required": false, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "Parameter description" }
+    "name": { "kind": "attribute", "displayName": "Name", "required": true, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "The name of the parameter" },
+    "required": { "kind": "attribute", "displayName": "Required", "required": false, "type": "boolean", "javaType": "java.lang.Boolean", "deprecated": false, "autowired": false, "secret": false, "defaultValue": false, "description": "Whether the parameter is required or not. A parameter is required unless this option is set to false or a default value has been configured." },
+    "defaultValue": { "kind": "attribute", "displayName": "Default Value", "required": false, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "Default value of the parameter. If a default value is provided then the parameter is implied not to be required." },
+    "description": { "kind": "attribute", "displayName": "Description", "required": false, "type": "string", "javaType": "java.lang.String", "deprecated": false, "autowired": false, "secret": false, "description": "Description of the parameter" }
   }
 }
diff --git a/core/camel-core-model/src/main/java/org/apache/camel/model/RouteTemplateDefinition.java b/core/camel-core-model/src/main/java/org/apache/camel/model/RouteTemplateDefinition.java
index 8d6071197f6..987b635c71d 100644
--- a/core/camel-core-model/src/main/java/org/apache/camel/model/RouteTemplateDefinition.java
+++ b/core/camel-core-model/src/main/java/org/apache/camel/model/RouteTemplateDefinition.java
@@ -45,9 +45,10 @@ import org.apache.camel.spi.Metadata;
 public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
 
     @XmlElement(name = "templateParameter")
+    @Metadata(description = "Adds a template parameter the route template uses")
     private List<RouteTemplateParameterDefinition> templateParameters;
     @XmlElement(name = "templateBean")
-    @Metadata(description = "Adds a local bean the route template uses.")
+    @Metadata(description = "Adds a local bean the route template uses")
     private List<RouteTemplateBeanDefinition> templateBeans;
     @XmlElement(name = "route", required = true)
     private RouteDefinition route = new RouteDefinition();
@@ -135,7 +136,7 @@ public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
     }
 
     /**
-     * Adds a parameter the route template uses.
+     * Adds a required parameter the route template uses
      *
      * @param name the name of the parameter
      */
@@ -145,7 +146,28 @@ public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
     }
 
     /**
-     * Adds a parameter the route template uses.
+     * Adds an optional parameter the route template uses
+     *
+     * @param name the name of the parameter
+     */
+    public RouteTemplateDefinition templateOptionalParameter(String name) {
+        addTemplateOptionalParameter(name, null);
+        return this;
+    }
+
+    /**
+     * Adds an optional parameter the route template uses
+     *
+     * @param name        the name of the parameter
+     * @param description the description of the parameter
+     */
+    public RouteTemplateDefinition templateOptionalParameter(String name, String description) {
+        addTemplateOptionalParameter(name, description);
+        return this;
+    }
+
+    /**
+     * Adds a parameter (will use default value if not provided) the route template uses
      *
      * @param name         the name of the parameter
      * @param defaultValue default value of the parameter
@@ -156,10 +178,11 @@ public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
     }
 
     /**
-     * Adds a parameter the route template uses.
+     * Adds a parameter (will use default value if not provided) the route template uses
      *
      * @param name         the name of the parameter
      * @param defaultValue default value of the parameter
+     * @param description  the description of the parameter
      */
     public RouteTemplateDefinition templateParameter(String name, String defaultValue, String description) {
         addTemplateParameter(name, defaultValue, description);
@@ -169,6 +192,9 @@ public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
     /**
      * Adds the parameters the route template uses.
      *
+     * The keys in the map is the parameter names, and the values are optional default value. If a parameter has no
+     * default value then the parameter is required.
+     *
      * @param parameters the parameters (only name and default values)
      */
     public RouteTemplateDefinition templateParameters(Map<String, String> parameters) {
@@ -177,7 +203,7 @@ public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
     }
 
     /**
-     * Adds a local bean the route template uses.
+     * Adds a local bean the route template uses
      *
      * @param name the name of the bean
      * @param type the type of the bean to associate the binding
@@ -194,7 +220,7 @@ public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
     }
 
     /**
-     * Adds a local bean the route template uses.
+     * Adds a local bean the route template uses
      *
      * @param name the name of the bean
      * @param bean the bean or a supplier for the bean
@@ -218,7 +244,7 @@ public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
     }
 
     /**
-     * Adds a local bean the route template uses.
+     * Adds a local bean the route template uses
      *
      * @param name the name of the bean
      * @param bean the supplier for the bean
@@ -235,7 +261,7 @@ public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
     }
 
     /**
-     * Adds a local bean the route template uses.
+     * Adds a local bean the route template uses
      *
      * @param name the name of the bean
      * @param type the type of the bean to associate the binding
@@ -254,7 +280,7 @@ public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
     }
 
     /**
-     * Adds a local bean the route template uses.
+     * Adds a local bean the route template uses
      *
      * @param name     the name of the bean
      * @param language the language to use
@@ -273,7 +299,7 @@ public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
     }
 
     /**
-     * Adds a local bean the route template uses (via fluent builder).
+     * Adds a local bean the route template uses (via fluent builder)
      *
      * @param  name the name of the bean
      * @return      fluent builder to choose which language and script to use for creating the bean
@@ -309,16 +335,10 @@ public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
         return "RouteTemplate[" + route.getInput().getLabel() + "]";
     }
 
-    /**
-     * Adds a parameter the route template uses.
-     */
     private void addTemplateParameter(String name, String defaultValue) {
         addTemplateParameter(name, defaultValue, null);
     }
 
-    /**
-     * Adds a parameter the route template uses.
-     */
     private void addTemplateParameter(String name, String defaultValue, String description) {
         if (this.templateParameters == null) {
             this.templateParameters = new ArrayList<>();
@@ -326,6 +346,15 @@ public class RouteTemplateDefinition extends OptionalIdentifiedDefinition {
         this.templateParameters.add(new RouteTemplateParameterDefinition(name, defaultValue, description));
     }
 
+    private void addTemplateOptionalParameter(String name, String description) {
+        if (this.templateParameters == null) {
+            this.templateParameters = new ArrayList<>();
+        }
+        RouteTemplateParameterDefinition def = new RouteTemplateParameterDefinition(name, null, description);
+        def.setRequired(false);
+        this.templateParameters.add(def);
+    }
+
     /**
      * Creates a copy of this template as a {@link RouteDefinition} which can be used to add as a new route.
      */
diff --git a/core/camel-core-model/src/main/java/org/apache/camel/model/RouteTemplateParameterDefinition.java b/core/camel-core-model/src/main/java/org/apache/camel/model/RouteTemplateParameterDefinition.java
index 26ef63b7177..9beba20d785 100644
--- a/core/camel-core-model/src/main/java/org/apache/camel/model/RouteTemplateParameterDefinition.java
+++ b/core/camel-core-model/src/main/java/org/apache/camel/model/RouteTemplateParameterDefinition.java
@@ -33,6 +33,8 @@ public class RouteTemplateParameterDefinition {
     @XmlAttribute(required = true)
     String name;
     @XmlAttribute
+    Boolean required;
+    @XmlAttribute
     String defaultValue;
     @XmlAttribute
     String description;
@@ -42,8 +44,13 @@ public class RouteTemplateParameterDefinition {
 
     public RouteTemplateParameterDefinition(String name, String defaultValue, String description) {
         this.name = name;
-        this.defaultValue = defaultValue;
         this.description = description;
+        this.defaultValue = defaultValue;
+    }
+
+    public boolean isRequired() {
+        // assumed to be required if not set explicit to false
+        return required == null || required;
     }
 
     public String getName() {
@@ -51,18 +58,30 @@ public class RouteTemplateParameterDefinition {
     }
 
     /**
-     * Parameter name
+     * The name of the parameter
      */
     public void setName(String name) {
         this.name = name;
     }
 
+    public Boolean getRequired() {
+        return required;
+    }
+
+    /**
+     * Whether the parameter is required or not. A parameter is required unless this option is set to false or a default
+     * value has been configured.
+     */
+    public void setRequired(Boolean required) {
+        this.required = required;
+    }
+
     public String getDefaultValue() {
         return defaultValue;
     }
 
     /**
-     * Parameter default value
+     * Default value of the parameter. If a default value is provided then the parameter is implied not to be required.
      */
     public void setDefaultValue(String defaultValue) {
         this.defaultValue = defaultValue;
@@ -73,7 +92,7 @@ public class RouteTemplateParameterDefinition {
     }
 
     /**
-     * Parameter description
+     * Description of the parameter
      */
     public void setDescription(String description) {
         this.description = description;
diff --git a/core/camel-core/src/test/java/org/apache/camel/builder/RouteTemplateOptionalValueTest.java b/core/camel-core/src/test/java/org/apache/camel/builder/RouteTemplateOptionalValueTest.java
new file mode 100644
index 00000000000..c4c4a59fe0a
--- /dev/null
+++ b/core/camel-core/src/test/java/org/apache/camel/builder/RouteTemplateOptionalValueTest.java
@@ -0,0 +1,64 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.builder;
+
+import org.apache.camel.ContextTestSupport;
+import org.junit.jupiter.api.Test;
+
+public class RouteTemplateOptionalValueTest extends ContextTestSupport {
+
+    @Test
+    public void testOptionalProvided() throws Exception {
+        TemplatedRouteBuilder.builder(context, "myTemplate")
+                .parameter("foo", "start")
+                .parameter("myRetain", "1")
+                .routeId("myRoute")
+                .add();
+
+        getMockEndpoint("mock:result?retainFirst=1").expectedMessageCount(1);
+
+        template.sendBody("direct:start", "Hello World");
+
+        assertMockEndpointsSatisfied();
+    }
+
+    @Test
+    public void testOptional() throws Exception {
+        TemplatedRouteBuilder.builder(context, "myTemplate")
+                .parameter("foo", "start2")
+                .routeId("myRoute")
+                .add();
+
+        getMockEndpoint("mock:result").expectedMessageCount(1);
+
+        template.sendBody("direct:start2", "Bye World");
+
+        assertMockEndpointsSatisfied();
+    }
+
+    @Override
+    protected RouteBuilder createRouteBuilder() throws Exception {
+        return new RouteBuilder() {
+            @Override
+            public void configure() throws Exception {
+                routeTemplate("myTemplate").templateParameter("foo").templateOptionalParameter("myRetain")
+                        .from("direct:{{foo}}")
+                        .to("mock:result?retainFirst={{?myRetain}}");
+            }
+        };
+    }
+}
diff --git a/core/camel-xml-io/src/generated/java/org/apache/camel/xml/in/ModelParser.java b/core/camel-xml-io/src/generated/java/org/apache/camel/xml/in/ModelParser.java
index df6ce5899d1..1413e682bb7 100644
--- a/core/camel-xml-io/src/generated/java/org/apache/camel/xml/in/ModelParser.java
+++ b/core/camel-xml-io/src/generated/java/org/apache/camel/xml/in/ModelParser.java
@@ -1057,6 +1057,7 @@ public class ModelParser extends BaseParser {
                 case "defaultValue": def.setDefaultValue(val); break;
                 case "description": def.setDescription(val); break;
                 case "name": def.setName(val); break;
+                case "required": def.setRequired(Boolean.valueOf(val)); break;
                 default: return false;
             }
             return true;
diff --git a/dsl/camel-yaml-dsl/camel-yaml-dsl-deserializers/src/generated/java/org/apache/camel/dsl/yaml/deserializers/ModelDeserializers.java b/dsl/camel-yaml-dsl/camel-yaml-dsl-deserializers/src/generated/java/org/apache/camel/dsl/yaml/deserializers/ModelDeserializers.java
index b681d4ad980..8992959a676 100644
--- a/dsl/camel-yaml-dsl/camel-yaml-dsl-deserializers/src/generated/java/org/apache/camel/dsl/yaml/deserializers/ModelDeserializers.java
+++ b/dsl/camel-yaml-dsl/camel-yaml-dsl-deserializers/src/generated/java/org/apache/camel/dsl/yaml/deserializers/ModelDeserializers.java
@@ -11793,7 +11793,8 @@ public final class ModelDeserializers extends YamlDeserializerSupport {
             properties = {
                     @YamlProperty(name = "default-value", type = "string"),
                     @YamlProperty(name = "description", type = "string"),
-                    @YamlProperty(name = "name", type = "string", required = true)
+                    @YamlProperty(name = "name", type = "string", required = true),
+                    @YamlProperty(name = "required", type = "boolean")
             }
     )
     public static class RouteTemplateParameterDefinitionDeserializer extends YamlDeserializerBase<RouteTemplateParameterDefinition> {
@@ -11825,6 +11826,11 @@ public final class ModelDeserializers extends YamlDeserializerSupport {
                     target.setName(val);
                     break;
                 }
+                case "required": {
+                    String val = asText(node);
+                    target.setRequired(java.lang.Boolean.valueOf(val));
+                    break;
+                }
                 default: {
                     return false;
                 }
diff --git a/dsl/camel-yaml-dsl/camel-yaml-dsl/src/generated/resources/camel-yaml-dsl.json b/dsl/camel-yaml-dsl/camel-yaml-dsl/src/generated/resources/camel-yaml-dsl.json
index 99d1e9b51ab..53c4660ff71 100644
--- a/dsl/camel-yaml-dsl/camel-yaml-dsl/src/generated/resources/camel-yaml-dsl.json
+++ b/dsl/camel-yaml-dsl/camel-yaml-dsl/src/generated/resources/camel-yaml-dsl.json
@@ -2113,6 +2113,9 @@
           },
           "name" : {
             "type" : "string"
+          },
+          "required" : {
+            "type" : "boolean"
           }
         },
         "required" : [ "name" ]
diff --git a/dsl/camel-yaml-dsl/camel-yaml-dsl/src/test/groovy/org/apache/camel/dsl/yaml/RouteTemplateTest.groovy b/dsl/camel-yaml-dsl/camel-yaml-dsl/src/test/groovy/org/apache/camel/dsl/yaml/RouteTemplateTest.groovy
index 392b29776b1..2fb22812142 100644
--- a/dsl/camel-yaml-dsl/camel-yaml-dsl/src/test/groovy/org/apache/camel/dsl/yaml/RouteTemplateTest.groovy
+++ b/dsl/camel-yaml-dsl/camel-yaml-dsl/src/test/groovy/org/apache/camel/dsl/yaml/RouteTemplateTest.groovy
@@ -21,6 +21,8 @@ import org.apache.camel.dsl.yaml.support.YamlTestSupport
 import org.apache.camel.dsl.yaml.support.model.MyUppercaseProcessor
 import org.apache.camel.model.LogDefinition
 import org.apache.camel.model.RouteTemplateDefinition
+import org.apache.camel.model.ToDefinition
+import org.junit.jupiter.api.Assertions
 
 class RouteTemplateTest extends YamlTestSupport {
     def "create template"() {
@@ -124,4 +126,57 @@ class RouteTemplateTest extends YamlTestSupport {
                 }
             }
     }
+
+    def "create template with optional properties"() {
+        when:
+        loadRoutes """
+                - template:
+                    id: "myTemplate"
+                    parameters:
+                      - name: "foo"
+                      - name: "bar"
+                        required: false
+                    from:
+                      uri: "direct:{{foo}}"
+                      steps:
+                        - to: "mock:result?retainFirst={{?bar}}"
+            """
+        then:
+        context.routeTemplateDefinitions.size() == 1
+
+        with(context.routeTemplateDefinitions[0], RouteTemplateDefinition) {
+            id == 'myTemplate'
+            configurer == null
+
+            templateParameters.any {
+                it.name == 'foo' && it.defaultValue == null && it.isRequired()
+            }
+            templateParameters.any {
+                it.name == 'bar' && it.defaultValue == null && !it.isRequired()
+            }
+
+            route.input.endpointUri == 'direct:{{foo}}'
+            with (route.outputs[0], ToDefinition) {
+                uri == 'mock:result?retainFirst={{?bar}}'
+            }
+        }
+
+        context.start()
+
+        context.addRouteFromTemplate("myRoute1", "myTemplate", [foo: "start", bar: "1"])
+        Assertions.assertNull(context.hasEndpoint("mock:result"))
+        Assertions.assertNotNull(context.hasEndpoint("mock:result?retainFirst=1"))
+        MockEndpoint mock = context.getEndpoint("mock:result?retainFirst=1", MockEndpoint)
+        mock.expectedBodiesReceived("Hello World")
+        context.createProducerTemplate().sendBody("direct:start", "Hello World");
+        mock.assertIsSatisfied()
+        mock.reset()
+
+        context.addRouteFromTemplate("myRoute2", "myTemplate", [foo: "start2"])
+        MockEndpoint mock2 = context.getEndpoint("mock:result", MockEndpoint)
+        mock2.expectedBodiesReceived("Bye World")
+        context.createProducerTemplate().sendBody("direct:start2", "Bye World");
+        mock2.assertIsSatisfied()
+    }
+
 }
