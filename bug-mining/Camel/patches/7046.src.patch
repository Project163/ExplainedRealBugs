diff --git a/components/camel-groovy/src/main/java/org/apache/camel/language/groovy/GroovyExpression.java b/components/camel-groovy/src/main/java/org/apache/camel/language/groovy/GroovyExpression.java
index c1e41ea75de..f9c7a38a228 100644
--- a/components/camel-groovy/src/main/java/org/apache/camel/language/groovy/GroovyExpression.java
+++ b/components/camel-groovy/src/main/java/org/apache/camel/language/groovy/GroovyExpression.java
@@ -26,6 +26,7 @@ import groovy.lang.GroovyShell;
 import groovy.lang.Script;
 import org.apache.camel.Exchange;
 import org.apache.camel.attachment.AttachmentMessage;
+import org.apache.camel.attachment.DefaultAttachmentMessage;
 import org.apache.camel.support.ExchangeHelper;
 import org.apache.camel.support.ExpressionSupport;
 import org.apache.camel.support.ObjectHelper;
@@ -92,7 +93,8 @@ public class GroovyExpression extends ExpressionSupport {
     protected Binding createBinding(Exchange exchange, Map<String, Object> globalVariables) {
         Map<String, Object> map = new HashMap<>(globalVariables);
         ExchangeHelper.populateVariableMap(exchange, map, true);
-        if (exchange.getMessage() instanceof AttachmentMessage am && am.hasAttachments()) {
+        AttachmentMessage am = new DefaultAttachmentMessage(exchange.getMessage());
+        if (am.hasAttachments()) {
             map.put("attachments", am.getAttachments());
         } else {
             map.put("attachments", Collections.EMPTY_MAP);
