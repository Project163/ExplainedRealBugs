diff --git a/camel-core/src/main/java/org/apache/camel/model/MarshalDefinition.java b/camel-core/src/main/java/org/apache/camel/model/MarshalDefinition.java
index 42c67e680f5..e022df05ae7 100644
--- a/camel-core/src/main/java/org/apache/camel/model/MarshalDefinition.java
+++ b/camel-core/src/main/java/org/apache/camel/model/MarshalDefinition.java
@@ -16,13 +16,6 @@
  */
 package org.apache.camel.model;
 
-import javax.xml.bind.annotation.XmlAccessType;
-import javax.xml.bind.annotation.XmlAccessorType;
-import javax.xml.bind.annotation.XmlAttribute;
-import javax.xml.bind.annotation.XmlElement;
-import javax.xml.bind.annotation.XmlElements;
-import javax.xml.bind.annotation.XmlRootElement;
-
 import org.apache.camel.Processor;
 import org.apache.camel.model.dataformat.BindyDataFormat;
 import org.apache.camel.model.dataformat.CastorDataFormat;
@@ -50,6 +43,8 @@ import org.apache.camel.processor.MarshalProcessor;
 import org.apache.camel.spi.DataFormat;
 import org.apache.camel.spi.RouteContext;
 
+import javax.xml.bind.annotation.*;
+
 /**
  * Marshals to a binary payload using the given {@link DataFormatDefinition}
  *
@@ -137,4 +132,13 @@ public class MarshalDefinition extends NoOutputDefinition<MarshalDefinition> {
         DataFormat dataFormat = DataFormatDefinition.getDataFormat(routeContext, getDataFormatType(), ref);
         return new MarshalProcessor(dataFormat);
     }
+
+    @Override
+    public String getLabel() {
+        if (dataFormatType != null) {
+            return "marshal[" + dataFormatType + "]";
+        } else {
+            return "marshal[ref:" + ref + "]";
+        }
+    }
 }
diff --git a/camel-core/src/main/java/org/apache/camel/model/UnmarshalDefinition.java b/camel-core/src/main/java/org/apache/camel/model/UnmarshalDefinition.java
index e7f6ca65c79..45606e91044 100644
--- a/camel-core/src/main/java/org/apache/camel/model/UnmarshalDefinition.java
+++ b/camel-core/src/main/java/org/apache/camel/model/UnmarshalDefinition.java
@@ -16,13 +16,6 @@
  */
 package org.apache.camel.model;
 
-import javax.xml.bind.annotation.XmlAccessType;
-import javax.xml.bind.annotation.XmlAccessorType;
-import javax.xml.bind.annotation.XmlAttribute;
-import javax.xml.bind.annotation.XmlElement;
-import javax.xml.bind.annotation.XmlElements;
-import javax.xml.bind.annotation.XmlRootElement;
-
 import org.apache.camel.Processor;
 import org.apache.camel.model.dataformat.BindyDataFormat;
 import org.apache.camel.model.dataformat.CastorDataFormat;
@@ -50,6 +43,8 @@ import org.apache.camel.processor.UnmarshalProcessor;
 import org.apache.camel.spi.DataFormat;
 import org.apache.camel.spi.RouteContext;
 
+import javax.xml.bind.annotation.*;
+
 /**
  * Unmarshals the binary payload using the given {@link DataFormatDefinition}
  *
@@ -137,4 +132,13 @@ public class UnmarshalDefinition extends NoOutputDefinition<UnmarshalDefinition>
         DataFormat dataFormat = DataFormatDefinition.getDataFormat(routeContext, getDataFormatType(), ref);
         return new UnmarshalProcessor(dataFormat);
     }
+
+    @Override
+    public String getLabel() {
+        if (dataFormatType != null) {
+            return "unmarshal[" + dataFormatType + "]";
+        } else {
+            return "unmarshal[ref:" + ref + "]";
+        }
+    }
 }
diff --git a/camel-core/src/test/java/org/apache/camel/impl/StringDataFormatTest.java b/camel-core/src/test/java/org/apache/camel/impl/StringDataFormatTest.java
index 57231528ce8..daab242e5c1 100644
--- a/camel-core/src/test/java/org/apache/camel/impl/StringDataFormatTest.java
+++ b/camel-core/src/test/java/org/apache/camel/impl/StringDataFormatTest.java
@@ -16,17 +16,13 @@
  */
 package org.apache.camel.impl;
 
-import java.io.ByteArrayInputStream;
-import java.io.InputStream;
-
-import org.apache.camel.CamelContext;
-import org.apache.camel.Exchange;
-import org.apache.camel.Processor;
-import org.apache.camel.ProducerTemplate;
-import org.apache.camel.TestSupport;
+import org.apache.camel.*;
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.component.mock.MockEndpoint;
 
+import java.io.ByteArrayInputStream;
+import java.io.InputStream;
+
 /**
  * Unit test of the string data format.
  */
@@ -37,6 +33,7 @@ public class StringDataFormatTest extends TestSupport {
 
     protected void setUp() throws Exception {
         context = new DefaultCamelContext();
+        context.setTracing(true);
         template = context.createProducerTemplate();
         template.start();
     }
diff --git a/camel-core/src/test/java/org/apache/camel/model/LoadRouteFromXmlTest.java b/camel-core/src/test/java/org/apache/camel/model/LoadRouteFromXmlTest.java
index 7a596aab1fa..37f29341ecb 100644
--- a/camel-core/src/test/java/org/apache/camel/model/LoadRouteFromXmlTest.java
+++ b/camel-core/src/test/java/org/apache/camel/model/LoadRouteFromXmlTest.java
@@ -19,6 +19,8 @@ package org.apache.camel.model;
 import java.io.InputStream;
 
 import org.apache.camel.ContextTestSupport;
+import org.apache.camel.Exchange;
+import org.apache.camel.Processor;
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.component.mock.MockEndpoint;
 
diff --git a/camel-core/src/test/java/org/apache/camel/processor/MyLoggingSentEventNotifer.java b/camel-core/src/test/java/org/apache/camel/processor/MyLoggingSentEventNotifer.java
index 2ea64b8aa8d..24b5f98b335 100644
--- a/camel-core/src/test/java/org/apache/camel/processor/MyLoggingSentEventNotifer.java
+++ b/camel-core/src/test/java/org/apache/camel/processor/MyLoggingSentEventNotifer.java
@@ -28,10 +28,12 @@ import org.apache.camel.management.event.ExchangeSentEvent;
 public class MyLoggingSentEventNotifer extends EventNotifierSupport {
 
     public void notify(EventObject event) throws Exception {
+
         if (event instanceof ExchangeSentEvent) {
             ExchangeSentEvent sent = (ExchangeSentEvent) event;
             log.info("Took " + sent.getTimeTaken() + " millis to send to: " + sent.getEndpoint());
         }
+
     }
 
     public boolean isEnabled(EventObject event) {
diff --git a/camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionContinueSubRouteTest.java b/camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionContinueSubRouteTest.java
index 62b91da0799..e7c85fa7732 100644
--- a/camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionContinueSubRouteTest.java
+++ b/camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionContinueSubRouteTest.java
@@ -46,15 +46,17 @@ public class OnExceptionContinueSubRouteTest extends ContextTestSupport {
         return new RouteBuilder() {
             @Override
             public void configure() throws Exception {
-                onException(IllegalArgumentException.class).continued(true).logContinued(true);
+                //onException(IllegalArgumentException.class).continued(true).logContinued(true);
 
                 from("direct:start")
+                    .onException(IllegalArgumentException.class).continued(true).logContinued(true).end()
                     .to("mock:start")
                     .to("direct:b")
                     .to("direct:c")
                     .to("mock:result");
 
                 from("direct:b")
+                    .errorHandler(noErrorHandler())
                     .to("mock:b")
                     .throwException(new IllegalArgumentException("Forced"));
 
diff --git a/camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionHandleAndTransformWithDefaultErrorHandlerTest.java b/camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionHandleAndTransformWithDefaultErrorHandlerTest.java
index bd3f3c94ad3..d1d8e53483e 100644
--- a/camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionHandleAndTransformWithDefaultErrorHandlerTest.java
+++ b/camel-core/src/test/java/org/apache/camel/processor/onexception/OnExceptionHandleAndTransformWithDefaultErrorHandlerTest.java
@@ -17,9 +17,11 @@
 package org.apache.camel.processor.onexception;
 
 import org.apache.camel.ContextTestSupport;
+import org.apache.camel.EndpointInject;
 import org.apache.camel.Exchange;
 import org.apache.camel.Processor;
 import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.component.mock.MockEndpoint;
 
 /**
  * Unit test inspired by end user
@@ -83,19 +85,28 @@ public class OnExceptionHandleAndTransformWithDefaultErrorHandlerTest extends Co
                 // but we want to return a fixed text response, so we transform OUT body and return a nice message
                 // using the simple language where we want insert the exception message
                 onException(MyFunctionalException.class)
-                        .handled(true)
+                        .handled(false)
                         .transform().simple("Error reported: ${exception.message} - cannot process this message.");
                 // END SNIPPET: e3
 
                 from("direct:start").process(new Processor() {
                     public void process(Exchange exchange) throws Exception {
                         throw new MyFunctionalException("Out of order");
+
                     }
                 });
             }
         });
 
-        Object out = template.requestBody("direct:start", "Hello World");
+
+        Exchange exch = template.request("direct:start",new Processor() {
+            public void process(Exchange exchange) {
+                exchange.getIn().setBody("Hello World");
+            }
+        });
+
+        // Object out = template.requestBody("direct:start", "Hello World");
+        Object out = exch.getOut().getBody();
         assertEquals("Error reported: Out of order - cannot process this message.", out);
     }
 
diff --git a/camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipDataModificationTest.java b/camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipDataModificationTest.java
index 6ed581dbf02..d8fd16bfed6 100644
--- a/camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipDataModificationTest.java
+++ b/camel-core/src/test/java/org/apache/camel/processor/routingslip/RoutingSlipDataModificationTest.java
@@ -64,6 +64,7 @@ public class RoutingSlipDataModificationTest extends ContextTestSupport {
 
     protected RouteBuilder createRouteBuilder() {
         return new RouteBuilder() {
+
             public void configure() {
                 // START SNIPPET: example
                 from("direct:a").routingSlip(ROUTING_SLIP_HEADER).to("mock:y");
