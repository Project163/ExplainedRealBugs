diff --git a/components/camel-kamelet/pom.xml b/components/camel-kamelet/pom.xml
index 846c1d0238b..fc2d560fe17 100644
--- a/components/camel-kamelet/pom.xml
+++ b/components/camel-kamelet/pom.xml
@@ -74,6 +74,11 @@
             <artifactId>camel-http</artifactId>
             <scope>test</scope>
         </dependency>
+        <dependency>
+            <groupId>org.apache.camel</groupId>
+            <artifactId>camel-main</artifactId>
+            <scope>test</scope>
+        </dependency>
         <dependency>
             <groupId>org.assertj</groupId>
             <artifactId>assertj-core</artifactId>
diff --git a/components/camel-kamelet/src/main/java/org/apache/camel/component/kamelet/KameletComponent.java b/components/camel-kamelet/src/main/java/org/apache/camel/component/kamelet/KameletComponent.java
index e1f32a4aa32..6053bed0693 100644
--- a/components/camel-kamelet/src/main/java/org/apache/camel/component/kamelet/KameletComponent.java
+++ b/components/camel-kamelet/src/main/java/org/apache/camel/component/kamelet/KameletComponent.java
@@ -152,7 +152,7 @@ public class KameletComponent extends DefaultComponent {
 
             //
             // Load properties from the component configuration. Template and route specific properties
-            // can be set through properties, as example:
+            // can be set through properties, as an example:
             //
             //     camel.component.kamelet.template-properties[templateId].key = val
             //     camel.component.kamelet.route-properties[routeId].key = val
diff --git a/components/camel-kamelet/src/test/java/org/apache/camel/component/kamelet/KameletComponentPropertiesTest.java b/components/camel-kamelet/src/test/java/org/apache/camel/component/kamelet/KameletComponentPropertiesTest.java
new file mode 100644
index 00000000000..99326affecb
--- /dev/null
+++ b/components/camel-kamelet/src/test/java/org/apache/camel/component/kamelet/KameletComponentPropertiesTest.java
@@ -0,0 +1,92 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.kamelet;
+
+import java.util.Properties;
+
+import org.apache.camel.RoutesBuilder;
+import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.main.Main;
+import org.junit.jupiter.api.Test;
+
+import static org.apache.camel.util.PropertiesHelper.asProperties;
+import static org.assertj.core.api.Assertions.assertThat;
+import static org.junit.jupiter.api.Assertions.fail;
+
+public class KameletComponentPropertiesTest {
+    private static final String KAMELET_COMPONENT_PROPERTY_PREFIX = "camel.component.kamelet.";
+
+    @Test
+    public void testComponentConfigurationAndConfigurationPrecedence() {
+        Main main = new Main();
+        try {
+
+            main.setOverrideProperties(getTestProperties());
+            main.setDefaultPropertyPlaceholderLocation("false");
+            main.configure().addRoutesBuilder(createRouteBuilder());
+            main.start();
+
+            assertThat(
+                    main.getCamelTemplate()
+                            .requestBody("kamelet:setBody/test", "", String.class)).isEqualTo("from-component-route");
+
+            assertThat(
+                    main.getCamelTemplate()
+                            .requestBody("kamelet:setBody", "", String.class)).isEqualTo("from-component-template");
+            // uri properties have precedence over component properties.
+            assertThat(
+                    main.getCamelTemplate()
+                            .requestBody("kamelet:setBody?bodyValue={{bodyValue}}", "", String.class)).isEqualTo("from-uri");
+        } catch (Exception e) {
+            fail(e);
+        } finally {
+            main.stop();
+        }
+    }
+
+    protected Properties getTestProperties() {
+        return asProperties(
+                "proxy.usr", "u+sr",
+                "proxy.pwd", "p+wd",
+                "raw.proxy.usr", "RAW(u+sr)",
+                "raw.proxy.pwd", "RAW(p+wd)",
+                "bodyValue", "from-uri",
+                // component properties have precedence over global properties
+                KAMELET_COMPONENT_PROPERTY_PREFIX + "templateProperties[setBody].bodyValue", "from-component-template",
+                KAMELET_COMPONENT_PROPERTY_PREFIX + "routeProperties[test].bodyValue", "from-component-route",
+                Kamelet.PROPERTIES_PREFIX + "setBody.bodyValue", "from-template",
+                Kamelet.PROPERTIES_PREFIX + "setBody.test.bodyValue", "from-route");
+    }
+
+    protected RoutesBuilder createRouteBuilder() throws Exception {
+        return new RouteBuilder() {
+            @Override
+            public void configure() throws Exception {
+                // template
+                routeTemplate("setBody")
+                        .templateParameter("bodyValue")
+                        .from("kamelet:source")
+                        .setBody().constant("{{bodyValue}}");
+
+                // routes
+                from("direct:someId").to("kamelet:setBody/someId");
+
+                from("direct:test").to("kamelet:setBody");
+            }
+        };
+    }
+}
diff --git a/components/camel-kamelet/src/test/java/org/apache/camel/component/kamelet/KameletGlobalPropertiesTest.java b/components/camel-kamelet/src/test/java/org/apache/camel/component/kamelet/KameletGlobalPropertiesTest.java
index d54bcbae176..19c946c1ffb 100644
--- a/components/camel-kamelet/src/test/java/org/apache/camel/component/kamelet/KameletGlobalPropertiesTest.java
+++ b/components/camel-kamelet/src/test/java/org/apache/camel/component/kamelet/KameletGlobalPropertiesTest.java
@@ -27,24 +27,21 @@ import org.junit.jupiter.api.Test;
 
 import static org.apache.camel.util.PropertiesHelper.asProperties;
 import static org.assertj.core.api.Assertions.assertThat;
-import static org.junit.jupiter.api.Assertions.assertThrows;
 
 public class KameletGlobalPropertiesTest extends CamelTestSupport {
     @Test
     public void propertiesAreTakenFromRouteId() {
+        assertThat(
+                fluentTemplate
+                        .to("direct:someId")
+                        .request(String.class)).isEqualTo("from-route-someId");
+
         assertThat(
                 fluentTemplate
                         .to("kamelet:setBody/test")
                         .request(String.class)).isEqualTo("from-route");
     }
 
-    @Test
-    public void propertiesAreTakenFromNonExistingRouteId() {
-        assertThrows(org.apache.camel.ResolveEndpointFailedException.class, () -> fluentTemplate
-                .to("kamelet:setBody/nonExisting")
-                .request(String.class));
-    }
-
     @Test
     public void propertiesAreTakenFromTemplateId() {
         assertThat(
@@ -146,7 +143,8 @@ public class KameletGlobalPropertiesTest extends CamelTestSupport {
                 "raw.proxy.pwd", "RAW(p+wd)",
                 "bodyValue", "from-uri",
                 Kamelet.PROPERTIES_PREFIX + "setBody.bodyValue", "from-template",
-                Kamelet.PROPERTIES_PREFIX + "setBody.test.bodyValue", "from-route");
+                Kamelet.PROPERTIES_PREFIX + "setBody.test.bodyValue", "from-route",
+                Kamelet.PROPERTIES_PREFIX + "setBody.someId.bodyValue", "from-route-someId");
     }
 
     @Obsolete
@@ -175,6 +173,11 @@ public class KameletGlobalPropertiesTest extends CamelTestSupport {
                         .from("timer:tick")
                         .setBody().constant("{{message}}")
                         .to("kamelet:sink");
+
+                // routes
+                from("direct:someId").to("kamelet:setBody/someId");
+
+                from("direct:test").to("kamelet:setBody");
             }
         };
     }
diff --git a/components/camel-kamelet/src/test/java/org/apache/camel/component/kamelet/KameletRouteTest.java b/components/camel-kamelet/src/test/java/org/apache/camel/component/kamelet/KameletRouteTest.java
index 15c0cc853fa..d6c49a37cdb 100644
--- a/components/camel-kamelet/src/test/java/org/apache/camel/component/kamelet/KameletRouteTest.java
+++ b/components/camel-kamelet/src/test/java/org/apache/camel/component/kamelet/KameletRouteTest.java
@@ -18,6 +18,7 @@ package org.apache.camel.component.kamelet;
 
 import java.util.UUID;
 
+import org.apache.camel.FailedToCreateRouteException;
 import org.apache.camel.RoutesBuilder;
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.test.junit5.CamelTestSupport;
@@ -25,6 +26,7 @@ import org.apache.http.annotation.Obsolete;
 import org.junit.jupiter.api.Test;
 
 import static org.assertj.core.api.Assertions.assertThat;
+import static org.junit.jupiter.api.Assertions.assertThrows;
 
 public class KameletRouteTest extends CamelTestSupport {
     @Test
@@ -43,6 +45,20 @@ public class KameletRouteTest extends CamelTestSupport {
                 fluentTemplate.toF("direct:chain").withBody(body).request(String.class)).isEqualTo("b-a-" + body);
     }
 
+    @Test
+    public void duplicateRouteId() {
+        assertThrows(FailedToCreateRouteException.class, () -> {
+            RouteBuilder rb = new RouteBuilder(context) {
+                @Override
+                public void configure() throws Exception {
+                    from("direct:start")
+                            .to("kamelet:echo/test?prefix=test");
+                }
+            };
+            rb.addRoutesToCamelContext(context);
+        });
+    }
+
     // **********************************************
     //
     // test set-up
@@ -59,7 +75,7 @@ public class KameletRouteTest extends CamelTestSupport {
                         .from("kamelet:source")
                         .setBody().simple("{{prefix}}-${body}");
 
-                from("direct:single")
+                from("direct:single").routeId("test")
                         .to("kamelet:echo?prefix=a")
                         .log("${body}");
 
diff --git a/components/camel-kamelet/src/test/resources/log4j2.properties b/components/camel-kamelet/src/test/resources/log4j2.properties
index 3ecda7ad852..a44c73465de 100644
--- a/components/camel-kamelet/src/test/resources/log4j2.properties
+++ b/components/camel-kamelet/src/test/resources/log4j2.properties
@@ -31,4 +31,4 @@ rootLogger.appenderRef.file.ref = file
 #rootLogger.appenderRef.out.ref = out
 
 logger.camel-kamelet.name = org.apache.camel.component.kamelet
-logger.camel-kamelet.level = INFO
+logger.camel-kamelet.level = DEBUG
