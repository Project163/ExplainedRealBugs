diff --git a/components/camel-mybatis/pom.xml b/components/camel-mybatis/pom.xml
index f1aebdf31ef..cf5e5e363d2 100644
--- a/components/camel-mybatis/pom.xml
+++ b/components/camel-mybatis/pom.xml
@@ -69,5 +69,10 @@
       <artifactId>junit</artifactId>
       <scope>test</scope>
     </dependency>
+    <dependency>
+      <groupId>org.mockito</groupId>
+      <artifactId>mockito-core</artifactId>
+      <scope>test</scope>
+    </dependency>
   </dependencies>
 </project>
diff --git a/components/camel-mybatis/src/main/java/org/apache/camel/component/mybatis/MyBatisConsumer.java b/components/camel-mybatis/src/main/java/org/apache/camel/component/mybatis/MyBatisConsumer.java
index 5708de3ca72..0b0cd689783 100644
--- a/components/camel-mybatis/src/main/java/org/apache/camel/component/mybatis/MyBatisConsumer.java
+++ b/components/camel-mybatis/src/main/java/org/apache/camel/component/mybatis/MyBatisConsumer.java
@@ -40,11 +40,11 @@ public class MyBatisConsumer extends ScheduledBatchPollingConsumer {
 
     private static final Logger LOG = LoggerFactory.getLogger(MyBatisConsumer.class);
 
-    private static final class DataHolder {
-        private Exchange exchange;
-        private Object data;
+    static final class DataHolder {
+        Exchange exchange;
+        Object data;
 
-        private DataHolder() {
+        DataHolder() {
         }
     }
 
@@ -66,8 +66,6 @@ public class MyBatisConsumer extends ScheduledBatchPollingConsumer {
      */
     private boolean routeEmptyResultSet;
 
-    private int maxMessagesPerPoll;
-
     public MyBatisConsumer(MyBatisEndpoint endpoint, Processor processor) {
         super(endpoint, processor);
     }
diff --git a/components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisConsumerIsolatedTest.java b/components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisConsumerIsolatedTest.java
new file mode 100644
index 00000000000..5daf531e366
--- /dev/null
+++ b/components/camel-mybatis/src/test/java/org/apache/camel/component/mybatis/MyBatisConsumerIsolatedTest.java
@@ -0,0 +1,53 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.mybatis;
+
+import java.util.ArrayDeque;
+import java.util.Queue;
+
+import org.apache.camel.CamelContext;
+import org.apache.camel.Processor;
+import org.apache.camel.impl.DefaultExchange;
+import org.junit.Assert;
+import org.junit.Test;
+
+import static org.mockito.Mockito.mock;
+
+public class MyBatisConsumerIsolatedTest extends Assert {
+
+    @Test
+    public void shouldRespectBatchSize() throws Exception {
+        // Given
+        int batchSize = 5;
+        MyBatisConsumer consumer = new MyBatisConsumer(mock(MyBatisEndpoint.class), mock(Processor.class));
+        consumer.setMaxMessagesPerPoll(batchSize);
+
+        Queue<Object> emptyMessageQueue = new ArrayDeque<Object>();
+        for (int i = 0; i < 10; i++) {
+            MyBatisConsumer.DataHolder dataHolder = new MyBatisConsumer.DataHolder();
+            dataHolder.exchange = new DefaultExchange(mock(CamelContext.class));
+            emptyMessageQueue.add(dataHolder);
+        }
+
+        // When
+        int processedMessages = consumer.processBatch(emptyMessageQueue);
+
+        // Then
+        assertEquals(batchSize, processedMessages);
+    }
+
+}
