diff --git a/components/camel-swagger-java/src/main/java/org/apache/camel/swagger/RestSwaggerSupport.java b/components/camel-swagger-java/src/main/java/org/apache/camel/swagger/RestSwaggerSupport.java
index e8a7abe6b63..464454425a4 100644
--- a/components/camel-swagger-java/src/main/java/org/apache/camel/swagger/RestSwaggerSupport.java
+++ b/components/camel-swagger-java/src/main/java/org/apache/camel/swagger/RestSwaggerSupport.java
@@ -255,9 +255,11 @@ public class RestSwaggerSupport {
 
     public void renderResourceListing(CamelContext camelContext, RestApiResponseAdapter response, BeanConfig swaggerConfig, String contextId, String route, boolean json, boolean yaml,
                                       Map<String, Object> headers, ClassResolver classResolver, RestConfiguration configuration) throws Exception {
-        ObjectMapper mapper;
-
         LOG.trace("renderResourceListing");
+        
+        ObjectMapper mapper = Json.mapper();
+        mapper.enable(SerializationFeature.INDENT_OUTPUT);
+        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
 
         if (cors) {
             setupCorsHeaders(response, configuration.getCorsHeaders());
@@ -284,10 +286,6 @@ public class RestSwaggerSupport {
                 if (!configuration.isApiVendorExtension()) {
                     clearVendorExtensions(swagger);
                 }
-
-                mapper = Json.mapper();
-                mapper.enable(SerializationFeature.INDENT_OUTPUT);
-                mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
                 
                 byte[] bytes = mapper.writeValueAsBytes(swagger);
 
@@ -308,10 +306,6 @@ public class RestSwaggerSupport {
                     clearVendorExtensions(swagger);
                 }
 
-                mapper = Yaml.mapper();
-                mapper.enable(SerializationFeature.INDENT_OUTPUT);
-                mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
-                
                 byte[] jsonData = mapper.writeValueAsBytes(swagger);
 
                 // json to yaml
