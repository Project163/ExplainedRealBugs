diff --git a/camel-core/src/main/java/org/apache/camel/builder/ProcessorBuilder.java b/camel-core/src/main/java/org/apache/camel/builder/ProcessorBuilder.java
index 864a4dff860..93e6b29ba94 100644
--- a/camel-core/src/main/java/org/apache/camel/builder/ProcessorBuilder.java
+++ b/camel-core/src/main/java/org/apache/camel/builder/ProcessorBuilder.java
@@ -91,6 +91,7 @@ public final class ProcessorBuilder {
     public static Processor setHeader(final String name, final Expression expression) {
         return new Processor() {
             public void process(Exchange exchange) {
+                System.out.println("Calling the setHeader");
                 Object value = expression.evaluate(exchange);
                 exchange.getIn().setHeader(name, value);
             }
@@ -219,7 +220,7 @@ public final class ProcessorBuilder {
             }
         };
     }
-    
+
     /**
      * Throws an exception
      */
diff --git a/camel-core/src/test/java/org/apache/camel/processor/AggregatorTest.java b/camel-core/src/test/java/org/apache/camel/processor/AggregatorTest.java
index 5ebcc37b084..aeb8939785e 100644
--- a/camel-core/src/test/java/org/apache/camel/processor/AggregatorTest.java
+++ b/camel-core/src/test/java/org/apache/camel/processor/AggregatorTest.java
@@ -17,6 +17,8 @@
 package org.apache.camel.processor;
 
 import org.apache.camel.ContextTestSupport;
+import org.apache.camel.Exchange;
+import org.apache.camel.Processor;
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.component.mock.MockEndpoint;
 
@@ -69,8 +71,8 @@ public class AggregatorTest extends ContextTestSupport {
         resultEndpoint.assertIsSatisfied();
     }
 
-    //TODO fix this test
-    public void xtestAggregatorNotAtStart() throws Exception {
+
+    public void testAggregatorNotAtStart() throws Exception {
         MockEndpoint resultEndpoint = resolveMandatoryEndpoint("mock:result", MockEndpoint.class);
         resultEndpoint.expectedMessageCount(1);
         resultEndpoint.message(0).header("visited").isNotNull();
@@ -85,10 +87,13 @@ public class AggregatorTest extends ContextTestSupport {
                 // START SNIPPET: ex
                 from("direct:start").aggregator(header("cheese")).to("mock:result");
 
-                from("seda:header").setHeader("visited", constant(true)).aggregator(header("cheese")).to("mock:result");
+                //from("seda:header").setHeader("visited", constant(true)).aggregator(header("cheese")).to("mock:result");
+                from("seda:header").setHeader("visited", constant(true)).to("direct:temp");
+
+                from("direct:temp").aggregator(header("cheese")).to("mock:result");
 
                 from("direct:predicate").aggregator(header("cheese"), new MyAggregationStrategy()).
-                        completedPredicate(header("aggregated").isEqualTo(5)).to("mock:result");
+                    completedPredicate(header("aggregated").isEqualTo(5)).to("mock:result");
                 // END SNIPPET: ex
             }
         };
