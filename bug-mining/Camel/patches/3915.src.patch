diff --git a/components/camel-swagger-java/src/main/java/org/apache/camel/swagger/RestSwaggerReader.java b/components/camel-swagger-java/src/main/java/org/apache/camel/swagger/RestSwaggerReader.java
index 994452f89b8..eada214fd25 100644
--- a/components/camel-swagger-java/src/main/java/org/apache/camel/swagger/RestSwaggerReader.java
+++ b/components/camel-swagger-java/src/main/java/org/apache/camel/swagger/RestSwaggerReader.java
@@ -522,7 +522,7 @@ public class RestSwaggerReader {
             boolean oldExt = false;
             if (swagger.getDefinitions() != null && swagger.getDefinitions().get(entry.getKey()) != null) {
                 Model oldModel = swagger.getDefinitions().get(entry.getKey());
-                if (oldModel.getVendorExtensions() != null) {
+                if (oldModel.getVendorExtensions() != null && !oldModel.getVendorExtensions().isEmpty()) {
                     oldExt = oldModel.getVendorExtensions().get("x-className") == null;
                 }
             }
diff --git a/components/camel-swagger-java/src/test/java/org/apache/camel/swagger/RestSwaggerReaderModelBookOrderTest.java b/components/camel-swagger-java/src/test/java/org/apache/camel/swagger/RestSwaggerReaderModelBookOrderTest.java
index 0c534a1acc0..ade3f848e3a 100644
--- a/components/camel-swagger-java/src/test/java/org/apache/camel/swagger/RestSwaggerReaderModelBookOrderTest.java
+++ b/components/camel-swagger-java/src/test/java/org/apache/camel/swagger/RestSwaggerReaderModelBookOrderTest.java
@@ -49,6 +49,8 @@ public class RestSwaggerReaderModelBookOrderTest extends CamelTestSupport {
                     .get("/{id}").description("Find order by id").outType(BookOrder.class)
                         .responseMessage().message("The order returned").endResponseMessage()
                         .param().name("id").type(RestParamType.path).description("The id of the order to get").dataType("integer").endParam()
+                        .to("bean:bookService?method=getOrder(${header.id})")
+                    .get("/books/{id}/line/{lineNum}").outType(LineItem.class)
                         .to("bean:bookService?method=getOrder(${header.id})");
             }
         };
@@ -83,8 +85,7 @@ public class RestSwaggerReaderModelBookOrderTest extends CamelTestSupport {
         assertTrue(json.contains("\"$ref\" : \"#/definitions/LineItem\""));
         assertTrue(json.contains("\"x-className\""));
         assertTrue(json.contains("\"format\" : \"org.apache.camel.swagger.BookOrder\""));
-        // TODO: we do not yet have the classname of nested types
-        // assertTrue(json.contains("\"format\" : \"org.apache.camel.swagger.LineItem\""));
+        assertTrue(json.contains("\"format\" : \"org.apache.camel.swagger.LineItem\""));
 
         context.stop();
     }
