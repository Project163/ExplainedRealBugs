diff --git a/components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Producer.java b/components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Producer.java
index 7dd1795325f..7f6cc031451 100644
--- a/components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Producer.java
+++ b/components/camel-mina2/src/main/java/org/apache/camel/component/mina2/Mina2Producer.java
@@ -16,6 +16,7 @@
  */
 package org.apache.camel.component.mina2;
 
+import java.io.IOException;
 import java.net.InetSocketAddress;
 import java.net.SocketAddress;
 import java.nio.charset.Charset;
@@ -512,12 +513,16 @@ public class Mina2Producer extends DefaultProducer implements ServicePoolAware {
             this.message = null;
             this.messageReceived = false;
             this.cause = cause;
-            if (ioSession != null) {
+            if (ioSession != null && !closedByMina(cause)) {
                 CloseFuture closeFuture = ioSession.closeNow();
                 closeFuture.awaitUninterruptibly(timeout, TimeUnit.MILLISECONDS);
             }
         }
 
+        private boolean closedByMina(Throwable cause) {
+            return cause instanceof IOException;
+        }
+
         public Throwable getCause() {
             return this.cause;
         }
diff --git a/components/camel-mina2/src/test/java/org/apache/camel/component/mina2/Mina2CustomCodecTest.java b/components/camel-mina2/src/test/java/org/apache/camel/component/mina2/Mina2CustomCodecTest.java
index 3a8619093d6..195455cd697 100644
--- a/components/camel-mina2/src/test/java/org/apache/camel/component/mina2/Mina2CustomCodecTest.java
+++ b/components/camel-mina2/src/test/java/org/apache/camel/component/mina2/Mina2CustomCodecTest.java
@@ -16,9 +16,6 @@
  */
 package org.apache.camel.component.mina2;
 
-import java.util.Optional;
-import java.util.stream.Stream;
-
 import org.apache.camel.CamelExecutionException;
 import org.apache.camel.ResolveEndpointFailedException;
 import org.apache.camel.builder.RouteBuilder;
@@ -61,11 +58,13 @@ public class Mina2CustomCodecTest extends BaseMina2Test {
             fail("Expecting that decode of result fails");
         } catch (Exception e){
             assertTrue(e instanceof CamelExecutionException);
-            Optional<Throwable> rootCause = Stream.iterate(e, Throwable::getCause)
-                    .filter(element -> element.getCause() == null).findFirst();
-            assertTrue(rootCause.isPresent());
-            assertTrue(rootCause.get() instanceof IllegalArgumentException);
-            assertTrue(rootCause.get().getMessage().contains("Something went wrong in decode"));
+            assertNotNull(e.getCause());
+            Throwable rootCause = e;
+            while(rootCause.getCause() != null){
+                rootCause = rootCause.getCause();
+            }
+            assertTrue(rootCause instanceof IllegalArgumentException);
+            assertTrue(rootCause.getMessage().contains("Something went wrong in decode"));
         }
 
     }
