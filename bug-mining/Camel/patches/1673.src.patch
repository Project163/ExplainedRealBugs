diff --git a/camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java b/camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java
index 2a818e23395..31d75aa0374 100644
--- a/camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java
+++ b/camel-core/src/main/java/org/apache/camel/impl/DefaultComponent.java
@@ -78,7 +78,7 @@ public abstract class DefaultComponent extends ServiceSupport implements Compone
             path = path.substring(2);
         }
         int idx = path.indexOf('?');
-        if (idx > 0) {
+        if (idx > -1) {
             path = path.substring(0, idx);
         }
         Map<String, Object> parameters = URISupport.parseParameters(u);
diff --git a/camel-core/src/test/java/org/apache/camel/impl/DefaultComponentReferencePropertiesTest.java b/camel-core/src/test/java/org/apache/camel/impl/DefaultComponentReferencePropertiesTest.java
index 2f4ffe302b0..bbec07caf6b 100644
--- a/camel-core/src/test/java/org/apache/camel/impl/DefaultComponentReferencePropertiesTest.java
+++ b/camel-core/src/test/java/org/apache/camel/impl/DefaultComponentReferencePropertiesTest.java
@@ -96,6 +96,22 @@ public class DefaultComponentReferencePropertiesTest extends ContextTestSupport
         return jndi;
     }
 
+    public void testEmptyPath() throws Exception {
+        DefaultComponent component = new DefaultComponent(context) {
+            @Override
+            protected Endpoint createEndpoint(String uri, String remaining, Map<String, Object> parameters) throws Exception {
+                assertEquals("foo://?name=Christian", uri);
+                assertEquals("", remaining);
+                assertEquals(1, parameters.size());
+                assertEquals("Christian", parameters.get("name"));
+                
+                return null;
+            }
+            
+        };
+        component.createEndpoint("foo://?name=Christian");
+    }
+    
     public void testOnlyStringSetter() throws Exception {
         MyComponent component = new MyComponent(context);
         MyEndpoint endpoint = (MyEndpoint) component.createEndpoint("foo://?name=Claus");
diff --git a/components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaComponentTest.java b/components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaComponentTest.java
index 3874baa12f9..d48753914f9 100644
--- a/components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaComponentTest.java
+++ b/components/camel-jpa/src/test/java/org/apache/camel/component/jpa/JpaComponentTest.java
@@ -38,6 +38,7 @@ public class JpaComponentTest extends CamelTestSupport {
 
         JpaEndpoint jpa = (JpaEndpoint) comp.createEndpoint("jpa://" + SendEmail.class.getName());
         assertNotNull(jpa);
+        assertNotNull(jpa.getEntityType());
     }
 
     @Test
@@ -59,6 +60,30 @@ public class JpaComponentTest extends CamelTestSupport {
 
         JpaEndpoint jpa = (JpaEndpoint) comp.createEndpoint("jpa://" + SendEmail.class.getName());
         assertNotNull(jpa);
+        assertNotNull(jpa.getEntityType());
+    }
+    
+    @Test
+    public void testJpaComponentWithPath() throws Exception {
+        JpaComponent comp = new JpaComponent();
+        comp.setCamelContext(context);
+        assertNull(comp.getEntityManagerFactory());
+        assertNull(comp.getTransactionManager());
+
+        JpaEndpoint jpa = (JpaEndpoint) comp.createEndpoint("jpa://" + SendEmail.class.getName() + "?persistenceUnit=journalPersistenceUnit&usePersist=true");
+        assertNotNull(jpa);
+        assertNotNull(jpa.getEntityType());
     }
 
+    @Test
+    public void testJpaComponentEmptyPath() throws Exception {
+        JpaComponent comp = new JpaComponent();
+        comp.setCamelContext(context);
+        assertNull(comp.getEntityManagerFactory());
+        assertNull(comp.getTransactionManager());
+
+        JpaEndpoint jpa = (JpaEndpoint) comp.createEndpoint("jpa:?persistenceUnit=journalPersistenceUnit&usePersist=true");
+        assertNotNull(jpa);
+        assertNull(jpa.getEntityType());
+    }
 }
