diff --git a/components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppConsumer.java b/components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppConsumer.java
index 49ab9ddc696..9a9ab645725 100644
--- a/components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppConsumer.java
+++ b/components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppConsumer.java
@@ -44,6 +44,7 @@ public class XmppConsumer extends DefaultConsumer implements PacketListener, Mes
     private static final transient Log LOG = LogFactory.getLog(XmppConsumer.class);
     private final XmppEndpoint endpoint;
     private MultiUserChat muc;
+    private Chat privateChat;
     private XMPPConnection connection;
 
     public XmppConsumer(XmppEndpoint endpoint, Processor processor) {
@@ -59,7 +60,7 @@ public class XmppConsumer extends DefaultConsumer implements PacketListener, Mes
 
             // if an existing chat session has been opened (for example by a producer) let's
             // just add a listener to that chat
-            Chat privateChat = connection.getChatManager().getThreadChat(endpoint.getParticipant());
+            privateChat = connection.getChatManager().getThreadChat(endpoint.getParticipant());
 
             if (privateChat != null) {
                 LOG.debug("Adding listener to existing chat opened to " + privateChat.getParticipant());
@@ -106,13 +107,13 @@ public class XmppConsumer extends DefaultConsumer implements PacketListener, Mes
 
     public void processPacket(Packet packet) {
         if (packet instanceof Message) {
-            processMessage(null, (Message) packet);
+            processMessage(null, (Message)packet);
         }
     }
 
     public void processMessage(Chat chat, Message message) {
         if (LOG.isDebugEnabled()) {
-            LOG.debug("Recieved XMPP message: " + message.getBody());
+            LOG.debug("Received XMPP message for " + endpoint.getUser() + " from " + endpoint.getParticipant() + " : " + message.getBody());
         }
 
         Exchange exchange = endpoint.createExchange(message);
@@ -122,5 +123,4 @@ public class XmppConsumer extends DefaultConsumer implements PacketListener, Mes
             exchange.setException(e);
         }
     }
-
 }
diff --git a/components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppPrivateChatProducer.java b/components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppPrivateChatProducer.java
index 182b7c8799f..9f8ae49b54b 100644
--- a/components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppPrivateChatProducer.java
+++ b/components/camel-xmpp/src/main/java/org/apache/camel/component/xmpp/XmppPrivateChatProducer.java
@@ -84,14 +84,14 @@ public class XmppPrivateChatProducer extends DefaultProducer {
             endpoint.getBinding().populateXmppMessage(message, exchange);
 
             if (LOG.isDebugEnabled()) {
-                LOG.debug("Sending XMPP message: " + message.getBody());
+                LOG.debug("Sending XMPP message to " + endpoint.getParticipant() + " from " + endpoint.getUser() + " : " + message.getBody());
             }
             chat.sendMessage(message);
         } catch (XMPPException xmppe) {
-            throw new RuntimeExchangeException("Cannot send XMPP message: " + message
+            throw new RuntimeExchangeException("Cannot send XMPP message: to " + endpoint.getParticipant() + " from " + endpoint.getUser() + " : " + message
                     + " to: " + XmppEndpoint.getConnectionMessage(connection), exchange, xmppe);
         } catch (Exception e) {
-            throw new RuntimeExchangeException("Cannot send XMPP message: " + message
+            throw new RuntimeExchangeException("Cannot send XMPP message to " + endpoint.getParticipant() + " from " + endpoint.getUser() + " : " + message
                     + " to: " + XmppEndpoint.getConnectionMessage(connection), exchange, e);
         }
     }
diff --git a/components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppRouteChatTest.java b/components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppRouteChatTest.java
index 22b89230852..c9a1b207c3c 100644
--- a/components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppRouteChatTest.java
+++ b/components/camel-xmpp/src/test/java/org/apache/camel/component/xmpp/XmppRouteChatTest.java
@@ -21,6 +21,9 @@ import org.apache.camel.Processor;
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.component.mock.MockEndpoint;
 import org.apache.camel.test.junit4.CamelTestSupport;
+import org.apache.commons.logging.Log;
+import org.apache.commons.logging.LogFactory;
+
 import org.jivesoftware.smack.packet.Message;
 import org.junit.Test;
 
@@ -28,6 +31,7 @@ import org.junit.Test;
  * @version $Revision$
  */
 public class XmppRouteChatTest extends CamelTestSupport {
+    private static final transient Log LOG = LogFactory.getLog(XmppRouteChatTest.class);
     protected MockEndpoint consumerEndpoint;
     protected MockEndpoint producerEndpoint;
     protected String body1 = "the first message";
@@ -35,24 +39,39 @@ public class XmppRouteChatTest extends CamelTestSupport {
 
 
     @Test
-    public void testXmppChat() {
-        producerEndpoint = (MockEndpoint)context.getEndpoint("mock:fromProducer");
-        consumerEndpoint = (MockEndpoint)context.getEndpoint("mock:fromConsumer");
+    public void testXmppChat() throws Exception {
+        consumerEndpoint = (MockEndpoint)context.getEndpoint("mock:out1");
+        producerEndpoint = (MockEndpoint)context.getEndpoint("mock:out2");
 
-        //will send chat messages to the consumer
-        template.sendBody("direct:toProducer", body1);
-        template.sendBody("direct:toProducer", body2);
         consumerEndpoint.expectedBodiesReceived(body1, body2);
-        
+        producerEndpoint.expectedBodiesReceived(body1, body2);
+
+        //will send chat messages to the consumer
         template.sendBody("direct:toConsumer", body1);
         template.sendBody("direct:toConsumer", body2);
-        consumerEndpoint.expectedBodiesReceived(body1, body2);
+        
+        template.sendBody("direct:toProducer", body1);
+        template.sendBody("direct:toProducer", body2);
+
+        consumerEndpoint.assertIsSatisfied();
+        producerEndpoint.assertIsSatisfied();
+
     }
 
     protected RouteBuilder createRouteBuilder() throws Exception {
         return new RouteBuilder() {
             public void configure() throws Exception {
 
+                Processor stringConverter = new Processor() {
+                    public void process(Exchange exchange) throws Exception {
+                        XmppMessage xmppMessage = (XmppMessage)exchange.getIn();
+                        Message message = xmppMessage.getXmppMessage();
+                        String body = message.getBody();
+                        LOG.debug("Converting message - " + body);
+                        exchange.getIn().setBody(body);
+                    }
+                };
+
                 from("direct:toConsumer")
                     .to(getConsumerUri());
 
@@ -60,31 +79,22 @@ public class XmppRouteChatTest extends CamelTestSupport {
                     .to(getProducerUri());
 
                 from(getConsumerUri())
-                    .to("mock:fromConsumer");
+                    .process(stringConverter)
+                    .to("mock:out1");
 
                 from(getProducerUri())
-                    .to("mock:fromProducer");
-
-                from("direct:getString")
-                    .process(new Processor() {
-                        public void process(Exchange exchange) throws Exception {
-                            XmppMessage xmppMessage = (XmppMessage)exchange.getIn();
-                            Message message = xmppMessage.getXmppMessage();
-                            exchange.getIn().setBody(message.getBody());
-                        }
-                    })
-                    .to("direct:getStringResult");
-
+                    .process(stringConverter)
+                    .to("mock:out2");
             }
         };
     }
 
     protected String getProducerUri() {
-        return "xmpp://camel_producer@jabber.org:5222/camel_consumer@jabber.org?user=camel_producer&password=secret&serviceName=jabber.org";
+        return "xmpp://jabber.org:5222/camel_consumer?user=camel_producer&password=secret&serviceName=jabber.org";
     }
     
     protected String getConsumerUri() {
-        return "xmpp://camel_consumer@jabber.org:5222/camel_producer@jabber.org?user=camel_consumer&password=secret&serviceName=jabber.org";
+        return "xmpp://jabber.org:5222/camel_producer?user=camel_consumer&password=secret&serviceName=jabber.org";
     }
 
 }
