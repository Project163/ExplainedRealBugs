diff --git a/components/camel-osgi/src/main/java/org/apache/camel/osgi/CamelContextFactoryBean.java b/components/camel-osgi/src/main/java/org/apache/camel/osgi/CamelContextFactoryBean.java
index f7f353d6307..c28fe2feed6 100644
--- a/components/camel-osgi/src/main/java/org/apache/camel/osgi/CamelContextFactoryBean.java
+++ b/components/camel-osgi/src/main/java/org/apache/camel/osgi/CamelContextFactoryBean.java
@@ -43,7 +43,9 @@ public class CamelContextFactoryBean extends org.apache.camel.spring.CamelContex
 
     protected SpringCamelContext createContext() {
         SpringCamelContext context = super.createContext();
-        context.setComponentResolver(new OsgiComponentResolver(bundleContext));
+        if (bundleContext != null) {
+            context.setComponentResolver(new OsgiComponentResolver(bundleContext));
+        }
         return context;
     }
 
