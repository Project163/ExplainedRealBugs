diff --git a/camel-core/src/main/java/org/apache/camel/util/FileUtil.java b/camel-core/src/main/java/org/apache/camel/util/FileUtil.java
index c2fa5f63e62..1e226379c10 100644
--- a/camel-core/src/main/java/org/apache/camel/util/FileUtil.java
+++ b/camel-core/src/main/java/org/apache/camel/util/FileUtil.java
@@ -141,10 +141,10 @@ public final class FileUtil {
         if (name == null) {
             return null;
         }
-        int pos = name.lastIndexOf('/');
-        if (pos == -1) {
-            pos = name.lastIndexOf(File.separator);
-        }
+        int posUnix = name.lastIndexOf('/');
+        int posWin = name.lastIndexOf('\\');
+        int pos = Math.max(posUnix, posWin);
+
         if (pos != -1) {
             return name.substring(pos + 1);
         }
@@ -169,10 +169,11 @@ public final class FileUtil {
         if (name == null) {
             return null;
         }
-        int pos = name.lastIndexOf('/');
-        if (pos == -1) {
-            pos = name.lastIndexOf(File.separator);
-        }
+
+        int posUnix = name.lastIndexOf('/');
+        int posWin = name.lastIndexOf('\\');
+        int pos = Math.max(posUnix, posWin);
+
         if (pos > 0) {
             return name.substring(0, pos);
         } else if (pos == 0) {
diff --git a/camel-core/src/test/java/org/apache/camel/util/FileUtilTest.java b/camel-core/src/test/java/org/apache/camel/util/FileUtilTest.java
index bb622b4fba4..946c0bbea89 100644
--- a/camel-core/src/test/java/org/apache/camel/util/FileUtilTest.java
+++ b/camel-core/src/test/java/org/apache/camel/util/FileUtilTest.java
@@ -86,6 +86,16 @@ public class FileUtilTest extends TestCase {
         assertEquals("bar", FileUtil.stripPath("/foo/bar"));
     }
 
+    public void testStripPathWithMixedSeparators() {
+        assertEquals(null, FileUtil.stripPath(null));
+        assertEquals("", FileUtil.stripPath("/"));
+        assertEquals("foo.xml", FileUtil.stripPath("/foo.xml"));
+        assertEquals("foo", FileUtil.stripPath("foo"));
+        assertEquals("baz", FileUtil.stripPath("foo/bar\\baz"));
+        assertEquals("bar", FileUtil.stripPath("\\foo\\bar"));
+        assertEquals("baz", FileUtil.stripPath("/foo\\bar/baz"));
+    }
+
     public void testStripExt() {
         assertEquals(null, FileUtil.stripExt(null));
         assertEquals("foo", FileUtil.stripExt("foo"));
@@ -104,6 +114,17 @@ public class FileUtilTest extends TestCase {
         assertEquals("/bar", FileUtil.onlyPath("/bar/foo.xml"));
     }
 
+    public void testOnlyPathWithMixedSeparators() {
+        assertEquals(null, FileUtil.onlyPath(null));
+        assertEquals(null, FileUtil.onlyPath("foo"));
+        assertEquals(null, FileUtil.onlyPath("foo.xml"));
+        assertEquals("foo", FileUtil.onlyPath("foo/bar.xml"));
+        assertEquals("/foo", FileUtil.onlyPath("/foo\\bar.xml"));
+        assertEquals("\\foo\\bar", FileUtil.onlyPath("\\foo\\bar/baz.xml"));
+        assertEquals("\\", FileUtil.onlyPath("\\foo.xml"));
+        assertEquals("/bar", FileUtil.onlyPath("/bar\\foo.xml"));
+    }
+
     public void testCompactPath() {
         assertEquals(null, FileUtil.compactPath(null));
         if (FileUtil.isWindows()) {
diff --git a/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java b/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java
index 2e4d49a6e02..52ed8f4a038 100644
--- a/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java
+++ b/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/FtpOperations.java
@@ -528,7 +528,11 @@ public class FtpOperations implements RemoteFileOperations<FTPFile> {
                 return false;
             }
             for (String existing : names) {
-                if (existing.equals(onlyName)) {
+                if (log.isTraceEnabled()) {
+                    log.trace("Existing file: " + existing + ", target file: " + name);
+                }
+                existing = FileUtil.stripPath(existing);
+                if (existing != null && existing.equals(onlyName)) {
                     return true;
                 }
             }
diff --git a/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java b/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java
index 8dd372d3e37..c8ceb3fe591 100644
--- a/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java
+++ b/components/camel-ftp/src/main/java/org/apache/camel/component/file/remote/SftpOperations.java
@@ -706,7 +706,12 @@ public class SftpOperations implements RemoteFileOperations<ChannelSftp.LsEntry>
             }
             for (Object file : files) {
                 ChannelSftp.LsEntry entry = (ChannelSftp.LsEntry) file;
-                if (entry.getFilename().equals(onlyName)) {
+                String existing = entry.getFilename();
+                if (LOG.isTraceEnabled()) {
+                    LOG.trace("Existing file: " + existing + ", target file: " + name);
+                }
+                existing = FileUtil.stripPath(existing);
+                if (existing != null && existing.equals(onlyName)) {
                     return true;
                 }
             }
