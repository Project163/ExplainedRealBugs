diff --git a/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java b/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java
index 54bcc2833f5..cedf3b409e9 100644
--- a/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java
+++ b/components/camel-graphql/src/main/java/org/apache/camel/component/graphql/GraphqlEndpoint.java
@@ -189,7 +189,7 @@ public class GraphqlEndpoint extends DefaultEndpoint {
     public String getQuery() {
         if (query == null && queryFile != null) {
             try {
-                query = IOHelper.loadText(ObjectHelper.loadResourceAsStream(queryFile));
+                query = IOHelper.loadText(ObjectHelper.loadResourceAsStream(queryFile, getClass().getClassLoader()));
             } catch (IOException e) {
                 throw new RuntimeCamelException("Failed to read query file: " + queryFile, e);
             }
diff --git a/components/camel-jbpm/src/main/java/org/apache/camel/component/jbpm/server/CamelKieServerExtension.java b/components/camel-jbpm/src/main/java/org/apache/camel/component/jbpm/server/CamelKieServerExtension.java
index a4f68afbdca..6981bf22ba2 100644
--- a/components/camel-jbpm/src/main/java/org/apache/camel/component/jbpm/server/CamelKieServerExtension.java
+++ b/components/camel-jbpm/src/main/java/org/apache/camel/component/jbpm/server/CamelKieServerExtension.java
@@ -97,7 +97,8 @@ public class CamelKieServerExtension implements KieServerExtension {
             this.camelContext.setName("KIE Server Camel context");
 
             try (InputStream is
-                    = getCamelContext().getClassResolver().loadResourceAsStream("/global-camel-routes.xml")) {
+                    = org.apache.camel.util.ObjectHelper.loadResourceAsStream("/global-camel-routes.xml",
+                            getClass().getClassLoader())) {
                 if (is != null) {
                     ExtendedCamelContext ecc = camelContext.adapt(ExtendedCamelContext.class);
                     RoutesDefinition routes
@@ -129,7 +130,8 @@ public class CamelKieServerExtension implements KieServerExtension {
     public void createContainer(String id, KieContainerInstance kieContainerInstance, Map<String, Object> parameters) {
 
         ClassLoader classloader = kieContainerInstance.getKieContainer().getClassLoader();
-        try (InputStream is = getCamelContext().getClassResolver().loadResourceAsStream("camel-routes.xml")) {
+        try (InputStream is
+                = org.apache.camel.util.ObjectHelper.loadResourceAsStream("camel-routes.xml", getClass().getClassLoader())) {
             if (is != null) {
 
                 DefaultCamelContext context = (DefaultCamelContext) buildDeploymentContext(id, classloader);
diff --git a/components/camel-jira/src/main/java/org/apache/camel/component/jira/oauth/OAuthAsynchronousHttpClientFactory.java b/components/camel-jira/src/main/java/org/apache/camel/component/jira/oauth/OAuthAsynchronousHttpClientFactory.java
index e3ba43c8155..4df7f738ced 100644
--- a/components/camel-jira/src/main/java/org/apache/camel/component/jira/oauth/OAuthAsynchronousHttpClientFactory.java
+++ b/components/camel-jira/src/main/java/org/apache/camel/component/jira/oauth/OAuthAsynchronousHttpClientFactory.java
@@ -161,7 +161,8 @@ public class OAuthAsynchronousHttpClientFactory {
         static String getVersion(String groupId, String artifactId) {
             final Properties props = new Properties();
             String pomProps = String.format("/META-INF/maven/%s/%s/pom.properties", groupId, artifactId);
-            try (InputStream resourceAsStream = org.apache.camel.util.ObjectHelper.loadResourceAsStream(pomProps)) {
+            try (InputStream resourceAsStream = org.apache.camel.util.ObjectHelper.loadResourceAsStream(pomProps,
+                    OAuthAsynchronousHttpClientFactory.class.getClassLoader())) {
                 props.load(resourceAsStream);
                 return props.getProperty("version", UNKNOWN_VERSION);
             } catch (Exception e) {
diff --git a/components/camel-schematron/src/main/java/org/apache/camel/component/schematron/processor/ClassPathURIResolver.java b/components/camel-schematron/src/main/java/org/apache/camel/component/schematron/processor/ClassPathURIResolver.java
index 0e907c1aa28..e0250811878 100644
--- a/components/camel-schematron/src/main/java/org/apache/camel/component/schematron/processor/ClassPathURIResolver.java
+++ b/components/camel-schematron/src/main/java/org/apache/camel/component/schematron/processor/ClassPathURIResolver.java
@@ -42,7 +42,8 @@ public class ClassPathURIResolver implements URIResolver {
     @Override
     public Source resolve(String href, String base) throws TransformerException {
         InputStream stream
-                = org.apache.camel.util.ObjectHelper.loadResourceAsStream(rulesDir.concat("/").concat(href));
+            = org.apache.camel.util.ObjectHelper.loadResourceAsStream(rulesDir.concat("/").concat(href),
+                                                                      getClass().getClassLoader());
         if (stream != null) {
             return new StreamSource(stream);
         } else {
