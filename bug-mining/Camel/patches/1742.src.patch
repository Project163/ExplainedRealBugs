diff --git a/components/camel-spring/src/test/resources/log4j.properties b/components/camel-spring/src/test/resources/log4j.properties
index 0fb44bdcced..083a76aaa5e 100644
--- a/components/camel-spring/src/test/resources/log4j.properties
+++ b/components/camel-spring/src/test/resources/log4j.properties
@@ -18,7 +18,7 @@
 #
 # The logging properties used for eclipse testing, We want to see debug output on the console.
 #
-log4j.rootLogger=INFO, file
+log4j.rootLogger=INFO, out
 
 log4j.logger.org.springframework=WARN
 #log4j.logger.org.apache.camel.impl.converter=WARN
diff --git a/components/camel-spring/src/test/resources/org/apache/camel/spring/processor/xpathFilterWithNamespace.xml b/components/camel-spring/src/test/resources/org/apache/camel/spring/processor/xpathFilterWithNamespace.xml
index ce5a96a4f6a..873a759c100 100644
--- a/components/camel-spring/src/test/resources/org/apache/camel/spring/processor/xpathFilterWithNamespace.xml
+++ b/components/camel-spring/src/test/resources/org/apache/camel/spring/processor/xpathFilterWithNamespace.xml
@@ -28,7 +28,7 @@
     <route>
       <from uri="direct:start"/>
       <filter>
-        <xpath>/foo:person[@name='James']</xpath>
+        <xpath logNamespaces="true">/foo:person[@name='James']</xpath>
         <to uri="mock:result"/>
       </filter>
     </route>
diff --git a/components/camel-test-blueprint/src/main/java/org/apache/camel/test/blueprint/CamelBlueprintTestSupport.java b/components/camel-test-blueprint/src/main/java/org/apache/camel/test/blueprint/CamelBlueprintTestSupport.java
index 982a03f20e3..25c01c0520d 100644
--- a/components/camel-test-blueprint/src/main/java/org/apache/camel/test/blueprint/CamelBlueprintTestSupport.java
+++ b/components/camel-test-blueprint/src/main/java/org/apache/camel/test/blueprint/CamelBlueprintTestSupport.java
@@ -75,6 +75,9 @@ public abstract class CamelBlueprintTestSupport extends CamelTestSupport {
     protected TinyBundle createTestBundle() {
         TinyBundle bundle = TinyBundles.newBundle();
         for (URL url : getBlueprintDescriptors()) {
+            if (url == null) {
+                throw new IllegalArgumentException("getBlueprintDescriptors() returns null");
+            }
             bundle.add("OSGI-INF/blueprint/blueprint-" + url.getFile().replace("/", "-"), url);
         }
         bundle.set("Manifest-Version", "2")
diff --git a/components/camel-test-blueprint/src/test/java/org/apache/camel/test/blueprint/xpath/XPathFilterWithNamespaceTest.java b/components/camel-test-blueprint/src/test/java/org/apache/camel/test/blueprint/xpath/XPathFilterWithNamespaceTest.java
new file mode 100644
index 00000000000..71fc0ede2e3
--- /dev/null
+++ b/components/camel-test-blueprint/src/test/java/org/apache/camel/test/blueprint/xpath/XPathFilterWithNamespaceTest.java
@@ -0,0 +1,54 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.test.blueprint.xpath;
+
+import java.net.URL;
+import java.util.Collection;
+import java.util.Collections;
+
+import org.apache.camel.test.blueprint.CamelBlueprintTestSupport;
+import org.junit.Test;
+
+public class XPathFilterWithNamespaceTest extends CamelBlueprintTestSupport {
+
+    protected String matchingBody = "<person name='James' city='London' xmlns='http://example.com/person'/>";
+    protected String notMatchingBody = "<person name='Hiram' city='Tampa' xmlns='http://example.com/person'/>";
+
+    @Override
+    protected Collection<URL> getBlueprintDescriptors() {
+        return Collections.singleton(getClass().getResource("xpathFilterWithNamespaceTest.xml"));
+    }
+
+    @Test
+    public void testSendMatchingMessage() throws Exception {
+        getMockEndpoint("mock:result").expectedBodiesReceived(matchingBody);
+
+        sendBody("direct:start", matchingBody);
+
+        assertMockEndpointsSatisfied();
+    }
+
+    @Test
+    public void testSendNotMatchingMessage() throws Exception {
+        getMockEndpoint("mock:result").expectedMessageCount(0);
+
+        sendBody("direct:start", notMatchingBody);
+
+        assertMockEndpointsSatisfied();
+    }
+
+}
diff --git a/components/camel-test-blueprint/src/test/resources/log4j.properties b/components/camel-test-blueprint/src/test/resources/log4j.properties
index dd05a9aa33c..a37186b230c 100644
--- a/components/camel-test-blueprint/src/test/resources/log4j.properties
+++ b/components/camel-test-blueprint/src/test/resources/log4j.properties
@@ -22,7 +22,7 @@ log4j.rootLogger=INFO, file
 
 log4j.logger.org.springframework=WARN
 #log4j.logger.org.apache.camel=DEBUG
-log4j.logger.org.apache.camel.management=DEBUG
+#log4j.logger.org.apache.camel.management=DEBUG
 #log4j.logger.org.apache.camel.test.junit4=DEBUG
 
 # CONSOLE appender not used by default
diff --git a/components/camel-test-blueprint/src/test/resources/org/apache/camel/test/blueprint/xpath/xpathFilterWithNamespaceTest.xml b/components/camel-test-blueprint/src/test/resources/org/apache/camel/test/blueprint/xpath/xpathFilterWithNamespaceTest.xml
new file mode 100644
index 00000000000..93fad9689b8
--- /dev/null
+++ b/components/camel-test-blueprint/src/test/resources/org/apache/camel/test/blueprint/xpath/xpathFilterWithNamespaceTest.xml
@@ -0,0 +1,31 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+    Licensed to the Apache Software Foundation (ASF) under one or more
+    contributor license agreements.  See the NOTICE file distributed with
+    this work for additional information regarding copyright ownership.
+    The ASF licenses this file to You under the Apache License, Version 2.0
+    (the "License"); you may not use this file except in compliance with
+    the License.  You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing, software
+    distributed under the License is distributed on an "AS IS" BASIS,
+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+    See the License for the specific language governing permissions and
+    limitations under the License.
+-->
+<blueprint xmlns:foo="http://example.com/person"
+           xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0" >
+
+  <camelContext xmlns="http://camel.apache.org/schema/blueprint">
+    <route>
+      <from uri="direct:start"/>
+      <filter>
+        <xpath logNamespaces="true">/foo:person[@name='James']</xpath>
+        <to uri="mock:result"/>
+      </filter>
+    </route>
+  </camelContext>
+
+</blueprint>
\ No newline at end of file
