diff --git a/components/camel-soap/pom.xml b/components/camel-soap/pom.xml
index 1dd7f596582..19981e5798a 100644
--- a/components/camel-soap/pom.xml
+++ b/components/camel-soap/pom.xml
@@ -32,7 +32,7 @@
     <description>Camel SOAP support</description>
 
     <properties>
-        <camel.osgi.export.pkg>org.apache.camel.dataformat.soap.*</camel.osgi.export.pkg>
+        <camel.osgi.export.pkg>org.apache.camel.dataformat.soap.*, org.xmlsoap.schemas.soap.envelope.*</camel.osgi.export.pkg>
     </properties>
 
     <dependencies>
diff --git a/components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/SoapClientTest.java b/components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/SoapClientTest.java
index a73c8e8985d..f7fcfc7ffaf 100644
--- a/components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/SoapClientTest.java
+++ b/components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/SoapClientTest.java
@@ -57,9 +57,9 @@ public class SoapClientTest extends CamelTestSupport {
     @SuppressWarnings("unchecked")
     public void testRoundTrip() throws Exception {
         context.setTracing(true);
-        Endpoint start = context.getEndpoint("direct:start");
-        proxy = ProxyHelper.createProxy(start,
-                this.getClass().getClassLoader(), CustomerService.class);
+        Endpoint startEndpoint = context.getEndpoint("direct:start");
+        ClassLoader classLoader = Thread.currentThread().getContextClassLoader();
+        proxy = ProxyHelper.createProxy(startEndpoint, classLoader, CustomerService.class);
 
         GetCustomersByNameResponse response = proxy
                 .getCustomersByName(new GetCustomersByName());
diff --git a/components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/SoapCxfServerTest.java b/components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/SoapCxfServerTest.java
index a0cb3038238..878a76721d4 100644
--- a/components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/SoapCxfServerTest.java
+++ b/components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/SoapCxfServerTest.java
@@ -80,10 +80,13 @@ public class SoapCxfServerTest extends RouteBuilder {
         String jaxbPackage = GetCustomersByName.class.getPackage().getName();
         ElementNameStrategy elNameStrat = new ServiceInterfaceStrategy(CustomerService.class, true);
         SoapJaxbDataFormat soapDataFormat = new SoapJaxbDataFormat(jaxbPackage, elNameStrat);
-        from("direct:camelClient").onException(NoSuchCustomerException.class).handled(true).unmarshal(soapDataFormat)
-                .end().marshal(soapDataFormat) //
-                .to("direct:cxfEndpoint") //
-                .unmarshal(soapDataFormat);
+        from("direct:camelClient") //
+            .onException(NoSuchCustomerException.class) //
+                .handled(true) //
+                .unmarshal(soapDataFormat) //
+            .end().marshal(soapDataFormat) //
+            .to("direct:cxfEndpoint") //
+            .unmarshal(soapDataFormat);
     }
 
 }
diff --git a/components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/SoapMarshalTest.java b/components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/SoapMarshalTest.java
index 01fc0332f10..d7160d1a0bb 100644
--- a/components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/SoapMarshalTest.java
+++ b/components/camel-soap/src/test/java/org/apache/camel/dataformat/soap/SoapMarshalTest.java
@@ -90,11 +90,8 @@ public class SoapMarshalTest extends CamelTestSupport {
             public void configure() throws Exception {
                 SoapJaxbDataFormat df = createDataFormat();
                 from("direct:start") //
-                        .onException(Exception.class) //
-                            .marshal(df) //
-                            .end() //
-                        .marshal(df) //
-                        .to("mock:result");
+                    .marshal(df) //
+                    .to("mock:result");
             }
         };
     }
