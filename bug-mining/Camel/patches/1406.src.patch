diff --git a/components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheComponent.java b/components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheComponent.java
index 604c1afd6b6..8a3b4525c96 100755
--- a/components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheComponent.java
+++ b/components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheComponent.java
@@ -27,7 +27,7 @@ import org.apache.camel.util.ServiceHelper;
 
 public class CacheComponent extends DefaultComponent {
     private CacheConfiguration configuration;
-    private CacheManagerFactory cacheManagerFactory = new CacheManagerFactory();
+    private CacheManagerFactory cacheManagerFactory = new DefaultCacheManagerFactory();
     
     public CacheComponent() {
         configuration = new CacheConfiguration();
@@ -46,9 +46,11 @@ public class CacheComponent extends DefaultComponent {
         CacheConfiguration config = configuration.copy();
 
         config.parseURI(new URI(uri));
-        
+
+        setProperties(this, parameters);
+        setProperties(config, parameters);
+
         CacheEndpoint cacheEndpoint = new CacheEndpoint(uri, this, config, cacheManagerFactory);
-        setProperties(cacheEndpoint.getConfig(), parameters);
         return cacheEndpoint;
     }
 
diff --git a/components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheManagerFactory.java b/components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheManagerFactory.java
index 2c8e850c7a6..724148083f9 100755
--- a/components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheManagerFactory.java
+++ b/components/camel-cache/src/main/java/org/apache/camel/component/cache/CacheManagerFactory.java
@@ -19,17 +19,26 @@ package org.apache.camel.component.cache;
 import net.sf.ehcache.CacheManager;
 import org.apache.camel.impl.ServiceSupport;
 
-public class CacheManagerFactory extends ServiceSupport {
+public abstract class CacheManagerFactory extends ServiceSupport {
     private CacheManager cacheManager;
 
     public synchronized CacheManager instantiateCacheManager() {
         if (cacheManager == null) {
-            cacheManager = CacheManager.getInstance();
+            cacheManager = createCacheManagerInstance();
         }
         
         return cacheManager;
     }
 
+    /**
+     * Creates {@link CacheManager}.
+     * <p/>
+     * The default implementation is {@link DefaultCacheManagerFactory}.
+     *
+     * @return {@link CacheManager}
+     */
+    protected abstract CacheManager createCacheManagerInstance();
+
     @Override
     protected void doStart() throws Exception {
     }
diff --git a/components/camel-cache/src/main/java/org/apache/camel/component/cache/DefaultCacheManagerFactory.java b/components/camel-cache/src/main/java/org/apache/camel/component/cache/DefaultCacheManagerFactory.java
new file mode 100644
index 00000000000..f942725c458
--- /dev/null
+++ b/components/camel-cache/src/main/java/org/apache/camel/component/cache/DefaultCacheManagerFactory.java
@@ -0,0 +1,28 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.cache;
+
+import net.sf.ehcache.CacheManager;
+
+public class DefaultCacheManagerFactory extends CacheManagerFactory {
+
+    @Override
+    protected CacheManager createCacheManagerInstance() {
+        return CacheManager.create(getClass().getResourceAsStream("/ehcache.xml"));
+    }
+
+}
diff --git a/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedMessageBodyReplacer.java b/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedMessageBodyReplacer.java
index 709a0f0ad5d..fa4bf02f9ce 100755
--- a/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedMessageBodyReplacer.java
+++ b/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedMessageBodyReplacer.java
@@ -21,7 +21,7 @@ import net.sf.ehcache.Ehcache;
 
 import org.apache.camel.Exchange;
 import org.apache.camel.Processor;
-import org.apache.camel.component.cache.CacheManagerFactory;
+import org.apache.camel.component.cache.DefaultCacheManagerFactory;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
 
@@ -44,7 +44,7 @@ public class CacheBasedMessageBodyReplacer extends CacheValidate implements Proc
 
     public void process(Exchange exchange) throws Exception {
         // Cache the buffer to the specified Cache against the specified key
-        cacheManager = new CacheManagerFactory().instantiateCacheManager();
+        cacheManager = new DefaultCacheManagerFactory().instantiateCacheManager();
 
         if (isValid(cacheManager, cacheName, key)) {
             cache = cacheManager.getCache(cacheName);
diff --git a/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedTokenReplacer.java b/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedTokenReplacer.java
index f913e35b32a..3c97ae656c0 100755
--- a/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedTokenReplacer.java
+++ b/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedTokenReplacer.java
@@ -20,9 +20,10 @@ import java.io.InputStream;
 
 import net.sf.ehcache.CacheManager;
 import net.sf.ehcache.Ehcache;
+
 import org.apache.camel.Exchange;
 import org.apache.camel.Processor;
-import org.apache.camel.component.cache.CacheManagerFactory;
+import org.apache.camel.component.cache.DefaultCacheManagerFactory;
 import org.apache.camel.converter.IOConverter;
 import org.apache.camel.util.IOHelper;
 import org.slf4j.Logger;
@@ -49,7 +50,7 @@ public class CacheBasedTokenReplacer extends CacheValidate implements Processor
 
     public void process(Exchange exchange) throws Exception {
         // Cache the buffer to the specified Cache against the specified key
-        cacheManager = new CacheManagerFactory().instantiateCacheManager();
+        cacheManager = new DefaultCacheManagerFactory().instantiateCacheManager();
 
         if (isValid(cacheManager, cacheName, key)) {
             cache = cacheManager.getCache(cacheName);
diff --git a/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java b/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java
index 781f85f98ae..c290d0365e1 100755
--- a/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java
+++ b/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java
@@ -32,7 +32,7 @@ import net.sf.ehcache.CacheManager;
 import net.sf.ehcache.Ehcache;
 import org.apache.camel.Exchange;
 import org.apache.camel.Processor;
-import org.apache.camel.component.cache.CacheManagerFactory;
+import org.apache.camel.component.cache.DefaultCacheManagerFactory;
 import org.apache.camel.converter.IOConverter;
 import org.apache.camel.converter.jaxp.XmlConverter;
 import org.apache.camel.util.IOHelper;
@@ -63,7 +63,7 @@ public class CacheBasedXPathReplacer extends CacheValidate implements Processor
 
     public void process(Exchange exchange) throws Exception {
         // Cache the buffer to the specified Cache against the specified key
-        cacheManager = new CacheManagerFactory().instantiateCacheManager();
+        cacheManager = new DefaultCacheManagerFactory().instantiateCacheManager();
 
         if (isValid(cacheManager, cacheName, key)) {
             cache = cacheManager.getCache(cacheName);
diff --git a/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheValidate.java b/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheValidate.java
index 4dd4aa132e9..326b4c1a685 100755
--- a/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheValidate.java
+++ b/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheValidate.java
@@ -29,17 +29,12 @@ public class CacheValidate {
         LOG.trace("Cache Name: {}", cacheName);
 
         if (!cacheManager.cacheExists(cacheName)) {
-            if (LOG.isDebugEnabled()) {
-                LOG.debug("No existing Cache found with name: " + cacheName
-                        + ". Please ensure a cache is first instantiated using a Cache Consumer or Cache Producer."
-                        + " Replacement will not be performed since the cache " + cacheName + "does not presently exist");
-            }
+            LOG.debug("No existing Cache found with name: {}"
+                    + ". Please ensure a cache is first instantiated using a Cache Consumer or Cache Producer."
+                    + " Replacement will not be performed since the cache {} does not presently exist", cacheName, cacheName);
             return false;
         }
-
-        if (LOG.isDebugEnabled()) {
-            LOG.debug("Found an existing cache: " + cacheName);
-        }
+        LOG.debug("Found an existing cache: {}", cacheName);
 
         if (LOG.isTraceEnabled()) {
             LOG.trace("Cache {} currently contains {} elements", cacheName, cacheManager.getCache(cacheName).getSize());
@@ -47,11 +42,8 @@ public class CacheValidate {
         Ehcache cache = cacheManager.getCache(cacheName);
 
         if (!cache.isKeyInCache(key)) {
-            if (LOG.isDebugEnabled()) {
-                LOG.debug("No Key with name: " + key
-                        + "presently exists in the cache. It is also possible that the key may have expired in the cache."
-                        + " Replacement will not be performed until an appropriate key/value pair is added to (or) found in the cache.");
-            }
+            LOG.debug("No Key with name: {} presently exists in the cache. It is also possible that the key may have expired in the cache."
+                    + " Replacement will not be performed until an appropriate key/value pair is added to (or) found in the cache.", key);
             return false;
         }
 
diff --git a/components/camel-cache/src/test/java/org/apache/camel/component/cache/CacheManagerFactoryRefTest.java b/components/camel-cache/src/test/java/org/apache/camel/component/cache/CacheManagerFactoryRefTest.java
new file mode 100644
index 00000000000..ff39b4287f7
--- /dev/null
+++ b/components/camel-cache/src/test/java/org/apache/camel/component/cache/CacheManagerFactoryRefTest.java
@@ -0,0 +1,82 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.cache;
+
+import net.sf.ehcache.CacheManager;
+import org.apache.camel.EndpointInject;
+import org.apache.camel.Exchange;
+import org.apache.camel.Message;
+import org.apache.camel.Processor;
+import org.apache.camel.Produce;
+import org.apache.camel.ProducerTemplate;
+import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.impl.JndiRegistry;
+import org.apache.camel.test.CamelTestSupport;
+import org.junit.Test;
+
+public class CacheManagerFactoryRefTest extends CamelTestSupport {
+    private static final String CACHE_ENDPOINT_URI =
+            "cache://myname1?cacheManagerFactory=#testCacheManagerFactory";
+
+    @EndpointInject(uri = CACHE_ENDPOINT_URI)
+    protected CacheEndpoint cacheEndpoint;
+
+    @Produce(uri = "direct:start")
+    protected ProducerTemplate producerTemplate;
+
+    private CacheManagerFactory testingCacheManagerFactory = new TestingCacheManagerFactory();
+
+    @Override
+    protected JndiRegistry createRegistry() throws Exception {
+        JndiRegistry jndi = super.createRegistry();
+        jndi.bind("testCacheManagerFactory", testingCacheManagerFactory);
+        return jndi;
+    }
+
+    @Override
+    public RouteBuilder createRouteBuilder() throws Exception {
+        return new RouteBuilder() {
+            @Override
+            public void configure() throws Exception {
+                from("direct:start").to(CACHE_ENDPOINT_URI);
+            }
+        };
+    }
+
+    @Test
+    public void testConfig() throws Exception {
+        producerTemplate.send(new Processor() {
+            public void process(Exchange exchange) throws Exception {
+                exchange.setProperty(Exchange.CHARSET_NAME, "UTF-8");
+                Message in = exchange.getIn();
+                in.setHeader(CacheConstants.CACHE_OPERATION, CacheConstants.CACHE_OPERATION_ADD);
+                in.setHeader(CacheConstants.CACHE_KEY, "greeting");
+                in.setBody("Hello World");
+            }
+        });
+
+        assertEquals("Is CacheManagerFactory set", testingCacheManagerFactory,
+                cacheEndpoint.getCacheManagerFactory());
+    }
+
+    public static class TestingCacheManagerFactory extends CacheManagerFactory {
+        @Override
+        protected CacheManager createCacheManagerInstance() {
+            return CacheManager.create(getClass().getResourceAsStream("/ehcache.xml"));
+        }
+    }
+}
