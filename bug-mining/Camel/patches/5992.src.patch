diff --git a/core/camel-core-model/src/main/java/org/apache/camel/model/ProcessorDefinition.java b/core/camel-core-model/src/main/java/org/apache/camel/model/ProcessorDefinition.java
index b23e1b9d225..cfcc6d73fab 100644
--- a/core/camel-core-model/src/main/java/org/apache/camel/model/ProcessorDefinition.java
+++ b/core/camel-core-model/src/main/java/org/apache/camel/model/ProcessorDefinition.java
@@ -87,6 +87,8 @@ public abstract class ProcessorDefinition<Type extends ProcessorDefinition<Type>
     @XmlTransient
     private ProcessorDefinition<?> parent;
     @XmlTransient
+    private RouteConfigurationDefinition routeConfiguration;
+    @XmlTransient
     private final List<InterceptStrategy> interceptStrategies = new ArrayList<>();
     @XmlTransient
     private final int index;
@@ -162,22 +164,31 @@ public abstract class ProcessorDefinition<Type extends ProcessorDefinition<Type>
 
     @Override
     public void addOutput(ProcessorDefinition<?> output) {
-        // inject context
-        CamelContextAware.trySetCamelContext(output, getCamelContext());
-
-        RouteDefinition route = ProcessorDefinitionHelper.getRoute(this);
-        if (route != null) {
-            CamelContext context = route.getCamelContext();
-            if (context != null && (context.isDebugging() || context.isTracing())) {
-                // we want to capture source location:line for every output
-                // (this is an expensive operation, so only do this if debugging or tracing is enabled)
-                ProcessorDefinitionHelper.prepareSourceLocation(output);
-                if (log.isDebugEnabled()) {
-                    log.debug("{} located in {}:{}", output.getShortName(), output.getLocation(),
-                            output.getLineNumber());
+        // grab camel context depends on if this is a regular route or a route configuration
+        CamelContext context = this.getCamelContext();
+        if (context == null) {
+            RouteDefinition route = ProcessorDefinitionHelper.getRoute(this);
+            if (route != null) {
+                context = route.getCamelContext();
+            } else {
+                RouteConfigurationDefinition rc = this.getRouteConfiguration();
+                if (rc != null) {
+                    context = rc.getCamelContext();
                 }
             }
         }
+        if (context != null && (context.isDebugging() || context.isTracing())) {
+            // we want to capture source location:line for every output
+            // (this is an expensive operation, so only do this if debugging or tracing is enabled)
+            ProcessorDefinitionHelper.prepareSourceLocation(output);
+            if (log.isDebugEnabled()) {
+                log.debug("{} located in {}:{}", output.getShortName(), output.getLocation(),
+                        output.getLineNumber());
+            }
+        }
+
+        // inject context
+        CamelContextAware.trySetCamelContext(output, context);
 
         if (!(this instanceof OutputNode)) {
             getParent().addOutput(output);
@@ -3745,6 +3756,7 @@ public abstract class ProcessorDefinition<Type extends ProcessorDefinition<Type>
 
     // Properties
     // -------------------------------------------------------------------------
+
     @Override
     public ProcessorDefinition<?> getParent() {
         return parent;
@@ -3754,6 +3766,14 @@ public abstract class ProcessorDefinition<Type extends ProcessorDefinition<Type>
         this.parent = parent;
     }
 
+    public RouteConfigurationDefinition getRouteConfiguration() {
+        return routeConfiguration;
+    }
+
+    public void setRouteConfiguration(RouteConfigurationDefinition routeConfiguration) {
+        this.routeConfiguration = routeConfiguration;
+    }
+
     public List<InterceptStrategy> getInterceptStrategies() {
         return interceptStrategies;
     }
diff --git a/core/camel-core-model/src/main/java/org/apache/camel/model/RouteConfigurationDefinition.java b/core/camel-core-model/src/main/java/org/apache/camel/model/RouteConfigurationDefinition.java
index 3a615347601..56df20c0cad 100644
--- a/core/camel-core-model/src/main/java/org/apache/camel/model/RouteConfigurationDefinition.java
+++ b/core/camel-core-model/src/main/java/org/apache/camel/model/RouteConfigurationDefinition.java
@@ -118,6 +118,7 @@ public class RouteConfigurationDefinition extends OptionalIdentifiedDefinition<R
      */
     public OnExceptionDefinition onException(Class<? extends Throwable> exceptionType) {
         OnExceptionDefinition answer = new OnExceptionDefinition(exceptionType);
+        answer.setRouteConfiguration(this);
         onExceptions.add(answer);
         return answer;
     }
@@ -131,6 +132,7 @@ public class RouteConfigurationDefinition extends OptionalIdentifiedDefinition<R
      */
     public OnExceptionDefinition onException(Class<? extends Throwable>... exceptions) {
         OnExceptionDefinition answer = new OnExceptionDefinition(Arrays.asList(exceptions));
+        answer.setRouteConfiguration(this);
         onExceptions.add(answer);
         return answer;
     }
@@ -143,6 +145,7 @@ public class RouteConfigurationDefinition extends OptionalIdentifiedDefinition<R
      */
     public OnCompletionDefinition onCompletion() {
         OnCompletionDefinition answer = new OnCompletionDefinition();
+        answer.setRouteConfiguration(this);
         // is global scoped by default
         answer.setRouteScoped(false);
         onCompletions.add(answer);
@@ -156,6 +159,7 @@ public class RouteConfigurationDefinition extends OptionalIdentifiedDefinition<R
      */
     public InterceptDefinition intercept() {
         InterceptDefinition answer = new InterceptDefinition();
+        answer.setRouteConfiguration(this);
         intercepts.add(answer);
         return answer;
     }
@@ -167,6 +171,7 @@ public class RouteConfigurationDefinition extends OptionalIdentifiedDefinition<R
      */
     public InterceptFromDefinition interceptFrom() {
         InterceptFromDefinition answer = new InterceptFromDefinition();
+        answer.setRouteConfiguration(this);
         interceptFroms.add(answer);
         return answer;
     }
@@ -179,6 +184,7 @@ public class RouteConfigurationDefinition extends OptionalIdentifiedDefinition<R
      */
     public InterceptFromDefinition interceptFrom(String uri) {
         InterceptFromDefinition answer = new InterceptFromDefinition(uri);
+        answer.setRouteConfiguration(this);
         interceptFroms.add(answer);
         return answer;
     }
@@ -191,6 +197,7 @@ public class RouteConfigurationDefinition extends OptionalIdentifiedDefinition<R
      */
     public InterceptSendToEndpointDefinition interceptSendToEndpoint(String uri) {
         InterceptSendToEndpointDefinition answer = new InterceptSendToEndpointDefinition(uri);
+        answer.setRouteConfiguration(this);
         interceptSendTos.add(answer);
         return answer;
     }
diff --git a/core/camel-core-model/src/main/java/org/apache/camel/model/RouteConfigurationsDefinition.java b/core/camel-core-model/src/main/java/org/apache/camel/model/RouteConfigurationsDefinition.java
index 92ec02c107a..95989b2487a 100644
--- a/core/camel-core-model/src/main/java/org/apache/camel/model/RouteConfigurationsDefinition.java
+++ b/core/camel-core-model/src/main/java/org/apache/camel/model/RouteConfigurationsDefinition.java
@@ -26,6 +26,7 @@ import javax.xml.bind.annotation.XmlRootElement;
 import javax.xml.bind.annotation.XmlTransient;
 
 import org.apache.camel.CamelContext;
+import org.apache.camel.CamelContextAware;
 import org.apache.camel.spi.Metadata;
 
 /**
@@ -108,6 +109,7 @@ public class RouteConfigurationsDefinition implements RouteConfigurationContaine
         if (id != null) {
             config.setId(id);
         }
+        CamelContextAware.trySetCamelContext(config, camelContext);
         return config;
     }
 
