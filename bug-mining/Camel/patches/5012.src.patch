diff --git a/components/camel-ahc-ws/src/test/java/org/apache/camel/component/ahc/ws/WssProducerTest.java b/components/camel-ahc-ws/src/test/java/org/apache/camel/component/ahc/ws/WssProducerTest.java
index 11c251108ad..329dfd4298d 100644
--- a/components/camel-ahc-ws/src/test/java/org/apache/camel/component/ahc/ws/WssProducerTest.java
+++ b/components/camel-ahc-ws/src/test/java/org/apache/camel/component/ahc/ws/WssProducerTest.java
@@ -57,7 +57,7 @@ public class WssProducerTest extends WsProducerTestBase {
     private static SSLContextParameters defineSSLContextServerParameters() {
 
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource("jsse/localhost.ks");
+        ksp.setResource("jsse/localhost.p12");
         ksp.setPassword(PW);
 
         KeyManagersParameters kmp = new KeyManagersParameters();
@@ -82,7 +82,7 @@ public class WssProducerTest extends WsProducerTestBase {
 
     private static SSLContextParameters defineSSLContextClientParameters() {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource("jsse/localhost.ks");
+        ksp.setResource("jsse/localhost.p12");
         ksp.setPassword(PW);
 
         TrustManagersParameters tmp = new TrustManagersParameters();
diff --git a/components/camel-ahc-ws/src/test/resources/jsse/localhost.ks b/components/camel-ahc-ws/src/test/resources/jsse/localhost.ks
deleted file mode 100644
index f285418cffb..00000000000
Binary files a/components/camel-ahc-ws/src/test/resources/jsse/localhost.ks and /dev/null differ
diff --git a/components/camel-ahc-ws/src/test/resources/jsse/localhost.p12 b/components/camel-ahc-ws/src/test/resources/jsse/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/components/camel-ahc-ws/src/test/resources/jsse/localhost.p12 differ
diff --git a/components/camel-ahc/src/test/java/org/apache/camel/component/ahc/BaseAhcTest.java b/components/camel-ahc/src/test/java/org/apache/camel/component/ahc/BaseAhcTest.java
index 254b11bba5d..d479fd4a8f6 100644
--- a/components/camel-ahc/src/test/java/org/apache/camel/component/ahc/BaseAhcTest.java
+++ b/components/camel-ahc/src/test/java/org/apache/camel/component/ahc/BaseAhcTest.java
@@ -58,7 +58,7 @@ public abstract class BaseAhcTest extends CamelTestSupport {
     @BindToRegistry("sslContextParameters") 
     public SSLContextParameters createSSLContextParameters() {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.ks").toString());
+        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.p12").toString());
         ksp.setPassword(KEY_STORE_PASSWORD);
 
         KeyManagersParameters kmp = new KeyManagersParameters();
diff --git a/components/camel-ahc/src/test/resources/jsse/localhost.ks b/components/camel-ahc/src/test/resources/jsse/localhost.ks
deleted file mode 100644
index 34db928660c..00000000000
Binary files a/components/camel-ahc/src/test/resources/jsse/localhost.ks and /dev/null differ
diff --git a/components/camel-ahc/src/test/resources/jsse/localhost.p12 b/components/camel-ahc/src/test/resources/jsse/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/components/camel-ahc/src/test/resources/jsse/localhost.p12 differ
diff --git a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInOutInteractiveMain.java b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInOutInteractiveMain.java
index 800503600c6..0db1d9fecb0 100644
--- a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInOutInteractiveMain.java
+++ b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInOutInteractiveMain.java
@@ -18,6 +18,7 @@ package org.apache.camel.component.cometd;
 
 import java.io.File;
 import java.net.URI;
+import java.net.URISyntaxException;
 
 import org.apache.camel.CamelContext;
 import org.apache.camel.Exchange;
@@ -55,12 +56,11 @@ public class CometdProducerConsumerInOutInteractiveMain {
 
     private RouteBuilder createRouteBuilder() {
         return new RouteBuilder() {
-            public void configure() {
+            public void configure() throws URISyntaxException {
                 CometdComponent component = (CometdComponent) context.getComponent("cometds");
                 component.setSslPassword(pwd);
                 component.setSslKeyPassword(pwd);
-                File file = new File("./src/test/resources/jsse/localhost.ks");
-                URI keyStoreUrl = file.toURI();
+                URI keyStoreUrl = CometdProducerConsumerInOutInteractiveMain.class.getResource("/jsse/localhost.p12").toURI();
                 component.setSslKeystore(keyStoreUrl.getPath());
 
                 from(URI).setExchangePattern(ExchangePattern.InOut).process(new Processor() {
diff --git a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveAuthenticatedMain.java b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveAuthenticatedMain.java
index 14b7f915ddb..82e72b5459e 100644
--- a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveAuthenticatedMain.java
+++ b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveAuthenticatedMain.java
@@ -18,6 +18,7 @@ package org.apache.camel.component.cometd;
 
 import java.io.File;
 import java.net.URI;
+import java.net.URISyntaxException;
 import java.util.HashMap;
 import java.util.Map;
 
@@ -58,7 +59,7 @@ public class CometdProducerConsumerInteractiveAuthenticatedMain {
 
     private RouteBuilder createRouteBuilder() {
         return new RouteBuilder() {
-            public void configure() {
+            public void configure() throws URISyntaxException {
                 CometdComponent component = (CometdComponent) context.getComponent("cometds");
                 component.setSslPassword(pwd);
                 component.setSslKeyPassword(pwd);
@@ -68,8 +69,7 @@ public class CometdProducerConsumerInteractiveAuthenticatedMain {
                 component2.setSecurityPolicy(bayeuxAuthenticator);
                 component2.addExtension(bayeuxAuthenticator);
 
-                File file = new File("./src/test/resources/jsse/localhost.ks");
-                URI keyStoreUrl = file.toURI();
+                URI keyStoreUrl = CometdProducerConsumerInteractiveAuthenticatedMain.class.getResource("/jsse/localhost.p12").toURI();
                 component.setSslKeystore(keyStoreUrl.getPath());
 
                 from("stream:in").to(URI).to(URIS);
diff --git a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveExtensionMain.java b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveExtensionMain.java
index f1f8b83e390..ab357be6775 100644
--- a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveExtensionMain.java
+++ b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveExtensionMain.java
@@ -18,6 +18,7 @@ package org.apache.camel.component.cometd;
 
 import java.io.File;
 import java.net.URI;
+import java.net.URISyntaxException;
 import java.util.Arrays;
 import java.util.HashSet;
 
@@ -55,7 +56,7 @@ public class CometdProducerConsumerInteractiveExtensionMain {
 
     private RouteBuilder createRouteBuilder() {
         return new RouteBuilder() {
-            public void configure() {
+            public void configure() throws URISyntaxException {
                 CometdComponent component = (CometdComponent) context.getComponent("cometds");
                 component.setSslPassword(pwd);
                 component.setSslKeyPassword(pwd);
@@ -64,8 +65,7 @@ public class CometdProducerConsumerInteractiveExtensionMain {
                 Censor bayeuxAuthenticator = new Censor();
                 component2.addExtension(bayeuxAuthenticator);
 
-                File file = new File("./src/test/resources/jsse/localhost.ks");
-                URI keyStoreUrl = file.toURI();
+                URI keyStoreUrl = CometdProducerConsumerInteractiveExtensionMain.class.getResource("/jsse/localhost.p12").toURI();
                 component.setSslKeystore(keyStoreUrl.getPath());
 
                 from("stream:in").to(URI).to(URIS);
diff --git a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveMain.java b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveMain.java
index 21128f5d28c..7540c04712e 100644
--- a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveMain.java
+++ b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/CometdProducerConsumerInteractiveMain.java
@@ -18,6 +18,7 @@ package org.apache.camel.component.cometd;
 
 import java.io.File;
 import java.net.URI;
+import java.net.URISyntaxException;
 
 import org.apache.camel.CamelContext;
 import org.apache.camel.builder.RouteBuilder;
@@ -50,12 +51,11 @@ public class CometdProducerConsumerInteractiveMain {
 
     private RouteBuilder createRouteBuilder() {
         return new RouteBuilder() {
-            public void configure() {
+            public void configure() throws URISyntaxException {
                 CometdComponent component = (CometdComponent) context.getComponent("cometds");
                 component.setSslPassword(pwd);
                 component.setSslKeyPassword(pwd);
-                File file = new File("./src/test/resources/jsse/localhost.ks");
-                URI keyStoreUrl = file.toURI();
+                URI keyStoreUrl = CometdProducerConsumerInteractiveMain.class.getResource("/jsse/localhost.p12").toURI();
                 component.setSslKeystore(keyStoreUrl.getPath());
 
                 from("stream:in").to(URI).to(URIS);
diff --git a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslCometdProducerConsumerTest.java b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslCometdProducerConsumerTest.java
index 39522cbfb52..7f34c69cf16 100644
--- a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslCometdProducerConsumerTest.java
+++ b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslCometdProducerConsumerTest.java
@@ -67,7 +67,7 @@ public class SslCometdProducerConsumerTest extends CamelTestSupport {
                 CometdComponent component = (CometdComponent) context.getComponent("cometds");
                 component.setSslPassword(pwd);
                 component.setSslKeyPassword(pwd);
-                URL keyStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+                URL keyStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
                 component.setSslKeystore(keyStoreUrl.getPath());
 
                 from("direct:input").to(uri);
diff --git a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslContextParametersCometdProducerConsumerTest.java b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslContextParametersCometdProducerConsumerTest.java
index 21316fb761e..bccd81bc18b 100644
--- a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslContextParametersCometdProducerConsumerTest.java
+++ b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslContextParametersCometdProducerConsumerTest.java
@@ -67,7 +67,7 @@ public class SslContextParametersCometdProducerConsumerTest extends CamelTestSup
             @Override
             public void configure() throws Exception {
                 KeyStoreParameters ksp = new KeyStoreParameters();
-                ksp.setResource("jsse/localhost.ks");
+                ksp.setResource("jsse/localhost.p12");
                 ksp.setPassword("changeit");
                 
                 KeyManagersParameters kmp = new KeyManagersParameters();
diff --git a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslContextParametersInUriCometdProducerConsumerTest.java b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslContextParametersInUriCometdProducerConsumerTest.java
index 0dfb3ed847d..484f68814bd 100644
--- a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslContextParametersInUriCometdProducerConsumerTest.java
+++ b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslContextParametersInUriCometdProducerConsumerTest.java
@@ -42,7 +42,7 @@ public class SslContextParametersInUriCometdProducerConsumerTest extends CamelTe
     @BindToRegistry("sslContextParameters")
     public SSLContextParameters addSslContextParameters() {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource("jsse/localhost.ks");
+        ksp.setResource("jsse/localhost.p12");
         ksp.setPassword("changeit");
         
         KeyManagersParameters kmp = new KeyManagersParameters();
diff --git a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslGlobalContextParametersCometdProducerConsumerTest.java b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslGlobalContextParametersCometdProducerConsumerTest.java
index 98865686006..a7178002f38 100644
--- a/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslGlobalContextParametersCometdProducerConsumerTest.java
+++ b/components/camel-cometd/src/test/java/org/apache/camel/component/cometd/SslGlobalContextParametersCometdProducerConsumerTest.java
@@ -80,7 +80,7 @@ public class SslGlobalContextParametersCometdProducerConsumerTest extends CamelT
     protected CamelContext createCamelContext() throws Exception {
         CamelContext context = super.createCamelContext();
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource("jsse/localhost.ks");
+        ksp.setResource("jsse/localhost.p12");
         ksp.setPassword("changeit");
 
         KeyManagersParameters kmp = new KeyManagersParameters();
diff --git a/components/camel-cometd/src/test/resources/jsse/localhost.ks b/components/camel-cometd/src/test/resources/jsse/localhost.ks
deleted file mode 100644
index f285418cffb..00000000000
Binary files a/components/camel-cometd/src/test/resources/jsse/localhost.ks and /dev/null differ
diff --git a/components/camel-cometd/src/test/resources/jsse/localhost.p12 b/components/camel-cometd/src/test/resources/jsse/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/components/camel-cometd/src/test/resources/jsse/localhost.p12 differ
diff --git a/components/camel-cxf/src/test/resources/localhost.ks b/components/camel-cxf/src/test/resources/localhost.ks
deleted file mode 100644
index 83999cf37da..00000000000
Binary files a/components/camel-cxf/src/test/resources/localhost.ks and /dev/null differ
diff --git a/components/camel-cxf/src/test/resources/localhost.p12 b/components/camel-cxf/src/test/resources/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/components/camel-cxf/src/test/resources/localhost.p12 differ
diff --git a/components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/cxfConduitTimeOutContext.xml b/components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/cxfConduitTimeOutContext.xml
index 324f65dffe9..0cd4718ddbc 100644
--- a/components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/cxfConduitTimeOutContext.xml
+++ b/components/camel-cxf/src/test/resources/org/apache/camel/component/cxf/cxfConduitTimeOutContext.xml
@@ -37,7 +37,7 @@
         <keyManagers
                 keyPassword="changeit">
             <keyStore
-                    resource="/localhost.ks"
+                    resource="/localhost.p12"
                     password="changeit"/>
         </keyManagers>
     </sslContextParameters>
@@ -69,4 +69,4 @@
 
     <bean id="noErrorHandler" class="org.apache.camel.builder.NoErrorHandlerBuilder"/>
 
-</beans>
\ No newline at end of file
+</beans>
diff --git a/components/camel-http/src/test/java/org/apache/camel/component/http/HttpsServerTestSupport.java b/components/camel-http/src/test/java/org/apache/camel/component/http/HttpsServerTestSupport.java
index 6c3b8c88ae3..10e3620f0c8 100644
--- a/components/camel-http/src/test/java/org/apache/camel/component/http/HttpsServerTestSupport.java
+++ b/components/camel-http/src/test/java/org/apache/camel/component/http/HttpsServerTestSupport.java
@@ -17,7 +17,8 @@
 package org.apache.camel.component.http;
 
 import java.io.File;
-import java.io.FileInputStream;
+import java.io.InputStream;
+import java.net.URL;
 import java.security.KeyStore;
 import javax.net.ssl.KeyManagerFactory;
 import javax.net.ssl.SSLContext;
@@ -28,16 +29,15 @@ import org.junit.Before;
 
 public abstract class HttpsServerTestSupport extends HttpServerTestSupport {
 
-    protected static final String KEYSTORE_PATH = "./src/test/resources/localhost.ks";
-    protected static final File KEYSTORE = new File(KEYSTORE_PATH);
-    protected static final String SECURE_SOCKET_PROTOCOL = "TLSv1.2";
-    protected static final String PASSWORD = "changeit";
+    private static final String KEYSTORE = "/localhost.p12";
+    private static final String PASSWORD = "changeit";
 
     @Before
     @Override
     public void setUp() throws Exception {
         System.setProperty("javax.net.ssl.trustStorePassword", PASSWORD);
-        System.setProperty("javax.net.ssl.trustStore", KEYSTORE_PATH);
+        final URL keystoreResourceUrl = HttpsServerTestSupport.class.getResource(KEYSTORE);
+        System.setProperty("javax.net.ssl.trustStore", new File(keystoreResourceUrl.toURI()).getAbsolutePath());
 
         super.setUp();
     }
@@ -54,18 +54,22 @@ public abstract class HttpsServerTestSupport extends HttpServerTestSupport {
     @Override
     protected SSLContext getSSLContext() throws Exception {
         KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());
-        keyStore.load(new FileInputStream(KEYSTORE), PASSWORD.toCharArray());
+        try (InputStream is = HttpsServerTestSupport.class.getResourceAsStream(KEYSTORE)) {
+            keyStore.load(is, PASSWORD.toCharArray());
+        }
 
         KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
         keyManagerFactory.init(keyStore, PASSWORD.toCharArray());
 
         KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());
-        trustStore.load(new FileInputStream(KEYSTORE), PASSWORD.toCharArray());
+        try (InputStream is = HttpsServerTestSupport.class.getResourceAsStream(KEYSTORE)) {
+            keyStore.load(is, PASSWORD.toCharArray());
+        }
 
         TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
         trustManagerFactory.init(trustStore);
 
-        SSLContext sslcontext = SSLContext.getInstance(SECURE_SOCKET_PROTOCOL);
+        SSLContext sslcontext = SSLContext.getInstance("TLS");
         sslcontext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);
 
         return sslcontext;
diff --git a/components/camel-http/src/test/resources/localhost.ks b/components/camel-http/src/test/resources/localhost.ks
deleted file mode 100644
index 83999cf37da..00000000000
Binary files a/components/camel-http/src/test/resources/localhost.ks and /dev/null differ
diff --git a/components/camel-http/src/test/resources/localhost.p12 b/components/camel-http/src/test/resources/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/components/camel-http/src/test/resources/localhost.p12 differ
diff --git a/components/camel-irc/src/test/java/org/apache/camel/component/irc/it/IrcsWithSslContextParamsRouteTest.java b/components/camel-irc/src/test/java/org/apache/camel/component/irc/it/IrcsWithSslContextParamsRouteTest.java
index 45ac562e9e3..72061eba836 100644
--- a/components/camel-irc/src/test/java/org/apache/camel/component/irc/it/IrcsWithSslContextParamsRouteTest.java
+++ b/components/camel-irc/src/test/java/org/apache/camel/component/irc/it/IrcsWithSslContextParamsRouteTest.java
@@ -39,7 +39,7 @@ public class IrcsWithSslContextParamsRouteTest extends IrcRouteTest {
     @BindToRegistry("sslContextParameters")
     protected SSLContextParameters loadSslContextParams() throws Exception {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource("localhost.ks");
+        ksp.setResource("localhost.p12");
         ksp.setPassword("changeit");
         
         TrustManagersParameters tmp = new TrustManagersParameters();
@@ -61,4 +61,4 @@ public class IrcsWithSslContextParamsRouteTest extends IrcRouteTest {
         return "ircs://camel-con-user@localhost:6669/#camel-test?nickname=camel-con&password=password&sslContextParameters=#sslContextParameters";
     }    
 
-}
\ No newline at end of file
+}
diff --git a/components/camel-irc/src/test/resources/localhost.ks b/components/camel-irc/src/test/resources/localhost.ks
deleted file mode 100644
index a2fa89faee4..00000000000
Binary files a/components/camel-irc/src/test/resources/localhost.ks and /dev/null differ
diff --git a/components/camel-irc/src/test/resources/localhost.p12 b/components/camel-irc/src/test/resources/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/components/camel-irc/src/test/resources/localhost.p12 differ
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/ExcludeCipherSuitesTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/ExcludeCipherSuitesTest.java
index 44f5a00d877..144036207e4 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/ExcludeCipherSuitesTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/ExcludeCipherSuitesTest.java
@@ -31,7 +31,7 @@ public class ExcludeCipherSuitesTest extends BaseJettyTest {
 
     private SSLContextParameters createSslContextParameters() throws Exception {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.ks").toString());
+        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.p12").toString());
         ksp.setPassword(pwd);
         
         KeyManagersParameters kmp = new KeyManagersParameters();
@@ -68,4 +68,4 @@ public class ExcludeCipherSuitesTest extends BaseJettyTest {
             }
         };
     }
-}
\ No newline at end of file
+}
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/ExplicitHttpsSslContextParametersRouteTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/ExplicitHttpsSslContextParametersRouteTest.java
index e3d85f216a8..d5d6eaeff47 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/ExplicitHttpsSslContextParametersRouteTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/ExplicitHttpsSslContextParametersRouteTest.java
@@ -35,7 +35,7 @@ public class ExplicitHttpsSslContextParametersRouteTest extends HttpsRouteTest {
     // START SNIPPET: e2
     private Connector createSslSocketConnector(CamelContext context, int port) throws Exception {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.ks").toString());
+        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.p12").toString());
         ksp.setPassword(pwd);
         
         KeyManagersParameters kmp = new KeyManagersParameters();
@@ -82,4 +82,4 @@ public class ExplicitHttpsSslContextParametersRouteTest extends HttpsRouteTest {
             }
         };
     }
-}
\ No newline at end of file
+}
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpStreamCacheFileIssueTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpStreamCacheFileIssueTest.java
index 0b8cc183e68..9d6f019c0d3 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpStreamCacheFileIssueTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpStreamCacheFileIssueTest.java
@@ -21,7 +21,6 @@ import java.io.File;
 import org.apache.camel.Exchange;
 import org.apache.camel.Processor;
 import org.apache.camel.builder.RouteBuilder;
-import org.apache.camel.converter.stream.CachedOutputStream;
 import org.junit.Before;
 import org.junit.Test;
 
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpStreamCacheFileStopIssueTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpStreamCacheFileStopIssueTest.java
index 4acf2f0ab6d..95e24fc973c 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpStreamCacheFileStopIssueTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpStreamCacheFileStopIssueTest.java
@@ -21,7 +21,6 @@ import java.io.File;
 import org.apache.camel.Exchange;
 import org.apache.camel.Processor;
 import org.apache.camel.builder.RouteBuilder;
-import org.apache.camel.converter.stream.CachedOutputStream;
 import org.junit.Before;
 import org.junit.Test;
 
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsAsyncRouteTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsAsyncRouteTest.java
index 68826f18e2b..8ae76730566 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsAsyncRouteTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsAsyncRouteTest.java
@@ -22,7 +22,6 @@ import java.io.InputStream;
 import java.net.SocketException;
 import java.net.URISyntaxException;
 import java.net.URL;
-import java.net.URLConnection;
 import java.util.List;
 import java.util.Map;
 import javax.net.ssl.HttpsURLConnection;
@@ -34,7 +33,6 @@ import org.apache.camel.Processor;
 import org.apache.camel.RuntimeCamelException;
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.component.mock.MockEndpoint;
-import org.eclipse.jetty.util.ssl.SslContextFactory;
 import org.junit.After;
 import org.junit.Before;
 import org.junit.Test;
@@ -51,8 +49,10 @@ public class HttpsAsyncRouteTest extends HttpsRouteTest {
         super.setUp();
         // ensure jsse clients can validate the self signed dummy localhost cert, 
         // use the server keystore as the trust store for these tests
-        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
         setSystemProp("javax.net.ssl.trustStore", trustStoreUrl.toURI().getPath());
+        setSystemProp("javax.net.ssl.trustStorePassword", "changeit");
+        setSystemProp("javax.net.ssl.trustStoreType", "PKCS12");
     }
 
     @Override
@@ -180,7 +180,7 @@ public class HttpsAsyncRouteTest extends HttpsRouteTest {
                 JettyHttpComponent componentJetty = (JettyHttpComponent) context.getComponent("jetty");
                 componentJetty.setSslPassword(pwd);
                 componentJetty.setSslKeyPassword(pwd);
-                URL keyStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+                URL keyStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
                 componentJetty.setKeystore(keyStoreUrl.toURI().getPath());
                 
                 from("jetty:https://localhost:" + port1 + "/test?async=true&useContinuation=false").to("mock:a");
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteAddSslConnectorPropertiesTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteAddSslConnectorPropertiesTest.java
index e85c4f01673..919450bdec5 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteAddSslConnectorPropertiesTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteAddSslConnectorPropertiesTest.java
@@ -31,7 +31,7 @@ public class HttpsRouteAddSslConnectorPropertiesTest extends HttpsRouteTest {
             public void configure() throws URISyntaxException {
                 // START SNIPPET: e1
                 // keystore path
-                URL keyStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+                URL keyStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
                 String path = keyStoreUrl.toURI().getPath();
 
                 JettyHttpComponent jetty = context.getComponent("jetty", JettyHttpComponent.class);
@@ -52,4 +52,4 @@ public class HttpsRouteAddSslConnectorPropertiesTest extends HttpsRouteTest {
 
         };
     }
-}
\ No newline at end of file
+}
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteAliasTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteAliasTest.java
index cc16743b9c1..41070649d5f 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteAliasTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteAliasTest.java
@@ -34,7 +34,7 @@ public class HttpsRouteAliasTest extends HttpsRouteTest {
                 JettyHttpComponent jetty = context.getComponent("jetty", JettyHttpComponent.class);
                 
                 KeyStoreParameters ksp = new KeyStoreParameters();
-                ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost-alias.ks").toString());
+                ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost-alias.p12").toString());
                 ksp.setPassword(pwd);
                 
                 KeyManagersParameters kmp = new KeyManagersParameters();
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteSetupWithSystemPropsTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteSetupWithSystemPropsTest.java
index 301b4fc9a99..e3f57f3772b 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteSetupWithSystemPropsTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteSetupWithSystemPropsTest.java
@@ -30,7 +30,7 @@ public class HttpsRouteSetupWithSystemPropsTest extends HttpsRouteTest {
     public void setUp() throws Exception {
         // ensure jsse clients can validate the self signed dummy localhost cert,
         // use the server keystore as the trust store for these tests
-        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
         setSystemProp("javax.net.ssl.trustStore", trustStoreUrl.getPath());
         
         // START SNIPPET: e1
@@ -61,4 +61,4 @@ public class HttpsRouteSetupWithSystemPropsTest extends HttpsRouteTest {
             }
         };
     }
-}
\ No newline at end of file
+}
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteSslContextParametersInComponentTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteSslContextParametersInComponentTest.java
index b8210505c8c..66db0247879 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteSslContextParametersInComponentTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteSslContextParametersInComponentTest.java
@@ -34,7 +34,7 @@ public class HttpsRouteSslContextParametersInComponentTest extends HttpsRouteTes
                 JettyHttpComponent jetty = getContext().getComponent("jetty", JettyHttpComponent.class);
                 
                 KeyStoreParameters ksp = new KeyStoreParameters();
-                ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.ks").toString());
+                ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.p12").toString());
                 ksp.setPassword(pwd);
                 
                 KeyManagersParameters kmp = new KeyManagersParameters();
@@ -60,4 +60,4 @@ public class HttpsRouteSslContextParametersInComponentTest extends HttpsRouteTes
             }
         };
     }
-}
\ No newline at end of file
+}
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteSslContextParametersInUriTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteSslContextParametersInUriTest.java
index 40765ae4733..028d72975fd 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteSslContextParametersInUriTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteSslContextParametersInUriTest.java
@@ -31,7 +31,7 @@ public class HttpsRouteSslContextParametersInUriTest extends HttpsRouteTest {
     @BindToRegistry("sslContextParameters")
     public SSLContextParameters loadSSLParams() throws Exception {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.ks").toString());
+        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.p12").toString());
         ksp.setPassword(pwd);
 
         KeyManagersParameters kmp = new KeyManagersParameters();
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteTest.java
index b9c50791319..163c9c03648 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteTest.java
@@ -66,8 +66,10 @@ public class HttpsRouteTest extends BaseJettyTest {
         super.setUp();
         // ensure jsse clients can validate the self signed dummy localhost cert, 
         // use the server keystore as the trust store for these tests
-        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
         setSystemProp("javax.net.ssl.trustStore", trustStoreUrl.toURI().getPath());
+        setSystemProp("javax.net.ssl.trustStorePassword", "changeit");
+        setSystemProp("javax.net.ssl.trustStoreType", "PKCS12");
     }
 
     @Override
@@ -194,7 +196,7 @@ public class HttpsRouteTest extends BaseJettyTest {
     protected void configureSslContextFactory(SslContextFactory sslContextFactory) {
         sslContextFactory.setKeyManagerPassword(pwd);
         sslContextFactory.setKeyStorePassword(pwd);
-        URL keyStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+        URL keyStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
         try {
             sslContextFactory.setKeyStorePath(keyStoreUrl.toURI().getPath());
         } catch (URISyntaxException e) {
@@ -211,7 +213,7 @@ public class HttpsRouteTest extends BaseJettyTest {
                 JettyHttpComponent componentJetty = (JettyHttpComponent) context.getComponent("jetty");
                 componentJetty.setSslPassword(pwd);
                 componentJetty.setSslKeyPassword(pwd);
-                URL keyStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+                URL keyStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
                 componentJetty.setKeystore(keyStoreUrl.toURI().getPath());
                 
                 from("jetty:https://localhost:" + port1 + "/test").to("mock:a");
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteWithSslConnectorPropertiesTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteWithSslConnectorPropertiesTest.java
index 6fe73bf9535..d763d0fad37 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteWithSslConnectorPropertiesTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpsRouteWithSslConnectorPropertiesTest.java
@@ -31,7 +31,7 @@ public class HttpsRouteWithSslConnectorPropertiesTest extends HttpsRouteTest {
             public void configure() throws URISyntaxException {
                 // START SNIPPET: e1
                 // keystore path
-                URL keyStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+                URL keyStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
                 String path = keyStoreUrl.toURI().getPath();
 
                 JettyHttpComponent jetty = getContext().getComponent("jetty", JettyHttpComponent.class);
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/MultiPartFormTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/MultiPartFormTest.java
index 27f9b195312..10c7bed3083 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/MultiPartFormTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/MultiPartFormTest.java
@@ -21,7 +21,6 @@ import java.io.File;
 import javax.activation.DataHandler;
 
 import org.apache.camel.Exchange;
-import org.apache.camel.Message;
 import org.apache.camel.Processor;
 import org.apache.camel.attachment.AttachmentMessage;
 import org.apache.camel.builder.RouteBuilder;
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/SpringHttpsRouteTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/SpringHttpsRouteTest.java
index 8447151c4a5..25c0c821adb 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/SpringHttpsRouteTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/SpringHttpsRouteTest.java
@@ -68,7 +68,7 @@ public class SpringHttpsRouteTest {
     public void setUp() throws Exception {
         // ensure jsse clients can validate the self signed dummy localhost cert, 
         // use the server keystore as the trust store for these tests
-        URL trustStoreUrl = Thread.currentThread().getContextClassLoader().getResource("jsse/localhost.ks");
+        URL trustStoreUrl = Thread.currentThread().getContextClassLoader().getResource("jsse/localhost.p12");
         setSystemProp("javax.net.ssl.trustStore", trustStoreUrl.getPath());
     }
 
diff --git a/components/camel-jetty/src/test/resources/jsse/localhost-alias.ks b/components/camel-jetty/src/test/resources/jsse/localhost-alias.ks
deleted file mode 100644
index 33fb9b6e4e4..00000000000
Binary files a/components/camel-jetty/src/test/resources/jsse/localhost-alias.ks and /dev/null differ
diff --git a/components/camel-jetty/src/test/resources/jsse/localhost-alias.p12 b/components/camel-jetty/src/test/resources/jsse/localhost-alias.p12
new file mode 100644
index 00000000000..cba64c6c32a
Binary files /dev/null and b/components/camel-jetty/src/test/resources/jsse/localhost-alias.p12 differ
diff --git a/components/camel-jetty/src/test/resources/jsse/localhost.ks b/components/camel-jetty/src/test/resources/jsse/localhost.ks
deleted file mode 100644
index f285418cffb..00000000000
Binary files a/components/camel-jetty/src/test/resources/jsse/localhost.ks and /dev/null differ
diff --git a/components/camel-jetty/src/test/resources/jsse/localhost.p12 b/components/camel-jetty/src/test/resources/jsse/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/components/camel-jetty/src/test/resources/jsse/localhost.p12 differ
diff --git a/components/camel-jetty/src/test/resources/org/apache/camel/component/jetty/jetty-https.xml b/components/camel-jetty/src/test/resources/org/apache/camel/component/jetty/jetty-https.xml
index 604abf23644..1b806025fe4 100644
--- a/components/camel-jetty/src/test/resources/org/apache/camel/component/jetty/jetty-https.xml
+++ b/components/camel-jetty/src/test/resources/org/apache/camel/component/jetty/jetty-https.xml
@@ -26,7 +26,7 @@
     <bean id="jetty" class="org.apache.camel.component.jetty9.JettyHttpComponent9">
         <property name="sslPassword" value="changeit"/>
         <property name="sslKeyPassword" value="changeit"/>
-        <property name="keystore" value="src/test/resources/jsse/localhost.ks"/>
+        <property name="keystore" value="src/test/resources/jsse/localhost.p12"/>
         <property name="sslSocketConnectorProperties">
             <map>
                 <entry key="protocol" value="TLSv1.2"/>
diff --git a/components/camel-mail/src/test/java/org/apache/camel/component/mail/MailTestHelper.java b/components/camel-mail/src/test/java/org/apache/camel/component/mail/MailTestHelper.java
index b19b4bf9ee2..c78beab84d1 100644
--- a/components/camel-mail/src/test/java/org/apache/camel/component/mail/MailTestHelper.java
+++ b/components/camel-mail/src/test/java/org/apache/camel/component/mail/MailTestHelper.java
@@ -29,7 +29,7 @@ public final class MailTestHelper {
 
     public static SSLContextParameters createSslContextParameters() {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource(MailTestHelper.class.getClassLoader().getResource("jsse/localhost.ks").toString());
+        ksp.setResource(MailTestHelper.class.getClassLoader().getResource("jsse/localhost.p12").toString());
         ksp.setPassword(KEY_STORE_PASSWORD);
 
         KeyManagersParameters kmp = new KeyManagersParameters();
diff --git a/components/camel-mail/src/test/resources/jsse/localhost.ks b/components/camel-mail/src/test/resources/jsse/localhost.ks
deleted file mode 100644
index f285418cffb..00000000000
Binary files a/components/camel-mail/src/test/resources/jsse/localhost.ks and /dev/null differ
diff --git a/components/camel-mail/src/test/resources/jsse/localhost.p12 b/components/camel-mail/src/test/resources/jsse/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/components/camel-mail/src/test/resources/jsse/localhost.p12 differ
diff --git a/components/camel-mina/src/test/java/org/apache/camel/component/mina/BaseMinaTest.java b/components/camel-mina/src/test/java/org/apache/camel/component/mina/BaseMinaTest.java
index e03845b7146..b500e254d9f 100644
--- a/components/camel-mina/src/test/java/org/apache/camel/component/mina/BaseMinaTest.java
+++ b/components/camel-mina/src/test/java/org/apache/camel/component/mina/BaseMinaTest.java
@@ -53,7 +53,7 @@ public class BaseMinaTest extends CamelTestSupport {
     @BindToRegistry("sslContextParameters")
     public SSLContextParameters createSslContextParameters() {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.ks").toString());
+        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.p12").toString());
         ksp.setPassword(KEY_STORE_PASSWORD);
 
         KeyManagersParameters kmp = new KeyManagersParameters();
diff --git a/components/camel-mina/src/test/resources/jsse/localhost.ks b/components/camel-mina/src/test/resources/jsse/localhost.ks
deleted file mode 100644
index f285418cffb..00000000000
Binary files a/components/camel-mina/src/test/resources/jsse/localhost.ks and /dev/null differ
diff --git a/components/camel-mina/src/test/resources/jsse/localhost.p12 b/components/camel-mina/src/test/resources/jsse/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/components/camel-mina/src/test/resources/jsse/localhost.p12 differ
diff --git a/components/camel-netty-http/src/test/java/org/apache/camel/component/netty/http/NettyHttpSSLTest.java b/components/camel-netty-http/src/test/java/org/apache/camel/component/netty/http/NettyHttpSSLTest.java
index 89375e4d5f5..3dbd2b2295c 100644
--- a/components/camel-netty-http/src/test/java/org/apache/camel/component/netty/http/NettyHttpSSLTest.java
+++ b/components/camel-netty-http/src/test/java/org/apache/camel/component/netty/http/NettyHttpSSLTest.java
@@ -40,7 +40,7 @@ public class NettyHttpSSLTest extends BaseNettyTest {
     public void setUp() throws Exception {
         // ensure jsse clients can validate the self signed dummy localhost cert,
         // use the server keystore as the trust store for these tests
-        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
         setSystemProp("javax.net.ssl.trustStore", trustStoreUrl.toURI().getPath());
         setSystemProp("javax.net.ssl.trustStorePassword", "changeit");
 
@@ -86,7 +86,7 @@ public class NettyHttpSSLTest extends BaseNettyTest {
 
         context.addRoutes(new RouteBuilder() {
             public void configure() {
-                from("netty-http:https://localhost:{{port}}?ssl=true&passphrase=changeit&keyStoreResource=jsse/localhost.ks&trustStoreResource=jsse/localhost.ks")
+                from("netty-http:https://localhost:{{port}}?ssl=true&passphrase=changeit&keyStoreResource=jsse/localhost.p12&trustStoreResource=jsse/localhost.p12")
                         .to("mock:input")
                         .process(new Processor() {
                             public void process(Exchange exchange) throws Exception {
diff --git a/components/camel-netty-http/src/test/java/org/apache/camel/component/netty/http/SpringNettyHttpSSLTest.java b/components/camel-netty-http/src/test/java/org/apache/camel/component/netty/http/SpringNettyHttpSSLTest.java
index cef9d659996..ac0608eb1d5 100644
--- a/components/camel-netty-http/src/test/java/org/apache/camel/component/netty/http/SpringNettyHttpSSLTest.java
+++ b/components/camel-netty-http/src/test/java/org/apache/camel/component/netty/http/SpringNettyHttpSSLTest.java
@@ -56,7 +56,7 @@ public class SpringNettyHttpSSLTest extends Assert {
     public static void setUpJSSE() throws Exception {
         // ensure JSSE clients can validate the self signed dummy localhost cert,
         // use the server keystore as the trust store for these tests
-        URL trustStoreUrl = NettyHttpSSLTest.class.getClassLoader().getResource("jsse/localhost.ks");
+        URL trustStoreUrl = NettyHttpSSLTest.class.getClassLoader().getResource("jsse/localhost.p12");
         System.setProperty("javax.net.ssl.trustStore", trustStoreUrl.toURI().getPath());
         System.setProperty("javax.net.ssl.trustStorePassword", "changeit");
     }
diff --git a/components/camel-netty-http/src/test/resources/jsse/localhost.ks b/components/camel-netty-http/src/test/resources/jsse/localhost.ks
deleted file mode 100644
index 861b26f4e2a..00000000000
Binary files a/components/camel-netty-http/src/test/resources/jsse/localhost.ks and /dev/null differ
diff --git a/components/camel-netty-http/src/test/resources/jsse/localhost.p12 b/components/camel-netty-http/src/test/resources/jsse/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/components/camel-netty-http/src/test/resources/jsse/localhost.p12 differ
diff --git a/components/camel-netty-http/src/test/resources/org/apache/camel/component/netty/http/SpringNettyHttpSSLTest.xml b/components/camel-netty-http/src/test/resources/org/apache/camel/component/netty/http/SpringNettyHttpSSLTest.xml
index 7a44ad189bb..87bd9fe6413 100644
--- a/components/camel-netty-http/src/test/resources/org/apache/camel/component/netty/http/SpringNettyHttpSSLTest.xml
+++ b/components/camel-netty-http/src/test/resources/org/apache/camel/component/netty/http/SpringNettyHttpSSLTest.xml
@@ -36,10 +36,10 @@
 
   <camel:sslContextParameters id="mySsl">
     <camel:keyManagers keyPassword="changeit">
-      <camel:keyStore resource="jsse/localhost.ks" password="changeit"/>
+      <camel:keyStore resource="jsse/localhost.p12" password="changeit"/>
     </camel:keyManagers>
     <camel:trustManagers>
-      <camel:keyStore resource="jsse/localhost.ks" password="changeit"/>
+      <camel:keyStore resource="jsse/localhost.p12" password="changeit"/>
     </camel:trustManagers>
   </camel:sslContextParameters>
 
diff --git a/components/camel-rest-swagger/src/test/java/org/apache/camel/component/rest/swagger/HttpsTest.java b/components/camel-rest-swagger/src/test/java/org/apache/camel/component/rest/swagger/HttpsTest.java
index bdf8321e926..e8596545551 100644
--- a/components/camel-rest-swagger/src/test/java/org/apache/camel/component/rest/swagger/HttpsTest.java
+++ b/components/camel-rest-swagger/src/test/java/org/apache/camel/component/rest/swagger/HttpsTest.java
@@ -70,7 +70,7 @@ public abstract class HttpsTest extends CamelTestSupport {
     public static WireMockRule petstore = new WireMockRule(
         wireMockConfig().httpServerFactory(new Jetty94ServerFactory()).containerThreads(13).dynamicPort()
             .dynamicHttpsPort().keystorePath(Resources.getResource("localhost.p12").toString()).keystoreType("PKCS12")
-            .keystorePassword("password"));
+            .keystorePassword("changeit"));
 
     static final Object NO_BODY = null;
 
diff --git a/components/camel-rest-swagger/src/test/resources/localhost.p12 b/components/camel-rest-swagger/src/test/resources/localhost.p12
index ebcd4c1683f..5f6a30d0690 100644
Binary files a/components/camel-rest-swagger/src/test/resources/localhost.p12 and b/components/camel-rest-swagger/src/test/resources/localhost.p12 differ
diff --git a/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithComponentSSLContextParametersTest.java b/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithComponentSSLContextParametersTest.java
index b79efcac46b..6bf8f89c742 100644
--- a/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithComponentSSLContextParametersTest.java
+++ b/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithComponentSSLContextParametersTest.java
@@ -83,8 +83,10 @@ public class RestletHttpsWithComponentSSLContextParametersTest extends RestletTe
     }
 
     private void postRequestMessage(String message, String path, Integer portIncrement) throws Exception {
-        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
         System.setProperty("javax.net.ssl.trustStore", trustStoreUrl.toURI().getPath());
+        System.setProperty("javax.net.ssl.trustStoreType", "PKCS12");
+        System.setProperty("javax.net.ssl.trustStorePassword", "changeit");
 
         HttpPost post = new HttpPost("https://localhost:" + (portNum + portIncrement) + "/users/" + path);
         post.addHeader(Exchange.CONTENT_TYPE, "application/xml");
@@ -106,8 +108,9 @@ public class RestletHttpsWithComponentSSLContextParametersTest extends RestletTe
 
     SSLContextParameters generateSSLContextParametrs(String password) {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.ks").getPath().toString());
+        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.p12").getPath().toString());
         ksp.setPassword(password);
+        ksp.setType("PKCS12");
 
         KeyManagersParameters kmp = new KeyManagersParameters();
         kmp.setKeyPassword(password);
diff --git a/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithComponentSSLContextParametrsTest.java b/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithComponentSSLContextParametrsTest.java
index ef8c3f4cb19..ed7d2cd4a63 100644
--- a/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithComponentSSLContextParametrsTest.java
+++ b/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithComponentSSLContextParametrsTest.java
@@ -84,7 +84,7 @@ public class RestletHttpsWithComponentSSLContextParametrsTest extends RestletTes
     }
 
     private void postRequestMessage(String message, String path, Integer portIncrement) throws Exception {
-        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
         System.setProperty("javax.net.ssl.trustStore", trustStoreUrl.toURI().getPath());
 
         HttpPost post = new HttpPost("https://localhost:" + (portNum + portIncrement) + "/users/" + path);
@@ -107,7 +107,7 @@ public class RestletHttpsWithComponentSSLContextParametrsTest extends RestletTes
 
     SSLContextParameters generateSSLContextParametrs(String password) {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource(new File("src/test/resources/jsse/localhost.ks").getAbsolutePath());
+        ksp.setResource(new File("src/test/resources/jsse/localhost.p12").getAbsolutePath());
         ksp.setPassword(password);
 
         KeyManagersParameters kmp = new KeyManagersParameters();
diff --git a/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithGlobalSSLContextParametersTest.java b/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithGlobalSSLContextParametersTest.java
index a57432d713b..cafc8406ed0 100644
--- a/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithGlobalSSLContextParametersTest.java
+++ b/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithGlobalSSLContextParametersTest.java
@@ -40,7 +40,7 @@ public class RestletHttpsWithGlobalSSLContextParametersTest extends RestletTestS
     protected CamelContext createCamelContext() throws Exception {
         CamelContext context = super.createCamelContext();
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.ks").getPath().toString());
+        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.p12").getPath().toString());
         ksp.setPassword("changeit");
 
         KeyManagersParameters kmp = new KeyManagersParameters();
@@ -85,7 +85,7 @@ public class RestletHttpsWithGlobalSSLContextParametersTest extends RestletTestS
     private void postRequestMessage(String message) throws Exception {
         // ensure jsse clients can validate the self signed dummy localhost cert, 
         // use the server keystore as the trust store for these tests
-        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
         System.setProperty("javax.net.ssl.trustStore", trustStoreUrl.toURI().getPath());
         
         HttpPost post = new HttpPost("https://localhost:" + portNum + "/users/");
diff --git a/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithSSLContextParametersTest.java b/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithSSLContextParametersTest.java
index 30780051754..15c0ecaf280 100644
--- a/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithSSLContextParametersTest.java
+++ b/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletHttpsWithSSLContextParametersTest.java
@@ -37,8 +37,9 @@ public class RestletHttpsWithSSLContextParametersTest extends RestletTestSupport
     @BindToRegistry("mySSLContextParameters")
     public SSLContextParameters loadSSLContextParams() throws Exception {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.ks").getPath().toString());
+        ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.p12").getPath().toString());
         ksp.setPassword("changeit");
+        ksp.setType("PKCS12");
 
         KeyManagersParameters kmp = new KeyManagersParameters();
         kmp.setKeyPassword("changeit");
@@ -78,8 +79,9 @@ public class RestletHttpsWithSSLContextParametersTest extends RestletTestSupport
         // ensure jsse clients can validate the self signed dummy localhost
         // cert,
         // use the server keystore as the trust store for these tests
-        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.ks");
+        URL trustStoreUrl = this.getClass().getClassLoader().getResource("jsse/localhost.p12");
         System.setProperty("javax.net.ssl.trustStore", trustStoreUrl.toURI().getPath());
+        
 
         HttpPost post = new HttpPost("https://localhost:" + portNum + "/users/");
         post.addHeader(Exchange.CONTENT_TYPE, "application/xml");
diff --git a/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletProducerSSLTest.java b/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletProducerSSLTest.java
index 2bfdfc0262c..7f0099815dd 100644
--- a/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletProducerSSLTest.java
+++ b/components/camel-restlet/src/test/java/org/apache/camel/component/restlet/RestletProducerSSLTest.java
@@ -59,7 +59,7 @@ public class RestletProducerSSLTest extends RestletTestSupport {
 
     protected SSLContextParameters createSSLContext() {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource(new File("src/test/resources/jsse/localhost.ks").getAbsolutePath());
+        ksp.setResource(new File("src/test/resources/jsse/localhost.p12").getAbsolutePath());
         ksp.setPassword("changeit");
 
         KeyManagersParameters kmp = new KeyManagersParameters();
diff --git a/components/camel-restlet/src/test/resources/jsse/localhost.ks b/components/camel-restlet/src/test/resources/jsse/localhost.ks
deleted file mode 100644
index f285418cffb..00000000000
Binary files a/components/camel-restlet/src/test/resources/jsse/localhost.ks and /dev/null differ
diff --git a/components/camel-restlet/src/test/resources/jsse/localhost.p12 b/components/camel-restlet/src/test/resources/jsse/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/components/camel-restlet/src/test/resources/jsse/localhost.p12 differ
diff --git a/components/camel-spring-ws/src/test/resources/localhost.ks b/components/camel-spring-ws/src/test/resources/localhost.ks
deleted file mode 100644
index af5c225932e..00000000000
Binary files a/components/camel-spring-ws/src/test/resources/localhost.ks and /dev/null differ
diff --git a/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLClientAuthRouteExampleTest.java b/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLClientAuthRouteExampleTest.java
index 8cef20929e3..38007d7d5af 100644
--- a/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLClientAuthRouteExampleTest.java
+++ b/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLClientAuthRouteExampleTest.java
@@ -73,7 +73,7 @@ public class WebsocketSSLClientAuthRouteExampleTest extends CamelTestSupport {
         SSLContextParameters sslContextParameters = new SSLContextParameters();
 
         KeyStoreParameters truststoreParameters = new KeyStoreParameters();
-        truststoreParameters.setResource("jsse/localhost.ks");
+        truststoreParameters.setResource("jsse/localhost.p12");
         truststoreParameters.setPassword(pwd);
 
         TrustManagersParameters clientSSLTrustManagers = new TrustManagersParameters();
@@ -81,7 +81,7 @@ public class WebsocketSSLClientAuthRouteExampleTest extends CamelTestSupport {
         sslContextParameters.setTrustManagers(clientSSLTrustManagers);
 
         KeyStoreParameters keystoreParameters = new KeyStoreParameters();
-        keystoreParameters.setResource("jsse/localhost.ks");
+        keystoreParameters.setResource("jsse/localhost.p12");
         keystoreParameters.setPassword(pwd);
         KeyManagersParameters clientAuthClientSSLKeyManagers = new KeyManagersParameters();
         clientAuthClientSSLKeyManagers.setKeyPassword(pwd);
@@ -101,7 +101,7 @@ public class WebsocketSSLClientAuthRouteExampleTest extends CamelTestSupport {
     protected SSLContextParameters defineSSLContextParameters() {
 
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource("jsse/localhost.ks");
+        ksp.setResource("jsse/localhost.p12");
         ksp.setPassword(pwd);
 
         KeyManagersParameters kmp = new KeyManagersParameters();
diff --git a/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLContextGlobalRouteExampleTest.java b/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLContextGlobalRouteExampleTest.java
index 9816bcb2e6d..4ef5ffa70d1 100644
--- a/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLContextGlobalRouteExampleTest.java
+++ b/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLContextGlobalRouteExampleTest.java
@@ -70,7 +70,7 @@ public class WebsocketSSLContextGlobalRouteExampleTest extends CamelTestSupport
     protected CamelContext createCamelContext() throws Exception {
         CamelContext context = super.createCamelContext();
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource("jsse/localhost.ks");
+        ksp.setResource("jsse/localhost.p12");
         ksp.setPassword(pwd);
 
         KeyManagersParameters kmp = new KeyManagersParameters();
@@ -105,7 +105,7 @@ public class WebsocketSSLContextGlobalRouteExampleTest extends CamelTestSupport
         SSLContextParameters sslContextParameters = new SSLContextParameters();
 
         KeyStoreParameters truststoreParameters = new KeyStoreParameters();
-        truststoreParameters.setResource("jsse/localhost.ks");
+        truststoreParameters.setResource("jsse/localhost.p12");
         truststoreParameters.setPassword(pwd);
 
         TrustManagersParameters clientSSLTrustManagers = new TrustManagersParameters();
diff --git a/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLContextInUriRouteExampleTest.java b/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLContextInUriRouteExampleTest.java
index 7fb0b5d4eb9..0abca74aa29 100644
--- a/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLContextInUriRouteExampleTest.java
+++ b/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLContextInUriRouteExampleTest.java
@@ -69,7 +69,7 @@ public class WebsocketSSLContextInUriRouteExampleTest extends CamelTestSupport {
     @Override
     protected Registry createCamelRegistry() throws Exception {
         KeyStoreParameters ksp = new KeyStoreParameters();
-        ksp.setResource("jsse/localhost.ks");
+        ksp.setResource("jsse/localhost.p12");
         ksp.setPassword(pwd);
 
         KeyManagersParameters kmp = new KeyManagersParameters();
@@ -104,7 +104,7 @@ public class WebsocketSSLContextInUriRouteExampleTest extends CamelTestSupport {
         SSLContextParameters sslContextParameters = new SSLContextParameters();
 
         KeyStoreParameters truststoreParameters = new KeyStoreParameters();
-        truststoreParameters.setResource("jsse/localhost.ks");
+        truststoreParameters.setResource("jsse/localhost.p12");
         truststoreParameters.setPassword(pwd);
 
         TrustManagersParameters clientSSLTrustManagers = new TrustManagersParameters();
diff --git a/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLRouteExampleTest.java b/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLRouteExampleTest.java
index 5c6877b8a61..137e12343fc 100644
--- a/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLRouteExampleTest.java
+++ b/components/camel-websocket/src/test/java/org/apache/camel/component/websocket/WebsocketSSLRouteExampleTest.java
@@ -73,7 +73,7 @@ public class WebsocketSSLRouteExampleTest extends CamelTestSupport {
         SSLContextParameters sslContextParameters = new SSLContextParameters();
 
         KeyStoreParameters truststoreParameters = new KeyStoreParameters();
-        truststoreParameters.setResource("jsse/localhost.ks");
+        truststoreParameters.setResource("jsse/localhost.p12");
         truststoreParameters.setPassword(pwd);
 
         TrustManagersParameters clientSSLTrustManagers = new TrustManagersParameters();
@@ -93,8 +93,8 @@ public class WebsocketSSLRouteExampleTest extends CamelTestSupport {
     protected SSLContextParameters defineSSLContextParameters() {
 
         KeyStoreParameters ksp = new KeyStoreParameters();
-        // ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.ks").toString());
-        ksp.setResource("jsse/localhost.ks");
+        // ksp.setResource(this.getClass().getClassLoader().getResource("jsse/localhost.p12").toString());
+        ksp.setResource("jsse/localhost.p12");
         ksp.setPassword(pwd);
 
         KeyManagersParameters kmp = new KeyManagersParameters();
diff --git a/components/camel-websocket/src/test/resources/jsse/localhost.ks b/components/camel-websocket/src/test/resources/jsse/localhost.ks
deleted file mode 100644
index 34db928660c..00000000000
Binary files a/components/camel-websocket/src/test/resources/jsse/localhost.ks and /dev/null differ
diff --git a/components/camel-websocket/src/test/resources/jsse/localhost.p12 b/components/camel-websocket/src/test/resources/jsse/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/components/camel-websocket/src/test/resources/jsse/localhost.p12 differ
diff --git a/core/camel-core/src/test/java/org/apache/camel/support/jsse/KeyManagersParametersTest.java b/core/camel-core/src/test/java/org/apache/camel/support/jsse/KeyManagersParametersTest.java
index 2131b94f694..626d931696e 100644
--- a/core/camel-core/src/test/java/org/apache/camel/support/jsse/KeyManagersParametersTest.java
+++ b/core/camel-core/src/test/java/org/apache/camel/support/jsse/KeyManagersParametersTest.java
@@ -32,8 +32,9 @@ public class KeyManagersParametersTest extends AbstractJsseParametersTest {
     protected KeyStoreParameters createMinimalKeyStoreParameters() {
         KeyStoreParameters ksp = new KeyStoreParameters();
 
-        ksp.setResource("org/apache/camel/support/jsse/localhost.ks");
+        ksp.setResource("org/apache/camel/support/jsse/localhost.p12");
         ksp.setPassword("changeit");
+        ksp.setType("PKCS12");
 
         return ksp;
     }
@@ -144,15 +145,15 @@ public class KeyManagersParametersTest extends AbstractJsseParametersTest {
         assertEquals(1, kms.length);
         assertTrue(kms[0] instanceof X509KeyManager);
 
-        kms[0] = new AliasedX509ExtendedKeyManager("server", (X509KeyManager)kms[0]);
+        kms[0] = new AliasedX509ExtendedKeyManager("localhost", (X509KeyManager)kms[0]);
         AliasedX509ExtendedKeyManager km = (AliasedX509ExtendedKeyManager)kms[0];
-        assertNotNull(km.getPrivateKey("server"));
+        assertNotNull(km.getPrivateKey("localhost"));
     }
 
     protected void validateKeyManagers(KeyManager[] kms) {
         assertEquals(1, kms.length);
         assertTrue(kms[0] instanceof X509KeyManager);
         X509KeyManager km = (X509KeyManager)kms[0];
-        assertNotNull(km.getPrivateKey("server"));
+        assertNotNull(km.getPrivateKey("localhost"));
     }
 }
diff --git a/core/camel-core/src/test/java/org/apache/camel/support/jsse/KeyStoreParametersTest.java b/core/camel-core/src/test/java/org/apache/camel/support/jsse/KeyStoreParametersTest.java
index 181e46511e1..8a1825bd6b9 100644
--- a/core/camel-core/src/test/java/org/apache/camel/support/jsse/KeyStoreParametersTest.java
+++ b/core/camel-core/src/test/java/org/apache/camel/support/jsse/KeyStoreParametersTest.java
@@ -33,7 +33,7 @@ public class KeyStoreParametersTest extends AbstractJsseParametersTest {
     protected KeyStoreParameters createMinimalKeyStoreParameters() {
         KeyStoreParameters ksp = new KeyStoreParameters();
 
-        ksp.setResource("org/apache/camel/support/jsse/localhost.ks");
+        ksp.setResource("org/apache/camel/support/jsse/localhost.p12");
         ksp.setPassword("changeit");
 
         return ksp;
@@ -53,7 +53,7 @@ public class KeyStoreParametersTest extends AbstractJsseParametersTest {
         ksp.setPassword("{{keyStoreParamerers.password}}");
 
         KeyStore ks = ksp.createKeyStore();
-        assertNotNull(ks.getCertificate("server"));
+        assertNotNull(ks.getCertificate("localhost"));
     }
 
     @Test
@@ -61,18 +61,18 @@ public class KeyStoreParametersTest extends AbstractJsseParametersTest {
         KeyStoreParameters ksp = this.createMinimalKeyStoreParameters();
 
         KeyStore ks = ksp.createKeyStore();
-        assertNotNull(ks.getCertificate("server"));
+        assertNotNull(ks.getCertificate("localhost"));
 
-        URL resourceUrl = this.getClass().getResource("/org/apache/camel/support/jsse/localhost.ks");
+        URL resourceUrl = this.getClass().getResource("/org/apache/camel/support/jsse/localhost.p12");
         ksp.setResource(resourceUrl.toExternalForm());
         ks = ksp.createKeyStore();
-        assertNotNull(ks.getCertificate("server"));
+        assertNotNull(ks.getCertificate("localhost"));
 
-        resourceUrl = this.getClass().getResource("/org/apache/camel/support/jsse/localhost.ks");
+        resourceUrl = this.getClass().getResource("/org/apache/camel/support/jsse/localhost.p12");
         File file = new File(resourceUrl.toURI());
         ksp.setResource(file.getAbsolutePath());
         ks = ksp.createKeyStore();
-        assertNotNull(ks.getCertificate("server"));
+        assertNotNull(ks.getCertificate("localhost"));
     }
 
     @Test
@@ -81,7 +81,7 @@ public class KeyStoreParametersTest extends AbstractJsseParametersTest {
         ksp.setType("jks");
 
         KeyStore ks = ksp.createKeyStore();
-        assertNotNull(ks.getCertificate("server"));
+        assertNotNull(ks.getCertificate("localhost"));
     }
 
     @Test
@@ -90,7 +90,7 @@ public class KeyStoreParametersTest extends AbstractJsseParametersTest {
         ksp.setProvider(ksp.createKeyStore().getProvider().getName());
 
         KeyStore ks = ksp.createKeyStore();
-        assertNotNull(ks.getCertificate("server"));
+        assertNotNull(ks.getCertificate("localhost"));
     }
 
     @Test
@@ -124,7 +124,7 @@ public class KeyStoreParametersTest extends AbstractJsseParametersTest {
         }
 
         ksp = this.createMinimalKeyStoreParameters();
-        ksp.setType("pkcs12");
+        ksp.setType("JCEKS");
 
         try {
             ksp.createKeyStore();
diff --git a/core/camel-core/src/test/java/org/apache/camel/support/jsse/TrustManagersParametersTest.java b/core/camel-core/src/test/java/org/apache/camel/support/jsse/TrustManagersParametersTest.java
index 9461a077651..401197d2848 100644
--- a/core/camel-core/src/test/java/org/apache/camel/support/jsse/TrustManagersParametersTest.java
+++ b/core/camel-core/src/test/java/org/apache/camel/support/jsse/TrustManagersParametersTest.java
@@ -32,7 +32,7 @@ public class TrustManagersParametersTest extends AbstractJsseParametersTest {
     protected KeyStoreParameters createMinimalKeyStoreParameters() {
         KeyStoreParameters ksp = new KeyStoreParameters();
 
-        ksp.setResource("org/apache/camel/support/jsse/localhost.ks");
+        ksp.setResource("org/apache/camel/support/jsse/localhost.p12");
         ksp.setPassword("changeit");
 
         return ksp;
diff --git a/core/camel-core/src/test/resources/org/apache/camel/support/jsse/localhost.ks b/core/camel-core/src/test/resources/org/apache/camel/support/jsse/localhost.ks
deleted file mode 100644
index f285418cffb..00000000000
Binary files a/core/camel-core/src/test/resources/org/apache/camel/support/jsse/localhost.ks and /dev/null differ
diff --git a/core/camel-core/src/test/resources/org/apache/camel/support/jsse/localhost.p12 b/core/camel-core/src/test/resources/org/apache/camel/support/jsse/localhost.p12
new file mode 100644
index 00000000000..5f6a30d0690
Binary files /dev/null and b/core/camel-core/src/test/resources/org/apache/camel/support/jsse/localhost.p12 differ
diff --git a/core/camel-core/src/test/resources/org/apache/camel/support/jsse/test.properties b/core/camel-core/src/test/resources/org/apache/camel/support/jsse/test.properties
index cea711c922a..e4ce2e4e662 100644
--- a/core/camel-core/src/test/resources/org/apache/camel/support/jsse/test.properties
+++ b/core/camel-core/src/test/resources/org/apache/camel/support/jsse/test.properties
@@ -17,7 +17,7 @@
 filterParameters.include=include
 filterParameters.exclude=exclude
 
-keyStoreParameters.resource=org/apache/camel/support/jsse/localhost.ks
+keyStoreParameters.resource=org/apache/camel/support/jsse/localhost.p12
 keyStoreParamerers.password=changeit
 
 keyManagersParameters.keyPassword=changeit
