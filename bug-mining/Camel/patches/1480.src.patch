diff --git a/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java b/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java
index c9039d6158e..fb381d46859 100644
--- a/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java
+++ b/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailBinding.java
@@ -125,21 +125,16 @@ public class MailBinding {
             contentType = exchange.getIn().getHeader(Exchange.CONTENT_TYPE, String.class);
         }
 
-        // fix content type to include a space after semi colon if missing
+        // fix content-type to have space after semi colons, otherwise some mail servers will choke
         if (contentType != null && contentType.contains(";")) {
-            String before = ObjectHelper.before(contentType, ";");
-            String charset = determineCharSet(configuration, exchange);
-
-            if (before != null && charset == null) {
-                contentType = before.trim();
-            } else if (before != null && charset != null) {
-                contentType = before.trim() + "; charset=" + charset;
-            }
+            contentType = MailUtils.padContentType(contentType);
         }
-        
-        // set the charset if exchange has the charset name as fall back
-        if (contentType != null && !contentType.contains(";") && IOConverter.getCharsetName(exchange, false) != null) {
-            contentType = contentType.trim() + "; charset=" + IOConverter.getCharsetName(exchange, false);
+
+        if (contentType != null) {
+            // no charset in content-type, then try to see if we can determine one
+            String charset = determineCharSet(configuration, exchange);
+            // must replace charset, even with null in case its an unsupported charset
+            contentType = MailUtils.replaceCharSet(contentType, charset);
         }
 
         LOG.trace("Determined Content-Type: {}", contentType);
@@ -157,37 +152,30 @@ public class MailBinding {
             contentType = exchange.getIn().getHeader(Exchange.CONTENT_TYPE, String.class);
         }
 
-        // fix content type to include a space after semi colon if missing
-        if (contentType != null && contentType.contains(";")) {
-            String after = ObjectHelper.after(contentType, ";");
-
-            // after is the charset lets see if its given and a valid charset
-            if (after != null) {
-                String charset = IOConverter.normalizeCharset(ObjectHelper.after(after, "="));
-                if (charset != null) {
-                    boolean supported;
-                    try {
-                        supported = Charset.isSupported(charset);
-                    } catch (IllegalCharsetNameException e) {
-                        supported = false;
-                    }
-                    if (supported) {
-                        return charset;
-                    } else if (!configuration.isIgnoreUnsupportedCharset()) {
-                        return charset;
-                    } else if (configuration.isIgnoreUnsupportedCharset()) {
-                        LOG.warn("Charset: " + charset + " is not supported, will fallback to use platform default instead.");
-                        return null;
-                    }
+        // look for charset
+        String charset = MailUtils.getCharSetFromContentType(contentType);
+        if (charset != null) {
+            charset = IOConverter.normalizeCharset(charset);
+            if (charset != null) {
+                boolean supported;
+                try {
+                    supported = Charset.isSupported(charset);
+                } catch (IllegalCharsetNameException e) {
+                    supported = false;
+                }
+                if (supported) {
+                    return charset;
+                } else if (!configuration.isIgnoreUnsupportedCharset()) {
+                    return charset;
+                } else if (configuration.isIgnoreUnsupportedCharset()) {
+                    LOG.warn("Charset: " + charset + " is not supported and cannot be used as charset in Content-Type header.");
+                    return null;
                 }
             }
         }
-        
+
         // Using the charset header of exchange as a fall back
         return IOConverter.getCharsetName(exchange, false);
-        
-        
-        
     }
 
     protected String populateContentOnMimeMessage(MimeMessage part, MailConfiguration configuration, Exchange exchange)
diff --git a/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailUtils.java b/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailUtils.java
index 42caa8cb302..7c700a6eebe 100644
--- a/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailUtils.java
+++ b/components/camel-mail/src/main/java/org/apache/camel/component/mail/MailUtils.java
@@ -18,11 +18,12 @@ package org.apache.camel.component.mail;
 
 import java.text.DateFormat;
 import java.util.Date;
-
 import javax.mail.Address;
 import javax.mail.Message;
 import javax.mail.MessagingException;
 
+import org.apache.camel.util.ObjectHelper;
+
 /**
  * Mail utility class.
  * <p>
@@ -137,4 +138,94 @@ public final class MailUtils {
             return message.toString();
         }
     }
+
+    /**
+     * Pads the content-type so it has a space after semi colon that separate pairs.
+     * <p/>
+     * This is needed as some mail servers will choke otherwise
+     *
+     * @param contentType the content type
+     * @return the padded content type
+     */
+    public static String padContentType(String contentType) {
+        StringBuilder sb = new StringBuilder();
+        String[] parts = contentType.split(";");
+        for (int i = 0; i < parts.length; i++) {
+            String part = parts[i];
+            if (ObjectHelper.isNotEmpty(part)) {
+                part = part.trim();
+                sb.append(part);
+                if (i < parts.length - 1) {
+                    sb.append("; ");
+                }
+            }
+        }
+        return sb.toString();
+    }
+
+    /**
+     * Replaces the charset in the content-type
+     *
+     * @param contentType the content-type
+     * @param charset  the charset to replace, can be <tt>null</tt> to remove charset
+     * @return the content-type with replaced charset
+     */
+    public static String replaceCharSet(String contentType, String charset) {
+        boolean replaced = false;
+        StringBuilder sb = new StringBuilder();
+        String[] parts = contentType.split(";");
+        for (int i = 0; i < parts.length; i++) {
+            String part = parts[i];
+            part = part.trim();
+            if (!part.startsWith("charset")) {
+                part = part.trim();
+                if (sb.length() > 0) {
+                    sb.append("; ");
+                }
+                sb.append(part);
+            } else if (charset != null) {
+                // replace with new charset
+                if (sb.length() > 0) {
+                    sb.append("; ");
+                }
+                sb.append("charset=");
+                sb.append(charset);
+                replaced = true;
+            }
+        }
+
+        // if we did not replace any existing charset, then append new charset at the end
+        if (!replaced && charset != null) {
+            if (sb.length() > 0) {
+                sb.append("; ");
+            }
+            sb.append("charset=");
+            sb.append(charset);
+        }
+
+        return sb.toString();
+    }
+
+    /**
+     * Gets the charset from the content-type
+     *
+     * @param contentType the content-type
+     * @return the charset, or <tt>null</tt> if no charset existed
+     */
+    public static String getCharSetFromContentType(String contentType) {
+        if (contentType == null) {
+            return null;
+        }
+
+        String[] parts = contentType.split(";");
+        for (int i = 0; i < parts.length; i++) {
+            String part = parts[i];
+            part = part.trim();
+            if (part.startsWith("charset")) {
+                return ObjectHelper.after(part, "charset=");
+            }
+        }
+        return null;
+    }
+
 }
diff --git a/components/camel-mail/src/test/java/org/apache/camel/component/mail/DetermineContentTypeIssueTest.java b/components/camel-mail/src/test/java/org/apache/camel/component/mail/DetermineContentTypeIssueTest.java
new file mode 100644
index 00000000000..e29c98ef58b
--- /dev/null
+++ b/components/camel-mail/src/test/java/org/apache/camel/component/mail/DetermineContentTypeIssueTest.java
@@ -0,0 +1,119 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.mail;
+
+import org.apache.camel.Exchange;
+import org.apache.camel.converter.IOConverter;
+import org.apache.camel.test.junit4.ExchangeTestSupport;
+import org.junit.Test;
+
+/**
+ *
+ */
+public class DetermineContentTypeIssueTest extends ExchangeTestSupport {
+
+    private final String contentType = "application/pkcs7-mime; smime-type=enveloped-data; name=\"smime.p7m\"";
+
+    @Test
+    public void testDetermineContentTypeNoChange() throws Exception {
+        MailConfiguration configuration = new MailConfiguration();
+        MailBinding binding = new MailBinding();
+
+        exchange.getIn().setHeader("Content-Type", contentType);
+        String determinedType = binding.determineContentType(configuration, exchange);
+
+        // no charset
+        assertEquals(contentType, determinedType);
+    }
+
+    @Test
+    public void testDetermineContentTypeCharSetFromExchange() throws Exception {
+        MailConfiguration configuration = new MailConfiguration();
+        MailBinding binding = new MailBinding();
+
+        exchange.getIn().setHeader("Content-Type", contentType);
+        exchange.setProperty(Exchange.CHARSET_NAME, "iso-8859-1");
+
+        String determinedType = binding.determineContentType(configuration, exchange);
+
+        String expected = contentType + "; charset=iso-8859-1";
+
+        // should append the charset from exchange
+        assertEquals(expected, determinedType);
+    }
+
+    @Test
+    public void testDetermineContentTypeFallbackCharSetFromExchange() throws Exception {
+        MailConfiguration configuration = new MailConfiguration();
+        MailBinding binding = new MailBinding();
+
+        String type = contentType + "; charset=utf-8";
+        exchange.getIn().setHeader("Content-Type", type);
+        exchange.setProperty(Exchange.CHARSET_NAME, "iso-8859-1");
+
+        String determinedType = binding.determineContentType(configuration, exchange);
+
+        // should keep existing charset
+        assertEquals(type, determinedType);
+    }
+
+    @Test
+    public void testDetermineContentTypeIgnoreUnsupportedExchangeAsFallback() throws Exception {
+        MailConfiguration configuration = new MailConfiguration();
+        // ignore unsupported
+        configuration.setIgnoreUnsupportedCharset(true);
+        MailBinding binding = new MailBinding();
+
+        String type = contentType + "; charset=ansi_x3.110-1983";
+        exchange.getIn().setHeader("Content-Type", type);
+        exchange.setProperty(Exchange.CHARSET_NAME, "iso-8859-1");
+
+        String determinedType = binding.determineContentType(configuration, exchange);
+
+        // should remove unsupported charset
+        assertEquals(contentType, determinedType);
+    }
+
+    @Test
+    public void testDetermineContentTypeInvalidCharset() throws Exception {
+        MailConfiguration configuration = new MailConfiguration();
+        MailBinding binding = new MailBinding();
+
+        String type = contentType + "; charset=ansi_x3.110-1983";
+        exchange.getIn().setHeader("Content-Type", type);
+
+        String determinedType = binding.determineContentType(configuration, exchange);
+
+        // should keep existing charset even if its unsupported as we configured it as that
+        assertEquals(type, determinedType);
+    }
+
+    @Test
+    public void testDetermineContentTypeWithCharsetInMiddle() throws Exception {
+        MailConfiguration configuration = new MailConfiguration();
+        MailBinding binding = new MailBinding();
+
+        String type = "text/plain; charset=iso-8859-1; foo=bar";
+
+        exchange.getIn().setHeader("Content-Type", type);
+        String determinedType = binding.determineContentType(configuration, exchange);
+
+        // content-type is left untouched
+        assertEquals(type, determinedType);
+    }
+
+}
diff --git a/components/camel-mail/src/test/java/org/apache/camel/component/mail/MailProducerUnsupportedCharsetTest.java b/components/camel-mail/src/test/java/org/apache/camel/component/mail/MailProducerUnsupportedCharsetTest.java
index 4f9d3b24781..13b5ff06c86 100644
--- a/components/camel-mail/src/test/java/org/apache/camel/component/mail/MailProducerUnsupportedCharsetTest.java
+++ b/components/camel-mail/src/test/java/org/apache/camel/component/mail/MailProducerUnsupportedCharsetTest.java
@@ -23,6 +23,7 @@ import java.util.Map;
 import org.apache.camel.RuntimeCamelException;
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.component.mock.MockEndpoint;
+import org.apache.camel.converter.IOConverter;
 import org.apache.camel.test.junit4.CamelTestSupport;
 import org.junit.Test;
 import org.jvnet.mock_javamail.Mailbox;
