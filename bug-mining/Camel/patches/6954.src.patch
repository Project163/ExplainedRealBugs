diff --git a/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/common/VersionHelper.java b/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/common/VersionHelper.java
index 4ce6ce33b69..19c0e0086d2 100644
--- a/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/common/VersionHelper.java
+++ b/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/common/VersionHelper.java
@@ -64,7 +64,7 @@ public final class VersionHelper {
     }
 
     public static int compare(String source, String target) {
-        if (source == null || target == null) {
+        if (source == null || target == null || source.isBlank() || target.isBlank()) {
             return 0;
         }
         String s1 = StringHelper.before(source, ".");
@@ -91,6 +91,19 @@ public final class VersionHelper {
         } else {
             t3 = "";
         }
+        // avoid NPE
+        if (s1 == null) {
+            s1 = source;
+        }
+        if (s2 == null) {
+            s2 = "";
+        }
+        if (t1 == null) {
+            t1 = target;
+        }
+        if (t2 == null) {
+            t2 = "";
+        }
         // convert to 2-digit numbers
         if (s1.length() < 2) {
             s1 = "0" + s1;
diff --git a/dsl/camel-kamelet-main/src/main/java/org/apache/camel/main/util/VersionHelper.java b/dsl/camel-kamelet-main/src/main/java/org/apache/camel/main/util/VersionHelper.java
index 6709206f46a..4b326da52f9 100644
--- a/dsl/camel-kamelet-main/src/main/java/org/apache/camel/main/util/VersionHelper.java
+++ b/dsl/camel-kamelet-main/src/main/java/org/apache/camel/main/util/VersionHelper.java
@@ -70,6 +70,19 @@ public final class VersionHelper {
         } else {
             t3 = "";
         }
+        // avoid NPE
+        if (s1 == null) {
+            s1 = source;
+        }
+        if (s2 == null) {
+            s2 = "";
+        }
+        if (t1 == null) {
+            t1 = target;
+        }
+        if (t2 == null) {
+            t2 = "";
+        }
         // convert to 2-digit numbers
         if (s1.length() < 2) {
             s1 = "0" + s1;
