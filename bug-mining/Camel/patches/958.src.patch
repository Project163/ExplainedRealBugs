diff --git a/components/camel-http/pom.xml b/components/camel-http/pom.xml
index 0db92de7cb0..8a5dd60a027 100644
--- a/components/camel-http/pom.xml
+++ b/components/camel-http/pom.xml
@@ -15,76 +15,90 @@
   See the License for the specific language governing permissions and
   limitations under the License.
 -->
-<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
+<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
 
-  <modelVersion>4.0.0</modelVersion>
+    <modelVersion>4.0.0</modelVersion>
 
-  <parent>
-    <groupId>org.apache.camel</groupId>
-    <artifactId>camel-parent</artifactId>
-    <version>2.3-SNAPSHOT</version>
-  </parent>
+    <parent>
+        <groupId>org.apache.camel</groupId>
+        <artifactId>camel-parent</artifactId>
+        <version>2.3-SNAPSHOT</version>
+    </parent>
 
-  <artifactId>camel-http</artifactId>
-  <packaging>bundle</packaging>
-  <name>Camel :: HTTP</name>
-  <description>Camel HTTP support</description>
+    <artifactId>camel-http</artifactId>
+    <packaging>bundle</packaging>
+    <name>Camel :: HTTP</name>
+    <description>Camel HTTP support</description>
 
-  <properties>
-	<camel.osgi.export.pkg>org.apache.camel.component.http.*</camel.osgi.export.pkg>
-  </properties>
+    <properties>
+        <camel.osgi.export.pkg>org.apache.camel.component.http.*</camel.osgi.export.pkg>
+    </properties>
 
-  <dependencies>
+    <dependencies>
 
-    <dependency>
-      <groupId>org.apache.camel</groupId>
-      <artifactId>camel-core</artifactId>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.geronimo.specs</groupId>
-      <artifactId>geronimo-servlet_2.4_spec</artifactId>
-    </dependency>
-    <dependency>
-    	<groupId>org.apache.httpcomponents</groupId>
-    	<artifactId>httpclient</artifactId>
-    	<version>${httpclient4-version}</version>
-    </dependency>
+        <dependency>
+            <groupId>org.apache.camel</groupId>
+            <artifactId>camel-core</artifactId>
+        </dependency>
+        <dependency>
+            <groupId>org.apache.geronimo.specs</groupId>
+            <artifactId>geronimo-servlet_2.4_spec</artifactId>
+        </dependency>
+        <dependency>
+            <groupId>org.apache.httpcomponents</groupId>
+            <artifactId>httpclient</artifactId>
+            <version>${httpclient4-version}</version>
+        </dependency>
+
+        <!-- testing -->
+        <dependency>
+            <groupId>org.apache.camel</groupId>
+            <artifactId>camel-test</artifactId>
+            <scope>test</scope>
+        </dependency>
+        <!-- to allow Spring annotations (jmx) to be tested -->
+        <dependency>
+            <groupId>org.springframework</groupId>
+            <artifactId>spring-context</artifactId>
+            <optional>true</optional>
+            <scope>test</scope>
+        </dependency>
+        <dependency>
+            <groupId>org.springframework</groupId>
+            <artifactId>spring-aop</artifactId>
+            <optional>true</optional>
+            <scope>test</scope>
+        </dependency>
+        <dependency>
+            <groupId>junit</groupId>
+            <artifactId>junit</artifactId>
+            <scope>test</scope>
+        </dependency>
+        <dependency>
+            <groupId>log4j</groupId>
+            <artifactId>log4j</artifactId>
+            <scope>test</scope>
+        </dependency>
+        <dependency>
+            <groupId>org.apache.httpcomponents</groupId>
+            <artifactId>httpclient</artifactId>
+            <version>${httpclient4-version}</version>
+            <classifier>tests</classifier>
+            <scope>test</scope>
+        </dependency>
+    </dependencies>
+
+    <build>
+        <plugins>
+            <!-- use per test fork mode to avoid side effects -->
+            <plugin>
+              <artifactId>maven-surefire-plugin</artifactId>
+              <configuration>
+                <forkMode>pertest</forkMode>
+              </configuration>
+            </plugin>
+        </plugins>
+    </build>
 
-    <!-- testing -->
-    <dependency>
-      <groupId>org.apache.camel</groupId>
-      <artifactId>camel-test</artifactId>      
-      <scope>test</scope>
-    </dependency>
-    <!-- to allow Spring annotations (jmx) to be tested -->
-    <dependency>
-      <groupId>org.springframework</groupId>
-      <artifactId>spring-context</artifactId>
-      <optional>true</optional>
-      <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.springframework</groupId>
-      <artifactId>spring-aop</artifactId>
-      <optional>true</optional>
-      <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>junit</groupId>
-      <artifactId>junit</artifactId>
-      <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>log4j</groupId>
-      <artifactId>log4j</artifactId>
-      <scope>test</scope>
-    </dependency>
-    <dependency>
-    	<groupId>org.apache.httpcomponents</groupId>
-    	<artifactId>httpclient</artifactId>
-    	<version>${httpclient4-version}</version>
-    	<classifier>tests</classifier>
-    	<scope>test</scope>
-    </dependency>
-  </dependencies>
 </project>
\ No newline at end of file
diff --git a/components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java b/components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java
index b737a813295..ce41b289fcc 100644
--- a/components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java
+++ b/components/camel-http/src/main/java/org/apache/camel/component/http/HttpComponent.java
@@ -65,7 +65,7 @@ public class HttpComponent extends HeaderFilterStrategyComponent {
     /**
      * Connects the URL specified on the endpoint to the specified processor.
      *
-     * @param  consumer the consumer
+     * @param consumer the consumer
      * @throws Exception can be thrown
      */
     public void connect(HttpConsumer consumer) throws Exception {
@@ -74,30 +74,25 @@ public class HttpComponent extends HeaderFilterStrategyComponent {
     /**
      * Disconnects the URL specified on the endpoint from the specified processor.
      *
-     * @param  consumer the consumer
+     * @param consumer the consumer
      * @throws Exception can be thrown
      */
     public void disconnect(HttpConsumer consumer) throws Exception {
     }
 
     /**
-     * Setting http binding and http client configurer according to the parameters
-     * Also setting the BasicAuthenticationHttpClientConfigurer if the username
-     * and password option are not null.
+     * Creates the HttpClientConfigurer based on the given parameters
      *
      * @param parameters the map of parameters
+     * @return the configurer
      */
-    protected void configureParameters(Map<String, Object> parameters) {
-        // lookup http binding in registry if provided
-        if ( httpBinding == null ) {
-            httpBinding = resolveAndRemoveReferenceParameter(
-                    parameters, "httpBindingRef", HttpBinding.class);
-        }
-
-        // lookup http client front configurer in the registry if provided
-        if ( httpClientConfigurer == null ) {
-            httpClientConfigurer = resolveAndRemoveReferenceParameter(
-                    parameters, "httpClientConfigurerRef", HttpClientConfigurer.class);
+    protected HttpClientConfigurer createHttpClientConfigurer(Map<String, Object> parameters) {
+        // prefer to use endpoint configured over component configured
+        HttpClientConfigurer configurer = resolveAndRemoveReferenceParameter(
+                parameters, "httpClientConfigurerRef", HttpClientConfigurer.class);
+        if (configurer == null) {
+            // fallback to component configured
+            configurer = getHttpClientConfigurer();
         }
 
         // check the user name and password for basic authentication
@@ -106,8 +101,8 @@ public class HttpComponent extends HeaderFilterStrategyComponent {
         String domain = getAndRemoveParameter(parameters, "domain", String.class);
         String host = getAndRemoveParameter(parameters, "host", String.class);
         if (username != null && password != null) {
-            httpClientConfigurer = CompositeHttpConfigurer.combineConfigurers(
-                    httpClientConfigurer,
+            configurer = CompositeHttpConfigurer.combineConfigurers(
+                    configurer,
                     new BasicAuthenticationHttpClientConfigurer(username, password, domain, host));
         }
 
@@ -120,13 +115,15 @@ public class HttpComponent extends HeaderFilterStrategyComponent {
             String proxyDomain = getAndRemoveParameter(parameters, "proxyDomain", String.class);
             String proxyNtHost = getAndRemoveParameter(parameters, "proxyNtHost", String.class);
             if (proxyUsername != null && proxyPassword != null) {
-                httpClientConfigurer = CompositeHttpConfigurer.combineConfigurers(
-                        httpClientConfigurer, new ProxyHttpClientConfigurer(proxyHost, proxyPort, proxyUsername, proxyPassword, proxyDomain, proxyNtHost));
+                configurer = CompositeHttpConfigurer.combineConfigurers(
+                        configurer, new ProxyHttpClientConfigurer(proxyHost, proxyPort, proxyUsername, proxyPassword, proxyDomain, proxyNtHost));
             } else {
-                httpClientConfigurer = CompositeHttpConfigurer.combineConfigurers(
-                        httpClientConfigurer, new ProxyHttpClientConfigurer(proxyHost, proxyPort));
+                configurer = CompositeHttpConfigurer.combineConfigurers(
+                        configurer, new ProxyHttpClientConfigurer(proxyHost, proxyPort));
             }
         }
+
+        return configurer;
     }
 
     @Override
@@ -134,16 +131,17 @@ public class HttpComponent extends HeaderFilterStrategyComponent {
         // http client can be configured from URI options
         HttpParams clientParams = configureHttpParams(parameters);
 
-        // validate that we could resolve all httpClient. parameters as this component is lenient
-        validateParameters(uri, parameters, "httpClient.");
-        configureParameters(parameters);
-
-        // should we use an exception for failed error codes?
+        // must extract well known parameters before we create the endpoint
+        HttpBinding binding = resolveAndRemoveReferenceParameter(parameters, "httpBindingRef", HttpBinding.class);
         Boolean throwExceptionOnFailure = getAndRemoveParameter(parameters, "throwExceptionOnFailure", Boolean.class);
-
         Boolean bridgeEndpoint = getAndRemoveParameter(parameters, "bridgeEndpoint", Boolean.class);
+        Boolean matchOnUriPrefix = getAndRemoveParameter(parameters, "matchOnUriPrefix", Boolean.class);
+
+        // validate that we could resolve all httpClient. parameters as this component is lenient
+        validateParameters(uri, parameters, "httpClient.");
+        // create the configurer to use for this endpoint
+        HttpClientConfigurer configurer = createHttpClientConfigurer(parameters);
 
-        Boolean matchOnUriPrefix = Boolean.parseBoolean(getAndRemoveParameter(parameters, "matchOnUriPrefix", String.class));
         // restructure uri to be based on the parameters left as we dont want to include the Camel internal options
         URI httpUri = URISupport.createRemainingURI(new URI(uri), CastUtils.cast(parameters));
         uri = httpUri.toString();
@@ -158,18 +156,24 @@ public class HttpComponent extends HeaderFilterStrategyComponent {
             }
         }
 
-        // create default connection manager if none provided
-        if (clientConnectionManager == null) {
-            clientConnectionManager = createConnectionManager(clientParams, uri);
-        } else if (LOG.isDebugEnabled()) {
-            LOG.debug("Using existing ClientConnectionManager: " + clientConnectionManager);
-        }
+        // register port on schema registry
+        boolean secure = isSecureConnection(uri);
+        int port = getPort(httpUri);
+        registerPort(secure, port);
 
-        HttpEndpoint endpoint = new HttpEndpoint(uri, this, httpUri, clientParams, clientConnectionManager, httpClientConfigurer);
-        if (httpBinding != null) {
-            endpoint.setBinding(httpBinding);
-        }
+        // create the endpoint
+        HttpEndpoint endpoint = new HttpEndpoint(uri, this, httpUri, clientParams, clientConnectionManager, configurer);
         setEndpointHeaderFilterStrategy(endpoint);
+
+        // prefer to use endpoint configured over component configured
+        if (binding == null) {
+            // fallback to component configured
+            binding = getHttpBinding();
+        }
+        if (binding != null) {
+            endpoint.setBinding(binding);
+        }
+        // should we use an exception for failed error codes?
         if (throwExceptionOnFailure != null) {
             endpoint.setThrowExceptionOnFailure(throwExceptionOnFailure);
         }
@@ -179,20 +183,42 @@ public class HttpComponent extends HeaderFilterStrategyComponent {
         if (matchOnUriPrefix != null) {
             endpoint.setMatchOnUriPrefix(matchOnUriPrefix);
         }
+
         setProperties(endpoint, parameters);
         return endpoint;
     }
 
-    protected ClientConnectionManager createConnectionManager(HttpParams clientParams, String uri) {
-        SchemeRegistry schemeRegistry = new SchemeRegistry();
-        if (isSecureConnection(uri)) {
-            schemeRegistry.register(new Scheme("https", SSLSocketFactory.getSocketFactory(), 443));
+    private static int getPort(URI uri) {
+        int port = uri.getPort();
+        if (port < 0) {
+            if ("http".equals(uri.getScheme())) {
+                port = 80;
+            } else if ("https".equals(uri.getScheme())) {
+                port = 443;
+            } else {
+                throw new IllegalArgumentException("Unknown scheme, cannot determine port number for uri: " + uri);
+            }
+        }
+        return port;
+    }
+
+    protected void registerPort(boolean secure, int port) {
+        SchemeRegistry registry = clientConnectionManager.getSchemeRegistry();
+        if (secure) {
+            registry.register(new Scheme("https", SSLSocketFactory.getSocketFactory(), port));
+            LOG.info("Registering SSL scheme https on port " + port);
         } else {
-            schemeRegistry.register(new Scheme("http", PlainSocketFactory.getSocketFactory(), 80));
+            registry.register(new Scheme("http", PlainSocketFactory.getSocketFactory(), port));
+            LOG.info("Registering PLAIN scheme http on port " + port);
         }
+    }
+
+    protected ClientConnectionManager createConnectionManager() {
+        SchemeRegistry schemeRegistry = new SchemeRegistry();
 
         // configure additional configurations
-        ConnManagerParamBean param = new ConnManagerParamBean(clientParams);
+        HttpParams params = new BasicHttpParams();
+        ConnManagerParamBean param = new ConnManagerParamBean(params);
         if (getMaxTotalConnections() > 0) {
             param.setMaxTotalConnections(getMaxTotalConnections());
         }
@@ -200,9 +226,7 @@ public class HttpComponent extends HeaderFilterStrategyComponent {
             param.setConnectionsPerRoute(new ConnPerRouteBean(getConnectionsPerRoute()));
         }
 
-        ThreadSafeClientConnManager answer;
-        answer = new ThreadSafeClientConnManager(clientParams, schemeRegistry);
-
+        ThreadSafeClientConnManager answer = new ThreadSafeClientConnManager(params, schemeRegistry);
         LOG.info("Created ClientConnectionManager " + answer);
 
         return answer;
@@ -287,6 +311,14 @@ public class HttpComponent extends HeaderFilterStrategyComponent {
         this.connectionsPerRoute = connectionsPerRoute;
     }
 
+    @Override
+    public void start() throws Exception {
+        super.start();
+        if (clientConnectionManager == null) {
+            clientConnectionManager = createConnectionManager();
+        }
+    }
+
     @Override
     public void stop() throws Exception {
         // shutdown connection manager
diff --git a/components/camel-http/src/test/java/org/apache/camel/component/http/HttpClientConfigurerTest.java b/components/camel-http/src/test/java/org/apache/camel/component/http/HttpClientConfigurerTest.java
index d6db447254b..dc989840a5e 100644
--- a/components/camel-http/src/test/java/org/apache/camel/component/http/HttpClientConfigurerTest.java
+++ b/components/camel-http/src/test/java/org/apache/camel/component/http/HttpClientConfigurerTest.java
@@ -18,36 +18,26 @@ package org.apache.camel.component.http;
 
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.test.junit4.CamelTestSupport;
-import org.junit.Ignore;
 import org.junit.Test;
 
 /**
  * @version $Revision: 905992 $
  */
 public class HttpClientConfigurerTest extends CamelTestSupport {
-    protected String expectedText = "activemq";
+    private HttpClientConfigurer configurer;
     
     @Test
     public void testHttpClientConfigurer() throws Exception {
-        HttpClientConfigurer configurer = getMandatoryEndpoint("http://www.google.com/search", HttpEndpoint.class).getHttpClientConfigurer();
-
-        assertNotNull("Client configurer should not be null!", configurer);
-
+        HttpClientConfigurer gotConfigurer = getMandatoryEndpoint("http://www.google.com/search", HttpEndpoint.class).getHttpClientConfigurer();
+        assertSame(configurer, gotConfigurer);
     }
 
     @Override
     protected RouteBuilder createRouteBuilder() throws Exception {
         return new RouteBuilder() {
             public void configure() {
-
-                ProxyHttpClientConfigurer configurer = new ProxyHttpClientConfigurer(
-                        "proxyhost",
-                        80,
-                        "user",
-                        "password",
-                        null,
-                        null);
-
+                // add configurer to http component
+                configurer = new ProxyHttpClientConfigurer("proxyhost", 80, "user", "password", null, null);
                 getContext().getComponent("http", HttpComponent.class).setHttpClientConfigurer(configurer);
 
                 from("direct:start")
diff --git a/components/camel-http/src/test/java/org/apache/camel/component/http/HttpProducerSelectMethodTest.java b/components/camel-http/src/test/java/org/apache/camel/component/http/HttpProducerSelectMethodTest.java
index 685f443defe..8eb3d411773 100644
--- a/components/camel-http/src/test/java/org/apache/camel/component/http/HttpProducerSelectMethodTest.java
+++ b/components/camel-http/src/test/java/org/apache/camel/component/http/HttpProducerSelectMethodTest.java
@@ -34,8 +34,8 @@ public class HttpProducerSelectMethodTest extends BaseHttpTest {
     public void noDataDefaultIsGet() throws Exception {
         localServer.register("/", new BasicValidationHandler("GET", null, null, getExpectedContent()));
 
-        HttpComponent component = new HttpComponent();
-        component.setCamelContext(context);
+        HttpComponent component = context.getComponent("http", HttpComponent.class);
+        
         HttpEndpoint endpoiont = (HttpEndpoint) component.createEndpoint("http://" + getHostName() + ":" + getPort());
         HttpProducer producer = new HttpProducer(endpoiont);
         Exchange exchange = producer.createExchange();
@@ -51,8 +51,8 @@ public class HttpProducerSelectMethodTest extends BaseHttpTest {
     public void dataDefaultIsPost() throws Exception {
         localServer.register("/", new BasicValidationHandler("POST", null, null, getExpectedContent()));
 
-        HttpComponent component = new HttpComponent();
-        component.setCamelContext(context);
+        HttpComponent component = context.getComponent("http", HttpComponent.class);
+
         HttpEndpoint endpoiont = (HttpEndpoint) component.createEndpoint("http://" + getHostName() + ":" + getPort());
         HttpProducer producer = new HttpProducer(endpoiont);
 
@@ -69,8 +69,8 @@ public class HttpProducerSelectMethodTest extends BaseHttpTest {
     public void withMethodPostInHeader() throws Exception {
         localServer.register("/", new BasicValidationHandler("POST", null, null, getExpectedContent()));
 
-        HttpComponent component = new HttpComponent();
-        component.setCamelContext(context);
+        HttpComponent component = context.getComponent("http", HttpComponent.class);
+
         HttpEndpoint endpoiont = (HttpEndpoint) component.createEndpoint("http://" + getHostName() + ":" + getPort());
         HttpProducer producer = new HttpProducer(endpoiont);
 
@@ -86,8 +86,8 @@ public class HttpProducerSelectMethodTest extends BaseHttpTest {
     public void withMethodGetInHeader() throws Exception {
         localServer.register("/", new BasicValidationHandler("GET", null, null, getExpectedContent()));
 
-        HttpComponent component = new HttpComponent();
-        component.setCamelContext(context);
+        HttpComponent component = context.getComponent("http", HttpComponent.class);
+
         HttpEndpoint endpoiont = (HttpEndpoint) component.createEndpoint("http://" + getHostName() + ":" + getPort());
         HttpProducer producer = new HttpProducer(endpoiont);
 
@@ -103,8 +103,8 @@ public class HttpProducerSelectMethodTest extends BaseHttpTest {
     public void withEndpointQuery() throws Exception {
         localServer.register("/", new BasicValidationHandler("GET", "q=Camel", null, getExpectedContent()));
 
-        HttpComponent component = new HttpComponent();
-        component.setCamelContext(context);
+        HttpComponent component = context.getComponent("http", HttpComponent.class);
+
         HttpEndpoint endpoiont = (HttpEndpoint) component.createEndpoint("http://" + getHostName() + ":" + getPort() + "?q=Camel");
         HttpProducer producer = new HttpProducer(endpoiont);
 
@@ -119,8 +119,8 @@ public class HttpProducerSelectMethodTest extends BaseHttpTest {
     public void withQueryInHeader() throws Exception {
         localServer.register("/", new BasicValidationHandler("GET", "q=Camel", null, getExpectedContent()));
 
-        HttpComponent component = new HttpComponent();
-        component.setCamelContext(context);
+        HttpComponent component = context.getComponent("http", HttpComponent.class);
+
         HttpEndpoint endpoiont = (HttpEndpoint) component.createEndpoint("http://" + getHostName() + ":" + getPort());
         HttpProducer producer = new HttpProducer(endpoiont);
 
@@ -136,8 +136,8 @@ public class HttpProducerSelectMethodTest extends BaseHttpTest {
     public void withQueryInHeaderOverrideEndpoint() throws Exception {
         localServer.register("/", new BasicValidationHandler("GET", "q=Camel", null, getExpectedContent()));
 
-        HttpComponent component = new HttpComponent();
-        component.setCamelContext(context);
+        HttpComponent component = context.getComponent("http", HttpComponent.class);
+
         HttpEndpoint endpoiont = (HttpEndpoint) component.createEndpoint("http://" + getHostName() + ":" + getPort() + "?q=Donkey");
         HttpProducer producer = new HttpProducer(endpoiont);
 
diff --git a/components/camel-jetty/pom.xml b/components/camel-jetty/pom.xml
index ac26811673a..69aab348644 100644
--- a/components/camel-jetty/pom.xml
+++ b/components/camel-jetty/pom.xml
@@ -15,128 +15,124 @@
   See the License for the specific language governing permissions and
   limitations under the License.
 -->
-<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
+<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
 
-  <modelVersion>4.0.0</modelVersion>
+    <modelVersion>4.0.0</modelVersion>
 
-  <parent>
-    <groupId>org.apache.camel</groupId>
-    <artifactId>camel-parent</artifactId>
-    <version>2.3-SNAPSHOT</version>
-  </parent>
+    <parent>
+        <groupId>org.apache.camel</groupId>
+        <artifactId>camel-parent</artifactId>
+        <version>2.3-SNAPSHOT</version>
+    </parent>
 
-  <artifactId>camel-jetty</artifactId>
-  <packaging>bundle</packaging>
-  <name>Camel :: Jetty</name>
-  <description>Camel Jetty support</description>
+    <artifactId>camel-jetty</artifactId>
+    <packaging>bundle</packaging>
+    <name>Camel :: Jetty</name>
+    <description>Camel Jetty support</description>
 
-  <properties>
-	<camel.osgi.export.pkg>org.apache.camel.component.jetty.*</camel.osgi.export.pkg>
-  </properties>
-  
-  <dependencies>
+    <properties>
+        <camel.osgi.export.pkg>org.apache.camel.component.jetty.*</camel.osgi.export.pkg>
+    </properties>
 
-    <dependency>
-      <groupId>org.apache.camel</groupId>
-      <artifactId>camel-core</artifactId>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.camel</groupId>
-      <artifactId>camel-http</artifactId>
-    </dependency>
-    <dependency>
-      <groupId>org.eclipse.jetty</groupId>
-      <artifactId>jetty-server</artifactId>
-    </dependency>
-    <dependency>
-      <groupId>org.eclipse.jetty</groupId>
-      <artifactId>jetty-security</artifactId>
-    </dependency>
-    <dependency>
-      <groupId>org.eclipse.jetty</groupId>
-      <artifactId>jetty-servlet</artifactId>
-    </dependency>
-    <dependency>
-      <groupId>org.eclipse.jetty</groupId>
-      <artifactId>jetty-servlets</artifactId>
-      <version>${jetty-version}</version>
-    </dependency>
-    <dependency>
-      <groupId>org.eclipse.jetty</groupId>
-      <artifactId>jetty-client</artifactId>
-    </dependency>
+    <dependencies>
 
-    <!-- testing -->
-    <dependency>
-      <groupId>org.apache.camel</groupId>
-      <artifactId>camel-test</artifactId>      
-      <scope>test</scope>
-    </dependency>    
-    <dependency>
-      <groupId>org.apache.camel</groupId>
-      <artifactId>camel-spring</artifactId>
-      <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.httpcomponents</groupId>
-      <artifactId>httpmime</artifactId>
-      <version>${httpclient4-version}</version>
-      <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.apache.httpcomponents</groupId>
-      <artifactId>httpclient</artifactId>
-      <version>${httpclient4-version}</version>
-      <classifier>tests</classifier>
-      <scope>test</scope>
-    </dependency>
-    <!-- to allow Spring annotations (jmx) to be tested -->
-    <dependency>
-      <groupId>org.springframework</groupId>
-      <artifactId>spring-context</artifactId>
-      <optional>true</optional>
-      <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.springframework</groupId>
-      <artifactId>spring-aop</artifactId>
-      <optional>true</optional>
-      <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>org.springframework</groupId>
-      <artifactId>spring-test</artifactId>
-      <optional>true</optional>
-      <scope>test</scope>
-    </dependency>
+        <dependency>
+            <groupId>org.apache.camel</groupId>
+            <artifactId>camel-core</artifactId>
+        </dependency>
+        <dependency>
+            <groupId>org.apache.camel</groupId>
+            <artifactId>camel-http</artifactId>
+        </dependency>
+        <dependency>
+            <groupId>org.eclipse.jetty</groupId>
+            <artifactId>jetty-server</artifactId>
+        </dependency>
+        <dependency>
+            <groupId>org.eclipse.jetty</groupId>
+            <artifactId>jetty-security</artifactId>
+        </dependency>
+        <dependency>
+            <groupId>org.eclipse.jetty</groupId>
+            <artifactId>jetty-servlet</artifactId>
+        </dependency>
+        <dependency>
+            <groupId>org.eclipse.jetty</groupId>
+            <artifactId>jetty-servlets</artifactId>
+            <version>${jetty-version}</version>
+        </dependency>
+        <dependency>
+            <groupId>org.eclipse.jetty</groupId>
+            <artifactId>jetty-client</artifactId>
+        </dependency>
+
+        <!-- testing -->
+        <dependency>
+            <groupId>org.apache.camel</groupId>
+            <artifactId>camel-test</artifactId>
+            <scope>test</scope>
+        </dependency>
+        <dependency>
+            <groupId>org.apache.camel</groupId>
+            <artifactId>camel-spring</artifactId>
+            <scope>test</scope>
+        </dependency>
+        <dependency>
+            <groupId>org.apache.httpcomponents</groupId>
+            <artifactId>httpmime</artifactId>
+            <version>${httpclient4-version}</version>
+            <scope>test</scope>
+        </dependency>
+        <dependency>
+            <groupId>org.apache.httpcomponents</groupId>
+            <artifactId>httpclient</artifactId>
+            <version>${httpclient4-version}</version>
+            <classifier>tests</classifier>
+            <scope>test</scope>
+        </dependency>
+        <!-- to allow Spring annotations (jmx) to be tested -->
+        <dependency>
+            <groupId>org.springframework</groupId>
+            <artifactId>spring-context</artifactId>
+            <optional>true</optional>
+            <scope>test</scope>
+        </dependency>
+        <dependency>
+            <groupId>org.springframework</groupId>
+            <artifactId>spring-aop</artifactId>
+            <optional>true</optional>
+            <scope>test</scope>
+        </dependency>
+        <dependency>
+            <groupId>org.springframework</groupId>
+            <artifactId>spring-test</artifactId>
+            <optional>true</optional>
+            <scope>test</scope>
+        </dependency>
+
+        <dependency>
+            <groupId>junit</groupId>
+            <artifactId>junit</artifactId>
+            <scope>test</scope>
+        </dependency>
+        <dependency>
+            <groupId>log4j</groupId>
+            <artifactId>log4j</artifactId>
+            <scope>test</scope>
+        </dependency>
+    </dependencies>
+
+    <build>
+        <plugins>
+            <!-- use per test fork mode to avoid side effects -->
+            <plugin>
+                <artifactId>maven-surefire-plugin</artifactId>
+                <configuration>
+                    <forkMode>pertest</forkMode>
+                </configuration>
+            </plugin>
+        </plugins>
+    </build>
 
-    <dependency>
-      <groupId>junit</groupId>
-      <artifactId>junit</artifactId>
-      <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>log4j</groupId>
-      <artifactId>log4j</artifactId>
-      <scope>test</scope>
-    </dependency>
-  </dependencies>
-  
-  <build>
-    <plugins>
-      <plugin>
-        <groupId>org.apache.maven.plugins</groupId>
-        <artifactId>maven-surefire-plugin</artifactId>
-        <configuration>
-          <forkMode>pertest</forkMode>
-          <childDelegation>false</childDelegation>
-          <useFile>true</useFile>
-          <failIfNoTests>false</failIfNoTests>
-          <includes>
-            <include>**/*Test.java</include>
-          </includes>
-        </configuration>
-      </plugin>
-    </plugins>
-  </build>
 </project>
\ No newline at end of file
diff --git a/components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java b/components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java
index 1e3328245f5..36139ec92a0 100644
--- a/components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java
+++ b/components/camel-jetty/src/main/java/org/apache/camel/component/jetty/JettyHttpComponent.java
@@ -25,6 +25,7 @@ import org.apache.camel.CamelContext;
 import org.apache.camel.Endpoint;
 import org.apache.camel.RuntimeCamelException;
 import org.apache.camel.component.http.CamelServlet;
+import org.apache.camel.component.http.HttpBinding;
 import org.apache.camel.component.http.HttpComponent;
 import org.apache.camel.component.http.HttpConsumer;
 import org.apache.camel.component.http.HttpEndpoint;
@@ -103,37 +104,60 @@ public class JettyHttpComponent extends HttpComponent {
     protected Endpoint createEndpoint(String uri, String remaining, Map<String, Object> parameters) throws Exception {
         uri = uri.startsWith("jetty:") ? remaining : uri;
 
+        // must extract well known parameters before we create the endpoint
         List<Handler> handlerList = resolveAndRemoveReferenceListParameter(parameters, "handlers", Handler.class);
-        
-        // configure regular parameters
-        configureParameters(parameters);
-
-        JettyHttpEndpoint result = new JettyHttpEndpoint(this, uri, null);
-        if (httpBinding != null) {
-            result.setBinding(httpBinding);
-        }
-        setEndpointHeaderFilterStrategy(result);
-        if (handlerList.size() > 0) {
-            result.setHandlers(handlerList);
-        }
-        setProperties(result, parameters);
+        HttpBinding binding = resolveAndRemoveReferenceParameter(parameters, "httpBindingRef", HttpBinding.class);
+        Boolean throwExceptionOnFailure = getAndRemoveParameter(parameters, "throwExceptionOnFailure", Boolean.class);
+        Boolean bridgeEndpoint = getAndRemoveParameter(parameters, "bridgeEndpoint", Boolean.class);
+        Boolean matchOnUriPrefix = getAndRemoveParameter(parameters, "matchOnUriPrefix", Boolean.class);
 
         // configure http client if we have url configuration for it
+        // http client is only used for jetty http producer (hence not very commonly used)
+        HttpClient client = null;
         if (IntrospectionSupport.hasProperties(parameters, "httpClient.")) {
-            // configure Jetty http client
-            result.setClient(getHttpClient());
             // set additional parameters on http client
-            IntrospectionSupport.setProperties(getHttpClient(), parameters, "httpClient.");
+            // only create client when needed
+            client = getHttpClient();
+            IntrospectionSupport.setProperties(client, parameters, "httpClient.");
             // validate that we could resolve all httpClient. parameters as this component is lenient
             validateParameters(uri, parameters, "httpClient.");
         }
 
-        // create the http uri after we have configured all the parameters on the camel objects
-        URI httpUri = URISupport.createRemainingURI(new URI(UnsafeUriCharactersEncoder.encode(uri)), 
-                CastUtils.cast(parameters));
-        result.setHttpUri(httpUri);
+        // restructure uri to be based on the parameters left as we dont want to include the Camel internal options
+        URI httpUri = URISupport.createRemainingURI(new URI(uri), CastUtils.cast(parameters));
+        uri = httpUri.toString();
+
+        // create endpoint after all known parameters have been extracted from parameters
+        JettyHttpEndpoint endpoint = new JettyHttpEndpoint(this, uri, httpUri);
+        setEndpointHeaderFilterStrategy(endpoint);
+
+        if (client != null) {
+            endpoint.setClient(client);
+        }
+        if (handlerList.size() > 0) {
+            endpoint.setHandlers(handlerList);
+        }
+        // prefer to use endpoint configured over component configured
+        if (binding == null) {
+            // fallback to component configured
+            binding = getHttpBinding();
+        }
+        if (binding != null) {
+            endpoint.setBinding(binding);
+        }
+        // should we use an exception for failed error codes?
+        if (throwExceptionOnFailure != null) {
+            endpoint.setThrowExceptionOnFailure(throwExceptionOnFailure);
+        }
+        if (bridgeEndpoint != null) {
+            endpoint.setBridgeEndpoint(bridgeEndpoint);
+        }
+        if (matchOnUriPrefix != null) {
+            endpoint.setMatchOnUriPrefix(matchOnUriPrefix);
+        }
 
-        return result;
+        setProperties(endpoint, parameters);
+        return endpoint;
     }
 
     /**
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpTwoServerPortsTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpTwoServerPortsTest.java
new file mode 100644
index 00000000000..acdfb3f7bdd
--- /dev/null
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/HttpTwoServerPortsTest.java
@@ -0,0 +1,70 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.jetty;
+
+import org.apache.camel.Exchange;
+import org.apache.camel.Processor;
+import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.test.junit4.CamelTestSupport;
+import org.junit.Test;
+
+/**
+ * @version $Revision$
+ */
+public class HttpTwoServerPortsTest extends CamelTestSupport {
+
+    @Test
+    public void testTwoServerPorts() throws Exception {
+        String reply = template.requestBody("direct:a", "World", String.class);
+        assertEquals("Bye World", reply);
+
+        reply = template.requestBody("direct:b", "Camel", String.class);
+        assertEquals("Hi Camel", reply);
+
+        reply = template.requestBody("direct:a", "Earth", String.class);
+        assertEquals("Bye Earth", reply);
+
+        reply = template.requestBody("direct:b", "Moon", String.class);
+        assertEquals("Hi Moon", reply);
+    }
+
+    @Override
+    protected RouteBuilder createRouteBuilder() throws Exception {
+        return new RouteBuilder() {
+            @Override
+            public void configure() throws Exception {
+                from("direct:a").to("http://localhost:9777/myapp");
+
+                from("direct:b").to("http://localhost:9888/myotherapp");
+
+                from("jetty://http://localhost:9777/myapp").process(new Processor() {
+                    public void process(Exchange exchange) throws Exception {
+                        String in = exchange.getIn().getBody(String.class);
+                        exchange.getOut().setBody("Bye " + in);
+                    }
+                });
+
+                from("jetty://http://localhost:9888/myotherapp").process(new Processor() {
+                    public void process(Exchange exchange) throws Exception {
+                        String in = exchange.getIn().getBody(String.class);
+                        exchange.getOut().setBody("Hi " + in);
+                    }
+                });
+            }
+        };
+    }
+}
\ No newline at end of file
diff --git a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/SpringHttpsRouteTest.java b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/SpringHttpsRouteTest.java
index cde3f25edad..638135fd439 100644
--- a/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/SpringHttpsRouteTest.java
+++ b/components/camel-jetty/src/test/java/org/apache/camel/component/jetty/SpringHttpsRouteTest.java
@@ -78,7 +78,7 @@ public class SpringHttpsRouteTest {
 
     private void restoreSystemProperties() {
         for (Object key : originalValues.keySet()) {
-            Object value = (String) originalValues.get(key);
+            Object value = originalValues.get(key);
             if (NULL_VALUE_MARKER.equals(value)) {
                 System.getProperties().remove(key);
             } else {
diff --git a/components/camel-servlet/src/main/java/org/apache/camel/component/servlet/ServletComponent.java b/components/camel-servlet/src/main/java/org/apache/camel/component/servlet/ServletComponent.java
index 6219e181af7..9311c452218 100644
--- a/components/camel-servlet/src/main/java/org/apache/camel/component/servlet/ServletComponent.java
+++ b/components/camel-servlet/src/main/java/org/apache/camel/component/servlet/ServletComponent.java
@@ -21,6 +21,7 @@ import java.util.Map;
 
 import org.apache.camel.Endpoint;
 import org.apache.camel.component.http.CamelServlet;
+import org.apache.camel.component.http.HttpBinding;
 import org.apache.camel.component.http.HttpClientConfigurer;
 import org.apache.camel.component.http.HttpComponent;
 import org.apache.camel.component.http.HttpConsumer;
@@ -59,21 +60,31 @@ public class ServletComponent extends HttpComponent {
 
         HttpParams clientParams = configureHttpParams(parameters);
 
-        // configure regular parameters
-        configureParameters(parameters);
+        // must extract well known parameters before we create the endpoint
+        HttpBinding binding = resolveAndRemoveReferenceParameter(parameters, "httpBindingRef", HttpBinding.class);
+        Boolean matchOnUriPrefix = getAndRemoveParameter(parameters, "matchOnUriPrefix", Boolean.class);
 
         // restructure uri to be based on the parameters left as we dont want to include the Camel internal options
-        URI httpUri = URISupport.createRemainingURI(new URI(UnsafeUriCharactersEncoder.encode(uri)), 
-                CastUtils.cast(parameters));
+        URI httpUri = URISupport.createRemainingURI(new URI(UnsafeUriCharactersEncoder.encode(uri)), CastUtils.cast(parameters));
         uri = httpUri.toString();
 
-        ServletEndpoint result = createServletEndpoint(uri, this, httpUri, clientParams, getClientConnectionManager(), httpClientConfigurer);
-        if (httpBinding != null) {
-            result.setBinding(httpBinding);
+        ServletEndpoint endpoint = createServletEndpoint(uri, this, httpUri, clientParams, getClientConnectionManager(), httpClientConfigurer);
+        setEndpointHeaderFilterStrategy(endpoint);
+
+        // prefer to use endpoint configured over component configured
+        if (binding == null) {
+            // fallback to component configured
+            binding = getHttpBinding();
+        }
+        if (binding != null) {
+            endpoint.setBinding(binding);
         }
-        setEndpointHeaderFilterStrategy(result);        
-        setProperties(result, parameters);
-        return result;
+        if (matchOnUriPrefix != null) {
+            endpoint.setMatchOnUriPrefix(matchOnUriPrefix);
+        }
+
+        setProperties(endpoint, parameters);
+        return endpoint;
     }
 
     protected ServletEndpoint createServletEndpoint(String endpointUri,
