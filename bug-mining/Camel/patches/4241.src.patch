diff --git a/components/camel-atmosphere-websocket/src/main/java/org/apache/camel/component/atmosphere/websocket/CamelWebSocketServlet.java b/components/camel-atmosphere-websocket/src/main/java/org/apache/camel/component/atmosphere/websocket/CamelWebSocketServlet.java
index 9ddb21afb8c..b1c169fd1e9 100644
--- a/components/camel-atmosphere-websocket/src/main/java/org/apache/camel/component/atmosphere/websocket/CamelWebSocketServlet.java
+++ b/components/camel-atmosphere-websocket/src/main/java/org/apache/camel/component/atmosphere/websocket/CamelWebSocketServlet.java
@@ -17,6 +17,7 @@
 package org.apache.camel.component.atmosphere.websocket;
 
 import java.io.IOException;
+import java.util.Map;
 import javax.servlet.ServletConfig;
 import javax.servlet.ServletException;
 import javax.servlet.http.HttpServletRequest;
@@ -42,11 +43,9 @@ public class CamelWebSocketServlet extends CamelHttpTransportServlet {
     public void init(ServletConfig config) throws ServletException {
         super.init(config);
 
-        String eventsResendingParameter = config.getInitParameter(RESEND_ALL_WEBSOCKET_EVENTS_PARAM_KEY);
-        if ("true".equals(eventsResendingParameter)) {
-            log.debug("Events resending enabled");
-            enableEventsResending = true;
-        }
+        initParameters(config);
+
+        enrichConsumers(config);
     }
 
     @Override
@@ -86,7 +85,22 @@ public class CamelWebSocketServlet extends CamelHttpTransportServlet {
         }
         
         log.debug("Dispatching to Websocket Consumer at {}", consumer.getPath());
-        ((WebsocketConsumer)consumer).service(request, response, enableEventsResending);
+        ((WebsocketConsumer)consumer).service(request, response);
+    }
+
+    private void initParameters(ServletConfig config) {
+        String eventsResendingParameter = config.getInitParameter(RESEND_ALL_WEBSOCKET_EVENTS_PARAM_KEY);
+        if ("true".equals(eventsResendingParameter)) {
+            log.debug("Events resending enabled");
+            enableEventsResending = true;
+        }
+    }
+
+    private void enrichConsumers(ServletConfig config) throws ServletException {
+        for (Map.Entry<String, HttpConsumer> httpConsumerEntry : getConsumers().entrySet()) {
+            WebsocketConsumer consumer = (WebsocketConsumer) httpConsumerEntry.getValue();
+            consumer.configureFramework(config);
+            consumer.configureEventsResending(enableEventsResending);
+        }
     }
-    
 }
diff --git a/components/camel-atmosphere-websocket/src/main/java/org/apache/camel/component/atmosphere/websocket/WebsocketConsumer.java b/components/camel-atmosphere-websocket/src/main/java/org/apache/camel/component/atmosphere/websocket/WebsocketConsumer.java
index b1b9b50270c..08537fcc848 100644
--- a/components/camel-atmosphere-websocket/src/main/java/org/apache/camel/component/atmosphere/websocket/WebsocketConsumer.java
+++ b/components/camel-atmosphere-websocket/src/main/java/org/apache/camel/component/atmosphere/websocket/WebsocketConsumer.java
@@ -20,6 +20,7 @@ import java.io.IOException;
 import java.util.HashMap;
 import java.util.List;
 import java.util.Map;
+import javax.servlet.ServletConfig;
 import javax.servlet.ServletException;
 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
@@ -28,47 +29,54 @@ import org.apache.camel.AsyncCallback;
 import org.apache.camel.Exchange;
 import org.apache.camel.Processor;
 import org.apache.camel.component.servlet.ServletConsumer;
+import org.atmosphere.cpr.AtmosphereResponseImpl;
+import org.atmosphere.cpr.AtmosphereRequestImpl;
 import org.atmosphere.cpr.ApplicationConfig;
 import org.atmosphere.cpr.AtmosphereFramework;
-import org.atmosphere.cpr.AtmosphereRequestImpl;
-import org.atmosphere.cpr.AtmosphereResponseImpl;
+import org.atmosphere.cpr.AtmosphereFrameworkInitializer;
 import org.atmosphere.websocket.WebSocketProtocol;
 
 /**
  *
  */
 public class WebsocketConsumer extends ServletConsumer {
-    private AtmosphereFramework framework;
     private boolean enableEventsResending;
     private Map<String, String> queryMap = new HashMap<>();
+    private AtmosphereFramework framework;
+    private final AtmosphereFrameworkInitializer initializer;
 
-    public WebsocketConsumer(WebsocketEndpoint endpoint, Processor processor) {
-        super(endpoint, processor);
-        this.framework = new AtmosphereFramework(false, true);
-
-        framework.setUseNativeImplementation(false);
-        framework.addInitParameter(ApplicationConfig.WEBSOCKET_SUPPORT, "true");
-        framework.addInitParameter(ApplicationConfig.WEBSOCKET_PROTOCOL, 
-            endpoint.isUseStreaming() ? WebsocketStreamHandler.class.getName() : WebsocketHandler.class.getName());
-        //REVISIT we need to disable JSR356 detection for now when using jetty-9.3 when using atmosphere-2.4.x
-        framework.addInitParameter(ApplicationConfig.WEBSOCKET_SUPPRESS_JSR356, "true");
-        framework.init();
-        
-        WebSocketProtocol wsp = framework.getWebSocketProtocol();
+    public void configureEventsResending(final boolean enableEventsResending){
+        this.enableEventsResending = enableEventsResending;
+    }
+
+    public void configureFramework(ServletConfig config) throws ServletException {
+        initializer.configureFramework(config, false, false, AtmosphereFramework.class);
+        this.framework = initializer.framework();
+        this.framework.setUseNativeImplementation(false);
+        this.framework.addInitParameter(ApplicationConfig.WEBSOCKET_SUPPORT, "true");
+        this.framework.addInitParameter(ApplicationConfig.WEBSOCKET_PROTOCOL,
+                getEndpoint().isUseStreaming() ? WebsocketStreamHandler.class.getName() : WebsocketHandler.class.getName());
+        this.framework.init(config);
+
+        WebSocketProtocol wsp = this.framework.getWebSocketProtocol();
         if (wsp instanceof WebsocketHandler) {
-            ((WebsocketHandler)wsp).setConsumer(this);            
+            ((WebsocketHandler)wsp).setConsumer(this);
         } else {
             throw new IllegalArgumentException("Unexpected WebSocketHandler: " + wsp);
         }
     }
 
+    public WebsocketConsumer(WebsocketEndpoint endpoint, Processor processor) {
+        super(endpoint, processor);
+        initializer = new AtmosphereFrameworkInitializer(false , true);
+  }
+
     @Override
     public WebsocketEndpoint getEndpoint() {
         return (WebsocketEndpoint)super.getEndpoint();
     }
     
-    void service(HttpServletRequest request, HttpServletResponse response, boolean enableEventsResending) throws IOException, ServletException {
-        this.enableEventsResending = enableEventsResending;
+    void service(HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException {
         this.queryMap = getQueryMap(request.getQueryString());
         framework.doCometSupport(AtmosphereRequestImpl.wrap(request), AtmosphereResponseImpl.wrap(response));
     }
diff --git a/components/camel-atmosphere-websocket/src/test/java/org/apache/camel/component/atmosphere/websocket/WebsocketCamelRouterTestSupport.java b/components/camel-atmosphere-websocket/src/test/java/org/apache/camel/component/atmosphere/websocket/WebsocketCamelRouterTestSupport.java
index bf98802ed47..efc818f85a4 100644
--- a/components/camel-atmosphere-websocket/src/test/java/org/apache/camel/component/atmosphere/websocket/WebsocketCamelRouterTestSupport.java
+++ b/components/camel-atmosphere-websocket/src/test/java/org/apache/camel/component/atmosphere/websocket/WebsocketCamelRouterTestSupport.java
@@ -42,15 +42,15 @@ public class WebsocketCamelRouterTestSupport extends CamelTestSupport {
         context.setContextPath("/");
         server.setHandler(context);
 
+        if (startCamelContext) {
+            super.setUp();
+        }
+
         servletHolder = new ServletHolder(new CamelWebSocketServlet());
         servletHolder.setName("CamelWsServlet");
         context.addServlet(servletHolder, "/*");
-        
+
         server.start();
-        
-        if (startCamelContext) {        
-            super.setUp();
-        }
     }
     
     @After
diff --git a/components/camel-atmosphere-websocket/src/test/java/org/apache/camel/component/atmosphere/websocket/WebsocketCamelRouterWithInitParamTestSupport.java b/components/camel-atmosphere-websocket/src/test/java/org/apache/camel/component/atmosphere/websocket/WebsocketCamelRouterWithInitParamTestSupport.java
index b8c576880ca..49dad994628 100644
--- a/components/camel-atmosphere-websocket/src/test/java/org/apache/camel/component/atmosphere/websocket/WebsocketCamelRouterWithInitParamTestSupport.java
+++ b/components/camel-atmosphere-websocket/src/test/java/org/apache/camel/component/atmosphere/websocket/WebsocketCamelRouterWithInitParamTestSupport.java
@@ -42,16 +42,16 @@ public class WebsocketCamelRouterWithInitParamTestSupport extends CamelTestSuppo
         context.setContextPath("/");
         server.setHandler(context);
 
+        if (startCamelContext) {
+            super.setUp();
+        }
+
         servletHolder = new ServletHolder(new CamelWebSocketServlet());
         servletHolder.setName("CamelWsServlet");
         servletHolder.setInitParameter("events", "true");
         context.addServlet(servletHolder, "/*");
-        
+
         server.start();
-        
-        if (startCamelContext) {        
-            super.setUp();
-        }
     }
     
     @After
