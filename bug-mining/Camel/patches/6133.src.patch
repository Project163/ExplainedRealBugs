diff --git a/components/camel-aws/camel-aws2-s3/src/main/java/org/apache/camel/component/aws2/s3/utils/AWS2S3Utils.java b/components/camel-aws/camel-aws2-s3/src/main/java/org/apache/camel/component/aws2/s3/utils/AWS2S3Utils.java
index d434ff9f166..342bb145d60 100644
--- a/components/camel-aws/camel-aws2-s3/src/main/java/org/apache/camel/component/aws2/s3/utils/AWS2S3Utils.java
+++ b/components/camel-aws/camel-aws2-s3/src/main/java/org/apache/camel/component/aws2/s3/utils/AWS2S3Utils.java
@@ -21,6 +21,7 @@ import java.io.IOException;
 import java.io.InputStream;
 
 import org.apache.camel.Exchange;
+import org.apache.camel.StreamCache;
 import org.apache.camel.component.aws2.s3.AWS2S3Configuration;
 import org.apache.camel.component.aws2.s3.AWS2S3Constants;
 import org.apache.camel.util.ObjectHelper;
@@ -81,6 +82,13 @@ public final class AWS2S3Utils {
     }
 
     public static long determineLengthInputStream(InputStream is) throws IOException {
+        if (is instanceof StreamCache) {
+            long len = ((StreamCache) is).length();
+            if (len > 0) {
+                return len;
+            }
+        }
+
         if (!is.markSupported()) {
             return -1;
         }
diff --git a/components/camel-azure/camel-azure-storage-blob/src/main/java/org/apache/camel/component/azure/storage/blob/BlobUtils.java b/components/camel-azure/camel-azure-storage-blob/src/main/java/org/apache/camel/component/azure/storage/blob/BlobUtils.java
index a8509b158b7..ca869ef4434 100644
--- a/components/camel-azure/camel-azure-storage-blob/src/main/java/org/apache/camel/component/azure/storage/blob/BlobUtils.java
+++ b/components/camel-azure/camel-azure-storage-blob/src/main/java/org/apache/camel/component/azure/storage/blob/BlobUtils.java
@@ -37,7 +37,7 @@ public final class BlobUtils {
     public static long getInputStreamLength(InputStream is) throws IOException {
         if (is instanceof StreamCache) {
             long len = ((StreamCache) is).length();
-            if (len != -1) {
+            if (len > 0) {
                 return len;
             }
         }
