diff --git a/dsl/camel-kamelet-main/src/main/java/org/apache/camel/main/DependencyDownloaderComponentResolver.java b/dsl/camel-kamelet-main/src/main/java/org/apache/camel/main/DependencyDownloaderComponentResolver.java
index 858091ad8fa..ed16322fafc 100644
--- a/dsl/camel-kamelet-main/src/main/java/org/apache/camel/main/DependencyDownloaderComponentResolver.java
+++ b/dsl/camel-kamelet-main/src/main/java/org/apache/camel/main/DependencyDownloaderComponentResolver.java
@@ -22,6 +22,7 @@ import org.apache.camel.Component;
 import org.apache.camel.catalog.CamelCatalog;
 import org.apache.camel.catalog.DefaultCamelCatalog;
 import org.apache.camel.impl.engine.DefaultComponentResolver;
+import org.apache.camel.tooling.model.ComponentModel;
 
 /**
  * Auto downloaded needed JARs when resolving components.
@@ -47,6 +48,11 @@ final class DependencyDownloaderComponentResolver extends DefaultComponentResolv
 
     @Override
     public Component resolveComponent(String name, CamelContext context) {
+        ComponentModel model = catalog.componentModel(name);
+        if (model != null && !DownloaderHelper.alreadyOnClasspath(camelContext, model.getArtifactId())) {
+            DownloaderHelper.downloadDependency(camelContext, model.getGroupId(), model.getArtifactId(), model.getVersion());
+        }
+
         if ("platform-http".equals(name)) {
             // setup a default http server on port 8080 if not already done
             VertxHttpServer.registerServer(camelContext);
