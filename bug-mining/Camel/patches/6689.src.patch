diff --git a/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/commands/CamelJBangMain.java b/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/commands/CamelJBangMain.java
index 5d7b3620824..da0b6af9cca 100644
--- a/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/commands/CamelJBangMain.java
+++ b/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/commands/CamelJBangMain.java
@@ -60,6 +60,14 @@ public class CamelJBangMain implements Callable<Integer> {
     }
 
     public static void run(CamelJBangMain main, String... args) {
+        // set pid as system property as logging ${sys:pid} needs to be resolved on windows
+        try {
+            long pid = ProcessHandle.current().pid();
+            System.setProperty("pid", Long.toString(pid));
+        } catch (Exception e) {
+            // ignore
+        }
+
         commandLine = new CommandLine(main)
                 .addSubcommand("init", new CommandLine(new Init(main)))
                 .addSubcommand("run", new CommandLine(new Run(main)))
