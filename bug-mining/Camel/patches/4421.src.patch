diff --git a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/TestClient.java b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/TestClient.java
index b2d5a89a7b5..7a235a1ac64 100644
--- a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/TestClient.java
+++ b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/TestClient.java
@@ -28,8 +28,7 @@ import org.asynchttpclient.AsyncHttpClient;
 import org.asynchttpclient.AsyncHttpClientConfig;
 import org.asynchttpclient.DefaultAsyncHttpClient;
 import org.asynchttpclient.ws.WebSocket;
-import org.asynchttpclient.ws.WebSocketByteListener;
-import org.asynchttpclient.ws.WebSocketTextListener;
+import org.asynchttpclient.ws.WebSocketListener;
 import org.asynchttpclient.ws.WebSocketUpgradeHandler;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
@@ -69,11 +68,11 @@ public class TestClient {
     }
 
     public void sendTextMessage(String message) {
-        websocket.sendMessage(message);
+        websocket.sendTextFrame(message);
     }
 
     public void sendBytesMessage(byte[] message) {
-        websocket.sendMessage(message);
+        websocket.sendBinaryFrame(message);
     }
 
     public boolean await(int secs) throws InterruptedException {
@@ -116,11 +115,11 @@ public class TestClient {
     }
     
     public void close() throws IOException {
-        websocket.close();
+        websocket.sendCloseFrame();
         client.close();
     }
 
-    private class TestWebSocketListener implements WebSocketTextListener, WebSocketByteListener {
+    private class TestWebSocketListener implements WebSocketListener {
 
         @Override
         public void onOpen(WebSocket websocket) {
@@ -128,8 +127,8 @@ public class TestClient {
         }
 
         @Override
-        public void onClose(WebSocket websocket) {
-            LOG.info("[ws] closed");
+        public void onClose(WebSocket websocket, int code, String reason) {
+            LOG.info("[ws] closed, code " + code + " reason " + reason);
         }
 
         @Override
@@ -138,15 +137,14 @@ public class TestClient {
         }
 
         @Override
-        public void onMessage(byte[] message) {
+        public void onBinaryFrame(byte[] message, boolean finalFragment, int rsv) {
             received.add(message);
             LOG.info("[ws] received bytes --> " + Arrays.toString(message));
             latch.countDown();
         }
 
-        
         @Override
-        public void onMessage(String message) {
+        public void onTextFrame(String message, boolean finalFragment, int rsv) {
             received.add(message);
             LOG.info("[ws] received --> " + message);
             latch.countDown();
diff --git a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsConsumerRouteTest.java b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsConsumerRouteTest.java
index b1df0a47d01..94a96d0a081 100644
--- a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsConsumerRouteTest.java
+++ b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsConsumerRouteTest.java
@@ -40,7 +40,7 @@ import org.apache.camel.component.undertow.UndertowConstants.EventType;
 import org.apache.camel.converter.IOConverter;
 import org.asynchttpclient.AsyncHttpClient;
 import org.asynchttpclient.DefaultAsyncHttpClient;
-import org.asynchttpclient.ws.DefaultWebSocketListener;
+import org.asynchttpclient.ws.WebSocketListener;
 import org.asynchttpclient.ws.WebSocket;
 import org.asynchttpclient.ws.WebSocketUpgradeHandler;
 import org.junit.Assert;
@@ -56,13 +56,21 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         AsyncHttpClient c = new DefaultAsyncHttpClient();
 
         WebSocket websocket = c.prepareGet("ws://localhost:" + getPort() + "/app1")
-                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new DefaultWebSocketListener() {
+                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new WebSocketListener() {
 
                     @Override
-                    public void onMessage(String message) {
+                    public void onTextFrame(String message, boolean finalFragment, int rsv) {
                         System.out.println("got message " + message);
                     }
 
+                    @Override
+                    public void onOpen(WebSocket webSocket) {
+                    }
+
+                    @Override
+                    public void onClose(WebSocket webSocket, int code, String reason) {
+                    }
+
                     @Override
                     public void onError(Throwable t) {
                         t.printStackTrace();
@@ -73,12 +81,12 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         MockEndpoint result = getMockEndpoint("mock:result1");
         result.expectedBodiesReceived("Test");
 
-        websocket.sendMessage("Test");
+        websocket.sendTextFrame("Test");
 
         result.await(60, TimeUnit.SECONDS);
         result.assertIsSatisfied();
 
-        websocket.close();
+        websocket.sendCloseFrame();
         c.close();
     }
 
@@ -87,13 +95,21 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         AsyncHttpClient c = new DefaultAsyncHttpClient();
 
         WebSocket websocket = c.prepareGet("ws://localhost:" + getPort() + "/app2")
-                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new DefaultWebSocketListener() {
+                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new WebSocketListener() {
 
                     @Override
-                    public void onMessage(String message) {
+                    public void onTextFrame(String message, boolean finalFragment, int rsv) {
                         System.out.println("got message " + message);
                     }
 
+                    @Override
+                    public void onOpen(WebSocket webSocket) {
+                    }
+
+                    @Override
+                    public void onClose(WebSocket webSocket, int code, String reason) {
+                    }
+
                     @Override
                     public void onError(Throwable t) {
                         t.printStackTrace();
@@ -104,7 +120,7 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         MockEndpoint result = getMockEndpoint("mock:result2");
         result.expectedMessageCount(1);
 
-        websocket.sendMessage("Test");
+        websocket.sendTextFrame("Test");
 
         result.await(60, TimeUnit.SECONDS);
         List<Exchange> exchanges = result.getReceivedExchanges();
@@ -114,7 +130,7 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         Reader r = (Reader) body;
         Assert.assertEquals("Test", IOConverter.toString(r));
 
-        websocket.close();
+        websocket.sendCloseFrame();
         c.close();
     }
 
@@ -123,7 +139,15 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         AsyncHttpClient c = new DefaultAsyncHttpClient();
 
         WebSocket websocket = c.prepareGet("ws://localhost:" + getPort() + "/app1")
-                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new DefaultWebSocketListener() {
+                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new WebSocketListener() {
+
+                    @Override
+                    public void onOpen(WebSocket webSocket) {
+                    }
+
+                    @Override
+                    public void onClose(WebSocket webSocket, int code, String reason) {
+                    }
 
                     @Override
                     public void onError(Throwable t) {
@@ -131,7 +155,7 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
                     }
 
                     @Override
-                    public void onMessage(byte[] message) {
+                    public void onBinaryFrame(byte[] message, boolean finalFragment, int rsv) {
                         System.out.println("got byte[] message");
                     }
                 }).build()).get();
@@ -140,11 +164,11 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         final byte[] testmessage = "Test".getBytes("utf-8");
         result.expectedBodiesReceived(testmessage);
 
-        websocket.sendMessage(testmessage);
+        websocket.sendBinaryFrame(testmessage);
 
         result.assertIsSatisfied();
 
-        websocket.close();
+        websocket.sendCloseFrame();
         c.close();
     }
 
@@ -153,13 +177,21 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         AsyncHttpClient c = new DefaultAsyncHttpClient();
 
         WebSocket websocket = c.prepareGet("ws://localhost:" + getPort() + "/app2")
-                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new DefaultWebSocketListener() {
+                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new WebSocketListener() {
 
                     @Override
-                    public void onMessage(byte[] message) {
+                    public void onBinaryFrame(byte[] message, boolean finalFragment, int rsv) {
                         System.out.println("got message " + message);
                     }
 
+                    @Override
+                    public void onOpen(WebSocket webSocket) {
+                    }
+
+                    @Override
+                    public void onClose(WebSocket webSocket, int code, String reason) {
+                    }
+
                     @Override
                     public void onError(Throwable t) {
                         t.printStackTrace();
@@ -171,7 +203,7 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         result.expectedMessageCount(1);
 
         final byte[] testmessage = "Test".getBytes("utf-8");
-        websocket.sendMessage(testmessage);
+        websocket.sendBinaryFrame(testmessage);
 
         result.await(60, TimeUnit.SECONDS);
         List<Exchange> exchanges = result.getReceivedExchanges();
@@ -181,7 +213,7 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         InputStream in = (InputStream) body;
         Assert.assertArrayEquals(testmessage, IOConverter.toBytes(in));
 
-        websocket.close();
+        websocket.sendCloseFrame();
         c.close();
     }
 
@@ -190,13 +222,21 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         AsyncHttpClient c1 = new DefaultAsyncHttpClient();
 
         WebSocket websocket1 = c1.prepareGet("ws://localhost:" + getPort() + "/app1")
-                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new DefaultWebSocketListener() {
+                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new WebSocketListener() {
 
                     @Override
-                    public void onMessage(String message) {
+                    public void onTextFrame(String message, boolean finalFragment, int rsv) {
                         System.out.println("got message " + message);
                     }
 
+                    @Override
+                    public void onOpen(WebSocket webSocket) {
+                    }
+
+                    @Override
+                    public void onClose(WebSocket webSocket, int code, String reason) {
+                    }
+
                     @Override
                     public void onError(Throwable t) {
                         t.printStackTrace();
@@ -206,13 +246,21 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         AsyncHttpClient c2 = new DefaultAsyncHttpClient();
 
         WebSocket websocket2 = c2.prepareGet("ws://localhost:" + getPort() + "/app1")
-                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new DefaultWebSocketListener() {
+                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new WebSocketListener() {
 
                     @Override
-                    public void onMessage(String message) {
+                    public void onTextFrame(String message, boolean finalFragment, int rsv) {
                         System.out.println("got message " + message);
                     }
 
+                    @Override
+                    public void onOpen(WebSocket webSocket) {
+                    }
+
+                    @Override
+                    public void onClose(WebSocket webSocket, int code, String reason) {
+                    }
+
                     @Override
                     public void onError(Throwable t) {
                         t.printStackTrace();
@@ -223,8 +271,8 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         MockEndpoint result = getMockEndpoint("mock:result1");
         result.expectedMessageCount(2);
 
-        websocket1.sendMessage("Test1");
-        websocket2.sendMessage("Test2");
+        websocket1.sendTextFrame("Test1");
+        websocket2.sendTextFrame("Test2");
 
         result.await(60, TimeUnit.SECONDS);
         result.assertIsSatisfied();
@@ -234,8 +282,8 @@ public class UndertowWsConsumerRouteTest extends BaseUndertowTest {
         actual.add(exchanges.get(1).getIn().getBody(String.class));
         Assert.assertEquals(new HashSet<String>(Arrays.asList("Test1", "Test2")), actual);
 
-        websocket1.close();
-        websocket2.close();
+        websocket1.sendCloseFrame();
+        websocket2.sendCloseFrame();
         c1.close();
         c2.close();
     }
diff --git a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsProducerRouteRestartTest.java b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsProducerRouteRestartTest.java
index 3f45f827fc0..e625c9b2bbc 100644
--- a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsProducerRouteRestartTest.java
+++ b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsProducerRouteRestartTest.java
@@ -29,7 +29,7 @@ import org.apache.camel.component.undertow.UndertowConstants;
 import org.asynchttpclient.AsyncHttpClient;
 import org.asynchttpclient.DefaultAsyncHttpClient;
 import org.asynchttpclient.ws.WebSocket;
-import org.asynchttpclient.ws.WebSocketTextListener;
+import org.asynchttpclient.ws.WebSocketListener;
 import org.asynchttpclient.ws.WebSocketUpgradeHandler;
 import org.junit.Test;
 
@@ -69,9 +69,9 @@ public class UndertowWsProducerRouteRestartTest extends BaseUndertowTest {
         AsyncHttpClient c = new DefaultAsyncHttpClient();
 
         WebSocket websocket = c.prepareGet("ws://localhost:" + getPort() + "/shop")
-                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new WebSocketTextListener() {
-                    @Override
-                    public void onMessage(String message) {
+                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new WebSocketListener() {
+					@Override
+                    public void onTextFrame(String message, boolean finalFragment, int rsv) {
                         received.add(message);
                         log.info("received --> " + message);
                         latch.countDown();
@@ -82,7 +82,7 @@ public class UndertowWsProducerRouteRestartTest extends BaseUndertowTest {
                     }
 
                     @Override
-                    public void onClose(WebSocket websocket) {
+                    public void onClose(WebSocket websocket, int code, String reason) {
                     }
 
                     @Override
@@ -101,7 +101,7 @@ public class UndertowWsProducerRouteRestartTest extends BaseUndertowTest {
         assertTrue(r instanceof String);
         assertEquals("Beer on stock at Apache Mall", r);
 
-        websocket.close();
+        websocket.sendCloseFrame();
         c.close();
 
     }
diff --git a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsProducerRouteTest.java b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsProducerRouteTest.java
index f089813f6ba..e33896191bc 100644
--- a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsProducerRouteTest.java
+++ b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsProducerRouteTest.java
@@ -4,6 +4,7 @@
  * this work for additional information regarding copyright ownership.
  * The ASF licenses this file to You under the Apache License, Version 2.0
  * (the "License"); you may not use this file except in compliance with
+
  * the License.  You may obtain a copy of the License at
  *
  *      http://www.apache.org/licenses/LICENSE-2.0
@@ -30,7 +31,7 @@ import org.apache.camel.component.undertow.UndertowConstants;
 import org.asynchttpclient.AsyncHttpClient;
 import org.asynchttpclient.DefaultAsyncHttpClient;
 import org.asynchttpclient.ws.WebSocket;
-import org.asynchttpclient.ws.WebSocketTextListener;
+import org.asynchttpclient.ws.WebSocketListener;
 import org.asynchttpclient.ws.WebSocketUpgradeHandler;
 import org.junit.Test;
 
@@ -47,10 +48,10 @@ public class UndertowWsProducerRouteTest extends BaseUndertowTest {
         final List<Object> received = Collections.synchronizedList(new ArrayList<Object>());
 
         WebSocket websocket = c.prepareGet("ws://localhost:" + getPort() + "/shop")
-                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new WebSocketTextListener() {
+                .execute(new WebSocketUpgradeHandler.Builder().addWebSocketListener(new WebSocketListener() {
 
                     @Override
-                    public void onMessage(String message) {
+                    public void onTextFrame(String message, boolean finalFragment, int rsv) {
                         received.add(message);
                         log.info("received --> " + message);
                         latch.countDown();
@@ -61,7 +62,7 @@ public class UndertowWsProducerRouteTest extends BaseUndertowTest {
                     }
 
                     @Override
-                    public void onClose(WebSocket websocket) {
+                    public void onClose(WebSocket websocket, int code, String reason) {
                     }
 
                     @Override
@@ -80,7 +81,7 @@ public class UndertowWsProducerRouteTest extends BaseUndertowTest {
         assertTrue(r instanceof String);
         assertEquals("Beer on stock at Apache Mall", r);
 
-        websocket.close();
+        websocket.sendCloseFrame();
         c.close();
     }
 
diff --git a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsTwoRoutesTest.java b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsTwoRoutesTest.java
index cf091c89dd3..475fbd341e0 100644
--- a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsTwoRoutesTest.java
+++ b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsTwoRoutesTest.java
@@ -26,7 +26,7 @@ import org.apache.camel.component.undertow.BaseUndertowTest;
 import org.asynchttpclient.AsyncHttpClient;
 import org.asynchttpclient.DefaultAsyncHttpClient;
 import org.asynchttpclient.ws.WebSocket;
-import org.asynchttpclient.ws.WebSocketTextListener;
+import org.asynchttpclient.ws.WebSocketListener;
 import org.asynchttpclient.ws.WebSocketUpgradeHandler;
 import org.junit.Test;
 
@@ -42,9 +42,9 @@ public class UndertowWsTwoRoutesTest extends BaseUndertowTest {
             final AsyncHttpClient c = new DefaultAsyncHttpClient();
             final WebSocket websocket = c.prepareGet("ws://localhost:" + getPort() + "/bar").execute(
                 new WebSocketUpgradeHandler.Builder()
-                    .addWebSocketListener(new WebSocketTextListener() {
+                    .addWebSocketListener(new WebSocketListener() {
                         @Override
-                        public void onMessage(String message) {
+                        public void onTextFrame(String message, boolean finalFragment, int rsv) {
                             received.add(message);
                             log.info("received --> " + message);
                             latch.countDown();
@@ -55,7 +55,7 @@ public class UndertowWsTwoRoutesTest extends BaseUndertowTest {
                         }
 
                         @Override
-                        public void onClose(WebSocket websocket) {
+                        public void onClose(WebSocket websocket, int code, String reason) {
                         }
 
                         @Override
@@ -64,13 +64,13 @@ public class UndertowWsTwoRoutesTest extends BaseUndertowTest {
                         }
                     }).build()).get();
 
-            websocket.sendMessage("Beer");
+            websocket.sendTextFrame("Beer");
             assertTrue(latch.await(10, TimeUnit.SECONDS));
 
             assertEquals(1, received.size());
             assertEquals("The bar has Beer", received.get(0));
 
-            websocket.close();
+            websocket.sendCloseFrame();
             c.close();
         }
 
@@ -82,9 +82,9 @@ public class UndertowWsTwoRoutesTest extends BaseUndertowTest {
             final AsyncHttpClient c = new DefaultAsyncHttpClient();
             final WebSocket websocket = c.prepareGet("ws://localhost:" + getPort() + "/pub").execute(
                     new WebSocketUpgradeHandler.Builder()
-                            .addWebSocketListener(new WebSocketTextListener() {
+                            .addWebSocketListener(new WebSocketListener() {
                                 @Override
-                                public void onMessage(String message) {
+                                public void onTextFrame(String message, boolean finalFragment, int rsv) {
                                     received.add(message);
                                     log.info("received --> " + message);
                                     latch.countDown();
@@ -96,7 +96,7 @@ public class UndertowWsTwoRoutesTest extends BaseUndertowTest {
                                 }
 
                                 @Override
-                                public void onClose(WebSocket websocket) {
+                                public void onClose(WebSocket websocket, int code, String reason) {
                                 }
 
                                 @Override
@@ -105,13 +105,13 @@ public class UndertowWsTwoRoutesTest extends BaseUndertowTest {
                                 }
                             }).build()).get();
 
-            websocket.sendMessage("wine");
+            websocket.sendTextFrame("wine");
             assertTrue(latch.await(10, TimeUnit.SECONDS));
 
             assertEquals(1, received.size());
             assertEquals("The pub has wine", received.get(0));
 
-            websocket.close();
+            websocket.sendCloseFrame();
             c.close();
         }
 
diff --git a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsTwoRoutesToSameEndpointSendToAllHeaderTest.java b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsTwoRoutesToSameEndpointSendToAllHeaderTest.java
index 3b67a8a878e..0235ad2b69c 100644
--- a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsTwoRoutesToSameEndpointSendToAllHeaderTest.java
+++ b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsTwoRoutesToSameEndpointSendToAllHeaderTest.java
@@ -26,7 +26,7 @@ import org.apache.camel.component.undertow.BaseUndertowTest;
 import org.apache.camel.component.undertow.UndertowConstants;
 import org.asynchttpclient.DefaultAsyncHttpClient;
 import org.asynchttpclient.ws.WebSocket;
-import org.asynchttpclient.ws.WebSocketTextListener;
+import org.asynchttpclient.ws.WebSocketListener;
 import org.asynchttpclient.ws.WebSocketUpgradeHandler;
 import org.junit.Test;
 
@@ -44,9 +44,9 @@ public class UndertowWsTwoRoutesToSameEndpointSendToAllHeaderTest extends BaseUn
 
         WebSocket websocket = c.prepareGet("ws://localhost:" + getPort() + "/bar").execute(
                 new WebSocketUpgradeHandler.Builder()
-                        .addWebSocketListener(new WebSocketTextListener() {
+                        .addWebSocketListener(new WebSocketListener() {
                             @Override
-                            public void onMessage(String message) {
+                            public void onTextFrame(String message, boolean finalFragment, int rsv) {
                                 received.add(message);
                                 log.info("received --> " + message);
                                 latch.countDown();
@@ -57,7 +57,7 @@ public class UndertowWsTwoRoutesToSameEndpointSendToAllHeaderTest extends BaseUn
                             }
 
                             @Override
-                            public void onClose(WebSocket websocket) {
+                            public void onClose(WebSocket websocket, int code, String reason) {
                             }
 
                             @Override
@@ -66,7 +66,7 @@ public class UndertowWsTwoRoutesToSameEndpointSendToAllHeaderTest extends BaseUn
                             }
                         }).build()).get();
 
-        websocket.sendMessage("Beer");
+        websocket.sendTextFrame("Beer");
         assertTrue(latch.await(10, TimeUnit.SECONDS));
 
         assertEquals(2, received.size());
@@ -75,7 +75,7 @@ public class UndertowWsTwoRoutesToSameEndpointSendToAllHeaderTest extends BaseUn
         assertTrue(received.contains("The bar has Beer"));
         assertTrue(received.contains("Broadcasting to Bar"));
 
-        websocket.close();
+        websocket.sendCloseFrame();
         c.close();
     }
 
diff --git a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsTwoRoutesToSameEndpointTest.java b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsTwoRoutesToSameEndpointTest.java
index f6e1ed0a226..d1a3b29a3ae 100644
--- a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsTwoRoutesToSameEndpointTest.java
+++ b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWsTwoRoutesToSameEndpointTest.java
@@ -25,7 +25,7 @@ import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.component.undertow.BaseUndertowTest;
 import org.asynchttpclient.DefaultAsyncHttpClient;
 import org.asynchttpclient.ws.WebSocket;
-import org.asynchttpclient.ws.WebSocketTextListener;
+import org.asynchttpclient.ws.WebSocketListener;
 import org.asynchttpclient.ws.WebSocketUpgradeHandler;
 import org.junit.Test;
 
@@ -43,9 +43,9 @@ public class UndertowWsTwoRoutesToSameEndpointTest extends BaseUndertowTest {
 
         WebSocket websocket = c.prepareGet("ws://localhost:" + getPort() + "/bar").execute(
                 new WebSocketUpgradeHandler.Builder()
-                        .addWebSocketListener(new WebSocketTextListener() {
+                        .addWebSocketListener(new WebSocketListener() {
                             @Override
-                            public void onMessage(String message) {
+                            public void onTextFrame(String message, boolean finalFragment, int rsv) {
                                 received.add(message);
                                 log.info("received --> " + message);
                                 latch.countDown();
@@ -56,7 +56,7 @@ public class UndertowWsTwoRoutesToSameEndpointTest extends BaseUndertowTest {
                             }
 
                             @Override
-                            public void onClose(WebSocket websocket) {
+                            public void onClose(WebSocket websocket, int code, String reason) {
                             }
 
                             @Override
@@ -65,7 +65,7 @@ public class UndertowWsTwoRoutesToSameEndpointTest extends BaseUndertowTest {
                             }
                         }).build()).get();
 
-        websocket.sendMessage("Beer");
+        websocket.sendTextFrame("Beer");
         assertTrue(latch.await(10, TimeUnit.SECONDS));
 
         assertEquals(2, received.size());
@@ -74,7 +74,7 @@ public class UndertowWsTwoRoutesToSameEndpointTest extends BaseUndertowTest {
         assertTrue(received.contains("The bar has Beer"));
         assertTrue(received.contains("Broadcasting to Bar"));
 
-        websocket.close();
+        websocket.sendCloseFrame();
         c.close();
     }
 
diff --git a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWssRouteTest.java b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWssRouteTest.java
index bd4152d6b15..413ae5ff631 100644
--- a/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWssRouteTest.java
+++ b/components/camel-undertow/src/test/java/org/apache/camel/component/undertow/ws/UndertowWssRouteTest.java
@@ -44,7 +44,7 @@ import org.asynchttpclient.AsyncHttpClientConfig;
 import org.asynchttpclient.DefaultAsyncHttpClient;
 import org.asynchttpclient.DefaultAsyncHttpClientConfig;
 import org.asynchttpclient.ws.WebSocket;
-import org.asynchttpclient.ws.WebSocketTextListener;
+import org.asynchttpclient.ws.WebSocketListener;
 import org.asynchttpclient.ws.WebSocketUpgradeHandler;
 import org.junit.AfterClass;
 import org.junit.BeforeClass;
@@ -105,7 +105,7 @@ public class UndertowWssRouteTest extends BaseUndertowTest {
                 .trustManager(InsecureTrustManagerFactory.INSTANCE)
                 .build();
         builder.setSslContext(sslContext);
-        builder.setAcceptAnyCertificate(true);
+        builder.setUseInsecureTrustManager(true);
         config = builder.build();
         c = new DefaultAsyncHttpClient(config);
 
@@ -120,9 +120,9 @@ public class UndertowWssRouteTest extends BaseUndertowTest {
         AsyncHttpClient c = createAsyncHttpSSLClient();
         WebSocket websocket = c.prepareGet("wss://localhost:" + getPort() + "/test").execute(
                 new WebSocketUpgradeHandler.Builder()
-                        .addWebSocketListener(new WebSocketTextListener() {
+                        .addWebSocketListener(new WebSocketListener() {
                             @Override
-                            public void onMessage(String message) {
+                            public void onTextFrame(String message, boolean finalFragment, int rsv) {
                                 received.add(message);
                                 log.info("received --> " + message);
                                 latch.countDown();
@@ -133,7 +133,7 @@ public class UndertowWssRouteTest extends BaseUndertowTest {
                             }
 
                             @Override
-                            public void onClose(WebSocket websocket) {
+                            public void onClose(WebSocket websocket, int code, String reason) {
                             }
 
                             @Override
@@ -144,7 +144,7 @@ public class UndertowWssRouteTest extends BaseUndertowTest {
 
         getMockEndpoint("mock:client").expectedBodiesReceived("Hello from WS client");
 
-        websocket.sendMessage("Hello from WS client");
+        websocket.sendTextFrame("Hello from WS client");
         assertTrue(latch.await(10, TimeUnit.SECONDS));
 
         assertMockEndpointsSatisfied();
@@ -154,7 +154,7 @@ public class UndertowWssRouteTest extends BaseUndertowTest {
             assertEquals(">> Welcome on board!", received.get(i));
         }
 
-        websocket.close();
+        websocket.sendCloseFrame();
         c.close();
     }
 
