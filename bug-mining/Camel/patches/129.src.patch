diff --git a/camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java b/camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java
index 03c48af168f..fb021b1605a 100644
--- a/camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java
+++ b/camel-core/src/main/java/org/apache/camel/component/file/FileConsumer.java
@@ -36,6 +36,7 @@ public class FileConsumer extends ScheduledPollConsumer<FileExchange> {
     private FileEndpoint endpoint;
     private ConcurrentHashMap<File, File> filesBeingProcessed = new ConcurrentHashMap<File, File>();
     private ConcurrentHashMap<File, Long> fileSizes = new ConcurrentHashMap<File, Long>();
+    private ConcurrentHashMap<File, Long> noopMap = new ConcurrentHashMap<File, Long>();
 
     private boolean generateEmptyExchangeWhenIdle;
     private boolean recursive = true;
@@ -44,6 +45,7 @@ public class FileConsumer extends ScheduledPollConsumer<FileExchange> {
     private long lastPollTime;
     private int unchangedDelay;
     private boolean unchangedSize;
+    
 
     public FileConsumer(final FileEndpoint endpoint, Processor processor) {
         super(endpoint, processor);
@@ -105,14 +107,22 @@ public class FileConsumer extends ScheduledPollConsumer<FileExchange> {
         // we only care about file modified times if we are not deleting/moving
         // files
         if (endpoint.isNoop()) {
+            // do nothing now as isValidFile() filters unmodified files
+/*
             long fileModified = file.lastModified();
-            if (fileModified <= lastPollTime) {
+            Long previousModified = noopMap.get(file);
+            noopMap.put(file, fileModified);
+            if (previousModified == null || fileModified > previousModified) {
+                return 1;
+            }
+            else {
                 if (LOG.isDebugEnabled()) {
                     LOG.debug("Ignoring file: " + file + " as modified time: " + fileModified
-                              + " less than last poll time: " + lastPollTime);
+                              + " less than the previous modified time: " + previousModified);
                 }
                 return 0;
             }
+*/
         } else {
             if (filesBeingProcessed.contains(file)) {
                 return 1;
@@ -185,6 +195,13 @@ public class FileConsumer extends ScheduledPollConsumer<FileExchange> {
                 lastModifiedCheck = modifiedDuration >= getUnchangedDelay();
             }
 
+            long fileModified = file.lastModified();
+            Long previousModified = noopMap.get(file);
+            noopMap.put(file, fileModified);
+            boolean modifiedChanged = previousModified == null || fileModified > previousModified;
+
+
+
             boolean sizeCheck = true;
             long sizeDifference = 0;
             if (isUnchangedSize()) {
@@ -193,7 +210,7 @@ public class FileConsumer extends ScheduledPollConsumer<FileExchange> {
                 sizeCheck = sizeDifference == 0;
             }
 
-            boolean answer = lastModifiedCheck && sizeCheck;
+            boolean answer = lastModifiedCheck && sizeCheck && !modifiedChanged;
 
             if (LOG.isDebugEnabled()) {
                 LOG.debug("file:" + file + " isUnchanged:" + answer + " " + "sizeCheck:" + sizeCheck + "("
diff --git a/camel-core/src/test/java/org/apache/camel/component/file/MoveFilesToDirectoryTest.java b/camel-core/src/test/java/org/apache/camel/component/file/MoveFilesToDirectoryTest.java
index 69e518ef377..972c4584e05 100644
--- a/camel-core/src/test/java/org/apache/camel/component/file/MoveFilesToDirectoryTest.java
+++ b/camel-core/src/test/java/org/apache/camel/component/file/MoveFilesToDirectoryTest.java
@@ -31,6 +31,7 @@ public class MoveFilesToDirectoryTest extends ContextTestSupport {
     protected String outputDirectory = testDirectory + "/output";
     protected String fileName = "foo.txt";
     protected Object expectedBody = "Hello there!";
+    protected boolean noop = false;
 
     public void testFileRoute() throws Exception {
         template.sendBodyAndHeader("file:" + inputDirectory, expectedBody, FileComponent.HEADER_FILE_NAME, fileName);
@@ -49,7 +50,11 @@ public class MoveFilesToDirectoryTest extends ContextTestSupport {
         Thread.sleep(5000);
 
         File file = new File(inputDirectory + "/" + fileName);
-        File newFile = new File(outputDirectory + "/" + fileName);
+
+        File outDir = new File(outputDirectory);
+        outDir.mkdirs();
+        
+        File newFile = new File(outDir, fileName);
 
         assertFileExists(file);
         assertFileNotExists(newFile);
@@ -81,8 +86,12 @@ public class MoveFilesToDirectoryTest extends ContextTestSupport {
     protected RouteBuilder createRouteBuilder() {
         return new RouteBuilder() {
             public void configure() {
-                from("file:" + outputDirectory).to("mock:result");
+                from(getOutputEndpointUri()).to("mock:result");
             }
         };
     }
+
+    protected String getOutputEndpointUri() {
+        return "file:" + outputDirectory;
+    }
 }
\ No newline at end of file
diff --git a/camel-core/src/test/java/org/apache/camel/component/file/MoveFilesToDirectoryWithNoopTest.java b/camel-core/src/test/java/org/apache/camel/component/file/MoveFilesToDirectoryWithNoopTest.java
new file mode 100644
index 00000000000..5c6256c0bfa
--- /dev/null
+++ b/camel-core/src/test/java/org/apache/camel/component/file/MoveFilesToDirectoryWithNoopTest.java
@@ -0,0 +1,29 @@
+/**
+ *
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.file;
+
+/**
+ * @version $Revision: 1.1 $
+ */
+public class MoveFilesToDirectoryWithNoopTest extends MoveFilesToDirectoryTest {
+
+    @Override
+    protected String getOutputEndpointUri() {
+        return super.getOutputEndpointUri() + "?noop=true";
+    }
+}
