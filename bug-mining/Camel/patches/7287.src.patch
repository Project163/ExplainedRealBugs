diff --git a/core/camel-support/src/main/java/org/apache/camel/support/component/ApiMethodParser.java b/core/camel-support/src/main/java/org/apache/camel/support/component/ApiMethodParser.java
index d1864627c5e..9874ea0a893 100644
--- a/core/camel-support/src/main/java/org/apache/camel/support/component/ApiMethodParser.java
+++ b/core/camel-support/src/main/java/org/apache/camel/support/component/ApiMethodParser.java
@@ -330,7 +330,7 @@ public abstract class ApiMethodParser<T> {
         try {
             return forName(className, classLoader);
         } catch (ClassNotFoundException e1) {
-            throw new IllegalArgumentException("Error loading class " + className);
+            throw new IllegalArgumentException("Error loading class " + className, e1);
         }
     }
 
diff --git a/tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/AbstractGeneratorMojo.java b/tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/AbstractGeneratorMojo.java
index 884ef3c104b..56021b819a4 100644
--- a/tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/AbstractGeneratorMojo.java
+++ b/tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/AbstractGeneratorMojo.java
@@ -72,7 +72,7 @@ public abstract class AbstractGeneratorMojo extends AbstractMojo {
     @Parameter(required = true, defaultValue = "${project}", readonly = true)
     protected MavenProject project;
 
-    private ClassLoader projectClassLoader;
+    protected ClassLoader projectClassLoader;
 
     // Thread-safe deferred-construction singleton via nested static class
     private static class VelocityEngineHolder {
diff --git a/tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/JavaSourceApiMethodGeneratorMojo.java b/tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/JavaSourceApiMethodGeneratorMojo.java
index d76aac32d53..2a42fd7472d 100644
--- a/tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/JavaSourceApiMethodGeneratorMojo.java
+++ b/tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/JavaSourceApiMethodGeneratorMojo.java
@@ -96,7 +96,7 @@ public class JavaSourceApiMethodGeneratorMojo extends AbstractApiMethodGenerator
                     break;
                 }
 
-                parser = new JavaSourceParser();
+                parser = new JavaSourceParser(projectClassLoader);
                 parser.parse(inputStream, nestedClass, includeSetters != null && includeSetters);
             } catch (Exception e) {
                 throw new MojoExecutionException(e.getMessage(), e);
diff --git a/tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/JavaSourceParser.java b/tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/JavaSourceParser.java
index 03141b574df..35f2cc7afcc 100644
--- a/tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/JavaSourceParser.java
+++ b/tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/JavaSourceParser.java
@@ -38,6 +38,7 @@ import org.jboss.forge.roaster.model.source.MethodSource;
 import org.jboss.forge.roaster.model.source.ParameterSource;
 import org.jboss.forge.roaster.model.source.PropertySource;
 import org.jboss.forge.roaster.model.source.TypeVariableSource;
+import org.jboss.forge.roaster.model.util.Types;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
 
@@ -71,6 +72,12 @@ public class JavaSourceParser {
     private final Map<String, Map<String, String>> setterMethods = new LinkedHashMap<>();
     private final Map<String, Map<String, String>> setterDocs = new LinkedHashMap<>();
 
+    private final ClassLoader classLoader;
+
+    public JavaSourceParser(ClassLoader classLoader) {
+        this.classLoader = classLoader;
+    }
+
     public void parse(InputStream in, String innerClass) throws IOException {
         parse(new String(in.readAllBytes()), innerClass, false);
     }
@@ -128,7 +135,7 @@ public class JavaSourceParser {
                 methodDocs.put(ms.getName(), doc);
             }
 
-            String result = resolveParameterizedType(rootClazz, clazz, ms, null, ms.getReturnType());
+            String result = resolveParameterizedType(rootClazz, clazz, ms, null, ms.getReturnType(), classLoader);
             if (result.isEmpty()) {
                 result = "void";
             }
@@ -144,7 +151,7 @@ public class JavaSourceParser {
             for (int i = 0; i < list.size(); i++) {
                 ParameterSource ps = list.get(i);
                 String name = ps.getName();
-                String type = resolveParameterizedType(rootClazz, clazz, ms, ps, ps.getType());
+                String type = resolveParameterizedType(rootClazz, clazz, ms, ps, ps.getType(), classLoader);
                 LOG.trace("Parsing parameter #{} ({} {})", i, type, name);
 
                 sb.append(type);
@@ -231,8 +238,8 @@ public class JavaSourceParser {
 
     private static String resolveParameterizedType(
             AbstractGenericCapableJavaSource rootClazz, AbstractGenericCapableJavaSource clazz, MethodSource ms,
-            ParameterSource ps, Type type) {
-        String answer = resolveType(rootClazz, clazz, ms, type);
+            ParameterSource ps, Type type, ClassLoader classLoader) {
+        String answer = resolveType(rootClazz, clazz, ms, type, classLoader);
 
         if (type.isParameterized()) {
             // for parameterized types then it can get complex if they are variables (T, T extends Foo etc)
@@ -333,7 +340,8 @@ public class JavaSourceParser {
     }
 
     private static String resolveType(
-            AbstractGenericCapableJavaSource rootClazz, AbstractGenericCapableJavaSource clazz, MethodSource ms, Type type) {
+            AbstractGenericCapableJavaSource rootClazz, AbstractGenericCapableJavaSource clazz, MethodSource ms, Type type,
+            ClassLoader classLoader) {
         String name = type.getName();
         // if the type is from a type variable (eg T extends Foo generic style)
         // then the type should be returned as-is
@@ -345,7 +353,7 @@ public class JavaSourceParser {
             return type.getName();
         }
 
-        String answer = resolveType(rootClazz, clazz, name);
+        String answer = resolveType(rootClazz, clazz, name, classLoader);
         List<Type> types = type.getTypeArguments();
         if (!types.isEmpty()) {
             if (type.isArray()) {
@@ -353,7 +361,7 @@ public class JavaSourceParser {
             } else {
                 StringJoiner sj = new StringJoiner(", ");
                 for (Type arg : types) {
-                    sj.add(resolveType(rootClazz, clazz, ms, arg));
+                    sj.add(resolveType(rootClazz, clazz, ms, arg, classLoader));
                 }
                 answer = answer + "<" + sj + ">";
             }
@@ -361,7 +369,8 @@ public class JavaSourceParser {
         return answer;
     }
 
-    private static String resolveType(AbstractJavaSource rootClazz, AbstractJavaSource clazz, String type) {
+    private static String resolveType(
+            AbstractJavaSource rootClazz, AbstractJavaSource clazz, String type, ClassLoader classLoader) {
         if ("void".equals(type)) {
             return "void";
         }
@@ -408,6 +417,19 @@ public class JavaSourceParser {
         if (resolvedType.equals(type)) {
             resolvedType = rootClazz.resolveType(type);
         }
+        if (Types.isQualified(resolvedType)) {
+            try {
+                Class.forName(resolvedType, true, classLoader);
+            } catch (ClassNotFoundException e) {
+                // Fallback to package if by any chance the previous parsing
+                // returned some type which does not exist in the classpath.
+                // It's a workaround for bug https://github.com/forge/roaster/issues/223
+                String fallbackType = clazz.getPackage() + "." + type;
+                LOG.info("Class not found for type {}, using instead {}", resolvedType, fallbackType);
+                resolvedType = fallbackType;
+            }
+        }
+
         return resolvedType;
     }
 
diff --git a/tooling/maven/camel-api-component-maven-plugin/src/test/java/org/apache/camel/maven/JavaSourceParserTest.java b/tooling/maven/camel-api-component-maven-plugin/src/test/java/org/apache/camel/maven/JavaSourceParserTest.java
index f8bda82d1a4..8cb3dbf8e22 100644
--- a/tooling/maven/camel-api-component-maven-plugin/src/test/java/org/apache/camel/maven/JavaSourceParserTest.java
+++ b/tooling/maven/camel-api-component-maven-plugin/src/test/java/org/apache/camel/maven/JavaSourceParserTest.java
@@ -29,7 +29,7 @@ public class JavaSourceParserTest {
 
     @Test
     public void testGetMethodsAddress() throws Exception {
-        final JavaSourceParser parser = new JavaSourceParser();
+        final JavaSourceParser parser = new JavaSourceParser(this.getClass().getClassLoader());
 
         parser.parse(JavaSourceParserTest.class.getResourceAsStream("/AddressGateway.java"), null);
         assertEquals(4, parser.getMethodSignatures().size());
@@ -44,7 +44,7 @@ public class JavaSourceParserTest {
 
     @Test
     public void testGetMethodsCustomer() throws Exception {
-        final JavaSourceParser parser = new JavaSourceParser();
+        final JavaSourceParser parser = new JavaSourceParser(this.getClass().getClassLoader());
 
         parser.parse(JavaSourceParserTest.class.getResourceAsStream("/CustomerGateway.java"), null);
         assertEquals(7, parser.getMethodSignatures().size());
@@ -58,7 +58,7 @@ public class JavaSourceParserTest {
 
     @Test
     public void testGetMethodsDispute() throws Exception {
-        final JavaSourceParser parser = new JavaSourceParser();
+        final JavaSourceParser parser = new JavaSourceParser(this.getClass().getClassLoader());
 
         parser.parse(JavaSourceParserTest.class.getResourceAsStream("/DisputeGateway.java"), null);
         assertEquals(9, parser.getMethodSignatures().size());
@@ -75,7 +75,7 @@ public class JavaSourceParserTest {
 
     @Test
     public void testWildcard() throws Exception {
-        final JavaSourceParser parser = new JavaSourceParser();
+        final JavaSourceParser parser = new JavaSourceParser(this.getClass().getClassLoader());
 
         parser.parse(new FileInputStream("src/test/java/org/apache/camel/component/test/TestProxy.java"), null);
         assertEquals(11, parser.getMethodSignatures().size());
@@ -88,7 +88,7 @@ public class JavaSourceParserTest {
 
     @Test
     public void testNested() throws Exception {
-        final JavaSourceParser parser = new JavaSourceParser();
+        final JavaSourceParser parser = new JavaSourceParser(this.getClass().getClassLoader());
 
         parser.parse(new FileInputStream("src/test/java/org/apache/camel/component/test/NestedProxy.java"), "Order");
         assertEquals(1, parser.getMethodSignatures().size());
@@ -102,7 +102,7 @@ public class JavaSourceParserTest {
 
     @Test
     public void testClassJavadoc() throws Exception {
-        final JavaSourceParser parser = new JavaSourceParser();
+        final JavaSourceParser parser = new JavaSourceParser(this.getClass().getClassLoader());
 
         parser.parse(JavaSourceParserTest.class.getResourceAsStream("/DisputeGateway.java"), null);
 
@@ -118,7 +118,7 @@ public class JavaSourceParserTest {
 
     @Test
     public void testMethodJavadoc() throws Exception {
-        final JavaSourceParser parser = new JavaSourceParser();
+        final JavaSourceParser parser = new JavaSourceParser(this.getClass().getClassLoader());
 
         parser.parse(JavaSourceParserTest.class.getResourceAsStream("/DisputeGateway.java"), null);
 
