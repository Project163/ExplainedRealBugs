diff --git a/core/camel-main/src/main/java/org/apache/camel/main/BaseMainSupport.java b/core/camel-main/src/main/java/org/apache/camel/main/BaseMainSupport.java
index 025ca82832b..bb44dcbef36 100644
--- a/core/camel-main/src/main/java/org/apache/camel/main/BaseMainSupport.java
+++ b/core/camel-main/src/main/java/org/apache/camel/main/BaseMainSupport.java
@@ -417,6 +417,9 @@ public abstract class BaseMainSupport extends BaseService {
                 }
             });
         }
+
+        // we are now done with the main helper during bootstrap
+        camelContext.adapt(ExtendedCamelContext.class).addBootstrap(MainHelper::bootstrapDone);
     }
 
     protected void configureStartupRecorder(CamelContext camelContext) {
diff --git a/core/camel-main/src/main/java/org/apache/camel/main/MainHelper.java b/core/camel-main/src/main/java/org/apache/camel/main/MainHelper.java
index 00474b8436b..62c3cdaff83 100644
--- a/core/camel-main/src/main/java/org/apache/camel/main/MainHelper.java
+++ b/core/camel-main/src/main/java/org/apache/camel/main/MainHelper.java
@@ -481,6 +481,13 @@ public final class MainHelper {
     private MainHelper() {
     }
 
+    public static void bootstrapDone() {
+        // after bootstrap then these maps are no longer needed
+        COMPONENT_ENV_NAMES.clear();
+        DATAFORMAT_ENV_NAMES.clear();
+        LANGUAGE_ENV_NAMES.clear();
+    }
+
     public static String toEnvVar(String name) {
         return name.toUpperCase(Locale.US).replaceAll("[^\\w]", "-").replace('-', '_');
     }
