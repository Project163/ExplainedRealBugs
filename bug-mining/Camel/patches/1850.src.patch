diff --git a/components/camel-bam/pom.xml b/components/camel-bam/pom.xml
index 88d47c4dd00..ed416db3079 100644
--- a/components/camel-bam/pom.xml
+++ b/components/camel-bam/pom.xml
@@ -189,8 +189,9 @@
           <plugin>
 
             <!-- Will enhance classes as we run in a non J2EE 5 env <plugin> -->
-            <groupId>org.codehaus.mojo</groupId>
+            <groupId>org.apache.openjpa</groupId>
             <artifactId>openjpa-maven-plugin</artifactId>
+            <version>${openjpa-version}</version>
             <executions>
               <execution>
                 <id>JPA Enhance</id>
@@ -224,18 +225,7 @@
         <dependency>
           <groupId>org.apache.openjpa</groupId>
           <artifactId>openjpa</artifactId>
-          <!--
-            Can't be used as we have this error : Caused by:
-            <openjpa-1.2.1-r752877:753278 nonfatal general error>
-            it is same with openjpa-1.2.2
-            org.apache.openjpa.persistence.PersistenceException: Constraint
-            already exists: UNQ_NAME in statement [CREATE TABLE
-            CAMEL_PROCESSDEFINITION (id BIGINT NOT NULL, name VARCHAR(255) NOT
-            NULL, PRIMARY KEY (id), CONSTRAINT UNQ_name UNIQUE (name))] and
-            solved in openJpa 1.3.0-SNAPSHOT, as we are heading to camel 2.2.2 release
-            I change the version to lastest released openjpa 
-          -->
-          <version>1.2.2</version>
+          <version>${openjpa-version}</version>
           <scope>test</scope>
         </dependency>
         <dependency>
@@ -243,11 +233,11 @@
           <artifactId>hsqldb</artifactId>
           <scope>test</scope>
         </dependency>
-        <dependency>
-          <groupId>org.apache.derby</groupId>
-          <artifactId>derby</artifactId>
-          <scope>test</scope>
-        </dependency>
+        <!--<dependency>-->
+          <!--<groupId>org.apache.derby</groupId>-->
+          <!--<artifactId>derby</artifactId>-->
+          <!--<scope>test</scope>-->
+        <!--</dependency>-->
       </dependencies>
     </profile>
   </profiles>
diff --git a/components/camel-bam/src/main/java/org/apache/camel/bam/ActivityBuilder.java b/components/camel-bam/src/main/java/org/apache/camel/bam/ActivityBuilder.java
index a3e843cd6cd..c64de95bbdb 100644
--- a/components/camel-bam/src/main/java/org/apache/camel/bam/ActivityBuilder.java
+++ b/components/camel-bam/src/main/java/org/apache/camel/bam/ActivityBuilder.java
@@ -29,10 +29,11 @@ import org.apache.camel.bam.rules.ActivityRules;
  * @version 
  */
 public class ActivityBuilder {
-    private ProcessBuilder processBuilder;
-    private Endpoint endpoint;
-    private ActivityRules activityRules;
+    private final ProcessBuilder processBuilder;
+    private final Endpoint endpoint;
+    private final ActivityRules activityRules;
     private Expression correlationExpression;
+    private volatile Processor processor;
 
     public ActivityBuilder(ProcessBuilder processBuilder, Endpoint endpoint) {
         this.processBuilder = processBuilder;
@@ -52,8 +53,10 @@ public class ActivityBuilder {
     /**
      * Returns the processor of the route
      */
-    public Processor getProcessor() throws Exception {
-        Processor processor = createProcessor();
+    public synchronized Processor getProcessor() throws Exception {
+        if (processor == null) {
+            processor = createProcessor();
+        }
         if (processor == null) {
             throw new IllegalArgumentException("No processor created for ActivityBuilder: " + this);
         }
diff --git a/components/camel-bam/src/main/java/org/apache/camel/bam/ProcessBuilder.java b/components/camel-bam/src/main/java/org/apache/camel/bam/ProcessBuilder.java
index 22d9ea0ad91..aec8681df30 100644
--- a/components/camel-bam/src/main/java/org/apache/camel/bam/ProcessBuilder.java
+++ b/components/camel-bam/src/main/java/org/apache/camel/bam/ProcessBuilder.java
@@ -50,10 +50,10 @@ public abstract class ProcessBuilder extends RouteBuilder {
     private JpaTemplate jpaTemplate;
     private TransactionTemplate transactionTemplate;
     private String processName;
-    private List<ActivityBuilder> activityBuilders = new ArrayList<ActivityBuilder>();
+    private final List<ActivityBuilder> activityBuilders = new ArrayList<ActivityBuilder>();
     private Class<ProcessInstance> entityType = ProcessInstance.class;
-    private ProcessRules processRules = new ProcessRules();
-    private ProcessDefinition processDefinition;
+    private final ProcessRules processRules = new ProcessRules();
+    private volatile ProcessDefinition processDefinition;
     private ActivityMonitorEngine engine;
 
     protected ProcessBuilder() {
@@ -138,7 +138,7 @@ public abstract class ProcessBuilder extends RouteBuilder {
         return processName;
     }
 
-    public ProcessDefinition getProcessDefinition() {
+    public synchronized ProcessDefinition getProcessDefinition() {
         if (processDefinition == null) {
             processDefinition = findOrCreateProcessDefinition();
         }
diff --git a/components/camel-bam/src/test/profiles/openjpa/META-INF/persistence.xml b/components/camel-bam/src/test/profiles/openjpa/META-INF/persistence.xml
index 50dfb3bd722..4064d61e68e 100644
--- a/components/camel-bam/src/test/profiles/openjpa/META-INF/persistence.xml
+++ b/components/camel-bam/src/test/profiles/openjpa/META-INF/persistence.xml
@@ -16,7 +16,7 @@
 -->
 <persistence xmlns="http://java.sun.com/xml/ns/persistence"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-             version="1.0">
+             version="2.0">
 
   <persistence-unit name="bam" transaction-type="RESOURCE_LOCAL">
     <class>org.apache.camel.bam.model.ActivityDefinition</class>
@@ -26,20 +26,19 @@
 
     <properties>
       
-      <!-- Derby DB 
-      <property name="openjpa.ConnectionURL" value="jdbc:derby:target/bamTest;create=true"/>
-      <property name="openjpa.ConnectionDriverName" value="org.apache.derby.jdbc.EmbeddedDriver"/>
-      <property name="openjpa.Log" value="DefaultLevel=INFO, Tool=INFO, Runtime=TRACE, SQL=TRACE"/>
-      <property name="openjpa.jdbc.SynchronizeMappings" value="buildSchema" /> 
-      -->
-      
+      <!-- Derby DB -->
+      <!--<property name="openjpa.ConnectionURL" value="jdbc:derby:target/bamTest;create=true"/>-->
+      <!--<property name="openjpa.ConnectionDriverName" value="org.apache.derby.jdbc.EmbeddedDriver"/>-->
+      <!--<property name="openjpa.Log" value="DefaultLevel=INFO, Tool=INFO, Runtime=TRACE, SQL=TRACE"/>-->
+      <!--<property name="openjpa.jdbc.SynchronizeMappings" value="buildSchema" />-->
+
       <!--  HSQL DB -->
-      <property name="openjpa.ConnectionDriverName" value="org.hsqldb.jdbcDriver" />
-	  <property name="openjpa.ConnectionURL" value="jdbc:hsqldb:target/bamTest" />
+      <property name="openjpa.ConnectionDriverName" value="org.hsqldb.jdbcDriver"/>
+      <property name="openjpa.ConnectionURL" value="jdbc:hsqldb:target/bamTest"/>
       <property name="openjpa.Log" value="commons"/>
-	  <property name="openjpa.ConnectionUserName" value="sa" />
-	  <property name="openjpa.ConnectionPassword" value="" />
-      <property name="openjpa.jdbc.SynchronizeMappings" value="buildSchema" />
+      <property name="openjpa.ConnectionUserName" value="sa"/>
+      <property name="openjpa.ConnectionPassword" value=""/>
+      <property name="openjpa.jdbc.SynchronizeMappings" value="buildSchema"/>
 
     </properties>
   </persistence-unit>
diff --git a/components/camel-bam/src/test/profiles/openjpa/META-INF/spring/spring.xml b/components/camel-bam/src/test/profiles/openjpa/META-INF/spring/spring.xml
index c10161fe9c9..f975f9eea01 100644
--- a/components/camel-bam/src/test/profiles/openjpa/META-INF/spring/spring.xml
+++ b/components/camel-bam/src/test/profiles/openjpa/META-INF/spring/spring.xml
@@ -36,9 +36,9 @@
 		<property name="jpaVendorAdapter" ref="jpaAdapter"/>
 	</bean>
 	
-    <!-- OpenJPA addapter -->
+    <!-- OpenJPA adapter -->
 	<bean id="jpaAdapter" class="org.springframework.orm.jpa.vendor.OpenJpaVendorAdapter">
 		<property name="databasePlatform" value="org.apache.openjpa.jdbc.sql.HSQLDictionary"/>
-		<property name="database" value="HSQL"/> 
+		<property name="database" value="HSQL"/>
 	</bean>
 </beans>
