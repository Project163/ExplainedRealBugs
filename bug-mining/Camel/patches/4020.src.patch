diff --git a/tests/camel-itest-karaf/run-tests.sh b/tests/camel-itest-karaf/run-tests.sh
index 25f11459ddc..471ac089c0d 100755
--- a/tests/camel-itest-karaf/run-tests.sh
+++ b/tests/camel-itest-karaf/run-tests.sh
@@ -49,7 +49,7 @@ do
     fi 
   fi
 
-  if [ $found -eq 1 ] && [ $testname != "AbstractFeatureTest" ]
+  if [ $found -eq 1 ] && [ $testname != "BaseKarafTest" ]
   then
     echo "*******************************************************************"
     echo "Running test $testname"
diff --git a/tests/camel-itest-osgi/pom.xml b/tests/camel-itest-osgi/pom.xml
index 48a40fb3139..8f4eda39395 100644
--- a/tests/camel-itest-osgi/pom.xml
+++ b/tests/camel-itest-osgi/pom.xml
@@ -36,6 +36,11 @@
       <artifactId>camel-test-karaf</artifactId>
       <scope>test</scope>
     </dependency>
+    <dependency>
+      <groupId>org.apache.camel</groupId>
+      <artifactId>camel-blueprint</artifactId>
+      <scope>test</scope>
+    </dependency>
     <dependency>
       <groupId>org.apache.camel</groupId>
       <artifactId>camel-jackson</artifactId>
diff --git a/tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/issues/DuplicateNamespacePrefixIssueTest.java b/tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/DuplicateNamespacePrefixIssueTest.java
similarity index 89%
rename from tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/issues/DuplicateNamespacePrefixIssueTest.java
rename to tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/DuplicateNamespacePrefixIssueTest.java
index 0e42bf5b3ec..3f5488a9d34 100644
--- a/tests/camel-itest-karaf/src/test/java/org/apache/camel/itest/karaf/issues/DuplicateNamespacePrefixIssueTest.java
+++ b/tests/camel-itest-osgi/src/test/java/org/apache/camel/itest/DuplicateNamespacePrefixIssueTest.java
@@ -14,7 +14,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package org.apache.camel.itest.karaf.issues;
+package org.apache.camel.itest;
 
 import java.io.ByteArrayInputStream;
 import java.io.InputStream;
@@ -22,12 +22,14 @@ import java.io.InputStream;
 import org.apache.camel.CamelContext;
 import org.apache.camel.blueprint.BlueprintCamelContext;
 import org.apache.camel.builder.RouteBuilder;
-import org.apache.camel.itest.karaf.BaseKarafTest;
 import org.apache.camel.model.ModelHelper;
 import org.apache.camel.model.RoutesDefinition;
+import org.apache.camel.test.karaf.AbstractFeatureTest;
 import org.junit.Assert;
 import org.junit.Test;
 import org.junit.runner.RunWith;
+import org.ops4j.pax.exam.Configuration;
+import org.ops4j.pax.exam.Option;
 import org.ops4j.pax.exam.junit.PaxExam;
 
 /**
@@ -35,7 +37,7 @@ import org.ops4j.pax.exam.junit.PaxExam;
  */
 
 @RunWith(PaxExam.class)
-public class DuplicateNamespacePrefixIssueTest extends BaseKarafTest {
+public class DuplicateNamespacePrefixIssueTest extends AbstractFeatureTest {
 
     @Test
     public void testRoutesNamespacePrefixesNotDuplicated() throws Exception {
@@ -67,4 +69,9 @@ public class DuplicateNamespacePrefixIssueTest extends BaseKarafTest {
         String expectedRoutesElementXML = "<routes xmlns=\"http://camel.apache.org/schema/spring\">";
         Assert.assertEquals(expectedRoutesElementXML, modifiedRoutesElementXML);
     }
+
+    @Configuration
+    public Option[] configure() {
+        return AbstractFeatureTest.configure();
+    }
 }
