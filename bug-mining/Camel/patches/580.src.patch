diff --git a/camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java b/camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java
index e6ac4086d35..5791de5cc41 100644
--- a/camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java
+++ b/camel-core/src/main/java/org/apache/camel/builder/DeadLetterChannelBuilder.java
@@ -40,7 +40,7 @@ import org.apache.commons.logging.LogFactory;
  * @version $Revision$
  */
 public class DeadLetterChannelBuilder extends ErrorHandlerBuilderSupport {
-    private Logger logger = DeadLetterChannel.createDefaultLogger();
+    private Logger logger = new Logger(LogFactory.getLog(DeadLetterChannel.class), LoggingLevel.ERROR);
     private ExceptionPolicyStrategy exceptionPolicyStrategy = ErrorHandlerSupport.createDefaultExceptionPolicyStrategy();
     private RedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();
     private Processor onRedelivery;
@@ -81,6 +81,10 @@ public class DeadLetterChannelBuilder extends ErrorHandlerBuilderSupport {
         return answer;
     }
 
+    public boolean supportTransacted() {
+        return false;
+    }
+
     // Builder methods
     // -------------------------------------------------------------------------
     public DeadLetterChannelBuilder backOffMultiplier(double backOffMultiplier) {
diff --git a/camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java b/camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java
index 622cfb078d7..7eb8eff3e3d 100644
--- a/camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java
+++ b/camel-core/src/main/java/org/apache/camel/builder/DefaultErrorHandlerBuilder.java
@@ -27,6 +27,10 @@ import org.apache.camel.spi.RouteContext;
  */
 public class DefaultErrorHandlerBuilder extends ErrorHandlerBuilderSupport {
 
+    public boolean supportTransacted() {
+        return false;
+    }
+
     public Processor createErrorHandler(RouteContext routeContext, Processor processor) {
         DefaultErrorHandler answer = new DefaultErrorHandler(processor, getExceptionPolicyStrategy());
         configure(answer);
diff --git a/camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilder.java b/camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilder.java
index aa849328744..a4dc4111298 100644
--- a/camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilder.java
+++ b/camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilder.java
@@ -20,6 +20,7 @@ import java.util.List;
 
 import org.apache.camel.Processor;
 import org.apache.camel.model.OnExceptionDefinition;
+import org.apache.camel.processor.ErrorHandler;
 import org.apache.camel.processor.exceptionpolicy.ExceptionPolicyStrategy;
 import org.apache.camel.spi.RouteContext;
 
@@ -71,4 +72,16 @@ public interface ErrorHandlerBuilder {
      * @param exceptionPolicyStrategy  the exception policy strategy
      */
     void setExceptionPolicyStrategy(ExceptionPolicyStrategy exceptionPolicyStrategy);
+
+    /**
+     * Whether this error handler supports transacted exchanges.
+     */
+    boolean supportTransacted();
+
+    /**
+     * Configures the other error handler based on this error handler.
+     *
+     * @param handler the other error handler
+     */
+    void configure(ErrorHandler handler);
 }
diff --git a/camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilderRef.java b/camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilderRef.java
index df76d8855b4..aff7567cfa8 100644
--- a/camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilderRef.java
+++ b/camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilderRef.java
@@ -32,6 +32,7 @@ public class ErrorHandlerBuilderRef extends ErrorHandlerBuilderSupport {
     public static final String DEFAULT_ERROR_HANDLER_BUILDER = "CamelDefaultErrorHandlerBuilder";
     private final String ref;
     private ErrorHandlerBuilder handler;
+    private boolean supportTransacted;
 
     public ErrorHandlerBuilderRef(String ref) {
         this.ref = ref;
@@ -65,6 +66,10 @@ public class ErrorHandlerBuilderRef extends ErrorHandlerBuilderSupport {
         return !DEFAULT_ERROR_HANDLER_BUILDER.equals(getRef());
     }
 
+    public boolean supportTransacted() {
+        return supportTransacted;
+    }
+
     public ErrorHandlerBuilder lookupErrorHandlerBuilder(RouteContext routeContext) {
         if (handler == null) {
             // if the ref is the default then the we do not have any explicit error handler configured
@@ -95,6 +100,10 @@ public class ErrorHandlerBuilderRef extends ErrorHandlerBuilderSupport {
             }
 
             ObjectHelper.notNull(handler, "error handler '" + ref + "'");
+
+            // configure if the handler support transacted
+            supportTransacted = handler.supportTransacted();
+
             List<OnExceptionDefinition> list = getErrorHandlers();
             for (OnExceptionDefinition exceptionType : list) {
                 handler.addErrorHandlers(exceptionType);
diff --git a/camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilderSupport.java b/camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilderSupport.java
index aa8d7e3b549..97d6c5effeb 100644
--- a/camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilderSupport.java
+++ b/camel-core/src/main/java/org/apache/camel/builder/ErrorHandlerBuilderSupport.java
@@ -20,6 +20,7 @@ import java.util.ArrayList;
 import java.util.List;
 
 import org.apache.camel.model.OnExceptionDefinition;
+import org.apache.camel.processor.ErrorHandler;
 import org.apache.camel.processor.ErrorHandlerSupport;
 import org.apache.camel.processor.exceptionpolicy.ExceptionPolicyStrategy;
 
@@ -39,9 +40,13 @@ public abstract class ErrorHandlerBuilderSupport implements ErrorHandlerBuilder
         }
     }
 
-    public void configure(ErrorHandlerSupport handler) {
-        for (OnExceptionDefinition exception : exceptions) {
-            handler.addExceptionPolicy(exception);
+    public void configure(ErrorHandler handler) {
+        if (handler instanceof ErrorHandlerSupport) {
+            ErrorHandlerSupport handlerSupport = (ErrorHandlerSupport) handler;
+
+            for (OnExceptionDefinition exception : exceptions) {
+                handlerSupport.addExceptionPolicy(exception);
+            }
         }
     }
 
diff --git a/camel-core/src/main/java/org/apache/camel/builder/LoggingErrorHandlerBuilder.java b/camel-core/src/main/java/org/apache/camel/builder/LoggingErrorHandlerBuilder.java
index 1b8d03b2289..e9e3bbc0040 100644
--- a/camel-core/src/main/java/org/apache/camel/builder/LoggingErrorHandlerBuilder.java
+++ b/camel-core/src/main/java/org/apache/camel/builder/LoggingErrorHandlerBuilder.java
@@ -45,6 +45,10 @@ public class LoggingErrorHandlerBuilder extends ErrorHandlerBuilderSupport {
         this.level = level;
     }
 
+    public boolean supportTransacted() {
+        return false;
+    }
+
     public Processor createErrorHandler(final RouteContext routeContext, final Processor processor) {
         LoggingErrorHandler handler = new LoggingErrorHandler(processor, log, level);
         configure(handler);
diff --git a/camel-core/src/main/java/org/apache/camel/builder/NoErrorHandlerBuilder.java b/camel-core/src/main/java/org/apache/camel/builder/NoErrorHandlerBuilder.java
index 7574bb23665..f6ae65c1042 100644
--- a/camel-core/src/main/java/org/apache/camel/builder/NoErrorHandlerBuilder.java
+++ b/camel-core/src/main/java/org/apache/camel/builder/NoErrorHandlerBuilder.java
@@ -33,4 +33,8 @@ public class NoErrorHandlerBuilder extends ErrorHandlerBuilderSupport {
     public Processor createErrorHandler(RouteContext routeContext, Processor processor) {
         return processor;
     }
+
+    public boolean supportTransacted() {
+        return false;
+    }
 }
diff --git a/camel-core/src/main/java/org/apache/camel/model/TransactedDefinition.java b/camel-core/src/main/java/org/apache/camel/model/TransactedDefinition.java
index aa19b6d6b94..dd6fb4511d3 100644
--- a/camel-core/src/main/java/org/apache/camel/model/TransactedDefinition.java
+++ b/camel-core/src/main/java/org/apache/camel/model/TransactedDefinition.java
@@ -148,15 +148,16 @@ public class TransactedDefinition extends OutputDefinition<ProcessorDefinition>
 
     @SuppressWarnings("unchecked")
     protected static Policy doResolvePolicy(RouteContext routeContext, String ref, Class<? extends Policy> type) {
-        Policy answer = null;
-
-        // try ref first
+        // explicit ref given so lookup by it
         if (ObjectHelper.isNotEmpty(ref)) {
-            answer = routeContext.lookup(ref, Policy.class);
+            return routeContext.lookup(ref, Policy.class);
         }
 
+        // no explicit reference given from user so we can use some convention over configuration here
+
         // try to lookup by scoped type
-        if (answer == null && type != null) {
+        Policy answer = null;
+        if (type != null) {
             // try find by type, note that this method is not supported by all registry
             Map types = routeContext.lookupByType(type);
             if (types.size() == 1) {
@@ -169,12 +170,12 @@ public class TransactedDefinition extends OutputDefinition<ProcessorDefinition>
         }
 
         // for transacted routing try the default REQUIRED name
-        if (answer == null && type == TransactedPolicy.class) {
+        if (type == TransactedPolicy.class) {
             // still not found try with the default name PROPAGATION_REQUIRED
             answer = routeContext.lookup(PROPAGATION_REQUIRED, TransactedPolicy.class);
         }
 
-        // no policy then try lookup the platform transaction manager and use it as policy
+        // still no policy found then try lookup the platform transaction manager and use it as policy
         if (answer == null && type == TransactedPolicy.class) {
             Class tmClazz = routeContext.getCamelContext().getClassResolver().resolveClass("org.springframework.transaction.PlatformTransactionManager");
             if (tmClazz != null) {
diff --git a/camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java b/camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java
index 75068503a01..341ed4b2587 100644
--- a/camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java
+++ b/camel-core/src/main/java/org/apache/camel/processor/DeadLetterChannel.java
@@ -34,8 +34,6 @@ import org.apache.camel.util.AsyncProcessorHelper;
 import org.apache.camel.util.ExchangeHelper;
 import org.apache.camel.util.MessageHelper;
 import org.apache.camel.util.ServiceHelper;
-import org.apache.commons.logging.Log;
-import org.apache.commons.logging.LogFactory;
 
 /**
  * Implements a <a
@@ -46,7 +44,6 @@ import org.apache.commons.logging.LogFactory;
  * @version $Revision$
  */
 public class DeadLetterChannel extends ErrorHandlerSupport implements AsyncProcessor {
-    private static final transient Log LOG = LogFactory.getLog(DeadLetterChannel.class);
 
     // we can use a single shared static timer for async redeliveries
     private static final Timer REDELIVER_TIMER = new Timer("Camel DeadLetterChannel Redeliver Timer", true);
@@ -128,33 +125,33 @@ public class DeadLetterChannel extends ErrorHandlerSupport implements AsyncProce
         setExceptionPolicy(exceptionPolicyStrategy);
     }
 
-    public static Logger createDefaultLogger() {
-        return new Logger(LOG, LoggingLevel.ERROR);
-    }
-
     @Override
     public String toString() {
         return "DeadLetterChannel[" + output + ", " + (deadLetterUri != null ? deadLetterUri : deadLetter) + "]";
     }
 
+    public boolean supportTransacted() {
+        return false;
+    }
+
     public void process(Exchange exchange) throws Exception {
         AsyncProcessorHelper.process(this, exchange);
     }
 
     public boolean process(Exchange exchange, final AsyncCallback callback) {
-        return process(exchange, callback, new RedeliveryData());
+        return processErrorHandler(exchange, callback, new RedeliveryData());
     }
 
     /**
-     * Processes the exchange using decorated with this dead letter channel.
+     * Processes the exchange decorated with this dead letter channel.
      */
-    protected boolean process(final Exchange exchange, final AsyncCallback callback, final RedeliveryData data) {
+    protected boolean processErrorHandler(final Exchange exchange, final AsyncCallback callback, final RedeliveryData data) {
 
         while (true) {
             // we can't keep retrying if the route is being shutdown.
             if (!isRunAllowed()) {
-                if (LOG.isDebugEnabled()) {
-                    LOG.debug("Rejected execution as we are not started for exchange: " + exchange);
+                if (log.isDebugEnabled()) {
+                    log.debug("Rejected execution as we are not started for exchange: " + exchange);
                 }
                 if (exchange.getException() == null) {
                     exchange.setException(new RejectedExecutionException());
@@ -163,12 +160,11 @@ public class DeadLetterChannel extends ErrorHandlerSupport implements AsyncProce
                 return data.sync;
             }
 
-            // if the exchange is transacted then let the underlying system handle the redelivery etc.
-            // this DeadLetterChannel is only for non transacted exchanges
-            // TODO: Should be possible to remove with Claus got the TX error handler sorted
-            if (exchange.isTransacted() && exchange.getException() != null) {
-                if (LOG.isDebugEnabled()) {
-                    LOG.debug("This is a transacted exchange, bypassing this DeadLetterChannel: " + this + " for exchange: " + exchange);
+            // do not handle transacted exchanges that failed as this error handler does not support it
+            if (exchange.isTransacted() && !supportTransacted() && exchange.getException() != null) {
+                if (log.isDebugEnabled()) {
+                    log.debug("This error handler does not support transacted exchanges."
+                        + " Bypassing this error handler: " + this + " for exchangeId: " + exchange.getExchangeId());
                 }
                 return data.sync;
             }
@@ -192,7 +188,7 @@ public class DeadLetterChannel extends ErrorHandlerSupport implements AsyncProce
                 try {
                     data.redeliveryDelay = data.currentRedeliveryPolicy.sleep(data.redeliveryDelay, data.redeliveryCounter);
                 } catch (InterruptedException e) {
-                    LOG.debug("Sleep interrupted, are we stopping? " + (isStopping() || isStopped()));
+                    log.debug("Sleep interrupted, are we stopping? " + (isStopping() || isStopped()));
                     // continue from top
                     continue;
                 }
@@ -243,15 +239,15 @@ public class DeadLetterChannel extends ErrorHandlerSupport implements AsyncProce
             return;
         }
 
-        // if the exchange is transacted then let the underlying system handle the redelivery etc.
-        // this DeadLetterChannel is only for non transacted exchanges
-        if (exchange.isTransacted() && exchange.getException() != null) {
-            if (LOG.isDebugEnabled()) {
-                LOG.debug("This is a transacted exchange, bypassing this DeadLetterChannel: " + this + " for exchange: " + exchange);
+        // do not handle transacted exchanges that failed as this error handler does not support it
+        if (exchange.isTransacted() && !supportTransacted() && exchange.getException() != null) {
+            if (log.isDebugEnabled()) {
+                log.debug("This error handler does not support transacted exchanges."
+                    + " Bypassing this error handler: " + this + " for exchangeId: " + exchange.getExchangeId());
             }
             return;
         }
-        
+
         // did previous processing caused an exception?
         if (exchange.getException() != null) {
             handleException(exchange, data);
@@ -312,7 +308,7 @@ public class DeadLetterChannel extends ErrorHandlerSupport implements AsyncProce
     }
 
     /**
-     * Sets the logger strategy; which {@link Log} to use and which
+     * Sets the logger strategy; which {@link com.sun.tools.javac.util.Log} to use and which
      * {@link LoggingLevel} to use
      */
     public void setLogger(Logger logger) {
@@ -377,14 +373,14 @@ public class DeadLetterChannel extends ErrorHandlerSupport implements AsyncProce
             return;
         }
 
-        if (LOG.isTraceEnabled()) {
-            LOG.trace("RedeliveryProcessor " + data.onRedeliveryProcessor + " is processing Exchange: " + exchange + " before its redelivered");
+        if (log.isTraceEnabled()) {
+            log.trace("RedeliveryProcessor " + data.onRedeliveryProcessor + " is processing Exchange: " + exchange + " before its redelivered");
         }
 
         AsyncProcessor afp = AsyncProcessorTypeConverter.convert(data.onRedeliveryProcessor);
         afp.process(exchange, new AsyncCallback() {
             public void done(boolean sync) {
-                LOG.trace("Redelivery processor done");
+                log.trace("Redelivery processor done");
                 // do NOT call done on callback as this is the redelivery processor that
                 // is done. we should not mark the entire exchange as done.
             }
@@ -405,7 +401,7 @@ public class DeadLetterChannel extends ErrorHandlerSupport implements AsyncProce
         AsyncProcessor afp = AsyncProcessorTypeConverter.convert(data.failureProcessor);
         boolean sync = afp.process(exchange, new AsyncCallback() {
             public void done(boolean sync) {
-                LOG.trace("Fault processor done");
+                log.trace("Fault processor done");
                 prepareExchangeForFailure(exchange, data.handledPredicate);
                 callback.done(data.sync);
             }
@@ -420,14 +416,14 @@ public class DeadLetterChannel extends ErrorHandlerSupport implements AsyncProce
 
     private void prepareExchangeForFailure(Exchange exchange, Predicate handledPredicate) {
         if (handledPredicate == null || !handledPredicate.matches(exchange)) {
-            if (LOG.isDebugEnabled()) {
-                LOG.debug("This exchange is not handled so its marked as failed: " + exchange);
+            if (log.isDebugEnabled()) {
+                log.debug("This exchange is not handled so its marked as failed: " + exchange);
             }
             // exception not handled, put exception back in the exchange
             exchange.setException(exchange.getProperty(Exchange.EXCEPTION_CAUGHT, Exception.class));
         } else {
-            if (LOG.isDebugEnabled()) {
-                LOG.debug("This exchange is handled so its marked as not failed: " + exchange);
+            if (log.isDebugEnabled()) {
+                log.debug("This exchange is handled so its marked as not failed: " + exchange);
             }
             exchange.setProperty(Exchange.EXCEPTION_HANDLED, Boolean.TRUE);
         }
diff --git a/camel-core/src/main/java/org/apache/camel/processor/DefaultErrorHandler.java b/camel-core/src/main/java/org/apache/camel/processor/DefaultErrorHandler.java
index fe699dbfcd2..39d39d4bc22 100644
--- a/camel-core/src/main/java/org/apache/camel/processor/DefaultErrorHandler.java
+++ b/camel-core/src/main/java/org/apache/camel/processor/DefaultErrorHandler.java
@@ -28,8 +28,6 @@ import org.apache.camel.util.AsyncProcessorHelper;
 import org.apache.camel.util.ExchangeHelper;
 import org.apache.camel.util.MessageHelper;
 import org.apache.camel.util.ServiceHelper;
-import org.apache.commons.logging.Log;
-import org.apache.commons.logging.LogFactory;
 
 /**
  * Default error handler
@@ -37,18 +35,20 @@ import org.apache.commons.logging.LogFactory;
  * @version $Revision$
  */
 public class DefaultErrorHandler extends ErrorHandlerSupport implements AsyncProcessor {
-
-    private static final transient Log LOG = LogFactory.getLog(DefaultErrorHandler.class);
-    private AsyncProcessor outputAsync;
+    private AsyncProcessor output;
 
     public DefaultErrorHandler(Processor output, ExceptionPolicyStrategy exceptionPolicyStrategy) {
-        this.outputAsync = AsyncProcessorTypeConverter.convert(output);
+        this.output = AsyncProcessorTypeConverter.convert(output);
         setExceptionPolicy(exceptionPolicyStrategy);
     }
 
     @Override
     public String toString() {
-        return "DefaultErrorHandler[" + outputAsync + "]";
+        return "DefaultErrorHandler[" + output + "]";
+    }
+
+    public boolean supportTransacted() {
+        return false;
     }
 
     public void process(Exchange exchange) throws Exception {
@@ -56,12 +56,22 @@ public class DefaultErrorHandler extends ErrorHandlerSupport implements AsyncPro
     }
 
     public boolean process(final Exchange exchange, final AsyncCallback callback) {
-        return outputAsync.process(exchange, new AsyncCallback() {
+        return output.process(exchange, new AsyncCallback() {
             public void done(boolean sync) {
-                if (exchange.getException() != null && !ExchangeHelper.isFailureHandled(exchange)) {
-                    handleException(exchange);
+
+                // do not handle transacted exchanges as this error handler does not support it
+                boolean handle = true;
+                if (exchange.isTransacted() && !supportTransacted()) {
+                    handle = false;
+                    if (log.isDebugEnabled()) {
+                        log.debug("This error handler does not support transacted exchanges."
+                            + " Bypassing this error handler: " + this + " for exchangeId: " + exchange.getExchangeId());
+                    }
                 }
 
+                if (handle && exchange.getException() != null && !ExchangeHelper.isFailureHandled(exchange)) {
+                    handleException(exchange);
+                }
                 callback.done(sync);
             }
         });
@@ -79,11 +89,11 @@ public class DefaultErrorHandler extends ErrorHandlerSupport implements AsyncPro
             Predicate handledPredicate = exceptionPolicy.getHandledPolicy();
 
             Processor processor = exceptionPolicy.getErrorHandler();
+            prepareExchangeBeforeOnException(exchange);
             if (processor != null) {
-                prepareExchangeBeforeOnException(exchange);
                 deliverToFaultProcessor(exchange, processor);
-                prepareExchangeAfterOnException(exchange, handledPredicate);
             }
+            prepareExchangeAfterOnException(exchange, handledPredicate);
         }
     }
 
@@ -102,24 +112,22 @@ public class DefaultErrorHandler extends ErrorHandlerSupport implements AsyncPro
 
     private boolean deliverToFaultProcessor(final Exchange exchange, final Processor failureProcessor) {
         AsyncProcessor afp = AsyncProcessorTypeConverter.convert(failureProcessor);
-        boolean sync = afp.process(exchange, new AsyncCallback() {
+        return afp.process(exchange, new AsyncCallback() {
             public void done(boolean sync) {
             }
         });
-
-        return sync;
     }
 
     private void prepareExchangeAfterOnException(Exchange exchange, Predicate handledPredicate) {
         if (handledPredicate == null || !handledPredicate.matches(exchange)) {
-            if (LOG.isDebugEnabled()) {
-                LOG.debug("This exchange is not handled so its marked as failed: " + exchange);
+            if (log.isDebugEnabled()) {
+                log.debug("This exchange is not handled so its marked as failed: " + exchange);
             }
             // exception not handled, put exception back in the exchange
             exchange.setException(exchange.getProperty(Exchange.EXCEPTION_CAUGHT, Exception.class));
         } else {
-            if (LOG.isDebugEnabled()) {
-                LOG.debug("This exchange is handled so its marked as not failed: " + exchange);
+            if (log.isDebugEnabled()) {
+                log.debug("This exchange is handled so its marked as not failed: " + exchange);
             }
             exchange.setProperty(Exchange.EXCEPTION_HANDLED, Boolean.TRUE);
         }
@@ -129,15 +137,15 @@ public class DefaultErrorHandler extends ErrorHandlerSupport implements AsyncPro
      * Returns the output processor
      */
     public Processor getOutput() {
-        return outputAsync;
+        return output;
     }
 
     protected void doStart() throws Exception {
-        ServiceHelper.startServices(outputAsync);
+        ServiceHelper.startServices(output);
     }
 
     protected void doStop() throws Exception {
-        ServiceHelper.stopServices(outputAsync);
+        ServiceHelper.stopServices(output);
     }
 
 }
diff --git a/camel-core/src/main/java/org/apache/camel/processor/ErrorHandlerSupport.java b/camel-core/src/main/java/org/apache/camel/processor/ErrorHandlerSupport.java
index 76535a06570..334b1b26dfb 100644
--- a/camel-core/src/main/java/org/apache/camel/processor/ErrorHandlerSupport.java
+++ b/camel-core/src/main/java/org/apache/camel/processor/ErrorHandlerSupport.java
@@ -27,6 +27,8 @@ import org.apache.camel.model.OnExceptionDefinition;
 import org.apache.camel.processor.exceptionpolicy.DefaultExceptionPolicyStrategy;
 import org.apache.camel.processor.exceptionpolicy.ExceptionPolicyKey;
 import org.apache.camel.processor.exceptionpolicy.ExceptionPolicyStrategy;
+import org.apache.commons.logging.Log;
+import org.apache.commons.logging.LogFactory;
 
 /**
  * Support class for {@link ErrorHandler} implementations.
@@ -34,6 +36,9 @@ import org.apache.camel.processor.exceptionpolicy.ExceptionPolicyStrategy;
  * @version $Revision$
  */
 public abstract class ErrorHandlerSupport extends ServiceSupport implements ErrorHandler {
+
+    protected final transient Log log = LogFactory.getLog(getClass());
+
     private final Map<ExceptionPolicyKey, OnExceptionDefinition> exceptionPolicies = new LinkedHashMap<ExceptionPolicyKey, OnExceptionDefinition>();
     private ExceptionPolicyStrategy exceptionPolicy = createDefaultExceptionPolicyStrategy();
 
@@ -94,4 +99,9 @@ public abstract class ErrorHandlerSupport extends ServiceSupport implements Erro
         return new DefaultExceptionPolicyStrategy();
     }
 
+    /**
+     * Whether this error handler supports transacted exchanges or not.
+     */
+    public abstract boolean supportTransacted();
+
 }
diff --git a/camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java b/camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java
index dae02e20cb7..7edd5efb741 100644
--- a/camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java
+++ b/camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java
@@ -48,6 +48,10 @@ public class LoggingErrorHandler extends ErrorHandlerSupport {
         return "LoggingErrorHandler[" + output + "]";
     }
 
+    public boolean supportTransacted() {
+        return false;
+    }
+
     public void process(Exchange exchange) throws Exception {
         Throwable error = null;
         try {
@@ -129,13 +133,12 @@ public class LoggingErrorHandler extends ErrorHandlerSupport {
             }
             break;
         default:
-            log.error("Unknown level: " + level + " when trying to log exchange: " + logMessage(exchange, e),
-                      e);
+            log.error("Unknown level: " + level + " when trying to log exchange: " + logMessage(exchange, e), e);
         }
     }
 
     protected Object logMessage(Exchange exchange, Throwable e) {
-        return e + " while processing exchange: " + exchange;
+        return e.getMessage() + " while processing exchange: " + exchange;
     }
 
     protected void doStart() throws Exception {
diff --git a/camel-core/src/test/java/org/apache/camel/processor/ErrorHandlerSupportTest.java b/camel-core/src/test/java/org/apache/camel/processor/ErrorHandlerSupportTest.java
index c474d0e586c..ff8f21574c6 100644
--- a/camel-core/src/test/java/org/apache/camel/processor/ErrorHandlerSupportTest.java
+++ b/camel-core/src/test/java/org/apache/camel/processor/ErrorHandlerSupportTest.java
@@ -87,6 +87,10 @@ public class ErrorHandlerSupportTest extends TestCase {
         protected void doStop() throws Exception {
         }
 
+        public boolean supportTransacted() {
+            return false;
+        }
+
         public void process(Exchange exchange) throws Exception {
         }
     }
diff --git a/components/camel-jms/src/test/java/org/apache/camel/component/jms/TransactedJmsRouteTest.java b/components/camel-jms/src/test/java/org/apache/camel/component/jms/TransactedJmsRouteTest.java
index 1b01dcda77c..95e156ce9ef 100644
--- a/components/camel-jms/src/test/java/org/apache/camel/component/jms/TransactedJmsRouteTest.java
+++ b/components/camel-jms/src/test/java/org/apache/camel/component/jms/TransactedJmsRouteTest.java
@@ -62,9 +62,9 @@ public class TransactedJmsRouteTest extends ContextTestSupport {
         return new SpringRouteBuilder() {
             public void configure() {
 
-                SpringTransactionPolicy requried = new SpringTransactionPolicy(bean(TransactionTemplate.class, "PROPAGATION_REQUIRED"));
-                SpringTransactionPolicy notsupported = new SpringTransactionPolicy(bean(TransactionTemplate.class, "PROPAGATION_NOT_SUPPORTED"));
-                SpringTransactionPolicy requirenew = new SpringTransactionPolicy(bean(TransactionTemplate.class, "PROPAGATION_REQUIRES_NEW"));
+                SpringTransactionPolicy requried = new SpringTransactionPolicy(bean("PROPAGATION_REQUIRED", TransactionTemplate.class));
+                SpringTransactionPolicy notsupported = new SpringTransactionPolicy(bean("PROPAGATION_NOT_SUPPORTED", TransactionTemplate.class));
+                SpringTransactionPolicy requirenew = new SpringTransactionPolicy(bean("PROPAGATION_REQUIRES_NEW", TransactionTemplate.class));
 
                 Policy rollback = new Policy() {
                     public Processor wrap(RouteContext routeContext, Processor processor) {
@@ -214,8 +214,6 @@ public class TransactedJmsRouteTest extends ContextTestSupport {
 
     /**
      * This test seems to be fail every other run.
-     *
-     * @throws Exception
      */
     public void disabledtestSenarioF() throws Exception {
         String expected = getName() + ": " + System.currentTimeMillis();
@@ -250,7 +248,7 @@ public class TransactedJmsRouteTest extends ContextTestSupport {
         assertIsSatisfied(assertTimeoutSeconds, TimeUnit.SECONDS, mockEndpointA, mockEndpointB);
     }
 
-    public void xxxtestSenarioC() throws Exception {
+    public void disabledtestSenarioC() throws Exception {
         String expected = getName() + ": " + System.currentTimeMillis();
         mockEndpointA.expectedMessageCount(0);
         // Should only get 1 message the incoming transaction does not rollback.
@@ -266,7 +264,7 @@ public class TransactedJmsRouteTest extends ContextTestSupport {
         assertIsSatisfied(mockEndpointA, mockEndpointB);
     }
 
-    public void xxxtestSenarioD() throws Exception {
+    public void disabledtestSenarioD() throws Exception {
         String expected = getName() + ": " + System.currentTimeMillis();
         mockEndpointA.expectedMessageCount(1);
         sendBody("activemq:queue:d", expected);
diff --git a/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToProcessorTransactionTest.java b/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToProcessorTransactionTest.java
index e0b34b1a212..1a58b0e449b 100644
--- a/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToProcessorTransactionTest.java
+++ b/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToProcessorTransactionTest.java
@@ -41,7 +41,7 @@ public class QueueToProcessorTransactionTest extends AbstractTransactionTest {
             @Override
             public void configure() throws Exception {
 
-                Policy required = bean(SpringTransactionPolicy.class, "PROPAGATION_REQUIRED_POLICY");
+                Policy required = bean("PROPAGATION_REQUIRED_POLICY", SpringTransactionPolicy.class);
                 from("activemq:queue:foo").policy(required).process(new ConditionalExceptionProcessor());
             }
         });
diff --git a/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToQueueRequestReplyTransactionTest.java b/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToQueueRequestReplyTransactionTest.java
index 0222859f4ee..253d2c08514 100644
--- a/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToQueueRequestReplyTransactionTest.java
+++ b/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToQueueRequestReplyTransactionTest.java
@@ -49,7 +49,7 @@ public class QueueToQueueRequestReplyTransactionTest extends AbstractTransaction
         context.addRoutes(new SpringRouteBuilder() {
             @Override
             public void configure() throws Exception {
-                Policy required = bean(SpringTransactionPolicy.class, "PROPAGATION_REQUIRED_POLICY");
+                Policy required = bean("PROPAGATION_REQUIRED_POLICY", SpringTransactionPolicy.class);
                 from("activemq:queue:foo?replyTo=queue:foo.reply").policy(required).process(cp).to("activemq-1:queue:bar?replyTo=queue:bar.reply");
                 from("activemq-1:queue:bar").process(new Processor() {
                     public void process(Exchange e) {
diff --git a/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToQueueTransactionTest.java b/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToQueueTransactionTest.java
index 7eb54b43d88..859b86fb8fb 100644
--- a/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToQueueTransactionTest.java
+++ b/components/camel-jms/src/test/java/org/apache/camel/component/jms/tx/QueueToQueueTransactionTest.java
@@ -44,7 +44,7 @@ public class QueueToQueueTransactionTest extends AbstractTransactionTest {
             @Override
             public void configure() throws Exception {
 
-                Policy required = bean(SpringTransactionPolicy.class, "PROPAGATION_REQUIRED_POLICY");
+                Policy required = bean("PROPAGATION_REQUIRED_POLICY", SpringTransactionPolicy.class);
                 from("activemq:queue:foo?transacted=true").policy(required).process(new ConditionalExceptionProcessor())
                     .to("activemq:queue:bar?transacted=true");
             }
diff --git a/components/camel-spring/src/main/java/org/apache/camel/spring/SpringRouteBuilder.java b/components/camel-spring/src/main/java/org/apache/camel/spring/SpringRouteBuilder.java
index 4db4c66a5b3..583d8585a19 100644
--- a/components/camel-spring/src/main/java/org/apache/camel/spring/SpringRouteBuilder.java
+++ b/components/camel-spring/src/main/java/org/apache/camel/spring/SpringRouteBuilder.java
@@ -44,12 +44,12 @@ public abstract class SpringRouteBuilder extends RouteBuilder implements Applica
      * returns it, or throws an exception if the bean is not present or is not
      * of the given type
      *
-     * @param type the type of the bean
      * @param beanName the name of the bean in the application context
+     * @param type the type of the bean
      * @return the bean
      */
     @SuppressWarnings("unchecked")
-    public <T> T bean(Class<T> type, String beanName) {
+    public <T> T bean(String beanName, Class<T> type) {
         ApplicationContext context = getApplicationContext();
         return (T)context.getBean(beanName, type);
     }
diff --git a/components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringTransactionPolicy.java b/components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringTransactionPolicy.java
index 67382272424..1456c75d01c 100644
--- a/components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringTransactionPolicy.java
+++ b/components/camel-spring/src/main/java/org/apache/camel/spring/spi/SpringTransactionPolicy.java
@@ -16,11 +16,10 @@
  */
 package org.apache.camel.spring.spi;
 
-import java.util.Map;
-
 import org.apache.camel.Processor;
 import org.apache.camel.builder.ErrorHandlerBuilder;
 import org.apache.camel.builder.ErrorHandlerBuilderRef;
+import org.apache.camel.builder.ErrorHandlerBuilderSupport;
 import org.apache.camel.spi.RouteContext;
 import org.apache.camel.spi.TransactedPolicy;
 import org.apache.camel.util.ObjectHelper;
@@ -58,12 +57,22 @@ public class SpringTransactionPolicy implements TransactedPolicy {
         TransactionErrorHandler answer = new TransactionErrorHandler(getTransactionTemplate());
         answer.setOutput(processor);
 
+        // the goal is to configure the error handler builder on the route as a transacted error handler,
+        // either its already a transacted or if not we replace it with a transacted one that we configure here
+        // and wrap the processor in the transacted error handler as we can have transacted routes that change
+        // propagation behavior, eg: from A required -> B -> requiresNew C (advanced use-case)
+        // if we should not support this we do not need to wrap the processor as we only need one transacted error handler
+
+        // find the existing error handler builder
         ErrorHandlerBuilder builder = routeContext.getRoute().getErrorHandlerBuilder();
 
+        // check if its a ref if so then do a lookup
         if (builder instanceof ErrorHandlerBuilderRef) {
             // its a reference to a error handler so lookup the reference
             ErrorHandlerBuilderRef ref = (ErrorHandlerBuilderRef) builder;
             // only lookup if there was explicit an error handler builder configured
+            // otherwise its just the "default" that has not explicit been configured
+            // and if so then we can safely replace that with our transacted error handler
             if (ref.isErrorHandlerBuilderConfigued()) {
                 if (LOG.isDebugEnabled()) {
                     LOG.debug("Looking up ErrorHandlerBuilder with ref: " + ref.getRef());
@@ -72,11 +81,14 @@ public class SpringTransactionPolicy implements TransactedPolicy {
             }
         }
 
-        if (builder instanceof TransactionErrorHandlerBuilder) {
-            // use existing transaction error handler builder
-            TransactionErrorHandlerBuilder txBuilder = (TransactionErrorHandlerBuilder) builder;
-            answer.setExceptionPolicy(txBuilder.getExceptionPolicyStrategy());
-            txBuilder.configure(answer);
+        if (builder != null && builder.supportTransacted()) {
+            // already a TX error handler then we are good to go
+            if (LOG.isDebugEnabled()) {
+                LOG.debug("The ErrorHandlerBuilder configured is already a TransactionErrorHandlerBuilder: " + builder);
+            }
+            answer.setExceptionPolicy(builder.getExceptionPolicyStrategy());
+            // configure our answer based on the existing error handler
+            builder.configure(answer);
         } else {
             // no transaction error handler builder configure so create a temporary one as we got all
             // the needed information form the configured builder anyway this allow us to use transacted
@@ -96,12 +108,14 @@ public class SpringTransactionPolicy implements TransactedPolicy {
                 txBuilder.setErrorHandlers(builder.getErrorHandlers());
             }
             answer.setExceptionPolicy(txBuilder.getExceptionPolicyStrategy());
+            // configure our answer based on the existing error handler
             txBuilder.configure(answer);
 
             // set the route to use our transacted error handler builder
             routeContext.getRoute().setErrorHandlerBuilder(txBuilder);
         }
 
+        // return with wrapped transacted error handler
         return answer;
     }
 
diff --git a/components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactedRuntimeCamelException.java b/components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactedRuntimeCamelException.java
index 477ce4dbf16..f85d5925419 100644
--- a/components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactedRuntimeCamelException.java
+++ b/components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactedRuntimeCamelException.java
@@ -23,28 +23,35 @@ import org.apache.camel.RuntimeCamelException;
  */
 public class TransactedRuntimeCamelException extends RuntimeCamelException {
 
-    private boolean handled;
+    private final boolean handled;
 
     public TransactedRuntimeCamelException() {
+        super();
+        this.handled = false;
     }
 
     public TransactedRuntimeCamelException(String message) {
         super(message);
+        this.handled = false;
     }
 
     public TransactedRuntimeCamelException(String message, Throwable cause) {
         super(message, cause);
+        this.handled = false;
     }
 
     public TransactedRuntimeCamelException(Throwable cause) {
         super(cause);
+        this.handled = false;
+    }
+
+    public TransactedRuntimeCamelException(Throwable cause, boolean handled) {
+        super(cause);
+        this.handled = handled;
     }
 
     public boolean isHandled() {
         return handled;
     }
 
-    public void setHandled(boolean handled) {
-        this.handled = handled;
-    }
 }
diff --git a/components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandler.java b/components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandler.java
index f719475ecd4..abcf128b1f9 100644
--- a/components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandler.java
+++ b/components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandler.java
@@ -56,6 +56,10 @@ public class TransactionErrorHandler extends ErrorHandlerSupport {
         setExceptionPolicy(exceptionPolicy);
     }
 
+    public boolean supportTransacted() {
+        return true;
+    }
+
     @Override
     public String toString() {
         if (output == null) {
@@ -151,15 +155,13 @@ public class TransactionErrorHandler extends ErrorHandlerSupport {
         if (exception instanceof TransactedRuntimeCamelException) {
             return (TransactedRuntimeCamelException) exception;
         } else {
-            TransactedRuntimeCamelException answer = new TransactedRuntimeCamelException(exception);
             // Mark as handled so we dont want to handle the same exception twice or more in other
             // wrapped transaction error handlers in this route.
             // We need to mark this information in the exception as we need to propagage
             // the exception back by rehtrowing it. We cannot mark it on the exchange as Camel
             // uses copies of exchanges in its pipeline and the data isnt copied back in case
             // when an exception occured
-            answer.setHandled(true);
-            return answer;
+            return new TransactedRuntimeCamelException(exception, true);
         }
     }
 
@@ -180,11 +182,11 @@ public class TransactionErrorHandler extends ErrorHandlerSupport {
             Predicate handledPredicate = exceptionPolicy.getHandledPolicy();
 
             Processor processor = exceptionPolicy.getErrorHandler();
+            prepareExchangeBeforeOnException(exchange);
             if (processor != null) {
-                prepareExchangeBeforeOnException(exchange);
                 deliverToFaultProcessor(exchange, processor);
-                prepareExchangeAfterOnException(exchange, handledPredicate);
             }
+            prepareExchangeAfterOnException(exchange, handledPredicate);
         }
     }
 
diff --git a/components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandlerBuilder.java b/components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandlerBuilder.java
index d3477dc1ad8..bac3a0f5f66 100644
--- a/components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandlerBuilder.java
+++ b/components/camel-spring/src/main/java/org/apache/camel/spring/spi/TransactionErrorHandlerBuilder.java
@@ -18,7 +18,6 @@ package org.apache.camel.spring.spi;
 
 import org.apache.camel.Processor;
 import org.apache.camel.builder.ErrorHandlerBuilderSupport;
-import org.apache.camel.processor.DelayPolicy;
 import org.apache.camel.processor.ErrorHandlerSupport;
 import org.apache.camel.processor.exceptionpolicy.ExceptionPolicyStrategy;
 import org.apache.camel.spi.RouteContext;
@@ -46,6 +45,10 @@ public class TransactionErrorHandlerBuilder extends ErrorHandlerBuilderSupport i
         return transactionTemplate;
     }
 
+    public boolean supportTransacted() {
+        return true;
+    }
+
     public Processor createErrorHandler(RouteContext routeContext, Processor processor) throws Exception {
         TransactionErrorHandler answer = new TransactionErrorHandler(transactionTemplate, processor, exceptionPolicyStrategy);
         configure(answer);
diff --git a/components/camel-spring/src/test/java/org/apache/camel/spring/config/DummyErrorHandlerBuilder.java b/components/camel-spring/src/test/java/org/apache/camel/spring/config/DummyErrorHandlerBuilder.java
index 3cafc4584fd..486af109708 100644
--- a/components/camel-spring/src/test/java/org/apache/camel/spring/config/DummyErrorHandlerBuilder.java
+++ b/components/camel-spring/src/test/java/org/apache/camel/spring/config/DummyErrorHandlerBuilder.java
@@ -42,8 +42,8 @@ public class DummyErrorHandlerBuilder extends ErrorHandlerBuilderSupport impleme
         this.beanName = beanName;
     }
 
-    public ErrorHandlerBuilder copy() {
-        return new DummyErrorHandlerBuilder(beanName);
+    public boolean supportTransacted() {
+        return false;
     }
 
     public Processor createErrorHandler(RouteContext routeContext, Processor processor) throws Exception {
@@ -55,4 +55,5 @@ public class DummyErrorHandlerBuilder extends ErrorHandlerBuilderSupport impleme
             }
         };
     }
+
 }
diff --git a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/MixedPropagationTransactedTest.java b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/MixedPropagationTransactedTest.java
new file mode 100644
index 00000000000..be9c14663db
--- /dev/null
+++ b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/MixedPropagationTransactedTest.java
@@ -0,0 +1,167 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.spring.interceptor;
+
+import javax.sql.DataSource;
+
+import org.apache.camel.RuntimeCamelException;
+import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.spring.SpringRouteBuilder;
+import org.apache.camel.spring.SpringTestSupport;
+import org.springframework.context.support.AbstractXmlApplicationContext;
+import org.springframework.context.support.ClassPathXmlApplicationContext;
+import org.springframework.jdbc.core.simple.SimpleJdbcTemplate;
+
+/**
+ * For testing with mixed transacted propagations (required, requires new)
+ */
+public class MixedPropagationTransactedTest extends SpringTestSupport {
+
+    protected SimpleJdbcTemplate jdbc;
+    protected boolean useTransactionErrorHandler = true;
+
+    protected AbstractXmlApplicationContext createApplicationContext() {
+        return new ClassPathXmlApplicationContext(
+            "/org/apache/camel/spring/interceptor/mixedPropagationTransactedTest.xml");
+    }
+
+    protected int getExpectedRouteCount() {
+        return 0;
+    }
+
+    @Override
+    protected void setUp() throws Exception {
+        super.setUp();
+
+        // create database and insert dummy data
+        final DataSource ds = getMandatoryBean(DataSource.class, "dataSource");
+        jdbc = new SimpleJdbcTemplate(ds);
+        jdbc.getJdbcOperations().execute("create table books (title varchar(50))");
+        jdbc.update("insert into books (title) values (?)", "Camel in Action");
+    }
+
+    @Override
+    protected void tearDown() throws Exception {
+        super.tearDown();
+        jdbc.getJdbcOperations().execute("drop table books");
+    }
+
+    public void testRequiredOnly() throws Exception {
+        template.sendBody("direct:required", "Tiger in Action");
+
+        int count = jdbc.queryForInt("select count(*) from books");
+        assertEquals(1, jdbc.queryForInt("select count(*) from books where title = ?", "Tiger in Action"));
+        assertEquals("Number of books", 2, count);
+    }
+
+    public void testRequired2Only() throws Exception {
+        template.sendBody("direct:required2", "Tiger in Action");
+
+        int count = jdbc.queryForInt("select count(*) from books");
+        // we do 2x the book service so we should get 2 tiger books
+        assertEquals(2, jdbc.queryForInt("select count(*) from books where title = ?", "Tiger in Action"));
+        assertEquals("Number of books", 3, count);
+    }
+
+    public void testRequiresNewOnly() throws Exception {
+        template.sendBody("direct:new", "Elephant in Action");
+
+        int count = jdbc.queryForInt("select count(*) from books");
+        assertEquals(1, jdbc.queryForInt("select count(*) from books where title = ?", "Elephant in Action"));
+        assertEquals("Number of books", 2, count);
+    }
+
+    public void testRequiredAndRequiresNew() throws Exception {
+        template.sendBody("direct:requiredAndNew", "Tiger in Action");
+
+        int count = jdbc.queryForInt("select count(*) from books");
+        assertEquals(2, jdbc.queryForInt("select count(*) from books where title = ?", "Tiger in Action"));
+        assertEquals("Number of books", 3, count);
+    }
+
+    public void testRequiredOnlkyRollback() throws Exception {
+        try {
+            template.sendBody("direct:required", "Donkey in Action");
+        } catch (RuntimeCamelException e) {
+            // expeced as we fail
+            assertTrue(e.getCause() instanceof IllegalArgumentException);
+            assertEquals("We don't have Donkeys, only Camels", e.getCause().getMessage());
+        }
+
+        int count = jdbc.queryForInt("select count(*) from books");
+        assertEquals(0, jdbc.queryForInt("select count(*) from books where title = ?", "Donkey in Action"));
+        assertEquals("Number of books", 1, count);
+    }
+
+    public void testRequiresNewOnlkyRollback() throws Exception {
+        try {
+            template.sendBody("direct:new", "Donkey in Action");
+        } catch (RuntimeCamelException e) {
+            // expeced as we fail
+            assertTrue(e.getCause() instanceof IllegalArgumentException);
+            assertEquals("We don't have Donkeys, only Camels", e.getCause().getMessage());
+        }
+
+        int count = jdbc.queryForInt("select count(*) from books");
+        assertEquals(0, jdbc.queryForInt("select count(*) from books where title = ?", "Donkey in Action"));
+        assertEquals("Number of books", 1, count);
+    }
+
+    public void testRequiredAndNewRollback() throws Exception {
+        try {
+            template.sendBody("direct:new", "Tiger in Action");
+        } catch (RuntimeCamelException e) {
+            // expeced as we fail
+            assertTrue(e.getCause() instanceof IllegalArgumentException);
+            assertEquals("We don't have Donkeys, only Camels", e.getCause().getMessage());
+        }
+
+        int count = jdbc.queryForInt("select count(*) from books");
+        assertEquals(1, jdbc.queryForInt("select count(*) from books where title = ?", "Tiger in Action"));
+        assertEquals(0, jdbc.queryForInt("select count(*) from books where title = ?", "Donkey in Action"));
+        // the tiger in action should be committed, but our 2nd route should rollback
+        assertEquals("Number of books", 2, count);
+    }
+
+    protected RouteBuilder createRouteBuilder() throws Exception {
+        return new SpringRouteBuilder() {
+            public void configure() throws Exception {
+                from("direct:required")
+                    .transacted("PROPATATION_REQUIRED")
+                    .beanRef("bookService");
+
+                from("direct:required2")
+                    .transacted("PROPATATION_REQUIRED")
+                    .beanRef("bookService")
+                    .beanRef("bookService");
+
+                from("direct:new")
+                    .transacted("PROPAGATION_REQUIRES_NEW")
+                    .beanRef("bookService");
+
+                from("direct:requiredAndNew").to("direct:required", "direct:new");
+
+                from("direct:requiredAndNewRollback")
+                    .to("direct:required")
+                    // change to donkey so it will rollback
+                    .setBody(constant("Donkey in Action"))
+                    .to("direct:new");
+            }
+        };
+    }
+
+}
\ No newline at end of file
diff --git a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceMixedTransactedTest.java b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceMixedTransactedTest.java
new file mode 100644
index 00000000000..f9c8e18631a
--- /dev/null
+++ b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceMixedTransactedTest.java
@@ -0,0 +1,63 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.spring.interceptor;
+
+import org.apache.camel.RuntimeCamelException;
+import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.spring.SpringRouteBuilder;
+
+/**
+ * Same route but not transacted
+ */
+public class TransactionalClientDataSourceMixedTransactedTest extends TransactionalClientDataSourceTest {
+
+    public void testTransactionRollback() throws Exception {
+        try {
+            template.sendBody("direct:fail", "Hello World");
+        } catch (RuntimeCamelException e) {
+            // expeced as we fail
+            assertTrue(e.getCause() instanceof IllegalArgumentException);
+            assertEquals("We don't have Donkeys, only Camels", e.getCause().getMessage());
+        }
+
+        int count = jdbc.queryForInt("select count(*) from books");
+        // should get 2 books as the first operation will succeed and we are not transacted
+        assertEquals("Number of books", 2, count);
+    }
+
+    protected RouteBuilder createRouteBuilder() throws Exception {
+        return new SpringRouteBuilder() {
+            public void configure() throws Exception {
+                // ignore failure if its something with Donkey
+                onException(IllegalArgumentException.class).onWhen(exceptionMessage().contains("Donkey")).handled(true);
+
+                from("direct:okay")
+                    // mark this route as transacted
+                    .transacted()
+                    .setBody(constant("Tiger in Action")).beanRef("bookService")
+                    .setBody(constant("Elephant in Action")).beanRef("bookService")
+                    .setBody(constant("Donkey in Action")).beanRef("bookService");
+
+                from("direct:fail")
+                    // and this route is not transacted
+                    .setBody(constant("Tiger in Action")).beanRef("bookService")
+                    .setBody(constant("Donkey in Action")).beanRef("bookService");
+            }
+        };
+    }
+
+}
\ No newline at end of file
diff --git a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceNotTransactedTest.java b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceNotTransactedTest.java
index 813301b7527..d1c9725c10b 100644
--- a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceNotTransactedTest.java
+++ b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceNotTransactedTest.java
@@ -16,9 +16,9 @@
  */
 package org.apache.camel.spring.interceptor;
 
+import org.apache.camel.RuntimeCamelException;
 import org.apache.camel.builder.RouteBuilder;
 import org.apache.camel.spring.SpringRouteBuilder;
-import org.apache.camel.RuntimeCamelException;
 
 /**
  * Same route but not transacted
diff --git a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceTest.java b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceTest.java
index 21d4cc64abd..90fb91c2336 100644
--- a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceTest.java
+++ b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceTest.java
@@ -97,7 +97,7 @@ public class TransactionalClientDataSourceTest extends SpringTestSupport {
             public void configure() throws Exception {
                 // START SNIPPET: e1
                 // lookup the transaction policy
-                SpringTransactionPolicy required = bean(SpringTransactionPolicy.class, "PROPAGATION_REQUIRED");
+                SpringTransactionPolicy required = bean("PROPAGATION_REQUIRED", SpringTransactionPolicy.class);
 
                 // use this error handler instead of DeadLetterChannel that is the default
                 // Notice: transactionErrorHandler is in SpringRouteBuilder
diff --git a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceTransactedWithChoiceTest.java b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceTransactedWithChoiceTest.java
new file mode 100644
index 00000000000..8da81227805
--- /dev/null
+++ b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceTransactedWithChoiceTest.java
@@ -0,0 +1,58 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.spring.interceptor;
+
+import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.spring.SpringRouteBuilder;
+
+/**
+ * Easier transaction configuration as we do not have to setup a transaction error handler
+ */
+public class TransactionalClientDataSourceTransactedWithChoiceTest extends TransactionalClientDataSourceTest {
+
+    protected RouteBuilder createRouteBuilder() throws Exception {
+        return new SpringRouteBuilder() {
+            public void configure() throws Exception {
+                from("direct:okay")
+                    .transacted()
+                    .choice()
+                        .when(body().contains("Hello")).to("log:hello")
+                    .otherwise()
+                        .to("log:other")
+                    .end()
+                    .to("direct:tiger")
+                    .setBody(constant("Elephant in Action")).beanRef("bookService");
+
+                from("direct:tiger")
+                    .transacted()
+                    .setBody(constant("Tiger in Action")).beanRef("bookService");
+
+                from("direct:donkey")
+                    // notice this one is not marked as transacted but since the exchange is transacted
+                    // the default error handler will not handle it and thus not interfeer
+                    .setBody(constant("Donkey in Action")).beanRef("bookService");
+
+                // marks this route as transacted that will use the single policy defined in the registry
+                from("direct:fail")
+                    .transacted()
+                    .setBody(constant("Tiger in Action")).beanRef("bookService")
+                    .to("direct:donkey");
+            }
+        };
+    }
+
+}
\ No newline at end of file
diff --git a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceWithOnExceptionTest.java b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceWithOnExceptionTest.java
index 49cedbd0b56..d2eab10384f 100644
--- a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceWithOnExceptionTest.java
+++ b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientDataSourceWithOnExceptionTest.java
@@ -53,7 +53,7 @@ public class TransactionalClientDataSourceWithOnExceptionTest extends Transactio
         return new SpringRouteBuilder() {
             public void configure() throws Exception {
                 // use required as transaction policy
-                SpringTransactionPolicy required = bean(SpringTransactionPolicy.class, "PROPAGATION_REQUIRED");
+                SpringTransactionPolicy required = bean("PROPAGATION_REQUIRED", SpringTransactionPolicy.class);
 
                 // configure to use transaction error handler and pass on the required as it will fetch
                 // the transaction manager from it that it needs
diff --git a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientWithRollbackTest.java b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientWithRollbackTest.java
index 3be67e106b6..8df8d54096c 100644
--- a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientWithRollbackTest.java
+++ b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/TransactionalClientWithRollbackTest.java
@@ -87,7 +87,7 @@ public class TransactionalClientWithRollbackTest extends SpringTestSupport {
         return new SpringRouteBuilder() {
             public void configure() throws Exception {
                 // setup the transaction policy
-                SpringTransactionPolicy required = bean(SpringTransactionPolicy.class, "PROPAGATION_REQUIRED");
+                SpringTransactionPolicy required = bean("PROPAGATION_REQUIRED", SpringTransactionPolicy.class);
 
                 // use transaction error handler
                 errorHandler(transactionErrorHandler(required));
diff --git a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/route/DataSourceSpringRouteBuilder.java b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/route/DataSourceSpringRouteBuilder.java
index 5e918b5944e..dbf2a457a67 100644
--- a/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/route/DataSourceSpringRouteBuilder.java
+++ b/components/camel-spring/src/test/java/org/apache/camel/spring/interceptor/route/DataSourceSpringRouteBuilder.java
@@ -23,7 +23,7 @@ public class DataSourceSpringRouteBuilder extends SpringRouteBuilder {
     
     public void configure() throws Exception {
         // get the required policy
-        SpringTransactionPolicy required = bean(SpringTransactionPolicy.class, "PROPAGATION_REQUIRED");
+        SpringTransactionPolicy required = bean("PROPAGATION_REQUIRED", SpringTransactionPolicy.class);
 
         // For spring based transaction, end users are encouraged to use the
         // transaction error handler instead of the default DeadLetterChannel.
diff --git a/components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/mixedPropagationTransactedTest.xml b/components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/mixedPropagationTransactedTest.xml
new file mode 100644
index 00000000000..839c8dc0686
--- /dev/null
+++ b/components/camel-spring/src/test/resources/org/apache/camel/spring/interceptor/mixedPropagationTransactedTest.xml
@@ -0,0 +1,51 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+    Licensed to the Apache Software Foundation (ASF) under one or more
+    contributor license agreements.  See the NOTICE file distributed with
+    this work for additional information regarding copyright ownership.
+    The ASF licenses this file to You under the Apache License, Version 2.0
+    (the "License"); you may not use this file except in compliance with
+    the License.  You may obtain a copy of the License at
+
+        http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing, software
+    distributed under the License is distributed on an "AS IS" BASIS,
+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+    See the License for the specific language governing permissions and
+    limitations under the License.
+-->
+<beans xmlns="http://www.springframework.org/schema/beans"
+       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+       xsi:schemaLocation="
+         http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
+         http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd">
+
+    <bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
+        <property name="driverClassName" value="org.hsqldb.jdbcDriver"/>
+        <property name="url" value="jdbc:hsqldb:mem:camel"/>
+        <property name="username" value="sa"/>
+        <property name="password" value=""/>
+    </bean>
+
+    <bean id="txManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
+        <property name="dataSource" ref="dataSource"/>
+    </bean>
+
+    <!-- required -->
+    <bean id="PROPATATION_REQUIRED" class="org.apache.camel.spring.spi.SpringTransactionPolicy">
+        <property name="transactionManager" ref="txManager"/>
+    </bean>
+
+    <!-- requires new -->
+    <bean id="PROPAGATION_REQUIRES_NEW" class="org.apache.camel.spring.spi.SpringTransactionPolicy">
+        <property name="transactionManager" ref="txManager"/>
+        <property name="propagationBehaviorName" value="PROPAGATION_REQUIRES_NEW"/>
+    </bean>
+
+    <!-- bean for book business logic -->
+    <bean id="bookService" class="org.apache.camel.spring.interceptor.BookService">
+        <property name="dataSource" ref="dataSource"/>
+    </bean>
+
+</beans>
