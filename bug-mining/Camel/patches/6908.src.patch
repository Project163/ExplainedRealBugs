diff --git a/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/commands/ExportQuarkus.java b/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/commands/ExportQuarkus.java
index c989bcf6b2e..f74e878a54c 100644
--- a/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/commands/ExportQuarkus.java
+++ b/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/commands/ExportQuarkus.java
@@ -208,6 +208,9 @@ class ExportQuarkus extends Export {
         if (s.contains(":")) {
             s = StringHelper.after(s, ":");
         }
+        if (s.contains(File.separator)) {
+            s = StringHelper.afterLast(s, File.separator);
+        }
         s = s.replace(CommandLineHelper.CAMEL_JBANG_WORK_DIR + "/", "");
         return s;
     }
diff --git a/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/commands/Run.java b/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/commands/Run.java
index 43f45c37667..ccd461f0210 100644
--- a/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/commands/Run.java
+++ b/dsl/camel-jbang/camel-jbang-core/src/main/java/org/apache/camel/dsl/jbang/core/commands/Run.java
@@ -1561,10 +1561,13 @@ public class Run extends CamelCommand {
                     }
                     return ACCEPTED_XML_ROOT_ELEMENTS.contains(info.getRootElementName());
                 } else {
-                    // also support Camel K integrations and Pipes. And KameletBinding for backward compatibility
-                    return source.content().contains("- from:") || source.content().contains("- route:")
+                    // TODO: we probably need a way to parse the content and match against the YAML DSL expected by Camel
+                    // This check looks very fragile
+                    return source.content().contains("from:") || source.content().contains("- from:")
+                            || source.content().contains("- route:")
                             || source.content().contains("- route-configuration:")
                             || source.content().contains("- rest:") || source.content().contains("- beans:")
+                            // also support Camel K integrations and Pipes. And KameletBinding for backward compatibility
                             || source.content().contains("KameletBinding")
                             || source.content().contains("Pipe")
                             || source.content().contains("kind: Integration");
diff --git a/dsl/camel-jbang/camel-jbang-core/src/test/java/org/apache/camel/dsl/jbang/core/commands/ExportTest.java b/dsl/camel-jbang/camel-jbang-core/src/test/java/org/apache/camel/dsl/jbang/core/commands/ExportTest.java
index 219e170e9fb..8e0539dba0f 100644
--- a/dsl/camel-jbang/camel-jbang-core/src/test/java/org/apache/camel/dsl/jbang/core/commands/ExportTest.java
+++ b/dsl/camel-jbang/camel-jbang-core/src/test/java/org/apache/camel/dsl/jbang/core/commands/ExportTest.java
@@ -17,6 +17,7 @@
 package org.apache.camel.dsl.jbang.core.commands;
 
 import java.io.File;
+import java.io.FileInputStream;
 import java.io.FileReader;
 import java.io.IOException;
 import java.nio.file.Files;
@@ -28,6 +29,7 @@ import java.util.stream.Stream;
 
 import org.apache.camel.dsl.jbang.core.common.RuntimeType;
 import org.apache.camel.util.FileUtil;
+import org.apache.camel.util.IOHelper;
 import org.apache.maven.model.Dependency;
 import org.apache.maven.model.Model;
 import org.apache.maven.model.io.xpp3.MavenXpp3Reader;
@@ -74,6 +76,8 @@ class ExportTest {
         Assertions.assertEquals("examples", model.getGroupId());
         Assertions.assertEquals("route", model.getArtifactId());
         Assertions.assertEquals("1.0.0", model.getVersion());
+        // Reproducible build
+        Assertions.assertNotNull(model.getProperties().get("project.build.outputTimestamp"));
     }
 
     @ParameterizedTest
@@ -253,7 +257,8 @@ class ExportTest {
     @ParameterizedTest
     @MethodSource("runtimeProvider")
     public void shouldGenerateContent(RuntimeType rt) throws Exception {
-        Export command = createCommand(rt, new String[] { "classpath:route.yaml" },
+        // We need a real file as we want to test the generated content
+        Export command = createCommand(rt, new String[] { "src/test/resources/route.yaml" },
                 "--gav=examples:route:1.0.0", "--dir=" + workingDir, "--quiet");
         int exit = command.doCall();
 
@@ -261,13 +266,70 @@ class ExportTest {
         // In this test we can validate any generic resource that must be created along the export.
         // Exporting once to reduce the time to execute the test and the resource required to test.
 
-        // Reproducible build
-        Model model = readMavenModel();
-        Assertions.assertNotNull(model.getProperties().get("project.build.outputTimestamp"));
+        // Application properties
+        File appProperties = new File(workingDir + "/src/main/resources", "application.properties");
+        Assertions.assertTrue(appProperties.exists(), "Missing application properties");
+        assertApplicationPropertiesContent(rt, appProperties);
+        // Camel routes
+        Assertions.assertTrue(new File(workingDir + "/src/main/resources/camel", "route.yaml").exists(),
+                "Missing camel route in resources");
         // Dockerfile
-        Assertions.assertTrue(new File(workingDir + "/src/main/docker", "Dockerfile").exists());
+        Assertions.assertTrue(new File(workingDir + "/src/main/docker", "Dockerfile").exists(), "Missing Dockerfile");
         // Readme
-        Assertions.assertTrue(new File(workingDir, "readme.md").exists());
+        Assertions.assertTrue(new File(workingDir, "readme.md").exists(), "Missing readme.md");
+    }
+
+    // Each runtime may have a different logic
+    public void assertApplicationPropertiesContent(RuntimeType rt, File appProps) throws Exception {
+        try (FileInputStream fis = new FileInputStream(appProps)) {
+            String content = IOHelper.loadText(fis);
+            if (rt == RuntimeType.quarkus) {
+                Assertions.assertTrue(content.contains("camel.main.routes-include-pattern=camel/route.yaml"),
+                        "should contain camel.main.routes-include-pattern property, was " + content);
+            } else {
+                Assertions.assertFalse(content.contains("camel.main.routes-include-pattern"),
+                        "should not contain camel.main.routes-include-pattern property, was " + content);
+            }
+        }
+    }
+
+    @ParameterizedTest
+    @MethodSource("runtimeProvider")
+    public void shouldGenerateJavaContent(RuntimeType rt) throws Exception {
+        // We need a real file as we want to test the generated content
+        Export command = createCommand(rt, new String[] { "src/test/resources/Hey.java" },
+                "--gav=examples:route:1.0.0", "--dir=" + workingDir, "--quiet");
+        int exit = command.doCall();
+
+        Assertions.assertEquals(0, exit);
+        // In this test we can validate any generic resource that must be created along the export.
+        // Exporting once to reduce the time to execute the test and the resource required to test.
+
+        // Application properties
+        File appProperties = new File(workingDir + "/src/main/resources", "application.properties");
+        Assertions.assertTrue(appProperties.exists(), "Missing application properties");
+        assertApplicationPropertiesContentJava(rt, appProperties, "examples.route");
+        // Camel routes
+        Assertions.assertTrue(new File(workingDir + "/src/main/java/examples/route", "Hey.java").exists(),
+                "Missing camel route in java package");
+        // Dockerfile
+        Assertions.assertTrue(new File(workingDir + "/src/main/docker", "Dockerfile").exists(), "Missing Dockerfile");
+        // Readme
+        Assertions.assertTrue(new File(workingDir, "readme.md").exists(), "Missing readme.md");
+    }
+
+    // Each runtime may have a different logic
+    public void assertApplicationPropertiesContentJava(RuntimeType rt, File appProps, String appPackage) throws Exception {
+        try (FileInputStream fis = new FileInputStream(appProps)) {
+            String content = IOHelper.loadText(fis);
+            if (rt == RuntimeType.main) {
+                Assertions.assertTrue(content.contains("camel.main.basePackageScan=" + appPackage),
+                        "should contain camel.main.basePackageScan property, but was " + content);
+            } else {
+                Assertions.assertFalse(content.contains("camel.main.basePackageScan"),
+                        "should not contain camel.main.basePackageScan property, but was " + content);
+            }
+        }
     }
 
 }
