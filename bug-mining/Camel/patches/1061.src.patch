diff --git a/camel-core/src/main/java/org/apache/camel/util/ExchangeHelper.java b/camel-core/src/main/java/org/apache/camel/util/ExchangeHelper.java
index 9df78709a17..8a68a9349a7 100644
--- a/camel-core/src/main/java/org/apache/camel/util/ExchangeHelper.java
+++ b/camel-core/src/main/java/org/apache/camel/util/ExchangeHelper.java
@@ -318,9 +318,12 @@ public final class ExchangeHelper {
         map.put("headers", in.getHeaders());
         map.put("body", in.getBody());
         if (isOutCapable(exchange)) {
-            Message out = exchange.getOut();
-            map.put("out", out);
-            map.put("response", out);
+            // if we are out capable then set out and response as well
+            // however only grab OUT if it exists, otherwise reuse IN
+            // this prevents side effects to alter the Exchange if we force creating an OUT message
+            Message msg = exchange.hasOut() ? exchange.getOut() : exchange.getIn();
+            map.put("out", msg);
+            map.put("response", msg);
         }
         map.put("camelContext", exchange.getContext());
     }
diff --git a/camel-core/src/test/java/org/apache/camel/util/ExchangeHelperTest.java b/camel-core/src/test/java/org/apache/camel/util/ExchangeHelperTest.java
index 70f21876d54..cd9ecdd55fb 100644
--- a/camel-core/src/test/java/org/apache/camel/util/ExchangeHelperTest.java
+++ b/camel-core/src/test/java/org/apache/camel/util/ExchangeHelperTest.java
@@ -148,6 +148,30 @@ public class ExchangeHelperTest extends ContextTestSupport {
         assertSame(exchange.getContext(), map.get("camelContext"));
     }
 
+    public void testCreateVariableMapNoExistingOut() throws Exception {
+        exchange.setPattern(ExchangePattern.InOut);
+        exchange.getIn().setBody("bar");
+        exchange.getIn().setHeader("quote", "Camel rocks");
+        assertFalse(exchange.hasOut());
+
+        Map map = ExchangeHelper.createVariableMap(exchange);
+
+        // there should still be 8 in the map
+        assertEquals(8, map.size());
+        assertSame(exchange, map.get("exchange"));
+        assertSame(exchange.getIn(), map.get("in"));
+        assertSame(exchange.getIn(), map.get("request"));
+        assertSame(exchange.getIn(), map.get("out"));
+        assertSame(exchange.getIn(), map.get("response"));
+        assertSame(exchange.getIn().getHeaders(), map.get("headers"));
+        assertSame(exchange.getIn().getBody(), map.get("body"));
+        assertSame(exchange.getContext(), map.get("camelContext"));
+
+        // but the Exchange does still not have an OUT message to avoid
+        // causing side effects with the createVariableMap method
+        assertFalse(exchange.hasOut());
+    }
+
     public void testGetContentType() throws Exception {
         exchange.getIn().setHeader(Exchange.CONTENT_TYPE, "text/xml");
         assertEquals("text/xml", ExchangeHelper.getContentType(exchange));
diff --git a/tests/camel-itest/pom.xml b/tests/camel-itest/pom.xml
index b45b2fbe185..54c90a2eeb9 100644
--- a/tests/camel-itest/pom.xml
+++ b/tests/camel-itest/pom.xml
@@ -64,6 +64,11 @@
             <artifactId>camel-jetty</artifactId>
             <scope>test</scope>
         </dependency>
+        <dependency>
+            <groupId>org.apache.camel</groupId>
+            <artifactId>camel-groovy</artifactId>
+            <scope>test</scope>
+        </dependency>
         <dependency>
             <groupId>org.apache.camel</groupId>
             <artifactId>camel-http</artifactId>
diff --git a/tests/camel-itest/src/test/java/org/apache/camel/itest/jetty/JettyConstantSetHeaderTest.java b/tests/camel-itest/src/test/java/org/apache/camel/itest/jetty/JettyConstantSetHeaderTest.java
new file mode 100644
index 00000000000..0e12c56b475
--- /dev/null
+++ b/tests/camel-itest/src/test/java/org/apache/camel/itest/jetty/JettyConstantSetHeaderTest.java
@@ -0,0 +1,57 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.itest.jetty;
+
+import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.component.mock.MockEndpoint;
+import org.apache.camel.test.junit4.CamelTestSupport;
+import org.junit.Test;
+
+/**
+ * @version $Revision$
+ */
+public class JettyConstantSetHeaderTest extends CamelTestSupport {
+
+    @Test
+    public void testJettyConstantSetHeader() throws Exception {
+        getMockEndpoint("mock:before").message(0).header("beer").isNull();
+
+        MockEndpoint result = getMockEndpoint("mock:result");
+        result.expectedBodiesReceived("Hello World");
+        result.message(0).header("beer").isEqualTo("Carlsberg");
+
+        String reply = template.requestBody("http://localhost:8223/beer", "Hello World", String.class);
+        assertEquals("Bye World", reply);
+
+        assertMockEndpointsSatisfied();
+    }
+
+    @Override
+    protected RouteBuilder createRouteBuilder() throws Exception {
+        return new RouteBuilder() {
+            @Override
+            public void configure() throws Exception {
+                from("jetty:http://localhost:8223/beer")
+                        .convertBodyTo(String.class)
+                        .to("mock:before")
+                        .setHeader("beer", constant("Carlsberg"))
+                        .to("mock:result")
+                        .transform(constant("Bye World"));
+            }
+        };
+    }
+}
\ No newline at end of file
diff --git a/tests/camel-itest/src/test/java/org/apache/camel/itest/jetty/JettyGroovySetHeaderTest.java b/tests/camel-itest/src/test/java/org/apache/camel/itest/jetty/JettyGroovySetHeaderTest.java
new file mode 100644
index 00000000000..32f63696c1d
--- /dev/null
+++ b/tests/camel-itest/src/test/java/org/apache/camel/itest/jetty/JettyGroovySetHeaderTest.java
@@ -0,0 +1,59 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.itest.jetty;
+
+import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.component.mock.MockEndpoint;
+import org.apache.camel.test.junit4.CamelTestSupport;
+import org.junit.Test;
+
+import static org.apache.camel.language.groovy.GroovyLanguage.groovy;
+
+/**
+ * @version $Revision$
+ */
+public class JettyGroovySetHeaderTest extends CamelTestSupport {
+
+    @Test
+    public void testJettyGroovySetHeader() throws Exception {
+        getMockEndpoint("mock:before").message(0).header("beer").isNull();
+
+        MockEndpoint result = getMockEndpoint("mock:result");
+        result.expectedBodiesReceived("Hello World");
+        result.message(0).header("beer").isEqualTo("Carlsberg");
+
+        String reply = template.requestBody("http://localhost:8222/beer", "Hello World", String.class);
+        assertEquals("Bye World", reply);
+
+        assertMockEndpointsSatisfied();
+    }
+
+    @Override
+    protected RouteBuilder createRouteBuilder() throws Exception {
+        return new RouteBuilder() {
+            @Override
+            public void configure() throws Exception {
+                from("jetty:http://localhost:8222/beer")
+                        .convertBodyTo(String.class)
+                        .to("mock:before")
+                        .setHeader("beer", groovy("'Carlsberg'"))
+                        .to("mock:result")
+                        .transform(groovy("'Bye World'"));
+            }
+        };
+    }
+}
diff --git a/tests/camel-itest/src/test/java/org/apache/camel/itest/jetty/JettySimpleSetHeaderTest.java b/tests/camel-itest/src/test/java/org/apache/camel/itest/jetty/JettySimpleSetHeaderTest.java
new file mode 100644
index 00000000000..0a99f339a27
--- /dev/null
+++ b/tests/camel-itest/src/test/java/org/apache/camel/itest/jetty/JettySimpleSetHeaderTest.java
@@ -0,0 +1,59 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.itest.jetty;
+
+import org.apache.camel.builder.RouteBuilder;
+import org.apache.camel.component.mock.MockEndpoint;
+import org.apache.camel.test.junit4.CamelTestSupport;
+import org.junit.Test;
+
+import static org.apache.camel.language.simple.SimpleLanguage.simple;
+
+/**
+ * @version $Revision$
+ */
+public class JettySimpleSetHeaderTest extends CamelTestSupport {
+
+    @Test
+    public void testJettySimpleSetHeader() throws Exception {
+        getMockEndpoint("mock:before").message(0).header("beer").isNull();
+
+        MockEndpoint result = getMockEndpoint("mock:result");
+        result.expectedBodiesReceived("Hello World");
+        result.message(0).header("beer").isEqualTo("Carlsberg");
+
+        String reply = template.requestBody("http://localhost:8224/beer", "Hello World", String.class);
+        assertEquals("Bye World", reply);
+
+        assertMockEndpointsSatisfied();
+    }
+
+    @Override
+    protected RouteBuilder createRouteBuilder() throws Exception {
+        return new RouteBuilder() {
+            @Override
+            public void configure() throws Exception {
+                from("jetty:http://localhost:8224/beer")
+                        .convertBodyTo(String.class)
+                        .to("mock:before")
+                        .setHeader("beer", simple("Carlsberg"))
+                        .to("mock:result")
+                        .transform(simple("Bye World"));
+            }
+        };
+    }
+}
\ No newline at end of file
