diff --git a/camel-core/src/main/java/org/apache/camel/converter/IOConverter.java b/camel-core/src/main/java/org/apache/camel/converter/IOConverter.java
index 5d84444da00..6f18e6738a9 100644
--- a/camel-core/src/main/java/org/apache/camel/converter/IOConverter.java
+++ b/camel-core/src/main/java/org/apache/camel/converter/IOConverter.java
@@ -26,8 +26,6 @@ import java.io.File;
 import java.io.FileInputStream;
 import java.io.FileNotFoundException;
 import java.io.FileOutputStream;
-import java.io.FileReader;
-import java.io.FileWriter;
 import java.io.IOException;
 import java.io.InputStream;
 import java.io.InputStreamReader;
@@ -44,12 +42,8 @@ import java.io.Writer;
 import java.net.URL;
 import java.nio.charset.Charset;
 
-import javax.xml.transform.TransformerException;
-import javax.xml.transform.dom.DOMSource;
-
 import org.apache.camel.Converter;
 import org.apache.camel.Exchange;
-import org.apache.camel.converter.jaxp.XmlConverter;
 import org.apache.camel.util.IOHelper;
 import org.apache.camel.util.ObjectHelper;
 import org.apache.commons.logging.Log;
@@ -64,7 +58,6 @@ import org.apache.commons.logging.LogFactory;
 @Converter
 public final class IOConverter {
     private static final transient Log LOG = LogFactory.getLog(IOConverter.class);
-    private static XmlConverter xmlConverter;
 
     /**
      * Utility classes should not have a public constructor.
@@ -78,22 +71,18 @@ public final class IOConverter {
     }
 
     @Converter
-    public static InputStream toInputStream(File file) throws FileNotFoundException {
+    public static InputStream toInputStream(File file) throws IOException {
         return new BufferedInputStream(new FileInputStream(file));
     }
 
-    public static BufferedReader toReader(File file) throws FileNotFoundException {
+    @Deprecated
+    public static BufferedReader toReader(File file) throws IOException {
         return toReader(file, null);
     }
 
     @Converter
-    public static BufferedReader toReader(File file, Exchange exchange) throws FileNotFoundException {
-        try {
-            return new BufferedReader(new EncodingFileReader(file, getCharsetName(exchange)));
-        } catch (UnsupportedEncodingException e) {
-            LOG.warn("Cannot convert File into BufferedReader with charset: " + getCharsetName(exchange), e);
-            return new BufferedReader(new FileReader(file));
-        }
+    public static BufferedReader toReader(File file, Exchange exchange) throws IOException {
+        return new BufferedReader(new EncodingFileReader(file, getCharsetName(exchange)));
     }
 
     @Converter
@@ -106,46 +95,35 @@ public final class IOConverter {
         return new BufferedOutputStream(new FileOutputStream(file));
     }
 
+    @Deprecated
     public static BufferedWriter toWriter(File file) throws IOException {
         return toWriter(file, null);
     }
     
     @Converter
     public static BufferedWriter toWriter(File file, Exchange exchange) throws IOException {
-        try {   
-            return new BufferedWriter(new EncodingFileWriter(file, getCharsetName(exchange)));
-        } catch (UnsupportedEncodingException e) {
-            LOG.warn("Cannot convert File into BufferedWriter with charset: " + getCharsetName(exchange), e);
-            return new BufferedWriter(new FileWriter(file));
-        }
+        return new BufferedWriter(new EncodingFileWriter(file, getCharsetName(exchange)));
     }
 
-    public static Reader toReader(InputStream in) {
+    @Deprecated
+    public static Reader toReader(InputStream in) throws IOException {
         return toReader(in, null);
     }
         
     @Converter
-    public static Reader toReader(InputStream in, Exchange exchange) {
-        try {
-            return new InputStreamReader(in, getCharsetName(exchange));
-        } catch (UnsupportedEncodingException e) {
-            LOG.warn("Cannot convert InputStream into InputStreamReader with charset: " + getCharsetName(exchange), e);
-            return new InputStreamReader(in);
-        }
+    public static Reader toReader(InputStream in, Exchange exchange) throws IOException {
+        return new InputStreamReader(in, getCharsetName(exchange));
     }
 
-    public static Writer toWriter(OutputStream out) {
+    @Deprecated
+    public static Writer toWriter(OutputStream out) throws IOException {
         return toWriter(out, null);
     }
     
     @Converter
-    public static Writer toWriter(OutputStream out, Exchange exchange) {
-        try {
-            return new OutputStreamWriter(out, getCharsetName(exchange));
-        } catch (UnsupportedEncodingException e) {
-            LOG.warn("Cannot convert OutputStream into OutputStreamWriter with charset: " + getCharsetName(exchange), e);
-            return new OutputStreamWriter(out);
-        }
+    @Deprecated
+    public static Writer toWriter(OutputStream out, Exchange exchange) throws IOException {
+        return new OutputStreamWriter(out, getCharsetName(exchange));
     }
 
     @Converter
@@ -153,20 +131,17 @@ public final class IOConverter {
         return new StringReader(text);
     }
 
-    public static InputStream toInputStream(String text) {
+    @Deprecated
+    public static InputStream toInputStream(String text) throws IOException {
         return toInputStream(text, null);
     }
     
     @Converter
-    public static InputStream toInputStream(String text, Exchange exchange) {
-        try {
-            return toInputStream(text.getBytes(getCharsetName(exchange)));
-        } catch (UnsupportedEncodingException e) {
-            LOG.warn("Cannot convert String into InputStream with charset: " + getCharsetName(exchange), e);
-            return toInputStream(text.getBytes());
-        }
+    public static InputStream toInputStream(String text, Exchange exchange) throws IOException {
+        return toInputStream(text.getBytes(getCharsetName(exchange)));
     }
     
+    @Deprecated
     public static InputStream toInputStream(BufferedReader buffer) throws IOException {
         return toInputStream(buffer, null);
     }
@@ -176,34 +151,17 @@ public final class IOConverter {
         return toInputStream(toString(buffer), exchange);
     }
 
-    @Converter
-    public static InputStream toInputStrean(DOMSource source) throws TransformerException, IOException {
-        XmlConverter xmlConverter = createXmlConverter();
-        return new ByteArrayInputStream(xmlConverter.toString(source).getBytes());
-    }
-
-    private static synchronized XmlConverter createXmlConverter() {
-        if (xmlConverter == null) {
-            xmlConverter = new XmlConverter();
-        }
-        return xmlConverter;
-    }
-
-    public static String toString(byte[] data) {
+    @Deprecated
+    public static String toString(byte[] data) throws IOException {
         return toString(data, null);
     }
     
     @Converter
-    public static String toString(byte[] data, Exchange exchange) {
-        try {
-            return new String(data, getCharsetName(exchange));
-        } catch (UnsupportedEncodingException e) {
-            LOG.warn("Cannot convert byte[] into String with charset: " + getCharsetName(exchange), e);
-            return new String(data);
-        }
+    public static String toString(byte[] data, Exchange exchange) throws IOException {
+        return new String(data, getCharsetName(exchange));
     }
 
-
+    @Deprecated
     public static String toString(File file) throws IOException {
         return toString(file, null);
     }
@@ -218,6 +176,7 @@ public final class IOConverter {
         return toBytes(toInputStream(file));
     }
     
+    @Deprecated
     public static byte[] toByteArray(Reader reader) throws IOException {
         return toByteArray(reader, null);
     }
@@ -231,6 +190,7 @@ public final class IOConverter {
         }
     }
 
+    @Deprecated
     public static String toString(URL url) throws IOException {
         return toString(url, null);
     }
@@ -273,6 +233,7 @@ public final class IOConverter {
         return sb.toString();
     }
     
+    @Deprecated
     public static byte[] toByteArray(BufferedReader reader) throws IOException {
         return toByteArray(reader, null);
     }
@@ -282,20 +243,17 @@ public final class IOConverter {
         return toByteArray(toString(reader), exchange);
     }
 
-    public static byte[] toByteArray(String value) {
+    @Deprecated
+    public static byte[] toByteArray(String value) throws IOException {
         return toByteArray(value, null);
     }
 
     @Converter
-    public static byte[] toByteArray(String value, Exchange exchange) {
-        try {
-            return value != null ? value.getBytes(getCharsetName(exchange)) : null;
-        } catch (UnsupportedEncodingException e) {
-            LOG.warn("Cannot convert String into byte[] with charset: " + getCharsetName(exchange), e);
-            return value != null ? value.getBytes() : null;
-        }
+    public static byte[] toByteArray(String value, Exchange exchange) throws IOException {
+        return value != null ? value.getBytes(getCharsetName(exchange)) : null;
     }
 
+    @Deprecated
     public static String toString(InputStream in) throws IOException {
         return toString(in, null);
     }
@@ -344,18 +302,14 @@ public final class IOConverter {
         return os.toByteArray();
     }
 
-    public static String toString(ByteArrayOutputStream os) {
+    @Deprecated
+    public static String toString(ByteArrayOutputStream os) throws IOException {
         return toString(os, null);
     }
 
     @Converter
-    public static String toString(ByteArrayOutputStream os, Exchange exchange) {
-        try {
-            return os.toString(getCharsetName(exchange));
-        } catch (UnsupportedEncodingException e) {
-            LOG.warn("Cannot convert ByteArrayOutputStream into String with charset: " + getCharsetName(exchange), e);
-            return os.toString();
-        }
+    public static String toString(ByteArrayOutputStream os, Exchange exchange) throws IOException {
+        return os.toString(getCharsetName(exchange));
     }
 
     @Converter
diff --git a/camel-core/src/main/java/org/apache/camel/converter/NIOConverter.java b/camel-core/src/main/java/org/apache/camel/converter/NIOConverter.java
index c1f838df45f..4e0fa6f4a58 100644
--- a/camel-core/src/main/java/org/apache/camel/converter/NIOConverter.java
+++ b/camel-core/src/main/java/org/apache/camel/converter/NIOConverter.java
@@ -52,7 +52,7 @@ public final class NIOConverter {
     }
 
     @Converter
-    public static String toString(ByteBuffer buffer, Exchange exchange) {
+    public static String toString(ByteBuffer buffer, Exchange exchange) throws IOException {
         return IOConverter.toString(buffer.array(), exchange);
     }
 
diff --git a/camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java b/camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java
index b64b312c23b..2bcb33b069a 100644
--- a/camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java
+++ b/camel-core/src/main/java/org/apache/camel/converter/jaxp/XmlConverter.java
@@ -47,7 +47,6 @@ import javax.xml.transform.stream.StreamSource;
 import org.w3c.dom.Document;
 import org.w3c.dom.Element;
 import org.w3c.dom.Node;
-import org.w3c.dom.NodeList;
 import org.xml.sax.InputSource;
 import org.xml.sax.SAXException;
 import org.xml.sax.XMLReader;
@@ -569,6 +568,12 @@ public class XmlConverter {
         }
     }
 
+    @Converter
+    public InputStream toInputStrean(DOMSource source) throws TransformerException, IOException {
+        String s = toString(source);
+        return new ByteArrayInputStream(s.getBytes());
+    }
+
     // Properties
     //-------------------------------------------------------------------------
     public DocumentBuilderFactory getDocumentBuilderFactory() {
diff --git a/camel-core/src/test/java/org/apache/camel/converter/IOConverterTest.java b/camel-core/src/test/java/org/apache/camel/converter/IOConverterTest.java
index 128e45f38c6..7a48c778e8c 100644
--- a/camel-core/src/test/java/org/apache/camel/converter/IOConverterTest.java
+++ b/camel-core/src/test/java/org/apache/camel/converter/IOConverterTest.java
@@ -56,6 +56,12 @@ public class IOConverterTest extends ContextTestSupport {
         assertEquals('\n', (char) data[data.length - 1]);
     }
 
+    public void testToByteArray() throws Exception {
+        String val = null;
+        assertNull(IOConverter.toByteArray(val));
+        assertNull(IOConverter.toByteArray(val, null));
+    }
+
     public void testCopy() throws Exception {
         ByteArrayInputStream bis = new ByteArrayInputStream(TESTDATA);
         ByteArrayOutputStream bos = new ByteArrayOutputStream();
@@ -83,7 +89,7 @@ public class IOConverterTest extends ContextTestSupport {
         template.sendBodyAndHeader("file://target/test", "Hello World", Exchange.FILE_NAME, "hello.txt");
         File file = new File("target/test/hello.txt");
 
-        Writer writer = IOConverter.toWriter(file);
+        Writer writer = IOConverter.toWriter(file, null);
         assertNotNull(writer);
         writer.close();
     }
@@ -93,7 +99,7 @@ public class IOConverterTest extends ContextTestSupport {
         assertEquals("Hello", IOConverter.toString(reader));
     }
 
-    public void testToInputStreamExchange() {
+    public void testToInputStreamExchange() throws Exception {
         Exchange exchange = new DefaultExchange(context);
         exchange.setProperty(Exchange.CHARSET_NAME, ObjectHelper.getDefaultCharacterSet());
 
@@ -151,7 +157,7 @@ public class IOConverterTest extends ContextTestSupport {
     public void testToStringOutputStream() throws Exception {
         ByteArrayOutputStream os = new ByteArrayOutputStream();
         os.write("Hello World".getBytes());
-        String s = IOConverter.toString(os);
+        String s = IOConverter.toString(os, null);
         assertNotNull(s);
         assertEquals("Hello World", s);
     }
@@ -162,7 +168,7 @@ public class IOConverterTest extends ContextTestSupport {
 
         InputStream is = IOConverter.toInputStream(os);
         assertNotNull(is);
-        assertEquals("Hello World", IOConverter.toString(is));
+        assertEquals("Hello World", IOConverter.toString(is, null));
     }
 
     public void testToInputStreamUrl() throws Exception {
@@ -177,4 +183,19 @@ public class IOConverterTest extends ContextTestSupport {
         assertNotNull(s);
     }
 
+    public void testStringByBufferedReader() throws Exception {
+        BufferedReader reader = null;
+        assertNull(IOConverter.toString(reader));
+
+        BufferedReader br = new BufferedReader(new StringReader("Hello World"));
+        assertEquals("Hello World", IOConverter.toString(br));
+    }
+
+    public void testByteArrayByBufferedReader() throws Exception {
+        Reader reader = new StringReader("Hello World");
+        byte[] data = IOConverter.toByteArray(reader);
+        assertNotNull(data);
+        assertEquals("Hello World", context.getTypeConverter().convertTo(String.class, data));
+    }
+
 }
diff --git a/camel-core/src/test/java/org/apache/camel/converter/JaxpTest.java b/camel-core/src/test/java/org/apache/camel/converter/JaxpTest.java
index 16205aaaf00..addcff3e83e 100644
--- a/camel-core/src/test/java/org/apache/camel/converter/JaxpTest.java
+++ b/camel-core/src/test/java/org/apache/camel/converter/JaxpTest.java
@@ -85,7 +85,7 @@ public class JaxpTest extends TestCase {
         InputStream in = converter.convertTo(InputStream.class, source);
         assertNotNull("Could not convert from Source to InputStream!", in);
 
-        String actualText = IOConverter.toString(in);
+        String actualText = IOConverter.toString(in, null);
         assertEquals("Text", "<hello>world!</hello>", actualText);
 
     }
diff --git a/camel-core/src/test/java/org/apache/camel/converter/NIOConverterTest.java b/camel-core/src/test/java/org/apache/camel/converter/NIOConverterTest.java
index 9739fc792c6..a6cff28cbbe 100644
--- a/camel-core/src/test/java/org/apache/camel/converter/NIOConverterTest.java
+++ b/camel-core/src/test/java/org/apache/camel/converter/NIOConverterTest.java
@@ -35,7 +35,7 @@ public class NIOConverterTest extends ContextTestSupport {
         assertEquals(5, out.length);
     }
 
-    public void testToString() {
+    public void testToString() throws Exception {
         ByteBuffer bb = ByteBuffer.wrap("Hello".getBytes());
         String out = NIOConverter.toString(bb, null);
         assertNotNull(out);
@@ -107,7 +107,7 @@ public class NIOConverterTest extends ContextTestSupport {
         InputStream is = NIOConverter.toInputStream(bb);
         assertNotNull(is);
 
-        assertEquals("Hello", IOConverter.toString(is));
+        assertEquals("Hello", IOConverter.toString(is, null));
     }
 
 }
diff --git a/camel-core/src/test/java/org/apache/camel/converter/jaxp/XmlConverterTest.java b/camel-core/src/test/java/org/apache/camel/converter/jaxp/XmlConverterTest.java
index 0b6c5d7b054..bcb27de9ab6 100644
--- a/camel-core/src/test/java/org/apache/camel/converter/jaxp/XmlConverterTest.java
+++ b/camel-core/src/test/java/org/apache/camel/converter/jaxp/XmlConverterTest.java
@@ -351,4 +351,15 @@ public class XmlConverterTest extends ContextTestSupport {
         assertTrue(s.contains("<firstName>James</firstName>"));
     }
 
+    public void testToInputStreamByDomSource() throws Exception {
+        XmlConverter conv = new XmlConverter();
+
+        DOMSource source = conv.toDOMSource("<foo>bar</foo>");
+        InputStream out = conv.toInputStrean(source);
+        assertNotSame(source, out);
+
+        String s = context.getTypeConverter().convertTo(String.class, out);
+        assertEquals("<foo>bar</foo>", s);
+    }
+
 }
diff --git a/camel-core/src/test/java/org/apache/camel/converter/stream/CachedOutputStreamTest.java b/camel-core/src/test/java/org/apache/camel/converter/stream/CachedOutputStreamTest.java
index d7ef82cc85f..ee84671e9c9 100644
--- a/camel-core/src/test/java/org/apache/camel/converter/stream/CachedOutputStreamTest.java
+++ b/camel-core/src/test/java/org/apache/camel/converter/stream/CachedOutputStreamTest.java
@@ -129,7 +129,7 @@ public class CachedOutputStreamTest extends ContextTestSupport {
         assertEquals("we should have no temp file", files.length, 0);
         StreamCache cache = cos.getStreamCache();
         assertTrue("Should get the InputStreamCache", cache instanceof InputStreamCache);
-        String temp = IOConverter.toString((InputStream)cache);
+        String temp = IOConverter.toString((InputStream)cache, null);
         assertEquals("Cached a wrong file", temp, TEST_STRING);
 
         exchange.getUnitOfWork().done(exchange);
@@ -148,7 +148,7 @@ public class CachedOutputStreamTest extends ContextTestSupport {
         assertEquals("we should have no temp file", files.length, 0);
         StreamCache cache = cos.getStreamCache();
         assertTrue("Should get the InputStreamCache", cache instanceof InputStreamCache);
-        String temp = IOConverter.toString((InputStream)cache);
+        String temp = IOConverter.toString((InputStream)cache, null);
         assertEquals("Cached a wrong file", temp, TEST_STRING);
 
         exchange.getUnitOfWork().done(exchange);
diff --git a/camel-core/src/test/java/org/apache/camel/converter/stream/StreamCacheConverterTest.java b/camel-core/src/test/java/org/apache/camel/converter/stream/StreamCacheConverterTest.java
index 1ed66f7e741..4293cb8b310 100644
--- a/camel-core/src/test/java/org/apache/camel/converter/stream/StreamCacheConverterTest.java
+++ b/camel-core/src/test/java/org/apache/camel/converter/stream/StreamCacheConverterTest.java
@@ -74,8 +74,8 @@ public class StreamCacheConverterTest extends ContextTestSupport {
         InputStream is = getTestFileStream();
         InputStream cache = (InputStream)converter.convertToStreamCache(is, exchange);
         //assert re-readability of the cached InputStream
-        assertNotNull(IOConverter.toString(cache));
-        assertNotNull(IOConverter.toString(cache));
+        assertNotNull(IOConverter.toString(cache, null));
+        assertNotNull(IOConverter.toString(cache, null));
     }
     
     public void testConvertToStreamCacheInpuStreamWithFileCache() throws Exception {
@@ -85,7 +85,7 @@ public class StreamCacheConverterTest extends ContextTestSupport {
         exchange.getContext().setProperties(properties);
         InputStream is = getTestFileStream();
         InputStream cache = (InputStream)converter.convertToStreamCache(is, exchange);
-        assertNotNull(IOConverter.toString(cache));
+        assertNotNull(IOConverter.toString(cache, null));
         try {
             // since the stream is closed you delete the temp file
             // reset will not work any more
diff --git a/camel-core/src/test/java/org/apache/camel/impl/GzipDataFormatTest.java b/camel-core/src/test/java/org/apache/camel/impl/GzipDataFormatTest.java
index c67f666b61e..a2751789afb 100644
--- a/camel-core/src/test/java/org/apache/camel/impl/GzipDataFormatTest.java
+++ b/camel-core/src/test/java/org/apache/camel/impl/GzipDataFormatTest.java
@@ -55,7 +55,7 @@ public class GzipDataFormatTest extends ContextTestSupport {
         byte[] output = sendText();
 
         GZIPInputStream stream = new GZIPInputStream(new ByteArrayInputStream(output));
-        String result = IOConverter.toString(stream);
+        String result = IOConverter.toString(stream, null);
         assertEquals("Uncompressed something different than compressed", TEXT, result);
     }
 
diff --git a/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java b/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java
index 7a6112ceb0f..46c58dae92d 100755
--- a/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java
+++ b/components/camel-cache/src/main/java/org/apache/camel/processor/cache/CacheBasedXPathReplacer.java
@@ -80,10 +80,9 @@ public class CacheBasedXPathReplacer extends CacheValidate implements Processor
                 is.close();
             }
 
-            InputStream cis = exchange.getContext().getTypeConverter().convertTo(
-                                                                                 InputStream.class,
-                                                                                 cache.get(key)
-                                                                                     .getObjectValue());
+            InputStream cis = exchange.getContext().getTypeConverter()
+                .convertTo(InputStream.class, cache.get(key).getObjectValue());
+
             try {
                 Document cacheValueDocument = exchange.getContext().getTypeConverter()
                     .convertTo(Document.class, exchange, cis);
@@ -105,9 +104,9 @@ public class CacheBasedXPathReplacer extends CacheValidate implements Processor
             }
         }
 
-        exchange.getIn().setBody(
-                                 IOConverter.toBytes(IOConverter
-                                     .toInputStrean(new DOMSource(result.getNode()))));
+        // DOMSource can be coverted to byte[] by camel type converter mechanism
+        DOMSource dom = new DOMSource(result.getNode());
+        exchange.getIn().setBody(dom, byte[].class);
     }
 
     public String getCacheName() {
diff --git a/components/camel-stringtemplate/src/main/java/org/apache/camel/component/stringtemplate/StringTemplateEndpoint.java b/components/camel-stringtemplate/src/main/java/org/apache/camel/component/stringtemplate/StringTemplateEndpoint.java
index 882f87e1d4a..7503bb3e138 100644
--- a/components/camel-stringtemplate/src/main/java/org/apache/camel/component/stringtemplate/StringTemplateEndpoint.java
+++ b/components/camel-stringtemplate/src/main/java/org/apache/camel/component/stringtemplate/StringTemplateEndpoint.java
@@ -26,7 +26,6 @@ import org.apache.camel.ExchangePattern;
 import org.apache.camel.Message;
 import org.apache.camel.Processor;
 import org.apache.camel.component.ResourceBasedEndpoint;
-import org.apache.camel.converter.IOConverter;
 import org.apache.camel.util.ExchangeHelper;
 
 /**
@@ -58,7 +57,7 @@ public class StringTemplateEndpoint extends ResourceBasedEndpoint {
         Map variableMap = ExchangeHelper.createVariableMap(exchange);
 
         // getResourceAsInputStream also considers the content cache
-        String text = IOConverter.toString(getResourceAsInputStream());
+        String text = exchange.getContext().getTypeConverter().mandatoryConvertTo(String.class, getResourceAsInputStream());
         StringTemplate template = new StringTemplate(text);
         template.setAttributes(variableMap);
         if (log.isDebugEnabled()) {
diff --git a/components/camel-xmlsecurity/src/main/java/org/apache/camel/dataformat/xmlsecurity/XMLSecurityDataFormat.java b/components/camel-xmlsecurity/src/main/java/org/apache/camel/dataformat/xmlsecurity/XMLSecurityDataFormat.java
index 65e07c7e867..de3df0f38a6 100755
--- a/components/camel-xmlsecurity/src/main/java/org/apache/camel/dataformat/xmlsecurity/XMLSecurityDataFormat.java
+++ b/components/camel-xmlsecurity/src/main/java/org/apache/camel/dataformat/xmlsecurity/XMLSecurityDataFormat.java
@@ -35,7 +35,6 @@ import org.w3c.dom.Node;
 import org.w3c.dom.traversal.NodeIterator;
 
 import org.apache.camel.Exchange;
-import org.apache.camel.converter.IOConverter;
 import org.apache.camel.spi.DataFormat;
 import org.apache.camel.util.ExchangeHelper;
 import org.apache.camel.util.IOHelper;
@@ -84,12 +83,9 @@ public class XMLSecurityDataFormat implements DataFormat {
 
     public void marshal(Exchange exchange, Object graph, OutputStream stream) throws Exception {
 
-        // Retrieve the message body as byte array
-        InputStream is = exchange.getContext().getTypeConverter().convertTo(InputStream.class, graph);
-        if (is == null) {
-            throw new IllegalArgumentException("Cannot get the inputstream for XMLSecurityDataFormat mashalling");
-        }
-
+        // Retrieve the message body as input stream
+        InputStream is = exchange.getContext().getTypeConverter().mandatoryConvertTo(InputStream.class, graph);
+        // and covert that to XML
         Document document = exchange.getContext().getTypeConverter().convertTo(Document.class, exchange, is);
 
         Key keyEncryptionkey;
@@ -121,9 +117,10 @@ public class XMLSecurityDataFormat implements DataFormat {
             }
         }
 
-        DOMSource source = new DOMSource(document);
         try {
-            IOHelper.copy(IOConverter.toInputStrean(source), stream);
+            DOMSource source = new DOMSource(document);
+            InputStream sis = exchange.getContext().getTypeConverter().mandatoryConvertTo(InputStream.class, source);
+            IOHelper.copy(sis, stream);
         } finally {
             stream.close();
         }
@@ -158,11 +155,11 @@ public class XMLSecurityDataFormat implements DataFormat {
             }
         }
 
-        DOMSource source = new DOMSource(encodedDocument);
-
         ByteArrayOutputStream bos = new ByteArrayOutputStream();
         try {
-            IOHelper.copy(IOConverter.toInputStrean(source), bos);
+            DOMSource source = new DOMSource(encodedDocument);
+            InputStream sis = exchange.getContext().getTypeConverter().mandatoryConvertTo(InputStream.class, source);
+            IOHelper.copy(sis, bos);
         } finally {
             bos.close();
         }
