diff --git a/camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java b/camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java
index f88fd98e982..873ca8c15c2 100644
--- a/camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java
+++ b/camel-core/src/main/java/org/apache/camel/component/file/FileOperations.java
@@ -62,6 +62,11 @@ public class FileOperations implements GenericFileOperations<File> {
         return file.renameTo(target);
     }
 
+    public boolean existsFile(String name) throws GenericFileOperationFailedException {
+        File file = new File(name);
+        return file.exists();
+    }
+
     public boolean buildDirectory(String directory, boolean absolute) throws GenericFileOperationFailedException {
         ObjectHelper.notNull(endpoint, "endpoint");       
 
diff --git a/camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java b/camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java
index 0728f3631e9..890858a5775 100644
--- a/camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java
+++ b/camel-core/src/main/java/org/apache/camel/component/file/GenericFileConsumer.java
@@ -121,7 +121,7 @@ public abstract class GenericFileConsumer<T> extends ScheduledPollConsumer imple
         }
         
         // remove the file from the in progress list in case the batch was limited by max messages per poll
-        for (int index = 0; index < exchanges.size() && isRunAllowed(); index++) {
+        while (exchanges.size() > 0) {
             Exchange exchange = (Exchange) exchanges.poll();
             GenericFile<T> file = (GenericFile<T>) exchange.getProperty(FileComponent.FILE_EXCHANGE_FILE);
             String key = file.getFileName();
diff --git a/camel-core/src/main/java/org/apache/camel/component/file/GenericFileOperations.java b/camel-core/src/main/java/org/apache/camel/component/file/GenericFileOperations.java
index c4cf9718477..0ea06106fa0 100644
--- a/camel-core/src/main/java/org/apache/camel/component/file/GenericFileOperations.java
+++ b/camel-core/src/main/java/org/apache/camel/component/file/GenericFileOperations.java
@@ -38,6 +38,15 @@ public interface GenericFileOperations<T> {
      */
     boolean deleteFile(String name) throws GenericFileOperationFailedException;
 
+    /**
+     * Determines whether the files exists or not
+     *
+     * @param name name of the file
+     * @return true if exists, false if not
+     * @throws GenericFileOperationFailedException can be thrown
+     */
+    boolean existsFile(String name) throws GenericFileOperationFailedException;
+
     /**
      * Renames the file
      *
diff --git a/camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileDeleteProcessStrategy.java b/camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileDeleteProcessStrategy.java
index f55a0433022..cdd88c45099 100644
--- a/camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileDeleteProcessStrategy.java
+++ b/camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileDeleteProcessStrategy.java
@@ -29,9 +29,35 @@ public class GenericFileDeleteProcessStrategy<T> extends GenericFileProcessStrat
         // must invoke super
         super.commit(operations, endpoint, exchange, file);
 
-        boolean deleted = operations.deleteFile(file.getAbsoluteFilePath());
+        int retries = 3;
+        boolean deleted = false;
+
+        while (retries > 0 && !deleted) {
+            retries--;
+
+            if (operations.deleteFile(file.getAbsoluteFilePath())) {
+                // file is deleted
+                deleted = true;
+                break;
+            }
+
+            // some OS can report false when deleting but the file is still deleted
+            // use exists to check instead
+            boolean exits = operations.existsFile(file.getAbsoluteFilePath());
+            if (!exits) {
+                deleted = true;
+            } else {
+                if (log.isTraceEnabled()) {
+                    log.trace("File was not deleted at this attempt will try again in 1 sec.: " + file);
+                }
+                // sleep a bit and try again
+                Thread.sleep(1000);
+            }
+        }
+
         if (!deleted) {
             throw new GenericFileOperationFailedException("Cannot delete file: " + file);
         }
     }
+
 }
\ No newline at end of file
diff --git a/camel-core/src/main/java/org/apache/camel/impl/DefaultUnitOfWork.java b/camel-core/src/main/java/org/apache/camel/impl/DefaultUnitOfWork.java
index ff2322d718c..d3fa4c67b08 100644
--- a/camel-core/src/main/java/org/apache/camel/impl/DefaultUnitOfWork.java
+++ b/camel-core/src/main/java/org/apache/camel/impl/DefaultUnitOfWork.java
@@ -50,6 +50,8 @@ public class DefaultUnitOfWork implements TraceableUnitOfWork, Service {
     private Message originalInMessage;
 
     public DefaultUnitOfWork(Exchange exchange) {
+        // TODO: optimize to only copy original message if enabled to do so in the route
+
         // special for JmsMessage as it can cause it to loose headers later. Yeah JMS suchs
         if (exchange.getIn().getClass().getSimpleName().equals("JmsMessage")) {
             this.originalInMessage = new DefaultMessage();
diff --git a/camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java b/camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java
index 7edd5efb741..756a85fd2f9 100644
--- a/camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java
+++ b/camel-core/src/main/java/org/apache/camel/processor/LoggingErrorHandler.java
@@ -132,6 +132,8 @@ public class LoggingErrorHandler extends ErrorHandlerSupport {
                 log.warn(logMessage(exchange, e), e);
             }
             break;
+        case OFF:
+            break;
         default:
             log.error("Unknown level: " + level + " when trying to log exchange: " + logMessage(exchange, e), e);
         }
diff --git a/camel-core/src/test/java/org/apache/camel/component/file/strategy/GenericFileDeleteProcessStrategyTest.java b/camel-core/src/test/java/org/apache/camel/component/file/strategy/GenericFileDeleteProcessStrategyTest.java
new file mode 100644
index 00000000000..4fa037e39a4
--- /dev/null
+++ b/camel-core/src/test/java/org/apache/camel/component/file/strategy/GenericFileDeleteProcessStrategyTest.java
@@ -0,0 +1,133 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.camel.component.file.strategy;
+
+import java.util.List;
+
+import org.apache.camel.ContextTestSupport;
+import org.apache.camel.Exchange;
+import org.apache.camel.component.file.GenericFile;
+import org.apache.camel.component.file.GenericFileEndpoint;
+import org.apache.camel.component.file.GenericFileOperationFailedException;
+import org.apache.camel.component.file.GenericFileOperations;
+
+/**
+ * Unit test about retrying deleting processed file, that can be a bit more tricky
+ * on some OS as java.io.delete can return wrong answer
+ *
+ * @version $Revision$
+ */
+public class GenericFileDeleteProcessStrategyTest extends ContextTestSupport {
+
+    private static int existsCounter;
+    private static int deleteCounter;
+
+
+    private class MyGenericFileOperations implements GenericFileOperations {
+
+        public void setEndpoint(GenericFileEndpoint endpoint) {
+        }
+
+        public boolean deleteFile(String name) throws GenericFileOperationFailedException {
+            deleteCounter++;
+            return false;
+        }
+
+        public boolean existsFile(String name) throws GenericFileOperationFailedException {
+            existsCounter++;
+
+            if ("target/foo/boom.txt".equals(name)) {
+                // test that we can newer delete this file
+                return true;
+            }
+
+            return existsCounter <= 1;
+        }
+
+        public boolean renameFile(String from, String to) throws GenericFileOperationFailedException {
+            return false;
+        }
+
+        public boolean buildDirectory(String directory, boolean absolute) throws GenericFileOperationFailedException {
+            return false;
+        }
+
+        public boolean retrieveFile(String name, Exchange exchange) throws GenericFileOperationFailedException {
+            return false;
+        }
+
+        public boolean storeFile(String name, Exchange exchange) throws GenericFileOperationFailedException {
+            return false;
+        }
+
+        public String getCurrentDirectory() throws GenericFileOperationFailedException {
+            return null;
+        }
+
+        public void changeCurrentDirectory(String path) throws GenericFileOperationFailedException {
+        }
+
+        public List listFiles() throws GenericFileOperationFailedException {
+            return null;
+        }
+
+        public List listFiles(String path) throws GenericFileOperationFailedException {
+            return null;
+        }
+    }
+
+    @SuppressWarnings("unchecked")
+    public void testTroubleDeletingFile() throws Exception {
+        deleteCounter = 0;
+        existsCounter = 0;
+
+        GenericFileEndpoint endpoint = context.getEndpoint("file://target/foo", GenericFileEndpoint.class);
+        Exchange exchange = endpoint.createExchange();
+
+        GenericFile file = new GenericFile();
+        file.setAbsoluteFilePath("target/foo/me.txt");
+
+        GenericFileDeleteProcessStrategy strategy = new GenericFileDeleteProcessStrategy();
+        strategy.commit(new MyGenericFileOperations(), endpoint, exchange, file);
+
+        assertEquals("Should have tried to delete file 2 times", 2, deleteCounter);
+        assertEquals("Should have tried to delete file 2 times", 2, existsCounter);
+    }
+
+    @SuppressWarnings("unchecked")
+    public void testCannotDeleteFile() throws Exception {
+        deleteCounter = 0;
+        existsCounter = 0;
+
+        GenericFileEndpoint endpoint = context.getEndpoint("file://target/foo", GenericFileEndpoint.class);
+        Exchange exchange = endpoint.createExchange();
+
+        GenericFile file = new GenericFile();
+        file.setAbsoluteFilePath("target/foo/boom.txt");
+
+        GenericFileDeleteProcessStrategy strategy = new GenericFileDeleteProcessStrategy();
+        try {
+            strategy.commit(new MyGenericFileOperations(), endpoint, exchange, file);
+            fail("Should have thrown an exception");
+        } catch (GenericFileOperationFailedException e) {
+            // expected
+        }
+
+        assertEquals("Should have tried to delete file 3 times", 3, deleteCounter);
+        assertEquals("Should have tried to delete file 3 times", 3, existsCounter);
+    }
+}
