diff --git a/dsl/camel-kamelet-main/src/main/java/org/apache/camel/main/download/DependencyDownloaderClassResolver.java b/dsl/camel-kamelet-main/src/main/java/org/apache/camel/main/download/DependencyDownloaderClassResolver.java
index fb5a9473802..0e662c0e181 100644
--- a/dsl/camel-kamelet-main/src/main/java/org/apache/camel/main/download/DependencyDownloaderClassResolver.java
+++ b/dsl/camel-kamelet-main/src/main/java/org/apache/camel/main/download/DependencyDownloaderClassResolver.java
@@ -16,6 +16,8 @@
  */
 package org.apache.camel.main.download;
 
+import java.io.InputStream;
+
 import org.apache.camel.CamelContext;
 import org.apache.camel.impl.engine.DefaultClassResolver;
 import org.apache.camel.util.ObjectHelper;
@@ -32,6 +34,35 @@ public final class DependencyDownloaderClassResolver extends DefaultClassResolve
         this.knownDependenciesResolver = knownDependenciesResolver;
     }
 
+    @Override
+    public InputStream loadResourceAsStream(String uri) {
+        InputStream answer = null;
+        try {
+            answer = super.loadResourceAsStream(uri);
+        } catch (Exception e) {
+            // uri cannot be loaded, likely need maven GAV
+        }
+
+        if (answer == null) {
+            // okay maybe the class is from a known GAV that we can download first and then load the class
+            MavenGav gav = knownDependenciesResolver.mavenGavForClass(uri);
+            if (gav != null) {
+                if (!downloader.alreadyOnClasspath(gav.getGroupId(), gav.getArtifactId(),
+                        gav.getVersion())) {
+                    downloader.downloadDependency(gav.getGroupId(), gav.getArtifactId(),
+                            gav.getVersion());
+                }
+                try {
+                    answer = super.loadResourceAsStream(uri);
+                } catch (Exception e) {
+                    // ignore
+                }
+            }
+        }
+
+        return answer;
+    }
+
     @Override
     protected Class<?> loadClass(String name, ClassLoader loader) {
         Class<?> answer = null;
@@ -53,7 +84,7 @@ public final class DependencyDownloaderClassResolver extends DefaultClassResolve
                 try {
                     answer = ObjectHelper.loadClass(name, loader);
                 } catch (Exception e) {
-                    // class cannot be loaded, likely need maven GAV
+                    // ignore
                 }
             }
         }
diff --git a/dsl/camel-kamelet-main/src/main/resources/camel-main-known-dependencies.properties b/dsl/camel-kamelet-main/src/main/resources/camel-main-known-dependencies.properties
index 3623a69da45..37e6b499cb4 100644
--- a/dsl/camel-kamelet-main/src/main/resources/camel-main-known-dependencies.properties
+++ b/dsl/camel-kamelet-main/src/main/resources/camel-main-known-dependencies.properties
@@ -25,3 +25,4 @@ org.apache.qpid.jms.JmsConnectionFactory = org.apache.qpid:qpid-jms-client:1.7.0
 org.postgresql.Driver = org.postgresql:postgresql:42.5.0
 org.apache.camel.component.cxf.jaxws.CxfEndpoint = camel:cxf-soap
 org.apache.camel.component.cxf.jaxrs.CxfRsEndpoint = camel:cxf-rest
+META-INF/services/org/apache/camel/restapi/openapi = camel:openapi-java
\ No newline at end of file
