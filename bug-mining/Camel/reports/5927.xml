<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:50:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-17151] camel-openapi-java - Double slashes in api-doc</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-17151</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;~/workspace &#10095; curl &lt;a href=&quot;http://localhost:8080/api/api-doc/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/api/api-doc/&lt;/a&gt;                                                                                                                                &#10008; INT&lt;br/&gt;
{&lt;br/&gt;
  &quot;openapi&quot; : &quot;3.0.2&quot;,&lt;br/&gt;
  &quot;info&quot; : &lt;/p&gt;
{
    &quot;title&quot; : &quot;User API&quot;,
    &quot;version&quot; : &quot;1.0.0&quot;
  }
&lt;p&gt;,&lt;br/&gt;
  &quot;servers&quot; : [ &lt;/p&gt;
{
    &quot;url&quot; : &quot;/api&quot;
  }
&lt;p&gt; ],&lt;br/&gt;
  &quot;paths&quot; : {&lt;br/&gt;
    &quot;/api//users&quot; : {&lt;br/&gt;
      &quot;get&quot; : {&lt;br/&gt;
        &quot;tags&quot; : [ &quot;/api//users/users&quot; ],&lt;br/&gt;
        &quot;responses&quot; : {&lt;br/&gt;
          &quot;200&quot; : {&lt;br/&gt;
            &quot;content&quot; : {&lt;br/&gt;
              &quot;application/json&quot; : {&lt;br/&gt;
                &quot;schema&quot; : {&lt;br/&gt;
                  &quot;type&quot; : &quot;array&quot;,&lt;br/&gt;
                  &quot;items&quot; : &lt;/p&gt;
{
                    &quot;$ref&quot; : &quot;#/components/schemas/User&quot;
                  }
&lt;p&gt;                }&lt;br/&gt;
              }&lt;br/&gt;
            },&lt;br/&gt;
            &quot;description&quot; : &quot;All users successfully returned&quot;&lt;br/&gt;
          }&lt;br/&gt;
        },&lt;br/&gt;
        &quot;operationId&quot; : &quot;verb1&quot;,&lt;br/&gt;
        &quot;summary&quot; : &quot;Find all users&quot;&lt;br/&gt;
      }&lt;br/&gt;
    },&lt;br/&gt;
    &quot;/api//users/&lt;/p&gt;
{id}
&lt;p&gt;&quot; : {&lt;br/&gt;
      &quot;get&quot; : {&lt;br/&gt;
        &quot;tags&quot; : [ &quot;/api//users/users&quot; ],&lt;/p&gt;</description>
                <environment></environment>
        <key id="13409309">CAMEL-17151</key>
            <summary>camel-openapi-java - Double slashes in api-doc</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Steve973">Steve Storck</assignee>
                                    <reporter username="davsclaus">Claus Ibsen</reporter>
                        <labels>
                    </labels>
                <created>Sun, 31 Oct 2021 08:40:31 +0000</created>
                <updated>Mon, 1 Nov 2021 05:57:21 +0000</updated>
                            <resolved>Mon, 1 Nov 2021 05:57:21 +0000</resolved>
                                                    <fixVersion>3.13.0</fixVersion>
                                    <component>camel-openapi-java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17436426" author="davsclaus" created="Sun, 31 Oct 2021 08:41:18 +0000"  >&lt;p&gt;We have double slashes at&lt;/p&gt;

&lt;p&gt;&quot;/api//users&quot; : {&lt;/p&gt;</comment>
                            <comment id="17436430" author="davsclaus" created="Sun, 31 Oct 2021 08:46:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Steve973&quot; class=&quot;user-hover&quot; rel=&quot;Steve973&quot;&gt;Steve973&lt;/a&gt; - If you run the example you have that double slash problem.&lt;/p&gt;

&lt;p&gt;If you have some time to invest then you are welcome, its likely in the camel-openapi-java module where it builds up the api model. And you have this problem when using camel-servlet and how those leading context-path is defined.&lt;/p&gt;

&lt;p&gt;When you found the spot its likely an easy fix, to just check if there are double slashes and remove on of them.&lt;/p&gt;

&lt;p&gt;In the Rest DSL you can also workaround by removing the leading slash&lt;/p&gt;

&lt;p&gt;        rest(&quot;/users&quot;).description(&quot;User REST service&quot;)&lt;br/&gt;
            .consumes(&quot;application/json&quot;)&lt;br/&gt;
            .produces(&quot;application/json&quot;)&lt;/p&gt;

&lt;p&gt;Change to&lt;/p&gt;

&lt;p&gt;        rest(&quot;users&quot;).description(&quot;User REST service&quot;)&lt;br/&gt;
            .consumes(&quot;application/json&quot;)&lt;br/&gt;
            .produces(&quot;application/json&quot;)&lt;/p&gt;

&lt;p&gt;But its a common practice to start with a slash in the rest-dsl&lt;/p&gt;</comment>
                            <comment id="17436431" author="davsclaus" created="Sun, 31 Oct 2021 08:47:01 +0000"  >&lt;p&gt;How to reproduce&lt;/p&gt;

&lt;p&gt;Run this example&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/camel-spring-boot-examples/tree/main/rest-openapi-springdoc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel-spring-boot-examples/tree/main/rest-openapi-springdoc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;And then output the api-doc with&lt;br/&gt;
curl &lt;a href=&quot;http://localhost:8080/api/api-doc/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/api/api-doc/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17436501" author="steve973" created="Sun, 31 Oct 2021 16:07:03 +0000"  >&lt;p&gt;I can take a look at camel-openapi-java for a bit today.&#160; Maybe it is as simple as substituting all multiple instances of a forward slash with single slashes.&#160; I&apos;ll comment again when I confirm that it&apos;s just a string building issue.&lt;/p&gt;</comment>
                            <comment id="17436570" author="steve973" created="Sun, 31 Oct 2021 23:11:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;&#160;I have fixed this issue and I have created a pull request.&#160; Please have a look when it is convenient for you, and thanks for allowing me to help.&lt;/p&gt;</comment>
                            <comment id="17436622" author="davsclaus" created="Mon, 1 Nov 2021 05:57:21 +0000"  >&lt;p&gt;Thanks for fixing this&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13405777">CAMEL-17061</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0wbeg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>