<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:06:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-8226] Deprecated feature dataSourceRef not working correctly</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-8226</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;If several sql endpoints are defined using dataSourceRef attribute the latest one will not get dataSourceRef removed in createEndpoint causing validation exception.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12766659">CAMEL-8226</key>
            <summary>Deprecated feature dataSourceRef not working correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="graben">Benjamin Graf</reporter>
                        <labels>
                    </labels>
                <created>Sat, 10 Jan 2015 18:02:16 +0000</created>
                <updated>Tue, 10 Feb 2015 09:02:30 +0000</updated>
                            <resolved>Tue, 10 Feb 2015 08:30:40 +0000</resolved>
                                    <version>2.14.1</version>
                                    <fixVersion>2.13.4</fixVersion>
                    <fixVersion>2.14.2</fixVersion>
                    <fixVersion>2.15.0</fixVersion>
                                    <component>camel-sql</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14313767" author="githubbot" created="Tue, 10 Feb 2015 07:54:37 +0000"  >&lt;p&gt;GitHub user igarashitm opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/388&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/388&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8226&quot; title=&quot;Deprecated feature dataSourceRef not working correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8226&quot;&gt;&lt;del&gt;CAMEL-8226&lt;/del&gt;&lt;/a&gt; Deprecated feature dataSourceRef not working correctly&lt;/p&gt;

&lt;p&gt;    If you try to create more than one of endpoint from SqlComponent with specifying dataSourceRef option, it doesn&apos;t remove dataSourceRef option from URL on 2nd attempt as dataSource object is already populated on 1st attempt, causes org.apache.camel.ResolveEndpointFailedException&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/igarashitm/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/igarashitm/camel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8226&quot; title=&quot;Deprecated feature dataSourceRef not working correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8226&quot;&gt;&lt;del&gt;CAMEL-8226&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/388.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/388.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #388&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2ccb7b87a650df1e18498df715148db2f2029631&lt;br/&gt;
Author: Tomohisa Igarashi &amp;lt;tm.igarashi@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-02-10T07:45:36Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8226&quot; title=&quot;Deprecated feature dataSourceRef not working correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8226&quot;&gt;&lt;del&gt;CAMEL-8226&lt;/del&gt;&lt;/a&gt; Deprecated feature dataSourceRef not working correctly&lt;/p&gt;

&lt;p&gt;    If you try to create more than one of endpoint from SqlComponent with specifying dataSourceRef option, it doesn&apos;t remove dataSourceRef option from URL on 2nd attempt as dataSource object is already populated on 1st attempt, causes org.apache.camel.ResolveEndpointFailedException&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14313783" author="davsclaus" created="Tue, 10 Feb 2015 08:10:11 +0000"  >&lt;p&gt;Well spotted, in fact the code is a bit wrong as the endpoint options should overrule the component configured, the correct code would be&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-comment&quot;&gt;// endpoint options overrule component configured datasource
&lt;/span&gt;        DataSource ds = resolveAndRemoveReferenceParameter(parameters, &lt;span class=&quot;code-quote&quot;&gt;&quot;dataSource&quot;&lt;/span&gt;, DataSource.class);
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; dataSourceRef = getAndRemoveParameter(parameters, &lt;span class=&quot;code-quote&quot;&gt;&quot;dataSourceRef&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ds == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; dataSourceRef != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            ds = CamelContextHelper.mandatoryLookup(getCamelContext(), dataSourceRef, DataSource.class);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ds == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-comment&quot;&gt;// fallback and use component
&lt;/span&gt;            ds = dataSource;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ds == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;code-quote&quot;&gt;&quot;DataSource must be configured&quot;&lt;/span&gt;);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14313808" author="davsclaus" created="Tue, 10 Feb 2015 08:30:40 +0000"  >&lt;p&gt;Thanks for the PR&lt;/p&gt;</comment>
                            <comment id="14313855" author="githubbot" created="Tue, 10 Feb 2015 09:02:30 +0000"  >&lt;p&gt;Github user igarashitm closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/388&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/388&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2489j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>