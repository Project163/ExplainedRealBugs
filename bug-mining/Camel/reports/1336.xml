<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:42:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-3617] Inconsistent filename value when move attribute is used with File component</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3617</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Unless I miss a point, when I use the following endpoint, the &lt;a href=&quot;file:name&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:name&lt;/a&gt; value is incorrect and is equal to &lt;a href=&quot;file:absolute.path&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:absolute.path&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;endpoint id=&quot;fileEndpoint&quot; uri=&quot;file:${queue.input.folder}?recursive=true&amp;amp;include=.*\.dat&amp;amp;move=${queue.done.folder}/$simple&lt;/p&gt;
{file:name}
&lt;p&gt;&amp;amp;moveFailed=${queue.failed.folder}/$simple&lt;/p&gt;
{file:name}
&lt;p&gt;&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;${queue.input.folder}, ${queue.done.folder} and ${queue.failed.folder} are absolute paths resolved by Spring.&lt;/p&gt;

&lt;p&gt;In fact, Camel tries to move the file to ${queue.done.folder}/${queue.input.folder}/$simple&lt;/p&gt;
{file:name}
&lt;p&gt;I&apos;ve also tried using $simple&lt;/p&gt;
{header.CamelFileName}
&lt;p&gt; instead of $simple&lt;/p&gt;
{file:name}
&lt;p&gt; and it gives the same result.&lt;/p&gt;

&lt;p&gt;For now, I&apos;ve found a workaround using a processor which put the CamelFileName header value into a &quot;destFile&quot; property &lt;br/&gt;
&amp;lt;endpoint id=&quot;fileEndpoint&quot; uri=&quot;file:${queue.input.folder}?recursive=true&amp;amp;include=.*\.dat&amp;amp;move=${queue.done.folder}/$simple&lt;/p&gt;
{property.destFile}&amp;amp;moveFailed=${queue.failed.folder}/$simple{property.destFile}
&lt;p&gt;&quot; /&amp;gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows Vista&lt;/p&gt;</environment>
        <key id="12497561">CAMEL-3617</key>
            <summary>Inconsistent filename value when move attribute is used with File component</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="jmmorel">Jean-Michel Morel</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Feb 2011 14:00:24 +0000</created>
                <updated>Tue, 25 Oct 2011 11:35:30 +0000</updated>
                            <resolved>Fri, 4 Feb 2011 11:49:04 +0000</resolved>
                                    <version>2.5.0</version>
                    <version>2.6.0</version>
                                    <fixVersion>2.7.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12990133" author="davsclaus" created="Thu, 3 Feb 2011 15:35:21 +0000"  >&lt;p&gt;Can you try with Camel 2.6 which has been released?&lt;/p&gt;</comment>
                            <comment id="12990483" author="jmmorel" created="Fri, 4 Feb 2011 08:12:34 +0000"  >&lt;p&gt;this doesn&apos;t work either with 2.6.0.&lt;/p&gt;</comment>
                            <comment id="12990484" author="davsclaus" created="Fri, 4 Feb 2011 08:19:47 +0000"  >&lt;p&gt;Can you post an example of the paths from&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;${queue.input.folder}&lt;/li&gt;
	&lt;li&gt;${queue.done.folder}&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;And when you drop a file in the input folder, is that in the &quot;root&quot; or in a sub folder? You have recursive=true enabled.&lt;/p&gt;</comment>
                            <comment id="12990490" author="davsclaus" created="Fri, 4 Feb 2011 09:21:39 +0000"  >&lt;p&gt;I found the problem, which happens when using absolute paths. There was an issue resolving the relative name of ${&lt;a href=&quot;file:name&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:name&lt;/a&gt;} which didn&apos;t work properly and the name was computed as the absolute name instead.&lt;/p&gt;</comment>
                            <comment id="12990497" author="davsclaus" created="Fri, 4 Feb 2011 09:57:06 +0000"  >&lt;p&gt;trunk: 1067124.&lt;/p&gt;</comment>
                            <comment id="12990536" author="davsclaus" created="Fri, 4 Feb 2011 11:48:32 +0000"  >&lt;p&gt;And this fixes a test on windows: 1067159&lt;/p&gt;</comment>
                            <comment id="12990537" author="davsclaus" created="Fri, 4 Feb 2011 11:49:04 +0000"  >&lt;p&gt;This should be fixed on trunk now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76216</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01vuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>