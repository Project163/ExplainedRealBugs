<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:34:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-1862] camel-cxf bundle doesn&apos;t specify any Import-Package version</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-1862</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The camel-cxf component is currently generated against CXF version 2.2.2.&lt;/p&gt;

&lt;p&gt;As a result, the camel-cxf module as well as the camel-cxf bundle require CXF 2.2. More importantly, that bundle does not work correctly with CXF 2.0 (note that this is an expected behavior, CXF has had API changes with its 2.2 version).&lt;/p&gt;

&lt;p&gt;Now, the trouble is that the camel-cxf JAR&apos;s MANIFEST has an Import-Package on org.apache.cxf.* components without specifying any version! As a result, when it looks for CXF and both CXF 2.0 and 2.2 are present on the platform, it sometimes chooses the wrong one.&lt;/p&gt;

&lt;p&gt;To solve this issue, version specifiers should be added to the Import-Package declarations of the camel-cxf bundle. I guess an import on version 2.2 would be enough (we don&apos;t need to specify 2.2.2 explicitely).&lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;

&lt;p&gt;S. Ali Tokmen&lt;br/&gt;
&lt;a href=&quot;http://ali.tokmen.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ali.tokmen.com/&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;CAMEL, CXF, OSGi Felix&lt;/p&gt;</environment>
        <key id="12486535">CAMEL-1862</key>
            <summary>camel-cxf bundle doesn&apos;t specify any Import-Package version</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="alitokmen">S. Ali Tokmen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jul 2009 10:01:17 +0000</created>
                <updated>Fri, 25 Sep 2009 13:25:25 +0000</updated>
                            <resolved>Thu, 30 Jul 2009 13:10:01 +0000</resolved>
                                    <version>2.0-M3</version>
                                    <fixVersion>1.6.2</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>camel-cxf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12946031" author="alitokmen" created="Thu, 30 Jul 2009 12:55:58 +0000"  >&lt;p&gt;Hello&lt;/p&gt;

&lt;p&gt;Looks like &lt;a href=&quot;http://svn.apache.org/viewvc/camel/trunk/components/camel-cxf/pom.xml?view=diff&amp;amp;r1=799251&amp;amp;r2=799252&amp;amp;pathrev=799252&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/camel/trunk/components/camel-cxf/pom.xml?view=diff&amp;amp;r1=799251&amp;amp;r2=799252&amp;amp;pathrev=799252&lt;/a&gt; fixes this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;

&lt;p&gt;S. Ali Tokmen&lt;br/&gt;
&lt;a href=&quot;http://ali.tokmen.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ali.tokmen.com/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12946037" author="njiang" created="Thu, 30 Jul 2009 13:10:01 +0000"  >&lt;p&gt;trunk&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=799252&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=799252&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
camel-1.x branch&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=799253&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=799253&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12946055" author="njiang" created="Thu, 30 Jul 2009 13:11:19 +0000"  >&lt;p&gt;@ S. Ali Tokmen&lt;br/&gt;
Please feel free to give it a try &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12946000" author="davsclaus" created="Thu, 30 Jul 2009 13:28:43 +0000"  >&lt;p&gt;Hmm what happens if CXF v2.3 is released, or does the 2.2 3.0 means 2.2-3.0 ?&lt;/p&gt;</comment>
                            <comment id="12946159" author="alitokmen" created="Thu, 30 Jul 2009 13:51:46 +0000"  >&lt;p&gt;Hello&lt;/p&gt;

&lt;p&gt;I&apos;ve applied the patch on the CAMEL-CXF 2.0-M3 tag, and retried launching the platform with various versions of CXF. The behavior is as follows:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;When only CXF 2.2.2 is present, all my tests pass (i.e., no regression)&lt;/li&gt;
	&lt;li&gt;When only CXF 2.0.11 is present, the bundle does not resolve but (as expected) says things like: Unresolved constraint in bundle 132: package; (&amp;amp;(package=org.apache.cxf.headers)(version&amp;gt;=2.2.0)(!(version&amp;gt;=3.0.0)))&lt;/li&gt;
	&lt;li&gt;When both CXF 2.0.11 and 2.2.2 are present, the bundle does resolve and when started seems to take the good version&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This bug can therefore be marked &quot;closed, fixed&quot;.&lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;

&lt;p&gt;S. Ali Tokmen&lt;br/&gt;
&lt;a href=&quot;http://ali.tokmen.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ali.tokmen.com/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12946158" author="alitokmen" created="Thu, 30 Jul 2009 13:58:06 +0000"  >&lt;p&gt;@Claus&lt;/p&gt;

&lt;p&gt;Hello&lt;/p&gt;

&lt;p&gt;[2.2,3.0.0) means &quot;everything that&apos;s superior to 2.2, including 2.2 and 2.2.0; but inferior to 3.0.0, therefore excluding 3.0.0 itself&quot;.&lt;/p&gt;

&lt;p&gt;This means 2.2.0, 2.2.2, 2.3.0 ... 2.999.9999 are valid. 1.x, 2.0.x, 2.1.x and 3.x are not.&lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;

&lt;p&gt;S. Ali Tokmen&lt;br/&gt;
&lt;a href=&quot;http://ali.tokmen.com/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ali.tokmen.com/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12946161" author="davsclaus" created="Thu, 30 Jul 2009 14:39:07 +0000"  >&lt;p&gt;@Savas&lt;/p&gt;

&lt;p&gt;Thanks for the explanation.&lt;/p&gt;</comment>
                            <comment id="12952571" author="alitokmen" created="Fri, 25 Sep 2009 13:20:37 +0000"  >&lt;p&gt;This actually solves half of the issue, by guaranteeing that Camel-CXF won&apos;t start if CXF 2.0 or 2.1 is here.&lt;/p&gt;

&lt;p&gt;The trouble with CXF is that it registers itself to Spring without specifying its version. As a result, in the case some CXF 2.0 applications are started for real (i.e. registered to Spring), Camel-CXF (with CXF 2.2) will not start with an exception that looks like:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;    WSDLManagerImpl.registerInitialExtensions : Failed to add extension element.&lt;br/&gt;
    java.lang.ClassNotFoundException: org.xmlsoap.schemas.wsdl.http.AddressType&lt;br/&gt;
           at org.apache.felix.framework.searchpolicy.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:627)&lt;br/&gt;
           at org.apache.felix.framework.searchpolicy.ModuleImpl.access$100(ModuleImpl.java:61)&lt;br/&gt;
           at org.apache.felix.framework.searchpolicy.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1469)&lt;br/&gt;
           at java.lang.ClassLoader.loadClass(ClassLoader.java:251)&lt;br/&gt;
           at org.apache.cxf.common.classloader.ClassLoaderUtils.loadClass2(ClassLoaderUtils.java:236)&lt;br/&gt;
           at org.apache.cxf.common.classloader.ClassLoaderUtils.loadClass(ClassLoaderUtils.java:222)&lt;br/&gt;
           at org.apache.cxf.wsdl.JAXBExtensionHelper.addExtensions(JAXBExtensionHelper.java:85)&lt;br/&gt;
           at org.apache.cxf.wsdl11.WSDLManagerImpl.registerInitialExtensions(WSDLManagerImpl.java:239)&lt;br/&gt;
           at org.apache.cxf.wsdl11.WSDLManagerImpl.registerInitialExtensions(WSDLManagerImpl.java:219)&lt;br/&gt;
           at org.apache.cxf.wsdl11.WSDLManagerImpl.&amp;lt;init&amp;gt;(WSDLManagerImpl.java:109)&lt;br/&gt;
           at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
           at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)&lt;br/&gt;
           at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)&lt;br/&gt;
           at java.lang.reflect.Constructor.newInstance(Constructor.java:494)&lt;br/&gt;
           at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:100)&lt;br/&gt;
           at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:61)&lt;br/&gt;
           at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:877)&lt;br/&gt;
           at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:839)&lt;br/&gt;
           at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:440)&lt;br/&gt;
           at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)&lt;/p&gt;

&lt;p&gt;           at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
           at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)&lt;br/&gt;
           at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)&lt;br/&gt;
           at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)&lt;br/&gt;
           at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)&lt;br/&gt;
           at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)&lt;br/&gt;
           at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)&lt;br/&gt;
           at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)&lt;br/&gt;
           at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728)&lt;br/&gt;
           at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:380)&lt;br/&gt;
           at org.apache.cxf.bus.spring.BusApplicationContext.&amp;lt;init&amp;gt;(BusApplicationContext.java:91)&lt;br/&gt;
           at org.apache.cxf.bus.spring.SpringBusFactory.createApplicationContext(SpringBusFactory.java:102)&lt;br/&gt;
           at org.apache.cxf.bus.spring.SpringBusFactory.createBus(SpringBusFactory.java:93)&lt;br/&gt;
           at org.apache.cxf.bus.spring.SpringBusFactory.createBus(SpringBusFactory.java:86)&lt;br/&gt;
           at org.apache.cxf.bus.spring.SpringBusFactory.createBus(SpringBusFactory.java:64)&lt;br/&gt;
           at org.apache.cxf.bus.spring.SpringBusFactory.createBus(SpringBusFactory.java:53)&lt;br/&gt;
           at org.ow2.jonas.camel.cxf.servlet.OsgiHttpServiceCXFServlet.loadBus(OsgiHttpServiceCXFServlet.java:75)&lt;br/&gt;
           at org.apache.cxf.transport.servlet.AbstractCXFServlet.init(AbstractCXFServlet.java:79)&lt;br/&gt;
           at org.ow2.jonas.web.httpServiceTomcat6.HttpServiceImpl.registerServlet(HttpServiceImpl.java:231)&lt;br/&gt;
           at org.ow2.jonas.camel.cxf.servlet.OsgiCXFServletDeployer.__start(OsgiCXFServletDeployer.java:74)&lt;br/&gt;
           at org.ow2.jonas.camel.cxf.servlet.OsgiCXFServletDeployer.start(OsgiCXFServletDeployer.java)&lt;br/&gt;
           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
           at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
           at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
           at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
           at org.apache.felix.ipojo.util.Callback.call(Callback.java:235)&lt;br/&gt;
           at org.apache.felix.ipojo.util.Callback.call(Callback.java:191)&lt;br/&gt;
           at org.apache.felix.ipojo.handlers.lifecycle.callback.LifecycleCallback.call(LifecycleCallback.java:86)&lt;br/&gt;
           at org.apache.felix.ipojo.handlers.lifecycle.callback.LifecycleCallbackHandler.__stateChanged(LifecycleCallbackHandler.java:162)&lt;br/&gt;
           at org.apache.felix.ipojo.handlers.lifecycle.callback.LifecycleCallbackHandler.stateChanged(LifecycleCallbackHandler.java)&lt;br/&gt;
           at org.apache.felix.ipojo.InstanceManager.setState(InstanceManager.java:428)&lt;br/&gt;
           at org.apache.felix.ipojo.InstanceManager.start(InstanceManager.java:309)&lt;br/&gt;
           at org.apache.felix.ipojo.ComponentFactory.createInstance(ComponentFactory.java:155)&lt;br/&gt;
           at org.apache.felix.ipojo.IPojoFactory.createComponentInstance(IPojoFactory.java:283)&lt;br/&gt;
           at org.apache.felix.ipojo.IPojoFactory.createComponentInstance(IPojoFactory.java:220)&lt;br/&gt;
           at org.apache.felix.ipojo.InstanceCreator$ManagedInstance.create(InstanceCreator.java:349)&lt;br/&gt;
           at org.apache.felix.ipojo.InstanceCreator.addInstance(InstanceCreator.java:84)&lt;br/&gt;
           at org.apache.felix.ipojo.Extender.parse(Extender.java:269)&lt;br/&gt;
           at org.apache.felix.ipojo.Extender.startManagementFor(Extender.java:208)&lt;br/&gt;
           at org.apache.felix.ipojo.Extender.access$600(Extender.java:52)&lt;br/&gt;
           at org.apache.felix.ipojo.Extender$CreatorThread.run(Extender.java:669)&lt;br/&gt;
           at java.lang.Thread.run(Thread.java:595)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;As a result, my previous comment:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;When both CXF 2.0.11 and 2.2.2 are present, the bundle does resolve and when started seems to take the good version&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;May or may not be valid depending on what has been done with which CXF version and the order in which these actions have been done&lt;/p&gt;

&lt;p&gt;Long story short: don&apos;t try to have two CXF bundles on the same OSGi platform...&lt;/p&gt;</comment>
                            <comment id="12952590" author="alitokmen" created="Fri, 25 Sep 2009 13:25:25 +0000"  >&lt;p&gt;Closing issue&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76713</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01l13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7176</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>