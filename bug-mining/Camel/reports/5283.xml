<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:41:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-14984] Sqs2EndpointBuilder is not respecting delay - polling continuously </title>
                <link>https://issues.apache.org/jira/browse/CAMEL-14984</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The `aws2Sqs`consumer is&#160; not respecting the delay value and continuously polls every 500ms regardless of its setting in both the EndpointDSL and normal route builder string.&lt;/p&gt;

&lt;p&gt;Example: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// build.gradle
&lt;/span&gt;dependencies {
    implementation &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.camel:camel-endpointdsl:3.2.0&apos;&lt;/span&gt;
    implementation &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.camel.springboot:camel-aws2-sqs-starter:3.2.0&apos;&lt;/span&gt;
    ...
}
&lt;span class=&quot;code-comment&quot;&gt;// EncodeQueueRoute.java
&lt;/span&gt;...
@Component
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;EncodeQueueRoute &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; EndpointRouteBuilder {
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() {
        from(aws2Sqs(&lt;span class=&quot;code-quote&quot;&gt;&quot;queueName&quot;&lt;/span&gt;)
                .useFixedDelay(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
                .delay(5000)
        ).to(file(&lt;span class=&quot;code-quote&quot;&gt;&quot;data/output&quot;&lt;/span&gt;));
    }
} 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I have tried both the EndpointDSL as well as normal Route builder,&lt;br/&gt;
with useFixedDelay explicitly passed and without (it defaults to&lt;br/&gt;
true).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Original Mailing List Thread: &lt;a href=&quot;https://camel.465427.n5.nabble.com/Sqs2EndpointBuilder-is-not-respecting-delay-polling-continuously-td5865730.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://camel.465427.n5.nabble.com/Sqs2EndpointBuilder-is-not-respecting-delay-polling-continuously-td5865730.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Spring Boot 2.2.6&lt;/p&gt;

&lt;p&gt;org.apache.camel:camel-endpointdsl:3.2.0&lt;br/&gt;
org.apache.camel.springboot:camel-aws2-sqs-starter:3.2.0&lt;/p&gt;</environment>
        <key id="13301948">CAMEL-14984</key>
            <summary>Sqs2EndpointBuilder is not respecting delay - polling continuously </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Burgess">Brice</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Apr 2020 23:59:21 +0000</created>
                <updated>Fri, 1 May 2020 04:54:47 +0000</updated>
                            <resolved>Fri, 1 May 2020 04:54:47 +0000</resolved>
                                    <version>3.2.0</version>
                                    <fixVersion>3.3.0</fixVersion>
                                    <component>camel-aws2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17096471" author="chardahe@redhat.com" created="Thu, 30 Apr 2020 12:18:30 +0000"  >&lt;p&gt;Hi Brice,&#160;&lt;br/&gt;
Thanks for reporting. I would look into it&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/AddComment!default.jspa?id=13301708&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/AddComment!default.jspa?id=13301708&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17096480" author="ancosen" created="Thu, 30 Apr 2020 12:31:41 +0000"  >&lt;p&gt;This seems to be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-14982&quot; title=&quot;Endpoint DSL - File never consumed using delay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-14982&quot;&gt;&lt;del&gt;CAMEL-14982&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17096530" author="ancosen" created="Thu, 30 Apr 2020 13:38:47 +0000"  >&lt;p&gt;It&apos;s a different problem, the SQS2 consumer instantiate a scheduler and set it. The defaultSchedulerPollconsumer uses delay 500 and initialDelay 1000 and its value are not updated.&lt;/p&gt;</comment>
                            <comment id="17096538" author="ancosen" created="Thu, 30 Apr 2020 13:43:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chardahe%40redhat.com&quot; class=&quot;user-hover&quot; rel=&quot;chardahe@redhat.com&quot;&gt;chardahe@redhat.com&lt;/a&gt;&#160;please have a look here&#160;&lt;a href=&quot;https://github.com/apache/camel/blob/master/components/camel-aws2-sqs/src/main/java/org/apache/camel/component/aws2/sqs/Sqs2Endpoint.java#L107&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/blob/master/components/camel-aws2-sqs/src/main/java/org/apache/camel/component/aws2/sqs/Sqs2Endpoint.java#L107&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;If you don&apos;t have time, I already have a possible fix.&lt;/p&gt;</comment>
                            <comment id="17096539" author="chardahe@redhat.com" created="Thu, 30 Apr 2020 13:45:13 +0000"  >&lt;p&gt;Hi Andrea,&lt;/p&gt;

&lt;p&gt;Thanks, I&apos;ll look into it&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13301772">CAMEL-14982</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0e8gw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>