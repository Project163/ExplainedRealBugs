<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:26:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-12009] Bindy - Missing Headers from OneToMany Field</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-12009</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When generating a CSV header, the code doesn&apos;t follow the @OneToMany field and thus doesn&apos;t print its fields in the header. For example, when marshalling a list of Orders (List&amp;lt;Order&amp;gt;) where the classes are the ones below: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@CsvRecord(separator = &lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;, generateHeaderColumns = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Order {

    @DataField(pos = 1)
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; orderNumber;

    @DataField(pos = 2)
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; customerName;

    @OneToMany
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; List&amp;lt;OrderItem&amp;gt; items;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@CsvRecord(separator = &lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;, generateHeaderColumns = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;OrderItem {

    @DataField(pos = 3)
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; sku;

    @DataField(pos = 4)
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; quantity;

    @DataField(pos = 5)
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; unitPrice;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;we get the following header:&lt;br/&gt;
&lt;ins&gt;orderNumber,customerName&lt;/ins&gt;&lt;/p&gt;

&lt;p&gt;when, instead, we should be getting the following header:&lt;br/&gt;
&lt;ins&gt;orderNumber,customerName,sku,quantity,unitPrice&lt;/ins&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13118413">CAMEL-12009</key>
            <summary>Bindy - Missing Headers from OneToMany Field</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="khaledalturkestani">Khaled AlTurkestani</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Nov 2017 00:34:03 +0000</created>
                <updated>Wed, 15 Nov 2017 10:28:17 +0000</updated>
                            <resolved>Wed, 15 Nov 2017 10:28:17 +0000</resolved>
                                                    <fixVersion>2.19.5</fixVersion>
                    <fixVersion>2.20.2</fixVersion>
                    <fixVersion>2.21.0</fixVersion>
                                    <component>camel-bindy</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16252790" author="githubbot" created="Wed, 15 Nov 2017 01:16:41 +0000"  >&lt;p&gt;khaledalturkestani opened a new pull request #2092: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12009&quot; title=&quot;Bindy - Missing Headers from OneToMany Field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12009&quot;&gt;&lt;del&gt;CAMEL-12009&lt;/del&gt;&lt;/a&gt;: Generate headers when OneToMany tag&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2092&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2092&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Includes unit test&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16252791" author="githubbot" created="Wed, 15 Nov 2017 01:16:42 +0000"  >&lt;p&gt;GitHub user khaledalturkestani opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2092&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2092&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12009&quot; title=&quot;Bindy - Missing Headers from OneToMany Field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12009&quot;&gt;&lt;del&gt;CAMEL-12009&lt;/del&gt;&lt;/a&gt;: Generate headers when OneToMany tag&lt;/p&gt;

&lt;p&gt;    Includes unit test&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/khaledalturkestani/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/khaledalturkestani/camel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12009&quot; title=&quot;Bindy - Missing Headers from OneToMany Field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12009&quot;&gt;&lt;del&gt;CAMEL-12009&lt;/del&gt;&lt;/a&gt;-onetomany-css-header&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2092.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2092.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2092&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3c0240c6d01d688490d0a9a807d337e3a11dbc68&lt;br/&gt;
Author: Khaled AlTurkestani &amp;lt;khaled@ooma.com&amp;gt;&lt;br/&gt;
Date:   2017-11-15T01:16:57Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12009&quot; title=&quot;Bindy - Missing Headers from OneToMany Field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12009&quot;&gt;&lt;del&gt;CAMEL-12009&lt;/del&gt;&lt;/a&gt;: Generate headers when OneToMany tag&lt;/p&gt;

&lt;p&gt;    Includes unit test&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16252792" author="khaledalturkestani" created="Wed, 15 Nov 2017 01:17:01 +0000"  >&lt;p&gt;Created PR: &lt;a href=&quot;https://github.com/apache/camel/pull/2092&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2092&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16253234" author="githubbot" created="Wed, 15 Nov 2017 10:27:25 +0000"  >&lt;p&gt;davsclaus closed pull request #2092: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12009&quot; title=&quot;Bindy - Missing Headers from OneToMany Field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12009&quot;&gt;&lt;del&gt;CAMEL-12009&lt;/del&gt;&lt;/a&gt;: Generate headers when OneToMany tag&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2092&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2092&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyAbstractFactory.java b/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyAbstractFactory.java&lt;br/&gt;
index e57acd5fa1d..f0bc611708c 100644&lt;br/&gt;
&amp;#8212; a/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyAbstractFactory.java&lt;br/&gt;
+++ b/components/camel-bindy/src/main/java/org/apache/camel/dataformat/bindy/BindyAbstractFactory.java&lt;br/&gt;
@@ -17,6 +17,8 @@&lt;br/&gt;
 package org.apache.camel.dataformat.bindy;&lt;/p&gt;

&lt;p&gt; import java.lang.reflect.Field;&lt;br/&gt;
+import java.lang.reflect.ParameterizedType;&lt;br/&gt;
+import java.lang.reflect.Type;&lt;br/&gt;
 import java.text.NumberFormat;&lt;br/&gt;
 import java.util.HashMap;&lt;br/&gt;
 import java.util.HashSet;&lt;br/&gt;
@@ -27,6 +29,7 @@&lt;/p&gt;

&lt;p&gt; import org.apache.camel.CamelContext;&lt;br/&gt;
 import org.apache.camel.dataformat.bindy.annotation.Link;&lt;br/&gt;
+import org.apache.camel.dataformat.bindy.annotation.OneToMany;&lt;br/&gt;
 import org.apache.camel.util.ObjectHelper;&lt;br/&gt;
 import org.slf4j.Logger;&lt;br/&gt;
 import org.slf4j.LoggerFactory;&lt;br/&gt;
@@ -93,6 +96,24 @@ private void loadModels(Class&amp;lt;?&amp;gt; root) &lt;/p&gt;
{
                 
                 loadModels(field.getType());
             }
&lt;p&gt;+&lt;br/&gt;
+            OneToMany oneToManyField = field.getAnnotation(OneToMany.class);&lt;br/&gt;
+&lt;br/&gt;
+            if (oneToManyField != null) {&lt;br/&gt;
+                if (LOG.isDebugEnabled()) {&lt;br/&gt;
+                    LOG.debug(&quot;Class (OneToMany) linked: {}, Field: {}&quot;, field.getType(), field);&lt;br/&gt;
+                }&lt;br/&gt;
+&lt;br/&gt;
+                Type listType = field.getGenericType();&lt;br/&gt;
+                Type type = ((ParameterizedType) listType).getActualTypeArguments()&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;;&lt;br/&gt;
+                Class clazz = (Class&amp;lt;?&amp;gt;)type;&lt;br/&gt;
+&lt;br/&gt;
+                models.add(clazz);&lt;br/&gt;
+                modelClassNames.add(clazz.getName());&lt;br/&gt;
+&lt;br/&gt;
+                loadModels(clazz);&lt;br/&gt;
+            }&lt;br/&gt;
+&lt;br/&gt;
         }&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;diff --git a/components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindyMarshalOneToManyWithHeadersTest.java b/components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindyMarshalOneToManyWithHeadersTest.java&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 00000000000..5e360a489d1&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/csv/BindyMarshalOneToManyWithHeadersTest.java&lt;br/&gt;
@@ -0,0 +1,96 @@&lt;br/&gt;
+package org.apache.camel.dataformat.bindy.csv;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.camel.EndpointInject;&lt;br/&gt;
+import org.apache.camel.LoggingLevel;&lt;br/&gt;
+import org.apache.camel.Produce;&lt;br/&gt;
+import org.apache.camel.ProducerTemplate;&lt;br/&gt;
+import org.apache.camel.builder.RouteBuilder;&lt;br/&gt;
+import org.apache.camel.component.mock.MockEndpoint;&lt;br/&gt;
+import org.apache.camel.dataformat.bindy.model.simple.linkonetomany.Order;&lt;br/&gt;
+import org.apache.camel.dataformat.bindy.model.simple.linkonetomany.OrderItem;&lt;br/&gt;
+import org.apache.camel.processor.interceptor.Tracer;&lt;br/&gt;
+import org.junit.Test;&lt;br/&gt;
+import org.springframework.test.annotation.DirtiesContext;&lt;br/&gt;
+import org.springframework.test.context.ContextConfiguration;&lt;br/&gt;
+import org.springframework.test.context.junit4.AbstractJUnit4SpringContextTests;&lt;br/&gt;
+&lt;br/&gt;
+import java.util.Arrays;&lt;br/&gt;
+import java.util.List;&lt;br/&gt;
+&lt;br/&gt;
+@ContextConfiguration&lt;br/&gt;
+public class BindyMarshalOneToManyWithHeadersTest extends AbstractJUnit4SpringContextTests {&lt;br/&gt;
+&lt;br/&gt;
+    private static final String URI_MOCK_RESULT = &quot;mock:result&quot;;&lt;br/&gt;
+    private static final String URI_MOCK_ERROR = &quot;mock:error&quot;;&lt;br/&gt;
+    private static final String URI_DIRECT_START = &quot;direct:start&quot;;&lt;br/&gt;
+&lt;br/&gt;
+    private Order order;&lt;br/&gt;
+    private String expected;&lt;br/&gt;
+&lt;br/&gt;
+    @Produce(uri = URI_DIRECT_START)&lt;br/&gt;
+    private ProducerTemplate template;&lt;br/&gt;
+&lt;br/&gt;
+    @EndpointInject(uri = URI_MOCK_RESULT)&lt;br/&gt;
+    private MockEndpoint result;&lt;br/&gt;
+&lt;br/&gt;
+    @Test&lt;br/&gt;
+    @DirtiesContext&lt;br/&gt;
+    public void testMarshallMessage() throws Exception &lt;/p&gt;
{
+
+        expected = &quot;orderNumber,customerName,sku,quantity,unitPrice\r\n&quot; +
+                &quot;11111,Joe Blow,abc,1,3\r\n&quot; +
+                &quot;11111,Joe Blow,cde,3,2\r\n&quot;;
+
+        result.expectedBodiesReceived(expected);
+
+        template.sendBody(generateModel());
+
+        result.assertIsSatisfied();
+    }
&lt;p&gt;+&lt;br/&gt;
+    public Order generateModel() &lt;/p&gt;
{
+
+        Order order = new Order();
+        order.setCustomerName(&quot;Joe Blow&quot;);
+        order.setOrderNumber(11111);
+
+        OrderItem oi1 = new OrderItem();
+        oi1.setSku(&quot;abc&quot;);
+        oi1.setQuantity(1);
+        oi1.setUnitPrice(3);
+
+        OrderItem oi2 = new OrderItem();
+        oi2.setSku(&quot;cde&quot;);
+        oi2.setQuantity(3);
+        oi2.setUnitPrice(2);
+
+        List&amp;lt;OrderItem&amp;gt; orderList = Arrays.asList(oi1, oi2);
+        order.setItems(orderList);
+
+        return order;
+    }
&lt;p&gt;+&lt;br/&gt;
+    public static class ContextConfig extends RouteBuilder {&lt;br/&gt;
+&lt;br/&gt;
+        public void configure() &lt;/p&gt;
{
+
+            Tracer tracer = new Tracer();
+            tracer.setLogLevel(LoggingLevel.ERROR);
+            tracer.setLogName(&quot;org.apache.camel.bindy&quot;);
+
+            getContext().addInterceptStrategy(tracer);
+
+            BindyCsvDataFormat camelDataFormat = new BindyCsvDataFormat(Order.class);
+            camelDataFormat.setLocale(&quot;en&quot;);
+
+            // default should errors go to mock:error
+            errorHandler(deadLetterChannel(URI_MOCK_ERROR).redeliveryDelay(0));
+
+            onException(Exception.class).maximumRedeliveries(0).handled(true);
+
+            from(URI_DIRECT_START).marshal(camelDataFormat).to(URI_MOCK_RESULT);
+        }
&lt;p&gt;+&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
+}&lt;br/&gt;
diff --git a/components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/model/simple/linkonetomany/Order.java b/components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/model/simple/linkonetomany/Order.java&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 00000000000..c08ea09f5c3&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/model/simple/linkonetomany/Order.java&lt;br/&gt;
@@ -0,0 +1,44 @@&lt;br/&gt;
+package org.apache.camel.dataformat.bindy.model.simple.linkonetomany;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.camel.dataformat.bindy.annotation.CsvRecord;&lt;br/&gt;
+import org.apache.camel.dataformat.bindy.annotation.DataField;&lt;br/&gt;
+import org.apache.camel.dataformat.bindy.annotation.OneToMany;&lt;br/&gt;
+&lt;br/&gt;
+import java.util.List;&lt;br/&gt;
+&lt;br/&gt;
+@CsvRecord(separator = &quot;,&quot;, generateHeaderColumns = true)&lt;br/&gt;
+public class Order {&lt;br/&gt;
+&lt;br/&gt;
+    @DataField(pos = 1)&lt;br/&gt;
+    private int orderNumber;&lt;br/&gt;
+&lt;br/&gt;
+    @DataField(pos = 2)&lt;br/&gt;
+    private String customerName;&lt;br/&gt;
+&lt;br/&gt;
+    @OneToMany&lt;br/&gt;
+    private List&amp;lt;OrderItem&amp;gt; items;&lt;br/&gt;
+&lt;br/&gt;
+    public int getOrderNumber() &lt;/p&gt;
{
+        return orderNumber;
+    }
&lt;p&gt;+&lt;br/&gt;
+    public void setOrderNumber(int orderNumber) &lt;/p&gt;
{
+        this.orderNumber = orderNumber;
+    }
&lt;p&gt;+&lt;br/&gt;
+    public String getCustomerName() &lt;/p&gt;
{
+        return customerName;
+    }
&lt;p&gt;+&lt;br/&gt;
+    public void setCustomerName(String customerName) &lt;/p&gt;
{
+        this.customerName = customerName;
+    }
&lt;p&gt;+&lt;br/&gt;
+    public List&amp;lt;OrderItem&amp;gt; getItems() &lt;/p&gt;
{
+        return items;
+    }
&lt;p&gt;+&lt;br/&gt;
+    public void setItems(List&amp;lt;OrderItem&amp;gt; items) &lt;/p&gt;
{
+        this.items = items;
+    }
&lt;p&gt;+}&lt;br/&gt;
diff --git a/components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/model/simple/linkonetomany/OrderItem.java b/components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/model/simple/linkonetomany/OrderItem.java&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 00000000000..e6d0b75b86d&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/components/camel-bindy/src/test/java/org/apache/camel/dataformat/bindy/model/simple/linkonetomany/OrderItem.java&lt;br/&gt;
@@ -0,0 +1,41 @@&lt;br/&gt;
+package org.apache.camel.dataformat.bindy.model.simple.linkonetomany;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.camel.dataformat.bindy.annotation.CsvRecord;&lt;br/&gt;
+import org.apache.camel.dataformat.bindy.annotation.DataField;&lt;br/&gt;
+&lt;br/&gt;
+@CsvRecord(separator = &quot;,&quot;, generateHeaderColumns = true)&lt;br/&gt;
+public class OrderItem {&lt;br/&gt;
+&lt;br/&gt;
+    @DataField(pos = 3)&lt;br/&gt;
+    private String sku;&lt;br/&gt;
+&lt;br/&gt;
+    @DataField(pos = 4)&lt;br/&gt;
+    private int quantity;&lt;br/&gt;
+&lt;br/&gt;
+    @DataField(pos = 5)&lt;br/&gt;
+    private int unitPrice;&lt;br/&gt;
+&lt;br/&gt;
+    public String getSku() &lt;/p&gt;
{
+        return sku;
+    }
&lt;p&gt;+&lt;br/&gt;
+    public void setSku(String sku) &lt;/p&gt;
{
+        this.sku = sku;
+    }
&lt;p&gt;+&lt;br/&gt;
+    public int getQuantity() &lt;/p&gt;
{
+        return quantity;
+    }
&lt;p&gt;+&lt;br/&gt;
+    public void setQuantity(int quantity) &lt;/p&gt;
{
+        this.quantity = quantity;
+    }
&lt;p&gt;+&lt;br/&gt;
+    public int getUnitPrice() &lt;/p&gt;
{
+        return unitPrice;
+    }
&lt;p&gt;+&lt;br/&gt;
+    public void setUnitPrice(int unitPrice) &lt;/p&gt;
{
+        this.unitPrice = unitPrice;
+    }
&lt;p&gt;+}&lt;br/&gt;
diff --git a/components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/csv/BindyMarshalOneToManyWithHeadersTest-context.xml b/components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/csv/BindyMarshalOneToManyWithHeadersTest-context.xml&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 00000000000..44680817291&lt;br/&gt;
&amp;#8212; /dev/null&lt;br/&gt;
+++ b/components/camel-bindy/src/test/resources/org/apache/camel/dataformat/bindy/csv/BindyMarshalOneToManyWithHeadersTest-context.xml&lt;br/&gt;
@@ -0,0 +1,34 @@&lt;br/&gt;
+&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
+&amp;lt;!--&lt;br/&gt;
+&lt;br/&gt;
+    Licensed to the Apache Software Foundation (ASF) under one or more&lt;br/&gt;
+    contributor license agreements.  See the NOTICE file distributed with&lt;br/&gt;
+    this work for additional information regarding copyright ownership.&lt;br/&gt;
+    The ASF licenses this file to You under the Apache License, Version 2.0&lt;br/&gt;
+    (the &quot;License&quot;); you may not use this file except in compliance with&lt;br/&gt;
+    the License.  You may obtain a copy of the License at&lt;br/&gt;
+&lt;br/&gt;
+         &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+&lt;br/&gt;
+    Unless required by applicable law or agreed to in writing, software&lt;br/&gt;
+    distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;br/&gt;
+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;br/&gt;
+    See the License for the specific language governing permissions and&lt;br/&gt;
+    limitations under the License.&lt;br/&gt;
+&lt;br/&gt;
+--&amp;gt;&lt;br/&gt;
+&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br/&gt;
+       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
+       xsi:schemaLocation=&quot;&lt;br/&gt;
+     &lt;a href=&quot;http://www.springframework.org/schema/beans&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans&lt;/a&gt;&lt;br/&gt;
+     &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans/spring-beans.xsd&lt;/a&gt;&lt;br/&gt;
+     &lt;a href=&quot;http://camel.apache.org/schema/spring&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/schema/spring&lt;/a&gt;&lt;br/&gt;
+     &lt;a href=&quot;http://camel.apache.org/schema/spring/camel-spring.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/schema/spring/camel-spring.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&quot;&amp;gt;&lt;br/&gt;
+        &amp;lt;routeBuilder ref=&quot;myBuilder&quot; /&amp;gt;&lt;br/&gt;
+    &amp;lt;/camelContext&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+    &amp;lt;bean id=&quot;myBuilder&quot; class=&quot;org.apache.camel.dataformat.bindy.csv.BindyMarshalOneToManyWithHeadersTest$ContextConfig&quot;/&amp;gt;&lt;br/&gt;
+&lt;br/&gt;
+&amp;lt;/beans&amp;gt;&lt;br/&gt;
\ No newline at end of file&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16253235" author="githubbot" created="Wed, 15 Nov 2017 10:27:26 +0000"  >&lt;p&gt;Github user davsclaus closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2092&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2092&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16253238" author="davsclaus" created="Wed, 15 Nov 2017 10:28:17 +0000"  >&lt;p&gt;Thanks for the PR&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3mse7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>