<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:28:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-973] TypeConverter Exception is thrown in the latest build of camel</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-973</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I have upgraded to the latest of Camel and when I attempt to use the content based router pattern - its now throwing an error.&lt;/p&gt;

&lt;p&gt;The contents of the Message passed is a StringSource object and from debugging camel - the BodyType is a StringSource but it is attempting to convert from a StreamCache to a StringSource. &lt;/p&gt;

&lt;p&gt;I will try and put a testcase together but if anyone has any ideas of its cause in the meantime ?&lt;/p&gt;

&lt;p&gt;The error it throws it below.&lt;/p&gt;

&lt;p&gt;thanks, Edell.&lt;/p&gt;

&lt;p&gt;No type converter available to convert from type: class org.apache.servicemix.camel.JbiMessage to the required type: org.w3c.dom.Document with value JbiMessage: org.apache.servicemix.jbi.runtime.impl.NormalizedMessageImpl@1d03b5b&lt;br/&gt;
org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: class org.apache.servicemix.camel.JbiMessage to the required type: org.w3c.dom.Document with value JbiMessage: org.apache.servicemix.jbi.runtime.impl.NormalizedMessageImpl@1d03b5b&lt;br/&gt;
	at org.apache.camel.impl.converter.DefaultTypeConverter.convertTo(DefaultTypeConverter.java:117)&lt;br/&gt;
	at org.apache.camel.impl.converter.DefaultTypeConverter.convertTo(DefaultTypeConverter.java:65)&lt;br/&gt;
	at org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:69)&lt;br/&gt;
	at org.apache.camel.impl.MessageSupport.getBody(MessageSupport.java:51)&lt;br/&gt;
	at org.apache.camel.builder.xml.XPathBuilder.getDocument(XPathBuilder.java:528)&lt;br/&gt;
	at org.apache.camel.builder.xml.XPathBuilder.evaluateAs(XPathBuilder.java:420)&lt;br/&gt;
	at org.apache.camel.builder.xml.XPathBuilder.matches(XPathBuilder.java:98)&lt;br/&gt;
	at org.apache.camel.builder.xml.XPathBuilder.matches(XPathBuilder.java:63)&lt;br/&gt;
	at org.apache.camel.processor.ChoiceProcessor.process(ChoiceProcessor.java:47)&lt;br/&gt;
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:75)&lt;br/&gt;
	at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:174)&lt;br/&gt;
	at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:96)&lt;br/&gt;
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:63)&lt;br/&gt;
	at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:47)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:41)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:66)&lt;br/&gt;
	at org.apache.servicemix.camel.CamelProviderEndpoint.handleActiveProviderExchange(CamelProviderEndpoint.java:115)&lt;br/&gt;
	at org.apache.servicemix.camel.CamelProviderEndpoint.process(CamelProviderEndpoint.java:73)&lt;br/&gt;
	at org.apache.servicemix.common.AsyncBaseLifeCycle.doProcess(AsyncBaseLifeCycle.java:600)&lt;br/&gt;
	at org.apache.servicemix.common.AsyncBaseLifeCycle.processExchange(AsyncBaseLifeCycle.java:554)&lt;br/&gt;
	at org.apache.servicemix.common.AsyncBaseLifeCycle.processExchangeInTx(AsyncBaseLifeCycle.java:456)&lt;br/&gt;
	at org.apache.servicemix.common.AsyncBaseLifeCycle$2.run(AsyncBaseLifeCycle.java:341)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12486821">CAMEL-973</key>
            <summary>TypeConverter Exception is thrown in the latest build of camel</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gertvanthienen">Gert Vanthienen</assignee>
                                    <reporter username="edelln">Edell Nolan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Oct 2008 19:29:45 +0000</created>
                <updated>Sat, 21 Nov 2009 11:56:56 +0000</updated>
                            <resolved>Tue, 10 Feb 2009 15:40:05 +0000</resolved>
                                    <version>1.5.0</version>
                                    <fixVersion>1.6.0</fixVersion>
                                    <component>camel-jbi</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12949147" author="njiang" created="Sat, 11 Oct 2008 01:53:48 +0000"  >&lt;p&gt;I don&apos;t know if it relates to &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-520&quot; title=&quot;Enable stream caching on DeadLetterChannel by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-520&quot;&gt;&lt;del&gt;CAMEL-520&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-858&quot; title=&quot;Log component should cache the message body&amp;#39;s InputStream &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-858&quot;&gt;&lt;del&gt;CAMEL-858&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;From the stack trace, it looks like camel can&apos;t find a JbiMessage to Document converting method.&lt;/p&gt;</comment>
                            <comment id="12949124" author="davsclaus" created="Sat, 11 Oct 2008 10:11:48 +0000"  >&lt;p&gt;Willem I think you need to align this with ServiceMix. Hadrian changed the type converter strategy to throw a NoTypeConversionAvailableException if no type converter found. Before Camel silently ignored this. ServiceMix should adjust by using try .. .catch (NoTypeConversionAvailableException e) and ignore it, or provide the missing type converter out-of-the-box in their camel-jbi.jar&lt;/p&gt;

&lt;p&gt;I think this issue is a blocker for servicemix, that it needs to adjust to this change in camel 1.5&lt;/p&gt;</comment>
                            <comment id="12949129" author="gertvanthienen" created="Mon, 13 Oct 2008 09:40:51 +0000"  >&lt;p&gt;Part of the problem is that our current StreamCacheInterceptor is caching Source types that do not need any caching.&lt;br/&gt;
An example: a StringSource can be read multiple times without any problem, but because it extends StreamSource it is still being &apos;streamcached&apos;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.eu.apache.org/viewvc?view=rev&amp;amp;revision=703990&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.eu.apache.org/viewvc?view=rev&amp;amp;revision=703990&lt;/a&gt; should fix this end of the problem.&lt;/p&gt;</comment>
                            <comment id="12949132" author="gertvanthienen" created="Tue, 14 Oct 2008 19:42:43 +0000"  >&lt;p&gt;While looking into this issue, I created a new test case (cfr. &lt;a href=&quot;http://svn.eu.apache.org/viewvc?view=rev&amp;amp;revision=704638&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.eu.apache.org/viewvc?view=rev&amp;amp;revision=704638&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;This test fails if you remove the convertBodyTo(String.class) from the route, although one would expect that the StreamSource would have been cached with the solution for &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-520&quot; title=&quot;Enable stream caching on DeadLetterChannel by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-520&quot;&gt;&lt;del&gt;CAMEL-520&lt;/del&gt;&lt;/a&gt;.  Not sure why that is yet, so let me assign this issue to myself while I figure it out.&lt;/p&gt;</comment>
                            <comment id="12950551" author="davsclaus" created="Tue, 10 Feb 2009 13:01:22 +0000"  >&lt;p&gt;Gertv. Looks like you latest changes to the StreamCache have fixed this one as well.&lt;/p&gt;

&lt;p&gt;I think this ticket is fixed in Camel 1.6.0&lt;/p&gt;</comment>
                            <comment id="12950627" author="gertvanthienen" created="Tue, 10 Feb 2009 15:40:05 +0000"  >&lt;p&gt;Fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-1271&quot; title=&quot;Can only interact with servicemix-http if logging is at DEBUG&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-1271&quot;&gt;&lt;del&gt;CAMEL-1271&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12953569" author="davsclaus" created="Sat, 21 Nov 2009 11:56:56 +0000"  >&lt;p&gt;Closing all 1.6.0 issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83349</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01fjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>