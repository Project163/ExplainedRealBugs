<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:29:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-12420] Swagger definition broken when working with dataType array</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-12420</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I&apos;ve created two gists. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/hochas/10e1f65531211672de03d018e42447df&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;This first gist&lt;/a&gt; is generated by &lt;em&gt;camel-swagger-java:2.21.0&lt;/em&gt; and is broken&lt;br/&gt;
Copy the contents and paste into the &lt;a href=&quot;http://editor.swagger.io/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Swagger Editor&lt;/a&gt;. See field &lt;em&gt;identification&lt;/em&gt; under &lt;em&gt;/classifier&lt;/em&gt; which according to the editor is broken.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;This second gist&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://gist.github.com/hochas/1218ef7a14da509f7079c1f5e098b53c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/hochas/1218ef7a14da509f7079c1f5e098b53c&lt;/a&gt;) is modified by hand and displays the field &lt;em&gt;identification&lt;/em&gt; as expected. &lt;/p&gt;

&lt;p&gt;The difference is at &lt;a href=&quot;https://gist.github.com/hochas/1218ef7a14da509f7079c1f5e098b53c#file-camel-swagger-working-json-L74&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;line 74&lt;/a&gt;. The enum type in the broken version, &lt;a href=&quot;https://gist.github.com/hochas/10e1f65531211672de03d018e42447df#file-camel-swagger-broken-json-L76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;line 76&lt;/a&gt;, should be inside  the `items` object, according to &lt;a href=&quot;https://github.com/swagger-api/swagger-ui/issues/4400&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this issue&lt;/a&gt; at swagger-ui.&lt;/p&gt;

&lt;p&gt;This current behavior &lt;a href=&quot;https://github.com/swagger-api/swagger-ui/issues/685&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;seems to have been correct&lt;/a&gt; some time back.&lt;/p&gt;

&lt;p&gt;This is the related parameter that I am creating in my camel route using the DSL:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
parameters.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RestOperationParamDefinition()
		.name(&lt;span class=&quot;code-quote&quot;&gt;&quot;identification&quot;&lt;/span&gt;)
		.type(RestParamType.query)
		.required(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
		.description(&lt;span class=&quot;code-quote&quot;&gt;&quot;The types of identification to include&quot;&lt;/span&gt;)
		.allowableValues(IdentificationType.getAllTypes())
		.collectionFormat(CollectionFormat.csv)
		.dataType(&lt;span class=&quot;code-quote&quot;&gt;&quot;array&quot;&lt;/span&gt;)
		.arrayType(&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If it helps, here is the entirety of the route:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ClassifierRoute &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; RouteBuilder {
	
	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;/classifier&quot;&lt;/span&gt;)
			.description(&lt;span class=&quot;code-quote&quot;&gt;&quot;MatchX Classifier REST API&quot;&lt;/span&gt;)
			.id(&lt;span class=&quot;code-quote&quot;&gt;&quot;Classifier route&quot;&lt;/span&gt;)
			.get()
				.description(&lt;span class=&quot;code-quote&quot;&gt;&quot;Gets classifiers based on supplied parameters&quot;&lt;/span&gt;)
				.produces(MediaType.APPLICATION_JSON)
				.outType(Identification.class)
				.responseMessage()
					.code(200)
					.message(&lt;span class=&quot;code-quote&quot;&gt;&quot;Returns a result set in JSON format&quot;&lt;/span&gt;)
					.endResponseMessage()
				.responseMessage()
					.code(400)
					.message(&lt;span class=&quot;code-quote&quot;&gt;&quot;The supplied query is invalid&quot;&lt;/span&gt;)
					.endResponseMessage()
				.params(addParameters())
				.to(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:algorithmMatch&quot;&lt;/span&gt;);
		
		from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:algorithmMatch&quot;&lt;/span&gt;)
			.bean(ClassifierMediator.class, &lt;span class=&quot;code-quote&quot;&gt;&quot;getAlgorithmMatchCount&quot;&lt;/span&gt;)
			.marshal()
				.json(JsonLibrary.Jackson);
	}

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; List&amp;lt;RestOperationParamDefinition&amp;gt; addParameters() {
		List&amp;lt;RestOperationParamDefinition&amp;gt; parameters = Lists.newArrayList();
		
		parameters.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RestOperationParamDefinition()
				.name(&lt;span class=&quot;code-quote&quot;&gt;&quot;feature&quot;&lt;/span&gt;)
				.type(RestParamType.query)
				.required(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
				.description(&lt;span class=&quot;code-quote&quot;&gt;&quot;The classifier feature type.&quot;&lt;/span&gt;)
				.allowableValues(FeatureType.getAllTypes()));
		
		parameters.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RestOperationParamDefinition()
				.name(&lt;span class=&quot;code-quote&quot;&gt;&quot;rating&quot;&lt;/span&gt;)
				.type(RestParamType.query)
				.required(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
				.description(&lt;span class=&quot;code-quote&quot;&gt;&quot;The rating of the associated classifier. Takes everything up to and including &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; number.&quot;&lt;/span&gt;)
				.allowableValues(&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;2&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;3&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;4&quot;&lt;/span&gt;)
				.dataType(&lt;span class=&quot;code-quote&quot;&gt;&quot;integer&quot;&lt;/span&gt;));
		
		parameters.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RestOperationParamDefinition()
				.name(&lt;span class=&quot;code-quote&quot;&gt;&quot;identification&quot;&lt;/span&gt;)
				.type(RestParamType.query)
				.required(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
				.description(&lt;span class=&quot;code-quote&quot;&gt;&quot;The types of identification to include&quot;&lt;/span&gt;)
				.allowableValues(IdentificationType.getAllTypes())
				.collectionFormat(CollectionFormat.csv)
				.dataType(&lt;span class=&quot;code-quote&quot;&gt;&quot;array&quot;&lt;/span&gt;)
				.arrayType(&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;));
		
		parameters.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RestOperationParamDefinition()
				.name(&lt;span class=&quot;code-quote&quot;&gt;&quot;from&quot;&lt;/span&gt;)
				.type(RestParamType.query)
				.required(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
				.dataType(&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;)
				.dataFormat(&lt;span class=&quot;code-quote&quot;&gt;&quot;date&quot;&lt;/span&gt;)
				.description(&lt;span class=&quot;code-quote&quot;&gt;&quot;yyyy-MM-dd&quot;&lt;/span&gt;));
		
		parameters.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RestOperationParamDefinition()
				.name(&lt;span class=&quot;code-quote&quot;&gt;&quot;to&quot;&lt;/span&gt;)
				.type(RestParamType.query)
				.required(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
				.dataType(&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;)
				.dataFormat(&lt;span class=&quot;code-quote&quot;&gt;&quot;date&quot;&lt;/span&gt;)
				.description(&lt;span class=&quot;code-quote&quot;&gt;&quot;yyyy-MM-dd&quot;&lt;/span&gt;));

		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; parameters;
	}

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;spring-boot.version&amp;gt;&lt;/span&gt;1.5.10.RELEASE&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/spring-boot.version&amp;gt;&lt;/span&gt;

&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;camel.version&amp;gt;&lt;/span&gt;2.21.0&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/camel.version&amp;gt;&lt;/span&gt;

&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.camel&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;camel-spring-boot-starter&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;${camel.version}&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.camel&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;camel-swagger-java-starter&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;${camel.version}&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sh&quot;&gt;
java -version
openjdk version &lt;span class=&quot;code-quote-red&quot;&gt;&quot;1.8.0_162&quot;&lt;/span&gt;
OpenJDK Runtime Environment (build 1.8.0_162-8u162-b12-0ubuntu0.16.04.2-b12)
OpenJDK 64-Bit Server VM (build 25.162-b12, mixed mode)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</environment>
        <key id="13149989">CAMEL-12420</key>
            <summary>Swagger definition broken when working with dataType array</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zregvart">Zoran Regvart</assignee>
                                    <reporter username="hochas">Johan Karlsson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Apr 2018 12:46:58 +0000</created>
                <updated>Thu, 5 Apr 2018 11:43:47 +0000</updated>
                            <resolved>Thu, 5 Apr 2018 11:43:47 +0000</resolved>
                                    <version>2.21.0</version>
                                    <fixVersion>2.22.0</fixVersion>
                                    <component>camel-swagger</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16426784" author="zregvart" created="Thu, 5 Apr 2018 11:43:47 +0000"  >&lt;p&gt;Now &lt;tt&gt;camel-swagger-java&lt;/tt&gt; will generate Swagger specification that includes &lt;tt&gt;enum&lt;/tt&gt; property in the &lt;tt&gt;items&lt;/tt&gt; property if the type of the parameter is &lt;tt&gt;array&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3s4sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>