<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:26:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-11977] MongoDB Tailable cursor consumer fails to stop on shutdown</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-11977</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;MongoDB Tailable cursor consumer fails to stop on shutdown(when using Ctrl+C) if collection is not empty. Routes are described in xml file.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;#8 - ShutdownTask&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Camel (...) thread #8 - ShutdownTask&lt;/a&gt; INFO  o.a.c.c.m.MongoDbTailingProcess - Stopping MongoDB Tailable Cursor consumer, bound to collection: db: ..., col: ... &lt;br/&gt;
&lt;a href=&quot;#8 - ShutdownTask&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Camel (...) thread #8 - ShutdownTask&lt;/a&gt; INFO  o.a.c.c.m.MongoDbTailingProcess - Going to wait for stopping&lt;/p&gt;

&lt;p&gt;When collection is empty, all is ok and I see next line&lt;br/&gt;
&lt;a href=&quot;#8 - ShutdownTask&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Camel (...) thread #8 - ShutdownTask&lt;/a&gt; INFO  o.a.c.c.m.MongoDbTailingProcess - Stopped MongoDB Tailable Cursor consumer, bound to collection: db: ..., col: ...&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 10, Java 1.8&lt;/p&gt;</environment>
        <key id="13115382">CAMEL-11977</key>
            <summary>MongoDB Tailable cursor consumer fails to stop on shutdown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="acosentino">Andrea Cosentino</assignee>
                                    <reporter username="Igorko">Ihor Paliichuk</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Nov 2017 15:17:18 +0000</created>
                <updated>Mon, 12 Feb 2018 11:23:52 +0000</updated>
                            <resolved>Mon, 12 Feb 2018 10:54:17 +0000</resolved>
                                    <version>2.20.0</version>
                                    <fixVersion>2.20.3</fixVersion>
                    <fixVersion>2.21.0</fixVersion>
                                    <component>camel-mongodb</component>
                    <component>camel-mongodb3</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16235640" author="davsclaus" created="Thu, 2 Nov 2017 12:25:54 +0000"  >&lt;p&gt;You are welcome to try to work on a fix for this.&lt;/p&gt;</comment>
                            <comment id="16236055" author="githubbot" created="Thu, 2 Nov 2017 16:24:40 +0000"  >&lt;p&gt;igorko opened a new pull request #2075: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2075&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2075&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   cursor.hasNaxt() locks thread and waits for new object. Camel mongodb component uses loop to get new cursor objects, so we can just try if next is present without waiting for new object. tryNext() is what we need in this casre.&lt;/p&gt;

&lt;p&gt;   According to mongoBD documentation:&lt;br/&gt;
   [](&lt;a href=&quot;http://api.mongodb.com/java/current/com/mongodb/client/MongoCursor.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://api.mongodb.com/java/current/com/mongodb/client/MongoCursor.html&lt;/a&gt;)&lt;br/&gt;
   tryNext() A special next() case that returns the next element in the iteration if available or null.&lt;/p&gt;

&lt;p&gt;   So after exit hook injection. when java will call MongoDbTailingProcess.stop(), there will be no lock at  MongoDbTailingProcess.run(). so MongoDbTailingProcess instance will be stopped.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16236056" author="githubbot" created="Thu, 2 Nov 2017 16:24:40 +0000"  >&lt;p&gt;GitHub user igorko opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2075&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2075&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;/p&gt;

&lt;p&gt;    cursor.hasNaxt() locks thread and waits for new object. Camel mongodb component uses loop to get new cursor objects, so we can just try if next is present without waiting for new object. tryNext() is what we need in this casre.&lt;/p&gt;

&lt;p&gt;    According to mongoBD documentation:&lt;br/&gt;
    [](&lt;a href=&quot;http://api.mongodb.com/java/current/com/mongodb/client/MongoCursor.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://api.mongodb.com/java/current/com/mongodb/client/MongoCursor.html&lt;/a&gt;)&lt;br/&gt;
    tryNext() A special next() case that returns the next element in the iteration if available or null.&lt;/p&gt;

&lt;p&gt;    So after exit hook injection. when java will call MongoDbTailingProcess.stop(), there will be no lock at  MongoDbTailingProcess.run(). so MongoDbTailingProcess instance will be stopped.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/igorko/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/igorko/camel&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2075.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2075.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2075&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ba667d7aece178bf9e0d1c0cd69b2d1afd96cecd&lt;br/&gt;
Author: Igor Paliychuk &amp;lt;mansonigor@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-02T16:16:39Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16236305" author="githubbot" created="Thu, 2 Nov 2017 18:14:50 +0000"  >&lt;p&gt;davsclaus commented on issue #2075: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2075#issuecomment-341512401&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2075#issuecomment-341512401&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Thanks do you mind look in camel-mongodb3 if it has the same bug?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16237197" author="githubbot" created="Fri, 3 Nov 2017 07:26:27 +0000"  >&lt;p&gt;davsclaus commented on issue #2075: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2075#issuecomment-341636112&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2075#issuecomment-341636112&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Isn&apos;t this a problem if the while loop now with `tryNext` keeps returning false because there is no data, but its not being stopped, then the while loop keeps running, and calling `tryNext` again and again endlessly which could eat up CPU cycles. In other words is this code change not causing CPU burden when there is no data to retrieve but the while loop keeps running.&lt;/p&gt;

&lt;p&gt;   Ideally Mongodb should have had a next with timeout, so you can timeout every second or so and then check if you should shutdown or not.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16237395" author="githubbot" created="Fri, 3 Nov 2017 10:10:35 +0000"  >&lt;p&gt;igorko commented on issue #2075: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2075#issuecomment-341663355&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2075#issuecomment-341663355&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   If tryNext() will return null, execution will leave while loop. Does this answer your question?&lt;/p&gt;

&lt;p&gt;   Mongodb3 has the same issue, yes&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16237405" author="githubbot" created="Fri, 3 Nov 2017 10:27:35 +0000"  >&lt;p&gt;davsclaus commented on issue #2075: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2075#issuecomment-341666846&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2075#issuecomment-341666846&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Even so it leaves the method it goes back to run method, that then close the curors, and re-create it, which is expensive operations. eg in normal situation where you do NOT shutdown. &lt;/p&gt;

&lt;p&gt;   In other words we cannot do this because normal operation will suffer from CPU burning and endless cursors closing/re-creation&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16237421" author="githubbot" created="Fri, 3 Nov 2017 10:41:06 +0000"  >&lt;p&gt;igorko commented on issue #2075: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2075#issuecomment-341669680&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2075#issuecomment-341669680&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Lets add some timeout then, it will be better then deadlock.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16237423" author="githubbot" created="Fri, 3 Nov 2017 10:41:42 +0000"  >&lt;p&gt;igorko commented on issue #2075: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2075#issuecomment-341669680&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2075#issuecomment-341669680&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Lets add some configurable timeout then, it will be better then deadlock.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16237653" author="githubbot" created="Fri, 3 Nov 2017 14:26:05 +0000"  >&lt;p&gt;igorko commented on issue #2075: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2075#issuecomment-341718238&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2075#issuecomment-341718238&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   I see that this bug had been found earlier &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-9826&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-9826&lt;/a&gt; and fix was committed. But it has not fixed the issue. I will look into mongodb driver cursor logic.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16237811" author="igorko" created="Fri, 3 Nov 2017 16:00:10 +0000"  >&lt;p&gt;I have found some info about this topic. Some time ago mongodb java driver team reworked hasNext() to wait for tailable cursors. &lt;a href=&quot;https://jira.mongodb.org/browse/JAVA-1091&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jira.mongodb.org/browse/JAVA-1091&lt;/a&gt; And added tryNext() to allow old behavior &lt;a href=&quot;https://jira.mongodb.org/browse/JAVA-1255&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jira.mongodb.org/browse/JAVA-1255&lt;/a&gt;. As you see in current driver code &lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; hasNext() {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (closed) {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalStateException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Cursor has been closed&quot;&lt;/span&gt;);
        }

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (nextBatch != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
        }

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (limitReached()) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        }

        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (serverCursor != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            getMore();
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (nextBatch != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
            }
        }

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;hasNext() has infinite loop, which also is bad for performance, as in case we would use tryNext() and open/close cursor each time on camel side. I propose to request another &quot;is closed&quot; check inside loop before getMore() to mongodb driver team. Thjis should allow to exit from hasNext() when we will close cursor from another thread. If this solution sounds ok, I will request change on driver side.&lt;/p&gt;</comment>
                            <comment id="16237889" author="githubbot" created="Fri, 3 Nov 2017 16:44:24 +0000"  >&lt;p&gt;igorko closed pull request #2075: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2075&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2075&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/MongoDbTailingProcess.java b/components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/MongoDbTailingProcess.java&lt;br/&gt;
index 6192949c8ef..d7018a72ccc 100644&lt;br/&gt;
&amp;#8212; a/components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/MongoDbTailingProcess.java&lt;br/&gt;
+++ b/components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/MongoDbTailingProcess.java&lt;br/&gt;
@@ -158,8 +158,8 @@ private void doRun() {&lt;br/&gt;
         boolean persistRegularly = persistRecords &amp;gt; 0;&lt;br/&gt;
         // while the cursor has more values, keepRunning is true and the cursorId is not 0, which symbolizes that the cursor is dead&lt;br/&gt;
         try {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;while (cursor.hasNext() &amp;amp;&amp;amp; keepRunning) { //cursor.getCursorId() != 0 &amp;amp;&amp;amp;&lt;/li&gt;
	&lt;li&gt;DBObject dbObj = cursor.next();&lt;br/&gt;
+            DBObject dbObj = null;&lt;br/&gt;
+            while ((dbObj = cursor.tryNext()) != null &amp;amp;&amp;amp; keepRunning) { //cursor.getCursorId() != 0 &amp;amp;&amp;amp;&lt;br/&gt;
                 Exchange exchange = endpoint.createMongoDbExchange(dbObj);&lt;br/&gt;
                 try {&lt;br/&gt;
                     if (LOG.isTraceEnabled()) {&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16237890" author="githubbot" created="Fri, 3 Nov 2017 16:44:25 +0000"  >&lt;p&gt;Github user igorko closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2075&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2075&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16238878" author="davsclaus" created="Sat, 4 Nov 2017 09:48:01 +0000"  >&lt;p&gt;Yes this sounds good solution to have that improved in the mongodb-driver.&lt;/p&gt;</comment>
                            <comment id="16249410" author="igorko" created="Mon, 13 Nov 2017 11:18:24 +0000"  >&lt;p&gt;mongodb driver team applied fix to driver so when cursor closing was requested, hasNext will throw exception(instead of returning) &lt;a href=&quot;https://jira.mongodb.org/browse/JAVA-2651&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jira.mongodb.org/browse/JAVA-2651&lt;/a&gt; maybe this is better then returning, but for camel it is bad because camel cursor still doesn&apos;t want to stop. This time I think there should be made some fix(maybe try/catch) on camel side.&lt;/p&gt;</comment>
                            <comment id="16249445" author="githubbot" created="Mon, 13 Nov 2017 11:54:53 +0000"  >&lt;p&gt;igorko opened a new pull request #2090: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2090&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2090&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Is it still possible to include this fix into v2.20.1. It would be very good if so.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16249446" author="githubbot" created="Mon, 13 Nov 2017 11:54:54 +0000"  >&lt;p&gt;GitHub user igorko opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2090&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2090&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;/p&gt;

&lt;p&gt;    Is it still possible to include this fix into v2.20.1. It would be very good if so.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/igorko/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/igorko/camel&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2090.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2090.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2090&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2923c85347f8ae03185d12a4b5c23a8978f2f020&lt;br/&gt;
Author: Igor Paliychuk &amp;lt;mansonigor@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-13T11:53:58Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16249459" author="githubbot" created="Mon, 13 Nov 2017 12:05:21 +0000"  >&lt;p&gt;oscerd commented on issue #2090: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2090#issuecomment-343899533&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2090#issuecomment-343899533&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   No, 2.20.1 is alreay under vote after cut, it will be in 2.20.2. Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16249474" author="githubbot" created="Mon, 13 Nov 2017 12:09:47 +0000"  >&lt;p&gt;oscerd closed pull request #2090: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2090&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2090&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/MongoDbTailingProcess.java b/components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/MongoDbTailingProcess.java&lt;br/&gt;
index 6192949c8ef..3030c2d4231 100644&lt;br/&gt;
&amp;#8212; a/components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/MongoDbTailingProcess.java&lt;br/&gt;
+++ b/components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/MongoDbTailingProcess.java&lt;br/&gt;
@@ -180,6 +180,8 @@ private void doRun() {&lt;br/&gt;
             if (keepRunning) &lt;/p&gt;
{
                 LOG.debug(&quot;Cursor not found exception from MongoDB, will regenerate cursor. This is normal behaviour with tailable cursors.&quot;, e);
             }
&lt;p&gt;+        } catch (IllegalStateException e) &lt;/p&gt;
{
+            // do nothing
         }

&lt;p&gt;         // the loop finished, persist the lastValue just in case we are shutting down&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16249475" author="githubbot" created="Mon, 13 Nov 2017 12:09:48 +0000"  >&lt;p&gt;Github user oscerd closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2090&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2090&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16249488" author="githubbot" created="Mon, 13 Nov 2017 12:13:43 +0000"  >&lt;p&gt;oscerd commented on issue #2090: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2090#issuecomment-343901229&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2090#issuecomment-343901229&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Thanks for the PR. It has been merged on master and 2.20.x&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16249489" author="githubbot" created="Mon, 13 Nov 2017 12:14:11 +0000"  >&lt;p&gt;igorko commented on issue #2090: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2090#issuecomment-343901339&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2090#issuecomment-343901339&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   SHould I create another pull request for branch or no?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16249490" author="githubbot" created="Mon, 13 Nov 2017 12:14:17 +0000"  >&lt;p&gt;igorko commented on issue #2090: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2090#issuecomment-343901339&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2090#issuecomment-343901339&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   SHould I create another pull request for branch or no?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16249492" author="githubbot" created="Mon, 13 Nov 2017 12:16:01 +0000"  >&lt;p&gt;oscerd commented on issue #2090: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2090#issuecomment-343901740&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2090#issuecomment-343901740&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   No need for a PR on the other branch. We usually ask for PR on master and we cherry-pick commit on old branches.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16295009" author="githubbot" created="Mon, 18 Dec 2017 13:50:58 +0000"  >&lt;p&gt;igorko commented on issue #2090: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2090#issuecomment-352430701&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2090#issuecomment-352430701&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @oscerd Could you merge changes to 2.20.x ? I see that they are not present in branch.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16360502" author="githubbot" created="Mon, 12 Feb 2018 09:43:02 +0000"  >&lt;p&gt;igorko commented on issue #2090: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11977&quot; title=&quot;MongoDB Tailable cursor consumer fails to stop on shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11977&quot;&gt;&lt;del&gt;CAMEL-11977&lt;/del&gt;&lt;/a&gt;: MongoDB Tailable cursor consumer fails to stop on shutdown&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2090#issuecomment-352430701&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2090#issuecomment-352430701&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @oscerd Could you merge changes to 2.20.x ? I see that they are not present in branch.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16360509" author="ancosen" created="Mon, 12 Feb 2018 09:49:11 +0000"  >&lt;p&gt;It has been reverted here&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/commit/793062481d37b0da4d9890f9bd897cec76e0e2c0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/793062481d37b0da4d9890f9bd897cec76e0e2c0&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt; was it reverted because we were under release vote?&lt;/p&gt;</comment>
                            <comment id="16360550" author="igorko" created="Mon, 12 Feb 2018 10:17:32 +0000"  >&lt;p&gt;Second pull request (final) was not applied to 2.20.2 but defect is marked as fixed... Also fix is not present in 2.20.x Can anyone look into that?&lt;/p&gt;</comment>
                            <comment id="16360565" author="igorko" created="Mon, 12 Feb 2018 10:30:25 +0000"  >&lt;p&gt;Forgot to notice: first pull request was reverted, because it was bad code change. But second one (correct) was never applied. So I guess someone should just apply second patch to 2.20.x branch&lt;/p&gt;</comment>
                            <comment id="16360584" author="ancosen" created="Mon, 12 Feb 2018 10:54:02 +0000"  >&lt;p&gt;On 2.20.x done here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/commit/8a9f5338229289e2ec4fd86a81bf1203a4eb61ad&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/8a9f5338229289e2ec4fd86a81bf1203a4eb61ad&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16360599" author="igorko" created="Mon, 12 Feb 2018 11:10:52 +0000"  >&lt;p&gt;Strange. Why it&apos;s not in 2.20.2 release then? Isn&apos;t 2.20.2 supposed to be forked from&#160;2.20.x ?&lt;/p&gt;</comment>
                            <comment id="16360605" author="ancosen" created="Mon, 12 Feb 2018 11:16:10 +0000"  >&lt;p&gt;It will be in 2.20.3 as you may see from the commit. I backported it today.&lt;/p&gt;</comment>
                            <comment id="16360618" author="igorko" created="Mon, 12 Feb 2018 11:23:52 +0000"  >&lt;p&gt;Now I see, I have looked only&#160;at&#160;commit date, not&#160;at&#160;backport date. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3m9qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>