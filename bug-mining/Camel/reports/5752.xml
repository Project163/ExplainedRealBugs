<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:47:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-16263] camel-google-pubsub - Consumer does not recover from 500 series error from Google</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-16263</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When the &lt;tt&gt;GooglePubsubConsumer&lt;/tt&gt; receives a 500 series error from Google I expect it to catch that exception, log it and continue trying to pull messages from PubSub.&lt;/p&gt;

&lt;p&gt;What is actually happening is when an error like that occurs, the &lt;tt&gt;SubscriberWrapper&lt;/tt&gt; thread started by the &lt;tt&gt;GooglePubsubConsumer&lt;/tt&gt; exits and never restarts. The application will pull no more messages from PubSub for the lifetime of the application.&lt;/p&gt;

&lt;p&gt;The error is intermittent but can be reproduced using a simple route and waiting:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;PubSubRoutes &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; RouteBuilder {
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        from(&lt;span class=&quot;code-quote&quot;&gt;&quot;google-pubsub:&lt;span class=&quot;code-comment&quot;&gt;//{{gcp.project.id}}:{{gcp.subscription.id}}?synchronousPull=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;)
&lt;/span&gt;                .log(LoggingLevel.INFO, &lt;span class=&quot;code-quote&quot;&gt;&quot;MessageReceived! ${body}&quot;&lt;/span&gt;);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Sample project: &lt;a href=&quot;https://github.com/anglind/camel-pubsub-bug&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/anglind/camel-pubsub-bug&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The error log:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
16:58:36.394 [com.github.anglind.App.main()] INFO  o.a.c.c.g.p.GooglePubsubConsumer - Starting Google PubSub consumer &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; myproject/camel-test-topic-sub
16:58:36.450 [com.github.anglind.App.main()] INFO  o.a.c.i.engine.AbstractCamelContext - Routes startup summary (total:1 started:1)
16:58:36.451 [com.github.anglind.App.main()] INFO  o.a.c.i.engine.AbstractCamelContext - 	Started route1 (google-pubsub:&lt;span class=&quot;code-comment&quot;&gt;//myproject:camel-test-topic-sub)
&lt;/span&gt;16:58:36.452 [com.github.anglind.App.main()] INFO  o.a.c.i.engine.AbstractCamelContext - Apache Camel 3.8.0 (camel-1) started in 308ms (build:42ms init:204ms start:62ms)
16:59:04.044 [Camel (camel-1) thread #0 - GooglePubsubConsumer[camel-test-topic-sub]] INFO  route1 - MessageReceived! This is a message I published
18:23:12.719 [Camel (camel-1) thread #0 - GooglePubsubConsumer[camel-test-topic-sub]] ERROR o.a.c.c.g.p.GooglePubsubConsumer - Failure getting messages from PubSub
com.google.api.gax.rpc.DeadlineExceededException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 23.965861200s. [buffered_nanos=7490862100, buffered_nanos=65424900, remote_addr=pubsub.googleapis.com/74.125.193.95:443]
	at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:51)
	at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)
	at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)
	at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)
	at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)
	at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)
	at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)
	at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)
	at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:983)
	at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:771)
	at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:563)
	at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533)
	at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:464)
	at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:428)
	at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:461)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
	Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed
		at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)
		at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)
		at org.apache.camel.component.google.pubsub.GooglePubsubConsumer$SubscriberWrapper.synchronousPull(GooglePubsubConsumer.java:152)
		at org.apache.camel.component.google.pubsub.GooglePubsubConsumer$SubscriberWrapper.run(GooglePubsubConsumer.java:113)
		at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
		at java.util.concurrent.FutureTask.run(FutureTask.java:266)
		... 3 common frames omitted
Caused by: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 23.965861200s. [buffered_nanos=7490862100, buffered_nanos=65424900, remote_addr=pubsub.googleapis.com/74.125.193.95:443]
	at io.grpc.Status.asRuntimeException(Status.java:533)
	... 17 common frames omitted

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think the component should catch and continue pulling for all the 500 series error codes listed on this page: &lt;a href=&quot;https://cloud.google.com/pubsub/docs/reference/error-codes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cloud.google.com/pubsub/docs/reference/error-codes&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13361032">CAMEL-16263</key>
            <summary>camel-google-pubsub - Consumer does not recover from 500 series error from Google</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="acosentino">Andrea Cosentino</assignee>
                                    <reporter username="anglind">Donal Anglin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Feb 2021 19:12:30 +0000</created>
                <updated>Tue, 8 Mar 2022 23:30:00 +0000</updated>
                            <resolved>Wed, 2 Jun 2021 13:54:18 +0000</resolved>
                                    <version>3.8.0</version>
                                    <fixVersion>3.11.0</fixVersion>
                                    <component>camel-google-pubsub</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="17293521" author="davsclaus" created="Tue, 2 Mar 2021 09:05:23 +0000"  >&lt;p&gt;Thanks for reporting. You are welcome to dive into the source code and try to fix this and submit a PR&lt;/p&gt;</comment>
                            <comment id="17295105" author="chardahe@redhat.com" created="Thu, 4 Mar 2021 09:06:15 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anglind&quot; class=&quot;user-hover&quot; rel=&quot;anglind&quot;&gt;anglind&lt;/a&gt;, Are you trying to fix? I&apos;ll be happy to contribute to this fix&lt;/p&gt;</comment>
                            <comment id="17295132" author="anglind" created="Thu, 4 Mar 2021 09:54:34 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chardahe%40redhat.com&quot; class=&quot;user-hover&quot; rel=&quot;chardahe@redhat.com&quot;&gt;chardahe@redhat.com&lt;/a&gt;, if you want to have a go at a fix then absolutely work away.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure when I would be able to get to this. Thanks in advance!&lt;/p&gt;</comment>
                            <comment id="17295357" author="chardahe@redhat.com" created="Thu, 4 Mar 2021 15:38:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anglind&quot; class=&quot;user-hover&quot; rel=&quot;anglind&quot;&gt;anglind&lt;/a&gt;, Thanks!!, I&apos;ll work on it, however I have one issue,&#160; I don&apos;t have Cloud&#160;&lt;em&gt;Pub/Sub&lt;/em&gt;&#160;to reproduce and fix this issue, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;&#160;do we have any test setup at our labs?&lt;/p&gt;</comment>
                            <comment id="17303587" author="davsclaus" created="Wed, 17 Mar 2021 17:09:48 +0000"  >&lt;p&gt;No not in the public upstream. Sometimes people use mockito or something to simulate.&lt;/p&gt;</comment>
                            <comment id="17349915" author="maqroll" created="Sun, 23 May 2021 02:48:35 +0000"  >&lt;p&gt;I was looking into this and ran into a problem with setting things up to test locally. The documentation says that one of 7 supported options is:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;endpoint&lt;/b&gt;&#160;(common)&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Endpoint to use with local Pub/Sub emulator.&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&#160;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;String&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Running the emulator on localhost:8085 if I try:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;from(&quot;&quot;google-pubsub://ACME:ACME_SUB?endpoint=localhost:8085&quot;)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I get the error&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;Unknown parameters=&lt;span class=&quot;error&quot;&gt;&amp;#91;\{endpoint=localhost:8085}&amp;#93;&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Any suggestions?&lt;/p&gt;</comment>
                            <comment id="17349940" author="ancosen" created="Sun, 23 May 2021 07:07:22 +0000"  >&lt;p&gt;Endpoint Is a component parameter. You cannot set it on the endpoint. If you plan to work on this always first ask to the assignee if it&apos;s fine for him, avoiding duplicate work.&lt;/p&gt;</comment>
                            <comment id="17350060" author="maqroll" created="Sun, 23 May 2021 15:27:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=acosentino&quot; class=&quot;user-hover&quot; rel=&quot;acosentino&quot;&gt;acosentino&lt;/a&gt;&#160;Apologies for not checking first.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=acosentino&quot; class=&quot;user-hover&quot; rel=&quot;acosentino&quot;&gt;acosentino&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chardahe%40redhat.com&quot; class=&quot;user-hover&quot; rel=&quot;chardahe@redhat.com&quot;&gt;chardahe@redhat.com&lt;/a&gt;&#160;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anglind&quot; class=&quot;user-hover&quot; rel=&quot;anglind&quot;&gt;anglind&lt;/a&gt;: If any of you is working on this please let me know. Thanks.&lt;/p&gt;</comment>
                            <comment id="17354849" author="ancosen" created="Tue, 1 Jun 2021 06:28:22 +0000"  >&lt;p&gt;If you have time to work on this go ahead &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maqroll&quot; class=&quot;user-hover&quot; rel=&quot;maqroll&quot;&gt;maqroll&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17500940" author="JIRAUSER286112" created="Thu, 3 Mar 2022 17:47:00 +0000"  >&lt;p&gt;Hey,&lt;/p&gt;



&lt;p&gt;I hope I&#8217;m contacting the right person. I&#8217;m using Camel 3.15 w/ Spring Boot&lt;br/&gt;
and I&#8217;m encountering this issue in PRD. I don&#8217;t think it was resolved. Can&lt;br/&gt;
you share any insights? I&#8217;m running into the exact same error described in&lt;br/&gt;
this ticket.&lt;/p&gt;



&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Chris&lt;/p&gt;

&lt;p&gt;&amp;#8211; &lt;br/&gt;
&lt;b&gt;Chris Furlong&lt;/b&gt;&lt;br/&gt;
Co-founder, CTO&lt;br/&gt;
Direct: (843) 345-3884&lt;br/&gt;
Email: chris.furlong@anduin.ai&lt;/p&gt;</comment>
                            <comment id="17500946" author="ancosen" created="Thu, 3 Mar 2022 17:51:30 +0000"  >&lt;p&gt;This has been fixed a long time ago.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/commit/1e02f4cfc58895e3382e6f05d615de43440e8055&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/1e02f4cfc58895e3382e6f05d615de43440e8055&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;And the exception is correctly catch &lt;a href=&quot;https://github.com/apache/camel/blob/main/components/camel-google/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/GooglePubsubConsumer.java#L180&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/blob/main/components/camel-google/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/GooglePubsubConsumer.java#L180&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="17500972" author="maqroll" created="Thu, 3 Mar 2022 18:36:00 +0000"  >&lt;p&gt;Hi Chris:&lt;br/&gt;
It&#8217;s been a while since I looked at this. Need to fish things out. I&#8217;ll get back to you in a couple of days.&lt;br/&gt;
Shankar&lt;/p&gt;

&lt;p&gt;From: Chris Furlong (Jira) &amp;lt;jira@apache.org&amp;gt;&lt;br/&gt;
Date: Thursday, March 3, 2022 at 10:04 AM&lt;br/&gt;
To: Shankar Ramamoorthy &amp;lt;sramamoorthy@guidewire.com&amp;gt;&lt;br/&gt;
Subject: &lt;/p&gt;
{EXT}
&lt;p&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Commented&amp;#93;&lt;/span&gt; (&lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-16263&quot; title=&quot;camel-google-pubsub - Consumer does not recover from 500 series error from Google&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-16263&quot;&gt;&lt;del&gt;CAMEL-16263&lt;/del&gt;&lt;/a&gt;) camel-google-pubsub - Consumer does not recover from 500 series error from Google&lt;/p&gt;

&lt;p&gt;    [ &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-16263?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=17500940#comment-17500940&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-16263?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=17500940#comment-17500940&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Chris Furlong commented on &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-16263&quot; title=&quot;camel-google-pubsub - Consumer does not recover from 500 series error from Google&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-16263&quot;&gt;&lt;del&gt;CAMEL-16263&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
---------------------------------------&lt;/p&gt;

&lt;p&gt;Hey,&lt;/p&gt;



&lt;p&gt;I hope I&#8217;m contacting the right person. I&#8217;m using Camel 3.15 w/ Spring Boot&lt;br/&gt;
and I&#8217;m encountering this issue in PRD. I don&#8217;t think it was resolved. Can&lt;br/&gt;
you share any insights? I&#8217;m running into the exact same error described in&lt;br/&gt;
this ticket.&lt;/p&gt;



&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Chris&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;br/&gt;
&lt;b&gt;Chris Furlong&lt;/b&gt;&lt;br/&gt;
Co-founder, CTO&lt;br/&gt;
Direct: (843) 345-3884&lt;br/&gt;
Email: chris.furlong@anduin.ai&lt;/p&gt;





&lt;p&gt;&amp;#8211;&lt;br/&gt;
This message was sent by Atlassian Jira&lt;br/&gt;
(v8.20.1#820001)&lt;/p&gt;</comment>
                            <comment id="17503076" author="JIRAUSER286112" created="Tue, 8 Mar 2022 17:42:00 +0000"  >&lt;p&gt;Thanks  Shankar - have you had a chance to look yet? Unfortunately this is&lt;br/&gt;
a PRD issue for us now.&lt;/p&gt;

&lt;p&gt;On Thu, Mar 3, 2022 at 12:45 PM Chris Furlong &amp;lt;chris.furlong@anduin.ai&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="17503079" author="davsclaus" created="Tue, 8 Mar 2022 17:44:01 +0000"  >&lt;p&gt;Are anyone able to share any logs/stacktraces etc about this and paste here. You can &quot;remove sensitive information from the logs/stacktrace&quot; first.&lt;/p&gt;</comment>
                            <comment id="17503101" author="JIRAUSER286112" created="Tue, 8 Mar 2022 18:14:00 +0000"  >&lt;p&gt;Sure, no problem.&lt;/p&gt;

&lt;p&gt;com.google.api.gax.rpc.DeadlineExceededException:&lt;br/&gt;
io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after&lt;br/&gt;
59.996463488s. [closed=[], open=[[buffered_nanos=14061205, remote_addr=&lt;br/&gt;
pubsub.googleapis.com/172.253.119.95:443]]]&lt;br/&gt;
at com.google.api.gax.rpc.ApiExceptionFactory.createException (&lt;br/&gt;
com/google.api.gax.rpc/ApiExceptionFactory.java:49 )&lt;br/&gt;
at com.google.api.gax.grpc.GrpcApiExceptionFactory.create (&lt;br/&gt;
com/google.api.gax.grpc/GrpcApiExceptionFactory.java:72 )&lt;br/&gt;
at com.google.api.gax.grpc.GrpcApiExceptionFactory.create (&lt;br/&gt;
com/google.api.gax.grpc/GrpcApiExceptionFactory.java:60 )&lt;br/&gt;
at com.google.api.gax.grpc.&lt;br/&gt;
GrpcExceptionCallable$ExceptionTransformingFuture.onFailure (&lt;br/&gt;
com/google.api.gax.grpc/GrpcExceptionCallable.java:97 )&lt;br/&gt;
at com.google.api.core.ApiFutures$1.onFailure (&lt;br/&gt;
com/google.api.core/ApiFutures.java:68 )&lt;br/&gt;
at com.google.common.util.concurrent.Futures$CallbackListener.run (&lt;br/&gt;
com/google.common.util.concurrent/Futures.java:1083 )&lt;br/&gt;
at com.google.common.util.concurrent.DirectExecutor.execute (&lt;br/&gt;
com/google.common.util.concurrent/DirectExecutor.java:30 )&lt;br/&gt;
at com.google.common.util.concurrent.AbstractFuture.executeListener (&lt;br/&gt;
com/google.common.util.concurrent/AbstractFuture.java:1174 )&lt;br/&gt;
at com.google.common.util.concurrent.AbstractFuture.complete (&lt;br/&gt;
com/google.common.util.concurrent/AbstractFuture.java:969 )&lt;br/&gt;
at com.google.common.util.concurrent.AbstractFuture.setException (&lt;br/&gt;
com/google.common.util.concurrent/AbstractFuture.java:760 )&lt;br/&gt;
at io.grpc.stub.ClientCalls$GrpcFuture.setException (&lt;br/&gt;
io/grpc.stub/ClientCalls.java:564&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.stub%2FClientCalls.java&amp;amp;line=564&amp;amp;project=an-prd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.stub%2FClientCalls.java&amp;amp;line=564&amp;amp;project=an-prd&lt;/a&gt;&amp;gt;&lt;br/&gt;
 )&lt;br/&gt;
at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose (&lt;br/&gt;
io/grpc.stub/ClientCalls.java:534&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.stub%2FClientCalls.java&amp;amp;line=534&amp;amp;project=an-prd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.stub%2FClientCalls.java&amp;amp;line=534&amp;amp;project=an-prd&lt;/a&gt;&amp;gt;&lt;br/&gt;
 )&lt;br/&gt;
at io.grpc.internal.DelayedClientCall$DelayedListener$3.run (&lt;br/&gt;
io/grpc.internal/DelayedClientCall.java:463&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FDelayedClientCall.java&amp;amp;line=463&amp;amp;project=an-prd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FDelayedClientCall.java&amp;amp;line=463&amp;amp;project=an-prd&lt;/a&gt;&amp;gt;&lt;br/&gt;
 )&lt;br/&gt;
at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute (&lt;br/&gt;
io/grpc.internal/DelayedClientCall.java:427&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FDelayedClientCall.java&amp;amp;line=427&amp;amp;project=an-prd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FDelayedClientCall.java&amp;amp;line=427&amp;amp;project=an-prd&lt;/a&gt;&amp;gt;&lt;br/&gt;
 )&lt;br/&gt;
at io.grpc.internal.DelayedClientCall$DelayedListener.onClose (&lt;br/&gt;
io/grpc.internal/DelayedClientCall.java:460&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FDelayedClientCall.java&amp;amp;line=460&amp;amp;project=an-prd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FDelayedClientCall.java&amp;amp;line=460&amp;amp;project=an-prd&lt;/a&gt;&amp;gt;&lt;br/&gt;
 )&lt;br/&gt;
at io.grpc.internal.ClientCallImpl.closeObserver (&lt;br/&gt;
io/grpc.internal/ClientCallImpl.java:562&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FClientCallImpl.java&amp;amp;line=562&amp;amp;project=an-prd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FClientCallImpl.java&amp;amp;line=562&amp;amp;project=an-prd&lt;/a&gt;&amp;gt;&lt;br/&gt;
 )&lt;br/&gt;
at io.grpc.internal.ClientCallImpl.access$300 (&lt;br/&gt;
io/grpc.internal/ClientCallImpl.java:70&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FClientCallImpl.java&amp;amp;line=70&amp;amp;project=an-prd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FClientCallImpl.java&amp;amp;line=70&amp;amp;project=an-prd&lt;/a&gt;&amp;gt;&lt;br/&gt;
 )&lt;br/&gt;
at io.grpc.internal.&lt;br/&gt;
ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal (&lt;br/&gt;
io/grpc.internal/ClientCallImpl.java:743&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FClientCallImpl.java&amp;amp;line=743&amp;amp;project=an-prd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FClientCallImpl.java&amp;amp;line=743&amp;amp;project=an-prd&lt;/a&gt;&amp;gt;&lt;br/&gt;
 )&lt;br/&gt;
at io.grpc.internal.&lt;br/&gt;
ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext (&lt;br/&gt;
io/grpc.internal/ClientCallImpl.java:722&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FClientCallImpl.java&amp;amp;line=722&amp;amp;project=an-prd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FClientCallImpl.java&amp;amp;line=722&amp;amp;project=an-prd&lt;/a&gt;&amp;gt;&lt;br/&gt;
 )&lt;br/&gt;
at io.grpc.internal.ContextRunnable.run (&lt;br/&gt;
io/grpc.internal/ContextRunnable.java:37&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FContextRunnable.java&amp;amp;line=37&amp;amp;project=an-prd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FContextRunnable.java&amp;amp;line=37&amp;amp;project=an-prd&lt;/a&gt;&amp;gt;&lt;br/&gt;
 )&lt;br/&gt;
at io.grpc.internal.SerializingExecutor.run (&lt;br/&gt;
io/grpc.internal/SerializingExecutor.java:133&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FSerializingExecutor.java&amp;amp;line=133&amp;amp;project=an-prd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/debug?referrer=fromlog&amp;amp;file=io%2Fgrpc.internal%2FSerializingExecutor.java&amp;amp;line=133&amp;amp;project=an-prd&lt;/a&gt;&amp;gt;&lt;br/&gt;
 )&lt;br/&gt;
at java.util.concurrent.ThreadPoolExecutor.runWorker&lt;br/&gt;
at java.util.concurrent.ThreadPoolExecutor$Worker.run&lt;br/&gt;
at java.lang.Thread.run&lt;/p&gt;

</comment>
                            <comment id="17503217" author="maqroll" created="Tue, 8 Mar 2022 22:59:00 +0000"  >&lt;p&gt;The change I made was only to GooglePubsubConsumer#synchronizedPull(). &lt;br/&gt;
Added this catch block:&lt;/p&gt;

&lt;p&gt; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } catch (ApiException e) {&lt;br/&gt;
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if (e.isRetryable()) &lt;/p&gt;
{
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; localLog.error(&quot;Retryable API exception in getting messages from PubSub&quot;, e);
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }
&lt;p&gt; else &lt;/p&gt;
{
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; throw e;
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }
&lt;p&gt; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&lt;/p&gt;

&lt;p&gt;That was it.&lt;/p&gt;

&lt;p&gt;The stacktrace you provided doesn&apos;t refer to anything in Camel. Is it &lt;br/&gt;
from the Camel consumer? Is there a way for me to reproduce the problem &lt;br/&gt;
locally?&lt;br/&gt;
Shankar&lt;/p&gt;
</comment>
                            <comment id="17503225" author="JIRAUSER286112" created="Tue, 8 Mar 2022 23:30:00 +0000"  >&lt;p&gt;I haven&apos;t been able to replicate yet, but trying. It mentions Camel here&lt;/p&gt;

&lt;p&gt;org.apache.camel.component.google.pubsub.GooglePubsubConsume&lt;br/&gt;
r$SubscriberWrapper.synchronousPull(GooglePubsubConsumer.java:152)&lt;br/&gt;
gle.pubsub.GooglePubsubConsumer$SubscriberWrapper.run(Google&lt;br/&gt;
PubsubConsumer.java:113)&lt;/p&gt;

&lt;p&gt;On Tue, Mar 8, 2022, 6:00 PM Shankar Ramamoorthy (Jira) &amp;lt;jira@apache.org&amp;gt;&lt;br/&gt;
wrote:&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0o2mg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>