<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:30:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-1188] Exceptions thrown from when - methodCall are not caught by onException</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-1188</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;See the route below. beanOne throws ExceptionOneException and beanTwo throws ExceptionTwoException. ExceptionOneException it caught and handled as it&apos;s supposed to.  But ExceptionTwoException goes all the way through, without  being caught and routed to the exceptionTwoQueue. Is it the when tag or the methodCall tag that is the cause of this?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;camelContext id=&lt;span class=&quot;code-quote&quot;&gt;&quot;MyCamelContext xmlns=&quot;&lt;/span&gt;http:&lt;span class=&quot;code-comment&quot;&gt;//activemq.apache.org/camel/schema/spring&quot;&amp;gt;
&lt;/span&gt;	&amp;lt;endpoint id=&lt;span class=&quot;code-quote&quot;&gt;&quot;myMainQueue&quot;&lt;/span&gt; uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:${my.project.queue.main}&quot;&lt;/span&gt;/&amp;gt;
	&amp;lt;endpoint id=&lt;span class=&quot;code-quote&quot;&gt;&quot;exceptionOneQueue&quot;&lt;/span&gt; uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:${my.project.queue.exceptionOne}&quot;&lt;/span&gt;/&amp;gt;
	&amp;lt;endpoint id=&lt;span class=&quot;code-quote&quot;&gt;&quot;exceptionTwoQueue&quot;&lt;/span&gt; uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:${my.project.queue.exceptionTwo}&quot;&lt;/span&gt;/&amp;gt;
	&amp;lt;route&amp;gt;		
		&amp;lt;from ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;myMainQueue&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;onException&amp;gt;
			&amp;lt;exception&amp;gt;my.project.queue.ExceptionOneException&amp;lt;/exception&amp;gt;
			&amp;lt;redeliveryPolicy maximumRedeliveries=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;handled&amp;gt;
				&amp;lt;constant&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/constant&amp;gt;
			&amp;lt;/handled&amp;gt;
			&amp;lt;to ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;exceptionOneQueue&quot;&lt;/span&gt;/&amp;gt;
		&amp;lt;/onException&amp;gt;
		&amp;lt;onException&amp;gt;
			&amp;lt;exception&amp;gt;my.project.queue.ExceptionTwoException&amp;lt;/exception&amp;gt;
			&amp;lt;redeliveryPolicy maximumRedeliveries=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;handled&amp;gt;
				&amp;lt;constant&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/constant&amp;gt;
			&amp;lt;/handled&amp;gt;
			&amp;lt;to ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;exceptionTwoQueue&quot;&lt;/span&gt;/&amp;gt;
		&amp;lt;/onException&amp;gt;
		&amp;lt;onException&amp;gt;
			&amp;lt;exception&amp;gt;java.lang.Exception&amp;lt;/exception&amp;gt;
			&amp;lt;redeliveryPolicy maximumRedeliveries=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;handled&amp;gt;
				&amp;lt;constant&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/constant&amp;gt;
			&amp;lt;/handled&amp;gt;
		&amp;lt;/onException&amp;gt;
		&amp;lt;unmarshal&amp;gt;
			&amp;lt;jaxb prettyPrint=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; contextPath=&lt;span class=&quot;code-quote&quot;&gt;&quot;my.project.domain&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/unmarshal&amp;gt;
		&amp;lt;choice&amp;gt;
			&amp;lt;when&amp;gt;
				&amp;lt;methodCall bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;beanTwo&quot;&lt;/span&gt; method=&lt;span class=&quot;code-quote&quot;&gt;&quot;methodFromBeanTwo&quot;&lt;/span&gt;/&amp;gt;
			&amp;lt;/when&amp;gt;
			&amp;lt;otherwise&amp;gt;
				&amp;lt;to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;bean:beanOne?methodName=methodFromBeanOne&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;/otherwise&amp;gt;
		&amp;lt;/choice&amp;gt;
	&amp;lt;/route&amp;gt;
&amp;lt;/camelContext&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12486521">CAMEL-1188</key>
            <summary>Exceptions thrown from when - methodCall are not caught by onException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="sagnet">Rikard Eriksen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Dec 2008 13:52:52 +0000</created>
                <updated>Fri, 31 Jul 2009 06:33:52 +0000</updated>
                            <resolved>Tue, 16 Dec 2008 18:40:24 +0000</resolved>
                                    <version>1.5.0</version>
                                    <fixVersion>1.6.0</fixVersion>
                    <fixVersion>2.0-M1</fixVersion>
                                    <component>camel-core</component>
                    <component>camel-spring</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12950024" author="sagnet" created="Tue, 16 Dec 2008 15:12:31 +0000"  >&lt;p&gt;Here&apos;s the Nabble thread for this: &lt;a href=&quot;http://www.nabble.com/Will-onException-handle-exceptions-thrown-from-%27when%27-clause--ts21033017s22882.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Will-onException-handle-exceptions-thrown-from-%27when%27-clause--ts21033017s22882.html&lt;/a&gt; I&apos;ve tried using &amp;lt;filter&amp;gt; instead of &amp;lt;choice&amp;gt;/&amp;lt;when&amp;gt;/&amp;lt;otherwise&amp;gt;, which gives the same results. So my assumption is that it is the use of &amp;lt;methodCall&amp;gt; intead of &amp;lt;to&amp;gt; that causes the exception not to be caught.&lt;/p&gt;</comment>
                            <comment id="12950107" author="davsclaus" created="Tue, 16 Dec 2008 18:33:58 +0000"  >&lt;p&gt;Ah I got it. This is already fixed in Camel 1.5.1&lt;/p&gt;

&lt;p&gt;When you use bean for predicates and they throw an exception it&apos;s wrapped in a RuntimeBeanExpressionException. And sadly Camel 1.5.0 does not look into the exception tree to find the real caused exception.&lt;/p&gt;

&lt;p&gt;Rikard you can try the 1.5.1-SNAPSHOT&lt;br/&gt;
&lt;a href=&quot;http://activemq.apache.org/camel/download.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/camel/download.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12950124" author="davsclaus" created="Tue, 16 Dec 2008 18:40:24 +0000"  >&lt;p&gt;Already fixed in 1.5.1 (will now look into exception tree to find the real caused exception)&lt;/p&gt;</comment>
                            <comment id="12948419" author="davsclaus" created="Fri, 31 Jul 2009 06:33:52 +0000"  >&lt;p&gt;Closing 2.0m1 tickets&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01gvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6503</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>