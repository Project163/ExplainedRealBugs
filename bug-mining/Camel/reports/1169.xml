<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:40:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-3114] url encoding goes wrong in org.apache.camel.component.rss.RssComponent#afterConfiguration</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3114</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The method org.apache.camel.component.rss.RssComponent#afterConfiguration creates the Url that will be used to fetch the rss feed. We find that with some url&apos;s url encoding goes wrong.&lt;/p&gt;

&lt;p&gt;consider this url: &lt;a href=&quot;http://api.flickr.com/services/feeds/photos_public.gne?id=23353282@N05&amp;amp;tags=lowlands&amp;amp;lang=en-us&amp;amp;format=rss_200&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://api.flickr.com/services/feeds/photos_public.gne?id=23353282@N05&amp;amp;tags=lowlands&amp;amp;lang=en-us&amp;amp;format=rss_200&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AfterConfiguration() calls org.apache.camel.util.URISupport#createRemainingURI This method first calls org.apache.camel.util.URISupport#createQueryString, which is a method that will iterate over a map of request parameters, escape each param name and value using java.net.URLEncoder#encode, and put them together with all the &amp;amp; and = stuff to form the query string.&lt;br/&gt;
Then it calls org.apache.camel.util.URISupport#createURIWithQuery Which is a method that takes a URI (the base url) and the constructed query string, and simply creates a new URI with that, returning the toString() output from that.&lt;/p&gt;

&lt;p&gt;So this is what the output of this procedure looks like: &lt;a href=&quot;http://api.flickr.com/services/feeds/photos_public.gne?format=rss_200&amp;amp;id=23353282%2540N05&amp;amp;lang=en-us&amp;amp;tags=lowlands&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://api.flickr.com/services/feeds/photos_public.gne?format=rss_200&amp;amp;id=23353282%2540N05&amp;amp;lang=en-us&amp;amp;tags=lowlands&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;1 the @ sign was escaped by org.apache.camel.util.URISupport#createQueryString, creating a query string like: id=23353282%40N05&amp;amp;tags=lowlands&amp;amp;lang=en-us&amp;amp;format=rss_200 (which is good)&lt;br/&gt;
2 the URI constructor then finds the % in %40 and escapes that again! creating a url like: &lt;a href=&quot;http://api.flickr.com/services/feeds/photos_public.gne?format=rss_200&amp;amp;id=23353282%2540N05&amp;amp;lang=en-us&amp;amp;tags=lowlands&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://api.flickr.com/services/feeds/photos_public.gne?format=rss_200&amp;amp;id=23353282%2540N05&amp;amp;lang=en-us&amp;amp;tags=lowlands&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;Which predictably fails...&lt;/p&gt;

&lt;p&gt;I did some tests with the URI constructor, and it seems it only escapes % chars, everything else is left alone.&lt;/p&gt;

&lt;p&gt;I attach a groovy script that demonstrates the problem&lt;/p&gt;

&lt;p&gt;regards,&lt;/p&gt;

&lt;p&gt;Ernst Bunders&lt;/p&gt;</description>
                <environment>&lt;p&gt;jdk: Java(TM) SE Runtime Environment (build 1.6.0_20-b02)&lt;br/&gt;
platform: linux (ubuntu 10.04)&lt;/p&gt;</environment>
        <key id="12487579">CAMEL-3114</key>
            <summary>url encoding goes wrong in org.apache.camel.component.rss.RssComponent#afterConfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="ebunders">Ernst Bunders</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Sep 2010 10:53:24 +0000</created>
                <updated>Sun, 24 Apr 2011 09:58:10 +0000</updated>
                            <resolved>Sun, 19 Sep 2010 07:59:19 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>2.5.0</fixVersion>
                                    <component>camel-rss</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12956676" author="ebunders" created="Fri, 10 Sep 2010 10:54:31 +0000"  >&lt;p&gt;this script demonstrates the problem&lt;/p&gt;</comment>
                            <comment id="12956684" author="davsclaus" created="Wed, 15 Sep 2010 12:15:24 +0000"  >&lt;p&gt;Can you create a pure Java unit test which demonstrates this, then it can be included as an unit test in the source&lt;/p&gt;</comment>
                            <comment id="12956683" author="ebunders" created="Wed, 15 Sep 2010 12:39:38 +0000"  >&lt;p&gt;I guess I could do that&lt;/p&gt;</comment>
                            <comment id="12956781" author="davsclaus" created="Sun, 19 Sep 2010 07:59:19 +0000"  >&lt;p&gt;trunk: 998608.&lt;/p&gt;

&lt;p&gt;I found the bug and fixed it. I can now read the feed from flickr.&lt;/p&gt;

&lt;p&gt;Thanks for reporting. Feel free to test it on your system as well.&lt;/p&gt;</comment>
                            <comment id="13024081" author="davsclaus" created="Sun, 24 Apr 2011 09:58:10 +0000"  >&lt;p&gt;Closing all resolved tickets from 2010 or older&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12463353" name="test.groovy" size="1063" author="ebunders" created="Fri, 10 Sep 2010 10:54:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01sqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8426</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>