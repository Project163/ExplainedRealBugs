<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:23:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-11279] Camel hystrix does not handle exceptions properly</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-11279</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Exceptions in the route executed by Hystrix are not propagated to Hystrix itself and main features such as &quot;circuit open&quot; are not available, when errors pack up. The scenario was working with fallbackEnabled=&quot;true&quot; in 2.18.1. &lt;br/&gt;
I have prepared a JUnit test: &lt;a href=&quot;https://github.com/anton-k11/camel/blob/cffa13cb8106731ba94aaff85a9dd81715315306/components/camel-hystrix/src/test/java/org/apache/camel/component/hystrix/processor/HystrixCircutExceptionTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/anton-k11/camel/blob/cffa13cb8106731ba94aaff85a9dd81715315306/components/camel-hystrix/src/test/java/org/apache/camel/component/hystrix/processor/HystrixCircutExceptionTest.java&lt;/a&gt;&lt;br/&gt;
The test works fine if the IOException on line 110 is comment out and instead a Thread.sleep is used to simulate timeout.&lt;/p&gt;</description>
                <environment>&lt;p&gt;spring boot 1.4.2&lt;/p&gt;</environment>
        <key id="13071809">CAMEL-11279</key>
            <summary>Camel hystrix does not handle exceptions properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="anton_k11">Anton Krosnev</reporter>
                        <labels>
                    </labels>
                <created>Sun, 14 May 2017 13:15:31 +0000</created>
                <updated>Thu, 21 Dec 2017 16:44:27 +0000</updated>
                            <resolved>Tue, 16 May 2017 10:50:32 +0000</resolved>
                                    <version>2.18.2</version>
                    <version>2.18.3</version>
                    <version>2.19.0</version>
                                    <fixVersion>2.18.4</fixVersion>
                    <fixVersion>2.19.1</fixVersion>
                    <fixVersion>2.20.0</fixVersion>
                                    <component>camel-hystrix</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16009736" author="githubbot" created="Sun, 14 May 2017 13:24:36 +0000"  >&lt;p&gt;GitHub user anton-k11 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1694&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1694&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11279&quot; title=&quot;Camel hystrix does not handle exceptions properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11279&quot;&gt;&lt;del&gt;CAMEL-11279&lt;/del&gt;&lt;/a&gt; test and fix&lt;/p&gt;

&lt;p&gt;    Fix and JUnit test for &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11279&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-11279&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/anton-k11/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/anton-k11/camel&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1694.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1694.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1694&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 758c5a0e5a0b070f0ade5dd1716fc50301e0751d&lt;br/&gt;
Author: Anton Krosnev &amp;lt;anton.krosnev@ocado.com&amp;gt;&lt;br/&gt;
Date:   2017-05-14T12:09:18Z&lt;/p&gt;

&lt;p&gt;    Camel-hystrix test, which checks if the Hystrix in the route is&lt;br/&gt;
    short-circuited after some errors.&lt;/p&gt;

&lt;p&gt;commit cffa13cb8106731ba94aaff85a9dd81715315306&lt;br/&gt;
Author: Anton Krosnev &amp;lt;anton.krosnev@ocado.com&amp;gt;&lt;br/&gt;
Date:   2017-05-14T12:51:21Z&lt;/p&gt;

&lt;p&gt;    Fixing source stile&lt;/p&gt;

&lt;p&gt;commit c15a0cf0f538ef774c877764b3081d98cb9be8db&lt;br/&gt;
Author: Anton Krosnev &amp;lt;anton.krosnev@ocado.com&amp;gt;&lt;br/&gt;
Date:   2017-05-14T13:21:43Z&lt;/p&gt;

&lt;p&gt;    Fixing Camel hystrix issue:&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11279&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-11279&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16009738" author="anton_k11" created="Sun, 14 May 2017 13:29:35 +0000"  >&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;I have created PR #1694 containing a fix and a test.&lt;/p&gt;

&lt;p&gt;Regards, Anton&lt;/p&gt;</comment>
                            <comment id="16012137" author="davsclaus" created="Tue, 16 May 2017 10:50:32 +0000"  >&lt;p&gt;Thanks for the PR&lt;/p&gt;</comment>
                            <comment id="16017650" author="githubbot" created="Fri, 19 May 2017 16:55:16 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1694&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1694&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16300129" author="huminio" created="Thu, 21 Dec 2017 15:00:29 +0000"  >&lt;p&gt;I believe that exceptions are still not handled correctly (at least in 2.19.4)&lt;br/&gt;
Circuit breaker should be transparent when `closed` - so until it is `open` all exceptions should be passed through not wrapped as it happening now (when fallback is disabled)&lt;/p&gt;

&lt;p&gt;Current implementation always wraps original exception in `HystrixRuntimeException` - this way it is neither transparent nor compatible with Java use with annotations.&lt;/p&gt;

&lt;p&gt;For clarification: hystrix library always wraps cause with `HystrixRuntimeException` but Java aspect is implementation unwraps it and in result annotation based hystrix in Java is transparent.&lt;br/&gt;
And it should behave same way in Camel.&lt;/p&gt;

&lt;p&gt;I actually raised story &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12100&quot; title=&quot;Camel Hystrix component should be transparent for exceptions while `closed` and not using fallback &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12100&quot;&gt;&lt;del&gt;CAMEL-12100&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ey1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Regression</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10091"><![CDATA[Regression]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>