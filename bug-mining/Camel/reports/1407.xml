<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:43:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-3849] OSGi - No possibility to enable ehcache clustering as: ehcache.xml is ignored and there is no possibility to set cacheManagerFactory described camel-cache docs</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3849</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;This bug is caused by more than one problem as:&lt;br/&gt;
1. camel-cache bundle provides ehcache.xml config which is ignored so then default ehcache-failsafe.xml is taken by ehcache bundle.&lt;br/&gt;
2. according to camel-cache docs there is a way to set cacheManagerFactory but it seems to be not implemented as&lt;br/&gt;
a) default CacheManagerFactory instance is created when when CacheComponent is instantiated.&lt;br/&gt;
b) setter method: public void setCacheManagerFactory(CacheManagerFactory cacheManagerFactory) is used just nowhere.&lt;br/&gt;
c) there is no suitable filed in class CacheConfiguration&lt;/p&gt;

&lt;p&gt;All above problems cause camel-cache to be not able to work in java- clustered world as default failsafe config. is really failsafe- w/o clustering.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache ServiceMix 4.3.1-fuse-01-09&lt;/p&gt;</environment>
        <key id="12503740">CAMEL-3849</key>
            <summary>OSGi - No possibility to enable ehcache clustering as: ehcache.xml is ignored and there is no possibility to set cacheManagerFactory described camel-cache docs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="nannou9">Piotr Klimczak</reporter>
                        <labels>
                            <label>cacheManagerFactory</label>
                            <label>camel-cache</label>
                            <label>cluster</label>
                            <label>clustering</label>
                            <label>osgi</label>
                    </labels>
                <created>Fri, 8 Apr 2011 14:13:09 +0000</created>
                <updated>Tue, 25 Oct 2011 11:35:52 +0000</updated>
                            <resolved>Mon, 11 Apr 2011 08:19:10 +0000</resolved>
                                    <version>2.6.0</version>
                    <version>2.7.0</version>
                                    <fixVersion>2.7.3</fixVersion>
                    <fixVersion>2.8.0</fixVersion>
                                    <component>camel-cache</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13017472" author="davsclaus" created="Fri, 8 Apr 2011 14:29:43 +0000"  >&lt;p&gt;Please dont add any estimates. They just distract.&lt;/p&gt;</comment>
                            <comment id="13017754" author="joed" created="Fri, 8 Apr 2011 23:43:57 +0000"  >&lt;p&gt;Just a question, but have you tried attaching the ehcache.xml file you want as a fragment bundle?&lt;/p&gt;</comment>
                            <comment id="13017756" author="joed" created="Fri, 8 Apr 2011 23:46:34 +0000"  >&lt;p&gt;Also, cacheManagerFactory is used as an option via ?cacheManagerFactory=theBean in the registry (spring/jndi/simple registry) so that method is used via the normal field resolution in Camel as far as I can see.&lt;/p&gt;</comment>
                            <comment id="13017781" author="nannou9" created="Sat, 9 Apr 2011 00:35:54 +0000"  >&lt;p&gt;Haven&apos;t tried with fragment. But have tried with ?cacheMana... but it faild.&lt;br/&gt;
This is because: c) there is no suitable filed in class CacheConfiguration&lt;/p&gt;

&lt;p&gt;I have already fixed the problem.&lt;br/&gt;
Will upload the patch file soon.&lt;/p&gt;</comment>
                            <comment id="13018048" author="davsclaus" created="Sun, 10 Apr 2011 07:53:54 +0000"  >&lt;p&gt;Piotr can you upload your patch so we can get it fixed?&lt;/p&gt;</comment>
                            <comment id="13018152" author="nannou9" created="Sun, 10 Apr 2011 21:21:09 +0000"  >&lt;p&gt;Fixed loading ehcache.xml and fixed setting cacheManagerFactory property via endpoint URI&lt;/p&gt;</comment>
                            <comment id="13018154" author="nannou9" created="Sun, 10 Apr 2011 21:26:53 +0000"  >&lt;p&gt;Sorry for late answer. I was off for longer time.&lt;/p&gt;

&lt;p&gt;Patch is fully working. Tested using junit and a real world servicemix 4.3.1 scenerio.&lt;br/&gt;
Patch was made to version apache-camel-2.6.0-fuse-00-00.&lt;/p&gt;

&lt;p&gt;What was fixed:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;ehcache.xml file in now loaded, no more &quot;No configuration found. Configuring ehcache from ehcache-failsafe.xml&quot; logs.&lt;/li&gt;
	&lt;li&gt;ability to set property cacheManagerFactory via spring bean ref. using &quot;#&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What&apos;s new:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test case testing setting cacheManagerFactory via spring ref.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Have a FUN!&lt;/p&gt;

&lt;p&gt;Greetings&lt;br/&gt;
Piotr&lt;/p&gt;</comment>
                            <comment id="13018159" author="hadrian" created="Sun, 10 Apr 2011 21:43:40 +0000"  >&lt;p&gt;Piotr,&lt;/p&gt;

&lt;p&gt;Thanks for the patch. We do not close an issue until the patch is reviewed, applied and documentation updated. The reason is that if it&apos;s marked closed, we may not realized that there is still work to be done for an issue.&lt;/p&gt;</comment>
                            <comment id="13018222" author="nannou9" created="Mon, 11 Apr 2011 07:02:00 +0000"  >&lt;p&gt;Thanks Hadrian,&lt;/p&gt;

&lt;p&gt;i will remember about that in future. This is my 1st patch to apache. But I&apos;m sure not the last one &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;br/&gt;
According to the patch, i haven&apos;t got much time (spent just few hours most on analyzing camel source code) but i did my best to make just a little, easy to review changes.&lt;/p&gt;</comment>
                            <comment id="13018231" author="nannou9" created="Mon, 11 Apr 2011 07:45:19 +0000"  >&lt;p&gt;changed eols to Windows&lt;/p&gt;</comment>
                            <comment id="13018234" author="davsclaus" created="Mon, 11 Apr 2011 08:19:10 +0000"  >&lt;p&gt;Added osgi unit test as well.&lt;/p&gt;</comment>
                            <comment id="13018241" author="nannou9" created="Mon, 11 Apr 2011 08:39:49 +0000"  >&lt;p&gt;I was thinking about adding an osgi test. But was not sure what testing framework you are using. Pax Exam maybe?- this is the one i use.&lt;/p&gt;</comment>
                            <comment id="13018242" author="davsclaus" created="Mon, 11 Apr 2011 08:43:25 +0000"  >&lt;p&gt;Yeah see&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/repos/asf/camel/trunk/tests/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/camel/trunk/tests/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We have karaf = just testing a bundle can be deployed&lt;br/&gt;
And then osgi = full unit test with pax-exam&lt;/p&gt;</comment>
                            <comment id="13018245" author="nannou9" created="Mon, 11 Apr 2011 08:54:26 +0000"  >&lt;p&gt;Thanks! Great! Now i know where to look for tests and where to place them &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13018256" author="nannou9" created="Mon, 11 Apr 2011 09:23:10 +0000"  >&lt;p&gt;I see there is only a basic osgi test. Do you want me to write additional osgi test (or extend your) that will test my patch? Then include it to the patch file? It could check is the ehcache.xml file really loaded instead of ehcache-failsafe.xml. As you know loading ehcache.xml is not so obvious with osgi classloaders so it could be helpful, especially for future changes.&lt;/p&gt;</comment>
                            <comment id="13018259" author="davsclaus" created="Mon, 11 Apr 2011 09:39:36 +0000"  >&lt;p&gt;Yeah we love more osgi tests, so please fell free to copy the unit test file and do a 2nd test. I like when we have multiple tests. Some are simple and others more complicated.&lt;/p&gt;

&lt;p&gt;Then create a new ticket and attach the patch / unit test, and remember to &lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; in grant license to apache.&lt;/p&gt;</comment>
                            <comment id="13018260" author="nannou9" created="Mon, 11 Apr 2011 09:45:35 +0000"  >&lt;p&gt;Great! Sound like a fun! Will do that soon &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12475984" name="camel-cache.patch" size="12447" author="nannou9" created="Mon, 11 Apr 2011 07:45:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14106</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01x9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>