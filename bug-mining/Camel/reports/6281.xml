<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:58:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-18617] Some health checks are hidden when running withg supervised controller enabled</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-18617</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;As follow up of &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-18483&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-18483&lt;/a&gt;, when enabling the supervise route controller, some heath checks are not included.&lt;/p&gt;

&lt;p&gt;With the supervisor disabled, we can see a camel-kafka check:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-json&quot;&gt;
{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;checks&quot;&lt;/span&gt;: [
        {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;camel-routes&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;UP&quot;&lt;/span&gt;
        },
        {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;camel-kafka&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;UP&quot;&lt;/span&gt;
        },
        {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;data&quot;&lt;/span&gt;: {
                &lt;span class=&quot;code-quote&quot;&gt;&quot;check.kind&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;READINESS&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;context.name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;camel-q&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;context.status&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Started&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;context.version&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;3.18.3-SNAPSHOT&quot;&lt;/span&gt;
            },
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;context&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;UP&quot;&lt;/span&gt;
        },
        {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;camel-consumers&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;UP&quot;&lt;/span&gt;
        }
    ],
    &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;UP&quot;&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However with the supervisor enabled, the camel-kafka check is not reported:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-json&quot;&gt;
{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;checks&quot;&lt;/span&gt;: [
        {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;camel-routes&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;UP&quot;&lt;/span&gt;
        },
        {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;data&quot;&lt;/span&gt;: {
                &lt;span class=&quot;code-quote&quot;&gt;&quot;check.kind&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;READINESS&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;context.name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;camel-q&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;context.status&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Started&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;context.version&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;3.18.3-SNAPSHOT&quot;&lt;/span&gt;
            },
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;context&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;UP&quot;&lt;/span&gt;
        },
        {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;camel-consumers&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;UP&quot;&lt;/span&gt;
        }
    ],
    &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;UP&quot;&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13486836">CAMEL-18617</key>
            <summary>Some health checks are hidden when running withg supervised controller enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lb">Luca Burgazzoli</assignee>
                                    <reporter username="lb">Luca Burgazzoli</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Oct 2022 12:38:27 +0000</created>
                <updated>Fri, 15 Dec 2023 17:38:39 +0000</updated>
                            <resolved>Fri, 21 Oct 2022 07:03:08 +0000</resolved>
                                    <version>3.18.2</version>
                    <version>3.19.0</version>
                                    <fixVersion>3.20.0</fixVersion>
                                    <component>camel-health</component>
                    <component>camel-microprofile-health</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17619494" author="lb" created="Tue, 18 Oct 2022 12:39:04 +0000"  >&lt;p&gt;/cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jamesnetherton&quot; class=&quot;user-hover&quot; rel=&quot;jamesnetherton&quot;&gt;jamesnetherton&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17620128" author="davsclaus" created="Wed, 19 Oct 2022 09:06:50 +0000"  >&lt;p&gt;we likely need a registry in the core for these dynamic components that adds custom checks on the fly. Then there is 1 registry to go to that has all the checks.&lt;/p&gt;</comment>
                            <comment id="17620869" author="lb" created="Thu, 20 Oct 2022 07:47:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt; I can try to have a look, would be a ComponentHealthCheckRepositoy be the right name ?&lt;/p&gt;</comment>
                            <comment id="17620873" author="davsclaus" created="Thu, 20 Oct 2022 07:49:59 +0000"  >&lt;p&gt;Yeah that is a good name as it gives room to have whatever a component has as custom health checks in there&lt;/p&gt;</comment>
                            <comment id="17620999" author="davsclaus" created="Thu, 20 Oct 2022 10:54:36 +0000"  >&lt;p&gt;Also camel-spring-boot has that health check auto configuration so you need to add the new option there too&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z19glk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>