<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:25:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-11643] Extensions: registerExtension method has to avoid final in his declaration to work in CDI</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-11643</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;For example in the examples camel-example-cdi-properties we are currently getting an error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.apache.camel.example.cdi.properties.CdiPropertiesTest
2017-08-07 10:40:08,567 [main           ] INFO  Version                        - WELD-000900: 2.4.4 (Final)
2017-08-07 10:40:08,726 [main           ] INFO  Bootstrap                      - WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
2017-08-07 10:40:08,824 [main           ] INFO  Event                          - WELD-000411: Observer method [BackedAnnotatedMethod] &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; org.apache.camel.cdi.CdiCamelExtension.processAnnotatedType(@Observes ProcessAnnotatedType&amp;lt;?&amp;gt;) receives events &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; all annotated types. Consider restricting events using @WithAnnotations or a &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt; type with bounds.
2017-08-07 10:40:08,828 [main           ] INFO  Event                          - WELD-000411: Observer method [BackedAnnotatedMethod] &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; org.apache.camel.cdi.CdiCamelExtension.processAnnotatedType(@Observes ProcessAnnotatedType&amp;lt;?&amp;gt;) receives events &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; all annotated types. Consider restricting events using @WithAnnotations or a &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt; type with bounds.
2017-08-07 10:40:08,831 [main           ] INFO  Event                          - WELD-000411: Observer method [BackedAnnotatedMethod] &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; org.apache.deltaspike.core.impl.interceptor.GlobalInterceptorExtension.promoteInterceptors(@Observes ProcessAnnotatedType, BeanManager) receives events &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; all annotated types. Consider restricting events using @WithAnnotations or a &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt; type with bounds.
2017-08-07 10:40:08,839 [main           ] INFO  Event                          - WELD-000411: Observer method [BackedAnnotatedMethod] &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; org.apache.deltaspike.core.impl.config.ConfigurationExtension.findDynamicConfigurationBeans(@Observes ProcessAnnotatedType&amp;lt;?&amp;gt;) receives events &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; all annotated types. Consider restricting events using @WithAnnotations or a &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt; type with bounds.
2017-08-07 10:40:08,841 [main           ] INFO  Event                          - WELD-000411: Observer method [BackedAnnotatedMethod] &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; org.apache.deltaspike.core.impl.message.MessageBundleExtension.detectInterfaces(@Observes ProcessAnnotatedType) receives events &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; all annotated types. Consider restricting events using @WithAnnotations or a &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt; type with bounds.
2017-08-07 10:40:08,846 [main           ] INFO  Event                          - WELD-000411: Observer method [BackedAnnotatedMethod] &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; org.apache.deltaspike.core.impl.exclude.extension.ExcludeExtension.vetoBeans(@Observes ProcessAnnotatedType, BeanManager) receives events &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; all annotated types. Consider restricting events using @WithAnnotations or a &lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt; type with bounds.
2017-08-07 10:40:09,090 [main           ] WARN  Validator                      - WELD-001478: Interceptor &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.deltaspike.core.impl.throttling.ThrottledInterceptor is enabled &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the application and &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the bean archive /home/oscerd/.m2/repository/org/apache/deltaspike/core/deltaspike-core-impl/1.8.0/deltaspike-core-impl-1.8.0.jar. It will only be invoked in the @Priority part of the chain.
2017-08-07 10:40:09,091 [main           ] WARN  Validator                      - WELD-001478: Interceptor &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.deltaspike.core.impl.lock.LockedInterceptor is enabled &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the application and &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the bean archive /home/oscerd/.m2/repository/org/apache/deltaspike/core/deltaspike-core-impl/1.8.0/deltaspike-core-impl-1.8.0.jar. It will only be invoked in the @Priority part of the chain.
2017-08-07 10:40:09,091 [main           ] WARN  Validator                      - WELD-001478: Interceptor &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.deltaspike.core.impl.&lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt;.FutureableInterceptor is enabled &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the application and &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the bean archive /home/oscerd/.m2/repository/org/apache/deltaspike/core/deltaspike-core-impl/1.8.0/deltaspike-core-impl-1.8.0.jar. It will only be invoked in the @Priority part of the chain.
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 1.14 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.camel.example.cdi.properties.CdiPropertiesTest
[ERROR] org.apache.camel.example.cdi.properties.CdiPropertiesTest  Time elapsed: 1.14 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.jboss.weld.exceptions.DeploymentException: 
Exception List with 1 exceptions:
Exception 0 :
javax.enterprise.inject.InjectionException: Error adding routes of type [org.apache.camel.example.cdi.properties.Application$HelloRoute] to Camel context [hello]
	at org.apache.camel.cdi.CdiCamelExtension.addRouteToContext(CdiCamelExtension.java:456)
	at org.apache.camel.cdi.CdiCamelExtension.afterDeploymentValidation(CdiCamelExtension.java:399)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:88)
	at org.jboss.weld.injection.MethodInvocationStrategy$SpecialParamPlusBeanManagerStrategy.invoke(MethodInvocationStrategy.java:144)
	at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:299)
	at org.jboss.weld.event.ExtensionObserverMethodImpl.sendEvent(ExtensionObserverMethodImpl.java:124)
	at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:277)
	at org.jboss.weld.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:255)
	at org.jboss.weld.event.ObserverNotifier.notifySyncObservers(ObserverNotifier.java:269)
	at org.jboss.weld.event.ObserverNotifier.notify(ObserverNotifier.java:258)
	at org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:154)
	at org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:148)
	at org.jboss.weld.bootstrap.events.AbstractContainerEvent.fire(AbstractContainerEvent.java:53)
	at org.jboss.weld.bootstrap.events.AbstractDeploymentContainerEvent.fire(AbstractDeploymentContainerEvent.java:35)
	at org.jboss.weld.bootstrap.events.AfterDeploymentValidationImpl.fire(AfterDeploymentValidationImpl.java:28)
	at org.jboss.weld.bootstrap.WeldStartup.validateBeans(WeldStartup.java:487)
	at org.jboss.weld.bootstrap.WeldBootstrap.validateBeans(WeldBootstrap.java:90)
	at org.jboss.weld.environment.se.Weld.initialize(Weld.java:787)
	at org.apache.camel.test.cdi.CamelCdiDeployment$1.evaluate(CamelCdiDeployment.java:71)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:272)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:236)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:386)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:323)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:143)
Caused by: org.apache.camel.RuntimeCamelException: org.jboss.weld.exceptions.UnproxyableResolutionException: WELD-001480: Bean type &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.camel.component.properties.PropertiesComponent is not proxyable because it contains a &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; method &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; void org.apache.camel.impl.DefaultComponent.registerExtension(org.apache.camel.component.extension.ComponentExtension) - &amp;lt;unknown javax.enterprise.inject.spi.Bean instance&amp;gt;.
	at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1828)
	at org.apache.camel.impl.PropertyPlaceholderDelegateRegistry.lookupByName(PropertyPlaceholderDelegateRegistry.java:52)
	at org.apache.camel.util.CamelContextHelper.lookupPropertiesComponent(CamelContextHelper.java:683)
	at org.apache.camel.impl.DefaultCamelContext.resolvePropertyPlaceholders(DefaultCamelContext.java:2532)
	at org.apache.camel.model.ProcessorDefinitionHelper.resolvePropertyPlaceholders(ProcessorDefinitionHelper.java:735)
	at org.apache.camel.model.RouteDefinitionHelper.initRouteInputs(RouteDefinitionHelper.java:378)
	at org.apache.camel.model.RouteDefinitionHelper.prepareRouteImp(RouteDefinitionHelper.java:298)
	at org.apache.camel.model.RouteDefinitionHelper.prepareRoute(RouteDefinitionHelper.java:270)
	at org.apache.camel.model.RoutesDefinition.route(RoutesDefinition.java:205)
	at org.apache.camel.model.RoutesDefinition.from(RoutesDefinition.java:158)
	at org.apache.camel.builder.RouteBuilder.from(RouteBuilder.java:169)
	at org.apache.camel.example.cdi.properties.Application$HelloRoute.configure(Application.java:45)
	at org.apache.camel.builder.RouteBuilder.checkInitialized(RouteBuilder.java:462)
	at org.apache.camel.builder.RouteBuilder.configureRoutes(RouteBuilder.java:402)
	at org.apache.camel.builder.RouteBuilder.addRoutesToCamelContext(RouteBuilder.java:383)
	at org.apache.camel.impl.DefaultCamelContext$1.call(DefaultCamelContext.java:1014)
	at org.apache.camel.impl.DefaultCamelContext$1.call(DefaultCamelContext.java:1011)
	at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3235)
	at org.apache.camel.impl.DefaultCamelContext.addRoutes(DefaultCamelContext.java:1011)
	at org.apache.camel.impl.DefaultCamelContext$Proxy$_$$_WeldClientProxy.addRoutes(Unknown Source)
	at org.apache.camel.cdi.CdiCamelExtension.addRouteToContext(CdiCamelExtension.java:443)
	... 31 more
Caused by: org.jboss.weld.exceptions.UnproxyableResolutionException: WELD-001480: Bean type &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.camel.component.properties.PropertiesComponent is not proxyable because it contains a &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; method &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; void org.apache.camel.impl.DefaultComponent.registerExtension(org.apache.camel.component.extension.ComponentExtension) - &amp;lt;unknown javax.enterprise.inject.spi.Bean instance&amp;gt;.
	at org.jboss.weld.util.Proxies.getUnproxyableClassException(Proxies.java:222)
	at org.jboss.weld.util.Proxies.getUnproxyableTypeException(Proxies.java:179)
	at org.jboss.weld.util.Proxies.getUnproxyableTypeException(Proxies.java:141)
	at org.jboss.weld.bean.proxy.ClientProxyProvider.getClientProxy(ClientProxyProvider.java:239)
	at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:779)
	at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:808)
	at org.jboss.weld.util.ForwardingBeanManager.getReference(ForwardingBeanManager.java:61)
	at org.jboss.weld.bean.builtin.BeanManagerProxy.getReference(BeanManagerProxy.java:85)
	at org.apache.camel.cdi.BeanManagerHelper.getReference(BeanManagerHelper.java:53)
	at org.apache.camel.cdi.CdiCamelRegistry.lambda$findByTypeWithName$63(CdiCamelRegistry.java:78)
	at java.util.stream.Collectors.lambda$toMap$214(Collectors.java:1321)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at org.apache.camel.cdi.CdiCamelRegistry.findByTypeWithName(CdiCamelRegistry.java:78)
	at org.apache.camel.cdi.CdiCamelRegistry.lookupByName(CdiCamelRegistry.java:58)
	at org.apache.camel.impl.PropertyPlaceholderDelegateRegistry.lookupByName(PropertyPlaceholderDelegateRegistry.java:50)
	... 50 more


[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Errors: 
[ERROR]   CdiPropertiesTest.org.apache.camel.example.cdi.properties.CdiPropertiesTest &#187; Deployment
[INFO] 
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0
[INFO] 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13092820">CAMEL-11643</key>
            <summary>Extensions: registerExtension method has to avoid final in his declaration to work in CDI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lb">Luca Burgazzoli</assignee>
                                    <reporter username="acosentino">Andrea Cosentino</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Aug 2017 08:52:28 +0000</created>
                <updated>Mon, 7 Aug 2017 09:37:11 +0000</updated>
                            <resolved>Mon, 7 Aug 2017 09:37:11 +0000</resolved>
                                                    <fixVersion>2.20.0</fixVersion>
                                    <component>camel-core</component>
                    <component>examples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 15 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ihbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>