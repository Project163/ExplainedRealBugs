<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:08:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-21340] camel-spring-boot - JSON validator object mapper and standalone tomcat</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-21340</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;If a Camel 4.8.0 using Spring Boot is deployed in a standalone Tomcat with JNDI enabled an exception is thrown at startup:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
WARN 4424 --- [ &#160; &#160; &#160; &#160; &#160; main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.camel.component.jsonvalidator.springboot.JsonValidatorComponentAutoConfiguration&apos;&lt;/span&gt;: Unsatisfied dependency expressed through field &lt;span class=&quot;code-quote&quot;&gt;&apos;configuration&apos;&lt;/span&gt;: Error creating bean with name &lt;span class=&quot;code-quote&quot;&gt;&apos;camel.component.json-validator-org.apache.camel.component.jsonvalidator.springboot.JsonValidatorComponentConfiguration&apos;&lt;/span&gt;: Could not bind properties to &lt;span class=&quot;code-quote&quot;&gt;&apos;JsonValidatorComponentConfiguration&apos;&lt;/span&gt; : prefix=camel.component.json-validator, ignoreInvalidFields=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, ignoreUnknownFields=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;


...

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to bind properties under &lt;span class=&quot;code-quote&quot;&gt;&apos;camel.component.json-validator.object-mapper.serializer-provider.generator.write-capabilities&apos;&lt;/span&gt; to com.fasterxml.jackson.core.util.JacksonFeatureSet&amp;lt;com.fasterxml.jackson.core.StreamWriteCapability&amp;gt;:&#160; &#160; 

    Reason: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &lt;span class=&quot;code-quote&quot;&gt;&apos;camel.component.json-validator.object-mapper.serializer-provider.generator.write-capabilities&apos;&lt;/span&gt; to com.fasterxml.jackson.core.util.JacksonFeatureSet&amp;lt;com.fasterxml.jackson.core.StreamWriteCapability&amp;gt;

Action:
    
Update your application&apos;s configuration&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;According to &lt;a href=&quot;https://github.com/spring-projects/spring-boot/issues/35091&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Spring boot #35091&lt;/a&gt;, one solution is to add a spring.properties file in the src/main/resoures folder with the content:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
spring.jndi.ignore=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Is there any other workaround solution?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The problem seems to come from the ObjectMapper field from the &lt;a href=&quot;https://github.com/apache/camel-spring-boot/blob/main/components-starter/camel-json-validator-starter/src/main/java/org/apache/camel/component/jsonvalidator/springboot/JsonValidatorComponentAutoConfiguration.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JsonValidatorComponentAutoConfiguration&lt;/a&gt; configuration.&lt;/p&gt;

&lt;p&gt;Here is a repo to reproduce the problem: &lt;a href=&quot;https://github.com/ojacquemart/camel-reproducers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;camel-reproducer&lt;/a&gt;, if it can help.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13595041">CAMEL-21340</key>
            <summary>camel-spring-boot - JSON validator object mapper and standalone tomcat</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="foobarqix">Olivier Jacquemart</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Oct 2024 07:37:37 +0000</created>
                <updated>Tue, 15 Oct 2024 15:48:51 +0000</updated>
                            <resolved>Mon, 14 Oct 2024 07:56:13 +0000</resolved>
                                    <version>4.8.0</version>
                                    <fixVersion>4.8.1</fixVersion>
                    <fixVersion>4.9.0</fixVersion>
                                    <component>camel-core</component>
                    <component>camel-spring-boot</component>
                    <component>camel-validator</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17888664" author="davsclaus" created="Fri, 11 Oct 2024 14:03:11 +0000"  >&lt;p&gt;So are you packing camel as a .war file and deploying that in a standalone Tomcat ?&lt;/p&gt;</comment>
                            <comment id="17888911" author="davsclaus" created="Sat, 12 Oct 2024 15:34:42 +0000"  >&lt;p&gt;Can you update the reproducer so its ready to use for tomcat&lt;/p&gt;</comment>
                            <comment id="17889102" author="JIRAUSER307352" created="Mon, 14 Oct 2024 07:05:33 +0000"  >&lt;p&gt;hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;yes, in the real scenario, in producation, the application is a war file deployed in a standalone Tomcat.&lt;/p&gt;

&lt;p&gt;The problem can be reproduced running the &lt;a href=&quot;https://github.com/ojacquemart/camel-reproducers/blob/main/src/main/java/com/foobarqix/camel/reproducers/HelloApplication.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;HelloApplication&lt;/a&gt; from the reproducer but I can upload a war file if needed.&lt;br/&gt;
The application contains the modifications from the &lt;a href=&quot;https://github.com/spring-projects/spring-boot/issues/35091&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Spring Boot ticket #35091&lt;/a&gt; to reproduce the issue.&lt;/p&gt;</comment>
                            <comment id="17889119" author="davsclaus" created="Mon, 14 Oct 2024 07:56:13 +0000"  >&lt;p&gt;Thanks for the reproducer&lt;/p&gt;</comment>
                            <comment id="17889731" author="JIRAUSER307352" created="Tue, 15 Oct 2024 15:48:51 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt; for the fix! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rx68:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>