<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:35:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-2095] Support Issue: Routing a TextMessage from a &lt;camel:proxy&gt; to a JMS queue</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-2095</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I did not find any example or documentation for using the &amp;lt;camel:proxy&amp;gt; with a simple send(String textMessage) method and a route sending the textMessage String as body to a JMS queue (for example).&lt;/p&gt;

&lt;p&gt;The thing is that &amp;lt;camel:proxy&amp;gt; creates a messages with body of type BeanInvocation. I would expect that Camel provides some builtin transformer/converter to change the body to the String argument, so that the message on the queue is of type TextMessage.&lt;/p&gt;

&lt;p&gt;Did I miss something? &lt;/p&gt;</description>
                <environment>&lt;p&gt;jdk 1.5, spring 2.5.6&lt;/p&gt;</environment>
        <key id="12486910">CAMEL-2095</key>
            <summary>Support Issue: Routing a TextMessage from a &lt;camel:proxy&gt; to a JMS queue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="laurent.bovet">Laurent Bovet</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Oct 2009 07:04:20 +0000</created>
                <updated>Thu, 3 Jun 2010 07:25:00 +0000</updated>
                            <resolved>Thu, 22 Oct 2009 12:28:46 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12952593" author="laurent.bovet" created="Thu, 22 Oct 2009 07:07:49 +0000"  >&lt;p&gt;Added test case.&lt;/p&gt;

&lt;p&gt;The test fails because the body is not of type String:&lt;/p&gt;

&lt;p&gt;java.lang.AssertionError: mock://result Body of message: 0. Expected: &amp;lt;Hello&amp;gt; but was: &amp;lt;BeanInvocation public abstract void proxy.test.Sender.send(java.lang.String) with &lt;span class=&quot;error&quot;&gt;&amp;#91;Hello&amp;#93;&lt;/span&gt;]&amp;gt;&lt;br/&gt;
	at org.apache.camel.component.mock.MockEndpoint.fail(MockEndpoint.java:899)&lt;br/&gt;
	at org.apache.camel.component.mock.MockEndpoint.assertEquals(MockEndpoint.java:881)&lt;br/&gt;
	at org.apache.camel.component.mock.MockEndpoint$4.run(MockEndpoint.java:371)&lt;br/&gt;
	at org.apache.camel.component.mock.MockEndpoint.assertIsSatisfied(MockEndpoint.java:241)&lt;br/&gt;
	at org.apache.camel.component.mock.MockEndpoint.assertIsSatisfied(MockEndpoint.java:208)&lt;br/&gt;
	at proxy.test.ProxyToStringTest.testProxyToString(ProxyToStringTest.java:27)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)&lt;br/&gt;
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)&lt;br/&gt;
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:73)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:46)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:180)&lt;br/&gt;
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:41)&lt;br/&gt;
	at org.junit.runners.ParentRunner$1.evaluate(ParentRunner.java:173)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)&lt;br/&gt;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:220)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:45)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)&lt;/p&gt;
</comment>
                            <comment id="12952724" author="davsclaus" created="Thu, 22 Oct 2009 11:00:30 +0000"  >&lt;p&gt;Works in Camel 1.x&lt;/p&gt;

&lt;p&gt;Added unit test in 1.x: 828653.&lt;/p&gt;</comment>
                            <comment id="12952833" author="davsclaus" created="Thu, 22 Oct 2009 12:28:46 +0000"  >&lt;p&gt;trunk: 828670.&lt;/p&gt;

&lt;p&gt;Laurent you are welcome to test with latest code.&lt;/p&gt;</comment>
                            <comment id="12952871" author="laurent.bovet" created="Thu, 22 Oct 2009 13:10:17 +0000"  >&lt;p&gt;Wow. Many thanks for you reactivity, Claus and congrat to all for this good work.&lt;/p&gt;</comment>
                            <comment id="12952896" author="davsclaus" created="Thu, 22 Oct 2009 13:14:49 +0000"  >&lt;p&gt;Remember that if you want to route the proxy to a JMS queue and want the &quot;value you passed in the first method&quot; to be sent as text message on the jms queue then you have to convert the payload to text or force the jms producer to use text type.&lt;/p&gt;

&lt;p&gt;Either&lt;br/&gt;
.convertBodyTo(String.class)&lt;br/&gt;
before you send it to the JMS queue.&lt;/p&gt;

&lt;p&gt;Or configure the JMS endpoint with ?jmsMessageType=Text&lt;/p&gt;


&lt;p&gt;Otherwise you send an object BeanInvocation to the JMS queue and then if you have Camel on the other side it can read this BeanInvocation and &lt;b&gt;actually&lt;/b&gt; invoke a bean on this side.&lt;br/&gt;
So what it allows is to create a proxy for the client and send it over JMS to the server and invoke the real bean. And return the reply back to the client &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12952895" author="davsclaus" created="Thu, 22 Oct 2009 13:15:22 +0000"  >&lt;p&gt;Which this tutorial btw shows&lt;br/&gt;
&lt;a href=&quot;http://camel.apache.org/tutorial-jmsremoting.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/tutorial-jmsremoting.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12956395" author="davsclaus" created="Thu, 3 Jun 2010 07:25:00 +0000"  >&lt;p&gt;Closing old resolved issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12462865" name="ProxyToStringTest-context.xml" size="1173" author="laurent.bovet" created="Thu, 22 Oct 2009 07:07:49 +0000"/>
                            <attachment id="12462864" name="ProxyToStringTest.java" size="899" author="laurent.bovet" created="Thu, 22 Oct 2009 07:07:48 +0000"/>
                            <attachment id="12462863" name="Sender.java" size="90" author="laurent.bovet" created="Thu, 22 Oct 2009 07:07:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76636</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01mh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>