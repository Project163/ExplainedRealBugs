<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:52:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-5412] ObjectAlreadyExistsException when &quot;redeploying&quot; routes that uses CronScheduledRoutePolicy</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-5412</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When a route that has a CronScheduledRoutePolicy is removed it does not properly clean up the quartz jobs. &lt;/p&gt;

&lt;p&gt;The result (apart from possible memory leak) is that if the route is removed from the context and then readded with the same route id a ObjectAlreadyExistsException.&lt;/p&gt;


&lt;p&gt;This is done using the following steps.&lt;br/&gt;
1. Stop the route&lt;br/&gt;
2. Remove the route (and it&apos;s endpoints) from the context.&lt;br/&gt;
3. (Re)add the route to the context using the same name.&lt;/p&gt;

&lt;p&gt;Attached is a testcase that shows the problem.&lt;/p&gt;


&lt;p&gt;I&apos;ve solved this by adding my own implementation of onRemove (that calls doStop()) to CronScheduledRoutePolicy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12596403">CAMEL-5412</key>
            <summary>ObjectAlreadyExistsException when &quot;redeploying&quot; routes that uses CronScheduledRoutePolicy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="pontus.ullgren">Pontus Ullgren</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Jun 2012 13:44:32 +0000</created>
                <updated>Fri, 29 Jun 2012 15:01:21 +0000</updated>
                            <resolved>Fri, 29 Jun 2012 15:01:21 +0000</resolved>
                                    <version>2.9.2</version>
                    <version>2.10.0</version>
                                    <fixVersion>2.9.3</fixVersion>
                    <fixVersion>2.10.1</fixVersion>
                                    <component>camel-quartz</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13403900" author="pontus.ullgren" created="Fri, 29 Jun 2012 13:45:30 +0000"  >&lt;p&gt;Unit testcase&lt;/p&gt;</comment>
                            <comment id="13403905" author="pontus.ullgren" created="Fri, 29 Jun 2012 13:50:12 +0000"  >&lt;p&gt;Simple patch that &quot;works for me&quot;(tm)&lt;/p&gt;</comment>
                            <comment id="13403959" author="davsclaus" created="Fri, 29 Jun 2012 15:01:21 +0000"  >&lt;p&gt;Thanks for the patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12533982" name="CAMEL-5412.zip" size="4327" author="pontus.ullgren" created="Fri, 29 Jun 2012 13:45:30 +0000"/>
                            <attachment id="12533984" name="CronScheduledRoutePolicy.patch" size="640" author="pontus.ullgren" created="Fri, 29 Jun 2012 13:50:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i026xj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10724</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>