<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:52:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-5501] @XPath annotation should ensure cleanup after evaluation</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-5501</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-3813&quot; title=&quot;XPathBuilder doesn&amp;#39;t clear ThreadLocal with exchange after evaluation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-3813&quot;&gt;&lt;del&gt;CAMEL-3813&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Look into the @XPath bean parameter binding and ensure its resources is cleaned up after usage.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12603221">CAMEL-5501</key>
            <summary>@XPath annotation should ensure cleanup after evaluation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="davsclaus">Claus Ibsen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Aug 2012 11:07:28 +0000</created>
                <updated>Mon, 13 Aug 2012 16:15:09 +0000</updated>
                            <resolved>Mon, 13 Aug 2012 16:11:40 +0000</resolved>
                                    <version>2.9.2</version>
                    <version>2.10.0</version>
                                    <fixVersion>2.9.3</fixVersion>
                    <fixVersion>2.10.1</fixVersion>
                    <fixVersion>2.11.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13433127" author="davsclaus" created="Mon, 13 Aug 2012 13:27:18 +0000"  >&lt;p&gt;Okay i have reproduce an issue when using ognl expressions on beans that use @XPath annoations&lt;/p&gt;</comment>
                            <comment id="13433155" author="davsclaus" created="Mon, 13 Aug 2012 14:13:52 +0000"  >&lt;p&gt;Its &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-1930&quot; title=&quot;Synchronized access to XPathExpression resulting in contention for multiple consumers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-1930&quot;&gt;&lt;del&gt;CAMEL-1930&lt;/del&gt;&lt;/a&gt; that introduced improved concurrency in xpath builder. I think we can improved that a bit to only use a thread local for the exchange. The variable resolver do not really need to be thread local as well. But just refer to the exchange as it does today. And then we can remove the thread local on each evaluation, instead of keeping it set on the thread.&lt;/p&gt;

&lt;p&gt;This should more nicely cleanup the resources in all situations also when using @XPath annotations in ognl method calls and whatnot.&lt;/p&gt;</comment>
                            <comment id="13433244" author="davsclaus" created="Mon, 13 Aug 2012 16:11:40 +0000"  >&lt;p&gt;This also optimized xpath builder under load as there is less thread locals, and no on completion etc. And makes it for better GC as no thread locals is kept for a longer time.&lt;/p&gt;</comment>
                            <comment id="13433249" author="davsclaus" created="Mon, 13 Aug 2012 16:15:09 +0000"  >&lt;p&gt;On a very crude test on my laptop by sending 33333 messages in org.apache.camel.language.XPathRouteConcurrentBigTest, i get the test to go from 90 sec to 60 sec on my laptop. Notice this is a crude test by running it locally 5 times in a row, and taking the avg. time.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i027h3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10812</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>