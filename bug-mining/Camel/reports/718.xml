<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:34:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-1873] template , consumerTemplate, service, proxy can&apos;t be set with right camel context if there are more than one camel context in the spring application context</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-1873</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>
&lt;p&gt;Current camel support to define a producer template OUTSIDE a camel context, I think it works well just like the autowire function which is provided in Spring.&lt;/p&gt;

&lt;p&gt;If there more than two Camel context in the Spring Application context , the user should specify the camel context which the template should use.&lt;/p&gt;

&lt;p&gt;But I have a concern that even we put the template INSIDE the camel context, the template will not be set with a right version of camel context, since we use a CamelPostProcessor to inject CamelContext.&lt;/p&gt;

&lt;p&gt;So I did a quick test on the current Camel code and found there is a bug  if there are more one CamelContext &amp;#8211; CamelPostProcessor will inject the last create camel context into the CamelContextAware object. &lt;/p&gt;

&lt;p&gt;Since it is not easy to add the camelContext referece id into the template element attribute, we&apos;d better just support to parser these elements inside the camel context.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12486086">CAMEL-1873</key>
            <summary>template , consumerTemplate, service, proxy can&apos;t be set with right camel context if there are more than one camel context in the spring application context</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                            <parent id="12484897">CAMEL-1874</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="njiang">Willem Jiang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Aug 2009 12:52:36 +0000</created>
                <updated>Sun, 7 Feb 2010 09:56:21 +0000</updated>
                            <resolved>Mon, 3 Aug 2009 14:17:09 +0000</resolved>
                                    <version>1.4.0</version>
                    <version>1.5.0</version>
                    <version>1.6.0</version>
                    <version>2.0-M1</version>
                    <version>1.6.1</version>
                    <version>2.0-M2</version>
                    <version>2.0-M3</version>
                                    <fixVersion>1.6.2</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>camel-spring</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12951091" author="njiang" created="Mon, 3 Aug 2009 12:54:27 +0000"  >&lt;p&gt;We should remove the feature of &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-1870&quot; title=&quot;current the consumer template does&amp;#39;t not work if define it out side of the camel context&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-1870&quot;&gt;&lt;del&gt;CAMEL-1870&lt;/del&gt;&lt;/a&gt; to avoid the ambiguity of the camel contexts.&lt;/p&gt;</comment>
                            <comment id="12951107" author="njiang" created="Mon, 3 Aug 2009 14:17:09 +0000"  >&lt;p&gt;camel-trunk&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=800340&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=800340&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=800340&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=800340&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
camel-1.x branch&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=800394&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=800394&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12951105" author="davsclaus" created="Mon, 3 Aug 2009 17:07:45 +0000"  >&lt;p&gt;I think its a bit of a &lt;b&gt;hack&lt;/b&gt; to use reflection to invoke a getter for CamelContext to test whether it has already been set.&lt;/p&gt;

&lt;p&gt;I would prefer in Camel 2.0 to add a &lt;tt&gt;getCamelContext&lt;/tt&gt; method to the CamelContextAware interface to avoid the reflection hack.&lt;/p&gt;

&lt;p&gt;And the best would be that we had a bit better control on the bean post processor and which camel context it belongs to.&lt;/p&gt;</comment>
                            <comment id="12951136" author="njiang" created="Tue, 4 Aug 2009 02:38:43 +0000"  >&lt;p&gt;Yes,  it&apos;s a &lt;b&gt;hack&lt;/b&gt; way, if we change the CamelContextAware interface, it will effect the user&apos;s bean which implement&apos;s CamelContextAware interface.&lt;br/&gt;
As we working on the camel 2.0, it&apos;s a good change to add getCamelContext method in the CamelContextAware.&lt;/p&gt;

&lt;p&gt;Current CamelPostProcessor can see all the beans in the application context, it is hard to tell if the CamelPostProcessor&apos;s camel context is belong to the bean.&lt;br/&gt;
so I add the checking in the the CamelPostProcessor to skip the camel context injection if the bean already have the camel context to avoid the injection of a  wrong camel context.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12484896">CAMEL-1870</subtask>
                            <subtask id="12484897">CAMEL-1874</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01l3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7187</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>