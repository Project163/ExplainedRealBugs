<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:34:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-13340] Invalid swagger json/yaml generated for Rest DSL</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-13340</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Swagger rests description is generated with&#160;invalid&#160;responseSchema element. You can see example I found on &lt;a href=&quot;https://stackoverflow.com/questions/52745160/camel-rest-dsl-swagger-output-contains-invalid-responseschema-element&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;stackoverflow&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;From&#160;camel 2.2 swagger-core was upgraded from 1.5.17 to 1.5.20.&lt;/p&gt;

&lt;p&gt;In Swagger 1.5.19 new ResponseSchemaMixin was added&#160;to default object mapper&#160;&lt;a href=&quot;https://github.com/swagger-api/swagger-core/commit/8b97df3667559fca1783da845607afc30e550b83#diff-58c27954db290a19d4fadbfe34b0bbf3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/swagger-api/swagger-core/commit/8b97df3667559fca1783da845607afc30e550b83#diff-58c27954db290a19d4fadbfe34b0bbf3&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Camel creates ObjectMapper manually, and does not add this mixin, which results in incorrect json/yaml generated. See &lt;a href=&quot;https://github.com/apache/camel/blob/camel-2.22.0/components/camel-swagger-java/src/main/java/org/apache/camel/swagger/RestSwaggerSupport.java#L216&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/blob/camel-2.22.0/components/camel-swagger-java/src/main/java/org/apache/camel/swagger/RestSwaggerSupport.java#L216&lt;/a&gt;&#160;and line 235&lt;/p&gt;

&lt;p&gt;Fix can be either add&#160;ResponseSchemaMixin to manually created objectmappers OR call Json.mapper() and Yaml.mapper() to use swagger logic and don&apos;t create mapper manually.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13222536">CAMEL-13340</key>
            <summary>Invalid swagger json/yaml generated for Rest DSL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dmvolod">Dmitry Volodin</assignee>
                                    <reporter username="ssavenko">Sergey Savenko</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Mar 2019 10:40:23 +0000</created>
                <updated>Sun, 24 Mar 2019 10:04:36 +0000</updated>
                            <resolved>Thu, 21 Mar 2019 16:18:07 +0000</resolved>
                                    <version>2.22.0</version>
                                    <fixVersion>2.23.2</fixVersion>
                    <fixVersion>2.24.0</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>camel-swagger</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16796831" author="davsclaus" created="Wed, 20 Mar 2019 06:08:59 +0000"  >&lt;p&gt;You are welcome to work on a proposed fix as a PR&lt;/p&gt;</comment>
                            <comment id="16797004" author="dmvolod" created="Wed, 20 Mar 2019 10:14:23 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssavenko&quot; class=&quot;user-hover&quot; rel=&quot;ssavenko&quot;&gt;ssavenko&lt;/a&gt;, I will look into this issue.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16797887" author="davsclaus" created="Thu, 21 Mar 2019 07:22:20 +0000"  >&lt;p&gt;The karaf feature for camel-swagger-java now fails due that io.swagger.jackson.mixin package is not exported by swagger-core. We would need to &quot;override&quot; this in our features.xml file or something.&lt;/p&gt;</comment>
                            <comment id="16798200" author="dmvolod" created="Thu, 21 Mar 2019 15:33:03 +0000"  >&lt;p&gt;Rewrite code to prevent use not exported package. It uses an ObjectMapperFactory to prevent add specific capabilities on library fix.&lt;/p&gt;</comment>
                            <comment id="16799084" author="ssavenko" created="Fri, 22 Mar 2019 15:03:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dmvolod&quot; class=&quot;user-hover&quot; rel=&quot;dmvolod&quot;&gt;dmvolod&lt;/a&gt; I don&apos;t think it will work for yaml. mapper = Yaml.mapper() is used to generate json and then convert to yaml (for some reason), so probably should be also&#160;mapper&#160;=&#160;Json.mapper() for yaml in that line. Thanks.&lt;/p&gt;</comment>
                            <comment id="16799969" author="dmvolod" created="Sun, 24 Mar 2019 10:04:36 +0000"  >&lt;p&gt;Thanks for suggestion, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssavenko&quot; class=&quot;user-hover&quot; rel=&quot;ssavenko&quot;&gt;ssavenko&lt;/a&gt;. I will fix, but the not good think that this is not covered by the test cases.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 34 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z00uso:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>