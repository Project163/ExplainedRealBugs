<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:27:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-12176] Camel-Dropbox /search and /get are not working</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-12176</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;First of all, &lt;a href=&quot;https://github.com/apache/camel/blob/master/components/camel-dropbox/src/main/docs/dropbox-component.adoc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;documentation&lt;/a&gt; states that &quot;query&quot; property in &quot;search&quot; operation is not mandatory, but:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:dropboxSearch&quot;&lt;/span&gt;).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;dropbox:&lt;span class=&quot;code-comment&quot;&gt;//search?remotePath=/&amp;amp;accessToken={{dropbox.key}}&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;throws:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.IllegalArgumentException: Required value &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;query&apos;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
 at com.dropbox.core.v2.files.SearchArg.&amp;lt;init&amp;gt;(SearchArg.java:59) ~[dropbox-core-sdk-3.0.4.jar:na]
 at com.dropbox.core.v2.files.SearchArg.&amp;lt;init&amp;gt;(SearchArg.java:93) ~[dropbox-core-sdk-3.0.4.jar:na]
 at com.dropbox.core.v2.files.DbxUserFilesRequests.search(DbxUserFilesRequests.java:2416) ~[dropbox-core-sdk-3.0.4.jar:na]
 at org.apache.camel.component.dropbox.core.DropboxAPIFacade.search(DropboxAPIFacade.java:270) ~[camel-dropbox-2.20.1.jar:2.20.1]
 at org.apache.camel.component.dropbox.integration.producer.DropboxSearchProducer.process(DropboxSearchProducer.java:43) ~[camel-dropbox-2.20.1.jar:2.20.1]
 at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61) ~[camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:148) ~[camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548) ~[camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.Pipeline.process(Pipeline.java:138) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.Pipeline.process(Pipeline.java:101) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:62) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:186) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:86) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:541) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:506) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:369) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:506) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:229) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:144) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:161) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:370) [camel-core-2.20.1.jar:2.20.1]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;On the other hand, when I put query=* like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:dropboxSearch&quot;&lt;/span&gt;).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;dropbox:&lt;span class=&quot;code-comment&quot;&gt;//search?remotePath=/&amp;amp;query=*&amp;amp;accessToken={{dropbox.key}}&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;it throws:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.camel.component.dropbox.util.DropboxException: / does not exist or can&apos;t obtain metadata
 at org.apache.camel.component.dropbox.core.DropboxAPIFacade.search(DropboxAPIFacade.java:283) ~[camel-dropbox-2.20.1.jar:2.20.1]
 at org.apache.camel.component.dropbox.integration.producer.DropboxSearchProducer.process(DropboxSearchProducer.java:43) ~[camel-dropbox-2.20.1.jar:2.20.1]
 at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61) ~[camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:148) ~[camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548) ~[camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.Pipeline.process(Pipeline.java:138) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.Pipeline.process(Pipeline.java:101) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:62) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:186) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:86) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:541) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:506) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:369) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:506) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:229) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:144) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:161) [camel-core-2.20.1.jar:2.20.1]
 at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:370) [camel-core-2.20.1.jar:2.20.1]
&#160;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Additionally, the same exception is thrown when I try to download &lt;b&gt;anything&lt;/b&gt; using:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:dropboxGet&quot;&lt;/span&gt;)
 .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;dropbox:&lt;span class=&quot;code-comment&quot;&gt;//get?remotePath=/&amp;amp;accessToken={{dropbox.key}}&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Dropbox:put is working without any problems...&lt;/p&gt;</description>
                <environment></environment>
        <key id="13132780">CAMEL-12176</key>
            <summary>Camel-Dropbox /search and /get are not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="eximius">Kamil</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Jan 2018 16:06:55 +0000</created>
                <updated>Fri, 2 Feb 2018 14:36:58 +0000</updated>
                            <resolved>Fri, 2 Feb 2018 09:51:40 +0000</resolved>
                                    <version>2.20.1</version>
                                    <fixVersion>2.20.3</fixVersion>
                    <fixVersion>2.21.0</fixVersion>
                                    <component>camel-dropbox</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16350083" author="davsclaus" created="Fri, 2 Feb 2018 09:51:35 +0000"  >&lt;p&gt;Maybe you cannot use the root path for remotePath. I have added the caused exception in the stacktrace in the future so you can see the error from dropbox itself.&lt;/p&gt;

&lt;p&gt;The doc has been fixed also.&lt;/p&gt;</comment>
                            <comment id="16350343" author="eximius" created="Fri, 2 Feb 2018 13:41:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;, what I learnt from using pure dropbox API is that indeed, you can not use &quot;/&quot;, but you can access &quot;root&quot; using empty string &quot;&quot;.&lt;/p&gt;

&lt;p&gt;Therefore I&apos;m using this simple method just before I pass path to Dropbox:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; cleanPath(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path) {
   &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;.equals(path) ? StringUtils.EMPTY : path; &lt;span class=&quot;code-comment&quot;&gt;//dropbox workaround
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think it would be much better to use this approach instead of force users to wonder &quot;how the heck I can access root folder&quot;&lt;/p&gt;</comment>
                            <comment id="16350410" author="davsclaus" created="Fri, 2 Feb 2018 14:36:58 +0000"  >&lt;p&gt;Kamil, ah thanks.&lt;/p&gt;

&lt;p&gt;If&#160; you want to try you are welcome to provide this code in a github PR&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://camel.apache.org/contributing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/contributing&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If not then we can also fix it ourselves, but its a good way to learn how to&#160; contribute to Apache Camel if you want to try.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3p7a7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>