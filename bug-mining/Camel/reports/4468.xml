<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:28:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-12104] Unintuitive default cxf timeout behavior</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-12104</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;There is very strange behavior in Camel cxf and cxfrs timeouts which could lead to sensitive data being released.&lt;/p&gt;

&lt;p&gt;Below is a code sample which illustrates the unexpected behavior. I think any developer would expect the test API to return &quot;Valid Response&quot; or some kind exception, but in fact it returns &quot;SENSITIVE DATA&quot; due to the default continuationTimeout of 30 seconds.&lt;/p&gt;

&lt;p&gt;This issue seems to have been introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-7401&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-7401&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() {

        from(&lt;span class=&quot;code-quote&quot;&gt;&quot;cxf:&lt;span class=&quot;code-comment&quot;&gt;///test?dataFormat=MESSAGE&quot;&lt;/span&gt;)
&lt;/span&gt;            .setBody(constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;SENSITIVE DATA&quot;&lt;/span&gt;))
            .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;cxf:&lt;span class=&quot;code-comment&quot;&gt;//http://localhost:8003/slowApi?serviceClass=com.example.ExampleService&amp;amp;dataFormat=MESSAGE&quot;&lt;/span&gt;)
&lt;/span&gt;            .transform(constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;Valid Response&quot;&lt;/span&gt;));

        from(&lt;span class=&quot;code-quote&quot;&gt;&quot;cxf:&lt;span class=&quot;code-comment&quot;&gt;///slowApi?dataFormat=MESSAGE&quot;&lt;/span&gt;)
&lt;/span&gt;            .process(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Processor(){
                @Override
                &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void process(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Exchange exchange) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
                    &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(45000);
                }
            });
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13127396">CAMEL-12104</key>
            <summary>Unintuitive default cxf timeout behavior</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="adamcampbell">Adam Campbell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Dec 2017 18:31:14 +0000</created>
                <updated>Mon, 26 Mar 2018 15:56:24 +0000</updated>
                            <resolved>Tue, 20 Mar 2018 01:27:00 +0000</resolved>
                                                    <fixVersion>2.22.0</fixVersion>
                                    <component>camel-cxf</component>
                    <component>camel-cxfrs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16322311" author="davsclaus" created="Thu, 11 Jan 2018 14:28:38 +0000"  >&lt;p&gt;Would you be able to build an unit test of this sample code so we can take that and add to the tests of camel-cxf and work on a fix.&lt;/p&gt;</comment>
                            <comment id="16380318" author="davsclaus" created="Wed, 28 Feb 2018 13:36:37 +0000"  >&lt;p&gt;Also as a workaround you can try with synchronous=true on the CXF endpoint&lt;/p&gt;</comment>
                            <comment id="16380366" author="davsclaus" created="Wed, 28 Feb 2018 14:21:19 +0000"  >&lt;p&gt;Okay so the issue is in Apache CXF where it will onTimeout that is called from Jetty or Servlet3 async API then just call resume(), see screenshot&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16380367" author="davsclaus" created="Wed, 28 Feb 2018 14:22:04 +0000"  >&lt;p&gt;The CXF Continuation API itself lacks the concept of timeout, so you cannot get that state to know there was a timeout and then fail accordingly.&lt;/p&gt;</comment>
                            <comment id="16380376" author="davsclaus" created="Wed, 28 Feb 2018 14:26:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dkulp&quot; class=&quot;user-hover&quot; rel=&quot;dkulp&quot;&gt;dkulp&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ffang&quot; class=&quot;user-hover&quot; rel=&quot;ffang&quot;&gt;ffang&lt;/a&gt; I wonder if you guys may have any comments on this.&lt;/p&gt;

&lt;p&gt;I added an unit test to camel-cxf named:&#160;&lt;/p&gt;

&lt;p&gt;CxfConsumerContinuationTimeoutTest&lt;/p&gt;</comment>
                            <comment id="16381637" author="ffang" created="Thu, 1 Mar 2018 07:47:48 +0000"  >&lt;p&gt;I think we can extend cxf Continuation interface a bit to add an isTimeout method so that we know the timeout happen and can handle this situation accordingly outside CXF&lt;/p&gt;</comment>
                            <comment id="16381701" author="davsclaus" created="Thu, 1 Mar 2018 09:09:14 +0000"  >&lt;p&gt;Thanks Freeman&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13141730">CXF-7661</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13147962">CAMEL-12409</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12912443" name="Screen Shot 2018-02-28 at 15.20.31.png" size="66208" author="davsclaus" created="Wed, 28 Feb 2018 14:21:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3obkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>