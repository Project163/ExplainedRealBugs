<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:08:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-21460] [camel-opentelemetry] Cannot run with Camel Springboot runtime</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-21460</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I&apos;m testing the camel-opentelemetry component against Spring Boot runtime. I&apos;ve followed the instructions but it seems that for some reason, the application can&apos;t start reporting the following error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2024-11-18T10:25:17.103+01:00  WARN 64348 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &lt;span class=&quot;code-quote&quot;&gt;&apos;openTelemetryEventNotifier&apos;&lt;/span&gt; defined in org.apache.camel.opentelemetry.starter.OpenTelemetryAutoConfiguration: Unsatisfied dependency expressed through method &lt;span class=&quot;code-quote&quot;&gt;&apos;openTelemetryEventNotifier&apos;&lt;/span&gt; parameter 0: Error creating bean with name &lt;span class=&quot;code-quote&quot;&gt;&apos;camelContext&apos;&lt;/span&gt; defined in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;path resource [org/apache/camel/spring/boot/CamelAutoConfiguration.class]: Failed to instantiate [org.apache.camel.CamelContext]: Factory method &lt;span class=&quot;code-quote&quot;&gt;&apos;camelContext&apos;&lt;/span&gt; threw exception with message: &lt;span class=&quot;code-quote&quot;&gt;&apos;java.util.concurrent.ScheduledExecutorService io.opentelemetry.context.Context.taskWrapping(java.util.concurrent.ScheduledExecutorService)&apos;&lt;/span&gt;
2024-11-18T10:25:17.107+01:00  INFO 64348 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-11-18T10:25:17.138+01:00  INFO 64348 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with &lt;span class=&quot;code-quote&quot;&gt;&apos;debug&apos;&lt;/span&gt; enabled.
2024-11-18T10:25:17.161+01:00 ERROR 64348 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

An attempt was made to call a method that does not exist. The attempt was made from the following location:

    org.apache.camel.opentelemetry.OpenTelemetryInstrumentedThreadPoolFactory.newScheduledThreadPool(OpenTelemetryInstrumentedThreadPoolFactory.java:66)

The following method did not exist:

    &lt;span class=&quot;code-quote&quot;&gt;&apos;java.util.concurrent.ScheduledExecutorService io.opentelemetry.context.Context.taskWrapping(java.util.concurrent.ScheduledExecutorService)&apos;&lt;/span&gt;

The calling method&apos;s class, org.apache.camel.opentelemetry.OpenTelemetryInstrumentedThreadPoolFactory, was loaded from the following location:

    jar:nested:/home/squake/Desktop/jbangdocker/csb/target/test-1.0-SNAPSHOT.jar/!BOOT-INF/lib/camel-opentelemetry-4.8.1.jar!/org/apache/camel/opentelemetry/OpenTelemetryInstrumentedThreadPoolFactory.class

The called method&apos;s class, io.opentelemetry.context.Context, is available from the following locations:

    jar:nested:/home/squake/Desktop/jbangdocker/csb/target/test-1.0-SNAPSHOT.jar/!BOOT-INF/lib/opentelemetry-context-1.37.0.jar!/io/opentelemetry/context/Context.class

The called method&apos;s &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;hierarchy was loaded from the following locations:

    io.opentelemetry.context.Context: jar:nested:/home/squake/Desktop/jbangdocker/csb/target/test-1.0-SNAPSHOT.jar/!BOOT-INF/lib/opentelemetry-context-1.37.0.jar!/


Action:

Correct the classpath of your application so that it contains compatible versions of the classes org.apache.camel.opentelemetry.OpenTelemetryInstrumentedThreadPoolFactory and io.opentelemetry.context.Context

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13599103">CAMEL-21460</key>
            <summary>[camel-opentelemetry] Cannot run with Camel Springboot runtime</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="squakez">Pasquale Congiusti</assignee>
                                    <reporter username="squakez">Pasquale Congiusti</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Nov 2024 09:28:31 +0000</created>
                <updated>Mon, 25 Nov 2024 14:51:26 +0000</updated>
                            <resolved>Mon, 25 Nov 2024 14:51:26 +0000</resolved>
                                    <version>4.8.1</version>
                                    <fixVersion>4.9.0</fixVersion>
                                    <component>camel-opentelemetry</component>
                    <component>camel-spring-boot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17899168" author="squakez" created="Mon, 18 Nov 2024 15:24:25 +0000"  >&lt;p&gt;The problem is that we&apos;ve developed certain new features in Camel core using the opentelemetry SDK version 1.43. This is fine, however, the Spring Boot BOM is forcing the dependency at runtime to version 1.37, creating such an error.&lt;/p&gt;</comment>
                            <comment id="17899413" author="squakez" created="Tue, 19 Nov 2024 09:18:57 +0000"  >&lt;p&gt;This problem only exists when you&apos;re using the BOM coming from Springboot &lt;em&gt;org.springframework.boot:spring-boot-dependencies&lt;/em&gt; (ie, when using Camel Jbang)  which is forcing the runtime dependencies to a different version than the one required. This will be naturally fixed when the Spring Boot BOM will align the dependencies to 1.43. In the while, the most immediate workaround is to provide the application pom.xml with the set of dependencies we want to force for Opentelemetry:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;io.opentelemetry&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;opentelemetry-sdk&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;1.43.0&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;io.opentelemetry&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;opentelemetry-api&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;1.43.0&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;io.opentelemetry&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;opentelemetry-context&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;1.43.0&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;io.opentelemetry&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;opentelemetry-logs&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;1.43.0&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;io.opentelemetry&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;opentelemetry-metrics&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;1.43.0&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;io.opentelemetry&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;opentelemetry-sdk-common&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;1.43.0&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;io.opentelemetry&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;opentelemetry-sdk-metrics&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;1.43.0&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;io.opentelemetry&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;opentelemetry-sdk-logs&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;1.43.0&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;io.opentelemetry&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;opentelemetry-sdk-trace&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;1.43.0&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                &amp;lt;groupId&amp;gt;io.opentelemetry&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;opentelemetry-api-incubator&amp;lt;/artifactId&amp;gt;
                &amp;lt;version&amp;gt;1.43.0-alpha&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17900811" author="davsclaus" created="Mon, 25 Nov 2024 08:07:55 +0000"  >&lt;p&gt;Can you try with the new SB 3.4.0 release&lt;/p&gt;</comment>
                            <comment id="17900821" author="squakez" created="Mon, 25 Nov 2024 08:38:16 +0000"  >&lt;p&gt;Hello. Yes, this is fixed with the new upgrade to 3.4.0. However it is still an issue on our 4.8.x version which is LTS. We cannot upgrade the springboot bom over there, so, I guess the only possibility to fix that is using the workaround proposed. I will add a documentation note on that branch to have it documented accordingly and close this one.&lt;/p&gt;</comment>
                            <comment id="17900822" author="davsclaus" created="Mon, 25 Nov 2024 08:44:17 +0000"  >&lt;p&gt;Yes great finding, and good to get it documented - its a bit of long tooth to add all these dependencies but its needed to make this work.&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1sm5c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>