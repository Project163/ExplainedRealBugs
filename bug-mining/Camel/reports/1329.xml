<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:42:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-3575] allow ScheduledRoutePolicy to handle more than one action (start, stop, resume, pause)</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3575</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The current implementation of ScheuledRoutePolicy only supports one type of action (start,stop,resume,pause) for only one route.  If, for example,  you attempt to configure a CronScheduleRoutePolicy with a routeStartTime and routeStopTime, only the one will by handled because ScheduleRoutePolicy (super-class of CronScheduleRoutePolicy) only store one action and one route in the SchedulerContext:&lt;/p&gt;

&lt;p&gt; protected void loadCallbackDataIntoSchedulerContext(Action action, Route route) throws SchedulerException {&lt;br/&gt;
       getScheduler().getContext().put(SCHEDULED_ACTION, action);&lt;br/&gt;
        getScheduler().getContext().put(SCHEDULED_ROUTE, route);&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;with the effect of creating two timers (one for startTime, the other for stopTime) that execute the same action (the last call to scheduleRoute).&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12496322">CAMEL-3575</key>
            <summary>allow ScheduledRoutePolicy to handle more than one action (start, stop, resume, pause)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="akarpe">Ashwin J. Karpe</assignee>
                                    <reporter username="rveguilla">Ricardo Veguilla</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Jan 2011 19:37:37 +0000</created>
                <updated>Tue, 25 Oct 2011 11:35:30 +0000</updated>
                            <resolved>Fri, 28 Jan 2011 22:29:55 +0000</resolved>
                                    <version>2.6.0</version>
                                    <fixVersion>2.7.0</fixVersion>
                                    <component>camel-quartz</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12984892" author="rveguilla" created="Fri, 21 Jan 2011 19:40:24 +0000"  >&lt;p&gt;The following patch is a preliminary solution which stores ScheduledJobState info (action and route) using the jobDetail.getName() as key. &lt;/p&gt;</comment>
                            <comment id="12984921" author="davsclaus" created="Fri, 21 Jan 2011 20:33:46 +0000"  >&lt;p&gt;We have code freeze on the trunk, so we will look at this in the next release&lt;/p&gt;</comment>
                            <comment id="12987278" author="akarpe" created="Wed, 26 Jan 2011 23:09:45 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I am not sure that this is an issue... It is indeed possible to set a start and stop time using a single policy for a given route. The only difference is that it sets two separate triggers to handle the start and stop based on my understanding. I will create unit tests to test if this is an issue and validate this behavior and if needed use the patch above to fix it if it does the trick.&lt;/p&gt;

&lt;p&gt;The patch above is missing unit tests to validate that it indeed works...&lt;/p&gt;

&lt;p&gt;There is however a problem in being able to apply multiple policies (policy lists on a given route in &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-3254&quot; title=&quot;Cannot set multiple route policies on a route in Spring&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-3254&quot;&gt;&lt;del&gt;CAMEL-3254&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;I will be working on this over the next few days and will apply a fix for this as well as &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-3254&quot; title=&quot;Cannot set multiple route policies on a route in Spring&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-3254&quot;&gt;&lt;del&gt;CAMEL-3254&lt;/del&gt;&lt;/a&gt; in 2.7.0, following the release of 2.6.0&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Ashwin...&lt;/p&gt;

&lt;p&gt;P.S: Please hold off on applying the above patch...&lt;/p&gt;</comment>
                            <comment id="12987587" author="akarpe" created="Thu, 27 Jan 2011 14:42:28 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I confirmed that this is an issue with a unit test. Will look into the patch and see if it can be applied without sideeffects.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Ashwin...&lt;/p&gt;</comment>
                            <comment id="12987608" author="akarpe" created="Thu, 27 Jan 2011 15:41:48 +0000"  >&lt;p&gt;Thanks to Ricardo Veguilla for the patch.&lt;/p&gt;

&lt;p&gt;Fix applied along with a unit test and removal of an unnecessary Routebuilder import in ScheduledJobState.&lt;/p&gt;

&lt;p&gt;Committed to the Camel trunk as revision r1064154.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Ashwin...&lt;/p&gt;
</comment>
                            <comment id="12988157" author="rveguilla" created="Fri, 28 Jan 2011 17:34:27 +0000"  >&lt;p&gt;Ashwin, should this issue be reclassified as a bug?&lt;/p&gt;

&lt;p&gt;Anyway, thanks for your prompt response.&lt;/p&gt;</comment>
                            <comment id="12988286" author="akarpe" created="Fri, 28 Jan 2011 22:30:41 +0000"  >&lt;p&gt;Reclassified as a bug and closed...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12469005" name="ScheduledRoutePolicy-Patch.diff" size="4726" author="rveguilla" created="Fri, 21 Jan 2011 19:40:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76222</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01vl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8886</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>