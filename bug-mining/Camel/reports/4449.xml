<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:28:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-12291] Blueprint error: &quot;name is already instanciated as null and cannot be removed&quot;</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-12291</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The error &quot;name is already instanciated (sic) as null and cannot be removed&quot; is thrown when configuring a component in Blueprint using property placeholders.&lt;/p&gt;

&lt;p&gt;I noticed when trying to&#160;migrate my project to Camel&#160;2.20.2 (from&#160;2.17.4)&#160;&lt;br/&gt;
 Example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;blueprint&#160;xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.osgi.org/xmlns/blueprint/v1.0.0&quot;&lt;/span&gt;
&lt;/span&gt;xmlns:xsi=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&#160;
&lt;/span&gt;xmlns:camel=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/blueprint&quot;&lt;/span&gt;
&lt;/span&gt;xmlns:cm=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0&quot;&lt;/span&gt;
&lt;/span&gt;xmlns:ext=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//aries.apache.org/blueprint/xmlns/blueprint-ext/v1.0.0&quot;&lt;/span&gt;
&lt;/span&gt;xsi:schemaLocation=&quot;
&#160;&#160; &#160; &#160; &#160; &#160; &#160;&#160; http:&lt;span class=&quot;code-comment&quot;&gt;//www.osgi.org/xmlns/blueprint/v1.0.0&#160;
&lt;/span&gt;&#160; &#160; &#160;https:&lt;span class=&quot;code-comment&quot;&gt;//www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd&#8221;&amp;gt;
&lt;/span&gt;&#160;
&amp;lt;cm:property-placeholder&#160;
   persistent-id=&lt;span class=&quot;code-quote&quot;&gt;&quot;audit.log&quot;&lt;/span&gt;
   update-strategy=&quot;reload&#8221;&#160;
   placeholder-prefix=&lt;span class=&quot;code-quote&quot;&gt;&quot;#{&quot;&lt;/span&gt;&#160;placeholder-suffix=&lt;span class=&quot;code-quote&quot;&gt;&quot;}&quot;&lt;/span&gt;&amp;gt;

   &amp;lt;cm:&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-properties&amp;gt;
      &amp;lt;cm:property&#160;name=&lt;span class=&quot;code-quote&quot;&gt;&quot;audit-log.reaper.cron&quot;&lt;/span&gt;&#160;value=&lt;span class=&quot;code-quote&quot;&gt;&quot;0 0/30 * * * ?&quot;&lt;/span&gt;&#160;/&amp;gt;
      &amp;lt;cm:property&#160;name=&lt;span class=&quot;code-quote&quot;&gt;&quot;startDelaySeconds&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;600&quot;&lt;/span&gt;&#160;/&amp;gt;
   &amp;lt;/cm:&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-properties&amp;gt;
&amp;lt;/cm:property-placeholder&amp;gt;

&#160;&amp;lt;bean&#160;id=&lt;span class=&quot;code-quote&quot;&gt;&quot;audit-log-reaper-quartz&quot;&lt;/span&gt;&#160;
       class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.camel.component.quartz2.QuartzComponent&quot;&lt;/span&gt;&amp;gt;

    &amp;lt;property&#160;name=&lt;span class=&quot;code-quote&quot;&gt;&quot;startDelayedSeconds&quot;&lt;/span&gt;&#160;value=&lt;span class=&quot;code-quote&quot;&gt;&quot;#{startDelaySeconds}&quot;&lt;/span&gt;&#160;/&amp;gt;
&amp;lt;/bean&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160; &lt;br/&gt;
 The bean is referenced in a Camel route:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;route&#160;id=&lt;span class=&quot;code-quote&quot;&gt;&quot;reaper-scheduler&quot;&lt;/span&gt;&amp;gt;
&#160; &#160;&#160; &amp;lt;from&#160;uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;[audit-log-reaper-quartz:&lt;span class=&quot;code-comment&quot;&gt;//reaper?cron=\{{cron}}]&quot;&lt;/span&gt;&#160;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Throws exception:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;org.osgi.service.blueprint.container.ComponentDefinitionException: Name audit-log-reaper-quartz is already&#160;&lt;ins&gt;instanciated&lt;/ins&gt;&#160;as null and cannot be removed.&lt;br/&gt;
 at org.apache.aries.blueprint.container.BlueprintRepository.removeRecipe(BlueprintRepository.java:131) &lt;span class=&quot;error&quot;&gt;&amp;#91;38:org.apache.aries.blueprint.core:1.8.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.aries.blueprint.container.BlueprintContainerImpl.updateUninstantiatedRecipes(BlueprintContainerImpl.java:572) &lt;span class=&quot;error&quot;&gt;&amp;#91;38:org.apache.aries.blueprint.core:1.8.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.aries.blueprint.container.BlueprintContainerImpl.processProcessors(BlueprintContainerImpl.java:559) &lt;span class=&quot;error&quot;&gt;&amp;#91;38:org.apache.aries.blueprint.core:1.8.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:394) &lt;span class=&quot;error&quot;&gt;&amp;#91;38:org.apache.aries.blueprint.core:1.8.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:275) &lt;span class=&quot;error&quot;&gt;&amp;#91;38:org.apache.aries.blueprint.core:1.8.3&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;br/&gt;
 &#160;&lt;br/&gt;
 Removing the property placeholder fixes the issue:&lt;br/&gt;
 &#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;bean&#160;id=&lt;span class=&quot;code-quote&quot;&gt;&quot;audit-log-reaper-quartz&quot;&lt;/span&gt;&#160;
      class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.camel.component.quartz2.QuartzComponent&quot;&lt;/span&gt;&amp;gt;
  
      &amp;lt;property&#160;name=&lt;span class=&quot;code-quote&quot;&gt;&quot;startDelayedSeconds&quot;&lt;/span&gt;&#160;value=&lt;span class=&quot;code-quote&quot;&gt;&quot;600&quot;&lt;/span&gt;&#160;/&amp;gt;
&amp;lt;/bean&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
 According to Guillaume Nodet, this seems to have been introduced by this pull request:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/commit/a4e94f036d02943814c84195d73837cf607c8c20&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/a4e94f036d02943814c84195d73837cf607c8c20&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Solution proposed by Guillaume Nodet is to change line 1056 of /camel-blueprint/src/main/java/org/apache/camel/blueprint/handler/CamelNamespaceHandler.java&lt;/p&gt;

&lt;p&gt;to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (camelContext.getComponent(component, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;) == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I tested this change locally and it seems to work, however I don&apos;t know if this can cause other problems.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OSX, &lt;font color=&quot;#000000&quot;&gt;Karaf 4.2.5&lt;/font&gt;&lt;/p&gt;</environment>
        <key id="13140594">CAMEL-12291</key>
            <summary>Blueprint error: &quot;name is already instanciated as null and cannot be removed&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="alex.soto">Alex Soto</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Feb 2018 19:33:47 +0000</created>
                <updated>Mon, 5 Mar 2018 14:34:46 +0000</updated>
                            <resolved>Mon, 5 Mar 2018 12:07:26 +0000</resolved>
                                    <version>2.19.4</version>
                    <version>2.20.2</version>
                                    <fixVersion>2.19.5</fixVersion>
                    <fixVersion>2.20.3</fixVersion>
                    <fixVersion>2.21.0</fixVersion>
                                    <component>camel-blueprint</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16374930" author="ancosen" created="Fri, 23 Feb 2018 20:25:25 +0000"  >&lt;p&gt;The fix for 12251will be in 2.20.3, but it doesn&apos;t help&#160;&lt;/p&gt;</comment>
                            <comment id="16375338" author="gzres" created="Sat, 24 Feb 2018 06:17:02 +0000"  >&lt;p&gt;The fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12251&quot; title=&quot;Do not hide (so much) blueprint.container.ComponentDefinitionException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12251&quot;&gt;&lt;del&gt;CAMEL-12251&lt;/del&gt;&lt;/a&gt; should not help with original problem - it should just make it visible in logs &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16375481" author="ancosen" created="Sat, 24 Feb 2018 10:50:58 +0000"  >&lt;p&gt;Yeah, I was on a train and I messed up with the issue.&lt;/p&gt;</comment>
                            <comment id="16385983" author="davsclaus" created="Mon, 5 Mar 2018 11:42:34 +0000"  >&lt;p&gt;Yeah the proposed solution by gnodet is good, lets use that.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13137438">CAMEL-12251</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13137438">CAMEL-12251</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13012911">CAMEL-10394</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[http://camel.465427.n5.nabble.com/Re-Blueprint-property-place-holder-error-name-is-already-instanciated-as-null-and-cannot-be-removed-td5817866.html]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qjfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>