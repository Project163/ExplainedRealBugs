<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:11:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-21963] camel-infinispan - query parameters not working</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-21963</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;It appears that query parameters in the URI are not resulting in the desired output.&lt;/p&gt;

&lt;p&gt;The following code with &lt;b&gt;operation=GET&lt;/b&gt; doesn&apos;t work:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;timer:java?repeatCount=1&quot;&lt;/span&gt;)

&lt;span class=&quot;code-comment&quot;&gt;//PUT
&lt;/span&gt;.setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelInfinispanKey&quot;&lt;/span&gt;).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;123&quot;&lt;/span&gt;)
.setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelInfinispanValue&quot;&lt;/span&gt;).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;hello&quot;&lt;/span&gt;)
.to(&lt;span class=&quot;code-quote&quot;&gt;&quot;infinispan-embedded:&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&quot;&lt;/span&gt;)

&lt;span class=&quot;code-comment&quot;&gt;//GET
&lt;/span&gt;.setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelInfinispanKey&quot;&lt;/span&gt;).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;123&quot;&lt;/span&gt;)
.to(&lt;span class=&quot;code-quote&quot;&gt;&quot;infinispan-embedded:&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;?operation=GET&quot;&lt;/span&gt;)
.log(&lt;span class=&quot;code-quote&quot;&gt;&quot;get: ${body}&quot;&lt;/span&gt;); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, replacing the GET snippet as follows works:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
.setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelInfinispanOperation&quot;&lt;/span&gt;).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;GET&quot;&lt;/span&gt;)
.setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelInfinispanKey&quot;&lt;/span&gt;).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;123&quot;&lt;/span&gt;)
.to(&lt;span class=&quot;code-quote&quot;&gt;&quot;infinispan-embedded:&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&quot;&lt;/span&gt;)
.log(&lt;span class=&quot;code-quote&quot;&gt;&quot;get: ${body}&quot;&lt;/span&gt;); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Also, the following code with &lt;b&gt;key=123&lt;/b&gt; does not work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
.setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelInfinispanOperation&quot;&lt;/span&gt;).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;GET&quot;&lt;/span&gt;)
.to(&lt;span class=&quot;code-quote&quot;&gt;&quot;infinispan-embedded:&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;?key=123&quot;&lt;/span&gt;)
.log(&lt;span class=&quot;code-quote&quot;&gt;&quot;get: ${body}&quot;&lt;/span&gt;); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13615190">CAMEL-21963</key>
            <summary>camel-infinispan - query parameters not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="bruno.meseguer">Bruno Meseguer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Apr 2025 10:52:10 +0000</created>
                <updated>Thu, 22 May 2025 07:38:25 +0000</updated>
                            <resolved>Thu, 22 May 2025 07:38:25 +0000</resolved>
                                                    <fixVersion>4.8.8</fixVersion>
                    <fixVersion>4.10.5</fixVersion>
                    <fixVersion>4.12.0</fixVersion>
                                    <component>camel-infinispan</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17944575" author="JIRAUSER309186" created="Tue, 15 Apr 2025 05:06:07 +0000"  >&lt;p&gt;The issue occurs because the Headers from the first route persist on the Exchange obj. The GET route then prefers values from header over config values, causing issues.&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@InvokeOnHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;GET&quot;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void onGet(Message message) {
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; BasicCache&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; cache = getCache(message);
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; key = message.getHeader(InfinispanConstants.KEY, configuration::getKey);
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; result = cache.get(key);

setResult(message, result);
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If we swap the preference order, ie config over headers then it should be resolved. Thoughts?&lt;/p&gt;</comment>
                            <comment id="17944644" author="bruno.meseguer" created="Tue, 15 Apr 2025 07:47:45 +0000"  >&lt;p&gt;It doesn&apos;t seem to me an issue with the headers conflicting, this doesn&apos;t work either:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;timer:java?repeatCount=1&quot;&lt;/span&gt;)
 .setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelInfinispanKey&quot;&lt;/span&gt;).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;123&quot;&lt;/span&gt;)
 .setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelInfinispanValue&quot;&lt;/span&gt;).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;hello&quot;&lt;/span&gt;)
 .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;infinispan-embedded:&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&quot;&lt;/span&gt;);

from(&lt;span class=&quot;code-quote&quot;&gt;&quot;timer:java?delay=5000&amp;amp;repeatCount=1&quot;&lt;/span&gt;)
 .setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelInfinispanKey&quot;&lt;/span&gt;).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;123&quot;&lt;/span&gt;)
 .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;infinispan-embedded:&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;?operation=GET&quot;&lt;/span&gt;)
 .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;get: ${body}&quot;&lt;/span&gt;); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17944655" author="JIRAUSER309186" created="Tue, 15 Apr 2025 08:39:19 +0000"  >&lt;p&gt;Curious, the below test case is working for me in test env. Regardless, I do believe there is an issue of conflicting headers as well.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:test2&quot;&lt;/span&gt;)
   .setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelInfinispanKey&quot;&lt;/span&gt;).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;123&quot;&lt;/span&gt;)
   .setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelInfinispanValue&quot;&lt;/span&gt;).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;hello&quot;&lt;/span&gt;)
   .toF(&lt;span class=&quot;code-quote&quot;&gt;&quot;infinispan-embedded:%s&quot;&lt;/span&gt;, getCacheName());

from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:test3&quot;&lt;/span&gt;)
   .setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelInfinispanKey&quot;&lt;/span&gt;).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;123&quot;&lt;/span&gt;)
   .toF(&lt;span class=&quot;code-quote&quot;&gt;&quot;infinispan-embedded:%s?operation=GET&quot;&lt;/span&gt;, getCacheName());&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Test
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void getOperationShouldReturnExpectedValue2() {
    &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; result = fluentTemplate()
                         .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:test2&quot;&lt;/span&gt;)
                         .request();

    &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; result2 = fluentTemplate()
                         .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:test3&quot;&lt;/span&gt;)
                         .request();

    assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;hello&quot;&lt;/span&gt;, result2);
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17953344" author="davsclaus" created="Thu, 22 May 2025 07:32:27 +0000"  >&lt;p&gt;Yes its the embedded mode that has this bug.&lt;/p&gt;</comment>
                            <comment id="17953347" author="davsclaus" created="Thu, 22 May 2025 07:37:39 +0000"  >&lt;p&gt;And it works now&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;2025-05-22 09:37:27.348 &#160;INFO 38915 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;- timer://java2&amp;#93;&lt;/span&gt; infi.java:15 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; : get: hello&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vcmw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>