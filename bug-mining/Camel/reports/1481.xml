<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:45:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-4099] Camel PropertyPlaceHolder throws an Error when using ${user.home} environment variable in Windows</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-4099</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Error happens when I try to configure using properyconfigurer&lt;br/&gt;
&amp;lt;camel:propertyPlaceholder location=&quot;file://${user.home}/aventurine-config/aventurine-config.properties&quot; id=&quot;propertyPlaceHolder&quot;/&amp;gt; and try to use an environment variable. THis happens only on windows environment. This works on Ubuntu, It seems that camel is removing the slashes in ${user.home}&lt;/p&gt;

&lt;p&gt;org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route areaFileRoute: Route[[From&lt;a href=&quot;file:{{upload.folder}}&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:{{upload.folder}}&lt;/a&gt;] -&amp;gt; [DoTry[[process[ref:... because of Failed to resolve endpoint: file:&lt;tt&gt;upload.folder&lt;/tt&gt; due to: C:Userscarloc\aventurine-config\aventurine-config.properties (The system cannot find the path specified)&lt;br/&gt;
	at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1139)&lt;br/&gt;
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:103)&lt;br/&gt;
	at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:238)&lt;br/&gt;
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:97)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:303)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:911)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:428)&lt;br/&gt;
	at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)&lt;br/&gt;
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)&lt;br/&gt;
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:548)&lt;br/&gt;
	at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1239)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:466)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)&lt;br/&gt;
	at org.mortbay.jetty.Server.doStart(Server.java:222)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at com.ccti.StartUFM.main(StartUFM.java:35)&lt;br/&gt;
Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route areaFileRoute: Route[[From&lt;a href=&quot;file:{{upload.folder}}&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:{{upload.folder}}&lt;/a&gt;] -&amp;gt; [DoTry[[process[ref:... because of Failed to resolve endpoint: file:&lt;tt&gt;upload.folder&lt;/tt&gt; due to: C:Userscarloc\aventurine-config\aventurine-config.properties (The system cannot find the path specified)&lt;br/&gt;
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:170)&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:706)&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:1643)&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:1432)&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:1336)&lt;br/&gt;
	at org.apache.camel.spring.SpringCamelContext.doStart(SpringCamelContext.java:164)&lt;br/&gt;
	at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:67)&lt;br/&gt;
	at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:54)&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1314)&lt;br/&gt;
	at org.apache.camel.spring.SpringCamelContext.maybeStart(SpringCamelContext.java:203)&lt;br/&gt;
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:101)&lt;br/&gt;
	... 18 more&lt;br/&gt;
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: file:&lt;tt&gt;upload.folder&lt;/tt&gt; due to: C:Userscarloc\aventurine-config\aventurine-config.properties (The system cannot find the path specified)&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:407)&lt;br/&gt;
	at org.apache.camel.util.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:47)&lt;br/&gt;
	at org.apache.camel.model.RouteDefinition.resolveEndpoint(RouteDefinition.java:180)&lt;br/&gt;
	at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:110)&lt;br/&gt;
	at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:116)&lt;br/&gt;
	at org.apache.camel.model.FromDefinition.resolveEndpoint(FromDefinition.java:72)&lt;br/&gt;
	at org.apache.camel.impl.DefaultRouteContext.getEndpoint(DefaultRouteContext.java:88)&lt;br/&gt;
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:793)&lt;br/&gt;
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:165)&lt;br/&gt;
	... 28 more&lt;br/&gt;
Caused by: java.io.FileNotFoundException: C:Userscarloc\aventurine-config\aventurine-config.properties (The system cannot find the path specified)&lt;br/&gt;
	at java.io.FileInputStream.open(Native Method)&lt;br/&gt;
	at java.io.FileInputStream.&amp;lt;init&amp;gt;(FileInputStream.java:106)&lt;br/&gt;
	at java.io.FileInputStream.&amp;lt;init&amp;gt;(FileInputStream.java:66)&lt;br/&gt;
	at org.apache.camel.component.properties.DefaultPropertiesResolver.loadPropertiesFromFilePath(DefaultPropertiesResolver.java:67)&lt;br/&gt;
	at org.apache.camel.component.properties.DefaultPropertiesResolver.resolveProperties(DefaultPropertiesResolver.java:49)&lt;br/&gt;
	at org.apache.camel.component.properties.PropertiesComponent.parseUri(PropertiesComponent.java:96)&lt;br/&gt;
	at org.apache.camel.component.properties.PropertiesComponent.parseUri(PropertiesComponent.java:83)&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.resolvePropertyPlaceholders(DefaultCamelContext.java:963)&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:405)&lt;br/&gt;
	... 36 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7, Java 1.6&lt;/p&gt;</environment>
        <key id="12510093">CAMEL-4099</key>
            <summary>Camel PropertyPlaceHolder throws an Error when using ${user.home} environment variable in Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="carloc">Carlo M. Camerino</reporter>
                        <labels>
                            <label>camel-core,</label>
                            <label>configuration</label>
                            <label>propertyplaceholder,</label>
                    </labels>
                <created>Mon, 13 Jun 2011 12:00:52 +0000</created>
                <updated>Tue, 25 Oct 2011 11:35:56 +0000</updated>
                            <resolved>Mon, 13 Jun 2011 18:58:38 +0000</resolved>
                                    <version>2.7.2</version>
                                    <fixVersion>2.7.3</fixVersion>
                    <fixVersion>2.8.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13048534" author="davsclaus" created="Mon, 13 Jun 2011 12:20:49 +0000"  >&lt;p&gt;Can you use windows path separators?&lt;/p&gt;

&lt;p&gt;Should be something like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;file:${user.home}\aventurine-config\aventurine-config.properties
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13048543" author="carloc" created="Mon, 13 Jun 2011 12:47:46 +0000"  >&lt;p&gt;Changed it to this&lt;/p&gt;

&lt;p&gt;&amp;lt;camel:camelContext id = &quot;camelContext&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;camel:propertyPlaceholder location=&quot;file:${user.home}\aventurine-config\aventurine-config.properties&quot; id=&quot;propertyPlaceHolder&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;something&apos;s wrong with the user.home&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: file:&lt;tt&gt;upload.folder&lt;/tt&gt; due to: C:Userscarloc\aventurine-config\aventurine-config.properties (The system cannot find the path specified)&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:407)&lt;br/&gt;
	at org.apache.camel.util.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:47)&lt;br/&gt;
	at org.apache.camel.model.RouteDefinition.resolveEndpoint(RouteDefinition.java:180)&lt;br/&gt;
	at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:110)&lt;br/&gt;
	at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:116)&lt;br/&gt;
	at org.apache.camel.model.FromDefinition.resolveEndpoint(FromDefinition.java:72)&lt;br/&gt;
	at org.apache.camel.impl.DefaultRouteContext.getEndpoint(DefaultRouteContext.java:88)&lt;br/&gt;
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:793)&lt;br/&gt;
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:165)&lt;br/&gt;
	... 28 more&lt;br/&gt;
Caused by: java.io.FileNotFoundException: C:Userscarloc\aventurine-config\aventurine-config.properties (The system cannot find the path specified)&lt;br/&gt;
	at java.io.FileInputStream.open(Native Method)&lt;br/&gt;
	at java.io.FileInputStream.&amp;lt;init&amp;gt;(FileInputStream.java:106)&lt;br/&gt;
	at java.io.FileInputStream.&amp;lt;init&amp;gt;(FileInputStream.java:66)&lt;br/&gt;
	at org.apache.camel.component.properties.DefaultPropertiesResolver.loadPropertiesFromFilePath(DefaultPropertiesResolver.java:67)&lt;br/&gt;
	at org.apache.camel.component.properties.DefaultPropertiesResolver.resolveProperties(DefaultPropertiesResolver.java:49)&lt;br/&gt;
	at org.apache.camel.comp&lt;/p&gt;</comment>
                            <comment id="13048545" author="davsclaus" created="Mon, 13 Jun 2011 12:55:13 +0000"  >&lt;p&gt;Well of course it would be nice if Camel dont give a *** if the separators is \ or /. Well if only windows would be like the others &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Can you check your user home property? It seems to be resolved to &quot;C:Userscarloc&quot;. The \ is missing. Could still be a bug in Camel though.&lt;/p&gt;</comment>
                            <comment id="13048571" author="carloc" created="Mon, 13 Jun 2011 14:10:42 +0000"  >&lt;p&gt;seems to work fine with the spring propertyconfigurer. also happens on my colleague&apos;s workstation. his workstation is also windos.&lt;/p&gt;

&lt;p&gt;THanks&lt;/p&gt;</comment>
                            <comment id="13048585" author="davsclaus" created="Mon, 13 Jun 2011 14:56:38 +0000"  >&lt;p&gt;Okay I guess there is an issue when using that on Windows as it uses \ path separators.&lt;/p&gt;
</comment>
                            <comment id="13048709" author="davsclaus" created="Mon, 13 Jun 2011 18:55:20 +0000"  >&lt;p&gt;Okay found the bug. The replacement string must be quoted when using replaceFirst in the matcher, to have it work as a direct literal replacement.&lt;/p&gt;

&lt;p&gt;Se the JDK javadoc&lt;br/&gt;
&lt;a href=&quot;http://download.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html#quoteReplacement(java.lang.String&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html#quoteReplacement(java.lang.String&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13048711" author="davsclaus" created="Mon, 13 Jun 2011 18:58:38 +0000"  >&lt;p&gt;I have committed a fix. Thanks for reporting.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13955</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01yuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>