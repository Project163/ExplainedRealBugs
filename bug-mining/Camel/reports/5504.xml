<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:44:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-15789] camel-couchbase: bucket not parsed</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-15789</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;It seems that the bucket part of the URL in the camel-couchbase is not parsed sometimes.&lt;/p&gt;

&lt;p&gt;When parsing a URL like the ones used in the test code, (for example couchbase:&lt;a href=&quot;http://localhost/bucket&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost/bucket&lt;/a&gt;) the code fails to return `bucket` when trying to call the getBucket method of the CouchbaseEndpoint.&lt;/p&gt;

&lt;p&gt;I attached a reproducer that can be applied using the command following command:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
patch -p1 &amp;lt; couchbase-reproducer.patch&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Then, to run the test:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
cd components/camel-couchbase ; mvn -Dtest=CouchbaseEndpointTest#testParseURI test&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13338421">CAMEL-15789</key>
            <summary>camel-couchbase: bucket not parsed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="mmelko">Matej Melko</assignee>
                                    <reporter username="orpiske">Otavio Rodolfo Piske</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Nov 2020 13:20:41 +0000</created>
                <updated>Fri, 13 Nov 2020 09:58:21 +0000</updated>
                            <resolved>Fri, 13 Nov 2020 09:52:21 +0000</resolved>
                                    <version>3.7.0</version>
                                    <fixVersion>3.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17224658" author="orpiske" created="Mon, 2 Nov 2020 13:21:22 +0000"  >&lt;p&gt;Obs.: it seems the camel-couchbase component is missing on Apache Jira, therefore I left it out.&lt;/p&gt;</comment>
                            <comment id="17224663" author="ancosen" created="Mon, 2 Nov 2020 13:30:42 +0000"  >&lt;p&gt;The uri is now different, you cannot pass the bucket as part to the base URI, you need to pass it as options ?bucket=bucketname. It was a mess before.&lt;/p&gt;</comment>
                            <comment id="17231329" author="davsclaus" created="Fri, 13 Nov 2020 09:45:09 +0000"  >&lt;p&gt;The unit tests are wrong you call some internal apis. remaning is without query parameters, and query parameters should be in params.&lt;/p&gt;</comment>
                            <comment id="17231333" author="orpiske" created="Fri, 13 Nov 2020 09:52:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt; just to be sure: do you mean that the reproducer is wrong or do you mean that the unit tests on the code base are wrong (or both)? I created the reproducer based on the unit tests there, so it&apos;s possible both are wrong.&lt;/p&gt;</comment>
                            <comment id="17231334" author="davsclaus" created="Fri, 13 Nov 2020 09:52:21 +0000"  >&lt;p&gt;Yeah as Andrea says the bucket is a query parameter, so you use ?bucket=mybucket.&lt;/p&gt;

&lt;p&gt;I fixed your provided test, and updated the old mistaken tests.&lt;/p&gt;</comment>
                            <comment id="17231337" author="orpiske" created="Fri, 13 Nov 2020 09:58:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt; thanks Claus, much appreciated! I will give it a try soon. This should unblock a few disabled tests on Camel Kafka Connector. &lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310361">
                    <name>Blocked</name>
                                                                <inwardlinks description="Blocked">
                                        <issuelink>
            <issuekey id="13338455">CAMEL-15792</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13015087" name="couchbase-reproducer.patch" size="3464" author="orpiske" created="Wed, 11 Nov 2020 17:03:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0k7og:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>