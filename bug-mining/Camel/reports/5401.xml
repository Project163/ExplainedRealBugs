<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:42:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-15394] PropertyBindingSupport - Root object has issue with list and source code generated configurer</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-15394</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description></description>
                <environment></environment>
        <key id="13322065">CAMEL-15394</key>
            <summary>PropertyBindingSupport - Root object has issue with list and source code generated configurer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="davsclaus">Claus Ibsen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Aug 2020 15:35:29 +0000</created>
                <updated>Sun, 23 Aug 2020 18:51:23 +0000</updated>
                            <resolved>Sun, 23 Aug 2020 18:51:23 +0000</resolved>
                                    <version>3.4.2</version>
                                    <fixVersion>3.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17175648" author="davsclaus" created="Tue, 11 Aug 2020 15:36:47 +0000"  >&lt;p&gt;There is potential an issue with setting options via configurer and using list types&lt;/p&gt;

&lt;p&gt;Camel K needs this&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
SourcesCofiguration conf = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SourcesCofiguration();

PropertyBindingSupport.build()
            .withCamelContext(context)
            .withTarget(conf)
            .withProperties(properties)
            .withRemoveParameters(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
            .withOptionPrefix(&lt;span class=&quot;code-quote&quot;&gt;&quot;camel.k.&quot;&lt;/span&gt;)
            .withConfigurer(configurer)
            .bind()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
camel.k.sources[0].name = timer
camel.k.sources[0].language = yaml
camel.k.sources[0].location = file:/etc/camel/sources/timer/timer.yaml
camel.k.sources[0].type = template
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Creating this ticket to look into this to get this fixed in camel-core&lt;/p&gt;</comment>
                            <comment id="17176852" author="lb" created="Thu, 13 Aug 2020 08:55:06 +0000"  >&lt;p&gt;I&apos;ve created a repo to have a reproducer for the issue: &lt;a href=&quot;https://github.com/lburgazzoli/camel-property-biding&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/lburgazzoli/camel-property-biding&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;When running it, it show:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[main] INFO org.apache.camel.impl.engine.DefaultBeanIntrospection - Stopping BeanIntrospection which was invoked: 3 times
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This means that the configurer is not kicking it to set the properties and this happens because the configurer have no support for subscription operator so when the configure method is invoked with keys like sources&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, that key does not fall into any of the switch/case options.&lt;/p&gt;

&lt;p&gt;Wonder if we should have dedicated methods or support for such pattern.&lt;/p&gt;</comment>
                            <comment id="17177828" author="davsclaus" created="Fri, 14 Aug 2020 15:23:18 +0000"  >&lt;p&gt;Yeah lets work on making this possible - we dont want reflection. &lt;/p&gt;

&lt;p&gt;Added your project as a reproducer in camel-main&lt;/p&gt;</comment>
                            <comment id="17178161" author="davsclaus" created="Sat, 15 Aug 2020 05:48:29 +0000"  >&lt;p&gt;I think we can reduce the code path by creating a reflection configurer we use when there is no source code generated / explicit configurer provided, then the code path can be the same, instead of doing something else depending on a configurer is null or not null.&lt;/p&gt;</comment>
                            <comment id="17178898" author="davsclaus" created="Mon, 17 Aug 2020 10:29:14 +0000"  >&lt;p&gt;Okay its a bit more tricky, working on this from a different angel&lt;/p&gt;</comment>
                            <comment id="17179494" author="davsclaus" created="Tue, 18 Aug 2020 09:32:16 +0000"  >&lt;p&gt;Have some half ugly code that works, that enhancned the configurer itself to support OGNL and list/map/array. Since this logic is a bit duplicate of property binding support that uses reflection based, then it would be great if we could somehow merge this logic and make it work for both configurer vs reflection. &lt;/p&gt;</comment>
                            <comment id="17180248" author="davsclaus" created="Wed, 19 Aug 2020 04:12:55 +0000"  >&lt;p&gt;TODO: autowired to work with configurer &lt;b&gt;DONE&lt;/b&gt;&lt;br/&gt;
TODO: OGNL walk reworked &lt;b&gt;DONE&lt;/b&gt;&lt;br/&gt;
TODO: PropertyConfigurerSupport to be back to as before &lt;b&gt;DONE&lt;/b&gt;&lt;br/&gt;
TODO: option prefix &lt;b&gt;DONE&lt;/b&gt;&lt;br/&gt;
TODO: Auto create middle objects via configurer &lt;b&gt;DONE&lt;/b&gt;&lt;br/&gt;
TODO: OGNL walk reflection map/list/array create new instance if necessary &lt;b&gt;DONE&lt;/b&gt;&lt;br/&gt;
TODO: Can we turn reflection into a cheating configurer implementation that does reflection under the hood to have same code path as a real configurer &lt;b&gt;WONT DO&lt;/b&gt;&lt;br/&gt;
TODO: The problem with # ref values that does lookup for non string types problem &lt;b&gt;DONE&lt;/b&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="13323387">CAMEL-15422</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="13310062">CAMEL-15160</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0hnts:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>