<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:43:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-3749] sftp producer runs in exception fileName does not contain any path information</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3749</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When the fileName uri option does not contain any folder information, ie: &quot;fileName=filename.txt&quot; the producer runs in exception&lt;/p&gt;

&lt;p&gt;The exception is thrown when the producer calls ls method of jsch ChannelSftp passing an empty string as directory parameter in org.apache.camel.component.file.remote.SftpOperations.existsFile line 704&lt;/p&gt;

&lt;p&gt;sample URI: &lt;br/&gt;
sftp://user@hostname:22?disconnect=true&amp;amp;eagerDeleteTargetFile=false%3Bstepwise%3Dfalse&amp;amp;fileName=SYSTEM01&amp;amp;password=******&amp;amp;soTimeout=30000&amp;amp;tempFileName=%24%7Bfile%3Aname.noext%7D.tmp&lt;/p&gt;

&lt;p&gt;Stack trace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[2011-03-03 14:40:40,827][RecipientList (thread #4)][ERROR][org.apache.camel.processor.DefaultErrorHandler][] Failed delivery &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; exchangeId: ID-******-33331-1299163043684-0-10. Exhausted after delivery attempt: 1 caught: org.apache.camel.component.file.GenericFileOperationFailedExcept on: 
org.apache.camel.component.file.GenericFileOperationFailedException: 
        at org.apache.camel.component.file.remote.SftpOperations.existsFile(SftpOperations.java:727) 
        at org.apache.camel.component.file.GenericFileProducer.processExchange(GenericFileProducer.java:130) 
        at org.apache.camel.component.file.remote.RemoteFileProducer.process(RemoteFileProducer.java:50) 
        at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:50) 
        at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77) 
        at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299) 
        at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208) 
        at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109) 
        at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:103) 
        at org.apache.camel.processor.MulticastProcessor.doProcessParallel(MulticastProcessor.java:716) 
        at org.apache.camel.processor.MulticastProcessor.access$100(MulticastProcessor.java:78) 
        at org.apache.camel.processor.MulticastProcessor$1.call(MulticastProcessor.java:282) 
        at org.apache.camel.processor.MulticastProcessor$1.call(MulticastProcessor.java:274) 
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) 
        at java.util.concurrent.FutureTask.run(FutureTask.java:138) 
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) 
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) 
        at java.util.concurrent.FutureTask.run(FutureTask.java:138) 
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) 
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) 
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:619) 
Caused by: 4: 
        at com.jcraft.jsch.ChannelSftp.ls(ChannelSftp.java:1353) 
        at org.apache.camel.component.file.remote.SftpOperations.existsFile(SftpOperations.java:704) 
        ... 20 more 
Caused by: java.lang.StringIndexOutOfBoundsException: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index out of range: 0 
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.charAt(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:686) 
        at com.jcraft.jsch.ChannelSftp.remoteAbsolutePath(ChannelSftp.java:2367) 
        at com.jcraft.jsch.ChannelSftp.ls(ChannelSftp.java:1185) 
        ... 21 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12500323">CAMEL-3749</key>
            <summary>sftp producer runs in exception fileName does not contain any path information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="crive">Marco Crivellaro</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2011 16:58:06 +0000</created>
                <updated>Tue, 25 Oct 2011 11:36:15 +0000</updated>
                            <resolved>Fri, 4 Mar 2011 12:25:33 +0000</resolved>
                                    <version>2.6.0</version>
                                    <fixVersion>2.7.0</fixVersion>
                                    <component>camel-ftp</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13002486" author="davsclaus" created="Fri, 4 Mar 2011 07:16:19 +0000"  >&lt;p&gt;Can you report the issue to JSCH as well? Its in fact their library which doesn&apos;t accept an empty string or provide a better error message if an empty string is invalid.&lt;/p&gt;</comment>
                            <comment id="13002521" author="crive" created="Fri, 4 Mar 2011 10:00:45 +0000"  >&lt;p&gt;Tried to commit a bug to jsch but unfortunately while trying to create a new issue report the server runs in error&lt;/p&gt;</comment>
                            <comment id="13002559" author="davsclaus" created="Fri, 4 Mar 2011 12:14:54 +0000"  >&lt;p&gt;The issue is only when using the tempFileName option&lt;/p&gt;</comment>
                            <comment id="13002564" author="davsclaus" created="Fri, 4 Mar 2011 12:25:33 +0000"  >&lt;p&gt;I have fixed it on trunk. I use &quot;.&quot; now which is current path.&lt;/p&gt;

&lt;p&gt;trunk: 1077904.&lt;/p&gt;</comment>
                            <comment id="13003376" author="crive" created="Mon, 7 Mar 2011 14:57:45 +0000"  >&lt;p&gt;works for me&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01wnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9060</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>