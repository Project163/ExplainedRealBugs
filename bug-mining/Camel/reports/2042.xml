<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:54:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-5710] Rest route returns response with http Status code 500 Internal Server Error when response has Last-Modified or Header-expires in header as string. </title>
                <link>https://issues.apache.org/jira/browse/CAMEL-5710</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Rest route returns Response with http Status code 500 Internal Server Error and expected response headers/body when response has Last-Modified or Header-expires in header as string. &lt;/p&gt;

&lt;p&gt;I found the issue in below code it try to convert string Wed, 31 Dec 1969 18:00:00 CS to Date and it fails. Is it posible to convert String Date without knowing Date format?&lt;/p&gt;


&lt;p&gt;DefaultRestletBinding&lt;br/&gt;
=======================&lt;/p&gt;



&lt;p&gt; if (header.equalsIgnoreCase(HeaderConstants.HEADER_LAST_MODIFIED)) {&lt;br/&gt;
                if (value instanceof Calendar) &lt;/p&gt;
{
                    message.getEntity().setModificationDate(((Calendar) value).getTime());
                }
&lt;p&gt; else if (value instanceof Date) &lt;/p&gt;
{
                    message.getEntity().setModificationDate((Date) value);
                }
&lt;p&gt; else &lt;/p&gt;
{
                    Date date = exchange.getContext().getTypeConverter().mandatoryConvertTo(Date.class, value); //  Here it try to convert String to Date it throws No type converter available to convert from type: java.lang.String to the required type: java.util.Date with value Wed, 31 Dec 1969 18:00:00 CS
                    message.getEntity().setModificationDate(date);
                }
&lt;p&gt;            }&lt;/p&gt;

&lt;p&gt;Stack trace&lt;br/&gt;
===========&lt;/p&gt;

&lt;p&gt;7 Oct 2012 08:28:06,010 WARN org.restlet.Component.StatusFilter - Exception or error caught in status service&lt;br/&gt;
org.apache.camel.RuntimeCamelException: Cannot process request&lt;br/&gt;
        at org.apache.camel.component.restlet.RestletConsumer$1.handle(RestletConsumer.java:62)&lt;br/&gt;
        at org.apache.camel.component.restlet.MethodBasedRouter.handle(MethodBasedRouter.java:54)&lt;br/&gt;
        at org.restlet.routing.Filter.doHandle(Filter.java:159)&lt;br/&gt;
        at org.restlet.routing.Filter.handle(Filter.java:206)&lt;br/&gt;
        at org.restlet.routing.Router.doHandle(Router.java:500)&lt;br/&gt;
        at org.restlet.routing.Router.handle(Router.java:740)&lt;br/&gt;
        at org.restlet.routing.Filter.doHandle(Filter.java:159)&lt;br/&gt;
        at org.restlet.routing.Filter.handle(Filter.java:206)&lt;br/&gt;
        at org.restlet.routing.Router.doHandle(Router.java:500)&lt;br/&gt;
        at org.restlet.routing.Router.handle(Router.java:740)&lt;br/&gt;
        at org.restlet.routing.Filter.doHandle(Filter.java:159)&lt;br/&gt;
        at org.restlet.engine.application.StatusFilter.doHandle(StatusFilter.java:154)&lt;br/&gt;
        at org.restlet.routing.Filter.handle(Filter.java:206)&lt;br/&gt;
        at org.restlet.routing.Filter.doHandle(Filter.java:159)&lt;br/&gt;
        at org.restlet.routing.Filter.handle(Filter.java:206)&lt;br/&gt;
        at org.restlet.engine.ChainHelper.handle(ChainHelper.java:114)&lt;br/&gt;
        at org.restlet.Component.handle(Component.java:391)&lt;br/&gt;
        at org.restlet.Server.handle(Server.java:491)&lt;br/&gt;
        at org.restlet.engine.ServerHelper.handle(ServerHelper.java:75)&lt;br/&gt;
        at org.restlet.engine.http.HttpServerHelper.handle(HttpServerHelper.java:153)&lt;br/&gt;
        at org.restlet.ext.servlet.ServerServlet.service(ServerServlet.java:1031)&lt;br/&gt;
        at org.apache.shiro.grails.SavedRequestFilter.doFilter(SavedRequestFilter.java:56)&lt;br/&gt;
        at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:360)&lt;br/&gt;
        at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:276)&lt;br/&gt;
        at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)&lt;br/&gt;
        at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)&lt;br/&gt;
        at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:344)&lt;br/&gt;
        at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:272)&lt;br/&gt;
        at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:909)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
Caused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.lang.String to the required type: java.util.Date with value Wed, 31 Dec 1969 18:00:00 CST&lt;br/&gt;
        at org.apache.camel.impl.converter.BaseTypeConverterRegistry.mandatoryConvertTo(BaseTypeConverterRegistry.java:169)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612349">CAMEL-5710</key>
            <summary>Rest route returns response with http Status code 500 Internal Server Error when response has Last-Modified or Header-expires in header as string. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="amit1000">Amit Patel</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Oct 2012 01:02:14 +0000</created>
                <updated>Thu, 18 Oct 2012 16:39:38 +0000</updated>
                            <resolved>Thu, 18 Oct 2012 05:36:58 +0000</resolved>
                                    <version>2.10.1</version>
                                    <fixVersion>2.9.5</fixVersion>
                    <fixVersion>2.10.3</fixVersion>
                    <fixVersion>2.11.0</fixVersion>
                                    <component>camel-restlet</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13478676" author="davsclaus" created="Thu, 18 Oct 2012 05:12:48 +0000"  >&lt;p&gt;Yes that date should be parsed in RFC 2822 format accordingly to:&lt;br/&gt;
&lt;a href=&quot;http://en.wikipedia.org/wiki/List_of_HTTP_header_fields&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://en.wikipedia.org/wiki/List_of_HTTP_header_fields&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13478688" author="davsclaus" created="Thu, 18 Oct 2012 05:36:58 +0000"  >&lt;p&gt;Thanks for reporting.&lt;/p&gt;</comment>
                            <comment id="13479130" author="amit1000" created="Thu, 18 Oct 2012 16:39:38 +0000"  >&lt;p&gt;When are you planning to release 2.11.0?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249454</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ael3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58636</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>