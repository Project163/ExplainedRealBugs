<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:31:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-12891] camel-kubernetes getConfigMap does not use Namespace Header</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-12891</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The getConfigMap operation does not return a map in a namespace when the CamelKubernetesNamespaceName being specified.&#160; This header should be used by&#160;getConfigMap when it is present.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Kubernetes 1.9.11&lt;/p&gt;</environment>
        <key id="13193014">CAMEL-12891</key>
            <summary>camel-kubernetes getConfigMap does not use Namespace Header</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="acosentino">Andrea Cosentino</assignee>
                                    <reporter username="bobpaulin">Bob Paulin</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Oct 2018 03:12:05 +0000</created>
                <updated>Mon, 22 Oct 2018 09:42:13 +0000</updated>
                            <resolved>Mon, 22 Oct 2018 06:04:06 +0000</resolved>
                                    <version>2.21.2</version>
                    <version>2.22.0</version>
                                    <fixVersion>2.21.4</fixVersion>
                    <fixVersion>2.22.2</fixVersion>
                    <fixVersion>2.23.0</fixVersion>
                                    <component>camel-kubernetes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16657697" author="githubbot" created="Sat, 20 Oct 2018 03:31:24 +0000"  >&lt;p&gt;bobpaulin opened a new pull request #2573: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12891&quot; title=&quot;camel-kubernetes getConfigMap does not use Namespace Header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12891&quot;&gt;&lt;del&gt;CAMEL-12891&lt;/del&gt;&lt;/a&gt; - Allow getConfigMap operation to specify namespace.&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2573&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2573&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16658612" author="githubbot" created="Mon, 22 Oct 2018 06:03:30 +0000"  >&lt;p&gt;oscerd commented on issue #2573: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12891&quot; title=&quot;camel-kubernetes getConfigMap does not use Namespace Header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12891&quot;&gt;&lt;del&gt;CAMEL-12891&lt;/del&gt;&lt;/a&gt; - Allow getConfigMap operation to specify namespace.&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2573#issuecomment-431746925&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2573#issuecomment-431746925&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Merged on master, 2.22.x and 2.21.x, thanks @bobpaulin &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16658613" author="githubbot" created="Mon, 22 Oct 2018 06:03:33 +0000"  >&lt;p&gt;oscerd closed pull request #2573: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12891&quot; title=&quot;camel-kubernetes getConfigMap does not use Namespace Header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12891&quot;&gt;&lt;del&gt;CAMEL-12891&lt;/del&gt;&lt;/a&gt; - Allow getConfigMap operation to specify namespace.&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2573&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2573&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/components/camel-kubernetes/src/main/java/org/apache/camel/component/kubernetes/config_maps/KubernetesConfigMapsProducer.java b/components/camel-kubernetes/src/main/java/org/apache/camel/component/kubernetes/config_maps/KubernetesConfigMapsProducer.java&lt;br/&gt;
index 7513a8e43af..6878a337cf9 100644&lt;br/&gt;
&amp;#8212; a/components/camel-kubernetes/src/main/java/org/apache/camel/component/kubernetes/config_maps/KubernetesConfigMapsProducer.java&lt;br/&gt;
+++ b/components/camel-kubernetes/src/main/java/org/apache/camel/component/kubernetes/config_maps/KubernetesConfigMapsProducer.java&lt;br/&gt;
@@ -109,11 +109,16 @@ protected void doListConfigMapsByLabels(Exchange exchange, String operation) thr&lt;br/&gt;
     protected void doGetConfigMap(Exchange exchange, String operation) throws Exception {&lt;br/&gt;
         ConfigMap configMap = null;&lt;br/&gt;
         String cfMapName = exchange.getIn().getHeader(KubernetesConstants.KUBERNETES_CONFIGMAP_NAME, String.class);&lt;br/&gt;
+        String namespaceName = exchange.getIn().getHeader(KubernetesConstants.KUBERNETES_NAMESPACE_NAME, String.class);&lt;br/&gt;
         if (ObjectHelper.isEmpty(cfMapName)) &lt;/p&gt;
{
             LOG.error(&quot;Get a specific ConfigMap require specify a ConfigMap name&quot;);
             throw new IllegalArgumentException(&quot;Get a specific ConfigMap require specify a ConfigMap name&quot;);
         }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;configMap = getEndpoint().getKubernetesClient().configMaps().withName(cfMapName).get();&lt;br/&gt;
+        if(namespaceName != null) 
{
+            configMap = getEndpoint().getKubernetesClient().configMaps().inNamespace(namespaceName).withName(cfMapName).get();
+        }
&lt;p&gt; else &lt;/p&gt;
{
+            configMap = getEndpoint().getKubernetesClient().configMaps().withName(cfMapName).get();
+        }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         MessageHelper.copyHeaders(exchange.getIn(), exchange.getOut(), true);&lt;br/&gt;
         exchange.getOut().setBody(configMap);&lt;br/&gt;
diff --git a/components/camel-kubernetes/src/test/java/org/apache/camel/component/kubernetes/producer/KubernetesConfigMapsProducerTest.java b/components/camel-kubernetes/src/test/java/org/apache/camel/component/kubernetes/producer/KubernetesConfigMapsProducerTest.java&lt;br/&gt;
index ef63de6bf04..f4497698a82 100644&lt;br/&gt;
&amp;#8212; a/components/camel-kubernetes/src/test/java/org/apache/camel/component/kubernetes/producer/KubernetesConfigMapsProducerTest.java&lt;br/&gt;
+++ b/components/camel-kubernetes/src/test/java/org/apache/camel/component/kubernetes/producer/KubernetesConfigMapsProducerTest.java&lt;br/&gt;
@@ -73,9 +73,9 @@ public void process(Exchange exchange) throws Exception &lt;/p&gt;
{
 
         assertEquals(3, result.size());
     }
&lt;p&gt;-&lt;br/&gt;
+    &lt;br/&gt;
     @Test&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public void getConfigMapTest() throws Exception {&lt;br/&gt;
+    public void getConfigMapTestDefaultNamespace() throws Exception {&lt;br/&gt;
         ObjectMeta meta = new ObjectMeta();&lt;br/&gt;
         meta.setName(&quot;cm1&quot;);&lt;br/&gt;
         server.expect().withPath(&quot;/api/v1/namespaces/test/configmaps/cm1&quot;).andReturn(200, new ConfigMapBuilder().withMetadata(meta).build()).once();&lt;br/&gt;
@@ -84,7 +84,26 @@ public void getConfigMapTest() throws Exception {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;             @Override&lt;br/&gt;
             public void process(Exchange exchange) throws Exception &lt;/p&gt;
{
-                exchange.getIn().setHeader(KubernetesConstants.KUBERNETES_NAMESPACE_NAME, &quot;test&quot;);
+                exchange.getIn().setHeader(KubernetesConstants.KUBERNETES_CONFIGMAP_NAME, &quot;cm1&quot;);
+            }
&lt;p&gt;+        });&lt;br/&gt;
+&lt;br/&gt;
+        ConfigMap result = ex.getOut().getBody(ConfigMap.class);&lt;br/&gt;
+&lt;br/&gt;
+        assertEquals(&quot;cm1&quot;, result.getMetadata().getName());&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void getConfigMapTestCustomNamespace() throws Exception {&lt;br/&gt;
+        ObjectMeta meta = new ObjectMeta();&lt;br/&gt;
+        meta.setName(&quot;cm1&quot;);&lt;br/&gt;
+        server.expect().withPath(&quot;/api/v1/namespaces/custom/configmaps/cm1&quot;).andReturn(200, new ConfigMapBuilder().withMetadata(meta).build()).once();&lt;br/&gt;
+        server.expect().withPath(&quot;/api/v1/namespaces/custom/configmaps/cm2&quot;).andReturn(200, new ConfigMapBuilder().build()).once();&lt;br/&gt;
+        Exchange ex = template.request(&quot;direct:getConfigMap&quot;, new Processor() {&lt;br/&gt;
+&lt;br/&gt;
+            @Override&lt;br/&gt;
+            public void process(Exchange exchange) throws Exception &lt;/p&gt;
{
+                exchange.getIn().setHeader(KubernetesConstants.KUBERNETES_NAMESPACE_NAME, &quot;custom&quot;);
                 exchange.getIn().setHeader(KubernetesConstants.KUBERNETES_CONFIGMAP_NAME, &quot;cm1&quot;);
             }
&lt;p&gt;         });&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16658614" author="ancosen" created="Mon, 22 Oct 2018 06:04:48 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bobpaulin&quot; class=&quot;user-hover&quot; rel=&quot;bobpaulin&quot;&gt;bobpaulin&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Comments on github don&apos;t work this morning. So I&apos;m writing you on JIRA.&lt;/p&gt;</comment>
                            <comment id="16658781" author="githubbot" created="Mon, 22 Oct 2018 09:42:13 +0000"  >&lt;p&gt;oscerd commented on issue #2573: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12891&quot; title=&quot;camel-kubernetes getConfigMap does not use Namespace Header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12891&quot;&gt;&lt;del&gt;CAMEL-12891&lt;/del&gt;&lt;/a&gt; - Allow getConfigMap operation to specify namespace.&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2573#issuecomment-431768172&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2573#issuecomment-431768172&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Thanks @bobpaulin merged on master, 2.22.x and 2.21.x&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3zfx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>