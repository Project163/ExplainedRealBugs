<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:26:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-636] ResolverUtil can&apos;t resolve converter annotations in WebSphere 6.1</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-636</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I have a simple hello world file based ESB that scans a folder for files, invoke a POJO and store the output as a file in another folder.&lt;/p&gt;

&lt;p&gt;Deployed as a WAR file in WebSphere it seems as if Camel 1.4-SNAPSHOT can not load the converters needed to converter to String to InputStream for the FileProducer when it is about to store the file.&lt;/p&gt;

&lt;p&gt;The logging output where the ResolverUtil can&apos;t find the annotated converters in camel jar itself&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[06-25 13:31:23] DEBUG ResolverUtil [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;: 1 org.apache.camel.component.file.FileComponent@7ade7ade]: Searching &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; annotations of org.apache.camel.Converter in packages: [org.apache.camel.spring.converter, org.apache.camel.converter]
[06-25 13:31:23] DEBUG ResolverUtil [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;: 1 org.apache.camel.component.file.FileComponent@7ade7ade]: Found: []
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the stacktrace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.camel.InvalidPayloadException: No in body available of type: java.io.InputStream but has value: This is important work
\temp\camel\in\README.txt
Done by me. of type: java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; on: Message: This is important work
\temp\camel\in\README.txt
Done by me. on the exchange: Exchange[Message: This is important work
\temp\camel\in\README.txt
Done by me.]
	at org.apache.camel.util.ExchangeHelper.getMandatoryInBody(ExchangeHelper.java:127)
	at org.apache.camel.component.file.FileProducer.process(FileProducer.java:67)
	at org.apache.camel.component.file.FileProducer.process(FileProducer.java:55)
	at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:43)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:75)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:57)
	at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:146)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;WebSphere 6.1.0.0 on Windows&lt;br/&gt;
WebSphere 6.1.0.17 on Windows&lt;/p&gt;</environment>
        <key id="12485450">CAMEL-636</key>
            <summary>ResolverUtil can&apos;t resolve converter annotations in WebSphere 6.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="davsclaus">Claus Ibsen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jun 2008 11:40:27 +0000</created>
                <updated>Fri, 11 Jul 2008 04:21:45 +0000</updated>
                            <resolved>Wed, 9 Jul 2008 16:18:26 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.4.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12947736" author="davsclaus" created="Wed, 25 Jun 2008 13:12:43 +0000"  >&lt;p&gt;Just for the record. WebSphere is able to load classes from WEB-INF/classes, but not from jars in WEB-INF/lib.&lt;/p&gt;

&lt;p&gt;If extracting camel-core into WEB-INF/classes then the annotated converters can be loaded:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[06-25 14:58:58] TRACE ResolverUtil [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;: 1 org.apache.camel.component.file.FileComponent@76da76da]: URLs loaded: java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;$2@28ce28ce
[06-25 14:58:58] TRACE ResolverUtil [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;: 1 org.apache.camel.component.file.FileComponent@76da76da]: Trying URL: file:/C:/was61/profiles/AppSrv01/installedApps/claus-acerNode01Cell/camel-example-helloworld-1_0fixed_war.ear/camel-example-helloworld-1.0fixed.war/WEB-INF/classes/org/apache/camel/converter/
[06-25 14:58:58] TRACE ResolverUtil [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;: 1 org.apache.camel.component.file.FileComponent@76da76da]: Scanning &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; classes in [/C:/was61/profiles/AppSrv01/installedApps/claus-acerNode01Cell/camel-example-helloworld-1_0fixed_war.ear/camel-example-helloworld-1.0fixed.war/WEB-INF/classes/org/apache/camel/converter/] matching criteria: annotated with @Converter
[06-25 14:58:58] DEBUG ResolverUtil [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;: 1 org.apache.camel.component.file.FileComponent@76da76da]: Loading from directory: C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\classes\org\apache\camel\converter
[06-25 14:58:58] TRACE ResolverUtil [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;: 1 org.apache.camel.component.file.FileComponent@76da76da]: Testing &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.camel.converter.CamelConverter$1 matches criteria [annotated with @Converter]
[06-25 14:58:58] TRACE ResolverUtil [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;: 1 org.apache.camel.component.file.FileComponent@76da76da]: Testing &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.camel.converter.CamelConverter$2 matches criteria [annotated with @Converter]
[06-25 14:58:58] TRACE ResolverUtil [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;: 1 org.apache.camel.component.file.FileComponent@76da76da]: Testing &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.camel.converter.CamelConverter matches criteria [annotated with @Converter]
[06-25 14:58:58] TRACE ResolverUtil [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;: 1 org.apache.camel.component.file.FileComponent@76da76da]: Found class: &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.camel.converter.CamelConverter in classloader: 
com.ibm.ws.classloader.CompoundClassLoader@68ec68ec
   Local ClassPath: C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\classes;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\activation-1.1.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\aopalliance-1.0.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\camel-core-1.4-SNAPSHOT.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\camel-spring-1.4-SNAPSHOT.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\commons-logging-1.1.1.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\commons-logging-api-1.1.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\jaxb-api-2.1.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\jaxb-impl-2.1.6.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\log4j-1.2.14.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\org.osgi.core-1.0.1.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\spring-aop-2.5.4.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\spring-beans-2.5.4.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\spring-context-2.5.4.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\spring-core-2.5.4.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\spring-tx-2.5.4.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\spring-web-2.5.4.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war\WEB-INF\lib\stax-api-1.0-2.jar;C:\was61\profiles\AppSrv01\installedApps\claus-acerNode01Cell\camel-example-helloworld-1_0fixed_war.ear\camel-example-helloworld-1.0fixed.war
   Delegation Mode: PARENT_FIRST
[06-25 14:58:58] TRACE ResolverUtil [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;: 1 org.apache.camel.component.file.FileComponent@76da76da]: Testing &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.camel.converter.CollectionConverter matches criteria [annotated with @Converter]
[06-25 14:58:58] TRACE ResolverUtil [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;: 1 org.apache.camel.component.file.FileComponent@76da76da]: Found class: &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.camel.converter.CollectionConverter in classloader: 
com.ibm.ws.classloader.CompoundClassLoader@68ec68ec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12947848" author="davsclaus" created="Mon, 7 Jul 2008 08:35:10 +0000"  >&lt;p&gt;See also the CXF App Server Guide for WAS:&lt;br/&gt;
&lt;a href=&quot;http://cwiki.apache.org/confluence/display/CXF20DOC/AppServerGuide#AppServerGuide-Websphere&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cwiki.apache.org/confluence/display/CXF20DOC/AppServerGuide#AppServerGuide-Websphere&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12947881" author="davsclaus" created="Wed, 9 Jul 2008 05:38:18 +0000"  >&lt;p&gt;Using the app server guide from CXF didn&apos;t help.&lt;/p&gt;

&lt;p&gt;WebSphere is ****** it can not load resources from its classpath in jar files if you define a package name.&lt;/p&gt;</comment>
                            <comment id="12947761" author="davsclaus" created="Wed, 9 Jul 2008 08:42:11 +0000"  >&lt;p&gt;Okay looks like WebSphere doens&apos;t like to load resources if you just enter the packagename for JAR files. If you explicit enter a .class then its able to resolve it (okay I was trying with Spring resource loader).&lt;br/&gt;
So there is some hope. &lt;/p&gt;</comment>
                            <comment id="12947804" author="davsclaus" created="Wed, 9 Jul 2008 11:42:47 +0000"  >&lt;p&gt;Okay I am about to tame the beast and get a working solution (fingers crossed).&lt;/p&gt;

&lt;p&gt;Would love to get it into 1.4 so I am working on this today and tomorrow.&lt;/p&gt;</comment>
                            <comment id="12947956" author="davsclaus" created="Wed, 9 Jul 2008 12:02:05 +0000"  >&lt;p&gt;Yes got it working now. I will test it some more, and see if the camel-examples can work in WebSphere 6.1&lt;/p&gt;</comment>
                            <comment id="12947886" author="davsclaus" created="Wed, 9 Jul 2008 16:18:11 +0000"  >&lt;p&gt;Oh boy nice to be able to resolve this one. &lt;/p&gt;

&lt;p&gt;Camel deployed as plain war files on WebSphere 6.1 is not doable.&lt;br/&gt;
I have only tested on Windows XP platform. Anyone with a WebSphere on Unix would be highly appreciated if you can test it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83338</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01dgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5950</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>