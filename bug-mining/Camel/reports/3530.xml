<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:13:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-9557] Facebook consumer throws IllegalArgumentException with reading parameters</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-9557</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I&apos;ve configured a polling Facebook consumer with nearly default Spring configuration as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;camel:from uri=&quot;facebook:&lt;span class=&quot;code-comment&quot;&gt;//getFeed?
&lt;/span&gt;    reading.since=2016-01-01T00:00:00Z&amp;amp;amp;
    userId=myUserId&amp;amp;amp;
    consumer.delay=60000&amp;amp;amp;
    oAuthAppId=[s]&amp;amp;amp;
    oAuthAppSecret=[s]&amp;amp;amp;
    oAuthAccessToken=[s]
    &quot;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, an IllegalArgument is thrown with any reading.* parameter regardless of endpoint:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IllegalArgumentException: No matching operation &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; getFeed, with arguments [readingOptions, reading, userId]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On debugging, the method FacebookEndpoint.configureProperties sets two properties on the configuration object: (readingOptions, reading).&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FacebookPropertiesHelper.configureReadingProperties(configuration, options);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;readingOptions is a Map which is finally size 0 after all the relevant properties are extracted into the reading parameter. However, it isn&apos;t nullified.&lt;/p&gt;

&lt;p&gt;In the subsequent method initState(), it tries to look for a method in FacebookMethodTypes with the signature:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;getFeed(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; userId, Reading reading)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Because readingOptions is non null, it looks for a readingOptions parameter as well which doesn&apos;t exist, throwing the Exception.&lt;/p&gt;

&lt;p&gt;Is there a workaround I can use for the moment? Thanks!&lt;/p&gt;</description>
                <environment>&lt;p&gt;OpenJDK Runtime Environment (IcedTea 2.6.4) (Arch Linux build 7.u95_2.6.4-1-x86_64)&lt;/p&gt;</environment>
        <key id="12935858">CAMEL-9557</key>
            <summary>Facebook consumer throws IllegalArgumentException with reading parameters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="jusw85">Justin W</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Feb 2016 06:07:25 +0000</created>
                <updated>Wed, 3 Feb 2016 07:32:12 +0000</updated>
                            <resolved>Wed, 3 Feb 2016 07:32:12 +0000</resolved>
                                    <version>2.16.2</version>
                                    <fixVersion>2.16.3</fixVersion>
                    <fixVersion>2.17.0</fixVersion>
                                    <component>camel-facebook</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15127751" author="jusw85" created="Tue, 2 Feb 2016 06:28:43 +0000"  >&lt;p&gt;The commit for &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-9472&quot; title=&quot;Add multi value to component docs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-9472&quot;&gt;&lt;del&gt;CAMEL-9472&lt;/del&gt;&lt;/a&gt; adds the following line in FacebookPropertiesHelper.configureReadingProperties which causes the error I believe:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;configuration.setReadingOptions(readingProperties);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/commit/846b097c2b881eac68328800bdd6a9d3017921c7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;GitHub&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ve reverted to 2.16.1 until this is fixed.&lt;/p&gt;

&lt;p&gt;Thanks for your time!&lt;/p&gt;</comment>
                            <comment id="15129962" author="davsclaus" created="Wed, 3 Feb 2016 07:32:12 +0000"  >&lt;p&gt;Thanks for reporting.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2s9wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>