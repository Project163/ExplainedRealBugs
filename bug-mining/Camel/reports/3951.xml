<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:21:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-10727] camel-ftp: knownHostsUri configuration with camel 2.18.1</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-10727</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I have a known_hosts file on my classpath and I want the ftp-component to use this known_hosts file when connecting to an sftp server (and not be dependent on the ~/.ssh/known_hosts file). &lt;br/&gt;
The documentation (&lt;a href=&quot;http://camel.apache.org/ftp2.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/ftp2.html&lt;/a&gt;) mentions that u can use the option knownHostsUri to configure the (classpath) location of a known_hosts file. &lt;br/&gt;
When using this option (in combination with the option useUserKnownHostsFile=false), camel fails to connect to the server because of a NullPointerException (see below). &lt;br/&gt;
When debugging, it seems that the list of known_hosts from the classpath are first loaded succesfully (SftpOperations:268) but afterwards the known_hosts are ALWAYS overridden (SftpOperations:284). When setting the option useUserKnownHostsFile to false, there is no file to load (no fallback to the known_hosts file from the home directory) and the exception is thrown. &lt;br/&gt;
I made a small github project (&lt;a href=&quot;https://github.com/johanvandeweerd/camel-sftp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/johanvandeweerd/camel-sftp&lt;/a&gt;) that can be cloned and run to reproduce the error. You can play with the options in SftpRouteBuilder. &lt;/p&gt;

&lt;p&gt;Stacktrace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-01-17 18:19:33.397  WARN 2652 --- [           main] o.a.c.c.file.remote.SftpConsumer         : Error auto creating directory: pub/example due Cannot connect to sftp:&lt;span class=&quot;code-comment&quot;&gt;//demo@test.rebex.net:22. This exception is ignored. 
&lt;/span&gt;
org.apache.camel.component.file.GenericFileOperationFailedException: Cannot connect to sftp:&lt;span class=&quot;code-comment&quot;&gt;//demo@test.rebex.net:22 
&lt;/span&gt;        at org.apache.camel.component.file.remote.SftpOperations.connect(SftpOperations.java:146) ~[camel-ftp-2.18.1.jar:2.18.1] 
        at org.apache.camel.component.file.remote.RemoteFileConsumer.connectIfNecessary(RemoteFileConsumer.java:203) ~[camel-ftp-2.18.1.jar:2.18.1] 
        at org.apache.camel.component.file.remote.SftpConsumer.doStart(SftpConsumer.java:53) ~[camel-ftp-2.18.1.jar:2.18.1] 
        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.impl.DefaultCamelContext.startService(DefaultCamelContext.java:3371) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRouteConsumers(DefaultCamelContext.java:3688) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.impl.DefaultCamelContext.doStartRouteConsumers(DefaultCamelContext.java:3624) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.impl.DefaultCamelContext.safelyStartRouteServices(DefaultCamelContext.java:3544) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRoutes(DefaultCamelContext.java:3308) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3162) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:182) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:2957) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:2953) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:2976) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:2953) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:2920) [camel-core-2.18.1.jar:2.18.1] 
        at org.apache.camel.spring.boot.RoutesCollector.maybeStart(RoutesCollector.java:141) [camel-spring-boot-2.18.1.jar:2.18.1] 
        at org.apache.camel.spring.boot.RoutesCollector.onApplicationEvent(RoutesCollector.java:116) [camel-spring-boot-2.18.1.jar:2.18.1] 
        at org.apache.camel.spring.boot.RoutesCollector.onApplicationEvent(RoutesCollector.java:41) [camel-spring-boot-2.18.1.jar:2.18.1] 
        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:166) [spring-context-4.3.5.RELEASE.jar:4.3.5.RELEASE] 
        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:138) [spring-context-4.3.5.RELEASE.jar:4.3.5.RELEASE] 
        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) [spring-context-4.3.5.RELEASE.jar:4.3.5.RELEASE] 
        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:337) [spring-context-4.3.5.RELEASE.jar:4.3.5.RELEASE] 
        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:882) [spring-context-4.3.5.RELEASE.jar:4.3.5.RELEASE] 
        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) [spring-boot-1.4.3.RELEASE.jar:1.4.3.RELEASE] 
        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545) [spring-context-4.3.5.RELEASE.jar:4.3.5.RELEASE] 
        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) [spring-boot-1.4.3.RELEASE.jar:1.4.3.RELEASE] 
        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) [spring-boot-1.4.3.RELEASE.jar:1.4.3.RELEASE] 
        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:371) [spring-boot-1.4.3.RELEASE.jar:1.4.3.RELEASE] 
        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-1.4.3.RELEASE.jar:1.4.3.RELEASE] 
        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1186) [spring-boot-1.4.3.RELEASE.jar:1.4.3.RELEASE] 
        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1175) [spring-boot-1.4.3.RELEASE.jar:1.4.3.RELEASE] 
        at be.engine31.camel.Application.main(Application.java:10) [classes/:na] 
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_91] 
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_91] 
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_91] 
        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_91] 
        at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na] 
Caused by: java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 
        at com.jcraft.jsch.Util.checkTilde(Util.java:489) ~[jsch-0.1.54.jar:na] 
        at com.jcraft.jsch.KnownHosts.setKnownHosts(KnownHosts.java:54) ~[jsch-0.1.54.jar:na] 
        at com.jcraft.jsch.JSch.setKnownHosts(JSch.java:317) ~[jsch-0.1.54.jar:na] 
        at org.apache.camel.component.file.remote.SftpOperations.createSession(SftpOperations.java:284) ~[camel-ftp-2.18.1.jar:2.18.1] 
        at org.apache.camel.component.file.remote.SftpOperations.connect(SftpOperations.java:115) ~[camel-ftp-2.18.1.jar:2.18.1] 
        ... 38 common frames omitted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13036241">CAMEL-10727</key>
            <summary>camel-ftp: knownHostsUri configuration with camel 2.18.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="johanvandeweerd">Johan Vandeweerd</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jan 2017 15:40:13 +0000</created>
                <updated>Mon, 6 Mar 2017 10:51:38 +0000</updated>
                            <resolved>Fri, 20 Jan 2017 10:05:57 +0000</resolved>
                                    <version>2.18.1</version>
                                    <fixVersion>2.18.2</fixVersion>
                    <fixVersion>2.19.0</fixVersion>
                                    <component>camel-ftp</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15831498" author="davsclaus" created="Fri, 20 Jan 2017 10:05:58 +0000"  >&lt;p&gt;Thanks for reporting. I added a NPE fix. You can give the 2.18.2-SNAPSHOT a test try when the CI server build a new one later over the weekend.&lt;/p&gt;

&lt;p&gt;Or build from source yourself and try.&lt;/p&gt;</comment>
                            <comment id="15831508" author="johanvandeweerd" created="Fri, 20 Jan 2017 10:15:24 +0000"  >&lt;p&gt;Nice! I&apos;ll test it when the snapshot version is available and will give feedback.&lt;/p&gt;</comment>
                            <comment id="15848579" author="johanvandeweerd" created="Wed, 1 Feb 2017 16:25:40 +0000"  >&lt;p&gt;Bit later than expected but I tested the 2.18.2 and it&apos;s ok now. Thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13048479">CAMEL-10946</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38xrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>