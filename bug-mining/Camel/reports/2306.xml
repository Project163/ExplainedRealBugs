<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:57:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-6191] Simple expression and predicate behaviors are different when accessing to map with a space in the key</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-6191</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;The simple langage permit to access to a map element by specifying the key between [], ie ${body[key]}
When the key contains a space the behavior is not the same for a simple expression or a simple predicate:
* expression ${body[my key]} will access to the &quot;my key&quot; element -&amp;gt; correct
* expression ${body[&apos;my key&apos;]} will access to the &quot;my key&quot; element -&amp;gt; correct
* predicate ${body[my key]} == &apos;value&apos; will access to the &quot;mykey&quot; element -&amp;gt; incorrect
* predicate ${body[&apos;my key&apos;]} == &apos;value&apos; will access to the &quot;my key&quot; element -&amp;gt; correct
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;See attached testcase, the current ouput is&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;618 [main] INFO route1 - VALUE1
624 [main] INFO route1 - VALUE1
629 [main] INFO route1 - VALUE2
633 [main] INFO route1 - VALUE2
641 [main] INFO route1 - test1 is false
648 [main] INFO route1 - test2 is true
652 [main] INFO route1 - test3 is true
657 [main] INFO route1 - test4 is false
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but it should be&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;618 [main] INFO route1 - VALUE1
624 [main] INFO route1 - VALUE1
629 [main] INFO route1 - VALUE2
633 [main] INFO route1 - VALUE2
641 [main] INFO route1 - test1 is true
648 [main] INFO route1 - test2 is true
652 [main] INFO route1 - test3 is false
657 [main] INFO route1 - test4 is false
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12638226">CAMEL-6191</key>
            <summary>Simple expression and predicate behaviors are different when accessing to map with a space in the key</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="xfournet">Xavier Fournet</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Mar 2013 12:59:22 +0000</created>
                <updated>Fri, 17 May 2013 06:10:26 +0000</updated>
                            <resolved>Fri, 17 May 2013 06:10:26 +0000</resolved>
                                    <version>2.10.3</version>
                    <version>2.10.4</version>
                                    <fixVersion>2.10.5</fixVersion>
                    <fixVersion>2.11.1</fixVersion>
                    <fixVersion>2.12.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13609056" author="davsclaus" created="Thu, 21 Mar 2013 15:56:01 +0000"  >&lt;p&gt;Well it would be best practice to use quotes in the key name, eg &apos;my key&apos;, then that works fine&lt;/p&gt;</comment>
                            <comment id="13609069" author="davsclaus" created="Thu, 21 Mar 2013 16:10:50 +0000"  >&lt;p&gt;I added a note on the simple page.&lt;/p&gt;

&lt;p&gt;When your keys have spaces, then you must use enclose the key in single quotes.&lt;/p&gt;</comment>
                            <comment id="13609259" author="xfournet" created="Thu, 21 Mar 2013 18:21:54 +0000"  >&lt;p&gt;Humm... not convainced with the resolution &quot;Not a problem&quot;.&lt;br/&gt;
I&apos;m not very fan of the best practice you recommend since it is just redundant with the [].&lt;br/&gt;
Anyway even with that, if it is not enforced it could be still a problem for an user that is not aware of it. We spend a lot of time to track this problem so it could be avoided for others user if this issue is fixed either by:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;parse the predicate in the same way than the expression. While debugging I see that the problem is located in org.apache.camel.language.simple.SimplePredicateParser#removeIgnorableWhiteSpaceTokens that transforms the tokens field from ${body&lt;span class=&quot;error&quot;&gt;&amp;#91;Header Key&amp;#93;&lt;/span&gt;} == &apos;VALUE1&apos; to ${body&lt;span class=&quot;error&quot;&gt;&amp;#91;HeaderKey&amp;#93;&lt;/span&gt;}==&apos;VALUE1&apos;&lt;/li&gt;
	&lt;li&gt;enforce the &quot;must&quot; in the documentation and reject the expression that use an unquoted key with space in order to avoid strange behaviors&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13610248" author="muellerc" created="Fri, 22 Mar 2013 13:15:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;: Is there a constraint why we cannot offer the same behavior for predicates and expressions? I agree with Xavier that &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;key with space&amp;#39;&amp;#93;&lt;/span&gt; is a bit cumbersome compared with &lt;span class=&quot;error&quot;&gt;&amp;#91;key with space&amp;#93;&lt;/span&gt; (I know, it&apos;s only two chars, but could save some time for people who are lazy in reading the java doc &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ).&lt;/p&gt;</comment>
                            <comment id="13619753" author="davsclaus" created="Tue, 2 Apr 2013 12:42:19 +0000"  >&lt;p&gt;Sorry the notification mail got lost for me somehow.&lt;/p&gt;

&lt;p&gt;Its very common to use quotes for strings when it contains a space when passing that in as a single argument, such as on the command shell, java parameter, other programming languages.&lt;/p&gt;

&lt;p&gt;So IMHO requiring to use a quoted string when it has a space is valid for me.&lt;/p&gt;

&lt;p&gt;Though I agree we should look into improving the parser to see if we can parse the expression or predicate as much alike as possible.&lt;/p&gt;</comment>
                            <comment id="13659454" author="antoine.dessaigne" created="Thu, 16 May 2013 11:43:17 +0000"  >&lt;p&gt;Hi, I&apos;ve just added a patch that fixes this issue.&lt;/p&gt;</comment>
                            <comment id="13660379" author="davsclaus" created="Fri, 17 May 2013 06:10:26 +0000"  >&lt;p&gt;Thanks for the patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12583466" name="CAMEL-6191-Simple-expression-and-predicate-behaviors.patch" size="3281" author="antoine.dessaigne" created="Thu, 16 May 2013 11:42:39 +0000"/>
                            <attachment id="12574792" name="CamelTest.java" size="1821" author="xfournet" created="Thu, 21 Mar 2013 12:59:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318702</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1izov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>