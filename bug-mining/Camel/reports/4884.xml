<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:35:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-13464] Problem with Olingo4 and authenticated metadata</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-13464</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I&apos;m currently working with the Olingo4 component for linking with Microsoft Dynamics 365 CRM. This OData feed requires authentication to get the metadata. As I have to refresh the Access Token for authenticating I can not add it to the configuration, but I&apos;m using the CamelOlingo4.endpointHttpHeaders header for this. But when the component is retrieving the metadata it is ignoring the header and it is not able to authenticate.&lt;/p&gt;

&lt;p&gt;If I add the headers to the get metadata request it works.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13230661">CAMEL-13464</key>
            <summary>Problem with Olingo4 and authenticated metadata</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="acosentino">Andrea Cosentino</assignee>
                                    <reporter username="r.schoen@topdesk.com">Remco Schoen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Apr 2019 11:06:29 +0000</created>
                <updated>Fri, 22 Nov 2019 07:03:51 +0000</updated>
                            <resolved>Thu, 2 May 2019 10:04:58 +0000</resolved>
                                    <version>2.23.2</version>
                                    <fixVersion>2.24.0</fixVersion>
                    <fixVersion>3.0.0-M3</fixVersion>
                    <fixVersion>2.23.3</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>camel-olingo4</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="16829290" author="dmvolod" created="Mon, 29 Apr 2019 14:09:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=r.schoen%40topdesk.com&quot; class=&quot;user-hover&quot; rel=&quot;r.schoen@topdesk.com&quot;&gt;r.schoen@topdesk.com&lt;/a&gt;, have you configured the code like this example &lt;a href=&quot;https://github.com/apache/camel/blob/5fd45068a93973a6fa22ff117bdb04a77a785eb0/components/camel-olingo4/camel-olingo4-component/src/test/java/org/apache/camel/component/olingo4/Olingo4ComponentTest.java#L280&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/blob/5fd45068a93973a6fa22ff117bdb04a77a785eb0/components/camel-olingo4/camel-olingo4-component/src/test/java/org/apache/camel/component/olingo4/Olingo4ComponentTest.java#L280&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If not, please provide a simple reproducer if possible.&lt;/p&gt;</comment>
                            <comment id="16829295" author="r.schoen@topdesk.com" created="Mon, 29 Apr 2019 14:20:28 +0000"  >&lt;p&gt;This is how I set my header, so yes:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Map&amp;lt;String, String&amp;gt; endpointHttpHeaders = new HashMap&amp;lt;&amp;gt;()&lt;br/&gt;
endpointHttpHeaders.put(&apos;AUTHORIZATION&apos;, &quot;Bearer ${oDataAuthentication.accessToken}&quot;.toString())&lt;/p&gt;

&lt;p&gt;exchange.in.headers.put(&apos;CamelOlingo4.endpointHttpHeaders&apos;, endpointHttpHeaders)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I don&apos;t know how to create a simple test-case, I&apos;m not familiar with any mock odata-services.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I attached the diff how I solved in my project:&#160;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12967382/12967382_headers_fix.diff&quot; title=&quot;headers_fix.diff attached to CAMEL-13464&quot;&gt;headers_fix.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="16829301" author="dmvolod" created="Mon, 29 Apr 2019 14:25:07 +0000"  >&lt;p&gt;Ah, understood, is it related to just for EDM getting only and not for regular requests as described in &lt;a href=&quot;https://github.com/apache/camel/blob/5fd45068a93973a6fa22ff117bdb04a77a785eb0/components/camel-olingo4/camel-olingo4-component/src/test/java/org/apache/camel/component/olingo4/Olingo4ComponentTest.java#L280&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Olingo4ComponentTest.java#L280&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="16829302" author="r.schoen@topdesk.com" created="Mon, 29 Apr 2019 14:27:21 +0000"  >&lt;p&gt;Yup, it is only a problem when getting the EDM, everything else works.&lt;/p&gt;</comment>
                            <comment id="16829304" author="dmvolod" created="Mon, 29 Apr 2019 14:30:49 +0000"  >&lt;p&gt;Thanks for report. I can add your fix to upstream or you can create a PR on top of you changes. For test we are working with public based OData v4.0 service, but I&apos;m not aware about auth or any other header-based features for it, but you can try to find.&lt;/p&gt;</comment>
                            <comment id="16830169" author="dmvolod" created="Tue, 30 Apr 2019 10:35:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=r.schoen%40topdesk.com&quot; class=&quot;user-hover&quot; rel=&quot;r.schoen@topdesk.com&quot;&gt;r.schoen@topdesk.com&lt;/a&gt;, are you working on PR for fix or I can add your patch to upstream?&lt;/p&gt;</comment>
                            <comment id="16830907" author="r.schoen@topdesk.com" created="Wed, 1 May 2019 08:01:58 +0000"  >&lt;p&gt;I&apos;m not working an a PR at the moment, but I could create one. Do I understand correctly that this has to be for two branches, 2.23 and 3.0?&#160;&lt;/p&gt;</comment>
                            <comment id="16830908" author="ancosen" created="Wed, 1 May 2019 08:03:26 +0000"  >&lt;p&gt;Branches are camel-2.x and master. Thanks&lt;/p&gt;</comment>
                            <comment id="16830931" author="r.schoen@topdesk.com" created="Wed, 1 May 2019 09:29:30 +0000"  >&lt;p&gt;I created two pull requests for this.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13270038">CAMEL-14207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12967382" name="headers_fix.diff" size="3481" author="r.schoen@topdesk.com" created="Mon, 29 Apr 2019 14:20:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z028e8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>