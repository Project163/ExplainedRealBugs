<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:42:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-3709] interceptFrom and from(Endpoint) don&apos;t work together</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3709</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When using interceptFrom(String) together with from(Endpoint), the below Exception occurs during the routes building process. Looking at RoutesDefinition.java:217 reveals, that the FromDefintion just created has no URI. That causes the comparison to all the interceptFroms&apos; URIs to fail. As far as I can tell, the way to fix this would be to add &lt;tt&gt;setUri(myEndpoint.getEndpointUri())&lt;/tt&gt; in the constructor &lt;tt&gt;FromDefinition(Endpoint endpoint)&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Below the stack trace, there is a unit test that demonstrates the issue. Until it if fixed, it can be easily circumvented by adding the commented-out line, and then change to &lt;tt&gt;from(&quot;myEndpoint&quot;)&lt;/tt&gt;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; due to: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at org.apache.camel.util.EndpointHelper.matchEndpoint(EndpointHelper.java:109)
	at org.apache.camel.model.RoutesDefinition.route(RoutesDefinition.java:217)
	at org.apache.camel.model.RoutesDefinition.from(RoutesDefinition.java:167)
	at org.apache.camel.builder.RouteBuilder.from(RouteBuilder.java:101)
	at dk.mobilethink.adc2.endpoint.UnsetUriTest$1.configure(UnsetUriTest.java:18)
	at org.apache.camel.builder.RouteBuilder.checkInitialized(RouteBuilder.java:318)
	at org.apache.camel.builder.RouteBuilder.configureRoutes(RouteBuilder.java:273)
	at org.apache.camel.builder.RouteBuilder.addRoutesToCamelContext(RouteBuilder.java:259)
	at org.apache.camel.impl.DefaultCamelContext.addRoutes(DefaultCamelContext.java:612)
	at org.apache.camel.test.CamelTestSupport.setUp(CamelTestSupport.java:111)
	at junit.framework.TestCase.runBare(TestCase.java:132)
	at org.apache.camel.test.TestSupport.runBare(TestSupport.java:65)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:83)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Caused by: java.lang.NullPointerException
	at org.apache.camel.util.UnsafeUriCharactersEncoder.encode(UnsafeUriCharactersEncoder.java:56)
	at org.apache.camel.util.URISupport.normalizeUri(URISupport.java:162)
	at org.apache.camel.util.EndpointHelper.matchEndpoint(EndpointHelper.java:107)
	... 24 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; dk.mobilethink.adc2.endpoint;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.Endpoint;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.builder.RouteBuilder;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.test.CamelTestSupport;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;UnsetUriTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; CamelTestSupport {
	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; RouteBuilder createRouteBuilder() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {

		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RouteBuilder() {
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
				interceptFrom(&lt;span class=&quot;code-quote&quot;&gt;&quot;URI1&quot;&lt;/span&gt;).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;irrelevantURI&quot;&lt;/span&gt;);

				Endpoint myEndpoint = getContext().getComponent(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct&quot;&lt;/span&gt;).createEndpoint(&lt;span class=&quot;code-quote&quot;&gt;&quot;ignoredURI&quot;&lt;/span&gt;);
				
&lt;span class=&quot;code-comment&quot;&gt;//				getContext().addEndpoint(&lt;span class=&quot;code-quote&quot;&gt;&quot;myEndpoint&quot;&lt;/span&gt;, myEndpoint);
&lt;/span&gt;				from(myEndpoint)
					.inOnly(&lt;span class=&quot;code-quote&quot;&gt;&quot;log:foo&quot;&lt;/span&gt;);
			}
		};
	}

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testNothing() { }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12499477">CAMEL-3709</key>
            <summary>interceptFrom and from(Endpoint) don&apos;t work together</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="sm">S&#248;ren Markert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Feb 2011 12:12:35 +0000</created>
                <updated>Tue, 25 Oct 2011 11:35:47 +0000</updated>
                            <resolved>Thu, 24 Feb 2011 05:21:03 +0000</resolved>
                                    <version>2.5.0</version>
                    <version>2.6.0</version>
                                    <fixVersion>2.7.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12998431" author="davsclaus" created="Wed, 23 Feb 2011 16:20:35 +0000"  >&lt;p&gt;You found the easter egg. There is a todo in the source code to support endpoint via ref&apos;s&lt;/p&gt;

&lt;p&gt;    // TODO: Support lookup endpoint by ref (requires a bit more work)&lt;/p&gt;</comment>
                            <comment id="12998696" author="davsclaus" created="Thu, 24 Feb 2011 05:21:03 +0000"  >&lt;p&gt;trunk: 1074045&lt;/p&gt;</comment>
                            <comment id="12998722" author="davsclaus" created="Thu, 24 Feb 2011 07:24:22 +0000"  >&lt;p&gt;trunk: 1074058.&lt;/p&gt;

&lt;p&gt;Now works when from is using ref instead of url as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01wev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9020</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>