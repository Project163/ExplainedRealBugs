<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:48:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-4754] The onException clause should make use of the correct logger name given through the log DSL </title>
                <link>https://issues.apache.org/jira/browse/CAMEL-4754</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://camel.465427.n5.nabble.com/global-onException-clause-wrongly-identifies-route-in-which-exception-occurs-log-name-td5058304.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.465427.n5.nabble.com/global-onException-clause-wrongly-identifies-route-in-which-exception-occurs-log-name-td5058304.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534359">CAMEL-4754</key>
            <summary>The onException clause should make use of the correct logger name given through the log DSL </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="bvahdat">Babak Vahdat</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Dec 2011 16:25:18 +0000</created>
                <updated>Mon, 12 Dec 2011 05:48:37 +0000</updated>
                            <resolved>Mon, 12 Dec 2011 05:48:37 +0000</resolved>
                                    <version>2.8.3</version>
                                    <fixVersion>2.9.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13165365" author="bvahdat" created="Thu, 8 Dec 2011 17:55:14 +0000"  >&lt;p&gt;Maybe just as a small hint, I attached a screenshot showing the cause of the problem: the LogProcessor gets (correctly) wired with the simple expression we&apos;ve on log DSL, like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;onException(Exception.class)
    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error due ${exception.message}&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But with the &lt;b&gt;wrong&lt;/b&gt; CamelLoggger object which is to be used for the route &apos;bar&apos;. Correctly it should be wired to the CamelLogger of the route &apos;foo&apos;.&lt;/p&gt;</comment>
                            <comment id="13166019" author="davsclaus" created="Fri, 9 Dec 2011 10:07:36 +0000"  >&lt;p&gt;The workaround is to use route scoped onExceptions.&lt;/p&gt;
</comment>
                            <comment id="13166022" author="davsclaus" created="Fri, 9 Dec 2011 10:12:48 +0000"  >&lt;p&gt;Its a bug in the error handler when using context scoped onException.&lt;/p&gt;

&lt;p&gt;When the routes is built, then the error handler is mixed in the routes (Camel 2.x architecture), and in this logic error handlers is build based on the given route built, and a reference is stored in the context scoped OnException. However that reference should have been keyed to the given created route. This ensures when Camel picks the OnException to handle the exception that occurred, it should pick the error handler that matches the current route. Beforehand it will pick the last created error handler from the last created route. All though the error handler reacts similar, it was only the Log DSL that uses the route id in the log process, and thus that route id was wrong, causing the Log processor to log the wrong id.&lt;/p&gt;</comment>
                            <comment id="13166126" author="davsclaus" created="Fri, 9 Dec 2011 12:41:02 +0000"  >&lt;p&gt;This has API changes and a slightly bigger changes in the routing engine. So am a bit inclined to backport to a patch release, to only fix a route id in a log. And we have a known workaround.&lt;/p&gt;</comment>
                            <comment id="13166223" author="bvahdat" created="Fri, 9 Dec 2011 15:06:25 +0000"  >&lt;p&gt;@Claus,&lt;/p&gt;

&lt;p&gt;I&apos;m afraid that the test ContextScopedOnExceptionCorrectRouteContextTest doesn&apos;t really verify the fix, as we do swallow all the possible exceptions after the template.sendBody() call, so that using the processor DSL even if we would assert on:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;balabala&quot;&lt;/span&gt;, routeId);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The tests would still pass well! as we swallow all kindes of the exceptions after the template.sendBody() calls (including a CamelExecutionException wrapping junit.framework.ComparisonFailure)&lt;/p&gt;

&lt;p&gt;I went for another approach using a logger-name-recording-log4j-appender (see below) and removed the processor approach. If you think this would make more sense to you I would append the diff (tomorrow) into this ticket so that you can apply it into the trunk.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ContextScopedOnExceptionCorrectRouteContextTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; ContextTestSupport {

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; LoggerNameRecordingAppender loggerNameRecordingAppender;

    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void setUp() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.setUp();

        &lt;span class=&quot;code-comment&quot;&gt;// append our custom log4j Appender through which we want to verify the
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// logger name of the log messages
&lt;/span&gt;        loggerNameRecordingAppender = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; LoggerNameRecordingAppender(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error due Forced foo error&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Error due Forced bar error&quot;&lt;/span&gt;);
        Logger.getRootLogger().addAppender(loggerNameRecordingAppender);
    }

    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void tearDown() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-comment&quot;&gt;// we&apos;re done, so remove our custom Appender from the root logger
&lt;/span&gt;        Logger.getRootLogger().removeAppender(loggerNameRecordingAppender);

        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.tearDown();
    }

    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isUseRouteBuilder() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testContextScopedOnExceptionLogRouteBarFail() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        context.addRoutes(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RouteBuilder() {
            @Override
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
                onException(Exception.class)
                    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error due ${exception.message}&quot;&lt;/span&gt;);

                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;).routeId(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;)
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:foo&quot;&lt;/span&gt;)
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:bar&quot;&lt;/span&gt;)
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:result&quot;&lt;/span&gt;);

                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:bar&quot;&lt;/span&gt;).routeId(&lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;)
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:bar&quot;&lt;/span&gt;)
                    .throwException(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Forced bar error&quot;&lt;/span&gt;));
            }
        });
        context.start();

        getMockEndpoint(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:foo&quot;&lt;/span&gt;).expectedMessageCount(1);
        getMockEndpoint(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:bar&quot;&lt;/span&gt;).expectedMessageCount(1);
        getMockEndpoint(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:result&quot;&lt;/span&gt;).expectedMessageCount(0);
        
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            template.sendBody(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Hello World&quot;&lt;/span&gt;);
            fail(&lt;span class=&quot;code-quote&quot;&gt;&quot;Should have thrown exception&quot;&lt;/span&gt;);
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
            &lt;span class=&quot;code-comment&quot;&gt;// ignore
&lt;/span&gt;        }

        assertMockEndpointsSatisfied();

        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; on the logger name through which we&apos;ve logged the message
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// using the log dsl
&lt;/span&gt;        List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; barHits = loggerNameRecordingAppender.getRecordedLoggerNamesFor(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error due Forced bar error&quot;&lt;/span&gt;);
        assertEquals(1, barHits.size());
        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;, barHits.get(0));

        List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; fooHits = loggerNameRecordingAppender.getRecordedLoggerNamesFor(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error due Forced foo error&quot;&lt;/span&gt;);
        assertEquals(0, fooHits.size());
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testContextScopedOnExceptionLogRouteFooFail() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        context.addRoutes(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RouteBuilder() {
            @Override
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
                onException(Exception.class)
                    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error due ${exception.message}&quot;&lt;/span&gt;);

                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;).routeId(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;)
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:foo&quot;&lt;/span&gt;)
                    .throwException(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Forced foo error&quot;&lt;/span&gt;))
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:bar&quot;&lt;/span&gt;)
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:result&quot;&lt;/span&gt;);

                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:bar&quot;&lt;/span&gt;).routeId(&lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;)
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:bar&quot;&lt;/span&gt;);

                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:killer&quot;&lt;/span&gt;).routeId(&lt;span class=&quot;code-quote&quot;&gt;&quot;killer&quot;&lt;/span&gt;)
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:killer&quot;&lt;/span&gt;);
            }
        });
        context.start();

        getMockEndpoint(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:foo&quot;&lt;/span&gt;).expectedMessageCount(1);
        getMockEndpoint(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:bar&quot;&lt;/span&gt;).expectedMessageCount(0);
        getMockEndpoint(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:result&quot;&lt;/span&gt;).expectedMessageCount(0);

        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            template.sendBody(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Hello World&quot;&lt;/span&gt;);
            fail(&lt;span class=&quot;code-quote&quot;&gt;&quot;Should have thrown exception&quot;&lt;/span&gt;);
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
            &lt;span class=&quot;code-comment&quot;&gt;// expected
&lt;/span&gt;        }

        assertMockEndpointsSatisfied();

        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; on the logger name through which we&apos;ve logged the message
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// using the log dsl
&lt;/span&gt;        List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; fooHits = loggerNameRecordingAppender.getRecordedLoggerNamesFor(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error due Forced foo error&quot;&lt;/span&gt;);
        assertEquals(1, fooHits.size());
        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, fooHits.get(0));

        List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; barHits = loggerNameRecordingAppender.getRecordedLoggerNamesFor(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error due Forced bar error&quot;&lt;/span&gt;);
        assertEquals(0, barHits.size());
    }

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;LoggerNameRecordingAppender &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AppenderSkeleton {

        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; recordedLogMessages;
        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;&amp;gt; recordedLoggerNames;

        LoggerNameRecordingAppender(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;... logMessages) {
            &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.recordedLogMessages = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;(Arrays.asList(logMessages));
            &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.recordedLoggerNames = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;&amp;gt;();
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; logMessage : logMessages) {
                recordedLoggerNames.put(logMessage, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;());
            }
        }

        @Override
        &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void append(LoggingEvent event) {
            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; logMessage = event.getRenderedMessage();
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (recordedLogMessages.contains(logMessage)) {
                &lt;span class=&quot;code-comment&quot;&gt;// add &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; hit to the list of the logger names we have got so far
&lt;/span&gt;                &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; log message
&lt;/span&gt;                List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; actual = recordedLoggerNames.get(logMessage);
                actual.add(event.getLoggerName());
            }
        }

        List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; getRecordedLoggerNamesFor(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; logMessage) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Collections.unmodifiableList(recordedLoggerNames.get(logMessage));
        }

        @Override
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; requiresLayout() {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        }

        @Override
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void close() {
            &lt;span class=&quot;code-comment&quot;&gt;// noop
&lt;/span&gt;        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13166230" author="davsclaus" created="Fri, 9 Dec 2011 15:25:00 +0000"  >&lt;p&gt;The new unit tests has a inlined processor that checks the route id is the correct value.&lt;/p&gt;

&lt;p&gt;However fell free to submit a patch with your logging appender &quot;trick&quot;. You must attach a file to the JIRA and mark &lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; in grant license to Apache. Otherwise we cannot accept your contribution.&lt;/p&gt;</comment>
                            <comment id="13166243" author="bvahdat" created="Fri, 9 Dec 2011 15:33:44 +0000"  >&lt;p&gt;But that check doesn&apos;t really work, because if you would do&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;balabala&quot;&lt;/span&gt;, routeId);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The test would still &lt;b&gt;pass&lt;/b&gt;. The processor is O.K. the problem are those 2 catch blocks after the template.sendBody() calls. Maybe you want to give it a try with that &quot;balabala&quot; routeId to see what I mean.&lt;/p&gt;</comment>
                            <comment id="13166647" author="bvahdat" created="Fri, 9 Dec 2011 23:06:00 +0000"  >&lt;p&gt;Attached two potential fixes you may want to consider (either one &lt;b&gt;or&lt;/b&gt; two, but not both)&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-4754&quot; title=&quot;The onException clause should make use of the correct logger name given through the log DSL &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-4754&quot;&gt;&lt;del&gt;CAMEL-4754&lt;/del&gt;&lt;/a&gt;-option-one.patch: to remedy the potential exception swallowing on junit.framework.ComparisonFailure, I hope my pointer I tried to explain in my previous posts is clear by now&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-4754&quot; title=&quot;The onException clause should make use of the correct logger name given through the log DSL &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-4754&quot;&gt;&lt;del&gt;CAMEL-4754&lt;/del&gt;&lt;/a&gt;-option-two.patch: how did you name it? Yeah, this&apos;s the one with that logging appender &quot;trick&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The decision is yours &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13167075" author="bvahdat" created="Sun, 11 Dec 2011 10:26:13 +0000"  >&lt;p&gt;According to my previous post on this I reopened the ticket, so that we can remedy this &quot;false positive&quot; effect while unit-testing.&lt;br/&gt;
See the two provided patches for this.&lt;/p&gt;</comment>
                            <comment id="13167364" author="davsclaus" created="Mon, 12 Dec 2011 05:48:37 +0000"  >&lt;p&gt;Thanks for the patch. I went for number one and polished it a bit.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506807" name="CAMEL-4754-option-one.patch" size="2049" author="bvahdat" created="Fri, 9 Dec 2011 22:55:59 +0000"/>
                            <attachment id="12506808" name="CAMEL-4754-option-two.patch" size="6620" author="bvahdat" created="Fri, 9 Dec 2011 22:56:21 +0000"/>
                            <attachment id="12506624" name="debugger.jpg" size="511402" author="bvahdat" created="Thu, 8 Dec 2011 17:45:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i022vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10068</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>