<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:49:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-16793] apiHost option in REST DSL is ignored</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-16793</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;From documentation -&#160;&lt;a href=&quot;https://camel.apache.org/manual/latest/rest-dsl.html#_configuring_rest_dsl&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://camel.apache.org/manual/latest/rest-dsl.html#_configuring_rest_dsl&lt;/a&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;apiHost&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;-&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Specific hostname for the API documentation (eg swagger)&lt;br/&gt;
This can be used to override the generated host with this configured hostname&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;In fact the option&apos;s value gets lost with both camel-swagger and camel-oneapi components, see also&#160;&lt;a href=&quot;https://lists.apache.org/thread.html/rc002471d17e51a902d9eca062f2336b71403486753fe5173bb62f43c@%3Cusers.camel.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;camel mailing list&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13388318">CAMEL-16793</key>
            <summary>apiHost option in REST DSL is ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jamesnetherton">James Netherton</assignee>
                                    <reporter username="greenev">Grigorii Ivanov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Jul 2021 08:03:05 +0000</created>
                <updated>Tue, 7 Sep 2021 14:03:32 +0000</updated>
                            <resolved>Tue, 7 Sep 2021 14:03:32 +0000</resolved>
                                    <version>2.25.3</version>
                    <version>3.11.0</version>
                                    <fixVersion>3.11.2</fixVersion>
                    <fixVersion>3.12.0</fixVersion>
                                    <component>camel-openapi-java</component>
                    <component>camel-swagger-java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17377368" author="avi5kdonrh" created="Thu, 8 Jul 2021 12:57:02 +0000"  >&lt;p&gt;From the Openapi perspective, this doesn&apos;t look like a bug. It is setting the URL that way because you are not sending any X-Forward headers. Either disable using the X-Forward headers like so:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
restConfiguration().component(&lt;span class=&quot;code-quote&quot;&gt;&quot;undertow&quot;&lt;/span&gt;).contextPath(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;&quot;&lt;/span&gt;)
        .useXForwardHeaders(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
        .port(8090)
        .apiContextPath(&lt;span class=&quot;code-quote&quot;&gt;&quot;/api&quot;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Or, use the X-Forward headers when you call the API context:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
curl -H &lt;span class=&quot;code-quote&quot;&gt;&quot;X-Forwarded-Proto: http&quot;&lt;/span&gt; -H &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;X-Forwarded-Host: example.com&quot;&lt;/span&gt; http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/api
&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It will give you a result like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;servers&quot;&lt;/span&gt; : [ {

 &#160;&#160;&#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;url&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//example.com/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;&quot;&lt;/span&gt;
&lt;/span&gt;
 &#160;} ],

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17377922" author="greenev" created="Fri, 9 Jul 2021 08:23:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=avi5kdonrh&quot; class=&quot;user-hover&quot; rel=&quot;avi5kdonrh&quot;&gt;avi5kdonrh&lt;/a&gt;, thanks a lot! It seems now that the only thing we should do here is to add this hint to the docs, or?&lt;/p&gt;</comment>
                            <comment id="17379010" author="avi5kdonrh" created="Mon, 12 Jul 2021 07:39:24 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;, can we add these instructions to the openapi component docs? &lt;a href=&quot;https://camel.apache.org/components/3.4.x/others/openapi-java.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://camel.apache.org/components/3.4.x/others/openapi-java.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17386660" author="davsclaus" created="Sat, 24 Jul 2021 07:08:06 +0000"  >&lt;p&gt;Yes you are welcome to add instructions to the docs, I suggest to do this on the main branch, then we can backport to older branches.&lt;/p&gt;</comment>
                            <comment id="17410555" author="jamesnetherton" created="Mon, 6 Sep 2021 11:46:42 +0000"  >&lt;p&gt;I just stumbled across the same problem. X-Forwarded-* headers are typically only relevant to requests coming from behind a proxy or load balancer. They are not guaranteed to be present.&lt;/p&gt;

&lt;p&gt;I&apos;ll see if I can figure out why the host API property is lost.&lt;/p&gt;</comment>
                            <comment id="17411004" author="jamesnetherton" created="Tue, 7 Sep 2021 07:52:08 +0000"  >&lt;p&gt;Ok, so reading the background of &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-13126&quot; title=&quot;For Swagger, add an option whether to use X-Forward headers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-13126&quot;&gt;&lt;del&gt;CAMEL-13126&lt;/del&gt;&lt;/a&gt;, I understand the useXForwardHeaders thing a bit better. I&apos;ll drop a note into the documentation on how this affect things.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0spy8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>