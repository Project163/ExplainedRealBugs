<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:25:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-11671] camel-ahc - No way to disable url encoding</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-11671</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;There currently seems to be now way to really disable url encoding for ahc urls with query parameters.&lt;/p&gt;

&lt;p&gt;I even tried to use my own ahc binding.&lt;br/&gt;
The problem seems to be, that the AhcProducer uses this section:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; process(Exchange exchange, AsyncCallback callback) {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            &lt;span class=&quot;code-comment&quot;&gt;// AHC supports async processing
&lt;/span&gt;            Request request = getEndpoint().getBinding().prepareRequest(getEndpoint(), exchange);
            log.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Executing request {} &quot;&lt;/span&gt;, request);
            client.prepareRequest(request).execute(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AhcAsyncHandler(exchange, callback, request.getUrl(), getEndpoint().getBufferSize()));
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
            exchange.setException(e);
            callback.done(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;By calling &lt;tt&gt;client.prepareRequest(request)&lt;/tt&gt; the already created request will be turned again into a request builder with enabled url encoding.&lt;br/&gt;
From my perspective this makes no sense:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;we could already return a request builder from the AhcBinding, which would save us some processing time&lt;/li&gt;
	&lt;li&gt;the settings on this request builder would then not be overriden&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;But I can see this would be a breaking change in the API of the AhcBinding.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13094727">CAMEL-11671</key>
            <summary>camel-ahc - No way to disable url encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="acosentino">Andrea Cosentino</assignee>
                                    <reporter username="convoi">Justin Heesemann</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Aug 2017 10:20:24 +0000</created>
                <updated>Thu, 24 Aug 2017 11:05:33 +0000</updated>
                            <resolved>Mon, 21 Aug 2017 08:17:05 +0000</resolved>
                                    <version>2.19.1</version>
                                    <fixVersion>2.19.3</fixVersion>
                    <fixVersion>2.20.0</fixVersion>
                                    <component>camel-ahc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16127091" author="convoi" created="Tue, 15 Aug 2017 11:21:52 +0000"  >&lt;p&gt;actually there might be an even simpler way:&lt;br/&gt;
instead of &lt;br/&gt;
&lt;tt&gt;client.prepareRequest(request).execute(new AhcAsyncHandler(exchange, callback, request.getUrl(), getEndpoint().getBufferSize()));&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;why dont we do&lt;br/&gt;
&lt;tt&gt;client.executeRequest(request, new AhcAsyncHandler(exchange, callback, request.getUrl(), getEndpoint().getBufferSize()));&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="16127109" author="githubbot" created="Tue, 15 Aug 2017 11:40:45 +0000"  >&lt;p&gt;GitHub user convoi opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1892&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1892&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11671&quot; title=&quot;camel-ahc - No way to disable url encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11671&quot;&gt;&lt;del&gt;CAMEL-11671&lt;/del&gt;&lt;/a&gt; dont rebuild the request and respect url encoding of the original request&lt;/p&gt;

&lt;p&gt;    imho it makes no sense to rebuild the request. the prepare methods are mostly used for a) prototyped requests or b) simplified requests in form of simple urls.&lt;br/&gt;
    we however already have a prepared request (not a prototype).&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/convoi/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/convoi/camel&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1892.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1892.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1892&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 03b3a4dcd8f211a50bb28f5073bcab20f492c83a&lt;br/&gt;
Author: Justin Heesemann &amp;lt;jheesemann@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-08-15T11:30:00Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11671&quot; title=&quot;camel-ahc - No way to disable url encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11671&quot;&gt;&lt;del&gt;CAMEL-11671&lt;/del&gt;&lt;/a&gt; dont rebuild the request and respect url encoding of the original request&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16139815" author="githubbot" created="Thu, 24 Aug 2017 09:36:43 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1892&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1892&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3isun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>