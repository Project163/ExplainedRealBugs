<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:38:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-14220] camel-activemq - Setting brokerURL via camel-main issue</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-14220</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;It triggers a lazy create connection factory that uses localhost:61616 and sets it due camel-main can detect singleton instanses from registry and auto configure them. But sadly activemq uses this lazy create convention in getter (legacy from Camel 1.x days)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13270789">CAMEL-14220</key>
            <summary>camel-activemq - Setting brokerURL via camel-main issue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="davsclaus">Claus Ibsen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Nov 2019 19:06:42 +0000</created>
                <updated>Thu, 23 Jan 2020 07:38:11 +0000</updated>
                            <resolved>Tue, 3 Dec 2019 14:55:22 +0000</resolved>
                                    <version>3.0.0</version>
                                    <fixVersion>3.0.1</fixVersion>
                    <fixVersion>3.1.0</fixVersion>
                                    <component>camel-activemq</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16986943" author="davsclaus" created="Tue, 3 Dec 2019 14:19:35 +0000"  >&lt;p&gt;Okay fixing this in camel-jms which was the cause with some lazy creation in the getter, that was a style James used &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17021235" author="preben" created="Wed, 22 Jan 2020 16:10:39 +0000"  >&lt;p&gt;When upgrading to 3.0.1 from 3.0.0 I found issue in initializing the Activemq FailoverTransport. It will always use localhost:61616.&lt;/p&gt;

&lt;p&gt;I think we should reopen this issue.&lt;/p&gt;

&lt;p&gt;See gitter&#160;&lt;a href=&quot;https://gitter.im/apache/apache-camel?at=5e284b963fd0cc7cfe17da8d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitter.im/apache/apache-camel?at=5e284b963fd0cc7cfe17da8d&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17021778" author="davsclaus" created="Thu, 23 Jan 2020 05:13:28 +0000"  >&lt;p&gt;You are using spring boot, its not entirely the same. Can you put a sample project on github. And also try with 3.1.0-SNAPSHOT&lt;/p&gt;</comment>
                            <comment id="17021828" author="preben" created="Thu, 23 Jan 2020 07:30:10 +0000"  >&lt;p&gt;Sure. I created the project here&#160;&lt;a href=&quot;https://github.com/pax95/failover-test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/pax95/failover-test&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When running the project the failover task will try to connect to localhost&lt;/p&gt;

&lt;p&gt;(I see the same behaviour on 3.1.0-SNAPSHOT)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-01-23 08:17:32.352 WARN 8463 --- [ActiveMQ Task-1] o.a.a.t.failover.FailoverTransport : Failed to connect to [tcp:&lt;span class=&quot;code-comment&quot;&gt;//localhost:61616] after: 10 attempt(s) continuing to retry.&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;If you change the camel version to 3.0.0 you should see the expected behaviour&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2020-01-23 08:24:20.043 WARN 10019 --- [ActiveMQ Task-1] o.a.a.t.failover.FailoverTransport : Failed to connect to [ssl:&lt;span class=&quot;code-comment&quot;&gt;//foo:61617, ssl://bar:61617] after: 10 attempt(s) continuing to retry.&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;It seems that the FailoverTransport get intialized twice and the default localhost get&apos;s added the second time.&lt;/p&gt;

&lt;p&gt;I&apos;m aware of that camel also has a camel.component.activemq.broker-u-r-l, but when using SB it should still work with the spring configuration property i would guess&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="13270401">CAMEL-14213</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z091bs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>