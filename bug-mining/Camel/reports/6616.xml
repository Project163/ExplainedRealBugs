<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:03:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-20109] Endpoints with special characters (especially &apos;#&apos; like in spring-redis when specifying a redisTemplate)) can&apos;t be removed anymore with context.removeEndpoint</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-20109</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The &lt;a href=&quot;https://github.com/apache/camel/pull/11723/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;changes&lt;/a&gt; from &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-19987&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;issue 19987&lt;/a&gt; to optimize endpoint matching also updated the logic how the AbstractCamelContext removes a single endpoint (&quot;removeEndpoint&quot; method) which now breaks the removal of endpoints containing &quot;#&quot; symbols (maybe even more special chars) like used in the &quot;spring-redis component&quot; when specifying a redistemplate bean in the uri.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I do not have a fix (except that the old code calling &quot;removeEndpoints&quot; worked), but i attached 2 unit test cases for &quot;camel-spring-redis&quot; which show the problem.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;With 4.0.1 they are green, with 4.0.2 they fail because the endpoint containing the &quot;#&quot; (which is normalized and url escaped to &quot;%23&quot;) does not get removed.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Please revert the changes made for 4.0.2 or fix it in some other way. As shown it also happens when trying to remove such a route, that not all endpoints get cleared up causing a potential memory leak if you create and remove routes dynamically during runtime or also has maybe other side effects&lt;/p&gt;</description>
                <environment></environment>
        <key id="13557741">CAMEL-20109</key>
            <summary>Endpoints with special characters (especially &apos;#&apos; like in spring-redis when specifying a redisTemplate)) can&apos;t be removed anymore with context.removeEndpoint</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="nukulami">Peter Nowak</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Nov 2023 15:43:34 +0000</created>
                <updated>Tue, 14 Nov 2023 07:44:21 +0000</updated>
                            <resolved>Tue, 14 Nov 2023 07:44:21 +0000</resolved>
                                    <version>4.0.2</version>
                                    <fixVersion>4.0.3</fixVersion>
                    <fixVersion>4.3.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17785655" author="davsclaus" created="Mon, 13 Nov 2023 20:02:50 +0000"  >&lt;p&gt;Thanks for the unit test, I wonder if you can send the tests as a github PR against main branch&lt;/p&gt;</comment>
                            <comment id="17785762" author="davsclaus" created="Tue, 14 Nov 2023 06:38:21 +0000"  >&lt;p&gt;Thanks I have applied your patch, so no need for GH&lt;/p&gt;</comment>
                            <comment id="17785768" author="nukulami" created="Tue, 14 Nov 2023 07:07:05 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13064373" name="patch.diff" size="3676" author="nukulami" created="Mon, 13 Nov 2023 15:41:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lkhc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Regression</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10091"><![CDATA[Regression]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>