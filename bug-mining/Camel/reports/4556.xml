<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:30:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-12602] Camel Wordpress don&apos;t set basic authentication even if user and password are provided</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-12602</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When setting user/password for Basic Authentication, the component misses adding the HTTP headers to perform the actual authentication.&lt;/p&gt;

&lt;p&gt;Users should see the following message in logs, even though the user/pass properties are set:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;2018-06-27 17:20:16 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; WARN o.a.c.c.w.p.WordpressPostProducer - Wordpress Producer hasn&apos;t authentication. This may lead to errors during route execution. Wordpress writing operations need authentication.&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13168716">CAMEL-12602</key>
            <summary>Camel Wordpress don&apos;t set basic authentication even if user and password are provided</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="acosentino">Andrea Cosentino</assignee>
                                    <reporter username="ricardozanini">Ricardo Zanini</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jun 2018 20:22:38 +0000</created>
                <updated>Fri, 29 Jun 2018 13:32:37 +0000</updated>
                            <resolved>Thu, 28 Jun 2018 06:06:29 +0000</resolved>
                                    <version>2.21.0</version>
                                    <fixVersion>2.21.2</fixVersion>
                    <fixVersion>2.22.0</fixVersion>
                                    <component>camel-wordpress</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="16525741" author="githubbot" created="Wed, 27 Jun 2018 23:53:11 +0000"  >&lt;p&gt;ricardozanini opened a new pull request #2397: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12602&quot; title=&quot;Camel Wordpress don&amp;#39;t set basic authentication even if user and password are provided&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12602&quot;&gt;&lt;del&gt;CAMEL-12602&lt;/del&gt;&lt;/a&gt;: Fixing issue with basic authentication&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2397&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2397&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16525742" author="githubbot" created="Wed, 27 Jun 2018 23:53:12 +0000"  >&lt;p&gt;GitHub user ricardozanini opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2397&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2397&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12602&quot; title=&quot;Camel Wordpress don&amp;#39;t set basic authentication even if user and password are provided&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12602&quot;&gt;&lt;del&gt;CAMEL-12602&lt;/del&gt;&lt;/a&gt;: Fixing issue with basic authentication&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ricardozanini/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ricardozanini/camel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12602&quot; title=&quot;Camel Wordpress don&amp;#39;t set basic authentication even if user and password are provided&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12602&quot;&gt;&lt;del&gt;CAMEL-12602&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2397.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2397.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2397&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e58aefe150c335e60f785426834f62375b0ce3c8&lt;br/&gt;
Author: Ricardo Zanini &amp;lt;ricardozanini@...&amp;gt;&lt;br/&gt;
Date:   2018-06-27T23:50:04Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12602&quot; title=&quot;Camel Wordpress don&amp;#39;t set basic authentication even if user and password are provided&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12602&quot;&gt;&lt;del&gt;CAMEL-12602&lt;/del&gt;&lt;/a&gt;: Fixing issue with basic authentication&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16525960" author="githubbot" created="Thu, 28 Jun 2018 06:07:02 +0000"  >&lt;p&gt;oscerd commented on issue #2397: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12602&quot; title=&quot;Camel Wordpress don&amp;#39;t set basic authentication even if user and password are provided&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12602&quot;&gt;&lt;del&gt;CAMEL-12602&lt;/del&gt;&lt;/a&gt;: Fixing issue with basic authentication&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2397#issuecomment-400921166&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2397#issuecomment-400921166&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Thanks. The PR has been merged on master.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16525961" author="githubbot" created="Thu, 28 Jun 2018 06:07:02 +0000"  >&lt;p&gt;oscerd closed pull request #2397: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12602&quot; title=&quot;Camel Wordpress don&amp;#39;t set basic authentication even if user and password are provided&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12602&quot;&gt;&lt;del&gt;CAMEL-12602&lt;/del&gt;&lt;/a&gt;: Fixing issue with basic authentication&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2397&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2397&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/components/camel-wordpress/src/main/docs/wordpress-component.adoc b/components/camel-wordpress/src/main/docs/wordpress-component.adoc&lt;br/&gt;
index 54fb3183118..0c1e575a2b2 100644&lt;br/&gt;
&amp;#8212; a/components/camel-wordpress/src/main/docs/wordpress-component.adoc&lt;br/&gt;
+++ b/components/camel-wordpress/src/main/docs/wordpress-component.adoc&lt;br/&gt;
@@ -77,7 +77,7 @@ The `WordpressConfiguration` class can be used to set initial properties configu&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt; public void configure() {&lt;br/&gt;
     final WordpressConfiguration configuration = new WordpressConfiguration();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;final WordpressComponent component = new WordpressComponent();&lt;br/&gt;
+    final WordpressComponentConfiguration component = new WordpressComponentConfiguration();&lt;br/&gt;
     configuration.setApiVersion(&quot;2&quot;);&lt;br/&gt;
     configuration.setUrl(&quot;http://yoursite.com/wp-json/&quot;);&lt;br/&gt;
     component.setConfiguration(configuration);&lt;br/&gt;
diff --git a/components/camel-wordpress/src/main/java/org/apache/camel/component/wordpress/api/WordpressServiceProvider.java b/components/camel-wordpress/src/main/java/org/apache/camel/component/wordpress/api/WordpressServiceProvider.java&lt;br/&gt;
index 4954623cb34..98c827c9e17 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/components/camel-wordpress/src/main/java/org/apache/camel/component/wordpress/api/WordpressServiceProvider.java&lt;br/&gt;
+++ b/components/camel-wordpress/src/main/java/org/apache/camel/component/wordpress/api/WordpressServiceProvider.java&lt;br/&gt;
@@ -71,6 +71,7 @@ public void init(WordpressAPIConfiguration config) {&lt;br/&gt;
         this.services = new HashMap&amp;lt;&amp;gt;();&lt;br/&gt;
         this.services.put(WordpressServicePosts.class, servicePosts);&lt;br/&gt;
         this.services.put(WordpressServiceUsers.class, serviceUsers);&lt;br/&gt;
+        this.configuration = config;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         LOGGER.info(&quot;Wordpress Service Provider initialized using base URL: {}, API Version {}&quot;, config.getApiUrl(), config.getApiVersion());&lt;br/&gt;
     }&lt;br/&gt;
diff --git a/components/camel-wordpress/src/main/java/org/apache/camel/component/wordpress/api/auth/WordpressBasicAuthentication.java b/components/camel-wordpress/src/main/java/org/apache/camel/component/wordpress/api/auth/WordpressBasicAuthentication.java&lt;br/&gt;
index 6f63c48be59..78b92aa8090 100644&lt;br/&gt;
&amp;#8212; a/components/camel-wordpress/src/main/java/org/apache/camel/component/wordpress/api/auth/WordpressBasicAuthentication.java&lt;br/&gt;
+++ b/components/camel-wordpress/src/main/java/org/apache/camel/component/wordpress/api/auth/WordpressBasicAuthentication.java&lt;br/&gt;
@@ -19,6 +19,8 @@&lt;br/&gt;
 import org.apache.cxf.common.util.Base64Utility;&lt;br/&gt;
 import org.apache.cxf.jaxrs.client.ClientConfiguration;&lt;br/&gt;
 import org.apache.cxf.jaxrs.client.WebClient;&lt;br/&gt;
+import org.slf4j.Logger;&lt;br/&gt;
+import org.slf4j.LoggerFactory;&lt;/p&gt;

&lt;p&gt; /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Basic Authentication implementation for Wordpress authentication mechanism. Should be used only on tested environments due to lack of security. Be aware that credentials will be passed over each&lt;br/&gt;
@@ -30,6 +32,8 @@&lt;br/&gt;
  */&lt;br/&gt;
 public class WordpressBasicAuthentication extends BaseWordpressAuthentication {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+    private static final Logger LOGGER = LoggerFactory.getLogger(BaseWordpressAuthentication.class);&lt;br/&gt;
+&lt;br/&gt;
     public WordpressBasicAuthentication() {&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;@@ -45,8 +49,11 @@ public WordpressBasicAuthentication(String username, String password) {&lt;br/&gt;
     @Override&lt;br/&gt;
     public void configureAuthentication(Object api) {&lt;br/&gt;
         if (isCredentialsSet()) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;final String authorizationHeader = String.format(&quot;Basic &quot;, Base64Utility.encode(String.format(&quot;%s:%s&quot;, this.username, this.password).getBytes()));&lt;br/&gt;
+            final String authorizationHeader = String.format(&quot;Basic %s&quot;, Base64Utility.encode(String.format(&quot;%s:%s&quot;, this.username, this.password).getBytes()));&lt;br/&gt;
+            LOGGER.info(&quot;Credentials set for user {}&quot;, username);&lt;br/&gt;
             WebClient.client(api).header(&quot;Authorization&quot;, authorizationHeader);&lt;br/&gt;
+        } else 
{
+            LOGGER.warn(&quot;Credentials not set because username or password are empty.&quot;);
         }
&lt;p&gt;     }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;diff --git a/components/camel-wordpress/src/main/java/org/apache/camel/component/wordpress/api/service/impl/AbstractWordpressServiceAdapter.java b/components/camel-wordpress/src/main/java/org/apache/camel/component/wordpress/api/service/impl/AbstractWordpressServiceAdapter.java&lt;br/&gt;
index 59037e807b5..5ba844f6b2c 100644&lt;br/&gt;
&amp;#8212; a/components/camel-wordpress/src/main/java/org/apache/camel/component/wordpress/api/service/impl/AbstractWordpressServiceAdapter.java&lt;br/&gt;
+++ b/components/camel-wordpress/src/main/java/org/apache/camel/component/wordpress/api/service/impl/AbstractWordpressServiceAdapter.java&lt;br/&gt;
@@ -57,10 +57,6 @@&lt;br/&gt;
         WebClient.getConfig(spi).getInInterceptors().add(new LoggingInInterceptor());&lt;br/&gt;
         WebClient.getConfig(spi).getOutInterceptors().add(new LoggingOutInterceptor());&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (this.authentication != null) 
{
-            this.authentication.configureAuthentication(spi);
-        }
&lt;p&gt;-&lt;br/&gt;
         LOGGER.info(&quot;******* {} API initialized *********&quot;, spi.getClass().getSimpleName());&lt;br/&gt;
     }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;@@ -77,5 +73,8 @@ protected final String getApiVersion() {&lt;br/&gt;
     @Override&lt;br/&gt;
     public final void setWordpressAuthentication(WordpressAuthentication authentication) {&lt;br/&gt;
         this.authentication = authentication;&lt;br/&gt;
+        if (this.authentication != null) &lt;/p&gt;
{
+            this.authentication.configureAuthentication(spi);
+        }
&lt;p&gt;     }&lt;br/&gt;
 }&lt;br/&gt;
diff --git a/components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/service/impl/WordpressServicePostsAdapterTest.java b/components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/service/impl/WordpressServicePostsAdapterTest.java&lt;br/&gt;
index 9adfd6a06ff..ca49e6eb18b 100644&lt;br/&gt;
&amp;#8212; a/components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/service/impl/WordpressServicePostsAdapterTest.java&lt;br/&gt;
+++ b/components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/service/impl/WordpressServicePostsAdapterTest.java&lt;br/&gt;
@@ -17,12 +17,14 @@&lt;br/&gt;
 package org.apache.camel.component.wordpress.api.service.impl;&lt;/p&gt;

&lt;p&gt; import java.util.List;&lt;br/&gt;
+import org.apache.camel.component.wordpress.api.auth.WordpressBasicAuthentication;&lt;br/&gt;
 import org.apache.camel.component.wordpress.api.model.Content;&lt;br/&gt;
 import org.apache.camel.component.wordpress.api.model.Format;&lt;br/&gt;
 import org.apache.camel.component.wordpress.api.model.Post;&lt;br/&gt;
 import org.apache.camel.component.wordpress.api.model.PostSearchCriteria;&lt;br/&gt;
 import org.apache.camel.component.wordpress.api.service.WordpressServicePosts;&lt;br/&gt;
 import org.apache.camel.component.wordpress.api.test.WordpressMockServerTestSupport;&lt;br/&gt;
+import org.apache.camel.component.wordpress.api.test.WordpressServerHttpRequestHandler;&lt;br/&gt;
 import org.junit.BeforeClass;&lt;br/&gt;
 import org.junit.Test;&lt;br/&gt;
 import static org.hamcrest.CoreMatchers.is;&lt;br/&gt;
@@ -39,6 +41,7 @@&lt;br/&gt;
     @BeforeClass&lt;br/&gt;
     public static void before() &lt;/p&gt;
{
         servicePosts = serviceProvider.getService(WordpressServicePosts.class);
+        servicePosts.setWordpressAuthentication(new WordpressBasicAuthentication(WordpressServerHttpRequestHandler.USERNAME, WordpressServerHttpRequestHandler.PASSWORD));
     }

&lt;p&gt;     @Test&lt;br/&gt;
diff --git a/components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/service/impl/ignored/WordpressServiceUsersAdapterTest.java b/components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/service/impl/WordpressServiceUsersAdapterTest.java&lt;br/&gt;
similarity index 87%&lt;br/&gt;
rename from components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/service/impl/ignored/WordpressServiceUsersAdapterTest.java&lt;br/&gt;
rename to components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/service/impl/WordpressServiceUsersAdapterTest.java&lt;br/&gt;
index c4ba5a5610b..c9c69c19597 100644&lt;br/&gt;
&amp;#8212; a/components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/service/impl/ignored/WordpressServiceUsersAdapterTest.java&lt;br/&gt;
+++ b/components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/service/impl/WordpressServiceUsersAdapterTest.java&lt;br/&gt;
@@ -14,13 +14,15 @@&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;See the License for the specific language governing permissions and&lt;/li&gt;
	&lt;li&gt;limitations under the License.&lt;br/&gt;
  */&lt;br/&gt;
-package org.apache.camel.component.wordpress.api.service.impl.ignored;&lt;br/&gt;
+package org.apache.camel.component.wordpress.api.service.impl;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; import java.util.List;&lt;br/&gt;
+import org.apache.camel.component.wordpress.api.auth.WordpressBasicAuthentication;&lt;br/&gt;
 import org.apache.camel.component.wordpress.api.model.User;&lt;br/&gt;
 import org.apache.camel.component.wordpress.api.model.UserSearchCriteria;&lt;br/&gt;
 import org.apache.camel.component.wordpress.api.service.WordpressServiceUsers;&lt;br/&gt;
 import org.apache.camel.component.wordpress.api.test.WordpressMockServerTestSupport;&lt;br/&gt;
+import org.apache.camel.component.wordpress.api.test.WordpressServerHttpRequestHandler;&lt;br/&gt;
 import org.junit.BeforeClass;&lt;br/&gt;
 import org.junit.Test;&lt;br/&gt;
 import static org.hamcrest.CoreMatchers.is;&lt;br/&gt;
@@ -37,6 +39,7 @@&lt;br/&gt;
     @BeforeClass&lt;br/&gt;
     public static void before() &lt;/p&gt;
{
         serviceUsers = serviceProvider.getService(WordpressServiceUsers.class);
+        serviceUsers.setWordpressAuthentication(new WordpressBasicAuthentication(WordpressServerHttpRequestHandler.USERNAME, WordpressServerHttpRequestHandler.PASSWORD));
     }

&lt;p&gt;     @Test&lt;br/&gt;
diff --git a/components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/test/WordpressServerHttpRequestHandler.java b/components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/test/WordpressServerHttpRequestHandler.java&lt;br/&gt;
index 4d5482b2c83..d68c693ac62 100644&lt;br/&gt;
&amp;#8212; a/components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/test/WordpressServerHttpRequestHandler.java&lt;br/&gt;
+++ b/components/camel-wordpress/src/test/java/org/apache/camel/component/wordpress/api/test/WordpressServerHttpRequestHandler.java&lt;br/&gt;
@@ -17,9 +17,12 @@&lt;br/&gt;
 package org.apache.camel.component.wordpress.api.test;&lt;/p&gt;

&lt;p&gt; import java.io.IOException;&lt;br/&gt;
+import java.nio.charset.Charset;&lt;br/&gt;
+import java.util.Base64;&lt;br/&gt;
 import java.util.Collections;&lt;br/&gt;
 import java.util.Map;&lt;br/&gt;
 import org.apache.cxf.helpers.IOUtils;&lt;br/&gt;
+import org.apache.http.Header;&lt;br/&gt;
 import org.apache.http.HttpException;&lt;br/&gt;
 import org.apache.http.HttpRequest;&lt;br/&gt;
 import org.apache.http.HttpResponse;&lt;br/&gt;
@@ -33,6 +36,9 @@&lt;br/&gt;
 import org.slf4j.LoggerFactory;&lt;/p&gt;

&lt;p&gt; public class WordpressServerHttpRequestHandler implements HttpRequestHandler {&lt;br/&gt;
+    &lt;br/&gt;
+    public static final String USERNAME = &quot;ben&quot;;&lt;br/&gt;
+    public static final String PASSWORD = &quot;password123&quot;;&lt;/p&gt;

&lt;p&gt;     private static final Logger LOGGER = LoggerFactory.getLogger(WordpressServerHttpRequestHandler.class);&lt;/p&gt;

&lt;p&gt;@@ -50,6 +56,12 @@ public WordpressServerHttpRequestHandler(Map&amp;lt;String, String&amp;gt; mockResourceJsonRes&lt;br/&gt;
     public void handle(HttpRequest request, HttpResponse response, HttpContext context) throws HttpException, IOException {&lt;br/&gt;
         LOGGER.debug(&quot;received request {}&quot;, request);&lt;br/&gt;
         final HttpRequestWrapper requestWrapper = HttpRequestWrapper.wrap(request);&lt;br/&gt;
+        // make sure that our writing operations have authentication header&lt;br/&gt;
+        if (!authenticate(requestWrapper)) &lt;/p&gt;
{
+            response.setStatusCode(HttpStatus.SC_FORBIDDEN);
+            response.setEntity(new StringEntity(&quot;Forbidden&quot;, ContentType.TEXT_PLAIN));
+            return;
+        }
&lt;p&gt;         final String responseBody = IOUtils.toString(this.getClass().getResourceAsStream(mockResourceJsonResponse.get(requestWrapper.getMethod())));&lt;br/&gt;
         if (responseBody == null) {&lt;br/&gt;
             LOGGER.warn(&quot;Resource not found on {}. Response body null.&quot;, mockResourceJsonResponse);&lt;br/&gt;
@@ -58,4 +70,19 @@ public void handle(HttpRequest request, HttpResponse response, HttpContext conte&lt;br/&gt;
         response.setEntity(new StringEntity(responseBody, ContentType.APPLICATION_JSON));&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;+    private boolean authenticate(HttpRequestWrapper request) {&lt;br/&gt;
+        // read operations don&apos;t need to authenticate&lt;br/&gt;
+        if (request.getMethod().contentEquals(&quot;GET&quot;)) &lt;/p&gt;
{
+            return true;
+        }
&lt;p&gt;+        for (Header authorizationHeader : request.getHeaders(&quot;Authorization&quot;)) &lt;/p&gt;
{
+            // Authorization: Basic base64credentials
+            String base64Credentials = authorizationHeader.getValue().substring(&quot;Basic&quot;.length()).trim();
+            String credentials = new String(Base64.getDecoder().decode(base64Credentials), Charset.forName(&quot;UTF-8&quot;));
+            // credentials = username:password
+            final String[] values = credentials.split(&quot;:&quot;, 2);
+            return USERNAME.equals(values[0]) &amp;amp;&amp;amp; PASSWORD.equals(values[1]);
+        }
&lt;p&gt;+        return false;&lt;br/&gt;
+    }&lt;br/&gt;
 }&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16525962" author="githubbot" created="Thu, 28 Jun 2018 06:07:03 +0000"  >&lt;p&gt;Github user oscerd closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2397&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2397&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16527634" author="githubbot" created="Fri, 29 Jun 2018 13:26:14 +0000"  >&lt;p&gt;ricardozanini commented on issue #2397: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12602&quot; title=&quot;Camel Wordpress don&amp;#39;t set basic authentication even if user and password are provided&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12602&quot;&gt;&lt;del&gt;CAMEL-12602&lt;/del&gt;&lt;/a&gt;: Fixing issue with basic authentication&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2397#issuecomment-401353495&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2397#issuecomment-401353495&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Hi @oscerd! Is it possible to merge this one if 2.21.x branch as well? :fearful: &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16527635" author="githubbot" created="Fri, 29 Jun 2018 13:27:47 +0000"  >&lt;p&gt;oscerd commented on issue #2397: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12602&quot; title=&quot;Camel Wordpress don&amp;#39;t set basic authentication even if user and password are provided&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12602&quot;&gt;&lt;del&gt;CAMEL-12602&lt;/del&gt;&lt;/a&gt;: Fixing issue with basic authentication&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2397#issuecomment-401353914&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2397#issuecomment-401353914&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Yeah, seems I forgot about backporting, thanks for spotting.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16527638" author="githubbot" created="Fri, 29 Jun 2018 13:32:37 +0000"  >&lt;p&gt;oscerd commented on issue #2397: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12602&quot; title=&quot;Camel Wordpress don&amp;#39;t set basic authentication even if user and password are provided&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12602&quot;&gt;&lt;del&gt;CAMEL-12602&lt;/del&gt;&lt;/a&gt;: Fixing issue with basic authentication&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2397#issuecomment-401355290&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2397#issuecomment-401355290&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Backported, sorry&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 20 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3vb6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>