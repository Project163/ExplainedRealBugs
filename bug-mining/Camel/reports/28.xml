<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:24:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-170] FW: Receipient *List* seems not to work in Camel 1.2.0</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-170</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>

&lt;p&gt;----&lt;del&gt;Original Message&lt;/del&gt;----&lt;br/&gt;
From: Jos Dirksen &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:jos.dirksen@gmail.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;jos.dirksen@gmail.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;br/&gt;
Sent: Tuesday, October 09, 2007 2:06 PM&lt;br/&gt;
To: camel-user@activemq.apache.org&lt;br/&gt;
Subject: Re: Receipient &lt;b&gt;List&lt;/b&gt; seems not to work in Camel 1.2.0&lt;/p&gt;


&lt;p&gt;I&apos;m experiencing the same problem. With the 1.2.0 release and also with the&lt;br/&gt;
latest from SVN. One way or the other the last route is always used.&lt;/p&gt;

&lt;p&gt;    private final static String ENDPOINT_1 =&lt;br/&gt;
&quot;jbi:endpoint:&lt;a href=&quot;http://servicemix.apache.org/samples/filemover/fileSender/fileSenderEndpoint&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://servicemix.apache.org/samples/filemover/fileSender/fileSenderEndpoint&lt;/a&gt;&quot;;&lt;br/&gt;
    private final static String ENDPOINT_2 =&lt;br/&gt;
&quot;jbi:endpoint:&lt;a href=&quot;http://servicemix.apache.org/samples/filemover/anotherFileSender/anotherFileSenderEndpoint&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://servicemix.apache.org/samples/filemover/anotherFileSender/anotherFileSenderEndpoint&lt;/a&gt;&quot;;&lt;/p&gt;

&lt;p&gt;    public void configure() throws Exception &lt;/p&gt;
{
       
from(&quot;jbi:service:http://servicemix.apache.org/samples/filemover/camelReceiver&quot;).to(ENDPOINT_1,ENDPOINT_2);
    }

&lt;p&gt;Very simple route, however instead of sending it once to endpoint_1 it get&apos;s&lt;br/&gt;
sent twice to endpoint_2.&lt;/p&gt;

&lt;p&gt;I&apos;ve been debugging a bit and to problem seem to occur in the &quot;&lt;br/&gt;
wrapProcessorInInterceptors(RouteContext routeContext, Processor target)&quot;&lt;br/&gt;
method of the ProcessorType class. &lt;/p&gt;

&lt;p&gt;To be more specific, I can see my old routes being overwritten in this part&lt;br/&gt;
of the method:&lt;/p&gt;

&lt;p&gt;        for (InterceptorType interceptorRef : interceptors) {&lt;br/&gt;
            DelegateProcessor p =&lt;br/&gt;
interceptorRef.createInterceptor(routeContext);&lt;br/&gt;
            if (first == null) &lt;/p&gt;
{
                first = p;
            }
&lt;p&gt;            if (last != null) &lt;/p&gt;
{
                last.setProcessor(p);
            }
&lt;p&gt;            last = p;&lt;br/&gt;
        }&lt;/p&gt;

&lt;p&gt;        if (last != null) &lt;/p&gt;
{
            last.setProcessor(target);
        }


&lt;p&gt;Andreas G Guther wrote:&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Either I am getting something wrong or the current 1.2.0 version has&lt;br/&gt;
&amp;gt; some problems.&lt;br/&gt;
&amp;gt; &lt;/p&gt;

&lt;p&gt;&amp;#8211; &lt;br/&gt;
View this message in context: &lt;a href=&quot;http://www.nabble.com/Receipient-*List*-seems-not-to-work-in-Camel-1.2.0-tf4596679s22882.html#a13124770&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Receipient-*List*-seems-not-to-work-in-Camel-1.2.0-tf4596679s22882.html#a13124770&lt;/a&gt;&lt;br/&gt;
Sent from the Camel - Users mailing list archive at Nabble.com.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12485103">CAMEL-170</key>
            <summary>FW: Receipient *List* seems not to work in Camel 1.2.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aguther">Andreas Guther</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Oct 2007 21:46:21 +0000</created>
                <updated>Thu, 23 Oct 2008 20:03:02 +0000</updated>
                            <resolved>Wed, 14 Nov 2007 13:15:48 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12946197" author="jstrachan" created="Thu, 11 Oct 2007 19:07:13 +0000"  >&lt;p&gt;FWIW I&apos;ve just added this test case from that thread...&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyRouteBuilder &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; RouteBuilder { 

   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; Q1 = &lt;span class=&quot;code-quote&quot;&gt;&quot;jms:test.MyQueue.ONE-1&quot;&lt;/span&gt;; 
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; Q2 = &lt;span class=&quot;code-quote&quot;&gt;&quot;jms:test.&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt;.2&quot;&lt;/span&gt;; 
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; Q3 = &lt;span class=&quot;code-quote&quot;&gt;&quot;jms:test.&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt;.3&quot;&lt;/span&gt;; 
    /** 
     * Allow &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; route to be run as an application 
     * 
     * @param args 
     */ 
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) { 
        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Main().run(args); 
    } 

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() { 
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;**** Configuring ****&quot;&lt;/span&gt;); 
        &lt;span class=&quot;code-comment&quot;&gt;// lets populate the message queue with some messages 
&lt;/span&gt;        from(&lt;span class=&quot;code-quote&quot;&gt;&quot;file:src/data?noop=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;).to(Q1); 

        &lt;span class=&quot;code-comment&quot;&gt;//from(Q1).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;file://target/test?noop=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;);  // works fine 
&lt;/span&gt;and writes into file system 
                &lt;span class=&quot;code-comment&quot;&gt;//from(Q1).to(Q2); // works also fine, writes into Q2 
&lt;/span&gt;
                &lt;span class=&quot;code-comment&quot;&gt;//from(Q1).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;file://target/test?noop=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;, Q2); // 
&lt;/span&gt;writes to Q2 but not to file 
                &lt;span class=&quot;code-comment&quot;&gt;//from(Q1).to(Q2, &lt;span class=&quot;code-quote&quot;&gt;&quot;file://target/test?noop=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;); // 
&lt;/span&gt;writes to file but not to Q2 
                from(Q1).to(Q2, Q3); &lt;span class=&quot;code-comment&quot;&gt;// write to Q3 but not to Q2 
&lt;/span&gt;
        &lt;span class=&quot;code-comment&quot;&gt;// set up a listener on the file component 
&lt;/span&gt;        from(&lt;span class=&quot;code-quote&quot;&gt;&quot;file:&lt;span class=&quot;code-comment&quot;&gt;//target/test?noop=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;). 
&lt;/span&gt;                bean(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SomeBean()); 
    } 

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SomeBean { 

        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void someMethod(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; body) { 
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Received: &quot;&lt;/span&gt; + body); 
        } 
    } 
} 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I refactored a little and added it as Issue170Test to camel-core - though its working fine with trunk!&lt;/p&gt;

&lt;p&gt;Will investigate trying to break it - such as by moving to the JMS transport&lt;/p&gt;</comment>
                            <comment id="12946176" author="jstrachan" created="Thu, 11 Oct 2007 19:19:18 +0000"  >&lt;p&gt;OK I&apos;ve added another test case which derives from Issue170Test which rather than using mock endpoints, uses JMS. So we send a message to a queue (Q1), then go from Q1 -&amp;gt; two JMS queues. Then separately we consume from those 2 JMS queues to send to the 2 mock endpoints for the tests. It all works for me.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/repos/asf/activemq/camel/trunk/components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsIssue170Test.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/activemq/camel/trunk/components/camel-jms/src/test/java/org/apache/camel/component/jms/issues/JmsIssue170Test.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and here&apos;s the base class which tests using just mock endpoints&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/repos/asf/activemq/camel/trunk/camel-core/src/test/java/org/apache/camel/issues/Issue170Test.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/activemq/camel/trunk/camel-core/src/test/java/org/apache/camel/issues/Issue170Test.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Any idea how to reproduce using just camel and file / JMS endpoints? Maybe this has now been resolved in trunk?&lt;/p&gt;</comment>
                            <comment id="12945749" author="jstrachan" created="Wed, 14 Nov 2007 13:15:48 +0000"  >&lt;p&gt;Until we figure out how to reproduce this issue, I&apos;m gonna mark it as cannot reproduce - let us know if you can find a way to reproduce and we can reopen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01akv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5483</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>