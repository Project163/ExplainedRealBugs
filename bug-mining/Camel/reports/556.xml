<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:31:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-1506] Recursively scan multipart nodes of an email for attachments - not just top level nodes</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-1506</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The current code will only scan the top level of a multipart message. This misses any attachments that are under another node.&lt;/p&gt;

&lt;p&gt;All unit tests still run for me after applying this patch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12485045">CAMEL-1506</key>
            <summary>Recursively scan multipart nodes of an email for attachments - not just top level nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                            <parent id="12490635">SMXCOMP-499</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="ryangardner">Ryan Gardner</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Mar 2009 21:18:17 +0000</created>
                <updated>Sat, 27 Nov 2010 06:42:58 +0000</updated>
                            <resolved>Thu, 2 Apr 2009 07:43:19 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0-M2</fixVersion>
                                    <component>camel-mail</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="900">0.25h</timeoriginalestimate>
                            <timeestimate seconds="900">0.25h</timeestimate>
                                        <comments>
                            <comment id="12949103" author="ryangardner" created="Tue, 31 Mar 2009 21:19:11 +0000"  >&lt;p&gt;fixes attachment scanning behavior.&lt;/p&gt;</comment>
                            <comment id="12951556" author="davsclaus" created="Wed, 1 Apr 2009 13:40:27 +0000"  >&lt;p&gt;Willem when you get this fixed in Camel you should ping Lars from the SMX team as the Mail component in SMX was the base we used for the Camel one as well.&lt;br/&gt;
So they have parts of code that is similar.&lt;/p&gt;

&lt;p&gt;So this bug could also exists in SMX.&lt;/p&gt;</comment>
                            <comment id="12951554" author="njiang" created="Wed, 1 Apr 2009 13:48:47 +0000"  >&lt;p&gt;Sure, I will.&lt;/p&gt;</comment>
                            <comment id="12951555" author="ryangardner" created="Wed, 1 Apr 2009 15:05:53 +0000"  >&lt;p&gt;A very easy way to test this bug out is to apply &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-1507&quot; title=&quot;Allow sending multipart/alternative MIME messages with both a plain-text and text/html body, and allow sending images inline&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-1507&quot;&gt;&lt;del&gt;CAMEL-1507&lt;/del&gt;&lt;/a&gt; (even if you immediately roll it back) where I have two unit tests that implement different ways of sending attachments with multipart/alternative messages. &lt;/p&gt;

&lt;p&gt;Without some change, it will only scan the top level of the message for attachments and will incorrectly report 0 attachments for both of those. &lt;/p&gt;

&lt;p&gt;I&apos;m not sure recursion is the right way to go - but since it seems unlikely that a mail message can be sent that will be more than a few levels deep it was the quickest way to get something in place that would work. &lt;/p&gt;</comment>
                            <comment id="12951553" author="davsclaus" created="Wed, 1 Apr 2009 15:07:10 +0000"  >&lt;p&gt;Willem&lt;/p&gt;

&lt;p&gt;This header&lt;br/&gt;
public static final String DEFAULT_ALTERNATE_BODY_HEADER = &quot;mail_alternateBody&quot;;&lt;/p&gt;

&lt;p&gt;Should be in MailConstants.java and it should follow the Camel 2.0 convention: eg like &lt;tt&gt;CamelMailAlternativeBody&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="12951585" author="njiang" created="Thu, 2 Apr 2009 07:43:19 +0000"  >&lt;p&gt;Applied the patch in trunk and  camel-1.x branch with thanks to Ryan&lt;br/&gt;
trunk&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=760909&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=760909&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
camel-1.x&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=760920&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=760920&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12953591" author="davsclaus" created="Sat, 21 Nov 2009 11:57:57 +0000"  >&lt;p&gt;Closing all 2.0M2 tickets&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12486326">CAMEL-1507</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12462907" name="MailContentAttachmentScanning.patch" size="1655" author="ryangardner" created="Tue, 31 Mar 2009 21:19:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01itz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6820</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>