<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:44:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-3779] HttpProducer drops authentification parameters.</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3779</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;I run into the following problem with Camel 2.6.0:&lt;/p&gt;

&lt;p&gt;An HTML file contain an URI lists of files to be downloaded from a web server to the local file system.&lt;br/&gt;
The HTML file is parsed via a Java Bean Splitter. The Java Bean Splitter produces a Set of URI strings.&lt;br/&gt;
These files should be downloaded from a web server to the local file system. The files are protected with BASIC authentification.&lt;/p&gt;

&lt;p&gt;The extraction and the splitting of the download URIs works quite well with the Java Bean Splitter.&lt;br/&gt;
The Java Bean Splitter produces URI like: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;http4:&lt;span class=&quot;code-comment&quot;&gt;//download.acme.com/file_1.txt?username=foo&amp;amp;password=baa&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here&apos;s the setup:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;route&amp;gt;
   &amp;lt;from uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;file:&lt;span class=&quot;code-comment&quot;&gt;///tmp/files_to_retrieve/&quot;&lt;/span&gt; /&amp;gt;
&lt;/span&gt;   &amp;lt;method bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;prepareDownLoadUri&quot;&lt;/span&gt; method=&lt;span class=&quot;code-quote&quot;&gt;&quot;parseIndexHtml&quot;&lt;/span&gt; /&amp;gt;
   &amp;lt;setHeader headerName=&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelHttpMethod&quot;&lt;/span&gt;&amp;gt;
     &amp;lt;constant&amp;gt;GET&amp;lt;/constant&amp;gt;
   &amp;lt;/setHeader&amp;gt; 
   &amp;lt;setHeader headerName=&lt;span class=&quot;code-quote&quot;&gt;&quot;CamelHttpUri&quot;&lt;/span&gt;&amp;gt;
     &amp;lt;simple&amp;gt;${body}&amp;lt;/simple&amp;gt;
   &amp;lt;/setHeader&amp;gt;
   &amp;lt;to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;http4:&lt;span class=&quot;code-comment&quot;&gt;//download.acme.com/&quot;&lt;/span&gt; /&amp;gt;
&lt;/span&gt;   &amp;lt;to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;bean:saveFileProcessor&quot;&lt;/span&gt; /&amp;gt;
&amp;lt;/route&amp;gt;
&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;prepareDownLoadUri&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.acme.PrepareDownLoadUri&quot;&lt;/span&gt; /&amp;gt;
&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;saveFileProcessor&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.acme.SaveFileProcessor&quot;&lt;/span&gt; /&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The injection of the URIs from the Splitter into the HttpProducer, works quite well. &lt;br/&gt;
I debugged into the HttpProducer and it seems, that the HttpProducer does not provide the unterlying http client (in this case Apache HttpClient 4) with  the authentification settings from the URI.&lt;/p&gt;

&lt;p&gt;At first, the queryString is extracted from the Exchange-Header (if provided)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;HttpProducer.createMethod(), line 273&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; url = HttpHelper.createURL(exchange, getEndpoint());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The url string contains the URI produces by the splitter including the authentification parameters: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;http4:&lt;span class=&quot;code-comment&quot;&gt;//download.acme.com/file_1.txt?username=foo&amp;amp;password=baa&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then the HttpProducer assembles a new URI for the requests. The new URI is assembled from parts of the string url (line 273)  &lt;br/&gt;
and other parameters from the Exchange Header: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;HttpProducer.createMethod(), lines 285-300&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-comment&quot;&gt;// is a query string provided in the endpoint URI or in a header (header overrules endpoint)
&lt;/span&gt;        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; queryString = exchange.getIn().getHeader(Exchange.HTTP_QUERY, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (queryString == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            queryString = getEndpoint().getHttpUri().getRawQuery();
        }

        StringBuilder builder = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringBuilder(uri.getScheme()).append(&lt;span class=&quot;code-quote&quot;&gt;&quot;:&lt;span class=&quot;code-comment&quot;&gt;//&quot;&lt;/span&gt;).append(uri.getHost());
&lt;/span&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (uri.getPort() != -1) {
            builder.append(&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;).append(uri.getPort());
        }

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (uri.getPath() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            builder.append(uri.getRawPath());
        }

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (queryString != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            builder.append(&lt;span class=&quot;code-quote&quot;&gt;&apos;?&apos;&lt;/span&gt;);
            builder.append(queryString);
        }

        HttpRequestBase httpRequest = methodToUse.createMethod(builder.toString());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem is, in the assembling of the new URI, the authentification parameters are dropped.  &lt;/p&gt;

&lt;p&gt;One possible solution could be: &lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;check for authentification parameters in the url (line 273) and extract them.&lt;/li&gt;
	&lt;li&gt;build the credentials, AuthScheme and provide it to the underlying http client.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;thanks in advance,&lt;br/&gt;
ben&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12501095">CAMEL-3779</key>
            <summary>HttpProducer drops authentification parameters.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="ben@micromata.de">ben</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Mar 2011 01:36:19 +0000</created>
                <updated>Thu, 9 Jun 2011 08:48:56 +0000</updated>
                            <resolved>Thu, 9 Jun 2011 08:48:56 +0000</resolved>
                                    <version>2.6.0</version>
                                    <fixVersion>2.8.0</fixVersion>
                                    <component>camel-http</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13005487" author="davsclaus" created="Fri, 11 Mar 2011 04:57:40 +0000"  >&lt;p&gt;Is username and password parameters you must send to the remote server?&lt;br/&gt;
Or part of authentication using eg BASIC on the http client?&lt;/p&gt;

&lt;p&gt;Can you try with camel-http instead of camel-http4 component?&lt;br/&gt;
And try with latest code from trunk, eg Camel 2.7.&lt;/p&gt;

&lt;p&gt;And please use the mailing list first to get help, and then only later open a JIRA ticket, as stated here:&lt;br/&gt;
&lt;a href=&quot;http://camel.apache.org/support&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/support&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13005597" author="ben@micromata.de" created="Fri, 11 Mar 2011 11:07:13 +0000"  >&lt;p&gt;Hi Claus, &lt;/p&gt;

&lt;p&gt;thanks for the fast reply. &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Is username and password parameters you must send to the remote server?&lt;br/&gt;
Or part of authentication using eg BASIC on the http client?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The username and password parameters are needed for BASIC authentication via the http client. &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Can you try with camel-http instead of camel-http4 component?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, with the same result: no authentification scheme is provided with the request. &lt;/p&gt;

&lt;p&gt;Is there any way to provide this information into the http client? &lt;br/&gt;
What do you think about provide auth. information via addional header information from the Exchange?&lt;br/&gt;
The HttpProducer extract the information and set the auth. scheme in the http client.&lt;br/&gt;
In the style of the HttpConfiguration of camel-http, we could introduce the following header parameters:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Name&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Exchange.HTTP_AUTHTIFICATION_SCHEMA&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Basic, Digest, Ntml&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Exchange.HTTP_USENAME &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; the username for the HTTP request &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Exchange.HTTP_PASSWORD&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; the password for the HTTP request&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Exchange.HTTP_Domain&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; for NTML authentication &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Exchange.HTTP_AUTH_HOST&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional host for NTML authentication &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Exchange.HTTP_PROXY_HOST &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; the proxy to use &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Exchange.HTTP_PROXY_AUTH_METHOD &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; the auth. scheme for the proxy &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Exchange.HTTP_PROXY_USERNAME &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; the username for the proxy &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Exchange.HTTP_PROXY_PASSWORD &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;the password for the proxy &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;If you like, I can implement such a solution. &lt;/p&gt;

&lt;p&gt;thanks,&lt;br/&gt;
ben &lt;/p&gt;</comment>
                            <comment id="13005603" author="davsclaus" created="Fri, 11 Mar 2011 11:16:34 +0000"  >&lt;p&gt;The camel-http4 component is not as good as the camel-http. Especially the http client 4.0.x was not so good. We recommend to use camel-http until Http Client 4.1.x shapes up. Which it seems to be doing.&lt;/p&gt;

&lt;p&gt;The auth parameters for camel-http is slighly different as you would see&lt;br/&gt;
&lt;a href=&quot;http://camel.apache.org/http&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/http&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;eg you should use authUsername, authPassword and authMethod.&lt;/p&gt;

&lt;p&gt;In fact camel-http4 should use the &lt;b&gt;same&lt;/b&gt; options as camel-http so its easy to migrate. I can see from the codebase that camel-http4 hasn&apos;t done that for some parameters so I will create a JIRA.&lt;/p&gt;

&lt;p&gt;See the unit test HttpBasicAuthTest in camel-jetty source code for examples.&lt;/p&gt;
</comment>
                            <comment id="13005614" author="ben@micromata.de" created="Fri, 11 Mar 2011 12:25:11 +0000"  >&lt;p&gt;Hi Claus, &lt;/p&gt;

&lt;p&gt;thanks for your prompt answer. &lt;br/&gt;
In the meantime, I found the following work around: I wrote a small ProcessorBean&lt;br/&gt;
that simply creates the HTTP Authorization Header  and stores HTTP Authorization Header&lt;br/&gt;
in the message header: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; userPassword = &lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] encodeBase64 = Base64.encodeBase64(userPassword.getBytes());
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; encoding = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;(encodeBase64);
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; authParameter = &lt;span class=&quot;code-quote&quot;&gt;&quot;Basic &quot;&lt;/span&gt; + encoding;
msg.setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;Authorization&quot;&lt;/span&gt;, authParameter);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This solution works with camel-http and camel-http4, because both implementations of the HttpProducer,&lt;br/&gt;
the Header information of the message is passed through request, see HttpProducer.java from camel-http4 in the lines 87-93:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-comment&quot;&gt;// propagate headers as HTTP headers
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Map.Entry&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; entry : in.getHeaders().entrySet()) {
            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; headerValue = in.getHeader(entry.getKey(), &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (strategy != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; !strategy.applyFilterToCamelHeaders(entry.getKey(), headerValue, exchange)) {
                method.addRequestHeader(entry.getKey(), headerValue);
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The route is now:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;route&amp;gt;
   &amp;lt;from uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;file:&lt;span class=&quot;code-comment&quot;&gt;///tmp/files_to_retrieve/&quot;&lt;/span&gt; /&amp;gt;
&lt;/span&gt;   &amp;lt;split&amp;gt;
     &amp;lt;method bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;prepareDownLoadUriSplitter&quot;&lt;/span&gt; method=&lt;span class=&quot;code-quote&quot;&gt;&quot;parseIndexHtml&quot;&lt;/span&gt; /&amp;gt;
     &amp;lt;!-- provide the HTTP auth. scheme --&amp;gt;
     &amp;lt;to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;authorizeWebRequestProcessor&quot;&lt;/span&gt; /&amp;gt;
     &amp;lt;to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//download.acme.com/&quot;&lt;/span&gt; /&amp;gt;
&lt;/span&gt;     &amp;lt;to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;bean:saveFileProcessor&quot;&lt;/span&gt; /&amp;gt;
   &amp;lt;/split&amp;gt;
&amp;lt;/route&amp;gt;
&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;prepareDownLoadUriSplitter&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.acme.PrepareDownLoadUriSplitter&quot;&lt;/span&gt; /&amp;gt;
&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;authorizeWebRequestProcessor&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.acme.AuthorizeWebRequestProcessor&quot;&lt;/span&gt; /&amp;gt;
&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;saveFileProcessor&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.acme.SaveFileProcessor&quot;&lt;/span&gt; /&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;best regards,&lt;br/&gt;
ben&lt;/p&gt;

</comment>
                            <comment id="13006019" author="davsclaus" created="Sat, 12 Mar 2011 10:09:59 +0000"  >&lt;p&gt;Ben you talk about a splitter? But the route you post don&apos;t have any splitter. How is that?&lt;/p&gt;</comment>
                            <comment id="13006020" author="davsclaus" created="Sat, 12 Mar 2011 10:10:28 +0000"  >&lt;p&gt;This problem would be in both camel-http and camel-http4&lt;/p&gt;</comment>
                            <comment id="13006070" author="ben@micromata.de" created="Sat, 12 Mar 2011 18:15:25 +0000"  >&lt;p&gt;Hi Claus, &lt;/p&gt;

&lt;p&gt;Sorry, I&apos;d corrected the above route.&lt;/p&gt;

&lt;p&gt;best regards,&lt;br/&gt;
ben&lt;/p&gt;</comment>
                            <comment id="13044640" author="rkettelerij" created="Sun, 5 Jun 2011 22:40:06 +0000"  >&lt;p&gt;@ben. I&apos;ve been debugging &lt;tt&gt;camel-http&lt;/tt&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; and found no issues with authentication credentials being dropped. I did however encountered a case where the credentials aren&apos;t sent to the server because the server doesn&apos;t explicitly asks for it. This may very well apply to your situation as well. I&apos;ve filled &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-4056&quot; title=&quot;Support for preemptive basic authentication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-4056&quot;&gt;&lt;del&gt;CAMEL-4056&lt;/del&gt;&lt;/a&gt; to improve on this.&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I haven&apos;t checked &lt;tt&gt;camel-http4&lt;/tt&gt;, but you reported that the issue also applied to &lt;tt&gt;camel-http&lt;/tt&gt; so I&apos;ve limited my search to &lt;tt&gt;camel-http&lt;/tt&gt; for now.&lt;/p&gt;</comment>
                            <comment id="13046394" author="njiang" created="Thu, 9 Jun 2011 08:29:27 +0000"  >&lt;p&gt;Hi Ben,&lt;/p&gt;

&lt;p&gt;Can you try the latest Camel 2.8-SNAPSHOT which has the patch of &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-3780&quot; title=&quot;camel-http4 should use same option names as camel-http&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-3780&quot;&gt;&lt;del&gt;CAMEL-3780&lt;/del&gt;&lt;/a&gt; ?&lt;br/&gt;
I think the option of username=foo&amp;amp;password=baa will not be dropped any more, because camel-http4 will not treat those options as its endpoint options.&lt;/p&gt;
</comment>
                            <comment id="13046402" author="njiang" created="Thu, 9 Jun 2011 08:48:46 +0000"  >&lt;p&gt;I just added a test for it in camel trunk.&lt;br/&gt;
It looks like the problem has be fixed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12509323">CAMEL-4056</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12501132">CAMEL-3780</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01wuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>