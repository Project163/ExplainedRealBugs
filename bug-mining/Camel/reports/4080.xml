<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:23:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-10985] camel-coap fails to return results when enableCORS(true) is set</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-10985</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;In the CoAPRestVerbTest, if you add to the restConfiguration() .enableCORS(true), then all of the unit tests that return a result fail as no response is returned&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/blob/master/components/camel-coap/src/test/java/org/apache/camel/coap/CoAPRestVerbTest.java#L106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/blob/master/components/camel-coap/src/test/java/org/apache/camel/coap/CoAPRestVerbTest.java#L106&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13050071">CAMEL-10985</key>
            <summary>camel-coap fails to return results when enableCORS(true) is set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scranton">Scott Cranton</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Mar 2017 15:32:13 +0000</created>
                <updated>Thu, 27 Apr 2017 12:57:47 +0000</updated>
                            <resolved>Thu, 27 Apr 2017 12:56:14 +0000</resolved>
                                    <version>2.19.0</version>
                                    <fixVersion>2.19.0</fixVersion>
                                    <component>camel-coap</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15978305" author="davsclaus" created="Fri, 21 Apr 2017 08:29:19 +0000"  >&lt;p&gt;Wonder if the recent fix in camel-coap may have improved this? We can test on master.&lt;/p&gt;</comment>
                            <comment id="15978306" author="davsclaus" created="Fri, 21 Apr 2017 08:29:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jamesnetherton&quot; class=&quot;user-hover&quot; rel=&quot;jamesnetherton&quot;&gt;jamesnetherton&lt;/a&gt; in case you want to have more fun with camel-coap then we have this ticket&lt;/p&gt;</comment>
                            <comment id="15978341" author="jamesnetherton" created="Fri, 21 Apr 2017 08:57:55 +0000"  >&lt;p&gt;Ok, I&apos;ll take a peek at it early next week.&lt;/p&gt;</comment>
                            <comment id="15981454" author="jamesnetherton" created="Mon, 24 Apr 2017 16:25:27 +0000"  >&lt;p&gt;I&apos;m no expert on CoAP, but, does CORS even make sense in this context? See method codes listed in this document (OPTIONS is not mentioned):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/markushx/coap-cheatsheet/blob/master/coap-cheatsheet.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/markushx/coap-cheatsheet/blob/master/coap-cheatsheet.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The reason things are not working, is because when CORS is enabled, camel is &lt;a href=&quot;https://github.com/apache/camel/blob/master/components/camel-coap/src/main/java/org/apache/camel/coap/CoAPComponent.java#L119-L121&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;automatically adding&lt;/a&gt; &lt;tt&gt;OPTIONS&lt;/tt&gt; to the list of allowed method verbs configured on the endpoint. This screws up the logic to retrieve the correct consumer to handle the request, since it&apos;s expecting to match against individual verb names like &lt;tt&gt;GET&lt;/tt&gt; or &lt;tt&gt;POST&lt;/tt&gt; etc. Not &lt;tt&gt;GET,OPTIONS&lt;/tt&gt; or &lt;tt&gt;POST,OPTIONS&lt;/tt&gt; etc.&lt;/p&gt;
</comment>
                            <comment id="15982551" author="davsclaus" created="Tue, 25 Apr 2017 08:20:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jamesnetherton&quot; class=&quot;user-hover&quot; rel=&quot;jamesnetherton&quot;&gt;jamesnetherton&lt;/a&gt; ah yeah CORS does not make sense for coap. I guess we would need to change some logic in camel-coap to avoid CORS.&lt;/p&gt;

&lt;p&gt;Contributions is welcome&lt;/p&gt;</comment>
                            <comment id="15986457" author="githubbot" created="Thu, 27 Apr 2017 12:11:06 +0000"  >&lt;p&gt;GitHub user jamesnetherton opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1665&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1665&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10985&quot; title=&quot;camel-coap fails to return results when enableCORS(true) is set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10985&quot;&gt;&lt;del&gt;CAMEL-10985&lt;/del&gt;&lt;/a&gt;: Ignore CORS configuraion in CoAP component&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10985&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-10985&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jamesnetherton/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jamesnetherton/camel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10985&quot; title=&quot;camel-coap fails to return results when enableCORS(true) is set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10985&quot;&gt;&lt;del&gt;CAMEL-10985&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1665.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1665.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1665&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ff417180291e2ece3e9d3dc4c918498805b6278c&lt;br/&gt;
Author: James Netherton &amp;lt;jamesnetherton@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-04-27T09:48:33Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10985&quot; title=&quot;camel-coap fails to return results when enableCORS(true) is set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10985&quot;&gt;&lt;del&gt;CAMEL-10985&lt;/del&gt;&lt;/a&gt;: Ignore CORS configuraion in CoAP component&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15986552" author="zregvart" created="Thu, 27 Apr 2017 12:52:06 +0000"  >&lt;p&gt;I concur with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jamesnetherton&quot; class=&quot;user-hover&quot; rel=&quot;jamesnetherton&quot;&gt;jamesnetherton&lt;/a&gt; the &lt;a href=&quot;https://tools.ietf.org/html/rfc7252#section-5.8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;RFC7252 section 5.8&lt;/a&gt; does not mention &lt;tt&gt;OPTIONS&lt;/tt&gt; method, this can safely be removed from CoAP.&lt;/p&gt;</comment>
                            <comment id="15986556" author="zregvart" created="Thu, 27 Apr 2017 12:56:14 +0000"  >&lt;p&gt;Merged from &lt;a href=&quot;https://github.com/apache/camel/pull/1665&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR#1665&lt;/a&gt; to &lt;tt&gt;master&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="15986561" author="githubbot" created="Thu, 27 Apr 2017 12:57:47 +0000"  >&lt;p&gt;Github user jamesnetherton closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1665&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1665&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13049851">CAMEL-10980</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3b8z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>