<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:12:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-9246] camel-cxf proxy with MTOM does not get attachment back when RPC/literal style WSDL used</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-9246</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I have a camel-cxf proxy test case with MTOM enabled. The WSDL used in the project is RPC/Literal style. However, I was unable to get attachment back via response. Please take a look at the test case for more detail.&lt;/p&gt;

&lt;p&gt;After some debugging, it looks like that camel-cxf producer did get attachment back. However, there were two attachment related parts. One part had no attachment (empty) but had correct &quot;Content-ID&quot;. The other part did contain entire attachment but had a rather different &quot;Content-ID&quot;. For instance:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;19:30:47,110 | INFO  | qtp565617691-367 | IMtomExample                     | 118 - org.apache.cxf.cxf-core - 3.0.4.redhat-620133 | Outbound Message
---------------------------
ID: 63
Response-Code: 200
Encoding: UTF-8
Content-Type: multipart/related; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;application/xop+xml&quot;&lt;/span&gt;; boundary=&lt;span class=&quot;code-quote&quot;&gt;&quot;uuid:f108bc3f-549a-4baa-ab00-757ff837aacf&quot;&lt;/span&gt;; start=&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;root.message@cxf.apache.org&amp;gt;&quot;&lt;/span&gt;; start-info=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/xml&quot;&lt;/span&gt;
Headers: {accept-encoding=[gzip,deflate], breadcrumbId=[ID-jluomac-52985-1445511717614-11-8], Host=[localhost:7777], Server=[Jetty(8.1.15.v20140411)], User-Agent=[Apache-HttpClient/4.1.1 (java 1.5)]}
Payload: --uuid:f108bc3f-549a-4baa-ab00-757ff837aacf
Content-Type: application/xop+xml; charset=UTF-8; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/xml&quot;&lt;/span&gt;
Content-Transfer-Encoding: binary
Content-ID: &amp;lt;root.message@cxf.apache.org&amp;gt;

&amp;lt;soap:Envelope xmlns:soap=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//schemas.xmlsoap.org/soap/envelope/&quot;&lt;/span&gt;&amp;gt;&amp;lt;soap:Body&amp;gt;&amp;lt;ns1:doMtomResponse xmlns:ns1=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://cxf.example.com/&quot;&lt;/span&gt;&amp;gt;&amp;lt;parameters xmlns:ns2=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://cxf.example.com/&quot;&lt;/span&gt;&amp;gt;&amp;lt;output&amp;gt;soapui-splash.png&amp;lt;/output&amp;gt;&amp;lt;dataLength&amp;gt;27186&amp;lt;/dataLength&amp;gt;&amp;lt;data&amp;gt;&amp;lt;xop:Include xmlns:xop=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.w3.org/2004/08/xop/include&quot;&lt;/span&gt; href=&lt;span class=&quot;code-quote&quot;&gt;&quot;cid:15839364-d75d-4cbe-a163-40838bca762a-31@cxf.apache.org&quot;&lt;/span&gt;/&amp;gt;&amp;lt;/data&amp;gt;&amp;lt;/parameters&amp;gt;&amp;lt;/ns1:doMtomResponse&amp;gt;&amp;lt;/soap:Body&amp;gt;&amp;lt;/soap:Envelope&amp;gt;
&lt;/span&gt;--uuid:f108bc3f-549a-4baa-ab00-757ff837aacf
Content-Type: image/png
Content-Transfer-Encoding: binary
Content-ID: &amp;lt;e4b4a36a-b07a-481d-8bf8-82df5b57f40b-1@cxf.apache.org&amp;gt;
Content-Disposition: attachment;name=&lt;span class=&quot;code-quote&quot;&gt;&quot;soapui-splash.png&quot;&lt;/span&gt;

&amp;lt;-- soapui-splash.png binary attachment starts here --&amp;gt;
...
...
&amp;lt;-- soapui-splash.png binary attachment ends here --&amp;gt;

--uuid:f108bc3f-549a-4baa-ab00-757ff837aacf
Content-Type: image/png
Content-Transfer-Encoding: binary
Content-ID: &amp;lt;15839364-d75d-4cbe-a163-40838bca762a-31@cxf.apache.org&amp;gt;
Content-Disposition: attachment;name=&lt;span class=&quot;code-quote&quot;&gt;&quot;soapui-splash.png&quot;&lt;/span&gt;

&amp;lt;-- no binary attachment here. empty --&amp;gt;

--uuid:f108bc3f-549a-4baa-ab00-757ff837aacf--
--------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the response message returned was:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;soap:Envelope xmlns:soap=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//schemas.xmlsoap.org/soap/envelope/&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;   &amp;lt;soap:Body&amp;gt;
      &amp;lt;ns1:doMtomResponse xmlns:ns1=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//cxf.example.com/&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;         &amp;lt;parameters xmlns:ns2=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//cxf.example.com/&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;            &amp;lt;output&amp;gt;soapui-splash.png&amp;lt;/output&amp;gt;
            &amp;lt;dataLength&amp;gt;27186&amp;lt;/dataLength&amp;gt;
            &amp;lt;data&amp;gt;
               &amp;lt;xop:Include href=&lt;span class=&quot;code-quote&quot;&gt;&quot;cid:15839364-d75d-4cbe-a163-40838bca762a-31@cxf.apache.org&quot;&lt;/span&gt; xmlns:xop=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.w3.org/2004/08/xop/include&quot;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;            &amp;lt;/data&amp;gt;
         &amp;lt;/parameters&amp;gt;
      &amp;lt;/ns1:doMtomResponse&amp;gt;
   &amp;lt;/soap:Body&amp;gt;
&amp;lt;/soap:Envelope&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Because the response pointed to the &quot;Content-ID&quot; of &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;xop:Include href=&lt;span class=&quot;code-quote&quot;&gt;&quot;cid:15839364-d75d-4cbe-a163-40838bca762a-31@cxf.apache.org&quot;&lt;/span&gt; xmlns:xop=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.w3.org/2004/08/xop/include&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and the parts identified by the &quot;Content-ID: &amp;lt;15839364-d75d-4cbe-a163-40838bca762a-31@cxf.apache.org&amp;gt;&quot; was actually empty. Therefore, client can not get the attachment back.&lt;/p&gt;</description>
                <environment>&lt;p&gt;CXF 3.0.4&lt;/p&gt;</environment>
        <key id="12907179">CAMEL-9246</key>
            <summary>camel-cxf proxy with MTOM does not get attachment back when RPC/literal style WSDL used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ffang">Freeman Yue Fang</assignee>
                                    <reporter username="joeluo">Joe Luo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Oct 2015 18:45:29 +0000</created>
                <updated>Mon, 16 Nov 2015 07:45:09 +0000</updated>
                            <resolved>Mon, 16 Nov 2015 07:45:09 +0000</resolved>
                                    <version>2.15.1</version>
                                    <fixVersion>2.15.5</fixVersion>
                    <fixVersion>2.16.2</fixVersion>
                    <fixVersion>2.17.0</fixVersion>
                                    <component>camel-cxf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14969710" author="joeluo" created="Thu, 22 Oct 2015 19:17:45 +0000"  >&lt;p&gt;Run the test case by &quot;mvn test&quot;.&lt;/p&gt;</comment>
                            <comment id="14969726" author="joeluo" created="Thu, 22 Oct 2015 19:26:01 +0000"  >&lt;p&gt;I also tested using a Doc/literal wrapped style WSDL and it worked fine. Again there were two attachment related parts with different &quot;Content-ID&quot;. However both parts had the same file attached (duplicated attachments). Therefore, client side was able to get the attachment back.&lt;/p&gt;</comment>
                            <comment id="15006310" author="ffang" created="Mon, 16 Nov 2015 07:45:09 +0000"  >&lt;p&gt;commit fix&lt;br/&gt;
&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/camel/commit/b471d78f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/camel/commit/b471d78f&lt;/a&gt; for camel-2.15.x&lt;br/&gt;
&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/camel/commit/378344ba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/camel/commit/378344ba&lt;/a&gt; for camel-2.16.x&lt;br/&gt;
&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/camel/commit/ba848035&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/camel/commit/ba848035&lt;/a&gt; for master&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12768114" name="camel-cxf-ws-mtom.zip" size="47134" author="joeluo" created="Thu, 22 Oct 2015 19:17:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2neav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>