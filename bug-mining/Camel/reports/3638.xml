<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:15:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-9898] SimpleBuilder throws NullPointerException when replacing string using regexAll method and the regex contains }</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-9898</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>
&lt;p&gt;Add this unit test in org.apache.camel.builder.SimpleBuilderTest to reproduce the issue. Only fails when the regex contains }&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;  void testRegexAllWithPlaceHolders() {
        exchange.getIn().setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;activateUrl&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//some/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/api/(id)/activate&quot;&lt;/span&gt;);
&lt;/span&gt;        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//some/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/api/12/activate&quot;&lt;/span&gt;,SimpleBuilder.simple(&lt;span class=&quot;code-quote&quot;&gt;&quot;${header.activateUrl.replaceAll(\&quot;&lt;/span&gt;\\(id\\)\&lt;span class=&quot;code-quote&quot;&gt;&quot;,\&quot;&lt;/span&gt;12\&lt;span class=&quot;code-quote&quot;&gt;&quot;)}&quot;&lt;/span&gt;).evaluate(exchange,&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class));
&lt;/span&gt;
        &lt;span class=&quot;code-comment&quot;&gt;//passes when contains { only
&lt;/span&gt;        exchange.getIn().setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;activateUrl&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//some/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/api/{id/activate&quot;&lt;/span&gt;);
&lt;/span&gt;        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//some/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/api/12/activate&quot;&lt;/span&gt;,SimpleBuilder.simple(&lt;span class=&quot;code-quote&quot;&gt;&quot;${header.activateUrl.replaceAll(\&quot;&lt;/span&gt;\\{id\&lt;span class=&quot;code-quote&quot;&gt;&quot;,\&quot;&lt;/span&gt;12\&lt;span class=&quot;code-quote&quot;&gt;&quot;)}&quot;&lt;/span&gt;).evaluate(exchange,&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class));
&lt;/span&gt;

        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; replaced  = &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//some/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/api/{id}/activate&quot;&lt;/span&gt;.replaceAll(&lt;span class=&quot;code-quote&quot;&gt;&quot;\\{id\\}&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;12&quot;&lt;/span&gt;);
&lt;/span&gt;        assertEquals( &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//some/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/api/12/activate&quot;&lt;/span&gt;, replaced);
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;/// But &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; NullPointerException when regexALl inside a simple expression
&lt;/span&gt;        exchange.getIn().setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;activateUrl&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//some/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/api/{id}/activate&quot;&lt;/span&gt;);
&lt;/span&gt;        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//some/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/api/12/activate&quot;&lt;/span&gt;,SimpleBuilder.simple(&lt;span class=&quot;code-quote&quot;&gt;&quot;${header.activateUrl.replaceAll(\&quot;&lt;/span&gt;\\{id\\}\&lt;span class=&quot;code-quote&quot;&gt;&quot;,\&quot;&lt;/span&gt;12\&lt;span class=&quot;code-quote&quot;&gt;&quot;)}&quot;&lt;/span&gt;).evaluate(exchange,&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class));
&lt;/span&gt;    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12960695">CAMEL-9898</key>
            <summary>SimpleBuilder throws NullPointerException when replacing string using regexAll method and the regex contains }</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="ltsall">Lefteris Tsallas</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Apr 2016 10:17:07 +0000</created>
                <updated>Thu, 21 Apr 2016 19:42:29 +0000</updated>
                            <resolved>Thu, 21 Apr 2016 19:42:29 +0000</resolved>
                                    <version>2.17.0</version>
                                    <fixVersion>2.18.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15251887" author="davsclaus" created="Thu, 21 Apr 2016 13:26:59 +0000"  >&lt;p&gt;You can use groovy or mvel to call such methods.&lt;/p&gt;</comment>
                            <comment id="15251889" author="davsclaus" created="Thu, 21 Apr 2016 13:27:46 +0000"  >&lt;p&gt;The simple parser sounds like is not detecting the closing } is in the quote and thus not the paired close } for the command itself.&lt;/p&gt;</comment>
                            <comment id="15251906" author="ltsall" created="Thu, 21 Apr 2016 13:40:15 +0000"  >&lt;p&gt;Sure there are alternatives, but I thought It would be good to report it. I always prefer the simple language, when it&apos;s possible.&lt;/p&gt;</comment>
                            <comment id="15252461" author="davsclaus" created="Thu, 21 Apr 2016 18:54:30 +0000"  >&lt;p&gt;We can improve the parser to support escaping curly-bracket-end so its not mistakenly taken as a function end marker.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2wfv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>