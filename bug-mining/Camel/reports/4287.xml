<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:26:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-11848] Using MongoDB Tailable Cursor Consumer on non-capped collection results in NullPointerException (instead of proper error message)</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-11848</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When using the Camel MongoDB component with a tailable cursor consumer on a non-capped collection, you get a NullPointerException (also see &lt;a href=&quot;http://camel.apache.org/mongodb.html#MongoDB-TailableCursorConsumer&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/mongodb.html#MongoDB-TailableCursorConsumer&lt;/a&gt; on this). While using this feature on a non-capped collection is not supported, the error message should be better (at the moment it only throws a NullPointerException because the code tries to unbox a null in a Boolean object). The code actually already has a better error message, but there is a small logic flaw that prevents the error message from showing up. See &lt;a href=&quot;https://github.com/apache/camel/blob/camel-2.19.3/components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/MongoDbTailingProcess.java#L78&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/blob/camel-2.19.3/components/camel-mongodb/src/main/java/org/apache/camel/component/mongodb/MongoDbTailingProcess.java#L78&lt;/a&gt; for the code.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13105318">CAMEL-11848</key>
            <summary>Using MongoDB Tailable Cursor Consumer on non-capped collection results in NullPointerException (instead of proper error message)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="fwein">Frank Wein</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Sep 2017 06:23:52 +0000</created>
                <updated>Wed, 27 Sep 2017 13:43:01 +0000</updated>
                            <resolved>Wed, 27 Sep 2017 13:43:01 +0000</resolved>
                                    <version>2.19.3</version>
                                    <fixVersion>2.19.4</fixVersion>
                    <fixVersion>2.20.0</fixVersion>
                                    <component>camel-mongodb</component>
                    <component>camel-mongodb3</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16182112" author="davsclaus" created="Wed, 27 Sep 2017 07:08:01 +0000"  >&lt;p&gt;You are welcome to provide a fix as a github PR&lt;br/&gt;
&lt;a href=&quot;http://camel.apache.org/contributing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/contributing&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16182113" author="davsclaus" created="Wed, 27 Sep 2017 07:08:52 +0000"  >&lt;p&gt;Mind there is 2 mongodb components with Camel so if they both has this problem you are welcome to fix them both.&lt;/p&gt;</comment>
                            <comment id="16182491" author="fwein" created="Wed, 27 Sep 2017 12:38:03 +0000"  >&lt;p&gt;Actually I forgot one part in my explanation: I think this might only affect old MongoDB versions, I tested it with 2.6. But a fix for this problem in Camel should be easy anyway.&lt;/p&gt;</comment>
                            <comment id="16182544" author="githubbot" created="Wed, 27 Sep 2017 13:20:26 +0000"  >&lt;p&gt;GitHub user Frankst2 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1969&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1969&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11848&quot; title=&quot;Using MongoDB Tailable Cursor Consumer on non-capped collection results in NullPointerException (instead of proper error message)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11848&quot;&gt;&lt;del&gt;CAMEL-11848&lt;/del&gt;&lt;/a&gt;: Check for null value when getting key &quot;capped&quot; of collec&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;tion stats (key/value might not exist in MongoDB 2.6 when it is a non-capped collection)&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/Frankst2/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Frankst2/camel&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1969.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1969.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1969&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 62a8ce1d953cda0c1594ef556726d7d9f6aa3658&lt;br/&gt;
Author: Frank Wein &amp;lt;frank.wein@fau.de&amp;gt;&lt;br/&gt;
Date:   2017-09-27T13:17:09Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11848&quot; title=&quot;Using MongoDB Tailable Cursor Consumer on non-capped collection results in NullPointerException (instead of proper error message)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11848&quot;&gt;&lt;del&gt;CAMEL-11848&lt;/del&gt;&lt;/a&gt;: Check for null value when getting key &quot;capped&quot; of collection stats (key/value might not exist in MongoDB 2.6)&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16182548" author="fwein" created="Wed, 27 Sep 2017 13:23:16 +0000"  >&lt;p&gt;BTW: I checked with mongodb 3.2 and 3.4, there it&apos;s fine.&lt;/p&gt;</comment>
                            <comment id="16182575" author="githubbot" created="Wed, 27 Sep 2017 13:42:26 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1969&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1969&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16182576" author="davsclaus" created="Wed, 27 Sep 2017 13:43:01 +0000"  >&lt;p&gt;Thanks for the PR and testing&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3klaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>