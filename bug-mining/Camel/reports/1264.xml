<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:41:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-3351] camel-irc component silently fails on nick collision</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3351</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When the camel-irc component connects to an irc server and there&apos;s a nick collision it silently fails. Also note there is no camel-irc component in Jira.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12487913">CAMEL-3351</key>
            <summary>camel-irc component silently fails on nick collision</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="tjsnell">Tracy J. Snell</reporter>
                        <labels>
                    </labels>
                <created>Sun, 21 Nov 2010 13:54:04 +0000</created>
                <updated>Sun, 24 Apr 2011 09:57:55 +0000</updated>
                            <resolved>Wed, 8 Dec 2010 06:54:35 +0000</resolved>
                                    <version>2.5.0</version>
                                    <fixVersion>2.6.0</fixVersion>
                                    <component>camel-irc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12957565" author="tjsnell" created="Sun, 21 Nov 2010 13:55:38 +0000"  >&lt;p&gt;This will cause an NPE when the route is actually called but the root cause is hidden.&lt;/p&gt;</comment>
                            <comment id="12957562" author="tjsnell" created="Sun, 21 Nov 2010 16:10:37 +0000"  >&lt;p&gt;All irc events are just logged (I missed it in the logs). In this case the collision is logged as well as the server initiated disconnect. However the component code is unaware of the state. In general there are a lot of useful things that could be done with the various IRC events. Specifically though the code needs to be aware of disconnects.&lt;/p&gt;</comment>
                            <comment id="12969154" author="tjsnell" created="Wed, 8 Dec 2010 02:32:51 +0000"  >&lt;p&gt;I got carried away and made several changes and fixed a minor bug. Here are my notes:&lt;/p&gt;



&lt;p&gt;IrcComponent:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Removed IrcConfiguration member variable. Didn&apos;t make sense. Removed constructor with IrcConfiguration as the param.&lt;/li&gt;
	&lt;li&gt;ircLogger moved to method.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;IrcProducer:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Changed doStart to call component.joinChannels instead of doing it in the start method. Ditto for IrcConsumer&lt;br/&gt;
  removing dupe code.&lt;/li&gt;
	&lt;li&gt;Check to see if we&apos;re still connected before sending a message in process. If disconnected throw a RuntimeCamelException.&lt;/li&gt;
	&lt;li&gt;Removed unused imports&lt;/li&gt;
	&lt;li&gt;Add a listener so we can get error messages&lt;/li&gt;
	&lt;li&gt;Change listener type from FilteredIRCEventAdapter to IRCEventAdapter and added getter/setter for easier testing&lt;/li&gt;
	&lt;li&gt;doStop didn&apos;t remove the listener fixed. Added. This would&apos;ve caused an NPE if a user was stopping individual routes.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;IrcConsumer:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Changed doStart to call component.joinChannels instead of doing it in the start method.&lt;/li&gt;
	&lt;li&gt;Removed unused imports&lt;/li&gt;
	&lt;li&gt;Added check in onKick to see if we got kicked and rejoin if so&lt;/li&gt;
	&lt;li&gt;Change listener type from FilteredIRCEventAdapter to IRCEventAdapter and added getter/setter for easier testing&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;IrcEndpoint:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Extracted method getExchange. Same 2 lines of code in 9 methods. Slightly cleaner this way.&lt;/li&gt;
	&lt;li&gt;Added handleIrcError to handle any IRC errors that the producer or consumer hit&lt;/li&gt;
	&lt;li&gt;Added handleNickInUse to handle nick in use errors. On endpoint startup this would cause a failed connection. For the Consumer this would just mean we&apos;d never consume anything. For the Producer sends would throw an NPE (now there&apos;s a check for a valid connection and RuntimeCamelException is thrown instead)&lt;/li&gt;
	&lt;li&gt;Added method joinChannels&lt;/li&gt;
	&lt;li&gt;Added method joinChannel&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;IrcConfiguration&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add autoRejoin setting&lt;/li&gt;
	&lt;li&gt;Changed key storage to a Dictionary.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Added several new tests using mockito&lt;/p&gt;

</comment>
                            <comment id="12969216" author="njiang" created="Wed, 8 Dec 2010 06:54:35 +0000"  >&lt;p&gt;Applied patch with thanks to Tracy.&lt;/p&gt;</comment>
                            <comment id="13023987" author="davsclaus" created="Sun, 24 Apr 2011 09:57:55 +0000"  >&lt;p&gt;Closing all resolved tickets from 2010 or older&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465771" name="patchfile.txt" size="23843" author="tjsnell" created="Wed, 8 Dec 2010 02:32:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76275</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01u7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8663</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>