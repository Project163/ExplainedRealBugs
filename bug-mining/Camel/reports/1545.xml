<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:45:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-4296] Exception handlers added with RouteDefinition.adviceWith() are not applied consistently</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-4296</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;This may be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-4184&quot; title=&quot;Using adviceWith 2 times or more in Java DSL with a context scoped onException causing the 1st advised route to not work as expected&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-4184&quot;&gt;&lt;del&gt;CAMEL-4184&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;I have a RouteBuilder doing some discovery testing around load balancer behaviour. There are two RouteBuilders applied within tests using adviceWith (source code attached)&lt;br/&gt;
1. ThrowsExceptionFromA intercepts a call to an endpoint and throws an exception&lt;br/&gt;
2. ExceptionHandler applies an onException for that particular Exception type, and tweaks the body.&lt;/p&gt;

&lt;p&gt;When ThrowsExceptionFromA is applied before ExceptionHandler using adviceWith, the exception is not handled.&lt;br/&gt;
When ExceptionHandler is applied before ThrowsExceptionFromA using adviceWith, it is.&lt;/p&gt;</description>
                <environment>&lt;p&gt;JUnit 4&lt;/p&gt;</environment>
        <key id="12516948">CAMEL-4296</key>
            <summary>Exception handlers added with RouteDefinition.adviceWith() are not applied consistently</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="jkorab">Jakub Korab</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Aug 2011 15:46:41 +0000</created>
                <updated>Thu, 4 Aug 2011 10:03:16 +0000</updated>
                            <resolved>Thu, 4 Aug 2011 10:03:16 +0000</resolved>
                                    <version>2.8.0</version>
                                    <fixVersion>2.9.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13076279" author="jkorab" created="Tue, 2 Aug 2011 15:48:40 +0000"  >&lt;p&gt;JUnit test demonstrating the behaviour.&lt;/p&gt;</comment>
                            <comment id="13078957" author="davsclaus" created="Wed, 3 Aug 2011 19:44:34 +0000"  >&lt;p&gt;You should put all the stuff into the same adviceWith and only call it once.&lt;/p&gt;</comment>
                            <comment id="13079305" author="davsclaus" created="Thu, 4 Aug 2011 10:03:16 +0000"  >&lt;p&gt;I have added warning to wiki page, and notes in javadoc about the fact the adviceWith cannot work when advicing multiple times on the same route.&lt;/p&gt;

&lt;p&gt;I added a working unit test based on the attached file, eg only advice one time.&lt;/p&gt;

&lt;p&gt;Camel 3.0 should be able to support this when the routing engine becomes more dynamic&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12488912" name="MultiAdviceWithTest.java" size="2385" author="jkorab" created="Tue, 2 Aug 2011 15:48:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 16 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02027:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>