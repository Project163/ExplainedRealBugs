<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:02:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-7429] Camel Properties Component concatenation issue </title>
                <link>https://issues.apache.org/jira/browse/CAMEL-7429</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Suppose you have a properties file of this type&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#PROPERTIES CONCATENATION
prop1=file:
prop2=dirname
concat.property={{prop1}}{{prop2}}

#PROPERTIES WITHOUT CONCATENATION
property.complete=file:dirname
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and you want to use the property concat.property. Using Camel 2.10.3 loading this property doesn&apos;t create any kind of problem. When I upgrade to Camel 2.12.3 I get an exception, that you can reproduce with the following informations.&lt;/p&gt;

&lt;p&gt;In &lt;b&gt;DefaultPropertiesParser&lt;/b&gt; class of org.apache.camel.component.properties package, I found a strange behaviour relative to that specific kind of property.  When I execute a test like the following, (the first try to use concatenated property and the second try to use property without concatenation):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;PropertiesComponentConcatenatePropertiesTest.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.CamelContext;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.ContextTestSupport;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.builder.RouteBuilder;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;PropertiesComponentConcatenatePropertiesTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; ContextTestSupport {
    
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; CamelContext createCamelContext() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        CamelContext context = &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.createCamelContext();
        context.addComponent(&lt;span class=&quot;code-quote&quot;&gt;&quot;properties&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PropertiesComponent(&lt;span class=&quot;code-quote&quot;&gt;&quot;classpath:org/apache/camel/component/properties/concatenation.properties&quot;&lt;/span&gt;));
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; context;
    }
    
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void setUp() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.setProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;environment&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;junit&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.setUp();
    }
    
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void tearDown() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.clearProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;environment&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.tearDown();
    }
    
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testConcatPropertiesComponentDefault() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        context.addRoutes(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RouteBuilder() {
            @Override
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;).setBody(simple(&lt;span class=&quot;code-quote&quot;&gt;&quot;${properties:concat.property}&quot;&lt;/span&gt;))
                .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:result&quot;&lt;/span&gt;);
            }
        });
        context.start();

        getMockEndpoint(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:result&quot;&lt;/span&gt;).expectedBodiesReceived(&lt;span class=&quot;code-quote&quot;&gt;&quot;file:dirname&quot;&lt;/span&gt;);

        template.sendBody(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Test&quot;&lt;/span&gt;);

        assertMockEndpointsSatisfied();
    }
    
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testWithoutConcatPropertiesComponentDefault() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        context.addRoutes(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RouteBuilder() {
            @Override
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;).setBody(simple(&lt;span class=&quot;code-quote&quot;&gt;&quot;${properties:property.complete}&quot;&lt;/span&gt;))
                .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:result&quot;&lt;/span&gt;);
            }
        });
        context.start();

        getMockEndpoint(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:result&quot;&lt;/span&gt;).expectedBodiesReceived(&lt;span class=&quot;code-quote&quot;&gt;&quot;file:dirname&quot;&lt;/span&gt;);

        template.sendBody(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Test&quot;&lt;/span&gt;);

        assertMockEndpointsSatisfied();
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first test return the following exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[Message: Test]
	at org.apache.camel.util.ObjectHelper.wrapCamelExecutionException(ObjectHelper.java:1379)
	at org.apache.camel.util.ExchangeHelper.extractResultBody(ExchangeHelper.java:622)
	at org.apache.camel.impl.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:467)
	at org.apache.camel.impl.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:463)
	at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:139)
	at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:144)
	at org.apache.camel.component.properties.PropertiesComponentConcatenatePropertiesTest.testConcatPropertiesComponentDefault(PropertiesComponentConcatenatePropertiesTest.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at org.apache.camel.TestSupport.runBare(TestSupport.java:58)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:255)
	at junit.framework.TestSuite.run(TestSuite.java:250)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:84)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Caused by: org.apache.camel.RuntimeCamelException: java.lang.IllegalArgumentException: Expecting }} but found end of string from text: prop1}}{{prop2
	at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1363)
	at org.apache.camel.builder.ExpressionBuilder$78.evaluate(ExpressionBuilder.java:1784)
	at org.apache.camel.support.ExpressionAdapter.evaluate(ExpressionAdapter.java:36)
	at org.apache.camel.builder.SimpleBuilder.evaluate(SimpleBuilder.java:83)
	at org.apache.camel.processor.SetBodyProcessor.process(SetBodyProcessor.java:46)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:398)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:191)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:118)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:80)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:191)
	at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:51)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:191)
	at org.apache.camel.processor.UnitOfWorkProducer.process(UnitOfWorkProducer.java:73)
	at org.apache.camel.impl.ProducerCache$2.doInProducer(ProducerCache.java:378)
	at org.apache.camel.impl.ProducerCache$2.doInProducer(ProducerCache.java:1)
	at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:242)
	at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:346)
	at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:184)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:124)
	at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:137)
	... 22 more
Caused by: java.lang.IllegalArgumentException: Expecting }} but found end of string from text: prop1}}{{prop2
	at org.apache.camel.component.properties.DefaultPropertiesParser.doParseUri(DefaultPropertiesParser.java:90)
	at org.apache.camel.component.properties.DefaultPropertiesParser.parseUri(DefaultPropertiesParser.java:51)
	at org.apache.camel.component.properties.DefaultPropertiesParser.parseUri(DefaultPropertiesParser.java:38)
	at org.apache.camel.component.properties.DefaultPropertiesParser.createPlaceholderPart(DefaultPropertiesParser.java:189)
	at org.apache.camel.component.properties.DefaultPropertiesParser.doParseUri(DefaultPropertiesParser.java:105)
	at org.apache.camel.component.properties.DefaultPropertiesParser.parseUri(DefaultPropertiesParser.java:51)
	at org.apache.camel.component.properties.PropertiesComponent.parseUri(PropertiesComponent.java:158)
	at org.apache.camel.component.properties.PropertiesComponent.parseUri(PropertiesComponent.java:117)
	at org.apache.camel.builder.ExpressionBuilder$78.evaluate(ExpressionBuilder.java:1781)
	... 40 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It seems that &lt;b&gt;DefaultPropertiesParser&lt;/b&gt; doesn&apos;t like concatenation of properties. I&apos;ve forked Camel project on GitHub and I&apos;ve added the unit test posted above. Here is the link: &lt;a href=&quot;https://github.com/ancosen/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ancosen/camel&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Investigating the history of the particular class I found that the problem should arise from:&lt;br/&gt;
 &lt;b&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-5328&quot; title=&quot;Camel PropertiesComponent should support resolution of nested properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-5328&quot;&gt;&lt;del&gt;CAMEL-5328&lt;/del&gt;&lt;/a&gt; supports resolution of nested properties in PropertiesComponent&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Here is the link of the commit:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/camel/commit/83f4b0f485521967d05de4e65025c4558a75ff3c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/83f4b0f485521967d05de4e65025c4558a75ff3c&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks.&lt;br/&gt;
Bye&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu 13.10, Windows 7&lt;/p&gt;</environment>
        <key id="12713287">CAMEL-7429</key>
            <summary>Camel Properties Component concatenation issue </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="acosentino">Andrea Cosentino</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 May 2014 10:48:46 +0000</created>
                <updated>Thu, 14 Aug 2014 09:27:24 +0000</updated>
                            <resolved>Thu, 19 Jun 2014 07:18:04 +0000</resolved>
                                    <version>2.12.3</version>
                                    <fixVersion>2.12.4</fixVersion>
                    <fixVersion>2.13.2</fixVersion>
                    <fixVersion>2.14.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14000776" author="githubbot" created="Sat, 17 May 2014 12:40:42 +0000"  >&lt;p&gt;GitHub user ancosen opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/154&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-7429&quot; title=&quot;Camel Properties Component concatenation issue &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-7429&quot;&gt;&lt;del&gt;CAMEL-7429&lt;/del&gt;&lt;/a&gt; Camel Properties Component concatenation issue&lt;/p&gt;

&lt;p&gt;    Hi all,&lt;/p&gt;

&lt;p&gt;    This pull request is related to&lt;br/&gt;
    **&lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-7429**&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-7429**&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I added a new private method in the *&lt;b&gt;DefaultPropertiesParser&lt;/b&gt;* class to determine if the property we&apos;re parsing is a concatenation with the aim to distinguish it from a nesting.&lt;/p&gt;

&lt;p&gt;    I added an *&lt;b&gt;AllPropertiesTest&lt;/b&gt;* test class (SuiteTest) to execute all the tests related to Properties when some improvements or patches are added. I have improved the Tests with a new class *&lt;b&gt;PropertiesComponentConcatenatePropertiesTest&lt;/b&gt;* where I test the new DefaultPropertiesParser.&lt;/p&gt;

&lt;p&gt;    Hope this should be useful.&lt;/p&gt;

&lt;p&gt;    Thanks.&lt;/p&gt;

&lt;p&gt;    Bye&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ancosen/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ancosen/camel&lt;/a&gt; camel-7429-concatenatedproperties&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/154.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/154.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #154&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit f89de09a25e6b8a4a284d2c406c1e146bab16750&lt;br/&gt;
Author: ancosen &amp;lt;ancosen@gmail.com&amp;gt;&lt;br/&gt;
Date:   2014-05-17T12:28:29Z&lt;/p&gt;

&lt;p&gt;    Fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-7429&quot; title=&quot;Camel Properties Component concatenation issue &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-7429&quot;&gt;&lt;del&gt;CAMEL-7429&lt;/del&gt;&lt;/a&gt; Camel Properties Component concatenation issue&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14000779" author="ancosen" created="Sat, 17 May 2014 12:46:19 +0000"  >&lt;p&gt;I think I&apos;ve fixed the concatenation case. Anyway I&apos;ll add other tests later.&lt;/p&gt;</comment>
                            <comment id="14002830" author="davsclaus" created="Tue, 20 May 2014 05:56:55 +0000"  >&lt;p&gt;Thanks for the PR but its not a complete solution, as you can have &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{{foo}blabla{{bar}}{{baz}}123{{dude}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;etc. &lt;/p&gt;

&lt;p&gt;So its not as easy as just to check for &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;}}{{
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14002832" author="ancosen" created="Tue, 20 May 2014 06:00:10 +0000"  >&lt;p&gt;You&apos;re right. I&apos;ll improve this solution.&lt;/p&gt;</comment>
                            <comment id="14002835" author="ancosen" created="Tue, 20 May 2014 06:07:47 +0000"  >&lt;p&gt;We can have&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;nested properties&lt;/li&gt;
	&lt;li&gt;concatenated properties&lt;/li&gt;
	&lt;li&gt;something like what you&apos;ve posted&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What else? &lt;/p&gt;

&lt;p&gt;In &lt;b&gt;DefaultParserProperties&lt;/b&gt; class in &lt;b&gt;isNestProperty&lt;/b&gt; private method we just control this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;uri.startsWith(prefixToken) &amp;amp;&amp;amp; uri.endsWith(suffixToken)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;as condition to have a nested property.. I think this is a soft condition and this is the point where concatenation fails.&lt;/p&gt;</comment>
                            <comment id="14035601" author="githubbot" created="Wed, 18 Jun 2014 11:34:27 +0000"  >&lt;p&gt;GitHub user adessaigne opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/189&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/189&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-7429&quot; title=&quot;Camel Properties Component concatenation issue &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-7429&quot;&gt;&lt;del&gt;CAMEL-7429&lt;/del&gt;&lt;/a&gt; Camel Properties Component concatenation issue&lt;/p&gt;

&lt;p&gt;    I&apos;ve changed the logic for finding and replacing properties. All the previous tests still pass and the new contatenation one of Adrea is working too.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/adessaigne/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adessaigne/camel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-7429&quot; title=&quot;Camel Properties Component concatenation issue &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-7429&quot;&gt;&lt;del&gt;CAMEL-7429&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/189.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/189.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #189&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 1258691c272ee31dca112141cfcf1f0439e8e506&lt;br/&gt;
Author: Antoine DESSAIGNE &amp;lt;antoine.dessaigne@gmail.com&amp;gt;&lt;br/&gt;
Date:   2014-06-18T11:31:39Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-7429&quot; title=&quot;Camel Properties Component concatenation issue &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-7429&quot;&gt;&lt;del&gt;CAMEL-7429&lt;/del&gt;&lt;/a&gt; Camel Properties Component concatenation issue&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14035629" author="davsclaus" created="Wed, 18 Jun 2014 12:14:02 +0000"  >&lt;p&gt;Thanks Anotine, but unfortunately the latest PR breaks in other modules, such as camel-blueprint.&lt;/p&gt;

&lt;p&gt;Try running tests for components, eg it should pass for camel-spring, camel-blueprint, camel-test-blueprint, camel-scala, camel-groovy etc.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;testConfigAdmin(org.apache.camel.test.blueprint.ConfigAdminOverridePropertiesOutsideCamelContextTest)  Time elapsed: 2.531 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: &amp;gt;&amp;gt;&amp;gt; To[{{destination}}] &amp;lt;&amp;lt;&amp;lt; in route: Route(route1)[[From[direct:start]] -&amp;gt; [Bean[ref:myCoolBean m... because of Property with key [destination] not found in properties from text: {{destination}}
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:910)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:175)
	at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:780)
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:2068)
	at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:1816)
	at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:1683)
	at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61)
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1651)
	at org.apache.camel.blueprint.BlueprintCamelContext.start(BlueprintCamelContext.java:177)
	at org.apache.camel.test.blueprint.CamelBlueprintTestSupport.setUp(CamelBlueprintTestSupport.java:187)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.IllegalArgumentException: Property with key [destination] not found in properties from text: {{destination}}
	at org.apache.camel.component.properties.DefaultPropertiesParser$ParsingContext.getPropertyValue(DefaultPropertiesParser.java:207)
	at org.apache.camel.component.properties.DefaultPropertiesParser$ParsingContext.readProperty(DefaultPropertiesParser.java:131)
	at org.apache.camel.component.properties.DefaultPropertiesParser$ParsingContext.doParse(DefaultPropertiesParser.java:90)
	at org.apache.camel.component.properties.DefaultPropertiesParser$ParsingContext.parse(DefaultPropertiesParser.java:77)
	at org.apache.camel.component.properties.DefaultPropertiesParser.parseUri(DefaultPropertiesParser.java:42)
	at org.apache.camel.component.properties.PropertiesComponent.parseUri(PropertiesComponent.java:158)
	at org.apache.camel.component.properties.PropertiesComponent.parseUri(PropertiesComponent.java:117)
	at org.apache.camel.impl.DefaultCamelContext.resolvePropertyPlaceholders(DefaultCamelContext.java:1223)
	at org.apache.camel.model.ProcessorDefinition.resolvePropertyPlaceholders(ProcessorDefinition.java:571)
	at org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:474)
	at org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:212)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:907)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:175)
	at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:780)
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:2068)
	at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:1816)
	at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:1683)
	at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61)
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:1651)
	at org.apache.camel.blueprint.BlueprintCamelContext.start(BlueprintCamelContext.java:177)
	at org.apache.camel.test.blueprint.CamelBlueprintTestSupport.setUp(CamelBlueprintTestSupport.java:187)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14035643" author="antoine.dessaigne" created="Wed, 18 Jun 2014 12:34:23 +0000"  >&lt;p&gt;Sorry about that, I&apos;ll fix this&lt;/p&gt;</comment>
                            <comment id="14037054" author="antoine.dessaigne" created="Thu, 19 Jun 2014 07:05:18 +0000"  >&lt;p&gt;Ok, I&apos;ve fixed the issue in the pull request, it should be good now&lt;/p&gt;</comment>
                            <comment id="14037062" author="davsclaus" created="Thu, 19 Jun 2014 07:18:05 +0000"  >&lt;p&gt;Thanks for the PR&lt;/p&gt;</comment>
                            <comment id="14037086" author="githubbot" created="Thu, 19 Jun 2014 07:54:05 +0000"  >&lt;p&gt;Github user adessaigne closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/189&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/189&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14059711" author="githubbot" created="Sat, 12 Jul 2014 08:44:35 +0000"  >&lt;p&gt;Github user ancosen closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/154&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12694283">CAMEL-7189</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12733763">CAMEL-7693</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>391603</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vg0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>391815</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>