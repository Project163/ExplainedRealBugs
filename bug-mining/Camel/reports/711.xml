<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:34:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-1865] NPE thrown when DEBUG logging on</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-1865</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Stack trace;&lt;/p&gt;

&lt;p&gt;org.apache.camel.language.bean.RuntimeBeanExpressionException: Failed to invoke method: doSplit on MySplitter due to: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.camel.language.bean.BeanExpression.evaluate(BeanExpression.java:82)&lt;br/&gt;
        at org.apache.camel.language.bean.BeanExpression.evaluate(BeanExpression.java:87)&lt;br/&gt;
        at org.apache.camel.processor.Splitter.createProcessorExchangePairs(Splitter.java:72)&lt;br/&gt;
...&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.camel.util.MessageHelper.extractBodyForLogging(MessageHelper.java:129)&lt;br/&gt;
        at org.apache.camel.impl.DefaultMessage.toString(DefaultMessage.java:38)&lt;br/&gt;
        at java.lang.String.valueOf(String.java:2827)&lt;br/&gt;
        at java.lang.StringBuilder.append(StringBuilder.java:115)&lt;br/&gt;
        at java.util.AbstractCollection.toString(AbstractCollection.java:422)&lt;br/&gt;
        at java.lang.String.valueOf(String.java:2827)&lt;br/&gt;
        at java.lang.StringBuilder.append(StringBuilder.java:115)&lt;br/&gt;
        at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:139)&lt;/p&gt;

&lt;p&gt;Steps to reproduce;&lt;/p&gt;

&lt;p&gt;1. Create simple route with splitter pattern; e.g.&lt;/p&gt;

&lt;p&gt;&amp;lt;route&amp;gt;&lt;br/&gt;
	&amp;lt;from uri=&quot;jms:IN_QUEUE&quot;/&amp;gt;&lt;br/&gt;
	&amp;lt;split&amp;gt;&amp;lt;method bean=&quot;MySplitter&quot; method=&quot;doSplit&quot;/&amp;gt;&lt;br/&gt;
		&amp;lt;to uri=&quot;log:route.log&quot;/&amp;gt;&lt;br/&gt;
	&amp;lt;/split&amp;gt;&lt;br/&gt;
&amp;lt;/route&amp;gt;&lt;/p&gt;

&lt;p&gt;2. Set DEBUG logging on for org.apache.camel classes, e.g.&lt;/p&gt;

&lt;p&gt;log4j.logger.org.apache.camel=DEBUG&lt;/p&gt;

&lt;p&gt;3. Fire message into route - message fails with NPE inside Camel&lt;/p&gt;</description>
                <environment>&lt;p&gt;2.0-M3&lt;/p&gt;</environment>
        <key id="12485877">CAMEL-1865</key>
            <summary>NPE thrown when DEBUG logging on</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="msjwhite">Mark White</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jul 2009 11:40:27 +0000</created>
                <updated>Thu, 30 Jul 2009 17:44:58 +0000</updated>
                            <resolved>Thu, 30 Jul 2009 15:32:43 +0000</resolved>
                                    <version>2.0-M3</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12946043" author="davsclaus" created="Thu, 30 Jul 2009 12:31:29 +0000"  >&lt;p&gt;Can you show the splitter code, eg MySplitter.doSplit &lt;/p&gt;</comment>
                            <comment id="12945991" author="msjwhite" created="Thu, 30 Jul 2009 12:44:55 +0000"  >&lt;p&gt;Sure, attached.&lt;/p&gt;

&lt;p&gt;Splitter makes a copy of the original (in.copy()) and adds a body and header, then returns message in the list.&lt;/p&gt;

&lt;p&gt;If it instead is changed to just return the original message in the list, it doesn&apos;t throw NPE.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="12946023" author="davsclaus" created="Thu, 30 Jul 2009 12:50:28 +0000"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;Okay so my feeling was correct that you return a org.apache.camel.Message object.&lt;/p&gt;

&lt;p&gt;I am in the middle of another bigger work so I will get a fix in a bit later.&lt;/p&gt;</comment>
                            <comment id="12946356" author="davsclaus" created="Thu, 30 Jul 2009 15:32:43 +0000"  >&lt;p&gt;trunk: 799332.&lt;/p&gt;</comment>
                            <comment id="12946880" author="msjwhite" created="Thu, 30 Jul 2009 17:44:58 +0000"  >&lt;p&gt;Confirmed fixed in 2.0 trunk&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12462725" name="MySplitter.java" size="474" author="msjwhite" created="Thu, 30 Jul 2009 12:44:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76711</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01l1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7179</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>