<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:25:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-11588] SupervisingRouteController - Routes may be started in wrong order</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-11588</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;If you run the example and turn off the supervising&lt;/p&gt;

&lt;p&gt;Then the routes are started correct order&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-07-23 10:40:37.825  INFO 33034 --- [           main] o.a.camel.spring.SpringCamelContext      : Route: bar started and consuming from: timer:&lt;span class=&quot;code-comment&quot;&gt;//bar?period=5s
&lt;/span&gt;2017-07-23 10:40:37.825  INFO 33034 --- [           main] o.a.camel.spring.SpringCamelContext      : Route: foo started and consuming from: timer:&lt;span class=&quot;code-comment&quot;&gt;//foo?period=5s
&lt;/span&gt;2017-07-23 10:40:37.830  INFO 33034 --- [           main] o.a.c.c.undertow.DefaultUndertowHost     : Starting Undertow server on http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:9011
&lt;/span&gt;2017-07-23 10:40:37.877  INFO 33034 --- [           main] o.a.camel.spring.SpringCamelContext      : Route: undertow started and consuming from: http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:9011&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;eg with lowest startup order first, 1,2, (no number).&lt;/p&gt;

&lt;p&gt;But if you turn on supervising, then they are started: (no number), 1, 2&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-07-23 10:37:39.266  INFO 32985 --- [           main] o.a.c.c.undertow.DefaultUndertowHost     : Starting Undertow server on http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:9011
&lt;/span&gt;2017-07-23 10:37:39.311  INFO 32985 --- [           main] o.a.camel.spring.SpringCamelContext      : Route: undertow started and consuming from: http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:9011
&lt;/span&gt;2017-07-23 10:37:39.313  INFO 32985 --- [           main] o.a.camel.spring.SpringCamelContext      : Route: bar started and consuming from: timer:&lt;span class=&quot;code-comment&quot;&gt;//bar?period=5s
&lt;/span&gt;2017-07-23 10:37:39.314  INFO 32985 --- [           main] o.a.camel.spring.SpringCamelContext      : Route: foo started and consuming from: timer:&lt;span class=&quot;code-comment&quot;&gt;//foo?period=5s&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;eg the undertow route is the (no number) and should therefore be started last (it will have auto assigned number 1001).&lt;/p&gt;

&lt;p&gt;eg we need to use the RouteStartupOrder that can tell the correct order.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13089301">CAMEL-11588</key>
            <summary>SupervisingRouteController - Routes may be started in wrong order</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lb">Luca Burgazzoli</assignee>
                                    <reporter username="davsclaus">Claus Ibsen</reporter>
                        <labels>
                            <label>route-controller</label>
                    </labels>
                <created>Sun, 23 Jul 2017 08:44:43 +0000</created>
                <updated>Tue, 8 Aug 2017 11:33:32 +0000</updated>
                            <resolved>Tue, 8 Aug 2017 11:33:32 +0000</resolved>
                                                    <fixVersion>2.20.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16097747" author="davsclaus" created="Sun, 23 Jul 2017 18:29:12 +0000"  >&lt;p&gt;I looked briefly at this and its a bit harder to do. So its okay for this to be a known issue, but down the road we should ideally have this new way of starting up routes support all existing ways, so it in the future can be the new default way.&lt;/p&gt;</comment>
                            <comment id="16114428" author="lb" created="Fri, 4 Aug 2017 14:24:41 +0000"  >&lt;p&gt;As workaround I&apos;ve added an additional counter to keep track of the order of which routes are initialized so the rule is now:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;compare startup order&lt;/li&gt;
	&lt;li&gt;if not defined compare using the initialization order&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So assuming we have:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;from(&lt;span class=&quot;code-quote&quot;&gt;&quot;undertow:http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:9013&quot;&lt;/span&gt;)
&lt;/span&gt;    .id(&lt;span class=&quot;code-quote&quot;&gt;&quot;undertow-9013&quot;&lt;/span&gt;)
    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;From undertow ...&quot;&lt;/span&gt;);

from(&lt;span class=&quot;code-quote&quot;&gt;&quot;timer:foo?period=5s&quot;&lt;/span&gt;)
    .id(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;)
    .startupOrder(2)
    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;From timer (foo) ...&quot;&lt;/span&gt;);

from(&lt;span class=&quot;code-quote&quot;&gt;&quot;timer:bar?period=5s&quot;&lt;/span&gt;)
    .id(&lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;)
    .startupOrder(1)
    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;From timer (bar) ...&quot;&lt;/span&gt;);

from(&lt;span class=&quot;code-quote&quot;&gt;&quot;undertow:http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:9011&quot;&lt;/span&gt;)
&lt;/span&gt;    .id(&lt;span class=&quot;code-quote&quot;&gt;&quot;undertow-9011&quot;&lt;/span&gt;)
    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;From undertow ...&quot;&lt;/span&gt;);

from(&lt;span class=&quot;code-quote&quot;&gt;&quot;undertow:http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:9010&quot;&lt;/span&gt;)
&lt;/span&gt;    .id(&lt;span class=&quot;code-quote&quot;&gt;&quot;undertow-9010&quot;&lt;/span&gt;)
    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;From undertow ...&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The startup order will be:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;bar&lt;/li&gt;
	&lt;li&gt;foo&lt;/li&gt;
	&lt;li&gt;undertow-9013&lt;/li&gt;
	&lt;li&gt;undertow-9011&lt;/li&gt;
	&lt;li&gt;undertow-9010&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 15 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3hw53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>