<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:51:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-17274] camel-spring-boot - Using war packaging cannot load XML routes via routes collector</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-17274</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;A regression is caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-15560&quot; title=&quot;generic route loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-15560&quot;&gt;&lt;del&gt;CAMEL-15560&lt;/del&gt;&lt;/a&gt; by removal of collectXmlRoutesFromDirectory methods, which overrode default method to use spring&apos;s application context, but no equivalent was made in replacement.&lt;/p&gt;

&lt;p&gt;To fix this is seems simply a new implementation of new equivalent method, re-introducing loading resource by the spring applicationContext.&lt;/p&gt;

&lt;p&gt;Unfortunately it seems this is only seen/issue up once a fully packaged springboot jar/war is created and run, and route xml&apos;s fail to load, as such very hard to unit test, and like wise no pre-existing tests clearly for old behaviour either, thus it broke.&lt;/p&gt;

&lt;p&gt;related to:&#160;&lt;a href=&quot;https://stackoverflow.com/questions/68065987/apache-camel-routes-in-xml-not-loaded-in-spring-boot/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/68065987/apache-camel-routes-in-xml-not-loaded-in-spring-boot/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Attached is a sample extracted application demonstrating the issue, see its readme. The zipped app is currently working using 3.7.6 but you will note on changing camel dependency to 3.8.0 the routes do not load, nor start.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;A PR will be linked to this ticket that fixes this issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13415430">CAMEL-17274</key>
            <summary>camel-spring-boot - Using war packaging cannot load XML routes via routes collector</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="michael.andre.pearce">Michael Andre Pearce</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Dec 2021 21:55:37 +0000</created>
                <updated>Mon, 6 Dec 2021 13:22:23 +0000</updated>
                            <resolved>Mon, 6 Dec 2021 09:45:29 +0000</resolved>
                                    <version>3.8.0</version>
                    <version>3.9.0</version>
                    <version>3.10.0</version>
                    <version>3.11.0</version>
                    <version>3.12.0</version>
                    <version>3.13.0</version>
                                    <fixVersion>3.14.0</fixVersion>
                                    <component>camel-spring-boot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17453870" author="davsclaus" created="Mon, 6 Dec 2021 09:14:33 +0000"  >&lt;p&gt;Okay so a &quot;difference&quot; is that your spring boot application is packaged as a war and not a jar - most users use jar.&lt;/p&gt;</comment>
                            <comment id="17453872" author="davsclaus" created="Mon, 6 Dec 2021 09:16:35 +0000"  >&lt;p&gt;It works if you use packaging = jar&lt;/p&gt;</comment>
                            <comment id="17453885" author="davsclaus" created="Mon, 6 Dec 2021 09:45:29 +0000"  >&lt;p&gt;Added support for the WAR layout&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13037008" name="springboot-camel.zip" size="24950" author="michael.andre.pearce" created="Sat, 4 Dec 2021 21:52:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0xd00:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>