<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:53:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-17183] ClassNotFoundException while indexing data into Elasticsearch org.elasticsearch.common.CheckedConsumer</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-17183</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I am using below stack to index a data into Elasticsearch using Camel Elasticsearch component:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;b&gt;Elasticsearch 7.15.0&lt;/b&gt;&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;Apache Camel 3.12.0&lt;/b&gt;&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;Spring 5.3.12&lt;/b&gt;&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;Spring Boot 2.5.6&lt;/b&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;While indexing the data into Elasticsearch 7.15.0, I am getting &lt;b&gt;ClassNotFoundException: org.elasticsearch.common.CheckedConsumer&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;please have a look on the detailed error below:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.lang.ClassNotFoundException: org.elasticsearch.common.CheckedConsumer
at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[?:1.8.0_92]
at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:424) ~[?:1.8.0_92]
at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151) ~[indexer-IPM-12.0.4-CP4D-SNAPSHOT.jar:?]
at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:357) ~[?:1.8.0_92]
at org.apache.camel.component.elasticsearch.ElasticsearchProducer$HighLevelClient.&amp;lt;init&amp;gt;(ElasticsearchProducer.java:347) ~[camel-elasticsearch-&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;-3.12.0.jar:3.12.0]
at org.apache.camel.component.elasticsearch.ElasticsearchProducer$HighLevelClient.&amp;lt;init&amp;gt;(ElasticsearchProducer.java:345) ~[camel-elasticsearch-&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;-3.12.0.jar:3.12.0]
at org.apache.camel.component.elasticsearch.ElasticsearchProducer.process(ElasticsearchProducer.java:124) ~[camel-elasticsearch-&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;-3.12.0.jar:3.12.0]
at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:66) ~[camel-support-3.12.0.jar:3.12.0]
... 11 more &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I investigated the issue in details and came to know that package &lt;em&gt;org.elasticsearch.common.CheckedConsumer&lt;/em&gt; is present in &lt;em&gt;&lt;b&gt;elasticsearch-core-7.13.0.jar&lt;/b&gt;&lt;/em&gt; but the &lt;b&gt;common&lt;/b&gt; package is completely missing in &lt;em&gt;&lt;b&gt;elasticsearch-core-7.15.0.jar.&lt;/b&gt;&lt;/em&gt; This is why while talking with Elasticsearch using Apache Camel component we are getting this runtime error.&lt;/p&gt;

&lt;p&gt;Please have a look on the attached images for the package structure and class information in respective jars.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13410994">CAMEL-17183</key>
            <summary>ClassNotFoundException while indexing data into Elasticsearch org.elasticsearch.common.CheckedConsumer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10008">Information Provided</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nikhil_khode@persistent.com">Nikhil</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Nov 2021 07:59:30 +0000</created>
                <updated>Wed, 10 Nov 2021 09:27:23 +0000</updated>
                            <resolved>Wed, 10 Nov 2021 09:27:23 +0000</resolved>
                                    <version>3.12.0</version>
                                                    <component>camel-elasticsearch-rest</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17441589" author="ancosen" created="Wed, 10 Nov 2021 09:27:04 +0000"  >&lt;p&gt;The supported version of Elasticsearch is 7.8.0.&lt;/p&gt;

&lt;p&gt;From Elasticsearch 7.11 they changed the license of their client to something non-ASF.&lt;/p&gt;

&lt;p&gt;It is still not completely clear if this stuff is compatible or not with ASF license, but in the meantime we choose to not update. So 7.15 is not supported. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13035901" name="Elasticsearch7.13.0.png" size="16654" author="nikhil_khode@persistent.com" created="Wed, 10 Nov 2021 07:58:03 +0000"/>
                            <attachment id="13035900" name="Elasticsearch7.15.0.png" size="5177" author="nikhil_khode@persistent.com" created="Wed, 10 Nov 2021 07:58:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://stackoverflow.com/questions/69741584/classnotfoundexception-while-indexing-data-into-elasticsearch-org-elasticsearch]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>JAVA</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0wlnk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>