<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:45:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-4143] CxfPayload to Node conversion is not working properly </title>
                <link>https://issues.apache.org/jira/browse/CAMEL-4143</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;We are using &lt;tt&gt;camel-cxf&lt;/tt&gt; component and building it from the sources. Also we have slightly modified &lt;tt&gt;CxfPayloadConverterTest.testCxfPayloadToNode&lt;/tt&gt; test, added some additional checks. Here are the changes that were made to the test:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Index: CxfPayloadConverterTest.java
===================================================================
--- CxfPayloadConverterTest.java	(revision 6644)
+++ CxfPayloadConverterTest.java	(revision 6686)
@@ -49,6 +49,7 @@
         DocumentBuilderFactory documentBuilderFactory =
                 DocumentBuilderFactory.newInstance();
+        documentBuilderFactory.setNamespaceAware(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
         DocumentBuilder documentBuilder = documentBuilderFactory.newDocumentBuilder();
         document = documentBuilder.parse(file);
         document.getDocumentElement().normalize();
@@ -118,5 +119,13 @@
         exchange.getIn().setBody(payload);
         node = exchange.getIn().getBody(Node.class);
         assertNotNull(node);
+        Element root = (Element) node;
+        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;root element name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;root&quot;&lt;/span&gt;, root.getNodeName());
+        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;root element namespace&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.test.org/foo&quot;&lt;/span&gt;,
&lt;/span&gt;+                root.getNamespaceURI());
+        Element bar = (Element) root.getElementsByTagName(&lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;).item(0);
+        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;child element name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;, bar.getNodeName());
+        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;child element namespace&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.test.org/foo&quot;&lt;/span&gt;,
&lt;/span&gt;+                bar.getNamespaceURI());
     }
 } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since there is no explicit converter from &lt;tt&gt;CxfPayload&lt;/tt&gt; to &lt;tt&gt;Node&lt;/tt&gt; the fallback converter from &lt;tt&gt;CxfPayloadConverter&lt;/tt&gt; is used for this conversion. Fallback converter from &lt;tt&gt;CxfPayloadConverter&lt;/tt&gt; under the hood uses converters from &lt;tt&gt;XmlConverter&lt;/tt&gt;. There are two suitable converters in &lt;tt&gt;XmlConverter&lt;/tt&gt; class which are randomly selected. Some times &lt;tt&gt;public Element toDOMElement(Node node)&lt;/tt&gt; converter is used and some times &lt;tt&gt;public Document toDOMDocument(final Node node)&lt;/tt&gt; converter is used. If &lt;tt&gt;public Document toDOMDocument(final Node node)&lt;/tt&gt; converter is used then test fails with &lt;tt&gt;ClassCastException&lt;/tt&gt;. To avoid this, explicit converter from &lt;tt&gt;CxfPayload&lt;/tt&gt; to &lt;tt&gt;Node&lt;/tt&gt; should be added. Patch that adds &lt;tt&gt;CxfPayload&lt;/tt&gt; to &lt;tt&gt;Node&lt;/tt&gt; converter is provided. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12511324">CAMEL-4143</key>
            <summary>CxfPayload to Node conversion is not working properly </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="avenderov">Alexey Venderov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jun 2011 06:56:44 +0000</created>
                <updated>Tue, 25 Oct 2011 11:35:30 +0000</updated>
                            <resolved>Fri, 24 Jun 2011 06:28:31 +0000</resolved>
                                    <version>2.8.0</version>
                                    <fixVersion>2.7.3</fixVersion>
                    <fixVersion>2.8.0</fixVersion>
                                    <component>camel-cxf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13053674" author="avenderov" created="Thu, 23 Jun 2011 06:58:23 +0000"  >&lt;p&gt;Patch that adds new converter.&lt;/p&gt;</comment>
                            <comment id="13053686" author="nickolay_martinov" created="Thu, 23 Jun 2011 07:51:31 +0000"  >&lt;p&gt;The problem is not that there is ClassCastException. The problem is that sometimes converter returns Element and sometimes it returns Document. Behavior should be at least stable. Ideally behavior should be predictable.&lt;/p&gt;</comment>
                            <comment id="13054258" author="njiang" created="Fri, 24 Jun 2011 06:28:31 +0000"  >&lt;p&gt;Applied patch with thanks to Alexey.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12483548" name="CxfPayloadConverter.patch" size="786" author="avenderov" created="Thu, 23 Jun 2011 06:58:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13918</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01z3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9457</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Regression</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10092"><![CDATA[Unit Test Broken]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>