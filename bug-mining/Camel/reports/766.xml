<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:34:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-1994] WS-Adressing: No headers in the respose, [MAPs retrieved from message null]</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-1994</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I am using a cxf endpoint configured in POJO mode and running in wsdl-first-approach. When a web-service client(Soap-UI) send a request with headers, it expects headers back with appropriate response Action defined in wsdl, however, with this configuration no headers are not being sent back.&lt;/p&gt;

&lt;p&gt;Error seen on debug logs:&lt;br/&gt;
ContextUtils                   DEBUG retrieving MAPs from context property javax.xml.ws.addressing.context.inbound&lt;br/&gt;
ContextUtils                   WARN  WS-Addressing - failed to retrieve Message Addressing Properties from context&lt;br/&gt;
MAPAggregator                  DEBUG MAPs retrieved from message null&lt;br/&gt;
ContextUtils                   DEBUG retrieving MAPs from context property javax.xml.ws.addressing.context.outbound&lt;br/&gt;
ContextUtils                   WARN  WS-Addressing - failed to retrieve Message Addressing Properties from context&lt;br/&gt;
ContextUtils                   DEBUG retrieving MAPs from context property javax.xml.ws.addressing.context.outbound&lt;br/&gt;
ContextUtils                   WARN  WS-Addressing - failed to retrieve Message Addressing Properties from context&lt;/p&gt;


&lt;p&gt;Please find attached detailed logs, a sample project, and a sample xml request.&lt;/p&gt;

&lt;p&gt;Some more details:&lt;br/&gt;
Endpoint configuration: CxfEndpoint, WSAdressing Feature enabled, Wsdl First approach&lt;br/&gt;
Camel Version: 2.0.0&lt;br/&gt;
CXF Version: 2.2.2&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, Camel 2.0.0, JDK 1.5, Soap-UI&lt;/p&gt;</environment>
        <key id="12487022">CAMEL-1994</key>
            <summary>WS-Adressing: No headers in the respose, [MAPs retrieved from message null]</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="shailesh">Shailesh Soliwal</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Sep 2009 16:42:48 +0000</created>
                <updated>Thu, 3 Jun 2010 07:24:16 +0000</updated>
                            <resolved>Mon, 21 Sep 2009 13:26:32 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>camel-cxf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12952173" author="shailesh" created="Mon, 7 Sep 2009 16:45:46 +0000"  >&lt;p&gt;Error logfile, sample xml request and eclipse project&lt;/p&gt;</comment>
                            <comment id="12953174" author="wtam" created="Fri, 18 Sep 2009 22:14:23 +0000"  >&lt;p&gt;Hi Shailesh, thanks for the patience.  I created a smaller test case (wsa-test.patch) and I did see WS Addressing headers getting propagated in both directions (request and response).  However, the test client did not receive the response properly.  Willem has agreed to look into the issue.&lt;/p&gt;</comment>
                            <comment id="12946204" author="njiang" created="Mon, 21 Sep 2009 08:09:01 +0000"  >&lt;p&gt;Hi William, &lt;/p&gt;

&lt;p&gt;I found the key why your client can&apos;t get the right response.&lt;br/&gt;
It is because you use the simple front end instead of using JaxWs front end to create the end service and front client.  These server and client do not take the JAXWS annotation into consideration. So the route cxf endpoint which are created by the JAXWS front end can&apos;t understand the request and response message.&lt;/p&gt;

&lt;p&gt;Now It looks like the response message to the front client have a wrong RelatesTo ID, which is take from the real back end service. &lt;/p&gt;</comment>
                            <comment id="12946738" author="njiang" created="Mon, 21 Sep 2009 13:25:24 +0000"  >&lt;p&gt;This issue is caused by current camel-cxf component doesn&apos;t copy the &quot;javax.xml.ws.addressing.*&quot; header from the cxf Exchange inMessage to the outMessage, so the ContextUtils complains about it can&apos;t find the right header to generate a right ws addressing header.&lt;br/&gt;
I just committed a quick fix for this issue, by copying the header in CxfConsumer&apos;s invoker.&lt;/p&gt;</comment>
                            <comment id="12946762" author="njiang" created="Mon, 21 Sep 2009 13:26:32 +0000"  >&lt;p&gt;trunk &lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=817240&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=817240&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12946280" author="shailesh" created="Tue, 22 Sep 2009 03:22:47 +0000"  >&lt;p&gt;Hi Willem,&lt;br/&gt;
Thank for providing the fix so quickly. &lt;br/&gt;
I would like to test this in project, is there a way i can get a copy of the jar, since I don&apos;t have the camel Development environment setup?&lt;/p&gt;

&lt;p&gt;I tried looking up in the snapshot repository, but couldn&apos;t find the updated library (21/Sep/09)&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/camel/camel-cxf/2.1-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/camel/camel-cxf/2.1-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Shailesh.&lt;/p&gt;
</comment>
                            <comment id="12950261" author="njiang" created="Tue, 22 Sep 2009 13:52:37 +0000"  >&lt;p&gt;@Shailesh&lt;br/&gt;
You find the right snapshot position, but I don&apos;t know why the jar file is not updated.&lt;br/&gt;
There are some thing wrong with the deployment of camel. &lt;br/&gt;
Maybe you need to check out the Camel source code from here&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and run &lt;br/&gt;
&quot;mvn clean install -Dtest=false&quot; from the root to build the code yourself.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/repos/asf/camel/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/camel/trunk&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="12950269" author="davsclaus" created="Tue, 22 Sep 2009 14:01:48 +0000"  >&lt;p&gt;I have asked Gert V. to force an update at Hudson.&lt;/p&gt;

&lt;p&gt;So take a look in the next day or so, to see if the Apache repository is not updated using that URI you found (its the correct one).&lt;/p&gt;</comment>
                            <comment id="12956330" author="davsclaus" created="Thu, 3 Jun 2010 07:24:16 +0000"  >&lt;p&gt;Closing old resolved issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12462821" name="IHEXDS.zip" size="121296" author="shailesh" created="Mon, 7 Sep 2009 16:55:44 +0000"/>
                            <attachment id="12462809" name="ebxml_request.xml" size="1626" author="shailesh" created="Mon, 7 Sep 2009 16:45:46 +0000"/>
                            <attachment id="12462808" name="logs.txt" size="80138" author="shailesh" created="Mon, 7 Sep 2009 16:45:46 +0000"/>
                            <attachment id="12462810" name="wsa-test.patch" size="16639" author="wtam" created="Fri, 18 Sep 2009 22:14:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01luf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>