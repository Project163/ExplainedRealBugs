<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:02:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-7428] Simple Language - Operators are not evaluated for setting body or headers</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-7428</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Operators are not evaluated if using &lt;tt&gt;simple&lt;/tt&gt; for setting bodies or headers:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:simple&quot;&lt;/span&gt;)
    .setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;myHeader&quot;&lt;/span&gt;).simple(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; == &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;.class)
    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;header = [${header.myHeader}]&quot;&lt;/span&gt;)
    .setBody(simple(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; == &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;.class))
    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;body = [${body}]&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output is as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INFO  header = [&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;]
INFO  body = [&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The outcome should be &lt;tt&gt;true&lt;/tt&gt; in both cases.&lt;/p&gt;

&lt;p&gt;Also, see &lt;a href=&quot;http://stackoverflow.com/questions/23523409/camel-how-to-set-boolean-header-parameter-using-simple-comparison/23560989#23560989&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/23523409/camel-how-to-set-boolean-header-parameter-using-simple-comparison/23560989#23560989&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12713278">CAMEL-7428</key>
            <summary>Simple Language - Operators are not evaluated for setting body or headers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="Peter Keller">Peter Keller</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 May 2014 09:19:57 +0000</created>
                <updated>Wed, 4 Jun 2014 17:02:54 +0000</updated>
                            <resolved>Sun, 11 May 2014 09:23:02 +0000</resolved>
                                    <version>2.12.3</version>
                    <version>2.13.0</version>
                                    <fixVersion>2.12.4</fixVersion>
                    <fixVersion>2.13.1</fixVersion>
                    <fixVersion>2.14.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13994447" author="davsclaus" created="Sun, 11 May 2014 06:44:54 +0000"  >&lt;p&gt;Can you test with 2.13.0 or 2.12.x SNAPSHOT as we ought to have fixed this recently.&lt;/p&gt;</comment>
                            <comment id="13994469" author="peter keller" created="Sun, 11 May 2014 08:12:34 +0000"  >&lt;p&gt;I tested with 2.13.0, 2.13-SNAPSHOT and 2.12-SNAPSHOT and none of them handled the operators correctly.&lt;/p&gt;</comment>
                            <comment id="13994470" author="davsclaus" created="Sun, 11 May 2014 08:22:18 +0000"  >&lt;p&gt;Use a better/real life use case than true == true.&lt;/p&gt;

&lt;p&gt;You may need to do&lt;/p&gt;

&lt;p&gt;${true} == true&lt;/p&gt;</comment>
                            <comment id="13994479" author="peter keller" created="Sun, 11 May 2014 08:54:18 +0000"  >&lt;p&gt;Using &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;${&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;fails with &lt;tt&gt;Unknown function: true&lt;/tt&gt;? &lt;/p&gt;

&lt;p&gt;I tested with &lt;tt&gt;&apos;hello&apos; == &apos;hello&apos;&lt;/tt&gt; and &lt;tt&gt;&apos;hello&apos; contains &apos;hello&apos;&lt;/tt&gt; and both return &lt;tt&gt;false&lt;/tt&gt; instead of &lt;tt&gt;true&lt;/tt&gt;. The following more complete and realistic scenario fails too:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:simple&quot;&lt;/span&gt;)
    .setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;param1&quot;&lt;/span&gt;, constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;hello&quot;&lt;/span&gt;))
    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;param1 = ${header.param1}&quot;&lt;/span&gt;)
    .setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;param2&quot;&lt;/span&gt;).simple(&lt;span class=&quot;code-quote&quot;&gt;&quot;${header.param1} == &lt;span class=&quot;code-quote&quot;&gt;&apos;hello&apos;&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;.class)
    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;param2 = ${header.param2}&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This logs:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;INFO  param1 = hello
INFO  param2 = false
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13994480" author="davsclaus" created="Sun, 11 May 2014 08:58:36 +0000"  >&lt;p&gt;Do NOT use literals, but you must have a function on the left hand side, such as &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;${body}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; or&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; ${header.foo}.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt; The simple language is not for evaluating &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; == &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;  or&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-quote&quot;&gt;&apos;hello&apos;&lt;/span&gt; == &lt;span class=&quot;code-quote&quot;&gt;&apos;hello&apos;&lt;/span&gt;&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;. That is NOT its purpose. It is for evaluating data from the Camel Exchange / Message.&lt;/p&gt;</comment>
                            <comment id="13994483" author="peter keller" created="Sun, 11 May 2014 09:04:58 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;${header.param1} == &lt;span class=&quot;code-quote&quot;&gt;&apos;hello&apos;&lt;/span&gt;&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;has a function on the left hand side and doesn&apos;t work? By the way&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;${header.param1} == ${header.param1}&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;does&apos;t work neither.&lt;/p&gt;</comment>
                            <comment id="13994487" author="davsclaus" created="Sun, 11 May 2014 09:23:02 +0000"  >&lt;p&gt;This has been fixed and works fine.&lt;br/&gt;
I added your example as an unit test too&lt;/p&gt;

&lt;p&gt;You need to build from source if you want to test with SNAPSHOT&lt;/p&gt;
</comment>
                            <comment id="13994489" author="peter keller" created="Sun, 11 May 2014 09:33:26 +0000"  >&lt;p&gt;I guess fix version 2.13.0 is wrong as I tested with this version and it does not work properly. It would be helpful to link to the original issue, however I didn&apos;t find it.&lt;/p&gt;</comment>
                            <comment id="13994495" author="peter keller" created="Sun, 11 May 2014 09:42:24 +0000"  >&lt;p&gt;Thanks for updating the fix versions and the link.&lt;/p&gt;</comment>
                            <comment id="13994496" author="davsclaus" created="Sun, 11 May 2014 09:45:25 +0000"  >&lt;p&gt;There is a 2.13.1 RC you can give a test spin&lt;br/&gt;
&lt;a href=&quot;http://camel.465427.n5.nabble.com/VOTE-Release-Apache-Camel-2-13-1-td5750981.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.465427.n5.nabble.com/VOTE-Release-Apache-Camel-2-13-1-td5750981.html&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12701776">CAMEL-7298</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>391594</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vfyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>391806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>