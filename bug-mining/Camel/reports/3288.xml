<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:09:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-8895] camel-swagger component throws exception, when multiple different camel-contexts in jmx</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-8895</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When deploying multiple camel-contexts (in different wars!) to a tomcat and one of the camel-contexts is e.g. of version 2.13.0, the camel-context that uses camel-swagger throws following exception when accessing /api-docs.&lt;br/&gt;
Additionally it is not possible to deploy 2 camel-swagger using webapps, because only one set of rest-methods (of one of the deployed contexts!) are exported via /api-docs.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;javax.servlet.ServletException: Servlet execution threw an exception
	org.apache.camel.component.swagger.RestSwaggerCorsFilter.doFilter(RestSwaggerCorsFilter.scala:44)

root cause

javax.management.MBeanException: Operation dumpRestsAsXml not in ModelMBeanInfo
	javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:961)
	com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	org.apache.camel.component.swagger.DefaultCamelSwaggerServlet.getRestDefinitions(DefaultCamelSwaggerServlet.scala:49)
	org.apache.camel.component.swagger.RestSwaggerApiDeclarationServlet.renderResourceListing(RestSwaggerApiDeclarationServlet.scala:168)
	org.apache.camel.component.swagger.RestSwaggerApiDeclarationServlet.doGet(RestSwaggerApiDeclarationServlet.scala:98)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	org.apache.camel.component.swagger.RestSwaggerCorsFilter.doFilter(RestSwaggerCorsFilter.scala:44)

root cause

javax.management.ServiceNotFoundException: Operation dumpRestsAsXml not in ModelMBeanInfo
	javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:961)
	com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	org.apache.camel.component.swagger.DefaultCamelSwaggerServlet.getRestDefinitions(DefaultCamelSwaggerServlet.scala:49)
	org.apache.camel.component.swagger.RestSwaggerApiDeclarationServlet.renderResourceListing(RestSwaggerApiDeclarationServlet.scala:168)
	org.apache.camel.component.swagger.RestSwaggerApiDeclarationServlet.doGet(RestSwaggerApiDeclarationServlet.scala:98)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	org.apache.camel.component.swagger.RestSwaggerCorsFilter.doFilter(RestSwaggerCorsFilter.scala:44)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Linux, Tomcat 7&lt;/p&gt;</environment>
        <key id="12840040">CAMEL-8895</key>
            <summary>camel-swagger component throws exception, when multiple different camel-contexts in jmx</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jens.behrens">Jens Behrens</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Jun 2015 05:54:30 +0000</created>
                <updated>Wed, 24 Jun 2015 07:52:29 +0000</updated>
                            <resolved>Wed, 24 Jun 2015 06:08:58 +0000</resolved>
                                    <version>2.15.1</version>
                                                    <component>camel-swagger</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14598916" author="davsclaus" created="Wed, 24 Jun 2015 06:08:58 +0000"  >&lt;p&gt;You need to use Camel 2.15+ for swagger support. &lt;/p&gt;

&lt;p&gt;There is another ticket about making one deployment of camel-swagger support different contexts.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8175&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-8175&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14598923" author="jens.behrens" created="Wed, 24 Jun 2015 06:13:07 +0000"  >&lt;p&gt;But actually shouldn&apos;t it be possible to deploy different (and other applications) of older camel-version within the same tomcat? I didn&apos;t want to use camel-swagger in the other application that broke my camel-swagger webapp.&lt;/p&gt;</comment>
                            <comment id="14598944" author="jens.behrens" created="Wed, 24 Jun 2015 06:28:38 +0000"  >&lt;p&gt;Scenario 1:&lt;br/&gt;
Let&apos;s assume we have 2 webapps A and B.&lt;br/&gt;
A is a webapp using camel-swagger in its camel-context ctx1 (camel 2.15.1)&lt;br/&gt;
B is a completely different webapp not using camel-swagger but other components in its camel-context ctx2 (camel 2.13.0)&lt;br/&gt;
In this scenario the webapp is throwing the mentioned exception.&lt;/p&gt;

&lt;p&gt;Scenario 2:&lt;br/&gt;
Let&apos;s again assume we have 2 webapps A and B&lt;br/&gt;
A is a webapp using camel-swagger in its camel-context ctx1 (camel 2.15.1)&lt;br/&gt;
B is a webapp using camel-swagger in its camel-context ctx2 (camel 2.15.1)&lt;br/&gt;
In this scenario the both webapps are exporting api-docs of webapp A (and only these). Shouldn&apos;t this be seperated?&lt;br/&gt;
I would assume that accessing webapp A i get the api-docs of only the rest-methods of webapp A and when I access B I should only get the api-docs of the methods from B.&lt;br/&gt;
So I think Scenario 2 is ment to be solved by &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8175&quot; title=&quot;camel-swagger - Add support for multiple CamelContexts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8175&quot;&gt;&lt;del&gt;CAMEL-8175&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14599026" author="davsclaus" created="Wed, 24 Jun 2015 07:52:05 +0000"  >&lt;p&gt;I added support for filtering out older Camel releases that dont include rest-dsl that fixes scenario 1. And yes the other ticket is about scenario 2.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gf2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>