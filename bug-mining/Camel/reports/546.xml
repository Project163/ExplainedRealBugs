<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:31:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-1488] BeanInfo.overridesExistingMethod() doesn&apos;t handle overloaded methods correctly.</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-1488</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Camel can fail to determine the appropriate method to call on a bean that has overloaded (vs. overridden) methods. It will always call the first overloaded method, even if the parameter is not the same type as that of the message being processed.&lt;/p&gt;

&lt;p&gt;The bug is in BeanInfo.overridesExistingMethod. Here&apos;s the offending code:&lt;/p&gt;

&lt;p&gt;            for (int i = 0; i &amp;lt; info.getMethod().getParameterTypes().length; i++) {&lt;br/&gt;
                Class type1 = info.getMethod().getParameterTypes()&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;;&lt;br/&gt;
                Class type2 = methodInfo.getMethod().getParameterTypes()&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;;&lt;br/&gt;
                if (!type1.equals(type2)) &lt;/p&gt;
{
                    continue;
                }
&lt;p&gt;            }&lt;/p&gt;

&lt;p&gt;            // same name, same parameters, then its overrides an existing class&lt;br/&gt;
            return info;&lt;/p&gt;

&lt;p&gt;If the parameter types don&apos;t match, the continue statement is not going to do what you&apos;d want. The author obviously intended the &quot;continue&quot; to continue with the next methodInfo. Instead, it checks the next parameter and will always return the current methodInfo  if it reaches this point.&lt;/p&gt;

&lt;p&gt;Here&apos;s a unit test that exemplifies the issue:&lt;/p&gt;

&lt;p&gt;----------------------------------&lt;/p&gt;

&lt;p&gt;package biz.firethorn.hostinterface.camel;&lt;/p&gt;

&lt;p&gt;import java.lang.reflect.Method;&lt;/p&gt;

&lt;p&gt;import junit.framework.Assert;&lt;br/&gt;
import junit.framework.TestCase;&lt;/p&gt;

&lt;p&gt;import org.apache.camel.CamelContext;&lt;br/&gt;
import org.apache.camel.Exchange;&lt;br/&gt;
import org.apache.camel.Message;&lt;br/&gt;
import org.apache.camel.RuntimeCamelException;&lt;br/&gt;
import org.apache.camel.component.bean.AmbiguousMethodCallException;&lt;br/&gt;
import org.apache.camel.component.bean.BeanInfo;&lt;br/&gt;
import org.apache.camel.component.bean.MethodInvocation;&lt;br/&gt;
import org.apache.camel.impl.DefaultCamelContext;&lt;br/&gt;
import org.apache.camel.impl.DefaultExchange;&lt;br/&gt;
import org.apache.camel.impl.DefaultMessage;&lt;/p&gt;

&lt;p&gt;public class BeanInfoTest extends TestCase {&lt;/p&gt;

&lt;p&gt;	public void test() throws Exception &lt;/p&gt;
{
		
		CamelContext camelContext = new DefaultCamelContext();
		BeanInfo beanInfo = new BeanInfo(camelContext, Bean.class);
		
		Message message = new DefaultMessage();
		message.setBody(new RequestB());
		Exchange exchange = new DefaultExchange(camelContext);
		exchange.setIn(message);
		
		MethodInvocation methodInvocation = beanInfo.createInvocation(new Bean(), exchange);
		Method method = methodInvocation.getMethod();
		
		Assert.assertEquals(&quot;doSomething&quot;, method.getName());
		
		Assert.assertEquals(RequestB.class, method.getGenericParameterTypes()[0]);
	}
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;class Bean {&lt;br/&gt;
	public void doSomething(RequestA request) {	&lt;br/&gt;
	}&lt;/p&gt;

&lt;p&gt;	public void doSomething(RequestB request) {&lt;br/&gt;
	}&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;class RequestA {&lt;br/&gt;
	public int i;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;class RequestB {&lt;br/&gt;
	public String s;&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12484969">CAMEL-1488</key>
            <summary>BeanInfo.overridesExistingMethod() doesn&apos;t handle overloaded methods correctly.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                            <parent id="12485443">CAMEL-1424</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="belmore">Bruce Elmore</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Mar 2009 20:18:08 +0000</created>
                <updated>Sat, 21 Nov 2009 11:57:56 +0000</updated>
                            <resolved>Thu, 26 Mar 2009 09:23:05 +0000</resolved>
                                    <version>2.0-M1</version>
                                    <fixVersion>1.6.1</fixVersion>
                    <fixVersion>2.0-M2</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12951418" author="davsclaus" created="Thu, 26 Mar 2009 07:15:16 +0000"  >&lt;p&gt;Thanks Bruce.&lt;/p&gt;

&lt;p&gt;I will look into it.&lt;/p&gt;</comment>
                            <comment id="12951427" author="davsclaus" created="Thu, 26 Mar 2009 09:23:05 +0000"  >&lt;p&gt;2.0: 758563&lt;br/&gt;
1.x: 758569&lt;/p&gt;</comment>
                            <comment id="12951426" author="belmore" created="Thu, 26 Mar 2009 13:03:43 +0000"  >&lt;p&gt;Claus,&lt;/p&gt;

&lt;p&gt;Thanks for taking care of this so quickly! Greatly appreciated!&lt;/p&gt;

&lt;p&gt;Bruce&lt;/p&gt;
</comment>
                            <comment id="12953594" author="davsclaus" created="Sat, 21 Nov 2009 11:57:56 +0000"  >&lt;p&gt;Closing all 2.0M2 tickets&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12462901" name="BeanInfoTest.java" size="1507" author="belmore" created="Wed, 25 Mar 2009 20:21:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01ipz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6802</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>