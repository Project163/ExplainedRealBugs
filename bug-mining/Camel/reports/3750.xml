<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:17:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-10144] Salesforce keeps breaking backward compatibility by adding fields to older API versions</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-10144</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Salesforce adds fields to org.apache.camel.component.salesforce.api.dto.RestResources even after an API has been released. This needs to be handled in the component by ignoring unknown properties for that type. &lt;/p&gt;

&lt;p&gt;XStream doesn&apos;t support doing this for an single DTO, but it can be done for all types by using XStream.ignoreUknownProperties(). It will make it ignore all unknown properties for all inbuilt DTOs as wells user generated ones. But since the XML payload is less popular, hopefully this behavior won&apos;t be an issue. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12989317">CAMEL-10144</key>
            <summary>Salesforce keeps breaking backward compatibility by adding fields to older API versions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dhirajsb">Dhiraj Sureshkumar Bokde</assignee>
                                    <reporter username="dhirajsb">Dhiraj Sureshkumar Bokde</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Jul 2016 02:06:04 +0000</created>
                <updated>Wed, 27 Jul 2016 20:44:45 +0000</updated>
                            <resolved>Thu, 14 Jul 2016 06:41:23 +0000</resolved>
                                    <version>2.17.2</version>
                    <version>2.18.0</version>
                                    <fixVersion>2.17.3</fixVersion>
                    <fixVersion>2.18.0</fixVersion>
                                    <component>camel-salesforce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15376215" author="dhirajsb" created="Thu, 14 Jul 2016 02:40:17 +0000"  >&lt;p&gt;This is a generic problem with Salesforce, so the solution is to follow the REST principle of ignoring unknown fields altogether. This behaviour will be common to JSON and XML and will avoid future issues where running code breaks in production because Salesforce decided to add fields from new APIs in responses to older API versions. &lt;/p&gt;</comment>
                            <comment id="15376419" author="dhirajsb" created="Thu, 14 Jul 2016 06:41:24 +0000"  >&lt;p&gt;Fixed on branches master and camel-2.17.x&lt;/p&gt;</comment>
                            <comment id="15393851" author="ssatguru" created="Tue, 26 Jul 2016 14:14:38 +0000"  >&lt;p&gt;The fix doesn&apos;t seem to be working. &lt;/p&gt;

&lt;p&gt;As part if this fix the annotation &lt;br/&gt;
@JsonIgnoreProperties(ignoreUnknown = true) &lt;br/&gt;
was added to the base class  &quot;AbstractDTOBase&quot; &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/blob/master/components/camel-salesforce/camel-salesforce-component/src/main/java/org/apache/camel/component/salesforce/api/dto/AbstractDTOBase.java#L31&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/blob/master/components/camel-salesforce/camel-salesforce-component/src/main/java/org/apache/camel/component/salesforce/api/dto/AbstractDTOBase.java#L31&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Unfortunately this annotation  has not been defined as &quot;@Inherited&quot; and  thus is not inherited by the sub classes. &lt;/p&gt;

&lt;p&gt;Maybe this annotation should be added to &quot;sobject-pojo.vm&quot; so that it gets added to each of the generated classes &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/blob/master/components/camel-salesforce/camel-salesforce-maven-plugin/src/main/resources/sobject-pojo.vm&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/blob/master/components/camel-salesforce/camel-salesforce-maven-plugin/src/main/resources/sobject-pojo.vm&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15394198" author="dhirajsb" created="Tue, 26 Jul 2016 17:53:57 +0000"  >&lt;p&gt;Interesting point about the &lt;tt&gt;@Inherited&lt;/tt&gt; annotation, but the effect seems to be that it&apos;s being inherited. Try removing the annotation from &lt;tt&gt;AbstractDTOBase&lt;/tt&gt; and running the test &lt;tt&gt;RestApiIntegrationTest.testGetResources&lt;/tt&gt;, it should fail without the annotation on the base class. This is on both &lt;em&gt;master&lt;/em&gt; and &lt;em&gt;camel-2.17-x&lt;/em&gt; branches even though they use different version of jackson. &lt;/p&gt;</comment>
                            <comment id="15394438" author="ssatguru" created="Tue, 26 Jul 2016 19:56:16 +0000"  >&lt;p&gt;Never looked into RestResources. Let me check why that works. I suspect something to do with XStream VS Jackson processing&lt;br/&gt;
Now what I did look into and tested, was user generated DTO . So, for example, if I create a DTO for say Account sObject and then somebody, later on, adds a new,  say, a custom field, to Account, the deserialization fails. If the annotation is added to the generated class rather then the base class, deserialization  passes.&lt;/p&gt;</comment>
                            <comment id="15394597" author="dhirajsb" created="Tue, 26 Jul 2016 21:40:52 +0000"  >&lt;p&gt;I ran the test &lt;tt&gt;RestApiIntegrationTest.testGetBlobField&lt;/tt&gt; after commenting out the field &lt;a href=&quot;https://github.com/apache/camel/blob/camel-2.17.x/components/camel-salesforce/camel-salesforce-component/src/test/java/org/apache/camel/component/salesforce/dto/generated/Document.java#L201-L213&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;isBodySearchable&lt;/a&gt; and it ran without any errors. If the annotation didn&apos;t work in the base class, the missing field would have caused the test to fail. BTW, the field does return a non-default &lt;tt&gt;true&lt;/tt&gt; value when it&apos;s present in the class. &lt;br/&gt;
Try your test by commenting out an existing field from the generated Account DTO. Not sure why that case would be different from when a new Salesforce field is added, but give it a shot. &lt;/p&gt;</comment>
                            <comment id="15396336" author="ssatguru" created="Wed, 27 Jul 2016 20:44:45 +0000"  >&lt;p&gt;You are right.&lt;br/&gt;
Its working as expected.&lt;br/&gt;
Not sure why though  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Please ignore&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30yaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>