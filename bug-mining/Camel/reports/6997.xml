<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:09:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-21614] Simple expressions execute forever. Thread is RUNNABLE for ever. Issue appears with bean expressions inside simple expressions on SimpleLRUCache</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-21614</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;This is a Follow-Up on this issue:&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-21467&quot; title=&quot;Simple expressions execute forever. Thread is RUNNABLE for ever. Issue appears with bean expressions inside simple expressions on SimpleLRUCache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-21467&quot;&gt;&lt;del&gt;CAMEL-21467&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Unfortunately we are still experiencing the same issue with threads getting stuck in the state RUNNABLE. It seems like the frequency of the issue has greatly decreased though. We have had it twice in about a month.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Threaddump:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;Camel (camel-1) thread #4 - timer://my-timer&quot; - Thread t@65
&#160; &#160;java.lang.Thread.State: RUNNABLE
&#160; &#160; at org.apache.camel.support.cache.SimpleLRUCache$OperationContext.close(SimpleLRUCache.java:309)
&#160; &#160; at org.apache.camel.support.cache.SimpleLRUCache.put(SimpleLRUCache.java:104)
&#160; &#160; at org.apache.camel.support.cache.SimpleSoftCache.put(SimpleSoftCache.java:114)
&#160; &#160; at org.apache.camel.component.bean.BeanComponent.addBeanInfoToCache(BeanComponent.java:96)
&#160; &#160; at org.apache.camel.component.bean.BeanInfo.&amp;lt;init&amp;gt;(BeanInfo.java:169)
&#160; &#160; at org.apache.camel.component.bean.ConstantBeanHolder.&amp;lt;init&amp;gt;(ConstantBeanHolder.java:50)
&#160; &#160; at org.apache.camel.language.bean.BeanExpression.createBeanHolder(BeanExpression.java:303)
&#160; &#160; at org.apache.camel.language.bean.BeanExpression.init(BeanExpression.java:175)
&#160; &#160; at org.apache.camel.language.bean.BeanLanguage.createExpression(BeanLanguage.java:148)
&#160; &#160; at org.apache.camel.language.simple.SimpleExpressionBuilder$KeyedOgnlExpressionAdapter.evaluate(SimpleExpressionBuilder.java:1251)
&#160; &#160; at org.apache.camel.support.ExpressionAdapter.evaluate(ExpressionAdapter.java:45)
&#160; &#160; at org.apache.camel.support.builder.ExpressionBuilder$62.evaluate(ExpressionBuilder.java:2105)
&#160; &#160; at org.apache.camel.support.ExpressionAdapter.evaluate(ExpressionAdapter.java:45)
&#160; &#160; at org.apache.camel.processor.LogProcessor.process(LogProcessor.java:71)
&#160; &#160; at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.doRun(RedeliveryErrorHandler.java:808)
&#160; &#160; at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.run(RedeliveryErrorHandler.java:714)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeFromQueue(DefaultReactiveExecutor.java:240)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor.executeFromQueue(DefaultReactiveExecutor.java:77)
&#160; &#160; at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.await(DefaultAsyncProcessorAwaitManager.java:95)
&#160; &#160; at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:84)
&#160; &#160; at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:178)
&#160; &#160; at org.apache.camel.impl.engine.CamelInternalProcessor.processTransacted(CamelInternalProcessor.java:390)
&#160; &#160; at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:320)
&#160; &#160; at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:102)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeFromQueue(DefaultReactiveExecutor.java:240)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor.executeFromQueue(DefaultReactiveExecutor.java:77)
&#160; &#160; at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.await(DefaultAsyncProcessorAwaitManager.java:95)
&#160; &#160; at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:84)
&#160; &#160; at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:32)
&#160; &#160; at org.apache.camel.impl.engine.CamelInternalProcessor.processTransacted(CamelInternalProcessor.java:390)
&#160; &#160; at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:320)
&#160; &#160; at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:102)
&#160; &#160; at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:208)
&#160; &#160; at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.doRun(RedeliveryErrorHandler.java:808)
&#160; &#160; at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.run(RedeliveryErrorHandler.java:714)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeFromQueue(DefaultReactiveExecutor.java:240)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor.executeFromQueue(DefaultReactiveExecutor.java:77)
&#160; &#160; at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.await(DefaultAsyncProcessorAwaitManager.java:95)
&#160; &#160; at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:84)
&#160; &#160; at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:178)
&#160; &#160; at org.apache.camel.impl.engine.CamelInternalProcessor.processTransacted(CamelInternalProcessor.java:390)
&#160; &#160; at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:320)
&#160; &#160; at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:102)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeFromQueue(DefaultReactiveExecutor.java:240)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor.executeFromQueue(DefaultReactiveExecutor.java:77)
&#160; &#160; at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.await(DefaultAsyncProcessorAwaitManager.java:95)
&#160; &#160; at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:84)
&#160; &#160; at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:178)
&#160; &#160; at org.apache.camel.impl.engine.CamelInternalProcessor.processTransacted(CamelInternalProcessor.java:390)
&#160; &#160; at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:320)
&#160; &#160; at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:102)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeFromQueue(DefaultReactiveExecutor.java:240)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor.executeFromQueue(DefaultReactiveExecutor.java:77)
&#160; &#160; at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.await(DefaultAsyncProcessorAwaitManager.java:95)
&#160; &#160; at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:84)
&#160; &#160; at org.apache.camel.spring.spi.TransactionErrorHandler.processByErrorHandler(TransactionErrorHandler.java:244)
&#160; &#160; at org.apache.camel.spring.spi.TransactionErrorHandler.process(TransactionErrorHandler.java:119)
&#160; &#160; at org.apache.camel.spring.spi.TransactionErrorHandler.process(TransactionErrorHandler.java:132)
&#160; &#160; at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.doRun(RedeliveryErrorHandler.java:808)
&#160; &#160; at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.run(RedeliveryErrorHandler.java:714)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeFromQueue(DefaultReactiveExecutor.java:240)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor.executeFromQueue(DefaultReactiveExecutor.java:77)
&#160; &#160; at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.await(DefaultAsyncProcessorAwaitManager.java:95)
&#160; &#160; at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:84)
&#160; &#160; at org.apache.camel.spring.spi.TransactionErrorHandler.processByErrorHandler(TransactionErrorHandler.java:244)
&#160; &#160; at org.apache.camel.spring.spi.TransactionErrorHandler$1.doInTransactionWithoutResult(TransactionErrorHandler.java:207)
&#160; &#160; at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:36)
&#160; &#160; at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
&#160; &#160; at org.apache.camel.spring.spi.TransactionErrorHandler.doInTransactionTemplate(TransactionErrorHandler.java:200)
&#160; &#160; at org.apache.camel.spring.spi.TransactionErrorHandler.processInTransaction(TransactionErrorHandler.java:155)
&#160; &#160; at org.apache.camel.spring.spi.TransactionErrorHandler.process(TransactionErrorHandler.java:123)
&#160; &#160; at org.apache.camel.spring.spi.TransactionErrorHandler.process(TransactionErrorHandler.java:132)
&#160; &#160; at org.apache.camel.impl.engine.CamelInternalProcessor.processNonTransacted(CamelInternalProcessor.java:347)
&#160; &#160; at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:323)
&#160; &#160; at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:102)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.doRun(DefaultReactiveExecutor.java:199)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeReactiveWork(DefaultReactiveExecutor.java:189)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.tryExecuteReactiveWork(DefaultReactiveExecutor.java:166)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:148)
&#160; &#160; at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
&#160; &#160; at org.apache.camel.processor.Pipeline.process(Pipeline.java:163)
&#160; &#160; at org.apache.camel.impl.engine.CamelInternalProcessor.processNonTransacted(CamelInternalProcessor.java:347)
&#160; &#160; at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:323)
&#160; &#160; at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:293)
&#160; &#160; at org.apache.camel.component.timer.TimerConsumer$1.doRun(TimerConsumer.java:164)
&#160; &#160; at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:136)
&#160; &#160; at java.base@21.0.2/java.util.TimerThread.mainLoop(Timer.java:566)
&#160; &#160; at java.base@21.0.2/java.util.TimerThread.run(Timer.java:516)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is basically exactly the second case from my previous issue and seems to occur in this route:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(direct(getDeliverRecipientRouteId()))
        .routeId(getDeliverRecipientRouteId())
        .startupOrder(1)
        .policy(txJmsPropagationRequiresNew)
        .choice()
            .when(not(isPageable))
                .log(LoggingLevel.INFO, log, &lt;span class=&quot;code-quote&quot;&gt;&quot;--- Sending data message to queue=&quot;&lt;/span&gt; + getRecipientQueueName())
            .when(currentStatusIs(StockRequestStatus.DATA))
                .log(LoggingLevel.INFO, log, &lt;span class=&quot;code-quote&quot;&gt;&quot;--- Sending data message &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; page=${exchangeProperty.&quot;&lt;/span&gt;
                        + Exchange.LOOP_INDEX + &lt;span class=&quot;code-quote&quot;&gt;&quot;} to queue=&quot;&lt;/span&gt; + getRecipientQueueName())
            .otherwise()
                .log(LoggingLevel.INFO, log, &lt;span class=&quot;code-quote&quot;&gt;&quot;--- Sending control message &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; status=${exchangeProperty.&quot;&lt;/span&gt;
                        + PROPERTY_REQUEST + &lt;span class=&quot;code-quote&quot;&gt;&quot;.status} to queue=&quot;&lt;/span&gt; + getRecipientQueueName())
        .end()
        .convertBodyTo(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class)
        .to(getJmsUriToRecipientQueue()); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Regarding &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;&apos;s question in the last issue (which apparently I have overseen):&lt;/p&gt;

&lt;p&gt;The bean referenced via PROPERTY_REQUEST looks something like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Data
@RequiredArgsConstructor
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyRequest &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; BaseRequest&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;, MyRequestDataType&amp;gt; {

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; COLUMN_FROM_REVISION = &lt;span class=&quot;code-quote&quot;&gt;&quot;FROM_REVISION&quot;&lt;/span&gt;;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; COLUMN_TO_REVISION = &lt;span class=&quot;code-quote&quot;&gt;&quot;TO_REVISION&quot;&lt;/span&gt;;

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; id;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; RequestStatus status;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; RequestDataType dataType;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; Instant timestamp;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; fromRevision;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; toRevision;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; errorMessage;
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;// the implemented interface&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; BaseRequest&amp;lt;ID, D &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; RequestDataType&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Serializable {

    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; COLUMN_ID = &lt;span class=&quot;code-quote&quot;&gt;&quot;ID&quot;&lt;/span&gt;;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; COLUMN_STATUS = &lt;span class=&quot;code-quote&quot;&gt;&quot;STATUS&quot;&lt;/span&gt;;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; COLUMN_DATATYPE = &lt;span class=&quot;code-quote&quot;&gt;&quot;DATATYPE&quot;&lt;/span&gt;;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; COLUMN_FROM = &lt;span class=&quot;code-quote&quot;&gt;&quot;\&quot;&lt;/span&gt;FROM\&quot;&quot;;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; COLUMN_TO = &lt;span class=&quot;code-quote&quot;&gt;&quot;\&quot;&lt;/span&gt;TO\&quot;&quot;;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; COLUMN_TIMESTAMP = &lt;span class=&quot;code-quote&quot;&gt;&quot;\&quot;&lt;/span&gt;TIMESTAMP\&quot;&quot;;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; COLUMN_ERROR_MESSAGE = &lt;span class=&quot;code-quote&quot;&gt;&quot;ERROR_MESSAGE&quot;&lt;/span&gt;;

    ID getId();

    void setId(ID id);

    RequestStatus getStatus();

    void setStatus(RequestStatus status);

    D getDataType();

    void setDataType(D dataType);

    &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; Instant getFrom() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    }

    &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; void setFrom(Instant from) {
        &lt;span class=&quot;code-comment&quot;&gt;// noop
&lt;/span&gt;    }

    &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; Instant getTo() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    }

    &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; void setTo(Instant to) {
        &lt;span class=&quot;code-comment&quot;&gt;// noop
&lt;/span&gt;    }

    Instant getTimestamp();

    void setTimestamp(Instant instant);

    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getErrorMessage();

    void setErrorMessage(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; errorMessage);

    &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; toMap(Exchange exchange) {
        Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; map = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; LinkedHashMap&amp;lt;&amp;gt;();
        map.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;, getId());
        map.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;, getStatus());
        map.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;dataType&quot;&lt;/span&gt;, getDataType().getName());
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getDataType().isDeltaDeliverable()) {
            map.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;from&quot;&lt;/span&gt;, getFrom().toString());
            map.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;to&quot;&lt;/span&gt;, getTo().toString());
        }
        map.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;, getTimestamp().toString());
        map.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;errorMessage&quot;&lt;/span&gt;, getErrorMessage());
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; map;
    }
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Are the classes of the contained fields (RequestStatus, RequestDataType) also relevant for your question?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Regarding clear steps to reproduce, I am unsure whether I can provide. The issue appeared twice in a month within thousands of invocations of the timer route and the constellation causing it is not clear to me.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;jdk-21.0.2+13 (Eclipse Temurin)&lt;/p&gt;

&lt;p&gt;Spring Boot 3.3.6&lt;/p&gt;

&lt;p&gt;Camel 4.8.2&lt;/p&gt;</environment>
        <key id="13604729">CAMEL-21614</key>
            <summary>Simple expressions execute forever. Thread is RUNNABLE for ever. Issue appears with bean expressions inside simple expressions on SimpleLRUCache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nfilotto">Nicolas Filotto</assignee>
                                    <reporter username="shmyer">Jannik Schmeier</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Jan 2025 15:21:02 +0000</created>
                <updated>Wed, 22 Jan 2025 19:22:31 +0000</updated>
                            <resolved>Wed, 15 Jan 2025 09:04:25 +0000</resolved>
                                    <version>4.8.2</version>
                                    <fixVersion>4.8.4</fixVersion>
                    <fixVersion>4.10.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17912778" author="JIRAUSER285918" created="Tue, 14 Jan 2025 08:12:00 +0000"  >&lt;p&gt;Thx for reporting, I have an idea of what could be the root cause. I will propose a fix asap, ideally this week.&lt;/p&gt;</comment>
                            <comment id="17913349" author="JIRAUSER285918" created="Wed, 15 Jan 2025 15:37:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shmyer&quot; class=&quot;user-hover&quot; rel=&quot;shmyer&quot;&gt;shmyer&lt;/a&gt; I published new snapshots (4.8.4-SNAPSHOT) with the fix into &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots&lt;/a&gt;, feel free to test them and provide a feedback.&lt;/p&gt;</comment>
                            <comment id="17913357" author="shmyer" created="Wed, 15 Jan 2025 15:58:17 +0000"  >&lt;p&gt;Thanks, I will deploy by the end of this week and let you know next week if anything popped up.&lt;/p&gt;</comment>
                            <comment id="17916163" author="shmyer" created="Wed, 22 Jan 2025 19:22:31 +0000"  >&lt;p&gt;It has been running fine since Friday, but so has production with 4.8.2. I will have to do long term testing for a couple of weeks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tklc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>