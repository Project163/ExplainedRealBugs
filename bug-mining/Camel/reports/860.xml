<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:36:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-2239] Cannot determine specific JmsMessage type to use from body class</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-2239</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Error : Cannot determine specific JmsMessage type to use from body class. Will use generic JmsMessage. Body class: org.apache.cxf.jaxrs.impl.ResponseImpl. If you want to send a POJO then your class might need to implement java.io.Serializable, or you can force a specific type by setting the jmsMessageType option on the JMS endpoint&lt;/p&gt;

&lt;p&gt;is reported with the following camel routing&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;beans xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/beans&quot;&lt;/span&gt;
&lt;/span&gt;	xmlns:xsi=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt; xmlns:context=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.springframework.org/schema/context&quot;&lt;/span&gt;
&lt;/span&gt;	xmlns:camel=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/spring&quot;&lt;/span&gt; xmlns:cxf=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://camel.apache.org/schema/cxf&quot;&lt;/span&gt;
&lt;/span&gt;	xmlns:cxf-core=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//cxf.apache.org/core&quot;&lt;/span&gt; xmlns:jaxrs=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://cxf.apache.org/jaxrs&quot;&lt;/span&gt;
&lt;/span&gt;	xsi:schemaLocation=&quot;
	    http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/beans
&lt;/span&gt;		http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/beans/spring-beans.xsd
&lt;/span&gt;		http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/context
&lt;/span&gt;        http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/context/spring-context.xsd
&lt;/span&gt;		http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/osgi
&lt;/span&gt;		http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/osgi/camel-osgi.xsd
&lt;/span&gt;		http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/spring
&lt;/span&gt;		http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/spring/camel-spring.xsd
&lt;/span&gt;		http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/cxf
&lt;/span&gt;		http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/cxf/camel-cxf.xsd
&lt;/span&gt;		http:&lt;span class=&quot;code-comment&quot;&gt;//cxf.apache.org/jaxrs 
&lt;/span&gt;		http:&lt;span class=&quot;code-comment&quot;&gt;//cxf.apache.org/schemas/jaxrs.xsd
&lt;/span&gt;		http:&lt;span class=&quot;code-comment&quot;&gt;//cxf.apache.org/core
&lt;/span&gt;		http:&lt;span class=&quot;code-comment&quot;&gt;//cxf.apache.org/schemas/core.xsd&quot;&amp;gt;
&lt;/span&gt;
	&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; resource=&lt;span class=&quot;code-quote&quot;&gt;&quot;classpath:META-INF/cxf/cxf.xml&quot;&lt;/span&gt; /&amp;gt;
	&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; resource=&lt;span class=&quot;code-quote&quot;&gt;&quot;classpath:META-INF/cxf/cxf-extension-soap.xml&quot;&lt;/span&gt; /&amp;gt;
	&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; resource=&lt;span class=&quot;code-quote&quot;&gt;&quot;classpath:META-INF/cxf/cxf-extension-http.xml&quot;&lt;/span&gt; /&amp;gt;
	&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; resource=&lt;span class=&quot;code-quote&quot;&gt;&quot;classpath:META-INF/cxf/cxf-extension-jaxrs-binding.xml&quot;&lt;/span&gt; /&amp;gt;
	&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; resource=&lt;span class=&quot;code-quote&quot;&gt;&quot;classpath:META-INF/cxf/osgi/cxf-extension-osgi.xml&quot;&lt;/span&gt; /&amp;gt;
	
	&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;jms&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.activemq.camel.component.ActiveMQComponent&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;connectionFactory&quot;&lt;/span&gt;&amp;gt;
      &amp;lt;bean class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;brokerURL&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;vm:&lt;span class=&quot;code-comment&quot;&gt;//localhost?broker.persistent=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;      &amp;lt;/bean&amp;gt;
    &amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;

	&amp;lt;!--
		&amp;lt;jaxrs:features&amp;gt; &amp;lt;cxf-core:logging/&amp;gt; &amp;lt;/jaxrs:features&amp;gt; &amp;lt;bean
		id=&lt;span class=&quot;code-quote&quot;&gt;&quot;jsonProvider&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.cxf.jaxrs.provider.JSONProvider&quot;&lt;/span&gt;/&amp;gt;
	--&amp;gt;
	&amp;lt;jaxrs:server id=&lt;span class=&quot;code-quote&quot;&gt;&quot;restService&quot;&lt;/span&gt; address=&lt;span class=&quot;code-quote&quot;&gt;&quot;/proxy/camel-&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;-example/&quot;&lt;/span&gt;
		staticSubresourceResolution=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;
		&amp;lt;jaxrs:serviceBeans&amp;gt;
			&amp;lt;ref bean=&lt;span class=&quot;code-quote&quot;&gt;&quot;reportIncidentService&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/jaxrs:serviceBeans&amp;gt;
		&amp;lt;!--  &amp;lt;jaxrs:features&amp;gt;&amp;lt;cxf-core:logging/&amp;gt;&amp;lt;/jaxrs:features&amp;gt; --&amp;gt;
	&amp;lt;/jaxrs:server&amp;gt;

	&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;reportIncidentService&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.camel.example.reportincident.restful.ReportIncidentService&quot;&lt;/span&gt; /&amp;gt;
	
	&amp;lt;cxf:rsServer id=&lt;span class=&quot;code-quote&quot;&gt;&quot;rsServer&quot;&lt;/span&gt; address=&lt;span class=&quot;code-quote&quot;&gt;&quot;/camel-&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;-example/&quot;&lt;/span&gt;
		serviceClass=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.camel.example.reportincident.restful.ReportIncidentService&quot;&lt;/span&gt; /&amp;gt;

	&amp;lt;cxf:rsClient id=&lt;span class=&quot;code-quote&quot;&gt;&quot;rsClient&quot;&lt;/span&gt; address=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8181/cxf/proxy/&quot;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;
	&amp;lt;camel:camelContext trace=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;
		xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/osgi&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;
		&amp;lt;camel:route&amp;gt;
			&amp;lt;camel:from uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;cxfrs:bean:rsServer&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;!-- &amp;lt;camel:to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;log:org.apache.camel.example.reportIncident?level=DEBUG&quot;&lt;/span&gt; /&amp;gt; --&amp;gt;
			&amp;lt;camel:to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;jms:queue:in&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/camel:route&amp;gt;
		
		&amp;lt;camel:route&amp;gt;
			&amp;lt;camel:from uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;jms:queue:in&quot;&lt;/span&gt;/&amp;gt;
			&amp;lt;camel:to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;cxfrs:bean:rsClient&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/camel:route&amp;gt;
	&amp;lt;/camel:camelContext&amp;gt;
	
&amp;lt;/beans&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12487266">CAMEL-2239</key>
            <summary>Cannot determine specific JmsMessage type to use from body class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="cmoulliard">Moulliard Charles</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Nov 2009 12:00:00 +0000</created>
                <updated>Sun, 24 Apr 2011 10:00:53 +0000</updated>
                            <resolved>Mon, 29 Mar 2010 11:26:27 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>camel-cxf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12954006" author="njiang" created="Tue, 1 Dec 2009 10:17:17 +0000"  >&lt;p&gt;if I set the request message header&lt;br/&gt;
with Response.class,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;inMessage.setHeader(CxfConstants.CAMEL_CXF_RS_RESPONSE_CLASS, Response.class);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to invoke the Customer service method with WebClient API:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @POST
    @Path(&lt;span class=&quot;code-quote&quot;&gt;&quot;/customersUniqueResponseCode/&quot;&lt;/span&gt;)
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Response addCustomerUniqueResponseCode(Customer customer) {
        customer.setId(++currentId);

        customers.put(customer.getId(), customer);

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Response.status(201).entity(customer).build();
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I will get the response entity as an InputStream, not the Customer&lt;br/&gt;
instance that I want.&lt;br/&gt;
After digging the WebClient code for a while, I found&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;response = WebClient.invoke(httpMethod, body, responseClass);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;will use the responseClass to unmarshal the inputStream with Provider.&lt;br/&gt;
So we need to specify the Response&apos;s entity Class for the HttpClient API to get right response entity.&lt;/p&gt;

&lt;p&gt;For the camel-cxfrs producer, it is not possible to find the entity information from the Response class, so we need to let the user specify the Response&apos;s entity class first. I wrote a test case to demonstrate this issue.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testAddCustomerUniqueResponseCode() {
        Exchange exchange = template.send(&lt;span class=&quot;code-quote&quot;&gt;&quot;cxfrs:&lt;span class=&quot;code-comment&quot;&gt;//http://localhost:9002?httpClientAPI=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Processor() {
&lt;/span&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void process(Exchange exchange) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
                exchange.setPattern(ExchangePattern.InOut);
                Message inMessage = exchange.getIn();
                &lt;span class=&quot;code-comment&quot;&gt;// set the Http method
&lt;/span&gt;                inMessage.setHeader(Exchange.HTTP_METHOD, &lt;span class=&quot;code-quote&quot;&gt;&quot;POST&quot;&lt;/span&gt;);
                &lt;span class=&quot;code-comment&quot;&gt;// set the relative path
&lt;/span&gt;                inMessage.setHeader(Exchange.HTTP_PATH, &lt;span class=&quot;code-quote&quot;&gt;&quot;/customerservice/customersUniqueResponseCode&quot;&lt;/span&gt;);
                &lt;span class=&quot;code-comment&quot;&gt;// put the response&apos;s entity into out message body
&lt;/span&gt;                &lt;span class=&quot;code-comment&quot;&gt;// by specifying the response entity class   
&lt;/span&gt;                inMessage.setHeader(CxfConstants.CAMEL_CXF_RS_RESPONSE_CLASS, Customer.class);
                &lt;span class=&quot;code-comment&quot;&gt;// create a &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; customer object
&lt;/span&gt;                Customer customer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Customer();
                customer.setId(8888);
                customer.setName(&lt;span class=&quot;code-quote&quot;&gt;&quot;Willem&quot;&lt;/span&gt;);
                inMessage.setBody(customer);
            }

        });

        &lt;span class=&quot;code-comment&quot;&gt;// get the response message
&lt;/span&gt;        Customer response = (Customer) exchange.getOut().getBody();

        assertNotNull(&lt;span class=&quot;code-quote&quot;&gt;&quot;The response should not be &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &quot;&lt;/span&gt;, response);
        assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;Get a wrong customer id &quot;&lt;/span&gt;, response.getId() != 8888);
        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;Get a wrong customer name&quot;&lt;/span&gt;, response.getName(), &lt;span class=&quot;code-quote&quot;&gt;&quot;Willem&quot;&lt;/span&gt;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12954004" author="davsclaus" created="Tue, 1 Dec 2009 10:27:40 +0000"  >&lt;p&gt;Just throwing in a though&lt;/p&gt;

&lt;p&gt;Isnt it possible to use Camels type converter mechanism&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  Customer response = (Customer) exchange.getOut().getBody();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Could then become&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  Customer response = exchange.getOut().getBody(Customer.class);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And then maybe you avoid that ugly header?&lt;/p&gt;</comment>
                            <comment id="12954002" author="njiang" created="Tue, 1 Dec 2009 12:44:56 +0000"  >&lt;p&gt;@Charles&lt;br/&gt;
Just back to your case, you have to put the outMessage which is sent to cxf:rsServer with the Response object, otherwise cxf:rsServer will complain about the returned message is not a Response object.&lt;/p&gt;</comment>
                            <comment id="12954001" author="njiang" created="Tue, 1 Dec 2009 12:52:31 +0000"  >&lt;p&gt;@Claus,&lt;/p&gt;

&lt;p&gt;I think we can live with the InputStream entity, as we can use JAXB or Jason to  unmarshal the InputStream instance.&lt;/p&gt;</comment>
                            <comment id="12954017" author="sergey_beryozkin" created="Tue, 1 Dec 2009 12:56:39 +0000"  >&lt;p&gt;Can it be defaulted somehow ? Ideally a user would not need to do the additional config...&lt;br/&gt;
Given the above camel context, would Charles need to update it somehow for it just to work ? The example would help...&lt;/p&gt;

&lt;p&gt;As far as I understand this issue only occurs when a JAXRS service method returns a Response object. But all works fine if it is a usual object like Customer or Incident which is returned...&lt;/p&gt;

&lt;p&gt;thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="12954008" author="cmoulliard" created="Tue, 1 Dec 2009 13:03:21 +0000"  >&lt;p&gt;@Willem,&lt;/p&gt;

&lt;p&gt;Can you explain this &quot;Just back to your case, you have to put the outMessage which is sent to cxf:rsServer with the Response object, otherwise cxf:rsServer will complain about the returned message is not a Response object.&quot; as I don&apos;t understand ?&lt;/p&gt;</comment>
                            <comment id="12954010" author="njiang" created="Tue, 1 Dec 2009 13:17:30 +0000"  >&lt;p&gt;To resolve the upper issue , we can make Response object to be serializable.&lt;br/&gt;
We can create 2 processor to do this job.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            &amp;lt;camel:route&amp;gt;
			&amp;lt;camel:from uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;cxfrs:bean:rsServer&quot;&lt;/span&gt; /&amp;gt;
			&amp;lt;!-- &amp;lt;camel:to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;log:org.apache.camel.example.reportIncident?level=DEBUG&quot;&lt;/span&gt; /&amp;gt; --&amp;gt;
			&amp;lt;camel:to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;jms:queue:in&quot;&lt;/span&gt; /&amp;gt;
                        &amp;lt;camel:process ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;unmarshalResponse&quot;&lt;/span&gt;/&amp;gt;
		&amp;lt;/camel:route&amp;gt;
		
		&amp;lt;camel:route&amp;gt;
			&amp;lt;camel:from uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;jms:queue:in&quot;&lt;/span&gt;/&amp;gt;
			&amp;lt;camel:to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;cxfrs:bean:rsClient&quot;&lt;/span&gt; /&amp;gt;
                        &amp;lt;camel:process ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;marshalResponse&quot;&lt;/span&gt;/&amp;gt;
		&amp;lt;/camel:route&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;marshalResponse processor just take out the Response&apos;s entity and status code, meta data and put them into a serializable  Object.&lt;br/&gt;
unmarshalResponse processor will restore the entity&apos;s InputStream, and set the status code and meta data back to a new Response instance.&lt;/p&gt;</comment>
                            <comment id="12954018" author="njiang" created="Tue, 1 Dec 2009 13:27:03 +0000"  >&lt;p&gt;@Charles,&lt;br/&gt;
I just want to say we should not change the Response in the camel-cxfrs producer and consumer.&lt;/p&gt;</comment>
                            <comment id="12954016" author="sergey_beryozkin" created="Tue, 1 Dec 2009 13:48:01 +0000"  >&lt;p&gt;Hi Willem, I&apos;m a bit confused so would like to clarify :&lt;/p&gt;

&lt;p&gt;1. If a JAXRS service method returns Response explicitly &lt;b&gt;then, and only then&lt;/b&gt; Charles will need to add  marshalResponse and unmarshalResponse processors for a jms:queue producer/consumer work well with cxfrs&lt;/p&gt;

&lt;p&gt;2. No need to introduce custom processors when it is only http which is involved, that is it is only cxf:rsServer, cxf:rsClient and jaxrs:server which are used.&lt;/p&gt;




</comment>
                            <comment id="12954013" author="njiang" created="Tue, 1 Dec 2009 14:16:56 +0000"  >&lt;p&gt;Hi Sergey , &lt;br/&gt;
You said what I want to say. I&apos;m sorry I did not make them clear enough.&lt;/p&gt;
</comment>
                            <comment id="12954011" author="sergey_beryozkin" created="Tue, 1 Dec 2009 14:42:14 +0000"  >&lt;p&gt;Thanks Willem.&lt;/p&gt;

&lt;p&gt;I&apos;m wondering, can we ship utility marshalResponse and unmarshalResponse processors, as part of the CXF JAXRS code base ? Looks like they can be made reusable ?&lt;/p&gt;

&lt;p&gt;For ex, UnmarshalResponseProcessor will do :&lt;/p&gt;

&lt;p&gt;ResponseBuilder builder = Response.status(orginalResponse.getStatus()).entity(orginalResponse.getEntity());&lt;/p&gt;

&lt;p&gt;for (Map.Entry&amp;lt;String, List&amp;lt;String&amp;gt;&amp;gt; entry : orginalResponse.getMetadata()) {&lt;br/&gt;
    for (String value : entry.getValue()) &lt;/p&gt;
{
          builder.header(entry.getKey(), value);
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;MarshalProcessor will do something similar ?&lt;/p&gt;

&lt;p&gt;return builder.build();&lt;/p&gt;

&lt;p&gt;Do you think it is something that can be done internally by CxfRs itself ?&lt;/p&gt;</comment>
                            <comment id="12954030" author="njiang" created="Wed, 2 Dec 2009 01:33:29 +0000"  >&lt;p&gt;@Sergey,&lt;br/&gt;
If we just need to deal with the Response object , I think it is reasonable to put the processors into Camel-RS, but there may be some other&lt;br/&gt;
message body objects which are not serializable. If so we still need to add other processor to deal with these message body object.&lt;br/&gt;
And for most camel component there is no requirement that message body should be serializable, if we setup the processors by default , it will &lt;br/&gt;
be useless for most of case. &lt;/p&gt;

&lt;p&gt;So, I&apos;d like to let the user to choice which message body object that he want to be serializable himself.&lt;/p&gt;</comment>
                            <comment id="12954031" author="sergey_beryozkin" created="Wed, 2 Dec 2009 09:42:13 +0000"  >&lt;p&gt;Hi Willem&lt;/p&gt;

&lt;p&gt;&amp;gt; If we just need to deal with the Response object , I think it is reasonable to put the processors into Camel-RS&lt;/p&gt;

&lt;p&gt;I&apos;m just thinking of CXFRS having utility processors dedicated to marshalling/unmarshalling raw Responses, so that users can just to &lt;/p&gt;

&lt;p&gt;&amp;lt;camel:route&amp;gt;&lt;br/&gt;
			&amp;lt;camel:from uri=&quot;cxfrs:bean:rsServer&quot; /&amp;gt;&lt;br/&gt;
			&amp;lt;camel:to uri=&quot;jms:queue:in&quot; /&amp;gt;&lt;br/&gt;
                        &amp;lt;camel:process ref=&quot;unmarshalResponse&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/camel:route&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;bean id=&quot;unmarshalResponse&quot; class=&quot;org.apache.camel.cxfrs.UnmarshalResponseProcessor&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;Just a little simplification, so that users just don&apos;t have to code what seems like can be captured in a utility class. I agree that in some other cases they may need to code some custom processors though&lt;/p&gt;

&lt;p&gt;thanks, Sergey&lt;/p&gt;</comment>
                            <comment id="12955353" author="davsclaus" created="Mon, 29 Mar 2010 11:26:27 +0000"  >&lt;p&gt;Create a new ticket in the future if this is still a problem after 2.3 has been released.&lt;/p&gt;</comment>
                            <comment id="13024292" author="davsclaus" created="Sun, 24 Apr 2011 10:00:53 +0000"  >&lt;p&gt;Closing all resolved tickets from 2010 or older&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76583</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01ndb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>