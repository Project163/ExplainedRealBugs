<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:06:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-8194] Elasticsearch component fails in an OSGi environment due to missing names.txt</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-8194</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2014-12-29 22:25:12,667 | ERROR | FelixStartLevel  | BlueprintCamelContext            | 8 - org.apache.camel.camel-blueprint - 2.14.0 | Error occurred during starting Camel: CamelContext(elasticSearchProducerCamelContext) due Failed to create route log-event-sink-elasticsearch at: &amp;gt;&amp;gt;&amp;gt; Aggregate[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -&amp;gt; [To[log:xxx?level=INFO&amp;amp;groupInterval=2000], To[elasticsearch:&lt;span class=&quot;code-comment&quot;&gt;//elasticsearch?ip=127.0.0.1&amp;amp;port=9300]]] &amp;lt;&amp;lt;&amp;lt; in route: Route(log-event-sink-elasticsearch)[[From[vm:log-event-elast... because of Failed to resolve endpoint: elasticsearch://elasticsearch?ip=127.0.0.1&amp;amp;port=9300 due to: Failed to resolve config path [names.txt], tried file path [names.txt], path file [xxx/config/names.txt], and classpath
&lt;/span&gt;org.apache.camel.FailedToCreateRouteException: Failed to create route log-event-sink-elasticsearch at: &amp;gt;&amp;gt;&amp;gt; Aggregate[&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -&amp;gt; [To[log:xxx?level=INFO&amp;amp;groupInterval=2000], To[elasticsearch:&lt;span class=&quot;code-comment&quot;&gt;//elasticsearch?ip=127.0.0.1&amp;amp;port=9300]]] &amp;lt;&amp;lt;&amp;lt; in route: Route(log-event-sink-elasticsearch)[[From[vm:log-event-elast... because of Failed to resolve endpoint: elasticsearch://elasticsearch?ip=127.0.0.1&amp;amp;port=9300 due to: Failed to resolve config path [names.txt], tried file path [names.txt], path file [xxx/config/names.txt], and classpath
&lt;/span&gt;   at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:945)
   at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:187)
...
Caused by: org.elasticsearch.env.FailedToResolveConfigException: Failed to resolve config path [names.txt], tried file path [names.txt], path file [xxx/config/names.txt], and classpath
   at org.elasticsearch.env.Environment.resolveConfig(Environment.java:213)
   at org.elasticsearch.node.internal.InternalSettingsPreparer.prepareSettings(InternalSettingsPreparer.java:119)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This can be fixed by adding a one-liner to explicitly set the classloader on the elasticsearch Settings class to the classloader of Settings.class:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            Settings settings = ImmutableSettings.settingsBuilder()
                ...
                .classLoader(Settings.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getClassLoader());
                ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12764138">CAMEL-8194</key>
            <summary>Elasticsearch component fails in an OSGi environment due to missing names.txt</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="slush">Derek Abdine</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Dec 2014 06:29:49 +0000</created>
                <updated>Fri, 29 May 2015 03:14:00 +0000</updated>
                            <resolved>Sun, 4 Jan 2015 07:04:49 +0000</resolved>
                                    <version>2.14.1</version>
                                    <fixVersion>2.13.4</fixVersion>
                    <fixVersion>2.14.2</fixVersion>
                    <fixVersion>2.15.0</fixVersion>
                                    <component>camel-elasticsearch</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14262004" author="davsclaus" created="Wed, 31 Dec 2014 07:19:48 +0000"  >&lt;p&gt;Thanks for reporting. You are welcome to work on a patch.&lt;/p&gt;</comment>
                            <comment id="14263109" author="githubbot" created="Fri, 2 Jan 2015 18:25:43 +0000"  >&lt;p&gt;GitHub user dabdine-r7 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/365&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/365&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8194&quot; title=&quot;Elasticsearch component fails in an OSGi environment due to missing names.txt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8194&quot;&gt;&lt;del&gt;CAMEL-8194&lt;/del&gt;&lt;/a&gt;: Allow camel-elasticsearch to work in an OSGi environment - port to 2.15.x&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/dabdine-r7/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/dabdine-r7/camel&lt;/a&gt; camel-8194-2.15.x&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/365.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/365.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #365&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d38d76d7d91e68c73678f88c353ee65a43095361&lt;br/&gt;
Author: Derek Abdine &amp;lt;dabdine@rapid7.com&amp;gt;&lt;br/&gt;
Date:   2015-01-02T18:01:11Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8194&quot; title=&quot;Elasticsearch component fails in an OSGi environment due to missing names.txt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8194&quot;&gt;&lt;del&gt;CAMEL-8194&lt;/del&gt;&lt;/a&gt;: Allow camel-elasticsearch to work in an OSGi environment - port to 2.15.x&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14263113" author="githubbot" created="Fri, 2 Jan 2015 18:28:03 +0000"  >&lt;p&gt;GitHub user dabdine-r7 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/366&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/366&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8194&quot; title=&quot;Elasticsearch component fails in an OSGi environment due to missing names.txt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8194&quot;&gt;&lt;del&gt;CAMEL-8194&lt;/del&gt;&lt;/a&gt;: Allow camel-elasticsearch to work in an OSGi environment - backport to 2.14.x&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/dabdine-r7/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/dabdine-r7/camel&lt;/a&gt; camel-8194-2.14.x&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/366.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/366.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #366&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 543c7ee58e558ecf1e2d7f3fc82e8d5d7e11802e&lt;br/&gt;
Author: Derek Abdine &amp;lt;dabdine@rapid7.com&amp;gt;&lt;br/&gt;
Date:   2015-01-02T18:26:11Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8194&quot; title=&quot;Elasticsearch component fails in an OSGi environment due to missing names.txt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8194&quot;&gt;&lt;del&gt;CAMEL-8194&lt;/del&gt;&lt;/a&gt;: Allow camel-elasticsearch to work in an OSGi environment - port to 2.14.x&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14263114" author="slush" created="Fri, 2 Jan 2015 18:30:45 +0000"  >&lt;p&gt;I&apos;ve submitted two patches via github: one for 2.15.x (master) and one for 2.14.x. Thank you!&lt;/p&gt;</comment>
                            <comment id="14263775" author="njiang" created="Sun, 4 Jan 2015 07:04:49 +0000"  >&lt;p&gt;Merged the patch into master, camel-2.14.x and camel-2.13.x branches with thanks to Derek.&lt;/p&gt;</comment>
                            <comment id="14272632" author="githubbot" created="Sat, 10 Jan 2015 18:19:53 +0000"  >&lt;p&gt;Github user dabdine-r7 closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/365&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/365&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14272634" author="githubbot" created="Sat, 10 Jan 2015 18:23:39 +0000"  >&lt;p&gt;Github user dabdine-r7 closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/366&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/366&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12833665">CAMEL-8816</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23u6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>