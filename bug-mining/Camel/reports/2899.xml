<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:04:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-7867] NullPointerException when using CXF endpoint to enrich</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-7867</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When using Spring application context file to enrich a CXF message with another CXF endpoint, I get a NullPointerException whenever a message comes in. If I route with a &amp;lt;to&amp;gt; instead of &amp;lt;enrich&amp;gt;, it works fine.&lt;/p&gt;

&lt;p&gt;    &amp;lt;cxf:cxfEndpoint id=&quot;producerEndpoint&quot;&lt;br/&gt;
                     address=&quot;/Request/&quot;&lt;br/&gt;
                     serviceClass=&quot;com.service.ClassName&quot;&lt;br/&gt;
                     wsdlURL=&quot;/Service.wsdl&quot; &amp;gt;&lt;br/&gt;
    &amp;lt;/cxf:cxfEndpoint&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;cxf:cxfEndpoint id=&quot;enrichEndpoint&quot;&lt;br/&gt;
                     address=&quot;http://localhost:8082/Request/&quot;&lt;br/&gt;
                     serviceClass=&quot;com.service.ClassName&quot;&lt;br/&gt;
                     wsdlURL=&quot;/Service.wsdl&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;/cxf:cxfEndpoint&amp;gt;&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;    &amp;lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;route&amp;gt;&lt;br/&gt;
            &amp;lt;from ref=&quot;producerEndpoint&quot; /&amp;gt;&lt;br/&gt;
            &amp;lt;enrich ref=&quot;enrichEndpoint&quot; /&amp;gt;&lt;br/&gt;
            &amp;lt;to ref=&quot;finalEndpoint&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;/route&amp;gt;&lt;br/&gt;
    &amp;lt;/camelContext&amp;gt;&lt;/p&gt;

&lt;p&gt;Stacktrace&lt;br/&gt;
---------------------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.camel.component.cxf.CxfProducer.prepareRequest(CxfProducer.java:190)&lt;br/&gt;
	at org.apache.camel.component.cxf.CxfProducer.process(CxfProducer.java:107)&lt;br/&gt;
	at org.apache.camel.processor.Enricher.process(Enricher.java:114)&lt;br/&gt;
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:72)&lt;br/&gt;
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:398)&lt;br/&gt;
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:191)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:118)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:80)&lt;br/&gt;
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:191)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:105)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:87)&lt;br/&gt;
	at org.apache.camel.component.cxf.CxfConsumer$1.syncInvoke(CxfConsumer.java:136)&lt;br/&gt;
	at org.apache.camel.component.cxf.CxfConsumer$1.invoke(CxfConsumer.java:77)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)&lt;br/&gt;
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)&lt;br/&gt;
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$2.run(ServiceInvokerInterceptor.java:126)&lt;br/&gt;
	at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:131)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)&lt;br/&gt;
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)&lt;br/&gt;
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:243)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:223)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:197)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:149)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:171)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:286)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:206)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:262)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:696)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1568)&lt;br/&gt;
	at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:164)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1539)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:524)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)&lt;br/&gt;
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:568)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:221)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1110)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:453)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:183)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1044)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:199)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)&lt;br/&gt;
	at org.eclipse.jetty.server.Server.handle(Server.java:459)&lt;br/&gt;
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:279)&lt;br/&gt;
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:229)&lt;br/&gt;
	at org.eclipse.jetty.io.AbstractConnection$1.run(AbstractConnection.java:505)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:594)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:525)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
[              qtp1470360717-16] PhaseInterceptorChain          WARN  Application &lt;/p&gt;
{http://gl.services.csw}
&lt;p&gt;CswPortService#&lt;/p&gt;
{http://gl.services.csw}
&lt;p&gt;getRecords has thrown exception, unwinding now&lt;br/&gt;
org.apache.cxf.interceptor.Fault: NullPointerException&lt;br/&gt;
	at org.apache.camel.component.cxf.CxfConsumer$1.checkFailure(CxfConsumer.java:230)&lt;br/&gt;
	at org.apache.camel.component.cxf.CxfConsumer$1.setResponseBack(CxfConsumer.java:208)&lt;br/&gt;
	at org.apache.camel.component.cxf.CxfConsumer$1.syncInvoke(CxfConsumer.java:142)&lt;br/&gt;
	at org.apache.camel.component.cxf.CxfConsumer$1.invoke(CxfConsumer.java:77)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)&lt;br/&gt;
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)&lt;br/&gt;
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$2.run(ServiceInvokerInterceptor.java:126)&lt;br/&gt;
	at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)&lt;br/&gt;
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:131)&lt;br/&gt;
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)&lt;br/&gt;
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)&lt;br/&gt;
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:243)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:223)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:197)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:149)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:171)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:286)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:206)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)&lt;br/&gt;
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:262)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:696)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1568)&lt;br/&gt;
	at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:164)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1539)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:524)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)&lt;br/&gt;
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:568)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:221)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1110)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:453)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:183)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1044)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:199)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)&lt;br/&gt;
	at org.eclipse.jetty.server.Server.handle(Server.java:459)&lt;br/&gt;
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:279)&lt;br/&gt;
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:229)&lt;br/&gt;
	at org.eclipse.jetty.io.AbstractConnection$1.run(AbstractConnection.java:505)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:594)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:525)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.camel.component.cxf.CxfProducer.prepareRequest(CxfProducer.java:190)&lt;br/&gt;
	at org.apache.camel.component.cxf.CxfProducer.process(CxfProducer.java:107)&lt;br/&gt;
	at org.apache.camel.processor.Enricher.process(Enricher.java:114)&lt;br/&gt;
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:72)&lt;br/&gt;
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:398)&lt;br/&gt;
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:191)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:118)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:80)&lt;br/&gt;
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:191)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:105)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:87)&lt;br/&gt;
	at org.apache.camel.component.cxf.CxfConsumer$1.syncInvoke(CxfConsumer.java:136)&lt;br/&gt;
	... 41 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;Maven project on RHEL&lt;/p&gt;</environment>
        <key id="12744325">CAMEL-7867</key>
            <summary>NullPointerException when using CXF endpoint to enrich</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="dhudlow">David Hudlow</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Sep 2014 16:17:24 +0000</created>
                <updated>Thu, 9 Oct 2014 02:27:39 +0000</updated>
                            <resolved>Thu, 9 Oct 2014 02:27:39 +0000</resolved>
                                    <version>2.13.2</version>
                                    <fixVersion>2.12.5</fixVersion>
                    <fixVersion>2.13.3</fixVersion>
                    <fixVersion>2.14.1</fixVersion>
                    <fixVersion>2.15.0</fixVersion>
                                    <component>camel-cxf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14151298" author="njiang" created="Mon, 29 Sep 2014 01:27:58 +0000"  >&lt;p&gt;The issue is caused when you use enrich reference a endpoint, the endpoint may not be started as using the uri.The work around is using uri=&quot;cxf:bean:enrichEndpoint&quot; instead of ref=enrichEndpoint.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;camelContext xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/spring&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&amp;lt;route&amp;gt;
&amp;lt;from ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;producerEndpoint&quot;&lt;/span&gt; /&amp;gt;
&amp;lt;enrich uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;cxf:bean:enrichEndpoint&quot;&lt;/span&gt; /&amp;gt;
&amp;lt;to ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;finalEndpoint&quot;&lt;/span&gt; /&amp;gt;
&amp;lt;/route&amp;gt;
&amp;lt;/camelContext&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20j1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>