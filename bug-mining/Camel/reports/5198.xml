<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:40:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-14457] Groovy language: NoClassDefFoundError in OSGi environment</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-14457</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;With Camel 3.0.1, I am experiencing this error:&lt;br/&gt;
 &#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;tt&gt;java.lang.RuntimeException: java.lang.NoClassDefFoundError: groovy/lang/Script&lt;/tt&gt;&lt;br/&gt;
 {{ at org.codehaus.groovy.control.CompilationUnit.convertUncaughtExceptionToCompilationError(CompilationUnit.java:1107)}}&lt;br/&gt;
 {{ at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1087)}}&lt;br/&gt;
 {{ at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:634)}}&lt;br/&gt;
 {{ at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:612)}}&lt;br/&gt;
 {{ at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:589)}}&lt;br/&gt;
 {{ at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:401)}}&lt;br/&gt;
 {{ at groovy.lang.GroovyClassLoader.access$300(GroovyClassLoader.java:89)}}&lt;br/&gt;
 {{ at groovy.lang.GroovyClassLoader$5.provide(GroovyClassLoader.java:341)}}&lt;br/&gt;
 {{ at groovy.lang.GroovyClassLoader$5.provide(GroovyClassLoader.java:338)}}&lt;br/&gt;
 {{ at org.codehaus.groovy.runtime.memoize.ConcurrentCommonCache.getAndPut(ConcurrentCommonCache.java:147)}}&lt;br/&gt;
 {{ at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:336)}}&lt;br/&gt;
 {{ at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:320)}}&lt;br/&gt;
 {{ at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:262)}}&lt;br/&gt;
 {{ at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:272)}}&lt;br/&gt;
 {{ at org.apache.camel.language.groovy.GroovyExpression.instantiateScript(GroovyExpression.java:73)}}&lt;tt&gt;&#8230;&lt;/tt&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;br/&gt;
 &#160;&lt;br/&gt;
 I am running Camel in Karaf OSGi environment with &lt;em&gt;camel-groovy&lt;/em&gt; feature&#160;installed. &#160;In old Camel 2.X, I had to install features&#160;&lt;em&gt;camel-script,&lt;/em&gt; and&#160;&lt;em&gt;camel-script-groovy,&lt;/em&gt; but they are no longer available.&lt;br/&gt;
 &#160;&lt;br/&gt;
 &lt;font color=&quot;#000000&quot;&gt;Adding:&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;DynamicImport-Package:&#160;&#160;groovy.*&lt;b&gt;, org.codehaus.groovy.&lt;/b&gt;*&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Fixes the issue.&lt;br/&gt;
 &#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Karaf 4.2.8&lt;/p&gt;</environment>
        <key id="13282183">CAMEL-14457</key>
            <summary>Groovy language: NoClassDefFoundError in OSGi environment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="alex.soto">Alex Soto</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2020 13:29:47 +0000</created>
                <updated>Thu, 6 Feb 2020 21:20:43 +0000</updated>
                            <resolved>Thu, 6 Feb 2020 21:20:26 +0000</resolved>
                                    <version>3.0.0</version>
                    <version>3.0.1</version>
                                    <fixVersion>3.1.0</fixVersion>
                    <fixVersion>3.0.2</fixVersion>
                                    <component>camel-groovy</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17025886" author="davsclaus" created="Wed, 29 Jan 2020 13:53:24 +0000"  >&lt;p&gt;That dynamic import is that on your own custom bundle, or did you patch camel-groovy ?&lt;/p&gt;</comment>
                            <comment id="17025896" author="alex.soto" created="Wed, 29 Jan 2020 14:02:27 +0000"  >&lt;p&gt;I added the dynamic import to my custom bundle, which contain the Camel routes. However, this is a work-around, as I think it should in the Groovy bundle itself.&lt;/p&gt;</comment>
                            <comment id="17025900" author="davsclaus" created="Wed, 29 Jan 2020 14:06:15 +0000"  >&lt;p&gt;Yeah for OSGi that camel-groovy should be able to load any class because of scripting. So you are welcome to provide a PR with the fix in the camel-groovy/pom.xml&lt;/p&gt;</comment>
                            <comment id="17025906" author="alex.soto" created="Wed, 29 Jan 2020 14:16:32 +0000"  >&lt;p&gt;I am not sure if it should be &lt;b&gt;any&lt;/b&gt; class, perhaps just the Groovy classes, dynamically importing all classes at this level may cause other problems. Probably better for &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbonofre&quot; class=&quot;user-hover&quot; rel=&quot;jbonofre&quot;&gt;jbonofre&lt;/a&gt; to look into this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0aywo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>