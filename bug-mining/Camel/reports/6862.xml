<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:07:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-20992] azure-service-bus component: When using RECEIVE_AND_DELETE mode, the ServiceBusConsumer onComplete and onFailure methods logs errors</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-20992</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Here&apos;s the error message I get from camel 4.5.0 and above (tested with 4.7.0) in RECEIVE_AND_DELETE mode:&lt;/p&gt;

&lt;p&gt;Route end without failure, so the onComplete method is called:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
... 
ERROR 2019 --- [ receiverPump-2] cebus.ServiceBusReceiverAsyncClient : &lt;span class=&quot;code-quote&quot;&gt;&apos;COMPLETED&apos;&lt;/span&gt; is not supported on a receiver opened in ReceiveMode.RECEIVE_AND_DELETE. 
...&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Route end with failure, so the onFailure method is called&lt;/p&gt;

&lt;p&gt;enableDeadLettering: false:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
... 
ERROR 4015 --- [ receiverPump-2] cebus.ServiceBusReceiverAsyncClient : &lt;span class=&quot;code-quote&quot;&gt;&apos;ABANDONED&apos;&lt;/span&gt; is not supported on a receiver opened in ReceiveMode.RECEIVE_AND_DELETE 
...&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;same with enableDeadLettering: true:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
... 
ERROR 281 --- [ receiverPump-2] servicebus.ServiceBusReceiverAsyncClient : &lt;span class=&quot;code-quote&quot;&gt;&apos;SUSPENDED&apos;&lt;/span&gt; is not supported on a receiver opened in ReceiveMode.RECEIVE_AND_DELETE. 
...&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;There is no functional problem with that, the message is correctly consume from the subscription.&lt;br/&gt;
But we should avoid unnecessarily ERROR level log, so the abandon|complete|deadletter should not be call in RECEIVE_AND_DELETE mode&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu in WSL2 with jbang&lt;/p&gt;

&lt;p&gt;tested with&lt;br/&gt;
camel run route.yaml &#160;--camel-version 4.5.0&lt;/p&gt;

&lt;p&gt;camel run route.yaml &#160;--camel-version 4.6.0&lt;/p&gt;

&lt;p&gt;camel run route.yaml &#160;--camel-version 4.7.0&lt;/p&gt;</environment>
        <key id="13586244">CAMEL-20992</key>
            <summary>azure-service-bus component: When using RECEIVE_AND_DELETE mode, the ServiceBusConsumer onComplete and onFailure methods logs errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dlp">Dylan Piergies</assignee>
                                    <reporter username="romain-pfund">Romain Pfund</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Jul 2024 09:20:08 +0000</created>
                <updated>Tue, 20 Aug 2024 07:47:09 +0000</updated>
                            <resolved>Tue, 20 Aug 2024 05:30:07 +0000</resolved>
                                    <version>4.5.0</version>
                    <version>4.6.0</version>
                    <version>4.7.0</version>
                                    <fixVersion>4.8.0</fixVersion>
                                    <component>camel-azure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17872073" author="davsclaus" created="Thu, 8 Aug 2024 16:31:23 +0000"  >&lt;p&gt;Can you attach your sample route you used as it seems not to be attached&lt;/p&gt;</comment>
                            <comment id="17872233" author="JIRAUSER300984" created="Fri, 9 Aug 2024 08:08:41 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
Done, those are just tests route to demonstrate the behavior&lt;/p&gt;</comment>
                            <comment id="17874981" author="dylan.piergies" created="Mon, 19 Aug 2024 20:13:03 +0000"  >&lt;p&gt;Ought to have type: Bug.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13589075">CAMEL-21091</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13070782" name="testRoute.yaml" size="453" author="romain-pfund" created="Fri, 9 Aug 2024 08:07:21 +0000"/>
                            <attachment id="13070783" name="testRoute_deadlettering.yaml" size="452" author="romain-pfund" created="Fri, 9 Aug 2024 08:07:23 +0000"/>
                            <attachment id="13070784" name="testRoute_onComplete.yaml" size="340" author="romain-pfund" created="Fri, 9 Aug 2024 08:09:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qeyg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>