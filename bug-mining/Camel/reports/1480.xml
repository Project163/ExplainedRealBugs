<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:45:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-4083] MailBinding may drop characters from content type when using determineContentType option</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-4083</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The method &quot;determineContentType&quot; in the MailBinding class may drop characters from the end of the Content-Type header (specifically ending quotes).  &lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;Take the following SMINE enveloped data content type:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   Content-Type: application/pkcs7-mime; smime-type=enveloped-data; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;smime.p7m&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When an incoming Exchange is processed by the mail Component with the above content type header, the resulting content type after the determineContentType is application/pkcs7-mime; smime-type=enveloped-data; name=&quot;smime.p7m   (note the ending quote).  This results in a parsing error later on the processing chain.  The following simple unit test demonstrates the issue as it fails on the assertEquals call.&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------------------------------------------------&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.apache.camel.component.mail;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.CamelContext;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.impl.DefaultExchange;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.Test;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; org.junit.Assert.assertEquals;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ContentTypeTest
{
    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testDetermineContentType_endingWithQuotes_assertContentMatches()
    {
    	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; contentType = &lt;span class=&quot;code-quote&quot;&gt;&quot;application/pkcs7-mime; smime-type=enveloped-data; name=\&quot;&lt;/span&gt;smime.p7m\&quot;&quot;; 
    	
    	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MailConfiguration configuration = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MailConfiguration();
    	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MailBinding binding = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MailBinding();
    	
    	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DefaultExchange exchange = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExchange((CamelContext)&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
    	exchange.getIn().setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;, contentType);
    	
    	
    	&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; determinedType = binding.determineContentType(configuration, exchange);
    	
    	assertEquals(contentType, determinedType);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;JSE 1.6&lt;/p&gt;</environment>
        <key id="12509836">CAMEL-4083</key>
            <summary>MailBinding may drop characters from content type when using determineContentType option</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="gm2552">Greg Meyer</reporter>
                        <labels>
                            <label>content-type</label>
                            <label>mail</label>
                            <label>mime</label>
                            <label>smime</label>
                    </labels>
                <created>Fri, 10 Jun 2011 14:12:47 +0000</created>
                <updated>Tue, 25 Oct 2011 11:35:51 +0000</updated>
                            <resolved>Sun, 12 Jun 2011 11:01:33 +0000</resolved>
                                    <version>2.7.0</version>
                                    <fixVersion>2.7.3</fixVersion>
                    <fixVersion>2.8.0</fixVersion>
                                    <component>camel-mail</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13047961" author="davsclaus" created="Sat, 11 Jun 2011 18:21:06 +0000"  >&lt;p&gt;Yeah the logic seems a bit misleading. It mistakenly looks for charset, without checking that the key is &lt;tt&gt;charset=xxx&lt;/tt&gt; in the Content-Type.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 24 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01yqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9398</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>