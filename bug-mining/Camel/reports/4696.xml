<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:32:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-12774] Error during type conversion from type: java.lang.String to the required type: org.elasticsearch.action.update.UpdateRequest</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-12774</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When I try to update es document using Update method of camel-elasticsearch-rest endpoint I got this error&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Caused by: org.apache.camel.TypeConversionException: Error during type conversion from type: java.lang.String to the required type: org.elasticsearch.action.update.UpdateRequest with value {teststringupdate-key2=teststringupdate-value2} due java.lang.IllegalArgumentException: The number of object passed must be even but was &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;This is because method &lt;font color=&quot;#353833&quot;&gt;&lt;a href=&quot;https://static.javadoc.io/org.elasticsearch/elasticsearch/5.0.0/org/elasticsearch/action/update/UpdateRequest.html#doc-java.lang.String-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;doc&lt;/a&gt;&lt;/font&gt;&lt;font color=&quot;#353833&quot;&gt;(java.lang.String&#160;source)&lt;/font&gt; org.elasticsearch.action.update does not exist in&lt;/p&gt;

&lt;p&gt;&amp;lt;&lt;font color=&quot;#000080&quot;&gt;elasticsearch-rest-version&lt;/font&gt;&amp;gt;6.1.1&amp;lt;/&lt;font color=&quot;#000080&quot;&gt;elasticsearch-rest-version&lt;/font&gt;&amp;gt;.&lt;/p&gt;

&lt;p&gt;In attach you can see test for this issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13182841">CAMEL-12774</key>
            <summary>Error during type conversion from type: java.lang.String to the required type: org.elasticsearch.action.update.UpdateRequest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="acosentino">Andrea Cosentino</assignee>
                                    <reporter username="johnbolshakov">Ivan Bolshakov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Sep 2018 15:21:22 +0000</created>
                <updated>Tue, 20 Nov 2018 13:50:30 +0000</updated>
                            <resolved>Tue, 20 Nov 2018 13:49:47 +0000</resolved>
                                    <version>2.22.0</version>
                                    <fixVersion>2.21.4</fixVersion>
                    <fixVersion>2.22.3</fixVersion>
                    <fixVersion>2.23.0</fixVersion>
                                    <component>camel-elasticsearch-rest</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16603971" author="ancosen" created="Wed, 5 Sep 2018 06:20:18 +0000"  >&lt;p&gt;Thanks for spotting this.&lt;/p&gt;</comment>
                            <comment id="16692879" author="johnbolshakov" created="Tue, 20 Nov 2018 09:02:14 +0000"  >&lt;p&gt;It look&apos;s like not fixed in version 2.22.2&lt;/p&gt;</comment>
                            <comment id="16692891" author="ancosen" created="Tue, 20 Nov 2018 09:11:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/commit/a47434000734e384ecee746c7d1e30a3b0c1290f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/a47434000734e384ecee746c7d1e30a3b0c1290f&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here is the commit&lt;/p&gt;</comment>
                            <comment id="16692893" author="ancosen" created="Tue, 20 Nov 2018 09:14:29 +0000"  >&lt;p&gt;and if you download the sources &lt;a href=&quot;http://repo2.maven.org/maven2/org/apache/camel/camel-elasticsearch-rest/2.22.2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://repo2.maven.org/maven2/org/apache/camel/camel-elasticsearch-rest/2.22.2/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In the ActionConverter there is the fix&lt;/p&gt;</comment>
                            <comment id="16692894" author="ancosen" created="Tue, 20 Nov 2018 09:15:30 +0000"  >&lt;p&gt;the version used in 2.22.2 is still 6.1.1&lt;/p&gt;</comment>
                            <comment id="16692914" author="johnbolshakov" created="Tue, 20 Nov 2018 09:26:18 +0000"  >&lt;p&gt;Andrea, thank you!&lt;/p&gt;</comment>
                            <comment id="16692942" author="ancosen" created="Tue, 20 Nov 2018 09:36:12 +0000"  >&lt;p&gt;If you find any kind of problem, please report here, do you think we can close this or do you prefer to double check?&lt;/p&gt;</comment>
                            <comment id="16693110" author="johnbolshakov" created="Tue, 20 Nov 2018 11:44:34 +0000"  >&lt;p&gt;Please review this test code&lt;/p&gt;

&lt;p&gt;It looks like new Update adds some other content into ES document.&lt;/p&gt;</comment>
                            <comment id="16693112" author="johnbolshakov" created="Tue, 20 Nov 2018 11:45:44 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12948862/12948862_ElasticsearchGetSearchDeleteExistsUpdateTest.java&quot; title=&quot;ElasticsearchGetSearchDeleteExistsUpdateTest.java attached to CAMEL-12774&quot;&gt;ElasticsearchGetSearchDeleteExistsUpdateTest.java&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="16693121" author="ancosen" created="Tue, 20 Nov 2018 11:50:18 +0000"  >&lt;p&gt;That&apos;s the test we have in the repo. I don&apos;t get what you&apos;re asking for.. Does it work for you, I mean for your use case?&lt;/p&gt;</comment>
                            <comment id="16693133" author="johnbolshakov" created="Tue, 20 Nov 2018 12:07:44 +0000"  >&lt;p&gt;I have added to this test additional strings:&lt;br/&gt;
&lt;font color=&quot;#4ec9b0&quot;&gt;GetResponse&lt;/font&gt; &lt;font color=&quot;#9cdcfe&quot;&gt;response&lt;/font&gt; &lt;font color=&quot;#d4d4d4&quot;&gt;=&lt;/font&gt; &lt;font color=&quot;#9cdcfe&quot;&gt;template&lt;/font&gt;&lt;font color=&quot;#d4d4d4&quot;&gt;.&lt;/font&gt;&lt;font color=&quot;#dcdcaa&quot;&gt;requestBody&lt;/font&gt;&lt;font color=&quot;#d4d4d4&quot;&gt;(&lt;/font&gt;&lt;font color=&quot;#ce9178&quot;&gt;&quot;direct:get&quot;&lt;/font&gt;&lt;font color=&quot;#d4d4d4&quot;&gt;, indexId, &lt;/font&gt;&lt;font color=&quot;#9cdcfe&quot;&gt;GetResponse&lt;/font&gt;&lt;font color=&quot;#d4d4d4&quot;&gt;.&lt;/font&gt;&lt;font color=&quot;#9cdcfe&quot;&gt;class&lt;/font&gt;&lt;font color=&quot;#d4d4d4&quot;&gt;);&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;#dcdcaa&quot;&gt;assertEquals&lt;/font&gt;&lt;font color=&quot;#d4d4d4&quot;&gt;(body, &lt;/font&gt;&lt;font color=&quot;#9cdcfe&quot;&gt;response&lt;/font&gt;&lt;font color=&quot;#d4d4d4&quot;&gt;.&lt;/font&gt;&lt;font color=&quot;#dcdcaa&quot;&gt;getSource&lt;/font&gt;&lt;font color=&quot;#d4d4d4&quot;&gt;());&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;#333333&quot;&gt;&lt;font color=&quot;#333333&quot;&gt;&lt;/font&gt;Where I am checking that content of document in elasticksearch after update is&lt;/font&gt;&lt;font color=&quot;&quot;&gt;&lt;font color=&quot;#008000&quot;&gt;&lt;/font&gt;&quot;{&lt;/font&gt;&lt;font color=&quot;#000080&quot;&gt;\&quot;&lt;/font&gt;&lt;font color=&quot;#008000&quot;&gt;id&lt;/font&gt;&lt;font color=&quot;#000080&quot;&gt;\&quot;&lt;/font&gt;&lt;font color=&quot;#008000&quot;&gt; : 1}&quot;&lt;/font&gt;.&lt;br/&gt;
&lt;font color=&quot;#333333&quot;&gt;And it fails.&lt;/font&gt;&lt;/p&gt;</comment>
                            <comment id="16693259" author="ancosen" created="Tue, 20 Nov 2018 13:50:30 +0000"  >&lt;p&gt;Thanks for spotting this, it was an error in the xcontentType parameter. My fault, I was passing the xcontent value as a key to use and the String as document.. Now it should work fine.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12948862" name="ElasticsearchGetSearchDeleteExistsUpdateTest.java" size="3920" author="johnbolshakov" created="Tue, 20 Nov 2018 11:45:42 +0000"/>
                            <attachment id="12938269" name="ElasticsearchUpdateStringTest.java" size="1425" author="johnbolshakov" created="Tue, 4 Sep 2018 15:20:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3xpmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>