<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:51:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-17390] camel-core - Cannot set tracer on a started CamelContext</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-17390</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;context = new DefaultCamelContext(registry);&lt;/p&gt;

&lt;p&gt;&#160; //setting tracing standby to true, so it can be enabled during runtime&lt;br/&gt;
&#160;context.setTracingStandby(true);&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;During runtime I later want to set the tracing on demand:&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; Tracer tracer = context.getTracer();&lt;br/&gt;
&#160; &#160; &#160; &#160; tracer.setEnabled(true); &#160; &#160; &#160; &#160; &#160; &#160;&lt;/p&gt;

&lt;p&gt;Following the documentation: &lt;a href=&quot;https://camel.apache.org/manual/tracer.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://camel.apache.org/manual/tracer.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;However when setting:&lt;/p&gt;

&lt;p&gt;&#160;context.setTracingStandby(true);&lt;/p&gt;

&lt;p&gt;And then start a Camel route (context.addRoute(myRoute); or context.addOrUpdateRoutes(myRoute)) I get the following error:&lt;/p&gt;

&lt;p&gt;org.apache.camel.FailedToCreateRouteException: Failed to create route 33-33 at: &amp;gt;&amp;gt;&amp;gt; SetHeader&lt;span class=&quot;error&quot;&gt;&amp;#91;AssimblyHeaderId, null&amp;#93;&lt;/span&gt; &amp;lt;&amp;lt;&lt;br/&gt;
&amp;lt; in route: Route(33-33)[From&lt;a href=&quot;file://C:test1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://C:\test1&lt;/a&gt; -&amp;gt; [SetHeader[AssimblyHea... because of Cannot set tracer on a started Ca&lt;br/&gt;
melContext&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:240)&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:74)&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49)&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:868)&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.camel.impl.DefaultModel.addRouteDefinitions(DefaultModel.java:185)&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.camel.impl.DefaultCamelContext.addRouteDefinitions(DefaultCamelContext.java:336)&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.camel.builder.RouteBuilder.populateOrUpdateRoutes(RouteBuilder.java:652)&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.apache.camel.builder.RouteBuilder.updateRoutesToCamelContext(RouteBuilder.java:530)&lt;/p&gt;

&lt;p&gt;In my routebuilder or before I can not find an entry where I set the tracer. In 3.11.x I have the following context.setTracer(true);&#160; (but I removed this line). Could you check if you can reproduce this?&lt;/p&gt;

&lt;p&gt;When I put the following line in comment the error goes away:&lt;/p&gt;

&lt;p&gt;//context.setTracingStandby(true);&lt;/p&gt;

&lt;p&gt;But then I cannot set it at runtime.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS: Windows 8 / Windows 10&lt;br/&gt;
Java: OpenJDK 11 (OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9))&lt;br/&gt;
Camel: 3.14.0&lt;/p&gt;</environment>
        <key id="13419556">CAMEL-17390</key>
            <summary>camel-core - Cannot set tracer on a started CamelContext</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="skin27">Raymond</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Dec 2021 13:51:25 +0000</created>
                <updated>Fri, 31 Dec 2021 09:06:30 +0000</updated>
                            <resolved>Fri, 31 Dec 2021 09:06:30 +0000</resolved>
                                    <version>3.14.0</version>
                                    <fixVersion>3.14.1</fixVersion>
                    <fixVersion>3.15.0</fixVersion>
                                    <component>came-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17466421" author="rambichler" created="Wed, 29 Dec 2021 10:42:55 +0000"  >&lt;p&gt;This is also reproducable within a Unit Test and @BeforeEach : Camel 3.14.0&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@CamelSpringBootTest
public class Test {

   @BeforeEach
   public void setup() throws Exception {
       camelContext.setTracing(true);
       ......
   }
....
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17467149" author="davsclaus" created="Fri, 31 Dec 2021 08:55:38 +0000"  >&lt;p&gt;Okay so this is only when you start an empty camel context, where there are NO routes at all.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0y1xs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>