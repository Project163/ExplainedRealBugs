<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:18:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-10271] camel-jt400 - Failed to resolve endpoint</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-10271</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Apologies for creating this in core, as there does not seem to be an entry  for camel-jt400 (but the jar is distributed with 2.17.3)&lt;/p&gt;

&lt;p&gt;Creating a data queue end point using JT400 as per the documentation crashes out when the endpoint creation starts. This seems identical to the SNMP issue &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8479&quot; title=&quot;TrapReceiveTest is failed within Camel 2.15.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8479&quot;&gt;&lt;del&gt;CAMEL-8479&lt;/del&gt;&lt;/a&gt; (as it produces identical output other than the component name). Ideally the JT400Endpoint would be updated to return true for isLenient, or the default properties would be cleared prior to DefaultEndpoint.createEndpoint being called. Have not been able to find how the original SNMP issue was corrected and have been unable to find a workaround for it.&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: jt400://XXXX:XXXX@alpha8.mdsuk.com/QSYS.LIB/AAAAAAAA.LIB/SENDJOB.DTAQ?consumer.initialDelay=2000&amp;amp;format=binary due to: There are 15 parameters that couldn&apos;t be set on the endpoint consumer. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown consumer parameters=[&lt;/p&gt;
{backoffMultiplier=0, sendEmptyMessageWhenIdle=false, schedulerProperties=null, initialDelay=2000, backoffIdleThreshold=0, scheduler=null, delay=500, useFixedDelay=true, pollStrategy=org.apache.camel.impl.DefaultPollingConsumerPollStrategy@2172f79b, startScheduler=true, runLoggingLevel=TRACE, backoffErrorThreshold=0, greedy=false, scheduledExecutorService=null, timeUnit=MILLISECONDS}
&lt;p&gt;]&lt;br/&gt;
	at org.apache.camel.impl.DefaultEndpoint.configureConsumer(DefaultEndpoint.java:510) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.component.jt400.Jt400Endpoint.createConsumer(Jt400Endpoint.java:92) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-jt400-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.EventDrivenConsumerRoute.addServices(EventDrivenConsumerRoute.java:69) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.DefaultRoute.onStartingServices(DefaultRoute.java:103) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.RouteService.warmUp(RouteService.java:158) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.doWarmUpRoutes(DefaultCamelContext.java:3496) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.safelyStartRouteServices(DefaultCamelContext.java:3426) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRoutes(DefaultCamelContext.java:3203) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3059) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:175) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:2854) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:2850) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:2873) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:2850) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:2819) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-core-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.spring.SpringCamelContext.maybeStart(SpringCamelContext.java:270) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-spring-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.camel.spring.SpringCamelContext.afterPropertiesSet(SpringCamelContext.java:122) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;camel-spring-2.17.3.jar!/:2.17.3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;spring-beans-4.3.0.RELEASE.jar!/:4.3.0.RELEASE&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;spring-beans-4.3.0.RELEASE.jar!/:4.3.0.RELEASE&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12999992">CAMEL-10271</key>
            <summary>camel-jt400 - Failed to resolve endpoint</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="rogueandroid">Michael Watson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Aug 2016 12:10:35 +0000</created>
                <updated>Thu, 15 Dec 2016 16:07:46 +0000</updated>
                            <resolved>Thu, 15 Dec 2016 16:07:46 +0000</resolved>
                                    <version>2.17.3</version>
                                    <fixVersion>2.16.5</fixVersion>
                    <fixVersion>2.17.4</fixVersion>
                    <fixVersion>2.18.0</fixVersion>
                                    <component>camel-jt400</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15464714" author="rogueandroid" created="Mon, 5 Sep 2016 10:40:00 +0000"  >&lt;p&gt;Have re-tested this and no longer get the exception on startup.&lt;/p&gt;

&lt;p&gt; It appears to connect to the queue, but does not appear to actually be calling the JT400DataQueueConsumer-&amp;gt;receive method any longer (and indeed will not let me add the consumer.delay property). How does the JT400DataQueueConsumer-&amp;gt;receive get called by Camel to receive entries that appear on the queue? I cant see anything in the trace about the receive being called, and have tested it by connecting it to both existing and non-existing queue&apos;s, and adding entries to existing queues. No exceptions are thrown about the non-existing queues and no entries are picked up from the existing queues.&lt;/p&gt;

&lt;p&gt;2016-09-05 11:37:16.328 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; c.m.c.f.launcher.CamelJobLauncherConfig  : Building route for Legacy Job Queue Trigger&lt;br/&gt;
2016-09-05 11:37:16.334 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; c.m.c.f.launcher.CamelJobLauncherConfig  : Using source queue jt400://CMP070:xxxxxx@arch1.mdsuk.com/QSYS.LIB/%LIBL%.LIB/BCH_LAUNCH.DTAQ&lt;br/&gt;
2016-09-05 11:37:16.336 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.spring.SpringCamelContext      : Adding routes from builder: Routes: []&lt;br/&gt;
2016-09-05 11:37:16.440 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.model.RouteDefinition   : Tracing is enabled on route: CamelJobQueueProcessor&lt;br/&gt;
2016-09-05 11:37:16.441 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.model.RouteDefinition   : Using AutoStartup true on route: CamelJobQueueProcessor&lt;br/&gt;
2016-09-05 11:37:16.447 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.spring.SpringCamelContext      : Using ComponentResolver: org.apache.camel.impl.DefaultComponentResolver@7d75dce0 to resolve component with name: jt400&lt;br/&gt;
2016-09-05 11:37:16.448 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.impl.DefaultComponentResolver  : Found component: jt400 in registry: null&lt;br/&gt;
2016-09-05 11:37:16.451 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.impl.DefaultComponentResolver  : Found component: jt400 via type: org.apache.camel.component.jt400.Jt400Component via: META-INF/services/org/apache/camel/component/jt400&lt;br/&gt;
2016-09-05 11:37:16.476 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.management.DefaultManagementAgent  : Registered MBean with ObjectName: org.apache.camel:context=camel-1,type=components,name=&quot;jt400&quot;&lt;br/&gt;
2016-09-05 11:37:16.476 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.impl.DefaultComponent   : Creating endpoint uri=&lt;span class=&quot;error&quot;&gt;&amp;#91;jt400://CMP070:xxxxxx@arch1.mdsuk.com/QSYS.LIB/%25LIBL%25.LIB/BCH_LAUNCH.DTAQ&amp;#93;&lt;/span&gt;, path=&lt;span class=&quot;error&quot;&gt;&amp;#91;CMP070:xxxxxx@arch1.mdsuk.com/QSYS.LIB/%LIBL%.LIB/BCH_LAUNCH.DTAQ&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-09-05 11:37:16.477 TRACE 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.component.jt400.Jt400Component     : No AS400ConnectionPool instance specified in the URI - one will be provided.&lt;br/&gt;
2016-09-05 11:37:16.481  INFO 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.component.jt400.Jt400Component     : Instantiating the default connection pool ...&lt;br/&gt;
2016-09-05 11:37:16.504 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.spring.SpringCamelContext      : jt400://CMP070:xxxxxx@arch1.mdsuk.com/QSYS.LIB/%25LIBL%25.LIB/BCH_LAUNCH.DTAQ converted to endpoint: Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;jt400://CMP070:xxxxxx@arch1.mdsuk.com/QSYS.LIB/%25LIBL%25.LIB/BCH_LAUNCH.DTAQ&amp;#93;&lt;/span&gt; by component: org.apache.camel.component.jt400.Jt400Component@5b42abe3&lt;br/&gt;
2016-09-05 11:37:16.519 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.p.interceptor.DefaultChannel       : Initialize channel for target: &apos;process&lt;span class=&quot;error&quot;&gt;&amp;#91;Processor@0x4dab553a&amp;#93;&lt;/span&gt;&apos;&lt;br/&gt;
2016-09-05 11:37:16.528 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.management.DefaultManagementAgent  : Registered MBean with ObjectName: org.apache.camel:context=camel-1,type=tracer,name=BacklogTracer&lt;br/&gt;
2016-09-05 11:37:16.538 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.management.DefaultManagementAgent  : Registered MBean with ObjectName: org.apache.camel:context=camel-1,type=tracer,name=BacklogDebugger&lt;br/&gt;
2016-09-05 11:37:16.574 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.management.DefaultManagementAgent  : Registered MBean with ObjectName: org.apache.camel:context=camel-1,type=errorhandlers,name=&quot;DefaultErrorHandlerBuilder(ref:CamelDefaultErrorHandlerBuilder)&quot;&lt;br/&gt;
2016-09-05 11:37:16.582 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.spring.SpringCamelContext      : Using ComponentResolver: org.apache.camel.impl.DefaultComponentResolver@7d75dce0 to resolve component with name: hazelcast&lt;br/&gt;
2016-09-05 11:37:16.584 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.impl.DefaultComponentResolver  : Found component: hazelcast in registry: null&lt;br/&gt;
2016-09-05 11:37:16.592 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.impl.DefaultComponentResolver  : Found component: hazelcast via type: org.apache.camel.component.hazelcast.HazelcastComponent via: META-INF/services/org/apache/camel/component/hazelcast&lt;br/&gt;
2016-09-05 11:37:16.629 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.management.DefaultManagementAgent  : Registered MBean with ObjectName: org.apache.camel:context=camel-1,type=components,name=&quot;hazelcast&quot;&lt;br/&gt;
2016-09-05 11:37:16.630 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.impl.DefaultComponent   : Creating endpoint uri=&lt;span class=&quot;error&quot;&gt;&amp;#91;hazelcast://map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&amp;#93;&lt;/span&gt;, path=&lt;span class=&quot;error&quot;&gt;&amp;#91;map:jobNotificationQueue&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-09-05 11:37:16.633 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.util.IntrospectionSupport      : Configured property: hazelcastInstanceName on bean: Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;hazelcast://map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&amp;#93;&lt;/span&gt; with value: cmpbatchserver-1.0-bootstrap&lt;br/&gt;
2016-09-05 11:37:16.635 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.spring.SpringCamelContext      : hazelcast://map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap converted to endpoint: Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;hazelcast://map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&amp;#93;&lt;/span&gt; by component: org.apache.camel.component.hazelcast.HazelcastComponent@2afe8a31&lt;br/&gt;
2016-09-05 11:37:16.644 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.management.DefaultManagementAgent  : Registered MBean with ObjectName: org.apache.camel:context=camel-1,type=endpoints,name=&quot;hazelcast://map:jobNotificationQueue&amp;#63;hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&quot;&lt;br/&gt;
2016-09-05 11:37:16.648 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.p.interceptor.DefaultChannel       : Initialize channel for target: &apos;To&lt;span class=&quot;error&quot;&gt;&amp;#91;hazelcast:map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&amp;#93;&lt;/span&gt;&apos;&lt;br/&gt;
2016-09-05 11:37:16.651 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.p.interceptor.DefaultChannel       : Initialize channel for target: &apos;SetHeader[CamelHazelcastOperationType, &lt;/p&gt;
{31}
&lt;p&gt;]&apos;&lt;br/&gt;
2016-09-05 11:37:16.667 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.spring.SpringCamelContext      : Warming up route id: CamelJobQueueProcessor having autoStartup=true&lt;br/&gt;
2016-09-05 11:37:16.667 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.impl.RouteService       : Starting services on route: CamelJobQueueProcessor&lt;br/&gt;
2016-09-05 11:37:16.677 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.impl.RouteService       : Starting child service on route: CamelJobQueueProcessor -&amp;gt; Pipeline[[Channel[DelegateSync&lt;span class=&quot;error&quot;&gt;&amp;#91;com.mdscem.cmp.framework.launcher.CamelLegacyJobQueueProcessor@4dab553a&amp;#93;&lt;/span&gt;], Channel[sendTo(Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;hazelcast://map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&amp;#93;&lt;/span&gt;)], Channel&lt;span class=&quot;error&quot;&gt;&amp;#91;SetHeader(CamelHazelcastOperationType, 31)&amp;#93;&lt;/span&gt;]]&lt;br/&gt;
2016-09-05 11:37:16.687 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.management.DefaultManagementAgent  : Registered MBean with ObjectName: org.apache.camel:context=camel-1,type=producers,name=HazelcastMapProducer(0x72c73ac3)&lt;br/&gt;
2016-09-05 11:37:16.687 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.c.h.map.HazelcastMapProducer       : Starting producer: Producer&lt;span class=&quot;error&quot;&gt;&amp;#91;hazelcast://map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-09-05 11:37:16.690 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.impl.ProducerCache      : Adding to producer cache with key: Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;hazelcast://map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&amp;#93;&lt;/span&gt; for producer: Producer&lt;span class=&quot;error&quot;&gt;&amp;#91;hazelcast://map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-09-05 11:37:16.694 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.impl.RouteService       : Starting child service on route: CamelJobQueueProcessor -&amp;gt; Pipeline[[Channel[DelegateSync&lt;span class=&quot;error&quot;&gt;&amp;#91;com.mdscem.cmp.framework.launcher.CamelLegacyJobQueueProcessor@4dab553a&amp;#93;&lt;/span&gt;], Channel[sendTo(Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;hazelcast://map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&amp;#93;&lt;/span&gt;)], Channel&lt;span class=&quot;error&quot;&gt;&amp;#91;SetHeader(CamelHazelcastOperationType, 31)&amp;#93;&lt;/span&gt;]]&lt;br/&gt;
2016-09-05 11:37:16.695 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.impl.RouteService       : Starting child service on route: CamelJobQueueProcessor -&amp;gt; DelegateSync&lt;span class=&quot;error&quot;&gt;&amp;#91;com.mdscem.cmp.framework.launcher.CamelLegacyJobQueueProcessor@4dab553a&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-09-05 11:37:16.761 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.management.DefaultManagementAgent  : Registered MBean with ObjectName: org.apache.camel:context=camel-1,type=processors,name=&quot;process1&quot;&lt;br/&gt;
2016-09-05 11:37:16.761 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.impl.RouteService       : Starting child service on route: CamelJobQueueProcessor -&amp;gt; Channel[DelegateSync&lt;span class=&quot;error&quot;&gt;&amp;#91;com.mdscem.cmp.framework.launcher.CamelLegacyJobQueueProcessor@4dab553a&amp;#93;&lt;/span&gt;]&lt;br/&gt;
2016-09-05 11:37:16.762 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.impl.RouteService       : Starting child service on route: CamelJobQueueProcessor -&amp;gt; sendTo(Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;hazelcast://map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&amp;#93;&lt;/span&gt;)&lt;br/&gt;
2016-09-05 11:37:16.772 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.management.DefaultManagementAgent  : Registered MBean with ObjectName: org.apache.camel:context=camel-1,type=processors,name=&quot;to1&quot;&lt;br/&gt;
2016-09-05 11:37:16.772 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.impl.RouteService       : Starting child service on route: CamelJobQueueProcessor -&amp;gt; Channel[sendTo(Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;hazelcast://map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&amp;#93;&lt;/span&gt;)]&lt;br/&gt;
2016-09-05 11:37:16.773 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.impl.RouteService       : Starting child service on route: CamelJobQueueProcessor -&amp;gt; SetHeader(CamelHazelcastOperationType, 31)&lt;br/&gt;
2016-09-05 11:37:16.779 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.management.DefaultManagementAgent  : Registered MBean with ObjectName: org.apache.camel:context=camel-1,type=processors,name=&quot;setHeader1&quot;&lt;br/&gt;
2016-09-05 11:37:16.779 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.camel.impl.RouteService       : Starting child service on route: CamelJobQueueProcessor -&amp;gt; Channel&lt;span class=&quot;error&quot;&gt;&amp;#91;SetHeader(CamelHazelcastOperationType, 31)&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-09-05 11:37:16.788 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.management.DefaultManagementAgent  : Registered MBean with ObjectName: org.apache.camel:context=camel-1,type=routes,name=&quot;CamelJobQueueProcessor&quot;&lt;br/&gt;
2016-09-05 11:37:16.789 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.support.TimerListenerManager   : Added TimerListener: org.apache.camel.management.mbean.ManagedRoute@38781df9&lt;br/&gt;
2016-09-05 11:37:16.789 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.spring.SpringCamelContext      : Route: CamelJobQueueProcessor &amp;gt;&amp;gt;&amp;gt; EventDrivenConsumerRoute[Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;jt400://CMP070:xxxxxx@arch1.mdsuk.com/QSYS.LIB/%25LIBL%25.LIB/BCH_LAUNCH.DTAQ&amp;#93;&lt;/span&gt; -&amp;gt; Pipeline[[Channel[DelegateSync&lt;span class=&quot;error&quot;&gt;&amp;#91;com.mdscem.cmp.framework.launcher.CamelLegacyJobQueueProcessor@4dab553a&amp;#93;&lt;/span&gt;], Channel[sendTo(Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;hazelcast://map:jobNotificationQueue?hazelcastInstanceName=cmpbatchserver-1.0-bootstrap&amp;#93;&lt;/span&gt;)], Channel&lt;span class=&quot;error&quot;&gt;&amp;#91;SetHeader(CamelHazelcastOperationType, 31)&amp;#93;&lt;/span&gt;]]]&lt;br/&gt;
2016-09-05 11:37:16.790 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.spring.SpringCamelContext      : Starting consumer (order: 1000) on route: CamelJobQueueProcessor&lt;br/&gt;
2016-09-05 11:37:16.797 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.management.DefaultManagementAgent  : Registered MBean with ObjectName: org.apache.camel:context=camel-1,type=consumers,name=Jt400DataQueueConsumer(0x14f6940b)&lt;br/&gt;
2016-09-05 11:37:16.798 DEBUG 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.c.jt400.Jt400Configuration         : Getting an AS400 object for &apos;arch1.mdsuk.com/CMP070&apos; from com.ibm.as400.access.AS400ConnectionPool@38e4838b.&lt;br/&gt;
2016-09-05 11:37:16.824  INFO 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.c.c.jt400.Jt400DataQueueService      : Connecting to Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;jt400://CMP070:xxxxxx@arch1.mdsuk.com/QSYS.LIB/%25LIBL%25.LIB/BCH_LAUNCH.DTAQ&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-09-05 11:37:16.845  INFO 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.spring.SpringCamelContext      : Route: CamelJobQueueProcessor started and consuming from: Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;jt400://CMP070:xxxxxx@arch1.mdsuk.com/QSYS.LIB/%25LIBL%25.LIB/BCH_LAUNCH.DTAQ&amp;#93;&lt;/span&gt;&lt;br/&gt;
2016-09-05 11:37:16.846  INFO 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.spring.SpringCamelContext      : Apache Camel 2.17.4-SNAPSHOT (CamelContext: camel-1) is starting&lt;br/&gt;
2016-09-05 11:37:16.846  INFO 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.spring.SpringCamelContext      : Total 1 routes, of which 1 are started.&lt;br/&gt;
2016-09-05 11:37:16.847  INFO 9436 &amp;#8212; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; o.a.camel.spring.SpringCamelContext      : Apache Camel 2.17.4-SNAPSHOT (CamelContext: camel-1) started in 0.000 seconds&lt;/p&gt;
</comment>
                            <comment id="15464825" author="rogueandroid" created="Mon, 5 Sep 2016 11:49:02 +0000"  >&lt;p&gt;Hi There. Have added some detail on to the comments, but appears that possibly as a result of this fix the queue is no longer being polled. Cannot see any evidence of the -&amp;gt;receive method being called, and throws an exception if i try and add the property consumer.delay.&lt;/p&gt;</comment>
                            <comment id="15465354" author="davsclaus" created="Mon, 5 Sep 2016 16:24:18 +0000"  >&lt;p&gt;I pushed a new fix can you test with latest source code.&lt;/p&gt;</comment>
                            <comment id="15467024" author="rogueandroid" created="Tue, 6 Sep 2016 10:01:58 +0000"  >&lt;p&gt;Hi Claus&lt;/p&gt;

&lt;p&gt;I have pulled the latest 2.17.4 source code and tried it again, but it still does not appear to be polling. I cant see the receive method being called (and it should log that at TRACE). I did try and manually call the receive, so i know it can connect to the queue and receive entries, but there does not appear to be any thread that is periodically calling the receive method.&lt;/p&gt;</comment>
                            <comment id="15467033" author="davsclaus" created="Tue, 6 Sep 2016 10:06:13 +0000"  >&lt;p&gt;The poll method in the consumer is called periodically as its scheduler based.&lt;/p&gt;

&lt;p&gt;You can try to set a breakpoint there.&lt;/p&gt;

&lt;p&gt;Also do a thread dump as maybe its blocked by the jt400 trying to poll a message. It uses a 30 sec timeout by default.&lt;/p&gt;</comment>
                            <comment id="15467042" author="davsclaus" created="Tue, 6 Sep 2016 10:12:29 +0000"  >&lt;p&gt;Ups a missing super.doStart / doStop is in the code, fixing this now.&lt;/p&gt;</comment>
                            <comment id="15467046" author="davsclaus" created="Tue, 6 Sep 2016 10:13:42 +0000"  >&lt;p&gt;Pushed fix to branches, can you build from source and test again?&lt;/p&gt;</comment>
                            <comment id="15467047" author="rogueandroid" created="Tue, 6 Sep 2016 10:14:37 +0000"  >&lt;p&gt;will do. sadly i cant get out of this network using git, so have to pull and rebuild the whole source. takes a while.....&lt;/p&gt;</comment>
                            <comment id="15467056" author="davsclaus" created="Tue, 6 Sep 2016 10:19:54 +0000"  >&lt;p&gt;Ah the fix is easy, you can do that with your current code manually. Its just super.doStart / doStop in those methods in the consumer.&lt;/p&gt;

&lt;p&gt;See: &lt;a href=&quot;https://github.com/apache/camel/commit/9025b8c32489ac078aa59a2687e4ac7b7d2cf928&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/9025b8c32489ac078aa59a2687e4ac7b7d2cf928&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15467114" author="rogueandroid" created="Tue, 6 Sep 2016 10:54:17 +0000"  >&lt;p&gt;looks to have done the trick. can see it polling the queue for new entries &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15467118" author="rogueandroid" created="Tue, 6 Sep 2016 10:56:34 +0000"  >&lt;p&gt;Yes. Definately works. I can see it hitting my processor now, so it is definately reading the items from the queue!&lt;/p&gt;

&lt;p&gt;Many thanks Claus!&lt;/p&gt;
</comment>
                            <comment id="15467143" author="davsclaus" created="Tue, 6 Sep 2016 11:06:43 +0000"  >&lt;p&gt;Yay good to hear. Thanks for testing. Not everyone has access to a real AS/400 box &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15467579" author="rogueandroid" created="Tue, 6 Sep 2016 14:43:00 +0000"  >&lt;p&gt;No problem at all. Have fully tested end to end now and all seems to be working very nicely. Thanks for the quick turnaround!&lt;/p&gt;</comment>
                            <comment id="15708216" author="jbonofre" created="Wed, 30 Nov 2016 10:50:08 +0000"  >&lt;p&gt;I reopen this Jira as camel-jt400 2.15.x and 2.16.x are also impacted (and lot of users still use this version).&lt;/p&gt;

&lt;p&gt;I will backport the fix on camel-2.15.x and camel-2.16.x branches.&lt;/p&gt;</comment>
                            <comment id="15731746" author="davsclaus" created="Thu, 8 Dec 2016 10:11:55 +0000"  >&lt;p&gt;Have you backported these tickets?&lt;br/&gt;
Can you do this please.&lt;/p&gt;</comment>
                            <comment id="15731753" author="jbonofre" created="Thu, 8 Dec 2016 10:16:52 +0000"  >&lt;p&gt;Not yet, I will tackle that this afternoon or tomorrow morning. Thanks !&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32s53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>