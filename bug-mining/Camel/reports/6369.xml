<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:59:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-18980] camel snmp - SNMP Ver1 trap does not work</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-18980</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Although camel-snmp supports SNMP v1, v2, and v3 trap, v1 trap does not work as expected.&lt;/p&gt;

&lt;p&gt;By checking the test code for camel-snmp, v2 trap is only tested.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/camel/blob/camel-3.x/components/camel-snmp/src/test/java/org/apache/camel/component/snmp/TrapTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/blob/camel-3.x/components/camel-snmp/src/test/java/org/apache/camel/component/snmp/TrapTest.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Based on the TrapTest.java, I implemented a TrapTestSnmpv1.java. Please use the test code for this issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13521695">CAMEL-18980</key>
            <summary>camel snmp - SNMP Ver1 trap does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Federico Mariani">Federico Mariani</assignee>
                                    <reporter username="hfuruichi">hisao furuichi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jan 2023 07:19:10 +0000</created>
                <updated>Mon, 27 Mar 2023 13:32:48 +0000</updated>
                            <resolved>Mon, 6 Feb 2023 09:51:22 +0000</resolved>
                                    <version>3.20.1</version>
                                    <fixVersion>3.18.6</fixVersion>
                    <fixVersion>3.20.2</fixVersion>
                    <fixVersion>3.21.0</fixVersion>
                    <fixVersion>4.0-M2</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>camel-snmp</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17682667" author="federico mariani" created="Tue, 31 Jan 2023 17:21:31 +0000"  >&lt;p&gt;Hello, &lt;a href=&quot;https://github.com/apache/camel/pull/9276&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/9276&lt;/a&gt; fixes and add the V1 test, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hfuruichi&quot; class=&quot;user-hover&quot; rel=&quot;hfuruichi&quot;&gt;hfuruichi&lt;/a&gt; do you think this is enough? in case, should I backport it to camel-3.x branch too?&lt;/p&gt;</comment>
                            <comment id="17682841" author="hfuruichi" created="Wed, 1 Feb 2023 04:17:26 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Federico+Mariani&quot; class=&quot;user-hover&quot; rel=&quot;Federico Mariani&quot;&gt;Federico Mariani&lt;/a&gt; , thank you so much for the quick response.&lt;/p&gt;

&lt;p&gt;I tried the fix on my laptop, but the test failed with the following messages.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 11.032 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.camel.component.snmp.Snmpv1TrapTest
[ERROR] org.apache.camel.component.snmp.Snmpv1TrapTest.testSendReceiveTraps &#160;Time elapsed: 11.028 s &#160;&amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: mock:&lt;span class=&quot;code-comment&quot;&gt;//result Received message count. Expected: &amp;lt;1&amp;gt; but was: &amp;lt;0&amp;gt;
&lt;/span&gt;&#160; &#160; at org.apache.camel.component.mock.MockEndpoint.fail(MockEndpoint.java:1860)
&#160; &#160; at org.apache.camel.component.mock.MockEndpoint.assertEquals(MockEndpoint.java:1817)
&#160; &#160; at org.apache.camel.component.mock.MockEndpoint.doAssertIsSatisfied(MockEndpoint.java:449)
&#160; &#160; at org.apache.camel.component.mock.MockEndpoint.assertIsSatisfied(MockEndpoint.java:427)
&#160; &#160; at org.apache.camel.component.mock.MockEndpoint.assertIsSatisfied(MockEndpoint.java:417) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Is this work on your environment?&lt;/p&gt;

&lt;p&gt;About the backport, yes please backport it to camel-3.x branch too.&lt;/p&gt;</comment>
                            <comment id="17682913" author="federico mariani" created="Wed, 1 Feb 2023 08:55:33 +0000"  >&lt;p&gt;I had this issue too, in order to overcome this I&apos;ve added &lt;a href=&quot;https://github.com/apache/camel/pull/9276/files#diff-ab8dac15f4541b82865994814a811bf193ab93178e18c159b6a642d97bd14c88R43&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/9276/files#diff-ab8dac15f4541b82865994814a811bf193ab93178e18c159b6a642d97bd14c88R43&lt;/a&gt; the PDUv1 toString is different compared to the PDU one, probably this is why the test was failing.&lt;/p&gt;</comment>
                            <comment id="17683645" author="hfuruichi" created="Fri, 3 Feb 2023 03:52:21 +0000"  >&lt;p&gt;Hmm.. I double checked the extra line you &lt;a href=&quot;https://github.com/apache/camel/pull/9276/files#diff-ab8dac15f4541b82865994814a811bf193ab93178e18c159b6a642d97bd14c88R43&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;mentioned&lt;/a&gt;, but still no luck yet.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[hfuruich@hfuruich camel-snmp]$ oo17
openjdk version &lt;span class=&quot;code-quote&quot;&gt;&quot;17.0.2&quot;&lt;/span&gt; 2022-01-18
OpenJDK &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment (build 17.0.2+8-86)
OpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)
[hfuruich@hfuruich camel-snmp]$ cat ./src/test/java/org/apache/camel/component/snmp/Snmpv1TrapTest.java | grep &lt;span class=&quot;code-quote&quot;&gt;&quot;trap.setEnterprise&quot;&lt;/span&gt;
&#160; &#160; &#160; &#160; trap.setEnterprise(oid);
[hfuruich@hfuruich camel-snmp]$ mvn test -Dtest=org.apache.camel.component.snmp.Snmpv1TrapTest
[INFO] Scanning &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; projects...
~~skip~~
[INFO] -------------------------------------------------------
[INFO] &#160;T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.apache.camel.component.snmp.Snmpv1TrapTest
[ERROR] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 11.7 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.camel.component.snmp.Snmpv1TrapTest
[ERROR] org.apache.camel.component.snmp.Snmpv1TrapTest.testSendReceiveTraps &#160;Time elapsed: 11.364 s &#160;&amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: mock:&lt;span class=&quot;code-comment&quot;&gt;//result Received message count. Expected: &amp;lt;1&amp;gt; but was: &amp;lt;0&amp;gt;
&lt;/span&gt;&#160; &#160; at org.apache.camel.component.mock.MockEndpoint.fail(MockEndpoint.java:1860)
&#160; &#160; at org.apache.camel.component.mock.MockEndpoint.assertEquals(MockEndpoint.java:1817)
&#160; &#160; at org.apache.camel.component.mock.MockEndpoint.doAssertIsSatisfied(MockEndpoint.java:449)
&#160; &#160; at org.apache.camel.component.mock.MockEndpoint.assertIsSatisfied(MockEndpoint.java:427)
&#160; &#160; at org.apache.camel.component.mock.MockEndpoint.assertIsSatisfied(MockEndpoint.java:417)
&#160; &#160; at org.apache.camel.component.snmp.AbstractTrapTest.testSendReceiveTraps(AbstractTrapTest.java:59)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
&#160; &#160; at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160; &#160; at java.base/java.lang.reflect.Method.invoke(Method.java:568)
&#160; &#160; at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
&#160;~~skip~~
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Probably I don&apos;t understand correctly about your last comment. So due to the difference of toString methods, we need to modify the test code again to pass? Or the current test code works on your end now?&lt;/p&gt;</comment>
                            <comment id="17684359" author="hfuruichi" created="Sun, 5 Feb 2023 23:50:21 +0000"  >&lt;p&gt;Hello. My bad. there is some difference in SnmpTrapProducer.java. It works fine now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] -------------------------------------------------------
[INFO] &#160;T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.apache.camel.component.snmp.Snmpv1TrapTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.679 s - in org.apache.camel.component.snmp.Snmpv1TrapTest
[INFO]&#160;
[INFO] Results:
[INFO]&#160;
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
[INFO]&#160;
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:26 min
[INFO] Finished at: 2023-02-06T08:47:08+09:00
[INFO] ------------------------------------------------------------------------
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17684552" author="federico mariani" created="Mon, 6 Feb 2023 09:51:16 +0000"  >&lt;p&gt;Great, I&apos;ve backported the fix to camel-3.x and camel-3.20.x branch, the next release will contain it.&lt;/p&gt;</comment>
                            <comment id="17684591" author="davsclaus" created="Mon, 6 Feb 2023 10:53:21 +0000"  >&lt;p&gt;Remember to update the fix-versions in JIRA&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13054836" name="Snmpv1TrapTest.java" size="2197" author="hfuruichi" created="Fri, 27 Jan 2023 07:19:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ff34:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>