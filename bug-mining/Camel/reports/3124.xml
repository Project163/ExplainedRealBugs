<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:07:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-8427] camel-scala - Testing with useOverridePropertiesWithPropertiesComponent issue</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-8427</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;A very simple project has been attached. The SFTP route has some properties which are being provided by using &apos;useOverridePropertiesWithPropertiesComponent&apos; in CamelTestSupport. The test used to work fine before the latest March 2nd snapshot. It works with 2.14.1 version too. Now it fails with: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.IllegalArgumentException: PropertiesComponent with name properties must be defined in CamelContext to support property placeholders. Property with key [sftp.userName] not found in properties from text: sftp:&lt;span class=&quot;code-comment&quot;&gt;//{{sftp.userName}}@{{sftp.hostname}}{{sftp.folder}}?moveFailed={{sftp.moveFailedFolder}}&amp;amp;privateKeyFile={{sftp.privateKeyFile}}&amp;amp;privateKeyPassphrase={{sftp.privateKeyPassphrase}}&amp;amp;readLock=changed&amp;amp;readLockCheckInterval=10000&amp;amp;readLockTimeout=40000&amp;amp;streamDownload=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;fastExistsCheck=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;idempotent=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;useFixedDelay=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;delete=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;recursive=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;stepwise=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
&lt;/span&gt;	at org.apache.camel.component.properties.DefaultPropertiesParser$ParsingContext.getPropertyValue(DefaultPropertiesParser.java:268)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12778899">CAMEL-8427</key>
            <summary>camel-scala - Testing with useOverridePropertiesWithPropertiesComponent issue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="shreyaspurohit">Shreyas Purohit</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Mar 2015 23:13:58 +0000</created>
                <updated>Wed, 4 Mar 2015 05:54:22 +0000</updated>
                            <resolved>Tue, 3 Mar 2015 09:12:48 +0000</resolved>
                                    <version>2.15.0</version>
                                    <fixVersion>2.15.0</fixVersion>
                                    <component>camel-test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14344600" author="davsclaus" created="Tue, 3 Mar 2015 06:09:11 +0000"  >&lt;p&gt;Cannot reproduce this - works fine&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/camel/commit/ae08cd979b1997f1cf4b560d03b2117e05c77dec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/ae08cd979b1997f1cf4b560d03b2117e05c77dec&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14344618" author="davsclaus" created="Tue, 3 Mar 2015 06:32:14 +0000"  >&lt;p&gt;Its a camel-scala problem as 2 CamelContext are in use during testing. &lt;/p&gt;</comment>
                            <comment id="14344624" author="davsclaus" created="Tue, 3 Mar 2015 06:41:19 +0000"  >&lt;p&gt;To make it work change the route builder &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  def configure() {
    from(sftpUrlIn)
      .routeId(&lt;span class=&quot;code-quote&quot;&gt;&quot;route-sftp-to-file&quot;&lt;/span&gt;)
      .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;log:com.ssb.route.sftptofile?showAll=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;multiline=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;)
      .to(fileUrlOut)
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And from the unit test&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  override def createRouteBuilder(): RouteBuilder =  {
    val builder = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SFTPRouteBuilder
    builder.setContext(context())
    builder.configure()
    builder
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14344631" author="shreyaspurohit" created="Tue, 3 Mar 2015 06:51:13 +0000"  >&lt;p&gt;So, I tried this &lt;a href=&quot;https://gist.github.com/anonymous/5fd928a7ac59afd2c4d8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/anonymous/5fd928a7ac59afd2c4d8&lt;/a&gt; and &lt;a href=&quot;https://gist.github.com/anonymous/7cc6ee5457bd5e0d1b21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/anonymous/7cc6ee5457bd5e0d1b21&lt;/a&gt;. Both fails. Yeah, looks like scala dsl problem. I converted my original to java route builder and it worked.&lt;/p&gt;</comment>
                            <comment id="14344638" author="shreyaspurohit" created="Tue, 3 Mar 2015 06:56:54 +0000"  >&lt;p&gt;This worked: &lt;a href=&quot;https://gist.github.com/anonymous/5ce76593ad61b67e2b73&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/anonymous/5ce76593ad61b67e2b73&lt;/a&gt;, I understand what you meant. &lt;/p&gt;

&lt;p&gt;Is this a bug or is it expected to work like this going forwards? Also, surprised that it started breaking just now for me but the related bug &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-7644&quot; title=&quot;Scala camel DSL creates numerous DefaultCamelContext instances&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-7644&quot;&gt;&lt;del&gt;CAMEL-7644&lt;/del&gt;&lt;/a&gt; has been from a long time.&lt;/p&gt;</comment>
                            <comment id="14344689" author="shreyaspurohit" created="Tue, 3 Mar 2015 07:41:08 +0000"  >&lt;p&gt;How should I be initializing this in my main? I was initializing org.apache.camel.main.Main and adding camelMain.addRouteBuilder(new SFTPRouteBuilder), but with &quot;configure()&quot; method surrounding from/to the routes dont get initialized any more. I am extending RouteBuilderSupport.&lt;/p&gt;</comment>
                            <comment id="14344780" author="davsclaus" created="Tue, 3 Mar 2015 09:13:03 +0000"  >&lt;p&gt;See this unit test how to do it&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/camel/commit/01f08a6267232089adba90a380050ba5dc9c43d2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/01f08a6267232089adba90a380050ba5dc9c43d2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14345230" author="shreyaspurohit" created="Tue, 3 Mar 2015 15:41:06 +0000"  >&lt;p&gt;How should I be using this with camel Main? Since, ScalaRouteBuilder expects a context, I can&apos;t do camelMain.addRouteBuilder(new SFTPRouteBuilder) any more. &lt;/p&gt;</comment>
                            <comment id="14345240" author="davsclaus" created="Tue, 3 Mar 2015 15:50:26 +0000"  >&lt;p&gt;Check the recent commits&lt;/p&gt;</comment>
                            <comment id="14345265" author="shreyaspurohit" created="Tue, 3 Mar 2015 16:19:40 +0000"  >&lt;p&gt;You are awesome &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;!!! Thanks!&lt;/p&gt;</comment>
                            <comment id="14345851" author="githubbot" created="Tue, 3 Mar 2015 22:06:57 +0000"  >&lt;p&gt;GitHub user shreyaspurohit opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/418&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/418&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8427&quot; title=&quot;camel-scala - Testing with useOverridePropertiesWithPropertiesComponent issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8427&quot;&gt;&lt;del&gt;CAMEL-8427&lt;/del&gt;&lt;/a&gt; Publish scala test jar to expose ScalaTestSupport&lt;/p&gt;

&lt;p&gt;    @davsclaus &lt;/p&gt;

&lt;p&gt;    ScalaTestSupport needs to be published so that others can depend on test jar for camel-scala and access this.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/shreyaspurohit/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/shreyaspurohit/camel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8427&quot; title=&quot;camel-scala - Testing with useOverridePropertiesWithPropertiesComponent issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8427&quot;&gt;&lt;del&gt;CAMEL-8427&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/418.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/418.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #418&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 93117a1b2800cfcfffbf99aea230e1a245a6729c&lt;br/&gt;
Author: Shreyas Purohit &amp;lt;shreyas.purohit@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-03-03T21:47:03Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8427&quot; title=&quot;camel-scala - Testing with useOverridePropertiesWithPropertiesComponent issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8427&quot;&gt;&lt;del&gt;CAMEL-8427&lt;/del&gt;&lt;/a&gt; Publish scala test jar to expose ScalaTestSupport&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14346136" author="githubbot" created="Wed, 4 Mar 2015 00:50:56 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/418&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/418&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14346141" author="njiang" created="Wed, 4 Mar 2015 00:54:06 +0000"  >&lt;p&gt;I just merged the PR of pushing the scala test jar.&lt;/p&gt;</comment>
                            <comment id="14346203" author="gmazza" created="Wed, 4 Mar 2015 01:44:45 +0000"  >&lt;p&gt;Hi Willem &amp;amp; Claus.  Shreyas is my coworker at my new company, thanks for helping him and providing him quick service.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14346417" author="davsclaus" created="Wed, 4 Mar 2015 05:22:52 +0000"  >&lt;p&gt;We should NOT publish test-jar, those are for internal. If there is special need for scala testing a new camel-test-scala module would be required.&lt;/p&gt;</comment>
                            <comment id="14346423" author="shreyaspurohit" created="Wed, 4 Mar 2015 05:29:57 +0000"  >&lt;p&gt;uh oh.. then we have to create a new module to expose ScalaTestSupport.. I can do that.. But, do you want me to submit another PR removing the publish code or would you revert the merge some other way?&lt;/p&gt;</comment>
                            <comment id="14346436" author="davsclaus" created="Wed, 4 Mar 2015 05:54:22 +0000"  >&lt;p&gt;We can revert.&lt;/p&gt;

&lt;p&gt;Then I suggest to log a new ticket about a camel-test-scala module. And yeah we love contributions so you are very much welcome to work on such a module.&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12730246">CAMEL-7644</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12702008" name="2_15_SNAPSHOT.zip" size="323909" author="shreyaspurohit" created="Mon, 2 Mar 2015 23:14:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i269jj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>