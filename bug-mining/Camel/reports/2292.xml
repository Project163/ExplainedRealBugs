<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:57:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-6319] Not possible to advice activemq endpoint with options</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-6319</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I&apos;m currently trying to advice an Endpoint which has a rather lengthy options-part:&lt;/p&gt;

&lt;p&gt;activemq:topic:integrations?allowNullBody=false&amp;amp;asyncConsumer=true&amp;amp;jmsMessageType=Map&amp;amp;preserveMessageQos=true&amp;amp;concurrentConsumers=10&lt;/p&gt;

&lt;p&gt;this fails when doing mockEndpointsAndSkip with the above String&lt;/p&gt;

&lt;p&gt;without the options, the advice is no problem&lt;/p&gt;

&lt;p&gt;see attached unit test&lt;/p&gt;</description>
                <environment></environment>
        <key id="12644811">CAMEL-6319</key>
            <summary>Not possible to advice activemq endpoint with options</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="pjwalstrom">Per J&#248;rgen Walstr&#248;m</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Apr 2013 10:48:44 +0000</created>
                <updated>Fri, 3 May 2013 06:33:57 +0000</updated>
                            <resolved>Sat, 27 Apr 2013 12:07:55 +0000</resolved>
                                    <version>2.11.0</version>
                                    <fixVersion>2.11.1</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13643592" author="davsclaus" created="Sat, 27 Apr 2013 08:00:03 +0000"  >&lt;p&gt;Yeah you should use wildcards, eg &quot;activemq:topic:integrations*&quot;&lt;/p&gt;</comment>
                            <comment id="13643595" author="davsclaus" created="Sat, 27 Apr 2013 08:11:27 +0000"  >&lt;p&gt;Added a note/tip to the docs, and unit test as well.&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/r1476522&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1476522&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13643631" author="pjwalstrom" created="Sat, 27 Apr 2013 11:42:44 +0000"  >&lt;p&gt;Wildcard won&apos;t do it if there is an end() at the end of the route. See updated unit test&lt;/p&gt;</comment>
                            <comment id="13643633" author="davsclaus" created="Sat, 27 Apr 2013 11:45:38 +0000"  >&lt;p&gt;The end() does not make sense, why do you add it?&lt;/p&gt;</comment>
                            <comment id="13643635" author="pjwalstrom" created="Sat, 27 Apr 2013 11:50:19 +0000"  >&lt;p&gt;ok, may be I have misunderstood things. Shouldn&apos;t there be an &apos;end&apos; at the end to properly end the route? Or is it just used to end a choice?&lt;/p&gt;

&lt;p&gt;from(&quot;direct:start&quot;).routeId(&quot;starter&quot;).to(pub).end();&lt;/p&gt;</comment>
                            <comment id="13643636" author="davsclaus" created="Sat, 27 Apr 2013 11:56:34 +0000"  >&lt;p&gt;Its for ending a block, such as a choice, splitter, etc.&lt;/p&gt;</comment>
                            <comment id="13643640" author="pjwalstrom" created="Sat, 27 Apr 2013 12:06:24 +0000"  >&lt;p&gt;yeah, sounds reasonable. But can&apos;t get it to work with wildcards anyway (see updated test). Do you have a link to the unit test you added?&lt;/p&gt;</comment>
                            <comment id="13643642" author="davsclaus" created="Sat, 27 Apr 2013 12:12:26 +0000"  >&lt;p&gt;Yep the link is already there, see the comments above&lt;/p&gt;</comment>
                            <comment id="13643643" author="pjwalstrom" created="Sat, 27 Apr 2013 12:26:29 +0000"  >&lt;p&gt;ok, I see it all clearly now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
the getMockEnpoint() needs a string without options or wildcards. Maybe add a note on that as well?&lt;/p&gt;

&lt;p&gt;getMockEndpoint(&quot;mock:activemq:topic:integrations&quot;); //OK&lt;br/&gt;
getMockEndpoint(&quot;mock:activemq:topic:integrations*&quot;); //Not OK&lt;br/&gt;
getMockEndpoint(&quot;mock:activemq:topic:integrations?allowNullBody=false&quot;); //Not OK&lt;/p&gt;</comment>
                            <comment id="13648221" author="davsclaus" created="Fri, 3 May 2013 06:33:57 +0000"  >&lt;p&gt;Yeah mock endpoint only support the options it lists&lt;br/&gt;
&lt;a href=&quot;http://camel.apache.org/mock&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/mock&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When using advice with its logged at INFO level what the mock uri is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INFO  ceptSendToMockEndpointStrategy - Adviced endpoint [activemq:&lt;span class=&quot;code-comment&quot;&gt;//topic:integrations?allowNullBody=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;amp;asyncConsumer=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;concurrentConsumers=10&amp;amp;jmsMessageType=Map&amp;amp;preserveMessageQos=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;] with mock endpoint [mock:activemq:topic:integrations]&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12580832" name="FailingAdviceTest.java" size="2184" author="pjwalstrom" created="Sat, 27 Apr 2013 12:07:07 +0000"/>
                            <attachment id="12580686" name="FailingAdviceTest.java" size="2051" author="pjwalstrom" created="Fri, 26 Apr 2013 11:32:37 +0000"/>
                            <attachment id="12580685" name="applicationContext-failingAdviceTest.xml" size="1685" author="pjwalstrom" created="Fri, 26 Apr 2013 11:30:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325174</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k3mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325519</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>