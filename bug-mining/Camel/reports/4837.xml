<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:34:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-13162] Unknown parameter issue on weaving from-with on a REST-DSL route</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-13162</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;On attempting to weave a REST-DSL route and replace the route with something different, i.e. &lt;font color=&quot;#d04437&quot;&gt;direct:start&lt;/font&gt; seems to be fine in regards to the produced debug XML ...&lt;/p&gt;

&lt;p&gt;XML before weaving:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt; standalone=&lt;span class=&quot;code-quote&quot;&gt;&quot;yes&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;route xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/spring&quot;&lt;/span&gt;
&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160; customId=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;
&#160;&#160;&#160;&#160;&#160;&#160; id=&lt;span class=&quot;code-quote&quot;&gt;&quot;apiHeartbeat&quot;&lt;/span&gt;
&#160;&#160;&#160;&#160;&#160;&#160; &lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;
&#160;&#160;&#160; &amp;lt;from uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;:&lt;span class=&quot;code-comment&quot;&gt;//post:/heartbeat:/%7Bsender%7D?description=Test+description&amp;amp;amp;routeId=apiHeartbeat&quot;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&#160;&#160;&#160; &amp;lt;log id=&lt;span class=&quot;code-quote&quot;&gt;&quot;log1&quot;&lt;/span&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; message=&lt;span class=&quot;code-quote&quot;&gt;&quot;Received request with payload ${body} and headers: ${headers}&quot;&lt;/span&gt;/&amp;gt;
&#160;&#160;&#160; &amp;lt;to id=&lt;span class=&quot;code-quote&quot;&gt;&quot;to1&quot;&lt;/span&gt; uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:done&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/route&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;XML after weaving:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt; standalone=&lt;span class=&quot;code-quote&quot;&gt;&quot;yes&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;route xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/spring&quot;&lt;/span&gt;
&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160; customId=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;
&#160;&#160;&#160;&#160;&#160;&#160; id=&lt;span class=&quot;code-quote&quot;&gt;&quot;apiHeartbeat&quot;&lt;/span&gt;
&#160;&#160;&#160;&#160;&#160;&#160; &lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;
&#160;&#160;&#160; &amp;lt;from uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;/&amp;gt;
&#160;&#160;&#160; &amp;lt;log id=&lt;span class=&quot;code-quote&quot;&gt;&quot;log1&quot;&lt;/span&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; message=&lt;span class=&quot;code-quote&quot;&gt;&quot;Received request with payload ${body} and headers: ${headers}&quot;&lt;/span&gt;/&amp;gt;
&#160;&#160;&#160; &amp;lt;to id=&lt;span class=&quot;code-quote&quot;&gt;&quot;to1&quot;&lt;/span&gt; uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:done&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/route&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;... though on sending a message via a producerTemplate will result in the following exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.camel.FailedToCreateRouteException: Failed to create route apiHeartbeat: Route(apiHeartbeat)[[From[direct:&lt;span class=&quot;code-comment&quot;&gt;//start?routeId=apiHeartbea... because of Failed to resolve endpoint: direct://start?routeId=apiHeartbeat due to: Failed to resolve endpoint: direct://start?routeId=apiHeartbeat due to: There are 1 parameters that couldn&apos;t be set on the endpoint. Check the uri &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{routeId=apiHeartbeat}]
&lt;/span&gt;
&#160;&#160; &#160;at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:217)
&#160;&#160; &#160;at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1140)
&#160;&#160; &#160;at org.apache.camel.model.RouteDefinition.adviceWith(RouteDefinition.java:318)
&#160;&#160; &#160;at at.erpel.messaginghub.services.unit.routes.api.CamelRouteAdviceTest.testRouteWeaving(CamelRouteAdviceTest.java:69)
&#160;&#160; &#160;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#160;&#160; &#160;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
&#160;&#160; &#160;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160;&#160; &#160;at java.lang.reflect.Method.invoke(Method.java:498)
&#160;&#160; &#160;at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
&#160;&#160; &#160;at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
&#160;&#160; &#160;at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
&#160;&#160; &#160;at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
&#160;&#160; &#160;at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
&#160;&#160; &#160;at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
&#160;&#160; &#160;at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
&#160;&#160; &#160;at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
&#160;&#160; &#160;at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
&#160;&#160; &#160;at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
&#160;&#160; &#160;at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
&#160;&#160; &#160;at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
&#160;&#160; &#160;at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
&#160;&#160; &#160;at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
&#160;&#160; &#160;at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
&#160;&#160; &#160;at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
&#160;&#160; &#160;at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
&#160;&#160; &#160;at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
&#160;&#160; &#160;at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
&#160;&#160; &#160;at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
&#160;&#160; &#160;at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
&#160;&#160; &#160;at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
&#160;&#160; &#160;at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
&#160;&#160; &#160;at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
&#160;&#160; &#160;at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
&#160;&#160; &#160;at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: direct:&lt;span class=&quot;code-comment&quot;&gt;//start?routeId=apiHeartbeat due to: Failed to resolve endpoint: direct://start?routeId=apiHeartbeat due to: There are 1 parameters that couldn&apos;t be set on the endpoint. Check the uri &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{routeId=apiHeartbeat}]
&lt;/span&gt;&#160;&#160; &#160;at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:753)
&#160;&#160; &#160;at org.apache.camel.util.CamelContextHelper.getMandatoryEndpoint(CamelContextHelper.java:80)
&#160;&#160; &#160;at org.apache.camel.model.RouteDefinition.resolveEndpoint(RouteDefinition.java:227)
&#160;&#160; &#160;at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:116)
&#160;&#160; &#160;at org.apache.camel.impl.DefaultRouteContext.resolveEndpoint(DefaultRouteContext.java:122)
&#160;&#160; &#160;at org.apache.camel.model.FromDefinition.resolveEndpoint(FromDefinition.java:75)
&#160;&#160; &#160;at org.apache.camel.impl.DefaultRouteContext.getEndpoint(DefaultRouteContext.java:98)
&#160;&#160; &#160;at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1332)
&#160;&#160; &#160;at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:212)
&#160;&#160; &#160;... 33 more
Caused by: org.apache.camel.ResolveEndpointFailedException: Failed to resolve endpoint: direct:&lt;span class=&quot;code-comment&quot;&gt;//start?routeId=apiHeartbeat due to: There are 1 parameters that couldn&apos;t be set on the endpoint. Check the uri &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{routeId=apiHeartbeat}]
&lt;/span&gt;&#160;&#160; &#160;at org.apache.camel.impl.DefaultComponent.validateParameters(DefaultComponent.java:215)
&#160;&#160; &#160;at org.apache.camel.impl.DefaultComponent.createEndpoint(DefaultComponent.java:139)
&#160;&#160; &#160;at org.apache.camel.impl.DefaultCamelContext.getEndpoint(DefaultCamelContext.java:706)
&#160;&#160; &#160;... 41 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;A code that reproduces this issue is listed below:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.ArrayList;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.HashMap;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.List;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Map;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.UUID;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.annotation.Resource;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.servlet.http.HttpServletRequest;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.CamelContext;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.Exchange;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.ProducerTemplate;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.builder.AdviceWithRouteBuilder;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.builder.RouteBuilder;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.component.mock.MockEndpoint;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.model.ModelCamelContext;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.spring.javaconfig.CamelConfiguration;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.test.spring.CamelSpringRunner;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.test.spring.CamelTestContextBootstrapper;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.test.spring.UseAdviceWith;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.codec.binary.Base64;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.Test;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.runner.RunWith;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.springframework.context.annotation.Configuration;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.springframework.mock.web.MockHttpServletRequest;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.springframework.test.context.BootstrapWith;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.springframework.test.context.ContextConfiguration;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.springframework.test.context.support.AnnotationConfigContextLoader;

@RunWith(CamelSpringRunner.class)
@BootstrapWith(CamelTestContextBootstrapper.class)
@ContextConfiguration(
    classes = CamelRouteAdviceTest.Config.class,
    loader = AnnotationConfigContextLoader.class
)
@UseAdviceWith
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;CamelRouteAdviceTest {

  @Configuration
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Config &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; CamelConfiguration {

    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;RouteBuilder&amp;gt; routes() {
      List&amp;lt;RouteBuilder&amp;gt; routes = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;(1);
      routes.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RouteBuilder() {
        @Override
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() {
          &lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;/heartbeat&quot;&lt;/span&gt;)
              .post(&lt;span class=&quot;code-quote&quot;&gt;&quot;/{sender}&quot;&lt;/span&gt;)
              .description(&lt;span class=&quot;code-quote&quot;&gt;&quot;Test description&quot;&lt;/span&gt;)

              .route().routeId(&lt;span class=&quot;code-quote&quot;&gt;&quot;apiHeartbeat&quot;&lt;/span&gt;)
                .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;Received request with payload ${body} and headers: ${headers}&quot;&lt;/span&gt;)
                .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:done&quot;&lt;/span&gt;);
        }
      });
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; routes;
    }
  }

  @Resource
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; CamelContext context;

  @Test
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testRouteWeaving() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {

    &lt;span class=&quot;code-comment&quot;&gt;// Arrange
&lt;/span&gt;
    context.getRouteDefinitions().get(0).adviceWith((ModelCamelContext) context,
        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AdviceWithRouteBuilder() {
          @Override
          &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() {
            &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.replaceFromWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;);
          }
        });

    MockEndpoint doneEndpoint = context.getEndpoint(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:done&quot;&lt;/span&gt;, MockEndpoint.class);
    doneEndpoint.expectedMessageCount(1);

    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; sender = UUID.randomUUID().toString();
    HttpServletRequest request = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MockHttpServletRequest(&lt;span class=&quot;code-quote&quot;&gt;&quot;PUT&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8383/api/v1/heartbeat/&quot;&lt;/span&gt; + sender);
&lt;/span&gt;    Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; headers = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&amp;gt;();
    headers.put(Exchange.HTTP_METHOD, &lt;span class=&quot;code-quote&quot;&gt;&quot;PUT&quot;&lt;/span&gt;);               &lt;span class=&quot;code-comment&quot;&gt;// required &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; check appKey
&lt;/span&gt;    headers.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;sender&quot;&lt;/span&gt;, sender);
    headers.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;Authorization&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Basic &quot;&lt;/span&gt; + Base64.encodeBase64String((&lt;span class=&quot;code-quote&quot;&gt;&quot;test:abcd1234&quot;&lt;/span&gt;).getBytes()));
    headers.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;User-Agent&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Apache-HttpClient/4.5.2 (Java/1.8.0_101)&quot;&lt;/span&gt;);

    &lt;span class=&quot;code-comment&quot;&gt;// Act
&lt;/span&gt;
    ProducerTemplate template = context.createProducerTemplate();
    template.sendBodyAndHeaders(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;, request, headers);

    &lt;span class=&quot;code-comment&quot;&gt;// Assert
&lt;/span&gt;
    doneEndpoint.assertIsSatisfied();
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Commenting out &lt;font color=&quot;#d04437&quot;&gt;routeId(&quot;apiHeartbeat&quot;)&lt;/font&gt; does not solve the problem as here &lt;font color=&quot;#d04437&quot;&gt;route1&lt;/font&gt; is taken as the routeId and appended to the endpoint to invoke&lt;/p&gt;</description>
                <environment></environment>
        <key id="13213942">CAMEL-13162</key>
            <summary>Unknown parameter issue on weaving from-with on a REST-DSL route</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dmvolod">Dmitry Volodin</assignee>
                                    <reporter username="Rovo">Roman Vottner</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Feb 2019 15:34:18 +0000</created>
                <updated>Tue, 19 Mar 2019 09:35:10 +0000</updated>
                            <resolved>Tue, 19 Mar 2019 09:35:10 +0000</resolved>
                                    <version>2.23.0</version>
                    <version>2.23.1</version>
                                    <fixVersion>2.23.2</fixVersion>
                    <fixVersion>2.24.0</fixVersion>
                    <fixVersion>3.0.0-M2</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>camel-test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16760974" author="dmvolod" created="Tue, 5 Feb 2019 16:10:28 +0000"  >&lt;p&gt;This could be regression of &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12908&quot; title=&quot;Cannot start route using rest dsl due to a mysterious duplicate routeId&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12908&quot;&gt;&lt;del&gt;CAMEL-12908&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please check the issue with 2.21.x version if it will work, we will look at the related fix.&lt;/p&gt;</comment>
                            <comment id="16761011" author="rovo" created="Tue, 5 Feb 2019 16:44:01 +0000"  >&lt;p&gt;Code runs with Camel 2.21.4 and 2.22.3 if I add a configuration such as&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
restConfiguration().component(&lt;span class=&quot;code-quote&quot;&gt;&quot;servlet&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;before the rest route definition, though with 2.23.0 and 2.23.1 the same test fails even with the restConfiguration in place.&lt;/p&gt;

&lt;p&gt;It might be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12943&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-12943&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16761023" author="dmvolod" created="Tue, 5 Feb 2019 16:55:31 +0000"  >&lt;p&gt;Yes, could be, as &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12943&quot; title=&quot;Rest DSL generates invalid swagger operation Id&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12943&quot;&gt;&lt;del&gt;CAMEL-12943&lt;/del&gt;&lt;/a&gt; is also regression of &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12908&quot; title=&quot;Cannot start route using rest dsl due to a mysterious duplicate routeId&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12908&quot;&gt;&lt;del&gt;CAMEL-12908&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks for reporting, I will look at this issue.&lt;/p&gt;</comment>
                            <comment id="16761647" author="dmvolod" created="Wed, 6 Feb 2019 10:26:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;, what do you think about refactor routeId generation and initiation for REST and common DSLs in 3.0.0?&lt;/p&gt;</comment>
                            <comment id="16795828" author="davsclaus" created="Tue, 19 Mar 2019 08:37:15 +0000"  >&lt;p&gt;Taking a look now.&lt;/p&gt;

&lt;p&gt;You can use the stub component instead of direct and it should work with the advice.&lt;/p&gt;</comment>
                            <comment id="16795859" author="davsclaus" created="Tue, 19 Mar 2019 09:23:23 +0000"  >&lt;p&gt;A fix in this PR&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/camel/pull/2829&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2829&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16795861" author="davsclaus" created="Tue, 19 Mar 2019 09:24:26 +0000"  >&lt;p&gt;Dmitry, yeah you are welcome to log a JIRA ticket about this.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13195345">CAMEL-12908</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13199302">CAMEL-12943</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi0obs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>