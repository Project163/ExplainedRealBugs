<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:19:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-10322] Choice breaks Advice - UnsupportedOperationException</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-10322</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Choice seems to break advice because it is trying to add a task to an abstract array list? (AdviceWithTasks::line 151);&lt;/p&gt;

&lt;p&gt;Somewhat related to: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8798&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-8798&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Attached is example of advice breaking.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13005189">CAMEL-10322</key>
            <summary>Choice breaks Advice - UnsupportedOperationException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="flavouski">Flavel Heyman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Sep 2016 15:24:32 +0000</created>
                <updated>Mon, 24 Oct 2016 07:22:18 +0000</updated>
                            <resolved>Mon, 24 Oct 2016 07:22:17 +0000</resolved>
                                    <version>2.16.3</version>
                                    <fixVersion>2.19.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15493650" author="flavouski" created="Thu, 15 Sep 2016 15:25:08 +0000"  >&lt;p&gt;Attached Test&lt;/p&gt;</comment>
                            <comment id="15556890" author="davsclaus" created="Sat, 8 Oct 2016 01:37:26 +0000"  >&lt;p&gt;Can you try with latest Camel release. And if possible create an unit test in Java code.&lt;/p&gt;</comment>
                            <comment id="15595341" author="githubbot" created="Fri, 21 Oct 2016 15:02:37 +0000"  >&lt;p&gt;GitHub user aldettinger opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1220&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1220&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Added a test class to ensure &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10322&quot; title=&quot;Choice breaks Advice - UnsupportedOperationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10322&quot;&gt;&lt;del&gt;CAMEL-10322&lt;/del&gt;&lt;/a&gt; non-regression&lt;/p&gt;

&lt;p&gt;    Hi,&lt;/p&gt;

&lt;p&gt;      In the context of &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10322&quot; title=&quot;Choice breaks Advice - UnsupportedOperationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10322&quot;&gt;&lt;del&gt;CAMEL-10322&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10322&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-10322&lt;/a&gt;), I have implemented a test reproducing the issue on 2.16.3 and demonstrating the issue correction at least in 2.19.0-SNAPSHOT.&lt;/p&gt;

&lt;p&gt;      On my machine, I could run commands above against camel-core:&lt;br/&gt;
      mvn clean compile -P sourcecheck =&amp;gt; ok&lt;br/&gt;
      mvn install =&amp;gt; ok&lt;/p&gt;

&lt;p&gt;      I could manage the JIRA issue but I don&apos;t have permission yet. Could someone bring me in ?&lt;/p&gt;

&lt;p&gt;    Many thanks&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/aldettinger/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/aldettinger/camel&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1220.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1220.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1220&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3becd4acb692fa9400185638f3a6dca8f501922a&lt;br/&gt;
Author: aldettinger &amp;lt;aldettinger@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-10-21T14:44:04Z&lt;/p&gt;

&lt;p&gt;    Added a test class to ensure &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10322&quot; title=&quot;Choice breaks Advice - UnsupportedOperationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10322&quot;&gt;&lt;del&gt;CAMEL-10322&lt;/del&gt;&lt;/a&gt; non-regression&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15598611" author="githubbot" created="Sat, 22 Oct 2016 22:34:23 +0000"  >&lt;p&gt;Github user aldettinger closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1220&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1220&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15598628" author="aldettinger" created="Sat, 22 Oct 2016 22:47:37 +0000"  >&lt;p&gt;In my opinion, this ticket could be closed. I would be glad to do it, but I don&apos;t have permissions.&lt;/p&gt;</comment>
                            <comment id="15601215" author="davsclaus" created="Mon, 24 Oct 2016 07:22:17 +0000"  >&lt;p&gt;Thanks for the PR and testing it on branches.&lt;/p&gt;

&lt;p&gt;Camel 2.16.x is EOL&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12828660" name="ChoiceIssueTest.groovy" size="4816" author="flavouski" created="Thu, 15 Sep 2016 15:25:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33o6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>