<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:40:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-14651] Property placeholder not resolved in Log EIP</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-14651</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I have a simple groovy script like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Grab(group=&lt;span class=&quot;code-quote&quot;&gt;&apos;org.slf4j&apos;&lt;/span&gt;, module=&lt;span class=&quot;code-quote&quot;&gt;&apos;slf4j-simple&apos;&lt;/span&gt;, version=&lt;span class=&quot;code-quote&quot;&gt;&apos;1.7.30&apos;&lt;/span&gt;)
@Grab(group=&lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.camel&apos;&lt;/span&gt;, module=&lt;span class=&quot;code-quote&quot;&gt;&apos;camel-main&apos;&lt;/span&gt;, version=&lt;span class=&quot;code-quote&quot;&gt;&apos;3.1.0&apos;&lt;/span&gt;)
@Grab(group=&lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.camel&apos;&lt;/span&gt;, module=&lt;span class=&quot;code-quote&quot;&gt;&apos;camel-timer&apos;&lt;/span&gt;, version=&lt;span class=&quot;code-quote&quot;&gt;&apos;3.1.0&apos;&lt;/span&gt;)

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.builder.RouteBuilder
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.main.Main

def main = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Main()
main.addInitialProperty(&lt;span class=&quot;code-quote&quot;&gt;&apos;camel.context.name&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;test-ctx&apos;&lt;/span&gt;)
main.addInitialProperty(&lt;span class=&quot;code-quote&quot;&gt;&apos;message&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;test&apos;&lt;/span&gt;)
main.addRoutesBuilder(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RouteBuilder() {
    @Override
    void configure() {
        from(&lt;span class=&quot;code-quote&quot;&gt;&apos;timer:{{message}}&apos;&lt;/span&gt;)
            .log(&lt;span class=&quot;code-quote&quot;&gt;&apos;{{message}}&apos;&lt;/span&gt;);
    }
})

main.run()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Which is supposed to print test every second but what it does is to literally print &lt;tt&gt;message&lt;/tt&gt; :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[main] INFO org.apache.camel.support.LRUCacheFactory - Detected and using LURCacheFactory: camel-caffeine-lrucache
[main] INFO org.apache.camel.main.BaseMainSupport - Using properties from classpath:application.properties;optional=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
[main] INFO org.apache.camel.main.BaseMainSupport - Auto-configuration summary:
[main] INFO org.apache.camel.main.BaseMainSupport - 	camel.context.name=test-ctx
[main] INFO org.apache.camel.main.DefaultRoutesCollector - Loading additional Camel XML routes from: classpath:camel/*.xml
[main] INFO org.apache.camel.main.DefaultRoutesCollector - Loading additional Camel XML rests from: classpath:camel-&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/*.xml
[main] INFO org.apache.camel.impl.engine.AbstractCamelContext - Apache Camel 3.1.0 (CamelContext: test-ctx) is starting
[main] INFO org.apache.camel.impl.engine.DefaultManagementStrategy - JMX is disabled
[main] INFO org.apache.camel.impl.engine.HeadersMapFactoryResolver - Detected and using HeadersMapFactory: camel-headersmap
[main] INFO org.apache.camel.impl.engine.AbstractCamelContext - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/stream-caching.html
&lt;/span&gt;[main] INFO org.apache.camel.impl.engine.AbstractCamelContext - Route: route1 started and consuming from: timer:&lt;span class=&quot;code-comment&quot;&gt;//test
&lt;/span&gt;[main] INFO org.apache.camel.impl.engine.AbstractCamelContext - Total 1 routes, of which 1 are started
[main] INFO org.apache.camel.impl.engine.AbstractCamelContext - Apache Camel 3.1.0 (CamelContext: test-ctx) started in 0.099 seconds
[Camel (test-ctx) thread #2 - timer:&lt;span class=&quot;code-comment&quot;&gt;//test] INFO route1 - {{message}}
&lt;/span&gt;[Camel (test-ctx) thread #2 - timer:&lt;span class=&quot;code-comment&quot;&gt;//test] INFO route1 - {{message}}&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Logs show that initial properties are taken into account as both the contex name and the name of the timer are set according to the properties whereas the Log EIP does not work as expected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13289447">CAMEL-14651</key>
            <summary>Property placeholder not resolved in Log EIP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="lb">Luca Burgazzoli</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Mar 2020 07:25:37 +0000</created>
                <updated>Wed, 4 Mar 2020 09:40:58 +0000</updated>
                            <resolved>Wed, 4 Mar 2020 09:40:57 +0000</resolved>
                                    <version>3.1.0</version>
                                    <fixVersion>3.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17050994" author="davsclaus" created="Wed, 4 Mar 2020 08:34:38 +0000"  >&lt;p&gt;You can use&#160;&lt;/p&gt;

&lt;p&gt;.log(&quot;${properties:message}&quot;);&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17051005" author="davsclaus" created="Wed, 4 Mar 2020 08:44:08 +0000"  >&lt;p&gt;Okay have a fix&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c548:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>