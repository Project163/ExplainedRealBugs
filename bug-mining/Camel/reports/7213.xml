<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:12:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-22144] camel-jbang: Kubernetes plugin management port for liveness/readiness</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-22144</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The generated project still uses 8080 as port for the liveness and readiness port in the manifest when it is supposed to be 9876 with the runtime spring-boot.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160; kind: Deployment
&#160; metadata:
&#160; &#160; labels:
&#160; &#160; &#160; camel.apache.org/app: camel-quarkus
&#160; &#160; &#160; app.kubernetes.io/runtime: camel
&#160; &#160; &#160; camel/integration-runtime: camel
&#160; &#160; &#160; app.kubernetes.io/name: camel-quarkus
&#160; &#160; &#160; app.openshift.io/runtime: camel
&#160; &#160; &#160; app: camel-quarkus
&#160; &#160; &#160; provider: jkube
&#160; &#160; &#160; version: 1.0-SNAPSHOT
&#160; &#160; &#160; group: org.example.project
&#160; &#160; &#160; app.kubernetes.io/part-of: org.example.project
&#160; &#160; &#160; app.kubernetes.io/managed-by: jkube
&#160; &#160; &#160; app.kubernetes.io/version: 1.0-SNAPSHOT
&#160; &#160; name: camel-quarkus
&#160; spec:
&#160; &#160; replicas: 1
&#160; &#160; revisionHistoryLimit: 2
&#160; &#160; selector:
&#160; &#160; &#160; matchLabels:
&#160; &#160; &#160; &#160; app.kubernetes.io/name: camel-quarkus
&#160; &#160; &#160; &#160; app: camel-quarkus
&#160; &#160; &#160; &#160; provider: jkube
&#160; &#160; &#160; &#160; group: org.example.project
&#160; &#160; &#160; &#160; app.kubernetes.io/part-of: org.example.project
&#160; &#160; &#160; &#160; app.kubernetes.io/managed-by: jkube
&#160; &#160; template:
&#160; &#160; &#160; metadata:
&#160; &#160; &#160; &#160; labels:
&#160; &#160; &#160; &#160; &#160; app.kubernetes.io/name: camel-quarkus
&#160; &#160; &#160; &#160; &#160; app: camel-quarkus
&#160; &#160; &#160; &#160; &#160; provider: jkube
&#160; &#160; &#160; &#160; &#160; version: 1.0-SNAPSHOT
&#160; &#160; &#160; &#160; &#160; group: org.example.project
&#160; &#160; &#160; &#160; &#160; app.kubernetes.io/part-of: org.example.project
&#160; &#160; &#160; &#160; &#160; app.kubernetes.io/managed-by: jkube
&#160; &#160; &#160; &#160; &#160; app.kubernetes.io/version: 1.0-SNAPSHOT
&#160; &#160; &#160; &#160; name: camel-quarkus
&#160; &#160; &#160; spec:
&#160; &#160; &#160; &#160; containers:
&#160; &#160; &#160; &#160; - env:
&#160; &#160; &#160; &#160; &#160; - name: KUBERNETES_NAMESPACE
&#160; &#160; &#160; &#160; &#160; &#160; valueFrom:
&#160; &#160; &#160; &#160; &#160; &#160; &#160; fieldRef:
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; fieldPath: metadata.namespace
&#160; &#160; &#160; &#160; &#160; image: camel-quarkus:1.0-SNAPSHOT
&#160; &#160; &#160; &#160; &#160; imagePullPolicy: IfNotPresent
&#160; &#160; &#160; &#160; &#160; livenessProbe:
&#160; &#160; &#160; &#160; &#160; &#160; failureThreshold: 3
&#160; &#160; &#160; &#160; &#160; &#160; httpGet:
&#160; &#160; &#160; &#160; &#160; &#160; &#160; path: /observe/health/live
&#160; &#160; &#160; &#160; &#160; &#160; &#160; port: 8080
&#160; &#160; &#160; &#160; &#160; &#160; &#160; scheme: HTTP
&#160; &#160; &#160; &#160; &#160; &#160; initialDelaySeconds: 10
&#160; &#160; &#160; &#160; &#160; &#160; successThreshold: 1
&#160; &#160; &#160; &#160; &#160; name: camel-quarkus
&#160; &#160; &#160; &#160; &#160; ports:
&#160; &#160; &#160; &#160; &#160; - containerPort: 8080
&#160; &#160; &#160; &#160; &#160; &#160; name: http
&#160; &#160; &#160; &#160; &#160; &#160; protocol: TCP
&#160; &#160; &#160; &#160; &#160; readinessProbe:
&#160; &#160; &#160; &#160; &#160; &#160; failureThreshold: 3
&#160; &#160; &#160; &#160; &#160; &#160; httpGet:
&#160; &#160; &#160; &#160; &#160; &#160; &#160; path: /observe/health/ready
&#160; &#160; &#160; &#160; &#160; &#160; &#160; port: 8080
&#160; &#160; &#160; &#160; &#160; &#160; &#160; scheme: HTTP
&#160; &#160; &#160; &#160; &#160; &#160; initialDelaySeconds: 5
&#160; &#160; &#160; &#160; &#160; &#160; successThreshold: 1
&#160; &#160; &#160; &#160; &#160; securityContext:
&#160; &#160; &#160; &#160; &#160; &#160; privileged: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
&#160; &#160; &#160; &#160; &#160; startupProbe:
&#160; &#160; &#160; &#160; &#160; &#160; failureThreshold: 3
&#160; &#160; &#160; &#160; &#160; &#160; httpGet:
&#160; &#160; &#160; &#160; &#160; &#160; &#160; path: /observe/health/started
&#160; &#160; &#160; &#160; &#160; &#160; &#160; port: 8080
&#160; &#160; &#160; &#160; &#160; &#160; &#160; scheme: HTTP
&#160; &#160; &#160; &#160; &#160; &#160; initialDelaySeconds: 5
&#160; &#160; &#160; &#160; &#160; &#160; successThreshold: 1&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;At least adding&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;management.server.port=9876&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;and the port in the container should help at list for spring-boot&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
containerPort: 9876
name: management
protocol: TCP&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;




&lt;p&gt;I did not try quarkus and camel-main but there should be a similar issue.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13620076">CAMEL-22144</key>
            <summary>camel-jbang: Kubernetes plugin management port for liveness/readiness</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="gfournier">Gaelle Fournier</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Jun 2025 15:08:22 +0000</created>
                <updated>Wed, 23 Jul 2025 14:49:06 +0000</updated>
                            <resolved>Wed, 23 Jul 2025 14:49:06 +0000</resolved>
                                    <version>4.12.0</version>
                                    <fixVersion>4.14.0</fixVersion>
                                    <component>camel-jbang</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17990798" author="davsclaus" created="Thu, 3 Jul 2025 07:45:48 +0000"  >&lt;p&gt;Is anyone working on this&lt;/p&gt;</comment>
                            <comment id="18009263" author="davsclaus" created="Wed, 23 Jul 2025 13:35:31 +0000"  >&lt;p&gt;Yes this is still a problem it generates as 8080 today&lt;/p&gt;</comment>
                            <comment id="18009278" author="davsclaus" created="Wed, 23 Jul 2025 14:15:34 +0000"  >&lt;p&gt;okay so fixed for spring-boot, that now uses 9876&lt;/p&gt;

&lt;p&gt;for quarkus it seems that jkube does not understand quarkus.management.port&lt;/p&gt;</comment>
                            <comment id="18009282" author="davsclaus" created="Wed, 23 Jul 2025 14:19:43 +0000"  >&lt;p&gt;I think this may need to be fixed in jkube so it can detect quarkus.management.port from src/main/resources/application.properties&lt;/p&gt;

&lt;p&gt;Something similar it does today for Spring Boot where it detects management.server.port&lt;/p&gt;</comment>
                            <comment id="18009283" author="davsclaus" created="Wed, 23 Jul 2025 14:21:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://eclipse.dev/jkube/docs/kubernetes-maven-plugin/#generator-quarkus&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://eclipse.dev/jkube/docs/kubernetes-maven-plugin/#generator-quarkus&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="18009286" author="davsclaus" created="Wed, 23 Jul 2025 14:30:21 +0000"  >&lt;p&gt;As a workaround we need to change the pom.xml to add&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;enricher&amp;gt;
    &amp;lt;config&amp;gt;
        &amp;lt;jkube-healthcheck-quarkus&amp;gt;
            &amp;lt;port&amp;gt;9876&amp;lt;/port&amp;gt;
        &amp;lt;/jkube-healthcheck-quarkus&amp;gt;
    &amp;lt;/config&amp;gt;
&amp;lt;/enricher&amp;gt;
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="18009290" author="davsclaus" created="Wed, 23 Jul 2025 14:49:03 +0000"  >&lt;p&gt;okay fixed for quarkus as well with that pom.xml workaround&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1w6s8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>