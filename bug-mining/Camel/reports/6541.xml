<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:02:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-19719] camel-rest - Infinite loop when maximumRedeliveries &gt; 0</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-19719</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Using the attached YAML file with Camel (JBang) &lt;b&gt;3.20.2&lt;/b&gt; gives:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2023-08-07 15:50:51.498 &#160;INFO 22092 --- [ &#160; &#160; &#160; &#160; &#160; main] org.apache.camel.main.MainSupport &#160; : Apache Camel (JBang) 3.20.2 is starting
2023-08-07 15:50:51.670 &#160;INFO 22092 --- [ &#160; &#160; &#160; &#160; &#160; main] org.apache.camel.main.MainSupport &#160; : Using Java 17.0.7 with PID 22092. Started by &amp;lt;SNIPPED&amp;gt; in &amp;lt;SNIPPED&amp;gt;
2023-08-07 15:50:51.693 &#160;INFO 22092 --- [ &#160; &#160; &#160; &#160; &#160; main] mel.cli.connector.LocalCliConnector : Camel CLI enabled (local)
2023-08-07 15:50:54.143 &#160;INFO 22092 --- [ &#160; &#160; &#160; &#160; &#160; main] .download.MavenDependencyDownloader : Downloaded: org.apache.camel:camel-activemq:3.20.2 (took: 1s520ms)
2023-08-07 15:50:54.356 &#160;INFO 22092 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : Apache Camel 3.20.2 (test) is starting
2023-08-07 15:50:54.694 &#160;INFO 22092 --- [ &#160; &#160; &#160; &#160; &#160; main] .core.spi.resolver.ResolverProvider : Using the default address resolver as the dns resolver could not be loaded
2023-08-07 15:50:55.003 &#160;INFO 22092 --- [ActiveMQ Task-1] ransport.failover.FailoverTransport : Successfully connected to tcp://localhost:61616
2023-08-07 15:50:55.135 &#160;INFO 22092 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : Routes startup (started:1)
2023-08-07 15:50:55.136 &#160;INFO 22092 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : &#160; &#160; Started route-4ec8 (activemq://&amp;lt;SNIPPED&amp;gt;)
2023-08-07 15:50:55.137 &#160;INFO 22092 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : Apache Camel 3.20.2 (test) started in 1s78ms (build:111ms init:195ms start:772ms JVM-uptime:4s)
2023-08-07 15:51:28.671 &#160;WARN 22092 --- [ntloop-thread-1] ssor.errorhandler.DeadLetterChannel : Failed delivery for (MessageId: ID:&amp;lt;SNIPPED&amp;gt; on ExchangeId: F91414B5DF3A8FC-0000000000000000). On delivery attempt: 0 caught: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:8080
2023-08-07 15:51:29.695 &#160;WARN 22092 --- [ntloop-thread-1] ssor.errorhandler.DeadLetterChannel : Failed delivery for (MessageId: ID:&amp;lt;SNIPPED&amp;gt; on ExchangeId: F91414B5DF3A8FC-0000000000000000). On delivery attempt: 1 caught: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:8080
2023-08-07 15:51:30.715 &#160;WARN 22092 --- [ntloop-thread-1] ssor.errorhandler.DeadLetterChannel : Failed delivery for (MessageId: ID:&amp;lt;SNIPPED&amp;gt; on ExchangeId: F91414B5DF3A8FC-0000000000000000). On delivery attempt: 2 caught: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:8080
2023-08-07 15:51:30.735 &#160;INFO 22092 --- [ActiveMQ Task-1] ransport.failover.FailoverTransport : Successfully connected to tcp://localhost:61616
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;While using the same file with Camel (JBang) &lt;b&gt;3.20.3&lt;/b&gt; leads to an infinite loop:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2023-08-07 15:52:42.843 &#160;INFO 24144 --- [ &#160; &#160; &#160; &#160; &#160; main] org.apache.camel.main.MainSupport &#160; : Apache Camel (JBang) 3.20.3 is starting
2023-08-07 15:52:43.012 &#160;INFO 24144 --- [ &#160; &#160; &#160; &#160; &#160; main] org.apache.camel.main.MainSupport &#160; : Using Java 17.0.7 with PID 24144. Started by &amp;lt;SNIPPED&amp;gt; in &amp;lt;SNIPPED&amp;gt;
2023-08-07 15:52:43.036 &#160;INFO 24144 --- [ &#160; &#160; &#160; &#160; &#160; main] mel.cli.connector.LocalCliConnector : Camel CLI enabled (local)
2023-08-07 15:52:45.390 &#160;INFO 24144 --- [ &#160; &#160; &#160; &#160; &#160; main] .download.MavenDependencyDownloader : Downloaded: org.apache.camel:camel-activemq:3.20.3 (took: 1s501ms)
2023-08-07 15:52:45.596 &#160;INFO 24144 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : Apache Camel 3.20.3 (test) is starting
2023-08-07 15:52:45.892 &#160;INFO 24144 --- [ &#160; &#160; &#160; &#160; &#160; main] .core.spi.resolver.ResolverProvider : Using the default address resolver as the dns resolver could not be loaded
2023-08-07 15:52:46.222 &#160;INFO 24144 --- [ActiveMQ Task-1] ransport.failover.FailoverTransport : Successfully connected to tcp://localhost:61616
2023-08-07 15:52:46.287 &#160;INFO 24144 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : Routes startup (started:1)
2023-08-07 15:52:46.288 &#160;INFO 24144 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : &#160; &#160; Started route-4ec8 (activemq://&amp;lt;SNIPPED&amp;gt;)
2023-08-07 15:52:46.289 &#160;INFO 24144 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : Apache Camel 3.20.3 (test) started in 985ms (build:105ms init:189ms start:691ms JVM-uptime:4s)
2023-08-07 15:52:58.955 &#160;WARN 24144 --- [ntloop-thread-1] ssor.errorhandler.DeadLetterChannel : Failed delivery for (MessageId: 1D22091EB3FABD1-0000000000000000 on ExchangeId: 1D22091EB3FABD1-0000000000000000). On delivery attempt: 0 caught: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:8080
2023-08-07 15:52:59.967 &#160;WARN 24144 --- [ntloop-thread-1] ssor.errorhandler.DeadLetterChannel : Failed delivery for (MessageId: 1D22091EB3FABD1-0000000000000000 on ExchangeId: 1D22091EB3FABD1-0000000000000000). On delivery attempt: 1 caught: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:8080
2023-08-07 15:53:00.976 &#160;WARN 24144 --- [ntloop-thread-1] ssor.errorhandler.DeadLetterChannel : Failed delivery for (MessageId: 1D22091EB3FABD1-0000000000000000 on ExchangeId: 1D22091EB3FABD1-0000000000000000). On delivery attempt: 1 caught: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:8080
2023-08-07 15:53:01.986 &#160;WARN 24144 --- [ntloop-thread-1] ssor.errorhandler.DeadLetterChannel : Failed delivery for (MessageId: 1D22091EB3FABD1-0000000000000000 on ExchangeId: 1D22091EB3FABD1-0000000000000000). On delivery attempt: 1 caught: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:8080
2023-08-07 15:53:02.997 &#160;WARN 24144 --- [ntloop-thread-1] ssor.errorhandler.DeadLetterChannel : Failed delivery for (MessageId: 1D22091EB3FABD1-0000000000000000 on ExchangeId: 1D22091EB3FABD1-0000000000000000). On delivery attempt: 1 caught: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:8080
2023-08-07 15:53:04.012 &#160;WARN 24144 --- [ntloop-thread-1] ssor.errorhandler.DeadLetterChannel : Failed delivery for (MessageId: 1D22091EB3FABD1-0000000000000000 on ExchangeId: 1D22091EB3FABD1-0000000000000000). On delivery attempt: 1 caught: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: localhost/127.0.0.1:8080
...&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Behavior of Camel &lt;b&gt;3.21.0&lt;/b&gt; is the same as 3.20.3 (infinite loop).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13546377">CAMEL-19719</key>
            <summary>camel-rest - Infinite loop when maximumRedeliveries &gt; 0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="jlepropre">Jean Lepropre</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Aug 2023 15:12:48 +0000</created>
                <updated>Tue, 8 Aug 2023 12:13:00 +0000</updated>
                            <resolved>Tue, 8 Aug 2023 12:13:00 +0000</resolved>
                                    <version>3.20.3</version>
                    <version>3.21.0</version>
                    <version>4.0-M2</version>
                                    <fixVersion>3.20.7</fixVersion>
                    <fixVersion>3.21.1</fixVersion>
                    <fixVersion>3.22.0</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>camel-platform-http-vertx</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17751789" author="davsclaus" created="Mon, 7 Aug 2023 19:43:21 +0000"  >&lt;p&gt;Yeah this is a bit weird we haven&apos;t see this reported before, or that some of the core unit tests didn&apos;t fail before.&lt;/p&gt;</comment>
                            <comment id="17751897" author="davsclaus" created="Tue, 8 Aug 2023 05:13:03 +0000"  >&lt;p&gt;M1 works and M2 fails&lt;/p&gt;</comment>
                            <comment id="17751988" author="davsclaus" created="Tue, 8 Aug 2023 10:09:54 +0000"  >&lt;p&gt;~/workspace/camel @5194b795 *25 bisect &#10095; git bisect bad                                                                                                                                            17m 13s&lt;br/&gt;
5194b795166c5bb5a9ee6e1da94262f30a839581 is the first bad commit&lt;br/&gt;
commit 5194b795166c5bb5a9ee6e1da94262f30a839581&lt;/p&gt;</comment>
                            <comment id="17751989" author="davsclaus" created="Tue, 8 Aug 2023 10:10:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/commit/5194b795166c5bb5a9ee6e1da94262f30a839581&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/5194b795166c5bb5a9ee6e1da94262f30a839581&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17751990" author="davsclaus" created="Tue, 8 Aug 2023 10:11:49 +0000"  >&lt;p&gt;Okay so its not in core, but the vertx-http component due to &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-19018&quot; title=&quot;camel-vertx-http: Headers may get erroneously duplicated &quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-19018&quot;&gt;&lt;del&gt;CAMEL-19018&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17752016" author="davsclaus" created="Tue, 8 Aug 2023 12:12:57 +0000"  >&lt;p&gt;Okay this is only in camel-vertx-http and as you can use other HTTP components then its not critical&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13523475">CAMEL-19018</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13061967" name="test.camel.yaml" size="695" author="jlepropre" created="Mon, 7 Aug 2023 15:12:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jmrk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>