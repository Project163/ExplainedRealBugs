<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:28:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-890] Camel-RMI looks up wrong name in RMI Registry</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-890</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;It appears the RMI component is not pulling the right name from the URI I defined in my routebuilder.  &lt;/p&gt;

&lt;p&gt;In a separate application (the one I&apos;m trying to connect and send data to), I&apos;ve bound a remote object in the RMI Registry as: &quot;GDRService&quot;.  (I even wrote a little app to list the RMI registry entries and it does indeed show up as &quot;GDRService&quot;).&lt;/p&gt;

&lt;p&gt;However, my camel route:    .to(&quot;rmi://localhost:1099/GDRService&quot;);&lt;/p&gt;

&lt;p&gt;produces this result...&lt;br/&gt;
java.rmi.NotBoundException: /GDRService&lt;br/&gt;
        at sun.rmi.registry.RegistryImpl.lookup(RegistryImpl.java:106)&lt;br/&gt;
        at sun.rmi.registry.RegistryImpl_Skel.dispatch(Unknown Source)&lt;br/&gt;
....&lt;/p&gt;

&lt;p&gt;I think this is the problem...&lt;br/&gt;
According to the code for  RMIEndPoint:&lt;br/&gt;
public String getName() {&lt;br/&gt;
        String path = uri.getPath();&lt;br/&gt;
        if (path == null) &lt;/p&gt;
{
            path = uri.getSchemeSpecificPart();
        }
&lt;p&gt;        return path;&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;I believe uri.getPath() is returning &quot;/GDRService&quot; and not &quot;GDRService&quot; and thus, Camel can&apos;t find the actual service. &lt;/p&gt;

&lt;p&gt;Here&apos;s a longer stacktrace (just the last of the 5 attempts to route via RMI prior to dead-letter drop).&lt;/p&gt;

&lt;p&gt;[          AnonymousIoService-2] DeadLetterChannel              ERROR Failed delivery for exchangeId: ID-dmco500084358/&lt;br/&gt;
683-1221065595195/0-0. On delivery attempt: 5 caught: java.rmi.NotBoundException: /GDRService&lt;br/&gt;
java.rmi.NotBoundException: /GDRService&lt;br/&gt;
        at sun.rmi.registry.RegistryImpl.lookup(RegistryImpl.java:106)&lt;br/&gt;
        at sun.rmi.registry.RegistryImpl_Skel.dispatch(Unknown Source)&lt;br/&gt;
        at sun.rmi.server.UnicastServerRef.oldDispatch(UnicastServerRef.java:386)&lt;br/&gt;
        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:250)&lt;br/&gt;
        at sun.rmi.transport.Transport$1.run(Transport.java:159)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at sun.rmi.transport.Transport.serviceCall(Transport.java:155)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:535)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:790)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:649)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
        at sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:255)&lt;br/&gt;
        at sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:233)&lt;br/&gt;
        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:359)&lt;br/&gt;
        at sun.rmi.registry.RegistryImpl_Stub.lookup(Unknown Source)&lt;br/&gt;
        at org.apache.camel.component.rmi.RmiRegistryBean.lookupBean(RmiRegistryBean.java:44)&lt;br/&gt;
        at org.apache.camel.component.bean.RegistryBean.getBean(RegistryBean.java:61)&lt;br/&gt;
        at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:73)&lt;br/&gt;
        at org.apache.camel.component.rmi.RmiProducer.process(RmiProducer.java:46)&lt;br/&gt;
        at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncPro&lt;br/&gt;
essorTypeConverter.java:43)&lt;br/&gt;
        at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:75)&lt;br/&gt;
        at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:57)&lt;br/&gt;
        at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:155)&lt;br/&gt;
        at org.apache.camel.processor.DeadLetterChannel.process(DeadLetterChannel.java:91)&lt;br/&gt;
        at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)&lt;br/&gt;
        at org.apache.camel.processor.Pipeline.process(Pipeline.java:85)&lt;br/&gt;
        at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:57)&lt;br/&gt;
        at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:39)&lt;br/&gt;
        at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:41)&lt;br/&gt;
        at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:66)&lt;br/&gt;
        at org.apache.camel.component.mina.MinaConsumer$ReceiveHandler.messageReceived(MinaConsumer.java:95)&lt;br/&gt;
        at org.apache.mina.common.support.AbstractIoFilterChain$TailFilter.messageReceived(AbstractIoFilterChain.java:5&lt;br/&gt;
0)&lt;br/&gt;
        at org.apache.mina.common.support.AbstractIoFilterChain.callNextMessageReceived(AbstractIoFilterChain.java:299)&lt;br/&gt;
        at org.apache.mina.common.support.AbstractIoFilterChain.access$1100(AbstractIoFilterChain.java:53)&lt;br/&gt;
        at org.apache.mina.common.support.AbstractIoFilterChain$EntryImpl$1.messageReceived(AbstractIoFilterChain.java:&lt;br/&gt;
48)&lt;br/&gt;
        at org.apache.mina.filter.codec.support.SimpleProtocolDecoderOutput.flush(SimpleProtocolDecoderOutput.java:58)&lt;br/&gt;
        at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:180)&lt;br/&gt;
        at org.apache.mina.common.support.AbstractIoFilterChain.callNextMessageReceived(AbstractIoFilterChain.java:299)&lt;br/&gt;
        at org.apache.mina.common.support.AbstractIoFilterChain.access$1100(AbstractIoFilterChain.java:53)&lt;br/&gt;
        at org.apache.mina.common.support.AbstractIoFilterChain$EntryImpl$1.messageReceived(AbstractIoFilterChain.java:&lt;br/&gt;
48)&lt;br/&gt;
        at org.apache.mina.filter.executor.ExecutorFilter.processEvent(ExecutorFilter.java:220)&lt;br/&gt;
        at org.apache.mina.filter.executor.ExecutorFilter$ProcessEventsRunnable.run(ExecutorFilter.java:264)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)&lt;br/&gt;
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:51)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
[          AnonymousIoService-2] DefaultListableBeanFactory     DEBUG Creating instance of bean &apos;org.apache.camel.compo&lt;br/&gt;
ent.log.LogComponent&apos;&lt;br/&gt;
[          AnonymousIoService-2] DefaultListableBeanFactory     DEBUG Finished creating instance of bean &apos;org.apache.ca&lt;br/&gt;
el.component.log.LogComponent&apos;&lt;br/&gt;
[          AnonymousIoService-2] DeadLetterChannel              ERROR Exchange[BodyType:String, Body:&amp;lt;?xml version=&quot;1.0............&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Camel 1.4.0, Windows XP Professional, JDK 1.6.0_07&lt;/p&gt;</environment>
        <key id="12486092">CAMEL-890</key>
            <summary>Camel-RMI looks up wrong name in RMI Registry</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="conradpilloud">Conrad Pilloud</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Sep 2008 16:57:34 +0000</created>
                <updated>Thu, 1 Jul 2010 06:11:18 +0000</updated>
                            <resolved>Fri, 12 Sep 2008 15:29:38 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="36000">10h</timeoriginalestimate>
                            <timeestimate seconds="36000">10h</timeestimate>
                                        <comments>
                            <comment id="12948741" author="davsclaus" created="Thu, 11 Sep 2008 16:37:09 +0000"  >&lt;p&gt;Conrad, thanks for the report. I have commit a fix based on your suggestion.&lt;/p&gt;

&lt;p&gt;Can you test it? You can try the latest 1.5-SNAPSHOT version.&lt;/p&gt;

&lt;p&gt;See this page how to get the SNAPSHOT:&lt;br/&gt;
&lt;a href=&quot;http://activemq.apache.org/camel/download.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/camel/download.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12948789" author="conradpilloud" created="Thu, 11 Sep 2008 18:10:20 +0000"  >&lt;p&gt;Claus,&lt;br/&gt;
I tried it and got the same result.  I&apos;ll attach log output showing I&apos;m using the 1.5-SNAPSHOT and the resulting error.&lt;/p&gt;</comment>
                            <comment id="12948717" author="conradpilloud" created="Thu, 11 Sep 2008 18:12:40 +0000"  >&lt;p&gt;Log file showing error in 1.5-SNAPSHOT&lt;/p&gt;</comment>
                            <comment id="12948793" author="davsclaus" created="Thu, 11 Sep 2008 18:18:18 +0000"  >&lt;p&gt;Conrad. You are very fast. The Apache infrastructure is building the SNAPSHOTS on a regular interval.&lt;/p&gt;

&lt;p&gt;I think you should wait some more to be sure the snapshot is with my latest fix. Could you try in 3-4 hours or maybe tomorrow, to really be sure.&lt;/p&gt;

&lt;p&gt;If we still have an error then maybe a little test app from you can help me dig into it and fix it. You are also of course welcome to checkout the camel source and build the camel-rmi component and install it in your local repo. Then you have the changes immediately. Then you can also try to fix it yourself. And if you find a good solution, you can create a patch and submit to this ticket.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://activemq.apache.org/camel/building.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/camel/building.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://activemq.apache.org/camel/contributing.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/camel/contributing.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12948760" author="davsclaus" created="Thu, 11 Sep 2008 18:21:03 +0000"  >&lt;p&gt;I have attached the camel-rmi.jar that is genered on my computer with the fix. You can install/copy this .jar in your local m2 repo.&lt;/p&gt;</comment>
                            <comment id="12948695" author="conradpilloud" created="Thu, 11 Sep 2008 19:05:45 +0000"  >&lt;p&gt;Super--that works!! (well, at least I&apos;ve moved on to my next problem...  it looks like I&apos;ve got to include a .policy file somewhere.&lt;br/&gt;
Cheers&lt;br/&gt;
Conrad&lt;br/&gt;
[          AnonymousIoService-2] DeadLetterChannel              ERROR Failed delivery for exchangeId: ID-dmco500084358/2062-1221159175926/0-0. On delivery attempt: 0 caught: java.rmi.UnmarshalException: error unmarshalling return; nested exception is: &lt;br/&gt;
	java.lang.ClassNotFoundException: com.foo.gdr.GDRService (no security manager: RMI class loader disabled)&lt;br/&gt;
java.rmi.UnmarshalException: error unmarshalling return; nested exception is: &lt;br/&gt;
	java.lang.ClassNotFoundException: com.foo.gdr.GDRService (no security manager: RMI class loader disabled)&lt;/p&gt;</comment>
                            <comment id="12948743" author="davsclaus" created="Fri, 12 Sep 2008 06:36:24 +0000"  >&lt;p&gt;Glad this solved the first step.&lt;/p&gt;

&lt;p&gt;The little snippet of stacktrace shown reveals that its something with a class not found. ClassNotFoundException.&lt;/p&gt;

&lt;p&gt;Are you sure that com.foo.gdr.GDRService.class is included in the classpath on both the server and client side?&lt;/p&gt;</comment>
                            <comment id="12948818" author="conradpilloud" created="Fri, 12 Sep 2008 15:16:03 +0000"  >&lt;p&gt;Actually, I wanted my router to be as free as possible from &apos;knowing&apos; the contents of the messages.  RMI will support downloading the class from the RMI server to the client when a SecurityManager exists with proper policy--I tried that, but couldn&apos;t get a SecurityManager to work that didn&apos;t break a lot of other things in Camel &amp;amp; Spring.  So I decided to include the com.foo.gdr.GDRService.class in the client (Camel) after all.&lt;/p&gt;

&lt;p&gt;FYI, other errors I was having was due to Camel MINA &apos;sync&apos; option default changing from false to true in Camel 1.5--since my TCP inbound endpoint is receive only, I had to explicitly say sync=false in my MINA URI for Camel 1.5.  That was a surprise, but easy to overcome.&lt;/p&gt;

&lt;p&gt;Life is good.  Thanks for the super-fast fix.  Cheers--Conrad&lt;/p&gt;</comment>
                            <comment id="12948771" author="davsclaus" created="Fri, 12 Sep 2008 15:29:38 +0000"  >&lt;p&gt;Conrad. Glad its working now.&lt;/p&gt;

&lt;p&gt;And thanks for letting us know about the mina change. It was however documented in the release note&lt;br/&gt;
&lt;a href=&quot;http://activemq.apache.org/camel/camel-150-release.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/camel/camel-150-release.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;However 1.5 is still work in progress.&lt;/p&gt;</comment>
                            <comment id="12948802" author="davsclaus" created="Fri, 12 Sep 2008 16:27:53 +0000"  >&lt;p&gt;BTW: Maybe Java WebStart is better at distributing software to clients, instead of RMI server with downloaded .jars.&lt;/p&gt;</comment>
                            <comment id="12950772" author="davsclaus" created="Mon, 16 Feb 2009 05:51:52 +0000"  >&lt;p&gt;Closing all 1.5.0 issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12462660" name="camel-arb-log.log" size="44973" author="conradpilloud" created="Thu, 11 Sep 2008 18:12:39 +0000"/>
                            <attachment id="12462639" name="camel-rmi-1.5-SNAPSHOT.jar" size="15701" author="davsclaus" created="Thu, 11 Sep 2008 18:21:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83278</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01f13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6204</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>