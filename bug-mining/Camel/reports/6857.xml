<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:07:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-21082] camel-jbang init command is deleting existing routes/files when using --dir option</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-21082</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;jbang &apos;-Dcamel.jbang.version=4.7.0&apos; camel@apache/camel init firstone.camel.yaml --dir=target-folder
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the firstone.camel.yaml file is created&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;jbang &apos;-Dcamel.jbang.version=4.7.0&apos; camel@apache/camel init secondone.camel.yaml --dir=target-folder
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the firstone.camel.yaml file is deleted (without warning) and secondone.camel.yaml is created&lt;/p&gt;</description>
                <environment></environment>
        <key id="13588845">CAMEL-21082</key>
            <summary>camel-jbang init command is deleting existing routes/files when using --dir option</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apupier">Aur&#233;lien Pupier</assignee>
                                    <reporter username="apupier">Aur&#233;lien Pupier</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Aug 2024 12:51:01 +0000</created>
                <updated>Sat, 17 Aug 2024 07:22:30 +0000</updated>
                            <resolved>Sat, 17 Aug 2024 07:22:30 +0000</resolved>
                                    <version>4.7.0</version>
                                    <fixVersion>4.8.0</fixVersion>
                                    <component>camel-jbang</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17873814" author="davsclaus" created="Thu, 15 Aug 2024 07:48:34 +0000"  >&lt;p&gt;See the IMPORTANT note in the docs at: &lt;a href=&quot;https://camel.apache.org/manual/camel-jbang.html#_creating_and_running_camel_routes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://camel.apache.org/manual/camel-jbang.html#_creating_and_running_camel_routes&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17874125" author="apupier" created="Fri, 16 Aug 2024 06:50:30 +0000"  >&lt;p&gt;What is the reason for this behavior?&lt;/p&gt;

&lt;p&gt;I cannot imagine a scenario in which it is interesting to have this behavior when creating a new Camel Route. Can you share some?&lt;/p&gt;</comment>
                            <comment id="17874139" author="davsclaus" created="Fri, 16 Aug 2024 07:29:47 +0000"  >&lt;p&gt;The --dir is for creating a new empty folder. If you want to create a new route in some existing place then do NOT use --dir but specify the name using folders.&lt;/p&gt;</comment>
                            <comment id="17874146" author="davsclaus" created="Fri, 16 Aug 2024 07:55:04 +0000"  >&lt;p&gt;We could add an option `--cleanDir=true|false` that you can use to control whether to clean the dir first. &lt;/p&gt;

&lt;p&gt;We can then change the default to false, so the dir is not cleaned.&lt;/p&gt;

&lt;p&gt;However the original intention was that you can quickly start a fresh prototype in some junk folder you may use all the time&lt;/p&gt;

&lt;p&gt;camel init foo.yaml --dir=myjunk&lt;/p&gt;

&lt;p&gt;We use this many times when users on Camel report this or that does not work, and we want to quickly get something up to reproduce what they do.&lt;/p&gt;
</comment>
                            <comment id="17874256" author="apupier" created="Fri, 16 Aug 2024 13:29:05 +0000"  >&lt;p&gt;From end-user point of view, the init command is to create a new Camel route. Not to quickly set something to reproduce an issue. i think this use case for end-user is more importnant.&lt;br/&gt;
The pattern of deleting folders without warning to end-user is not a user-friendly one. usually from command-line when it happens we need to precise a --force and/or a --recursive options.&lt;/p&gt;

&lt;p&gt;From tooling point of view, it would be convenient to use this command to create a new camel route in an existing folder, not just for prototyping. Not blocking anyway on this part as we can specify the relative path with folder names.&lt;/p&gt;

&lt;p&gt;Having a cleanDir option sounds fine BUT with the &lt;b&gt;default value to be false&lt;/b&gt; to be sure that end-users knows that it is deleting the folder.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qv1s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>