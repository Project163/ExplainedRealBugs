<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:06:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-8236] WebSphere class loader detection is too sensitive</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-8236</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The DefaultCamelContext attempts to detect an IBM WebSphere application server by a simple test: loader.getClass().getName().startsWith(&quot;com.ibm&quot;)&lt;/p&gt;

&lt;p&gt;This test can introduce very subtle bugs when working with other IBM productes and I suggest to replace it by a list of known class names of WebSphere class loaders. At least, one should add an additional dot in order to avoid matching packages that only start with &quot;com.ibm&quot; such as any &quot;com.ibmfoobar&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12767070">CAMEL-8236</key>
            <summary>WebSphere class loader detection is too sensitive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="raphw">Rafael Winterhalter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jan 2015 09:01:36 +0000</created>
                <updated>Tue, 13 Jan 2015 14:28:55 +0000</updated>
                            <resolved>Tue, 13 Jan 2015 11:48:05 +0000</resolved>
                                    <version>2.14.1</version>
                                    <fixVersion>2.13.4</fixVersion>
                    <fixVersion>2.14.2</fixVersion>
                    <fixVersion>2.15.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14275092" author="njiang" created="Tue, 13 Jan 2015 11:48:05 +0000"  >&lt;p&gt;Applied the patch into camel master, camel-2.14.x and camel-2.13.x branches.&lt;/p&gt;</comment>
                            <comment id="14275134" author="davidkarlsen@gmail.com" created="Tue, 13 Jan 2015 12:29:33 +0000"  >&lt;p&gt;com.ibm. is still very wide (looking at &lt;a href=&quot;https://github.com/apache/camel/commit/91cc51ff0999e52ee284ab02ebfd768ac3f65c17&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/91cc51ff0999e52ee284ab02ebfd768ac3f65c17&lt;/a&gt;)&lt;br/&gt;
I suggest to go at least one package deeper.&lt;br/&gt;
You can look at &lt;a href=&quot;https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/main/java/org/springframework/context/annotation/MBeanExportConfiguration.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/main/java/org/springframework/context/annotation/MBeanExportConfiguration.java&lt;/a&gt; to get some inspiration - but that is really about WAS management extensions.&lt;/p&gt;

&lt;p&gt;I downloaded some javadocs from: &lt;a href=&quot;http://www-01.ibm.com/software/webservers/appserv/was/library/v85/nd-dp/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www-01.ibm.com/software/webservers/appserv/was/library/v85/nd-dp/&lt;/a&gt;&lt;br/&gt;
and maybe com.ibm.websphere.servlet.container. or com.ibm.websphere.servlet. is more suitable?&lt;/p&gt;</comment>
                            <comment id="14275166" author="njiang" created="Tue, 13 Jan 2015 13:06:25 +0000"  >&lt;p&gt;How about &quot;com.ibm.webspehere.&quot;? I think it should be enough.&lt;/p&gt;</comment>
                            <comment id="14275167" author="davidkarlsen@gmail.com" created="Tue, 13 Jan 2015 13:15:53 +0000"  >&lt;p&gt;I think in fact that too is too wide as webpshere is whole family of products and not only the app server.&lt;/p&gt;</comment>
                            <comment id="14275223" author="raphw" created="Tue, 13 Jan 2015 14:06:36 +0000"  >&lt;p&gt;I second that. As class loader magic becomes more and more common place, this might just break for any future weblogic family application. The name of the WebSphere class loader should however be pretty stable, wouldn&apos;t it be easiest to match the exact name? Also, one could add some system property &quot;-Dcamel.websphereClassLoader&quot; for overriding this name if it would indeed change before Camel would add this additional name and a user would require this adaption.&lt;/p&gt;</comment>
                            <comment id="14275241" author="davsclaus" created="Tue, 13 Jan 2015 14:28:55 +0000"  >&lt;p&gt;This code has been working fine for about 7 years.&lt;/p&gt;

&lt;p&gt;This is not for all classloading but only for annotation package scanning, which in Camel 1.x was how it discovered type converters. This has changed a long time ago, and is no longer needed.&lt;/p&gt;

&lt;p&gt;Only when using camel-bindy it does some package scanning annotations, only because we havent refactored and migrated camel-bindy to avoid this. There is a jira about that.&lt;/p&gt;

&lt;p&gt;There is no need to add a system property and whatnot. You can remove this code and have Camel work in websphere, its only when you use camel-bindy it would may fail. But newer versions of WebSphere may work without this. So if anyone got access to a set of IBM WebSphere App Servers they are welcome to test the situation today.&lt;/p&gt;

&lt;p&gt;Also WebSpherePackageScanClassResolver is no harm as it just adds an extra fallback that has no harm for non websphere environments&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24arb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>