<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:11:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-22146] camel-pgevent - Does not reconnect when PostgreSQL server goes down during runtime</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-22146</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When using the &lt;tt&gt;camel-pgevent&lt;/tt&gt; component in an integration, if the PostgreSQL database goes down (e.g., due to a restart or network issue) during runtime, the component does not attempt to reconnect. This results in a permanent loss of event consumption until the application is manually restarted.&lt;/p&gt;



&lt;p&gt;&lt;b&gt;Steps to Reproduce:&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Deploy a route using the &lt;tt&gt;camel-pgevent&lt;/tt&gt; component.&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;Ensure it connects and starts consuming events as expected.&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;Stop or restart the PostgreSQL instance.&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;Observe that the component does not reconnect once the database becomes available again.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;b&gt;Expected Behavior:&lt;/b&gt;&lt;br/&gt;
The component should implement a reconnection strategy that attempts to re-establish the connection to PostgreSQL if it goes down during runtime.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Actual Behavior:&lt;/b&gt;&lt;br/&gt;
No reconnection is attempted, and no events are received anymore until the application is restarted.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13620140">CAMEL-22146</key>
            <summary>camel-pgevent - Does not reconnect when PostgreSQL server goes down during runtime</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="kelkchoz">Romain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Jun 2025 09:06:36 +0000</created>
                <updated>Tue, 10 Jun 2025 07:31:54 +0000</updated>
                            <resolved>Fri, 6 Jun 2025 08:53:55 +0000</resolved>
                                    <version>4.12.0</version>
                                    <fixVersion>4.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17956298" author="davsclaus" created="Thu, 5 Jun 2025 09:12:24 +0000"  >&lt;p&gt;It may something you need to configure in the postgres driver - other database components has features for that, and its not built-in camel or client code.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17956446" author="davsclaus" created="Thu, 5 Jun 2025 20:29:12 +0000"  >&lt;p&gt;It seems we should detect the close() method which is unexpected lost of connection (also ensure its not just because it shutdown nicely)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://impossibl.github.io/pgjdbc-ng/docs/0.8.9/user-guide/#connection-urls&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://impossibl.github.io/pgjdbc-ng/docs/0.8.9/user-guide/#connection-urls&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;And then do a reconnection in case of closed.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17956534" author="davsclaus" created="Fri, 6 Jun 2025 08:53:55 +0000"  >&lt;p&gt;There is a fix on the way for the next release, you can try the SNAPSHOT or build from source to give it a try in your system&lt;/p&gt;</comment>
                            <comment id="17958367" author="JIRAUSER309950" created="Tue, 10 Jun 2025 07:31:54 +0000"  >&lt;p&gt;Thx a lot !&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13620250">CAMEL-22154</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>Java</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1w76g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>