<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:54:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-5684] possible null pointer exception for FTP endpoint</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-5684</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;If for source endpoint you specify directory name without trailing slash and place there file, which name starts like the directory name, you&apos;ll get null pointer exception.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;ftp://[username@]hostname[:port]/directoryname[?options&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://[username@]hostname[:port]/directoryname[?options&lt;/a&gt;]&lt;/p&gt;

&lt;p&gt;For example:&lt;br/&gt;
&amp;lt;endpoint id=&quot;ftpSource&quot; uri=&quot;ftp://192.168.0.81:21/input?fileName= ...&lt;br/&gt;
File with name &quot;input&quot; will give exception, file with name &quot;bla&quot; will be processed normally.&lt;/p&gt;

&lt;p&gt;This will work fine:&lt;br/&gt;
&amp;lt;endpoint id=&quot;ftpSource&quot; uri=&quot;ftp://192.168.0.81:21/input/?fileName= ...&lt;/p&gt;

&lt;p&gt;Part of stack trace:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
...&lt;br/&gt;
org.apache.camel.impl.BridgeExceptionHandlerToErrorHandler.handleException(BridgeExceptionHandlerToErrorHandler.java:53)&lt;br/&gt;
org.apache.camel.impl.DefaultConsumer.handleException(DefaultConsumer.java:112)&lt;br/&gt;
org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:303)&lt;br/&gt;
org.apache.camel.component.file.remote.RemoteFileConsumer.processExchange(RemoteFileConsumer.java:94)&lt;br/&gt;
org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:189)&lt;br/&gt;
org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:155)&lt;br/&gt;
org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:139)&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610212">CAMEL-5684</key>
            <summary>possible null pointer exception for FTP endpoint</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="tyuha">KaterynaDanyliuk</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Oct 2012 09:39:28 +0000</created>
                <updated>Wed, 24 Oct 2012 15:31:17 +0000</updated>
                            <resolved>Wed, 24 Oct 2012 15:31:17 +0000</resolved>
                                    <version>2.10.1</version>
                                    <fixVersion>2.9.5</fixVersion>
                    <fixVersion>2.10.3</fixVersion>
                    <fixVersion>2.11.0</fixVersion>
                                    <component>camel-ftp</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13471183" author="davsclaus" created="Sun, 7 Oct 2012 10:01:47 +0000"  >&lt;p&gt;Please next time post the full stacktrace, so we are sure where the NPE is being thrown.&lt;/p&gt;</comment>
                            <comment id="13471196" author="tyuha" created="Sun, 7 Oct 2012 11:30:34 +0000"  >&lt;p&gt;OK, should I provide full stacktrace for this case? I will be able to do it tomorrow.&lt;br/&gt;
Thank you!&lt;/p&gt;</comment>
                            <comment id="13472174" author="davsclaus" created="Tue, 9 Oct 2012 06:28:56 +0000"  >&lt;p&gt;And what OS are you using on the Camel side?&lt;/p&gt;</comment>
                            <comment id="13472175" author="davsclaus" created="Tue, 9 Oct 2012 06:29:36 +0000"  >&lt;p&gt;And what is the name of the remote file being picked up? Is it &quot;input&quot; or just starts with input and named &quot;input.txt&quot; etc?&lt;/p&gt;

&lt;p&gt;I cannot reproduce the issue on trunk code.&lt;/p&gt;</comment>
                            <comment id="13472263" author="tyuha" created="Tue, 9 Oct 2012 10:39:18 +0000"  >&lt;p&gt;We run Camel on Tomcat/Windows7.&lt;br/&gt;
FTP is on Ubuntu.&lt;br/&gt;
The name of remote file just has to start with the name of directory (so both &quot;input&quot; and &quot;input.txt&quot; gave NPE).&lt;/p&gt;</comment>
                            <comment id="13473105" author="davsclaus" created="Wed, 10 Oct 2012 08:56:53 +0000"  >&lt;p&gt;Can you post your ftp uri you use with all its options etc. And also a full stacktrace.&lt;br/&gt;
I cannot reproduce the issue on either osx or windows.&lt;/p&gt;
</comment>
                            <comment id="13473148" author="tyuha" created="Wed, 10 Oct 2012 11:05:47 +0000"  >&lt;p&gt;Sorry for delay.&lt;/p&gt;

&lt;p&gt;So endpoints:&lt;/p&gt;

&lt;p&gt;&amp;lt;endpoint id=&quot;ftpSource1&quot; uri=&quot;ftp://192.168.0.81:21/input?pollStrategy=#ftpPollStrategy&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;binary=false&amp;amp;passiveMode=false&amp;amp;readLock=rename&amp;amp;delete=true&amp;amp;include=.*&amp;amp;delay=5000&amp;amp;localWorkDirectory=.tmp&amp;amp;username=tyuha&amp;amp;password=mypass&amp;amp;maxMessagesPerPoll=100&amp;amp;consumer.bridgeErrorHandler=true&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;endpoint id=&quot;ftpTarget1&quot; uri=&quot;ftp://192.168.0.81:21/output?fileName=${&lt;a href=&quot;file:name&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:name&lt;/a&gt;}&amp;amp;username=tyuha&amp;amp;password=mypass&amp;amp;binary=false&amp;amp;passiveMode=false&amp;amp;throwExceptionOnConnectFailed=true&quot; /&amp;gt;&lt;/p&gt;


&lt;p&gt;Route is quite simple:&lt;br/&gt;
&amp;lt;route id=&quot;FTPCustRoute&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;from ref=&quot;ftpSource1&quot; /&amp;gt;&lt;br/&gt;
  &amp;lt;to ref=&quot;ftpTarget1&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/route&amp;gt;&lt;/p&gt;

&lt;p&gt;Not to omit anything:&lt;/p&gt;

&lt;p&gt;51310 &lt;span class=&quot;error&quot;&gt;&amp;#91;Camel (ftpTest) thread #11 - ftp://192.168.0.81:21/input&amp;#93;&lt;/span&gt; INFO org.apache.camel.component.file.remote.RemoteFileProducer  - Connected and logged in to: Endpoint&lt;a href=&quot;ftp://192.168.0.81:21/output?binary=false&amp;amp;fileName=%24%7Bfile%3Aname%7D&amp;amp;passiveMode=false&amp;amp;password=******&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://192.168.0.81:21/output?binary=false&amp;amp;fileName=%24%7Bfile%3Aname%7D&amp;amp;passiveMode=false&amp;amp;password=******&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&lt;/a&gt;&lt;br/&gt;
51326 &lt;span class=&quot;error&quot;&gt;&amp;#91;Camel (ftpTest) thread #11 - ftp://192.168.0.81:21/input&amp;#93;&lt;/span&gt; INFO ExchangeTracer  - ID-tyuhaPC-51641-1349866455403-4-2 &amp;gt;&amp;gt;&amp;gt; (FTPCustRoute) from(&lt;a href=&quot;ftp://192.168.0.81:21/input?binary=false&amp;amp;consumer.bridgeErrorHandler=true&amp;amp;delay=5000&amp;amp;delete=true&amp;amp;include=.*&amp;amp;localWorkDirectory=.tmp&amp;amp;maxMessagesPerPoll=100&amp;amp;passiveMode=false&amp;amp;password=mypass&amp;amp;pollStrategy=%23ftpPollStrategy&amp;amp;readLock=rename&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://192.168.0.81:21/input?binary=false&amp;amp;consumer.bridgeErrorHandler=true&amp;amp;delay=5000&amp;amp;delete=true&amp;amp;include=.*&amp;amp;localWorkDirectory=.tmp&amp;amp;maxMessagesPerPoll=100&amp;amp;passiveMode=false&amp;amp;password=mypass&amp;amp;pollStrategy=%23ftpPollStrategy&amp;amp;readLock=rename&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&lt;/a&gt;) --&amp;gt; &lt;a href=&quot;ftp://192.168.0.81:21/output?binary=false&amp;amp;fileName=%24%7Bfile%3Aname%7D&amp;amp;passiveMode=false&amp;amp;password=******&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://192.168.0.81:21/output?binary=false&amp;amp;fileName=%24%7Bfile%3Aname%7D&amp;amp;passiveMode=false&amp;amp;password=******&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&lt;/a&gt; &amp;lt;&amp;lt;&amp;lt; Pattern:InOnly, Headers:&lt;/p&gt;
{CamelFileLastModified=Wed Oct 03 11:37:00 EEST 2012, CamelFileNameOnly=read.txt, CamelFileLength=22, CamelFileHost=192.168.0.81, CamelFileAbsolute=false, CamelFileParent=input, CamelFileNameProduced=output/read.txt, breadcrumbId=ID-tyuhaPC-51641-1349866455403-4-1, CamelFilePath=input/read.txt, CamelFileName=read.txt, CamelFileAbsolutePath=input/read.txt, CamelFileRelativePath=read.txt, CamelFileLocalWorkPath=.tmp\read.txt}
&lt;p&gt;, BodyType:org.apache.camel.component.file.remote.RemoteFile, Body:[Body is file based: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;read.txt&amp;#93;&lt;/span&gt;]&lt;br/&gt;
56795 &lt;span class=&quot;error&quot;&gt;&amp;#91;Camel (ftpTest) thread #11 - ftp://192.168.0.81:21/input&amp;#93;&lt;/span&gt; INFO ExchangeTracer  - ID-tyuhaPC-51641-1349866455403-4-4 &amp;gt;&amp;gt;&amp;gt; () from(&lt;a href=&quot;ftp://192.168.0.81:21/input?binary=false&amp;amp;consumer.bridgeErrorHandler=true&amp;amp;delay=5000&amp;amp;delete=true&amp;amp;include=.*&amp;amp;localWorkDirectory=.tmp&amp;amp;maxMessagesPerPoll=100&amp;amp;passiveMode=false&amp;amp;password=mypass&amp;amp;pollStrategy=%23ftpPollStrategy&amp;amp;readLock=rename&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://192.168.0.81:21/input?binary=false&amp;amp;consumer.bridgeErrorHandler=true&amp;amp;delay=5000&amp;amp;delete=true&amp;amp;include=.*&amp;amp;localWorkDirectory=.tmp&amp;amp;maxMessagesPerPoll=100&amp;amp;passiveMode=false&amp;amp;password=mypass&amp;amp;pollStrategy=%23ftpPollStrategy&amp;amp;readLock=rename&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&lt;/a&gt;) --&amp;gt; OnException&lt;span class=&quot;error&quot;&gt;&amp;#91;NullPointerException&amp;#93;&lt;/span&gt; &amp;lt;&amp;lt;&amp;lt; Pattern:InOnly, Headers:&lt;/p&gt;
{CamelRedeliveryCounter=0, breadcrumbId=ID-tyuhaPC-51641-1349866455403-4-3, CamelRedelivered=false, CamelRedeliveryMaxCounter=1}, BodyType:String, Body:Endpoint&lt;a href=&quot;ftp://192.168.0.81:21/input?binary=false&amp;amp;consumer.bridgeErrorHandler=true&amp;amp;delay=5000&amp;amp;delete=true&amp;amp;include=.*&amp;amp;localWorkDirectory=.tmp&amp;amp;maxMessagesPerPoll=100&amp;amp;passiveMode=false&amp;amp;password=******&amp;amp;pollStrategy=%23ftpPollStrategy&amp;amp;readLock=rename&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://192.168.0.81:21/input?binary=false&amp;amp;consumer.bridgeErrorHandler=true&amp;amp;delay=5000&amp;amp;delete=true&amp;amp;include=.*&amp;amp;localWorkDirectory=.tmp&amp;amp;maxMessagesPerPoll=100&amp;amp;passiveMode=false&amp;amp;password=******&amp;amp;pollStrategy=%23ftpPollStrategy&amp;amp;readLock=rename&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&lt;/a&gt; cannot begin processing file: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;inputFile&amp;#93;&lt;/span&gt; due to: null&lt;br/&gt;
56895 &lt;span class=&quot;error&quot;&gt;&amp;#91;Camel (ftpTest) thread #11 - ftp://192.168.0.81:21/input&amp;#93;&lt;/span&gt; INFO ExchangeTracer  - ID-tyuhaPC-51641-1349866455403-4-4 &amp;gt;&amp;gt;&amp;gt; OnException&lt;span class=&quot;error&quot;&gt;&amp;#91;NullPointerException&amp;#93;&lt;/span&gt; --&amp;gt;  &amp;lt;&amp;lt;&amp;lt; Pattern:InOnly, Headers:{CamelRedeliveryCounter=0, breadcrumbId=ID-tyuhaPC-51641-1349866455403-4-3, CamelRedelivered=false, CamelRedeliveryMaxCounter=1}
&lt;p&gt;, BodyType:String, Body:Endpoint&lt;a href=&quot;ftp://192.168.0.81:21/input?binary=false&amp;amp;consumer.bridgeErrorHandler=true&amp;amp;delay=5000&amp;amp;delete=true&amp;amp;include=.*&amp;amp;localWorkDirectory=.tmp&amp;amp;maxMessagesPerPoll=100&amp;amp;passiveMode=false&amp;amp;password=******&amp;amp;pollStrategy=%23ftpPollStrategy&amp;amp;readLock=rename&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://192.168.0.81:21/input?binary=false&amp;amp;consumer.bridgeErrorHandler=true&amp;amp;delay=5000&amp;amp;delete=true&amp;amp;include=.*&amp;amp;localWorkDirectory=.tmp&amp;amp;maxMessagesPerPoll=100&amp;amp;passiveMode=false&amp;amp;password=******&amp;amp;pollStrategy=%23ftpPollStrategy&amp;amp;readLock=rename&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&lt;/a&gt; cannot begin processing file: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;inputFile&amp;#93;&lt;/span&gt; due to: null&lt;br/&gt;
56945 &lt;span class=&quot;error&quot;&gt;&amp;#91;Camel (ftpTest) thread #11 - ftp://192.168.0.81:21/input&amp;#93;&lt;/span&gt; INFO ExchangeTracer  - ID-tyuhaPC-51641-1349866455403-4-4 &amp;gt;&amp;gt;&amp;gt; OnException&lt;span class=&quot;error&quot;&gt;&amp;#91;NullPointerException&amp;#93;&lt;/span&gt; --&amp;gt;  &amp;lt;&amp;lt;&amp;lt;  (OUT), Pattern:InOnly, Headers:&lt;/p&gt;
{CamelRedeliveryCounter=0, breadcrumbId=ID-tyuhaPC-51641-1349866455403-4-3, CamelRedelivered=false, CamelRedeliveryMaxCounter=1}, BodyType:String, Body:Exception occured: java.lang.NullPointerException&lt;br/&gt;
File name: null&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
com.it.ids.exceptions.HandleException.process(HandleException.java:20)&lt;br/&gt;
org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61)&lt;br/&gt;
org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73)&lt;br/&gt;
org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcesso... &lt;span class=&quot;error&quot;&gt;&amp;#91;Body clipped after 1000 chars, total length is 5932&amp;#93;&lt;/span&gt;&lt;br/&gt;
57075 &lt;span class=&quot;error&quot;&gt;&amp;#91;Camel (ftpTest) thread #11 - ftp://192.168.0.81:21/input&amp;#93;&lt;/span&gt; INFO ExchangeTracer  - ID-tyuhaPC-51641-1349866455403-4-4 &amp;gt;&amp;gt;&amp;gt;  --&amp;gt; &lt;a href=&quot;file://..%5C..%5C.exceptions%5C?fileName=%24%7Bdate%3Anow%3AyyyyMMdd%7D%5C%24%7Bfile%3Aname.noext%7D%24%7Bdate%3Anow%3AyyyyMMddHHmmssSSS%7D-errorOnException.%24%7Bfile%3Aext%7D&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://..%5C..%5C.exceptions%5C?fileName=%24%7Bdate%3Anow%3AyyyyMMdd%7D%5C%24%7Bfile%3Aname.noext%7D%24%7Bdate%3Anow%3AyyyyMMddHHmmssSSS%7D-errorOnException.%24%7Bfile%3Aext%7D&lt;/a&gt; &amp;lt;&amp;lt;&amp;lt; Pattern:InOnly, Headers:{CamelRedeliveryCounter=0, breadcrumbId=ID-tyuhaPC-51641-1349866455403-4-3, CamelRedelivered=false, CamelRedeliveryMaxCounter=1}
&lt;p&gt;, BodyType:String, Body:Exception occured: java.lang.NullPointerException&lt;br/&gt;
File name: null&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
com.it.ids.exceptions.HandleException.process(HandleException.java:20)&lt;br/&gt;
org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61)&lt;br/&gt;
org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73)&lt;br/&gt;
org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcesso... &lt;span class=&quot;error&quot;&gt;&amp;#91;Body clipped after 1000 chars, total length is 5932&amp;#93;&lt;/span&gt;&lt;br/&gt;
57145 &lt;span class=&quot;error&quot;&gt;&amp;#91;Camel (ftpTest) thread #11 - ftp://192.168.0.81:21/input&amp;#93;&lt;/span&gt; INFO ExchangeTracer  - ID-tyuhaPC-51641-1349866455403-4-4 &amp;gt;&amp;gt;&amp;gt;  --&amp;gt; &lt;a href=&quot;file://..%5C..%5C.exceptions%5C?fileName=%24%7Bdate%3Anow%3AyyyyMMdd%7D%5C%24%7Bfile%3Aname.noext%7D%24%7Bdate%3Anow%3AyyyyMMddHHmmssSSS%7D-errorOnException.%24%7Bfile%3Aext%7D&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://..%5C..%5C.exceptions%5C?fileName=%24%7Bdate%3Anow%3AyyyyMMdd%7D%5C%24%7Bfile%3Aname.noext%7D%24%7Bdate%3Anow%3AyyyyMMddHHmmssSSS%7D-errorOnException.%24%7Bfile%3Aext%7D&lt;/a&gt; &amp;lt;&amp;lt;&amp;lt; Pattern:InOnly, Headers:&lt;/p&gt;
{CamelRedeliveryCounter=0, CamelFileNameProduced=..\..\.exceptions\20121010\20121010135507506-errorOnException., CamelRedelivered=false, breadcrumbId=ID-tyuhaPC-51641-1349866455403-4-3, CamelRedeliveryMaxCounter=1}
&lt;p&gt;, BodyType:String, Body:Exception occured: java.lang.NullPointerException&lt;br/&gt;
File name: null&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
com.it.ids.exceptions.HandleException.process(HandleException.java:20)&lt;br/&gt;
org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61)&lt;br/&gt;
org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73)&lt;br/&gt;
org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcesso... &lt;span class=&quot;error&quot;&gt;&amp;#91;Body clipped after 1000 chars, total length is 5932&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;57355 &lt;span class=&quot;error&quot;&gt;&amp;#91;Camel (ftpTest) thread #11 - ftp://192.168.0.81:21/input&amp;#93;&lt;/span&gt; ERROR org.apache.camel.processor.DefaultErrorHandler  - Failed delivery for (MessageId: ID-tyuhaPC-51641-1349866455403-4-3 on ExchangeId: ID-tyuhaPC-51641-1349866455403-4-4). Exhausted after delivery attempt: 1 caught: java.lang.NullPointerException. Processed by failure processor: FatalFallbackErrorHandler[Pipeline[[Channel[Wrap&lt;span class=&quot;error&quot;&gt;&amp;#91;com.it.ids.exceptions.HandleException@1919e73&amp;#93;&lt;/span&gt; -&amp;gt; com.it.ids.exceptions.HandleException@1919e73], Channel[sendTo(Endpoint&lt;a href=&quot;file://..%5C..%5C.exceptions%5C?fileName=%24%7Bdate%3Anow%3AyyyyMMdd%7D%5C%24%7Bfile%3Aname.noext%7D%24%7Bdate%3Anow%3AyyyyMMddHHmmssSSS%7D-errorOnException.%24%7Bfile%3Aext%7D&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://..%5C..%5C.exceptions%5C?fileName=%24%7Bdate%3Anow%3AyyyyMMdd%7D%5C%24%7Bfile%3Aname.noext%7D%24%7Bdate%3Anow%3AyyyyMMddHHmmssSSS%7D-errorOnException.%24%7Bfile%3Aext%7D&lt;/a&gt;)]]]]&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at com.it.ids.exceptions.HandleException.process(HandleException.java:20)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
	at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:163)&lt;br/&gt;
	at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
	at org.apache.camel.processor.interceptor.DefaultChannel.process(DefaultChannel.java:303)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:117)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:80)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
	at org.apache.camel.processor.FatalFallbackErrorHandler.processNext(FatalFallbackErrorHandler.java:42)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
	at org.apache.camel.processor.RedeliveryErrorHandler.deliverToFailureProcessor(RedeliveryErrorHandler.java:759)&lt;br/&gt;
	at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:273)&lt;br/&gt;
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:220)&lt;br/&gt;
	at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
	at org.apache.camel.processor.interceptor.DefaultChannel.process(DefaultChannel.java:303)&lt;br/&gt;
	at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
	at org.apache.camel.processor.UnitOfWorkProcessor.processAsync(UnitOfWorkProcessor.java:150)&lt;br/&gt;
	at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:117)&lt;br/&gt;
	at org.apache.camel.processor.RouteInflightRepositoryProcessor.processNext(RouteInflightRepositoryProcessor.java:48)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:73)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:99)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:86)&lt;br/&gt;
	at org.apache.camel.impl.BridgeExceptionHandlerToErrorHandler.handleException(BridgeExceptionHandlerToErrorHandler.java:70)&lt;br/&gt;
	at org.apache.camel.impl.BridgeExceptionHandlerToErrorHandler.handleException(BridgeExceptionHandlerToErrorHandler.java:53)&lt;br/&gt;
	at org.apache.camel.impl.DefaultConsumer.handleException(DefaultConsumer.java:112)&lt;br/&gt;
	at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:303)&lt;br/&gt;
	at org.apache.camel.component.file.remote.RemoteFileConsumer.processExchange(RemoteFileConsumer.java:94)&lt;br/&gt;
	at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:189)&lt;br/&gt;
	at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:155)&lt;br/&gt;
	at org.apache.camel.impl.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:139)&lt;br/&gt;
	at org.apache.camel.impl.ScheduledPollConsumer.run(ScheduledPollConsumer.java:91)&lt;br/&gt;
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)&lt;br/&gt;
	at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)&lt;br/&gt;
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)&lt;br/&gt;
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)&lt;br/&gt;
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)&lt;br/&gt;
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
62405 &lt;span class=&quot;error&quot;&gt;&amp;#91;Camel (ftpTest) thread #11 - ftp://192.168.0.81:21/input&amp;#93;&lt;/span&gt; INFO ExchangeTracer  - ID-tyuhaPC-51641-1349866455403-4-6 &amp;gt;&amp;gt;&amp;gt; () from(&lt;a href=&quot;ftp://192.168.0.81:21/input?binary=false&amp;amp;consumer.bridgeErrorHandler=true&amp;amp;delay=5000&amp;amp;delete=true&amp;amp;include=.*&amp;amp;localWorkDirectory=.tmp&amp;amp;maxMessagesPerPoll=100&amp;amp;passiveMode=false&amp;amp;password=mypass&amp;amp;pollStrategy=%23ftpPollStrategy&amp;amp;readLock=rename&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://192.168.0.81:21/input?binary=false&amp;amp;consumer.bridgeErrorHandler=true&amp;amp;delay=5000&amp;amp;delete=true&amp;amp;include=.*&amp;amp;localWorkDirectory=.tmp&amp;amp;maxMessagesPerPoll=100&amp;amp;passiveMode=false&amp;amp;password=mypass&amp;amp;pollStrategy=%23ftpPollStrategy&amp;amp;readLock=rename&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&lt;/a&gt;) --&amp;gt; OnException&lt;span class=&quot;error&quot;&gt;&amp;#91;NullPointerException&amp;#93;&lt;/span&gt; &amp;lt;&amp;lt;&amp;lt; Pattern:InOnly, Headers:&lt;/p&gt;
{CamelRedeliveryMaxCounter=1, breadcrumbId=ID-tyuhaPC-51641-1349866455403-4-5, CamelRedeliveryCounter=0, CamelRedelivered=false}
&lt;p&gt;, BodyType:String, Body:Endpoint&lt;a href=&quot;ftp://192.168.0.81:21/input?binary=false&amp;amp;consumer.bridgeErrorHandler=true&amp;amp;delay=5000&amp;amp;delete=true&amp;amp;include=.*&amp;amp;localWorkDirectory=.tmp&amp;amp;maxMessagesPerPoll=100&amp;amp;passiveMode=false&amp;amp;password=******&amp;amp;pollStrategy=%23ftpPollStrategy&amp;amp;readLock=rename&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://192.168.0.81:21/input?binary=false&amp;amp;consumer.bridgeErrorHandler=true&amp;amp;delay=5000&amp;amp;delete=true&amp;amp;include=.*&amp;amp;localWorkDirectory=.tmp&amp;amp;maxMessagesPerPoll=100&amp;amp;passiveMode=false&amp;amp;password=******&amp;amp;pollStrategy=%23ftpPollStrategy&amp;amp;readLock=rename&amp;amp;throwExceptionOnConnectFailed=true&amp;amp;username=tyuha&lt;/a&gt; cannot begin processing file: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;inputFile&amp;#93;&lt;/span&gt; due to: null&lt;/p&gt;
</comment>
                            <comment id="13473150" author="tyuha" created="Wed, 10 Oct 2012 11:12:30 +0000"  >&lt;p&gt;That&apos;s for &quot;input.txt&quot; file in input folder. Files with other names are processed well. For same source uri with slash after directory name everything works fine.&lt;/p&gt;</comment>
                            <comment id="13477850" author="davsclaus" created="Wed, 17 Oct 2012 13:14:47 +0000"  >&lt;p&gt;The NPE is in your own code, and not in Camel&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.NullPointerException
at com.it.ids.exceptions.HandleException.process(HandleException.java:20)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What does the code do? &lt;/p&gt;</comment>
                            <comment id="13478345" author="tyuha" created="Wed, 17 Oct 2012 20:37:33 +0000"  >&lt;p&gt;Well, on exception we send exchange to process HandleException.&lt;br/&gt;
In camel context:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;onException&amp;gt;
   &amp;lt;process ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;HandleException&quot;&lt;/span&gt; /&amp;gt;
   &amp;lt;to uri=&quot;file: .... /&amp;gt;
&amp;lt;/onException&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Code from this class:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void process(Exchange exchange) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        Throwable caused = exchange.getProperty(Exchange.EXCEPTION_CAUGHT, Throwable.class);
        &lt;span class=&quot;code-comment&quot;&gt;// line 20:
&lt;/span&gt;        caused.fillInStackTrace();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13483309" author="davsclaus" created="Wed, 24 Oct 2012 15:31:01 +0000"  >&lt;p&gt;IF you run Camel on Windows but connect to a unix FTP server then I suggest to use separator=Unix as option to tell Camel that its a unix ftp server.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00yn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>