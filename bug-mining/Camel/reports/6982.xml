<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:09:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-20682] camel-kafka - KafkaIdempotentRepository misses continuous updates from its topic after startup</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-20682</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-20218&quot; title=&quot;KafkaIdempotentRepository cache incorrectly flagged as ready&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-20218&quot;&gt;&lt;del&gt;CAMEL-20218&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-20373&quot; title=&quot;camel-kafka - KafkaIdempotentRepository may allow some duplicates after application restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-20373&quot;&gt;&lt;del&gt;CAMEL-20373&lt;/del&gt;&lt;/a&gt; the initialization of the &lt;tt&gt;KafkaIdempotentRepository&lt;/tt&gt; has been changed and seems to work fine.&lt;/p&gt;

&lt;p&gt;One purpose of a &lt;tt&gt;KafkaIdempotentRepository&lt;/tt&gt; is to synchronize an idempotence state over multiple processes (running in parallel on potentially different machines). So a key feature of a &lt;tt&gt;KafkaIdempotentRepository&lt;/tt&gt; is the continuous update of the local in-memory cache with add/remove events from the idempotent repository&apos;s topic &lt;b&gt;after initialization&lt;/b&gt;. With Commit &lt;a href=&quot;https://github.com/apache/camel/commit/a407fd82512e6680f4d6d6f97d836e63f76029e6?diff=split&amp;amp;w=0#diff-8a2c6e5db1f384f93ecfc83f27b90f633d97c0a43775c0b44a75d88b1b74613f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;a407fd82512e6680f4d6d6f97d836e63f76029e6&lt;/a&gt; this capability got lost.&lt;/p&gt;

&lt;p&gt;I absolutely hope this happened unintentionally and will be fixed soon.&lt;/p&gt;

&lt;p&gt;&lt;ins&gt;Side Note&lt;/ins&gt;&lt;br/&gt;
I was surprised to see, that consuming from the idempotent repository&apos;s topic worked without providing a consumer group even though we have Kafka&apos;s access control activated, restricting describe/read access of this topic to dedicated consumer groups only.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13576024">CAMEL-20682</key>
            <summary>camel-kafka - KafkaIdempotentRepository misses continuous updates from its topic after startup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="david.horn">David Horn</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Apr 2024 12:18:17 +0000</created>
                <updated>Tue, 17 Dec 2024 08:22:44 +0000</updated>
                            <resolved>Sun, 7 Jul 2024 10:24:22 +0000</resolved>
                                    <version>4.4.0</version>
                    <version>4.4.1</version>
                    <version>4.5.0</version>
                    <version>4.6.0</version>
                                    <fixVersion>4.8.0</fixVersion>
                                    <component>camel-kafka</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17855200" author="davsclaus" created="Sat, 15 Jun 2024 07:19:46 +0000"  >&lt;p&gt;Ah okay so the new code will populate the cache to be up-to-date on startup, and then afterwards it does not sync over changes from other nodes that may use the same topic.&lt;/p&gt;

&lt;p&gt;In that case, maybe there should be an option to turn on|off whether to sync continuesly or only on startup&lt;/p&gt;</comment>
                            <comment id="17863542" author="davsclaus" created="Sun, 7 Jul 2024 07:43:07 +0000"  >&lt;p&gt;Yeah the groupId should be supported and we should set it on the kafka configuration if configured.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 18 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1oo20:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>