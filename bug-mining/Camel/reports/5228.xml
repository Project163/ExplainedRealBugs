<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:40:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-14650] camel-http - unnecessary logging in component</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-14650</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When sending request this is logged&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
(INFO) o.a.camel.component.http.HttpComponent : Created ClientConnectionManager org.apache.http.impl.conn&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It should be set to DEBUG log level.&lt;/p&gt;


&lt;p&gt;Sample route:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
     from(&lt;span class=&quot;code-quote&quot;&gt;&quot;timer:foo?period=3600000&quot;&lt;/span&gt;)
                .setHeader(HTTP_URI).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//swapi.co/api/films&quot;&lt;/span&gt;)
&lt;/span&gt;                .toD(&lt;span class=&quot;code-quote&quot;&gt;&quot;${headers.&quot;&lt;/span&gt; + HTTP_URI + &lt;span class=&quot;code-quote&quot;&gt;&quot;}&quot;&lt;/span&gt;)
                .split().jsonpath(&lt;span class=&quot;code-quote&quot;&gt;&quot;$.results[*].episode_id&quot;&lt;/span&gt;).streaming()
                    .convertBodyTo(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class)
                    .setHeader(HTTP_METHOD).constant(GET)
                    .setHeader(HTTP_URI).simple(&lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//swapi.co/api/films/${body}&quot;&lt;/span&gt;)
&lt;/span&gt;                    .toD(&lt;span class=&quot;code-quote&quot;&gt;&quot;${headers.&quot;&lt;/span&gt; + HTTP_URI + &lt;span class=&quot;code-quote&quot;&gt;&quot;}&quot;&lt;/span&gt;)
                    .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;${body}&quot;&lt;/span&gt;)
                .end();

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13289342">CAMEL-14650</key>
            <summary>camel-http - unnecessary logging in component</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dbajic">Djordje Bajic</reporter>
                        <labels>
                            <label>camel-http</label>
                    </labels>
                <created>Tue, 3 Mar 2020 21:48:17 +0000</created>
                <updated>Mon, 6 Apr 2020 18:19:51 +0000</updated>
                            <resolved>Fri, 13 Mar 2020 10:18:21 +0000</resolved>
                                    <version>3.1.0</version>
                                                    <component>camel-http</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17050603" author="pascalschumacher" created="Tue, 3 Mar 2020 22:11:01 +0000"  >&lt;p&gt;This should be only for the first request (when the endpoint is created). Imho this is valuable information and we should keep it as it is.&lt;/p&gt;</comment>
                            <comment id="17050605" author="dbajic" created="Tue, 3 Mar 2020 22:16:03 +0000"  >&lt;p&gt;I didn&apos;t say we should remove it, just set log level to DEBUG. IMO this is not we should get as INFO.&lt;/p&gt;</comment>
                            <comment id="17050610" author="pascalschumacher" created="Tue, 3 Mar 2020 22:29:47 +0000"  >&lt;p&gt;Each ClientConnectionManager (at least the PoolingClientConnectionManager used by default by Camel) is basically a connection pool and takes quite some memory if I remember correctly.&lt;/p&gt;

&lt;p&gt;Seeing (a lot of) these log messages after start-up mostly likely means you can optimize your use of Camel. Therefore I like to keep this message at INFO level.&lt;/p&gt;</comment>
                            <comment id="17050611" author="ancosen" created="Tue, 3 Mar 2020 22:33:16 +0000"  >&lt;p&gt;To me this kind of logging is just noisy. But you&apos;re free to revert. I do believe this kind of information is better at debug level.&lt;/p&gt;</comment>
                            <comment id="17050913" author="davsclaus" created="Wed, 4 Mar 2020 05:56:44 +0000"  >&lt;p&gt;Yes its likely an indication that something is creating these pools too frequently. Can you provide details about your Camel route / application or provide a .zip or put on github a sample project that reproduces this?&lt;/p&gt;</comment>
                            <comment id="17050932" author="dbajic" created="Wed, 4 Mar 2020 06:23:07 +0000"  >&lt;p&gt;I will provide a sample during the day.&lt;/p&gt;

&lt;p&gt;I get this log a lot because when i am fetching some data by id, and in some cases there are 1000 requests and every endpoint is techically different because id is in base path. Anyway, if you guys feel this should be reverted, it&apos;s okay.&lt;/p&gt;</comment>
                            <comment id="17052047" author="davsclaus" created="Thu, 5 Mar 2020 11:45:27 +0000"  >&lt;p&gt;Did you get a chance to build a sample ?&lt;/p&gt;</comment>
                            <comment id="17052082" author="dbajic" created="Thu, 5 Mar 2020 12:26:08 +0000"  >&lt;p&gt;I started yesterday, but didn&apos;t manage to finish it since it was late. I hope i will post some code tomorrow. Sorry for delay.&lt;/p&gt;</comment>
                            <comment id="17053770" author="dbajic" created="Fri, 6 Mar 2020 21:49:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt; Sorry for delay once again, but my schedule is a mess. Just managed to finish sample route. Now it&apos;s up to you. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="17053983" author="pascalschumacher" created="Sat, 7 Mar 2020 11:04:26 +0000"  >&lt;p&gt;Hi Djordje,&lt;/p&gt;

&lt;p&gt;you can use:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;timer:foo?period=3600000&quot;&lt;/span&gt;)
    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//swapi.co/api/films&quot;&lt;/span&gt;)
&lt;/span&gt;    .split().jsonpath(&lt;span class=&quot;code-quote&quot;&gt;&quot;$.results[*].episode_id&quot;&lt;/span&gt;).streaming()
        .convertBodyTo(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class)
        .setHeader(Exchange.HTTP_METHOD).constant(HttpMethods.GET)
        .setHeader(Exchange.HTTP_PATH).simple(&lt;span class=&quot;code-quote&quot;&gt;&quot;${body}&quot;&lt;/span&gt;)
        .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//swapi.co/api/films&quot;&lt;/span&gt;)
&lt;/span&gt;        .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;${body}&quot;&lt;/span&gt;)
    .end();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;instead and only a single ClientConnectionManager etc. will be created.&lt;/p&gt;

&lt;p&gt;Or if you need to poll different hosts (different HTTP_URI), use:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;timer:foo?period=3600000&quot;&lt;/span&gt;)
    .setHeader(Exchange.HTTP_URI).constant(&lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//swapi.co/api/films&quot;&lt;/span&gt;)
&lt;/span&gt;    .toD(&lt;span class=&quot;code-quote&quot;&gt;&quot;${headers.&quot;&lt;/span&gt; + Exchange.HTTP_URI + &lt;span class=&quot;code-quote&quot;&gt;&quot;}&quot;&lt;/span&gt;)
    .split().jsonpath(&lt;span class=&quot;code-quote&quot;&gt;&quot;$.results[*].episode_id&quot;&lt;/span&gt;).streaming()
        .convertBodyTo(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class)
        .setHeader(Exchange.HTTP_METHOD).constant(HttpMethods.GET)
        .setHeader(Exchange.HTTP_PATH).simple(&lt;span class=&quot;code-quote&quot;&gt;&quot;${body}&quot;&lt;/span&gt;)
        .toD(&lt;span class=&quot;code-quote&quot;&gt;&quot;${headers.&quot;&lt;/span&gt; + Exchange.HTTP_URI + &lt;span class=&quot;code-quote&quot;&gt;&quot;}&quot;&lt;/span&gt;)
        .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;${body}&quot;&lt;/span&gt;)
    .end();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;instead and only a single ClientConnectionManager will be created for each host.&lt;/p&gt;</comment>
                            <comment id="17053985" author="dbajic" created="Sat, 7 Mar 2020 11:12:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pascalschumacher&quot; class=&quot;user-hover&quot; rel=&quot;pascalschumacher&quot;&gt;pascalschumacher&lt;/a&gt; thanks a lot for clarification.&#160;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; i appreciate it. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17053999" author="pascalschumacher" created="Sat, 7 Mar 2020 11:48:39 +0000"  >&lt;p&gt;You are welcome &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;&#160;I took another look the (imho) simplest and most intuitive implementation:  &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;timer:foo?period=3600000&quot;&lt;/span&gt;)
    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//swapi.co/api/films&quot;&lt;/span&gt;)
&lt;/span&gt;    .split().jsonpath(&lt;span class=&quot;code-quote&quot;&gt;&quot;$.results[*].episode_id&quot;&lt;/span&gt;).streaming()
        .convertBodyTo(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class)
        .setHeader(Exchange.HTTP_METHOD).constant(HttpMethods.GET)
        .toD(&lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//swapi.co/api/films/${body}&quot;&lt;/span&gt;)
&lt;/span&gt;        .log(&lt;span class=&quot;code-quote&quot;&gt;&quot;${body}&quot;&lt;/span&gt;)
    .end();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is also optimized by Camel &quot;org.apache.camel.processor.SendDynamicProcessor - Optimising toD via SendDynamicAware component: https to use static uri: https:swapi.co&quot; and only creates only two ClientConnectionManagers (one for the static to and one for the dynamic tos).&lt;/p&gt;

&lt;p&gt;Fore some reason Camel can not optimize your code. &lt;/p&gt;

&lt;p&gt;Maybe Claus can do something about that.&lt;/p&gt;</comment>
                            <comment id="17054348" author="pascalschumacher" created="Sun, 8 Mar 2020 09:37:03 +0000"  >&lt;p&gt;Djordje Bajic Sorry, but I have reverted your commit.&lt;/p&gt;</comment>
                            <comment id="17058596" author="davsclaus" created="Fri, 13 Mar 2020 10:18:08 +0000"  >&lt;p&gt;Okay for the optimized toD to work it requires the toD url starts with the component name, eg http or https. This example uses ${headers.xxx} and therefore its not optimized. So change this to&lt;br/&gt;
.toD(&quot;https:${headers.&quot; + HTTP_URI + &quot;}&quot;)&lt;br/&gt;
And set the uri without the scheme, eg without https://&lt;br/&gt;
swapi.co/api/films&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c4qo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>