<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:10:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-8978] Setting of SOAP headers via the Camel Header &quot;org.apache.cxf.headers.Header.list&quot; not working for CXF data format &quot;PAYLOAD&quot; </title>
                <link>https://issues.apache.org/jira/browse/CAMEL-8978</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;In the camel-cxf documentation &lt;a href=&quot;https://camel.apache.org/cxf.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://camel.apache.org/cxf.html&lt;/a&gt; is described in the chapter &quot;How to deal with the message for a camel-cxf endpoint in PAYLOAD data format&quot; that &quot;You can use the Header.HEADER_LIST as the key to set or get the SOAP headers&quot;.&lt;/p&gt;

&lt;p&gt;But this only works for getting SOAP headers.&lt;/p&gt;

&lt;p&gt;If you want to set SOAP headers via the Camel header Header.HEADER_LIST, the headers are not taken into account in the CXF-to-endpoint.&lt;/p&gt;

&lt;p&gt;I analysed the problem and found out that &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the SOAP header list is forwarded to the CXF request context&lt;/li&gt;
	&lt;li&gt;that this header list is overwritten in CxfEndpoint.CamelCxfClientImpl by the CxfPayload.getHeaders() value.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;My suggestion is that we merge the headers from the Camel header and the the CXF payload in CxfEndpoint.CamelCxfClientImpl. See the attached patch.&lt;/p&gt;

&lt;p&gt;With the merging  we cover all different use cases:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the headers can be set in the CxfPayload&lt;/li&gt;
	&lt;li&gt;the headers can be set in the Camel header Header.list&lt;/li&gt;
	&lt;li&gt;the headers can be set in the CXFPayload and the CamelHeader Header.list.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Also the case where the list instance in the CxfPayload is the same as in the Camel header (in this case no merge is necessary) is covered. This case happens if the from-endpoint is also a CXF endpoint and the CXF payload is forwarded to the to-CXF-endpoint.&lt;/p&gt;

&lt;p&gt;I can commit the change. However, before I do it I want to have the agreement from the CXF experts.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12845816">CAMEL-8978</key>
            <summary>Setting of SOAP headers via the Camel Header &quot;org.apache.cxf.headers.Header.list&quot; not working for CXF data format &quot;PAYLOAD&quot; </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="forsthofer">Franz Forsthofer</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jul 2015 07:22:08 +0000</created>
                <updated>Thu, 13 Aug 2015 08:04:34 +0000</updated>
                            <resolved>Wed, 22 Jul 2015 13:53:39 +0000</resolved>
                                    <version>2.14.3</version>
                    <version>2.15.2</version>
                                    <fixVersion>2.16.0</fixVersion>
                                    <component>camel-cxf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14636938" author="forsthofer" created="Wed, 22 Jul 2015 13:53:39 +0000"  >&lt;p&gt;I have fixed the issue only in 2.16 because there is another way described in the documentation: You can use CxfPayload.getHeaders() to set SOAP headers in the payload list.&lt;/p&gt;

&lt;p&gt;Nevertheless, with this improvement you can now also use the Camel Header.&lt;/p&gt;</comment>
                            <comment id="14636939" author="forsthofer" created="Wed, 22 Jul 2015 13:54:22 +0000"  >&lt;p&gt;I updated also the wiki.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12745784" name="0001-Setting-SOAP-header-in-payload-case-via-camel-header.patch" size="13944" author="forsthofer" created="Fri, 17 Jul 2015 07:23:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2hdi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>