<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:54:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-5880] camel-quickfix: QuickfixjEndpoint should adhere the InOut exchange pattern if you would ask for this MEP</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-5880</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://camel.465427.n5.nabble.com/camel-quickfix-RequestReplyExample-java-io-IOException-td5723769.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.465427.n5.nabble.com/camel-quickfix-RequestReplyExample-java-io-IOException-td5723769.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12624185">CAMEL-5880</key>
            <summary>camel-quickfix: QuickfixjEndpoint should adhere the InOut exchange pattern if you would ask for this MEP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bvahdat">Babak Vahdat</assignee>
                                    <reporter username="bvahdat">Babak Vahdat</reporter>
                        <labels>
                    </labels>
                <created>Sun, 16 Dec 2012 12:20:38 +0000</created>
                <updated>Wed, 1 May 2013 07:04:50 +0000</updated>
                            <resolved>Tue, 30 Apr 2013 22:32:19 +0000</resolved>
                                    <version>2.10.3</version>
                                    <fixVersion>2.10.5</fixVersion>
                    <fixVersion>2.11.1</fixVersion>
                    <fixVersion>2.12.0</fixVersion>
                                    <component>camel-quickfix</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13533370" author="bvahdat" created="Sun, 16 Dec 2012 12:29:22 +0000"  >&lt;p&gt;As the evidence consider running &lt;a href=&quot;https://svn.apache.org/repos/asf/camel/trunk/components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/examples/RequestReplyExample.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this example&lt;/a&gt; and look at the log entry of the second route:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2012-12-16 13:23:04,198 [ssage Processor] INFO  OrderStatusRequestLog          - Exchange[
, Id:ID-Babaks-iMac-local-50218-1355660581337-0-24
, ExchangePattern:InOnly
, Properties:{CamelToEndpoint=log:&lt;span class=&quot;code-comment&quot;&gt;//OrderStatusRequestLog?multiline=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;showAll=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;showOut=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, CamelCreatedTimestamp=Sun Dec 16 13:23:04 CET 2012, CamelFilterMatched=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;}
&lt;/span&gt;, Headers:{EventCategory=AppMessageReceived, breadcrumbId=ID-Babaks-iMac-local-50218-1355660581337-0-23, MessageType=H, SessionID=FIX.4.2:MARKET-&amp;gt;TRADER}
, BodyType:quickfix.fix42.OrderStatusRequest
, Body:8=FIX.4.2�9=82�35=H�34=2�49=TRADER�52=20121216-12:23:04.194�56=MARKET�11=XYZ�37=abc�54=1�55=GOOG�10=145�
, Out: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13533390" author="bvahdat" created="Sun, 16 Dec 2012 13:41:50 +0000"  >&lt;p&gt;Correspondingly what &lt;a href=&quot;http://camel.apache.org/quickfix.html#Quickfix-Example&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the documentation&lt;/a&gt; claims to be the case for &lt;a href=&quot;https://svn.apache.org/repos/asf/camel/trunk/components/camel-quickfix/src/test/java/org/apache/camel/component/quickfixj/examples/RequestReplyExample.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this example&lt;/a&gt; is wrong.&lt;/p&gt;</comment>
                            <comment id="13587908" author="stevebate" created="Wed, 27 Feb 2013 02:16:59 +0000"  >&lt;p&gt;Patch to fix the RequestReplyExample.&lt;/p&gt;</comment>
                            <comment id="13588108" author="bvahdat" created="Wed, 27 Feb 2013 08:12:13 +0000"  >&lt;p&gt;Applying the provided patch on trunk causes regression by &lt;tt&gt;QuickfixjConsumerTest&lt;/tt&gt; and &lt;tt&gt;QuickfixjProducerTest&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;~/dev/workspace/camel/components/camel-quickfix&amp;gt;svn st
M       src/test/java/org/apache/camel/component/quickfixj/examples/RequestReplyExample.java
M       src/main/java/org/apache/camel/component/quickfixj/MessagePredicate.java
M       src/main/java/org/apache/camel/component/quickfixj/converter/QuickfixjConverters.java
M       src/main/java/org/apache/camel/component/quickfixj/QuickfixjConsumer.java
M       src/main/java/org/apache/camel/component/quickfixj/QuickfixjEndpoint.java
~/dev/workspace/camel/components/camel-quickfix&amp;gt;mvn test
[INFO] Scanning &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Camel :: QuickFIX/J 2.11-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-bundle-plugin:2.3.7:cleanVersions (versions) @ camel-quickfix ---
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.4:process (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ camel-quickfix ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-resources) @ camel-quickfix ---
[INFO] Using &lt;span class=&quot;code-quote&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt; encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.5.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) @ camel-quickfix ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] &amp;gt;&amp;gt;&amp;gt; camel-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;-maven-plugin:2.11-SNAPSHOT:&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ camel-quickfix &amp;gt;&amp;gt;&amp;gt;
[INFO] 
[INFO] --- maven-bundle-plugin:2.3.7:cleanVersions (versions) @ camel-quickfix ---
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.4:process (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ camel-quickfix ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-resources) @ camel-quickfix ---
[INFO] Using &lt;span class=&quot;code-quote&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt; encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] Copying 3 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.5.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) @ camel-quickfix ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] &amp;lt;&amp;lt;&amp;lt; camel-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;-maven-plugin:2.11-SNAPSHOT:&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ camel-quickfix &amp;lt;&amp;lt;&amp;lt;
[INFO] 
[INFO] --- camel-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;-maven-plugin:2.11-SNAPSHOT:&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ camel-quickfix ---
[INFO] Generated /Users/bvahdat/dev/workspace/camel/components/camel-quickfix/target/classes/META-INF/services/org/apache/camel/component.properties containing the Camel component quickfix
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testResources) @ camel-quickfix ---
[INFO] Using &lt;span class=&quot;code-quote&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt; encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.5.1:testCompile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testCompile) @ camel-quickfix ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.13:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) @ camel-quickfix ---
[INFO] Surefire report directory: /Users/bvahdat/dev/workspace/camel/components/camel-quickfix/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.camel.component.quickfixj.QuickfixjComponentTest
&amp;lt;20130227-07:36:21, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:21, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
&amp;lt;20130227-07:36:21, FIX.4.4:FOO-&amp;gt;BAR, error&amp;gt; (java.io.IOException: java.io.IOException: Endpoint unavailable: vm:1234 (Next retry in 30000 milliseconds))
&amp;lt;20130227-07:36:22, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Session FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:22, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Created session: FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR)
&amp;lt;20130227-07:36:22, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, event&amp;gt; (Session FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:22, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, event&amp;gt; (Created session: FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR)
&amp;lt;20130227-07:36:23, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, outgoing&amp;gt; (8=FIX.4.49=7235=A34=149=INITIATOR52=20130227-07:36:23.02956=ACCEPTOR98=0108=3010=004)
&amp;lt;20130227-07:36:23, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, incoming&amp;gt; (8=FIX.4.49=7235=A34=149=INITIATOR52=20130227-07:36:23.02956=ACCEPTOR98=0108=3010=004)
&amp;lt;20130227-07:36:23, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Accepting session FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR from anonymous(121165166))
&amp;lt;20130227-07:36:23, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Acceptor heartbeat set to 30 seconds)
&amp;lt;20130227-07:36:23, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Received logon)
&amp;lt;20130227-07:36:23, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, event&amp;gt; (Initiated logon request)
&amp;lt;20130227-07:36:23, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, outgoing&amp;gt; (8=FIX.4.49=7235=A34=149=ACCEPTOR52=20130227-07:36:23.03856=INITIATOR98=0108=3010=004)
&amp;lt;20130227-07:36:23, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, incoming&amp;gt; (8=FIX.4.49=7235=A34=149=ACCEPTOR52=20130227-07:36:23.03856=INITIATOR98=0108=3010=004)
&amp;lt;20130227-07:36:23, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Responding to logon request)
&amp;lt;20130227-07:36:23, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, event&amp;gt; (Received logon)
&amp;lt;20130227-07:36:23, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, outgoing&amp;gt; (8=FIX.4.49=8135=C34=249=ACCEPTOR52=20130227-07:36:23.04456=INITIATOR94=0147=Test164=ID10=166)
&amp;lt;20130227-07:36:23, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, incoming&amp;gt; (8=FIX.4.49=8135=C34=249=ACCEPTOR52=20130227-07:36:23.04456=INITIATOR94=0147=Test164=ID10=166)
&amp;lt;20130227-07:36:23, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, outgoing&amp;gt; (8=FIX.4.49=8135=C34=349=ACCEPTOR52=20130227-07:36:23.04556=INITIATOR94=0147=Test164=ID10=168)
&amp;lt;20130227-07:36:23, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, incoming&amp;gt; (8=FIX.4.49=8135=C34=349=ACCEPTOR52=20130227-07:36:23.04556=INITIATOR94=0147=Test164=ID10=168)
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, error&amp;gt; (java.io.IOException: java.io.IOException: Endpoint unavailable: vm:1234 (Next retry in 30000 milliseconds))
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, error&amp;gt; (java.io.IOException: java.io.IOException: Endpoint unavailable: vm:1234 (Next retry in 30000 milliseconds))
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.555 sec
Running org.apache.camel.component.quickfixj.QuickfixjConfigurationTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.camel.component.quickfixj.QuickfixjConsumerTest
Tests run: 4, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 0.176 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
processInOutExchange(org.apache.camel.component.quickfixj.QuickfixjConsumerTest)  Time elapsed: 0.171 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
org.mockito.exceptions.verification.NeverWantedButInvoked: 
exchange.setException(
    isA(java.lang.Exception)
);
Never wanted here:
-&amp;gt; at org.apache.camel.component.quickfixj.QuickfixjConsumerTest.processInOutExchange(QuickfixjConsumerTest.java:134)
But invoked here:
-&amp;gt; at org.apache.camel.component.quickfixj.QuickfixjConsumerTest.processInOutExchange(QuickfixjConsumerTest.java:133)

	at org.apache.camel.component.quickfixj.QuickfixjConsumerTest.processInOutExchange(QuickfixjConsumerTest.java:134)

setExceptionOnInOutExchange(org.apache.camel.component.quickfixj.QuickfixjConsumerTest)  Time elapsed: 0.003 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
org.mockito.exceptions.verification.junit.ArgumentsAreDifferent: 
Argument(s) are different! Wanted:
exchange.setException(
    isA(java.lang.IllegalStateException)
);
-&amp;gt; at org.apache.camel.component.quickfixj.QuickfixjConsumerTest.setExceptionOnInOutExchange(QuickfixjConsumerTest.java:114)
Actual invocation has different arguments:
exchange.setException(
    java.lang.NullPointerException
);
-&amp;gt; at org.apache.camel.component.quickfixj.QuickfixjConsumer.onExchange(QuickfixjConsumer.java:45)

	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.apache.camel.component.quickfixj.QuickfixjConsumerTest.setExceptionOnInOutExchange(QuickfixjConsumerTest.java:114)

Running org.apache.camel.component.quickfixj.QuickfixjConvertersTest
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.628 sec
Running org.apache.camel.component.quickfixj.QuickfixjEngineTest
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
&amp;lt;20130227-07:36:23, FIX.4.4:FOO-&amp;gt;BAR, error&amp;gt; (java.io.IOException: java.io.IOException: Endpoint unavailable: vm:1234 (Next retry in 30000 milliseconds))
&amp;lt;20130227-07:36:23, FIX.4.2:MARKET-&amp;gt;TRADER, event&amp;gt; (Session FIX.4.2:MARKET-&amp;gt;TRADER schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:23, FIX.4.2:MARKET-&amp;gt;TRADER, event&amp;gt; (Created session: FIX.4.2:MARKET-&amp;gt;TRADER)
&amp;lt;20130227-07:36:23, FIX.4.2:TRADER-&amp;gt;MARKET, event&amp;gt; (Session FIX.4.2:TRADER-&amp;gt;MARKET schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:23, FIX.4.2:TRADER-&amp;gt;MARKET, event&amp;gt; (Created session: FIX.4.2:TRADER-&amp;gt;MARKET)
&amp;lt;20130227-07:36:24, FIX.4.2:TRADER-&amp;gt;MARKET, outgoing&amp;gt; (8=FIX.4.29=6835=A34=149=TRADER52=20130227-07:36:24.99056=MARKET98=0108=12010=193)
&amp;lt;20130227-07:36:24, FIX.4.2:MARKET-&amp;gt;TRADER, incoming&amp;gt; (8=FIX.4.29=6835=A34=149=TRADER52=20130227-07:36:24.99056=MARKET98=0108=12010=193)
&amp;lt;20130227-07:36:24, FIX.4.2:MARKET-&amp;gt;TRADER, event&amp;gt; (Accepting session FIX.4.2:MARKET-&amp;gt;TRADER from anonymous(1183562193))
&amp;lt;20130227-07:36:24, FIX.4.2:MARKET-&amp;gt;TRADER, event&amp;gt; (Acceptor heartbeat set to 120 seconds)
&amp;lt;20130227-07:36:24, FIX.4.2:TRADER-&amp;gt;MARKET, event&amp;gt; (Initiated logon request)
&amp;lt;20130227-07:36:24, FIX.4.2:MARKET-&amp;gt;TRADER, event&amp;gt; (Received logon)
&amp;lt;20130227-07:36:24, FIX.4.2:MARKET-&amp;gt;TRADER, outgoing&amp;gt; (8=FIX.4.29=6835=A34=149=MARKET52=20130227-07:36:24.99256=TRADER98=0108=12010=195)
&amp;lt;20130227-07:36:24, FIX.4.2:TRADER-&amp;gt;MARKET, incoming&amp;gt; (8=FIX.4.29=6835=A34=149=MARKET52=20130227-07:36:24.99256=TRADER98=0108=12010=195)
&amp;lt;20130227-07:36:24, FIX.4.2:MARKET-&amp;gt;TRADER, event&amp;gt; (Responding to logon request)
&amp;lt;20130227-07:36:24, FIX.4.2:TRADER-&amp;gt;MARKET, event&amp;gt; (Received logon)
&amp;lt;20130227-07:36:24, FIX.4.2:TRADER-&amp;gt;MARKET, outgoing&amp;gt; (8=FIX.4.29=9235=C34=249=TRADER52=20130227-07:36:24.99456=MARKET94=0147=Test164=ID33=158=Content10=146)
&amp;lt;20130227-07:36:24, FIX.4.2:MARKET-&amp;gt;TRADER, incoming&amp;gt; (8=FIX.4.29=9235=C34=249=TRADER52=20130227-07:36:24.99456=MARKET94=0147=Test164=ID33=158=Content10=146)
&amp;lt;20130227-07:36:25, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:25, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
Tests run: 19, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.074 sec
Running org.apache.camel.component.quickfixj.QuickfixjProducerTest
Tests run: 5, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 5.048 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
processInOutExchangeSuccess(org.apache.camel.component.quickfixj.QuickfixjProducerTest)  Time elapsed: 5.036 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
org.mockito.exceptions.verification.WantedButNotInvoked: 
Wanted but not invoked:
message.setBody(
    8=FIX.4.29=2535=C49=TARGET56=SENDER10=194
);
-&amp;gt; at org.apache.camel.component.quickfixj.QuickfixjProducerTest.processInOutExchangeSuccess(QuickfixjProducerTest.java:155)
Actually, there were zero interactions with &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; mock.

	at org.apache.camel.component.quickfixj.QuickfixjProducerTest.processInOutExchangeSuccess(QuickfixjProducerTest.java:155)

Running org.apache.camel.component.quickfixj.QuickfixjSpringTest
&amp;lt;20130227-07:36:30, FIX.4.2:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Session FIX.4.2:ACCEPTOR-&amp;gt;INITIATOR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:30, FIX.4.2:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Created session: FIX.4.2:ACCEPTOR-&amp;gt;INITIATOR)
&amp;lt;20130227-07:36:30, FIX.4.2:INITIATOR-&amp;gt;ACCEPTOR, event&amp;gt; (Session FIX.4.2:INITIATOR-&amp;gt;ACCEPTOR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130227-07:36:30, FIX.4.2:INITIATOR-&amp;gt;ACCEPTOR, event&amp;gt; (Created session: FIX.4.2:INITIATOR-&amp;gt;ACCEPTOR)
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.727 sec

Results :

Failed tests: 
  QuickfixjConsumerTest.processInOutExchange:134 
exchange.setException(
    isA(java.lang.Exception)
);
Never wanted here:
-&amp;gt; at org.apache.camel.component.quickfixj.QuickfixjConsumerTest.processInOutExchange(QuickfixjConsumerTest.java:134)
But invoked here:
-&amp;gt; at org.apache.camel.component.quickfixj.QuickfixjConsumerTest.processInOutExchange(QuickfixjConsumerTest.java:133)

  QuickfixjConsumerTest.setExceptionOnInOutExchange:114 
Argument(s) are different! Wanted:
exchange.setException(
    isA(java.lang.IllegalStateException)
);
-&amp;gt; at org.apache.camel.component.quickfixj.QuickfixjConsumerTest.setExceptionOnInOutExchange(QuickfixjConsumerTest.java:114)
Actual invocation has different arguments:
exchange.setException(
    java.lang.NullPointerException
);
-&amp;gt; at org.apache.camel.component.quickfixj.QuickfixjConsumer.onExchange(QuickfixjConsumer.java:45)

  QuickfixjProducerTest.processInOutExchangeSuccess:155 
Wanted but not invoked:
message.setBody(
    8=FIX.4.29=2535=C49=TARGET56=SENDER10=194
);
-&amp;gt; at org.apache.camel.component.quickfixj.QuickfixjProducerTest.processInOutExchangeSuccess(QuickfixjProducerTest.java:155)
Actually, there were zero interactions with &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; mock.


Tests run: 42, Failures: 3, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 12.834s
[INFO] Finished at: Wed Feb 27 08:36:30 CET 2013
[INFO] Final Memory: 13M/1011M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.13:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) on project camel-quickfix: There are test failures.
[ERROR] 
[ERROR] Please refer to /Users/bvahdat/dev/workspace/camel/components/camel-quickfix/target/surefire-reports &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the individual test results.
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt;.
[ERROR] Re-run Maven using the -X &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http:&lt;span class=&quot;code-comment&quot;&gt;//cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13588241" author="stevebate" created="Wed, 27 Feb 2013 11:36:06 +0000"  >&lt;p&gt;This is an updated patch with modifications for the unit tests. However, I&apos;d wait to apply the patches until we&apos;ve discussed the issue with the InOut MEP and the overwriting of the inbound message (which requires the new Exchange copy behavior in the patch).&lt;/p&gt;</comment>
                            <comment id="13644392" author="stevebate" created="Mon, 29 Apr 2013 10:01:06 +0000"  >&lt;p&gt;Any more updates on this issue?&lt;/p&gt;</comment>
                            <comment id="13644428" author="bvahdat" created="Mon, 29 Apr 2013 11:19:01 +0000"  >&lt;p&gt;Please give me time to find some free cycle, then will dig into this and try to understand what exactly is going on.&lt;/p&gt;</comment>
                            <comment id="13645441" author="bvahdat" created="Tue, 30 Apr 2013 10:43:51 +0000"  >&lt;p&gt;Steve,&lt;/p&gt;

&lt;p&gt;In the meanwhile the changes of &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-5979&quot; title=&quot;Camel-Quickfix dynamic SenderSubId/TargetSubId issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-5979&quot;&gt;&lt;del&gt;CAMEL-5979&lt;/del&gt;&lt;/a&gt; has been applied which is the following commit:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1455750&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1455750&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So apparently the way we retrieve the &lt;tt&gt;messageSessionID&lt;/tt&gt; has been changed on the consumer side through that ticket. Now with your patch in place I end up with OOM while doing &lt;tt&gt;mvn clean install&lt;/tt&gt; on this module, but this was not the case before &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-5979&quot; title=&quot;Camel-Quickfix dynamic SenderSubId/TargetSubId issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-5979&quot;&gt;&lt;del&gt;CAMEL-5979&lt;/del&gt;&lt;/a&gt;! Have you got any idea what the conflict is.&lt;/p&gt;

&lt;p&gt;Also your included patch contains the change by &lt;tt&gt;MessagePredicate&lt;/tt&gt; where reversing the SessionID has been removed but the comment &lt;tt&gt;Reverse session ID for reply&lt;/tt&gt; is still there. So which one should be correct, the code or the comment?&lt;/p&gt;

&lt;p&gt;Fell free to comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-5979&quot; title=&quot;Camel-Quickfix dynamic SenderSubId/TargetSubId issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-5979&quot;&gt;&lt;del&gt;CAMEL-5979&lt;/del&gt;&lt;/a&gt; as well if you as &lt;b&gt;QuickFIX/J Guru&lt;/b&gt; think the changes of &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-5979&quot; title=&quot;Camel-Quickfix dynamic SenderSubId/TargetSubId issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-5979&quot;&gt;&lt;del&gt;CAMEL-5979&lt;/del&gt;&lt;/a&gt; were not appropriate or if there would be a better way to do that.&lt;/p&gt;</comment>
                            <comment id="13645663" author="bvahdat" created="Tue, 30 Apr 2013 15:28:19 +0000"  >&lt;p&gt;This is what I get if I apply your patch. Actually all tests pass well, but then at the end get &lt;tt&gt;java.lang.OutOfMemoryError: PermGen space&lt;/tt&gt;. On the other hand if &lt;tt&gt;@Ignore&lt;/tt&gt; the Spring test &lt;tt&gt;org.apache.camel.component.quickfixj.QuickfixjSpringTest&lt;/tt&gt; then the OOM disappears.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;~/dev/workspace/camel/components/camel-quickfix&amp;gt;echo $MAVEN_OPTS
-Xms1024m -Xmx1024m -XX:MaxPermSize=1024m
~/dev/workspace/camel/components/camel-quickfix&amp;gt;mvn test
[INFO] Scanning &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Camel :: QuickFIX/J 2.12-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-bundle-plugin:2.3.7:cleanVersions (versions) @ camel-quickfix ---
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.4:process (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ camel-quickfix ---
[INFO] 
[INFO] &amp;gt;&amp;gt;&amp;gt; camel-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;-maven-plugin:2.12-SNAPSHOT:generate-components-list (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ camel-quickfix &amp;gt;&amp;gt;&amp;gt;
[INFO] 
[INFO] --- maven-bundle-plugin:2.3.7:cleanVersions (versions) @ camel-quickfix ---
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.4:process (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ camel-quickfix ---
[INFO] 
[INFO] &amp;lt;&amp;lt;&amp;lt; camel-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;-maven-plugin:2.12-SNAPSHOT:generate-components-list (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ camel-quickfix &amp;lt;&amp;lt;&amp;lt;
[INFO] 
[INFO] --- camel-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;-maven-plugin:2.12-SNAPSHOT:generate-components-list (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ camel-quickfix ---
[INFO] Generated /Users/bvahdat/dev/workspace/camel/components/camel-quickfix/target/generated/camel/components/META-INF/services/org/apache/camel/component.properties containing the Camel component quickfix
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-resources) @ camel-quickfix ---
[INFO] Using &lt;span class=&quot;code-quote&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt; encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] Copying 3 resources
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:2.5.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) @ camel-quickfix ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testResources) @ camel-quickfix ---
[INFO] Using &lt;span class=&quot;code-quote&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt; encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.5.1:testCompile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testCompile) @ camel-quickfix ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.14.1:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) @ camel-quickfix ---
[INFO] Surefire report directory: /Users/bvahdat/dev/workspace/camel/components/camel-quickfix/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.camel.component.quickfixj.QuickfixjComponentTest
&amp;lt;20130430-15:20:57, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:20:57, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
&amp;lt;20130430-15:20:57, FIX.4.4:FOO-&amp;gt;BAR, error&amp;gt; (java.io.IOException: java.io.IOException: Endpoint unavailable: vm:1234 (Next retry in 30000 milliseconds))
&amp;lt;20130430-15:20:57, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Session FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:20:57, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Created session: FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR)
&amp;lt;20130430-15:20:57, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, event&amp;gt; (Session FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:20:57, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, event&amp;gt; (Created session: FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR)
&amp;lt;20130430-15:20:58, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, outgoing&amp;gt; (8=FIX.4.49=7235=A34=149=INITIATOR52=20130430-15:20:58.86856=ACCEPTOR98=0108=3010=011)
&amp;lt;20130430-15:20:58, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, incoming&amp;gt; (8=FIX.4.49=7235=A34=149=INITIATOR52=20130430-15:20:58.86856=ACCEPTOR98=0108=3010=011)
&amp;lt;20130430-15:20:58, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Accepting session FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR from anonymous(84419191))
&amp;lt;20130430-15:20:58, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Acceptor heartbeat set to 30 seconds)
&amp;lt;20130430-15:20:58, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Received logon)
&amp;lt;20130430-15:20:58, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Responding to Logon request)
&amp;lt;20130430-15:20:58, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, event&amp;gt; (Initiated logon request)
&amp;lt;20130430-15:20:58, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, outgoing&amp;gt; (8=FIX.4.49=7235=A34=149=ACCEPTOR52=20130430-15:20:58.87556=INITIATOR98=0108=3010=009)
&amp;lt;20130430-15:20:58, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, incoming&amp;gt; (8=FIX.4.49=7235=A34=149=ACCEPTOR52=20130430-15:20:58.87556=INITIATOR98=0108=3010=009)
&amp;lt;20130430-15:20:58, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, event&amp;gt; (Received logon)
&amp;lt;20130430-15:20:58, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, outgoing&amp;gt; (8=FIX.4.49=8135=C34=249=ACCEPTOR52=20130430-15:20:58.88056=INITIATOR94=0147=Test164=ID10=170)
&amp;lt;20130430-15:20:58, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, incoming&amp;gt; (8=FIX.4.49=8135=C34=249=ACCEPTOR52=20130430-15:20:58.88056=INITIATOR94=0147=Test164=ID10=170)
&amp;lt;20130430-15:20:58, FIX.4.4:ACCEPTOR-&amp;gt;INITIATOR, outgoing&amp;gt; (8=FIX.4.49=8135=C34=349=ACCEPTOR52=20130430-15:20:58.88156=INITIATOR94=0147=Test164=ID10=172)
&amp;lt;20130430-15:20:58, FIX.4.4:INITIATOR-&amp;gt;ACCEPTOR, incoming&amp;gt; (8=FIX.4.49=8135=C34=349=ACCEPTOR52=20130430-15:20:58.88156=INITIATOR94=0147=Test164=ID10=172)
&amp;lt;20130430-15:20:58, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:20:58, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
&amp;lt;20130430-15:20:58, FIX.4.4:FOO-&amp;gt;BAR, error&amp;gt; (java.io.IOException: java.io.IOException: Endpoint unavailable: vm:1234 (Next retry in 30000 milliseconds))
&amp;lt;20130430-15:20:58, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:20:58, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
&amp;lt;20130430-15:20:58, FIX.4.4:FOO-&amp;gt;BAR, error&amp;gt; (java.io.IOException: java.io.IOException: Endpoint unavailable: vm:1234 (Next retry in 30000 milliseconds))
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.455 sec
Running org.apache.camel.component.quickfixj.QuickfixjConfigurationTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.camel.component.quickfixj.QuickfixjConsumerTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.167 sec
Running org.apache.camel.component.quickfixj.QuickfixjConvertersTest
&amp;lt;20130430-15:20:59, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:20:59, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
&amp;lt;20130430-15:20:59, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:20:59, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
&amp;lt;20130430-15:20:59, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:20:59, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.627 sec
Running org.apache.camel.component.quickfixj.QuickfixjEngineTest
&amp;lt;20130430-15:20:59, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:20:59, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
&amp;lt;20130430-15:20:59, FIX.4.4:FOO-&amp;gt;BAR, error&amp;gt; (java.io.IOException: java.io.IOException: Endpoint unavailable: vm:1234 (Next retry in 30000 milliseconds))
&amp;lt;20130430-15:20:59, FIX.4.2:MARKET-&amp;gt;TRADER, event&amp;gt; (Session FIX.4.2:MARKET-&amp;gt;TRADER schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:20:59, FIX.4.2:MARKET-&amp;gt;TRADER, event&amp;gt; (Created session: FIX.4.2:MARKET-&amp;gt;TRADER)
&amp;lt;20130430-15:20:59, FIX.4.2:TRADER-&amp;gt;MARKET, event&amp;gt; (Session FIX.4.2:TRADER-&amp;gt;MARKET schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:20:59, FIX.4.2:TRADER-&amp;gt;MARKET, event&amp;gt; (Created session: FIX.4.2:TRADER-&amp;gt;MARKET)
&amp;lt;20130430-15:21:00, FIX.4.2:TRADER-&amp;gt;MARKET, outgoing&amp;gt; (8=FIX.4.29=6835=A34=149=TRADER52=20130430-15:21:00.81756=MARKET98=0108=12010=174)
&amp;lt;20130430-15:21:00, FIX.4.2:MARKET-&amp;gt;TRADER, incoming&amp;gt; (8=FIX.4.29=6835=A34=149=TRADER52=20130430-15:21:00.81756=MARKET98=0108=12010=174)
&amp;lt;20130430-15:21:00, FIX.4.2:MARKET-&amp;gt;TRADER, event&amp;gt; (Accepting session FIX.4.2:MARKET-&amp;gt;TRADER from anonymous(1620729172))
&amp;lt;20130430-15:21:00, FIX.4.2:MARKET-&amp;gt;TRADER, event&amp;gt; (Acceptor heartbeat set to 120 seconds)
&amp;lt;20130430-15:21:00, FIX.4.2:TRADER-&amp;gt;MARKET, event&amp;gt; (Initiated logon request)
&amp;lt;20130430-15:21:00, FIX.4.2:MARKET-&amp;gt;TRADER, event&amp;gt; (Received logon)
&amp;lt;20130430-15:21:00, FIX.4.2:MARKET-&amp;gt;TRADER, event&amp;gt; (Responding to Logon request)
&amp;lt;20130430-15:21:00, FIX.4.2:MARKET-&amp;gt;TRADER, outgoing&amp;gt; (8=FIX.4.29=6835=A34=149=MARKET52=20130430-15:21:00.81956=TRADER98=0108=12010=176)
&amp;lt;20130430-15:21:00, FIX.4.2:TRADER-&amp;gt;MARKET, incoming&amp;gt; (8=FIX.4.29=6835=A34=149=MARKET52=20130430-15:21:00.81956=TRADER98=0108=12010=176)
&amp;lt;20130430-15:21:00, FIX.4.2:TRADER-&amp;gt;MARKET, event&amp;gt; (Received logon)
&amp;lt;20130430-15:21:00, FIX.4.2:TRADER-&amp;gt;MARKET, outgoing&amp;gt; (8=FIX.4.29=9235=C34=249=TRADER52=20130430-15:21:00.82156=MARKET94=0147=Test164=ID33=158=Content10=118)
&amp;lt;20130430-15:21:00, FIX.4.2:MARKET-&amp;gt;TRADER, incoming&amp;gt; (8=FIX.4.29=9235=C34=249=TRADER52=20130430-15:21:00.82156=MARKET94=0147=Test164=ID33=158=Content10=118)
&amp;lt;20130430-15:21:00, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Session FIX.4.4:FOO-&amp;gt;BAR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:21:00, FIX.4.4:FOO-&amp;gt;BAR, event&amp;gt; (Created session: FIX.4.4:FOO-&amp;gt;BAR)
Tests run: 19, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.079 sec
Running org.apache.camel.component.quickfixj.QuickfixjProducerTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.088 sec
Running org.apache.camel.component.quickfixj.QuickfixjSpringTest
&amp;lt;20130430-15:21:01, FIX.4.2:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Session FIX.4.2:ACCEPTOR-&amp;gt;INITIATOR schedule is daily, 00:00:00-UTC - 00:00:00-UTC)
&amp;lt;20130430-15:21:01, FIX.4.2:ACCEPTOR-&amp;gt;INITIATOR, event&amp;gt; (Created session: FIX.4.2:ACCEPTOR-&amp;gt;INITIATOR)
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.529 sec
java.lang.OutOfMemoryError: PermGen space

Results :

Tests run: 42, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 12.485s
[INFO] Finished at: Tue Apr 30 17:21:06 CEST 2013
[INFO] Final Memory: 14M/1011M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.14.1:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) on project camel-quickfix: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.14.1:test failed: The forked VM terminated without saying properly goodbye. VM crash or &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit called ?
[ERROR] Command was/bin/sh -c cd /Users/bvahdat/dev/workspace/camel/components/camel-quickfix &amp;amp;&amp;amp; /Library/Java/JavaVirtualMachines/1.6.0_32-b05-420.jdk/Contents/Home/bin/java -jar /Users/bvahdat/dev/workspace/camel/components/camel-quickfix/target/surefire/surefirebooter5621841200692637059.jar /Users/bvahdat/dev/workspace/camel/components/camel-quickfix/target/surefire/surefire8781436168046582511tmp /Users/bvahdat/dev/workspace/camel/components/camel-quickfix/target/surefire/surefire_08815624006783717081tmp
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt;.
[ERROR] Re-run Maven using the -X &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http:&lt;span class=&quot;code-comment&quot;&gt;//cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13645909" author="bvahdat" created="Tue, 30 Apr 2013 20:04:49 +0000"  >&lt;p&gt;O.K. found a solution for now to make &lt;tt&gt;maven clean install&lt;/tt&gt; work properly:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;build&amp;gt;
  &amp;lt;plugins&amp;gt;
    &amp;lt;plugin&amp;gt;
      &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;
      &amp;lt;configuration&amp;gt;
        &amp;lt;!--
          TODO: should fork per test as otherwise the build would cause &lt;span class=&quot;code-quote&quot;&gt;&apos;java.lang.OutOfMemoryError: PermGen space&apos;&lt;/span&gt;.
          interestingly found a quick &amp;amp; dirty solution &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; which would be to remove the &amp;lt;filter&amp;gt; tag inside the
          test resource QuickfixjSpringTest-context.xml then the build would run perfectly without a need to fork always!
        --&amp;gt;
        &amp;lt;forkMode&amp;gt;always&amp;lt;/forkMode&amp;gt;
      &amp;lt;/configuration&amp;gt;
    &amp;lt;/plugin&amp;gt;
  &amp;lt;/plugins&amp;gt;
&amp;lt;/build&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13646079" author="bvahdat" created="Tue, 30 Apr 2013 22:32:19 +0000"  >&lt;p&gt;Thanks for providing the patch which is backported to the 2.11.x as well as 2.10.x branches. Fixed CS and modified POM as well to avoid OOM for now while running the tests &lt;b&gt;all together&lt;/b&gt; (&lt;tt&gt;mvn test&lt;/tt&gt;).&lt;/p&gt;</comment>
                            <comment id="13646432" author="bvahdat" created="Wed, 1 May 2013 07:04:50 +0000"  >&lt;p&gt;See also &lt;a href=&quot;http://camel.465427.n5.nabble.com/camel-quickfix-RequestReplyExample-java-io-IOException-tp5723769p5731828.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;my answer&lt;/a&gt; to your question @ user forum.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12509078">CAMEL-4038</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12623176">CAMEL-5861</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12571180" name="requestreply-2.patch" size="8006" author="stevebate" created="Wed, 27 Feb 2013 11:36:06 +0000"/>
                            <attachment id="12571117" name="requestreply.patch" size="4915" author="stevebate" created="Wed, 27 Feb 2013 02:16:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>298914</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i15wmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>