<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:07:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-21076] camel-openapi-java: Incorrect schema is generated for array type request </title>
                <link>https://issues.apache.org/jira/browse/CAMEL-21076</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When specifying an array of objects as a request type (in PUT/POST methods), the generated OpenAPI schema does not match the expected result.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
.post()
  .type(User[].class)
  .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;bean:....&quot;&lt;/span&gt;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Will generate:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;requestBody&quot;&lt;/span&gt; : {
  &lt;span class=&quot;code-quote&quot;&gt;&quot;description&quot;&lt;/span&gt; : &quot;&quot;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;content&quot;&lt;/span&gt; : {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;application/json&quot;&lt;/span&gt; : {
      &lt;span class=&quot;code-quote&quot;&gt;&quot;schema&quot;&lt;/span&gt; : {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;
      }
    }
  },
  &lt;span class=&quot;code-quote&quot;&gt;&quot;required&quot;&lt;/span&gt; : &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
}, &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;While expected schema should be:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;requestBody&quot;&lt;/span&gt; : {
  &lt;span class=&quot;code-quote&quot;&gt;&quot;description&quot;&lt;/span&gt; : &quot;&quot;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;content&quot;&lt;/span&gt; : {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;application/json&quot;&lt;/span&gt; : {
      &lt;span class=&quot;code-quote&quot;&gt;&quot;schema&quot;&lt;/span&gt; : {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;array&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;items&quot;&lt;/span&gt; : {
          &lt;span class=&quot;code-quote&quot;&gt;&quot;$ref&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;#/components/schemas/User&quot;&lt;/span&gt;
        }
      }
    }
  },
  &lt;span class=&quot;code-quote&quot;&gt;&quot;required&quot;&lt;/span&gt; : &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13588653">CAMEL-21076</key>
            <summary>camel-openapi-java: Incorrect schema is generated for array type request </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="iliya.gr">Iliya Grushevskiy</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Aug 2024 21:55:04 +0000</created>
                <updated>Tue, 13 Aug 2024 15:49:18 +0000</updated>
                            <resolved>Tue, 13 Aug 2024 15:49:08 +0000</resolved>
                                    <version>3.x</version>
                    <version>4.x</version>
                                    <fixVersion>4.8.0</fixVersion>
                                    <component>camel-openapi-java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17873061" author="iliya.gr" created="Mon, 12 Aug 2024 22:14:55 +0000"  >&lt;p&gt;Branch with fix &lt;a href=&quot;https://github.com/iliya-gr/camel/tree/CAMEL-21076&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/iliya-gr/camel/tree/CAMEL-21076&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Can&apos;t create pull request, because recovering my 2FA access to Github&lt;/p&gt;</comment>
                            <comment id="17873118" author="davsclaus" created="Tue, 13 Aug 2024 06:51:44 +0000"  >&lt;p&gt;Can you attach your modified source code files to this JIRA thanks&lt;/p&gt;</comment>
                            <comment id="17873120" author="iliya.gr" created="Tue, 13 Aug 2024 06:57:13 +0000"  >&lt;p&gt;The commit is already in the branch &lt;a href=&quot;https://github.com/iliya-gr/camel/tree/CAMEL-21076&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/iliya-gr/camel/tree/CAMEL-21076&lt;/a&gt;&#160; I just can&apos;t login and make pull request.&lt;/p&gt;

&lt;p&gt;Here is the patch &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13070844/13070844_CAMEL-21076_Fix_REST_route_definition_and_OpenAPI_schema_generation_for_array_type_request.patch&quot; title=&quot;CAMEL-21076_Fix_REST_route_definition_and_OpenAPI_schema_generation_for_array_type_request.patch attached to CAMEL-21076&quot;&gt;CAMEL-21076_Fix_REST_route_definition_and_OpenAPI_schema_generation_for_array_type_request.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17873122" author="davsclaus" created="Tue, 13 Aug 2024 07:03:08 +0000"  >&lt;p&gt;There is also an outType can you take a look at that too, and if it also need some fixing&lt;/p&gt;</comment>
                            <comment id="17873126" author="iliya.gr" created="Tue, 13 Aug 2024 07:07:25 +0000"  >&lt;p&gt;Ok. I will check it.&lt;/p&gt;</comment>
                            <comment id="17873131" author="iliya.gr" created="Tue, 13 Aug 2024 07:16:41 +0000"  >&lt;p&gt;Out type seems fine. I added check in test for out type array.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13070845/13070845_CAMEL-21076_Fix_REST_route_definition_and_OpenAPI_schema_generation_for_array_type_request1.patch&quot; title=&quot;CAMEL-21076_Fix_REST_route_definition_and_OpenAPI_schema_generation_for_array_type_request1.patch attached to CAMEL-21076&quot;&gt;CAMEL-21076_Fix_REST_route_definition_and_OpenAPI_schema_generation_for_array_type_request1.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17873247" author="davsclaus" created="Tue, 13 Aug 2024 15:49:18 +0000"  >&lt;p&gt;Thanks for the patch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13070844" name="CAMEL-21076_Fix_REST_route_definition_and_OpenAPI_schema_generation_for_array_type_request.patch" size="8011" author="iliya.gr" created="Tue, 13 Aug 2024 06:57:07 +0000"/>
                            <attachment id="13070845" name="CAMEL-21076_Fix_REST_route_definition_and_OpenAPI_schema_generation_for_array_type_request1.patch" size="8356" author="iliya.gr" created="Tue, 13 Aug 2024 07:16:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qtts:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>