<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:22:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-11009] Camel spring - spring.schemas file contains unexpaned maven properties in release artefact</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-11009</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Looking at &lt;a href=&quot;http://search.maven.org/remotecontent?filepath=org/apache/camel/camel-spring/2.18.2/camel-spring-2.18.2.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/remotecontent?filepath=org/apache/camel/camel-spring/2.18.2/camel-spring-2.18.2.jar&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I can see that file /META-INF/spring.schemas shows non-expanded maven property &lt;tt&gt;v$&amp;#123;camel.schema.version&amp;#125;&lt;/tt&gt; in the file. This causes loading a route in Karaf fail.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
...
http\:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/spring=camel-spring.xsd
&lt;/span&gt;http\:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/spring/v${camel.schema.version}=camel-spring-v${camel.schema.version}.xsd&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ok in 2.17.x and 2.16.x  but broken in 2.18.x releases.&lt;/p&gt;

&lt;p&gt;Stack trace from running a camel route in Karaf with camel-spring-2.18.2 installed:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-03-12 23:00:39,527 | WARN  | pool-32-thread-2 | NamespaceHandlerRegistryImpl     | 12 - org.apache.aries.blueprint.core - 1.7.1 | Error registering NamespaceHandler
java.lang.IllegalArgumentException: Illegal character in path at index 40: http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/spring/v${camel.schema.version}
&lt;/span&gt;        at java.net.URI.create(URI.java:852) [?:?]
        at org.apache.aries.blueprint.namespace.NamespaceHandlerRegistryImpl.getNamespaces(NamespaceHandlerRegistryImpl.java:203) [12:org.apache.aries.blueprint.core:1.7.1]
        at org.apache.aries.blueprint.namespace.NamespaceHandlerRegistryImpl.registerHandler(NamespaceHandlerRegistryImpl.java:157) [12:org.apache.aries.blueprint.core:1.7.1]
        at org.apache.aries.blueprint.namespace.NamespaceHandlerRegistryImpl.addingService(NamespaceHandlerRegistryImpl.java:121) [12:org.apache.aries.blueprint.core:1.7.1]
        at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:941) [?:?]
        at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:870) [?:?]
        at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256) [?:?]
        at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229) [?:?]
        at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:901) [?:?]
        at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990) [?:?]
        at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838) [?:?]
        at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545) [?:?]
        at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4557) [?:?]
        at org.apache.felix.framework.Felix.registerService(Felix.java:3549) [?:?]
        at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:348) [?:?]
        at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:355) [?:?]
        at org.apache.aries.blueprint.spring.SpringExtension.start(SpringExtension.java:78) [202:org.apache.aries.blueprint.spring:0.2.0]
        at org.apache.felix.utils.extender.AbstractExtender$1.run(AbstractExtender.java:265) [202:org.apache.aries.blueprint.spring:0.2.0]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:?]
        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:?]
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:?]
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:?]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:?]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:?]
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) [?:?]
Caused by: java.net.URISyntaxException: Illegal character in path at index 40: http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/spring/v${camel.schema.version}
&lt;/span&gt;        at java.net.URI$Parser.fail(URI.java:2848) ~[?:?]
        at java.net.URI$Parser.checkChars(URI.java:3021) ~[?:?]
        at java.net.URI$Parser.parseHierarchical(URI.java:3105) ~[?:?]
        at java.net.URI$Parser.parse(URI.java:3053) ~[?:?]
        at java.net.URI.&amp;lt;init&amp;gt;(URI.java:588) ~[?:?]
        at java.net.URI.create(URI.java:850) ~[?:?]
        ... 24 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;any&lt;/p&gt;</environment>
        <key id="13055820">CAMEL-11009</key>
            <summary>Camel spring - spring.schemas file contains unexpaned maven properties in release artefact</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="niels.bertram">Niels Bertram</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Mar 2017 04:43:21 +0000</created>
                <updated>Sun, 19 Mar 2017 15:32:39 +0000</updated>
                            <resolved>Sat, 18 Mar 2017 08:57:55 +0000</resolved>
                                    <version>2.18.0</version>
                    <version>2.18.1</version>
                    <version>2.18.2</version>
                                    <fixVersion>2.18.4</fixVersion>
                    <fixVersion>2.19.0</fixVersion>
                                    <component>camel-spring</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15923816" author="davsclaus" created="Tue, 14 Mar 2017 08:59:02 +0000"  >&lt;p&gt;Can you check the blueprint schema files as well&lt;/p&gt;</comment>
                            <comment id="15923819" author="davsclaus" created="Tue, 14 Mar 2017 09:00:59 +0000"  >&lt;p&gt;We can just remove those vX.Y as nobody uses them anyway.&lt;/p&gt;</comment>
                            <comment id="15924099" author="niels.bertram" created="Tue, 14 Mar 2017 12:36:53 +0000"  >&lt;p&gt;Just looking through the pom files to find out where the problem lies and can see that same issue also exists in camel-spring-dm.&lt;/p&gt;</comment>
                            <comment id="15925715" author="davsclaus" created="Wed, 15 Mar 2017 08:11:44 +0000"  >&lt;p&gt;Can you check camel-blueprint as well&lt;/p&gt;</comment>
                            <comment id="15930449" author="githubbot" created="Fri, 17 Mar 2017 18:35:18 +0000"  >&lt;p&gt;GitHub user aldettinger opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1548&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1548&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11009&quot; title=&quot;Camel spring - spring.schemas file contains unexpaned maven properties in release artefact&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11009&quot;&gt;&lt;del&gt;CAMEL-11009&lt;/del&gt;&lt;/a&gt;: Corrected the generation of the &apos;spring.schemas&apos; file in camel-blueprint&lt;/p&gt;

&lt;p&gt;    This PR proposes a possible fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11009&quot; title=&quot;Camel spring - spring.schemas file contains unexpaned maven properties in release artefact&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11009&quot;&gt;&lt;del&gt;CAMEL-11009&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11009&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-11009&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;    Actually, the file `/META-INF/spring.schemas` is filtered during the process-resources phase.&lt;br/&gt;
    However, the `camel.schema.version` property is defined too late (during the process-classes phase).&lt;/p&gt;

&lt;p&gt;    I re-sequenced those steps, and now the file `/META-INF/spring.schemas` is generated as below:&lt;br/&gt;
    `http\://camel.apache.org/schema/spring=camel-spring.xsd`&lt;br/&gt;
    `http\://camel.apache.org/schema/spring/v2.19=camel-spring-v2.19.xsd`&lt;/p&gt;

&lt;p&gt;    The fix needs at least maven 3.0.3, but I&apos;m sure build servers are more recent &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
    If you are ok with the fix, I would then check this issue in camel-blueprint and camel-spring-dm (unless deprecated).&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/aldettinger/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/aldettinger/camel&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1548.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1548.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1548&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 23545491c228997f52cfc482af17c5f48fa83348&lt;br/&gt;
Author: aldettinger &amp;lt;aldettinger@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-03-13T20:36:49Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11000&quot; title=&quot;Property &amp;#39;accessExternalDTD&amp;#39; is not recognized by (all) Xerces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11000&quot;&gt;&lt;del&gt;CAMEL-11000&lt;/del&gt;&lt;/a&gt;: Issued a simple warning rather than throwing an Exception&lt;/p&gt;

&lt;p&gt;commit 649e9cbbed41a6970bc9b5881b53f446531af4ff&lt;br/&gt;
Author: aldettinger &amp;lt;aldettinger@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-03-17T16:15:01Z&lt;/p&gt;

&lt;p&gt;    Merge remote-tracking branch &apos;upstream/master&apos;&lt;/p&gt;

&lt;p&gt;    Merging from upstream/master&lt;/p&gt;

&lt;p&gt;commit 1e7763d120e38322db17f9a5fbc4d3ff6b3ac183&lt;br/&gt;
Author: aldettinger &amp;lt;aldettinger@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-03-17T18:22:30Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-11009&quot; title=&quot;Camel spring - spring.schemas file contains unexpaned maven properties in release artefact&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-11009&quot;&gt;&lt;del&gt;CAMEL-11009&lt;/del&gt;&lt;/a&gt;: Set the camel.schema.version property earlier&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15931131" author="davsclaus" created="Sat, 18 Mar 2017 08:57:55 +0000"  >&lt;p&gt;Thanks for reporting.&lt;/p&gt;

&lt;p&gt;And also thanks for the PR&lt;/p&gt;</comment>
                            <comment id="15931745" author="githubbot" created="Sun, 19 Mar 2017 15:32:39 +0000"  >&lt;p&gt;Github user aldettinger closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1548&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1548&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3c81j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>