<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:15:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-9876] Error handling in splitter is broken with version 2.17.0</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-9876</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;With version 2.17.0 error handling is not triggering route specific error handler any more.&lt;/p&gt;

&lt;p&gt;I changed &lt;tt&gt;org.apache.camel.processor.SplitSubUnitOfWorkTest&lt;/tt&gt; and defined the global error handler as route specific and amended the global error handler:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-comment&quot;&gt;// START SNIPPET: e1
&lt;/span&gt;        errorHandler(deadLetterChannel(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:log&quot;&lt;/span&gt;).useOriginalMessage()
            .maximumRedeliveries(3).redeliveryDelay(0));

        from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;)
            .errorHandler(
                deadLetterChannel(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:dead&quot;&lt;/span&gt;).useOriginalMessage()
                    .maximumRedeliveries(3).redeliveryDelay(0)).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:a&quot;&lt;/span&gt;)
            .split(body().tokenize(&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;)).shareUnitOfWork().to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:b&quot;&lt;/span&gt;)
            .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:line&quot;&lt;/span&gt;).end().to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:result&quot;&lt;/span&gt;);

        from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:line&quot;&lt;/span&gt;).inheritErrorHandler(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;log:line&quot;&lt;/span&gt;)
            .process(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MyProcessor()).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:line&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-comment&quot;&gt;// END SNIPPET: e1
&lt;/span&gt;      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The expectation is, that this shouldn&apos;t change the test results. &lt;/p&gt;

&lt;p&gt;But &lt;tt&gt;testError&lt;/tt&gt; fails because &lt;tt&gt;mock:dead&lt;/tt&gt; is not triggered any more.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12959596">CAMEL-9876</key>
            <summary>Error handling in splitter is broken with version 2.17.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="OHolzma">Oliver Holzmann</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Apr 2016 09:41:27 +0000</created>
                <updated>Sun, 24 Apr 2016 15:44:13 +0000</updated>
                            <resolved>Sun, 24 Apr 2016 15:44:12 +0000</resolved>
                                    <version>2.17.0</version>
                                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15245375" author="oholzma" created="Mon, 18 Apr 2016 09:43:19 +0000"  >&lt;p&gt;Is this problem related to &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-9444&quot; title=&quot;Incorrect exceptions handling from Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-9444&quot;&gt;&lt;del&gt;CAMEL-9444&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="15245583" author="oholzma" created="Mon, 18 Apr 2016 12:33:16 +0000"  >&lt;p&gt;Also &lt;tt&gt;inheritErrorHandler(true)&lt;/tt&gt; on splitter doesn&apos;t solve the issue.&lt;/p&gt;</comment>
                            <comment id="15255626" author="davsclaus" created="Sun, 24 Apr 2016 15:44:12 +0000"  >&lt;p&gt;The direct:line route uses the global error handler. You need to either inlined the direct route in the splitter, or configure the direct route to not use error handler.&lt;/p&gt;

&lt;p&gt;Those other tests should ideally have configured the direct route to not use any error handler so its controller by the splitter.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:start&quot;&lt;/span&gt;)
                    .errorHandler(deadLetterChannel(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:dead&quot;&lt;/span&gt;).useOriginalMessage()
                        .maximumRedeliveries(3).redeliveryDelay(0))
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:a&quot;&lt;/span&gt;)
                    &lt;span class=&quot;code-comment&quot;&gt;// share unit of work in the splitter, which tells Camel to propagate failures from
&lt;/span&gt;                    &lt;span class=&quot;code-comment&quot;&gt;// processing the splitted messages back to the result of the splitter, which allows
&lt;/span&gt;                    &lt;span class=&quot;code-comment&quot;&gt;// it to act as a combined unit of work
&lt;/span&gt;                    .split(body().tokenize(&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;)).shareUnitOfWork()
                        .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:b&quot;&lt;/span&gt;)
                        .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:line&quot;&lt;/span&gt;)
                    .end()
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:result&quot;&lt;/span&gt;);

                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;direct:line&quot;&lt;/span&gt;).errorHandler(noErrorHandler())
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;log:line&quot;&lt;/span&gt;)
                    .process(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MyProcessor())
                    .to(&lt;span class=&quot;code-quote&quot;&gt;&quot;mock:line&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2w933:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>