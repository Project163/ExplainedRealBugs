<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:55:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-6035] interceptSendToEndpoint with a DelegateAsyncProcessor fails</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-6035</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;interceptSendToEndpoint with a DelegateAsyncProcessor fails.&lt;br/&gt;
The intercepted target processor don&apos;t implement the interave Service and therfore won&apos;t &apos;start&apos; the target services.&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.IllegalStateException: SendProcessor has not been started: sendTo(Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;log://foo&amp;#93;&lt;/span&gt;)&lt;br/&gt;
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:109)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
	at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:91)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:99)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:86)&lt;br/&gt;
	at AdviceWithTest$ContainerWideInterceptor$1.process(AdviceWithTest.java:94)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:99)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
	at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:334)&lt;br/&gt;
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:220)&lt;br/&gt;
	at org.apache.camel.processor.RouteContextProcessor.processNext(RouteContextProcessor.java:45)&lt;br/&gt;
	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:90)&lt;br/&gt;
	at org.apache.camel.processor.interceptor.DefaultChannel.process(DefaultChannel.java:303)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:117)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:80)&lt;br/&gt;
	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:99)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:60)&lt;br/&gt;
	at org.apache.camel.impl.InterceptSendToEndpoint$1.process(InterceptSendToEndpoint.java:132)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP&lt;br/&gt;
RAD 7.5.5.2&lt;br/&gt;
java version &quot;1.6.0&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build pwi3260sr8-20100409_01(SR8))&lt;br/&gt;
IBM J9 VM (build 2.4, JRE 1.6.0 IBM J9 2.4 Windows XP x86-32 jvmwi3260sr8-20100401_55940 (JIT enabled, AOT enabled)&lt;br/&gt;
J9VM - 20100401_055940&lt;br/&gt;
JIT  - r9_20100401_15339&lt;br/&gt;
GC   - 20100308_AA)&lt;br/&gt;
JCL  - 20100408_01&lt;/p&gt;</environment>
        <key id="12630619">CAMEL-6035</key>
            <summary>interceptSendToEndpoint with a DelegateAsyncProcessor fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="michael.wirth">Michael Wirth</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Feb 2013 08:52:27 +0000</created>
                <updated>Tue, 5 Feb 2013 08:14:42 +0000</updated>
                            <resolved>Tue, 5 Feb 2013 08:14:42 +0000</resolved>
                                    <version>2.10.3</version>
                                    <fixVersion>2.9.6</fixVersion>
                    <fixVersion>2.10.4</fixVersion>
                    <fixVersion>2.11.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13570432" author="davsclaus" created="Mon, 4 Feb 2013 17:41:01 +0000"  >&lt;p&gt;Yeah you would need to use WrapProcessor instead of Processor to ensure the target processor gets started as expected.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ContainerWideInterceptor &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; InterceptStrategy {

        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; Logger LOG = LoggerFactory.getLogger(ContainerWideInterceptor.class);
        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; count;

        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Processor wrapProcessorInInterceptors(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; CamelContext context, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ProcessorDefinition&amp;lt;?&amp;gt; definition,
                                                     &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Processor target, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Processor nextTarget) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {

            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DelegateAsyncProcessor(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; WrapProcessor(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Processor() {

                &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void process(Exchange exchange) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
                    &lt;span class=&quot;code-comment&quot;&gt;// we just count number of interceptions
&lt;/span&gt;                    count++;
                    LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;I am the container wide interceptor. Intercepted total count: &quot;&lt;/span&gt; + count);
                    nextTarget.process(exchange);
                }

                @Override
                &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toString() {
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;ContainerWideInterceptor[&quot;&lt;/span&gt; + target + &lt;span class=&quot;code-quote&quot;&gt;&quot;]&quot;&lt;/span&gt;;
                }
            }, target));
        }

        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getCount() {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; count;
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We may want to add some API to make this easier for end users.&lt;/p&gt;</comment>
                            <comment id="13571136" author="davsclaus" created="Tue, 5 Feb 2013 08:14:42 +0000"  >&lt;p&gt;Thanks for reporting.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12567821" name="AdviceWithTest.java" size="4138" author="michael.wirth" created="Mon, 4 Feb 2013 08:53:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311115</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1howv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311463</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>