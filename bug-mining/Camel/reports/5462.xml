<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:43:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-15665] OnException and StreamCaching</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-15665</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Hi everyone,&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;we are using the Camel-onException error handling and found that the exception-handling is sometimes not executed in case of error. When StreamCaching is enabled in the route and an error happens during TypeConversion, the exception handling is not executed but the process just fails. I attached a scenario to reproduce the problem to this mail (ExceptionHandling.java).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Best regards,&lt;br/&gt;
Manuel&lt;/p&gt;</description>
                <environment></environment>
        <key id="13334645">CAMEL-15665</key>
            <summary>OnException and StreamCaching</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="mash-sap">Manuel Shenavai</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Oct 2020 12:44:59 +0000</created>
                <updated>Tue, 27 Oct 2020 15:18:17 +0000</updated>
                            <resolved>Mon, 12 Oct 2020 06:41:39 +0000</resolved>
                                    <version>2.25.2</version>
                                    <fixVersion>3.6.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17210961" author="davsclaus" created="Fri, 9 Oct 2020 13:42:12 +0000"  >&lt;p&gt;I had a look, so before I forget, then we need to consider what the stream caching should behave when the onException path is being routed. As it would essentially attempt to convert again. So it may need to turn this off in case of first error. Or silently let subsequent failures be ignored. To allow the onException routing to continue.&lt;/p&gt;</comment>
                            <comment id="17221460" author="mash-sap" created="Tue, 27 Oct 2020 14:13:12 +0000"  >&lt;p&gt;Hi Claus,&lt;/p&gt;

&lt;p&gt;thanks for providing a fix. We need to consume this fix in our 2.x codeline. However, the fix contains 3.x coding:&lt;br/&gt;
exchange.adapt(ExtendedExchange.class).setRedeliveryExhausted(true);&lt;/p&gt;

&lt;p&gt;Is it planned to also fix the problem in the 2.x codeline?&lt;/p&gt;

&lt;p&gt;Thanks in advance &amp;amp;&lt;br/&gt;
Best regards,&lt;br/&gt;
Manuel&lt;/p&gt;</comment>
                            <comment id="17221462" author="ancosen" created="Tue, 27 Oct 2020 14:14:49 +0000"  >&lt;p&gt;No, it&apos;s not planned for 2.x.&lt;/p&gt;</comment>
                            <comment id="17221509" author="mash-sap" created="Tue, 27 Oct 2020 15:18:17 +0000"  >&lt;p&gt;Hi&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=acosentino&quot; class=&quot;user-hover&quot; rel=&quot;acosentino&quot;&gt;acosentino&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;thanks for your reply. Do you know if there is a equivalent of the 3.x code that we could use in our 2.x codeline?&lt;br/&gt;
(exchange.adapt(ExtendedExchange.class).setRedeliveryExhausted(true))&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Best regards,&lt;br/&gt;
Manuel&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13013313" name="sandbox.zip" size="4453" author="mash-sap" created="Fri, 9 Oct 2020 12:43:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0jkeo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>