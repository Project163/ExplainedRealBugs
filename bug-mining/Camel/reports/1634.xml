<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:46:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-4568] SLF4JLog does not work with JdbcDriver for Quickfix/J</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-4568</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I discovered that to use SLF4J log, JdbcDriver cannot be present in the Quickfix/J config file. Otherwise, the default LogFactory - ScreenLogFactory will be used. We need JdbcDriver setting as it is used for persisting FIX messages into database for FIX session management.&lt;/p&gt;

&lt;p&gt;After debugging the code, I found out that this could be fixed by swapping those two lines in QuickfixjEngine.java&lt;/p&gt;

&lt;p&gt;298: isJdbcLog(settings, impliedLogFactories);&lt;br/&gt;
299: isSL4JLog(settings, impliedLogFactories);&lt;/p&gt;

&lt;p&gt;Can we please have this fixed for the next release?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12528139">CAMEL-4568</key>
            <summary>SLF4JLog does not work with JdbcDriver for Quickfix/J</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="eliotc">Eliot Chen</reporter>
                        <labels>
                            <label>Quickfix</label>
                    </labels>
                <created>Fri, 21 Oct 2011 04:52:23 +0000</created>
                <updated>Tue, 25 Oct 2011 08:07:19 +0000</updated>
                            <resolved>Mon, 24 Oct 2011 13:57:24 +0000</resolved>
                                    <version>2.8.0</version>
                                    <fixVersion>2.8.3</fixVersion>
                    <fixVersion>2.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13132519" author="njiang" created="Fri, 21 Oct 2011 08:45:40 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I just checked the code, it looks like Quickfix doesn&apos;t supports to let you configure two logger at the same time.&lt;br/&gt;
Which means even you switch the code let the JdbcDriver work, you still can&apos;t get the SLF4jLog work for you at the same time.&lt;br/&gt;
How about you just update configuration instead of changing the code.&lt;/p&gt;</comment>
                            <comment id="13134079" author="njiang" created="Mon, 24 Oct 2011 13:57:24 +0000"  >&lt;p&gt;Now the jdbcLog will be set when there is a setting on the JdbcSetting.SETTING_LOG_EVENT_TABLE.&lt;br/&gt;
If there more than one logFactory is configured, the QuickfixjEngine will throw a configuration exception for it.&lt;/p&gt;</comment>
                            <comment id="13134638" author="eliotc" created="Mon, 24 Oct 2011 23:40:38 +0000"  >&lt;p&gt;Hi Willem,&lt;/p&gt;

&lt;p&gt;Thanks for looking into this.&lt;/p&gt;

&lt;p&gt;I don&apos;t think I have made our requirements clear.  What we need is being able to use SLF4JLog as the logFactory and at the same time use Jdbc as the MessageStoreFactory (we do NOT want to use jdbc logFactory).&lt;/p&gt;

&lt;p&gt;The code intends to, as you mentioned, allow configuration of ONE logFactory and ONE MessageStoreFactory (defines where messages are persisted for session management). That is actually in line with what we want. &lt;/p&gt;

&lt;p&gt;However, because both logFactory and MessageStoreFactory share the same settings - JdbcDriver, it assumes that we intend to use jdbc logFactory even though the intention was to use jdbc for MessageStore hence it skipped the SLF4J setting (refer to isSL4JLog() method).&lt;/p&gt;

&lt;p&gt;From what I observed, it does not throw an exception when more than one logFactoies are configured, it just skipped the logFactory setting once there is already one logFactory configured (see inferLogFactory() method).&lt;/p&gt;

&lt;p&gt;That is why I proposed to switch those two lines in the code &lt;/p&gt;

&lt;p&gt;298: isJdbcLog(settings, impliedLogFactories);&lt;br/&gt;
299: isSL4JLog(settings, impliedLogFactories);&lt;/p&gt;

&lt;p&gt;By switching those two lines, SL4J setting will be picked up as logFactory and jdbc setting will be ignored. However, jdbc setting will still be picked up as the MessageStoreFactory. Another solution is to have different jdbc setting for logFactory and MessageStoreFactory.&lt;/p&gt;</comment>
                            <comment id="13134772" author="njiang" created="Tue, 25 Oct 2011 06:08:48 +0000"  >&lt;p&gt;@Eliot&lt;/p&gt;

&lt;p&gt;I already update the code and you can configure ONE logFactory with SL4JLog or ScreenLog with ONE MessageStoreFactory with jdbcDriver by default.&lt;/p&gt;

&lt;p&gt;If you don&apos;t specify the JdbcSetting.SETTING_LOG_EVENT_TABLE,  QuickfixjEngine will not create a JdbcLogFactory for you.&lt;/p&gt;
</comment>
                            <comment id="13134778" author="eliotc" created="Tue, 25 Oct 2011 06:27:01 +0000"  >&lt;p&gt;@Willem&lt;/p&gt;

&lt;p&gt;Thanks for that! This fix will be in the next camel release, right?&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Eliot&lt;/p&gt;</comment>
                            <comment id="13134826" author="njiang" created="Tue, 25 Oct 2011 08:07:19 +0000"  >&lt;p&gt;Yes, it will be a part of camel-2.8.3 and camel-2.9.0.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12487860">CAMEL-3318</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97521</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i021qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9884</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>