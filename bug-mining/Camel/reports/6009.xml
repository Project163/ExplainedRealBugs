<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:51:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-17137] camel-karaf - Error while adding camel-cxf</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-17137</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Hello!&lt;/p&gt;

&lt;p&gt;In Karaf 4.3.2 while add camel-cxf an error occurs&lt;/p&gt;

&lt;p&gt;2021-10-27T11:59:22,050 | ERROR | Karaf local console user karaf | ShellUtil | 43 - org.apache.karaf.shell.core - 4.3.2 | Exception caught while executing command&lt;br/&gt;
org.apache.felix.resolver.reason.ReasonException: Unable to resolve root: missing requirement &lt;span class=&quot;error&quot;&gt;&amp;#91;root&amp;#93;&lt;/span&gt; osgi.identity; osgi.identity=camel-cxf; type=karaf.feature; version=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;3.11.3,3.11.3&amp;#93;&lt;/span&gt;&quot;; filter:=&quot;(&amp;amp;(osgi.identity=camel-cxf)(type=karaf.feature)(version&amp;gt;=3.11.3)(version&amp;lt;=3.11.3))&quot; [caused by: Unable to resolve camel-cxf/3.11.3: missing requirement &lt;span class=&quot;error&quot;&gt;&amp;#91;camel-cxf/3.11.3&amp;#93;&lt;/span&gt; osgi.identity; osgi.identity=cxf-core; type=karaf.feature; version=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;3.3.0,4.0.0)&amp;quot;&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.felix.resolver.Candidates$MissingRequirementError.toException(Candidates.java:1341) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.felix.resolver.ResolverImpl.doResolve(ResolverImpl.java:433) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.felix.resolver.ResolverImpl.resolve(ResolverImpl.java:420) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.felix.resolver.ResolverImpl.resolve(ResolverImpl.java:374) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.karaf.features.internal.region.SubsystemResolver.resolve(SubsystemResolver.java:257) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.karaf.features.internal.service.Deployer.deploy(Deployer.java:399) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.karaf.features.internal.service.FeaturesServiceImpl.doProvision(FeaturesServiceImpl.java:1069) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.karaf.features.internal.service.FeaturesServiceImpl.lambda$doProvisionInThread$13(FeaturesServiceImpl.java:1004) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at java.lang.Thread.run(Thread.java:834) &lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: org.apache.felix.resolver.reason.ReasonException: Unable to resolve camel-cxf/3.11.3: missing requirement &lt;span class=&quot;error&quot;&gt;&amp;#91;camel-cxf/3.11.3&amp;#93;&lt;/span&gt; osgi.identity; osgi.identity=cxf-core; type=karaf.feature; version=&quot;[3.3.0,4.0.0)&quot;&lt;br/&gt;
 at org.apache.felix.resolver.Candidates$MissingRequirementError.toException(Candidates.java:1341) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
 ... 12 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="13408645">CAMEL-17137</key>
            <summary>camel-karaf - Error while adding camel-cxf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vladk">Kiryanov Vlad</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Oct 2021 09:20:23 +0000</created>
                <updated>Fri, 18 Feb 2022 14:03:09 +0000</updated>
                            <resolved>Fri, 29 Oct 2021 11:46:37 +0000</resolved>
                                    <version>3.11.3</version>
                    <version>3.12.0</version>
                                    <fixVersion>3.11.6</fixVersion>
                    <fixVersion>3.14.1</fixVersion>
                    <fixVersion>3.15.0</fixVersion>
                                    <component>came-cxf</component>
                    <component>karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17434830" author="davsclaus" created="Wed, 27 Oct 2021 12:17:35 +0000"  >&lt;p&gt;You mean you do&lt;/p&gt;

&lt;p&gt;feature:install camel-cxf&lt;/p&gt;

&lt;p&gt;In a vanilla Karaf 4.3.2&lt;/p&gt;

&lt;p&gt;And then it fails with some kind of error?&lt;/p&gt;

&lt;p&gt;It seems to complain about CXF itself. You can try to install CXF first, and then camel-cxf afterwards&lt;/p&gt;</comment>
                            <comment id="17434845" author="vladk" created="Wed, 27 Oct 2021 12:48:45 +0000"  >&lt;p&gt;Yes.&lt;/p&gt;

&lt;p&gt;I do in karaf console:&lt;/p&gt;

&lt;p&gt;repo-add camel 3.11.3&lt;/p&gt;

&lt;p&gt;feature:install camel&lt;/p&gt;

&lt;p&gt;feature:install camel-cxf&lt;/p&gt;

&lt;p&gt;and get error&lt;/p&gt;

&lt;p&gt;I try add cxf and get error&lt;/p&gt;

&lt;p&gt;karaf@root()&amp;gt; feature:install cxf&lt;br/&gt;
Error executing command: No matching features for cxf/0&lt;/p&gt;

&lt;p&gt;I try to list all cxf components&lt;/p&gt;

&lt;p&gt;karaf@root()&amp;gt; feature:list | grep cxf&lt;br/&gt;
camel-cxf &#9474; 3.11.3 &#9474; &#9474; Uninstalled &#9474; camel-3.11.3 &#9474;&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;I try in camel 3.11.0 and get list cxf components&lt;/p&gt;

&lt;p&gt;karaf@root()&amp;gt; feature:list | grep cxf&lt;br/&gt;
...&lt;br/&gt;
...&lt;br/&gt;
cxf &#9474; 3.5.0.SNAPSHOT &#9474; &#9474; Uninstalled &#9474; cxf-3.5.0-SNAPSHOT&lt;br/&gt;
cxf-sts &#9474; 3.5.0.SNAPSHOT &#9474; &#9474; Uninstalled &#9474; cxf-3.5.0-SNAPSHOT&lt;br/&gt;
cxf-wsn-api &#9474; 3.5.0.SNAPSHOT &#9474; &#9474; Uninstalled &#9474; cxf-3.5.0-SNAPSHOT&lt;br/&gt;
cxf-wsn &#9474; 3.5.0.SNAPSHOT &#9474; &#9474; Uninstalled &#9474; cxf-3.5.0-SNAPSHOT&lt;br/&gt;
cxf-ws-discovery-api &#9474; 3.5.0.SNAPSHOT &#9474; &#9474; Uninstalled &#9474; cxf-3.5.0-SNAPSHOT&lt;br/&gt;
cxf-ws-discovery &#9474; 3.5.0.SNAPSHOT &#9474; &#9474; Uninstalled &#9474; cxf-3.5.0-SNAPSHOT&lt;br/&gt;
cxf-bean-validation-core &#9474; 3.5.0.SNAPSHOT &#9474; &#9474; Uninstalled &#9474; cxf-3.5.0-SNAPSHOT&lt;br/&gt;
cxf-bean-validation &#9474; 3.5.0.SNAPSHOT &#9474; &#9474; Uninstalled &#9474; cxf-3.5.0-SNAPSHOT&lt;br/&gt;
cxf-jaxrs-cdi &#9474; 3.5.0.SNAPSHOT &#9474; &#9474; Uninstalled &#9474; cxf-3.5.0-SNAPSHOT&lt;br/&gt;
camel-cxf &#9474; 3.11.0 &#9474; x &#9474; Started &#9474; camel-3.11.0&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17435934" author="davsclaus" created="Fri, 29 Oct 2021 11:38:02 +0000"  >&lt;p&gt;Reproduced this with&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
karaf@root()&amp;gt; feature:repo-add camel 3.11.3
Adding feature url mvn:org.apache.camel.karaf/apache-camel/3.11.3/xml/features
karaf@root()&amp;gt; feature:install camel
karaf@root()&amp;gt; feature:install camel-cxf
org.apache.felix.resolver.reason.ReasonException: Unable to resolve root: missing requirement [root] osgi.identity; osgi.identity=camel-cxf; type=karaf.feature; version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.11.3,3.11.3]&quot;&lt;/span&gt;; filter:=&lt;span class=&quot;code-quote&quot;&gt;&quot;(&amp;amp;(osgi.identity=camel-cxf)(type=karaf.feature)(version&amp;gt;=3.11.3)(version&amp;lt;=3.11.3))&quot;&lt;/span&gt; [caused by: Unable to resolve camel-cxf/3.11.3: missing requirement [camel-cxf/3.11.3] osgi.identity; osgi.identity=cxf-core; type=karaf.feature; version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3.0,4.0.0)&quot;&lt;/span&gt;]
	at org.apache.felix.resolver.Candidates$MissingRequirementError.toException(Candidates.java:1341)
	at org.apache.felix.resolver.ResolverImpl.doResolve(ResolverImpl.java:433)
	at org.apache.felix.resolver.ResolverImpl.resolve(ResolverImpl.java:420)
	at org.apache.felix.resolver.ResolverImpl.resolve(ResolverImpl.java:374)
	at org.apache.karaf.features.internal.region.SubsystemResolver.resolve(SubsystemResolver.java:257)
	at org.apache.karaf.features.internal.service.Deployer.deploy(Deployer.java:399)
	at org.apache.karaf.features.internal.service.FeaturesServiceImpl.doProvision(FeaturesServiceImpl.java:1069)
	at org.apache.karaf.features.internal.service.FeaturesServiceImpl.lambda$doProvisionInThread$13(FeaturesServiceImpl.java:1004)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)
Caused by: org.apache.felix.resolver.reason.ReasonException: Unable to resolve camel-cxf/3.11.3: missing requirement [camel-cxf/3.11.3] osgi.identity; osgi.identity=cxf-core; type=karaf.feature; version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3.0,4.0.0)&quot;&lt;/span&gt;
	at org.apache.felix.resolver.Candidates$MissingRequirementError.toException(Candidates.java:1341)
	... 12 more
Error executing command: Unable to resolve root: missing requirement [root] osgi.identity; osgi.identity=camel-cxf; type=karaf.feature; version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.11.3,3.11.3]&quot;&lt;/span&gt;; filter:=&lt;span class=&quot;code-quote&quot;&gt;&quot;(&amp;amp;(osgi.identity=camel-cxf)(type=karaf.feature)(version&amp;gt;=3.11.3)(version&amp;lt;=3.11.3))&quot;&lt;/span&gt; [caused by: Unable to resolve camel-cxf/3.11.3: missing requirement [camel-cxf/3.11.3] osgi.identity; osgi.identity=cxf-core; type=karaf.feature; version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3.0,4.0.0)&quot;&lt;/span&gt;]
karaf@root()&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17435937" author="davsclaus" created="Fri, 29 Oct 2021 11:40:45 +0000"  >&lt;p&gt;Its like this commit causing this&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/camel-karaf/commit/ed4ba2a967c67a073786390b837e7fabb6bb1ad0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel-karaf/commit/ed4ba2a967c67a073786390b837e7fabb6bb1ad0&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17435939" author="davsclaus" created="Fri, 29 Oct 2021 11:40:55 +0000"  >&lt;p&gt;It also fails with 3.12.0&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
karaf@root()&amp;gt; feature:repo-add camel 3.12.0
Adding feature url mvn:org.apache.camel.karaf/apache-camel/3.12.0/xml/features
karaf@root()&amp;gt; feature:install camel
karaf@root()&amp;gt; feature:install camel-cxf
org.apache.felix.resolver.reason.ReasonException: Unable to resolve root: missing requirement [root] osgi.identity; osgi.identity=camel-cxf; type=karaf.feature; version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.12.0,3.12.0]&quot;&lt;/span&gt;; filter:=&lt;span class=&quot;code-quote&quot;&gt;&quot;(&amp;amp;(osgi.identity=camel-cxf)(type=karaf.feature)(version&amp;gt;=3.12.0)(version&amp;lt;=3.12.0))&quot;&lt;/span&gt; [caused by: Unable to resolve camel-cxf/3.12.0: missing requirement [camel-cxf/3.12.0] osgi.identity; osgi.identity=cxf-core; type=karaf.feature; version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3.0,4.0.0)&quot;&lt;/span&gt;]
	at org.apache.felix.resolver.Candidates$MissingRequirementError.toException(Candidates.java:1341)
	at org.apache.felix.resolver.ResolverImpl.doResolve(ResolverImpl.java:433)
	at org.apache.felix.resolver.ResolverImpl.resolve(ResolverImpl.java:420)
	at org.apache.felix.resolver.ResolverImpl.resolve(ResolverImpl.java:374)
	at org.apache.karaf.features.internal.region.SubsystemResolver.resolve(SubsystemResolver.java:257)
	at org.apache.karaf.features.internal.service.Deployer.deploy(Deployer.java:399)
	at org.apache.karaf.features.internal.service.FeaturesServiceImpl.doProvision(FeaturesServiceImpl.java:1069)
	at org.apache.karaf.features.internal.service.FeaturesServiceImpl.lambda$doProvisionInThread$13(FeaturesServiceImpl.java:1004)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:834)
Caused by: org.apache.felix.resolver.reason.ReasonException: Unable to resolve camel-cxf/3.12.0: missing requirement [camel-cxf/3.12.0] osgi.identity; osgi.identity=cxf-core; type=karaf.feature; version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3.0,4.0.0)&quot;&lt;/span&gt;
	at org.apache.felix.resolver.Candidates$MissingRequirementError.toException(Candidates.java:1341)
	... 12 more
Error executing command: Unable to resolve root: missing requirement [root] osgi.identity; osgi.identity=camel-cxf; type=karaf.feature; version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.12.0,3.12.0]&quot;&lt;/span&gt;; filter:=&lt;span class=&quot;code-quote&quot;&gt;&quot;(&amp;amp;(osgi.identity=camel-cxf)(type=karaf.feature)(version&amp;gt;=3.12.0)(version&amp;lt;=3.12.0))&quot;&lt;/span&gt; [caused by: Unable to resolve camel-cxf/3.12.0: missing requirement [camel-cxf/3.12.0] osgi.identity; osgi.identity=cxf-core; type=karaf.feature; version=&lt;span class=&quot;code-quote&quot;&gt;&quot;[3.3.0,4.0.0)&quot;&lt;/span&gt;]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17435943" author="davsclaus" created="Fri, 29 Oct 2021 11:44:59 +0000"  >&lt;p&gt;Yes reverting that commit and then it works again&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
karaf@root()&amp;gt; feature:repo-add camel 3.13.0-SNAPSHOT
Adding feature url mvn:org.apache.camel.karaf/apache-camel/3.13.0-SNAPSHOT/xml/features
karaf@root()&amp;gt; feature:install camel
karaf@root()&amp;gt; feature:install camel-cxf
karaf@root()&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17474281" author="vjk001" created="Wed, 12 Jan 2022 06:49:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt; It appears that using the exact steps above again reproduces the CXF issue, at least in 3.11.4. The CXF feature is resolved from a range mvn:org.apache.cxf.karaf/apache-cxf/[3,4)/xml/features and due to how the range is resolved (snapshot pre-release versions of the upper limit are included in the range), it now points to 4.0.0.SNAPSHOT which doesn&apos;t work instead of 3.5.0.SNAPSHOT which works.&lt;/p&gt;

&lt;p&gt;Do we really want to use any upstream CXF version within the range instead of specifying the Camel-compatible version explicitly? If so, the upper range limit issue remains.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17474290" author="davsclaus" created="Wed, 12 Jan 2022 07:01:15 +0000"  >&lt;p&gt;That is a karaf bug/issue if it include a 4.x when the bound is set as [3,4) which should mean anything with 3.x.&lt;/p&gt;

&lt;p&gt;But yeah the bound should be the version we build with, eg 3.4.x or 3.5.x like anything else.&lt;/p&gt;</comment>
                            <comment id="17474307" author="vjk001" created="Wed, 12 Jan 2022 07:15:36 +0000"  >&lt;p&gt;The range resolve logic comes directly from Maven: &lt;a href=&quot;https://michakutz.medium.com/legit-but-useless-maven-version-ranges-explained-d4ba66ac654&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://michakutz.medium.com/legit-but-useless-maven-version-ranges-explained-d4ba66ac654&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17474358" author="davsclaus" created="Wed, 12 Jan 2022 08:25:04 +0000"  >&lt;p&gt;You can install the CXF version you want to use first - there are cxf features for karaf.&lt;/p&gt;

&lt;p&gt;For Camel 3.15 onwards we will set the camel version range more strict in the camel-cxf bundle&lt;/p&gt;</comment>
                            <comment id="17475387" author="raminxp@hotmail.com" created="Thu, 13 Jan 2022 14:06:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt; After the above revert, it is now failing for us in our custom karaf distribution (camel 3.11.5):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[WARNING] Error resolving artifact org.apache.cxf.karaf:apache-cxf:xml:features:4.0.0-SNAPSHOT: [Could not find artifact org.apache.cxf.karaf:apache-cxf:xml:features:4.0.0-SNAPSHOT in central (https://repo1.maven.org/maven2/), Could not find artifact org.apache.cxf.karaf:apache-cxf:xml:features:4.0.0-SNAPSHOT in jboss public maven repo (https://repository.jboss.org/nexus/content/groups/public-jboss/), Could not find artifact org.apache.cxf.karaf:apache-cxf:xml:features:4.0.0-SNAPSHOT in jboss-ea-repository-group (https://repository.jboss.org/nexus/content/groups/ea/)]
java.io.IOException: Error resolving artifact org.apache.cxf.karaf:apache-cxf:xml:features:4.0.0-SNAPSHOT: [Could not find artifact org.apache.cxf.karaf:apache-cxf:xml:features:4.0.0-SNAPSHOT in central (https://repo1.maven.org/maven2/), Could not find artifact org.apache.cxf.karaf:apache-cxf:xml:features:4.0.0-SNAPSHOT in jboss public maven repo (https://repository.jboss.org/nexus/content/groups/public-jboss/), Could not find artifact org.apache.cxf.karaf:apache-cxf:xml:features:4.0.0-SNAPSHOT in jboss-ea-repository-group (https://repository.jboss.org/nexus/content/groups/ea/)]
&#160; &#160; at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.configureIOException (AetherBasedResolver.java:803)
&#160; &#160; at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.resolve (AetherBasedResolver.java:774)
&#160; &#160; at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.resolve (AetherBasedResolver.java:657)
&#160; &#160; at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.resolve (AetherBasedResolver.java:598)
&#160; &#160; at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.resolve (AetherBasedResolver.java:565)
&#160; &#160; at org.apache.karaf.tooling.utils.ReactorMavenResolver.resolve (ReactorMavenResolver.java:63)
&#160; &#160; at org.apache.karaf.features.internal.download.impl.MavenDownloadTask.download (MavenDownloadTask.java:52)
&#160; &#160; at org.apache.karaf.features.internal.download.impl.AbstractRetryableDownloadTask.run (AbstractRetryableDownloadTask.java:60)
&#160; &#160; at java.util.concurrent.Executors$RunnableAdapter.call (Executors.java:511)
&#160; &#160; at java.util.concurrent.FutureTask.run (FutureTask.java:266)
&#160; &#160; at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201 (ScheduledThreadPoolExecutor.java:180)
&#160; &#160; at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run (ScheduledThreadPoolExecutor.java:293)
&#160; &#160; at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1149)
&#160; &#160; at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:624)
&#160; &#160; at java.lang.Thread.run (Thread.java:748)
Caused by: shaded.org.eclipse.aether.resolution.ArtifactResolutionException: Error resolving artifact org.apache.cxf.karaf:apache-cxf:xml:features:4.0.0-SNAPSHOT
&#160; &#160; at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve (DefaultArtifactResolver.java:413)
&#160; &#160; at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts (DefaultArtifactResolver.java:215)
&#160; &#160; at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifact (DefaultArtifactResolver.java:192)
&#160; &#160; at shaded.org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveArtifact (DefaultRepositorySystem.java:247)
&#160; &#160; at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.resolve (AetherBasedResolver.java:767)
&#160; &#160; at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.resolve (AetherBasedResolver.java:657)
&#160; &#160; at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.resolve (AetherBasedResolver.java:598)
&#160; &#160; at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.resolve (AetherBasedResolver.java:565)
&#160; &#160; at org.apache.karaf.tooling.utils.ReactorMavenResolver.resolve (ReactorMavenResolver.java:63)
&#160; &#160; at org.apache.karaf.features.internal.download.impl.MavenDownloadTask.download (MavenDownloadTask.java:52)
&#160; &#160; at org.apache.karaf.features.internal.download.impl.AbstractRetryableDownloadTask.run (AbstractRetryableDownloadTask.java:60)
&#160; &#160; at java.util.concurrent.Executors$RunnableAdapter.call (Executors.java:511)
&#160; &#160; at java.util.concurrent.FutureTask.run (FutureTask.java:266)
&#160; &#160; at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201 (ScheduledThreadPoolExecutor.java:180)
&#160; &#160; at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run (ScheduledThreadPoolExecutor.java:293)
&#160; &#160; at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1149)
&#160; &#160; at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:624)
&#160; &#160; at java.lang.Thread.run (Thread.java:748)
[WARNING] Matched URI can&apos;t use version ranges: mvn:org.apache.cxf.karaf/apache-cxf/[3,4)/xml/features&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It was initially us who asked for the now reverted commit. (spoken to @ Jean-Baptiste Onofr&#233;)&lt;/p&gt;</comment>
                            <comment id="17475449" author="davsclaus" created="Thu, 13 Jan 2022 15:23:32 +0000"  >&lt;p&gt;It smells like you have repo to download from apache snapshot or something since maven can find 4.0.0-SNAPSHOT&lt;/p&gt;</comment>
                            <comment id="17475463" author="davsclaus" created="Thu, 13 Jan 2022 15:42:25 +0000"  >&lt;p&gt;The 4.0.0-SNAPSHOT is at apache snapshot repo&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/cxf/cxf-rt-features/4.0.0-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/cxf/cxf-rt-features/4.0.0-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So remove this repo from your karaf distro&lt;/p&gt;</comment>
                            <comment id="17475476" author="raminxp@hotmail.com" created="Thu, 13 Jan 2022 15:58:18 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;, that was exactly it. Removed the apache repository and it&apos;s working now. I think this will solve &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vjk001&quot; class=&quot;user-hover&quot; rel=&quot;vjk001&quot;&gt;vjk001&lt;/a&gt;&apos;s issue too&lt;/p&gt;</comment>
                            <comment id="17475486" author="davsclaus" created="Thu, 13 Jan 2022 16:02:04 +0000"  >&lt;p&gt;We are backporting the strict version range to 3.11 LTS and 3.14 LTS branches.&lt;/p&gt;</comment>
                            <comment id="17475515" author="davsclaus" created="Thu, 13 Jan 2022 16:26:32 +0000"  >&lt;p&gt;3.11 LTS &lt;b&gt;DONE&lt;/b&gt;&lt;br/&gt;
3.14 LTS &lt;b&gt;DONE&lt;/b&gt;&lt;/p&gt;</comment>
                            <comment id="17494598" author="rastislav.papp" created="Fri, 18 Feb 2022 13:18:09 +0000"  >&lt;p&gt;This works when installing manually, but not when creating custom karaf-assembly (based on 4.3.6, via maven plugin). We create one with boot features from camel/3.14.1 and cxf/3.4.5, but karaf fails with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.felix.resolver.reason.ReasonException: Unable to resolve com.sun.xml.messaging.saaj.impl/1.5.2: missing requirement [com.sun.xml.messaging.saaj.impl/1.5.2] osgi.wiring.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;; filter:=&lt;span class=&quot;code-quote&quot;&gt;&quot;(&amp;amp;(osgi.wiring.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;=org.jvnet.staxex)(version&amp;gt;=1.8.0)(!(version&amp;gt;=2.0.0)))&quot;&lt;/span&gt;
	at org.apache.felix.resolver.Candidates$MissingRequirementError.toException(Candidates.java:1341) ~[?:?]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is because camel-cxf 3.14.1 depends on a cxf feature using range &lt;span class=&quot;error&quot;&gt;&amp;#91;3.4,3.4&amp;#93;&lt;/span&gt;, and somehow karaf tries to install it during boot stage, even though we define our own cxf repository+feature versions. It ends up installing cxf version 3.4.0. &lt;/p&gt;

&lt;p&gt;In the past we could blacklist camel&apos;s cxf feature in karaf, but now that it is defined via range, the blacklisting stopped working:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2022-02-18T13:57:35,135 | WARN  | activator-1-thread-2 |  | org.apache.karaf.features.core - 4.3.6 | LocationPattern                  |  | Matched URI can&apos;t use version ranges: mvn:org.apache.cxf.karaf/apache-cxf/[3.4,3.4]/xml/features
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (other.versionRange != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Matched URI can&apos;t use version ranges: &quot;&lt;/span&gt; + otherUri);
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Only solution for us is to create custom camel feature, by copying the real one, and deleting the cxf repository dependency.&lt;/p&gt;

&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbonofre&quot; class=&quot;user-hover&quot; rel=&quot;jbonofre&quot;&gt;jbonofre&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;furthermore, I&apos;m not sure about the version range itself, does &lt;span class=&quot;error&quot;&gt;&amp;#91;3.4, 3.4&amp;#93;&lt;/span&gt; mean the same as [3.4, 3.5)? Because after creating the custom feature, it seems that camel-cxf-transport bundle requires cxf-core/3.4.0 exactly, and fails when having cxf-core/3.4.5:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: org.apache.felix.resolver.reason.ReasonException: Unable to resolve org.apache.camel.camel-cxf-transport/3.14.1: missing requirement [org.apache.camel.camel-cxf-transport/3.14.1] osgi.wiring.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;; filter:=&lt;span class=&quot;code-quote&quot;&gt;&quot;(&amp;amp;(osgi.wiring.&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;=org.apache.cxf)(version&amp;gt;=3.4.0)(version&amp;lt;=3.4.0))&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13394147">CAMEL-16855</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13035399" name="karaf.log" size="77268" author="vladk" created="Wed, 27 Oct 2021 09:19:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 38 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0w7aw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>