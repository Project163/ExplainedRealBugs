<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:46:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-4480] RuntimeCamelException &quot;Ambiguous Parameter Mapping&quot; must not be thrown, if there are parameters of the same type but with different QNames in ServiceInterfaceStrategy</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-4480</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;In different WebMethods I have parameters of the same type, but with different QNames. The following if-clause (in ServiceInterfaceStrategy.analyzeServiceInterface(..)) throws an exeption in these cases (thrown if NOT QNameOfMethod1 equals QNameOfMethod2), but it should on the contrary throw an exception if the QNames ARE equal:&lt;/p&gt;

&lt;p&gt;                if (inTypeNameToQName.containsKey(ti.getTypeName())&lt;br/&gt;
                    &amp;amp;&amp;amp; (!(ti.getTypeName().equals(&quot;javax.xml.ws.Holder&quot;)))&lt;br/&gt;
                    &amp;amp;&amp;amp; (!(inTypeNameToQName.get(ti.getTypeName()).equals(ti.getElName())))) &lt;/p&gt;
{
                    throw new RuntimeCamelException(&quot;Ambiguous parameter mapping. The type [ &quot;
                                                    + ti.getTypeName()
                                                    + &quot; ] is already mapped to a QName in this context.&quot;);
                }

&lt;p&gt;The &quot;NOT&quot; must be deleted:&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
&amp;amp;&amp;amp; (inTypeNameToQName.get(ti.getTypeName()).equals(ti.getElName())))&lt;br/&gt;
...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12524405">CAMEL-4480</key>
            <summary>RuntimeCamelException &quot;Ambiguous Parameter Mapping&quot; must not be thrown, if there are parameters of the same type but with different QNames in ServiceInterfaceStrategy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="ojelinski">Oliver Jelinski</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Sep 2011 11:58:05 +0000</created>
                <updated>Wed, 26 Oct 2011 17:02:18 +0000</updated>
                            <resolved>Sat, 8 Oct 2011 11:54:54 +0000</resolved>
                                    <version>2.8.1</version>
                                    <fixVersion>2.8.2</fixVersion>
                    <fixVersion>2.9.0</fixVersion>
                                    <component>camel-soap</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13118706" author="davsclaus" created="Sat, 1 Oct 2011 08:25:11 +0000"  >&lt;p&gt;Can you attach an unit test that reproduces the issue?&lt;/p&gt;</comment>
                            <comment id="13119922" author="rnewcomb" created="Tue, 4 Oct 2011 06:49:34 +0000"  >&lt;p&gt;The attached patch expands the multi-part unit test suite to demonstrates the behavior described in this issue.  &lt;/p&gt;

&lt;p&gt;The patch also provides a potential fix for the issue. &lt;/p&gt;

&lt;p&gt;Note that the solution recommended in the original issue description will not work. That solution would cause parameters that are reused across multiple web methods to be rejected with an error.   &lt;/p&gt;

&lt;p&gt;An alternative solution (as implemented in the patch) is as follows:&lt;/p&gt;

&lt;p&gt;1. Change the behavior of the ServiceInterfaceStrategy to log a WARN message in the case where a new QName mapping would override an existing  mapping.  The new mapping will be ignored after the warning. &lt;/p&gt;

&lt;p&gt;2. Move the QName + dataType uniqueness enforcement to the @WebMethod level&lt;/p&gt;

&lt;p&gt;The warning is an appropriate alternative to the current error. The ServiceInterfaceStrategy.findQNameForSoapActionOrType(&#8230;) operation &lt;em&gt;could&lt;/em&gt; return an unexpected value when a dataType is reused within the interface with a different QName; however, this risk is fully mitigated when calling findQNameForSoapActionOrType(&#8230;) with a valid soapAction that uniquely identifies the target @WebMethod on the service. At that point the MethodInfo class is queried for the type-to-QName mapping for the method, and the results will be as expected.&lt;/p&gt;</comment>
                            <comment id="13119924" author="rnewcomb" created="Tue, 4 Oct 2011 06:54:00 +0000"  >&lt;p&gt;Willem: would you mind having a look at this patch, since you committed the original multi-part enhancement?&lt;/p&gt;</comment>
                            <comment id="13123440" author="njiang" created="Sat, 8 Oct 2011 11:53:36 +0000"  >&lt;p&gt;Applied patch with thanks to Rich.&lt;br/&gt;
I also merged the patch into camel 2.8.x branch.&lt;/p&gt;</comment>
                            <comment id="13136114" author="ojelinski" created="Wed, 26 Oct 2011 17:02:18 +0000"  >&lt;p&gt;works for me. Thank you very much.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12497593" name="camel-4480-trunk.patch" size="11993" author="rnewcomb" created="Tue, 4 Oct 2011 06:49:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0216v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9794</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>