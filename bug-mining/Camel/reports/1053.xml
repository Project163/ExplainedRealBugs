<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:38:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-2811] CamelContexts seems to not correctly create their own instance of an imported routeContext.</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-2811</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Issue: &lt;a href=&quot;http://old.nabble.com/Direct-route-not-shared-across-contexts--td28766143.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://old.nabble.com/Direct-route-not-shared-across-contexts--td28766143.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When two CamelContexts import the same routeContext they should instantiate their own route based on the definition in the routeContext. But something is not working correctly. One example is having a directqueue of the same name in each route-instance. Camel crashed with the exception:&lt;/p&gt;

&lt;p&gt;org.apache.camel.RuntimeCamelException: java.lang.IllegalStateException: Endpoint direct://foo only allows 1 active consumer but you attempted to start a 2nd consumer.&lt;br/&gt;
	at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1126)&lt;br/&gt;
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:103) ...&lt;/p&gt;

&lt;p&gt;This is demonstrated in the sample file attached to this issue.&lt;/p&gt;

&lt;p&gt;Obviously this makes other things than the direct-endpoints malfunction. But this should be enough to show the problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12486705">CAMEL-2811</key>
            <summary>CamelContexts seems to not correctly create their own instance of an imported routeContext.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="ankelee">Andreas Asmuss</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Jun 2010 15:28:54 +0000</created>
                <updated>Sun, 24 Apr 2011 10:01:44 +0000</updated>
                            <resolved>Tue, 15 Jun 2010 11:50:06 +0000</resolved>
                                    <version>2.3.0</version>
                                    <fixVersion>2.4.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12956017" author="ankelee" created="Mon, 14 Jun 2010 15:29:43 +0000"  >&lt;p&gt;Sample case showing the error.&lt;/p&gt;</comment>
                            <comment id="12955978" author="njiang" created="Tue, 15 Jun 2010 11:48:33 +0000"  >&lt;p&gt;This issue is caused by the FromDefinition and SendDefinition remember the endpoint that they resolved from the uri within the first camel context.&lt;br/&gt;
I just committed a patch to let these two Definition don&apos;t remember the endpoint, in this way we can make route definitions independent with the camel context.&lt;/p&gt;</comment>
                            <comment id="12955979" author="njiang" created="Tue, 15 Jun 2010 11:49:12 +0000"  >&lt;p&gt;@Andreas&lt;br/&gt;
Please check out the latest camel trunk and verify the fix &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12955994" author="ankelee" created="Tue, 15 Jun 2010 14:21:32 +0000"  >&lt;p&gt;Hi Willem&lt;/p&gt;

&lt;p&gt;I tried getting the camel-core jar but I get some XML exceptions. I suppose some dependencies has changed.&lt;/p&gt;</comment>
                            <comment id="12955931" author="njiang" created="Wed, 16 Jun 2010 08:17:33 +0000"  >&lt;p&gt;Yes, you need to build the camel trunk from scratch. &lt;/p&gt;</comment>
                            <comment id="13024603" author="davsclaus" created="Sun, 24 Apr 2011 10:01:44 +0000"  >&lt;p&gt;Closing all resolved tickets from 2010 or older&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12463282" name="RouteContextInstanceError.zip" size="2055" author="ankelee" created="Mon, 14 Jun 2010 15:29:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76421</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01qvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>