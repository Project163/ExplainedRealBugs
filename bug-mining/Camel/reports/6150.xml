<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:54:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-18119] Regression in 3.4 in date formatting of Simple expression</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-18119</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;We use Joda time and we have custom Joda&amp;lt;&amp;gt;Java converters. For instance, you can convert Joda&apos;s &lt;tt&gt;ReadableInstant&lt;/tt&gt; into Java&apos;s &lt;tt&gt;Date&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Since &lt;a href=&quot;https://github.com/apache/camel/commit/46f4c43315219dba429c0612bbff5b05ef2ec0ac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this commit&lt;/a&gt; from &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-15114&quot; title=&quot;Simple language - Date function should make it easy to output the exchange created timestamp&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-15114&quot;&gt;&lt;del&gt;CAMEL-15114&lt;/del&gt;&lt;/a&gt;, Simple expressions can no longer convert header object to a &lt;tt&gt;Date&lt;/tt&gt; object, they can only handle &lt;tt&gt;Date&lt;/tt&gt; and &lt;tt&gt;Long&lt;/tt&gt; types.&lt;/p&gt;

&lt;p&gt;I can provide a pull request but I see 2 ways of solving it and I don&apos;t know which one you prefer:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;revert to &lt;tt&gt;exchange.getIn().getHeader(key, Date.class)&lt;/tt&gt; because there&apos;s a &lt;tt&gt;DateTimeConverter.toDate(Long value)&lt;/tt&gt; converter if you have a &lt;tt&gt;Long&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;keep the check on &lt;tt&gt;Date&lt;/tt&gt; and &lt;tt&gt;Long&lt;/tt&gt; types and then try to convert to &lt;tt&gt;Date&lt;/tt&gt; and then fail if it cannot be converted&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Thank you&lt;/p&gt;</description>
                <environment></environment>
        <key id="13445413">CAMEL-18119</key>
            <summary>Regression in 3.4 in date formatting of Simple expression</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="antoine.dessaigne">Antoine DESSAIGNE</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 May 2022 11:56:16 +0000</created>
                <updated>Wed, 18 May 2022 07:23:49 +0000</updated>
                            <resolved>Tue, 17 May 2022 19:38:05 +0000</resolved>
                                    <version>3.4.0</version>
                                    <fixVersion>3.14.4</fixVersion>
                    <fixVersion>3.18.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17538142" author="davsclaus" created="Tue, 17 May 2022 12:06:16 +0000"  >&lt;p&gt;No 2&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12fvs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Regression</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10091"><![CDATA[Regression]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>