<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:05:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-20724] camel-saxon: xquery fluent API does not work with namespaces (regression)</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-20724</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;This is a regression starting from 4.4.0&lt;/p&gt;

&lt;p&gt;Reproducer:&lt;br/&gt;
&lt;a href=&quot;https://github.com/DenisIstomin/camel-xquery-ns-bug&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/DenisIstomin/camel-xquery-ns-bug&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Does not work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Namespaces ns = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Namespaces(&lt;span class=&quot;code-quote&quot;&gt;&quot;soap&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//schemas.xmlsoap.org/soap/envelope/&quot;&lt;/span&gt;);
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; strExpression = &lt;span class=&quot;code-quote&quot;&gt;&quot;exists(/soap:Envelope/soap:Header)&quot;&lt;/span&gt;;

expression().xquery().expression(strExpression).resultType(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class).namespaces(ns).end();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Throws exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
net.sf.saxon.trans.XPathException: Namespace prefix &lt;span class=&quot;code-quote&quot;&gt;&apos;soap&apos;&lt;/span&gt; has not been declared
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Workaround is to use XQueryBuilder:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
XQueryBuilder xqueryBuilder = xquery(strExpression).resultType(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class);
xqueryBuilder.setNamespaces(ns.getNamespaces());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13577584">CAMEL-20724</key>
            <summary>camel-saxon: xquery fluent API does not work with namespaces (regression)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="DenisIstomin">Denis Istomin</assignee>
                                    <reporter username="DenisIstomin">Denis Istomin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Apr 2024 13:49:10 +0000</created>
                <updated>Wed, 1 May 2024 04:12:43 +0000</updated>
                            <resolved>Wed, 1 May 2024 04:12:43 +0000</resolved>
                                    <version>4.4.0</version>
                    <version>4.4.1</version>
                    <version>4.4.2</version>
                    <version>4.5.0</version>
                                    <fixVersion>4.4.3</fixVersion>
                    <fixVersion>4.6.0</fixVersion>
                                    <component>camel-saxon</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17842021" author="davsclaus" created="Mon, 29 Apr 2024 15:05:10 +0000"  >&lt;p&gt;Can you maybe build an unit test in camel-saxon that reproduces this and send as PR or attach as file to this JIRA&lt;/p&gt;</comment>
                            <comment id="17842482" author="denisistomin" created="Tue, 30 Apr 2024 18:53:32 +0000"  >&lt;p&gt;Made a PR with unit-test and a fix itself&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1oxmg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>