<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:01:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-19486] The $repos placeholder used by Camel JBang is not resolved</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-19486</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;in the attached picture you can see I tried to set one repository as global and then run command with another repository which should mean to have both used&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;the global config list&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#187; camel config list                                                                                                                                                                                                                                                                                                       
repos = https:&lt;span class=&quot;code-comment&quot;&gt;//packages.atlassian.com/maven-external &lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;when I execute eg camel jbang run, in the log there is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
--repos=,https&lt;span class=&quot;code-comment&quot;&gt;//....&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which indicates that &quot;$repos&quot; placeholder is empty probably...&lt;/p&gt;</description>
                <environment></environment>
        <key id="13540997">CAMEL-19486</key>
            <summary>The $repos placeholder used by Camel JBang is not resolved</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="djelinek">Dominik Jelinek</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jun 2023 08:39:59 +0000</created>
                <updated>Wed, 5 Jul 2023 10:44:19 +0000</updated>
                            <resolved>Thu, 22 Jun 2023 09:17:30 +0000</resolved>
                                    <version>3.20.5</version>
                    <version>3.20.6</version>
                                    <fixVersion>3.20.7</fixVersion>
                    <fixVersion>3.21.0</fixVersion>
                    <fixVersion>4.0-RC1</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>camel-jbang</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17736037" author="davsclaus" created="Thu, 22 Jun 2023 09:17:30 +0000"  >&lt;p&gt;You need to use #name syntax in newer versions&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
~/workspace/deleteme &#10095; camel run foo.java  --repos=#repos,http:&lt;span class=&quot;code-comment&quot;&gt;//maven.repository.redhat.com/ga                                                            &#10008; INT 6s
&lt;/span&gt;Running integration with the following configuration:
    --repos=https:&lt;span class=&quot;code-comment&quot;&gt;//packages.atlassian.com/maven-external,http://maven.repository.redhat.com/ga
&lt;/span&gt;2023-06-22 11:16:54.713  INFO 17802 --- [           main] org.apache.camel.main.MainSupport   : Apache Camel (JBang) 4.0.0-SNAPSHOT is starting
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17739077" author="JIRAUSER299079" created="Fri, 30 Jun 2023 13:15:04 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt; , thank you for such a quick handle of this issue.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I have tested with released 3.21.0 and in general it is working as expected. But I tried also more customised command and I do not understand why the error below is happening, could you help me to investigate more please?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This error happens when I set different Camel version by usage of &quot;&#8211;&#8211;camel-version&quot;. I thought that &quot;-Dcamel.jbang.version&quot; specify the Camel JBang API which will be used and the &quot;-camel-version&quot; will just allow me to run the integration with specific version which can differ from the CLI one, am I wrong?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
testing-commands &#187; jbang -Dcamel.jbang.version=3.21.0 camel@apache/camel run test.camel.yaml --camel-version=3.20.6 --repos=#repos,https:&lt;span class=&quot;code-comment&quot;&gt;//maven.repository.redhat.com/ga/
&lt;/span&gt;&#160;
Running integration with the following configuration:
&#160; &#160; --repos=https:&lt;span class=&quot;code-comment&quot;&gt;//packages.atlassian.com/maven-external,https://maven.repository.redhat.com/ga/
&lt;/span&gt;Running integration with the following configuration:
&#160; &#160; --repos=#repos,https:&lt;span class=&quot;code-comment&quot;&gt;//maven.repository.redhat.com/ga/
&lt;/span&gt;2023-06-30 15:08:20.309 &#160;INFO 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] org.apache.camel.main.MainSupport &#160; : Apache Camel (JBang) 3.20.6 is starting
2023-06-30 15:08:20.480 &#160;WARN 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] .download.MavenDependencyDownloader : Can&apos;t use #repos URL: no protocol: #repos. Skipping.
java.net.MalformedURLException: no protocol: #repos
&#160; &#160; &#160; &#160; at java.net.URL.&amp;lt;init&amp;gt;(URL.java:674) ~[?:?]
&#160; &#160; &#160; &#160; at java.net.URL.&amp;lt;init&amp;gt;(URL.java:569) ~[?:?]
&#160; &#160; &#160; &#160; at java.net.URL.&amp;lt;init&amp;gt;(URL.java:516) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.camel.main.download.MavenDependencyDownloader.configureRemoteRepositories(MavenDependencyDownloader.java:1198) ~[camel-kamelet-main-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.main.download.MavenDependencyDownloader.doBuild(MavenDependencyDownloader.java:617) ~[camel-kamelet-main-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.support.service.BaseService.build(BaseService.java:63) ~[camel-api-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.support.service.BaseService.init(BaseService.java:79) ~[camel-api-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.support.service.ServiceHelper.initService(ServiceHelper.java:84) ~[camel-api-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.impl.engine.AbstractCamelContext.internalAddService(AbstractCamelContext.java:1603) ~[camel-base-engine-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.impl.engine.AbstractCamelContext.addService(AbstractCamelContext.java:1544) ~[camel-base-engine-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.impl.engine.AbstractCamelContext.addService(AbstractCamelContext.java:1539) ~[camel-base-engine-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.impl.engine.AbstractCamelContext.addService(AbstractCamelContext.java:1534) ~[camel-base-engine-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.main.KameletMain.createCamelContext(KameletMain.java:335) ~[camel-kamelet-main-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.main.MainSupport.initCamelContext(MainSupport.java:400) ~[camel-main-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.main.KameletMain.doInit(KameletMain.java:271) ~[camel-kamelet-main-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.support.service.BaseService.init(BaseService.java:83) ~[camel-api-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.support.service.BaseService.start(BaseService.java:111) ~[camel-api-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.dsl.jbang.core.commands.Run.runKameletMain(Run.java:784) ~[camel-jbang-core-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.dsl.jbang.core.commands.Run.run(Run.java:592) ~[camel-jbang-core-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.dsl.jbang.core.commands.Run.doCall(Run.java:232) ~[camel-jbang-core-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.dsl.jbang.core.commands.CamelCommand.call(CamelCommand.java:73) ~[camel-jbang-core-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at org.apache.camel.dsl.jbang.core.commands.CamelCommand.call(CamelCommand.java:36) ~[camel-jbang-core-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at picocli.CommandLine.executeUserObject(CommandLine.java:2041) ~[picocli-4.7.3.jar:4.7.3]
&#160; &#160; &#160; &#160; at picocli.CommandLine.access$1500(CommandLine.java:148) ~[picocli-4.7.3.jar:4.7.3]
&#160; &#160; &#160; &#160; at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461) ~[picocli-4.7.3.jar:4.7.3]
&#160; &#160; &#160; &#160; at picocli.CommandLine$RunLast.handle(CommandLine.java:2453) ~[picocli-4.7.3.jar:4.7.3]
&#160; &#160; &#160; &#160; at picocli.CommandLine$RunLast.handle(CommandLine.java:2415) ~[picocli-4.7.3.jar:4.7.3]
&#160; &#160; &#160; &#160; at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273) ~[picocli-4.7.3.jar:4.7.3]
&#160; &#160; &#160; &#160; at picocli.CommandLine$RunLast.execute(CommandLine.java:2417) ~[picocli-4.7.3.jar:4.7.3]
&#160; &#160; &#160; &#160; at picocli.CommandLine.execute(CommandLine.java:2170) ~[picocli-4.7.3.jar:4.7.3]
&#160; &#160; &#160; &#160; at org.apache.camel.dsl.jbang.core.commands.CamelJBangMain.run(CamelJBangMain.java:154) ~[camel-jbang-core-3.20.6.jar:3.20.6]
&#160; &#160; &#160; &#160; at main.CamelJBang.main(CamelJBang.java:36) ~[CamelJBang.jar:?]
2023-06-30 15:08:20.536 &#160;INFO 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] org.apache.camel.main.MainSupport &#160; : Using Java 17.0.1 with PID 48834. Started by djelinek in /Users/djelinek/development/tmp/testing-lsp/testing-commands
2023-06-30 15:08:20.550 &#160;INFO 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] mel.cli.connector.LocalCliConnector : Camel CLI enabled (local)
2023-06-30 15:08:21.344 &#160;INFO 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : Apache Camel 3.20.6 (test) is starting
2023-06-30 15:08:21.488 &#160;INFO 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : Routes startup (started:1)
2023-06-30 15:08:21.488 &#160;INFO 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : &#160; &#160; Started route1 (timer:&lt;span class=&quot;code-comment&quot;&gt;//yaml)
&lt;/span&gt;2023-06-30 15:08:21.489 &#160;INFO 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : Apache Camel 3.20.6 (test) started in 400ms (build:106ms init:150ms start:144ms JVM-uptime:2s)
2023-06-30 15:08:22.485 &#160;INFO 48834 --- [ - timer:&lt;span class=&quot;code-comment&quot;&gt;//yaml] test.camel.yaml:11 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;: Hello Camel from route1
&lt;/span&gt;2023-06-30 15:08:23.475 &#160;INFO 48834 --- [ - timer:&lt;span class=&quot;code-comment&quot;&gt;//yaml] test.camel.yaml:11 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;: Hello Camel from route1
&lt;/span&gt;2023-06-30 15:08:24.479 &#160;INFO 48834 --- [ - timer:&lt;span class=&quot;code-comment&quot;&gt;//yaml] test.camel.yaml:11 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;: Hello Camel from route1
&lt;/span&gt;^C2023-06-30 15:08:25.072 &#160;INFO 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : Apache Camel 3.20.6 (test) is shutting down (timeout:10s)
2023-06-30 15:08:25.087 &#160;INFO 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : Routes stopped (stopped:1)
2023-06-30 15:08:25.088 &#160;INFO 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : &#160; &#160; Stopped route1 (timer:&lt;span class=&quot;code-comment&quot;&gt;//yaml)
&lt;/span&gt;2023-06-30 15:08:25.095 &#160;INFO 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] el.impl.engine.AbstractCamelContext : Apache Camel 3.20.6 (test) shutdown in 22ms (uptime:3s JVM-uptime:5s)
2023-06-30 15:08:25.095 &#160;INFO 48834 --- [ &#160; &#160; &#160; &#160; &#160; main] org.apache.camel.main.MainSupport &#160; : Apache Camel (JBang) 3.20.6 shutdown &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17740155" author="davsclaus" created="Wed, 5 Jul 2023 10:44:19 +0000"  >&lt;p&gt;No if the CLI and the run version are different, then run version must have the #repo fix as well, which is 3.20.7/3.21 onwards.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13534786">CAMEL-19313</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13060803" name="246371094-462f078a-2587-4beb-8856-b79e19dcddcd.png" size="363720" author="djelinek" created="Thu, 22 Jun 2023 08:38:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ipo8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>