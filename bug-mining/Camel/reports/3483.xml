<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:12:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-9391] Set parameter enableEventsResending should be before Atmosphere wrap request</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-9391</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;This is a defect regarding &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-9364&quot; title=&quot;Add ability to receive onOpen/onClose/onError websocket events through camel rout.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-9364&quot;&gt;&lt;del&gt;CAMEL-9364&lt;/del&gt;&lt;/a&gt; feature.&lt;/p&gt;

&lt;p&gt;WebsocketConsumer has service method where Atmosphere handle incoming request. In case value for enableEventsResending will be set after request is handled OnOpen event will not be sent at all. &lt;/p&gt;

&lt;p&gt;Consequently, set this value should be before such as :&lt;br/&gt;
        this.enableEventsResending = enableEventsResending;&lt;br/&gt;
        framework.doCometSupport(AtmosphereRequest.wrap(request), AtmosphereResponse.wrap(response));&lt;/p&gt;

&lt;p&gt;In addition to this because of CamelWebSocketServlet use init method for set enableEventsResending value,  tests which were written for this feature are wrong. To solve this a new TestSupport class should be created where init parameter will be set correctly and tests depending on this parameter will be moved to separate class which extend the new TestSupport class. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12919006">CAMEL-9391</key>
            <summary>Set parameter enableEventsResending should be before Atmosphere wrap request</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="pkletsko">Pavlo Kletsko</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Fri, 4 Dec 2015 15:31:36 +0000</created>
                <updated>Sat, 5 Dec 2015 13:34:18 +0000</updated>
                            <resolved>Sat, 5 Dec 2015 13:34:18 +0000</resolved>
                                                    <fixVersion>2.17.0</fixVersion>
                                    <component>camel-atmosphere-websocket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="15043267" author="githubbot" created="Sat, 5 Dec 2015 11:58:56 +0000"  >&lt;p&gt;GitHub user pkletsko opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/710&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/710&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-9391&quot; title=&quot;Set parameter enableEventsResending should be before Atmosphere wrap request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-9391&quot;&gt;&lt;del&gt;CAMEL-9391&lt;/del&gt;&lt;/a&gt; Set parameter enableEventsResending should be before Atm&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;osphere wrap request&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/pkletsko/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/pkletsko/camel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-9391&quot; title=&quot;Set parameter enableEventsResending should be before Atmosphere wrap request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-9391&quot;&gt;&lt;del&gt;CAMEL-9391&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/710.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/710.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #710&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2d77c3a338183492557effde353bb5d90015c42c&lt;br/&gt;
Author: Pavlo Kletsko &amp;lt;pkletsko@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-12-05T11:57:37Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-9391&quot; title=&quot;Set parameter enableEventsResending should be before Atmosphere wrap request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-9391&quot;&gt;&lt;del&gt;CAMEL-9391&lt;/del&gt;&lt;/a&gt; Set parameter enableEventsResending should be before Atmosphere wrap request&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15043313" author="githubbot" created="Sat, 5 Dec 2015 13:33:59 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/710&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/710&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15043314" author="davsclaus" created="Sat, 5 Dec 2015 13:34:18 +0000"  >&lt;p&gt;Thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2pf0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>