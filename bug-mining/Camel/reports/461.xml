<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:30:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-1249] MailConfiguration injected into MailComponent by Spring is ignored.</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-1249</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;A Camel org.apache.camel.component.mail.MailComponent is configured via Spring as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;mailbox&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.camel.component.mail.MailComponent&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;configuration&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;mailbox_config&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.camel.component.mail.MailConfiguration&quot;&lt;/span&gt;&amp;gt;
      &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;protocol&quot;&lt;/span&gt;&amp;gt;&amp;lt;value&amp;gt;pop3&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
      &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;host&quot;&lt;/span&gt;&amp;gt;&amp;lt;value&amp;gt;mail.abc.com&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
      &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;username&quot;&lt;/span&gt;&amp;gt;&amp;lt;value&amp;gt;test&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
      &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;password&quot;&lt;/span&gt;&amp;gt;&amp;lt;value&amp;gt;test&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;
  &amp;lt;/property&amp;gt;
&amp;lt;/bean&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It is silly to use the hard-coded URI in Java code to create a mail endpoint. Instead I want to use the above method to specify everything (I mean everything) about how to access a mail server (send or receive) in different deployments.  Up to Camel 1.5, line 73 of MailComponent.createEndpoint() ignored the MailConfiguration variable MailComponent.configuration and created a new one to parse the URI. This defeats the Spring injection above, which is recommended by Camel&apos;s own User&apos;s Guide.&lt;/p&gt;

&lt;p&gt;Line 73 and 74 should be changed from:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;        MailConfiguration config = new MailConfiguration();&lt;br/&gt;
        config.configure(url);&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;        configuration.configure(url);&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;In addition, if the uri parameter equals the component name, createEndpoint() should not parse it at all, so that the following route builder will create the mail endpoint solely according to the Spring injection of MailConfiguration:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;    from(&quot;mailbox&quot;).to(&quot;my_queue&quot;);&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment>&lt;p&gt;Camel&lt;/p&gt;</environment>
        <key id="12485496">CAMEL-1249</key>
            <summary>MailConfiguration injected into MailComponent by Spring is ignored.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="mwc_tonesoft">Michael Chen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Jan 2009 18:06:03 +0000</created>
                <updated>Fri, 31 Jul 2009 06:33:57 +0000</updated>
                            <resolved>Tue, 13 Jan 2009 09:05:10 +0000</resolved>
                                    <version>1.4.0</version>
                    <version>1.5.0</version>
                                    <fixVersion>1.6.0</fixVersion>
                    <fixVersion>2.0-M1</fixVersion>
                                    <component>camel-mail</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12950364" author="davsclaus" created="Tue, 13 Jan 2009 06:53:22 +0000"  >&lt;p&gt;Thanks for reporting this. I have fixed it.&lt;/p&gt;

&lt;p&gt;About the last one using your own component. You need to set the mail configuration to ignore scheme&lt;br/&gt;
   &amp;lt;property name=&quot;ignoreUriScheme&quot;&amp;gt;&amp;lt;value&amp;gt;true&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;And then &quot;mailbox&quot; needs to be added as a Component. That is easy from Java, but in Spring there might be some component XML tag to declare this.&lt;br/&gt;
If not then I think we need it.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;updated&lt;/b&gt; with the correct property name&lt;/p&gt;</comment>
                            <comment id="12950302" author="mwc_tonesoft" created="Tue, 13 Jan 2009 18:01:59 +0000"  >&lt;p&gt;Claus,&lt;/p&gt;

&lt;p&gt;Please correct your comment for this bug that mentioned the wrong &lt;br/&gt;
property name. The correct name according to your source code change is &lt;br/&gt;
&quot;ignoreUriScheme&quot;, not &quot;ignoreSchemeUri&quot;.  It may cause confusion for &lt;br/&gt;
others reading this fix.&lt;/p&gt;

&lt;p&gt;Thank you&lt;/p&gt;

&lt;p&gt;--Michael&lt;/p&gt;

</comment>
                            <comment id="12950338" author="davsclaus" created="Wed, 14 Jan 2009 05:03:10 +0000"  >&lt;p&gt;Thanks Michael, I have updated it&lt;/p&gt;</comment>
                            <comment id="12948865" author="davsclaus" created="Fri, 31 Jul 2009 06:33:57 +0000"  >&lt;p&gt;Closing 2.0m1 tickets&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76904</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01h93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6564</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>