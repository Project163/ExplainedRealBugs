<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:46:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-4509] Header not set after dead letter queue handles unmarshal error</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-4509</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;We have a route which unmarshals a soap msg into an object.  On that route is a dead letter queue error handler.  That DLQ sets headers on the message used later for error reporting.&lt;/p&gt;

&lt;p&gt;If the error is thrown by the marshaller, the &lt;b&gt;first header&lt;/b&gt; that we try to set is wiped out.  The 2nd header is set with no problem.  If an error is thrown by something other than the marshaller, the correct headers are set.&lt;/p&gt;

&lt;p&gt;See attached project with failed test case (canSetHeadersOnBadXmlDeadLetter)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java version: 1.6.0_11, vendor: Sun Microsystems Inc.&lt;br/&gt;
OS name: &quot;windows xp&quot;, version: &quot;5.1&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot;&lt;/p&gt;</environment>
        <key id="12525539">CAMEL-4509</key>
            <summary>Header not set after dead letter queue handles unmarshal error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="roytruelove@gmail.com">Roy Truelove</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Oct 2011 15:37:31 +0000</created>
                <updated>Wed, 5 Oct 2011 09:46:50 +0000</updated>
                            <resolved>Wed, 5 Oct 2011 09:46:50 +0000</resolved>
                                    <version>2.8.1</version>
                                    <fixVersion>2.8.2</fixVersion>
                    <fixVersion>2.9.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13119369" author="roytruelove@gmail.com" created="Mon, 3 Oct 2011 15:38:51 +0000"  >&lt;p&gt;Added full maven project with failing unit test&lt;/p&gt;</comment>
                            <comment id="13119392" author="roytruelove@gmail.com" created="Mon, 3 Oct 2011 16:36:53 +0000"  >&lt;p&gt;WORKAROUND:  have the first step in the DLQ route set a header that&apos;s not intended for use.  This will &apos;reset&apos; the exchange and the next header will be set.&lt;/p&gt;</comment>
                            <comment id="13120780" author="davsclaus" created="Wed, 5 Oct 2011 09:46:50 +0000"  >&lt;p&gt;The work around is either to set the header 2 times, or have a noop operation at first, such as a log, or an empty processor.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12497477" name="marshalBug.zip" size="51686" author="roytruelove@gmail.com" created="Mon, 3 Oct 2011 15:38:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43812</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i021dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9824</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>