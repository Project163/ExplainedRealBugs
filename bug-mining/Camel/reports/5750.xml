<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:47:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-16670] Camel Component &amp; Package Maven Plugins fail on some JSON resource files</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-16670</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;&lt;b&gt;Given:&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Create a new route project using spring-boot archetype&lt;/li&gt;
	&lt;li&gt;Create `src/main/resources/test.json` with contents:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[{ &lt;span class=&quot;code-quote&quot;&gt;&quot;fizz&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;buzz&quot;&lt;/span&gt; }]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
	&lt;li&gt;Add the following XML to the `&amp;lt;plugins&amp;gt;` node in `pom.xml`:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;plugin&amp;gt;
  &amp;lt;groupId&amp;gt;org.apache.camel&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;camel-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;-maven-plugin&amp;lt;/artifactId&amp;gt;
  &amp;lt;version&amp;gt;3.10.0&amp;lt;/version&amp;gt;
  &amp;lt;executions&amp;gt;
    &amp;lt;execution&amp;gt;
      &amp;lt;id&amp;gt;generate&amp;lt;/id&amp;gt;
      &amp;lt;goals&amp;gt;
        &amp;lt;goal&amp;gt;generate-component&amp;lt;/goal&amp;gt;
      &amp;lt;/goals&amp;gt;
      &amp;lt;phase&amp;gt;process-classes&amp;lt;/phase&amp;gt;
    &amp;lt;/execution&amp;gt;
  &amp;lt;/executions&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
	&lt;li&gt;Run `mvn package`&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Expected:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] BUILD SUCCESS&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;Observed:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3.852 s
[INFO] Finished at: 2021-05-28T12:34:00-07:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.camel:camel-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;-maven-plugin:3.10.0:generate-component (generate) on project CommandInvocationRoute: Error generating data org.apache.maven.plugin.MojoFailureException: Unable to create mojo: &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.camel.util.json.JsonArray cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.camel.util.json.JsonObject (org.apache.camel.util.json.JsonArray and org.apache.camel.util.json.JsonObject are in unnamed module of loader org.codehaus.plexus.classworlds.realm.ClassRealm @7d3fb0ef) -&amp;gt; [Help 1]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;Notes:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Removing the square brackets avoids the problem. For example, the following `test.json` contents enables a successful build:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{ &lt;span class=&quot;code-quote&quot;&gt;&quot;fizz&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;buzz&quot;&lt;/span&gt; }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In addition, renaming the file to `test.txt` avoids the problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13381040">CAMEL-16670</key>
            <summary>Camel Component &amp; Package Maven Plugins fail on some JSON resource files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="gramana">Zachary Gramana</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 May 2021 19:39:21 +0000</created>
                <updated>Mon, 7 Jun 2021 21:46:05 +0000</updated>
                            <resolved>Wed, 2 Jun 2021 05:28:41 +0000</resolved>
                                    <version>3.10.0</version>
                                    <fixVersion>3.11.0</fixVersion>
                                    <component>tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17353674" author="davsclaus" created="Sat, 29 May 2021 06:20:09 +0000"  >&lt;p&gt;What are you trying to do?&lt;/p&gt;

&lt;p&gt;And for Camel end users you should use camel-component-maven-plugin&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/camel/blob/main/tooling/maven/camel-component-maven-plugin/src/main/java/org/apache/camel/maven/component/GenerateComponentMojo.java#L39&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/blob/main/tooling/maven/camel-component-maven-plugin/src/main/java/org/apache/camel/maven/component/GenerateComponentMojo.java#L39&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Not that you report about as its ONLY for the Camel projects itself.&lt;/p&gt;</comment>
                            <comment id="17355370" author="gramana" created="Tue, 1 Jun 2021 23:20:42 +0000"  >&lt;p&gt;The issue also reproduces the same way when using `camel-component-maven-plugin`. I updated the issue title to reflect that.&lt;/p&gt;</comment>
                            <comment id="17355372" author="gramana" created="Tue, 1 Jun 2021 23:24:13 +0000"  >&lt;p&gt;In my case, I&apos;m generating loaders for my `TypeConvertors` classes. It just happens that I have a `.json` resource that causes the error described above.&lt;/p&gt;

&lt;p&gt;As a workaround, I have changed that file&apos;s extension to `.txt`.&lt;/p&gt;</comment>
                            <comment id="17355491" author="davsclaus" created="Wed, 2 Jun 2021 05:28:41 +0000"  >&lt;p&gt;Thanks for reporting, and telling the steps to reproduce this&lt;/p&gt;</comment>
                            <comment id="17358881" author="gramana" created="Mon, 7 Jun 2021 21:46:05 +0000"  >&lt;p&gt;My pleasure, and thanks for the quick turnaround!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0rh5s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>