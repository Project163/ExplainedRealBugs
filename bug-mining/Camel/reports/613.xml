<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:32:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-1625] SpringDeadLetterChannelUseOriginalBodyWithFileTest test failing on trunk</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-1625</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;-------------------------------------------------------------------------------&lt;br/&gt;
Test set: org.apache.camel.spring.processor.SpringDeadLetterChannelUseOriginalBodyWithFileTest&lt;br/&gt;
-------------------------------------------------------------------------------&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.379 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testOriginalInBodyIsFile(org.apache.camel.spring.processor.SpringDeadLetterChannelUseOriginalBodyWithFileTest)  Time elapsed: 4.106 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.lang.AssertionError: mock:dead bodyAs&lt;span class=&quot;error&quot;&gt;&amp;#91;java.lang.String&amp;#93;&lt;/span&gt; == Hello on Exchange[GenericFileMessage: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;hello.txt&amp;#93;&lt;/span&gt;]&lt;br/&gt;
	at org.apache.camel.util.PredicateAssertHelper.assertMatches(PredicateAssertHelper.java:38)&lt;br/&gt;
	at org.apache.camel.component.mock.AssertionClause.applyAssertionOn(AssertionClause.java:115)&lt;br/&gt;
	at org.apache.camel.component.mock.MockEndpoint$14.run(MockEndpoint.java:639)&lt;br/&gt;
	at org.apache.camel.component.mock.MockEndpoint.assertIsSatisfied(MockEndpoint.java:251)&lt;br/&gt;
	at org.apache.camel.component.mock.MockEndpoint.assertIsSatisfied(MockEndpoint.java:218)&lt;br/&gt;
	at org.apache.camel.component.mock.MockEndpoint.assertIsSatisfied(MockEndpoint.java:151)&lt;br/&gt;
	at org.apache.camel.ContextTestSupport.assertMockEndpointsSatisfied(ContextTestSupport.java:286)&lt;br/&gt;
	at org.apache.camel.processor.DeadLetterChannelUseOriginalInBodyWithFileTest.testOriginalInBodyIsFile(DeadLetterChannelUseOriginalInBodyWithFileTest.java:39)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:164)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:130)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:120)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.maven.surefire.junit.JUnitTestSet.execute(JUnitTestSet.java:213)&lt;br/&gt;
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)&lt;br/&gt;
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:165)&lt;br/&gt;
	at org.apache.maven.surefire.Surefire.run(Surefire.java:107)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:289)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:993)&lt;/p&gt;

&lt;p&gt;When trying to build latest svn trunk ( 776125 ) with &apos;mvn clean install&apos;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12486805">CAMEL-1625</key>
            <summary>SpringDeadLetterChannelUseOriginalBodyWithFileTest test failing on trunk</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="ryangardner">Ryan Gardner</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2009 22:59:30 +0000</created>
                <updated>Sat, 21 Nov 2009 11:58:01 +0000</updated>
                            <resolved>Tue, 19 May 2009 06:10:38 +0000</resolved>
                                                    <fixVersion>2.0-M2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12952166" author="njiang" created="Tue, 19 May 2009 01:27:11 +0000"  >&lt;p&gt;I got this error sometimes,  &lt;br/&gt;
it looks like the GenericFileConverter&apos;s fallback converter method is not be loaded before the common toString converter.&lt;br/&gt;
But if I run this test separately ,  the test error goes away.&lt;/p&gt;
</comment>
                            <comment id="12952153" author="davsclaus" created="Tue, 19 May 2009 04:48:38 +0000"  >&lt;p&gt;Spring IoC is kinda slow to initialize so I guess the unit test that is actually in camel-core is &lt;b&gt;too fast&lt;/b&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;On my laptop however I have not seen this error, might be because I have a brand new laptop so its still fast.&lt;/p&gt;</comment>
                            <comment id="12952152" author="njiang" created="Tue, 19 May 2009 05:21:26 +0000"  >&lt;p&gt;I think we could add a delay before the exception throwing processor to make sure the Converter is initialized.&lt;/p&gt;</comment>
                            <comment id="12952170" author="davsclaus" created="Tue, 19 May 2009 06:10:29 +0000"  >&lt;p&gt;Ah I got it, a noop=true was missing. The problem is that when the file consumer is faster than the mock, then it would move the consumed file into a .camel subfolder.&lt;/p&gt;

&lt;p&gt;The camel-core has this option, it was missing in the spring XML file.&lt;/p&gt;

&lt;p&gt;trunk: 776196.&lt;/p&gt;</comment>
                            <comment id="12953717" author="davsclaus" created="Sat, 21 Nov 2009 11:58:01 +0000"  >&lt;p&gt;Closing all 2.0M2 tickets&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01jkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Regression</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10092"><![CDATA[Unit Test Broken]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>