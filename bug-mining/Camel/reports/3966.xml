<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:21:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-10822] Camel Jasypt component throws NPE</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-10822</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Camel Jasypt component throws NPE if the jasypt master password is configured to use environment variable but not set to any value.&lt;/p&gt;

&lt;p&gt;For instance, I had a bean configured for JasyptPropertiesParser:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;jasypt&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.camel.component.jasypt.JasyptPropertiesParser&quot;&lt;/span&gt;&amp;gt;
        &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;password&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;sysenv:JASYPT_ENCRYPTION_PASSWORD&quot;&lt;/span&gt;/&amp;gt;
    &amp;lt;/bean&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But I did not set value for the environment variable &quot;JASYPT_ENCRYPTION_PASSWORD&quot;, then my camel-jasypt route would fail with a NPE:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.NullPointerException
	at org.apache.camel.component.jasypt.JasyptPropertiesParser.setPassword(JasyptPropertiesParser.java:95)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The reason is the org.apache.camel.component.jasypt.JasyptPropertiesParser.java code setPassword method here:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setPassword(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; password) {
    &lt;span class=&quot;code-comment&quot;&gt;// lookup password as either environment or JVM system property
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (password.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;sysenv:&quot;&lt;/span&gt;)) {
        password = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.getenv(ObjectHelper.after(password, &lt;span class=&quot;code-quote&quot;&gt;&quot;sysenv:&quot;&lt;/span&gt;));
    }
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (password.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;sys:&quot;&lt;/span&gt;)) {
        password = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.getProperty(ObjectHelper.after(password, &lt;span class=&quot;code-quote&quot;&gt;&quot;sys:&quot;&lt;/span&gt;));
    }
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.password = password;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The first &quot;if&quot; statement returns a NULL and the second &quot;if&quot; statement throws a NPE due to lack of NPE check.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13042598">CAMEL-10822</key>
            <summary>Camel Jasypt component throws NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="acosentino">Andrea Cosentino</assignee>
                                    <reporter username="joeluo">Joe Luo</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Feb 2017 15:56:01 +0000</created>
                <updated>Tue, 14 Feb 2017 10:30:17 +0000</updated>
                            <resolved>Tue, 14 Feb 2017 09:15:31 +0000</resolved>
                                    <version>2.17.0</version>
                                    <fixVersion>2.17.6</fixVersion>
                    <fixVersion>2.18.3</fixVersion>
                    <fixVersion>2.19.0</fixVersion>
                                    <component>camel-jasypt</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15865313" author="davsclaus" created="Tue, 14 Feb 2017 07:57:41 +0000"  >&lt;p&gt;Thanks Joe for the patch. I wonder if you in the future want to provide the patches as github PR?&lt;/p&gt;

&lt;p&gt;Then the patches are easier to merge and also keep tracks on whom have contributed and can keep track of how much you have done etc.&lt;/p&gt;</comment>
                            <comment id="15865439" author="ancosen" created="Tue, 14 Feb 2017 09:22:15 +0000"  >&lt;p&gt;Merged. I changed only the null checking by using ObjectHelper#isNotEmpty method.&lt;/p&gt;</comment>
                            <comment id="15865542" author="joeluo" created="Tue, 14 Feb 2017 10:30:17 +0000"  >&lt;p&gt;Hi Claus, sure, will provide patches as github PR in future. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12852371" name="patch.txt" size="919" author="joeluo" created="Mon, 13 Feb 2017 15:56:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3a00v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>