<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:56:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-6160] CamelSpringJUnit4ClassRunner ignores annotation based context configurations.</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-6160</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;In a Camel/Spring JUnit4 test case, if you specify:&lt;/p&gt;

&lt;p&gt;@RunWith(CamelSpringJUnit4ClassRunner.class)&lt;br/&gt;
@ContextConfiguration(classes = &lt;/p&gt;
{ FooCamelConfig.class }
&lt;p&gt;)&lt;/p&gt;

&lt;p&gt;then the context configuration (including the definition of CamelContext) defined in FooCamelConfig.java, using Java Annotations, will be ignored.  If you change to use SpringJUnit4ClassRunner, then the configuration will be processed.&lt;/p&gt;

&lt;p&gt;The problem is in the two implementations of the method &quot;loadBeanDefintions()&quot;  in the class CamelSpringTestContextLoader.  They both exclusively use XmlBeanDefinitionReader to load bean definitions into the context, so no beans defined using annotations are ever read/loaded.&lt;/p&gt;

&lt;p&gt;If you use the SpringJUnit4ClassRunner, then it includes the use of AnnotationConfigContextLoader which, in turn, uses AnnotatedBeanDefinitionReader to read/load beans defined with annotations.&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Windows 7, Java 1.7.0_17, Spring 3.2.1&lt;/p&gt;</environment>
        <key id="12636847">CAMEL-6160</key>
            <summary>CamelSpringJUnit4ClassRunner ignores annotation based context configurations.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="webdaford">Daniel Ford</reporter>
                        <labels>
                            <label>test</label>
                    </labels>
                <created>Wed, 13 Mar 2013 20:01:53 +0000</created>
                <updated>Fri, 15 Mar 2013 02:42:50 +0000</updated>
                            <resolved>Fri, 15 Mar 2013 02:42:50 +0000</resolved>
                                    <version>2.10.4</version>
                                    <fixVersion>2.11.0</fixVersion>
                                    <component>camel-test</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13602137" author="njiang" created="Thu, 14 Mar 2013 08:17:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-5494&quot; title=&quot;Camel&amp;#39;s JavaConfigContextLoader class lacks support for Camel&amp;#39;s testing annotations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-5494&quot;&gt;&lt;del&gt;CAMEL-5494&lt;/del&gt;&lt;/a&gt; provides an solution for it, because CamelSpringDelegatingTestContextLoader doesn&apos;t support the ExcludeRoutes annotation, I didn&apos;t switch the default TestContextLoader of CamelSpringJUnit4ClassRunner to CamelSpringDelegatingTestContextLoader. You need to specify the loader with CamelSpringDelegatingTestContextLoader.class if you want to use it.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@RunWith(CamelSpringJUnit4ClassRunner.class)
@ContextConfiguration(classes =
{ FooCamelConfig.class }
loader = CamelSpringDelegatingTestContextLoader.class
)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13602227" author="webdaford" created="Thu, 14 Mar 2013 12:50:05 +0000"  >&lt;p&gt;Ok, thanks.  I see that the solution offered by &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-5494&quot; title=&quot;Camel&amp;#39;s JavaConfigContextLoader class lacks support for Camel&amp;#39;s testing annotations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-5494&quot;&gt;&lt;del&gt;CAMEL-5494&lt;/del&gt;&lt;/a&gt; isn&apos;t available until 2.11.0, I&apos;ll have to wait for that.  The bug would then appear to be in the documentation.  This page &lt;a href=&quot;http://camel.apache.org/testing.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/testing.html&lt;/a&gt; only mentions JavaConfigContextLoader, and doesn&apos;t mention any of its limitations.  Also, after a search on google, it would appear that the existence of CamelSpringDelegatingTestContextLoader is not documented anywhere other than the &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-5494&quot; title=&quot;Camel&amp;#39;s JavaConfigContextLoader class lacks support for Camel&amp;#39;s testing annotations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-5494&quot;&gt;&lt;del&gt;CAMEL-5494&lt;/del&gt;&lt;/a&gt; bug and the SVN commit message.&lt;/p&gt;

&lt;p&gt;Would there be a problem with switching to use CamelSpringDelegatingTestContextLoader in the future?  I found it extremely confusing, not to mention time consuming to figure out, that CamelSpringJUnit4ClassRunner changes the semantics of @ContextConfiguration from what its superclass SpringJUnit4ClassRunner supports.  I expect a continuous parade of developers will trudge down the same path I did.&lt;/p&gt;</comment>
                            <comment id="13602275" author="njiang" created="Thu, 14 Mar 2013 13:49:30 +0000"  >&lt;p&gt;JavaConfigContextLoader doesn&apos;t support the some camel annotation as the CamelSpringDelegatingTestContextLoader does.&lt;br/&gt;
I&apos;m will update the wiki page with new added CamelSpringDelegatingTestContextLoader tomorrow before I close this issue.&lt;/p&gt;</comment>
                            <comment id="13603038" author="njiang" created="Fri, 15 Mar 2013 02:42:50 +0000"  >&lt;p&gt;Update the camel test wiki page.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317339</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ir9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317680</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>