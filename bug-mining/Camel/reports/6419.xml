<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:00:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-19199] Unable to start PLC4X route in camel-plc4x</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-19199</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I am using&#160;&lt;a href=&quot;https://plc4x.apache.org/users/getting-started/virtual-modbus.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ModbusPal&lt;/a&gt;&#160;to create the Virtual modbus.&lt;/p&gt;

&lt;p&gt;I am using the endpoint URI as:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
plc4x:modbus-tcp:&lt;span class=&quot;code-comment&quot;&gt;//localhost:502?unitId=1&amp;amp;dataType=holding-register&amp;amp;addresses=1&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Following is the screenshot of Modbus holding registers:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/62088117/227714761-e6486993-f44a-4482-a7be-e76e5a94b49c.png&quot; height=&quot;350&quot; width=&quot;354&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;But when starting camel context it throws NullPointerException.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NullPointerException
    at org.apache.camel.component.plc4x.Plc4XConsumer.startUnTriggered(Plc4XConsumer.java:89)
    at org.apache.camel.component.plc4x.Plc4XConsumer.doStart(Plc4XConsumer.java:81)
    at org.apache.camel.support.service.BaseService.start(BaseService.java:119) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I debugged it and found the problem is with this line in PLC4XConsumer line 89:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Map.Entry&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; tag : tags.entrySet()) {&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here&#160;&lt;b&gt;tags&lt;/b&gt; are null, so it might be that I am not configuring the endpoint correctly.&lt;/p&gt;

&lt;p&gt;So, I tried by configuring the endpoint by creating an instance of Plc4XEndpoint and then configuring the tags there, it works like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; map = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&amp;gt;();
            map.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;value-1&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;holding-register:1&quot;&lt;/span&gt;);
            
            Plc4XEndpoint plc4xEndpoint = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Plc4XEndpoint(&lt;span class=&quot;code-quote&quot;&gt;&quot;plc4x:modbus-tcp:&lt;span class=&quot;code-comment&quot;&gt;//localhost:502&quot;&lt;/span&gt;,
&lt;/span&gt;                    getContext().getComponent(&lt;span class=&quot;code-quote&quot;&gt;&quot;plc4x&quot;&lt;/span&gt;));
            plc4xEndpoint.setTags(map);
            from(plc4xEndpoint).log(&lt;span class=&quot;code-quote&quot;&gt;&quot;value : ${body}&quot;&lt;/span&gt;); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But why it is not working if I configure the endpoint as just String?&lt;/p&gt;

&lt;p&gt;Note:&lt;/p&gt;

&lt;p&gt;I tried with below endpoint and it is also not working:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
plc4x:modbus-tcp:&lt;span class=&quot;code-comment&quot;&gt;//localhost:502?tags={unitId=1&amp;amp;dataType=holding-register&amp;amp;addresses=1}&#160;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Camel core version : 3.20.2 Camel-PLC4X version : 3.20.2&lt;/p&gt;

&lt;p&gt;IDE - Eclipse, OS - Windows 10, Java 11&lt;/p&gt;</environment>
        <key id="13530096">CAMEL-19199</key>
            <summary>Unable to start PLC4X route in camel-plc4x</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="mdanish98">Ghazanfar Ali</reporter>
                        <labels>
                    </labels>
                <created>Sun, 26 Mar 2023 09:13:25 +0000</created>
                <updated>Tue, 6 Jun 2023 10:20:57 +0000</updated>
                            <resolved>Mon, 27 Mar 2023 08:49:25 +0000</resolved>
                                    <version>3.20.2</version>
                                    <fixVersion>3.20.4</fixVersion>
                    <fixVersion>3.21.0</fixVersion>
                    <fixVersion>4.0-M3</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17705246" author="davsclaus" created="Mon, 27 Mar 2023 08:42:31 +0000"  >&lt;p&gt;Yes for tags you need to refer to a Map bean. However ideally the option should have been multivalued, so you could do&lt;/p&gt;

&lt;p&gt;tag=foo=123&amp;amp;tag=bar&amp;amp;456&amp;amp;tag=aaa=222&lt;/p&gt;</comment>
                            <comment id="17705255" author="JIRAUSER299536" created="Mon, 27 Mar 2023 09:13:24 +0000"  >&lt;p&gt;Just for clarification, so this would work in the next release i.e. 3.20.4?&lt;br/&gt;
Or this should work in 3.20.2 as well?&lt;/p&gt;

&lt;p&gt;I tried this as below but still not working:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;plc4x:modbus-tcp:&lt;span class=&quot;code-comment&quot;&gt;//localhost:502?tag=value-1=holding-register:1&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The tags attribute is still null.&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13056827/13056827_image-2023-03-27-11-14-56-624.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;There is a requirement in my project that the endpoint should be String i.e. all the configurations should be in URI only and not as of type Endpoint.&lt;/b&gt;&lt;/p&gt;</comment>
                            <comment id="17705987" author="davsclaus" created="Tue, 28 Mar 2023 12:59:18 +0000"  >&lt;p&gt;Yes in 3.21 release you can specify tags more easier, see  &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-19205&quot; title=&quot;camel-plc4x - Make it easier to configure tags in endpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-19205&quot;&gt;&lt;del&gt;CAMEL-19205&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13530207">CAMEL-19205</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13056827" name="image-2023-03-27-11-14-56-624.png" size="120601" author="mdanish98" created="Mon, 27 Mar 2023 09:14:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1gus8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>