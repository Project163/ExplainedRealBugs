<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:40:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-14597] camel-blueprint - Using simple language on setProperty() failed with IllegalAccessException in case of blueprint</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-14597</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
.setProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;MyProperty&quot;&lt;/span&gt;).simple(&lt;span class=&quot;code-quote&quot;&gt;&quot;${bean:java.lang.&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;?method=currentTimeMillis}&quot;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This Java DSL setting Property using simple expression works well in case of the camelContext is created from Spring-DM/Spring configuration.&lt;/p&gt;

&lt;p&gt;But the IllegalAccessException error will be thrown in case of the camelContext is created from blueprint.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.lang.IllegalAccessException: &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; org.apache.camel.util.ObjectHelper can not access a member of &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;java.lang.&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt; with modifiers &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt;&quot;&lt;/span&gt;
	at sun.reflect.Reflection.ensureMemberAccess(Reflection.java:102) ~[?:1.8.0_201]
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.newInstance(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:436) ~[?:1.8.0_201]
	at org.apache.camel.util.ObjectHelper.newInstance(ObjectHelper.java:1734) ~[bundleFile:2.24.2]
	... 22 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The minimal project is attached to easy reproduce this issue.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 8, Java 11&lt;/p&gt;</environment>
        <key id="13286429">CAMEL-14597</key>
            <summary>camel-blueprint - Using simple language on setProperty() failed with IllegalAccessException in case of blueprint</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="xldai">Xilai Dai</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Feb 2020 09:53:22 +0000</created>
                <updated>Mon, 24 Feb 2020 14:51:38 +0000</updated>
                            <resolved>Mon, 24 Feb 2020 12:58:18 +0000</resolved>
                                    <version>2.20.1</version>
                    <version>2.24.2</version>
                    <version>3.0.1</version>
                    <version>2.25.0</version>
                                                    <component>came-core</component>
                    <component>camel-blueprint</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17040821" author="davsclaus" created="Thu, 20 Feb 2020 10:04:58 +0000"  >&lt;p&gt;Try with 2.25.1 and 3.0.1&lt;/p&gt;</comment>
                            <comment id="17042786" author="xldai" created="Sun, 23 Feb 2020 03:40:41 +0000"  >&lt;p&gt;Checked also on released 2.25.0, 3.0.1, and the master branch, the same IllegalAccessException is thrown.&lt;/p&gt;

&lt;p&gt;In case of Spring/Spring-DM, the SpringInjector is used to create the bean instance, where the private default constructor of the class is supported properly.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
applicationContext.getBeanFactory().createBean(type, autowireMode, dependencyCheck);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In case of Blueprint, the DefaultInjector is used to create the bean instance, but the ObjectHelper.newInstance() seems not properly support the private default constructor.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; type.getDeclaredConstructor().newInstance();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17042812" author="xldai" created="Sun, 23 Feb 2020 06:42:16 +0000"  >&lt;p&gt;PR review please: &lt;a href=&quot;https://github.com/apache/camel/pull/3597&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/3597&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17043474" author="davsclaus" created="Mon, 24 Feb 2020 12:58:59 +0000"  >&lt;p&gt;You need to use bean:type to refer to the FQN type. The docs has been slightly updated and also added unit tests with example&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/camel/commit/219c93e5d11361ef8a982966dbf5b442f2050a0e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/219c93e5d11361ef8a982966dbf5b442f2050a0e&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17043575" author="xldai" created="Mon, 24 Feb 2020 14:51:38 +0000"  >&lt;p&gt;Yes, Claus, I know the &quot;bean:type&quot; but the test case also failed with the NoSuchBeanException on 3.0.1, using &quot;${bean:type:java.lang.System?method=currentTimeMillis}&quot;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: org.apache.camel.NoSuchBeanException: No bean could be found in the registry &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: type:java.lang.&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;
at org.apache.camel.test.blueprint.BeanInjectTest.testBeanInject(BeanInjectTest.java:32)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12993979" name="test-simple-property.zip" size="5294" author="xldai" created="Thu, 20 Feb 2020 09:52:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bots:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>