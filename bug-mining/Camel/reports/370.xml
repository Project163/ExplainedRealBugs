<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:29:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-994] NullPointerException is raised by the Camel Event endpoint (org.apache.camel.component.event.EventEndpoint) during message sending (= produce)</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-994</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I have the following error generated :&lt;/p&gt;

&lt;p&gt;[                          main] DefaultCamelContext            INFO  JMX enabled. Using InstrumentationLifecycleStrategy.&lt;br/&gt;
[                          main] DefaultCamelContext            DEBUG Adding routes from: Routes: [Route[ [From&lt;span class=&quot;error&quot;&gt;&amp;#91;event://default&amp;#93;&lt;/span&gt;] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;mock:test&amp;#93;&lt;/span&gt;]]] routes: []&lt;br/&gt;
[                          main] DefaultInstrumentationAgent    DEBUG Starting JMX agent on server: com.sun.jmx.mbeanserver.JmxMBeanServer@1503a3&lt;br/&gt;
[                          main] DefaultInstrumentationAgent    DEBUG Registered MBean with objectname: org.apache.camel:context=dell-charles/camel-1,name=context&lt;br/&gt;
[                          main] DefaultComponentResolver       DEBUG Found component: event via type: org.apache.camel.component.event.EventComponent via META-INF/services/org/apache/camel/component/event&lt;br/&gt;
[                          main] DefaultComponent               DEBUG Creating endpoint uri=&lt;span class=&quot;error&quot;&gt;&amp;#91;event://default&amp;#93;&lt;/span&gt;, path=&lt;span class=&quot;error&quot;&gt;&amp;#91;default&amp;#93;&lt;/span&gt;, parameters=&lt;span class=&quot;error&quot;&gt;&amp;#91;{}&amp;#93;&lt;/span&gt;&lt;br/&gt;
[                          main] DefaultCamelContext            DEBUG event://default converted to endpoint: Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;event://default&amp;#93;&lt;/span&gt; by component: org.apache.camel.component.event.EventComponent@872380&lt;br/&gt;
[                          main] DefaultInstrumentationAgent    DEBUG Registered MBean with objectname: org.apache.camel:context=dell-charles/camel-1,type=endpoints,name=&quot;event://default&amp;#63;id=0xdaebda6&quot;&lt;br/&gt;
[                          main] DefaultInstrumentationAgent    DEBUG Registered MBean with objectname: org.apache.camel:context=dell-charles/camel-1,type=processors,nodeid=to1,name=&quot;To&lt;span class=&quot;error&quot;&gt;&amp;#91;mock:test&amp;#93;&lt;/span&gt;&quot;&lt;br/&gt;
[                          main] DefaultComponentResolver       DEBUG Found component: mock via type: org.apache.camel.component.mock.MockComponent via META-INF/services/org/apache/camel/component/mock&lt;br/&gt;
[                          main] DefaultComponent               DEBUG Creating endpoint uri=&lt;span class=&quot;error&quot;&gt;&amp;#91;mock:test&amp;#93;&lt;/span&gt;, path=&lt;span class=&quot;error&quot;&gt;&amp;#91;test&amp;#93;&lt;/span&gt;, parameters=&lt;span class=&quot;error&quot;&gt;&amp;#91;{}&amp;#93;&lt;/span&gt;&lt;br/&gt;
[                          main] DefaultCamelContext            DEBUG mock:test converted to endpoint: Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;mock:test&amp;#93;&lt;/span&gt; by component: org.apache.camel.component.mock.MockComponent@e0b6f5&lt;br/&gt;
[                          main] DefaultInstrumentationAgent    DEBUG Registered MBean with objectname: org.apache.camel:context=dell-charles/camel-1,type=endpoints,name=&quot;mock:test&amp;#63;id=0x1f9866cb&quot;&lt;br/&gt;
[                          main] DefaultInstrumentationAgent    DEBUG Registered MBean with objectname: org.apache.camel:context=dell-charles/camel-1,type=routes,name=&quot;node1&quot;&lt;br/&gt;
[                          main] DefaultInstrumentationAgent    DEBUG Registered MBean with objectname: org.apache.camel:context=dell-charles/camel-1,type=consumers,name=EventConsumer(0x97a560)&lt;br/&gt;
[                          main] ProducerCache                  DEBUG &amp;gt;&amp;gt;&amp;gt;&amp;gt; Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;event://default&amp;#93;&lt;/span&gt; Exchange&lt;span class=&quot;error&quot;&gt;&amp;#91;Message: Hello there!&amp;#93;&lt;/span&gt;&lt;br/&gt;
[                          main] ResolverUtil                   DEBUG Searching for annotations of org.apache.camel.Converter in packages: &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.camel.converter, org.apache.camel.component.cxf.converter, org.apache.camel.spring.converter&amp;#93;&lt;/span&gt;&lt;br/&gt;
[                          main] ResolverUtil                   DEBUG Using only regular classloaders&lt;br/&gt;
[                          main] ResolverUtil                   DEBUG Loading from jar: C:\.m2\repository\org\apache\camel\camel-core\1.5-SNAPSHOT\camel-core-1.5-SNAPSHOT.jar&lt;br/&gt;
[                          main] ResolverUtil                   DEBUG Using only regular classloaders&lt;br/&gt;
[                          main] ResolverUtil                   DEBUG Loading from jar: C:\.m2\repository\org\apache\camel\camel-cxf\1.5-SNAPSHOT\camel-cxf-1.5-SNAPSHOT.jar&lt;br/&gt;
[                          main] ResolverUtil                   DEBUG Using only regular classloaders&lt;br/&gt;
[                          main] ResolverUtil                   DEBUG Found: &lt;span class=&quot;error&quot;&gt;&amp;#91;class org.apache.camel.converter.stream.StreamCacheConverter, class org.apache.camel.converter.CamelConverter, class org.apache.camel.converter.IOConverter, class org.apache.camel.converter.jaxp.DomConverter, class org.apache.camel.converter.jaxp.StaxConverter, class org.apache.camel.converter.jaxp.StreamSourceConverter, class org.apache.camel.converter.ObjectConverter, class org.apache.camel.converter.NIOConverter, class org.apache.camel.component.cxf.converter.CxfConverter, class org.apache.camel.converter.jaxp.XmlConverter, class org.apache.camel.converter.CollectionConverter&amp;#93;&lt;/span&gt;&lt;br/&gt;
[                          main] AnnotationTypeConverterLoader  DEBUG Loading converter class: org.apache.camel.converter.stream.StreamCacheConverter&lt;br/&gt;
[                          main] AnnotationTypeConverterLoader  DEBUG Loading converter class: org.apache.camel.converter.CamelConverter&lt;br/&gt;
[                          main] AnnotationTypeConverterLoader  DEBUG Loading converter class: org.apache.camel.converter.IOConverter&lt;br/&gt;
[                          main] AnnotationTypeConverterLoader  DEBUG Loading converter class: org.apache.camel.converter.jaxp.DomConverter&lt;br/&gt;
[                          main] AnnotationTypeConverterLoader  DEBUG Loading converter class: org.apache.camel.converter.jaxp.StaxConverter&lt;br/&gt;
[                          main] AnnotationTypeConverterLoader  DEBUG Loading converter class: org.apache.camel.converter.jaxp.StreamSourceConverter&lt;br/&gt;
[                          main] AnnotationTypeConverterLoader  DEBUG Loading converter class: org.apache.camel.converter.ObjectConverter&lt;br/&gt;
[                          main] AnnotationTypeConverterLoader  DEBUG Loading converter class: org.apache.camel.converter.NIOConverter&lt;br/&gt;
[                          main] AnnotationTypeConverterLoader  DEBUG Loading converter class: org.apache.camel.component.cxf.converter.CxfConverter&lt;br/&gt;
[                          main] AnnotationTypeConverterLoader  DEBUG Loading converter class: org.apache.camel.converter.jaxp.XmlConverter&lt;br/&gt;
[                          main] DefaultTypeConverter           WARN  Overriding type converter from: StaticMethodTypeConverter: public static java.lang.String org.apache.camel.converter.IOConverter.toString(javax.xml.transform.Source) throws javax.xml.transform.TransformerException,java.io.IOException to: InstanceMethodTypeConverter: public java.lang.String org.apache.camel.converter.jaxp.XmlConverter.toString(javax.xml.transform.Source) throws javax.xml.transform.TransformerException&lt;br/&gt;
[                          main] AnnotationTypeConverterLoader  DEBUG Loading converter class: org.apache.camel.converter.CollectionConverter&lt;br/&gt;
org.apache.camel.RuntimeCamelException: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:685)&lt;br/&gt;
        at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:90)&lt;br/&gt;
        at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:85)&lt;br/&gt;
        at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:102)&lt;br/&gt;
        at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:108)&lt;br/&gt;
        at com.xpectis.test.ProcessEvent.startCamel(ProcessEvent.java:44)&lt;br/&gt;
        at com.xpectis.test.ProcessEvent.main(ProcessEvent.java:63)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.camel.component.event.EventEndpoint$1.process(EventEndpoint.java:68)&lt;br/&gt;
        at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:151)&lt;br/&gt;
        at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:88)&lt;br/&gt;
        ... 5 more&lt;/p&gt;

&lt;p&gt;when I run the code above :&lt;/p&gt;

&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Licensed to the Apache Software Foundation (ASF) under one or more&lt;/li&gt;
	&lt;li&gt;contributor license agreements.  See the NOTICE file distributed with&lt;/li&gt;
	&lt;li&gt;this work for additional information regarding copyright ownership.&lt;/li&gt;
	&lt;li&gt;The ASF licenses this file to You under the Apache License, Version 2.0&lt;/li&gt;
	&lt;li&gt;(the &quot;License&quot;); you may not use this file except in compliance with&lt;/li&gt;
	&lt;li&gt;the License.  You may obtain a copy of the License at&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;Unless required by applicable law or agreed to in writing, software&lt;/li&gt;
	&lt;li&gt;distributed under the License is distributed on an &quot;AS IS&quot; BASIS,&lt;/li&gt;
	&lt;li&gt;WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&lt;/li&gt;
	&lt;li&gt;See the License for the specific language governing permissions and&lt;/li&gt;
	&lt;li&gt;limitations under the License.&lt;br/&gt;
 */&lt;br/&gt;
package com.xpectis.test;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;import org.apache.camel.CamelContext;&lt;br/&gt;
import org.apache.camel.Exchange;&lt;br/&gt;
import org.apache.camel.ProducerTemplate;&lt;br/&gt;
import org.apache.camel.builder.RouteBuilder;&lt;br/&gt;
import org.apache.camel.impl.DefaultCamelContext;&lt;br/&gt;
import org.apache.commons.logging.Log;&lt;br/&gt;
import org.apache.commons.logging.LogFactory;&lt;/p&gt;

&lt;p&gt;public class ProcessEvent {&lt;/p&gt;

&lt;p&gt;        private static final transient Log LOG = LogFactory.getLog(ProcessEvent.class);&lt;/p&gt;

&lt;p&gt;        protected CamelContext camelContext;&lt;/p&gt;

&lt;p&gt;        protected Object body = &quot;Hello there!&quot;;&lt;br/&gt;
        protected String uri = &quot;event://default&quot;;&lt;br/&gt;
        protected ProducerTemplate&amp;lt;Exchange&amp;gt; template = null;&lt;/p&gt;

&lt;p&gt;        public void startCamel() throws Exception &lt;/p&gt;
{
                camelContext = new DefaultCamelContext();
               
                camelContext.addRoutes(createRouteBuilder());
                camelContext.start();

                template = camelContext.createProducerTemplate();
                template.sendBody(uri, body);
        }

&lt;p&gt;    protected RouteBuilder createRouteBuilder() throws Exception {&lt;br/&gt;
        return new RouteBuilder() {&lt;br/&gt;
            @Override&lt;br/&gt;
                        public void configure() throws Exception &lt;/p&gt;
{
                from(&quot;event://default&quot;).to(&quot;mock:test&quot;);
            }
&lt;p&gt;        };&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;        /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@param args&lt;br/&gt;
         */&lt;br/&gt;
        public static void main(String[] args) {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;                ProcessEvent event = new ProcessEvent();&lt;br/&gt;
                try &lt;/p&gt;
{
                        event.startCamel();
                }
&lt;p&gt; catch (Exception e) &lt;/p&gt;
{
                        e.printStackTrace();
                }
&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;} &lt;/p&gt;</description>
                <environment></environment>
        <key id="12484961">CAMEL-994</key>
            <summary>NullPointerException is raised by the Camel Event endpoint (org.apache.camel.component.event.EventEndpoint) during message sending (= produce)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cmoulliard">Moulliard Charles</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Oct 2008 08:17:11 +0000</created>
                <updated>Mon, 16 Feb 2009 05:51:55 +0000</updated>
                            <resolved>Sat, 18 Oct 2008 09:35:51 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>camel-spring</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12949227" author="davsclaus" created="Sat, 18 Oct 2008 09:35:51 +0000"  >&lt;p&gt;Charles you need to use spring as well as the event component is spring events.&lt;/p&gt;

&lt;p&gt;What is needed is to set the spring application context on the endpoint before it can be used.&lt;/p&gt;
</comment>
                            <comment id="12950804" author="davsclaus" created="Mon, 16 Feb 2009 05:51:55 +0000"  >&lt;p&gt;Closing all 1.5.0 issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>103440</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01fof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>