<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:28:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-12379] Shutdown only AWS clients owned by the context</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-12379</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;This is caused by &lt;a href=&quot;https://github.com/apache/camel/commit/0a34a3ccfdf487b2e855c0ed567b479a49bcd51e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/0a34a3ccfdf487b2e855c0ed567b479a49bcd51e&lt;/a&gt; that calls &lt;tt&gt;ddbClient.shutdown()&lt;/tt&gt; on&#160;endpoint shutdown.&lt;/p&gt;

&lt;p&gt;As it happens we have a test in WildFly Camel that does roughly the following;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;It first binds a client instance we claim to own (because we created it ourselves) to&#160;a camelctx&lt;/li&gt;
	&lt;li&gt;It does some route invocations and assertions&lt;/li&gt;
	&lt;li&gt;It&#160;stops the camelctx&lt;/li&gt;
	&lt;li&gt;And finally it wants to delete all Dynamo tables it has created&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The last point cannot succeed because the client is closed.&lt;/p&gt;

&lt;p&gt;The test is here&#160;&lt;a href=&quot;https://github.com/wildfly-extras/wildfly-camel/blob/7c9c67362b324043f6ad95e4233330c2d160e9c3/itests/standalone/extra/src/test/java/org/wildfly/camel/test/aws/DynamoDBIntegrationTest.java#L58&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/wildfly-extras/wildfly-camel/blob/7c9c67362b324043f6ad95e4233330c2d160e9c3/itests/standalone/extra/src/test/java/org/wildfly/camel/test/aws/DynamoDBIntegrationTest.java#L58&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We tend to think that camel should only close&#160;the resources it owns. It it is us who created a resource and bound it manually to a name, we expect not to loose the ownership by that. Camel should thus destroy only resources it has created itself.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13146261">CAMEL-12379</key>
            <summary>Shutdown only AWS clients owned by the context</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="acosentino">Andrea Cosentino</assignee>
                                    <reporter username="ppalaga">Peter Palaga</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Mar 2018 14:47:11 +0000</created>
                <updated>Tue, 20 Mar 2018 07:18:33 +0000</updated>
                            <resolved>Tue, 20 Mar 2018 07:18:33 +0000</resolved>
                                    <version>2.21.0</version>
                                    <fixVersion>2.21.1</fixVersion>
                    <fixVersion>2.22.0</fixVersion>
                                    <component>camel-aws</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16405017" author="ppalaga" created="Mon, 19 Mar 2018 15:57:23 +0000"  >&lt;p&gt;Looks like we have the same problem also for at least ec2, kinesis, s3, SNS and SQS.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3rhwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>