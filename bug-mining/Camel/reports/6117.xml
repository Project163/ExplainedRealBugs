<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:53:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-17912] camel-sjms2 - preserveMessageQoS seems to not work as expected</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-17912</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;In SJMS2 producer parameter preserveMessageQos doesn&apos;t work. Message arrives with default durability and priority values, not from headers&lt;/p&gt;

&lt;p&gt;If the parameter &lt;em&gt;preserveMessageQos&lt;/em&gt;  value is true, the values from the headers &lt;em&gt;JMSPriority, JMSDeliveryMode, and JMSExpiration&lt;/em&gt; are not set when the message is sent.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Steps&lt;/b&gt;&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Install and run Apache Artemis (user/password root/root)&lt;/li&gt;
	&lt;li&gt;Create ANYCAST queue IN from console &lt;a href=&quot;http://localhost:8161/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8161/console&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Send nondurable message with 0 priority in queue IN&lt;/li&gt;
	&lt;li&gt;Run Sjms2MoveTest from sjms2Move maven project in attachment&lt;/li&gt;
	&lt;li&gt;Check message in OUT queue&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;b&gt;Expected Behavior:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Message nondurable and has 0 priority&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Received Behavior:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Message durable and has 4 priority (default values)&lt;/p&gt;

&lt;p&gt; &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13042067/13042067_CreateQueue.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13042066/13042066_SendMessage.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13042065/13042065_MessageIN.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13042064/13042064_MessageOUT.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;



</description>
                <environment>&lt;p&gt;JDK 8&lt;/p&gt;

&lt;p&gt;camel-version 3.14.2&lt;/p&gt;
</environment>
        <key id="13438138">CAMEL-17912</key>
            <summary>camel-sjms2 - preserveMessageQoS seems to not work as expected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="lukymiv">Mikhail Lukyanov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Apr 2022 10:00:25 +0000</created>
                <updated>Tue, 12 Apr 2022 17:32:21 +0000</updated>
                            <resolved>Tue, 12 Apr 2022 17:04:58 +0000</resolved>
                                    <version>3.11.6</version>
                    <version>3.14.2</version>
                                    <fixVersion>3.11.7</fixVersion>
                    <fixVersion>3.14.3</fixVersion>
                    <fixVersion>3.17.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17518912" author="davsclaus" created="Thu, 7 Apr 2022 14:18:54 +0000"  >&lt;p&gt;Thanks for reporting and the good guide on how to reproduce&lt;/p&gt;

&lt;p&gt;You are welcome to dive into the code and see if you can find the bug / suggestion where it is / and if possible an attempted fix. Github PRs is welcome&lt;/p&gt;</comment>
                            <comment id="17521254" author="lukymiv" created="Tue, 12 Apr 2022 17:32:21 +0000"  >&lt;p&gt;Thanks for your reply, &#1057;laus. May I ask, how does this component camel-sjms2 differ from the usual camel-jms in the 3.x version, does it have any advantages over the camel-jms component? In the 2.x version, it had transaction batching, the producers count, its own thread pool, now it has been rewritten, this is not there.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13042067" name="CreateQueue.png" size="41352" author="lukymiv" created="Wed, 6 Apr 2022 09:26:43 +0000"/>
                            <attachment id="13042065" name="MessageIN.png" size="27908" author="lukymiv" created="Wed, 6 Apr 2022 09:54:52 +0000"/>
                            <attachment id="13042064" name="MessageOUT.png" size="29705" author="lukymiv" created="Wed, 6 Apr 2022 09:55:05 +0000"/>
                            <attachment id="13042066" name="SendMessage.png" size="22935" author="lukymiv" created="Wed, 6 Apr 2022 09:54:13 +0000"/>
                            <attachment id="13042063" name="sjms2Move-1.rar" size="9582" author="lukymiv" created="Wed, 6 Apr 2022 09:59:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z117mo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>