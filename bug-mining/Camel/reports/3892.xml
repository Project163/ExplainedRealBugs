<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:20:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-10490] JpaPollingConsumer does not support consumeLockEntity and others</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-10490</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Since the introduction of JpaPollingConsumer in camel 2.18.0, it is not possible anymore to use some of jpa consumer options (consumeLockEntity, consumeDelete, ...).&lt;/p&gt;

&lt;p&gt;Documentation also lacks some information on which option can be used by the jpa consumer and not by the polling consumer.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13021473">CAMEL-10490</key>
            <summary>JpaPollingConsumer does not support consumeLockEntity and others</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="bgaudaen">Bob Gaudaen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Nov 2016 14:39:12 +0000</created>
                <updated>Wed, 30 Nov 2016 14:50:40 +0000</updated>
                            <resolved>Wed, 30 Nov 2016 14:50:40 +0000</resolved>
                                    <version>2.18.0</version>
                                    <fixVersion>2.18.2</fixVersion>
                    <fixVersion>2.19.0</fixVersion>
                                    <component>camel-jpa</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15673893" author="bgaudaen" created="Thu, 17 Nov 2016 14:43:47 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;, I&apos;ll try to submit a patch including entity lock functionality in the next days unless you think it is not a bug.&lt;/p&gt;</comment>
                            <comment id="15683065" author="davsclaus" created="Mon, 21 Nov 2016 09:58:15 +0000"  >&lt;p&gt;We love contributions. So you are welcome to do a patch / PR&lt;br/&gt;
&lt;a href=&quot;http://camel.apache.org/contributing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/contributing&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15699302" author="davsclaus" created="Sun, 27 Nov 2016 08:31:09 +0000"  >&lt;p&gt;Hey Bob&lt;/p&gt;

&lt;p&gt;Did you have time to work on this?&lt;/p&gt;</comment>
                            <comment id="15699330" author="bgaudaen" created="Sun, 27 Nov 2016 08:53:41 +0000"  >&lt;p&gt;Hi Claus. Unfortunately not. I was on on holiday past week... I will have&lt;br/&gt;
more time this week.&lt;/p&gt;

</comment>
                            <comment id="15708626" author="githubbot" created="Wed, 30 Nov 2016 13:41:19 +0000"  >&lt;p&gt;GitHub user bgaudaen opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1322&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1322&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10490&quot; title=&quot;JpaPollingConsumer does not support consumeLockEntity and others&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10490&quot;&gt;&lt;del&gt;CAMEL-10490&lt;/del&gt;&lt;/a&gt;: Implemented consumeLockEntity and lockModeType options on JpaPollingConsumer&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/bgaudaen/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bgaudaen/camel&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1322.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1322.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1322&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a972befaa7b27c6af49e40e0e5147939c66a189e&lt;br/&gt;
Author: Bob Gaudaen &amp;lt;bob.gaudaen@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-18T16:01:12Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10490&quot; title=&quot;JpaPollingConsumer does not support consumeLockEntity and others&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10490&quot;&gt;&lt;del&gt;CAMEL-10490&lt;/del&gt;&lt;/a&gt; Wrote unit test to illustrate concurrency problem&lt;/p&gt;

&lt;p&gt;commit dcdb619e60383105fdafc71fb94aed86c686f588&lt;br/&gt;
Author: Bob Gaudaen &amp;lt;bob.gaudaen@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-18T16:04:08Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10490&quot; title=&quot;JpaPollingConsumer does not support consumeLockEntity and others&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10490&quot;&gt;&lt;del&gt;CAMEL-10490&lt;/del&gt;&lt;/a&gt; Added LockModeType in JpaPollingConsumer.&lt;/p&gt;

&lt;p&gt;    Still doesn&apos;t pass the test with the derby jdbc driver, but passes with MySQL...&lt;/p&gt;

&lt;p&gt;commit 9a5f83f9a8a0d47038aeb16fa09c8db67c1ec6b0&lt;br/&gt;
Author: Bob Gaudaen &amp;lt;bob.gaudaen@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-28T10:11:00Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10490&quot; title=&quot;JpaPollingConsumer does not support consumeLockEntity and others&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10490&quot;&gt;&lt;del&gt;CAMEL-10490&lt;/del&gt;&lt;/a&gt; Some code cleanup&lt;/p&gt;

&lt;p&gt;commit 6795c114ac825f020b85d2a6929ddf5f200c78d5&lt;br/&gt;
Author: Bob Gaudaen &amp;lt;bob.gaudaen@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-30T12:39:21Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10490&quot; title=&quot;JpaPollingConsumer does not support consumeLockEntity and others&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10490&quot;&gt;&lt;del&gt;CAMEL-10490&lt;/del&gt;&lt;/a&gt; Changed to optimistic lock mode type and added test for concurrent access without lock&lt;/p&gt;

&lt;p&gt;commit f7586ffb04d4d8373856f899b3ed4b8095ad7ed9&lt;br/&gt;
Author: Bob Gaudaen &amp;lt;bob.gaudaen@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-30T13:17:21Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10490&quot; title=&quot;JpaPollingConsumer does not support consumeLockEntity and others&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10490&quot;&gt;&lt;del&gt;CAMEL-10490&lt;/del&gt;&lt;/a&gt; CheckStyle warnings&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15708778" author="githubbot" created="Wed, 30 Nov 2016 14:49:54 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1322&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/1322&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15708782" author="davsclaus" created="Wed, 30 Nov 2016 14:50:40 +0000"  >&lt;p&gt;Thanks for the PR&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12487613">CAMEL-3142</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36gg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Regression</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10091"><![CDATA[Regression]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>