<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:35:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-13407] CouchDbChangesetTracker fails silently on network error and does not recover</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-13407</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;We ran into this in production when a network error made the CouchDB instance unavailable for a short while.&lt;/p&gt;

&lt;p&gt;We were running with camel 2.18.1 so I patched a local copy of the component; which has been running without problems for many weeks now.&lt;/p&gt;

&lt;p&gt;I&apos;d like to propose our code as the&#160;fix to this.&lt;/p&gt;

&lt;p&gt;We&apos;re now running with 2.23.1 so would be looking for a 2.x fix&lt;/p&gt;</description>
                <environment></environment>
        <key id="13227430">CAMEL-13407</key>
            <summary>CouchDbChangesetTracker fails silently on network error and does not recover</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ramu11">Ramu</assignee>
                                    <reporter username="simon.temple@amalto.com">Simon Temple</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Apr 2019 10:46:42 +0000</created>
                <updated>Thu, 13 Jun 2019 07:24:42 +0000</updated>
                            <resolved>Mon, 3 Jun 2019 14:12:19 +0000</resolved>
                                    <version>2.21.5</version>
                                    <fixVersion>3.0.0-M3</fixVersion>
                    <fixVersion>2.23.3</fixVersion>
                    <fixVersion>2.24.1</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                    <fixVersion>2.25.0</fixVersion>
                                    <component>camel-couchdb</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="16815896" author="ramu11" created="Fri, 12 Apr 2019 01:56:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=simon.temple%40amalto.com&quot; class=&quot;user-hover&quot; rel=&quot;simon.temple@amalto.com&quot;&gt;simon.temple@amalto.com&lt;/a&gt; could you please attach a simple  junit test for the changes&lt;/p&gt;</comment>
                            <comment id="16819289" author="simon.temple@amalto.com" created="Tue, 16 Apr 2019 17:14:43 +0000"  >&lt;p&gt;I added&#160;testProcessorUnstable() to&#160;CouchDbChangesetTrackerTest&lt;/p&gt;

&lt;p&gt;and reattached&#160;CouchDbChangesetTracker as I made a couple of small changes to ensure we&#160;always log exceptions that cause the Runnable to exit.&lt;/p&gt;</comment>
                            <comment id="16860042" author="simon.temple@amalto.com" created="Mon, 10 Jun 2019 14:34:45 +0000"  >&lt;p&gt;I just downloaded the 2.23.3 ZIP bundle as it was released yesterday.&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/releases/tag/camel-2.23.3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/releases/tag/camel-2.23.3&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Unfortunately this change is not in the release.&lt;/p&gt;

&lt;p&gt;In which release will this fix be release?&lt;/p&gt;</comment>
                            <comment id="16860056" author="ramu11" created="Mon, 10 Jun 2019 15:03:31 +0000"  >&lt;p&gt;It is fixed in master branch  &lt;/p&gt;</comment>
                            <comment id="16860067" author="ancosen" created="Mon, 10 Jun 2019 15:04:36 +0000"  >&lt;p&gt;on 3.0.0-M3&lt;/p&gt;</comment>
                            <comment id="16860074" author="simon.temple@amalto.com" created="Mon, 10 Jun 2019 15:17:03 +0000"  >&lt;p&gt;&quot;We&apos;re now running with 2.23.1 so would be looking for a 2.x fix&quot;&lt;/p&gt;

&lt;p&gt;Any chance we can have a fix on a 2.x branch?&lt;/p&gt;</comment>
                            <comment id="16860808" author="ancosen" created="Tue, 11 Jun 2019 10:48:28 +0000"  >&lt;p&gt;We can try to backport on 2.x and 2.24.x and 2.23.x (available for 2.23.4)&lt;/p&gt;</comment>
                            <comment id="16861809" author="simon.temple@amalto.com" created="Wed, 12 Jun 2019 06:57:52 +0000"  >&lt;p&gt;Yes please.&lt;/p&gt;

&lt;p&gt;Thank you&lt;/p&gt;</comment>
                            <comment id="16862788" author="ancosen" created="Thu, 13 Jun 2019 07:24:42 +0000"  >&lt;p&gt;Done&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12966116" name="CouchDbChangesetTracker.java" size="5464" author="simon.temple@amalto.com" created="Tue, 16 Apr 2019 17:11:46 +0000"/>
                            <attachment id="12966117" name="CouchDbChangesetTrackerTest.java" size="5177" author="simon.temple@amalto.com" created="Tue, 16 Apr 2019 17:12:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z01oj4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>