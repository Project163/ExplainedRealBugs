<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:57:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-6197] Memory leak when using CometD producer</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-6197</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;We have an application that creates a lot of channels, resulting in a lot of producers with a Cometd local session attached. These local sessions just add up till we get a out of memory. &lt;/p&gt;

</description>
                <environment></environment>
        <key id="12638264">CAMEL-6197</key>
            <summary>Memory leak when using CometD producer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="calbazasebastian">Seb C</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Mar 2013 15:49:35 +0000</created>
                <updated>Sun, 2 Jun 2013 19:33:43 +0000</updated>
                            <resolved>Sun, 2 Jun 2013 15:52:36 +0000</resolved>
                                    <version>2.10.4</version>
                                    <fixVersion>2.10.5</fixVersion>
                    <fixVersion>2.11.1</fixVersion>
                    <fixVersion>2.12.0</fixVersion>
                                    <component>camel-cometd</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13609594" author="muellerc" created="Thu, 21 Mar 2013 22:23:10 +0000"  >&lt;p&gt;Do you consider to work on a patch? And also on a unit test which show the issue?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://camel.apache.org/contributing.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/contributing.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13611284" author="calbazasebastian" created="Fri, 22 Mar 2013 21:29:44 +0000"  >&lt;p&gt;Sure, will do&lt;/p&gt;</comment>
                            <comment id="13611320" author="muellerc" created="Fri, 22 Mar 2013 21:57:05 +0000"  >&lt;p&gt;Cool. Looking forward to your patch...&lt;/p&gt;</comment>
                            <comment id="13667306" author="davsclaus" created="Sun, 26 May 2013 12:43:34 +0000"  >&lt;p&gt;Any update on a patch?&lt;/p&gt;</comment>
                            <comment id="13667420" author="calbazasebastian" created="Sun, 26 May 2013 22:18:37 +0000"  >&lt;p&gt;Check &lt;a href=&quot;https://github.com/calbazasebastian/camel/commits/sebi/6197_cometd_oom&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/calbazasebastian/camel/commits/sebi/6197_cometd_oom&lt;/a&gt; &lt;br/&gt;
The simplest solution is to disconnect the session that is created by the producer... I added an isLocalSession check to close just the local ones as these are lightweight objects and are not sweeped.&lt;/p&gt;</comment>
                            <comment id="13672585" author="davsclaus" created="Sun, 2 Jun 2013 15:52:36 +0000"  >&lt;p&gt;Thanks for reporting and providing a patch with a solution.&lt;/p&gt;</comment>
                            <comment id="13672652" author="bvahdat" created="Sun, 2 Jun 2013 19:33:43 +0000"  >&lt;p&gt;The ticket is marked as fixed but I don&apos;t see any commit for this on any branch, e.g. on master this&apos;s the current history I see:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;commit ddf7ba9b9140eaaab3c784732bfd6eeb1f0114d2
Author: Claus Ibsen &amp;lt;davsclaus@apache.org&amp;gt;
Date:   Sun Jun 2 17:22:49 2013 +0200

    CAMEL-6157: Added support &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; named parameters to camel-jdbc, like we have in camel-sql. Thanks to Devendra Khanolkar &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; contribution.

commit bd34771fa19702b9c8f7e86ac56b4a92d2c35169
Author: Claus Ibsen &amp;lt;davsclaus@apache.org&amp;gt;
Date:   Sun Jun 2 11:42:08 2013 +0200

    CAMEL-6413: Fixed race condition in file consumer, as read lock release should be executed last.

commit 211f90657478df858e02f0bbf8d912d2199b0484
Author: Babak Vahdat &amp;lt;bvahdat@apache.org&amp;gt;
Date:   Sun Jun 2 11:22:13 2013 +0200

    CAMEL-6412: Trying to fix the broken build.

commit 6ca055d399b7528175f0192f5d948350e1ee7258
Author: Babak Vahdat &amp;lt;bvahdat@apache.org&amp;gt;
Date:   Sun Jun 2 00:11:18 2013 +0200

    CAMEL-6412: Fixed the Maven build warning about camel-validator-test-resources.jar

commit bdf64e05c8f5b045bb0cbee07a181a06bd516355
Author: Babak Vahdat &amp;lt;bvahdat@apache.org&amp;gt;
Date:   Sat Jun 1 19:38:40 2013 +0200

    Polished.

commit 1da8850907623866acaa648f6378596e79f0db69
Author: Babak Vahdat &amp;lt;bvahdat@apache.org&amp;gt;
Date:   Sat Jun 1 19:30:52 2013 +0200

    Polished.

commit d5b16f55799a5cdfc2b69bcab62ecbd0962e0f53
Author: Claus Ibsen &amp;lt;davsclaus@apache.org&amp;gt;
Date:   Sat Jun 1 07:28:10 2013 +0200

    Upgrade to Groovy 2.1.4

commit 343fd1cf5b08953072f4f3b5bb344dbfad87343c
Author: Babak Vahdat &amp;lt;bvahdat@apache.org&amp;gt;
Date:   Fri May 31 21:56:14 2013 +0200

    Upgrade to Bouncy Castle 1.48 which is already an OSGi bundle out-of-the-box (no need &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a SMX bundle anymore). Also cleaned up all the @deprecated Bouncy

commit 9016ac6a22871097ce55d47a4af166f7c73a1f0f
Author: Babak Vahdat &amp;lt;bvahdat@apache.org&amp;gt;
Date:   Fri May 31 19:53:51 2013 +0200

    Resolved the deprecated API usage after upgrade to Ehcache 2.7.0.

commit 8c57bd4d204e9ecb2bcb54e5733e5b322ac9f710
Author: Babak Vahdat &amp;lt;bvahdat@apache.org&amp;gt;
Date:   Fri May 31 19:37:15 2013 +0200

    Upgrade to Ehcache 2.7.0 which is already an OSGi bundle out-of-the-box (no need &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a SMX bundle anymore).
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318740</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1izxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>