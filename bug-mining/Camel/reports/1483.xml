<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:45:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-4105] Thread controlling FTP Polling Process dies</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-4105</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I have several threads each polling a different FTP Remote folder location.  This works fine for a couple of weeks then one or more FTP Threads die (disappear).  I&apos;m going to attach a snippet from my log file below.  Notice that normally the connection to the FTP site does not exists.  The connection is then made and the folders are checked then the FTP process disconnects.  Some of the folders are on the same remote FTP site and I don&apos;t know if that causes a problem or not.&lt;/p&gt;

&lt;p&gt;The first time I notice that the thread is dead is when the code starts checking the FTP threads to see if they are connected and I notices that not all of the thread are listed.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;LOG SNIPPET ***&lt;br/&gt;
2011-06-13 11:40:00,531 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #1 - &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:00,609 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #6 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Vendors&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Vendors&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:00,609 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #5 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:00,609 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #3 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:00,609 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #2 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/TransportXML&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/TransportXML&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:00,905 | INFO  | Connected and logged in to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #6 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Vendors&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Vendors&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:00,911 | INFO  | Connected and logged in to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #2 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/TransportXML&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/TransportXML&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:00,914 | INFO  | Connected and logged in to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #3 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:00,918 | INFO  | Connected and logged in to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #5 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:01,184 | INFO  | Connected and logged in to: &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #1 - &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:01,470 | DEBUG | Took 0.565 seconds to poll: Outbound/Vendors | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #6 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Vendors&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Vendors&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:01,470 | DEBUG | Disconnecting from: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #6 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Vendors&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Vendors&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:01,562 | DEBUG | Took 0.650 seconds to poll: Outbound/TransportXML | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #2 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/TransportXML&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/TransportXML&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:01,562 | DEBUG | Disconnecting from: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #2 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/TransportXML&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/TransportXML&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:01,582 | DEBUG | Took 0.668 seconds to poll: Outbound/AP | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #3 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:01,583 | DEBUG | Disconnecting from: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #3 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:01,583 | DEBUG | Took 0.665 seconds to poll: Outbound/Customers | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #5 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:01,583 | DEBUG | Disconnecting from: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #5 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:01,877 | DEBUG | Took 0.693 seconds to poll: outbound | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #1 - &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:01,877 | DEBUG | Disconnecting from: &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #1 - &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:40:46,452 | INFO  | src=Ftp,srcTime=2011-06-13 11:39:03.418,dst=ROUTER,file=/esb/ToRouter/Binary/CARRIER/JBHLOW/TO_BNSF_DATA/HJBT110613113850.EDI,modified=2011-06-13 11:38:56.000,size=264 | Inbound | DefaultMessageListenerContainer-1&lt;br/&gt;
2011-06-13 11:40:46,465 | INFO  | src=Ftp,srcTime=2011-06-13 11:39:03.418,dst=Edi,file=Edi-CARRIER/JBHLOW/TO_BNSF_DATA/HJBT110613113850.EDI,modified=2011-06-13 11:38:56.000,size=264 | DstEdi | DefaultMessageListenerContainer-1&lt;br/&gt;
2011-06-13 11:41:00,524 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #1 - &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:00,583 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #6 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Vendors&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Vendors&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:00,594 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #5 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:00,594 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #3 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:00,594 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #2 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/TransportXML&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/TransportXML&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:00,985 | INFO  | Connected and logged in to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #2 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/TransportXML&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/TransportXML&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:00,996 | INFO  | Connected and logged in to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #6 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Vendors&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Vendors&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:01,043 | INFO  | Connected and logged in to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #3 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:01,048 | INFO  | Connected and logged in to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #5 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:01,171 | INFO  | Connected and logged in to: &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #1 - &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:01,527 | INFO  | src=Ftp,srcTime=2011-06-13 11:39:18.540,dst=ROUTER,file=/esb/ToRouter/Binary/CARRIER/JBHLOW/TO_BNSF_DATA/HJBT110613113857.EDI,modified=2011-06-13 11:39:12.000,size=257 | Inbound | DefaultMessageListenerContainer-1&lt;br/&gt;
2011-06-13 11:41:01,536 | INFO  | src=Ftp,srcTime=2011-06-13 11:39:18.540,dst=Edi,file=Edi-CARRIER/JBHLOW/TO_BNSF_DATA/HJBT110613113857.EDI,modified=2011-06-13 11:39:12.000,size=257 | DstEdi | DefaultMessageListenerContainer-1&lt;br/&gt;
2011-06-13 11:41:01,596 | DEBUG | Took 0.553 seconds to poll: Outbound/AP | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #3 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:01,596 | DEBUG | Disconnecting from: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #3 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:02,396 | DEBUG | Took 1.348 seconds to poll: Outbound/Customers | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #5 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:02,396 | DEBUG | Disconnecting from: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #5 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:02,973 | DEBUG | Took 1.802 seconds to poll: outbound | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #1 - &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:02,973 | DEBUG | Disconnecting from: &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #1 - &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:41:36,017 | ERROR | Could not accept connection : org.apache.activemq.transport.InactivityIOException: Channel was inactive for too long: /172.24.1.95:45512 | org.apache.activemq.broker.TransportConnector | ActiveMQ Task&lt;br/&gt;
2011-06-13 11:42:00,520 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #1 - &lt;a href=&quot;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://r0060207@ftp.inttraworks.inttra.com/outbound&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:42:00,572 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #3 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/AP&lt;/a&gt;&lt;br/&gt;
2011-06-13 11:42:00,580 | DEBUG | Not connected/logged in, connecting to: &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net:21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net:21&lt;/a&gt; | org.apache.camel.component.file.remote.FtpConsumer | Camel (camel) thread #5 - &lt;a href=&quot;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://bnsf@ftp.mercurygate.net/Outbound/Customers&lt;/a&gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;apache-activemq-fuse-01-00, apache-camel-2.6.0-fuse-00-00, Java jdk1.6.0_25&lt;/p&gt;</environment>
        <key id="12510319">CAMEL-4105</key>
            <summary>Thread controlling FTP Polling Process dies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="bbuzzard">Billy Buzzard</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Jun 2011 15:02:51 +0000</created>
                <updated>Tue, 25 Oct 2011 11:35:23 +0000</updated>
                            <resolved>Thu, 16 Jun 2011 05:32:12 +0000</resolved>
                                    <version>2.6.0</version>
                                    <fixVersion>2.7.3</fixVersion>
                    <fixVersion>2.8.0</fixVersion>
                                    <component>camel-ftp</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13049246" author="davsclaus" created="Tue, 14 Jun 2011 16:05:01 +0000"  >&lt;p&gt;Can you upgrade to a never Camel release.&lt;/p&gt;
</comment>
                            <comment id="13049259" author="bbuzzard" created="Tue, 14 Jun 2011 16:36:11 +0000"  >&lt;p&gt;Does the newest version fix this problem?  If so, what was the problem?  We prefer not to update unless there is a specific fix.  We don&apos;t want to introduce new bugs if we can avoid it.&lt;/p&gt;</comment>
                            <comment id="13049261" author="bbuzzard" created="Tue, 14 Jun 2011 16:39:32 +0000"  >&lt;p&gt;Pulling FTP files in from a remote FTP site is very important to us.  If we can&apos;t revolve this issue then I will have to remove the FTP Consumers and implement the code external to camel, so that&apos;s why I set the priority to &quot;BLOCKED&apos;. &lt;/p&gt;</comment>
                            <comment id="13049825" author="davsclaus" created="Wed, 15 Jun 2011 15:47:28 +0000"  >&lt;p&gt;I can see you use a FuseSource product. If you are a FuseSource subscriber then I suggest to use that channel to get help with your issue. They can provide you with a solution for your current version so you dont have to do a upgrade.&lt;/p&gt;

&lt;p&gt;That said I am adding more logic in the ScheduledPollConsumer so we do a full try .. catch(Error e) to catch any kind of errors thrown to avoid the thread from dying. This may possible cause the JDK scheduled thread pool to fail scheduling the task. &lt;/p&gt;

&lt;p&gt;Also I am adding a runLoggingLevel option you can use to enable to configure a logging level that logs: START, COMPLETE on the scheduled task. Then that may help us/you to see when it stops logging that. Likewise there is a ERROR that logs all thrown error from the thread.&lt;/p&gt;
</comment>
                            <comment id="13049826" author="davsclaus" created="Wed, 15 Jun 2011 15:48:14 +0000"  >&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-3216&quot; title=&quot;ScheduledPollConsumer should avoid runnable thread to die to ensure its kept being scheduled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-3216&quot;&gt;&lt;del&gt;CAMEL-3216&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13049840" author="davsclaus" created="Wed, 15 Jun 2011 16:17:47 +0000"  >&lt;p&gt;I would suggest to set option: useFixedDelay=true, and also add a higher delay between pools instead of the default value of 500 millis. So for example: useFixedDelay=true&amp;amp;delay=10s. To only poll every 10th second.&lt;/p&gt;</comment>
                            <comment id="13049873" author="bbuzzard" created="Wed, 15 Jun 2011 16:53:13 +0000"  >&lt;p&gt;The delay for each FTP route is set to 60,000 (60 sec).  Some of the routes are polling from the same host, but different directories, and that is why it may appear in my log that I am polling every 500 millis.  Are you saying in the case where I am polling different directories on the same host that each of those polls should be further apart in time?&lt;/p&gt;

&lt;p&gt;Yes I am using a particular version of Camel from FUSE, but it was not our intent to do this on a regular basis.  We were only trying to address a particular set of problems with the ActiveMQ-Camel 5.4.1 release.  The Fuse group assured us that the code we were using was submitted back to the open source ActiveMQ-Camel projects.  Please let us know if that is not true.&lt;/p&gt;

&lt;p&gt;I would be more than happy to assist you with any coding or testing that needs to be done to work through this problem.    &lt;/p&gt;</comment>
                            <comment id="13050227" author="davsclaus" created="Thu, 16 Jun 2011 05:31:55 +0000"  >&lt;p&gt;Yes FuseSource ensures that the code is submitted back to Apache. In fact we mostly fix and commit at Apache first, and then sync the code to FuseSource.&lt;/p&gt;

&lt;p&gt;I have committed a fix to the trunk, that:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;option &lt;tt&gt;useFixedDelay&lt;/tt&gt; is now default true&lt;/li&gt;
	&lt;li&gt;will rigorously catch all errors throw from the scheduled task (catch &lt;tt&gt;java.lang.Error&lt;/tt&gt;)&lt;/li&gt;
	&lt;li&gt;added runLoggingLevel option to log start/complete logs when the scheduled task runs. For example set &lt;tt&gt;runLoggingLevel=INFO&lt;/tt&gt; and you should see this in the logs. This can maybe help you see when a thread stops from running.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13050523" author="bbuzzard" created="Thu, 16 Jun 2011 16:08:22 +0000"  >&lt;p&gt;The fix looks good except I&apos;m getting errors when I try to compile I get an error with LOG.error(&quot;Scheduled task started on:   {}&quot;, this.getEndpoint());&lt;/p&gt;

&lt;p&gt;I looked at the Interface for LOG and I don&apos;t see that signature.  Was the LOG interface modified?&lt;/p&gt;</comment>
                            <comment id="13050536" author="davsclaus" created="Thu, 16 Jun 2011 16:19:12 +0000"  >&lt;p&gt;Camel 2.6 uses Apache commons-logging. Camel 2.7+ uses slf4j as logging. So you may have to adjust the patch slightly when back porting.&lt;/p&gt;</comment>
                            <comment id="13050549" author="bbuzzard" created="Thu, 16 Jun 2011 16:39:10 +0000"  >&lt;p&gt;Thank you for the quick fix!  I&apos;m making the adjustment now for back porting.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13942</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01yvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9419</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>