<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:44:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-3928] custom interceptor - wrapProcessorInInterceptors - passing parent Description on Split</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3928</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;In routes with a split step, when my wrapProcessorInInterceptors method is called, the  ProcessorDefinition&amp;lt;?&amp;gt; paremeter is referencing the Split definition instead of steps inside it.&lt;/p&gt;

&lt;p&gt;For example, for the route:&lt;/p&gt;

&lt;p&gt;from(&quot;direct:a&quot;).routeId(&quot;route:a&quot;)&lt;br/&gt;
        .split(xpath(&quot;//a/b&quot;)).id(&quot;task:split.products&quot;)&lt;br/&gt;
            .log(&quot;*** splited ::: body : ${body} &quot;).id(&quot;task:handle.that&quot;) &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
            .setHeader(&quot;insplit&quot;,constant(&quot;in-split&quot;)) &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
        .end()&lt;br/&gt;
        .log(&quot;* aftersplit ::: body : ${body}&quot;).id(&quot;task:after.split&quot;);&lt;/p&gt;

&lt;p&gt;for steps inside the split &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; the ProcessorDefinition is referencing the splitdefinition, while i think it should point to the log and setHeader steps.&lt;/p&gt;

&lt;p&gt;It can be easily fixed,  in class:::&lt;/p&gt;

&lt;p&gt;org.apache.camel.processor.DefaultChannel&lt;/p&gt;

&lt;p&gt;in the method initChannel, changing&lt;/p&gt;

&lt;p&gt;target = strategy.wrapProcessorInInterceptors(routeContext.getCamelContext(), outputDefinition, target, next);&lt;/p&gt;

&lt;p&gt;by this:&lt;/p&gt;

&lt;p&gt;target = strategy.wrapProcessorInInterceptors(routeContext.getCamelContext(), traceDef, target, next);&lt;/p&gt;
</description>
                <environment>&lt;p&gt;ubuntu 10.04&lt;br/&gt;
java version &quot;1.6.0_22&quot;&lt;br/&gt;
Java HotSpot(TM) Client VM (build 17.1-b03, mixed mode, sharing)&lt;/p&gt;</environment>
        <key id="12505924">CAMEL-3928</key>
            <summary>custom interceptor - wrapProcessorInInterceptors - passing parent Description on Split</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="javier.arilos@gmail.com">Javier Arias</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 May 2011 12:55:35 +0000</created>
                <updated>Tue, 25 Oct 2011 11:36:04 +0000</updated>
                            <resolved>Wed, 4 May 2011 11:24:41 +0000</resolved>
                                    <version>2.2.0</version>
                    <version>2.3.0</version>
                    <version>2.4.0</version>
                    <version>2.5.0</version>
                    <version>2.6.0</version>
                    <version>2.7.0</version>
                    <version>2.7.1</version>
                                    <fixVersion>2.7.3</fixVersion>
                    <fixVersion>2.8.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                                                    <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                                        <comments>
                            <comment id="13027694" author="hadrian" created="Mon, 2 May 2011 15:27:32 +0000"  >&lt;p&gt;@Javier, thanks for noticing this and for providing a fix!&lt;br/&gt;
You checked the patch available box. Do you intend to provide a patch with a unit test as well, or you were referring to the solution you provided in the description? A unit test would be fantastic.&lt;/p&gt;</comment>
                            <comment id="13027706" author="javier.arilos@gmail.com" created="Mon, 2 May 2011 16:06:03 +0000"  >&lt;p&gt;Hadrian,&lt;br/&gt;
I were referring to the solution provided, sorry but I wouldn&apos;t know how to&lt;br/&gt;
correctly write such a test...&lt;br/&gt;
Thank you.&lt;br/&gt;
Javier.&lt;/p&gt;

&lt;p&gt;2011/5/2 Hadrian Zbarcea (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="13027708" author="hadrian" created="Mon, 2 May 2011 16:14:13 +0000"  >&lt;p&gt;@Javier, thanks for the clarification. No worries then. We appreciate unit tests whenever contributors provide them, otherwise, we have to write them ourselves to prevent the issue from popping up again in a future release. I will assign this to me and provide a unit test. It doesn&apos;t make your contribution any less important. Thanks again.&lt;/p&gt;</comment>
                            <comment id="13027711" author="javier.arilos@gmail.com" created="Mon, 2 May 2011 16:22:03 +0000"  >&lt;p&gt;Thank you Hadrian,&lt;br/&gt;
may I have a look at your tests when you are done? this way I will learn for&lt;br/&gt;
next time.&lt;br/&gt;
Regards.&lt;/p&gt;

&lt;p&gt;2011/5/2 Hadrian Zbarcea (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="13028712" author="davsclaus" created="Wed, 4 May 2011 11:24:41 +0000"  >&lt;p&gt;Javier thanks for reporting. I have fixed this on trunk, and added unit test as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14060</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01xsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9243</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>