<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:46:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-4449] NullPointerException when unmarshalling using serialization data format</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-4449</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Spring configuration:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;    &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- A custom CamelContext --&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;camel:camelContext id=&lt;span class=&quot;code-quote&quot;&gt;&quot;camel&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- JSON data format marshalling --&amp;gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;camel:dataFormats&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;camel:serialization id=&lt;span class=&quot;code-quote&quot;&gt;&quot;serialization&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/camel:dataFormats&amp;gt;&lt;/span&gt;

        &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- RawOffer input route --&amp;gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;camel:route&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;camel:from uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;kestrel://etl01f/feeds&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;camel:unmarshal ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;serialization&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;camel:to uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;bean:shard?method=consume&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/camel:route&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/camel:camelContext&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;run:
     [java] log4j:WARN No appenders could be found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; logger (org.springframework.context.support.ClassPathXmlApplicationContext).
     [java] log4j:WARN Please initialize the log4j system properly.
     [java] log4j:WARN See http:&lt;span class=&quot;code-comment&quot;&gt;//logging.apache.org/log4j/1.2/faq.html#noconfig &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; more info.
&lt;/span&gt;     [java] 13:28:07.587 [main] INFO  o.a.c.s.h.CamelNamespaceHandler - OSGi environment not detected.
     [java] 13:28:09.028 [main] INFO  o.a.camel.spring.SpringCamelContext - Apache Camel 2.8.0 (CamelContext: camel) is starting
     [java] 13:28:09.028 [main] INFO  o.a.camel.spring.SpringCamelContext - JMX enabled. Using ManagedManagementStrategy.
     [java] 13:28:09.415 [main] INFO  o.a.c.i.c.AnnotationTypeConverterLoader - Found 3 packages with 14 @Converter classes to load
     [java] 13:28:09.489 [main] INFO  o.a.c.i.c.DefaultTypeConverter - Loaded 153 core type converters (total 153 type converters)
     [java] 13:28:09.528 [main] INFO  o.a.c.i.c.DefaultTypeConverter - Loaded additional 0 type converters (total 153 type converters) in 0.003 seconds
     [java] 13:28:09.730 [main] INFO  o.a.c.c.kestrel.KestrelComponent - Creating endpoint &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; queue &lt;span class=&quot;code-quote&quot;&gt;&quot;feeds&quot;&lt;/span&gt; on etl01f, parameters={}
     [java] 13:28:09.967 [main] INFO  o.a.c.c.kestrel.KestrelComponent - Creating MemcachedClient &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; etl01f/feeds
     [java] 2011-09-14 13:28:10.073 INFO net.spy.memcached.MemcachedConnection:  Added {QA sa=etl01f/95.108.229.218:22133, #Rops=0, #Wops=0, #iq=0, topRop=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, topWop=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, toWrite=0, interested=0} to connect queue
     [java] 2011-09-14 13:28:10.084 INFO net.spy.memcached.MemcachedConnection:  Connection state changed &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; sun.nio.ch.SelectionKeyImpl@711b50a1
     [java] 13:28:10.293 [main] INFO  o.a.c.c.kestrel.KestrelConsumer - Starting consumer &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; kestrel:&lt;span class=&quot;code-comment&quot;&gt;//etl01f/feeds
&lt;/span&gt;     [java] 13:28:10.302 [main] INFO  o.a.camel.spring.SpringCamelContext - Route: route1 started and consuming from: Endpoint[kestrel:&lt;span class=&quot;code-comment&quot;&gt;//etl01f/feeds]
&lt;/span&gt;     [java] 13:28:10.318 [main] INFO  o.a.camel.spring.SpringCamelContext - Total 1 routes, of which 1 is started.
     [java] 13:28:10.318 [main] INFO  o.a.camel.spring.SpringCamelContext - Apache Camel 2.8.0 (CamelContext: camel) started in 1.291 seconds
     [java] 13:28:12.858 [Camel (camel) thread #0 - Poller-kestrel:&lt;span class=&quot;code-comment&quot;&gt;//etl01f/feeds] ERROR o.a.c.processor.DefaultErrorHandler - Failed delivery &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; exchangeId: ID-incubos-osx-local-51787-1315992488896-0-1. Exhausted after delivery attempt: 1 caught: java.lang.NullPointerException
&lt;/span&gt;     [java] java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
     [java] 	at org.apache.camel.impl.SerializationDataFormat.unmarshal(SerializationDataFormat.java:57) ~[camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:56) ~[camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:50) ~[camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:78) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:69) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:78) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99) ~[camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:78) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:318) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:209) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:305) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:78) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.Pipeline.process(Pipeline.java:116) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.Pipeline.process(Pipeline.java:79) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:102) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:78) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:69) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:104) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:85) [camel-core-2.8.0.jar:2.8.0]
     [java] 	at org.apache.camel.component.kestrel.KestrelConsumer$Poller.run(KestrelConsumer.java:230) [camel-kestrel-2.8.0.jar:2.8.0]
     [java] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) [na:1.6.0_26]
     [java] 	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) [na:1.6.0_26]
     [java] 	at java.util.concurrent.FutureTask.run(FutureTask.java:138) [na:1.6.0_26]
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [na:1.6.0_26]
     [java] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [na:1.6.0_26]
     [java] 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:680) [na:1.6.0_26]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It seems that &lt;tt&gt;ExchangeHelper.convertToType()&lt;/tt&gt; method returned &lt;tt&gt;null&lt;/tt&gt; because &lt;tt&gt;camelContext.getTypeConverter()&lt;/tt&gt; returned &lt;tt&gt;null&lt;/tt&gt;. &lt;/p&gt;</description>
                <environment>&lt;p&gt;MacOS X 10.6.8&lt;br/&gt;
Java 1.6.0_26&lt;br/&gt;
Apache Camel 2.8.0&lt;br/&gt;
Consuming from remote Kestrel queue (XStream marshalling/unmarshalling works just fine)&lt;/p&gt;</environment>
        <key id="12523019">CAMEL-4449</key>
            <summary>NullPointerException when unmarshalling using serialization data format</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="incubos">Vadim Tsesko</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Sep 2011 09:34:53 +0000</created>
                <updated>Sat, 17 Sep 2011 19:26:58 +0000</updated>
                            <resolved>Sat, 17 Sep 2011 11:24:44 +0000</resolved>
                                    <version>2.8.0</version>
                                    <fixVersion>2.8.2</fixVersion>
                    <fixVersion>2.9.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13105564" author="davsclaus" created="Thu, 15 Sep 2011 18:04:12 +0000"  >&lt;p&gt;We love contributions, so patches is welcome.&lt;/p&gt;</comment>
                            <comment id="13105985" author="incubos" created="Fri, 16 Sep 2011 10:40:09 +0000"  >&lt;p&gt;I would be glad to but I don&apos;t have enough time now to produce a patch myself. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13106038" author="mrlalonde" created="Fri, 16 Sep 2011 13:05:35 +0000"  >&lt;p&gt;XStream can serialize classes even if they don&apos;t implement Serializable.  Did the the class for you message body implement Serializable?  If not, then it was suppose to fail so the resolution might just be to give a more descriptive error message and perhaps a more meaningful exception?!&lt;/p&gt;</comment>
                            <comment id="13107095" author="davsclaus" created="Sat, 17 Sep 2011 11:24:44 +0000"  >&lt;p&gt;Fixed the potential NPE&lt;/p&gt;</comment>
                            <comment id="13107140" author="incubos" created="Sat, 17 Sep 2011 13:45:08 +0000"  >&lt;p&gt;My message body class implements &lt;tt&gt;Serializable&lt;/tt&gt;. It has Scala &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Tuple2[&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, java.util.List[&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;]]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; type.&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i020zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9763</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>