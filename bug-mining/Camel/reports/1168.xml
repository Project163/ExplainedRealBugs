<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:40:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-3124] polling of feeds in FeedEntryPollingConsumer is broken.</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3124</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The FeedEntryPollingConsumer class implements the poll() method for the &apos;splitEntries&apos; mode of the RssEndpoint is broken.&lt;/p&gt;

&lt;p&gt;You can think of two ways that polling feeds could work:&lt;br/&gt;
1) A feed is created, then one item is processed, then the delay, then process another item. This way the feed is kept between calls to poll().&lt;br/&gt;
2) A feed is created, then all the items are processed, the feed is cleared, and then the delay.&lt;/p&gt;

&lt;p&gt;But the way it presently works:&lt;br/&gt;
A feed is created, one items is processed, and the feed is cleared, then the delay, and again the feed is created and the next item is cleared.&lt;/p&gt;

&lt;p&gt;This is clearly wrong. Feed entries can be missed, because the index of the next item to process is stored over polls but the list isn&apos;t. Also this creates a big network overhead when polling very active feeds such as twitter search...&lt;/p&gt;

&lt;p&gt;This is easy to fix. In the below code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void poll() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; feed = createFeed();
        populateList(feed);   

        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (hasNextEntry()) {
            &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; entry = list.get(entryIndex--);

            &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; valid = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (entryFilter != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                valid = entryFilter.isValidEntry(endpoint, feed, entry);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (valid) {
                Exchange exchange = endpoint.createExchange(feed, entry);
                getProcessor().process(exchange);
                &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; and wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the next poll to &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt; from last time (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; consumer is stateful)
&lt;/span&gt;                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The return (at line 56 of org.apache.camel.component.feed.FeedEntryPollingConsumer) should be deleted.&lt;/p&gt;</description>
                <environment>&lt;p&gt;ubuntu 10.4&lt;br/&gt;
java 6&lt;/p&gt;</environment>
        <key id="12487556">CAMEL-3124</key>
            <summary>polling of feeds in FeedEntryPollingConsumer is broken.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="ebunders">Ernst Bunders</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Sep 2010 13:59:43 +0000</created>
                <updated>Sun, 24 Apr 2011 09:57:16 +0000</updated>
                            <resolved>Fri, 17 Sep 2010 11:27:06 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>2.5.0</fixVersion>
                                    <component>camel-rss</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12956733" author="davsclaus" created="Wed, 15 Sep 2010 12:13:14 +0000"  >&lt;p&gt;This is how its designed to work form the very start, its not a bug.&lt;/p&gt;</comment>
                            <comment id="12956734" author="ebunders" created="Wed, 15 Sep 2010 12:37:27 +0000"  >&lt;p&gt;Well, not strictly a bug. But it seems very strange behavior to me, If you should choose to process one item at each poll, here seems to be no reason to discard the list, in stead of keeping it over polls until depleted. Unless there is a reason I didn&apos;t think of...&lt;br/&gt;
Is there?&lt;/p&gt;

&lt;p&gt;Also I think it would be nice to make the behavior configurable. We now chose to process all feed items with one poll, because it suites our needs, perhaps other use cases are best served with the one-item-per-poll strategy. &lt;/p&gt;

&lt;p&gt;regards,&lt;/p&gt;

&lt;p&gt;Ernst&lt;/p&gt;</comment>
                            <comment id="12956749" author="davsclaus" created="Wed, 15 Sep 2010 13:01:01 +0000"  >&lt;p&gt;I agree we can improve this behavior, but however it was designed how it works now.&lt;/p&gt;</comment>
                            <comment id="12956682" author="davsclaus" created="Wed, 15 Sep 2010 13:04:59 +0000"  >&lt;p&gt;Lets get this improved for Camel 2.5 as we got time for this, waiting for Karaf 2.1 to be released.&lt;/p&gt;</comment>
                            <comment id="12956737" author="davsclaus" created="Fri, 17 Sep 2010 11:25:33 +0000"  >&lt;p&gt;After looking into it some more I agree this is a minor bug as it should keep the feed/list in memory to avoid re-loading the feed when it wasn&apos;t necessary.&lt;/p&gt;

&lt;p&gt;trunk: 998075.&lt;/p&gt;</comment>
                            <comment id="12956784" author="davsclaus" created="Fri, 17 Sep 2010 11:26:12 +0000"  >&lt;p&gt;And you can set &lt;tt&gt;throttleEntries=false&lt;/tt&gt; to let it parse the entire feed at once, and hence it doesn&apos;t keep state in memory between polls.&lt;/p&gt;</comment>
                            <comment id="13023735" author="davsclaus" created="Sun, 24 Apr 2011 09:57:16 +0000"  >&lt;p&gt;Closing all resolved tickets from 2010 or older&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76339</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01st3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8436</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>