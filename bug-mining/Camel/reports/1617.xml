<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:46:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-4542] Can&apos;t find splitter bean in registry using multiple camel contexts with &quot;vm&quot; endpoint</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-4542</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The splitter component can use a bean with a &quot;split method&quot;. It seems that this &quot;split bean&quot; is handled as expression and resolved lately using Camel Context from current exchange.&lt;/p&gt;

&lt;p&gt;If I send an exchange using a separate CamelContext (&quot;client&quot;)&lt;/p&gt;

&lt;p&gt;&amp;lt;camelContext id=&quot;client&quot; xmlns=&quot;http://camel.apache.org/schema/spring&quot;&amp;gt;&lt;br/&gt;
&amp;lt;/camelContext&amp;gt;&lt;/p&gt;

&lt;p&gt;to a route defined in another CamelContext (&quot;server&quot;) using in-memory transport like &quot;direct&quot; or &quot;vm&quot;&lt;/p&gt;

&lt;p&gt;&amp;lt;camelContext id=&quot;server&quot; xmlns=&quot;http://camel.apache.org/schema/spring&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;   &amp;lt;route id=&quot;route02&quot; trace=&quot;false&quot; streamCache=&quot;false&quot;&amp;gt;&lt;br/&gt;
     &amp;lt;from uri=&quot;vm:route02&quot;/&amp;gt;&lt;br/&gt;
     &amp;lt;split&amp;gt;&lt;br/&gt;
       &amp;lt;method bean   =&quot;stringLineSplitter&quot; method=&quot;split&quot;/&amp;gt;&lt;br/&gt;
       &amp;lt;log    message=&quot;before sending: ${body}&quot;/&amp;gt;&lt;br/&gt;
       &amp;lt;inOut  uri    =&quot;vm:route04&quot;/&amp;gt;&lt;br/&gt;
       &amp;lt;log    message=&quot;after sending&quot;/&amp;gt;&lt;br/&gt;
     &amp;lt;/split&amp;gt;&lt;br/&gt;
     &amp;lt;to uri=&quot;mock:route02&quot;/&amp;gt;&lt;br/&gt;
   &amp;lt;/route&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/camelContext&amp;gt;&lt;/p&gt;

&lt;p&gt;the test fails with &lt;/p&gt;

&lt;p&gt;&quot;Cannot find class: stringLineSplitter&quot; (Camel 2.8.0). &lt;br/&gt;
&quot;org.apache.camel.NoSuchBeanException - No bean could be found in the registry for: stringLineSplitter&quot; (Camel 2.9-SNAPSHOT)&lt;/p&gt;

&lt;p&gt;If I understood Camel right it fails&lt;br/&gt;
because it tries to resolve this bean based on client Camel Context&lt;br/&gt;
which is still set at the current exchange send from &quot;client&quot; to &quot;server&quot; but it&lt;br/&gt;
doesn&apos;t contain the bean.&lt;/p&gt;

&lt;p&gt;If I send an exchange using same &quot;client&quot; CamelContext to another route in&lt;br/&gt;
&quot;server&quot; CamelContext involving &quot;external&quot; components like &quot;jms&quot; (ActiveMQ)&lt;/p&gt;

&lt;p&gt;&amp;lt;camelContext id=&quot;server&quot; xmlns=&quot;http://camel.apache.org/schema/spring&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;   &amp;lt;route id=&quot;route03&quot; trace=&quot;false&quot; streamCache=&quot;false&quot;&amp;gt;&lt;br/&gt;
     &amp;lt;from uri=&quot;jms:queue:route03&quot;/&amp;gt;&lt;br/&gt;
     &amp;lt;split&amp;gt;&lt;br/&gt;
       &amp;lt;method bean   =&quot;stringLineSplitter&quot; method=&quot;split&quot;/&amp;gt;&lt;br/&gt;
       &amp;lt;log    message=&quot;before sending: ${body}&quot;/&amp;gt;&lt;br/&gt;
       &amp;lt;inOut  uri    =&quot;vm:route04&quot;/&amp;gt;&lt;br/&gt;
       &amp;lt;log    message=&quot;after sending&quot;/&amp;gt;&lt;br/&gt;
     &amp;lt;/split&amp;gt;&lt;br/&gt;
     &amp;lt;to uri=&quot;mock:route03&quot;/&amp;gt;&lt;br/&gt;
   &amp;lt;/route&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/camelContext&amp;gt;&lt;/p&gt;

&lt;p&gt;the test passed successfully. It seems that &quot;jms&quot; component creates a&lt;br/&gt;
new exchange using &quot;server&quot; CamelContext.&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS    - Windows XP 32 Bit&lt;br/&gt;
Java  - Sun 1.6_26&lt;br/&gt;
Camel - 2.8.0/2.8.1/2.9-SNAPSHOT&lt;/p&gt;</environment>
        <key id="12526990">CAMEL-4542</key>
            <summary>Can&apos;t find splitter bean in registry using multiple camel contexts with &quot;vm&quot; endpoint</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="berndfischer63">Bernd Fischer</reporter>
                        <labels>
                            <label>newbie</label>
                            <label>test-patch</label>
                    </labels>
                <created>Thu, 13 Oct 2011 08:38:33 +0000</created>
                <updated>Mon, 14 Nov 2011 15:35:34 +0000</updated>
                            <resolved>Fri, 14 Oct 2011 11:14:38 +0000</resolved>
                                    <version>2.8.0</version>
                    <version>2.8.1</version>
                                    <fixVersion>2.8.3</fixVersion>
                    <fixVersion>2.9.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13126436" author="berndfischer63" created="Thu, 13 Oct 2011 08:43:36 +0000"  >&lt;p&gt;unit test (mvn project) and patch hopefully solving the problem&lt;/p&gt;</comment>
                            <comment id="13127506" author="njiang" created="Fri, 14 Oct 2011 13:05:59 +0000"  >&lt;p&gt;Applied patch with thanks to Bernd and added a new unit test for it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12498862" name="MethodCallExpression.java.diff" size="764" author="berndfischer63" created="Thu, 13 Oct 2011 08:43:36 +0000"/>
                            <attachment id="12498861" name="testcase.zip" size="9084" author="berndfischer63" created="Thu, 13 Oct 2011 08:43:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>85304</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i021l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9858</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>