<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:28:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-939] Investigate test failures on AIX</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-939</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description></description>
                <environment></environment>
        <key id="12485990">CAMEL-939</key>
            <summary>Investigate test failures on AIX</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janstey">Jonathan Anstey</assignee>
                                    <reporter username="janstey">Jonathan Anstey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Sep 2008 12:15:24 +0000</created>
                <updated>Mon, 16 Feb 2009 05:51:54 +0000</updated>
                            <resolved>Wed, 29 Oct 2008 12:09:07 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>camel-core</component>
                    <component>camel-spring</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12949005" author="janstey" created="Fri, 26 Sep 2008 12:22:03 +0000"  >&lt;p&gt;Just fixed a compile error in camel-core but also found two other errors:&lt;/p&gt;

&lt;p&gt;1. In camel-spring, looks like the schemagen plugin doesn&apos;t work on AIX.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Error starting apt
        at com.sun.tools.jxc.AptBasedTask$InternalAptAdapter.execute(AptBasedTask.java:68)
        at com.sun.tools.jxc.AptBasedTask.compile(AptBasedTask.java:108)
        at com.sun.tools.jxc.maven2.SchemaGenAdapter.execute(SchemaGenAdapter.java:111)
        at com.sun.tools.jxc.maven2.SchemaGenMojo.execute(SchemaGenMojo.java:161)
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:451)
        ...
        at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
Caused by: java.lang.ClassNotFoundException: com.sun.tools.apt.Main
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:130)
        at com.sun.tools.jxc.AptBasedTask$InternalAptAdapter.execute(AptBasedTask.java:52)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2. In camel-core I get this &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.camel.builder.xml.InvalidXPathExpression: Invalid xpath: java:org.apache.camel.builder.xml.XPathTest.func(string(/header 
value)). Reason: javax.xml.xpath.XPathExpressionException: org.apache.xpath.XPathException: Can not convert #STRING to a NodeList!
at org.apache.camel.builder.xml.XPathBuilder.evaluateAs(XPathBuilder.java:443)
at org.apache.camel.builder.xml.XPathBuilder.evaluate(XPathBuilder.java:110)
at org.apache.camel.TestSupport.assertExpression(TestSupport.java:197)
at org.apache.camel.builder.xml.XPathTest.assertExpression(XPathTest.java:84)
at org.apache.camel.builder.xml.XPathTest.testUsingJavaExtensions(XPathTest.java:69)
Caused by: javax.xml.xpath.XPathExpressionException: org.apache.xpath.XPathException: Can not convert #STRING to a NodeList!
at org.apache.xpath.jaxp.XPathExpressionImpl.evaluate(XPathExpressionImpl.java:103)
at org.apache.camel.builder.xml.XPathBuilder.evaluateAs(XPathBuilder.java:429)
... 30 more
Caused by: org.apache.xpath.XPathException: Can not convert #STRING to a NodeList!
at org.apache.xpath.objects.XObject.error(XObject.java:707)
at org.apache.xpath.objects.XObject.nodelist(XObject.java:453)
at org.apache.xpath.jaxp.XPathExpressionImpl.xObjectToObject(XPathExpressionImpl.java:226)
at org.apache.xpath.jaxp.XPathExpressionImpl.evaluate(XPathExpressionImpl.java:91)
... 31 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looking into these issues now.&lt;/p&gt;</comment>
                            <comment id="12949003" author="janstey" created="Fri, 26 Sep 2008 13:17:04 +0000"  >&lt;p&gt;I think the only way to get around #1 would be to remove camel-spring from the build on AIX. The schema generation just isn&apos;t going to fly on that platform. Of course, we still need to test the camel-spring tests on AIX... I&apos;m running these now.&lt;/p&gt;

&lt;p&gt;I propose to have a separate project (under &amp;lt;camel-root&amp;gt;/tests perhaps) that would download camel-spring built elsewhere on another platform, and then just run the tests. This would be enabled only for AIX.&lt;/p&gt;</comment>
                            <comment id="12948950" author="janstey" created="Mon, 29 Sep 2008 12:24:20 +0000"  >&lt;p&gt;Fixed #2 in revision 700090. The test was supposed to be ignored when Xalan was not on the CP.&lt;/p&gt;</comment>
                            <comment id="12948960" author="janstey" created="Mon, 29 Sep 2008 18:01:10 +0000"  >&lt;p&gt;Disabled build of camel-spring/rest on AIX in revision 700186. Still working on getting the tests running for this.&lt;/p&gt;</comment>
                            <comment id="12949029" author="janstey" created="Wed, 1 Oct 2008 17:07:09 +0000"  >&lt;p&gt;Got the camel-spring/rest tests running by simply ignoring the schemagen plugin on AIX and downloading the last deployed xsd instead.&lt;/p&gt;</comment>
                            <comment id="12949038" author="janstey" created="Thu, 2 Oct 2008 17:51:44 +0000"  >&lt;p&gt;I&apos;m taking a long weekend so I figured I would put up whats left to get Camel working on AIX.&lt;/p&gt;

&lt;p&gt;1. LDAP not working&lt;br/&gt;
LdapRouteTest.testLdapRoute  (org.apache.camel.component.ldap)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ApacheDS seems to be using the SunX509 KeyManagerFactory directly, which is obviously not in the IBM JDK... not sure how were going to get around this besides patching Apache DS...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2. Ruby not working&lt;br/&gt;
RubyExpressionTest.testSendMatchingMessage (org.apache.camel.builder.script)&lt;br/&gt;
RubyExpressionTest.testSendNonMatchingMessage (org.apache.camel.builder.script)&lt;br/&gt;
Jsr223Test.testLanguageNames (org.apache.camel.builder.script)&lt;br/&gt;
RubyFilterTest.testSendMatchingMessage (org.apache.camel.builder.script.example)&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;org.apache.camel.ruby.RouteUsingNestedScopesTest&lt;br/&gt;
&lt;a href=&quot;file:/home/janstey/.m2/repository/org/jruby/jruby/1.1.4/jruby-1.1.4.jar!/builtin/javasupport.rb:47:in&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/home/janstey/.m2/repository/org/jruby/jruby/1.1.4/jruby-1.1.4.jar!/builtin/javasupport.rb:47:in&lt;/a&gt; `require&apos;: IO error &amp;#8211; builtin/java/regex (LoadError)&lt;br/&gt;
        from &lt;a href=&quot;file:/home/janstey/.m2/repository/org/jruby/jruby/1.1.4/jruby-1.1.4.jar!/builtin/javasupport.rb:47&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/home/janstey/.m2/repository/org/jruby/jruby/1.1.4/jruby-1.1.4.jar!/builtin/javasupport.rb:47&lt;/a&gt;&lt;br/&gt;
        from &lt;a href=&quot;file:/home/janstey/.m2/repository/org/jruby/jruby/1.1.4/jruby-1.1.4.jar!/builtin/javasupport.rb:17:in&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/home/janstey/.m2/repository/org/jruby/jruby/1.1.4/jruby-1.1.4.jar!/builtin/javasupport.rb:17:in&lt;/a&gt; `require&apos;&lt;br/&gt;
        from /x1/janstey/apache/camel/trunk/components/camel-ruby/target/classes/camel.rb:17&lt;br/&gt;
        from /x1/janstey/apache/camel/trunk/components/camel-ruby/target/classes/camel.rb:17:in `require&apos;&lt;br/&gt;
        from src/test/java/org/apache/camel/ruby/scopes.rb:17&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Basically, all are failing to load the jruby library&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;3. Python test failing&lt;br/&gt;
PythonLanguageTest.testLanguageExpressions (org.apache.camel.language.script)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;At first glance, looks to be just a timing issue on slower machines. Should be an easy one.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12949244" author="janstey" created="Mon, 20 Oct 2008 14:21:05 +0000"  >&lt;p&gt;I provided a fix to ApacheDS that resolves the camel-ldap failure (&lt;a href=&quot;https://issues.apache.org/jira/browse/DIRSERVER-1279&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/DIRSERVER-1279&lt;/a&gt;). We&apos;ll just need a new release of it to incorporate the fix in Camel. I&apos;m thinking of putting up a patched ApacheDS 1.5.4 at repo.open.iona.com/maven2&lt;/p&gt;</comment>
                            <comment id="12949303" author="janstey" created="Mon, 20 Oct 2008 16:38:53 +0000"  >&lt;p&gt;Submitted a fix for the python test case in rev 706330. &lt;/p&gt;

&lt;p&gt;Remaining issues: &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;jruby failing to load,&lt;/li&gt;
	&lt;li&gt;camel should depend on a patched version of apache ds.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12949386" author="janstey" created="Thu, 23 Oct 2008 15:46:17 +0000"  >&lt;p&gt;I did up my own release of ApacheDS with the aforementioned fix. Camel now depends on this version which works fine on AIX - yay!&lt;/p&gt;</comment>
                            <comment id="12949412" author="janstey" created="Mon, 27 Oct 2008 16:24:17 +0000"  >&lt;p&gt;Disabled ruby scripting tests for IBM JDK only. I think this issue is release notable since we have a bunch of other scripting languages to choose from. When this gets fixed in JRuby (JRUBY-3073) we should upgrade JRuby and enable the tests again. I&apos;ll create a JIRA reminder for this &amp;amp; update the 1.5 release notes.&lt;/p&gt;</comment>
                            <comment id="12949449" author="janstey" created="Mon, 27 Oct 2008 16:32:15 +0000"  >&lt;p&gt;Running final tests now with IBM JDK on AIX and Linux to see if any new issues cropped up.&lt;/p&gt;</comment>
                            <comment id="12949433" author="janstey" created="Wed, 29 Oct 2008 12:08:55 +0000"  >&lt;p&gt;I&apos;m still getting some failures in my CI environment but everything passes when I run the same tests myself. I&apos;m calling this task complete, for 1.5 too! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll investigate these CI environment issues offline.&lt;/p&gt;</comment>
                            <comment id="12950759" author="davsclaus" created="Mon, 16 Feb 2009 05:51:54 +0000"  >&lt;p&gt;Closing all 1.5.0 issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83269</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01fbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6253</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>