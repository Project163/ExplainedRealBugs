<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:51:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-17232] AWS 2 S3 Body is null with includeBody=false (3.13.0 regression)</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-17232</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;According to docs:&lt;/p&gt;

&lt;p&gt;If false the S3Object &lt;b&gt;stream will be put raw into the body&lt;/b&gt; and the headers will be set with the S3 object metadata. This option is strongly related to autocloseBody option. In case of setting includeBody to true because the S3Object stream will be consumed then it will also be closed, while in case of includeBody false then it will be up to the caller to close the S3Object stream. However setting autocloseBody to true when includeBody is false it will schedule to close the S3Object stream automatically on exchange completion.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This will broke all body streaming cases, so component becomes useless for large objects.&lt;/p&gt;

&lt;p&gt;Broken by commit:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/commit/ad296097c48558ffdf938fd8646bbeb6e7fd6320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/commit/ad296097c48558ffdf938fd8646bbeb6e7fd6320&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Please, revert it.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java: 17 Azul OpenJDK&lt;/p&gt;

&lt;p&gt;Quarkus: 2.5.0.Final&lt;/p&gt;

&lt;p&gt;Camel 3.13.0&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</environment>
        <key id="13413772">CAMEL-17232</key>
            <summary>AWS 2 S3 Body is null with includeBody=false (3.13.0 regression)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="acosentino">Andrea Cosentino</assignee>
                                    <reporter username="vkonkov@citc.ru">Vladimir Konkov</reporter>
                        <labels>
                            <label>AWS</label>
                    </labels>
                <created>Thu, 25 Nov 2021 07:24:27 +0000</created>
                <updated>Thu, 25 Nov 2021 17:43:21 +0000</updated>
                            <resolved>Thu, 25 Nov 2021 07:35:50 +0000</resolved>
                                    <version>3.13.0</version>
                                    <fixVersion>3.11.5</fixVersion>
                    <fixVersion>3.14.0</fixVersion>
                                    <component>camel-aws2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17448976" author="ancosen" created="Thu, 25 Nov 2021 07:27:44 +0000"  >&lt;p&gt;I don&apos;t think so, if includeBody is false, the body should be not set.&lt;/p&gt;</comment>
                            <comment id="17448977" author="ancosen" created="Thu, 25 Nov 2021 07:28:18 +0000"  >&lt;p&gt;We could edit the documentation.&lt;/p&gt;</comment>
                            <comment id="17448979" author="ancosen" created="Thu, 25 Nov 2021 07:30:34 +0000"  >&lt;p&gt;Ah, you&apos;re right. Let me revert this awful commit.&lt;/p&gt;</comment>
                            <comment id="17448980" author="ancosen" created="Thu, 25 Nov 2021 07:32:22 +0000"  >&lt;p&gt;I think we could change this stuff maybe, but it&apos;s just a matter of fixing the documentation. The point was being able to consume only the metadata and not the content of the S3 object, in case ignoreBody was true. By the way, for the moment let me revert&lt;/p&gt;</comment>
                            <comment id="17448981" author="JIRAUSER280774" created="Thu, 25 Nov 2021 07:32:37 +0000"  >&lt;p&gt;It broke working routes that relies on &lt;b&gt;stream will be put raw into the body&lt;/b&gt;&lt;b&gt;{&lt;/b&gt;}. This effectively kills streaming. Maybe rename the option BUT not broke useful functionality. Try to use something like&#160;split().tokenize(&quot;\n&quot;).streaming() with includeBody=false - it is throws NPE.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17448982" author="JIRAUSER280774" created="Thu, 25 Nov 2021 07:33:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/camel/pull/6475&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/6475&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17448984" author="ancosen" created="Thu, 25 Nov 2021 07:35:04 +0000"  >&lt;p&gt;Yes, I think we should find a different way, without touching this stuff. &lt;/p&gt;</comment>
                            <comment id="17448985" author="ancosen" created="Thu, 25 Nov 2021 07:35:45 +0000"  >&lt;p&gt;Thanks for reporting. Merged. Let me find a different way.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0x2s8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Regression</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10091"><![CDATA[Regression]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>