<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:07:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-21129] NPE rooted in RestBindingAdviceFactory in camel-support after upgrade 4.6-&gt;4.7</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-21129</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Rest Route creation fails with a NPE, setup using&#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;restConfiguration().clientRequestValidation(true)&#160;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;with a JSON-binding to a Java type like:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;rest(&quot;/foo&quot;).get(&quot;/bar&quot;).outType(MyType.class).to(&quot;bean:one?method=baz&quot;).&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Root cause:&lt;/b&gt;&#160; Changes from 4.6 to 4.7 in RestBindingAdvisorFactory#build(...)&lt;br/&gt;
local variable &quot;outJson&quot; is always null, leading to the NPE for sure at the line seen in the exception trace below.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;In 4.6&lt;/b&gt;, &quot;outJson&quot; &lt;a href=&quot;https://github.com/apache/camel/blob/581b94a8d326e381d6c58cfe8ce80c92168ac29a/core/camel-support/src/main/java/org/apache/camel/support/processor/RestBindingAdviceFactory.java#L76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;is created for sure here&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;In 4.7&lt;/b&gt;, &quot;outJson&quot; &lt;a href=&quot;https://github.com/apache/camel/blob/a2212f39466d7ef9185b6557f872ca9a8a7da3b8/core/camel-support/src/main/java/org/apache/camel/support/processor/RestBindingAdviceFactory.java#L70&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;remains null here&lt;/a&gt; (because of the new if-else) and will &lt;a href=&quot;https://github.com/apache/camel/blob/a2212f39466d7ef9185b6557f872ca9a8a7da3b8/core/camel-support/src/main/java/org/apache/camel/support/processor/RestBindingAdviceFactory.java#L174&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;lead to the NPE here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;Caused by: java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;target&quot; is null&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; at org.apache.camel.impl.engine.IntrospectionSupport.setProperty(IntrospectionSupport.java:551)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; at org.apache.camel.impl.engine.IntrospectionSupport.setProperty(IntrospectionSupport.java:691)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; at org.apache.camel.impl.engine.DefaultBeanIntrospection.setProperty(DefaultBeanIntrospection.java:220)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; at org.apache.camel.support.processor.RestBindingAdviceFactory.setupJson(RestBindingAdviceFactory.java:174)&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; at org.apache.camel.support.processor.RestBindingAdviceFactory.build(RestBindingAdviceFactory.java:80)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;Setting restConfiguration().&lt;/tt&gt;clientRequestValidation&lt;tt&gt;(false)&lt;/tt&gt; will overgo the critical unit of code.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13590298">CAMEL-21129</key>
            <summary>NPE rooted in RestBindingAdviceFactory in camel-support after upgrade 4.6-&gt;4.7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="jodes">Thomas Jodes</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Aug 2024 10:05:09 +0000</created>
                <updated>Wed, 28 Aug 2024 10:51:55 +0000</updated>
                            <resolved>Wed, 28 Aug 2024 10:41:16 +0000</resolved>
                                    <version>4.7.0</version>
                                    <fixVersion>4.8.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17877323" author="davsclaus" created="Wed, 28 Aug 2024 10:30:13 +0000"  >&lt;p&gt;Yeah binding mode is off by default, and the outJson should not be created - but we should avoid the NPE in this situation&lt;/p&gt;</comment>
                            <comment id="17877332" author="JIRAUSER286693" created="Wed, 28 Aug 2024 10:51:55 +0000"  >&lt;p&gt;In my case (clientRequestValidation true and binding mode &apos;off&apos; -&amp;gt; &lt;a href=&quot;https://github.com/apache/camel/blob/a2212f39466d7ef9185b6557f872ca9a8a7da3b8/core/camel-support/src/main/java/org/apache/camel/support/processor/RestBindingAdviceFactory.java#L64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&apos;jackson&apos; here&lt;/a&gt;) that leads to a NPE, will it be adressed in 4.8.0?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1r3yg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>