<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:28:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-12287] Allow overriding the server reported endpoint</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-12287</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When the client connects to the server it asks the server first for available endpoints. The server should report back with a set of endpoints, which again contain the hostname to connect to.&lt;/p&gt;

&lt;p&gt;If the server reports back with a hostname which the client cannot look up, it is currently not possible to connect to the server with camel-milo.&lt;/p&gt;

&lt;p&gt;I did prepare a PR which adds a boolean flag to the endpoint, allowing to override the host of reported endpoint with the one originally provided. This is disabled by default, but can be enabled when necessary.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13140505">CAMEL-12287</key>
            <summary>Allow overriding the server reported endpoint</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dentrassi">Jens Reimann</assignee>
                                    <reporter username="ctron">Jens Reimann</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Feb 2018 14:04:14 +0000</created>
                <updated>Mon, 26 Feb 2018 09:27:51 +0000</updated>
                            <resolved>Mon, 26 Feb 2018 08:59:26 +0000</resolved>
                                    <version>2.19.0</version>
                    <version>2.20.2</version>
                                    <fixVersion>2.21.0</fixVersion>
                                    <component>camel-milo</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16376520" author="githubbot" created="Mon, 26 Feb 2018 08:41:40 +0000"  >&lt;p&gt;ctron opened a new pull request #2237: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12287&quot; title=&quot;Allow overriding the server reported endpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12287&quot;&gt;&lt;del&gt;CAMEL-12287&lt;/del&gt;&lt;/a&gt;: Allow overriding the endpoint host&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2237&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2237&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   This change adds the ability to override the server reported&lt;br/&gt;
   hostname/IP with the originally provided host/IP when connecting&lt;br/&gt;
   to the server.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16376521" author="githubbot" created="Mon, 26 Feb 2018 08:41:41 +0000"  >&lt;p&gt;GitHub user ctron opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2237&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2237&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12287&quot; title=&quot;Allow overriding the server reported endpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12287&quot;&gt;&lt;del&gt;CAMEL-12287&lt;/del&gt;&lt;/a&gt;: Allow overriding the endpoint host&lt;/p&gt;

&lt;p&gt;    This change adds the ability to override the server reported&lt;br/&gt;
    hostname/IP with the originally provided host/IP when connecting&lt;br/&gt;
    to the server.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/ctron/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ctron/camel&lt;/a&gt; feature/fix_issue_12287_1&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2237.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2237.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2237&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b365e14e852f56e60ad1744908b5bf9f035a0d14&lt;br/&gt;
Author: Jens Reimann &amp;lt;jreimann@...&amp;gt;&lt;br/&gt;
Date:   2018-02-22T09:30:17Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12287&quot; title=&quot;Allow overriding the server reported endpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12287&quot;&gt;&lt;del&gt;CAMEL-12287&lt;/del&gt;&lt;/a&gt;: Allow overriding the endpoint host&lt;/p&gt;

&lt;p&gt;    This change adds the ability to override the server reported&lt;br/&gt;
    hostname/IP with the originally provided IP when connecting&lt;br/&gt;
    to the server.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16376548" author="githubbot" created="Mon, 26 Feb 2018 08:59:48 +0000"  >&lt;p&gt;oscerd commented on issue #2237: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12287&quot; title=&quot;Allow overriding the server reported endpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12287&quot;&gt;&lt;del&gt;CAMEL-12287&lt;/del&gt;&lt;/a&gt;: Allow overriding the endpoint host&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2237#issuecomment-368431918&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2237#issuecomment-368431918&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Thanks for the PR, it has been merged.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16376549" author="githubbot" created="Mon, 26 Feb 2018 08:59:49 +0000"  >&lt;p&gt;oscerd closed pull request #2237: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12287&quot; title=&quot;Allow overriding the server reported endpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12287&quot;&gt;&lt;del&gt;CAMEL-12287&lt;/del&gt;&lt;/a&gt;: Allow overriding the endpoint host&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2237&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2237&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/components/camel-milo/src/main/docs/milo-client-component.adoc b/components/camel-milo/src/main/docs/milo-client-component.adoc&lt;br/&gt;
index eb3e2b5db37..ea1f48a3320 100644&lt;br/&gt;
&amp;#8212; a/components/camel-milo/src/main/docs/milo-client-component.adoc&lt;br/&gt;
+++ b/components/camel-milo/src/main/docs/milo-client-component.adoc&lt;br/&gt;
@@ -95,7 +95,7 @@ with the following path and query parameters:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;b&gt;endpointUri&lt;/b&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;b&gt;Required&lt;/b&gt; The OPC UA server endpoint &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; String&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;===&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;-==== Query Parameters (23 parameters):&lt;br/&gt;
+==== Query Parameters (24 parameters):&lt;/p&gt;

&lt;p&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;width=&amp;quot;100%&amp;quot;,cols=&amp;quot;2,5,^1,2&amp;quot;,options=&amp;quot;header&amp;quot;&amp;#93;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;===&lt;br/&gt;
@@ -119,6 +119,7 @@ with the following path and query parameters:&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;b&gt;keyStoreUrl&lt;/b&gt; (client) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The URL where the key should be loaded from &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; URL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;b&gt;maxPendingPublishRequests&lt;/b&gt; (client) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The maximum number of pending publish requests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Long&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;b&gt;maxResponseMessageSize&lt;/b&gt; (client) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The maximum number of bytes a response message may have &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Long&lt;br/&gt;
+&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;b&gt;overrideHost&lt;/b&gt; (client) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Override the server reported endpoint host with the host from the endpoint URI. &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; false &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; boolean&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;b&gt;productUri&lt;/b&gt; (client) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; The product URI &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://camel.apache.org/EclipseMilo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://camel.apache.org/EclipseMilo&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; String&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;b&gt;requestTimeout&lt;/b&gt; (client) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Request timeout in milliseconds &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Long&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;b&gt;sessionName&lt;/b&gt; (client) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Session name &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; String&lt;br/&gt;
diff --git a/components/camel-milo/src/main/java/org/apache/camel/component/milo/client/MiloClientConfiguration.java b/components/camel-milo/src/main/java/org/apache/camel/component/milo/client/MiloClientConfiguration.java&lt;br/&gt;
index 1a78648a93c..75743ea4009 100644&lt;br/&gt;
&amp;#8212; a/components/camel-milo/src/main/java/org/apache/camel/component/milo/client/MiloClientConfiguration.java&lt;br/&gt;
+++ b/components/camel-milo/src/main/java/org/apache/camel/component/milo/client/MiloClientConfiguration.java&lt;br/&gt;
@@ -85,6 +85,9 @@&lt;br/&gt;
     @UriParam(label = &quot;client&quot;, javaType = &quot;java.lang.String&quot;)&lt;br/&gt;
     private Set&amp;lt;String&amp;gt; allowedSecurityPolicies = new HashSet&amp;lt;&amp;gt;();&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;+    @UriParam(label = &quot;client&quot;)&lt;br/&gt;
+    private boolean overrideHost;&lt;br/&gt;
+&lt;br/&gt;
     public MiloClientConfiguration() {&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;@@ -95,6 +98,7 @@ public MiloClientConfiguration(final MiloClientConfiguration other) &lt;/p&gt;
{
         this.productUri = other.productUri;
         this.requestTimeout = other.requestTimeout;
         this.allowedSecurityPolicies = allowedSecurityPolicies != null ? new HashSet&amp;lt;&amp;gt;(other.allowedSecurityPolicies) : null;
+        this.overrideHost = other.overrideHost;
     }

&lt;p&gt;     public void setEndpointUri(final String endpointUri) {&lt;br/&gt;
@@ -316,7 +320,19 @@ public void setAllowedSecurityPolicies(final String allowedSecurityPolicies) {&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;     public Set&amp;lt;String&amp;gt; getAllowedSecurityPolicies() &lt;/p&gt;
{
-        return allowedSecurityPolicies;
+        return this.allowedSecurityPolicies;
+    }
&lt;p&gt;+&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Override the server reported endpoint host with the host from the&lt;br/&gt;
+     * endpoint URI.&lt;br/&gt;
+     */&lt;br/&gt;
+    public void setOverrideHost(boolean overrideHost) &lt;/p&gt;
{
+        this.overrideHost = overrideHost;
+    }
&lt;p&gt;+&lt;br/&gt;
+    public boolean isOverrideHost() &lt;/p&gt;
{
+        return overrideHost;
     }

&lt;p&gt;     @Override&lt;br/&gt;
diff --git a/components/camel-milo/src/main/java/org/apache/camel/component/milo/client/internal/SubscriptionManager.java b/components/camel-milo/src/main/java/org/apache/camel/component/milo/client/internal/SubscriptionManager.java&lt;br/&gt;
index f2d31025a4b..904217ddc19 100644&lt;br/&gt;
&amp;#8212; a/components/camel-milo/src/main/java/org/apache/camel/component/milo/client/internal/SubscriptionManager.java&lt;br/&gt;
+++ b/components/camel-milo/src/main/java/org/apache/camel/component/milo/client/internal/SubscriptionManager.java&lt;br/&gt;
@@ -17,6 +17,7 @@&lt;br/&gt;
 package org.apache.camel.component.milo.client.internal;&lt;/p&gt;

&lt;p&gt; import java.net.URI;&lt;br/&gt;
+import java.net.URISyntaxException;&lt;br/&gt;
 import java.util.ArrayList;&lt;br/&gt;
 import java.util.Collections;&lt;br/&gt;
 import java.util.HashMap;&lt;br/&gt;
@@ -416,7 +417,11 @@ private Connected performConnect() throws Exception {&lt;br/&gt;
                 }&lt;br/&gt;
             }&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return findEndpoint(endpoints);&lt;br/&gt;
+            try 
{
+                return findEndpoint(endpoints);
+            }
&lt;p&gt; catch (final URISyntaxException e) &lt;/p&gt;
{
+                throw new RuntimeException(&quot;Failed to find endpoints&quot;, e);
+            }
&lt;p&gt;         }).get();&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         LOG.debug(&quot;Selected endpoint: {}&quot;, endpoint);&lt;br/&gt;
@@ -495,7 +500,7 @@ private synchronized void triggerReconnect(final boolean immediate) {&lt;br/&gt;
         }&lt;br/&gt;
     }&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private EndpointDescription findEndpoint(final EndpointDescription[] endpoints) 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {+    private EndpointDescription findEndpoint(final EndpointDescription[] endpoints) throws URISyntaxException {
 
         final Predicate&amp;lt;String&amp;gt; allowed;
         final Set&amp;lt;String&amp;gt; uris = this.configuration.getAllowedSecurityPolicies();
@@ -517,7 +522,55 @@ private EndpointDescription findEndpoint(final EndpointDescription[] endpoints)
                 best = ep;
             }         }&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;return best;&lt;br/&gt;
+&lt;br/&gt;
+        // return result, might override the host part&lt;br/&gt;
+&lt;br/&gt;
+        return overrideHost(best);&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Optionally override the host of the endpoint URL with the configured one.&lt;br/&gt;
+     * &amp;lt;br&amp;gt;&lt;br/&gt;
+     * The method will call 
{@link #overrideHost(String)}
&lt;p&gt; if the endpoint is not&lt;br/&gt;
+     * &lt;/p&gt;
{@code null} and {@link MiloClientConfiguration#isOverrideHost()} returns&lt;br/&gt;
+     * {@code true}.&lt;br/&gt;
+     * &lt;br/&gt;
+     * @param desc The endpoint descriptor to work on&lt;br/&gt;
+     * @return Either the provided or updated endpoint descriptor. Only returns&lt;br/&gt;
+     *         {@code null}
&lt;p&gt; when the input was &lt;/p&gt;
{@code null}.&lt;br/&gt;
+     * @throws URISyntaxException on case the URI is malformed&lt;br/&gt;
+     */&lt;br/&gt;
+    private EndpointDescription overrideHost(final EndpointDescription desc) throws URISyntaxException {&lt;br/&gt;
+        if (desc == null) {
+            return null;
+        }&lt;br/&gt;
+&lt;br/&gt;
+        if (!this.configuration.isOverrideHost()) {
+            return desc;
+        }&lt;br/&gt;
+&lt;br/&gt;
+        return new EndpointDescription(overrideHost(desc.getEndpointUrl()), desc.getServer(), desc.getServerCertificate(), desc.getSecurityMode(), desc.getSecurityPolicyUri(),&lt;br/&gt;
+                                       desc.getUserIdentityTokens(), desc.getTransportProfileUri(), desc.getSecurityLevel());&lt;br/&gt;
+    }&lt;br/&gt;
+&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Override host part of the endpoint URL with the configured one.&lt;br/&gt;
+     * &lt;br/&gt;
+     * @param endpointUrl the server provided endpoint URL&lt;br/&gt;
+     * @return A new endpoint URL with the host part exchanged by the configured&lt;br/&gt;
+     *         host. Will be {@code null}
&lt;p&gt; when the input is &lt;/p&gt;
{@code null}
&lt;p&gt;.&lt;br/&gt;
+     * @throws URISyntaxException on case the URI is malformed&lt;br/&gt;
+     */&lt;br/&gt;
+    private String overrideHost(final String endpointUrl) throws URISyntaxException &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {++        if (endpointUrl == null) {
+            return null;
+        }++        final URI uri = URI.create(endpointUrl);+        final URI originalUri = URI.create(configuration.getEndpointUri());++        return new URI(uri.getScheme(), uri.getUserInfo(), originalUri.getHost(), uri.getPort(), uri.getPath(), uri.getQuery(), uri.getFragment()).toString();     }&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     protected synchronized void whenConnected(final Worker&amp;lt;Connected&amp;gt; worker) {&lt;br/&gt;
diff --git a/platforms/spring-boot/components-starter/camel-milo-starter/src/main/java/org/apache/camel/component/milo/client/springboot/MiloClientComponentConfiguration.java b/platforms/spring-boot/components-starter/camel-milo-starter/src/main/java/org/apache/camel/component/milo/client/springboot/MiloClientComponentConfiguration.java&lt;br/&gt;
index cd194aa1384..2abe2102d3e 100644&lt;br/&gt;
&amp;#8212; a/platforms/spring-boot/components-starter/camel-milo-starter/src/main/java/org/apache/camel/component/milo/client/springboot/MiloClientComponentConfiguration.java&lt;br/&gt;
+++ b/platforms/spring-boot/components-starter/camel-milo-starter/src/main/java/org/apache/camel/component/milo/client/springboot/MiloClientComponentConfiguration.java&lt;br/&gt;
@@ -175,6 +175,11 @@ public void setResolvePropertyPlaceholders(&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;use the highest.&lt;br/&gt;
          */&lt;br/&gt;
         private Set allowedSecurityPolicies;&lt;br/&gt;
+        /**&lt;br/&gt;
+         * Override the server reported endpoint host with the host from the&lt;br/&gt;
+         * endpoint URI.&lt;br/&gt;
+         */&lt;br/&gt;
+        private Boolean overrideHost = false;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         public String getEndpointUri() {&lt;br/&gt;
             return endpointUri;&lt;br/&gt;
@@ -303,5 +308,13 @@ public Set getAllowedSecurityPolicies() {&lt;br/&gt;
         public void setAllowedSecurityPolicies(Set allowedSecurityPolicies) &lt;/p&gt;
{
             this.allowedSecurityPolicies = allowedSecurityPolicies;
         }
&lt;p&gt;+&lt;br/&gt;
+        public Boolean getOverrideHost() &lt;/p&gt;
{
+            return overrideHost;
+        }
&lt;p&gt;+&lt;br/&gt;
+        public void setOverrideHost(Boolean overrideHost) &lt;/p&gt;
{
+            this.overrideHost = overrideHost;
+        }
&lt;p&gt;     }&lt;br/&gt;
 }&lt;br/&gt;
\ No newline at end of file&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16376550" author="githubbot" created="Mon, 26 Feb 2018 08:59:50 +0000"  >&lt;p&gt;Github user oscerd closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/2237&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2237&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16376580" author="githubbot" created="Mon, 26 Feb 2018 09:27:51 +0000"  >&lt;p&gt;ctron commented on issue #2237: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12287&quot; title=&quot;Allow overriding the server reported endpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12287&quot;&gt;&lt;del&gt;CAMEL-12287&lt;/del&gt;&lt;/a&gt;: Allow overriding the endpoint host&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/camel/pull/2237#issuecomment-368439261&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/2237#issuecomment-368439261&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Awesome. Thanks!&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qivj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>