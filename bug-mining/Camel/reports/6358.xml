<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:59:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-18922] TemplatedRoute fails to load with XML RouteLoader</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-18922</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I created the following ticket yesterday:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-18914&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-18914&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This issue was not a bug as it was a problem with the namespace.&lt;/p&gt;

&lt;p&gt;I am creating a new ticket as the route template still doesn&apos;t load in 3.20.0 (In 3.19.0 it loads successfully).&lt;/p&gt;

&lt;p&gt;Here is the code I am using:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// 1. Start Camel
&lt;/span&gt;context = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultCamelContext();
context.start();

&lt;span class=&quot;code-comment&quot;&gt;//2. Load route template
&lt;/span&gt;context.addRoutes((RouteBuilder) &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MyTemplate());

&lt;span class=&quot;code-comment&quot;&gt;//3. Create resource from string
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; content = &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;templatedRoutes id=\&quot;&lt;/span&gt;camel\&lt;span class=&quot;code-quote&quot;&gt;&quot; xmlns=\&quot;&lt;/span&gt;http:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/spring\&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;\n&quot;&lt;/span&gt; +
&lt;/span&gt;        &lt;span class=&quot;code-quote&quot;&gt;&quot;    &amp;lt;!-- create two routes from the template --&amp;gt;\n&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;    &amp;lt;templatedRoute routeTemplateRef=\&quot;&lt;/span&gt;myTemplate\&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;\n&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;        &amp;lt;parameter name=\&quot;&lt;/span&gt;name\&lt;span class=&quot;code-quote&quot;&gt;&quot; value=\&quot;&lt;/span&gt;Manually Loaded Tempate\&lt;span class=&quot;code-quote&quot;&gt;&quot;/&amp;gt;\n&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;        &amp;lt;parameter name=\&quot;&lt;/span&gt;greeting\&lt;span class=&quot;code-quote&quot;&gt;&quot; value=\&quot;&lt;/span&gt;Hello\&lt;span class=&quot;code-quote&quot;&gt;&quot;/&amp;gt;\n&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;    &amp;lt;/templatedRoute&amp;gt;\n&quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;/templatedRoutes&amp;gt;&quot;&lt;/span&gt;;

Resource resource = ResourceHelper.fromString(&lt;span class=&quot;code-quote&quot;&gt;&quot;in-memory.xml&quot;&lt;/span&gt;, content);

&lt;span class=&quot;code-comment&quot;&gt;//4. Load resource
&lt;/span&gt;ExtendedCamelContext extendedCamelContext = context.adapt(ExtendedCamelContext.class);
RoutesLoader loader = extendedCamelContext.getRoutesLoader();
loader.loadRoutes(resource);

&lt;span class=&quot;code-comment&quot;&gt;//5. check the size of all routes
&lt;/span&gt;LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;RoutesSize = &quot;&lt;/span&gt; + context.getRoutesSize()); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I added an example to reproduce this issue. When Camel version 3.19.0 is used the example works. When version 3.20.0 is used it fails. The example is configured with 3.19.0 (as the bom version).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13519151">CAMEL-18922</key>
            <summary>TemplatedRoute fails to load with XML RouteLoader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="skin27">Raymond</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Jan 2023 14:18:28 +0000</created>
                <updated>Mon, 30 Jan 2023 08:59:45 +0000</updated>
                            <resolved>Sun, 15 Jan 2023 15:35:40 +0000</resolved>
                                    <version>3.20.1</version>
                                    <fixVersion>3.20.2</fixVersion>
                    <fixVersion>3.21.0</fixVersion>
                    <fixVersion>4.0-M1</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>came-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17677050" author="davsclaus" created="Sun, 15 Jan 2023 15:14:01 +0000"  >&lt;p&gt;Okay I think I can see the bug.&lt;/p&gt;

&lt;p&gt;You can use this to make it work&lt;/p&gt;

&lt;p&gt;loader.loadRoutes(List.of(resource));&lt;/p&gt;</comment>
                            <comment id="17677053" author="skin27" created="Sun, 15 Jan 2023 15:24:39 +0000"  >&lt;p&gt;OK, thanks for the workaround. I want to demo 3.20.x next week, and it&apos;s nice to include route templates.&lt;/p&gt;</comment>
                            <comment id="17677064" author="skin27" created="Sun, 15 Jan 2023 16:43:48 +0000"  >&lt;p&gt;Just a question, when I use the snapshot version, can I then test it by using it this way:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
loader.loadRoutes(resource);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13054592" name="routeloader-with-routetemplate.7z" size="3053" author="skin27" created="Sat, 14 Jan 2023 14:18:12 +0000"/>
                            <attachment id="13054595" name="routeloader-with-routetemplate.zip" size="8054" author="skin27" created="Sat, 14 Jan 2023 18:27:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ezgo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>