<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:29:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-12551] Camel does not have logic that checks that it should only retry when its a new/changed file</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-12551</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I am reading a file using the stream camel component. The behaviour expected is the following :&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Read the stream&lt;/li&gt;
	&lt;li&gt;When the file roll over, start the reading the file from the begining&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;My code :&lt;/p&gt;

&lt;p&gt;{{from(&quot;stream:file?fileName=myfile&amp;amp;scanStream=true&amp;amp;scanStreamDelay=1000&amp;amp;retry=true&quot;) }}&lt;/p&gt;

&lt;p&gt;The problem with the code above is that the same file is read every 1000ms. The component don&apos;t check is the file was rolled over.&lt;/p&gt;

&lt;p&gt;Thanks in advance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13163201">CAMEL-12551</key>
            <summary>Camel does not have logic that checks that it should only retry when its a new/changed file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="RedaBalkouch">Reda BALKOUCH</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 May 2018 16:54:23 +0000</created>
                <updated>Tue, 5 Jun 2018 12:09:22 +0000</updated>
                            <resolved>Tue, 5 Jun 2018 12:07:25 +0000</resolved>
                                    <version>2.20.2</version>
                                    <fixVersion>2.22.0</fixVersion>
                                    <component>camel-stream</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16500156" author="davsclaus" created="Mon, 4 Jun 2018 12:40:02 +0000"  >&lt;p&gt;Okay taking a look at this, and its a bit more tricky to roll-over the file when its changed. So we need to add some more logic to make this more reliable.&lt;/p&gt;</comment>
                            <comment id="16500326" author="davsclaus" created="Mon, 4 Jun 2018 14:51:22 +0000"  >&lt;p&gt;Hmm we may need to either hash the file to know if it was changed / rollover. Or try to use the java nio api with the file event watcher (a bit cumbersome code). However the latter would assume that when a file rollover, then its deleted and created again, so we have a deleted (or created) event to listen to.&lt;/p&gt;</comment>
                            <comment id="16501661" author="davsclaus" created="Tue, 5 Jun 2018 12:09:22 +0000"  >&lt;p&gt;There is a new fileWatcher=true option you need to turn on as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ud5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>