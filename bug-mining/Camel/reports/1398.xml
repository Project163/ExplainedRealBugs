<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:43:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-3810] At payload model, set soap body element to header uncorrectly</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3810</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;if wsdl&apos;s operatin&apos;s has multi parts and the parts use same xml-element. Camel CXF Payload model, will mixup the xml element in body with header&lt;/p&gt;</description>
                <environment></environment>
        <key id="12502491">CAMEL-3810</key>
            <summary>At payload model, set soap body element to header uncorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="ext2xhb">ext2</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Mar 2011 05:47:11 +0000</created>
                <updated>Wed, 11 Mar 2015 13:31:06 +0000</updated>
                            <resolved>Fri, 1 Apr 2011 11:17:46 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>2.7.1</fixVersion>
                    <fixVersion>2.8.0</fixVersion>
                                    <component>camel-cxf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13011739" author="ext2xhb" created="Sun, 27 Mar 2011 05:53:44 +0000"  >&lt;p&gt; MultiPartTest.wsdl: is the wsdl, which will cause the bug;&lt;br/&gt;
MultiPartTest.xml: is the spring configured route.&lt;br/&gt;
CXFMultiPartTest.java: is the test case which failed.&lt;br/&gt;
MultiPartInvokeImpl.java: is service&apos;s simple ogical &lt;/p&gt;</comment>
                            <comment id="13011742" author="ext2xhb" created="Sun, 27 Mar 2011 06:01:13 +0000"  >&lt;p&gt;Here is SOAP Message show how Camel CXF mix-up the body with header&lt;/p&gt;

&lt;p&gt;Following is soap sent by the original client to camel&lt;br/&gt;
Payload: &amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&amp;gt;&amp;lt;soap:Header&amp;gt;&amp;lt;inE xmlns=&quot;http://adapter.ti.tongtech.com/ws/types&quot;&amp;gt;&amp;lt;v&amp;gt;in0&amp;lt;/v&amp;gt;&amp;lt;/inE&amp;gt;&amp;lt;/soap:Header&amp;gt;&amp;lt;soap:Body&amp;gt;&amp;lt;inE xmlns=&quot;http://adapter.ti.tongtech.com/ws/types&quot;&amp;gt;&amp;lt;v&amp;gt;in1&amp;lt;/v&amp;gt;&amp;lt;/inE&amp;gt;&amp;lt;/soap:Body&amp;gt;&amp;lt;/soap:Envelope&amp;gt;&lt;/p&gt;

&lt;p&gt;Following is the soap routed by camel to service(which mixed up)&lt;br/&gt;
Payload: &amp;lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&amp;gt;&amp;lt;soap:Header&amp;gt;&amp;lt;inE xmlns=&quot;http://adapter.ti.tongtech.com/ws/types&quot;&amp;gt;&amp;lt;v&amp;gt;in0&amp;lt;/v&amp;gt;&amp;lt;/inE&amp;gt;&amp;lt;inE xmlns=&quot;http://adapter.ti.tongtech.com/ws/types&quot;&amp;gt;&amp;lt;v&amp;gt;in1&amp;lt;/v&amp;gt;&amp;lt;/inE&amp;gt;&amp;lt;/soap:Header&amp;gt;&amp;lt;soap:Body /&amp;gt;&amp;lt;/soap:Envelope&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13011744" author="ext2xhb" created="Sun, 27 Mar 2011 06:06:02 +0000"  >&lt;p&gt;here is my temporary solution for Camel&lt;/p&gt;

&lt;p&gt;CxfEndpoint.CxfClientImpl.setParameters(){&lt;br/&gt;
........&lt;br/&gt;
/*&lt;br/&gt;
for (MessagePartInfo partInfo : boi.getOperationInfo().getInput().getMessageParts()) &lt;br/&gt;
{&lt;br/&gt;
	if (elements.size() &amp;gt; i &amp;amp;&amp;amp; partInfo.getConcreteName().getLocalPart()&lt;br/&gt;
                        .equals(elements.get&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/information.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.getLocalName()))&lt;br/&gt;
	content.put(partInfo, elements.get(i++));&lt;br/&gt;
}&lt;br/&gt;
*/&lt;br/&gt;
//boi.getInput().getMessageParts())  will return the message-part which have been binding to soap body; &lt;br/&gt;
for (MessagePartInfo partInfo : boi.getInput().getMessageParts()) &lt;/p&gt;
{
	content.put(partInfo, elements.get(i++));
}

}

&lt;p&gt;DefaultCxfBinding.getResponsePayloadList(...) {&lt;br/&gt;
....&lt;br/&gt;
/*&lt;br/&gt;
 for (MessagePartInfo partInfo : boi.getOperationInfo().getOutput().getMessageParts()) {&lt;br/&gt;
	if (elements.size() &amp;gt; i) &lt;/p&gt;
{
		answer.put(partInfo, elements.get(i++));
    }
&lt;p&gt; }&lt;br/&gt;
*/&lt;br/&gt;
for (MessagePartInfo partInfo : boi.getInput().getMessageParts()) {&lt;br/&gt;
	answer.put(partInfo, elements.get(i++));&lt;br/&gt;
}  &lt;br/&gt;
.......&lt;br/&gt;
}  &lt;/p&gt;
</comment>
                            <comment id="13011745" author="ext2xhb" created="Sun, 27 Mar 2011 06:10:08 +0000"  >&lt;p&gt;some description for my temporary solution:&lt;br/&gt;
To find which message part  matched with body elemens, we must rely on the WSDL Binding informations, not rely on wsdl portType&apos;s operation information.&lt;/p&gt;</comment>
                            <comment id="13011766" author="davsclaus" created="Sun, 27 Mar 2011 10:26:08 +0000"  >&lt;p&gt;Have you tried with Camel 2.7 release?&lt;/p&gt;</comment>
                            <comment id="13011793" author="ext2xhb" created="Sun, 27 Mar 2011 13:05:14 +0000"  >&lt;p&gt;I haven&apos;t tried on Camel 2.7. but I have review the source code of cxf component of Camel2.7. &lt;br/&gt;
As source code of Camel 2.7 which deal with message partis , is just like as Camel 2.4, so this test will also failed on camel 2.7.&lt;/p&gt;</comment>
                            <comment id="13014475" author="njiang" created="Fri, 1 Apr 2011 08:52:39 +0000"  >&lt;p&gt;Applied patch with thanks to ext2.&lt;/p&gt;

&lt;p&gt;In the CXF SoapBindingFactory.createBindingInfo method, you will see the message parts of the soap body will be store in the BindingOperationInfo&apos;s input and output message. The patch shows a way to help us tell which message part is below to message body.&lt;/p&gt;

&lt;p&gt;BTW, the change of DefaultCxfBinding.getResponsePayloadList should be&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;DefaultCxfBinding.getResponsePayloadList(...) {
...
-- &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (MessagePartInfo partInfo : boi.getOperationInfo().getOutput().getMessageParts()) {

++ &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (MessagePartInfo partInfo : boi.getOutput().getMessageParts()) { 
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14331965" author="githubbot" created="Sun, 22 Feb 2015 00:23:09 +0000"  >&lt;p&gt;GitHub user oombadness opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/403&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/403&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-3810&quot; title=&quot;At payload model, set soap body element to header uncorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-3810&quot;&gt;&lt;del&gt;CAMEL-3810&lt;/del&gt;&lt;/a&gt; - RabbitMQ - Adding ability to requeue message&lt;/p&gt;

&lt;p&gt;    Adding ability to REQUEUE a message on RabbitMQ server instead of REJECTING message / sending it to DLQ.  Messages that are in Fault / Exception state and have the header rabbitmq.REQUEUE set to the boolean true will be rejected and have the requeue flag set to true, otherwise the message will be rejected with the requeue flag set to false (as is current behavior).&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/oombadness/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/oombadness/camel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-8310&quot; title=&quot;RabbitMQConsumer has hard coded requeue flag set to false&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-8310&quot;&gt;&lt;del&gt;CAMEL-8310&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/403.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/403.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #403&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 20050c12682752cd13e93187f902a4aa9f2a42e7&lt;br/&gt;
Author: Andrew Austin &amp;lt;andrew.austin@wgu.edu&amp;gt;&lt;br/&gt;
Date:   2015-02-22T00:16:24Z&lt;/p&gt;

&lt;p&gt;    Adding ability to REQUEUE a message on RabbitMQ server instead of REJECTING message / sending it to DLQ.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14356861" author="githubbot" created="Wed, 11 Mar 2015 13:31:06 +0000"  >&lt;p&gt;Github user oombadness closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/403&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/camel/pull/403&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12474723" name="CXFMultiPartTest.java" size="5695" author="ext2xhb" created="Sun, 27 Mar 2011 05:53:44 +0000"/>
                            <attachment id="12474724" name="MultiPartInvokeImpl.java" size="2038" author="ext2xhb" created="Sun, 27 Mar 2011 05:53:44 +0000"/>
                            <attachment id="12474721" name="MultiPartTest.wsdl" size="2269" author="ext2xhb" created="Sun, 27 Mar 2011 05:53:44 +0000"/>
                            <attachment id="12474722" name="MultiPartTest.xml" size="4069" author="ext2xhb" created="Sun, 27 Mar 2011 05:53:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14162</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01x1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Regression</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10092"><![CDATA[Unit Test Broken]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>