<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 11:12:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-22264] camel-catalog - XPath language doesn&apos;t seem to validate</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-22264</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When I validate an expression, for example this invalid jsonpath:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; expression = &lt;span class=&quot;code-quote&quot;&gt;&quot;$store.book[*].title&quot;&lt;/span&gt;
DefaultCamelCatalog catalog = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultCamelCatalog();
catalog.validateLanguageExpression(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.getSystemClassLoader(), &lt;span class=&quot;code-quote&quot;&gt;&quot;jsonpath&quot;&lt;/span&gt;, expression);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I get a validation error as expected:&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;Illegal character at position 1 expected &lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt; or &lt;span class=&quot;code-quote&quot;&gt;&apos;[&apos;&lt;/span&gt;&quot;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The same works for other languages like Simple or Groovy. However, when I use xpath:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; expression = &lt;span class=&quot;code-quote&quot;&gt;&quot;\\/path/to&quot;&lt;/span&gt;
DefaultCamelCatalog catalog = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultCamelCatalog();
catalog.validateLanguageExpression(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.getSystemClassLoader(), &lt;span class=&quot;code-quote&quot;&gt;&quot;xpath&quot;&lt;/span&gt;, expression);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I get a success back. &lt;/p&gt;

&lt;p&gt;However, when I use some regular Java code&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
    Processor proc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Processor(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
    XPathCompiler xpath = proc.newXPathCompiler();
    xpath.compile(expression);
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;valid&quot;&lt;/span&gt;;
}&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (SaxonApiException e) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; e.getMessage();
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I get&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Invalid character &lt;span class=&quot;code-quote&quot;&gt;&apos;\\&apos;&lt;/span&gt; (x5c) in expression&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I would expect some similar as the above, or something like &quot;Unable to perform XPath operation. Invalid character &apos;\&apos; in expression &quot; when using the validateLanguageExpression from the catalog.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13624404">CAMEL-22264</key>
            <summary>camel-catalog - XPath language doesn&apos;t seem to validate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="skin27">Raymond</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Jul 2025 13:56:42 +0000</created>
                <updated>Thu, 24 Jul 2025 22:23:31 +0000</updated>
                            <resolved>Thu, 24 Jul 2025 11:48:02 +0000</resolved>
                                    <version>4.13.0</version>
                                    <fixVersion>4.10.7</fixVersion>
                    <fixVersion>4.14.0</fixVersion>
                                    <component>camel-catalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="18009274" author="davsclaus" created="Wed, 23 Jul 2025 13:58:28 +0000"  >&lt;p&gt;You cannot have everything working due to classloading complexity with this kind.&#160;&lt;/p&gt;</comment>
                            <comment id="18009284" author="davsclaus" created="Wed, 23 Jul 2025 14:24:09 +0000"  >&lt;p&gt;Camel uses the xpath jdk library and not saxon&lt;/p&gt;</comment>
                            <comment id="18009560" author="davsclaus" created="Thu, 24 Jul 2025 11:48:18 +0000"  >&lt;p&gt;okay fixed this so it validates&lt;/p&gt;</comment>
                            <comment id="18009706" author="skin27" created="Thu, 24 Jul 2025 22:23:31 +0000"  >&lt;p&gt;Thanks, I understand the classloading complexity, and I can work around it, but I think this fix will make it clearer for all users.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wx34:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>