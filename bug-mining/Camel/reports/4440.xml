<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:28:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-12289] URISyntaxException in AbstractSpanDecorator</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-12289</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Fix provided in &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-12098&quot; title=&quot;URISyntaxException in OpenTracingTracer for endpoints with path parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-12098&quot;&gt;&lt;del&gt;CAMEL-12098&lt;/del&gt;&lt;/a&gt; does not solve whole problem. As there are still curly brackets in URL, it fails&#160; in AbstractDecorator in method pre(...), where is again used URI.createSchema().&lt;/p&gt;

&lt;p&gt;I checked and URI.create(endpoint.getEndpointUri()) is also in 2 other decorators, but there is probably not happening that {} are used in path..&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13140526">CAMEL-12289</key>
            <summary>URISyntaxException in AbstractSpanDecorator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="cipous">Radek Mensik</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Feb 2018 15:36:14 +0000</created>
                <updated>Mon, 26 Feb 2018 13:09:37 +0000</updated>
                            <resolved>Mon, 26 Feb 2018 08:46:25 +0000</resolved>
                                    <version>2.20.2</version>
                                    <fixVersion>2.19.5</fixVersion>
                    <fixVersion>2.20.3</fixVersion>
                    <fixVersion>2.21.0</fixVersion>
                                    <component>camel-opentracing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16374511" author="cipous" created="Fri, 23 Feb 2018 15:39:37 +0000"  >&lt;p&gt;I can submit fix with only changes in AbstractSpanDecorator:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: components/camel-opentracing/src/main/java/org/apache/camel/opentracing/decorators/AbstractSpanDecorator.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
&amp;lt;+&amp;gt;UTF-8
===================================================================
--- components/camel-opentracing/src/main/java/org/apache/camel/opentracing/decorators/AbstractSpanDecorator.java&#160;&#160; &#160;(revision 65b5394ff4645cb47e1bdd6060d100bfe4293a09)
+++ components/camel-opentracing/src/main/java/org/apache/camel/opentracing/decorators/AbstractSpanDecorator.java&#160;&#160; &#160;(date 1519316576424)
@@ -27,6 +27,7 @@
&#160;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.Exchange;
&#160;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.opentracing.SpanDecorator;
&#160;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.util.URISupport;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.camel.util.StringHelper;
&#160;
&#160;/**
&#160; * An &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; base implementation of the {@link SpanDecorator} &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt;.
@@ -69,11 +70,13 @@
&#160;
&#160;&#160;&#160;&#160; @Override
&#160;&#160;&#160;&#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void pre(Span span, Exchange exchange, Endpoint endpoint) {
-&#160;&#160;&#160;&#160;&#160;&#160;&#160; span.setTag(Tags.COMPONENT.getKey(), CAMEL_COMPONENT + URI.create(endpoint.getEndpointUri()).getScheme());
+&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; endpointUri = endpoint.getEndpointUri();
+&#160;&#160;&#160;&#160;&#160;&#160;&#160; endpointUri = endpointUri.replace(&lt;span class=&quot;code-quote&quot;&gt;&quot;{&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;(&quot;&lt;/span&gt;).replace(&lt;span class=&quot;code-quote&quot;&gt;&quot;}&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;)&quot;&lt;/span&gt;);
+&#160;&#160;&#160;&#160;&#160;&#160;&#160; span.setTag(Tags.COMPONENT.getKey(), CAMEL_COMPONENT + URI.create(endpointUri).getScheme());
&#160;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;span class=&quot;code-comment&quot;&gt;// Including the endpoint URI provides access to any options that may have been provided, &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;
&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;span class=&quot;code-comment&quot;&gt;// subsequent analysis
&lt;/span&gt;-&#160;&#160;&#160;&#160;&#160;&#160;&#160; span.setTag(&lt;span class=&quot;code-quote&quot;&gt;&quot;camel.uri&quot;&lt;/span&gt;, URISupport.sanitizeUri(endpoint.getEndpointUri()));
+&#160;&#160;&#160;&#160;&#160;&#160;&#160; span.setTag(&lt;span class=&quot;code-quote&quot;&gt;&quot;camel.uri&quot;&lt;/span&gt;, URISupport.sanitizeUri(endpointUri));
&#160;&#160;&#160;&#160; }
&#160;
&#160;&#160;&#160;&#160; @Override

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This solves my problem with restlet component, but not sure if it is optimal solution...&lt;/p&gt;</comment>
                            <comment id="16376525" author="davsclaus" created="Mon, 26 Feb 2018 08:46:25 +0000"  >&lt;p&gt;Thanks I found a little different way to grab the component name from the uri, they way its done in camel-core&lt;/p&gt;</comment>
                            <comment id="16376828" author="cipous" created="Mon, 26 Feb 2018 13:09:37 +0000"  >&lt;p&gt;This shoud be working as well... But again&#160;&lt;br/&gt;
URI.create(endpoint.getEndpointUri())&lt;br/&gt;
is used in other decorators I am not aware of..&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13126319">CAMEL-12098</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qj07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>