<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 10:57:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-18370] Bidning properties to route template local beans do not honor RAW()</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-18370</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Assuming we have a kamelet where the route template is defined as:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-yaml&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;template: &lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;beans: &lt;/span&gt;
      - &lt;span class=&quot;code-keyword&quot;&gt;name: &lt;/span&gt;local-salesforce
        &lt;span class=&quot;code-keyword&quot;&gt;type: &lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-comment&quot;&gt;#class:org.apache.camel.component.salesforce.SalesforceComponent&quot;&lt;/span&gt;
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;properties: &lt;/span&gt;
          &lt;span class=&quot;code-keyword&quot;&gt;clientId: &lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;{{clientId}}&quot;&lt;/span&gt;
          &lt;span class=&quot;code-keyword&quot;&gt;clientSecret: &lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;{{clientSecret}}&quot;&lt;/span&gt;
          &lt;span class=&quot;code-keyword&quot;&gt;userName: &lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;{{userName}}&quot;&lt;/span&gt;
          &lt;span class=&quot;code-keyword&quot;&gt;password: &lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;{{password}}&quot;&lt;/span&gt;
          &lt;span class=&quot;code-keyword&quot;&gt;loginUrl: &lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;{{loginUrl}}&quot;&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;from: &lt;/span&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;uri: &lt;/span&gt;kamelet:source
      &lt;span class=&quot;code-keyword&quot;&gt;steps: &lt;/span&gt;
        - &lt;span class=&quot;code-keyword&quot;&gt;to: &lt;/span&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;uri: &lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;{{local-salesforce}}:createSObject&quot;&lt;/span&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;parameters: &lt;/span&gt;
              &lt;span class=&quot;code-keyword&quot;&gt;sObjectName: &lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;{{sObjectName}}&quot;&lt;/span&gt;
              &lt;span class=&quot;code-keyword&quot;&gt;rawPayload: &lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt;
              &lt;span class=&quot;code-keyword&quot;&gt;format: &lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;JSON&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Where we define the &lt;em&gt;userName&lt;/em&gt; as something like &lt;em&gt;foo+bar@acme.com&lt;/em&gt;.&lt;br/&gt;
With such parameter, the login would fail as the parameter would become  &lt;em&gt;foo bar@acme.com&lt;/em&gt; in the component (as the parameter is taken from the kamelet uri hence, it gets decoded).&lt;/p&gt;

&lt;p&gt;An attempt to fix that is to use RAW, as example &lt;em&gt;userName: &quot;RAW{{userName}}&quot;&lt;/em&gt; but this also would fail the login as the parameter would become &lt;em&gt;RAW(foo bar@acme.com)&lt;/em&gt; in the component.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13475955">CAMEL-18370</key>
            <summary>Bidning properties to route template local beans do not honor RAW()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="lb">Luca Burgazzoli</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Aug 2022 12:09:55 +0000</created>
                <updated>Wed, 31 Aug 2022 04:29:57 +0000</updated>
                            <resolved>Thu, 11 Aug 2022 09:52:38 +0000</resolved>
                                    <version>3.18.0</version>
                                    <fixVersion>3.18.2</fixVersion>
                    <fixVersion>3.19.0</fixVersion>
                                    <component>camel-core</component>
                    <component>camel-kamelet</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17578298" author="davsclaus" created="Thu, 11 Aug 2022 07:21:33 +0000"  >&lt;p&gt;I have reproduced this with help from jbang&lt;/p&gt;
</comment>
                            <comment id="17578325" author="davsclaus" created="Thu, 11 Aug 2022 08:48:55 +0000"  >&lt;p&gt;I can make this work with RAW but it requires that we start to use RAW more consistently for username/password in the templates.&lt;/p&gt;

&lt;p&gt;This route works with a the above salesforce kamelet. The password that salesforce receives is as-is typed with the + sign&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
# camel-k: language=yaml
# camel-k: property=myUsername=foo+bar@acme.com

# Write your routes here, &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; example:
- from:
    uri: &lt;span class=&quot;code-quote&quot;&gt;&quot;timer:foo&quot;&lt;/span&gt;
    parameters:
      period: &lt;span class=&quot;code-quote&quot;&gt;&quot;1000&quot;&lt;/span&gt;
    steps:
      - setBody:
          constant: &lt;span class=&quot;code-quote&quot;&gt;&quot;Hello Camel from yaml&quot;&lt;/span&gt;
      - to:
          uri: &lt;span class=&quot;code-quote&quot;&gt;&quot;kamelet:mysf&quot;&lt;/span&gt;
          parameters: 
            sObjectName: &lt;span class=&quot;code-quote&quot;&gt;&quot;com.foo.MyObject&quot;&lt;/span&gt;
            clientId: &lt;span class=&quot;code-quote&quot;&gt;&quot;123&quot;&lt;/span&gt;
            clientSecret: &lt;span class=&quot;code-quote&quot;&gt;&quot;bbb&quot;&lt;/span&gt;
            userName: &lt;span class=&quot;code-quote&quot;&gt;&quot;RAW({{myUsername}})&quot;&lt;/span&gt;
            password: &lt;span class=&quot;code-quote&quot;&gt;&quot;tiger&quot;&lt;/span&gt;
            loginUrl: &lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//login.salesforce.com&quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17578328" author="davsclaus" created="Thu, 11 Aug 2022 08:56:15 +0000"  >&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-16403&quot; title=&quot;camel-core - URI parsing sensitive keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-16403&quot;&gt;CAMEL-16403&lt;/a&gt; we could also automatic detect which parameter names that matches a sensitive key, then we could automatic have safe RAW() so end users do not need to think about this. Otherwise its safer to mark all of that with RAW()&lt;/p&gt;</comment>
                            <comment id="17578365" author="davsclaus" created="Thu, 11 Aug 2022 09:52:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lb&quot; class=&quot;user-hover&quot; rel=&quot;lb&quot;&gt;lb&lt;/a&gt; you need to use RAW() in the route (as above) then it works now with this fix.&lt;br/&gt;
The kamelet should not use RAW() but stay as-is&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13476361">CAMEL-18385</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13367553">CAMEL-16403</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13048002" name="Screenshot 2022-08-11 at 09.21.09.png" size="359370" author="davsclaus" created="Thu, 11 Aug 2022 07:21:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17lzk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>