<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:46:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-4444] Wrong slash in FTP component for doneFile</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-4444</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I tried to use the doneFile with FTP component.&lt;br/&gt;
When I used it to my FTP on my windows machine everything goes fine.&lt;br/&gt;
When I tried to act the same with a FTP host on a Linux machine, I got an issue.&lt;/p&gt;

&lt;p&gt;I sniff the packet to see what goes wrong and I see this :&lt;br/&gt;
the doneFile &lt;br/&gt;
DELE public/Test/in\myFile.txt  &lt;br/&gt;
the file to process&lt;br/&gt;
DELE public/Test/in/myFile.xml&lt;/p&gt;


&lt;p&gt;After a Quick look on the code:&lt;br/&gt;
org.apache.camel.component.file.GenericFileEndpoint &lt;br/&gt;
line 682&lt;/p&gt;

&lt;p&gt; String answer = pattern;&lt;br/&gt;
        if (ObjectHelper.isNotEmpty(path) &amp;amp;&amp;amp; ObjectHelper.isNotEmpty(pattern)) &lt;/p&gt;
{
            // done file must always be in same directory as the real file name
            answer = path + File.separator + pattern;
        }

&lt;p&gt;        if (getConfiguration().needToNormalize()) &lt;/p&gt;
{
            // must normalize path to cater for Windows and other OS
            answer = FileUtil.normalizePath(answer);
        }

&lt;p&gt;We use the &quot;File.Separator&quot; but in this case, it should get a kind of &quot;FTP.Separator&quot; or the FTP component should return true to the needToNormalize method and change the narmalizePath method to manage this case.&lt;/p&gt;



</description>
                <environment></environment>
        <key id="12522736">CAMEL-4444</key>
            <summary>Wrong slash in FTP component for doneFile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="oliches">Olivier Cheslet</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Sep 2011 13:39:47 +0000</created>
                <updated>Tue, 13 Sep 2011 11:34:29 +0000</updated>
                            <resolved>Tue, 13 Sep 2011 11:34:29 +0000</resolved>
                                    <version>2.8.0</version>
                                    <fixVersion>2.8.2</fixVersion>
                    <fixVersion>2.9.0</fixVersion>
                                    <component>camel-ftp</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13103455" author="davsclaus" created="Tue, 13 Sep 2011 08:24:52 +0000"  >&lt;p&gt;There is a &lt;tt&gt;separator&lt;/tt&gt; option you can use to explicit configure the separator style.&lt;/p&gt;</comment>
                            <comment id="13103493" author="oliches" created="Tue, 13 Sep 2011 09:34:29 +0000"  >&lt;p&gt;Thanks, &lt;/p&gt;

&lt;p&gt;I think the last thing to fix, it&apos;s to replace the &lt;/p&gt;

&lt;p&gt;File.separator on line 685 of the org.apache.camel.component.file.GenericFileEndpoint class by getFileSeparator()&lt;/p&gt;

&lt;p&gt;and it will be fine.&lt;/p&gt;</comment>
                            <comment id="13103505" author="oliches" created="Tue, 13 Sep 2011 10:07:05 +0000"  >&lt;p&gt;Here is a potential patch&lt;/p&gt;</comment>
                            <comment id="13103525" author="davsclaus" created="Tue, 13 Sep 2011 10:54:49 +0000"  >&lt;p&gt;Olivier can you re-attach the patch and this time make sure to &lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; in Grant license to Apache, as we cannot accept patches otherwise.&lt;/p&gt;</comment>
                            <comment id="13103547" author="davsclaus" created="Tue, 13 Sep 2011 11:34:29 +0000"  >&lt;p&gt;Thanks for the patch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12494213" name="CAMEL-4444.patch" size="765" author="oliches" created="Tue, 13 Sep 2011 10:59:29 +0000"/>
                            <attachment id="12494203" name="CAMEL-4444.patch" size="765" author="oliches" created="Tue, 13 Sep 2011 10:07:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13776</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i020yv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9758</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>