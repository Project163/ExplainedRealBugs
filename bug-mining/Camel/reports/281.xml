<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:27:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-795] MinaConsumerTest failure</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-795</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The test fails with the following error:&lt;/p&gt;

&lt;p&gt;junit.framework.ComparisonFailure: expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Bye World&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;[]&amp;gt;&lt;br/&gt;
	at junit.framework.Assert.assertEquals(Assert.java:81)&lt;br/&gt;
	at junit.framework.Assert.assertEquals(Assert.java:87)&lt;br/&gt;
	at org.apache.camel.component.mina.MinaConsumerTest.testSendTextlineSyncText(MinaConsumerTest.java:28)&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;One test sends sync the text &quot;World&quot; and the should receive &quot;Bye World&quot; in response.&lt;br/&gt;
2008-08-08 01:35:25,589 DEBUG MinaProducer - Message received: Bye World &lt;br/&gt;
2008-08-08 01:35:25,589 DEBUG MinaProducer - Message received:  &lt;br/&gt;
2008-08-08 01:35:25,589 DEBUG MinaProducer - Message received: Bye  &lt;br/&gt;
2008-08-08 01:35:25,589 DEBUG MinaProducer - Message received:  &lt;/p&gt;

&lt;p&gt;There are actually not one, but two messages received which causes the reply to be overridden by the second message.  The problem is with the test itself that actually returns &quot;Bye &quot; + body + &quot;\n&quot;!  Because the test uses the &apos;textline&apos; mina codec, the encoder actually adds another &apos;\n&apos;.  With the textline codec there&apos;s one message per line, so the extra \n makes it two lines and hence the extra message.  The decoder at the other end suppresses the LineDelimiter (\n), so the extra message is actually an empty string.&lt;/p&gt;

&lt;p&gt;Removing the extra \n in the message fixes the test, but the notes above should be considered when camel-mina is used with the textline codec.&lt;/p&gt;



</description>
                <environment></environment>
        <key id="12485998">CAMEL-795</key>
            <summary>MinaConsumerTest failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hadrian">Hadrian Zbarcea</assignee>
                                    <reporter username="hadrian">Hadrian Zbarcea</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Aug 2008 05:48:57 +0000</created>
                <updated>Mon, 16 Feb 2009 05:51:49 +0000</updated>
                            <resolved>Fri, 8 Aug 2008 05:57:28 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>camel-mina</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12950718" author="davsclaus" created="Mon, 16 Feb 2009 05:51:49 +0000"  >&lt;p&gt;Closing all 1.5.0 issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01efz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>