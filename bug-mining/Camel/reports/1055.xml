<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 09:38:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CAMEL-2817] renames (to .processed) are sometimes done even if the download failed.</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-2817</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I have an ftp consumer endpoint URI like: &lt;br/&gt;
&lt;tt&gt;&lt;a href=&quot;ftp://conaxTest@localhost:2121/autreq/ok?passiveMode=true&amp;amp;password=conaxTest&amp;amp;move=.processed&amp;amp;delay=5000&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://conaxTest@localhost:2121/autreq/ok?passiveMode=true&amp;amp;amp;password=conaxTest&amp;amp;move=.processed&amp;amp;delay=5000&lt;/a&gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;From my ftp server logs, I can see files being downloaded, and then renamed...&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.ftpserver.command.impl.RETR:pool-2-thread-56&amp;#93;&lt;/span&gt; - &amp;lt;File downloaded /autreq/ok/vp006331.emm&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.ftpserver.command.impl.RETR:pool-2-thread-56&amp;#93;&lt;/span&gt; - &amp;lt;File downloaded /autreq/ok/vp006332.emm&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.ftpserver.impl.DefaultFtpHandler:pool-2-thread-57&amp;#93;&lt;/span&gt; - &amp;lt;Session idle, closing&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.ftpserver.command.impl.RNTO:pool-2-thread-56&amp;#93;&lt;/span&gt; - &amp;lt;File rename from &quot;/autreq/ok/vp006331.emm&quot; to &quot;/autreq/ok/.processed/vp006331.emm&quot;&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.ftpserver.command.impl.RNTO:pool-2-thread-54&amp;#93;&lt;/span&gt; - &amp;lt;File rename from &quot;/autreq/ok/vp006332.emm&quot; to &quot;/autreq/ok/.processed/vp006332.emm&quot;&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.ftpserver.command.impl.RNTO:pool-2-thread-54&amp;#93;&lt;/span&gt; - &amp;lt;File rename from &quot;/autreq/ok/vp006333.emm&quot; to &quot;/autreq/ok/.processed/vp006333.emm&quot;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Note, that vp006333.emm is renamed, but was never downloaded.  There&apos;s no other mention of the file in my logs.  On the camel ftp consumer side, I see that camel attempted to download the file, but ended up with a null...&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;is.vf.conan.conax.FileParser:Camel thread 7: seda://updateOk&amp;#93;&lt;/span&gt; - &amp;lt;handling: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;vp006331.emm&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;is.vf.conan.ConanCore:Camel thread 7: seda://updateOk&amp;#93;&lt;/span&gt; - &amp;lt;updating operation txid:006331 with the results: OK&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;is.vf.conan.conax.FileParser:Camel thread 7: seda://updateOk&amp;#93;&lt;/span&gt; - &amp;lt;handling: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;vp006332.emm&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;is.vf.conan.ConanCore:Camel thread 7: seda://updateOk&amp;#93;&lt;/span&gt; - &amp;lt;updating operation txid:006332 with the results: OK&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;is.vf.conan.conax.FileParser:Camel thread 7: seda://updateOk&amp;#93;&lt;/span&gt; - &amp;lt;handling: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;vp006333.emm&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;is.vf.conan.conax.FileParser:Camel thread 7: seda://updateOk&amp;#93;&lt;/span&gt; - &amp;lt;Requested parse of an empty file!&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The &quot;requested parse of an empty file&quot; is logged when &lt;tt&gt;ex.getIn().getBody(String.class)&lt;/tt&gt; is empty or blank for the file object.&lt;/p&gt;

&lt;p&gt;I had a look through the bugs fixed for 2.3.0, but I don&apos;t see anything that would be related to this at all.&lt;/p&gt;</description>
                <environment>&lt;p&gt;linux, apache ftp server.&lt;/p&gt;</environment>
        <key id="12486703">CAMEL-2817</key>
            <summary>renames (to .processed) are sometimes done even if the download failed.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="karlp">Karl Palsson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Jun 2010 22:17:11 +0000</created>
                <updated>Sun, 24 Apr 2011 10:00:55 +0000</updated>
                            <resolved>Wed, 16 Jun 2010 04:49:16 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.4.0</fixVersion>
                                    <component>camel-ftp</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12955998" author="davsclaus" created="Wed, 16 Jun 2010 04:36:54 +0000"  >&lt;p&gt;Karl how often can you reproduce this issue?&lt;/p&gt;</comment>
                            <comment id="12955973" author="davsclaus" created="Wed, 16 Jun 2010 04:49:15 +0000"  >&lt;p&gt;trunk: 955126.&lt;/p&gt;

&lt;p&gt;I found an issue and have fixed this. You are welcome to test with 2.4-SNAPSHOT jars on your system.&lt;br/&gt;
The fix is in camel-core so you need to upgrade all Camel JARs to 2.4-SNAPSHOT&lt;/p&gt;</comment>
                            <comment id="13024306" author="davsclaus" created="Sun, 24 Apr 2011 10:00:55 +0000"  >&lt;p&gt;Closing all resolved tickets from 2010 or older&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76419</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01qwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8129</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>