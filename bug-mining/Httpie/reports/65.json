{"url":"https://api.github.com/repos/httpie/cli/issues/925","repository_url":"https://api.github.com/repos/httpie/cli","labels_url":"https://api.github.com/repos/httpie/cli/issues/925/labels{/name}","comments_url":"https://api.github.com/repos/httpie/cli/issues/925/comments","events_url":"https://api.github.com/repos/httpie/cli/issues/925/events","html_url":"https://github.com/httpie/cli/issues/925","id":624556344,"node_id":"MDU6SXNzdWU2MjQ1NTYzNDQ=","number":925,"title":"Circular import breaking httpie.output.formatters.colors import","user":{"login":"bsolomon1124","id":25164676,"node_id":"MDQ6VXNlcjI1MTY0Njc2","avatar_url":"https://avatars.githubusercontent.com/u/25164676?v=4","gravatar_id":"","url":"https://api.github.com/users/bsolomon1124","html_url":"https://github.com/bsolomon1124","followers_url":"https://api.github.com/users/bsolomon1124/followers","following_url":"https://api.github.com/users/bsolomon1124/following{/other_user}","gists_url":"https://api.github.com/users/bsolomon1124/gists{/gist_id}","starred_url":"https://api.github.com/users/bsolomon1124/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bsolomon1124/subscriptions","organizations_url":"https://api.github.com/users/bsolomon1124/orgs","repos_url":"https://api.github.com/users/bsolomon1124/repos","events_url":"https://api.github.com/users/bsolomon1124/events{/privacy}","received_events_url":"https://api.github.com/users/bsolomon1124/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-05-26T02:13:58Z","updated_at":"2020-05-26T08:12:40Z","closed_at":"2020-05-26T08:12:37Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`httpie/httpie/output/formatters/colors.py` imports from `from httpie.plugins`, which imports `ColorFormatter`, and so on ...\r\n\r\nPython 3.8 output:\r\n\r\n```\r\n$ python -m pip install -U pip wheel setuptools pygments httpie\r\n$ python\r\nPython 3.8.3 (default, May 19 2020, 21:34:17) \r\n[Clang 11.0.0 (clang-1100.0.33.12)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from httpie.output.formatters.colors import get_lexer\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/brad/Scripts/python/envs/venv/lib/python3.8/site-packages/httpie/output/formatters/colors.py\", line 20, in <module>\r\n    from httpie.plugins import FormatterPlugin\r\n  File \"/Users/brad/Scripts/python/envs/venv/lib/python3.8/site-packages/httpie/plugins/__init__.py\", line 14, in <module>\r\n    from httpie.output.formatters.colors import ColorFormatter\r\nImportError: cannot import name 'ColorFormatter' from partially initialized module 'httpie.output.formatters.colors' (most likely due to a circular import) (/Users/brad/Scripts/python/envs/venv/lib/python3.8/site-packages/httpie/output/formatters/colors.py)\r\n```\r\n\r\n3.7:\r\n\r\n```\r\n$ python\r\nPython 3.7.7 (default, Apr  9 2020, 18:09:52) \r\n[Clang 11.0.0 (clang-1100.0.33.12)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from httpie.output.formatters.colors import get_lexer\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/brad/Scripts/python/envs/venv/lib/python3.7/site-packages/httpie/output/formatters/colors.py\", line 20, in <module>\r\n    from httpie.plugins import FormatterPlugin\r\n  File \"/Users/brad/Scripts/python/envs/venv/lib/python3.7/site-packages/httpie/plugins/__init__.py\", line 14, in <module>\r\n    from httpie.output.formatters.colors import ColorFormatter\r\nImportError: cannot import name 'ColorFormatter' from 'httpie.output.formatters.colors' (/Users/brad/Scripts/python/envs/venv/lib/python3.7/site-packages/httpie/output/formatters/colors.py)\r\n```\r\n\r\nWhich can be addressed with this hack:\r\n\r\n```\r\n>>> from httpie.plugins import *\r\n>>> from httpie.output.formatters.colors import get_lexer\r\n```","closed_by":{"login":"jkbrzt","id":326885,"node_id":"MDQ6VXNlcjMyNjg4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/326885?v=4","gravatar_id":"","url":"https://api.github.com/users/jkbrzt","html_url":"https://github.com/jkbrzt","followers_url":"https://api.github.com/users/jkbrzt/followers","following_url":"https://api.github.com/users/jkbrzt/following{/other_user}","gists_url":"https://api.github.com/users/jkbrzt/gists{/gist_id}","starred_url":"https://api.github.com/users/jkbrzt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkbrzt/subscriptions","organizations_url":"https://api.github.com/users/jkbrzt/orgs","repos_url":"https://api.github.com/users/jkbrzt/repos","events_url":"https://api.github.com/users/jkbrzt/events{/privacy}","received_events_url":"https://api.github.com/users/jkbrzt/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/httpie/cli/issues/925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/httpie/cli/issues/925/timeline","performed_via_github_app":null,"state_reason":"completed"}