diff --git a/flume-ng-core/pom.xml b/flume-ng-core/pom.xml
index b2a90db4..bd81c4b0 100644
--- a/flume-ng-core/pom.xml
+++ b/flume-ng-core/pom.xml
@@ -32,7 +32,7 @@ limitations under the License.
   <properties>
     <!-- TODO fix spotbugs violations -->
     <spotbugs.maxAllowedViolations>115</spotbugs.maxAllowedViolations>
-    <pmd.maxAllowedViolations>112</pmd.maxAllowedViolations>
+    <pmd.maxAllowedViolations>121</pmd.maxAllowedViolations>
   </properties>
 
   <build>
@@ -324,12 +324,7 @@ limitations under the License.
 
     <dependency>
       <groupId>org.apache.avro</groupId>
-      <artifactId>avro-ipc</artifactId>
-    </dependency>
-
-    <dependency>
-      <groupId>io.netty</groupId>
-      <artifactId>netty</artifactId>
+      <artifactId>avro-ipc-netty</artifactId>
     </dependency>
 
     <dependency>
diff --git a/flume-ng-core/src/main/java/org/apache/flume/source/AvroSource.java b/flume-ng-core/src/main/java/org/apache/flume/source/AvroSource.java
index ac3d51d8..6342aa96 100644
--- a/flume-ng-core/src/main/java/org/apache/flume/source/AvroSource.java
+++ b/flume-ng-core/src/main/java/org/apache/flume/source/AvroSource.java
@@ -20,8 +20,8 @@
 package org.apache.flume.source;
 
 import com.google.common.util.concurrent.ThreadFactoryBuilder;
-import org.apache.avro.ipc.NettyServer;
-import org.apache.avro.ipc.NettyTransceiver;
+import org.apache.avro.ipc.netty.NettyServer;
+import org.apache.avro.ipc.netty.NettyTransceiver;
 import org.apache.avro.ipc.Responder;
 import org.apache.avro.ipc.Server;
 import org.apache.avro.ipc.specific.SpecificResponder;
diff --git a/flume-ng-core/src/test/java/org/apache/flume/sink/TestAvroSink.java b/flume-ng-core/src/test/java/org/apache/flume/sink/TestAvroSink.java
index cc2c91a8..bb62cffe 100644
--- a/flume-ng-core/src/test/java/org/apache/flume/sink/TestAvroSink.java
+++ b/flume-ng-core/src/test/java/org/apache/flume/sink/TestAvroSink.java
@@ -20,8 +20,7 @@
 package org.apache.flume.sink;
 
 import com.google.common.base.Charsets;
-import org.apache.avro.AvroRemoteException;
-import org.apache.avro.ipc.NettyServer;
+import org.apache.avro.ipc.netty.NettyServer;
 import org.apache.avro.ipc.Server;
 import org.apache.avro.ipc.specific.SpecificResponder;
 import org.apache.flume.Channel;
@@ -810,21 +809,20 @@ public class TestAvroSink {
   private static class MockAvroServer implements AvroSourceProtocol {
 
     @Override
-    public Status append(AvroFlumeEvent event) throws AvroRemoteException {
+    public Status append(AvroFlumeEvent event) {
       logger.debug("Received event:{}", event);
       return Status.OK;
     }
 
     @Override
-    public Status appendBatch(List<AvroFlumeEvent> events)
-        throws AvroRemoteException {
+    public Status appendBatch(List<AvroFlumeEvent> events) {
       logger.debug("Received event batch:{}", events);
       return Status.OK;
     }
 
   }
 
-  private static class DelayMockAvroServer implements AvroSourceProtocol {
+  private static class DelayMockAvroServer implements AvroSourceProtocol.Callback {
 
     private final AtomicLong delay;
 
@@ -832,29 +830,51 @@ public class TestAvroSink {
       this.delay = delay;
     }
 
-    private void sleep() throws AvroRemoteException {
+    private void sleep() throws IOException {
       try {
         Thread.sleep(delay.get());
       } catch (InterruptedException e) {
-        throw new AvroRemoteException("Interrupted while sleeping", e);
+        throw new IOException("Interrupted while sleeping", e);
       }
     }
 
     @Override
-    public Status append(AvroFlumeEvent event) throws AvroRemoteException {
+    public Status append(AvroFlumeEvent event) {
       logger.debug("Received event:{}; delaying for {}ms", event, delay);
-      sleep();
+      try {
+        sleep();
+      } catch (IOException e) {
+        logger.debug("IOException detected");
+      }
       return Status.OK;
     }
 
     @Override
-    public Status appendBatch(List<AvroFlumeEvent> events)
-        throws AvroRemoteException {
-      logger.debug("Received event batch:{}; delaying for {}ms", events, delay);
+    public void append(AvroFlumeEvent event,
+                   org.apache.avro.ipc.Callback<Status> status)
+            throws IOException {
+      logger.debug("Received event:{}; delaying for {}ms", event, delay);
       sleep();
+    }
+
+    @Override
+    public Status appendBatch(List<AvroFlumeEvent> events) {
+      logger.debug("Received event batch:{}; delaying for {}ms", events, delay);
+      try {
+        sleep();
+      } catch (IOException e) {
+        logger.debug("IOException detected");
+      }
       return Status.OK;
     }
 
+    @Override
+    public void appendBatch(List<AvroFlumeEvent> events,
+                         org.apache.avro.ipc.Callback<Status> status)
+            throws IOException {
+      logger.debug("Received event batch:{}; delaying for {}ms", events, delay);
+      sleep();
+    }
   }
 
   private Server createSslServer(AvroSourceProtocol protocol)
diff --git a/flume-ng-core/src/test/java/org/apache/flume/source/TestAvroSource.java b/flume-ng-core/src/test/java/org/apache/flume/source/TestAvroSource.java
index 21e65ade..b9aab538 100644
--- a/flume-ng-core/src/test/java/org/apache/flume/source/TestAvroSource.java
+++ b/flume-ng-core/src/test/java/org/apache/flume/source/TestAvroSource.java
@@ -39,7 +39,8 @@ import javax.net.ssl.SSLEngine;
 import javax.net.ssl.TrustManager;
 import javax.net.ssl.X509TrustManager;
 
-import org.apache.avro.ipc.NettyTransceiver;
+import org.apache.avro.AvroRuntimeException;
+import org.apache.avro.ipc.netty.NettyTransceiver;
 import org.apache.avro.ipc.specific.SpecificRequestor;
 import org.apache.flume.Channel;
 import org.apache.flume.ChannelException;
@@ -218,13 +219,13 @@ public class TestAvroSource {
     doRequest(true, true, 9);
   }
 
-  @Test(expected = org.apache.avro.AvroRemoteException.class)
+  @Test(expected = org.apache.avro.AvroRuntimeException.class)
   public void testRequestWithCompressionOnServerOnly() throws InterruptedException, IOException {
     //This will fail because both client and server need compression on
     doRequest(true, false, 6);
   }
 
-  @Test(expected = org.apache.avro.AvroRemoteException.class)
+  @Test(expected = org.apache.avro.AvroRuntimeException.class)
   public void testRequestWithCompressionOnClientOnly() throws InterruptedException, IOException {
     //This will fail because both client and server need compression on
     doRequest(false, true, 6);
@@ -585,7 +586,7 @@ public class TestAvroSource {
       Status status = client.append(avroEvent);
       logger.info("Client appended");
       Assert.assertEquals(Status.OK, status);
-    } catch (IOException e) {
+    } catch (IOException | AvroRuntimeException e) {
       Assert.assertTrue("Should have been allowed: " + ruleDefinition,
           !eventShouldBeAllowed);
       return;
