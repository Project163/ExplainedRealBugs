<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:57:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLUME-2497] TCP and UDP syslog sources parsing the timestamp incorrectly</title>
                <link>https://issues.apache.org/jira/browse/FLUME-2497</link>
                <project id="12311321" key="FLUME">Flume</project>
                    <description>&lt;p&gt;TCP and UDP syslog sources parse the timestamp incorrectly while using Syslogutils extractEvent and buildEvent  methods.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12746567">FLUME-2497</key>
            <summary>TCP and UDP syslog sources parsing the timestamp incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jrufus">Johny Rufus</assignee>
                                    <reporter username="jrufus">Johny Rufus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Oct 2014 00:34:42 +0000</created>
                <updated>Tue, 11 Nov 2014 03:44:25 +0000</updated>
                            <resolved>Tue, 11 Nov 2014 03:03:39 +0000</resolved>
                                    <version>1.5.0.1</version>
                                    <fixVersion>1.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14170422" author="jrufus" created="Tue, 14 Oct 2014 02:54:35 +0000"  >&lt;p&gt;This happens in the case where the timestamp is of the form &quot;2014-10-03T17:20:01.222357&quot;, where the microseconds is present&lt;br/&gt;
The prime reason being the inability of SimpleDateFormat used by SyslogUtils to parse microseconds. Instead of considering 222357 as microseconds, it is treated as milliseconds.&lt;br/&gt;
In this scenario, we need to specify the value in milliseconds (by discarding the digits after the first three digits). This behavior is in consistent with Joda DateTimeFormatter used by MultiportSyslogTCPSource (SyslogParser). &lt;br/&gt;
Attached a patch that does the above conversion.&lt;/p&gt;</comment>
                            <comment id="14171642" author="jrufus" created="Tue, 14 Oct 2014 22:28:36 +0000"  >&lt;p&gt;Reference to the javadoc for SimpleDateFormat, &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html&lt;/a&gt;&lt;br/&gt;
which specifies that &apos;S&apos; corresponds to milliseconds and the standard format that matches the above pattern for parsing is&lt;br/&gt;
yyyy-MM-dd&apos;T&apos;HH:mm:ss.S and in which case S = 222357 is taken as milliseconds&lt;/p&gt;</comment>
                            <comment id="14171955" author="hshreedharan" created="Wed, 15 Oct 2014 04:07:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mpercy&quot; class=&quot;user-hover&quot; rel=&quot;mpercy&quot;&gt;mpercy&lt;/a&gt; - Could you please take a look? I am not too familiar with this code.&lt;/p&gt;</comment>
                            <comment id="14205834" author="mpercy" created="Tue, 11 Nov 2014 02:21:14 +0000"  >&lt;p&gt;+1 lgtm. I have a couple minor nits (add a couple comments, formatting) that I&apos;ll just address on commit.&lt;/p&gt;</comment>
                            <comment id="14205864" author="jira-bot" created="Tue, 11 Nov 2014 03:02:28 +0000"  >&lt;p&gt;Commit 534fe268d1d0ad197f6e4a867ab0ae0155d1a927 in flume&apos;s branch refs/heads/trunk from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mpercy&quot; class=&quot;user-hover&quot; rel=&quot;mpercy&quot;&gt;mpercy&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=flume.git;h=534fe26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=flume.git;h=534fe26&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2497&quot; title=&quot;TCP and UDP syslog sources parsing the timestamp incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2497&quot;&gt;&lt;del&gt;FLUME-2497&lt;/del&gt;&lt;/a&gt;. Support fractional seconds in Syslog timestamps&lt;/p&gt;

&lt;p&gt;This fixes a bug in the SyslogTcpSource and SyslogUdpSource where&lt;br/&gt;
fractional timestamps fail to parse.&lt;/p&gt;

&lt;p&gt;(Johny Rufus via Mike Percy)&lt;/p&gt;</comment>
                            <comment id="14205865" author="jira-bot" created="Tue, 11 Nov 2014 03:02:36 +0000"  >&lt;p&gt;Commit dcc1ce066853a9594508f21a6bd0d7382a4c240e in flume&apos;s branch refs/heads/flume-1.6 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mpercy&quot; class=&quot;user-hover&quot; rel=&quot;mpercy&quot;&gt;mpercy&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=flume.git;h=dcc1ce0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=flume.git;h=dcc1ce0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2497&quot; title=&quot;TCP and UDP syslog sources parsing the timestamp incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2497&quot;&gt;&lt;del&gt;FLUME-2497&lt;/del&gt;&lt;/a&gt;. Support fractional seconds in Syslog timestamps&lt;/p&gt;

&lt;p&gt;This fixes a bug in the SyslogTcpSource and SyslogUdpSource where&lt;br/&gt;
fractional timestamps fail to parse.&lt;/p&gt;

&lt;p&gt;(Johny Rufus via Mike Percy)&lt;/p&gt;</comment>
                            <comment id="14205867" author="mpercy" created="Tue, 11 Nov 2014 03:03:39 +0000"  >&lt;p&gt;Pushed to the trunk and flume-1.6 branches. Thanks for the patch Rufus!&lt;/p&gt;</comment>
                            <comment id="14205890" author="hudson" created="Tue, 11 Nov 2014 03:38:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in flume-trunk #691 (See &lt;a href=&quot;https://builds.apache.org/job/flume-trunk/691/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/flume-trunk/691/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2497&quot; title=&quot;TCP and UDP syslog sources parsing the timestamp incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2497&quot;&gt;&lt;del&gt;FLUME-2497&lt;/del&gt;&lt;/a&gt;. Support fractional seconds in Syslog timestamps (mpercy: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/flume/repo?p=flume.git&amp;amp;a=commit&amp;amp;h=534fe268d1d0ad197f6e4a867ab0ae0155d1a927&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/flume/repo?p=flume.git&amp;amp;a=commit&amp;amp;h=534fe268d1d0ad197f6e4a867ab0ae0155d1a927&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;flume-ng-core/src/main/java/org/apache/flume/source/SyslogUtils.java&lt;/li&gt;
	&lt;li&gt;flume-ng-core/src/test/java/org/apache/flume/source/TestSyslogUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14205898" author="hudson" created="Tue, 11 Nov 2014 03:44:25 +0000"  >&lt;p&gt;SUCCESS: Integrated in Flume-trunk-hbase-98 #48 (See &lt;a href=&quot;https://builds.apache.org/job/Flume-trunk-hbase-98/48/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Flume-trunk-hbase-98/48/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2497&quot; title=&quot;TCP and UDP syslog sources parsing the timestamp incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2497&quot;&gt;&lt;del&gt;FLUME-2497&lt;/del&gt;&lt;/a&gt;. Support fractional seconds in Syslog timestamps (mpercy: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/flume/repo?p=flume.git&amp;amp;a=commit&amp;amp;h=534fe268d1d0ad197f6e4a867ab0ae0155d1a927&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/flume/repo?p=flume.git&amp;amp;a=commit&amp;amp;h=534fe268d1d0ad197f6e4a867ab0ae0155d1a927&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;flume-ng-core/src/test/java/org/apache/flume/source/TestSyslogUtils.java&lt;/li&gt;
	&lt;li&gt;flume-ng-core/src/main/java/org/apache/flume/source/SyslogUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12674670" name="FLUME-2497.patch" size="2049" author="jrufus" created="Tue, 14 Oct 2014 02:53:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20wrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>