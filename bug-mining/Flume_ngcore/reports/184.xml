<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:58:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLUME-2905] NetcatSource - Socket not closed when an exception is encountered during start() leading to file descriptor leaks</title>
                <link>https://issues.apache.org/jira/browse/FLUME-2905</link>
                <project id="12311321" key="FLUME">Flume</project>
                    <description>&lt;p&gt;During the flume agent start-up, the flume configuration containing the NetcatSource is parsed and the source&apos;s start() is called. If there is an issue while binding the channel&apos;s socket to a local address to configure the socket to listen for connections following exception is thrown but the socket open just before is not closed. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2016-05-01 03:04:37,273 ERROR org.apache.flume.lifecycle.LifecycleSupervisor: Unable to start EventDrivenSourceRunner: { source:org.apache.flume.source.NetcatSource{name:src-1,state:IDLE} } - Exception follows.
org.apache.flume.FlumeException: java.net.BindException: Address already in use
        at org.apache.flume.source.NetcatSource.start(NetcatSource.java:173)
        at org.apache.flume.source.EventDrivenSourceRunner.start(EventDrivenSourceRunner.java:44)
        at org.apache.flume.lifecycle.LifecycleSupervisor$MonitorRunnable.run(LifecycleSupervisor.java:251)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
Caused by: java.net.BindException: Address already in use
        at sun.nio.ch.Net.bind0(Native Method)
        at sun.nio.ch.Net.bind(Net.java:444)
        at sun.nio.ch.Net.bind(Net.java:436)
        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:214)
        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:67)
        at org.apache.flume.source.NetcatSource.start(NetcatSource.java:167)
        ... 9 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The source&apos;s start() is then called again leading to another socket being opened but not closed and so on. This leads to file descriptor (socket) leaks.&lt;/p&gt;

&lt;p&gt;This can be easily reproduced as follows:&lt;br/&gt;
1. Set Netcat as the source in flume agent configuration.&lt;br/&gt;
2. Set the bind port for the netcat source to a port which is already in use. e.g. in my case I used 50010 which is the port for DataNode&apos;s XCeiver Protocol in use by the HDFS service.&lt;br/&gt;
3. Start flume agent and perform &quot;lsof -p &amp;lt;flume_process_id&amp;gt; | wc -l&quot;. Notice the file descriptors keep on growing due to socket leaks with errors like: &quot;can&apos;t identify protocol&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12964178">FLUME-2905</key>
            <summary>NetcatSource - Socket not closed when an exception is encountered during start() leading to file descriptor leaks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sahuja">Siddharth Ahuja</assignee>
                                    <reporter username="sahuja">Siddharth Ahuja</reporter>
                        <labels>
                    </labels>
                <created>Sun, 1 May 2016 23:35:35 +0000</created>
                <updated>Tue, 12 Sep 2017 13:51:09 +0000</updated>
                            <resolved>Fri, 30 Jun 2017 12:13:37 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>1.8.0</fixVersion>
                                    <component>Sinks+Sources</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="15266049" author="sahuja" created="Mon, 2 May 2016 01:53:13 +0000"  >&lt;p&gt;Trying to get it assigned to myself...&lt;/p&gt;</comment>
                            <comment id="15275659" author="sahuja" created="Sun, 8 May 2016 18:25:47 +0000"  >&lt;p&gt;Attached the patch that stops the source and cleans up the socket when a BindException is encountered if a port is already in use by invoking stop() .&lt;br/&gt;
Also, moved the creation of the thread pool near to where it gets used so that it does not have to be cleaned up during the stop().&lt;br/&gt;
JUnit is also provided.&lt;/p&gt;

&lt;p&gt;Tested the patch as follows:&lt;br/&gt;
	&#8226; Started HDFS (datanode) service that binds to the port 50010, so port is in use.&lt;br/&gt;
	&#8226; Started updated flume-agent with configuration containing Netcat source and File roll sink with bind port as 50010.&lt;br/&gt;
	&#8226; Investigated flume logs and found the BindException due to port already in use.&lt;br/&gt;
	&#8226; Ran &quot;ps auxx|grep -i flume&quot; to get the flume process id.&lt;br/&gt;
	&#8226; Ran &quot;lsof -p &amp;lt;flume_proc_id&amp;gt; | wc -l&quot; multiple times to check if file descriptors are increasing. They are stable.&lt;br/&gt;
	&#8226; Stopped HDFS service to free up port 50010.&lt;br/&gt;
	&#8226; Noticed from flume-agent logs that source is finally started successfully with socket bound to 50010.&lt;br/&gt;
	&#8226; From a new terminal, ran &quot;nc localhost 50010&quot; and entered some text.&lt;br/&gt;
	&#8226; The text is written on the local filesystem successfully.&lt;/p&gt;</comment>
                            <comment id="15281789" author="granthenke" created="Thu, 12 May 2016 17:24:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jarcec&quot; class=&quot;user-hover&quot; rel=&quot;jarcec&quot;&gt;jarcec&lt;/a&gt; Would you have time to review this? &lt;/p&gt;</comment>
                            <comment id="15281953" author="jarcec" created="Thu, 12 May 2016 19:56:28 +0000"  >&lt;p&gt;Sure, my pleasure.  Quickly looking at the patch, can you please remove the trailing white space warnings &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sahuja&quot; class=&quot;user-hover&quot; rel=&quot;sahuja&quot;&gt;sahuja&lt;/a&gt;?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;jarcec@arlene flume % git apply FLUME-2905-0.patch                                                                                                                                                                                                                                                                         [trunk &#10007;] (1.8.0_77-b03) (ruby-2.2.3) [12:54:00]
FLUME-2905-0.patch:25: space before tab in indent.
    	.setNameFormat(&lt;span class=&quot;code-quote&quot;&gt;&quot;netcat-handler-%d&quot;&lt;/span&gt;).build());
FLUME-2905-0.patch:50: trailing whitespace.

FLUME-2905-0.patch:52: trailing whitespace.
   * Tests that the source is stopped when an exception is thrown
FLUME-2905-0.patch:54: trailing whitespace.
   * clean up the sockets opened during source.start().
FLUME-2905-0.patch:55: trailing whitespace.
   *
warning: squelched 5 whitespace errors
warning: 10 lines add whitespace errors.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15282411" author="sahuja" created="Fri, 13 May 2016 05:29:02 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jarcec&quot; class=&quot;user-hover&quot; rel=&quot;jarcec&quot;&gt;jarcec&lt;/a&gt;, attached a new patch, hopefully this should be enough&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15289528" author="jarcec" created="Wed, 18 May 2016 18:28:08 +0000"  >&lt;p&gt;My local build is failing with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Tests run: 8, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 6.481 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
testSourceStoppedOnFlumeException(org.apache.flume.source.TestNetcatSource)  Time elapsed: 6 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.IllegalStateException: No channel processor configured
	at com.google.common.base.Preconditions.checkState(Preconditions.java:145)
	at org.apache.flume.source.AbstractSource.start(AbstractSource.java:45)
	at org.apache.flume.source.NetcatSource.start(NetcatSource.java:192)
	at org.apache.flume.source.TestNetcatSource.startSource(TestNetcatSource.java:344)
	at org.apache.flume.source.TestNetcatSource.testSourceStoppedOnFlumeException(TestNetcatSource.java:314)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Wondering if you saw that in your environment as well?&lt;/p&gt;</comment>
                            <comment id="15297905" author="sahuja" created="Tue, 24 May 2016 08:42:05 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jarcec&quot; class=&quot;user-hover&quot; rel=&quot;jarcec&quot;&gt;jarcec&lt;/a&gt;, I have found the issue here. It is to do with how I set up my source in TestNetcatSource.java. As I created a new NetcatSource in my test method and did not set up the channelProcessor for it manually it failed for you (but for some reason it worked fine for me in both my eclipse &amp;amp; command line environment). Regardless, I have modified the test so that it re-uses the existing source object with the channelProcessor already set up through the setup() method of the test suite. The point of the test is to ensure that when we start up a source that tries to bind on a port which is already bound we should stop the source. Creating a &quot;new&quot; source in the test suite is not important and we can re-use the already existing source. &lt;/p&gt;</comment>
                            <comment id="15297911" author="sahuja" created="Tue, 24 May 2016 08:44:24 +0000"  >&lt;p&gt;I have attached a new patch : &lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2905&quot; title=&quot;NetcatSource - Socket not closed when an exception is encountered during start() leading to file descriptor leaks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2905&quot;&gt;&lt;del&gt;FLUME-2905&lt;/del&gt;&lt;/a&gt;-2 for the above, thanks again for the review.&lt;/p&gt;</comment>
                            <comment id="15329088" author="jarcec" created="Tue, 14 Jun 2016 08:16:53 +0000"  >&lt;p&gt;I&apos;m still observing test failure:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Results :

Failed tests:   testSourceStoppedOnFlumeException(org.apache.flume.source.TestNetcatSource): Flume exception thrown as port already in use expected:&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;gt; but was:&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16049006" author="sahuja" created="Wed, 14 Jun 2017 10:12:23 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=denes&quot; class=&quot;user-hover&quot; rel=&quot;denes&quot;&gt;denes&lt;/a&gt;, I have just created another patch (patch #3) with a minor change to my junit tests. The Junits are passing in my local build, as such, it would be great if you could test them out again. Thanks in advance for your help!&lt;/p&gt;</comment>
                            <comment id="16050088" author="sahuja" created="Thu, 15 Jun 2017 07:15:24 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=denes&quot; class=&quot;user-hover&quot; rel=&quot;denes&quot;&gt;denes&lt;/a&gt;,&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jarcec&quot; class=&quot;user-hover&quot; rel=&quot;jarcec&quot;&gt;jarcec&lt;/a&gt;, I have just updated the junit again with my latest patch, would have you time to review this for me please? Hopefully, the junits work this time around! Thank you in advance!&lt;/p&gt;</comment>
                            <comment id="16058287" author="sati" created="Wed, 21 Jun 2017 21:30:12 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sahuja&quot; class=&quot;user-hover&quot; rel=&quot;sahuja&quot;&gt;sahuja&lt;/a&gt;,&lt;br/&gt;
Junit passed for me but hasn&apos;t run exhaustively yet. I checked the &lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2905&quot; title=&quot;NetcatSource - Socket not closed when an exception is encountered during start() leading to file descriptor leaks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2905&quot;&gt;&lt;del&gt;FLUME-2905&lt;/del&gt;&lt;/a&gt;-4.patch and would have some minor suggestions. Would you mind uploading to &lt;a href=&quot;https://reviews.apache.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/&lt;/a&gt; for a code review? Please let me know if you have trouble with it (I&apos;m also happy to upload it there for you). &lt;/p&gt;

&lt;p&gt;In a nutshell:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;I would recommend calling stop() after writing out the exception.&lt;/li&gt;
	&lt;li&gt;I would recommend removing the return statement from that part of the stop function which catches an Exception from Socket close. That currently prevents the rest of the stop() to be executed including super.stop() which then can&apos;t set the Lifecycle state.&lt;/li&gt;
	&lt;li&gt;Test currently checks that stop was executed properly expecting the source to be in LifecycleState.STOP state. I think that is fine since it is internal to the NetcatSource that it opens a ServerSocket. What we have to check whether the Source is stopped on error. And this is indeed checked by the test.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;As a side note: It seems like that startSource() doesn&apos;t behave as expected (should pick a new port on error). This is a separate issue so I guess it should be fixed with a separate jira/PR.&lt;/p&gt;</comment>
                            <comment id="16058745" author="sahuja" created="Thu, 22 Jun 2017 04:54:29 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sati&quot; class=&quot;user-hover&quot; rel=&quot;sati&quot;&gt;sati&lt;/a&gt;, thanks a lot for your review.&lt;/p&gt;

&lt;p&gt;Please find my answers for your points:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;For point 1. - &quot;calling stop() after writing out the exception&quot;, I have moved stop() after logging the exception but just before it gets thrown.&lt;/li&gt;
	&lt;li&gt;For point 2. - We should possibly have a dedicated JIRA for removing the &quot;return&quot; statement from the stop() method as this would be a different issue to what I am trying to fix in this JIRA which is to prevent socket leaks if a port is already bound. Also, it would make tracking easier with a new JIRA as otherwise any issues (if any) arising from this removal will be discussed in this JIRA which is a side-track from the original issue that is already potentially resolved. What do you think?&lt;/li&gt;
	&lt;li&gt;For point 3 - I believe I have nothing to do here.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I have gone on and created a new patch - &lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2905&quot; title=&quot;NetcatSource - Socket not closed when an exception is encountered during start() leading to file descriptor leaks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2905&quot;&gt;&lt;del&gt;FLUME-2905&lt;/del&gt;&lt;/a&gt;-5.patch for your review. I have tested that to ensure that there are no leaks and the junit also passes for me.&lt;/p&gt;

&lt;p&gt;I will try and add this to review board (haven&apos;t done that yet) soon.&lt;/p&gt;

&lt;p&gt;Thanks once again.&lt;/p&gt;</comment>
                            <comment id="16058799" author="sahuja" created="Thu, 22 Jun 2017 05:50:59 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sati&quot; class=&quot;user-hover&quot; rel=&quot;sati&quot;&gt;sati&lt;/a&gt;, just added the review request on the Review Board. Not sure if I have done everything as per the process. Would be great if you could check. Thanks in advance!&lt;/p&gt;</comment>
                            <comment id="16059612" author="sati" created="Thu, 22 Jun 2017 16:10:24 +0000"  >&lt;p&gt;It looks good, thanks! You can check others eg: &lt;a href=&quot;https://reviews.apache.org/r/48161/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/48161/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I also left some comments there (you can upload your corrections there, I guess attaching the final version of the patch here would be enough)&lt;/p&gt;</comment>
                            <comment id="16064494" author="sahuja" created="Tue, 27 Jun 2017 09:00:23 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sati&quot; class=&quot;user-hover&quot; rel=&quot;sati&quot;&gt;sati&lt;/a&gt;, thanks for your reply and comments on the review. I have uploaded a new patch (patch #6) to this JIRA based on your comments. I hope this is enough to get the fix out of the way! Thanks in advance for reviewing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16069993" author="jira-bot" created="Fri, 30 Jun 2017 12:12:17 +0000"  >&lt;p&gt;Commit 5e9cfef2b26f1960601d08d571e4c85c269503af in flume&apos;s branch refs/heads/trunk from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sahuja&quot; class=&quot;user-hover&quot; rel=&quot;sahuja&quot;&gt;sahuja&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=flume.git;h=5e9cfef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=flume.git;h=5e9cfef&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2905&quot; title=&quot;NetcatSource - Socket not closed when an exception is encountered during start() leading to file descriptor leaks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2905&quot;&gt;&lt;del&gt;FLUME-2905&lt;/del&gt;&lt;/a&gt;. Fix NetcatSource file descriptor leak if startup fails&lt;/p&gt;

&lt;p&gt;This patch fixes the issue in NetcatSource which occurs if there is a problem&lt;br/&gt;
while binding the channel&apos;s socket to a local address and leads to a file descriptor&lt;br/&gt;
(socket) leak.&lt;/p&gt;

&lt;p&gt;Reviewers: Attila Simon, Denes Arvay&lt;/p&gt;

&lt;p&gt;(Siddharth Ahuja via Denes Arvay)&lt;/p&gt;</comment>
                            <comment id="16069999" author="denes" created="Fri, 30 Jun 2017 12:13:37 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sahuja&quot; class=&quot;user-hover&quot; rel=&quot;sahuja&quot;&gt;sahuja&lt;/a&gt; for filing the ticket and providing the patch, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sati&quot; class=&quot;user-hover&quot; rel=&quot;sati&quot;&gt;sati&lt;/a&gt; for the review.&lt;/p&gt;</comment>
                            <comment id="16070036" author="hudson" created="Fri, 30 Jun 2017 12:45:49 +0000"  >&lt;p&gt;FAILURE: Integrated in Jenkins build Flume-trunk-hbase-1 #254 (See &lt;a href=&quot;https://builds.apache.org/job/Flume-trunk-hbase-1/254/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Flume-trunk-hbase-1/254/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2905&quot; title=&quot;NetcatSource - Socket not closed when an exception is encountered during start() leading to file descriptor leaks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2905&quot;&gt;&lt;del&gt;FLUME-2905&lt;/del&gt;&lt;/a&gt;. Fix NetcatSource file descriptor leak if startup fails (denes: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/flume/repo?p=flume.git&amp;amp;a=commit&amp;amp;h=5e9cfef2b26f1960601d08d571e4c85c269503af&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/flume/repo?p=flume.git&amp;amp;a=commit&amp;amp;h=5e9cfef2b26f1960601d08d571e4c85c269503af&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) flume-ng-core/src/test/java/org/apache/flume/source/TestNetcatSource.java&lt;/li&gt;
	&lt;li&gt;(edit) flume-ng-core/src/main/java/org/apache/flume/source/NetcatSource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12802893" name="FLUME-2905-0.patch" size="3827" author="sahuja" created="Sun, 8 May 2016 18:19:56 +0000"/>
                            <attachment id="12803800" name="FLUME-2905-1.patch" size="3784" author="sahuja" created="Fri, 13 May 2016 05:27:27 +0000"/>
                            <attachment id="12805836" name="FLUME-2905-2.patch" size="3750" author="sahuja" created="Tue, 24 May 2016 08:42:48 +0000"/>
                            <attachment id="12872956" name="FLUME-2905-3.patch" size="4107" author="sahuja" created="Wed, 14 Jun 2017 10:10:29 +0000"/>
                            <attachment id="12873068" name="FLUME-2905-4.patch" size="4007" author="sahuja" created="Thu, 15 Jun 2017 07:17:18 +0000"/>
                            <attachment id="12874010" name="FLUME-2905-5.patch" size="3949" author="sahuja" created="Thu, 22 Jun 2017 05:40:39 +0000"/>
                            <attachment id="12874641" name="FLUME-2905-6.patch" size="3900" author="sahuja" created="Tue, 27 Jun 2017 08:58:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2x0rj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>