<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:56:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLUME-1622] MemoryChannel throws NPE if the event has no body</title>
                <link>https://issues.apache.org/jira/browse/FLUME-1622</link>
                <project id="12311321" key="FLUME">Flume</project>
                    <description></description>
                <environment></environment>
        <key id="12610684">FLUME-1622</key>
            <summary>MemoryChannel throws NPE if the event has no body</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hshreedharan">Hari Shreedharan</assignee>
                                    <reporter username="hshreedharan">Hari Shreedharan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Oct 2012 03:29:07 +0000</created>
                <updated>Fri, 19 Oct 2012 18:40:31 +0000</updated>
                            <resolved>Thu, 18 Oct 2012 16:41:11 +0000</resolved>
                                    <version>1.3.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                                    <component>Channel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13471384" author="dennyy" created="Mon, 8 Oct 2012 03:06:51 +0000"  >&lt;p&gt;The most important element of Event is &lt;b&gt;body&lt;/b&gt;, in other words, no body no Event. Thus, we should verify the event construction with valid body and length.&lt;/p&gt;

&lt;p&gt;Do there have any useful standpoints to support illegal event(without body or zero length) for ingest system? &lt;/p&gt;
</comment>
                            <comment id="13471393" author="hshreedharan" created="Mon, 8 Oct 2012 03:57:44 +0000"  >&lt;p&gt;Denny,&lt;/p&gt;

&lt;p&gt;As of now there is no rule or verification that happens if the event has a body or not. So we cannot assume that it has. Also, it is possible that there are users who would simply want to transfer event data in headers - say, just the timestamps at which some &quot;event&quot; happened - in which case they may not need a body at all. Anyway we cannot assume that the body exists.&lt;/p&gt;

&lt;p&gt;Also note that we cannot make a new requirement that each event has a body, unless we make the requirement in the next major release, v2.0. We have to make sure existing client code works fine between point/minor releases. So for now, we &lt;b&gt;need&lt;/b&gt; to support the case where there is a zero-size/non-existent body.&lt;/p&gt;</comment>
                            <comment id="13479132" author="brocknoland" created="Thu, 18 Oct 2012 16:41:11 +0000"  >&lt;p&gt;Committed to trunk, 1.3, and 1.4. Thank you for your contribution Hari!&lt;/p&gt;</comment>
                            <comment id="13479518" author="hudson" created="Fri, 19 Oct 2012 00:10:15 +0000"  >&lt;p&gt;Integrated in flume-1.3.0 #11 (See &lt;a href=&quot;https://builds.apache.org/job/flume-1.3.0/11/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/flume-1.3.0/11/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-1622&quot; title=&quot;MemoryChannel throws NPE if the event has no body&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-1622&quot;&gt;&lt;del&gt;FLUME-1622&lt;/del&gt;&lt;/a&gt;: MemoryChannel throws NPE if the event has no body (Revision 6d22b6b0980377f41122018b183cd442b9818472)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
brock : &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/flume/repo?p=flume.git;a=summary&amp;amp;a=commit&amp;amp;h=6d22b6b0980377f41122018b183cd442b9818472&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/flume/repo?p=flume.git;a=summary&amp;amp;a=commit&amp;amp;h=6d22b6b0980377f41122018b183cd442b9818472&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;flume-ng-core/src/main/java/org/apache/flume/channel/MemoryChannel.java&lt;/li&gt;
	&lt;li&gt;flume-ng-core/src/test/java/org/apache/flume/channel/TestMemoryChannel.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13479538" author="mpercy" created="Fri, 19 Oct 2012 00:51:12 +0000"  >&lt;p&gt;FWIW, I agree with Denny that we should not allow any Event to be created with a null body.&lt;/p&gt;</comment>
                            <comment id="13479564" author="hudson" created="Fri, 19 Oct 2012 01:33:55 +0000"  >&lt;p&gt;Integrated in flume-trunk #316 (See &lt;a href=&quot;https://builds.apache.org/job/flume-trunk/316/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/flume-trunk/316/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-1622&quot; title=&quot;MemoryChannel throws NPE if the event has no body&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-1622&quot;&gt;&lt;del&gt;FLUME-1622&lt;/del&gt;&lt;/a&gt;: MemoryChannel throws NPE if the event has no body (Revision 250c4579033b36f2ea2e66a581e1c0834c627732)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
brock : &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/flume/repo?p=flume.git&amp;amp;a=commit&amp;amp;h=250c4579033b36f2ea2e66a581e1c0834c627732&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/flume/repo?p=flume.git&amp;amp;a=commit&amp;amp;h=250c4579033b36f2ea2e66a581e1c0834c627732&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;flume-ng-core/src/test/java/org/apache/flume/channel/TestMemoryChannel.java&lt;/li&gt;
	&lt;li&gt;flume-ng-core/src/main/java/org/apache/flume/channel/MemoryChannel.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13480179" author="roshan_naik" created="Fri, 19 Oct 2012 17:51:29 +0000"  >&lt;p&gt;I find it reasonable to think of Event = header + body. The use case Hari suggests seems rational to me. &lt;/p&gt;</comment>
                            <comment id="13480184" author="brocknoland" created="Fri, 19 Oct 2012 17:58:20 +0000"  >&lt;p&gt;I think that we should turn null events into byte&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;. This change here was a simple fix to make sure we don&apos;t NPE until we decide that issue.&lt;/p&gt;</comment>
                            <comment id="13480224" author="hshreedharan" created="Fri, 19 Oct 2012 18:33:34 +0000"  >&lt;p&gt;I agree that we can work around the null issues by putting a byte&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; into the event code, without breaking old code. &lt;/p&gt;</comment>
                            <comment id="13480226" author="brocknoland" created="Fri, 19 Oct 2012 18:36:54 +0000"  >&lt;p&gt;I think we need to pick a standard place to do that so that long term we don&apos;t need code checking for null all over the place.&lt;/p&gt;</comment>
                            <comment id="13480230" author="hshreedharan" created="Fri, 19 Oct 2012 18:40:31 +0000"  >&lt;p&gt;I would have said the standard place would be the EventBuilder class, but the SimpleEvent class seems to expose a public constructor - so we need to change it there as well. I created &lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-1662&quot; title=&quot;Convert null body in events into zero length arrays.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-1662&quot;&gt;&lt;del&gt;FLUME-1662&lt;/del&gt;&lt;/a&gt; for this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12548099" name="FLUME-1622.patch" size="1881" author="hshreedharan" created="Sat, 6 Oct 2012 04:42:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244162</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05itj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30146</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>