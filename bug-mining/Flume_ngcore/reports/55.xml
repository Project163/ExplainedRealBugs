<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:56:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLUME-1329] AvroSink can hang during Avro RPC handshake</title>
                <link>https://issues.apache.org/jira/browse/FLUME-1329</link>
                <project id="12311321" key="FLUME">Flume</project>
                    <description>&lt;p&gt;A hang was observed during load testing related to the Avro RPC handshake.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12596068">FLUME-1329</key>
            <summary>AvroSink can hang during Avro RPC handshake</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpercy">Mike Percy</assignee>
                                    <reporter username="mpercy">Mike Percy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jun 2012 11:10:55 +0000</created>
                <updated>Wed, 19 Dec 2012 07:07:40 +0000</updated>
                            <resolved>Thu, 28 Jun 2012 02:03:07 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13402136" author="mpercy" created="Wed, 27 Jun 2012 11:13:02 +0000"  >&lt;p&gt;YourKit screenshot of Avro issue&lt;/p&gt;</comment>
                            <comment id="13402779" author="hshreedharan" created="Thu, 28 Jun 2012 02:03:07 +0000"  >&lt;p&gt;Patch committed. Thanks Mike!&lt;/p&gt;</comment>
                            <comment id="13402787" author="hudson" created="Thu, 28 Jun 2012 02:31:22 +0000"  >&lt;p&gt;Integrated in flume-trunk #263 (See &lt;a href=&quot;https://builds.apache.org/job/flume-trunk/263/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/flume-trunk/263/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-1329&quot; title=&quot;AvroSink can hang during Avro RPC handshake&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-1329&quot;&gt;&lt;del&gt;FLUME-1329&lt;/del&gt;&lt;/a&gt;. AvroSink can hang during Avro RPC handshake.&lt;/p&gt;

&lt;p&gt;(Mike Percy via Hari Shreedharan) (Revision 1354795)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hshreedharan : &lt;a href=&quot;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1354795&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1354795&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/incubator/flume/trunk/flume-ng-core/src/main/java/org/apache/flume/sink/AvroSink.java&lt;/li&gt;
	&lt;li&gt;/incubator/flume/trunk/flume-ng-sdk/src/main/java/org/apache/flume/api/NettyAvroRpcClient.java&lt;/li&gt;
	&lt;li&gt;/incubator/flume/trunk/flume-ng-sdk/src/main/java/org/apache/flume/api/RpcClientFactory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13402805" author="hshreedharan" created="Thu, 28 Jun 2012 03:16:39 +0000"  >&lt;p&gt;Build failure is not related to this. It failed because surefire did not startup in LegacyThriftSource.&lt;/p&gt;</comment>
                            <comment id="13535624" author="juhanic" created="Wed, 19 Dec 2012 04:03:43 +0000"  >&lt;p&gt;This is marked as resolved but we&apos;ve had this same issue popping up on one of our servers. I had a look at the patch and &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1122&quot; title=&quot;Java: Avro RPC Requestor can block during handshake in async mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1122&quot;&gt;AVRO-1122&lt;/a&gt;, it doesn&apos;t look to me like it implements the suggested workaround. Is there more to this? Was this just marked resolved because the problem is in NettyAvroRpcClient, not flume?&lt;/p&gt;</comment>
                            <comment id="13535730" author="hshreedharan" created="Wed, 19 Dec 2012 07:07:40 +0000"  >&lt;p&gt;Juhani,&lt;/p&gt;

&lt;p&gt;We worked around this by interrupting the handshake thread after a given timeout. Are you seeing the exception caused by the code interrupting the thread? If yes, and it is a persistent issue, feel free to submit a patch implementing the workaround.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12596045">AVRO-1122</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12533646" name="FLUME-1329-3.patch" size="16525" author="mpercy" created="Wed, 27 Jun 2012 12:03:43 +0000"/>
                            <attachment id="12533725" name="FLUME-1329-4.patch" size="16622" author="mpercy" created="Wed, 27 Jun 2012 22:53:50 +0000"/>
                            <attachment id="12533643" name="Screen Shot 2012-06-27 at 12.43.32 AM.png" size="34404" author="mpercy" created="Wed, 27 Jun 2012 11:13:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248325</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09ucn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>