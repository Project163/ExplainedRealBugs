<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:57:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLUME-2350] Consume Order tests need to space out file creation</title>
                <link>https://issues.apache.org/jira/browse/FLUME-2350</link>
                <project id="12311321" key="FLUME">Flume</project>
                    <description>&lt;p&gt;Since the files end up getting created almost at the same time, their timestamps end up not being different even though they are created one after another. We need to add sleeps or make sure their last modified is different by adding 1 or 2 seconds to each consecutive file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704109">FLUME-2350</key>
            <summary>Consume Order tests need to space out file creation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ehsan">Muhammad Ehsan ul Haque</assignee>
                                    <reporter username="hshreedharan">Hari Shreedharan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Mar 2014 21:21:40 +0000</created>
                <updated>Sun, 4 May 2014 04:18:26 +0000</updated>
                            <resolved>Fri, 28 Mar 2014 22:57:13 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13950207" author="hshreedharan" created="Fri, 28 Mar 2014 00:36:00 +0000"  >&lt;p&gt;There a couple of things that need to be fixed:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Leave time gaps so last modified do not match.&lt;/li&gt;
	&lt;li&gt;Re-introduce lexicographical comparison if timestamps are same (this is my bad, removing the comparator in the final patch removed this as well).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I will submit a patch soon to fix this.&lt;/p&gt;</comment>
                            <comment id="13950512" author="ehsan" created="Fri, 28 Mar 2014 09:05:59 +0000"  >&lt;p&gt;I have added patch for the fix of lexicographical comparison. Apologize for making that a bit obscure in the previous patch which made you do the change yourself.&lt;/p&gt;

&lt;p&gt;I have also added time gaps in two of the tests &quot;testConsumeFileOldest&quot; and &quot;testConsumeFileYoungest&quot;, just to make it more explicit.&lt;br/&gt;
Also added two more test to explicitly test the lexicographical order in case of YOUNGEST and OLDEST. (If they look redundant then you may remove as well)&lt;/p&gt;

&lt;p&gt;For the tests &quot;testLargeNumberOfFilesOLDEST&quot; and &quot;testLargeNumberOfFilesYOUNGEST&quot; I don&apos;t think that we need to add any time gaps. The test will take very long and also I think it is a good case for testing lexicographical ordering as well.&lt;/p&gt;</comment>
                            <comment id="13951501" author="hshreedharan" created="Fri, 28 Mar 2014 22:23:49 +0000"  >&lt;p&gt;This looks good. Long#compare is not available in Java 6, so I am replacing that with selected.lastModified() - candidate.lastModified(), which is basically the same thing.&lt;/p&gt;

&lt;p&gt;Running tests now.&lt;/p&gt;</comment>
                            <comment id="13951542" author="hshreedharan" created="Fri, 28 Mar 2014 22:55:42 +0000"  >&lt;p&gt;+1.&lt;/p&gt;</comment>
                            <comment id="13951546" author="jira-bot" created="Fri, 28 Mar 2014 22:56:32 +0000"  >&lt;p&gt;Commit 62b383a00c3f678b0f504dc71bf36091ddd4067a in flume&apos;s branch refs/heads/trunk from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hshreedharan&quot; class=&quot;user-hover&quot; rel=&quot;hshreedharan&quot;&gt;hshreedharan&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=flume.git;h=62b383a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=flume.git;h=62b383a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2350&quot; title=&quot;Consume Order tests need to space out file creation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2350&quot;&gt;&lt;del&gt;FLUME-2350&lt;/del&gt;&lt;/a&gt;. Consume Order tests need to space out file creation.&lt;/p&gt;

&lt;p&gt;(Muhammad Ehsan ul Haque via Hari Shreedharan)&lt;/p&gt;</comment>
                            <comment id="13951547" author="jira-bot" created="Fri, 28 Mar 2014 22:56:39 +0000"  >&lt;p&gt;Commit 964ce67a839df164004219bda47f397e923f6ad8 in flume&apos;s branch refs/heads/flume-1.5 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hshreedharan&quot; class=&quot;user-hover&quot; rel=&quot;hshreedharan&quot;&gt;hshreedharan&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=flume.git;h=964ce67&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=flume.git;h=964ce67&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2350&quot; title=&quot;Consume Order tests need to space out file creation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2350&quot;&gt;&lt;del&gt;FLUME-2350&lt;/del&gt;&lt;/a&gt;. Consume Order tests need to space out file creation.&lt;/p&gt;

&lt;p&gt;(Muhammad Ehsan ul Haque via Hari Shreedharan)&lt;/p&gt;</comment>
                            <comment id="13951548" author="hshreedharan" created="Fri, 28 Mar 2014 22:57:13 +0000"  >&lt;p&gt;Committed. Thanks Muhammad!&lt;/p&gt;</comment>
                            <comment id="13951689" author="hudson" created="Sat, 29 Mar 2014 01:38:19 +0000"  >&lt;p&gt;SUCCESS: Integrated in flume-trunk #631 (See &lt;a href=&quot;https://builds.apache.org/job/flume-trunk/631/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/flume-trunk/631/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2350&quot; title=&quot;Consume Order tests need to space out file creation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2350&quot;&gt;&lt;del&gt;FLUME-2350&lt;/del&gt;&lt;/a&gt;. Consume Order tests need to space out file creation. (hshreedharan: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/flume/repo/?p=flume.git&amp;amp;a=commit&amp;amp;h=62b383a00c3f678b0f504dc71bf36091ddd4067a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/flume/repo/?p=flume.git&amp;amp;a=commit&amp;amp;h=62b383a00c3f678b0f504dc71bf36091ddd4067a&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;flume-ng-core/src/test/java/org/apache/flume/client/avro/TestReliableSpoolingFileEventReader.java&lt;/li&gt;
	&lt;li&gt;flume-ng-core/src/main/java/org/apache/flume/client/avro/ReliableSpoolingFileEventReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637362" name="FLUME-2350-0.patch" size="8196" author="ehsan" created="Fri, 28 Mar 2014 09:05:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382443</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tvzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382712</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>