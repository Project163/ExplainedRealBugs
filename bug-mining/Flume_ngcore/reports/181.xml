<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:57:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FLUME-2812] Exception in thread &quot;SinkRunner-PollingRunner-DefaultSinkProcessor&quot; java.lang.Error: Maximum permit count exceeded</title>
                <link>https://issues.apache.org/jira/browse/FLUME-2812</link>
                <project id="12311321" key="FLUME">Flume</project>
                    <description>&lt;p&gt;We are finding that around after an hour or so of heavy processing of Flume data in an agent we are getting the following exception.  This is after processing about 5-7 k lines/second during that time.&lt;/p&gt;

&lt;p&gt;The configuration of this agent is using a Kafka source, the one that comes with 1.6.0. &lt;/p&gt;

&lt;p&gt;It is also using a Memory channel, and a Thrift sink.&lt;/p&gt;

&lt;p&gt;=======&lt;br/&gt;
Exception in thread &quot;SinkRunner-PollingRunner-DefaultSinkProcessor&quot; java.lang.Error: Maximum permit count exceeded&lt;br/&gt;
	at java.util.concurrent.Semaphore$Sync.tryReleaseShared(Semaphore.java:192)&lt;br/&gt;
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.releaseShared(AbstractQueuedSynchronizer.java:1341)&lt;br/&gt;
	at java.util.concurrent.Semaphore.release(Semaphore.java:609)&lt;br/&gt;
	at org.apache.flume.channel.MemoryChannel$MemoryTransaction.doCommit(MemoryChannel.java:147)&lt;br/&gt;
	at org.apache.flume.channel.BasicTransactionSemantics.commit(BasicTransactionSemantics.java:151)&lt;br/&gt;
	at org.apache.flume.sink.AbstractRpcSink.process(AbstractRpcSink.java:379)&lt;br/&gt;
	at org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68)&lt;br/&gt;
	at org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
=======&lt;/p&gt;

&lt;p&gt;The above error is from standard error when running the Flume agent.  The effect is that the &quot;SinkRunner-PollingRunner-DefaultSinkProcessor&quot; thread disappears from the agent, this can be seen on a JMX console.&lt;br/&gt;
For us, this means that the Flume agent needs to get restarted.  It is an error that is terminal in that instance of the Java process due to the thread disappearing as a result.&lt;/p&gt;

&lt;p&gt;It sounds like something in JDK 7+ got stricter?!&lt;/p&gt;</description>
                <environment>&lt;p&gt;*&lt;b&gt;OS INFO&lt;/b&gt;*&lt;br/&gt;
CentOS release 6.6 (Final)&lt;br/&gt;
Kernel \r on an \m&lt;/p&gt;

&lt;p&gt;*&lt;b&gt;JAVA INFO&lt;/b&gt;*&lt;br/&gt;
java version &quot;1.8.0_40&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.8.0_40-b26)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 25.40-b25, mixed mode)&lt;/p&gt;</environment>
        <key id="12904989">FLUME-2812</key>
            <summary>Exception in thread &quot;SinkRunner-PollingRunner-DefaultSinkProcessor&quot; java.lang.Error: Maximum permit count exceeded</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="denes">Denes Arvay</assignee>
                                    <reporter username="rcritt">Rollin Crittendon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Oct 2015 20:23:40 +0000</created>
                <updated>Sat, 5 Nov 2016 07:09:25 +0000</updated>
                            <resolved>Sat, 5 Nov 2016 05:24:11 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>1.8.0</fixVersion>
                                    <component>Channel</component>
                    <component>Sinks+Sources</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14957697" author="hshreedharan" created="Wed, 14 Oct 2015 20:33:39 +0000"  >&lt;p&gt;What does your configuration look like?&lt;/p&gt;</comment>
                            <comment id="14957868" author="rcritt" created="Wed, 14 Oct 2015 21:46:42 +0000"  >&lt;p&gt;This is what we have, with machine names, ports, some things like that redacted, for example, &amp;lt;ZOOKEEPER-SETTINGS&amp;gt;.&lt;/p&gt;

&lt;p&gt;=============================&lt;br/&gt;
bridge.channels = bridge-channel&lt;br/&gt;
bridge.sources = spool-source kafka-source&lt;br/&gt;
bridge.sinks = to-conduit-sink&lt;/p&gt;

&lt;p&gt;bridge.channels.bridge-channel.type = memory&lt;br/&gt;
bridge.channels.bridge-channel.capacity = 100000&lt;br/&gt;
bridge.channels.bridge-channel.transactionCapacity = 40000&lt;br/&gt;
bridge.channels.bridge-channel.byteCapacityBufferPercentage = 20&lt;br/&gt;
bridge.channels.bridge-channel.byteCapacity = 0&lt;/p&gt;

&lt;p&gt;bridge.sources.spool-source.channels = bridge-channel&lt;br/&gt;
bridge.sources.spool-source.type = spooldir&lt;br/&gt;
bridge.sources.spool-source.spoolDir = &amp;lt;SPOOL-DIRECTORY-LOCATION&amp;gt; &lt;br/&gt;
bridge.sources.spool-source.fileHeader = false&lt;br/&gt;
bridge.sources.spool-source.deletePolicy = immediate&lt;br/&gt;
bridge.sources.spool-source.batchSize = 100&lt;br/&gt;
bridge.sources.spool-source.deserializer.maxLineLength = 100000&lt;/p&gt;

&lt;p&gt;bridge.sources.kafka-source.channels = bridge-channel&lt;br/&gt;
bridge.sources.kafka-source.type = org.apache.flume.source.kafka.KafkaSource&lt;br/&gt;
bridge.sources.kafka-source.zookeeperConnect = &amp;lt;ZOOKEEPER-SETTINGS&amp;gt;&lt;br/&gt;
bridge.sources.kafka-source.groupId = &amp;lt;GROUP-ID&amp;gt;&lt;br/&gt;
bridge.sources.kafka-source.topic = &amp;lt;TOPIC&amp;gt;&lt;br/&gt;
bridge.sources.kafka-source.batchSize = 100&lt;/p&gt;

&lt;p&gt;bridge.sinks.to-conduit-sink.channel = bridge-channel&lt;br/&gt;
bridge.sinks.to-conduit-sink.type = thrift&lt;br/&gt;
bridge.sinks.to-conduit-sink.hostname = &amp;lt;OTHER-AGENT-MACHINE-NAME&amp;gt; &lt;br/&gt;
bridge.sinks.to-conduit-sink.port = &amp;lt;OTHER-AGENT-MACHINE-PORT&amp;gt;&lt;br/&gt;
bridge.sinks.to-conduit-sink.batch-size = 1000&lt;/p&gt;</comment>
                            <comment id="15086062" author="rcritt" created="Wed, 6 Jan 2016 18:55:44 +0000"  >&lt;p&gt;A note, we are also seeing this in some rollback cases on a staging system.&lt;br/&gt;
I assume the release number gets greater than the take for a semaphore.&lt;br/&gt;
Is there a quantification for how that could be happening?&lt;/p&gt;

&lt;p&gt;We are running jdk 1.8, and from source I have seen for jdk 1.7, it looks like there is a check we are encountering, &lt;a href=&quot;https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/concurrent/Semaphore.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/concurrent/Semaphore.java&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;====================&lt;br/&gt;
06 Jan 2016 01:03:59,476 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;Flume Thrift IPC Thread 81&amp;#93;&lt;/span&gt; (org.apache.thrift.ProcessFunction.process:41)  - Internal error processing appendBatch&lt;br/&gt;
java.lang.Error: Maximum permit count exceeded&lt;br/&gt;
	at java.util.concurrent.Semaphore$Sync.tryReleaseShared(Semaphore.java:192)&lt;br/&gt;
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.releaseShared(AbstractQueuedSynchronizer.java:1341)&lt;br/&gt;
	at java.util.concurrent.Semaphore.release(Semaphore.java:609)&lt;br/&gt;
	at org.apache.flume.channel.MemoryChannel$MemoryTransaction.doRollback(MemoryChannel.java:176)&lt;br/&gt;
	at org.apache.flume.channel.BasicTransactionSemantics.rollback(BasicTransactionSemantics.java:168)&lt;br/&gt;
	at org.apache.flume.channel.ChannelProcessor.processEventBatch(ChannelProcessor.java:194)&lt;br/&gt;
	at org.apache.flume.source.ThriftSource$ThriftSourceHandler.appendBatch(ThriftSource.java:457)&lt;br/&gt;
	at org.apache.flume.thrift.ThriftSourceProtocol$Processor$appendBatch.getResult(ThriftSourceProtocol.java:259)&lt;br/&gt;
	at org.apache.flume.thrift.ThriftSourceProtocol$Processor$appendBatch.getResult(ThriftSourceProtocol.java:247)&lt;br/&gt;
	at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)&lt;br/&gt;
	at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)&lt;br/&gt;
	at org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer.invoke(AbstractNonblockingServer.java:478)&lt;br/&gt;
	at org.apache.thrift.server.Invocation.run(Invocation.java:18)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
====================&lt;/p&gt;</comment>
                            <comment id="15086068" author="rcritt" created="Wed, 6 Jan 2016 18:59:37 +0000"  >&lt;p&gt;One more note...  This error is currently a fatal error when it occurs, as far as I can tell.&lt;/p&gt;

&lt;p&gt;We have needed to restart the process when these things occur.&lt;/p&gt;</comment>
                            <comment id="15613310" author="jfield" created="Thu, 27 Oct 2016 21:37:58 +0000"  >&lt;p&gt;We&apos;re encountering this while a source (Kafka) is trying to deliver data to the channel (Memory) much much faster than the sink (HDFS) can write it out. The (repeatable) chain of events is: channel fills up, HDFS keeps writing, channel keeps throwing errors because it is full, eventually HDFS sinks all die with this error. We don&apos;t encounter it on 1.6 because in 1.6 we&apos;re using Kafka Channel -&amp;gt; Sink directly. We were trying to do a similar config for 1.7 but a separate issue is preventing that (we&apos;re getting Kafka consumer timeout/rebalance problems with the source and channel in 1.7 that we didn&apos;t get in 1.6).&lt;/p&gt;</comment>
                            <comment id="15615772" author="githubbot" created="Fri, 28 Oct 2016 15:52:11 +0000"  >&lt;p&gt;GitHub user adenes opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flume/pull/83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flume/pull/83&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2812&quot; title=&quot;Exception in thread &amp;quot;SinkRunner-PollingRunner-DefaultSinkProcessor&amp;quot; java.lang.Error: Maximum permit count exceeded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2812&quot;&gt;&lt;del&gt;FLUME-2812&lt;/del&gt;&lt;/a&gt;: Exception in thread &quot;SinkRunner-PollingRunner-DefaultSinkProcessor&quot; java.lang.Error: Maximum permit count exceeded&lt;/p&gt;

&lt;p&gt;    Fix semaphore leak causing `java.lang.Error: Maximum permit count exceeded` in `MemoryChannel`&lt;/p&gt;

&lt;p&gt;    ```java&lt;br/&gt;
    Exception in thread &quot;SinkRunner-PollingRunner-DefaultSinkProcessor&quot; java.lang.Error: Maximum permit count exceeded&lt;br/&gt;
    	at java.util.concurrent.Semaphore$Sync.tryReleaseShared(Semaphore.java:192)&lt;br/&gt;
    	at java.util.concurrent.locks.AbstractQueuedSynchronizer.releaseShared(AbstractQueuedSynchronizer.java:1341)&lt;br/&gt;
    	at java.util.concurrent.Semaphore.release(Semaphore.java:609)&lt;br/&gt;
    	at org.apache.flume.channel.MemoryChannel$MemoryTransaction.doCommit(MemoryChannel.java:147)&lt;br/&gt;
    	at org.apache.flume.channel.BasicTransactionSemantics.commit(BasicTransactionSemantics.java:151)&lt;br/&gt;
    	at org.apache.flume.sink.AbstractRpcSink.process(AbstractRpcSink.java:379)&lt;br/&gt;
    	at org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68)&lt;br/&gt;
    	at org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147)&lt;br/&gt;
    	at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    for more details and explanation see my comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2812&quot; title=&quot;Exception in thread &amp;quot;SinkRunner-PollingRunner-DefaultSinkProcessor&amp;quot; java.lang.Error: Maximum permit count exceeded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2812&quot;&gt;&lt;del&gt;FLUME-2812&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2812&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FLUME-2812&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/adenes/flume&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adenes/flume&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2812&quot; title=&quot;Exception in thread &amp;quot;SinkRunner-PollingRunner-DefaultSinkProcessor&amp;quot; java.lang.Error: Maximum permit count exceeded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2812&quot;&gt;&lt;del&gt;FLUME-2812&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flume/pull/83.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flume/pull/83.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #83&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 538837d5c035461c9b3073a2ce89da375aa139f3&lt;br/&gt;
Author: Denes Arvay &amp;lt;denes@cloudera.com&amp;gt;&lt;br/&gt;
Date:   2016-10-28T15:38:33Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2812&quot; title=&quot;Exception in thread &amp;quot;SinkRunner-PollingRunner-DefaultSinkProcessor&amp;quot; java.lang.Error: Maximum permit count exceeded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2812&quot;&gt;&lt;del&gt;FLUME-2812&lt;/del&gt;&lt;/a&gt;: Exception in thread &quot;SinkRunner-PollingRunner-DefaultSinkProcessor&quot; java.lang.Error: Maximum permit count exceeded&lt;/p&gt;

&lt;p&gt;    Change-Id: Ib6761364abefca91ca50d80c073637766bfd93ca&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15615773" author="denes" created="Fri, 28 Oct 2016 15:52:22 +0000"  >&lt;p&gt;I have investigated this issue and the cause is that &lt;tt&gt;bytesRemaining.release(putByteCounter)&lt;/tt&gt; gets called in &lt;tt&gt;MemoryTransaction.doRollback&lt;/tt&gt; (&lt;a href=&quot;https://github.com/apache/flume/blob/trunk/flume-ng-core/src/main/java/org/apache/flume/channel/MemoryChannel.java#L174&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flume/blob/trunk/flume-ng-core/src/main/java/org/apache/flume/channel/MemoryChannel.java#L174&lt;/a&gt;) while acquire is called only in &lt;tt&gt;doCommit&lt;/tt&gt;. This results in semaphore leak and the number of permits in the semaphore eventually exceeds &lt;tt&gt;Integer.MAX_VALUE&lt;/tt&gt; and &lt;tt&gt;Semaphore.release()&lt;/tt&gt; throws this error.&lt;br/&gt;
I think this bug was introduced unintentionally when the &lt;tt&gt;bytesRemaining&lt;/tt&gt; semaphore handling was refactored and moved to &lt;tt&gt;doCommit&lt;/tt&gt; from &lt;tt&gt;doPut&lt;/tt&gt; in &lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2233&quot; title=&quot;MemoryChannel lock contention on every put due to bytesRemaining Semaphore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2233&quot;&gt;&lt;del&gt;FLUME-2233&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
If acquire is called in the &lt;tt&gt;doPut&lt;/tt&gt; then release should happen in &lt;tt&gt;doRollback&lt;/tt&gt; but since it has been moved to &lt;tt&gt;doCommit&lt;/tt&gt; the release should have been deleted.&lt;br/&gt;
GitHub Pull Request for this ticket: &lt;a href=&quot;https://github.com/apache/flume/pull/83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flume/pull/83&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15638664" author="jira-bot" created="Sat, 5 Nov 2016 05:23:09 +0000"  >&lt;p&gt;Commit f581f6ed0e820da370c4a83a4ff7b05278d09fc3 in flume&apos;s branch refs/heads/trunk from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=denes&quot; class=&quot;user-hover&quot; rel=&quot;denes&quot;&gt;denes&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=flume.git;h=f581f6e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=flume.git;h=f581f6e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2812&quot; title=&quot;Exception in thread &amp;quot;SinkRunner-PollingRunner-DefaultSinkProcessor&amp;quot; java.lang.Error: Maximum permit count exceeded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2812&quot;&gt;&lt;del&gt;FLUME-2812&lt;/del&gt;&lt;/a&gt;. Fix semaphore leak causing java.lang.Error: Maximum permit count exceeded in MemoryChannel&lt;/p&gt;

&lt;p&gt;bytesRemaining.release(putByteCounter) gets called in MemoryTransaction.doRollback while acquire is called only in doCommit. This results in semaphore leak and the number of permits in the semaphore eventually exceeds Integer.MAX_VALUE and Semaphore.release() throws java.lang.Error: Maximum permit count exceeded.&lt;/p&gt;

&lt;p&gt;This closes #83&lt;/p&gt;

&lt;p&gt;Reviewers: Attila Simon, Bessenyei Bal&#225;zs Don&#225;t&lt;/p&gt;

&lt;p&gt;(Denes Arvay via Bessenyei Bal&#225;zs Don&#225;t)&lt;/p&gt;</comment>
                            <comment id="15638665" author="githubbot" created="Sat, 5 Nov 2016 05:23:26 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/flume/pull/83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/flume/pull/83&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15638843" author="hudson" created="Sat, 5 Nov 2016 07:09:25 +0000"  >&lt;p&gt;FAILURE: Integrated in Jenkins build Flume-trunk-hbase-1 #226 (See &lt;a href=&quot;https://builds.apache.org/job/Flume-trunk-hbase-1/226/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Flume-trunk-hbase-1/226/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/FLUME-2812&quot; title=&quot;Exception in thread &amp;quot;SinkRunner-PollingRunner-DefaultSinkProcessor&amp;quot; java.lang.Error: Maximum permit count exceeded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FLUME-2812&quot;&gt;&lt;del&gt;FLUME-2812&lt;/del&gt;&lt;/a&gt;. Fix semaphore leak causing java.lang.Error: Maximum permit (bessbd: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/flume/repo?p=flume.git&amp;amp;a=commit&amp;amp;h=f581f6ed0e820da370c4a83a4ff7b05278d09fc3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/flume/repo?p=flume.git&amp;amp;a=commit&amp;amp;h=f581f6ed0e820da370c4a83a4ff7b05278d09fc3&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) flume-ng-core/src/test/java/org/apache/flume/channel/TestMemoryChannel.java&lt;/li&gt;
	&lt;li&gt;(edit) flume-ng-core/src/main/java/org/apache/flume/channel/MemoryChannel.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2n0y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>