{"url":"https://api.github.com/repos/bevyengine/bevy/issues/15408","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/15408/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/15408/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/15408/events","html_url":"https://github.com/bevyengine/bevy/issues/15408","id":2544433710,"node_id":"I_kwDODf6-U86XqPou","number":15408,"title":"JS Bindings for BRP","user":{"login":"LiamGallagher737","id":86995276,"node_id":"MDQ6VXNlcjg2OTk1Mjc2","avatar_url":"https://avatars.githubusercontent.com/u/86995276?v=4","gravatar_id":"","url":"https://api.github.com/users/LiamGallagher737","html_url":"https://github.com/LiamGallagher737","followers_url":"https://api.github.com/users/LiamGallagher737/followers","following_url":"https://api.github.com/users/LiamGallagher737/following{/other_user}","gists_url":"https://api.github.com/users/LiamGallagher737/gists{/gist_id}","starred_url":"https://api.github.com/users/LiamGallagher737/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LiamGallagher737/subscriptions","organizations_url":"https://api.github.com/users/LiamGallagher737/orgs","repos_url":"https://api.github.com/users/LiamGallagher737/repos","events_url":"https://api.github.com/users/LiamGallagher737/events{/privacy}","received_events_url":"https://api.github.com/users/LiamGallagher737/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619326,"node_id":"MDU6TGFiZWwxNzk1NjE5MzI2","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Feature","name":"C-Feature","color":"b8b8b8","default":false,"description":"A new feature, making something new possible"},{"id":2351483673,"node_id":"MDU6TGFiZWwyMzUxNDgzNjcz","url":"https://api.github.com/repos/bevyengine/bevy/labels/O-Web","name":"O-Web","color":"2e6991","default":false,"description":"Specific to web (WASM) builds"},{"id":2747857990,"node_id":"MDU6TGFiZWwyNzQ3ODU3OTkw","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Usability","name":"C-Usability","color":"b8b8b8","default":false,"description":"A targeted quality-of-life change that makes Bevy easier to use"},{"id":3166123404,"node_id":"MDU6TGFiZWwzMTY2MTIzNDA0","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Editor","name":"A-Editor","color":"C6A751","default":false,"description":"Graphical tools to make Bevy games"},{"id":3166151441,"node_id":"MDU6TGFiZWwzMTY2MTUxNDQx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Ready-For-Implementation","name":"S-Ready-For-Implementation","color":"D876E3","default":false,"description":"This issue is ready for an implementation PR. Go for it!"},{"id":4058407495,"node_id":"LA_kwDODf6-U87x5mJH","url":"https://api.github.com/repos/bevyengine/bevy/labels/X-Controversial","name":"X-Controversial","color":"D93F0B","default":false,"description":"There is active debate or serious implications around merging this PR"},{"id":6899576022,"node_id":"LA_kwDODf6-U88AAAABmz8s1g","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Modest","name":"D-Modest","color":"008672","default":false,"description":"A \"normal\" level of difficulty; suitable for simple features or challenging fixes"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-09-24T06:12:10Z","updated_at":"2024-09-27T20:26:51Z","closed_at":"2024-09-27T20:26:51Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## What problem does this solve or what need does it fill?\r\n\r\nI'd like to be able to control the ECS of a Bevy app running in a browser from JS in the same browser window. My use case for this is an editor/inspector for my [Bevy Playground](https://learnbevy.com/playground).\r\n\r\n## What solution would you like?\r\n\r\nCurrently the BRP only supports HTTP communication with JSON bodies. I propose that we extend this with JS bindings. This is because the HTTP communication relies on a server being hosted by the Bevy app which afaik cannot be done in the browser. The JS bindings would use the same structure as the JSON bodies in the HTTP communication. I do not believe this solution would require too much change/restructuring as it would just be a case of adding some extra bindings that use the existing BrpMailbox.\r\n\r\nI do not believe fixing the [building on wasm](https://github.com/bevyengine/bevy/pull/14880#issuecomment-2366767116) is in scope for this issue and propose we instead have some sort of conditional compilation/feature so only the JS bindings are included on WASM and not HTTP communication.\r\n\r\n## Additional context\r\n\r\nThe BRP was recently merged in #14880.\r\nJS Bindings were mentioned in the initial [BRP proposal](https://gist.github.com/coreh/1baf6f255d7e86e4be29874d00137d1d#possible-transports).\r\n\r\nI'd like to have a go at implementing this and have put together this [playground](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=f0e40c8ea877c7c0879e74dc2fcef2ca) on how I would do it.","closed_by":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/15408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/15408/timeline","performed_via_github_app":null,"state_reason":"completed"}