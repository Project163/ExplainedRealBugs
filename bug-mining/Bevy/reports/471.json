{"url":"https://api.github.com/repos/bevyengine/bevy/issues/15285","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/15285/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/15285/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/15285/events","html_url":"https://github.com/bevyengine/bevy/issues/15285","id":2533650361,"node_id":"I_kwDODf6-U86XBG-5","number":15285,"title":"Minimizing window in the `irradiance_volume` example causes a crash","user":{"login":"cryscan","id":16053640,"node_id":"MDQ6VXNlcjE2MDUzNjQw","avatar_url":"https://avatars.githubusercontent.com/u/16053640?v=4","gravatar_id":"","url":"https://api.github.com/users/cryscan","html_url":"https://github.com/cryscan","followers_url":"https://api.github.com/users/cryscan/followers","following_url":"https://api.github.com/users/cryscan/following{/other_user}","gists_url":"https://api.github.com/users/cryscan/gists{/gist_id}","starred_url":"https://api.github.com/users/cryscan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cryscan/subscriptions","organizations_url":"https://api.github.com/users/cryscan/orgs","repos_url":"https://api.github.com/users/cryscan/repos","events_url":"https://api.github.com/users/cryscan/events{/privacy}","received_events_url":"https://api.github.com/users/cryscan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619323,"node_id":"MDU6TGFiZWwxNzk1NjE5MzIz","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Bug","name":"C-Bug","color":"d73a4a","default":false,"description":"An unexpected or incorrect behavior"},{"id":2045383863,"node_id":"MDU6TGFiZWwyMDQ1MzgzODYz","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Rendering","name":"A-Rendering","color":"C6A751","default":false,"description":"Drawing game state to the screen"},{"id":2272055811,"node_id":"MDU6TGFiZWwyMjcyMDU1ODEx","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Windowing","name":"A-Windowing","color":"c6a751","default":false,"description":"Platform-agnostic interface layer to run your app in"},{"id":2272057257,"node_id":"MDU6TGFiZWwyMjcyMDU3MjU3","url":"https://api.github.com/repos/bevyengine/bevy/labels/P-Crash","name":"P-Crash","color":"FF7b00","default":false,"description":"A sudden unexpected crash"},{"id":3166151441,"node_id":"MDU6TGFiZWwzMTY2MTUxNDQx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Ready-For-Implementation","name":"S-Ready-For-Implementation","color":"D876E3","default":false,"description":"This issue is ready for an implementation PR. Go for it!"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-09-18T12:46:45Z","updated_at":"2024-10-08T23:13:49Z","closed_at":"2024-10-08T23:13:49Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Bevy version\r\n\r\nmain ([6954146](https://github.com/bevyengine/bevy/commit/69541462c5ef70914fd719fcd1f503045c76a453))\r\n\r\n## \\[Optional\\] Relevant system information\r\n\r\nWindows 11\r\n\r\n## What you did\r\n\r\nRun the `irradiance_volume` example, and minimize the window.\r\n\r\n## What went wrong\r\n\r\nThe app crashes immediately.\r\n\r\n## Additional information\r\n\r\n```\r\n2024-09-18T12:43:55.667993Z  INFO bevy_diagnostic::system_information_diagnostics_plugin::internal: SystemInfo { os: \"Windows 11 Pro\", kernel: \"22631\", cpu: \"13th Gen Intel(R) Core(TM) i7-13700H\", core_count: \"14\", memory: \"31.6 GiB\" }\r\n2024-09-18T12:44:00.968369Z  INFO bevy_render::renderer: AdapterInfo { name: \"NVIDIA RTX 2000 Ada Generation Laptop GPU\", vendor: 4318, device: 10424, device_type: DiscreteGpu, driver: \"NVIDIA\", driver_info: \"529.08\", backend: Vulkan }\r\n2024-09-18T12:44:02.627833Z  INFO bevy_winit::system: Creating new window \"Bevy Irradiance Volumes Example\" (0v1#4294967296)\r\nthread 'Compute Task Pool (2)' panicked at crates\\bevy_render\\src\\camera\\projection.rs:194:14:\r\nFailed to update PerspectiveProjection: width and height must be positive, non-zero values: Zero\r\nstack backtrace:\r\n   0: std::panicking::begin_panic_handler\r\n             at /rustc/eeb90cda1969383f56a2637cbd3037bdf598841c/library\\std\\src\\panicking.rs:665\r\n   1: core::panicking::panic_fmt\r\n             at /rustc/eeb90cda1969383f56a2637cbd3037bdf598841c/library\\core\\src\\panicking.rs:74\r\n   2: core::result::unwrap_failed\r\n             at /rustc/eeb90cda1969383f56a2637cbd3037bdf598841c/library\\core\\src\\result.rs:1679\r\n   3: enum2$<core::result::Result<bevy_math::aspect_ratio::AspectRatio,bevy_math::aspect_ratio::AspectRatioError> >::expect<bevy_math::aspect_ratio::AspectRatio,bevy_math::aspect_ratio::AspectRatioError>\r\n             at /rustc/eeb90cda1969383f56a2637cbd3037bdf598841c\\library\\core\\src\\result.rs:1059\r\n   4: bevy_render::camera::projection::impl$6::update\r\n             at .\\crates\\bevy_render\\src\\camera\\projection.rs:193\r\n   5: bevy_render::camera::projection::impl$4::update\r\n             at .\\crates\\bevy_render\\src\\camera\\projection.rs:129\r\n   6: bevy_render::camera::camera::camera_system<enum2$<bevy_render::camera::projection::Projection> >\r\n             at .\\crates\\bevy_render\\src\\camera\\camera.rs:890\r\n   7: core::ops::function::FnMut::call_mut<void (*)(bevy_ecs::event::reader::EventReader<bevy_window::event::WindowResized>,bevy_ecs::event::reader::EventReader<bevy_window::event::WindowCreated>,bevy_ecs::event::reader::EventReader<bevy_window::event::WindowSca\r\n             at /rustc/eeb90cda1969383f56a2637cbd3037bdf598841c\\library\\core\\src\\ops\\function.rs:166\r\n   8: core::ops::function::impls::impl$3::call_mut<tuple$<bevy_ecs::event::reader::EventReader<bevy_window::event::WindowResized>,bevy_ecs::event::reader::EventReader<bevy_window::event::WindowCreated>,bevy_ecs::event::reader::EventReader<bevy_window::event::Win\r\n             at /rustc/eeb90cda1969383f56a2637cbd3037bdf598841c\\library\\core\\src\\ops\\function.rs:294\r\n   9: bevy_ecs::system::function_system::impl$45::run::call_inner<tuple$<>,bevy_ecs::event::reader::EventReader<bevy_window::event::WindowResized>,bevy_ecs::event::reader::EventReader<bevy_window::event::WindowCreated>,bevy_ecs::event::reader::EventReader<bevy_w\r\n             at .\\crates\\bevy_ecs\\src\\system\\function_system.rs:798\r\n  10: bevy_ecs::system::function_system::impl$45::run<tuple$<>,void (*)(bevy_ecs::event::reader::EventReader<bevy_window::event::WindowResized>,bevy_ecs::event::reader::EventReader<bevy_window::event::WindowCreated>,bevy_ecs::event::reader::EventReader<bevy_wind\r\n             at .\\crates\\bevy_ecs\\src\\system\\function_system.rs:801\r\n  11: bevy_ecs::system::function_system::impl$7::run_unsafe<void (*)(bevy_ecs::event::reader::EventReader<bevy_window::event::WindowResized>,bevy_ecs::event::reader::EventReader<bevy_window::event::WindowCreated>,bevy_ecs::event::reader::EventReader<bevy_window:\r\n             at .\\crates\\bevy_ecs\\src\\system\\function_system.rs:622\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\nEncountered a panic in system `bevy_render::camera::camera::camera_system<bevy_render::camera::projection::Projection>`!\r\nthread 'Compute Task Pool (2)' panicked at crates\\bevy_pbr\\src\\cluster\\mod.rs:261:22:\r\nFailed to calculate aspect ratio for Cluster: screen dimensions must be positive, non-zero values: Zero\r\nstack backtrace:\r\n   0: std::panicking::begin_panic_handler\r\n             at /rustc/eeb90cda1969383f56a2637cbd3037bdf598841c/library\\std\\src\\panicking.rs:665\r\n   1: core::panicking::panic_fmt\r\n             at /rustc/eeb90cda1969383f56a2637cbd3037bdf598841c/library\\core\\src\\panicking.rs:74\r\n   2: core::result::unwrap_failed\r\n             at /rustc/eeb90cda1969383f56a2637cbd3037bdf598841c/library\\core\\src\\result.rs:1679\r\n   3: enum2$<core::result::Result<bevy_math::aspect_ratio::AspectRatio,bevy_math::aspect_ratio::AspectRatioError> >::expect<bevy_math::aspect_ratio::AspectRatio,bevy_math::aspect_ratio::AspectRatioError>\r\n             at /rustc/eeb90cda1969383f56a2637cbd3037bdf598841c\\library\\core\\src\\result.rs:1059\r\n   4: enum2$<bevy_pbr::cluster::ClusterConfig>::dimensions_for_screen_size\r\n             at .\\crates\\bevy_pbr\\src\\cluster\\mod.rs:260\r\n   5: bevy_pbr::cluster::assign::assign_objects_to_clusters\r\n             at .\\crates\\bevy_pbr\\src\\cluster\\assign.rs:217\r\n   6: core::ops::function::FnMut::call_mut<void (*)(bevy_ecs::system::commands::Commands,bevy_ecs::change_detection::ResMut<bevy_pbr::cluster::GlobalVisibleClusterableObjects>,bevy_ecs::system::query::Query<tuple$<bevy_ecs::entity::Entity,ref$<bevy_transform::co\r\n             at /rustc/eeb90cda1969383f56a2637cbd3037bdf598841c\\library\\core\\src\\ops\\function.rs:166\r\n   7: core::ops::function::impls::impl$3::call_mut<tuple$<bevy_ecs::system::commands::Commands,bevy_ecs::change_detection::ResMut<bevy_pbr::cluster::GlobalVisibleClusterableObjects>,bevy_ecs::system::query::Query<tuple$<bevy_ecs::entity::Entity,ref$<bevy_transfo\r\n             at /rustc/eeb90cda1969383f56a2637cbd3037bdf598841c\\library\\core\\src\\ops\\function.rs:294\r\n   8: bevy_ecs::system::function_system::impl$45::run::call_inner<tuple$<>,bevy_ecs::system::commands::Commands,bevy_ecs::change_detection::ResMut<bevy_pbr::cluster::GlobalVisibleClusterableObjects>,bevy_ecs::system::query::Query<tuple$<bevy_ecs::entity::Entity,\r\n             at .\\crates\\bevy_ecs\\src\\system\\function_system.rs:798\r\n   9: bevy_ecs::system::function_system::impl$45::run<tuple$<>,void (*)(bevy_ecs::system::commands::Commands,bevy_ecs::change_detection::ResMut<bevy_pbr::cluster::GlobalVisibleClusterableObjects>,bevy_ecs::system::query::Query<tuple$<bevy_ecs::entity::Entity,ref\r\n             at .\\crates\\bevy_ecs\\src\\system\\function_system.rs:801\r\n  10: bevy_ecs::system::function_system::impl$7::run_unsafe<void (*)(bevy_ecs::system::commands::Commands,bevy_ecs::change_detection::ResMut<bevy_pbr::cluster::GlobalVisibleClusterableObjects>,bevy_ecs::system::query::Query<tuple$<bevy_ecs::entity::Entity,ref$<b\r\n             at .\\crates\\bevy_ecs\\src\\system\\function_system.rs:622\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\nEncountered a panic in system `bevy_pbr::cluster::assign::assign_objects_to_clusters`!\r\nEncountered a panic in system `bevy_app::main_schedule::Main::run_main`!\r\nerror: process didn't exit successfully: `target\\debug\\examples\\irradiance_volumes.exe` (exit code: 101)\r\n```\r\n","closed_by":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/15285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/15285/timeline","performed_via_github_app":null,"state_reason":"completed"}