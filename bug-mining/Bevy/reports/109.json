{"url":"https://api.github.com/repos/bevyengine/bevy/issues/12139","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/12139/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/12139/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/12139/events","html_url":"https://github.com/bevyengine/bevy/issues/12139","id":2155262303,"node_id":"I_kwDODf6-U86AdrFf","number":12139,"title":"Inconsistency between `Debug` and serialized representation of `Entity`","user":{"login":"Zeenobit","id":12216742,"node_id":"MDQ6VXNlcjEyMjE2NzQy","avatar_url":"https://avatars.githubusercontent.com/u/12216742?v=4","gravatar_id":"","url":"https://api.github.com/users/Zeenobit","html_url":"https://github.com/Zeenobit","followers_url":"https://api.github.com/users/Zeenobit/followers","following_url":"https://api.github.com/users/Zeenobit/following{/other_user}","gists_url":"https://api.github.com/users/Zeenobit/gists{/gist_id}","starred_url":"https://api.github.com/users/Zeenobit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zeenobit/subscriptions","organizations_url":"https://api.github.com/users/Zeenobit/orgs","repos_url":"https://api.github.com/users/Zeenobit/repos","events_url":"https://api.github.com/users/Zeenobit/events{/privacy}","received_events_url":"https://api.github.com/users/Zeenobit/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619323,"node_id":"MDU6TGFiZWwxNzk1NjE5MzIz","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Bug","name":"C-Bug","color":"d73a4a","default":false,"description":"An unexpected or incorrect behavior"},{"id":2197761682,"node_id":"MDU6TGFiZWwyMTk3NzYxNjgy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-ECS","name":"A-ECS","color":"c6a751","default":false,"description":"Entities, components, systems, and events"},{"id":3166123733,"node_id":"MDU6TGFiZWwzMTY2MTIzNzMz","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Scenes","name":"A-Scenes","color":"C6a751","default":false,"description":"Serialized ECS data stored on the disk"},{"id":6578483690,"node_id":"LA_kwDODf6-U88AAAABiBux6g","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Networking","name":"A-Networking","color":"c6A751","default":false,"description":"Sending data between clients, servers and machines"},{"id":6899552399,"node_id":"LA_kwDODf6-U88AAAABmz7Qjw","url":"https://api.github.com/repos/bevyengine/bevy/labels/X-Contentious","name":"X-Contentious","color":"D93F0B","default":false,"description":"There are nontrivial implications that should be thought through"},{"id":6899576022,"node_id":"LA_kwDODf6-U88AAAABmz8s1g","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Modest","name":"D-Modest","color":"008672","default":false,"description":"A \"normal\" level of difficulty; suitable for simple features or challenging fixes"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-02-26T22:14:38Z","updated_at":"2024-07-31T01:53:32Z","closed_at":"2024-07-31T01:53:32Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Bevy version\r\n\r\n0.13\r\n\r\n## What went wrong\r\n\r\nThere is an inconsistency between the `Debug` representation of an `Entity`:\r\n\r\n```rust\r\nimpl fmt::Debug for Entity {\r\n    fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {\r\n        write!(f, \"{}v{}\", self.index(), self.generation())\r\n    }\r\n}\r\n```\r\n\r\nAnd its `Serialize` representation:\r\n\r\n```rust\r\nimpl Serialize for Entity {\r\n    fn serialize<S>(&self, serializer: S) -> Result<S::Ok, S::Error>\r\n    where\r\n        S: serde::Serializer,\r\n    {\r\n        serializer.serialize_u64(self.to_bits())\r\n    }\r\n}\r\n```\r\n\r\nThis makes it difficult to debug serialized outputs, since the serialized entity IDs cannot be easily mapped to runtime entities via human inspection. Ideally, these representations should be consistent for easier debugging.\r\n\r\n## Additional information\r\n\r\nI wanted to just open a PR on this, but I think the issue warrants some discussion. Mainly on two points:\r\n\r\n- Which representation is \"correct\"?\r\n- If we swap to #v# format for serialized data, are we ok with invalidating existing scenes?","closed_by":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/12139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/12139/timeline","performed_via_github_app":null,"state_reason":"completed"}