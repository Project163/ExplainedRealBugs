[{"id":14355091975,"node_id":"LE_lADODf6-U86XdxWIzwAAAANXoVIH","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14355091975","actor":{"login":"Jondolf","id":57632562,"node_id":"MDQ6VXNlcjU3NjMyNTYy","avatar_url":"https://avatars.githubusercontent.com/u/57632562?v=4","gravatar_id":"","url":"https://api.github.com/users/Jondolf","html_url":"https://github.com/Jondolf","followers_url":"https://api.github.com/users/Jondolf/followers","following_url":"https://api.github.com/users/Jondolf/following{/other_user}","gists_url":"https://api.github.com/users/Jondolf/gists{/gist_id}","starred_url":"https://api.github.com/users/Jondolf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jondolf/subscriptions","organizations_url":"https://api.github.com/users/Jondolf/orgs","repos_url":"https://api.github.com/users/Jondolf/repos","events_url":"https://api.github.com/users/Jondolf/events{/privacy}","received_events_url":"https://api.github.com/users/Jondolf/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-22T16:54:00Z","label":{"name":"C-Enhancement","color":"b8b8b8"},"performed_via_github_app":null},{"id":14355091977,"node_id":"LE_lADODf6-U86XdxWIzwAAAANXoVIJ","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14355091977","actor":{"login":"Jondolf","id":57632562,"node_id":"MDQ6VXNlcjU3NjMyNTYy","avatar_url":"https://avatars.githubusercontent.com/u/57632562?v=4","gravatar_id":"","url":"https://api.github.com/users/Jondolf","html_url":"https://github.com/Jondolf","followers_url":"https://api.github.com/users/Jondolf/followers","following_url":"https://api.github.com/users/Jondolf/following{/other_user}","gists_url":"https://api.github.com/users/Jondolf/gists{/gist_id}","starred_url":"https://api.github.com/users/Jondolf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jondolf/subscriptions","organizations_url":"https://api.github.com/users/Jondolf/orgs","repos_url":"https://api.github.com/users/Jondolf/repos","events_url":"https://api.github.com/users/Jondolf/events{/privacy}","received_events_url":"https://api.github.com/users/Jondolf/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-22T16:54:00Z","label":{"name":"A-ECS","color":"c6a751"},"performed_via_github_app":null},{"id":14355091978,"node_id":"LE_lADODf6-U86XdxWIzwAAAANXoVIK","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14355091978","actor":{"login":"Jondolf","id":57632562,"node_id":"MDQ6VXNlcjU3NjMyNTYy","avatar_url":"https://avatars.githubusercontent.com/u/57632562?v=4","gravatar_id":"","url":"https://api.github.com/users/Jondolf","html_url":"https://github.com/Jondolf","followers_url":"https://api.github.com/users/Jondolf/followers","following_url":"https://api.github.com/users/Jondolf/following{/other_user}","gists_url":"https://api.github.com/users/Jondolf/gists{/gist_id}","starred_url":"https://api.github.com/users/Jondolf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jondolf/subscriptions","organizations_url":"https://api.github.com/users/Jondolf/orgs","repos_url":"https://api.github.com/users/Jondolf/repos","events_url":"https://api.github.com/users/Jondolf/events{/privacy}","received_events_url":"https://api.github.com/users/Jondolf/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-22T16:54:00Z","label":{"name":"X-Controversial","color":"D93F0B"},"performed_via_github_app":null},{"id":14355095538,"node_id":"UNLE_lADODf6-U86XdxWIzwAAAANXoV_y","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14355095538","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2024-09-22T16:55:54Z","label":{"name":"X-Controversial","color":"D93F0B"},"performed_via_github_app":null},{"id":14355095540,"node_id":"LE_lADODf6-U86XdxWIzwAAAANXoV_0","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14355095540","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-22T16:55:54Z","label":{"name":"X-Contentious","color":"D93F0B"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2366872224","html_url":"https://github.com/bevyengine/bevy/issues/15367#issuecomment-2366872224","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/15367","id":2366872224,"node_id":"IC_kwDODf6-U86NE5qg","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-22T16:56:45Z","updated_at":"2024-09-22T16:57:40Z","body":"IMO adding requirements like this is a reasonable extension, and poses almost none of the risks from the linked issue. I'm in favor of this work, and I expect @cart is as well.\r\n\r\nI like the ideas around conditional requirements as well, although I think that those are distinct enough that they can and should be split out into their own issue and/or PR.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2366872224/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14355097782,"node_id":"MEE_lADODf6-U86XdxWIzwAAAANXoWi2","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14355097782","actor":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-09-22T16:56:46Z","performed_via_github_app":null},{"id":14355097788,"node_id":"SE_lADODf6-U86XdxWIzwAAAANXoWi8","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14355097788","actor":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-22T16:56:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2366888413","html_url":"https://github.com/bevyengine/bevy/issues/15367#issuecomment-2366888413","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/15367","id":2366888413,"node_id":"IC_kwDODf6-U86NE9nd","user":{"login":"MalekiRe","id":50841145,"node_id":"MDQ6VXNlcjUwODQxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/50841145?v=4","gravatar_id":"","url":"https://api.github.com/users/MalekiRe","html_url":"https://github.com/MalekiRe","followers_url":"https://api.github.com/users/MalekiRe/followers","following_url":"https://api.github.com/users/MalekiRe/following{/other_user}","gists_url":"https://api.github.com/users/MalekiRe/gists{/gist_id}","starred_url":"https://api.github.com/users/MalekiRe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MalekiRe/subscriptions","organizations_url":"https://api.github.com/users/MalekiRe/orgs","repos_url":"https://api.github.com/users/MalekiRe/repos","events_url":"https://api.github.com/users/MalekiRe/events{/privacy}","received_events_url":"https://api.github.com/users/MalekiRe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-22T17:42:05Z","updated_at":"2024-09-22T17:42:05Z","body":"I am heavily in favor of the allowing plugins to define component requirements, and think it should be a separate PR.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2366888413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"MalekiRe","id":50841145,"node_id":"MDQ6VXNlcjUwODQxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/50841145?v=4","gravatar_id":"","url":"https://api.github.com/users/MalekiRe","html_url":"https://github.com/MalekiRe","followers_url":"https://api.github.com/users/MalekiRe/followers","following_url":"https://api.github.com/users/MalekiRe/following{/other_user}","gists_url":"https://api.github.com/users/MalekiRe/gists{/gist_id}","starred_url":"https://api.github.com/users/MalekiRe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MalekiRe/subscriptions","organizations_url":"https://api.github.com/users/MalekiRe/orgs","repos_url":"https://api.github.com/users/MalekiRe/repos","events_url":"https://api.github.com/users/MalekiRe/events{/privacy}","received_events_url":"https://api.github.com/users/MalekiRe/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2366894960","html_url":"https://github.com/bevyengine/bevy/issues/15367#issuecomment-2366894960","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/15367","id":2366894960,"node_id":"IC_kwDODf6-U86NE_Nw","user":{"login":"SkiFire13","id":9020423,"node_id":"MDQ6VXNlcjkwMjA0MjM=","avatar_url":"https://avatars.githubusercontent.com/u/9020423?v=4","gravatar_id":"","url":"https://api.github.com/users/SkiFire13","html_url":"https://github.com/SkiFire13","followers_url":"https://api.github.com/users/SkiFire13/followers","following_url":"https://api.github.com/users/SkiFire13/following{/other_user}","gists_url":"https://api.github.com/users/SkiFire13/gists{/gist_id}","starred_url":"https://api.github.com/users/SkiFire13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SkiFire13/subscriptions","organizations_url":"https://api.github.com/users/SkiFire13/orgs","repos_url":"https://api.github.com/users/SkiFire13/repos","events_url":"https://api.github.com/users/SkiFire13/events{/privacy}","received_events_url":"https://api.github.com/users/SkiFire13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-22T17:55:41Z","updated_at":"2024-09-22T17:55:41Z","body":"It's not clear to me how the `Mass` example would work in practice. `Mass` is not default, and even if it was that would seem a footgun for anyone forgetting to set its value.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2366894960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SkiFire13","id":9020423,"node_id":"MDQ6VXNlcjkwMjA0MjM=","avatar_url":"https://avatars.githubusercontent.com/u/9020423?v=4","gravatar_id":"","url":"https://api.github.com/users/SkiFire13","html_url":"https://github.com/SkiFire13","followers_url":"https://api.github.com/users/SkiFire13/followers","following_url":"https://api.github.com/users/SkiFire13/following{/other_user}","gists_url":"https://api.github.com/users/SkiFire13/gists{/gist_id}","starred_url":"https://api.github.com/users/SkiFire13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SkiFire13/subscriptions","organizations_url":"https://api.github.com/users/SkiFire13/orgs","repos_url":"https://api.github.com/users/SkiFire13/repos","events_url":"https://api.github.com/users/SkiFire13/events{/privacy}","received_events_url":"https://api.github.com/users/SkiFire13/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2366968307","html_url":"https://github.com/bevyengine/bevy/issues/15367#issuecomment-2366968307","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/15367","id":2366968307,"node_id":"IC_kwDODf6-U86NFRHz","user":{"login":"UkoeHB","id":37489173,"node_id":"MDQ6VXNlcjM3NDg5MTcz","avatar_url":"https://avatars.githubusercontent.com/u/37489173?v=4","gravatar_id":"","url":"https://api.github.com/users/UkoeHB","html_url":"https://github.com/UkoeHB","followers_url":"https://api.github.com/users/UkoeHB/followers","following_url":"https://api.github.com/users/UkoeHB/following{/other_user}","gists_url":"https://api.github.com/users/UkoeHB/gists{/gist_id}","starred_url":"https://api.github.com/users/UkoeHB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/UkoeHB/subscriptions","organizations_url":"https://api.github.com/users/UkoeHB/orgs","repos_url":"https://api.github.com/users/UkoeHB/repos","events_url":"https://api.github.com/users/UkoeHB/events{/privacy}","received_events_url":"https://api.github.com/users/UkoeHB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-22T21:17:07Z","updated_at":"2024-09-22T21:17:07Z","body":"Another use-case: I want all replicated entities in a networked game to get `StateScoped` when the `Replicated` component is inserted on a client entity. Adding a component requirement at the plugin level would avoid race conditions between spawns and adding `StateScoped`.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2366968307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"UkoeHB","id":37489173,"node_id":"MDQ6VXNlcjM3NDg5MTcz","avatar_url":"https://avatars.githubusercontent.com/u/37489173?v=4","gravatar_id":"","url":"https://api.github.com/users/UkoeHB","html_url":"https://github.com/UkoeHB","followers_url":"https://api.github.com/users/UkoeHB/followers","following_url":"https://api.github.com/users/UkoeHB/following{/other_user}","gists_url":"https://api.github.com/users/UkoeHB/gists{/gist_id}","starred_url":"https://api.github.com/users/UkoeHB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/UkoeHB/subscriptions","organizations_url":"https://api.github.com/users/UkoeHB/orgs","repos_url":"https://api.github.com/users/UkoeHB/repos","events_url":"https://api.github.com/users/UkoeHB/events{/privacy}","received_events_url":"https://api.github.com/users/UkoeHB/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2366977202","html_url":"https://github.com/bevyengine/bevy/issues/15367#issuecomment-2366977202","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/15367","id":2366977202,"node_id":"IC_kwDODf6-U86NFTSy","user":{"login":"Jondolf","id":57632562,"node_id":"MDQ6VXNlcjU3NjMyNTYy","avatar_url":"https://avatars.githubusercontent.com/u/57632562?v=4","gravatar_id":"","url":"https://api.github.com/users/Jondolf","html_url":"https://github.com/Jondolf","followers_url":"https://api.github.com/users/Jondolf/followers","following_url":"https://api.github.com/users/Jondolf/following{/other_user}","gists_url":"https://api.github.com/users/Jondolf/gists{/gist_id}","starred_url":"https://api.github.com/users/Jondolf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jondolf/subscriptions","organizations_url":"https://api.github.com/users/Jondolf/orgs","repos_url":"https://api.github.com/users/Jondolf/repos","events_url":"https://api.github.com/users/Jondolf/events{/privacy}","received_events_url":"https://api.github.com/users/Jondolf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-22T21:41:17Z","updated_at":"2024-09-22T21:43:42Z","body":"> It's not clear to me how the Mass example would work in practice. Mass is not default, and even if it was that would seem a footgun for anyone forgetting to set its value.\r\n\r\nThat example was purely for demonstration purposes (although `Default` was indeed missing, added it now) and because mass happens to be relevant to me since I'm currently [reworking](https://github.com/Jondolf/avian/discussions/499) how it works in Avian. The example wasn't intended to represent how mass should actually work in physics engines, since that is not relevant to what this issue is about.\r\n\r\n<details>\r\n<summary>If we do want to go into it though...</summary>\r\n\r\nMass needs to be required by dynamic rigid bodies, otherwise they wouldn't be dynamic or make much sense as simulated physics objects. It's a property of the `RigidBody` type/object in practically all physics engines. The only difference here is that it's stored in a separate component since we're using an ECS.\r\n\r\nPhysics engines need to assume some default value for this, commonly either `0.0` or `1.0`. Many engines (like Rapier) treat zero mass as infinite mass. However, at least in Rapier, Box2D, and Avian, mass properties are computed automatically from the attached colliders at runtime, unless specified otherwise. Especially for angular inertia and the center of mass, this is incredibly important for any non-trivial shapes to get realistic behavior, since they are very difficult to tune correctly by hand. This is also what for example Unity and Godot do for angular inertia and the center of mass by default.\r\n\r\nAs for the internal representation, almost no engine stores just a raw scalar mass. Instead, they store the inverse mass and inverse angular inertia, since that's what most of the solver uses. The mass exposed to users is just an API-level abstraction.\r\n\r\nSo yes, you do need to require mass for dynamic rigid bodies, but you're not expected to set it manually everywhere unless you need to do so to get the exact desired behavior. You can always tune it as needed, but generally, the defaults should be pretty reasonable.\r\n</details>","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2366977202/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Jondolf","id":57632562,"node_id":"MDQ6VXNlcjU3NjMyNTYy","avatar_url":"https://avatars.githubusercontent.com/u/57632562?v=4","gravatar_id":"","url":"https://api.github.com/users/Jondolf","html_url":"https://github.com/Jondolf","followers_url":"https://api.github.com/users/Jondolf/followers","following_url":"https://api.github.com/users/Jondolf/following{/other_user}","gists_url":"https://api.github.com/users/Jondolf/gists{/gist_id}","starred_url":"https://api.github.com/users/Jondolf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jondolf/subscriptions","organizations_url":"https://api.github.com/users/Jondolf/orgs","repos_url":"https://api.github.com/users/Jondolf/repos","events_url":"https://api.github.com/users/Jondolf/events{/privacy}","received_events_url":"https://api.github.com/users/Jondolf/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2369164563","html_url":"https://github.com/bevyengine/bevy/issues/15367#issuecomment-2369164563","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/15367","id":2369164563,"node_id":"IC_kwDODf6-U86NNpUT","user":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-23T19:18:53Z","updated_at":"2024-09-23T19:18:53Z","body":"> Adding Runtime Requires\r\n\r\nI'm on board for adding requires at runtime. I also don't see any major downsides. The problems I can think of are minor / \r\nalmost certainly don't outweigh the usefulness of the feature:\r\n\r\n* This will allow upstream developers to change the performance characteristics of a component insertion. Ex: if you add a `require(MyExpensiveComponent)` to `Transform`, suddenly spawning gets way more expensive across the board.\r\n* This does kind of allow \"piercing\" abstractions because you can load new semantics onto existing 3rd party concepts (not generally how inheritance should work). In practice I think adding components isn't a big deal here though.\r\n\r\nImo we should add this, but with the general recommendation that this is a \"break glass\" feature for specific use cases that really need it, not a pattern most people should be employing regularly.\r\n\r\n> Conditional Requirements\r\n\r\nI'm pretty strongly against this unless we add auto-removes to required components. In the current form, this would immediately break down in the context of multiple inserts. And even if we added support for auto-removes, this might still be too complicated. Not shutting this down entirely, but imo this should be considered highly controversial, and even if we get a lot of support for it, I think we should defer this until after the initial rollout of BSN / we see more usage in the real world.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2369164563/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14369640127,"node_id":"LE_lADODf6-U86XdxWIzwAAAANYf06_","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14369640127","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-23T19:54:54Z","label":{"name":"S-Ready-For-Implementation","color":"D876E3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2375168814","html_url":"https://github.com/bevyengine/bevy/issues/15367#issuecomment-2375168814","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/15367","id":2375168814,"node_id":"IC_kwDODf6-U86NkjMu","user":{"login":"ricky26","id":262786,"node_id":"MDQ6VXNlcjI2Mjc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/262786?v=4","gravatar_id":"","url":"https://api.github.com/users/ricky26","html_url":"https://github.com/ricky26","followers_url":"https://api.github.com/users/ricky26/followers","following_url":"https://api.github.com/users/ricky26/following{/other_user}","gists_url":"https://api.github.com/users/ricky26/gists{/gist_id}","starred_url":"https://api.github.com/users/ricky26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ricky26/subscriptions","organizations_url":"https://api.github.com/users/ricky26/orgs","repos_url":"https://api.github.com/users/ricky26/repos","events_url":"https://api.github.com/users/ricky26/events{/privacy}","received_events_url":"https://api.github.com/users/ricky26/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-25T20:16:11Z","updated_at":"2024-09-25T20:16:11Z","body":"IME with other engines, adding a component based on a query is more commonly applicable than single component requires. One additional case which comes up a lot is automatic removal of implementation detail / state tracking components (i.e. when `(A + B + !AState)` add `AState`, when `(AState & (!A || !B))` remove `AState`). (There is a third common pattern where state cleanup is required, but that can't be done transparently for the user.)\r\n\r\nI have definitely used queries with excluded components for this too, so I think that \"bundle requirements\" are too limited.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2375168814/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ricky26","id":262786,"node_id":"MDQ6VXNlcjI2Mjc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/262786?v=4","gravatar_id":"","url":"https://api.github.com/users/ricky26","html_url":"https://github.com/ricky26","followers_url":"https://api.github.com/users/ricky26/followers","following_url":"https://api.github.com/users/ricky26/following{/other_user}","gists_url":"https://api.github.com/users/ricky26/gists{/gist_id}","starred_url":"https://api.github.com/users/ricky26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ricky26/subscriptions","organizations_url":"https://api.github.com/users/ricky26/orgs","repos_url":"https://api.github.com/users/ricky26/repos","events_url":"https://api.github.com/users/ricky26/events{/privacy}","received_events_url":"https://api.github.com/users/ricky26/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":14405628281,"node_id":"LE_lADODf6-U86XdxWIzwAAAANapHF5","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14405628281","actor":{"login":"BenjaminBrienen","id":42162869,"node_id":"MDQ6VXNlcjQyMTYyODY5","avatar_url":"https://avatars.githubusercontent.com/u/42162869?v=4","gravatar_id":"","url":"https://api.github.com/users/BenjaminBrienen","html_url":"https://github.com/BenjaminBrienen","followers_url":"https://api.github.com/users/BenjaminBrienen/followers","following_url":"https://api.github.com/users/BenjaminBrienen/following{/other_user}","gists_url":"https://api.github.com/users/BenjaminBrienen/gists{/gist_id}","starred_url":"https://api.github.com/users/BenjaminBrienen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenjaminBrienen/subscriptions","organizations_url":"https://api.github.com/users/BenjaminBrienen/orgs","repos_url":"https://api.github.com/users/BenjaminBrienen/repos","events_url":"https://api.github.com/users/BenjaminBrienen/events{/privacy}","received_events_url":"https://api.github.com/users/BenjaminBrienen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-09-25T20:25:28Z","label":{"name":"X-Blessed","color":"D93F0B"},"performed_via_github_app":null},{"actor":{"login":"Jondolf","id":57632562,"node_id":"MDQ6VXNlcjU3NjMyNTYy","avatar_url":"https://avatars.githubusercontent.com/u/57632562?v=4","gravatar_id":"","url":"https://api.github.com/users/Jondolf","html_url":"https://github.com/Jondolf","followers_url":"https://api.github.com/users/Jondolf/followers","following_url":"https://api.github.com/users/Jondolf/following{/other_user}","gists_url":"https://api.github.com/users/Jondolf/gists{/gist_id}","starred_url":"https://api.github.com/users/Jondolf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jondolf/subscriptions","organizations_url":"https://api.github.com/users/Jondolf/orgs","repos_url":"https://api.github.com/users/Jondolf/repos","events_url":"https://api.github.com/users/Jondolf/events{/privacy}","received_events_url":"https://api.github.com/users/Jondolf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-26T21:12:11Z","updated_at":"2024-09-26T21:12:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/15458","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/15458/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/15458/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/15458/events","html_url":"https://github.com/bevyengine/bevy/pull/15458","id":2551539595,"node_id":"PR_kwDODf6-U8582RvV","number":15458,"title":"Runtime required components","user":{"login":"Jondolf","id":57632562,"node_id":"MDQ6VXNlcjU3NjMyNTYy","avatar_url":"https://avatars.githubusercontent.com/u/57632562?v=4","gravatar_id":"","url":"https://api.github.com/users/Jondolf","html_url":"https://github.com/Jondolf","followers_url":"https://api.github.com/users/Jondolf/followers","following_url":"https://api.github.com/users/Jondolf/following{/other_user}","gists_url":"https://api.github.com/users/Jondolf/gists{/gist_id}","starred_url":"https://api.github.com/users/Jondolf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jondolf/subscriptions","organizations_url":"https://api.github.com/users/Jondolf/orgs","repos_url":"https://api.github.com/users/Jondolf/repos","events_url":"https://api.github.com/users/Jondolf/events{/privacy}","received_events_url":"https://api.github.com/users/Jondolf/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619326,"node_id":"MDU6TGFiZWwxNzk1NjE5MzI2","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Feature","name":"C-Feature","color":"b8b8b8","default":false,"description":"A new feature, making something new possible"},{"id":2197761682,"node_id":"MDU6TGFiZWwyMTk3NzYxNjgy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-ECS","name":"A-ECS","color":"c6a751","default":false,"description":"Entities, components, systems, and events"},{"id":2747865511,"node_id":"MDU6TGFiZWwyNzQ3ODY1NTEx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Ready-For-Final-Review","name":"S-Ready-For-Final-Review","color":"D876E3","default":false,"description":"This PR has been approved by the community. It's ready for a maintainer to consider merging it"},{"id":6600141374,"node_id":"LA_kwDODf6-U88AAAABiWYqPg","url":"https://api.github.com/repos/bevyengine/bevy/labels/M-Release-Note","name":"M-Release-Note","color":"006B75","default":false,"description":"Work that should be called out in the blog due to impact"},{"id":6899554715,"node_id":"LA_kwDODf6-U88AAAABmz7Zmw","url":"https://api.github.com/repos/bevyengine/bevy/labels/X-Blessed","name":"X-Blessed","color":"D93F0B","default":false,"description":"Has a large architectural impact or tradeoffs, but the design has been endorsed by decision makers"},{"id":6899576022,"node_id":"LA_kwDODf6-U88AAAABmz8s1g","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Modest","name":"D-Modest","color":"008672","default":false,"description":"A \"normal\" level of difficulty; suitable for simple features or challenging fixes"},{"id":6899583116,"node_id":"LA_kwDODf6-U88AAAABmz9IjA","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Unsafe","name":"D-Unsafe","color":"008672","default":false,"description":"Touches with unsafe code in some way"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/bevyengine/bevy/milestones/24","html_url":"https://github.com/bevyengine/bevy/milestone/24","labels_url":"https://api.github.com/repos/bevyengine/bevy/milestones/24/labels","id":11048296,"node_id":"MI_kwDODf6-U84AqJVo","number":24,"title":"0.15","description":"","creator":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":550,"state":"closed","created_at":"2024-05-13T18:42:18Z","updated_at":"2024-11-30T03:58:51Z","due_on":null,"closed_at":"2024-11-29T22:40:27Z"},"comments":7,"created_at":"2024-09-26T21:12:10Z","updated_at":"2024-10-20T14:37:16Z","closed_at":"2024-09-30T19:36:15Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":234798675,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQ3OTg2NzU=","name":"bevy","full_name":"bevyengine/bevy","private":false,"owner":{"login":"bevyengine","id":60047606,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMDQ3NjA2","avatar_url":"https://avatars.githubusercontent.com/u/60047606?v=4","gravatar_id":"","url":"https://api.github.com/users/bevyengine","html_url":"https://github.com/bevyengine","followers_url":"https://api.github.com/users/bevyengine/followers","following_url":"https://api.github.com/users/bevyengine/following{/other_user}","gists_url":"https://api.github.com/users/bevyengine/gists{/gist_id}","starred_url":"https://api.github.com/users/bevyengine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bevyengine/subscriptions","organizations_url":"https://api.github.com/users/bevyengine/orgs","repos_url":"https://api.github.com/users/bevyengine/repos","events_url":"https://api.github.com/users/bevyengine/events{/privacy}","received_events_url":"https://api.github.com/users/bevyengine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bevyengine/bevy","description":"A refreshingly simple data-driven game engine built in Rust","fork":false,"url":"https://api.github.com/repos/bevyengine/bevy","forks_url":"https://api.github.com/repos/bevyengine/bevy/forks","keys_url":"https://api.github.com/repos/bevyengine/bevy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bevyengine/bevy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bevyengine/bevy/teams","hooks_url":"https://api.github.com/repos/bevyengine/bevy/hooks","issue_events_url":"https://api.github.com/repos/bevyengine/bevy/issues/events{/number}","events_url":"https://api.github.com/repos/bevyengine/bevy/events","assignees_url":"https://api.github.com/repos/bevyengine/bevy/assignees{/user}","branches_url":"https://api.github.com/repos/bevyengine/bevy/branches{/branch}","tags_url":"https://api.github.com/repos/bevyengine/bevy/tags","blobs_url":"https://api.github.com/repos/bevyengine/bevy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bevyengine/bevy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bevyengine/bevy/git/refs{/sha}","trees_url":"https://api.github.com/repos/bevyengine/bevy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bevyengine/bevy/statuses/{sha}","languages_url":"https://api.github.com/repos/bevyengine/bevy/languages","stargazers_url":"https://api.github.com/repos/bevyengine/bevy/stargazers","contributors_url":"https://api.github.com/repos/bevyengine/bevy/contributors","subscribers_url":"https://api.github.com/repos/bevyengine/bevy/subscribers","subscription_url":"https://api.github.com/repos/bevyengine/bevy/subscription","commits_url":"https://api.github.com/repos/bevyengine/bevy/commits{/sha}","git_commits_url":"https://api.github.com/repos/bevyengine/bevy/git/commits{/sha}","comments_url":"https://api.github.com/repos/bevyengine/bevy/comments{/number}","issue_comment_url":"https://api.github.com/repos/bevyengine/bevy/issues/comments{/number}","contents_url":"https://api.github.com/repos/bevyengine/bevy/contents/{+path}","compare_url":"https://api.github.com/repos/bevyengine/bevy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bevyengine/bevy/merges","archive_url":"https://api.github.com/repos/bevyengine/bevy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bevyengine/bevy/downloads","issues_url":"https://api.github.com/repos/bevyengine/bevy/issues{/number}","pulls_url":"https://api.github.com/repos/bevyengine/bevy/pulls{/number}","milestones_url":"https://api.github.com/repos/bevyengine/bevy/milestones{/number}","notifications_url":"https://api.github.com/repos/bevyengine/bevy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bevyengine/bevy/labels{/name}","releases_url":"https://api.github.com/repos/bevyengine/bevy/releases{/id}","deployments_url":"https://api.github.com/repos/bevyengine/bevy/deployments","created_at":"2020-01-18T21:13:55Z","updated_at":"2025-11-10T00:30:24Z","pushed_at":"2025-11-09T20:05:46Z","git_url":"git://github.com/bevyengine/bevy.git","ssh_url":"git@github.com:bevyengine/bevy.git","clone_url":"https://github.com/bevyengine/bevy.git","svn_url":"https://github.com/bevyengine/bevy","homepage":"https://bevy.org","size":152673,"stargazers_count":42996,"watchers_count":42996,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":4220,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3116,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bevy","game-development","game-engine","gamedev","open-source","rust"],"visibility":"public","forks":4220,"open_issues":3116,"watchers":42996,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/bevyengine/bevy/pulls/15458","html_url":"https://github.com/bevyengine/bevy/pull/15458","diff_url":"https://github.com/bevyengine/bevy/pull/15458.diff","patch_url":"https://github.com/bevyengine/bevy/pull/15458.patch","merged_at":"2024-09-30T19:36:15Z"},"body":"# Objective\r\n\r\nFixes #15367.\r\n\r\nCurrently, required components can only be defined through the `require` macro attribute. While this should be used in most cases, there are also several instances where you may want to define requirements at runtime, commonly in plugins.\r\n\r\nExample use cases:\r\n\r\n- Require components only if the relevant optional plugins are enabled. For example, a `SleepTimer` component (for physics) is only relevant if the `SleepPlugin` is enabled.\r\n- Third party crates can define their own requirements for first party types. For example, \"each `Handle<Mesh>` should require my custom rendering data components\". This also gets around the orphan rule.\r\n- Generic plugins that add marker components based on the existence of other components, like a generic `ColliderPlugin<C: AnyCollider>` that wants to add a `ColliderMarker` component for all types of colliders.\r\n    - This is currently relevant for the retained render world in #15320. The `ExtractComponentPlugin<C>` should add `SyncToRenderWorld` to all components that should be extracted. This is currently done with observers, which is more expensive than required components, and causes archetype moves.\r\n- Replace some built-in components with custom versions. For example, if `GlobalTransform` required `Transform` through `TransformPlugin`, but we wanted to use a `CustomTransform` type, we could replace `TransformPlugin` with our own plugin. (This specific example isn't good, but there are likely better use cases where this may be useful)\r\n\r\nSee #15367 for more in-depth reasoning.\r\n\r\n## Solution\r\n\r\nAdd `register_required_components::<T, R>` and `register_required_components_with::<T, R>` methods for `Default` and custom constructors respectively. These methods exist on `App` and `World`.\r\n\r\n```rust\r\nstruct BirdPlugin;\r\n\r\nimpl Plugin for BirdPlugin {\r\n    fn plugin(app: &mut App) {\r\n        // Make `Bird` require `Wings` with a `Default` constructor.\r\n        app.register_required_components::<Bird, Wings>();\r\n\r\n        // Make `Wings` require `FlapSpeed` with a custom constructor.\r\n        // Fun fact: Some hummingbirds can flutter their wings 80 times per second!\r\n        app.register_required_components_with::<Wings, FlapSpeed>(|| FlapSpeed::from_duration(1.0 / 80.0));\r\n    }\r\n}\r\n```\r\n\r\nThe custom constructor is a function pointer to match the `require` API, though it could take a raw value too.\r\n\r\nRequirement inheritance works similarly as with the `require` attribute. If `Bird` required `FlapSpeed` directly, it would take precedence over indirectly requiring it through `Wings`. The same logic applies to all levels of the inheritance tree.\r\n\r\nNote that registering the same component requirement more than once will panic, similarly to trying to add multiple component hooks of the same type to the same component. This avoids constructor conflicts and confusing ordering issues.\r\n\r\n### Implementation\r\n\r\nRuntime requirements have two additional challenges in comparison to the `require` attribute.\r\n\r\n1. The `require` attribute uses recursion and macros with clever ordering to populate hash maps of required components for each component type. The expected semantics are that \"more specific\" requirements override ones deeper in the inheritance tree. However, at runtime, there is no representation of how \"specific\" each requirement is.\r\n2. If you first register the requirement `X -> Y`, and later register `Y -> Z`, then `X` should also indirectly require `Z`. However, `Y` itself doesn't know that it is required by `X`, so it's not aware that it should update the list of required components for `X`.\r\n\r\nMy solutions to these problems are:\r\n\r\n1. Store the depth in the inheritance tree for each entry of a given component's `RequiredComponents`. This is used to determine how \"specific\" each requirement is. For `require`-based registration, these depths are computed as part of the recursion.\r\n2. Store and maintain a `required_by` list in each component's `ComponentInfo`, next to `required_components`. For `require`-based registration, these are also added after each registration, as part of the recursion.\r\n\r\nWhen calling `register_required_components`, it works as follows:\r\n\r\n1. Get the required components of `Foo`, and check that `Bar` isn't already a *direct* requirement.\r\n3. Register `Bar` as a required component for `Foo`, and add `Foo` to the `required_by` list for `Bar`.\r\n4. Find and register all indirect requirements inherited from `Bar`, adding `Foo` to the `required_by` list for each component.\r\n5. Iterate through components that require `Foo`, registering the new inherited requires for them as indirect requirements.\r\n\r\nThe runtime registration is likely slightly more expensive than the `require` version, but it is a one-time cost, and quite negligible in practice, unless projects have hundreds or thousands of runtime requirements. I have not benchmarked this however.\r\n\r\nThis does also add a small amount of extra cost to the `require` attribute for updating `required_by` lists, but I expect it to be very minor.\r\n\r\n## Testing\r\n\r\nI added some tests that are copies of the `require` versions, as well as some tests that are more specific to the runtime implementation. I might add a few more tests though.\r\n\r\n## Discussion\r\n\r\n- Is `register_required_components` a good name? Originally I went for `register_component_requirement` to be consistent with `register_component_hooks`, but the general feature is often referred to as \"required components\", which is why I changed it to `register_required_components`.\r\n- Should we *not* panic for duplicate requirements? If so, should they just be ignored, or should the latest registration overwrite earlier ones?\r\n- If we do want to panic for duplicate, conflicting registrations, should we at least not panic if the registrations are *exactly* the same, i.e. same component and same constructor? The current implementation panics for all duplicate direct registrations regardless of the constructor.\r\n\r\n## Next Steps\r\n\r\n- Allow `register_required_components` to take a `Bundle` instead of a single required component.\r\n    - I could also try to do it in this PR if that would be preferable.\r\n- Not directly related, but archetype invariants?","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/15458/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/15458/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":14461425286,"node_id":"REFE_lADODf6-U86XdxWIzwAAAANd99aG","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14461425286","actor":{"login":"github-merge-queue[bot]","id":118344674,"node_id":"BOT_kgDOBw3L4g","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github-merge-queue%5Bbot%5D","html_url":"https://github.com/apps/github-merge-queue","followers_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f3e8ae03cd6e2b5696fc886d4530306212695e40","commit_url":"https://api.github.com/repos/bevyengine/bevy/commits/f3e8ae03cd6e2b5696fc886d4530306212695e40","created_at":"2024-09-30T19:36:15Z","performed_via_github_app":null},{"id":14461425476,"node_id":"CE_lADODf6-U86XdxWIzwAAAANd99dE","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14461425476","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-09-30T19:36:16Z","state_reason":null,"performed_via_github_app":null},{"id":14461529277,"node_id":"UE_lADODf6-U86XdxWIzwAAAANd-Wy9","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14461529277","actor":{"login":"BenjaminBrienen","id":42162869,"node_id":"MDQ6VXNlcjQyMTYyODY5","avatar_url":"https://avatars.githubusercontent.com/u/42162869?v=4","gravatar_id":"","url":"https://api.github.com/users/BenjaminBrienen","html_url":"https://github.com/BenjaminBrienen","followers_url":"https://api.github.com/users/BenjaminBrienen/followers","following_url":"https://api.github.com/users/BenjaminBrienen/following{/other_user}","gists_url":"https://api.github.com/users/BenjaminBrienen/gists{/gist_id}","starred_url":"https://api.github.com/users/BenjaminBrienen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BenjaminBrienen/subscriptions","organizations_url":"https://api.github.com/users/BenjaminBrienen/orgs","repos_url":"https://api.github.com/users/BenjaminBrienen/repos","events_url":"https://api.github.com/users/BenjaminBrienen/events{/privacy}","received_events_url":"https://api.github.com/users/BenjaminBrienen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unsubscribed","commit_id":null,"commit_url":null,"created_at":"2024-09-30T19:46:14Z","performed_via_github_app":null},{"id":14516459063,"node_id":"REFE_lADODf6-U86XdxWIzwAAAANhP5Y3","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/14516459063","actor":{"login":"robtfm","id":50659922,"node_id":"MDQ6VXNlcjUwNjU5OTIy","avatar_url":"https://avatars.githubusercontent.com/u/50659922?v=4","gravatar_id":"","url":"https://api.github.com/users/robtfm","html_url":"https://github.com/robtfm","followers_url":"https://api.github.com/users/robtfm/followers","following_url":"https://api.github.com/users/robtfm/following{/other_user}","gists_url":"https://api.github.com/users/robtfm/gists{/gist_id}","starred_url":"https://api.github.com/users/robtfm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robtfm/subscriptions","organizations_url":"https://api.github.com/users/robtfm/orgs","repos_url":"https://api.github.com/users/robtfm/repos","events_url":"https://api.github.com/users/robtfm/events{/privacy}","received_events_url":"https://api.github.com/users/robtfm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"16d3f30e88dee2d6f2aaad2ce009bf9f5d71c597","commit_url":"https://api.github.com/repos/robtfm/bevy/commits/16d3f30e88dee2d6f2aaad2ce009bf9f5d71c597","created_at":"2024-10-04T09:35:58Z","performed_via_github_app":null},{"actor":{"login":"Jondolf","id":57632562,"node_id":"MDQ6VXNlcjU3NjMyNTYy","avatar_url":"https://avatars.githubusercontent.com/u/57632562?v=4","gravatar_id":"","url":"https://api.github.com/users/Jondolf","html_url":"https://github.com/Jondolf","followers_url":"https://api.github.com/users/Jondolf/followers","following_url":"https://api.github.com/users/Jondolf/following{/other_user}","gists_url":"https://api.github.com/users/Jondolf/gists{/gist_id}","starred_url":"https://api.github.com/users/Jondolf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jondolf/subscriptions","organizations_url":"https://api.github.com/users/Jondolf/orgs","repos_url":"https://api.github.com/users/Jondolf/repos","events_url":"https://api.github.com/users/Jondolf/events{/privacy}","received_events_url":"https://api.github.com/users/Jondolf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-06T13:29:13Z","updated_at":"2024-10-06T13:29:13Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/14927","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/14927/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/14927/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/14927/events","html_url":"https://github.com/bevyengine/bevy/issues/14927","id":2487241990,"node_id":"I_kwDODf6-U86UQE0G","number":14927,"title":"Support Removing Required Components at Runtime","user":{"login":"omaskery","id":121959,"node_id":"MDQ6VXNlcjEyMTk1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/121959?v=4","gravatar_id":"","url":"https://api.github.com/users/omaskery","html_url":"https://github.com/omaskery","followers_url":"https://api.github.com/users/omaskery/followers","following_url":"https://api.github.com/users/omaskery/following{/other_user}","gists_url":"https://api.github.com/users/omaskery/gists{/gist_id}","starred_url":"https://api.github.com/users/omaskery/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omaskery/subscriptions","organizations_url":"https://api.github.com/users/omaskery/orgs","repos_url":"https://api.github.com/users/omaskery/repos","events_url":"https://api.github.com/users/omaskery/events{/privacy}","received_events_url":"https://api.github.com/users/omaskery/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619326,"node_id":"MDU6TGFiZWwxNzk1NjE5MzI2","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Feature","name":"C-Feature","color":"b8b8b8","default":false,"description":"A new feature, making something new possible"},{"id":1795619331,"node_id":"MDU6TGFiZWwxNzk1NjE5MzMx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Wontfix","name":"S-Wontfix","color":"d876e3","default":false,"description":"This issue is the result of a deliberate design decision, and will not be fixed"},{"id":2197761682,"node_id":"MDU6TGFiZWwyMTk3NzYxNjgy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-ECS","name":"A-ECS","color":"c6a751","default":false,"description":"Entities, components, systems, and events"},{"id":3166124392,"node_id":"MDU6TGFiZWwzMTY2MTI0Mzky","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Transform","name":"A-Transform","color":"C6a751","default":false,"description":"Translations, rotations and scales"},{"id":4058407495,"node_id":"LA_kwDODf6-U87x5mJH","url":"https://api.github.com/repos/bevyengine/bevy/labels/X-Controversial","name":"X-Controversial","color":"D93F0B","default":false,"description":"There is active debate or serious implications around merging this PR"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":43,"created_at":"2024-08-26T16:18:32Z","updated_at":"2024-10-23T17:29:34Z","closed_at":"2024-10-06T14:02:42Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":234798675,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQ3OTg2NzU=","name":"bevy","full_name":"bevyengine/bevy","private":false,"owner":{"login":"bevyengine","id":60047606,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMDQ3NjA2","avatar_url":"https://avatars.githubusercontent.com/u/60047606?v=4","gravatar_id":"","url":"https://api.github.com/users/bevyengine","html_url":"https://github.com/bevyengine","followers_url":"https://api.github.com/users/bevyengine/followers","following_url":"https://api.github.com/users/bevyengine/following{/other_user}","gists_url":"https://api.github.com/users/bevyengine/gists{/gist_id}","starred_url":"https://api.github.com/users/bevyengine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bevyengine/subscriptions","organizations_url":"https://api.github.com/users/bevyengine/orgs","repos_url":"https://api.github.com/users/bevyengine/repos","events_url":"https://api.github.com/users/bevyengine/events{/privacy}","received_events_url":"https://api.github.com/users/bevyengine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bevyengine/bevy","description":"A refreshingly simple data-driven game engine built in Rust","fork":false,"url":"https://api.github.com/repos/bevyengine/bevy","forks_url":"https://api.github.com/repos/bevyengine/bevy/forks","keys_url":"https://api.github.com/repos/bevyengine/bevy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bevyengine/bevy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bevyengine/bevy/teams","hooks_url":"https://api.github.com/repos/bevyengine/bevy/hooks","issue_events_url":"https://api.github.com/repos/bevyengine/bevy/issues/events{/number}","events_url":"https://api.github.com/repos/bevyengine/bevy/events","assignees_url":"https://api.github.com/repos/bevyengine/bevy/assignees{/user}","branches_url":"https://api.github.com/repos/bevyengine/bevy/branches{/branch}","tags_url":"https://api.github.com/repos/bevyengine/bevy/tags","blobs_url":"https://api.github.com/repos/bevyengine/bevy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bevyengine/bevy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bevyengine/bevy/git/refs{/sha}","trees_url":"https://api.github.com/repos/bevyengine/bevy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bevyengine/bevy/statuses/{sha}","languages_url":"https://api.github.com/repos/bevyengine/bevy/languages","stargazers_url":"https://api.github.com/repos/bevyengine/bevy/stargazers","contributors_url":"https://api.github.com/repos/bevyengine/bevy/contributors","subscribers_url":"https://api.github.com/repos/bevyengine/bevy/subscribers","subscription_url":"https://api.github.com/repos/bevyengine/bevy/subscription","commits_url":"https://api.github.com/repos/bevyengine/bevy/commits{/sha}","git_commits_url":"https://api.github.com/repos/bevyengine/bevy/git/commits{/sha}","comments_url":"https://api.github.com/repos/bevyengine/bevy/comments{/number}","issue_comment_url":"https://api.github.com/repos/bevyengine/bevy/issues/comments{/number}","contents_url":"https://api.github.com/repos/bevyengine/bevy/contents/{+path}","compare_url":"https://api.github.com/repos/bevyengine/bevy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bevyengine/bevy/merges","archive_url":"https://api.github.com/repos/bevyengine/bevy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bevyengine/bevy/downloads","issues_url":"https://api.github.com/repos/bevyengine/bevy/issues{/number}","pulls_url":"https://api.github.com/repos/bevyengine/bevy/pulls{/number}","milestones_url":"https://api.github.com/repos/bevyengine/bevy/milestones{/number}","notifications_url":"https://api.github.com/repos/bevyengine/bevy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bevyengine/bevy/labels{/name}","releases_url":"https://api.github.com/repos/bevyengine/bevy/releases{/id}","deployments_url":"https://api.github.com/repos/bevyengine/bevy/deployments","created_at":"2020-01-18T21:13:55Z","updated_at":"2025-11-10T00:30:24Z","pushed_at":"2025-11-09T20:05:46Z","git_url":"git://github.com/bevyengine/bevy.git","ssh_url":"git@github.com:bevyengine/bevy.git","clone_url":"https://github.com/bevyengine/bevy.git","svn_url":"https://github.com/bevyengine/bevy","homepage":"https://bevy.org","size":152673,"stargazers_count":42996,"watchers_count":42996,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":4220,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3116,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bevy","game-development","game-engine","gamedev","open-source","rust"],"visibility":"public","forks":4220,"open_issues":3116,"watchers":42996,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## What problem does this solve or what need does it fill?\r\n\r\nWe are adding the ability to [require components](https://github.com/bevyengine/bevy/pull/14791) in Bevy, this feature request asks for the ability to _override_ this behaviour when it prevents you from customizing third party code.\r\n\r\nFor example, suppose you're using some hypothetical Bevy provided components & systems:\r\n\r\nSuppose there are components:\r\n- `SpecialComponent` (which requires `Transform`),\r\n- `Transform` (which requires `GlobalTransform`), and\r\n- `GlobalTransform`.\r\n\r\nSuppose there is the system: `update_globaltransform_for_specialcomponents_with_transforms`.\r\n\r\nYou're having a great time, until you reach an edge case where your requirements deviate from Bevy's assumptions, so you try to swap out some types:\r\nYou create a new component: `BetterTransform`.\r\nYou create a new system: `update_globaltransform_for_specialcomponents_with_bettertransforms`.\r\n\r\nPre-\"Required Components\": you would be unable to use bundles that assumed `SpecialComponent` should use Transform, potentially defining your own new bundles for convenience, but you'd be able to move on and achieve your goals.\r\n\r\nIn a world with \"Required Components\": you cannot currently \"un-require\" `Transform` from `SpecialComponent` in 3rd party code (without forking), resulting in this situation:\r\n\r\nYour types end up with all of the components: `SpecialComponent` pulls in `Transform`, you add `BetterTransform`, `Transform` and `BetterTransform` pull in `GlobalTransform`.\r\nYou end up with two systems trying to compute the `GlobalTransform` for `SpecialComponents`:\r\n`update_globaltransform_for_specialcomponents_with_transforms`, and\r\n`update_globaltransform_for_specialcomponents_with_bettertransforms`.\r\n\r\n## What solution would you like?\r\n\r\nCurrently the required components are authored using an annotation. This feature request proposes that methods be added to Bevy's `App` type for customizing them dynamically, a hypothetical set of methods:\r\n\r\n* `app.add_requires::<DependantComponent, RequiredComponent>();`\r\n* `app.remove_requires::<DependantComponent, RequiredComponent>();`\r\n\r\n(Names bike-sheddable as always!).\r\n\r\nThese would, as the names hopefully suggest, dynamically (un)register the \"required components\" relationship between those two types. The annotations in the current implementation would just be a short-hand for automatically registering these relationships.\r\n\r\n## What alternative(s) have you considered?\r\n\r\nExtensive discussion in Discord (the Next Generation Scene/UI Working Group channel), including but not limited to:\r\n* Not having required components (because BSN might add good enough Nested Scenes to address the need)\r\n* A full-fledged \"provides\" system where instead of requiring a component you require some contract that other components provide\r\n* ???\r\n\r\nEffectively, Required Components are going in (soon? today? already?), so we're committed to experimenting with those and learning from it. This feature request effectively acts as a short-term solution to ensure the addition of Required Components doesn't cause a surge in use that prevents customizability.\r\n\r\n## Additional context\r\n\r\nN/A\r\n","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/14927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/14927/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"}]