[{"id":16485587575,"node_id":"LE_lADODf6-U86r0PCtzwAAAAPWnhp3","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16485587575","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-02-26T19:28:41Z","label":{"name":"A-ECS","color":"c6a751"},"performed_via_github_app":null},{"id":16485587583,"node_id":"LE_lADODf6-U86r0PCtzwAAAAPWnhp_","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16485587583","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-02-26T19:28:41Z","label":{"name":"C-Performance","color":"B8B8B8"},"performed_via_github_app":null},{"id":16485590354,"node_id":"LE_lADODf6-U86r0PCtzwAAAAPWniVS","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16485590354","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-02-26T19:28:54Z","label":{"name":"S-Needs-Design","color":"D876E3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2686002017","html_url":"https://github.com/bevyengine/bevy/issues/18054#issuecomment-2686002017","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/18054","id":2686002017,"node_id":"IC_kwDODf6-U86gGSNh","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-26T19:30:29Z","updated_at":"2025-02-26T19:30:29Z","body":"We should start by adding a benchmark specifically stressing this. The exact pattern from the user of \"spawn 100k entities, despawn most of them, try spawning more\" is really suitable for creating a microbenchmark that we can use to measure regressions against this.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2686002017/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2686010685","html_url":"https://github.com/bevyengine/bevy/issues/18054#issuecomment-2686010685","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/18054","id":2686010685,"node_id":"IC_kwDODf6-U86gGUU9","user":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-26T19:34:44Z","updated_at":"2025-02-26T19:34:44Z","body":"> We should start by adding a benchmark specifically stressing this. \n\nI'm on it!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2686010685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2686031810","html_url":"https://github.com/bevyengine/bevy/issues/18054#issuecomment-2686031810","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/18054","id":2686031810,"node_id":"IC_kwDODf6-U86gGZfC","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-26T19:45:18Z","updated_at":"2025-02-26T19:45:18Z","body":"Aha! This code, where we're spawning specific entities, seemed highly unusual to me. With the advent of the retained rendering world, this shouldn't ever be needed. Going up the call stack, the offending methods only look to be called by `insert_or_spawn_batch`, which https://github.com/bevyengine/bevy/pull/18035 removes our internal usage of.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2686031810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2686040605","html_url":"https://github.com/bevyengine/bevy/issues/18054#issuecomment-2686040605","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/18054","id":2686040605,"node_id":"IC_kwDODf6-U86gGbod","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-26T19:49:18Z","updated_at":"2025-02-26T19:49:18Z","body":"I think that the right fix immediately is going to be to get some form of 18035 merged. Long-term, I think we should just remove this functionality completely, rather than risk slowing down any of the much more important paths.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2686040605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-26T19:50:06Z","updated_at":"2025-02-26T19:50:06Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/15704","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/15704/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/15704/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/15704/events","html_url":"https://github.com/bevyengine/bevy/issues/15704","id":2570948610,"node_id":"I_kwDODf6-U86ZPZAC","number":15704,"title":"Deprecate and remove insert_or_spawn_batch","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2197761682,"node_id":"MDU6TGFiZWwyMTk3NzYxNjgy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-ECS","name":"A-ECS","color":"c6a751","default":false,"description":"Entities, components, systems, and events"},{"id":2747857990,"node_id":"MDU6TGFiZWwyNzQ3ODU3OTkw","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Usability","name":"C-Usability","color":"b8b8b8","default":false,"description":"A targeted quality-of-life change that makes Bevy easier to use"},{"id":3166133948,"node_id":"MDU6TGFiZWwzMTY2MTMzOTQ4","url":"https://api.github.com/repos/bevyengine/bevy/labels/M-Migration-Guide","name":"M-Migration-Guide","color":"006B75","default":false,"description":"A breaking change to Bevy's public API that needs to be noted in a migration guide"},{"id":3166151441,"node_id":"MDU6TGFiZWwzMTY2MTUxNDQx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Ready-For-Implementation","name":"S-Ready-For-Implementation","color":"D876E3","default":false,"description":"This issue is ready for an implementation PR. Go for it!"},{"id":4058407495,"node_id":"LA_kwDODf6-U87x5mJH","url":"https://api.github.com/repos/bevyengine/bevy/labels/X-Controversial","name":"X-Controversial","color":"D93F0B","default":false,"description":"There is active debate or serious implications around merging this PR"},{"id":6899571146,"node_id":"LA_kwDODf6-U88AAAABmz8Zyg","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Straightforward","name":"D-Straightforward","color":"008672","default":false,"description":"Simple bug fixes and API improvements, docs, test and examples"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-10-07T16:42:56Z","updated_at":"2025-05-11T02:41:04Z","closed_at":"2025-05-11T02:41:04Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"parent_issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/15459","issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":234798675,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQ3OTg2NzU=","name":"bevy","full_name":"bevyengine/bevy","private":false,"owner":{"login":"bevyengine","id":60047606,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMDQ3NjA2","avatar_url":"https://avatars.githubusercontent.com/u/60047606?v=4","gravatar_id":"","url":"https://api.github.com/users/bevyengine","html_url":"https://github.com/bevyengine","followers_url":"https://api.github.com/users/bevyengine/followers","following_url":"https://api.github.com/users/bevyengine/following{/other_user}","gists_url":"https://api.github.com/users/bevyengine/gists{/gist_id}","starred_url":"https://api.github.com/users/bevyengine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bevyengine/subscriptions","organizations_url":"https://api.github.com/users/bevyengine/orgs","repos_url":"https://api.github.com/users/bevyengine/repos","events_url":"https://api.github.com/users/bevyengine/events{/privacy}","received_events_url":"https://api.github.com/users/bevyengine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bevyengine/bevy","description":"A refreshingly simple data-driven game engine built in Rust","fork":false,"url":"https://api.github.com/repos/bevyengine/bevy","forks_url":"https://api.github.com/repos/bevyengine/bevy/forks","keys_url":"https://api.github.com/repos/bevyengine/bevy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bevyengine/bevy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bevyengine/bevy/teams","hooks_url":"https://api.github.com/repos/bevyengine/bevy/hooks","issue_events_url":"https://api.github.com/repos/bevyengine/bevy/issues/events{/number}","events_url":"https://api.github.com/repos/bevyengine/bevy/events","assignees_url":"https://api.github.com/repos/bevyengine/bevy/assignees{/user}","branches_url":"https://api.github.com/repos/bevyengine/bevy/branches{/branch}","tags_url":"https://api.github.com/repos/bevyengine/bevy/tags","blobs_url":"https://api.github.com/repos/bevyengine/bevy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bevyengine/bevy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bevyengine/bevy/git/refs{/sha}","trees_url":"https://api.github.com/repos/bevyengine/bevy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bevyengine/bevy/statuses/{sha}","languages_url":"https://api.github.com/repos/bevyengine/bevy/languages","stargazers_url":"https://api.github.com/repos/bevyengine/bevy/stargazers","contributors_url":"https://api.github.com/repos/bevyengine/bevy/contributors","subscribers_url":"https://api.github.com/repos/bevyengine/bevy/subscribers","subscription_url":"https://api.github.com/repos/bevyengine/bevy/subscription","commits_url":"https://api.github.com/repos/bevyengine/bevy/commits{/sha}","git_commits_url":"https://api.github.com/repos/bevyengine/bevy/git/commits{/sha}","comments_url":"https://api.github.com/repos/bevyengine/bevy/comments{/number}","issue_comment_url":"https://api.github.com/repos/bevyengine/bevy/issues/comments{/number}","contents_url":"https://api.github.com/repos/bevyengine/bevy/contents/{+path}","compare_url":"https://api.github.com/repos/bevyengine/bevy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bevyengine/bevy/merges","archive_url":"https://api.github.com/repos/bevyengine/bevy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bevyengine/bevy/downloads","issues_url":"https://api.github.com/repos/bevyengine/bevy/issues{/number}","pulls_url":"https://api.github.com/repos/bevyengine/bevy/pulls{/number}","milestones_url":"https://api.github.com/repos/bevyengine/bevy/milestones{/number}","notifications_url":"https://api.github.com/repos/bevyengine/bevy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bevyengine/bevy/labels{/name}","releases_url":"https://api.github.com/repos/bevyengine/bevy/releases{/id}","deployments_url":"https://api.github.com/repos/bevyengine/bevy/deployments","created_at":"2020-01-18T21:13:55Z","updated_at":"2025-11-10T00:30:24Z","pushed_at":"2025-11-09T20:05:46Z","git_url":"git://github.com/bevyengine/bevy.git","ssh_url":"git@github.com:bevyengine/bevy.git","clone_url":"https://github.com/bevyengine/bevy.git","svn_url":"https://github.com/bevyengine/bevy","homepage":"https://bevy.org","size":152673,"stargazers_count":42996,"watchers_count":42996,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":4220,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3116,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bevy","game-development","game-engine","gamedev","open-source","rust"],"visibility":"public","forks":4220,"open_issues":3116,"watchers":42996,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Just like in #15459 / #15652 for `get_or_spawn`, `insert_or_spawn_batch` is an anti-pattern: it uses entity IDs in a non-opaque way, attempting to assign specific meaning to certain entities. With the retained rendering world in place, we should remove it to discourage this pattern and enforce the ECS invariants more strongly.\n\n#15702 should be merged first, to ensure that the migration path for the non-footgunny part of this API is smooth.","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/15704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/15704/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2686053118","html_url":"https://github.com/bevyengine/bevy/issues/18054#issuecomment-2686053118","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/18054","id":2686053118,"node_id":"IC_kwDODf6-U86gGer-","user":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-26T19:54:57Z","updated_at":"2025-02-26T19:54:57Z","body":">  Long-term, I think we should just remove this functionality completely.\n\n100% agree here. IDK where alloc_at would really be necessary. I'll get some benchmarks in shortly and defer to you for the solution.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2686053118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16486012803,"node_id":"SE_lADODf6-U86r0PCtzwAAAAPWpJeD","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16486012803","actor":{"login":"brianreavis","id":118480,"node_id":"MDQ6VXNlcjExODQ4MA==","avatar_url":"https://avatars.githubusercontent.com/u/118480?v=4","gravatar_id":"","url":"https://api.github.com/users/brianreavis","html_url":"https://github.com/brianreavis","followers_url":"https://api.github.com/users/brianreavis/followers","following_url":"https://api.github.com/users/brianreavis/following{/other_user}","gists_url":"https://api.github.com/users/brianreavis/gists{/gist_id}","starred_url":"https://api.github.com/users/brianreavis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianreavis/subscriptions","organizations_url":"https://api.github.com/users/brianreavis/orgs","repos_url":"https://api.github.com/users/brianreavis/repos","events_url":"https://api.github.com/users/brianreavis/events{/privacy}","received_events_url":"https://api.github.com/users/brianreavis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-02-26T19:57:51Z","performed_via_github_app":null},{"id":16486018474,"node_id":"UNLE_lADODf6-U86r0PCtzwAAAAPWpK2q","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16486018474","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2025-02-26T19:58:18Z","label":{"name":"S-Needs-Design","color":"D876E3"},"performed_via_github_app":null},{"id":16486018480,"node_id":"LE_lADODf6-U86r0PCtzwAAAAPWpK2w","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16486018480","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-02-26T19:58:18Z","label":{"name":"S-Ready-For-Implementation","color":"D876E3"},"performed_via_github_app":null},{"id":16486019612,"node_id":"LE_lADODf6-U86r0PCtzwAAAAPWpLIc","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16486019612","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-02-26T19:58:24Z","label":{"name":"X-Controversial","color":"D93F0B"},"performed_via_github_app":null},{"actor":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-26T21:14:10Z","updated_at":"2025-02-26T21:14:10Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/18057","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/18057/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/18057/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/18057/events","html_url":"https://github.com/bevyengine/bevy/pull/18057","id":2882831174,"node_id":"PR_kwDODf6-U86MtaSc","number":18057,"title":"Benches for wave spawning","user":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2197761682,"node_id":"MDU6TGFiZWwyMTk3NzYxNjgy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-ECS","name":"A-ECS","color":"c6a751","default":false,"description":"Entities, components, systems, and events"},{"id":3166152189,"node_id":"MDU6TGFiZWwzMTY2MTUyMTg5","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Needs-Design","name":"S-Needs-Design","color":"D876E3","default":false,"description":"This issue requires design work to think about how it would best be accomplished"},{"id":6392754453,"node_id":"LA_kwDODf6-U88AAAABfQmxFQ","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Benchmarks","name":"C-Benchmarks","color":"b8b8b8","default":false,"description":"Stress tests and benchmarks used to measure how fast things are"},{"id":6899552399,"node_id":"LA_kwDODf6-U88AAAABmz7Qjw","url":"https://api.github.com/repos/bevyengine/bevy/labels/X-Contentious","name":"X-Contentious","color":"D93F0B","default":false,"description":"There are nontrivial implications that should be thought through"},{"id":6899571146,"node_id":"LA_kwDODf6-U88AAAABmz8Zyg","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Straightforward","name":"D-Straightforward","color":"008672","default":false,"description":"Simple bug fixes and API improvements, docs, test and examples"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/bevyengine/bevy/milestones/28","html_url":"https://github.com/bevyengine/bevy/milestone/28","labels_url":"https://api.github.com/repos/bevyengine/bevy/milestones/28/labels","id":11655039,"node_id":"MI_kwDODf6-U84Asdd_","number":28,"title":"0.16","description":"","creator":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":558,"state":"closed","created_at":"2024-09-30T20:15:21Z","updated_at":"2025-04-25T13:01:43Z","due_on":null,"closed_at":"2025-04-25T13:01:43Z"},"comments":2,"created_at":"2025-02-26T21:14:09Z","updated_at":"2025-02-27T21:23:55Z","closed_at":"2025-02-27T21:23:55Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":234798675,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQ3OTg2NzU=","name":"bevy","full_name":"bevyengine/bevy","private":false,"owner":{"login":"bevyengine","id":60047606,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMDQ3NjA2","avatar_url":"https://avatars.githubusercontent.com/u/60047606?v=4","gravatar_id":"","url":"https://api.github.com/users/bevyengine","html_url":"https://github.com/bevyengine","followers_url":"https://api.github.com/users/bevyengine/followers","following_url":"https://api.github.com/users/bevyengine/following{/other_user}","gists_url":"https://api.github.com/users/bevyengine/gists{/gist_id}","starred_url":"https://api.github.com/users/bevyengine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bevyengine/subscriptions","organizations_url":"https://api.github.com/users/bevyengine/orgs","repos_url":"https://api.github.com/users/bevyengine/repos","events_url":"https://api.github.com/users/bevyengine/events{/privacy}","received_events_url":"https://api.github.com/users/bevyengine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bevyengine/bevy","description":"A refreshingly simple data-driven game engine built in Rust","fork":false,"url":"https://api.github.com/repos/bevyengine/bevy","forks_url":"https://api.github.com/repos/bevyengine/bevy/forks","keys_url":"https://api.github.com/repos/bevyengine/bevy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bevyengine/bevy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bevyengine/bevy/teams","hooks_url":"https://api.github.com/repos/bevyengine/bevy/hooks","issue_events_url":"https://api.github.com/repos/bevyengine/bevy/issues/events{/number}","events_url":"https://api.github.com/repos/bevyengine/bevy/events","assignees_url":"https://api.github.com/repos/bevyengine/bevy/assignees{/user}","branches_url":"https://api.github.com/repos/bevyengine/bevy/branches{/branch}","tags_url":"https://api.github.com/repos/bevyengine/bevy/tags","blobs_url":"https://api.github.com/repos/bevyengine/bevy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bevyengine/bevy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bevyengine/bevy/git/refs{/sha}","trees_url":"https://api.github.com/repos/bevyengine/bevy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bevyengine/bevy/statuses/{sha}","languages_url":"https://api.github.com/repos/bevyengine/bevy/languages","stargazers_url":"https://api.github.com/repos/bevyengine/bevy/stargazers","contributors_url":"https://api.github.com/repos/bevyengine/bevy/contributors","subscribers_url":"https://api.github.com/repos/bevyengine/bevy/subscribers","subscription_url":"https://api.github.com/repos/bevyengine/bevy/subscription","commits_url":"https://api.github.com/repos/bevyengine/bevy/commits{/sha}","git_commits_url":"https://api.github.com/repos/bevyengine/bevy/git/commits{/sha}","comments_url":"https://api.github.com/repos/bevyengine/bevy/comments{/number}","issue_comment_url":"https://api.github.com/repos/bevyengine/bevy/issues/comments{/number}","contents_url":"https://api.github.com/repos/bevyengine/bevy/contents/{+path}","compare_url":"https://api.github.com/repos/bevyengine/bevy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bevyengine/bevy/merges","archive_url":"https://api.github.com/repos/bevyengine/bevy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bevyengine/bevy/downloads","issues_url":"https://api.github.com/repos/bevyengine/bevy/issues{/number}","pulls_url":"https://api.github.com/repos/bevyengine/bevy/pulls{/number}","milestones_url":"https://api.github.com/repos/bevyengine/bevy/milestones{/number}","notifications_url":"https://api.github.com/repos/bevyengine/bevy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bevyengine/bevy/labels{/name}","releases_url":"https://api.github.com/repos/bevyengine/bevy/releases{/id}","deployments_url":"https://api.github.com/repos/bevyengine/bevy/deployments","created_at":"2020-01-18T21:13:55Z","updated_at":"2025-11-10T00:30:24Z","pushed_at":"2025-11-09T20:05:46Z","git_url":"git://github.com/bevyengine/bevy.git","ssh_url":"git@github.com:bevyengine/bevy.git","clone_url":"https://github.com/bevyengine/bevy.git","svn_url":"https://github.com/bevyengine/bevy","homepage":"https://bevy.org","size":152673,"stargazers_count":42996,"watchers_count":42996,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":4220,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3116,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bevy","game-development","game-engine","gamedev","open-source","rust"],"visibility":"public","forks":4220,"open_issues":3116,"watchers":42996,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/bevyengine/bevy/pulls/18057","html_url":"https://github.com/bevyengine/bevy/pull/18057","diff_url":"https://github.com/bevyengine/bevy/pull/18057.diff","patch_url":"https://github.com/bevyengine/bevy/pull/18057.patch","merged_at":null},"body":"# Objective\r\n\r\nEstablish benchmarks for waves of entity spawning as discussed in #18054. This does not include (for now) wave insertions, as mere insertions don't affect entity allocation.\r\n\r\n## Solution\r\n\r\nAdd benchmarks for permutations of entity count, wave count, component size, and batch spawning function.\r\n\r\nThe benchmarks do not show much difference in the component size variance, so I would be happy to remove that and decrease complexity if desired.\r\n\r\n## Showcase\r\n\r\nYikes! Here are the results on M2 MAX:\r\n\r\n![Screenshot 2025-02-26 at 4 11 41â€¯PM](https://github.com/user-attachments/assets/0fac948a-b751-447a-a168-3017f3a8514f)\r\n(Ignore the regressions and improvements. That's from testing the benches.)\r\n\r\nHere, I only ran the `EmptyComponent` benches.\r\n\r\nWith only one wave, `spawn_batch` and `insert_or_spawn_batch` both run in roughly 3ms because there are no shenanigans in `Entities` regarding allocation.\r\n\r\nSo if one wave takes 3ms, 2 waves should take 6ms, right? Nope! `spawn_batch` on 2 waves takes 6ms, but `insert_or_spawn_batch` with the infamous `alloc_at_without_replacement` takes **760ms!!**. That's a little more than 6.\r\n\r\nRunning 16 waves was taking too long, but I'll leave it running for a bit so we can get a number. I would estimate ~11 seconds (700ms per wave on average) for `insert_or_spawn_batch`. This implies that the relationship isn't quite linear since the above 2 waves was also 700ms. But this could be memory allocator shenanigans too.\r\n\r\n**EDIT:** It did end up being ~11.5 seconds. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/18057/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/18057/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":16491299394,"node_id":"UNLE_lADODf6-U86r0PCtzwAAAAPW9UJC","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16491299394","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2025-02-27T06:21:29Z","label":{"name":"X-Controversial","color":"D93F0B"},"performed_via_github_app":null},{"id":16491299400,"node_id":"LE_lADODf6-U86r0PCtzwAAAAPW9UJI","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16491299400","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-02-27T06:21:29Z","label":{"name":"X-Contentious","color":"D93F0B"},"performed_via_github_app":null},{"id":16491300367,"node_id":"LE_lADODf6-U86r0PCtzwAAAAPW9UYP","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16491300367","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-02-27T06:21:34Z","label":{"name":"S-Needs-Design","color":"D876E3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2689088899","html_url":"https://github.com/bevyengine/bevy/issues/18054#issuecomment-2689088899","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/18054","id":2689088899,"node_id":"IC_kwDODf6-U86gSD2D","user":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-27T20:54:02Z","updated_at":"2025-02-27T20:54:02Z","body":"I _believe_ that if the use cases in the renderer are removed all current motivating use cases will be gone. However the ability to claim a range of entities that remains invalid until they are made valid _is_ the type of thing that might come up again (and in those cases, being able to \"spawn into\" the entities to make them valid does make sense). That being said, I'm not opposed to removing this now given its general \"weirdness factor\" and performance implications. No need to worry about a future that might never come.\n\nIf we plan on removing support for this, we should also look into some of the \"invalid checks\" in Entities. Iirc we added additional checking to support this scenario, and we might be able to simplify / optimize some things. Worth digging up the PRs that introduced those changes.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2689088899/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2689098804","html_url":"https://github.com/bevyengine/bevy/issues/18054#issuecomment-2689098804","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/18054","id":2689098804,"node_id":"IC_kwDODf6-U86gSGQ0","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-27T20:59:08Z","updated_at":"2025-02-27T20:59:08Z","body":"> However the ability to claim a range of entities that remains invalid until they are made valid is the type of thing that might come up again (and in those cases, being able to \"spawn into\" the entities to make them valid does make sense).\n\nAgreed here: I think that there's a decent chance that we end up wanting this functionality in some form for niche, performance sensitive things. Most of the applications I've seen for entity partitioning seem like they overlap heavily with multi-world scenarios, and given the relative intuitiveness of multi-world I'd prefer to push in that direction for now.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2689098804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2689604077","html_url":"https://github.com/bevyengine/bevy/issues/18054#issuecomment-2689604077","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/18054","id":2689604077,"node_id":"IC_kwDODf6-U86gUBnt","user":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-28T03:04:04Z","updated_at":"2025-02-28T03:04:04Z","body":"> given the relative intuitiveness of multi-world I'd prefer to push in that direction for now.\n\nMusic to my ears. After 0.16, I am curious what y'all would think of #17937 too, but I don't want to get ahead of myself.\n\n> However the ability to claim a range of entities that remains invalid until they are made valid is the type of thing that might come up again.\n\nIf *I* were personally designing this feature from scratch, I would reach for either entity partitioning/multi-world **OR** some system to disable or mark as invalid an entity *without* despawning it. That would keep entity allocation fast and simple and may cut down on archetype changes. Just a thought. \n\nBut like y'all said, we should cross that bridge when/if we come to it. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2689604077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2689617979","html_url":"https://github.com/bevyengine/bevy/issues/18054#issuecomment-2689617979","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/18054","id":2689617979,"node_id":"IC_kwDODf6-U86gUFA7","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-28T03:13:36Z","updated_at":"2025-02-28T03:13:36Z","body":"As a note, we have entity disabling coming in Bevy 0.16, and live on main :)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2689617979/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-03T23:37:25Z","updated_at":"2025-03-03T23:37:25Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/18147","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/18147/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/18147/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/18147/events","html_url":"https://github.com/bevyengine/bevy/pull/18147","id":2892561088,"node_id":"PR_kwDODf6-U86NOQcO","number":18147,"title":"Deprecate `insert_or_spawn` function family","user":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2197761682,"node_id":"MDU6TGFiZWwyMTk3NzYxNjgy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-ECS","name":"A-ECS","color":"c6a751","default":false,"description":"Entities, components, systems, and events"},{"id":2272098452,"node_id":"MDU6TGFiZWwyMjcyMDk4NDUy","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Performance","name":"C-Performance","color":"B8B8B8","default":false,"description":"A change motivated by improving speed, memory usage or compile times"},{"id":2747857990,"node_id":"MDU6TGFiZWwyNzQ3ODU3OTkw","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Usability","name":"C-Usability","color":"b8b8b8","default":false,"description":"A targeted quality-of-life change that makes Bevy easier to use"},{"id":2747865511,"node_id":"MDU6TGFiZWwyNzQ3ODY1NTEx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Ready-For-Final-Review","name":"S-Ready-For-Final-Review","color":"D876E3","default":false,"description":"This PR has been approved by the community. It's ready for a maintainer to consider merging it"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/bevyengine/bevy/milestones/28","html_url":"https://github.com/bevyengine/bevy/milestone/28","labels_url":"https://api.github.com/repos/bevyengine/bevy/milestones/28/labels","id":11655039,"node_id":"MI_kwDODf6-U84Asdd_","number":28,"title":"0.16","description":"","creator":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":558,"state":"closed","created_at":"2024-09-30T20:15:21Z","updated_at":"2025-04-25T13:01:43Z","due_on":null,"closed_at":"2025-04-25T13:01:43Z"},"comments":3,"created_at":"2025-03-03T23:37:24Z","updated_at":"2025-03-06T17:23:15Z","closed_at":"2025-03-06T17:23:15Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":234798675,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQ3OTg2NzU=","name":"bevy","full_name":"bevyengine/bevy","private":false,"owner":{"login":"bevyengine","id":60047606,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMDQ3NjA2","avatar_url":"https://avatars.githubusercontent.com/u/60047606?v=4","gravatar_id":"","url":"https://api.github.com/users/bevyengine","html_url":"https://github.com/bevyengine","followers_url":"https://api.github.com/users/bevyengine/followers","following_url":"https://api.github.com/users/bevyengine/following{/other_user}","gists_url":"https://api.github.com/users/bevyengine/gists{/gist_id}","starred_url":"https://api.github.com/users/bevyengine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bevyengine/subscriptions","organizations_url":"https://api.github.com/users/bevyengine/orgs","repos_url":"https://api.github.com/users/bevyengine/repos","events_url":"https://api.github.com/users/bevyengine/events{/privacy}","received_events_url":"https://api.github.com/users/bevyengine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bevyengine/bevy","description":"A refreshingly simple data-driven game engine built in Rust","fork":false,"url":"https://api.github.com/repos/bevyengine/bevy","forks_url":"https://api.github.com/repos/bevyengine/bevy/forks","keys_url":"https://api.github.com/repos/bevyengine/bevy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bevyengine/bevy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bevyengine/bevy/teams","hooks_url":"https://api.github.com/repos/bevyengine/bevy/hooks","issue_events_url":"https://api.github.com/repos/bevyengine/bevy/issues/events{/number}","events_url":"https://api.github.com/repos/bevyengine/bevy/events","assignees_url":"https://api.github.com/repos/bevyengine/bevy/assignees{/user}","branches_url":"https://api.github.com/repos/bevyengine/bevy/branches{/branch}","tags_url":"https://api.github.com/repos/bevyengine/bevy/tags","blobs_url":"https://api.github.com/repos/bevyengine/bevy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bevyengine/bevy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bevyengine/bevy/git/refs{/sha}","trees_url":"https://api.github.com/repos/bevyengine/bevy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bevyengine/bevy/statuses/{sha}","languages_url":"https://api.github.com/repos/bevyengine/bevy/languages","stargazers_url":"https://api.github.com/repos/bevyengine/bevy/stargazers","contributors_url":"https://api.github.com/repos/bevyengine/bevy/contributors","subscribers_url":"https://api.github.com/repos/bevyengine/bevy/subscribers","subscription_url":"https://api.github.com/repos/bevyengine/bevy/subscription","commits_url":"https://api.github.com/repos/bevyengine/bevy/commits{/sha}","git_commits_url":"https://api.github.com/repos/bevyengine/bevy/git/commits{/sha}","comments_url":"https://api.github.com/repos/bevyengine/bevy/comments{/number}","issue_comment_url":"https://api.github.com/repos/bevyengine/bevy/issues/comments{/number}","contents_url":"https://api.github.com/repos/bevyengine/bevy/contents/{+path}","compare_url":"https://api.github.com/repos/bevyengine/bevy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bevyengine/bevy/merges","archive_url":"https://api.github.com/repos/bevyengine/bevy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bevyengine/bevy/downloads","issues_url":"https://api.github.com/repos/bevyengine/bevy/issues{/number}","pulls_url":"https://api.github.com/repos/bevyengine/bevy/pulls{/number}","milestones_url":"https://api.github.com/repos/bevyengine/bevy/milestones{/number}","notifications_url":"https://api.github.com/repos/bevyengine/bevy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bevyengine/bevy/labels{/name}","releases_url":"https://api.github.com/repos/bevyengine/bevy/releases{/id}","deployments_url":"https://api.github.com/repos/bevyengine/bevy/deployments","created_at":"2020-01-18T21:13:55Z","updated_at":"2025-11-10T00:30:24Z","pushed_at":"2025-11-09T20:05:46Z","git_url":"git://github.com/bevyengine/bevy.git","ssh_url":"git@github.com:bevyengine/bevy.git","clone_url":"https://github.com/bevyengine/bevy.git","svn_url":"https://github.com/bevyengine/bevy","homepage":"https://bevy.org","size":152673,"stargazers_count":42996,"watchers_count":42996,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":4220,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3116,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bevy","game-development","game-engine","gamedev","open-source","rust"],"visibility":"public","forks":4220,"open_issues":3116,"watchers":42996,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/bevyengine/bevy/pulls/18147","html_url":"https://github.com/bevyengine/bevy/pull/18147","diff_url":"https://github.com/bevyengine/bevy/pull/18147.diff","patch_url":"https://github.com/bevyengine/bevy/pull/18147.patch","merged_at":"2025-03-06T17:23:15Z"},"body":"# Objective\r\n\r\nBased on #18054, this PR builds on #18035 to deprecate:\r\n\r\n- `Commands::insert_or_spawn_batch`\r\n- `Entities::alloc_at_without_replacement`\r\n- `Entities::alloc_at`\r\n- `World::insert_or_spawn_batch`\r\n- `World::insert_or_spawn_batch_with_caller`\r\n\r\n## Testing\r\n\r\nJust deprecation, so no new tests. Note that as of writing #18035 is still under testing and review.\r\n\r\n## Open Questions\r\n\r\n- [x] Should `entity::AllocAtWithoutReplacement` be deprecated? It is internal and only used in `Entities::alloc_at_without_replacement`.  **EDIT:** Now deprecated.\r\n\r\n## Migration Guide\r\n\r\nThe following functions have been deprecated:\r\n\r\n- `Commands::insert_or_spawn_batch`\r\n- `World::insert_or_spawn_batch`\r\n- `World::insert_or_spawn_batch_with_caller`\r\n\r\nThese functions, when used incorrectly, can cause major performance problems and are generally viewed as anti-patterns and foot guns. These are planned to be removed altogether in 0.17.\r\n\r\nInstead of these functions consider doing one of the following:\r\n\r\nOption A) Instead of despawing entities and re-spawning them at a particular id, insert the new `Disabled` component without despawning the entity, and use `try_insert_batch` or `insert_batch` and remove `Disabled` instead of re-spawning it.\r\n\r\nOption B) Instead of giving special meaning to an entity id, simply use `spawn_batch` and ensure entity references are valid when despawning. ","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/18147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/18147/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-03-03T23:59:42Z","updated_at":"2025-03-03T23:59:42Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/18148","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/18148/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/18148/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/18148/events","html_url":"https://github.com/bevyengine/bevy/pull/18148","id":2892586760,"node_id":"PR_kwDODf6-U86NOWBX","number":18148,"title":"Remove `insert_or_spawn` function family","user":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2197761682,"node_id":"MDU6TGFiZWwyMTk3NzYxNjgy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-ECS","name":"A-ECS","color":"c6a751","default":false,"description":"Entities, components, systems, and events"},{"id":2287994822,"node_id":"MDU6TGFiZWwyMjg3OTk0ODIy","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Code-Quality","name":"C-Code-Quality","color":"B8B8B8","default":false,"description":"A section of code that is hard to understand or change"},{"id":2747857990,"node_id":"MDU6TGFiZWwyNzQ3ODU3OTkw","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Usability","name":"C-Usability","color":"b8b8b8","default":false,"description":"A targeted quality-of-life change that makes Bevy easier to use"},{"id":2747865511,"node_id":"MDU6TGFiZWwyNzQ3ODY1NTEx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Ready-For-Final-Review","name":"S-Ready-For-Final-Review","color":"D876E3","default":false,"description":"This PR has been approved by the community. It's ready for a maintainer to consider merging it"},{"id":3166133948,"node_id":"MDU6TGFiZWwzMTY2MTMzOTQ4","url":"https://api.github.com/repos/bevyengine/bevy/labels/M-Migration-Guide","name":"M-Migration-Guide","color":"006B75","default":false,"description":"A breaking change to Bevy's public API that needs to be noted in a migration guide"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/bevyengine/bevy/milestones/32","html_url":"https://github.com/bevyengine/bevy/milestone/32","labels_url":"https://api.github.com/repos/bevyengine/bevy/milestones/32/labels","id":12377016,"node_id":"MI_kwDODf6-U84AvNu4","number":32,"title":"0.17","description":"","creator":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":584,"state":"closed","created_at":"2025-02-24T21:56:04Z","updated_at":"2025-09-30T22:33:43Z","due_on":null,"closed_at":"2025-09-30T22:33:43Z"},"comments":5,"created_at":"2025-03-03T23:59:41Z","updated_at":"2025-05-05T23:35:02Z","closed_at":"2025-05-05T23:35:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":234798675,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQ3OTg2NzU=","name":"bevy","full_name":"bevyengine/bevy","private":false,"owner":{"login":"bevyengine","id":60047606,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMDQ3NjA2","avatar_url":"https://avatars.githubusercontent.com/u/60047606?v=4","gravatar_id":"","url":"https://api.github.com/users/bevyengine","html_url":"https://github.com/bevyengine","followers_url":"https://api.github.com/users/bevyengine/followers","following_url":"https://api.github.com/users/bevyengine/following{/other_user}","gists_url":"https://api.github.com/users/bevyengine/gists{/gist_id}","starred_url":"https://api.github.com/users/bevyengine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bevyengine/subscriptions","organizations_url":"https://api.github.com/users/bevyengine/orgs","repos_url":"https://api.github.com/users/bevyengine/repos","events_url":"https://api.github.com/users/bevyengine/events{/privacy}","received_events_url":"https://api.github.com/users/bevyengine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bevyengine/bevy","description":"A refreshingly simple data-driven game engine built in Rust","fork":false,"url":"https://api.github.com/repos/bevyengine/bevy","forks_url":"https://api.github.com/repos/bevyengine/bevy/forks","keys_url":"https://api.github.com/repos/bevyengine/bevy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bevyengine/bevy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bevyengine/bevy/teams","hooks_url":"https://api.github.com/repos/bevyengine/bevy/hooks","issue_events_url":"https://api.github.com/repos/bevyengine/bevy/issues/events{/number}","events_url":"https://api.github.com/repos/bevyengine/bevy/events","assignees_url":"https://api.github.com/repos/bevyengine/bevy/assignees{/user}","branches_url":"https://api.github.com/repos/bevyengine/bevy/branches{/branch}","tags_url":"https://api.github.com/repos/bevyengine/bevy/tags","blobs_url":"https://api.github.com/repos/bevyengine/bevy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bevyengine/bevy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bevyengine/bevy/git/refs{/sha}","trees_url":"https://api.github.com/repos/bevyengine/bevy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bevyengine/bevy/statuses/{sha}","languages_url":"https://api.github.com/repos/bevyengine/bevy/languages","stargazers_url":"https://api.github.com/repos/bevyengine/bevy/stargazers","contributors_url":"https://api.github.com/repos/bevyengine/bevy/contributors","subscribers_url":"https://api.github.com/repos/bevyengine/bevy/subscribers","subscription_url":"https://api.github.com/repos/bevyengine/bevy/subscription","commits_url":"https://api.github.com/repos/bevyengine/bevy/commits{/sha}","git_commits_url":"https://api.github.com/repos/bevyengine/bevy/git/commits{/sha}","comments_url":"https://api.github.com/repos/bevyengine/bevy/comments{/number}","issue_comment_url":"https://api.github.com/repos/bevyengine/bevy/issues/comments{/number}","contents_url":"https://api.github.com/repos/bevyengine/bevy/contents/{+path}","compare_url":"https://api.github.com/repos/bevyengine/bevy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bevyengine/bevy/merges","archive_url":"https://api.github.com/repos/bevyengine/bevy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bevyengine/bevy/downloads","issues_url":"https://api.github.com/repos/bevyengine/bevy/issues{/number}","pulls_url":"https://api.github.com/repos/bevyengine/bevy/pulls{/number}","milestones_url":"https://api.github.com/repos/bevyengine/bevy/milestones{/number}","notifications_url":"https://api.github.com/repos/bevyengine/bevy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bevyengine/bevy/labels{/name}","releases_url":"https://api.github.com/repos/bevyengine/bevy/releases{/id}","deployments_url":"https://api.github.com/repos/bevyengine/bevy/deployments","created_at":"2020-01-18T21:13:55Z","updated_at":"2025-11-10T00:30:24Z","pushed_at":"2025-11-09T20:05:46Z","git_url":"git://github.com/bevyengine/bevy.git","ssh_url":"git@github.com:bevyengine/bevy.git","clone_url":"https://github.com/bevyengine/bevy.git","svn_url":"https://github.com/bevyengine/bevy","homepage":"https://bevy.org","size":152673,"stargazers_count":42996,"watchers_count":42996,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":4220,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3116,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bevy","game-development","game-engine","gamedev","open-source","rust"],"visibility":"public","forks":4220,"open_issues":3116,"watchers":42996,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/bevyengine/bevy/pulls/18148","html_url":"https://github.com/bevyengine/bevy/pull/18148","diff_url":"https://github.com/bevyengine/bevy/pull/18148.diff","patch_url":"https://github.com/bevyengine/bevy/pull/18148.patch","merged_at":"2025-05-05T23:35:02Z"},"body":"# Objective\r\n\r\nBased on and closes #18054, this PR builds on #18035 and #18147 to remove:\r\n\r\n- `Commands::insert_or_spawn_batch`\r\n- `Entities::alloc_at_without_replacement`\r\n- `Entities::alloc_at`\r\n- `entity::AllocAtWithoutReplacement`\r\n- `World::insert_or_spawn_batch`\r\n- `World::insert_or_spawn_batch_with_caller`\r\n\r\n## Testing\r\n\r\nJust removing unused, deprecated code, so no new tests. Note that as of writing, #18035 is still under testing and review.\r\n\r\n## Future Work\r\n\r\nPer [this](https://github.com/bevyengine/bevy/issues/18054#issuecomment-2689088899) comment on #18054, there may be additional performance improvements possible to the entity allocator now that `alloc_at` no longer is supported. At a glance, I don't see anything obvious to improve, but it may be worth further investigation in the future. ","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/18148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/18148/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":16620842985,"node_id":"REFE_lADODf6-U86r0PCtzwAAAAPere_p","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16620842985","actor":{"login":"github-merge-queue[bot]","id":118344674,"node_id":"BOT_kgDOBw3L4g","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github-merge-queue%5Bbot%5D","html_url":"https://github.com/apps/github-merge-queue","followers_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ed7b366b24d7106f4715369eb3516875f915f536","commit_url":"https://api.github.com/repos/bevyengine/bevy/commits/ed7b366b24d7106f4715369eb3516875f915f536","created_at":"2025-03-06T17:23:15Z","performed_via_github_app":null},{"id":17527677821,"node_id":"REFE_lADODf6-U86r0PCtzwAAAAQUuyN9","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/17527677821","actor":{"login":"github-merge-queue[bot]","id":118344674,"node_id":"BOT_kgDOBw3L4g","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github-merge-queue%5Bbot%5D","html_url":"https://github.com/apps/github-merge-queue","followers_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"bfc76c589eb6b3a6f94d3907a0e915e1fc29e7d4","commit_url":"https://api.github.com/repos/bevyengine/bevy/commits/bfc76c589eb6b3a6f94d3907a0e915e1fc29e7d4","created_at":"2025-05-05T23:35:02Z","performed_via_github_app":null},{"id":17527678014,"node_id":"CE_lADODf6-U86r0PCtzwAAAAQUuyQ-","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/17527678014","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-05-05T23:35:03Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2868855637","html_url":"https://github.com/bevyengine/bevy/issues/18054#issuecomment-2868855637","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/18054","id":2868855637,"node_id":"IC_kwDODf6-U86q_0NV","user":{"login":"caspark","id":931544,"node_id":"MDQ6VXNlcjkzMTU0NA==","avatar_url":"https://avatars.githubusercontent.com/u/931544?v=4","gravatar_id":"","url":"https://api.github.com/users/caspark","html_url":"https://github.com/caspark","followers_url":"https://api.github.com/users/caspark/followers","following_url":"https://api.github.com/users/caspark/following{/other_user}","gists_url":"https://api.github.com/users/caspark/gists{/gist_id}","starred_url":"https://api.github.com/users/caspark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caspark/subscriptions","organizations_url":"https://api.github.com/users/caspark/orgs","repos_url":"https://api.github.com/users/caspark/repos","events_url":"https://api.github.com/users/caspark/events{/privacy}","received_events_url":"https://api.github.com/users/caspark/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-10T13:33:26Z","updated_at":"2025-05-10T13:33:26Z","body":"I realize that these functions have been removed in main (as part of 0.17 work for #15704?), but for completeness and since there's an existing use case for them that we're discussing over at #16559...\n\nOne more \"Alternative\" is this:\n\n* `Entities::alloc_at_without_replacement()` needs to be called once per entity that `World::insert_or_spawn_batch()` wants to insert/spawn on - which we can maybe reasonably expect will be dealing with a not-small amount of entities?\n* So `insert_or_spawn_batch()` can ask `Entities` to precalculate which ids are in the pending list (e.g. it might build a hashset of all pending ids) and pass that in to `alloc_at_without_replacement()`. Now there's only a single linear scan through the pending list for each batch inserted - at the cost of a (likely smallish) allocation - instead of a scan once per entity - so the work is amortized.\n* Could take this further by hoisting that precalculated state out of `insert_or_spawn_batch()`, so that even multiple  calls to `insert_or_spawn_batch()` can benefit from the one linear scan to precalculate which entity ids are in the pending list (appropriately caveated w.r.t. it being invalid to reserve or spawn new entities and then reuse the precalculated results). Usually you'd want to do several insert_or_spawn_batch() calls anyway, I'd expect. And as a bonus, requiring the caller to do that explicitly makes it very clear that there's a performance cost to using the insert_or_spawn_batch() API - so maybe this is actually just better overall.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2868855637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"caspark","id":931544,"node_id":"MDQ6VXNlcjkzMTU0NA==","avatar_url":"https://avatars.githubusercontent.com/u/931544?v=4","gravatar_id":"","url":"https://api.github.com/users/caspark","html_url":"https://github.com/caspark","followers_url":"https://api.github.com/users/caspark/followers","following_url":"https://api.github.com/users/caspark/following{/other_user}","gists_url":"https://api.github.com/users/caspark/gists{/gist_id}","starred_url":"https://api.github.com/users/caspark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caspark/subscriptions","organizations_url":"https://api.github.com/users/caspark/orgs","repos_url":"https://api.github.com/users/caspark/repos","events_url":"https://api.github.com/users/caspark/events{/privacy}","received_events_url":"https://api.github.com/users/caspark/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2868942002","html_url":"https://github.com/bevyengine/bevy/issues/18054#issuecomment-2868942002","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/18054","id":2868942002,"node_id":"IC_kwDODf6-U86rAJSy","user":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-10T14:50:19Z","updated_at":"2025-05-10T14:50:19Z","body":"@caspark, this is very interesting.\n\nI don't want to speak too soon since the entire `Entities` system is under a lot of change ATM to facilitate remote reservation for assets as entities (see #18670). \n\nBut, This new allocator decouples an `Entity` id being allocated from it being spawned. It's perfectly fine to allocate an id and never set it's location. It's fine to reserve an id, adding it to the pending list, and then set it's location early (it won't be flushed twice). It sounds like we could replicate the behavior of the old `insert_or_spawn_batch` with no linear searches at all and no additional data structures. If the entity exists, insert it; if it is in the pending list (ie, the location is not set), set it's location early, otherwise, spawn a new one.\n\nI will add this to my list to look into after we figure out #18670. I do still think `insert_or_spawn_batch` should be considered an anti-pattern, but it does make some sense to use for cloning worlds, etc.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2868942002/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ElliottjPierce","id":79881080,"node_id":"MDQ6VXNlcjc5ODgxMDgw","avatar_url":"https://avatars.githubusercontent.com/u/79881080?v=4","gravatar_id":"","url":"https://api.github.com/users/ElliottjPierce","html_url":"https://github.com/ElliottjPierce","followers_url":"https://api.github.com/users/ElliottjPierce/followers","following_url":"https://api.github.com/users/ElliottjPierce/following{/other_user}","gists_url":"https://api.github.com/users/ElliottjPierce/gists{/gist_id}","starred_url":"https://api.github.com/users/ElliottjPierce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ElliottjPierce/subscriptions","organizations_url":"https://api.github.com/users/ElliottjPierce/orgs","repos_url":"https://api.github.com/users/ElliottjPierce/repos","events_url":"https://api.github.com/users/ElliottjPierce/events{/privacy}","received_events_url":"https://api.github.com/users/ElliottjPierce/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":17602421253,"node_id":"MEE_lADODf6-U86r0PCtzwAAAAQZL6IF","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/17602421253","actor":{"login":"caspark","id":931544,"node_id":"MDQ6VXNlcjkzMTU0NA==","avatar_url":"https://avatars.githubusercontent.com/u/931544?v=4","gravatar_id":"","url":"https://api.github.com/users/caspark","html_url":"https://github.com/caspark","followers_url":"https://api.github.com/users/caspark/followers","following_url":"https://api.github.com/users/caspark/following{/other_user}","gists_url":"https://api.github.com/users/caspark/gists{/gist_id}","starred_url":"https://api.github.com/users/caspark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caspark/subscriptions","organizations_url":"https://api.github.com/users/caspark/orgs","repos_url":"https://api.github.com/users/caspark/repos","events_url":"https://api.github.com/users/caspark/events{/privacy}","received_events_url":"https://api.github.com/users/caspark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-05-10T14:50:21Z","performed_via_github_app":null},{"id":17602421257,"node_id":"SE_lADODf6-U86r0PCtzwAAAAQZL6IJ","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/17602421257","actor":{"login":"caspark","id":931544,"node_id":"MDQ6VXNlcjkzMTU0NA==","avatar_url":"https://avatars.githubusercontent.com/u/931544?v=4","gravatar_id":"","url":"https://api.github.com/users/caspark","html_url":"https://github.com/caspark","followers_url":"https://api.github.com/users/caspark/followers","following_url":"https://api.github.com/users/caspark/following{/other_user}","gists_url":"https://api.github.com/users/caspark/gists{/gist_id}","starred_url":"https://api.github.com/users/caspark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caspark/subscriptions","organizations_url":"https://api.github.com/users/caspark/orgs","repos_url":"https://api.github.com/users/caspark/repos","events_url":"https://api.github.com/users/caspark/events{/privacy}","received_events_url":"https://api.github.com/users/caspark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-05-10T14:50:21Z","performed_via_github_app":null}]