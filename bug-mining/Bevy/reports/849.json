{"url":"https://api.github.com/repos/bevyengine/bevy/issues/19029","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/19029/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/19029/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/19029/events","html_url":"https://github.com/bevyengine/bevy/issues/19029","id":3036227036,"node_id":"I_kwDODf6-U860-SXc","number":19029,"title":"Web Builds hosted on Itch.io return 403 for invalid asset paths rather than 404","user":{"login":"QueenOfSquiggles","id":8940604,"node_id":"MDQ6VXNlcjg5NDA2MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/8940604?v=4","gravatar_id":"","url":"https://api.github.com/users/QueenOfSquiggles","html_url":"https://github.com/QueenOfSquiggles","followers_url":"https://api.github.com/users/QueenOfSquiggles/followers","following_url":"https://api.github.com/users/QueenOfSquiggles/following{/other_user}","gists_url":"https://api.github.com/users/QueenOfSquiggles/gists{/gist_id}","starred_url":"https://api.github.com/users/QueenOfSquiggles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QueenOfSquiggles/subscriptions","organizations_url":"https://api.github.com/users/QueenOfSquiggles/orgs","repos_url":"https://api.github.com/users/QueenOfSquiggles/repos","events_url":"https://api.github.com/users/QueenOfSquiggles/events{/privacy}","received_events_url":"https://api.github.com/users/QueenOfSquiggles/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619323,"node_id":"MDU6TGFiZWwxNzk1NjE5MzIz","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Bug","name":"C-Bug","color":"d73a4a","default":false,"description":"An unexpected or incorrect behavior"},{"id":2272055462,"node_id":"MDU6TGFiZWwyMjcyMDU1NDYy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Assets","name":"A-Assets","color":"c6a751","default":false,"description":"Load files from disk to use for things like images, models, and sounds"},{"id":3166152189,"node_id":"MDU6TGFiZWwzMTY2MTUyMTg5","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Needs-Design","name":"S-Needs-Design","color":"D876E3","default":false,"description":"This issue requires design work to think about how it would best be accomplished"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-05-02T14:55:21Z","updated_at":"2025-05-30T20:58:16Z","closed_at":"2025-05-30T20:58:16Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Bevy version\n\nThe release number or commit hash of the version you're using.\n\n0.15.3 (appears to still affect 0.16 though)\n\n## What you did\n\n*Found the code* \n\nhttps://github.com/bevyengine/bevy/blob/cd67bac544a874f668c706b837c8b3093dfb9545/crates/bevy_asset/src/io/wasm.rs#L84C1-L84C58\n\nIn asset loading there are two hardcoded response codes supported. And this is where some of my knowledge may be lacking, but AFAIK 4XX responses are the server saying \"Nope you can't touch that\" for whatever reason. Could this be improved by accounting for any 4XX response as a file load failure?  \n\nI believe this robustness could aid newer developers from more common pitfalls. I've spent literal weeks trying to figure out why I kept getting issues on web and a primary issue was the meta check defaulting to on and Itch.io providing a `403` when bevy would expect a `404` \n\n## Proposed Solution\n\n```rust\n match resp.status() {\n            200 => {\n                let data = JsFuture::from(resp.array_buffer().unwrap()).await.unwrap();\n                let bytes = Uint8Array::new(&data).to_vec();\n                let reader = VecReader::new(bytes);\n                Ok(reader)\n            }\n            400 ..=499  => Err(AssetReaderError::NotFound(path)),\n            status => Err(AssetReaderError::HttpError(status)),\n        }\n```\n\nAgain likely a bit of naivety on my end, but I imagine all the application really cares about is whether or not the asset can be accessed. \n\n","closed_by":{"login":"mockersf","id":8672791,"node_id":"MDQ6VXNlcjg2NzI3OTE=","avatar_url":"https://avatars.githubusercontent.com/u/8672791?v=4","gravatar_id":"","url":"https://api.github.com/users/mockersf","html_url":"https://github.com/mockersf","followers_url":"https://api.github.com/users/mockersf/followers","following_url":"https://api.github.com/users/mockersf/following{/other_user}","gists_url":"https://api.github.com/users/mockersf/gists{/gist_id}","starred_url":"https://api.github.com/users/mockersf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockersf/subscriptions","organizations_url":"https://api.github.com/users/mockersf/orgs","repos_url":"https://api.github.com/users/mockersf/repos","events_url":"https://api.github.com/users/mockersf/events{/privacy}","received_events_url":"https://api.github.com/users/mockersf/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/19029/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/19029/timeline","performed_via_github_app":null,"state_reason":"completed"}