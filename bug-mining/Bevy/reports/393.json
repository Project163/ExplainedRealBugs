{"url":"https://api.github.com/repos/bevyengine/bevy/issues/15142","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/15142/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/15142/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/15142/events","html_url":"https://github.com/bevyengine/bevy/issues/15142","id":2516195815,"node_id":"I_kwDODf6-U86V-hnn","number":15142,"title":"Border radius is scaled incorrectly","user":{"login":"ickshonpe","id":27962798,"node_id":"MDQ6VXNlcjI3OTYyNzk4","avatar_url":"https://avatars.githubusercontent.com/u/27962798?v=4","gravatar_id":"","url":"https://api.github.com/users/ickshonpe","html_url":"https://github.com/ickshonpe","followers_url":"https://api.github.com/users/ickshonpe/followers","following_url":"https://api.github.com/users/ickshonpe/following{/other_user}","gists_url":"https://api.github.com/users/ickshonpe/gists{/gist_id}","starred_url":"https://api.github.com/users/ickshonpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ickshonpe/subscriptions","organizations_url":"https://api.github.com/users/ickshonpe/orgs","repos_url":"https://api.github.com/users/ickshonpe/repos","events_url":"https://api.github.com/users/ickshonpe/events{/privacy}","received_events_url":"https://api.github.com/users/ickshonpe/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619323,"node_id":"MDU6TGFiZWwxNzk1NjE5MzIz","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Bug","name":"C-Bug","color":"d73a4a","default":false,"description":"An unexpected or incorrect behavior"},{"id":2045383863,"node_id":"MDU6TGFiZWwyMDQ1MzgzODYz","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Rendering","name":"A-Rendering","color":"C6A751","default":false,"description":"Drawing game state to the screen"},{"id":2276469463,"node_id":"MDU6TGFiZWwyMjc2NDY5NDYz","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-UI","name":"A-UI","color":"c6a751","default":false,"description":"Graphical user interfaces, styles, layouts, and widgets"},{"id":3166151441,"node_id":"MDU6TGFiZWwzMTY2MTUxNDQx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Ready-For-Implementation","name":"S-Ready-For-Implementation","color":"D876E3","default":false,"description":"This issue is ready for an implementation PR. Go for it!"}],"state":"closed","locked":false,"assignee":{"login":"ickshonpe","id":27962798,"node_id":"MDQ6VXNlcjI3OTYyNzk4","avatar_url":"https://avatars.githubusercontent.com/u/27962798?v=4","gravatar_id":"","url":"https://api.github.com/users/ickshonpe","html_url":"https://github.com/ickshonpe","followers_url":"https://api.github.com/users/ickshonpe/followers","following_url":"https://api.github.com/users/ickshonpe/following{/other_user}","gists_url":"https://api.github.com/users/ickshonpe/gists{/gist_id}","starred_url":"https://api.github.com/users/ickshonpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ickshonpe/subscriptions","organizations_url":"https://api.github.com/users/ickshonpe/orgs","repos_url":"https://api.github.com/users/ickshonpe/repos","events_url":"https://api.github.com/users/ickshonpe/events{/privacy}","received_events_url":"https://api.github.com/users/ickshonpe/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"ickshonpe","id":27962798,"node_id":"MDQ6VXNlcjI3OTYyNzk4","avatar_url":"https://avatars.githubusercontent.com/u/27962798?v=4","gravatar_id":"","url":"https://api.github.com/users/ickshonpe","html_url":"https://github.com/ickshonpe","followers_url":"https://api.github.com/users/ickshonpe/followers","following_url":"https://api.github.com/users/ickshonpe/following{/other_user}","gists_url":"https://api.github.com/users/ickshonpe/gists{/gist_id}","starred_url":"https://api.github.com/users/ickshonpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ickshonpe/subscriptions","organizations_url":"https://api.github.com/users/ickshonpe/orgs","repos_url":"https://api.github.com/users/ickshonpe/repos","events_url":"https://api.github.com/users/ickshonpe/events{/privacy}","received_events_url":"https://api.github.com/users/ickshonpe/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2024-09-10T11:38:05Z","updated_at":"2024-09-13T16:08:25Z","closed_at":"2024-09-13T16:08:25Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Bevy version\r\n\r\nmain\r\n\r\n## What you did\r\n\r\nModified button example:\r\n\r\n```rust\r\nuse bevy::{color::palettes::basic::*, prelude::*, winit::WinitSettings};\r\n\r\nfn main() {\r\n    App::new()\r\n        .add_plugins(DefaultPlugins)\r\n        // Only run the app when there is user input. This will significantly reduce CPU/GPU use.\r\n        .insert_resource(UiScale(2.))\r\n        .insert_resource(WinitSettings::desktop_app())\r\n        .add_systems(Startup, setup)\r\n        .add_systems(Update, button_system)\r\n        .run();\r\n}\r\n\r\nconst NORMAL_BUTTON: Color = Color::srgb(0.15, 0.15, 0.15);\r\nconst HOVERED_BUTTON: Color = Color::srgb(0.25, 0.25, 0.25);\r\nconst PRESSED_BUTTON: Color = Color::srgb(0.35, 0.75, 0.35);\r\n\r\nfn button_system(\r\n    mut interaction_query: Query<\r\n        (\r\n            &Interaction,\r\n            &mut BackgroundColor,\r\n            &mut BorderColor,\r\n            &Children,\r\n        ),\r\n        (Changed<Interaction>, With<Button>),\r\n    >,\r\n    mut text_query: Query<&mut Text>,\r\n) {\r\n    for (interaction, mut color, mut border_color, children) in &mut interaction_query {\r\n        let mut text = text_query.get_mut(children[0]).unwrap();\r\n        match *interaction {\r\n            Interaction::Pressed => {\r\n                text.sections[0].value = \"Press\".to_string();\r\n                *color = PRESSED_BUTTON.into();\r\n                border_color.0 = RED.into();\r\n            }\r\n            Interaction::Hovered => {\r\n                text.sections[0].value = \"Hover\".to_string();\r\n                *color = HOVERED_BUTTON.into();\r\n                border_color.0 = Color::WHITE;\r\n            }\r\n            Interaction::None => {\r\n                text.sections[0].value = \"Button\".to_string();\r\n                *color = NORMAL_BUTTON.into();\r\n                border_color.0 = Color::BLACK;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfn setup(mut commands: Commands, asset_server: Res<AssetServer>) {\r\n    // ui camera\r\n    commands.spawn(Camera2dBundle::default());\r\n    commands\r\n        .spawn(NodeBundle {\r\n            style: Style {\r\n                width: Val::Percent(100.0),\r\n                height: Val::Percent(100.0),\r\n                align_items: AlignItems::Center,\r\n                justify_content: JustifyContent::Center,\r\n                ..default()\r\n            },\r\n            ..default()\r\n        })\r\n        .with_children(|parent| {\r\n            parent\r\n                .spawn(ButtonBundle {\r\n                    style: Style {\r\n                        width: Val::Px(250.0),\r\n                        height: Val::Px(100.0),\r\n                        border: UiRect::all(Val::Px(25.0)),\r\n                        // horizontally center child text\r\n                        justify_content: JustifyContent::Center,\r\n                        // vertically center child text\r\n                        align_items: AlignItems::Center,\r\n                        ..default()\r\n                    },\r\n                    border_color: BorderColor(Color::BLACK),\r\n                    border_radius: BorderRadius::all(Val::Px(25.)),\r\n                    background_color: NORMAL_BUTTON.into(),\r\n                    ..default()\r\n                })\r\n                .with_child(TextBundle::from_section(\r\n                    \"Button\",\r\n                    TextStyle {\r\n                        font: asset_server.load(\"fonts/FiraSans-Bold.ttf\"),\r\n                        font_size: 40.0,\r\n                        color: Color::srgb(0.9, 0.9, 0.9),\r\n                    },\r\n                ));\r\n            parent\r\n                .spawn(NodeBundle {\r\n                    style: Style {\r\n                        width: Val::Px(150.0),\r\n                        padding: UiRect::vertical(Val::Px(25.)),\r\n                        height: Val::Px(100.0),\r\n                        align_items: AlignItems::Stretch,\r\n                        justify_content: JustifyContent::Stretch,\r\n                        ..Default::default()\r\n                    },\r\n                    ..default()\r\n                })\r\n                .with_child(NodeBundle {\r\n                    style: Style {\r\n                        flex_basis: Val::Percent(100.),\r\n                        ..Default::default()\r\n                    },\r\n                    background_color: RED.into(),\r\n                    ..Default::default()\r\n                });\r\n        });\r\n}\r\n```\r\n\r\n## What went wrong\r\n\r\nWith `UiScale(1.)`:\r\n\r\n<img width=\"652\" alt=\"br1\" src=\"https://github.com/user-attachments/assets/b20d853d-f27e-4ad0-ac70-f0f4956e23ee\">\r\n\r\nWith `UiScale(2.)`:\r\n<img width=\"652\" alt=\"br2\" src=\"https://github.com/user-attachments/assets/e6124f07-e522-4514-bd8e-7986ac32890c\">\r\n\r\n","closed_by":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/15142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/15142/timeline","performed_via_github_app":null,"state_reason":"completed"}