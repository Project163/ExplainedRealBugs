{"url":"https://api.github.com/repos/bevyengine/bevy/issues/17945","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/17945/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/17945/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/17945/events","html_url":"https://github.com/bevyengine/bevy/issues/17945","id":2866350545,"node_id":"I_kwDODf6-U86q2QnR","number":17945,"title":"Using OIT and gizmos together panics","user":{"login":"mweatherley","id":2975848,"node_id":"MDQ6VXNlcjI5NzU4NDg=","avatar_url":"https://avatars.githubusercontent.com/u/2975848?v=4","gravatar_id":"","url":"https://api.github.com/users/mweatherley","html_url":"https://github.com/mweatherley","followers_url":"https://api.github.com/users/mweatherley/followers","following_url":"https://api.github.com/users/mweatherley/following{/other_user}","gists_url":"https://api.github.com/users/mweatherley/gists{/gist_id}","starred_url":"https://api.github.com/users/mweatherley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mweatherley/subscriptions","organizations_url":"https://api.github.com/users/mweatherley/orgs","repos_url":"https://api.github.com/users/mweatherley/repos","events_url":"https://api.github.com/users/mweatherley/events{/privacy}","received_events_url":"https://api.github.com/users/mweatherley/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619323,"node_id":"MDU6TGFiZWwxNzk1NjE5MzIz","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Bug","name":"C-Bug","color":"d73a4a","default":false,"description":"An unexpected or incorrect behavior"},{"id":2045383863,"node_id":"MDU6TGFiZWwyMDQ1MzgzODYz","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Rendering","name":"A-Rendering","color":"C6A751","default":false,"description":"Drawing game state to the screen"},{"id":2272057257,"node_id":"MDU6TGFiZWwyMjcyMDU3MjU3","url":"https://api.github.com/repos/bevyengine/bevy/labels/P-Crash","name":"P-Crash","color":"FF7b00","default":false,"description":"A sudden unexpected crash"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-02-20T14:36:35Z","updated_at":"2025-02-24T21:47:15Z","closed_at":"2025-02-24T21:47:14Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Bevy version\n\n0.15.1 and main\n\n## Relevant system information\n\nThis is probably not relevant, but included for posterity.\n\n```\nAdapterInfo { name: \"Apple M4\", vendor: 0, device: 0, device_type: IntegratedGpu, driver: \"\", driver_info: \"\", backend: Metal }\n```\n\n## What you did\n\nUsed OIT and gizmos at the same time. Specifically, rendering gizmos on a camera with `OrderIndependentTransparencySettings` is what causes the problem.\n\n## What went wrong\n\n```\nwgpu error: Validation Error\n\nCaused by:\n  In RenderPass::end\n    In a draw command, kind: Draw\n      The BindGroupLayout with 'mesh_view_layout_oit' label of current set BindGroup with 'mesh_view_bind_group' label at index 0 is not compatible with the corresponding BindGroupLayout with 'mesh_view_layout' label of RenderPipeline with 'LineGizmo 3d Pipeline' label\n        Assigned entry with binding 34 not found in expected bind group layout\n        Assigned entry with binding 35 not found in expected bind group layout\n        Assigned entry with binding 36 not found in expected bind group layout\n```\n\nI'm pretty sure this is just caused by the 3d gizmo pipeline not adjusting its mesh pipeline key when the extracted view has `OrderIndependentTransparencySettings`.\n\nI'm happy to fix this myself :)","closed_by":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/17945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/17945/timeline","performed_via_github_app":null,"state_reason":"completed"}