{"url":"https://api.github.com/repos/bevyengine/bevy/issues/19156","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/19156/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/19156/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/19156/events","html_url":"https://github.com/bevyengine/bevy/issues/19156","id":3053658257,"node_id":"I_kwDODf6-U862AyCR","number":19156,"title":"Unintuitive Tab Navigation Order","user":{"login":"jansenMurphy","id":32967985,"node_id":"MDQ6VXNlcjMyOTY3OTg1","avatar_url":"https://avatars.githubusercontent.com/u/32967985?v=4","gravatar_id":"","url":"https://api.github.com/users/jansenMurphy","html_url":"https://github.com/jansenMurphy","followers_url":"https://api.github.com/users/jansenMurphy/followers","following_url":"https://api.github.com/users/jansenMurphy/following{/other_user}","gists_url":"https://api.github.com/users/jansenMurphy/gists{/gist_id}","starred_url":"https://api.github.com/users/jansenMurphy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jansenMurphy/subscriptions","organizations_url":"https://api.github.com/users/jansenMurphy/orgs","repos_url":"https://api.github.com/users/jansenMurphy/repos","events_url":"https://api.github.com/users/jansenMurphy/events{/privacy}","received_events_url":"https://api.github.com/users/jansenMurphy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619324,"node_id":"MDU6TGFiZWwxNzk1NjE5MzI0","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Docs","name":"C-Docs","color":"B8b8b8","default":false,"description":"An addition or correction to our documentation"},{"id":2276469463,"node_id":"MDU6TGFiZWwyMjc2NDY5NDYz","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-UI","name":"A-UI","color":"c6a751","default":false,"description":"Graphical user interfaces, styles, layouts, and widgets"},{"id":2747857990,"node_id":"MDU6TGFiZWwyNzQ3ODU3OTkw","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Usability","name":"C-Usability","color":"b8b8b8","default":false,"description":"A targeted quality-of-life change that makes Bevy easier to use"},{"id":6899571146,"node_id":"LA_kwDODf6-U88AAAABmz8Zyg","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Straightforward","name":"D-Straightforward","color":"008672","default":false,"description":"Simple bug fixes and API improvements, docs, test and examples"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-05-10T04:23:56Z","updated_at":"2025-05-26T20:00:06Z","closed_at":"2025-05-26T20:00:06Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Bevy version \n\n0.16.0\n\n## What you did\n\n```use bevy::{input_focus::{tab_navigation::{TabGroup, TabIndex, TabNavigationPlugin}, InputDispatchPlugin, InputFocus}, prelude::*};\n\npub fn main(){\n  App::new()\n    .add_plugins((DefaultPlugins, TabNavigationPlugin, InputDispatchPlugin))\n    .add_systems(Startup, setup)\n    .add_systems(Update, focus_system)\n    .run();\n}\n\nfn setup(mut commands: Commands){\n  commands.spawn((Camera::default(), Camera2d, IsDefaultUiCamera));\n  \n  let parent = commands.spawn((\n    Node{\n      display: Display::Flex,\n      row_gap: Val::Px(5.0),\n      column_gap: Val::Px(5.0),\n      ..default()\n    },\n    BackgroundColor(Color::srgb(0.1, 0.1, 0.1))\n  )).id();\n\n  make_grouping(&mut commands, parent, (BackgroundColor(Color::srgb(1.0, 0.0, 0.0)), TabGroup(0)));\n  make_grouping(&mut commands, parent, (BackgroundColor(Color::srgb(0.0, 1.0, 0.0)), TabGroup(1)));\n  make_grouping(&mut commands, parent, (BackgroundColor(Color::srgb(0.0, 0.0, 1.0)), TabGroup(2)));\n}\n\nfn make_grouping(commands: &mut Commands, parent: Entity, bundle: impl Bundle){\n  let parent = commands.spawn((bundle, ChildOf(parent))).id();\n  commands.spawn((Text::new(\"A\"), ChildOf(parent), TabIndex(0)));\n  commands.spawn((Text::new(\"B\"), ChildOf(parent), TabIndex(1)));\n  commands.spawn((Text::new(\"C\"), ChildOf(parent), TabIndex(2)));\n  commands.spawn((Text::new(\"D\"), ChildOf(parent), TabIndex(3)));\n}\n\nfn focus_system(\n  mut commands: Commands,\n  focus: Res<InputFocus>,\n  mut query: Query<Entity, With<Text>>,\n) {\n  if focus.is_changed() {\n      for text in query.iter_mut() {\n          if focus.0 == Some(text) {\n              commands.entity(text).insert(Outline {\n                  color: Color::WHITE,\n                  width: Val::Px(2.0),\n                  offset: Val::Px(2.0),\n              });\n          } else {\n              commands.entity(text).remove::<Outline>();\n          }\n      }\n  }\n}\n```\n\n## What went wrong\n\nIf I have 3 tab groups Red (tab group 0), Green (tab group 1), and Blue (tab group 2), and each of those elements have elements A (tab index 1), B (Tab index 2), C (Tab index 3) and D (Tab index 4). I would expect the tab sequence to be Red_A, Red_B, Red_C, Green_A, etc, but it is actually Red_A, Green_A, Blue_A, Red_B, etc.\n\n![Image](https://github.com/user-attachments/assets/438d0373-205f-4a35-bc2b-39b80e13f7b4)\n\nThis is unintuitive and seems like it would go against precedent set in [the example](https://bevyengine.org/examples/ui-user-interface/tab-navigation/)\nAlso, why would you ever want to flit between tab groups?\n\n## Additional information\n\nWorkaround: use TabIndex(0) and let the entity hierarchy sort everything out.\n\nSorry if there was already a PR for this; I haven't seen it if it's there.\n","closed_by":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/19156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/19156/timeline","performed_via_github_app":null,"state_reason":"completed"}