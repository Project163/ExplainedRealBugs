{"url":"https://api.github.com/repos/bevyengine/bevy/issues/17400","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/17400/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/17400/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/17400/events","html_url":"https://github.com/bevyengine/bevy/issues/17400","id":2792448596,"node_id":"I_kwDODf6-U86mcWJU","number":17400,"title":"UI nodes should ignore `RenderLayers`","user":{"login":"ickshonpe","id":27962798,"node_id":"MDQ6VXNlcjI3OTYyNzk4","avatar_url":"https://avatars.githubusercontent.com/u/27962798?v=4","gravatar_id":"","url":"https://api.github.com/users/ickshonpe","html_url":"https://github.com/ickshonpe","followers_url":"https://api.github.com/users/ickshonpe/followers","following_url":"https://api.github.com/users/ickshonpe/following{/other_user}","gists_url":"https://api.github.com/users/ickshonpe/gists{/gist_id}","starred_url":"https://api.github.com/users/ickshonpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ickshonpe/subscriptions","organizations_url":"https://api.github.com/users/ickshonpe/orgs","repos_url":"https://api.github.com/users/ickshonpe/repos","events_url":"https://api.github.com/users/ickshonpe/events{/privacy}","received_events_url":"https://api.github.com/users/ickshonpe/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619323,"node_id":"MDU6TGFiZWwxNzk1NjE5MzIz","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Bug","name":"C-Bug","color":"d73a4a","default":false,"description":"An unexpected or incorrect behavior"},{"id":2276469463,"node_id":"MDU6TGFiZWwyMjc2NDY5NDYz","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-UI","name":"A-UI","color":"c6a751","default":false,"description":"Graphical user interfaces, styles, layouts, and widgets"},{"id":2914600295,"node_id":"MDU6TGFiZWwyOTE0NjAwMjk1","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Reflection","name":"A-Reflection","color":"c6a751","default":false,"description":"Runtime information about types"},{"id":3166151441,"node_id":"MDU6TGFiZWwzMTY2MTUxNDQx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Ready-For-Implementation","name":"S-Ready-For-Implementation","color":"D876E3","default":false,"description":"This issue is ready for an implementation PR. Go for it!"},{"id":6899571146,"node_id":"LA_kwDODf6-U88AAAABmz8Zyg","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Straightforward","name":"D-Straightforward","color":"008672","default":false,"description":"Simple bug fixes and API improvements, docs, test and examples"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-01-16T11:22:46Z","updated_at":"2025-01-23T05:45:01Z","closed_at":"2025-01-23T05:45:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Bevy version\n\nBevy main\n\n## What you did\n\nAdded `RenderLayers::layer(1)` to the text entities in the `multiple_windows` example.\n\n```rust\n//! Uses two windows to visualize a 3D model from different angles.\n\nuse bevy::{prelude::*, render::camera::RenderTarget, window::WindowRef};\nuse bevy_render::view::RenderLayers;\n\nfn main() {\n    App::new()\n        // By default, a primary window gets spawned by `WindowPlugin`, contained in `DefaultPlugins`\n        .add_plugins(DefaultPlugins)\n        .add_systems(Startup, setup_scene)\n        .run();\n}\n\nfn setup_scene(mut commands: Commands, asset_server: Res<AssetServer>) {\n    // add entities to the world\n    commands.spawn(SceneRoot(\n        asset_server.load(GltfAssetLabel::Scene(0).from_asset(\"models/torus/torus.gltf\")),\n    ));\n    // light\n    commands.spawn((\n        DirectionalLight::default(),\n        Transform::from_xyz(3.0, 3.0, 3.0).looking_at(Vec3::ZERO, Vec3::Y),\n    ));\n\n    let first_window_camera = commands\n        .spawn((\n            Camera3d::default(),\n            Transform::from_xyz(0.0, 0.0, 6.0).looking_at(Vec3::ZERO, Vec3::Y),\n        ))\n        .id();\n\n    // Spawn a second window\n    let second_window = commands\n        .spawn(Window {\n            title: \"Second window\".to_owned(),\n            ..default()\n        })\n        .id();\n\n    let second_window_camera = commands\n        .spawn((\n            Camera3d::default(),\n            Transform::from_xyz(6.0, 0.0, 0.0).looking_at(Vec3::ZERO, Vec3::Y),\n            Camera {\n                target: RenderTarget::Window(WindowRef::Entity(second_window)),\n                ..default()\n            },\n        ))\n        .id();\n\n    let node = Node {\n        position_type: PositionType::Absolute,\n        top: Val::Px(12.0),\n        left: Val::Px(12.0),\n        ..default()\n    };\n\n    commands.spawn((\n        Text::new(\"First window\"),\n        node.clone(),\n        // Since we are using multiple cameras, we need to specify which camera UI should be rendered to\n        TargetCamera(first_window_camera),\n        RenderLayers::layer(1),\n    ));\n\n    commands.spawn((\n        Text::new(\"Second window\"),\n        node,\n        TargetCamera(second_window_camera),\n        RenderLayers::layer(1),\n    ));\n}\n\n```\n\n## What went wrong\n\nThe text labels are not visible. \n\n## Additional information\n\nThe UI doesn't use `Renderlayers` instead you set a target camera using the `TargetCamera` component.\n\nThe example above doesn't seem that terrible. The cameras are using render layer 0, so it makes sense they wouldn't display UI nodes using render layer 1.\n\nBut if you set the second camera to render layer 1 and remove the `TargetCamera` from the second text entity both text nodes are now rendered to camera 1 on top of each other. And if you then remove the second camera, the second text node goes invisible.  Which all seems like nonsense.","closed_by":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/17400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/17400/timeline","performed_via_github_app":null,"state_reason":"completed"}