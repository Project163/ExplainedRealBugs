{"url":"https://api.github.com/repos/bevyengine/bevy/issues/12543","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/12543/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/12543/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/12543/events","html_url":"https://github.com/bevyengine/bevy/issues/12543","id":2190853040,"node_id":"I_kwDODf6-U86ClcOw","number":12543,"title":"`Oklab` and `Laba` color space bounds are incorrect","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619323,"node_id":"MDU6TGFiZWwxNzk1NjE5MzIz","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Bug","name":"C-Bug","color":"d73a4a","default":false,"description":"An unexpected or incorrect behavior"},{"id":1795619324,"node_id":"MDU6TGFiZWwxNzk1NjE5MzI0","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Docs","name":"C-Docs","color":"B8b8b8","default":false,"description":"An addition or correction to our documentation"},{"id":2045383863,"node_id":"MDU6TGFiZWwyMDQ1MzgzODYz","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Rendering","name":"A-Rendering","color":"C6A751","default":false,"description":"Drawing game state to the screen"},{"id":6905405310,"node_id":"LA_kwDODf6-U88AAAABm5gffg","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Color","name":"A-Color","color":"c6A751","default":false,"description":"Color spaces and color math"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/bevyengine/bevy/milestones/20","html_url":"https://github.com/bevyengine/bevy/milestone/20","labels_url":"https://api.github.com/repos/bevyengine/bevy/milestones/20/labels","id":10463467,"node_id":"MI_kwDODf6-U84An6jr","number":20,"title":"0.14","description":"","creator":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":404,"state":"closed","created_at":"2024-01-24T15:23:42Z","updated_at":"2024-07-04T20:09:44Z","due_on":null,"closed_at":"2024-07-04T20:09:44Z"},"comments":5,"created_at":"2024-03-17T20:33:12Z","updated_at":"2024-05-10T13:29:42Z","closed_at":"2024-05-10T13:29:41Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"> This is consistent with the docs for the `a` and `b` fields, but I would argue that the docs are wrong here. In Lab, the `a` and `b` are unbounded and their practical ranges depend on the reference white. Similarly, the lightness is also only lower-bounded by 0, but technically any lightness can be expressed in Lab. Where 100 is defined as reference white, you *can* have brighter colors than your reference, so an upper bound does not make sense.\r\n> \r\n> Some software clamp the a and b values to the `-128..127` range as they would work in signed 8-bit integers, but this is technically clipping the Lab color space (note that [`palette`](https://docs.rs/palette/latest/palette/struct.Lab.html) uses this anyway as their bounds for a and b).\r\n> \r\n> I don't know what sources the documentation used to determine the original ranges of the fields, and it's possible that they actually referred to a variant of Lab; but it stands to reason that the definition for this color type should follow the most generally used variant of the color space (that is, in its full name, `L*a*b* CIE 1976`), in which case the only meaningful bound to check is `lightness > 0`.\r\n> \r\n\r\n_Originally posted by @SolarLiner in https://github.com/bevyengine/bevy/pull/12525#discussion_r1527573500_\r\n            \r\n            \r\n To fix this:\r\n \r\n 1. Update the docs to soften the language on the bounds to something like \"typically within the range of...\", and clarify that these values are not clamped.\r\n 2. Remove the incorrect clamping added in #12525.","closed_by":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/12543/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/12543/timeline","performed_via_github_app":null,"state_reason":"completed"}