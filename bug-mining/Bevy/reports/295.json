{"url":"https://api.github.com/repos/bevyengine/bevy/issues/13915","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/13915/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/13915/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/13915/events","html_url":"https://github.com/bevyengine/bevy/issues/13915","id":2360550452,"node_id":"I_kwDODf6-U86MsyQ0","number":13915,"title":"Add resources for accumulated mouse motion and mouse scroll","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619326,"node_id":"MDU6TGFiZWwxNzk1NjE5MzI2","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Feature","name":"C-Feature","color":"b8b8b8","default":false,"description":"A new feature, making something new possible"},{"id":2272055247,"node_id":"MDU6TGFiZWwyMjcyMDU1MjQ3","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Input","name":"A-Input","color":"C6A751","default":false,"description":"Player input via keyboard, mouse, gamepad, and more"},{"id":3166151441,"node_id":"MDU6TGFiZWwzMTY2MTUxNDQx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Ready-For-Implementation","name":"S-Ready-For-Implementation","color":"D876E3","default":false,"description":"This issue is ready for an implementation PR. Go for it!"},{"id":6899571146,"node_id":"LA_kwDODf6-U88AAAABmz8Zyg","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Straightforward","name":"D-Straightforward","color":"008672","default":false,"description":"Simple bug fixes and API improvements, docs, test and examples"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-06-18T19:28:23Z","updated_at":"2024-07-01T14:42:56Z","closed_at":"2024-07-01T14:42:56Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## What problem does this solve or what need does it fill?\r\n\r\nWhen working with inputs from mice for gameplay purposes, it is very common to want an aggregate view of \"how much did the mouse move this frame?\" or \"how much did the player scroll?\".\r\n\r\nThis is primarily used for controlling camera positions, such as when zooming or panning a map, or when working with \r\n\r\n## What solution would you like?\r\n\r\nAdd two resources, each of which stores a simple `Vec2`: `AccumulatedMouseMotion` and `AccumulatedMouseScroll`. Reset them to zero at the start of each frame in a system, then sum the corresponding events.\r\n\r\n## What alternative(s) have you considered?\r\n\r\nUsers can sum these events themselves, and replicate the code listed above. This is a waste of time / confusing to them, and it's quite possible to get the timing of this wrong, leading to laggy or buggy input data.\r\n\r\nIt's also quite plausible that users (like me, historically) end up doing this computation multiple times across different parts of their app, leading to wasteful and inconsistent results.\r\n\r\n## Additional context\r\n\r\nI needed this functionality in `leafwing-input-manager`, and decided to solve it the right way in https://github.com/Leafwing-Studios/leafwing-input-manager/pull/543. The code associated with the `AccumulatorPlugin` can be ripped out and ported quite directly to `bevy_input`.\r\n\r\n`MouseScroll` is a bit of a wrinkle: there's two possible units that could be sent. Ultimately, for the context of \"gameplay data about what the player's mouse did\", I don't think we care, as long as the same amount of physical motion results in about the same amount of accumulation. We may want to apply some sort of scaling factor to convert, but I'm not familiar enough with this behavior to know how to test it to check.","closed_by":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/13915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/13915/timeline","performed_via_github_app":null,"state_reason":"completed"}