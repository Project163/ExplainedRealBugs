[{"id":18138012154,"node_id":"LE_lADODf6-U867aSfwzwAAAAQ5HBn6","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18138012154","actor":{"login":"janhohenheim","id":9047632,"node_id":"MDQ6VXNlcjkwNDc2MzI=","avatar_url":"https://avatars.githubusercontent.com/u/9047632?v=4","gravatar_id":"","url":"https://api.github.com/users/janhohenheim","html_url":"https://github.com/janhohenheim","followers_url":"https://api.github.com/users/janhohenheim/followers","following_url":"https://api.github.com/users/janhohenheim/following{/other_user}","gists_url":"https://api.github.com/users/janhohenheim/gists{/gist_id}","starred_url":"https://api.github.com/users/janhohenheim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhohenheim/subscriptions","organizations_url":"https://api.github.com/users/janhohenheim/orgs","repos_url":"https://api.github.com/users/janhohenheim/repos","events_url":"https://api.github.com/users/janhohenheim/events{/privacy}","received_events_url":"https://api.github.com/users/janhohenheim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-13T17:23:12Z","label":{"name":"C-Bug","color":"d73a4a"},"performed_via_github_app":null},{"id":18138012189,"node_id":"LE_lADODf6-U867aSfwzwAAAAQ5HBod","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18138012189","actor":{"login":"janhohenheim","id":9047632,"node_id":"MDQ6VXNlcjkwNDc2MzI=","avatar_url":"https://avatars.githubusercontent.com/u/9047632?v=4","gravatar_id":"","url":"https://api.github.com/users/janhohenheim","html_url":"https://github.com/janhohenheim","followers_url":"https://api.github.com/users/janhohenheim/followers","following_url":"https://api.github.com/users/janhohenheim/following{/other_user}","gists_url":"https://api.github.com/users/janhohenheim/gists{/gist_id}","starred_url":"https://api.github.com/users/janhohenheim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhohenheim/subscriptions","organizations_url":"https://api.github.com/users/janhohenheim/orgs","repos_url":"https://api.github.com/users/janhohenheim/repos","events_url":"https://api.github.com/users/janhohenheim/events{/privacy}","received_events_url":"https://api.github.com/users/janhohenheim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-13T17:23:12Z","label":{"name":"S-Needs-Triage","color":"D876e3"},"performed_via_github_app":null},{"id":18138013424,"node_id":"UNLE_lADODf6-U867aSfwzwAAAAQ5HB7w","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18138013424","actor":{"login":"janhohenheim","id":9047632,"node_id":"MDQ6VXNlcjkwNDc2MzI=","avatar_url":"https://avatars.githubusercontent.com/u/9047632?v=4","gravatar_id":"","url":"https://api.github.com/users/janhohenheim","html_url":"https://github.com/janhohenheim","followers_url":"https://api.github.com/users/janhohenheim/followers","following_url":"https://api.github.com/users/janhohenheim/following{/other_user}","gists_url":"https://api.github.com/users/janhohenheim/gists{/gist_id}","starred_url":"https://api.github.com/users/janhohenheim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhohenheim/subscriptions","organizations_url":"https://api.github.com/users/janhohenheim/orgs","repos_url":"https://api.github.com/users/janhohenheim/repos","events_url":"https://api.github.com/users/janhohenheim/events{/privacy}","received_events_url":"https://api.github.com/users/janhohenheim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2025-06-13T17:23:19Z","label":{"name":"S-Needs-Triage","color":"D876e3"},"performed_via_github_app":null},{"id":18138013436,"node_id":"LE_lADODf6-U867aSfwzwAAAAQ5HB78","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18138013436","actor":{"login":"janhohenheim","id":9047632,"node_id":"MDQ6VXNlcjkwNDc2MzI=","avatar_url":"https://avatars.githubusercontent.com/u/9047632?v=4","gravatar_id":"","url":"https://api.github.com/users/janhohenheim","html_url":"https://github.com/janhohenheim","followers_url":"https://api.github.com/users/janhohenheim/followers","following_url":"https://api.github.com/users/janhohenheim/following{/other_user}","gists_url":"https://api.github.com/users/janhohenheim/gists{/gist_id}","starred_url":"https://api.github.com/users/janhohenheim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhohenheim/subscriptions","organizations_url":"https://api.github.com/users/janhohenheim/orgs","repos_url":"https://api.github.com/users/janhohenheim/repos","events_url":"https://api.github.com/users/janhohenheim/events{/privacy}","received_events_url":"https://api.github.com/users/janhohenheim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-13T17:23:19Z","label":{"name":"A-ECS","color":"c6a751"},"performed_via_github_app":null},{"id":18138014065,"node_id":"MIE_lADODf6-U867aSfwzwAAAAQ5HCFx","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18138014065","actor":{"login":"janhohenheim","id":9047632,"node_id":"MDQ6VXNlcjkwNDc2MzI=","avatar_url":"https://avatars.githubusercontent.com/u/9047632?v=4","gravatar_id":"","url":"https://api.github.com/users/janhohenheim","html_url":"https://github.com/janhohenheim","followers_url":"https://api.github.com/users/janhohenheim/followers","following_url":"https://api.github.com/users/janhohenheim/following{/other_user}","gists_url":"https://api.github.com/users/janhohenheim/gists{/gist_id}","starred_url":"https://api.github.com/users/janhohenheim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhohenheim/subscriptions","organizations_url":"https://api.github.com/users/janhohenheim/orgs","repos_url":"https://api.github.com/users/janhohenheim/repos","events_url":"https://api.github.com/users/janhohenheim/events{/privacy}","received_events_url":"https://api.github.com/users/janhohenheim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2025-06-13T17:23:22Z","milestone":{"title":"0.17"},"performed_via_github_app":null},{"id":18138167700,"node_id":"AE_lADODf6-U867aSfwzwAAAAQ5HnmU","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18138167700","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2025-06-13T17:32:18Z","assignee":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":18138168813,"node_id":"ATPVTE_lADODf6-U867aSfwzwAAAAQ5Hn3t","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18138168813","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"added_to_project_v2","commit_id":null,"commit_url":null,"created_at":"2025-06-13T17:32:21Z","performed_via_github_app":null},{"id":18138178486,"node_id":"PVTISC_lADODf6-U867aSfwzwAAAAQ5HqO2","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18138178486","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"project_v2_item_status_changed","commit_id":null,"commit_url":null,"created_at":"2025-06-13T17:32:55Z","performed_via_github_app":null},{"id":18138185863,"node_id":"LE_lADODf6-U867aSfwzwAAAAQ5HsCH","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18138185863","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-13T17:33:10Z","label":{"name":"S-Ready-For-Implementation","color":"D876E3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2972617356","html_url":"https://github.com/bevyengine/bevy/issues/19623#issuecomment-2972617356","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/19623","id":2972617356,"node_id":"IC_kwDODf6-U86xLoqM","user":{"login":"rendaoer","id":46780118,"node_id":"MDQ6VXNlcjQ2NzgwMTE4","avatar_url":"https://avatars.githubusercontent.com/u/46780118?v=4","gravatar_id":"","url":"https://api.github.com/users/rendaoer","html_url":"https://github.com/rendaoer","followers_url":"https://api.github.com/users/rendaoer/followers","following_url":"https://api.github.com/users/rendaoer/following{/other_user}","gists_url":"https://api.github.com/users/rendaoer/gists{/gist_id}","starred_url":"https://api.github.com/users/rendaoer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rendaoer/subscriptions","organizations_url":"https://api.github.com/users/rendaoer/orgs","repos_url":"https://api.github.com/users/rendaoer/repos","events_url":"https://api.github.com/users/rendaoer/events{/privacy}","received_events_url":"https://api.github.com/users/rendaoer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-14T11:09:15Z","updated_at":"2025-06-14T11:09:15Z","body":"Not only that, this problem also occurs under normal despawn. I use the current bevy main.\n```rust\nuse bevy::input::common_conditions::input_just_pressed;\nuse bevy::prelude::*;\n\nfn main() -> AppExit {\n    App::new()\n        .add_plugins(DefaultPlugins)\n        .add_systems(Startup, setup)\n        .add_systems(Update, close.run_if(input_just_pressed(KeyCode::Space)))\n        .run()\n}\n\nfn setup(mut commands: Commands) {\n    commands.spawn(Camera2d);\n\n    commands\n        .spawn((\n            Node {\n                width: Val::Percent(100.0),\n                height: Val::Percent(100.0),\n                justify_content: JustifyContent::Center,\n                align_items: AlignItems::Center,\n                ..default()\n            },\n            Root,\n            BackgroundColor(Srgba::WHITE.into()),\n        ))\n        .with_child((\n            Node {\n                width: Val::Px(100.0),\n                height: Val::Px(100.0),\n                justify_content: JustifyContent::Center,\n                align_items: AlignItems::Center,\n                ..default()\n            },\n            BackgroundColor(Srgba::RED.into()),\n        ))\n        .with_child((\n            Node {\n                width: Val::Px(100.0),\n                height: Val::Px(100.0),\n                justify_content: JustifyContent::Center,\n                align_items: AlignItems::Center,\n                ..default()\n            },\n            BackgroundColor(Srgba::BLUE.into()),\n        ));\n}\n\nfn close(mut commands: Commands, root: Single<Entity, With<Root>>) {\n    commands.entity(root.into_inner()).despawn();\n}\n\n#[derive(Component, Reflect, Debug)]\n#[reflect(Component)]\nstruct Root;\n```\n\n<img width=\"682\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/04e1fa4f-d838-4179-b7a3-ea81b6878f13\" />","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2972617356/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rendaoer","id":46780118,"node_id":"MDQ6VXNlcjQ2NzgwMTE4","avatar_url":"https://avatars.githubusercontent.com/u/46780118?v=4","gravatar_id":"","url":"https://api.github.com/users/rendaoer","html_url":"https://github.com/rendaoer","followers_url":"https://api.github.com/users/rendaoer/followers","following_url":"https://api.github.com/users/rendaoer/following{/other_user}","gists_url":"https://api.github.com/users/rendaoer/gists{/gist_id}","starred_url":"https://api.github.com/users/rendaoer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rendaoer/subscriptions","organizations_url":"https://api.github.com/users/rendaoer/orgs","repos_url":"https://api.github.com/users/rendaoer/repos","events_url":"https://api.github.com/users/rendaoer/events{/privacy}","received_events_url":"https://api.github.com/users/rendaoer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":18158806462,"node_id":"SE_lADODf6-U867aSfwzwAAAAQ6WWW-","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18158806462","actor":{"login":"kp42","id":46754644,"node_id":"MDQ6VXNlcjQ2NzU0NjQ0","avatar_url":"https://avatars.githubusercontent.com/u/46754644?v=4","gravatar_id":"","url":"https://api.github.com/users/kp42","html_url":"https://github.com/kp42","followers_url":"https://api.github.com/users/kp42/followers","following_url":"https://api.github.com/users/kp42/following{/other_user}","gists_url":"https://api.github.com/users/kp42/gists{/gist_id}","starred_url":"https://api.github.com/users/kp42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kp42/subscriptions","organizations_url":"https://api.github.com/users/kp42/orgs","repos_url":"https://api.github.com/users/kp42/repos","events_url":"https://api.github.com/users/kp42/events{/privacy}","received_events_url":"https://api.github.com/users/kp42/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-15T18:56:18Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3130158943","html_url":"https://github.com/bevyengine/bevy/issues/19623#issuecomment-3130158943","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/19623","id":3130158943,"node_id":"IC_kwDODf6-U866km9f","user":{"login":"hukasu","id":7583440,"node_id":"MDQ6VXNlcjc1ODM0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/7583440?v=4","gravatar_id":"","url":"https://api.github.com/users/hukasu","html_url":"https://github.com/hukasu","followers_url":"https://api.github.com/users/hukasu/followers","following_url":"https://api.github.com/users/hukasu/following{/other_user}","gists_url":"https://api.github.com/users/hukasu/gists{/gist_id}","starred_url":"https://api.github.com/users/hukasu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hukasu/subscriptions","organizations_url":"https://api.github.com/users/hukasu/orgs","repos_url":"https://api.github.com/users/hukasu/repos","events_url":"https://api.github.com/users/hukasu/events{/privacy}","received_events_url":"https://api.github.com/users/hukasu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-07-28T23:59:50Z","updated_at":"2025-07-28T23:59:50Z","body":"i posted this on discord today\n```rust\n#[test]\nfn on_replace_despawn() {\n    let mut world = World::new();\n\n    #[derive(Component)]\n    struct T;\n    #[derive(Component)]\n    #[relationship_target(relationship = Rel)]\n    struct RelTar(Vec<Entity>);\n    #[derive(Component)]\n    #[relationship(relationship_target = RelTar)]\n    struct Rel(Entity);\n\n    world.spawn(Observer::new(\n        |trigger: Trigger<OnReplace, T>, mut commands: Commands| {\n            commands\n                .entity(trigger.target())\n                .despawn_related::<RelTar>();\n        },\n    ));\n\n    let id = world.spawn(T).id();\n\n    world.spawn(<Rel as Relationship>::from(id));\n    world.spawn(<Rel as Relationship>::from(id));\n    world.spawn(<Rel as Relationship>::from(id));\n\n    world.despawn(id);\n}\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3130158943/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hukasu","id":7583440,"node_id":"MDQ6VXNlcjc1ODM0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/7583440?v=4","gravatar_id":"","url":"https://api.github.com/users/hukasu","html_url":"https://github.com/hukasu","followers_url":"https://api.github.com/users/hukasu/followers","following_url":"https://api.github.com/users/hukasu/following{/other_user}","gists_url":"https://api.github.com/users/hukasu/gists{/gist_id}","starred_url":"https://api.github.com/users/hukasu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hukasu/subscriptions","organizations_url":"https://api.github.com/users/hukasu/orgs","repos_url":"https://api.github.com/users/hukasu/repos","events_url":"https://api.github.com/users/hukasu/events{/privacy}","received_events_url":"https://api.github.com/users/hukasu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":18866045531,"node_id":"UE_lADODf6-U867aSfwzwAAAARkgQJb","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18866045531","actor":{"login":"rendaoer","id":46780118,"node_id":"MDQ6VXNlcjQ2NzgwMTE4","avatar_url":"https://avatars.githubusercontent.com/u/46780118?v=4","gravatar_id":"","url":"https://api.github.com/users/rendaoer","html_url":"https://github.com/rendaoer","followers_url":"https://api.github.com/users/rendaoer/followers","following_url":"https://api.github.com/users/rendaoer/following{/other_user}","gists_url":"https://api.github.com/users/rendaoer/gists{/gist_id}","starred_url":"https://api.github.com/users/rendaoer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rendaoer/subscriptions","organizations_url":"https://api.github.com/users/rendaoer/orgs","repos_url":"https://api.github.com/users/rendaoer/repos","events_url":"https://api.github.com/users/rendaoer/events{/privacy}","received_events_url":"https://api.github.com/users/rendaoer/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unsubscribed","commit_id":null,"commit_url":null,"created_at":"2025-07-29T00:01:55Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3141420501","html_url":"https://github.com/bevyengine/bevy/issues/19623#issuecomment-3141420501","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/19623","id":3141420501,"node_id":"IC_kwDODf6-U867PkXV","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-07-31T21:40:11Z","updated_at":"2025-07-31T21:49:32Z","body":"Experimenting with this, the problem might be that the observer system is returning an error when called on a non-existent entity. Changing the error handler causes the test to pass.\n\nInstead, it should be skipped.\n\nEDIT: looking at the logs and code more closely, the problem is actually that the despawn_related commands are erroring, which is being escalated to a panic.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3141420501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3141520536","html_url":"https://github.com/bevyengine/bevy/issues/19623#issuecomment-3141520536","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/19623","id":3141520536,"node_id":"IC_kwDODf6-U867P8yY","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-07-31T22:22:09Z","updated_at":"2025-07-31T22:22:09Z","body":"I have a simpler failing test based on the original issue, which demonstrates that this is sensitive to observer ordering:\n\n```rust\n    #[test]\n    fn observers_for_despawned_entities() {\n        #[derive(EntityEvent)]\n        struct Kill;\n\n        #[derive(EntityEvent)]\n        struct FollowupEvent;\n\n        fn despawn(trigger: On<Kill>, mut commands: Commands) {\n            commands.entity(trigger.target()).despawn();\n        }\n\n        fn followup(trigger: On<Kill>, mut commands: Commands) {\n            commands.entity(trigger.target()).trigger(FollowupEvent);\n        }\n\n        let mut world = World::new();\n        // At the time of creation,\n        // this test would pass if the order of these statements is swapped\n        world.add_observer(followup);\n        world.add_observer(despawn);\n\n        // Create an entity to test these observers with\n        world.spawn_empty();\n\n        // Trigger a kill event on the entity\n        fn kill_everything(mut commands: Commands, query: Query<Entity>) {\n            for id in query.iter() {\n                commands.entity(id).trigger(Kill);\n            }\n        }\n        world.run_system_once(kill_everything).unwrap();\n    }\n```\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3141520536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3141557157","html_url":"https://github.com/bevyengine/bevy/issues/19623#issuecomment-3141557157","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/19623","id":3141557157,"node_id":"IC_kwDODf6-U867QFul","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-07-31T22:43:47Z","updated_at":"2025-07-31T22:50:01Z","body":"Swapping out commands in `followup` for `insert` and using `Commands::get_entity` does not cause the test to pass. Notably, using `despawn` in `followup` *does* make the test pass, because apparently https://github.com/bevyengine/bevy/issues/5617 was at least partially fixed at some point??\n\nSimilarly, swapping to a non-panicking error handler also stops this from crashing your app.\n\nThe root cause is that `EntityCommands` error when evaluated for a despawned entity. We can fix this by either:\n\na) not erroring at all when entity commands are evaluated for despawned entities. This is extremely controversial\nb) making more of our entity commands (like trigger) silently fail when despawned \nc) changing the default error handler to not panic on these errors (also very controversial)\n\nI need to stop work for the weekend now-ish, but my branch is https://github.com/alice-i-cecile/bevy/tree/observers-panics if anyone wants to play with the test and try out fixes.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3141557157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-07-31T22:48:50Z","updated_at":"2025-07-31T22:48:50Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/5617","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/5617/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/5617/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/5617/events","html_url":"https://github.com/bevyengine/bevy/issues/5617","id":1332080722,"node_id":"I_kwDODf6-U85PZfBS","number":5617,"title":"Despawning entities should silently fail if the entity does not exist","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2197761682,"node_id":"MDU6TGFiZWwyMTk3NzYxNjgy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-ECS","name":"A-ECS","color":"c6a751","default":false,"description":"Entities, components, systems, and events"},{"id":2747857990,"node_id":"MDU6TGFiZWwyNzQ3ODU3OTkw","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Usability","name":"C-Usability","color":"b8b8b8","default":false,"description":"A targeted quality-of-life change that makes Bevy easier to use"},{"id":3166133948,"node_id":"MDU6TGFiZWwzMTY2MTMzOTQ4","url":"https://api.github.com/repos/bevyengine/bevy/labels/M-Migration-Guide","name":"M-Migration-Guide","color":"006B75","default":false,"description":"A breaking change to Bevy's public API that needs to be noted in a migration guide"},{"id":3166152189,"node_id":"MDU6TGFiZWwzMTY2MTUyMTg5","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Needs-Design","name":"S-Needs-Design","color":"D876E3","default":false,"description":"This issue requires design work to think about how it would best be accomplished"},{"id":4058407495,"node_id":"LA_kwDODf6-U87x5mJH","url":"https://api.github.com/repos/bevyengine/bevy/labels/X-Controversial","name":"X-Controversial","color":"D93F0B","default":false,"description":"There is active debate or serious implications around merging this PR"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":21,"created_at":"2022-08-08T16:02:23Z","updated_at":"2025-07-31T22:48:49Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":234798675,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQ3OTg2NzU=","name":"bevy","full_name":"bevyengine/bevy","private":false,"owner":{"login":"bevyengine","id":60047606,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMDQ3NjA2","avatar_url":"https://avatars.githubusercontent.com/u/60047606?v=4","gravatar_id":"","url":"https://api.github.com/users/bevyengine","html_url":"https://github.com/bevyengine","followers_url":"https://api.github.com/users/bevyengine/followers","following_url":"https://api.github.com/users/bevyengine/following{/other_user}","gists_url":"https://api.github.com/users/bevyengine/gists{/gist_id}","starred_url":"https://api.github.com/users/bevyengine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bevyengine/subscriptions","organizations_url":"https://api.github.com/users/bevyengine/orgs","repos_url":"https://api.github.com/users/bevyengine/repos","events_url":"https://api.github.com/users/bevyengine/events{/privacy}","received_events_url":"https://api.github.com/users/bevyengine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bevyengine/bevy","description":"A refreshingly simple data-driven game engine built in Rust","fork":false,"url":"https://api.github.com/repos/bevyengine/bevy","forks_url":"https://api.github.com/repos/bevyengine/bevy/forks","keys_url":"https://api.github.com/repos/bevyengine/bevy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bevyengine/bevy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bevyengine/bevy/teams","hooks_url":"https://api.github.com/repos/bevyengine/bevy/hooks","issue_events_url":"https://api.github.com/repos/bevyengine/bevy/issues/events{/number}","events_url":"https://api.github.com/repos/bevyengine/bevy/events","assignees_url":"https://api.github.com/repos/bevyengine/bevy/assignees{/user}","branches_url":"https://api.github.com/repos/bevyengine/bevy/branches{/branch}","tags_url":"https://api.github.com/repos/bevyengine/bevy/tags","blobs_url":"https://api.github.com/repos/bevyengine/bevy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bevyengine/bevy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bevyengine/bevy/git/refs{/sha}","trees_url":"https://api.github.com/repos/bevyengine/bevy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bevyengine/bevy/statuses/{sha}","languages_url":"https://api.github.com/repos/bevyengine/bevy/languages","stargazers_url":"https://api.github.com/repos/bevyengine/bevy/stargazers","contributors_url":"https://api.github.com/repos/bevyengine/bevy/contributors","subscribers_url":"https://api.github.com/repos/bevyengine/bevy/subscribers","subscription_url":"https://api.github.com/repos/bevyengine/bevy/subscription","commits_url":"https://api.github.com/repos/bevyengine/bevy/commits{/sha}","git_commits_url":"https://api.github.com/repos/bevyengine/bevy/git/commits{/sha}","comments_url":"https://api.github.com/repos/bevyengine/bevy/comments{/number}","issue_comment_url":"https://api.github.com/repos/bevyengine/bevy/issues/comments{/number}","contents_url":"https://api.github.com/repos/bevyengine/bevy/contents/{+path}","compare_url":"https://api.github.com/repos/bevyengine/bevy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bevyengine/bevy/merges","archive_url":"https://api.github.com/repos/bevyengine/bevy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bevyengine/bevy/downloads","issues_url":"https://api.github.com/repos/bevyengine/bevy/issues{/number}","pulls_url":"https://api.github.com/repos/bevyengine/bevy/pulls{/number}","milestones_url":"https://api.github.com/repos/bevyengine/bevy/milestones{/number}","notifications_url":"https://api.github.com/repos/bevyengine/bevy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bevyengine/bevy/labels{/name}","releases_url":"https://api.github.com/repos/bevyengine/bevy/releases{/id}","deployments_url":"https://api.github.com/repos/bevyengine/bevy/deployments","created_at":"2020-01-18T21:13:55Z","updated_at":"2025-11-10T00:30:24Z","pushed_at":"2025-11-09T20:05:46Z","git_url":"git://github.com/bevyengine/bevy.git","ssh_url":"git@github.com:bevyengine/bevy.git","clone_url":"https://github.com/bevyengine/bevy.git","svn_url":"https://github.com/bevyengine/bevy","homepage":"https://bevy.org","size":152673,"stargazers_count":42996,"watchers_count":42996,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":4220,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3116,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bevy","game-development","game-engine","gamedev","open-source","rust"],"visibility":"public","forks":4220,"open_issues":3116,"watchers":42996,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## What problem does this solve or what need does it fill?\r\n\r\nPanics when working with commands are extremely frustrating, and difficult to debug or guard against.\r\n\r\n## What solution would you like?\r\n\r\nWe can reduce the pain in the common case by making `commands.entity(my_entity).despawn()` fail silently if the entity does not exist.\r\n\r\nThere is no real risk to doing so, as the desired state is completed. This is also useful as it makes despawn commands idempotent, making them significantly more robust and easier to work with.\r\n\r\n## What alternative(s) have you considered?\r\n\r\n#2004 represents a more complete solution, but is dramatically more complex. This is also a better default for this particular command.\r\n\r\n## Additional context\r\n\r\nWe may also want to change the behavior of other commands, but that should be done in separate PRs to avoid blocking this less controversial change.","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/5617/reactions","total_count":8,"+1":7,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/5617/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":18927966924,"node_id":"UNLE_lADODf6-U867aSfwzwAAAARoMdrM","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18927966924","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2025-07-31T22:49:18Z","label":{"name":"S-Ready-For-Implementation","color":"D876E3"},"performed_via_github_app":null},{"id":18927966930,"node_id":"LE_lADODf6-U867aSfwzwAAAARoMdrS","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18927966930","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-07-31T22:49:18Z","label":{"name":"D-Complex","color":"008672"},"performed_via_github_app":null},{"id":18927966940,"node_id":"LE_lADODf6-U867aSfwzwAAAARoMdrc","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18927966940","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-07-31T22:49:18Z","label":{"name":"S-Needs-Design","color":"D876E3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3141573437","html_url":"https://github.com/bevyengine/bevy/issues/19623#issuecomment-3141573437","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/19623","id":3141573437,"node_id":"IC_kwDODf6-U867QJs9","user":{"login":"SanderMertens","id":9919222,"node_id":"MDQ6VXNlcjk5MTkyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/9919222?v=4","gravatar_id":"","url":"https://api.github.com/users/SanderMertens","html_url":"https://github.com/SanderMertens","followers_url":"https://api.github.com/users/SanderMertens/followers","following_url":"https://api.github.com/users/SanderMertens/following{/other_user}","gists_url":"https://api.github.com/users/SanderMertens/gists{/gist_id}","starred_url":"https://api.github.com/users/SanderMertens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SanderMertens/subscriptions","organizations_url":"https://api.github.com/users/SanderMertens/orgs","repos_url":"https://api.github.com/users/SanderMertens/repos","events_url":"https://api.github.com/users/SanderMertens/events{/privacy}","received_events_url":"https://api.github.com/users/SanderMertens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-07-31T22:54:25Z","updated_at":"2025-07-31T22:55:16Z","body":"and\n\nd) Only execute commands after all observers for an event have ran, not while running observers\n\nAny other option introduces order dependencies between observers which (I think) is undesirable.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3141573437/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SanderMertens","id":9919222,"node_id":"MDQ6VXNlcjk5MTkyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/9919222?v=4","gravatar_id":"","url":"https://api.github.com/users/SanderMertens","html_url":"https://github.com/SanderMertens","followers_url":"https://api.github.com/users/SanderMertens/followers","following_url":"https://api.github.com/users/SanderMertens/following{/other_user}","gists_url":"https://api.github.com/users/SanderMertens/gists{/gist_id}","starred_url":"https://api.github.com/users/SanderMertens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SanderMertens/subscriptions","organizations_url":"https://api.github.com/users/SanderMertens/orgs","repos_url":"https://api.github.com/users/SanderMertens/repos","events_url":"https://api.github.com/users/SanderMertens/events{/privacy}","received_events_url":"https://api.github.com/users/SanderMertens/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":18928331907,"node_id":"UNLE_lADODf6-U867aSfwzwAAAARoN2yD","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18928331907","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2025-07-31T23:33:06Z","label":{"name":"S-Needs-Design","color":"D876E3"},"performed_via_github_app":null},{"id":18928331909,"node_id":"LE_lADODf6-U867aSfwzwAAAARoN2yF","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/18928331909","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-07-31T23:33:06Z","label":{"name":"S-Ready-For-Implementation","color":"D876E3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3141636818","html_url":"https://github.com/bevyengine/bevy/issues/19623#issuecomment-3141636818","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/19623","id":3141636818,"node_id":"IC_kwDODf6-U867QZLS","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-07-31T23:34:44Z","updated_at":"2025-07-31T23:35:43Z","body":"Yep, ordering between observers is gnarly: see #14890. I like d) as a long term fix, similar to the discussion in #19569.\n\nFor this particular bug, I've spent some time, and come to the conclusion that the correct fix for 0.17 is to simply improve the error message emitted by failed entity commands, directing users to queue_handled to handle the case where the entity is missing.\n\nThat is a) uncontroversial b) safe to do at the last minute and c) substantially improves the situation for any other panics that users find when running entity commands.\n\nWe should not do Option A or B above (make entity commands silently fail), because these can mask very real bugs. Instead, fixes to silence warnings should be obvious and easy.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3141636818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3141843292","html_url":"https://github.com/bevyengine/bevy/issues/19623#issuecomment-3141843292","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/19623","id":3141843292,"node_id":"IC_kwDODf6-U867RLlc","user":{"login":"hukasu","id":7583440,"node_id":"MDQ6VXNlcjc1ODM0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/7583440?v=4","gravatar_id":"","url":"https://api.github.com/users/hukasu","html_url":"https://github.com/hukasu","followers_url":"https://api.github.com/users/hukasu/followers","following_url":"https://api.github.com/users/hukasu/following{/other_user}","gists_url":"https://api.github.com/users/hukasu/gists{/gist_id}","starred_url":"https://api.github.com/users/hukasu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hukasu/subscriptions","organizations_url":"https://api.github.com/users/hukasu/orgs","repos_url":"https://api.github.com/users/hukasu/repos","events_url":"https://api.github.com/users/hukasu/events{/privacy}","received_events_url":"https://api.github.com/users/hukasu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-08-01T01:27:53Z","updated_at":"2025-08-01T01:27:53Z","body":"i wonder if it would be possible for the despawning of an entity to be deferred to after all commands conclude\ni.e. the `Entity` remains active till after the commands are run even if it has no components","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3141843292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hukasu","id":7583440,"node_id":"MDQ6VXNlcjc1ODM0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/7583440?v=4","gravatar_id":"","url":"https://api.github.com/users/hukasu","html_url":"https://github.com/hukasu","followers_url":"https://api.github.com/users/hukasu/followers","following_url":"https://api.github.com/users/hukasu/following{/other_user}","gists_url":"https://api.github.com/users/hukasu/gists{/gist_id}","starred_url":"https://api.github.com/users/hukasu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hukasu/subscriptions","organizations_url":"https://api.github.com/users/hukasu/orgs","repos_url":"https://api.github.com/users/hukasu/repos","events_url":"https://api.github.com/users/hukasu/events{/privacy}","received_events_url":"https://api.github.com/users/hukasu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3173106294","html_url":"https://github.com/bevyengine/bevy/issues/19623#issuecomment-3173106294","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/19623","id":3173106294,"node_id":"IC_kwDODf6-U869IcJ2","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-08-11T02:19:41Z","updated_at":"2025-08-11T02:19:41Z","body":"> i wonder if it would be possible for the despawning of an entity to be deferred to after all commands conclude\ni.e. the Entity remains active till after the commands are run even if it has no components\n\nThis is both substantially more complex and likely to seriously regress performance. I don't want to do this.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/3173106294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-08-11T02:21:08Z","updated_at":"2025-08-11T02:21:08Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/19569","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/19569/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/19569/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/19569/events","html_url":"https://github.com/bevyengine/bevy/issues/19569","id":3133339837,"node_id":"I_kwDODf6-U866wvi9","number":19569,"title":"Observers don't respect the \"stack nature\" of commands","user":{"login":"Pascualex","id":36732359,"node_id":"MDQ6VXNlcjM2NzMyMzU5","avatar_url":"https://avatars.githubusercontent.com/u/36732359?v=4","gravatar_id":"","url":"https://api.github.com/users/Pascualex","html_url":"https://github.com/Pascualex","followers_url":"https://api.github.com/users/Pascualex/followers","following_url":"https://api.github.com/users/Pascualex/following{/other_user}","gists_url":"https://api.github.com/users/Pascualex/gists{/gist_id}","starred_url":"https://api.github.com/users/Pascualex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Pascualex/subscriptions","organizations_url":"https://api.github.com/users/Pascualex/orgs","repos_url":"https://api.github.com/users/Pascualex/repos","events_url":"https://api.github.com/users/Pascualex/events{/privacy}","received_events_url":"https://api.github.com/users/Pascualex/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619323,"node_id":"MDU6TGFiZWwxNzk1NjE5MzIz","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Bug","name":"C-Bug","color":"d73a4a","default":false,"description":"An unexpected or incorrect behavior"},{"id":2197761682,"node_id":"MDU6TGFiZWwyMTk3NzYxNjgy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-ECS","name":"A-ECS","color":"c6a751","default":false,"description":"Entities, components, systems, and events"},{"id":3166143717,"node_id":"MDU6TGFiZWwzMTY2MTQzNzE3","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Complex","name":"D-Complex","color":"008672","default":false,"description":"Quite challenging from either a design or technical perspective. Ask for help!"},{"id":3166152189,"node_id":"MDU6TGFiZWwzMTY2MTUyMTg5","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Needs-Design","name":"S-Needs-Design","color":"D876E3","default":false,"description":"This issue requires design work to think about how it would best be accomplished"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2025-06-10T12:06:53Z","updated_at":"2025-08-11T02:21:08Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":234798675,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQ3OTg2NzU=","name":"bevy","full_name":"bevyengine/bevy","private":false,"owner":{"login":"bevyengine","id":60047606,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMDQ3NjA2","avatar_url":"https://avatars.githubusercontent.com/u/60047606?v=4","gravatar_id":"","url":"https://api.github.com/users/bevyengine","html_url":"https://github.com/bevyengine","followers_url":"https://api.github.com/users/bevyengine/followers","following_url":"https://api.github.com/users/bevyengine/following{/other_user}","gists_url":"https://api.github.com/users/bevyengine/gists{/gist_id}","starred_url":"https://api.github.com/users/bevyengine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bevyengine/subscriptions","organizations_url":"https://api.github.com/users/bevyengine/orgs","repos_url":"https://api.github.com/users/bevyengine/repos","events_url":"https://api.github.com/users/bevyengine/events{/privacy}","received_events_url":"https://api.github.com/users/bevyengine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bevyengine/bevy","description":"A refreshingly simple data-driven game engine built in Rust","fork":false,"url":"https://api.github.com/repos/bevyengine/bevy","forks_url":"https://api.github.com/repos/bevyengine/bevy/forks","keys_url":"https://api.github.com/repos/bevyengine/bevy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bevyengine/bevy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bevyengine/bevy/teams","hooks_url":"https://api.github.com/repos/bevyengine/bevy/hooks","issue_events_url":"https://api.github.com/repos/bevyengine/bevy/issues/events{/number}","events_url":"https://api.github.com/repos/bevyengine/bevy/events","assignees_url":"https://api.github.com/repos/bevyengine/bevy/assignees{/user}","branches_url":"https://api.github.com/repos/bevyengine/bevy/branches{/branch}","tags_url":"https://api.github.com/repos/bevyengine/bevy/tags","blobs_url":"https://api.github.com/repos/bevyengine/bevy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bevyengine/bevy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bevyengine/bevy/git/refs{/sha}","trees_url":"https://api.github.com/repos/bevyengine/bevy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bevyengine/bevy/statuses/{sha}","languages_url":"https://api.github.com/repos/bevyengine/bevy/languages","stargazers_url":"https://api.github.com/repos/bevyengine/bevy/stargazers","contributors_url":"https://api.github.com/repos/bevyengine/bevy/contributors","subscribers_url":"https://api.github.com/repos/bevyengine/bevy/subscribers","subscription_url":"https://api.github.com/repos/bevyengine/bevy/subscription","commits_url":"https://api.github.com/repos/bevyengine/bevy/commits{/sha}","git_commits_url":"https://api.github.com/repos/bevyengine/bevy/git/commits{/sha}","comments_url":"https://api.github.com/repos/bevyengine/bevy/comments{/number}","issue_comment_url":"https://api.github.com/repos/bevyengine/bevy/issues/comments{/number}","contents_url":"https://api.github.com/repos/bevyengine/bevy/contents/{+path}","compare_url":"https://api.github.com/repos/bevyengine/bevy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bevyengine/bevy/merges","archive_url":"https://api.github.com/repos/bevyengine/bevy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bevyengine/bevy/downloads","issues_url":"https://api.github.com/repos/bevyengine/bevy/issues{/number}","pulls_url":"https://api.github.com/repos/bevyengine/bevy/pulls{/number}","milestones_url":"https://api.github.com/repos/bevyengine/bevy/milestones{/number}","notifications_url":"https://api.github.com/repos/bevyengine/bevy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bevyengine/bevy/labels{/name}","releases_url":"https://api.github.com/repos/bevyengine/bevy/releases{/id}","deployments_url":"https://api.github.com/repos/bevyengine/bevy/deployments","created_at":"2020-01-18T21:13:55Z","updated_at":"2025-11-10T00:30:24Z","pushed_at":"2025-11-09T20:05:46Z","git_url":"git://github.com/bevyengine/bevy.git","ssh_url":"git@github.com:bevyengine/bevy.git","clone_url":"https://github.com/bevyengine/bevy.git","svn_url":"https://github.com/bevyengine/bevy","homepage":"https://bevy.org","size":152673,"stargazers_count":42996,"watchers_count":42996,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":4220,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3116,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bevy","game-development","game-engine","gamedev","open-source","rust"],"visibility":"public","forks":4220,"open_issues":3116,"watchers":42996,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## Bevy version\n\nv0.16.1\n\n## What you did\n\nRun commands from an observer.\n\n## What went wrong\n\nI was expecting those commands to be executed before any other observer, instead several observers ran before the \"previous\" commands.\n\nThe stack nature of commands is critical for certain tasks. In my case, I want to fully solve one collision and its consequences before moving to the next one since I don't want my projectiles to hit more than one target.\n\nOrder I expected:\n- Observer 1\n  - Command 1 from Observer 1\n  - Command 2 from Observer 1\n- Observer 2\n  - Command 3 from Observer 2\n  - Command 4 from Observer 2\n\nOrder I got:\n- Observer 1\n- Observer 2\n- Command 1 from Observer 1\n- Command 2 from Observer 1\n- Command 3 from Observer 2\n- Command 4 from Observer 2\n\n## Additional information\n\nIt is easy to work around, now my observers only do one thing: run a single one-shot system. This way, all my logic now runs in command-land and the stack works as expected.\n\nOrder I have now:\n- Observer 1\n- Observer 2\n- Command A from Observer 1\n  - Command 1 from Command A\n  - Command 2 from Command A\n- Command B from Observer 2\n  - Command 3 from Command B\n  - Command 4 from Command B\n\nMaybe this could also be the solution? Making observers insert a command instead of running their system directly?\n\nIn my case the consequence was that my game was crashing unexpectedly, since I was triggering new events and despawning entities. When unexpected ordering caused me to trigger an event on a despawned entity, the game crashed.","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/19569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/19569/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-08-13T00:09:47Z","updated_at":"2025-08-13T00:09:47Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/20544","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/20544/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/20544/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/20544/events","html_url":"https://github.com/bevyengine/bevy/pull/20544","id":3316418923,"node_id":"PR_kwDODf6-U86jYTcp","number":20544,"title":"Improve error message for failed entity commands","user":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619323,"node_id":"MDU6TGFiZWwxNzk1NjE5MzIz","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Bug","name":"C-Bug","color":"d73a4a","default":false,"description":"An unexpected or incorrect behavior"},{"id":1795619324,"node_id":"MDU6TGFiZWwxNzk1NjE5MzI0","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Docs","name":"C-Docs","color":"B8b8b8","default":false,"description":"An addition or correction to our documentation"},{"id":2197761682,"node_id":"MDU6TGFiZWwyMTk3NzYxNjgy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-ECS","name":"A-ECS","color":"c6a751","default":false,"description":"Entities, components, systems, and events"},{"id":2747857990,"node_id":"MDU6TGFiZWwyNzQ3ODU3OTkw","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Usability","name":"C-Usability","color":"b8b8b8","default":false,"description":"A targeted quality-of-life change that makes Bevy easier to use"},{"id":2747865511,"node_id":"MDU6TGFiZWwyNzQ3ODY1NTEx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Ready-For-Final-Review","name":"S-Ready-For-Final-Review","color":"D876E3","default":false,"description":"This PR has been approved by the community. It's ready for a maintainer to consider merging it"},{"id":6899552399,"node_id":"LA_kwDODf6-U88AAAABmz7Qjw","url":"https://api.github.com/repos/bevyengine/bevy/labels/X-Contentious","name":"X-Contentious","color":"D93F0B","default":false,"description":"There are nontrivial implications that should be thought through"},{"id":6899571146,"node_id":"LA_kwDODf6-U88AAAABmz8Zyg","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Straightforward","name":"D-Straightforward","color":"008672","default":false,"description":"Simple bug fixes and API improvements, docs, test and examples"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/bevyengine/bevy/milestones/32","html_url":"https://github.com/bevyengine/bevy/milestone/32","labels_url":"https://api.github.com/repos/bevyengine/bevy/milestones/32/labels","id":12377016,"node_id":"MI_kwDODf6-U84AvNu4","number":32,"title":"0.17","description":"","creator":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":584,"state":"closed","created_at":"2025-02-24T21:56:04Z","updated_at":"2025-09-30T22:33:43Z","due_on":null,"closed_at":"2025-09-30T22:33:43Z"},"comments":2,"created_at":"2025-08-13T00:08:59Z","updated_at":"2025-08-13T20:07:40Z","closed_at":"2025-08-13T20:07:40Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":234798675,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQ3OTg2NzU=","name":"bevy","full_name":"bevyengine/bevy","private":false,"owner":{"login":"bevyengine","id":60047606,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMDQ3NjA2","avatar_url":"https://avatars.githubusercontent.com/u/60047606?v=4","gravatar_id":"","url":"https://api.github.com/users/bevyengine","html_url":"https://github.com/bevyengine","followers_url":"https://api.github.com/users/bevyengine/followers","following_url":"https://api.github.com/users/bevyengine/following{/other_user}","gists_url":"https://api.github.com/users/bevyengine/gists{/gist_id}","starred_url":"https://api.github.com/users/bevyengine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bevyengine/subscriptions","organizations_url":"https://api.github.com/users/bevyengine/orgs","repos_url":"https://api.github.com/users/bevyengine/repos","events_url":"https://api.github.com/users/bevyengine/events{/privacy}","received_events_url":"https://api.github.com/users/bevyengine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bevyengine/bevy","description":"A refreshingly simple data-driven game engine built in Rust","fork":false,"url":"https://api.github.com/repos/bevyengine/bevy","forks_url":"https://api.github.com/repos/bevyengine/bevy/forks","keys_url":"https://api.github.com/repos/bevyengine/bevy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bevyengine/bevy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bevyengine/bevy/teams","hooks_url":"https://api.github.com/repos/bevyengine/bevy/hooks","issue_events_url":"https://api.github.com/repos/bevyengine/bevy/issues/events{/number}","events_url":"https://api.github.com/repos/bevyengine/bevy/events","assignees_url":"https://api.github.com/repos/bevyengine/bevy/assignees{/user}","branches_url":"https://api.github.com/repos/bevyengine/bevy/branches{/branch}","tags_url":"https://api.github.com/repos/bevyengine/bevy/tags","blobs_url":"https://api.github.com/repos/bevyengine/bevy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bevyengine/bevy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bevyengine/bevy/git/refs{/sha}","trees_url":"https://api.github.com/repos/bevyengine/bevy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bevyengine/bevy/statuses/{sha}","languages_url":"https://api.github.com/repos/bevyengine/bevy/languages","stargazers_url":"https://api.github.com/repos/bevyengine/bevy/stargazers","contributors_url":"https://api.github.com/repos/bevyengine/bevy/contributors","subscribers_url":"https://api.github.com/repos/bevyengine/bevy/subscribers","subscription_url":"https://api.github.com/repos/bevyengine/bevy/subscription","commits_url":"https://api.github.com/repos/bevyengine/bevy/commits{/sha}","git_commits_url":"https://api.github.com/repos/bevyengine/bevy/git/commits{/sha}","comments_url":"https://api.github.com/repos/bevyengine/bevy/comments{/number}","issue_comment_url":"https://api.github.com/repos/bevyengine/bevy/issues/comments{/number}","contents_url":"https://api.github.com/repos/bevyengine/bevy/contents/{+path}","compare_url":"https://api.github.com/repos/bevyengine/bevy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bevyengine/bevy/merges","archive_url":"https://api.github.com/repos/bevyengine/bevy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bevyengine/bevy/downloads","issues_url":"https://api.github.com/repos/bevyengine/bevy/issues{/number}","pulls_url":"https://api.github.com/repos/bevyengine/bevy/pulls{/number}","milestones_url":"https://api.github.com/repos/bevyengine/bevy/milestones{/number}","notifications_url":"https://api.github.com/repos/bevyengine/bevy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bevyengine/bevy/labels{/name}","releases_url":"https://api.github.com/repos/bevyengine/bevy/releases{/id}","deployments_url":"https://api.github.com/repos/bevyengine/bevy/deployments","created_at":"2020-01-18T21:13:55Z","updated_at":"2025-11-10T00:30:24Z","pushed_at":"2025-11-09T20:05:46Z","git_url":"git://github.com/bevyengine/bevy.git","ssh_url":"git@github.com:bevyengine/bevy.git","clone_url":"https://github.com/bevyengine/bevy.git","svn_url":"https://github.com/bevyengine/bevy","homepage":"https://bevy.org","size":152673,"stargazers_count":42996,"watchers_count":42996,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":4220,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3116,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bevy","game-development","game-engine","gamedev","open-source","rust"],"visibility":"public","forks":4220,"open_issues":3116,"watchers":42996,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/bevyengine/bevy/pulls/20544","html_url":"https://github.com/bevyengine/bevy/pull/20544","diff_url":"https://github.com/bevyengine/bevy/pull/20544.diff","patch_url":"https://github.com/bevyengine/bevy/pull/20544.patch","merged_at":"2025-08-13T20:07:40Z"},"body":"# Objective\r\n\r\n- If an entity command is sent targeting a despawned entity, that command will error, and then panic by default.\r\n- This occurs even if the entity exists at the time the command was sent.\r\n- This can cause surprising panics when working with observers that depend on each other, especially when using entity events that cause entities to be despawned.\r\n- Closes #19623.\r\n\r\n## Solution\r\n\r\nAs outlined in #19623, this behavior isn't exactly a bug, although it is surprising.\r\n\r\nWhen you attempt to trigger an observer for an entity that doesn't exist, Bevy should give you some indication that something has gone wrong!\r\n\r\nThe standard mechanism we have for doing so is to return an error in the command, which is passed to the default error handler. By default, this panics, reproducing the problem reported in #19623.\r\n\r\nUnfortunately, the error reporting was so bad that neither the OP nor the contributors could quickly isolate the problem and tell them what they should be doing differently.\r\n\r\nThe actual solution is both standard to the rest of Bevy and quite simple: just queue the command in a way that makes the error not panic. We should explain that!\r\n\r\nI've added commentary to that effect on both `EntityCommands::trigger/trigger_targets` and the error message returned.\r\n\r\n## Testing\r\n\r\nI've added a new test demonstrating the fix for this failure mode. Swapping that test to plain `.trigger` fixes the problem.\r\n","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/20544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/20544/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":19144593953,"node_id":"UNLE_lADODf6-U867aSfwzwAAAAR1G1Ih","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/19144593953","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2025-08-13T19:58:28Z","label":{"name":"S-Ready-For-Implementation","color":"D876E3"},"performed_via_github_app":null},{"id":19144593962,"node_id":"LE_lADODf6-U867aSfwzwAAAAR1G1Iq","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/19144593962","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-08-13T19:58:28Z","label":{"name":"S-Ready-For-Final-Review","color":"D876E3"},"performed_via_github_app":null}]