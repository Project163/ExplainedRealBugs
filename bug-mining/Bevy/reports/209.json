{"url":"https://api.github.com/repos/bevyengine/bevy/issues/13332","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/13332/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/13332/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/13332/events","html_url":"https://github.com/bevyengine/bevy/issues/13332","id":2291092042,"node_id":"I_kwDODf6-U86Ij0pK","number":13332,"title":"`RegularPolygon` should allow `circumradius` to be 0.0","user":{"login":"mamekoro","id":86554319,"node_id":"MDQ6VXNlcjg2NTU0MzE5","avatar_url":"https://avatars.githubusercontent.com/u/86554319?v=4","gravatar_id":"","url":"https://api.github.com/users/mamekoro","html_url":"https://github.com/mamekoro","followers_url":"https://api.github.com/users/mamekoro/followers","following_url":"https://api.github.com/users/mamekoro/following{/other_user}","gists_url":"https://api.github.com/users/mamekoro/gists{/gist_id}","starred_url":"https://api.github.com/users/mamekoro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mamekoro/subscriptions","organizations_url":"https://api.github.com/users/mamekoro/orgs","repos_url":"https://api.github.com/users/mamekoro/repos","events_url":"https://api.github.com/users/mamekoro/events{/privacy}","received_events_url":"https://api.github.com/users/mamekoro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619327,"node_id":"MDU6TGFiZWwxNzk1NjE5MzI3","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Trivial","name":"D-Trivial","color":"008672","default":false,"description":"Nice and easy! A great choice to get started with Bevy"},{"id":2747857990,"node_id":"MDU6TGFiZWwyNzQ3ODU3OTkw","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Usability","name":"C-Usability","color":"b8b8b8","default":false,"description":"A targeted quality-of-life change that makes Bevy easier to use"},{"id":3166124969,"node_id":"MDU6TGFiZWwzMTY2MTI0OTY5","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Math","name":"A-Math","color":"c6a751","default":false,"description":"Fundamental domain-agnostic mathematical operations"},{"id":3166151441,"node_id":"MDU6TGFiZWwzMTY2MTUxNDQx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Ready-For-Implementation","name":"S-Ready-For-Implementation","color":"D876E3","default":false,"description":"This issue is ready for an implementation PR. Go for it!"},{"id":6899549740,"node_id":"LA_kwDODf6-U88AAAABmz7GLA","url":"https://api.github.com/repos/bevyengine/bevy/labels/X-Uncontroversial","name":"X-Uncontroversial","color":"d93f0b","default":false,"description":"This work is generally agreed upon"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-05-11T23:06:15Z","updated_at":"2024-05-16T02:37:37Z","closed_at":"2024-05-16T02:37:37Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## What problem does this solve or what need does it fill?\r\nIt currently panics when `circumradius` is zero.\r\n\r\nhttps://github.com/bevyengine/bevy/blob/443ce9a62b6bb0136c192a6fe46e4c254a895e6c/crates/bevy_math/src/primitives/dim2.rs#L729\r\n\r\nIs there any advantage to rejecting 0.0?\r\n\r\nSince the value 0.0 is frequently used as a default or minimum value, not allowing it would increase the chances of the game panicking.\r\n\r\nConsider, for example, an animation that smoothly resizes a circle. When the circle appears, the radius increases from zero, and when the circle disappears, the radius decreases toward zero. Implementing this animation in v0.12 is simple, but v0.13 requires additional code to make the radius greater than zero to prevent panic.\r\n\r\n## What solution would you like?\r\nThat assertion should be `circumradius >= 0.0` to allow zero.\r\n\r\n## Additional context\r\nBevy v0.12 can handle a circle of radius 0.0, but v0.13 panics.\r\n\r\n```rust\r\nuse bevy::prelude::*;\r\n\r\nfn main() {\r\n    App::new()\r\n        .add_plugins(DefaultPlugins)\r\n        .add_systems(Startup, startup)\r\n        .run();\r\n}\r\n\r\nfn startup(\r\n    mut commands: Commands,\r\n    mut meshes: ResMut<Assets<Mesh>>,\r\n    mut materials: ResMut<Assets<ColorMaterial>>,\r\n) {\r\n    commands.spawn(Camera2dBundle::default());\r\n    commands.spawn((\r\n        // v0.12 (no panic)\r\n        // ColorMesh2dBundle {\r\n        //     mesh: meshes.add(shape::Circle::new(0.0).into()).into(),\r\n        //     material: materials.add(Color::WHITE.into()),\r\n        //     ..default()\r\n        // },\r\n\r\n        // v0.13 (panics)\r\n        ColorMesh2dBundle {\r\n            mesh: meshes.add(Circle::new(0.0)).into(),\r\n            material: materials.add(Color::WHITE),\r\n            ..default()\r\n        },\r\n    ));\r\n}\r\n```","closed_by":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/13332/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/13332/timeline","performed_via_github_app":null,"state_reason":"completed"}