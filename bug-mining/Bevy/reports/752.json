{"url":"https://api.github.com/repos/bevyengine/bevy/issues/18073","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/18073/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/18073/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/18073/events","html_url":"https://github.com/bevyengine/bevy/issues/18073","id":2885496655,"node_id":"I_kwDODf6-U86r_S9P","number":18073,"title":"Bevy exposes access to the entire file system to scripts and/or mods.","user":{"login":"Threadzless","id":20520890,"node_id":"MDQ6VXNlcjIwNTIwODkw","avatar_url":"https://avatars.githubusercontent.com/u/20520890?v=4","gravatar_id":"","url":"https://api.github.com/users/Threadzless","html_url":"https://github.com/Threadzless","followers_url":"https://api.github.com/users/Threadzless/followers","following_url":"https://api.github.com/users/Threadzless/following{/other_user}","gists_url":"https://api.github.com/users/Threadzless/gists{/gist_id}","starred_url":"https://api.github.com/users/Threadzless/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Threadzless/subscriptions","organizations_url":"https://api.github.com/users/Threadzless/orgs","repos_url":"https://api.github.com/users/Threadzless/repos","events_url":"https://api.github.com/users/Threadzless/events{/privacy}","received_events_url":"https://api.github.com/users/Threadzless/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619323,"node_id":"MDU6TGFiZWwxNzk1NjE5MzIz","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Bug","name":"C-Bug","color":"d73a4a","default":false,"description":"An unexpected or incorrect behavior"},{"id":2272055462,"node_id":"MDU6TGFiZWwyMjcyMDU1NDYy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Assets","name":"A-Assets","color":"c6a751","default":false,"description":"Load files from disk to use for things like images, models, and sounds"},{"id":3166143717,"node_id":"MDU6TGFiZWwzMTY2MTQzNzE3","url":"https://api.github.com/repos/bevyengine/bevy/labels/D-Complex","name":"D-Complex","color":"008672","default":false,"description":"Quite challenging from either a design or technical perspective. Ask for help!"},{"id":3166151441,"node_id":"MDU6TGFiZWwzMTY2MTUxNDQx","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Ready-For-Implementation","name":"S-Ready-For-Implementation","color":"D876E3","default":false,"description":"This issue is ready for an implementation PR. Go for it!"},{"id":6899552399,"node_id":"LA_kwDODf6-U88AAAABmz7Qjw","url":"https://api.github.com/repos/bevyengine/bevy/labels/X-Contentious","name":"X-Contentious","color":"D93F0B","default":false,"description":"There are nontrivial implications that should be thought through"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2025-02-27T20:02:22Z","updated_at":"2025-02-28T04:31:09Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In PR #18023 it was noticed that bevy's `AssetServer` places no restrictions on which files the executable can load, meaning any scripting system or loaded mod could potentially harvest arbitrary amounts of user data.\n\nThis Issue is concerned with how best to address the security vulnerability in which mods or scripts could harvest arbitrary user data using bevy's built in file reader systems, such as, but not limited to, the `AssetPlugin`.\n\n## Proposed solution\n\nIn line with the discussion on #18023, I propose the `AssetServer::load` have limits placed on which files it will load. These limits are that the file must meet one of the following criteria:\n - Is located inside the directory `AssetPlugin::file_path` AND asset processing is disabled\n - Is located inside the directory `AssetPlugin::processed_file_path` AND asset processing is enabled\n - Is located in a different `AssetSource`, either the default file path or the processed file path, depending on if asset processing is enabled.\n\nIn total, this should prevent the asset system from loading any files not in one of the folders designated as an asset source by the developers.\n\n## Additional Work\n\nThe rest of the bevy code base should be searched for other instances of filesystem access. Where found, these plugins should either have comparable safety measures imposed, or have warnings added to the documentations of Events, Resources, States, SystemParams, etc which can result in any file read or write.\n\nAdditionally, I recommend adding warnings and safety recommendations to the bevy book around the topics of mod support, scripting systems, and asset loading.","closed_by":null,"reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/18073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/18073/timeline","performed_via_github_app":null,"state_reason":null}