[{"id":16067704297,"node_id":"LE_lADODf6-U86njTv2zwAAAAO9tbXp","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16067704297","actor":{"login":"aloucks","id":221559,"node_id":"MDQ6VXNlcjIyMTU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/221559?v=4","gravatar_id":"","url":"https://api.github.com/users/aloucks","html_url":"https://github.com/aloucks","followers_url":"https://api.github.com/users/aloucks/followers","following_url":"https://api.github.com/users/aloucks/following{/other_user}","gists_url":"https://api.github.com/users/aloucks/gists{/gist_id}","starred_url":"https://api.github.com/users/aloucks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aloucks/subscriptions","organizations_url":"https://api.github.com/users/aloucks/orgs","repos_url":"https://api.github.com/users/aloucks/repos","events_url":"https://api.github.com/users/aloucks/events{/privacy}","received_events_url":"https://api.github.com/users/aloucks/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-01-25T15:57:41Z","label":{"name":"C-Bug","color":"d73a4a"},"performed_via_github_app":null},{"id":16067704299,"node_id":"LE_lADODf6-U86njTv2zwAAAAO9tbXr","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16067704299","actor":{"login":"aloucks","id":221559,"node_id":"MDQ6VXNlcjIyMTU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/221559?v=4","gravatar_id":"","url":"https://api.github.com/users/aloucks","html_url":"https://github.com/aloucks","followers_url":"https://api.github.com/users/aloucks/followers","following_url":"https://api.github.com/users/aloucks/following{/other_user}","gists_url":"https://api.github.com/users/aloucks/gists{/gist_id}","starred_url":"https://api.github.com/users/aloucks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aloucks/subscriptions","organizations_url":"https://api.github.com/users/aloucks/orgs","repos_url":"https://api.github.com/users/aloucks/repos","events_url":"https://api.github.com/users/aloucks/events{/privacy}","received_events_url":"https://api.github.com/users/aloucks/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-01-25T15:57:41Z","label":{"name":"S-Needs-Triage","color":"D876e3"},"performed_via_github_app":null},{"id":16067718729,"node_id":"UNLE_lADODf6-U86njTv2zwAAAAO9te5J","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16067718729","actor":{"login":"rparrett","id":200550,"node_id":"MDQ6VXNlcjIwMDU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/200550?v=4","gravatar_id":"","url":"https://api.github.com/users/rparrett","html_url":"https://github.com/rparrett","followers_url":"https://api.github.com/users/rparrett/followers","following_url":"https://api.github.com/users/rparrett/following{/other_user}","gists_url":"https://api.github.com/users/rparrett/gists{/gist_id}","starred_url":"https://api.github.com/users/rparrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rparrett/subscriptions","organizations_url":"https://api.github.com/users/rparrett/orgs","repos_url":"https://api.github.com/users/rparrett/repos","events_url":"https://api.github.com/users/rparrett/events{/privacy}","received_events_url":"https://api.github.com/users/rparrett/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2025-01-25T16:05:45Z","label":{"name":"S-Needs-Triage","color":"D876e3"},"performed_via_github_app":null},{"id":16067718732,"node_id":"LE_lADODf6-U86njTv2zwAAAAO9te5M","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16067718732","actor":{"login":"rparrett","id":200550,"node_id":"MDQ6VXNlcjIwMDU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/200550?v=4","gravatar_id":"","url":"https://api.github.com/users/rparrett","html_url":"https://github.com/rparrett","followers_url":"https://api.github.com/users/rparrett/followers","following_url":"https://api.github.com/users/rparrett/following{/other_user}","gists_url":"https://api.github.com/users/rparrett/gists{/gist_id}","starred_url":"https://api.github.com/users/rparrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rparrett/subscriptions","organizations_url":"https://api.github.com/users/rparrett/orgs","repos_url":"https://api.github.com/users/rparrett/repos","events_url":"https://api.github.com/users/rparrett/events{/privacy}","received_events_url":"https://api.github.com/users/rparrett/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-01-25T16:05:45Z","label":{"name":"C-Performance","color":"B8B8B8"},"performed_via_github_app":null},{"id":16067718733,"node_id":"LE_lADODf6-U86njTv2zwAAAAO9te5N","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16067718733","actor":{"login":"rparrett","id":200550,"node_id":"MDQ6VXNlcjIwMDU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/200550?v=4","gravatar_id":"","url":"https://api.github.com/users/rparrett","html_url":"https://github.com/rparrett","followers_url":"https://api.github.com/users/rparrett/followers","following_url":"https://api.github.com/users/rparrett/following{/other_user}","gists_url":"https://api.github.com/users/rparrett/gists{/gist_id}","starred_url":"https://api.github.com/users/rparrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rparrett/subscriptions","organizations_url":"https://api.github.com/users/rparrett/orgs","repos_url":"https://api.github.com/users/rparrett/repos","events_url":"https://api.github.com/users/rparrett/events{/privacy}","received_events_url":"https://api.github.com/users/rparrett/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-01-25T16:05:45Z","label":{"name":"P-Regression","color":"FF7B00"},"performed_via_github_app":null},{"id":16067718738,"node_id":"LE_lADODf6-U86njTv2zwAAAAO9te5S","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16067718738","actor":{"login":"rparrett","id":200550,"node_id":"MDQ6VXNlcjIwMDU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/200550?v=4","gravatar_id":"","url":"https://api.github.com/users/rparrett","html_url":"https://github.com/rparrett","followers_url":"https://api.github.com/users/rparrett/followers","following_url":"https://api.github.com/users/rparrett/following{/other_user}","gists_url":"https://api.github.com/users/rparrett/gists{/gist_id}","starred_url":"https://api.github.com/users/rparrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rparrett/subscriptions","organizations_url":"https://api.github.com/users/rparrett/orgs","repos_url":"https://api.github.com/users/rparrett/repos","events_url":"https://api.github.com/users/rparrett/events{/privacy}","received_events_url":"https://api.github.com/users/rparrett/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-01-25T16:05:45Z","label":{"name":"A-Animation","color":"c6A751"},"performed_via_github_app":null},{"id":16067718740,"node_id":"LE_lADODf6-U86njTv2zwAAAAO9te5U","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16067718740","actor":{"login":"rparrett","id":200550,"node_id":"MDQ6VXNlcjIwMDU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/200550?v=4","gravatar_id":"","url":"https://api.github.com/users/rparrett","html_url":"https://github.com/rparrett","followers_url":"https://api.github.com/users/rparrett/followers","following_url":"https://api.github.com/users/rparrett/following{/other_user}","gists_url":"https://api.github.com/users/rparrett/gists{/gist_id}","starred_url":"https://api.github.com/users/rparrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rparrett/subscriptions","organizations_url":"https://api.github.com/users/rparrett/orgs","repos_url":"https://api.github.com/users/rparrett/repos","events_url":"https://api.github.com/users/rparrett/events{/privacy}","received_events_url":"https://api.github.com/users/rparrett/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-01-25T16:05:45Z","label":{"name":"S-Needs-Investigation","color":"D876E1"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2614014189","html_url":"https://github.com/bevyengine/bevy/issues/17535#issuecomment-2614014189","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/17535","id":2614014189,"node_id":"IC_kwDODf6-U86bzrDt","user":{"login":"rparrett","id":200550,"node_id":"MDQ6VXNlcjIwMDU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/200550?v=4","gravatar_id":"","url":"https://api.github.com/users/rparrett","html_url":"https://github.com/rparrett","followers_url":"https://api.github.com/users/rparrett/followers","following_url":"https://api.github.com/users/rparrett/following{/other_user}","gists_url":"https://api.github.com/users/rparrett/gists{/gist_id}","starred_url":"https://api.github.com/users/rparrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rparrett/subscriptions","organizations_url":"https://api.github.com/users/rparrett/orgs","repos_url":"https://api.github.com/users/rparrett/repos","events_url":"https://api.github.com/users/rparrett/events{/privacy}","received_events_url":"https://api.github.com/users/rparrett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-25T16:06:09Z","updated_at":"2025-01-25T16:06:09Z","body":"Are you able to bisect?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2614014189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rparrett","id":200550,"node_id":"MDQ6VXNlcjIwMDU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/200550?v=4","gravatar_id":"","url":"https://api.github.com/users/rparrett","html_url":"https://github.com/rparrett","followers_url":"https://api.github.com/users/rparrett/followers","following_url":"https://api.github.com/users/rparrett/following{/other_user}","gists_url":"https://api.github.com/users/rparrett/gists{/gist_id}","starred_url":"https://api.github.com/users/rparrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rparrett/subscriptions","organizations_url":"https://api.github.com/users/rparrett/orgs","repos_url":"https://api.github.com/users/rparrett/repos","events_url":"https://api.github.com/users/rparrett/events{/privacy}","received_events_url":"https://api.github.com/users/rparrett/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2614028365","html_url":"https://github.com/bevyengine/bevy/issues/17535#issuecomment-2614028365","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/17535","id":2614028365,"node_id":"IC_kwDODf6-U86bzuhN","user":{"login":"aloucks","id":221559,"node_id":"MDQ6VXNlcjIyMTU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/221559?v=4","gravatar_id":"","url":"https://api.github.com/users/aloucks","html_url":"https://github.com/aloucks","followers_url":"https://api.github.com/users/aloucks/followers","following_url":"https://api.github.com/users/aloucks/following{/other_user}","gists_url":"https://api.github.com/users/aloucks/gists{/gist_id}","starred_url":"https://api.github.com/users/aloucks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aloucks/subscriptions","organizations_url":"https://api.github.com/users/aloucks/orgs","repos_url":"https://api.github.com/users/aloucks/repos","events_url":"https://api.github.com/users/aloucks/events{/privacy}","received_events_url":"https://api.github.com/users/aloucks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-25T16:52:30Z","updated_at":"2025-01-25T16:52:30Z","body":"> Are you able to bisect?\n\nThe first bad commit is 21f1e3045c80230bc8c0055ba70dbf2e98d934a3","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2614028365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aloucks","id":221559,"node_id":"MDQ6VXNlcjIyMTU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/221559?v=4","gravatar_id":"","url":"https://api.github.com/users/aloucks","html_url":"https://github.com/aloucks","followers_url":"https://api.github.com/users/aloucks/followers","following_url":"https://api.github.com/users/aloucks/following{/other_user}","gists_url":"https://api.github.com/users/aloucks/gists{/gist_id}","starred_url":"https://api.github.com/users/aloucks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aloucks/subscriptions","organizations_url":"https://api.github.com/users/aloucks/orgs","repos_url":"https://api.github.com/users/aloucks/repos","events_url":"https://api.github.com/users/aloucks/events{/privacy}","received_events_url":"https://api.github.com/users/aloucks/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16069479118,"node_id":"SE_lADODf6-U86njTv2zwAAAAO90MrO","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16069479118","actor":{"login":"greeble-dev","id":166992735,"node_id":"U_kgDOCfQbXw","avatar_url":"https://avatars.githubusercontent.com/u/166992735?v=4","gravatar_id":"","url":"https://api.github.com/users/greeble-dev","html_url":"https://github.com/greeble-dev","followers_url":"https://api.github.com/users/greeble-dev/followers","following_url":"https://api.github.com/users/greeble-dev/following{/other_user}","gists_url":"https://api.github.com/users/greeble-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/greeble-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/greeble-dev/subscriptions","organizations_url":"https://api.github.com/users/greeble-dev/orgs","repos_url":"https://api.github.com/users/greeble-dev/repos","events_url":"https://api.github.com/users/greeble-dev/events{/privacy}","received_events_url":"https://api.github.com/users/greeble-dev/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-01-26T10:30:04Z","performed_via_github_app":null},{"id":16077666729,"node_id":"MIE_lADODf6-U86njTv2zwAAAAO-Tbmp","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16077666729","actor":{"login":"rparrett","id":200550,"node_id":"MDQ6VXNlcjIwMDU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/200550?v=4","gravatar_id":"","url":"https://api.github.com/users/rparrett","html_url":"https://github.com/rparrett","followers_url":"https://api.github.com/users/rparrett/followers","following_url":"https://api.github.com/users/rparrett/following{/other_user}","gists_url":"https://api.github.com/users/rparrett/gists{/gist_id}","starred_url":"https://api.github.com/users/rparrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rparrett/subscriptions","organizations_url":"https://api.github.com/users/rparrett/orgs","repos_url":"https://api.github.com/users/rparrett/repos","events_url":"https://api.github.com/users/rparrett/events{/privacy}","received_events_url":"https://api.github.com/users/rparrett/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2025-01-27T13:05:13Z","milestone":{"title":"0.16"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2617400411","html_url":"https://github.com/bevyengine/bevy/issues/17535#issuecomment-2617400411","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/17535","id":2617400411,"node_id":"IC_kwDODf6-U86cAlxb","user":{"login":"rparrett","id":200550,"node_id":"MDQ6VXNlcjIwMDU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/200550?v=4","gravatar_id":"","url":"https://api.github.com/users/rparrett","html_url":"https://github.com/rparrett","followers_url":"https://api.github.com/users/rparrett/followers","following_url":"https://api.github.com/users/rparrett/following{/other_user}","gists_url":"https://api.github.com/users/rparrett/gists{/gist_id}","starred_url":"https://api.github.com/users/rparrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rparrett/subscriptions","organizations_url":"https://api.github.com/users/rparrett/orgs","repos_url":"https://api.github.com/users/rparrett/repos","events_url":"https://api.github.com/users/rparrett/events{/privacy}","received_events_url":"https://api.github.com/users/rparrett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-28T01:18:25Z","updated_at":"2025-01-28T02:19:09Z","body":"This also seems reproducible with `many_foxes`.\n\n|commit|fps|\n|-|-|\n|`21f1e30~1`|300|\n|`21f1e30`|90|\n\nThis seems to be mostly from a particular parallel query operation in transform propagation.\n\n`par_for_each{query=\"(bevy_ecs::entity::Entity, &bevy_ecs::hierarchy::Children, bevy_ecs::change_detection::Ref<bevy_transform::components::transform::Transform>, &mut bevy_transform::components::global_transform::GlobalTransform)\" filter=\"bevy_ecs::query::filter::Without<bevy_ecs::hierarchy::Parent>\"}`\n\n<img width=\"577\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/821aceae-7f08-46c0-87aa-87d68064cad1\" />\n\nIt's possible that profiling the original `scene_viewer + undead male` repro might yield something else. I haven't tried yet.\n\nedit: Seeing most time spent in the same place with the single undead male.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2617400411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rparrett","id":200550,"node_id":"MDQ6VXNlcjIwMDU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/200550?v=4","gravatar_id":"","url":"https://api.github.com/users/rparrett","html_url":"https://github.com/rparrett","followers_url":"https://api.github.com/users/rparrett/followers","following_url":"https://api.github.com/users/rparrett/following{/other_user}","gists_url":"https://api.github.com/users/rparrett/gists{/gist_id}","starred_url":"https://api.github.com/users/rparrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rparrett/subscriptions","organizations_url":"https://api.github.com/users/rparrett/orgs","repos_url":"https://api.github.com/users/rparrett/repos","events_url":"https://api.github.com/users/rparrett/events{/privacy}","received_events_url":"https://api.github.com/users/rparrett/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16086294945,"node_id":"LE_lADODf6-U86njTv2zwAAAAO-0WGh","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16086294945","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-01-28T01:42:21Z","label":{"name":"A-ECS","color":"c6a751"},"performed_via_github_app":null},{"id":16086294993,"node_id":"LE_lADODf6-U86njTv2zwAAAAO-0WHR","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16086294993","actor":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-01-28T01:42:21Z","label":{"name":"A-Transform","color":"C6a751"},"performed_via_github_app":null},{"id":16086483052,"node_id":"SE_lADODf6-U86njTv2zwAAAAO-1EBs","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16086483052","actor":{"login":"brianreavis","id":118480,"node_id":"MDQ6VXNlcjExODQ4MA==","avatar_url":"https://avatars.githubusercontent.com/u/118480?v=4","gravatar_id":"","url":"https://api.github.com/users/brianreavis","html_url":"https://github.com/brianreavis","followers_url":"https://api.github.com/users/brianreavis/followers","following_url":"https://api.github.com/users/brianreavis/following{/other_user}","gists_url":"https://api.github.com/users/brianreavis/gists{/gist_id}","starred_url":"https://api.github.com/users/brianreavis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianreavis/subscriptions","organizations_url":"https://api.github.com/users/brianreavis/orgs","repos_url":"https://api.github.com/users/brianreavis/repos","events_url":"https://api.github.com/users/brianreavis/events{/privacy}","received_events_url":"https://api.github.com/users/brianreavis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-01-28T02:14:20Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2617709799","html_url":"https://github.com/bevyengine/bevy/issues/17535#issuecomment-2617709799","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/17535","id":2617709799,"node_id":"IC_kwDODf6-U86cBxTn","user":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-28T02:51:35Z","updated_at":"2025-01-28T02:51:35Z","body":"I was able to repo. This is the result of propagating over a million transforms per frame, when prior to #17398 we were propagating 28,000 per frame. We have the same number of transforms on both branches. This is actually caused by Children containing duplicates. I suspect that this is caused by buggy \"scene spawn\" code that spawns _both_ a fully populated Children collection _and_ a ChildOf, resulting in duplicates. This isn't possible via \"normal\" Rust flows, as you can't spawn a populated Children collection.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2617709799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2617738776","html_url":"https://github.com/bevyengine/bevy/issues/17535#issuecomment-2617738776","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/17535","id":2617738776,"node_id":"IC_kwDODf6-U86cB4YY","user":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-28T03:02:46Z","updated_at":"2025-01-28T03:02:46Z","body":"Looking at the source, `Children` is stored in the `Scene`'s `World`, and the scene spawn logic duplicates that into the main World using FromReflect (which means the full Children are written on insert, bypassing the normal flow and resulting in duplicates).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2617738776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16089104852,"node_id":"UE_lADODf6-U86njTv2zwAAAAO-_EHU","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16089104852","actor":{"login":"greeble-dev","id":166992735,"node_id":"U_kgDOCfQbXw","avatar_url":"https://avatars.githubusercontent.com/u/166992735?v=4","gravatar_id":"","url":"https://api.github.com/users/greeble-dev","html_url":"https://github.com/greeble-dev","followers_url":"https://api.github.com/users/greeble-dev/followers","following_url":"https://api.github.com/users/greeble-dev/following{/other_user}","gists_url":"https://api.github.com/users/greeble-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/greeble-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/greeble-dev/subscriptions","organizations_url":"https://api.github.com/users/greeble-dev/orgs","repos_url":"https://api.github.com/users/greeble-dev/repos","events_url":"https://api.github.com/users/greeble-dev/events{/privacy}","received_events_url":"https://api.github.com/users/greeble-dev/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unsubscribed","commit_id":null,"commit_url":null,"created_at":"2025-01-28T08:28:47Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2629208524","html_url":"https://github.com/bevyengine/bevy/issues/17535#issuecomment-2629208524","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/17535","id":2629208524,"node_id":"IC_kwDODf6-U86ctonM","user":{"login":"pcwalton","id":157897,"node_id":"MDQ6VXNlcjE1Nzg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/157897?v=4","gravatar_id":"","url":"https://api.github.com/users/pcwalton","html_url":"https://github.com/pcwalton","followers_url":"https://api.github.com/users/pcwalton/followers","following_url":"https://api.github.com/users/pcwalton/following{/other_user}","gists_url":"https://api.github.com/users/pcwalton/gists{/gist_id}","starred_url":"https://api.github.com/users/pcwalton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pcwalton/subscriptions","organizations_url":"https://api.github.com/users/pcwalton/orgs","repos_url":"https://api.github.com/users/pcwalton/repos","events_url":"https://api.github.com/users/pcwalton/events{/privacy}","received_events_url":"https://api.github.com/users/pcwalton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-02T02:24:51Z","updated_at":"2025-02-02T02:24:51Z","body":"If, like me, you're blocked because of this bug, the following diff will work around it:\n\n```diff\ndiff --git a/crates/bevy_scene/src/scene.rs b/crates/bevy_scene/src/scene.rs\nindex 232acf345..df59a3bc0 100644\n--- a/crates/bevy_scene/src/scene.rs\n+++ b/crates/bevy_scene/src/scene.rs\n@@ -1,7 +1,10 @@\n+use core::any::TypeId;\n+\n use crate::{DynamicScene, SceneSpawnError};\n use bevy_asset::Asset;\n use bevy_ecs::{\n     entity::{hash_map::EntityHashMap, Entity, SceneEntityMapper},\n+    hierarchy::Children,\n     reflect::{AppTypeRegistry, ReflectComponent, ReflectMapEntities, ReflectResource},\n     world::World,\n };\n@@ -112,6 +115,10 @@ impl Scene {\n                         .get_info(component_id)\n                         .expect(\"component_ids in archetypes should have ComponentInfo\");\n\n+                    if component_info.type_id() == Some(TypeId::of::<Children>()) {\n+                        continue;\n+                    }\n+\n                     let registration = type_registry\n                         .get(component_info.type_id().unwrap())\n                         .ok_or_else(|| SceneSpawnError::UnregisteredType {\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2629208524/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pcwalton","id":157897,"node_id":"MDQ6VXNlcjE1Nzg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/157897?v=4","gravatar_id":"","url":"https://api.github.com/users/pcwalton","html_url":"https://github.com/pcwalton","followers_url":"https://api.github.com/users/pcwalton/followers","following_url":"https://api.github.com/users/pcwalton/following{/other_user}","gists_url":"https://api.github.com/users/pcwalton/gists{/gist_id}","starred_url":"https://api.github.com/users/pcwalton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pcwalton/subscriptions","organizations_url":"https://api.github.com/users/pcwalton/orgs","repos_url":"https://api.github.com/users/pcwalton/repos","events_url":"https://api.github.com/users/pcwalton/events{/privacy}","received_events_url":"https://api.github.com/users/pcwalton/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16151698046,"node_id":"LE_lADODf6-U86njTv2zwAAAAPCt1p-","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16151698046","actor":{"login":"rparrett","id":200550,"node_id":"MDQ6VXNlcjIwMDU1MA==","avatar_url":"https://avatars.githubusercontent.com/u/200550?v=4","gravatar_id":"","url":"https://api.github.com/users/rparrett","html_url":"https://github.com/rparrett","followers_url":"https://api.github.com/users/rparrett/followers","following_url":"https://api.github.com/users/rparrett/following{/other_user}","gists_url":"https://api.github.com/users/rparrett/gists{/gist_id}","starred_url":"https://api.github.com/users/rparrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rparrett/subscriptions","organizations_url":"https://api.github.com/users/rparrett/orgs","repos_url":"https://api.github.com/users/rparrett/repos","events_url":"https://api.github.com/users/rparrett/events{/privacy}","received_events_url":"https://api.github.com/users/rparrett/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-02-02T02:48:49Z","label":{"name":"P-Critical","color":"FF7b00"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2632119367","html_url":"https://github.com/bevyengine/bevy/issues/17535#issuecomment-2632119367","issue_url":"https://api.github.com/repos/bevyengine/bevy/issues/17535","id":2632119367,"node_id":"IC_kwDODf6-U86c4vRH","user":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-03T21:30:22Z","updated_at":"2025-02-03T21:31:28Z","body":"As a heads up I'm working on a full fix, which is in the same category of thing as @pcwalton's fix above, just more generic (relies on expanding the \"entity cloning\" system so we can read \"ignore\" behavior here for all relationship targets).  However in doing this, I identified various cases of tech debt that I figured we should pay the bill on. In addition to solving the clear logic/performance bug, this will also cut down on the boilerplate required to map entities for scene spawning and entity cloning (by making entity visiting a first class component behavior), improve the usability (and possibly performance) of EntityCloner, and open the doors to using EntityCloner infrastructure when spawning `Scene(World)`, which should significantly improve scene spawning performance (although that bit will need to come later).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/comments/2632119367/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":16168721471,"node_id":"MEE_lADODf6-U86njTv2zwAAAAPDuxw_","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16168721471","actor":{"login":"pcwalton","id":157897,"node_id":"MDQ6VXNlcjE1Nzg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/157897?v=4","gravatar_id":"","url":"https://api.github.com/users/pcwalton","html_url":"https://github.com/pcwalton","followers_url":"https://api.github.com/users/pcwalton/followers","following_url":"https://api.github.com/users/pcwalton/following{/other_user}","gists_url":"https://api.github.com/users/pcwalton/gists{/gist_id}","starred_url":"https://api.github.com/users/pcwalton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pcwalton/subscriptions","organizations_url":"https://api.github.com/users/pcwalton/orgs","repos_url":"https://api.github.com/users/pcwalton/repos","events_url":"https://api.github.com/users/pcwalton/events{/privacy}","received_events_url":"https://api.github.com/users/pcwalton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-02-03T21:30:24Z","performed_via_github_app":null},{"id":16168721485,"node_id":"SE_lADODf6-U86njTv2zwAAAAPDuxxN","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16168721485","actor":{"login":"pcwalton","id":157897,"node_id":"MDQ6VXNlcjE1Nzg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/157897?v=4","gravatar_id":"","url":"https://api.github.com/users/pcwalton","html_url":"https://github.com/pcwalton","followers_url":"https://api.github.com/users/pcwalton/followers","following_url":"https://api.github.com/users/pcwalton/following{/other_user}","gists_url":"https://api.github.com/users/pcwalton/gists{/gist_id}","starred_url":"https://api.github.com/users/pcwalton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pcwalton/subscriptions","organizations_url":"https://api.github.com/users/pcwalton/orgs","repos_url":"https://api.github.com/users/pcwalton/repos","events_url":"https://api.github.com/users/pcwalton/events{/privacy}","received_events_url":"https://api.github.com/users/pcwalton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-02-03T21:30:24Z","performed_via_github_app":null},{"actor":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-05T02:28:00Z","updated_at":"2025-02-05T02:28:00Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/17687","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/17687/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/17687/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/17687/events","html_url":"https://github.com/bevyengine/bevy/pull/17687","id":2831702652,"node_id":"PR_kwDODf6-U86KEviU","number":17687,"title":"Improved Entity Mapping and Cloning","user":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1795619323,"node_id":"MDU6TGFiZWwxNzk1NjE5MzIz","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Bug","name":"C-Bug","color":"d73a4a","default":false,"description":"An unexpected or incorrect behavior"},{"id":2197761682,"node_id":"MDU6TGFiZWwyMTk3NzYxNjgy","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-ECS","name":"A-ECS","color":"c6a751","default":false,"description":"Entities, components, systems, and events"},{"id":2301429581,"node_id":"MDU6TGFiZWwyMzAxNDI5NTgx","url":"https://api.github.com/repos/bevyengine/bevy/labels/P-High","name":"P-High","color":"FF7B00","default":false,"description":"This is particularly urgent, and deserves immediate attention"},{"id":2747857990,"node_id":"MDU6TGFiZWwyNzQ3ODU3OTkw","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Usability","name":"C-Usability","color":"b8b8b8","default":false,"description":"A targeted quality-of-life change that makes Bevy easier to use"},{"id":3166123733,"node_id":"MDU6TGFiZWwzMTY2MTIzNzMz","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Scenes","name":"A-Scenes","color":"C6a751","default":false,"description":"Serialized ECS data stored on the disk"},{"id":3166133948,"node_id":"MDU6TGFiZWwzMTY2MTMzOTQ4","url":"https://api.github.com/repos/bevyengine/bevy/labels/M-Migration-Guide","name":"M-Migration-Guide","color":"006B75","default":false,"description":"A breaking change to Bevy's public API that needs to be noted in a migration guide"},{"id":6578483690,"node_id":"LA_kwDODf6-U88AAAABiBux6g","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Networking","name":"A-Networking","color":"c6A751","default":false,"description":"Sending data between clients, servers and machines"},{"id":6899588994,"node_id":"LA_kwDODf6-U88AAAABmz9fgg","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Needs-Review","name":"S-Needs-Review","color":"D876E3","default":false,"description":"Needs reviewer attention (from anyone!) to move forward"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/bevyengine/bevy/milestones/28","html_url":"https://github.com/bevyengine/bevy/milestone/28","labels_url":"https://api.github.com/repos/bevyengine/bevy/milestones/28/labels","id":11655039,"node_id":"MI_kwDODf6-U84Asdd_","number":28,"title":"0.16","description":"","creator":{"login":"alice-i-cecile","id":3579909,"node_id":"MDQ6VXNlcjM1Nzk5MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3579909?v=4","gravatar_id":"","url":"https://api.github.com/users/alice-i-cecile","html_url":"https://github.com/alice-i-cecile","followers_url":"https://api.github.com/users/alice-i-cecile/followers","following_url":"https://api.github.com/users/alice-i-cecile/following{/other_user}","gists_url":"https://api.github.com/users/alice-i-cecile/gists{/gist_id}","starred_url":"https://api.github.com/users/alice-i-cecile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alice-i-cecile/subscriptions","organizations_url":"https://api.github.com/users/alice-i-cecile/orgs","repos_url":"https://api.github.com/users/alice-i-cecile/repos","events_url":"https://api.github.com/users/alice-i-cecile/events{/privacy}","received_events_url":"https://api.github.com/users/alice-i-cecile/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":558,"state":"closed","created_at":"2024-09-30T20:15:21Z","updated_at":"2025-04-25T13:01:43Z","due_on":null,"closed_at":"2025-04-25T13:01:43Z"},"comments":3,"created_at":"2025-02-05T02:27:59Z","updated_at":"2025-02-06T22:30:31Z","closed_at":"2025-02-06T22:30:30Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":234798675,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQ3OTg2NzU=","name":"bevy","full_name":"bevyengine/bevy","private":false,"owner":{"login":"bevyengine","id":60047606,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMDQ3NjA2","avatar_url":"https://avatars.githubusercontent.com/u/60047606?v=4","gravatar_id":"","url":"https://api.github.com/users/bevyengine","html_url":"https://github.com/bevyengine","followers_url":"https://api.github.com/users/bevyengine/followers","following_url":"https://api.github.com/users/bevyengine/following{/other_user}","gists_url":"https://api.github.com/users/bevyengine/gists{/gist_id}","starred_url":"https://api.github.com/users/bevyengine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bevyengine/subscriptions","organizations_url":"https://api.github.com/users/bevyengine/orgs","repos_url":"https://api.github.com/users/bevyengine/repos","events_url":"https://api.github.com/users/bevyengine/events{/privacy}","received_events_url":"https://api.github.com/users/bevyengine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bevyengine/bevy","description":"A refreshingly simple data-driven game engine built in Rust","fork":false,"url":"https://api.github.com/repos/bevyengine/bevy","forks_url":"https://api.github.com/repos/bevyengine/bevy/forks","keys_url":"https://api.github.com/repos/bevyengine/bevy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bevyengine/bevy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bevyengine/bevy/teams","hooks_url":"https://api.github.com/repos/bevyengine/bevy/hooks","issue_events_url":"https://api.github.com/repos/bevyengine/bevy/issues/events{/number}","events_url":"https://api.github.com/repos/bevyengine/bevy/events","assignees_url":"https://api.github.com/repos/bevyengine/bevy/assignees{/user}","branches_url":"https://api.github.com/repos/bevyengine/bevy/branches{/branch}","tags_url":"https://api.github.com/repos/bevyengine/bevy/tags","blobs_url":"https://api.github.com/repos/bevyengine/bevy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bevyengine/bevy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bevyengine/bevy/git/refs{/sha}","trees_url":"https://api.github.com/repos/bevyengine/bevy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bevyengine/bevy/statuses/{sha}","languages_url":"https://api.github.com/repos/bevyengine/bevy/languages","stargazers_url":"https://api.github.com/repos/bevyengine/bevy/stargazers","contributors_url":"https://api.github.com/repos/bevyengine/bevy/contributors","subscribers_url":"https://api.github.com/repos/bevyengine/bevy/subscribers","subscription_url":"https://api.github.com/repos/bevyengine/bevy/subscription","commits_url":"https://api.github.com/repos/bevyengine/bevy/commits{/sha}","git_commits_url":"https://api.github.com/repos/bevyengine/bevy/git/commits{/sha}","comments_url":"https://api.github.com/repos/bevyengine/bevy/comments{/number}","issue_comment_url":"https://api.github.com/repos/bevyengine/bevy/issues/comments{/number}","contents_url":"https://api.github.com/repos/bevyengine/bevy/contents/{+path}","compare_url":"https://api.github.com/repos/bevyengine/bevy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bevyengine/bevy/merges","archive_url":"https://api.github.com/repos/bevyengine/bevy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bevyengine/bevy/downloads","issues_url":"https://api.github.com/repos/bevyengine/bevy/issues{/number}","pulls_url":"https://api.github.com/repos/bevyengine/bevy/pulls{/number}","milestones_url":"https://api.github.com/repos/bevyengine/bevy/milestones{/number}","notifications_url":"https://api.github.com/repos/bevyengine/bevy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bevyengine/bevy/labels{/name}","releases_url":"https://api.github.com/repos/bevyengine/bevy/releases{/id}","deployments_url":"https://api.github.com/repos/bevyengine/bevy/deployments","created_at":"2020-01-18T21:13:55Z","updated_at":"2025-11-10T00:30:24Z","pushed_at":"2025-11-09T20:05:46Z","git_url":"git://github.com/bevyengine/bevy.git","ssh_url":"git@github.com:bevyengine/bevy.git","clone_url":"https://github.com/bevyengine/bevy.git","svn_url":"https://github.com/bevyengine/bevy","homepage":"https://bevy.org","size":152673,"stargazers_count":42996,"watchers_count":42996,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":4220,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3116,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bevy","game-development","game-engine","gamedev","open-source","rust"],"visibility":"public","forks":4220,"open_issues":3116,"watchers":42996,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/bevyengine/bevy/pulls/17687","html_url":"https://github.com/bevyengine/bevy/pull/17687","diff_url":"https://github.com/bevyengine/bevy/pull/17687.diff","patch_url":"https://github.com/bevyengine/bevy/pull/17687.patch","merged_at":"2025-02-06T22:30:30Z"},"body":"Fixes #17535\r\n\r\nBevy's approach to handling \"entity mapping\" during spawning and cloning needs some work. The addition of [Relations](https://github.com/bevyengine/bevy/pull/17398) both [introduced a new \"duplicate entities\" bug when spawning scenes in the scene system](#17535) and made the weaknesses of the current mapping system exceedingly clear:\r\n\r\n1. Entity mapping requires _a ton_ of boilerplate (implement or derive VisitEntities and VisitEntitesMut, then register / reflect MapEntities). Knowing the incantation is challenging and if you forget to do it in part or in whole, spawning subtly breaks.\r\n2. Entity mapping a spawned component in scenes incurs unnecessary overhead: look up ReflectMapEntities, create a _brand new temporary instance_ of the component using FromReflect, map the entities in that instance, and then apply that on top of the actual component using reflection. We can do much better.\r\n\r\nAdditionally, while our new [Entity cloning system](https://github.com/bevyengine/bevy/pull/16132) is already pretty great, it has some areas we can make better:\r\n\r\n* It doesn't expose semantic info about the clone (ex: ignore or \"clone empty\"), meaning we can't key off of that in places where it would be useful, such as scene spawning. Rather than duplicating this info across contexts, I think it makes more sense to add that info to the clone system, especially given that we'd like to use cloning code in some of our spawning scenarios.\r\n* EntityCloner is currently built in a way that prioritizes a single entity clone\r\n* EntityCloner's recursive cloning is built to be done \"inside out\" in a parallel context (queue commands that each have a clone of EntityCloner). By making EntityCloner the orchestrator of the clone we can remove internal arcs, improve the clarity of the code, make EntityCloner mutable again, and simplify the builder code.\r\n* EntityCloner does not currently take into account entity mapping. This is necessary to do true \"bullet proof\" cloning, would allow us to unify the per-component scene spawning and cloning UX, and ultimately would allow us to use EntityCloner in place of raw reflection for scenes like `Scene(World)` (which would give us a nice performance boost: fewer archetype moves, less reflection overhead). \r\n\r\n## Solution\r\n\r\n### Improved Entity Mapping\r\n\r\nFirst, components now have first-class \"entity visiting and mapping\" behavior:\r\n\r\n```rust\r\n#[derive(Component, Reflect)]\r\n#[reflect(Component)]\r\nstruct Inventory {\r\n    size: usize,\r\n    #[entities]\r\n    items: Vec<Entity>,\r\n}\r\n```\r\n\r\nAny field with the `#[entities]` annotation will be viewable and mappable when cloning and spawning scenes.\r\n\r\nCompare that to what was required before!\r\n\r\n```rust\r\n#[derive(Component, Reflect, VisitEntities, VisitEntitiesMut)]\r\n#[reflect(Component, MapEntities)]\r\nstruct Inventory {\r\n    #[visit_entities(ignore)]\r\n    size: usize,\r\n    items: Vec<Entity>,\r\n}\r\n```\r\n\r\nAdditionally, for relationships `#[entities]` is implied, meaning this \"just works\" in scenes and cloning:\r\n\r\n```rust\r\n#[derive(Component, Reflect)]\r\n#[relationship(relationship_target = Children)]\r\n#[reflect(Component)]\r\nstruct ChildOf(pub Entity);\r\n```\r\n\r\nNote that Component _does not_ implement `VisitEntities` directly. Instead, it has `Component::visit_entities` and `Component::visit_entities_mut` methods. This is for a few reasons:\r\n\r\n1. We cannot implement `VisitEntities for C: Component` because that would conflict with our impl of VisitEntities for anything that implements `IntoIterator<Item=Entity>`. Preserving that impl is more important from a UX perspective.\r\n2. We should not implement `Component: VisitEntities` VisitEntities in the Component derive, as that would increase the burden of manual Component trait implementors.\r\n3. Making VisitEntitiesMut directly callable for components would make it easy to invalidate invariants defined by a component author. By putting it in the `Component` impl, we can make it harder to call naturally / unavailable to autocomplete using `fn visit_entities_mut(this: &mut Self, ...)`.\r\n\r\n`ReflectComponent::apply_or_insert` is now `ReflectComponent::apply_or_insert_mapped`. By moving mapping inside this impl, we remove the need to go through the reflection system to do entity mapping, meaning we no longer need to create a clone of the target component, map the entities in that component, and patch those values on top. This will make spawning mapped entities _much_ faster (The default `Component::visit_entities_mut` impl is an inlined empty function, so it will incur no overhead for unmapped entities).\r\n\r\n### The Bug Fix\r\n\r\nTo solve #17535, spawning code now skips entities with the new `ComponentCloneBehavior::Ignore` and `ComponentCloneBehavior::RelationshipTarget` variants (note RelationshipTarget is a temporary \"workaround\" variant that allows scenes to skip these components. This is a temporary workaround that can be removed as these cases should _really_ be using EntityCloner logic, which should be done in a followup PR. When that is done, `ComponentCloneBehavior::RelationshipTarget` can be merged into the normal `ComponentCloneBehavior::Custom`).\r\n\r\n### Improved Cloning\r\n\r\n* `Option<ComponentCloneHandler>` has been replaced by `ComponentCloneBehavior`, which encodes additional intent and context (ex: `Default`, `Ignore`, `Custom`, `RelationshipTarget` (this last one is temporary)).\r\n* Global per-world entity cloning configuration has been removed. This felt overly complicated, increased our API surface, and felt too generic. Each clone context can have different requirements (ex: what a user wants in a specific system, what a scene spawner wants, etc). I'd prefer to see how far context-specific EntityCloners get us first.\r\n* EntityCloner's internals have been reworked to remove Arcs and make it mutable.\r\n* EntityCloner is now directly stored on EntityClonerBuilder, simplifying the code somewhat\r\n* EntityCloner's \"bundle scratch\" pattern has been moved into the new BundleScratch type, improving its usability and making it usable in other contexts (such as future cross-world cloning code). Currently this is still private, but with some higher level safe APIs it could be used externally for making dynamic bundles\r\n* EntityCloner's recursive cloning behavior has been \"externalized\". It is now responsible for orchestrating recursive clones, meaning it no longer needs to be sharable/clone-able across threads / read-only.\r\n* EntityCloner now does entity mapping during clones, like scenes do. This gives behavior parity and also makes it more generically useful.\r\n* `RelatonshipTarget::RECURSIVE_SPAWN` is now `RelationshipTarget::LINKED_SPAWN`, and this field is used when cloning relationship targets to determine if cloning should happen recursively. The new `LINKED_SPAWN` term was picked to make it more generically applicable across spawning and cloning scenarios.\r\n\r\n## Next Steps\r\n\r\n* I think we should adapt EntityCloner to support cross world cloning. I think this PR helps set the stage for that by making the internals slightly more generalized. We could have a CrossWorldEntityCloner that reuses a lot of this infrastructure.\r\n* Once we support cross world cloning, we should use EntityCloner to spawn `Scene(World)` scenes. This would yield significant performance benefits (no archetype moves, less reflection overhead).\r\n","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/17687/reactions","total_count":9,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":5,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/17687/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"pcwalton","id":157897,"node_id":"MDQ6VXNlcjE1Nzg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/157897?v=4","gravatar_id":"","url":"https://api.github.com/users/pcwalton","html_url":"https://github.com/pcwalton","followers_url":"https://api.github.com/users/pcwalton/followers","following_url":"https://api.github.com/users/pcwalton/following{/other_user}","gists_url":"https://api.github.com/users/pcwalton/gists{/gist_id}","starred_url":"https://api.github.com/users/pcwalton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pcwalton/subscriptions","organizations_url":"https://api.github.com/users/pcwalton/orgs","repos_url":"https://api.github.com/users/pcwalton/repos","events_url":"https://api.github.com/users/pcwalton/events{/privacy}","received_events_url":"https://api.github.com/users/pcwalton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-02-05T23:38:50Z","updated_at":"2025-02-05T23:38:50Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/17698","repository_url":"https://api.github.com/repos/bevyengine/bevy","labels_url":"https://api.github.com/repos/bevyengine/bevy/issues/17698/labels{/name}","comments_url":"https://api.github.com/repos/bevyengine/bevy/issues/17698/comments","events_url":"https://api.github.com/repos/bevyengine/bevy/issues/17698/events","html_url":"https://github.com/bevyengine/bevy/pull/17698","id":2834178041,"node_id":"PR_kwDODf6-U86KNOQN","number":17698,"title":"Retain bins from frame to frame.","user":{"login":"pcwalton","id":157897,"node_id":"MDQ6VXNlcjE1Nzg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/157897?v=4","gravatar_id":"","url":"https://api.github.com/users/pcwalton","html_url":"https://github.com/pcwalton","followers_url":"https://api.github.com/users/pcwalton/followers","following_url":"https://api.github.com/users/pcwalton/following{/other_user}","gists_url":"https://api.github.com/users/pcwalton/gists{/gist_id}","starred_url":"https://api.github.com/users/pcwalton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pcwalton/subscriptions","organizations_url":"https://api.github.com/users/pcwalton/orgs","repos_url":"https://api.github.com/users/pcwalton/repos","events_url":"https://api.github.com/users/pcwalton/events{/privacy}","received_events_url":"https://api.github.com/users/pcwalton/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2045383863,"node_id":"MDU6TGFiZWwyMDQ1MzgzODYz","url":"https://api.github.com/repos/bevyengine/bevy/labels/A-Rendering","name":"A-Rendering","color":"C6A751","default":false,"description":"Drawing game state to the screen"},{"id":2272098452,"node_id":"MDU6TGFiZWwyMjcyMDk4NDUy","url":"https://api.github.com/repos/bevyengine/bevy/labels/C-Performance","name":"C-Performance","color":"B8B8B8","default":false,"description":"A change motivated by improving speed, memory usage or compile times"},{"id":6899588994,"node_id":"LA_kwDODf6-U88AAAABmz9fgg","url":"https://api.github.com/repos/bevyengine/bevy/labels/S-Needs-Review","name":"S-Needs-Review","color":"D876E3","default":false,"description":"Needs reviewer attention (from anyone!) to move forward"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2025-02-05T23:38:49Z","updated_at":"2025-02-08T20:31:38Z","closed_at":"2025-02-08T20:31:37Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":234798675,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQ3OTg2NzU=","name":"bevy","full_name":"bevyengine/bevy","private":false,"owner":{"login":"bevyengine","id":60047606,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMDQ3NjA2","avatar_url":"https://avatars.githubusercontent.com/u/60047606?v=4","gravatar_id":"","url":"https://api.github.com/users/bevyengine","html_url":"https://github.com/bevyengine","followers_url":"https://api.github.com/users/bevyengine/followers","following_url":"https://api.github.com/users/bevyengine/following{/other_user}","gists_url":"https://api.github.com/users/bevyengine/gists{/gist_id}","starred_url":"https://api.github.com/users/bevyengine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bevyengine/subscriptions","organizations_url":"https://api.github.com/users/bevyengine/orgs","repos_url":"https://api.github.com/users/bevyengine/repos","events_url":"https://api.github.com/users/bevyengine/events{/privacy}","received_events_url":"https://api.github.com/users/bevyengine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bevyengine/bevy","description":"A refreshingly simple data-driven game engine built in Rust","fork":false,"url":"https://api.github.com/repos/bevyengine/bevy","forks_url":"https://api.github.com/repos/bevyengine/bevy/forks","keys_url":"https://api.github.com/repos/bevyengine/bevy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bevyengine/bevy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bevyengine/bevy/teams","hooks_url":"https://api.github.com/repos/bevyengine/bevy/hooks","issue_events_url":"https://api.github.com/repos/bevyengine/bevy/issues/events{/number}","events_url":"https://api.github.com/repos/bevyengine/bevy/events","assignees_url":"https://api.github.com/repos/bevyengine/bevy/assignees{/user}","branches_url":"https://api.github.com/repos/bevyengine/bevy/branches{/branch}","tags_url":"https://api.github.com/repos/bevyengine/bevy/tags","blobs_url":"https://api.github.com/repos/bevyengine/bevy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bevyengine/bevy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bevyengine/bevy/git/refs{/sha}","trees_url":"https://api.github.com/repos/bevyengine/bevy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bevyengine/bevy/statuses/{sha}","languages_url":"https://api.github.com/repos/bevyengine/bevy/languages","stargazers_url":"https://api.github.com/repos/bevyengine/bevy/stargazers","contributors_url":"https://api.github.com/repos/bevyengine/bevy/contributors","subscribers_url":"https://api.github.com/repos/bevyengine/bevy/subscribers","subscription_url":"https://api.github.com/repos/bevyengine/bevy/subscription","commits_url":"https://api.github.com/repos/bevyengine/bevy/commits{/sha}","git_commits_url":"https://api.github.com/repos/bevyengine/bevy/git/commits{/sha}","comments_url":"https://api.github.com/repos/bevyengine/bevy/comments{/number}","issue_comment_url":"https://api.github.com/repos/bevyengine/bevy/issues/comments{/number}","contents_url":"https://api.github.com/repos/bevyengine/bevy/contents/{+path}","compare_url":"https://api.github.com/repos/bevyengine/bevy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bevyengine/bevy/merges","archive_url":"https://api.github.com/repos/bevyengine/bevy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bevyengine/bevy/downloads","issues_url":"https://api.github.com/repos/bevyengine/bevy/issues{/number}","pulls_url":"https://api.github.com/repos/bevyengine/bevy/pulls{/number}","milestones_url":"https://api.github.com/repos/bevyengine/bevy/milestones{/number}","notifications_url":"https://api.github.com/repos/bevyengine/bevy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bevyengine/bevy/labels{/name}","releases_url":"https://api.github.com/repos/bevyengine/bevy/releases{/id}","deployments_url":"https://api.github.com/repos/bevyengine/bevy/deployments","created_at":"2020-01-18T21:13:55Z","updated_at":"2025-11-10T00:30:24Z","pushed_at":"2025-11-09T20:05:46Z","git_url":"git://github.com/bevyengine/bevy.git","ssh_url":"git@github.com:bevyengine/bevy.git","clone_url":"https://github.com/bevyengine/bevy.git","svn_url":"https://github.com/bevyengine/bevy","homepage":"https://bevy.org","size":152673,"stargazers_count":42996,"watchers_count":42996,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":true,"forks_count":4220,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3116,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bevy","game-development","game-engine","gamedev","open-source","rust"],"visibility":"public","forks":4220,"open_issues":3116,"watchers":42996,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/bevyengine/bevy/pulls/17698","html_url":"https://github.com/bevyengine/bevy/pull/17698","diff_url":"https://github.com/bevyengine/bevy/pull/17698.diff","patch_url":"https://github.com/bevyengine/bevy/pull/17698.patch","merged_at":"2025-02-08T20:31:37Z"},"body":"This PR makes Bevy keep entities in bins from frame to frame if they haven't changed. This reduces the time spent in `queue_material_meshes` and related functions to near zero for static geometry. This patch uses the same change tick technique that #17567 uses to detect when meshes have changed in such a way as to require re-binning.\r\n\r\nIn order to quickly find the relevant bin for an entity when that entity has changed, we introduce a new type of cache, the *bin key cache*. This cache stores a mapping from main world entity ID to cached bin key, as well as the tick of the most recent change to the entity. As we iterate through the visible entities in `queue_material_meshes`, we check the cache to see whether the entity needs to be re-binned. If it doesn't, then we mark it as clean in the `valid_cached_entity_bin_keys` bit set. If it does, then we insert it into the correct bin, and then mark the entity as clean. At the end, all entities not marked as clean are removed from the bins.\r\n\r\nThis patch has a dramatic effect on the rendering performance of most benchmarks, as it effectively eliminates `queue_material_meshes` from the profile. Note, however, that it generally simultaneously regresses `batch_and_prepare_binned_render_phase` by a bit (not by enough to outweigh the win, however). I believe that's because, before this patch, `queue_material_meshes` put the bins in the CPU cache for `batch_and_prepare_binned_render_phase` to use, while with this patch, `batch_and_prepare_binned_render_phase` must load the bins into the CPU cache itself.\r\n\r\nOn Caldera, this reduces the time spent in `queue_material_meshes` from 5+ ms to 0.2ms-0.3ms. Note that benchmarking on that scene is very noisy right now because of https://github.com/bevyengine/bevy/issues/17535.\r\n\r\n![Screenshot 2025-02-05 153458](https://github.com/user-attachments/assets/e55f8134-b7e3-4b78-a5af-8d83e1e213b7)\r\n","reactions":{"url":"https://api.github.com/repos/bevyengine/bevy/issues/17698/reactions","total_count":4,"+1":0,"-1":0,"laugh":0,"hooray":4,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bevyengine/bevy/issues/17698/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":16217021060,"node_id":"REFE_lADODf6-U86njTv2zwAAAAPGnBqE","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16217021060","actor":{"login":"github-merge-queue[bot]","id":118344674,"node_id":"BOT_kgDOBw3L4g","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github-merge-queue%5Bbot%5D","html_url":"https://github.com/apps/github-merge-queue","followers_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3c8fae23904e70e5e4c275ab89401b9de6ecb7d7","commit_url":"https://api.github.com/repos/bevyengine/bevy/commits/3c8fae23904e70e5e4c275ab89401b9de6ecb7d7","created_at":"2025-02-06T22:30:31Z","performed_via_github_app":null},{"id":16217021210,"node_id":"CE_lADODf6-U86njTv2zwAAAAPGnBsa","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16217021210","actor":{"login":"cart","id":2694663,"node_id":"MDQ6VXNlcjI2OTQ2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2694663?v=4","gravatar_id":"","url":"https://api.github.com/users/cart","html_url":"https://github.com/cart","followers_url":"https://api.github.com/users/cart/followers","following_url":"https://api.github.com/users/cart/following{/other_user}","gists_url":"https://api.github.com/users/cart/gists{/gist_id}","starred_url":"https://api.github.com/users/cart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cart/subscriptions","organizations_url":"https://api.github.com/users/cart/orgs","repos_url":"https://api.github.com/users/cart/repos","events_url":"https://api.github.com/users/cart/events{/privacy}","received_events_url":"https://api.github.com/users/cart/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-02-06T22:30:32Z","state_reason":null,"performed_via_github_app":null},{"id":16236490203,"node_id":"REFE_lADODf6-U86njTv2zwAAAAPHxS3b","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16236490203","actor":{"login":"github-merge-queue[bot]","id":118344674,"node_id":"BOT_kgDOBw3L4g","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github-merge-queue%5Bbot%5D","html_url":"https://github.com/apps/github-merge-queue","followers_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-merge-queue%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7fc122ad16418a0392118fb361a51d92148002c2","commit_url":"https://api.github.com/repos/bevyengine/bevy/commits/7fc122ad16418a0392118fb361a51d92148002c2","created_at":"2025-02-08T20:31:38Z","performed_via_github_app":null},{"id":16326575653,"node_id":"REFE_lADODf6-U86njTv2zwAAAAPNI8Yl","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16326575653","actor":{"login":"mrchantey","id":25616826,"node_id":"MDQ6VXNlcjI1NjE2ODI2","avatar_url":"https://avatars.githubusercontent.com/u/25616826?v=4","gravatar_id":"","url":"https://api.github.com/users/mrchantey","html_url":"https://github.com/mrchantey","followers_url":"https://api.github.com/users/mrchantey/followers","following_url":"https://api.github.com/users/mrchantey/following{/other_user}","gists_url":"https://api.github.com/users/mrchantey/gists{/gist_id}","starred_url":"https://api.github.com/users/mrchantey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrchantey/subscriptions","organizations_url":"https://api.github.com/users/mrchantey/orgs","repos_url":"https://api.github.com/users/mrchantey/repos","events_url":"https://api.github.com/users/mrchantey/events{/privacy}","received_events_url":"https://api.github.com/users/mrchantey/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7259bf8aa3e6d8cc2886e67a93e32fa484b7d17b","commit_url":"https://api.github.com/repos/mrchantey/bevy/commits/7259bf8aa3e6d8cc2886e67a93e32fa484b7d17b","created_at":"2025-02-17T02:53:40Z","performed_via_github_app":null},{"id":16326575801,"node_id":"REFE_lADODf6-U86njTv2zwAAAAPNI8a5","url":"https://api.github.com/repos/bevyengine/bevy/issues/events/16326575801","actor":{"login":"mrchantey","id":25616826,"node_id":"MDQ6VXNlcjI1NjE2ODI2","avatar_url":"https://avatars.githubusercontent.com/u/25616826?v=4","gravatar_id":"","url":"https://api.github.com/users/mrchantey","html_url":"https://github.com/mrchantey","followers_url":"https://api.github.com/users/mrchantey/followers","following_url":"https://api.github.com/users/mrchantey/following{/other_user}","gists_url":"https://api.github.com/users/mrchantey/gists{/gist_id}","starred_url":"https://api.github.com/users/mrchantey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrchantey/subscriptions","organizations_url":"https://api.github.com/users/mrchantey/orgs","repos_url":"https://api.github.com/users/mrchantey/repos","events_url":"https://api.github.com/users/mrchantey/events{/privacy}","received_events_url":"https://api.github.com/users/mrchantey/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a9a8523c7862815bb8dde0068dd012d437d36534","commit_url":"https://api.github.com/repos/mrchantey/bevy/commits/a9a8523c7862815bb8dde0068dd012d437d36534","created_at":"2025-02-17T02:53:41Z","performed_via_github_app":null}]