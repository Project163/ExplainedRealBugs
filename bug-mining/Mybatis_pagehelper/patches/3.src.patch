diff --git a/README.md b/README.md
index 8ab23d7..a4494e9 100644
--- a/README.md
+++ b/README.md
@@ -8,7 +8,21 @@
 
 ##嫌这页文档内容太多太乱？[点击查看wiki文档](http://git.oschina.net/free/Mybatis_PageHelper/wikis/home)
 
-##最新版本为3.4.2
+##最新版本为3.4.3
+
+ - 增加更丰富的调用方法[#23](http://git.oschina.net/free/Mybatis_PageHelper/issues/23)
+   - `startPage(int pageNum, int pageSize)`
+   - `startPage(int pageNum, int pageSize, boolean count)`
+   - +`startPage(int pageNum, int pageSize, boolean count, boolean reasonable)`
+   - +`startPage(int pageNum, int pageSize, boolean count, boolean reasonable, boolean pageSizeZero)`
+   - +`startPage(Object params)`<b>注：只能是`Map`或`ServletRequest`类型</b>
+
+ - 为了支持`startPage(Object params)`方法，增加了一个`params`参数来配置参数映射，用于从`Map`或`ServletRequest`中取值,配置如：
+   `<property="params" value="pageNum=start;pageSize=limit;pageSizeZero=zero;reasonable=heli;count=contsql"/>`
+
+ - 解决一个`<foreach>`标签使用对象内部属性循环时的bug[#24](http://git.oschina.net/free/Mybatis_PageHelper/issues/24)
+ 
+##3.4.2
 
 `PageInfo`中的`judgePageBoudary`方法修改：
 ```java
diff --git a/pom.xml b/pom.xml
index 0975efd..f95f2d1 100644
--- a/pom.xml
+++ b/pom.xml
@@ -4,7 +4,7 @@
 
   <groupId>com.github.pagehelper</groupId>
   <artifactId>pagehelper</artifactId>
-  <version>3.4.2</version>
+  <version>3.4.3</version>
   <packaging>jar</packaging>
 
   <name>pagehelper</name>
@@ -36,6 +36,11 @@
   </properties>
 
   <dependencies>
+    <dependency>
+      <groupId>com.github.jsqlparser</groupId>
+      <artifactId>jsqlparser</artifactId>
+      <version>0.9.1</version>
+    </dependency>
     <dependency>
       <groupId>org.mybatis</groupId>
       <artifactId>mybatis</artifactId>
@@ -44,9 +49,10 @@
       <optional>true</optional>
     </dependency>
     <dependency>
-      <groupId>com.github.jsqlparser</groupId>
-      <artifactId>jsqlparser</artifactId>
-      <version>0.9.1</version>
+      <groupId>javax.servlet</groupId>
+      <artifactId>servlet-api</artifactId>
+      <version>2.5</version>
+      <scope>compile</scope>
       <optional>true</optional>
     </dependency>
 
diff --git a/src/main/java/com/github/pagehelper/Page.java b/src/main/java/com/github/pagehelper/Page.java
index 450a7e1..4909239 100644
--- a/src/main/java/com/github/pagehelper/Page.java
+++ b/src/main/java/com/github/pagehelper/Page.java
@@ -39,43 +39,66 @@ import java.util.List;
 public class Page<E> extends ArrayList<E> {
     private static final long serialVersionUID = 1L;
 
-    /**不进行count查询*/
+    /**
+     * 不进行count查询
+     */
     private static final int NO_SQL_COUNT = -1;
-    /**进行count查询*/
+    /**
+     * 进行count查询
+     */
     private static final int SQL_COUNT = 0;
-    /**页码，从1开始*/
+    /**
+     * 页码，从1开始
+     */
     private int pageNum;
-    /**页面大小*/
+    /**
+     * 页面大小
+     */
     private int pageSize;
-    /**起始行*/
+    /**
+     * 起始行
+     */
     private int startRow;
-    /**末行*/
+    /**
+     * 末行
+     */
     private int endRow;
-    /**总数*/
+    /**
+     * 总数
+     */
     private long total;
-    /**总页数*/
+    /**
+     * 总页数
+     */
     private int pages;
-    /**分页合理化*/
-    private boolean reasonable;
+    /**
+     * 分页合理化
+     */
+    private Boolean reasonable;
+    /**
+     * 当设置为true的时候，如果pagesize设置为0（或RowBounds的limit=0），就不执行分页，返回全部结果
+     */
+    private Boolean pageSizeZero;
 
-    public Page(){
-    	super();
+    public Page() {
+        super();
     }
 
     public Page(int pageNum, int pageSize) {
-        this(pageNum, pageSize, SQL_COUNT);
+        this(pageNum, pageSize, SQL_COUNT, null);
     }
 
     public Page(int pageNum, int pageSize, boolean count) {
-        this(pageNum, pageSize, count ? Page.SQL_COUNT : Page.NO_SQL_COUNT);
+        this(pageNum, pageSize, count ? Page.SQL_COUNT : Page.NO_SQL_COUNT, null);
     }
 
-    public Page(int pageNum, int pageSize, int total) {
+    private Page(int pageNum, int pageSize, int total, Boolean reasonable) {
         super(pageSize > -1 ? pageSize : 0);
         this.pageNum = pageNum;
         this.pageSize = pageSize;
         this.total = total;
         calculateStartAndEndRow();
+        setReasonable(reasonable);
     }
 
     public Page(RowBounds rowBounds, boolean count) {
@@ -110,7 +133,7 @@ public class Page<E> extends ArrayList<E> {
 
     public void setPageNum(int pageNum) {
         //分页合理化，针对不合理的页码自动处理
-        this.pageNum = (reasonable && pageNum <= 0) ? 1 : pageNum;
+        this.pageNum = ((reasonable != null && reasonable) && pageNum <= 0) ? 1 : pageNum;
     }
 
     public int getPageSize() {
@@ -137,13 +160,16 @@ public class Page<E> extends ArrayList<E> {
             pages = 0;
         }
         //分页合理化，针对不合理的页码自动处理
-        if (reasonable && pageNum > pages) {
+        if ((reasonable != null && reasonable) && pageNum > pages) {
             pageNum = pages;
             calculateStartAndEndRow();
         }
     }
 
-    public void setReasonable(boolean reasonable) {
+    public void setReasonable(Boolean reasonable) {
+        if (reasonable == null) {
+            return;
+        }
         this.reasonable = reasonable;
         //分页合理化，针对不合理的页码自动处理
         if (this.reasonable && this.pageNum <= 0) {
@@ -152,6 +178,18 @@ public class Page<E> extends ArrayList<E> {
         }
     }
 
+    public Boolean getReasonable() {
+        return reasonable;
+    }
+
+    public Boolean getPageSizeZero() {
+        return pageSizeZero;
+    }
+
+    public void setPageSizeZero(Boolean pageSizeZero) {
+        this.pageSizeZero = pageSizeZero;
+    }
+
     /**
      * 计算起止行号
      */
diff --git a/src/main/java/com/github/pagehelper/PageHelper.java b/src/main/java/com/github/pagehelper/PageHelper.java
index c6d52e0..a621ee8 100644
--- a/src/main/java/com/github/pagehelper/PageHelper.java
+++ b/src/main/java/com/github/pagehelper/PageHelper.java
@@ -31,7 +31,10 @@ import org.apache.ibatis.plugin.*;
 import org.apache.ibatis.session.ResultHandler;
 import org.apache.ibatis.session.RowBounds;
 
+import java.lang.reflect.Method;
+import java.util.HashMap;
 import java.util.List;
+import java.util.Map;
 import java.util.Properties;
 
 /**
@@ -51,10 +54,16 @@ public class PageHelper implements Interceptor {
     private boolean offsetAsPageNum = false;
     //RowBounds是否进行count查询 - 默认不查询
     private boolean rowBoundsWithCount = false;
-    //当设置为true的时候，如果pagesize设置为0（或RowBounds的limit=0），就不执行分页
+    //当设置为true的时候，如果pagesize设置为0（或RowBounds的limit=0），就不执行分页，返回全部结果
     private boolean pageSizeZero = false;
     //分页合理化
     private boolean reasonable = false;
+    //params参数映射
+    private static Map<String, String> PARAMS = new HashMap<String, String>(5);
+    //request获取方法
+    private static Boolean hasRequest;
+    private static Class<?> requestClass;
+    private static Method getParameter;
 
     /**
      * 开始分页
@@ -77,6 +86,116 @@ public class PageHelper implements Interceptor {
         LOCAL_PAGE.set(new Page(pageNum, pageSize, count));
     }
 
+    /**
+     * 开始分页
+     *
+     * @param pageNum    页码
+     * @param pageSize   每页显示数量
+     * @param count      是否进行count查询
+     * @param reasonable 分页合理化
+     */
+    public static void startPage(int pageNum, int pageSize, boolean count, boolean reasonable) {
+        Page page = new Page(pageNum, pageSize, count);
+        page.setReasonable(reasonable);
+        LOCAL_PAGE.set(page);
+    }
+
+    /**
+     * 开始分页
+     *
+     * @param pageNum      页码
+     * @param pageSize     每页显示数量
+     * @param count        是否进行count查询
+     * @param reasonable   分页合理化
+     * @param pageSizeZero true且pageSize=0时返回全部结果，false时分页
+     */
+    public static void startPage(int pageNum, int pageSize, boolean count, boolean reasonable, boolean pageSizeZero) {
+        Page page = new Page(pageNum, pageSize, count);
+        page.setReasonable(reasonable);
+        page.setPageSizeZero(pageSizeZero);
+        LOCAL_PAGE.set(page);
+    }
+
+    /**
+     * 开始分页
+     *
+     * @param params 只能是Map或ServletRequest类型
+     */
+    public static void startPage(Object params) {
+        int pageNum = 0;
+        int pageSize = 0;
+        try {
+            pageNum = Integer.parseInt(String.valueOf(getParamValue(params, "pageNum", true)));
+            pageSize = Integer.parseInt(String.valueOf(getParamValue(params, "pageSize", true)));
+        } catch (NumberFormatException e) {
+            throw new IllegalArgumentException("分页参数不是合法的数字类型!");
+        }
+        Object _count = getParamValue(params, "count", false);
+        boolean count = true;
+        if (_count != null) {
+            count = Boolean.valueOf(String.valueOf(_count));
+        }
+        Page page = new Page(pageNum, pageSize, count);
+        Object reasonable = getParamValue(params, "reasonable", false);
+        if (reasonable != null) {
+            page.setReasonable(Boolean.valueOf(String.valueOf(reasonable)));
+        }
+        Object pageSizeZero = getParamValue(params, "pageSizeZero", false);
+        if (pageSizeZero != null) {
+            page.setPageSizeZero(Boolean.valueOf(String.valueOf(pageSizeZero)));
+        }
+        LOCAL_PAGE.set(page);
+    }
+
+    /**
+     * 从对象中取参数
+     *
+     * @param params
+     * @param paramName
+     * @param required
+     * @return
+     */
+    private static Object getParamValue(Object params, String paramName, boolean required) {
+        if (params == null) {
+            throw new NullPointerException("分页查询参数params不能为空!");
+        }
+        Object value = null;
+        if (params instanceof Map) {
+            if (((Map) params).containsKey(PARAMS.get(paramName))) {
+                value = ((Map) params).get(PARAMS.get(paramName));
+            }
+        } else {
+            if (hasRequest == null) {
+                try {
+                    requestClass = Class.forName("javax.servlet.ServletRequest");
+                    getParameter = requestClass.getMethod("getParameter", String.class);
+                    hasRequest = true;
+                } catch (Exception e) {
+                    hasRequest = false;
+                }
+            }
+            if (hasRequest) {
+                try {
+                    if (requestClass.isAssignableFrom(params.getClass())) {
+                        value = getParameter.invoke(params, PARAMS.get(paramName));
+                    } else {
+                        throw new IllegalArgumentException("分页查询参数params类型错误，只能是Map或ServletRequest类型!");
+                    }
+                } catch (IllegalArgumentException e) {
+                    throw e;
+                } catch (Exception e) {
+                    //忽略
+                }
+            } else {
+                throw new IllegalArgumentException("分页查询参数params类型错误，只能是Map或ServletRequest类型!");
+            }
+        }
+        if (required && value == null) {
+            throw new RuntimeException("分页查询缺少必要的参数:" + paramName);
+        }
+        return value;
+    }
+
     /**
      * 获取分页参数
      *
@@ -95,7 +214,13 @@ public class PageHelper implements Interceptor {
             }
         }
         //分页合理化
-        page.setReasonable(reasonable);
+        if (page.getReasonable() == null) {
+            page.setReasonable(reasonable);
+        }
+        //当设置为true的时候，如果pagesize设置为0（或RowBounds的limit=0），就不执行分页，返回全部结果
+        if (page.getPageSizeZero() == null) {
+            page.setPageSizeZero(pageSizeZero);
+        }
         return page;
     }
 
@@ -119,7 +244,7 @@ public class PageHelper implements Interceptor {
             //分页信息
             Page page = getPage(rowBounds);
             //pageSizeZero的判断
-            if (pageSizeZero && page.getPageSize() == 0) {
+            if ((page.getPageSizeZero() != null && page.getPageSizeZero()) && page.getPageSize() == 0) {
                 //执行正常（不分页）查询
                 Object result = invocation.proceed();
                 //得到处理结果
@@ -197,5 +322,21 @@ public class PageHelper implements Interceptor {
         //分页合理化，true开启，如果分页参数不合理会自动修正。默认false不启用
         String reasonable = p.getProperty("reasonable");
         this.reasonable = Boolean.parseBoolean(reasonable);
+        //参数映射
+        PARAMS.put("pageNum", "pageNum");
+        PARAMS.put("pageSize", "pageSize");
+        PARAMS.put("count", "count");
+        PARAMS.put("reasonable", "reasonable");
+        PARAMS.put("pageSizeZero", "pageSizeZero");
+        String params = p.getProperty("params");
+        if (params != null && params.length() > 0) {
+            String[] ps = params.split("[;|,|&]");
+            for (String s : ps) {
+                String[] ss = s.split("=");
+                if (ss.length == 2) {
+                    PARAMS.put(ss[0], ss[1]);
+                }
+            }
+        }
     }
 }
diff --git a/src/main/java/com/github/pagehelper/SqlUtil.java b/src/main/java/com/github/pagehelper/SqlUtil.java
index 4f3340f..b60c160 100644
--- a/src/main/java/com/github/pagehelper/SqlUtil.java
+++ b/src/main/java/com/github/pagehelper/SqlUtil.java
@@ -252,8 +252,7 @@ public class SqlUtil {
                             if (hasTypeHandler
                                     || parameterMapping.getJavaType().equals(parameterObject.getClass())) {
                                 paramMap.put(name, parameterObject);
-                            } else {
-                                paramMap.put(name, metaObject.getValue(name));
+                                break;
                             }
                         }
                     }
diff --git a/src/test/java/com/github/pagehelper/mapper/CountryMapper.java b/src/test/java/com/github/pagehelper/mapper/CountryMapper.java
index 724de17..e8a3885 100644
--- a/src/test/java/com/github/pagehelper/mapper/CountryMapper.java
+++ b/src/test/java/com/github/pagehelper/mapper/CountryMapper.java
@@ -1,6 +1,7 @@
 package com.github.pagehelper.mapper;
 
 import com.github.pagehelper.model.Country;
+import com.github.pagehelper.test.basic.dynamic.Where;
 import org.apache.ibatis.annotations.Param;
 import org.apache.ibatis.annotations.Select;
 import org.apache.ibatis.annotations.SelectProvider;
@@ -72,4 +73,7 @@ public interface CountryMapper {
 
     //group by时
     List<Country> selectGroupBy();
+
+    //select Map
+    List<Country> selectByWhereMap(Where where);
 }
diff --git a/src/test/java/com/github/pagehelper/mapper/CountryMapper.xml b/src/test/java/com/github/pagehelper/mapper/CountryMapper.xml
index 092016b..d35ef50 100644
--- a/src/test/java/com/github/pagehelper/mapper/CountryMapper.xml
+++ b/src/test/java/com/github/pagehelper/mapper/CountryMapper.xml
@@ -158,4 +158,12 @@
     select countryname,countrycode,count(id) id from country group by countryname,countrycode
   </select>
 
+  <select id="selectByWhereMap" resultType="com.github.pagehelper.model.Country">
+    select * from country
+    <where>
+      <foreach collection="map" item="val" index="key" separator="and">
+        ${key} = #{val}
+      </foreach>
+    </where>
+  </select>
 </mapper>
diff --git a/src/test/java/com/github/pagehelper/test/basic/dynamic/TestDynamicWhere.java b/src/test/java/com/github/pagehelper/test/basic/dynamic/TestDynamicWhere.java
new file mode 100644
index 0000000..56afe26
--- /dev/null
+++ b/src/test/java/com/github/pagehelper/test/basic/dynamic/TestDynamicWhere.java
@@ -0,0 +1,63 @@
+/*
+ * The MIT License (MIT)
+ *
+ * Copyright (c) 2014 abel533@gmail.com
+ *
+ * Permission is hereby granted, free of charge, to any person obtaining a copy
+ * of this software and associated documentation files (the "Software"), to deal
+ * in the Software without restriction, including without limitation the rights
+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+ * copies of the Software, and to permit persons to whom the Software is
+ * furnished to do so, subject to the following conditions:
+ *
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
+ * THE SOFTWARE.
+ */
+
+package com.github.pagehelper.test.basic.dynamic;
+
+import com.github.pagehelper.Page;
+import com.github.pagehelper.PageHelper;
+import com.github.pagehelper.mapper.CountryMapper;
+import com.github.pagehelper.model.Country;
+import com.github.pagehelper.util.MybatisHelper;
+import org.apache.ibatis.session.SqlSession;
+import org.junit.Test;
+
+import java.util.HashMap;
+import java.util.List;
+import java.util.Map;
+
+import static org.junit.Assert.assertEquals;
+
+public class TestDynamicWhere {
+
+    @Test
+    public void testMapperWithStartPage() {
+        SqlSession sqlSession = MybatisHelper.getSqlSession();
+        CountryMapper countryMapper = sqlSession.getMapper(CountryMapper.class);
+        try {
+            //获取第1页，10条内容，默认查询总数count
+            Map<String, Object> params = new HashMap<String, Object>(2);
+            params.put("pageNum", 1L);
+            params.put("pageSize", "100");
+            PageHelper.startPage(params);
+            Map<String, Object> where = new HashMap<String, Object>();
+            where.put("id", 100);
+            List<Country> list = countryMapper.selectByWhereMap(new Where(where));
+            assertEquals(100, list.get(0).getId());
+            assertEquals(1, list.size());
+            assertEquals(1, ((Page) list).getTotal());
+        } finally {
+            sqlSession.close();
+        }
+    }
+}
diff --git a/src/test/java/com/github/pagehelper/test/basic/dynamic/Where.java b/src/test/java/com/github/pagehelper/test/basic/dynamic/Where.java
new file mode 100644
index 0000000..3ee8237
--- /dev/null
+++ b/src/test/java/com/github/pagehelper/test/basic/dynamic/Where.java
@@ -0,0 +1,22 @@
+package com.github.pagehelper.test.basic.dynamic;
+
+import java.util.Map;
+
+/**
+ * Created by liuzh on 2015/1/11.
+ */
+public class Where {
+    private Map<String,Object> map;
+
+    public Where(Map<String, Object> map) {
+        this.map = map;
+    }
+
+    public Map<String, Object> getMap() {
+        return map;
+    }
+
+    public void setMap(Map<String, Object> map) {
+        this.map = map;
+    }
+}
