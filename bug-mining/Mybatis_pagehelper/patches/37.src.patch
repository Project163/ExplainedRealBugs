diff --git a/src/main/java/com/github/pagehelper/util/MetaObjectUtil.java b/src/main/java/com/github/pagehelper/util/MetaObjectUtil.java
index 952a065..be03c27 100644
--- a/src/main/java/com/github/pagehelper/util/MetaObjectUtil.java
+++ b/src/main/java/com/github/pagehelper/util/MetaObjectUtil.java
@@ -38,18 +38,24 @@ public class MetaObjectUtil {
     static {
         try {
             // 高版本中的 MetaObject.forObject 有 4 个参数，低版本是 1 个
+            //先判断当前使用的是否为高版本
+            Class.forName("org.apache.ibatis.reflection.ReflectorFactory");
             // 下面这个 MetaObjectWithReflectCache 带反射的缓存信息
             Class<?> metaClass = Class.forName("com.github.pagehelper.util.MetaObjectWithReflectCache");
             method = metaClass.getDeclaredMethod("forObject", Object.class);
         } catch (Throwable e1) {
             try {
-                Class<?> metaClass = Class.forName("org.apache.ibatis.reflection.MetaObject");
+                Class<?> metaClass = Class.forName("org.apache.ibatis.reflection.SystemMetaObject");
                 method = metaClass.getDeclaredMethod("forObject", Object.class);
             } catch (Exception e2) {
-                throw new PageException(e2);
+                try {
+                    Class<?> metaClass = Class.forName("org.apache.ibatis.reflection.MetaObject");
+                    method = metaClass.getDeclaredMethod("forObject", Object.class);
+                } catch (Exception e3) {
+                    throw new PageException(e3);
+                }
             }
         }
-
     }
 
     public static MetaObject forObject(Object object) {
