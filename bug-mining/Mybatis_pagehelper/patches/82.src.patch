diff --git a/pom.xml b/pom.xml
index a82d061..8c17e5d 100644
--- a/pom.xml
+++ b/pom.xml
@@ -151,7 +151,7 @@
         <dependency>
             <groupId>mysql</groupId>
             <artifactId>mysql-connector-java</artifactId>
-            <version>5.1.29</version>
+            <version>8.0.33</version>
             <scope>test</scope>
         </dependency>
         <dependency>
diff --git a/src/main/java/com/github/pagehelper/Dialect.java b/src/main/java/com/github/pagehelper/Dialect.java
index fa459de..c32ed58 100644
--- a/src/main/java/com/github/pagehelper/Dialect.java
+++ b/src/main/java/com/github/pagehelper/Dialect.java
@@ -31,6 +31,9 @@ import org.apache.ibatis.session.RowBounds;
 
 import java.util.List;
 import java.util.Properties;
+import java.util.concurrent.Callable;
+import java.util.concurrent.ForkJoinPool;
+import java.util.concurrent.Future;
 
 /**
  * 数据库方言，针对不同数据库进行实现
@@ -48,6 +51,26 @@ public interface Dialect {
      */
     boolean skip(MappedStatement ms, Object parameterObject, RowBounds rowBounds);
 
+    /**
+     * 是否使用异步 count 查询，使用异步后不会根据返回的 count 数来判断是否有必要进行分页查询
+     *
+     * @return true 异步，false 同步
+     */
+    default boolean isAsyncCount() {
+        return false;
+    }
+
+    /**
+     * 执行异步 count 查询
+     *
+     * @param task 异步查询任务
+     * @param <T>
+     * @return
+     */
+    default <T> Future<T> asyncCountTask(Callable<T> task) {
+        return ForkJoinPool.commonPool().submit(task);
+    }
+
     /**
      * 执行分页前，返回 true 会进行 count 查询，false 会继续下面的 beforePage 判断
      *
diff --git a/src/main/java/com/github/pagehelper/Page.java b/src/main/java/com/github/pagehelper/Page.java
index ea652bb..f303118 100644
--- a/src/main/java/com/github/pagehelper/Page.java
+++ b/src/main/java/com/github/pagehelper/Page.java
@@ -114,6 +114,10 @@ public class Page<E> extends ArrayList<E> implements Closeable {
      * 转换count查询时保留子查询的 order by 排序
      */
     private              Boolean                   keepSubSelectOrderBy;
+    /**
+     * 异步count查询
+     */
+    private              Boolean                   asyncCount;
 
     public Page() {
         super();
@@ -329,6 +333,14 @@ public class Page<E> extends ArrayList<E> implements Closeable {
         this.keepSubSelectOrderBy = keepSubSelectOrderBy;
     }
 
+    public Boolean getAsyncCount() {
+        return asyncCount;
+    }
+
+    public void setAsyncCount(Boolean asyncCount) {
+        this.asyncCount = asyncCount;
+    }
+
     /**
      * 指定使用的分页实现，如果自己使用的很频繁，建议自己增加一层封装再使用
      *
@@ -466,6 +478,40 @@ public class Page<E> extends ArrayList<E> implements Closeable {
         return this.keepSubSelectOrderBy != null && this.keepSubSelectOrderBy;
     }
 
+    /**
+     * 异步count查询
+     *
+     * @param asyncCount
+     * @return
+     */
+    public Page<E> asyncCount(boolean asyncCount) {
+        this.asyncCount = asyncCount;
+        return this;
+    }
+
+    /**
+     * 使用异步count查询
+     *
+     * @return
+     */
+    public Page<E> enableAsyncCount() {
+        return asyncCount(true);
+    }
+
+    /**
+     * 不使用异步count查询
+     *
+     * @return
+     */
+    public Page<E> disableAsyncCount() {
+        return asyncCount(false);
+    }
+
+
+    public boolean asyncCount() {
+        return this.asyncCount != null && this.asyncCount;
+    }
+
     public PageInfo<E> toPageInfo() {
         return new PageInfo<E>(this);
     }
diff --git a/src/main/java/com/github/pagehelper/PageHelper.java b/src/main/java/com/github/pagehelper/PageHelper.java
index 56268f7..0a421db 100644
--- a/src/main/java/com/github/pagehelper/PageHelper.java
+++ b/src/main/java/com/github/pagehelper/PageHelper.java
@@ -39,6 +39,11 @@ import org.apache.ibatis.session.RowBounds;
 import java.util.Arrays;
 import java.util.List;
 import java.util.Properties;
+import java.util.UUID;
+import java.util.concurrent.Callable;
+import java.util.concurrent.ForkJoinPool;
+import java.util.concurrent.ForkJoinWorkerThread;
+import java.util.concurrent.Future;
 
 /**
  * Mybatis - 通用分页拦截器<br/>
@@ -48,9 +53,10 @@ import java.util.Properties;
  * @version 5.0.0
  */
 public class PageHelper extends PageMethod implements Dialect, BoundSqlInterceptor.Chain {
-    private PageParams pageParams;
-    private PageAutoDialect autoDialect;
+    private PageParams               pageParams;
+    private PageAutoDialect          autoDialect;
     private PageBoundSqlInterceptors pageBoundSqlInterceptors;
+    private ForkJoinPool             asyncCountService;
 
     @Override
     public boolean skip(MappedStatement ms, Object parameterObject, RowBounds rowBounds) {
@@ -62,11 +68,39 @@ public class PageHelper extends PageMethod implements Dialect, BoundSqlIntercept
             if (StringUtil.isEmpty(page.getCountColumn())) {
                 page.setCountColumn(pageParams.getCountColumn());
             }
+            //设置默认的异步 count 设置
+            if (page.getAsyncCount() == null) {
+                page.setAsyncCount(pageParams.isAsyncCount());
+            }
             autoDialect.initDelegateDialect(ms, page.getDialectClass());
             return false;
         }
     }
 
+    @Override
+    public boolean isAsyncCount() {
+        return getLocalPage().asyncCount();
+    }
+
+    @Override
+    public <T> Future<T> asyncCountTask(Callable<T> task) {
+        //异步执行时需要将ThreadLocal值传递，否则会找不到
+        AbstractHelperDialect dialectThreadLocal = autoDialect.getDialectThreadLocal();
+        Page<Object> localPage = getLocalPage();
+        String countId = UUID.randomUUID().toString();
+        return asyncCountService.submit(() -> {
+            try {
+                //设置 ThreadLocal
+                autoDialect.setDialectThreadLocal(dialectThreadLocal);
+                setLocalPage(localPage);
+                return task.call();
+            } finally {
+                autoDialect.clearDelegate();
+                clearPage();
+            }
+        });
+    }
+
     @Override
     public boolean beforeCount(MappedStatement ms, Object parameterObject, RowBounds rowBounds) {
         return autoDialect.getDelegate().beforeCount(ms, parameterObject, rowBounds);
@@ -155,5 +189,14 @@ public class PageHelper extends PageMethod implements Dialect, BoundSqlIntercept
         pageBoundSqlInterceptors.setProperties(properties);
         //20180902新增 aggregateFunctions, 允许手动添加聚合函数（影响行数）
         CountSqlParser.addAggregateFunctions(properties.getProperty("aggregateFunctions"));
+        // 异步 asyncCountService 并发度设置，这里默认为应用可用的处理器核心数 * 2，更合理的值应该综合考虑数据库服务器的处理能力
+        int asyncCountParallelism = Integer.parseInt(properties.getProperty("asyncCountParallelism",
+                "" + (Runtime.getRuntime().availableProcessors() * 2)));
+        asyncCountService = new ForkJoinPool(asyncCountParallelism,
+                pool -> {
+                    final ForkJoinWorkerThread worker = ForkJoinPool.defaultForkJoinWorkerThreadFactory.newThread(pool);
+                    worker.setName("pagehelper-async-count-" + worker.getPoolIndex());
+                    return worker;
+                }, null, true);
     }
 }
diff --git a/src/main/java/com/github/pagehelper/PageInterceptor.java b/src/main/java/com/github/pagehelper/PageInterceptor.java
index c0a77e4..2f64580 100644
--- a/src/main/java/com/github/pagehelper/PageInterceptor.java
+++ b/src/main/java/com/github/pagehelper/PageInterceptor.java
@@ -27,23 +27,32 @@ package com.github.pagehelper;
 import com.github.pagehelper.cache.Cache;
 import com.github.pagehelper.cache.CacheFactory;
 import com.github.pagehelper.page.PageMethod;
+import com.github.pagehelper.util.ClassUtil;
 import com.github.pagehelper.util.ExecutorUtil;
 import com.github.pagehelper.util.MSUtils;
 import com.github.pagehelper.util.StringUtil;
 import org.apache.ibatis.cache.CacheKey;
+import org.apache.ibatis.executor.CachingExecutor;
 import org.apache.ibatis.executor.Executor;
+import org.apache.ibatis.executor.SimpleExecutor;
 import org.apache.ibatis.logging.Log;
 import org.apache.ibatis.logging.LogFactory;
 import org.apache.ibatis.mapping.BoundSql;
+import org.apache.ibatis.mapping.Environment;
 import org.apache.ibatis.mapping.MappedStatement;
 import org.apache.ibatis.plugin.*;
+import org.apache.ibatis.session.Configuration;
 import org.apache.ibatis.session.ResultHandler;
 import org.apache.ibatis.session.RowBounds;
+import org.apache.ibatis.transaction.Transaction;
+import org.apache.ibatis.transaction.TransactionFactory;
+import org.apache.ibatis.transaction.managed.ManagedTransactionFactory;
 
 import java.sql.SQLException;
 import java.util.ArrayList;
 import java.util.List;
 import java.util.Properties;
+import java.util.concurrent.Future;
 
 /**
  * Mybatis - 通用分页拦截器
@@ -134,18 +143,27 @@ public class PageInterceptor implements Interceptor {
                 //开启debug时，输出触发当前分页执行时的PageHelper调用堆栈
                 // 如果和当前调用堆栈不一致，说明在启用分页后没有消费，当前线程再次执行时消费，调用堆栈显示的方法使用不安全
                 debugStackTraceLog();
+                Future<Long> countFuture = null;
                 //判断是否需要进行 count 查询
                 if (dialect.beforeCount(ms, parameter, rowBounds)) {
-                    //查询总数
-                    Long count = count(executor, ms, parameter, rowBounds, null, boundSql);
-                    //处理查询总数，返回 true 时继续分页查询，false 时直接返回
-                    if (!dialect.afterCount(count, parameter, rowBounds)) {
-                        //当查询总数为 0 时，直接返回空的结果
-                        return dialect.afterPage(new ArrayList(), parameter, rowBounds);
+                    if (dialect.isAsyncCount()) {
+                        countFuture = asyncCount(ms, boundSql, parameter, rowBounds);
+                    } else {
+                        //查询总数
+                        Long count = count(executor, ms, parameter, rowBounds, null, boundSql);
+                        //处理查询总数，返回 true 时继续分页查询，false 时直接返回
+                        if (!dialect.afterCount(count, parameter, rowBounds)) {
+                            //当查询总数为 0 时，直接返回空的结果
+                            return dialect.afterPage(new ArrayList(), parameter, rowBounds);
+                        }
                     }
                 }
                 resultList = ExecutorUtil.pageQuery(dialect, executor,
                         ms, parameter, rowBounds, resultHandler, boundSql, cacheKey);
+                if (countFuture != null) {
+                    Long count = countFuture.get();
+                    dialect.afterCount(count, parameter, rowBounds);
+                }
             } else {
                 //rowBounds用参数值，不使用分页插件处理时，仍然支持默认的内存分页
                 resultList = executor.query(ms, parameter, rowBounds, resultHandler, cacheKey, boundSql);
@@ -158,6 +176,35 @@ public class PageInterceptor implements Interceptor {
         }
     }
 
+    /**
+     * 异步查询总数
+     */
+    private Future<Long> asyncCount(MappedStatement ms, BoundSql boundSql, Object parameter, RowBounds rowBounds) {
+        Configuration configuration = ms.getConfiguration();
+        //异步不能复用 BoundSql，因为分页使用时会添加分页参数，这里需要复制一个新的
+        BoundSql countBoundSql = new BoundSql(configuration, boundSql.getSql(), new ArrayList<>(boundSql.getParameterMappings()), parameter);
+        //异步想要起作用需要新的数据库连接，需要独立的事务，创建新的Executor，因此异步查询只适合在独立查询中使用，如果混合增删改操作，不能开启异步
+        Environment environment = configuration.getEnvironment();
+        TransactionFactory transactionFactory = null;
+        if (environment == null || environment.getTransactionFactory() == null) {
+            transactionFactory = new ManagedTransactionFactory();
+        } else {
+            transactionFactory = environment.getTransactionFactory();
+        }
+        //创建新的事务
+        Transaction tx = transactionFactory.newTransaction(environment.getDataSource(), null, false);
+        //使用新的 Executor 执行 count 查询，这里没有加载拦截器，避免递归死循环
+        Executor countExecutor = new CachingExecutor(new SimpleExecutor(configuration, tx));
+
+        return dialect.asyncCountTask(() -> {
+            try {
+                return count(countExecutor, ms, parameter, rowBounds, null, countBoundSql);
+            } finally {
+                tx.close();
+            }
+        });
+    }
+
     /**
      * Spring bean 方式配置时，如果没有配置属性就不会执行下面的 setProperties 方法，就不会初始化
      * <p>
@@ -212,14 +259,8 @@ public class PageInterceptor implements Interceptor {
         if (StringUtil.isEmpty(dialectClass)) {
             dialectClass = default_dialect_class;
         }
-        Dialect tempDialect = null;
-        try {
-            Class<?> aClass = Class.forName(dialectClass);
-            tempDialect = (Dialect) aClass.newInstance();
-            tempDialect.setProperties(properties);
-        } catch (Exception e) {
-            throw new PageException(e);
-        }
+        Dialect tempDialect = ClassUtil.newInstance(dialectClass, properties);
+        tempDialect.setProperties(properties);
 
         String countSuffix = properties.getProperty("countSuffix");
         if (StringUtil.isNotEmpty(countSuffix)) {
@@ -232,15 +273,7 @@ public class PageInterceptor implements Interceptor {
         // 通过 countMsId 配置自定义类
         String countMsIdGenClass = properties.getProperty("countMsIdGen");
         if (StringUtil.isNotEmpty(countMsIdGenClass)) {
-            try {
-                Class<?> aClass = Class.forName(countMsIdGenClass);
-                countMsIdGen = (CountMsIdGen) aClass.newInstance();
-                if (countMsIdGen instanceof PageProperties) {
-                    ((PageProperties) countMsIdGen).setProperties(properties);
-                }
-            } catch (Exception e) {
-                throw new PageException(e);
-            }
+            countMsIdGen = ClassUtil.newInstance(countMsIdGenClass, properties);
         }
         // 初始化完成后再设置值，保证 dialect 完成初始化
         dialect = tempDialect;
diff --git a/src/main/java/com/github/pagehelper/dialect/AbstractDialect.java b/src/main/java/com/github/pagehelper/dialect/AbstractDialect.java
index 11ec801..1640d90 100644
--- a/src/main/java/com/github/pagehelper/dialect/AbstractDialect.java
+++ b/src/main/java/com/github/pagehelper/dialect/AbstractDialect.java
@@ -30,6 +30,7 @@ import com.github.pagehelper.PageException;
 import com.github.pagehelper.PageProperties;
 import com.github.pagehelper.parser.CountSqlParser;
 import com.github.pagehelper.parser.DefaultCountSqlParser;
+import com.github.pagehelper.util.ClassUtil;
 import com.github.pagehelper.util.StringUtil;
 import org.apache.ibatis.cache.CacheKey;
 import org.apache.ibatis.mapping.BoundSql;
@@ -59,15 +60,7 @@ public abstract class AbstractDialect implements Dialect {
         // 自定义 jsqlparser 的 sql 解析器
         String sqlParser = properties.getProperty("sqlParser");
         if (StringUtil.isNotEmpty(sqlParser)) {
-            try {
-                Class<?> aClass = Class.forName(sqlParser);
-                jSqlParser = (JSqlParser) aClass.newInstance();
-                if (jSqlParser instanceof PageProperties) {
-                    ((PageProperties) jSqlParser).setProperties(properties);
-                }
-            } catch (Exception e) {
-                throw new PageException(e);
-            }
+            jSqlParser = ClassUtil.newInstance(sqlParser, properties);
         } else {
             jSqlParser = JSqlParser.DEFAULT;
         }
diff --git a/src/main/java/com/github/pagehelper/dialect/helper/SqlServerDialect.java b/src/main/java/com/github/pagehelper/dialect/helper/SqlServerDialect.java
index 1001ccc..eb62ff3 100644
--- a/src/main/java/com/github/pagehelper/dialect/helper/SqlServerDialect.java
+++ b/src/main/java/com/github/pagehelper/dialect/helper/SqlServerDialect.java
@@ -25,7 +25,6 @@
 package com.github.pagehelper.dialect.helper;
 
 import com.github.pagehelper.Page;
-import com.github.pagehelper.PageProperties;
 import com.github.pagehelper.cache.Cache;
 import com.github.pagehelper.cache.CacheFactory;
 import com.github.pagehelper.dialect.AbstractHelperDialect;
@@ -34,6 +33,7 @@ import com.github.pagehelper.dialect.replace.RegexWithNolockReplaceSql;
 import com.github.pagehelper.dialect.replace.SimpleWithNolockReplaceSql;
 import com.github.pagehelper.parser.OrderByParser;
 import com.github.pagehelper.parser.SqlServerParser;
+import com.github.pagehelper.util.ClassUtil;
 import com.github.pagehelper.util.StringUtil;
 import org.apache.ibatis.cache.CacheKey;
 import org.apache.ibatis.mapping.BoundSql;
@@ -123,15 +123,7 @@ public class SqlServerDialect extends AbstractHelperDialect {
         } else if ("simple".equalsIgnoreCase(replaceSql)) {
             this.replaceSql = new SimpleWithNolockReplaceSql();
         } else {
-            try {
-                this.replaceSql = (ReplaceSql) Class.forName(replaceSql).newInstance();
-                if (this.replaceSql instanceof PageProperties) {
-                    ((PageProperties) this.replaceSql).setProperties(properties);
-                }
-            } catch (Exception e) {
-                throw new RuntimeException("The value of the replaceSql parameter configuration does not meet the requirements, and the optional values are simple and regex, or the "
-                        + ReplaceSql.class.getCanonicalName() + " fully qualified class name of the interface", e);
-            }
+            this.replaceSql = ClassUtil.newInstance(replaceSql, properties);
         }
         String sqlCacheClass = properties.getProperty("sqlCacheClass");
         if (StringUtil.isNotEmpty(sqlCacheClass) && !sqlCacheClass.equalsIgnoreCase("false")) {
diff --git a/src/main/java/com/github/pagehelper/dialect/rowbounds/SqlServerRowBoundsDialect.java b/src/main/java/com/github/pagehelper/dialect/rowbounds/SqlServerRowBoundsDialect.java
index c638e0a..023f2b6 100644
--- a/src/main/java/com/github/pagehelper/dialect/rowbounds/SqlServerRowBoundsDialect.java
+++ b/src/main/java/com/github/pagehelper/dialect/rowbounds/SqlServerRowBoundsDialect.java
@@ -24,12 +24,12 @@
 
 package com.github.pagehelper.dialect.rowbounds;
 
-import com.github.pagehelper.PageProperties;
 import com.github.pagehelper.dialect.AbstractRowBoundsDialect;
 import com.github.pagehelper.dialect.ReplaceSql;
 import com.github.pagehelper.dialect.replace.RegexWithNolockReplaceSql;
 import com.github.pagehelper.dialect.replace.SimpleWithNolockReplaceSql;
 import com.github.pagehelper.parser.SqlServerParser;
+import com.github.pagehelper.util.ClassUtil;
 import com.github.pagehelper.util.StringUtil;
 import org.apache.ibatis.cache.CacheKey;
 import org.apache.ibatis.mapping.BoundSql;
@@ -78,15 +78,7 @@ public class SqlServerRowBoundsDialect extends AbstractRowBoundsDialect {
         } else if("regex".equalsIgnoreCase(replaceSql)){
             this.replaceSql = new RegexWithNolockReplaceSql();
         } else {
-            try {
-                this.replaceSql = (ReplaceSql) Class.forName(replaceSql).newInstance();
-                if (this.replaceSql instanceof PageProperties) {
-                    ((PageProperties) this.replaceSql).setProperties(properties);
-                }
-            } catch (Exception e) {
-                throw new RuntimeException("replaceSql 参数配置的值不符合要求，可选值为 simple 和 regex，或者是实现了 "
-                        + ReplaceSql.class.getCanonicalName() + " 接口的全限定类名", e);
-            }
+            this.replaceSql = ClassUtil.newInstance(replaceSql, properties);
         }
     }
 }
diff --git a/src/main/java/com/github/pagehelper/page/PageAutoDialect.java b/src/main/java/com/github/pagehelper/page/PageAutoDialect.java
index 744eaab..1550b12 100644
--- a/src/main/java/com/github/pagehelper/page/PageAutoDialect.java
+++ b/src/main/java/com/github/pagehelper/page/PageAutoDialect.java
@@ -27,10 +27,10 @@ package com.github.pagehelper.page;
 import com.github.pagehelper.AutoDialect;
 import com.github.pagehelper.Dialect;
 import com.github.pagehelper.PageException;
-import com.github.pagehelper.PageProperties;
 import com.github.pagehelper.dialect.AbstractHelperDialect;
 import com.github.pagehelper.dialect.auto.*;
 import com.github.pagehelper.dialect.helper.*;
+import com.github.pagehelper.util.ClassUtil;
 import com.github.pagehelper.util.StringUtil;
 import org.apache.ibatis.mapping.MappedStatement;
 
@@ -160,6 +160,14 @@ public class PageAutoDialect {
         dialectThreadLocal.remove();
     }
 
+    public AbstractHelperDialect getDialectThreadLocal() {
+        return dialectThreadLocal.get();
+    }
+
+    public void setDialectThreadLocal(AbstractHelperDialect delegate) {
+        this.dialectThreadLocal.set(delegate);
+    }
+
     /**
      * 反射类
      *
@@ -269,10 +277,7 @@ public class PageAutoDialect {
                 } else {
                     autoDialectClass = (Class<AutoDialect>) Class.forName(autoDialectClassStr);
                 }
-                this.autoDialectDelegate = autoDialectClass.getConstructor().newInstance();
-                if (this.autoDialectDelegate instanceof PageProperties) {
-                    ((PageProperties) this.autoDialectDelegate).setProperties(properties);
-                }
+                this.autoDialectDelegate = ClassUtil.newInstance(autoDialectClass, properties);
             } catch (ClassNotFoundException e) {
                 throw new IllegalArgumentException("Make sure that the AutoDialect implementation class ("
                         + autoDialectClassStr + ") for the autoDialectClass configuration exists!", e);
@@ -318,6 +323,8 @@ public class PageAutoDialect {
     }
 
     public void setProperties(Properties properties) {
+
+        this.properties = properties;
         //初始化自定义AutoDialect
         initAutoDialectClass(properties);
         //使用 sqlserver2012 作为默认分页方式，这种情况在动态数据源时方便使用
@@ -334,12 +341,10 @@ public class PageAutoDialect {
         //1.动态多数据源
         if (StringUtil.isNotEmpty(runtimeDialect) && "TRUE".equalsIgnoreCase(runtimeDialect)) {
             this.autoDialect = false;
-            this.properties = properties;
         }
         //2.动态获取方言
         else if (StringUtil.isEmpty(dialect)) {
             autoDialect = true;
-            this.properties = properties;
         }
         //3.指定方言
         else {
diff --git a/src/main/java/com/github/pagehelper/page/PageBoundSqlInterceptors.java b/src/main/java/com/github/pagehelper/page/PageBoundSqlInterceptors.java
index d6d4f09..5824a60 100644
--- a/src/main/java/com/github/pagehelper/page/PageBoundSqlInterceptors.java
+++ b/src/main/java/com/github/pagehelper/page/PageBoundSqlInterceptors.java
@@ -26,7 +26,7 @@ package com.github.pagehelper.page;
 
 import com.github.pagehelper.BoundSqlInterceptor;
 import com.github.pagehelper.BoundSqlInterceptorChain;
-import com.github.pagehelper.PageProperties;
+import com.github.pagehelper.util.ClassUtil;
 import com.github.pagehelper.util.StringUtil;
 
 import java.util.ArrayList;
@@ -44,15 +44,7 @@ public class PageBoundSqlInterceptors {
             String[] boundSqlInterceptors = boundSqlInterceptorStr.split("[;|,]");
             List<BoundSqlInterceptor> list = new ArrayList<BoundSqlInterceptor>();
             for (int i = 0; i < boundSqlInterceptors.length; i++) {
-                try {
-                    BoundSqlInterceptor boundSqlInterceptor = (BoundSqlInterceptor) Class.forName(boundSqlInterceptors[i]).newInstance();
-                    if (boundSqlInterceptor instanceof PageProperties) {
-                        ((PageProperties) boundSqlInterceptor).setProperties(properties);
-                    }
-                    list.add(boundSqlInterceptor);
-                } catch (Exception e) {
-                    throw new RuntimeException(e);
-                }
+                list.add(ClassUtil.newInstance(boundSqlInterceptors[i], properties));
             }
             if (list.size() > 0) {
                 chain = new BoundSqlInterceptorChain(null, list);
diff --git a/src/main/java/com/github/pagehelper/page/PageMethod.java b/src/main/java/com/github/pagehelper/page/PageMethod.java
index 83ec747..cfc48b1 100644
--- a/src/main/java/com/github/pagehelper/page/PageMethod.java
+++ b/src/main/java/com/github/pagehelper/page/PageMethod.java
@@ -36,8 +36,8 @@ import java.util.Properties;
  * @author liuzh
  */
 public abstract class PageMethod {
-    protected static final ThreadLocal<Page> LOCAL_PAGE = new ThreadLocal<Page>();
-    protected static boolean DEFAULT_COUNT = true;
+    protected static final ThreadLocal<Page> LOCAL_PAGE    = new ThreadLocal<Page>();
+    protected static       boolean           DEFAULT_COUNT = true;
 
     /**
      * 设置 Page 参数
@@ -71,7 +71,8 @@ public abstract class PageMethod {
      * @return
      */
     public static long count(ISelect select) {
-        Page<?> page = startPage(1, -1, true);
+        //单纯count查询时禁用异步count
+        Page<?> page = startPage(1, -1, true).disableAsyncCount();
         select.doSelect();
         return page.getTotal();
     }
@@ -201,9 +202,9 @@ public abstract class PageMethod {
      *
      * @param properties 插件属性
      */
-    protected static void setStaticProperties(Properties properties){
+    protected static void setStaticProperties(Properties properties) {
         //defaultCount，这是一个全局生效的参数，多数据源时也是统一的行为
-        if(properties != null){
+        if (properties != null) {
             DEFAULT_COUNT = Boolean.valueOf(properties.getProperty("defaultCount", "true"));
         }
     }
diff --git a/src/main/java/com/github/pagehelper/page/PageParams.java b/src/main/java/com/github/pagehelper/page/PageParams.java
index 24fc763..02c22f2 100644
--- a/src/main/java/com/github/pagehelper/page/PageParams.java
+++ b/src/main/java/com/github/pagehelper/page/PageParams.java
@@ -40,22 +40,42 @@ import java.util.Properties;
  * @author liuzh
  */
 public class PageParams {
-    //RowBounds参数offset作为PageNum使用 - 默认不使用
+    /**
+     * RowBounds参数offset作为PageNum使用 - 默认不使用
+     */
     protected boolean offsetAsPageNum         = false;
-    //RowBounds是否进行count查询 - 默认不查询
+    /**
+     * RowBounds是否进行count查询 - 默认不查询
+     */
     protected boolean rowBoundsWithCount      = false;
-    //当设置为true的时候，如果pagesize设置为0（或RowBounds的limit=0），就不执行分页，返回全部结果
+    /**
+     * 当设置为true的时候，如果pagesize设置为0（或RowBounds的limit=0），就不执行分页，返回全部结果
+     */
     protected boolean pageSizeZero            = false;
-    //分页合理化
+    /**
+     * 分页合理化
+     */
     protected boolean reasonable              = false;
-    //是否支持接口参数来传递分页参数，默认false
+    /**
+     * 是否支持接口参数来传递分页参数，默认false
+     */
     protected boolean supportMethodsArguments = false;
-    //默认count(0)
+    /**
+     * 默认count(0)
+     */
     protected String  countColumn             = "0";
-    //转换count查询时保留 order by 排序
+    /**
+     * 转换count查询时保留 order by 排序
+     */
     private   boolean keepOrderBy             = false;
-    //转换count查询时保留子查询的 order by 排序
+    /**
+     * 转换count查询时保留子查询的 order by 排序
+     */
     private   boolean keepSubSelectOrderBy    = false;
+    /**
+     * 异步count查询
+     */
+    private   boolean asyncCount              = false;
 
     /**
      * 获取分页参数
@@ -136,6 +156,8 @@ public class PageParams {
         keepOrderBy = Boolean.parseBoolean(properties.getProperty("keepOrderBy"));
         // count查询时，是否保留子查询中的 order by
         keepSubSelectOrderBy = Boolean.parseBoolean(properties.getProperty("keepSubSelectOrderBy"));
+        // 异步count查询
+        asyncCount = Boolean.parseBoolean(properties.getProperty("asyncCount"));
     }
 
     public boolean isOffsetAsPageNum() {
@@ -161,4 +183,8 @@ public class PageParams {
     public String getCountColumn() {
         return countColumn;
     }
+
+    public boolean isAsyncCount() {
+        return asyncCount;
+    }
 }
diff --git a/src/main/java/com/github/pagehelper/util/ClassUtil.java b/src/main/java/com/github/pagehelper/util/ClassUtil.java
new file mode 100644
index 0000000..e46071f
--- /dev/null
+++ b/src/main/java/com/github/pagehelper/util/ClassUtil.java
@@ -0,0 +1,55 @@
+/*
+ * The MIT License (MIT)
+ *
+ * Copyright (c) 2014-2023 abel533@gmail.com
+ *
+ * Permission is hereby granted, free of charge, to any person obtaining a copy
+ * of this software and associated documentation files (the "Software"), to deal
+ * in the Software without restriction, including without limitation the rights
+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+ * copies of the Software, and to permit persons to whom the Software is
+ * furnished to do so, subject to the following conditions:
+ *
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
+ * THE SOFTWARE.
+ */
+
+package com.github.pagehelper.util;
+
+import com.github.pagehelper.PageException;
+import com.github.pagehelper.PageProperties;
+
+import java.util.Properties;
+
+public class ClassUtil {
+
+    public static <T> T newInstance(String classStr, Properties properties) {
+        try {
+            Class<?> cls = Class.forName(classStr);
+            return (T) newInstance(cls, properties);
+        } catch (Exception e) {
+            throw new PageException(e);
+        }
+    }
+
+    public static <T> T newInstance(Class<T> cls, Properties properties) {
+        try {
+            T instance = cls.newInstance();
+            if (instance instanceof PageProperties) {
+                ((PageProperties) instance).setProperties(properties);
+            }
+            return instance;
+        } catch (Exception e) {
+            throw new PageException(e);
+        }
+    }
+
+}
diff --git a/src/test/java/com/github/pagehelper/test/basic/AsyncCountTest.java b/src/test/java/com/github/pagehelper/test/basic/AsyncCountTest.java
new file mode 100644
index 0000000..8ca8ae3
--- /dev/null
+++ b/src/test/java/com/github/pagehelper/test/basic/AsyncCountTest.java
@@ -0,0 +1,103 @@
+/*
+ * The MIT License (MIT)
+ *
+ * Copyright (c) 2014-2023 abel533@gmail.com
+ *
+ * Permission is hereby granted, free of charge, to any person obtaining a copy
+ * of this software and associated documentation files (the "Software"), to deal
+ * in the Software without restriction, including without limitation the rights
+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+ * copies of the Software, and to permit persons to whom the Software is
+ * furnished to do so, subject to the following conditions:
+ *
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
+ * THE SOFTWARE.
+ */
+
+package com.github.pagehelper.test.basic;
+
+import com.github.pagehelper.PageHelper;
+import com.github.pagehelper.dialect.auto.DataSourceAutoDialect;
+import com.github.pagehelper.dialect.auto.DataSourceNegotiationAutoDialect;
+import org.apache.ibatis.datasource.unpooled.UnpooledDataSource;
+import org.apache.ibatis.io.Resources;
+import org.apache.ibatis.session.SqlSession;
+import org.apache.ibatis.session.SqlSessionFactory;
+import org.apache.ibatis.session.SqlSessionFactoryBuilder;
+import org.junit.Ignore;
+import org.junit.Test;
+
+import java.io.IOException;
+import java.io.Reader;
+
+@Ignore
+public class AsyncCountTest {
+    private static SqlSessionFactory sqlSessionFactory;
+
+    static {
+        try {
+            //创建SqlSessionFactory
+            Reader reader = Resources.getResourceAsReader("mybatis-config-async-count.xml");
+            sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader);
+            reader.close();
+        } catch (IOException e) {
+        }
+        //添加一个针对 unpool 的 AutoDialect
+        DataSourceNegotiationAutoDialect.registerAutoDialect(new DataSourceAutoDialect<UnpooledDataSource>() {
+            @Override
+            public String getJdbcUrl(UnpooledDataSource unpooledDataSource) {
+                return unpooledDataSource.getUrl();
+            }
+        });
+    }
+
+    /**
+     * 获取Session
+     *
+     * @return
+     */
+    public static SqlSession getSqlSession() {
+        return sqlSessionFactory.openSession();
+    }
+
+    /**
+     * 使用命名空间调用时，使用PageHelper.startPage
+     * <p/>
+     * startPage第三个参数可以控制是(true)否(false)执行count查询，使用两个查询的startPage时默认进行count查询
+     * <p/>
+     * 使用startPage方法时，如果同时使用RowBounds，以startPage为准
+     */
+    @Test
+    public void testAsyncCount() {
+        SqlSession sqlSession = getSqlSession();
+        long start = System.currentTimeMillis();
+        try {
+            //获取第1页，10条内容，默认查询总数count
+            PageHelper.startPage(1, 10).enableAsyncCount().keepOrderBy(true);
+            sqlSession.selectList("selectEmployees");
+            System.out.println("异步耗时: " + (System.currentTimeMillis() - start));
+        } finally {
+            sqlSession.close();
+        }
+
+        sqlSession = getSqlSession();
+        start = System.currentTimeMillis();
+        try {
+            //获取第1页，10条内容，默认查询总数count
+            PageHelper.startPage(1, 10).keepOrderBy(true);
+            sqlSession.selectList("selectEmployees");
+            System.out.println("同步耗时: " + (System.currentTimeMillis() - start));
+        } finally {
+            sqlSession.close();
+        }
+    }
+
+}
diff --git a/src/test/resources/com/github/pagehelper/mapper/UserMapper.xml b/src/test/resources/com/github/pagehelper/mapper/UserMapper.xml
index a926d40..dfd34e5 100644
--- a/src/test/resources/com/github/pagehelper/mapper/UserMapper.xml
+++ b/src/test/resources/com/github/pagehelper/mapper/UserMapper.xml
@@ -28,7 +28,7 @@
         "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="com.github.pagehelper.mapper.UserMapper">
-    <cache/>
+    <!--    <cache/>-->
     <select id="selectAll" resultType="User">
         select * from user order by id -- comment
     </select>
@@ -552,4 +552,21 @@
     <select id="selectByCode_TESTCOUNT" resultType="Long">
         select count(distinct id) from user where py = #{code, typeHandler=org.apache.ibatis.type.EnumTypeHandler}
     </select>
+    <!-- 数据来源：https://github.com/datacharmer/test_db -->
+    <select id="selectEmployees" resultType="map">
+        select d.dept_name , e.emp_no ,e.first_name ,e.last_name ,e.gender , e.hire_date , s.from_date ,s.to_date
+        ,s.salary
+        from employees e
+        inner join dept_emp de on e.emp_no = de.emp_no
+        inner join departments d on de.dept_no = d.dept_no
+        left join salaries s on e.emp_no = s.emp_no
+        order by d.dept_name , e.emp_no, s.from_date
+    </select>
+    <select id="selectEmployees2" resultType="map">
+        select e.emp_no ,e.first_name ,e.last_name ,e.gender , e.hire_date , s.from_date ,s.to_date ,s.salary
+        from employees e
+        inner join dept_emp de on e.emp_no = de.emp_no
+        left join salaries s on e.emp_no = s.emp_no
+        order by e.emp_no, s.from_date
+    </select>
 </mapper>
diff --git a/src/test/resources/mybatis-config-async-count.xml b/src/test/resources/mybatis-config-async-count.xml
new file mode 100644
index 0000000..ff0488f
--- /dev/null
+++ b/src/test/resources/mybatis-config-async-count.xml
@@ -0,0 +1,76 @@
+<?xml version="1.0" encoding="UTF-8" ?>
+<!--
+  ~ The MIT License (MIT)
+  ~
+  ~ Copyright (c) 2014-2023 abel533@gmail.com
+  ~
+  ~ Permission is hereby granted, free of charge, to any person obtaining a copy
+  ~ of this software and associated documentation files (the "Software"), to deal
+  ~ in the Software without restriction, including without limitation the rights
+  ~ to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+  ~ copies of the Software, and to permit persons to whom the Software is
+  ~ furnished to do so, subject to the following conditions:
+  ~
+  ~ The above copyright notice and this permission notice shall be included in
+  ~ all copies or substantial portions of the Software.
+  ~
+  ~ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+  ~ IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+  ~ FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+  ~ AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+  ~ LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+  ~ OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
+  ~ THE SOFTWARE.
+  -->
+
+<!DOCTYPE configuration
+        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
+        "http://mybatis.org/dtd/mybatis-3-config.dtd">
+
+<configuration>
+    <settings>
+        <setting name="cacheEnabled" value="true"/>
+        <setting name="lazyLoadingEnabled" value="false"/>
+        <setting name="aggressiveLazyLoading" value="true"/>
+    </settings>
+
+    <typeAliases>
+        <package name="com.github.pagehelper.model"/>
+    </typeAliases>
+
+    <plugins>
+        <plugin interceptor="com.github.pagehelper.PageInterceptor">
+            <property name="debug" value="true"/>
+            <property name="supportMethodsArguments" value="true"/>
+            <!-- 运行时自动判断数据库类型，支持多数据源DataSource分页 -->
+            <property name="autoRuntimeDialect" value="true"/>
+            <property name="closeConn" value="true"/>
+            <property name="rowBoundsWithCount" value="true"/>
+            <!-- 该参数可选，可以设置sql缓存实现类，默认为SimpleCache，当项目包含guava时，使用GuavaCache，
+                 也可以通过参数 sqlCacheClass 指定自己的实现类 -->
+            <property name="sqlCacheClass" value="com.github.pagehelper.cache.SimpleCache"/>
+            <property name="countColumn" value="1"/>
+            <property name="dialectAlias" value="oracle=com.github.pagehelper.dialect.helper.OracleDialect"/>
+        </plugin>
+    </plugins>
+
+    <environments default="development">
+        <environment id="development">
+            <transactionManager type="JDBC">
+                <property name="" value=""/>
+            </transactionManager>
+            <dataSource type="UNPOOLED">
+                <property name="driver" value="com.mysql.jdbc.Driver"/>
+                <!-- 数据来源：https://github.com/datacharmer/test_db -->
+                <property name="url" value="jdbc:mysql://localhost:3306/employees"/>
+                <property name="username" value="root"/>
+                <property name="password" value="root"/>
+            </dataSource>
+        </environment>
+    </environments>
+
+    <mappers>
+        <mapper resource="com/github/pagehelper/mapper/UserMapper.xml"/>
+    </mappers>
+
+</configuration>
diff --git a/src/test/resources/mysql/mybatis-config-autodialect.xml b/src/test/resources/mysql/mybatis-config-autodialect.xml
new file mode 100644
index 0000000..d902ff1
--- /dev/null
+++ b/src/test/resources/mysql/mybatis-config-autodialect.xml
@@ -0,0 +1,81 @@
+<?xml version="1.0" encoding="UTF-8" ?>
+<!--
+  ~ The MIT License (MIT)
+  ~
+  ~ Copyright (c) 2014-2023 abel533@gmail.com
+  ~
+  ~ Permission is hereby granted, free of charge, to any person obtaining a copy
+  ~ of this software and associated documentation files (the "Software"), to deal
+  ~ in the Software without restriction, including without limitation the rights
+  ~ to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+  ~ copies of the Software, and to permit persons to whom the Software is
+  ~ furnished to do so, subject to the following conditions:
+  ~
+  ~ The above copyright notice and this permission notice shall be included in
+  ~ all copies or substantial portions of the Software.
+  ~
+  ~ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+  ~ IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+  ~ FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+  ~ AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+  ~ LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+  ~ OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
+  ~ THE SOFTWARE.
+  -->
+
+<!DOCTYPE configuration
+        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
+        "http://mybatis.org/dtd/mybatis-3-config.dtd">
+
+<configuration>
+    <settings>
+        <setting name="cacheEnabled" value="true"/>
+        <setting name="lazyLoadingEnabled" value="false"/>
+        <setting name="aggressiveLazyLoading" value="true"/>
+    </settings>
+
+    <typeAliases>
+        <package name="com.github.pagehelper.model"/>
+    </typeAliases>
+
+    <plugins>
+        <plugin interceptor="com.github.pagehelper.PageInterceptor">
+            <!-- dialect参数可以忽略不写 -->
+            <!-- 如果需要用自己的实现方法，可以将value写成类的全限定名称 -->
+            <!-- 如下所示，该类必须继承Parser接口 -->
+            <!--<property name="dialect" value="hsqldb"/>-->
+            <!-- 支持通过Mapper接口参数来传递分页参数 -->
+            <property name="supportMethodsArguments" value="true"/>
+            <!-- 运行时自动判断数据库类型，支持多数据源DataSource分页 -->
+            <property name="autoRuntimeDialect" value="true"/>
+            <property name="autoDialectClass"
+                      value="com.github.pagehelper.test.features.autodialect.SimpleAutoDialect"/>
+            <property name="closeConn" value="true"/>
+            <property name="rowBoundsWithCount" value="true"/>
+            <!-- 该参数可选，可以设置sql缓存实现类，默认为SimpleCache，当项目包含guava时，使用GuavaCache，
+                 也可以通过参数 sqlCacheClass 指定自己的实现类 -->
+            <property name="sqlCacheClass" value="com.github.pagehelper.cache.SimpleCache"/>
+            <property name="countColumn" value="1"/>
+            <property name="dialectAlias" value="oracle=com.github.pagehelper.dialect.helper.OracleDialect"/>
+        </plugin>
+    </plugins>
+
+    <environments default="development">
+        <environment id="development">
+            <transactionManager type="JDBC">
+                <property name="" value=""/>
+            </transactionManager>
+            <dataSource type="UNPOOLED">
+                <property name="driver" value="com.mysql.jdbc.Driver"/>
+                <property name="url" value="jdbc:mysql://localhost:3306/pagehelper"/>
+                <property name="username" value="root"/>
+                <property name="password" value="root"/>
+            </dataSource>
+        </environment>
+    </environments>
+
+    <mappers>
+        <mapper resource="com/github/pagehelper/mapper/UserMapper.xml"/>
+    </mappers>
+
+</configuration>
diff --git a/src/test/resources/mysql/mybatis-config-interceptor.xml b/src/test/resources/mysql/mybatis-config-interceptor.xml
index 5eb563f..8102ffd 100644
--- a/src/test/resources/mysql/mybatis-config-interceptor.xml
+++ b/src/test/resources/mysql/mybatis-config-interceptor.xml
@@ -60,7 +60,7 @@
                 <property name="driver" value="com.mysql.jdbc.Driver"/>
                 <property name="url" value="jdbc:mysql://localhost:3306/pagehelper"/>
                 <property name="username" value="root"/>
-                <property name="password" value=""/>
+                <property name="password" value="root"/>
             </dataSource>
         </environment>
     </environments>
diff --git a/src/test/resources/mysql/mybatis-config-pagesizezero.xml b/src/test/resources/mysql/mybatis-config-pagesizezero.xml
index 2ab351d..a847cb1 100644
--- a/src/test/resources/mysql/mybatis-config-pagesizezero.xml
+++ b/src/test/resources/mysql/mybatis-config-pagesizezero.xml
@@ -56,7 +56,7 @@
                 <property name="driver" value="com.mysql.jdbc.Driver"/>
                 <property name="url" value="jdbc:mysql://localhost:3306/pagehelper"/>
                 <property name="username" value="root"/>
-                <property name="password" value=""/>
+                <property name="password" value="root"/>
             </dataSource>
         </environment>
     </environments>
diff --git a/src/test/resources/mysql/mybatis-config-reasonable.xml b/src/test/resources/mysql/mybatis-config-reasonable.xml
index 1408fcc..bc81c27 100644
--- a/src/test/resources/mysql/mybatis-config-reasonable.xml
+++ b/src/test/resources/mysql/mybatis-config-reasonable.xml
@@ -54,7 +54,7 @@
                 <property name="driver" value="com.mysql.jdbc.Driver"/>
                 <property name="url" value="jdbc:mysql://localhost:3306/pagehelper"/>
                 <property name="username" value="root"/>
-                <property name="password" value=""/>
+                <property name="password" value="root"/>
             </dataSource>
         </environment>
     </environments>
diff --git a/src/test/resources/mysql/mybatis-config-rowbounds.xml b/src/test/resources/mysql/mybatis-config-rowbounds.xml
index 03403e7..39e6731 100644
--- a/src/test/resources/mysql/mybatis-config-rowbounds.xml
+++ b/src/test/resources/mysql/mybatis-config-rowbounds.xml
@@ -55,7 +55,7 @@
                 <property name="driver" value="com.mysql.jdbc.Driver"/>
                 <property name="url" value="jdbc:mysql://localhost:3306/pagehelper"/>
                 <property name="username" value="root"/>
-                <property name="password" value=""/>
+                <property name="password" value="root"/>
             </dataSource>
         </environment>
     </environments>
diff --git a/src/test/resources/mysql/mybatis-config.xml b/src/test/resources/mysql/mybatis-config.xml
index f09f4f3..a6026c9 100644
--- a/src/test/resources/mysql/mybatis-config.xml
+++ b/src/test/resources/mysql/mybatis-config.xml
@@ -40,10 +40,20 @@
 
     <plugins>
         <plugin interceptor="com.github.pagehelper.PageInterceptor">
-            <!-- 支持通过Mapper接口参数来传递分页参数 -->
+            <property name="debug" value="true"/>
             <property name="helperDialect" value="mysql"/>
+            <!-- 支持通过Mapper接口参数来传递分页参数 -->
             <property name="supportMethodsArguments" value="true"/>
+            <!-- 运行时自动判断数据库类型，支持多数据源DataSource分页 -->
+            <property name="autoRuntimeDialect" value="true"/>
+            <property name="closeConn" value="true"/>
+            <property name="rowBoundsWithCount" value="true"/>
             <property name="rowBoundsWithCount" value="true"/>
+            <!-- 该参数可选，可以设置sql缓存实现类，默认为SimpleCache，当项目包含guava时，使用GuavaCache，
+                     也可以通过参数 sqlCacheClass 指定自己的实现类 -->
+            <property name="sqlCacheClass" value="com.github.pagehelper.cache.SimpleCache"/>
+            <property name="countColumn" value="1"/>
+            <property name="dialectAlias" value="oracle=com.github.pagehelper.dialect.helper.OracleDialect"/>
         </plugin>
     </plugins>
 
@@ -56,7 +66,7 @@
                 <property name="driver" value="com.mysql.jdbc.Driver"/>
                 <property name="url" value="jdbc:mysql://localhost:3306/pagehelper"/>
                 <property name="username" value="root"/>
-                <property name="password" value=""/>
+                <property name="password" value="root"/>
             </dataSource>
         </environment>
     </environments>
