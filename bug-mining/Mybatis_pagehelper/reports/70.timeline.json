[{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/731902287","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/568#issuecomment-731902287","issue_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/568","id":731902287,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTkwMjI4Nw==","user":{"login":"matebase","id":18496797,"node_id":"MDQ6VXNlcjE4NDk2Nzk3","avatar_url":"https://avatars.githubusercontent.com/u/18496797?v=4","gravatar_id":"","url":"https://api.github.com/users/matebase","html_url":"https://github.com/matebase","followers_url":"https://api.github.com/users/matebase/followers","following_url":"https://api.github.com/users/matebase/following{/other_user}","gists_url":"https://api.github.com/users/matebase/gists{/gist_id}","starred_url":"https://api.github.com/users/matebase/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matebase/subscriptions","organizations_url":"https://api.github.com/users/matebase/orgs","repos_url":"https://api.github.com/users/matebase/repos","events_url":"https://api.github.com/users/matebase/events{/privacy}","received_events_url":"https://api.github.com/users/matebase/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T02:59:00Z","updated_at":"2020-11-23T02:59:00Z","body":"### 1. 功能修改建议\r\n\r\ncom.github.pagehelper.parser.SqlServerParser\r\n\r\n```java\r\n/**\r\n * 转换为分页语句\r\n *\r\n * @param sql\r\n * @param offset\r\n * @param limit\r\n * @return\r\n */\r\npublic String convertToPageSql(String sql, Integer offset, Integer limit) {\r\n    //解析SQL\r\n    Statement stmt;\r\n    try {\r\n        stmt = CCJSqlParserUtil.parse(sql);\r\n    } catch (Throwable e) {\r\n        throw new PageException(\"不支持该SQL转换为分页查询!\", e);\r\n    }\r\n    if (!(stmt instanceof Select)) {\r\n        throw new PageException(\"分页语句必须是Select查询!\");\r\n    }\r\n    //获取分页查询的select\r\n    Select pageSelect = getPageSelect((Select) stmt);\r\n    String pageSql = pageSelect.toString();\r\n    //缓存移到外面了，所以不替换参数\r\n    if (offset != null) {\r\n        pageSql = pageSql.replace(START_ROW, String.valueOf(offset));\r\n    }\r\n    if (limit != null) {\r\n        pageSql = pageSql.replace(PAGE_SIZE, String.valueOf(limit));\r\n    }\r\n    return pageSql;\r\n}\r\n```\r\n\r\n订正方法：\r\n\r\n```java\r\n    /**\r\n     * Parses an sql statement while allowing via consumer to configure the used parser before.\r\n     * \r\n     * For instance to activate SQLServer bracket quotation on could use:\r\n     * \r\n     * {@code \r\n     * CCJSqlParserUtil.parse(\"select * from [mytable]\", parser -> parser.withSquareBracketQuotation(true));\r\n     * }\r\n     * \r\n     * @param sql\r\n     * @param consumer\r\n     * @return\r\n     * @throws JSQLParserException \r\n     */\r\n    public static Statement parse(String sql, Consumer<CCJSqlParser> consumer) throws JSQLParserException {\r\n        CCJSqlParser parser = new CCJSqlParser(new StringProvider(sql));\r\n        if (consumer != null) {\r\n            consumer.accept(parser);\r\n        }\r\n        try {\r\n            return parser.Statement();\r\n        } catch (Exception ex) {\r\n            throw new JSQLParserException(ex);\r\n        }\r\n    }\r\n```\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/731902287/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"matebase","id":18496797,"node_id":"MDQ6VXNlcjE4NDk2Nzk3","avatar_url":"https://avatars.githubusercontent.com/u/18496797?v=4","gravatar_id":"","url":"https://api.github.com/users/matebase","html_url":"https://github.com/matebase","followers_url":"https://api.github.com/users/matebase/followers","following_url":"https://api.github.com/users/matebase/following{/other_user}","gists_url":"https://api.github.com/users/matebase/gists{/gist_id}","starred_url":"https://api.github.com/users/matebase/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matebase/subscriptions","organizations_url":"https://api.github.com/users/matebase/orgs","repos_url":"https://api.github.com/users/matebase/repos","events_url":"https://api.github.com/users/matebase/events{/privacy}","received_events_url":"https://api.github.com/users/matebase/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/752314601","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/568#issuecomment-752314601","issue_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/568","id":752314601,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjMxNDYwMQ==","user":{"login":"iTanken","id":23544702,"node_id":"MDQ6VXNlcjIzNTQ0NzAy","avatar_url":"https://avatars.githubusercontent.com/u/23544702?v=4","gravatar_id":"","url":"https://api.github.com/users/iTanken","html_url":"https://github.com/iTanken","followers_url":"https://api.github.com/users/iTanken/followers","following_url":"https://api.github.com/users/iTanken/following{/other_user}","gists_url":"https://api.github.com/users/iTanken/gists{/gist_id}","starred_url":"https://api.github.com/users/iTanken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iTanken/subscriptions","organizations_url":"https://api.github.com/users/iTanken/orgs","repos_url":"https://api.github.com/users/iTanken/repos","events_url":"https://api.github.com/users/iTanken/events{/privacy}","received_events_url":"https://api.github.com/users/iTanken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T03:26:37Z","updated_at":"2020-12-30T03:26:37Z","body":"@pagehelper 应该是升级 jsqlparser  导致的：\r\nhttps://stackoverflow.com/questions/59135053/how-to-handle-characters-on-jsqlparser","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/752314601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"iTanken","id":23544702,"node_id":"MDQ6VXNlcjIzNTQ0NzAy","avatar_url":"https://avatars.githubusercontent.com/u/23544702?v=4","gravatar_id":"","url":"https://api.github.com/users/iTanken","html_url":"https://github.com/iTanken","followers_url":"https://api.github.com/users/iTanken/followers","following_url":"https://api.github.com/users/iTanken/following{/other_user}","gists_url":"https://api.github.com/users/iTanken/gists{/gist_id}","starred_url":"https://api.github.com/users/iTanken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iTanken/subscriptions","organizations_url":"https://api.github.com/users/iTanken/orgs","repos_url":"https://api.github.com/users/iTanken/repos","events_url":"https://api.github.com/users/iTanken/events{/privacy}","received_events_url":"https://api.github.com/users/iTanken/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4156186339,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDE1NjE4NjMzOQ==","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/4156186339","actor":{"login":"pagehelper","id":7838124,"node_id":"MDQ6VXNlcjc4MzgxMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7838124?v=4","gravatar_id":"","url":"https://api.github.com/users/pagehelper","html_url":"https://github.com/pagehelper","followers_url":"https://api.github.com/users/pagehelper/followers","following_url":"https://api.github.com/users/pagehelper/following{/other_user}","gists_url":"https://api.github.com/users/pagehelper/gists{/gist_id}","starred_url":"https://api.github.com/users/pagehelper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pagehelper/subscriptions","organizations_url":"https://api.github.com/users/pagehelper/orgs","repos_url":"https://api.github.com/users/pagehelper/repos","events_url":"https://api.github.com/users/pagehelper/events{/privacy}","received_events_url":"https://api.github.com/users/pagehelper/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-30T03:26:37Z","performed_via_github_app":null},{"id":4156186340,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQxNTYxODYzNDA=","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/4156186340","actor":{"login":"pagehelper","id":7838124,"node_id":"MDQ6VXNlcjc4MzgxMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7838124?v=4","gravatar_id":"","url":"https://api.github.com/users/pagehelper","html_url":"https://github.com/pagehelper","followers_url":"https://api.github.com/users/pagehelper/followers","following_url":"https://api.github.com/users/pagehelper/following{/other_user}","gists_url":"https://api.github.com/users/pagehelper/gists{/gist_id}","starred_url":"https://api.github.com/users/pagehelper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pagehelper/subscriptions","organizations_url":"https://api.github.com/users/pagehelper/orgs","repos_url":"https://api.github.com/users/pagehelper/repos","events_url":"https://api.github.com/users/pagehelper/events{/privacy}","received_events_url":"https://api.github.com/users/pagehelper/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-30T03:26:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/855398637","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/568#issuecomment-855398637","issue_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/568","id":855398637,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NTM5ODYzNw==","user":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-06T13:22:04Z","updated_at":"2021-06-06T13:22:04Z","body":"等后续大版本升级jdk8时会解决上面的问题。","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/855398637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4848154948,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ4NDgxNTQ5NDg=","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/4848154948","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-06-06T13:22:11Z","label":{"name":"优化","color":"7ce2da"},"performed_via_github_app":null},{"id":4848154949,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ4NDgxNTQ5NDk=","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/4848154949","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-06-06T13:22:11Z","label":{"name":"待处理","color":"ccdeff"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/870203950","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/568#issuecomment-870203950","issue_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/568","id":870203950,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDIwMzk1MA==","user":{"login":"majinding","id":2681645,"node_id":"MDQ6VXNlcjI2ODE2NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2681645?v=4","gravatar_id":"","url":"https://api.github.com/users/majinding","html_url":"https://github.com/majinding","followers_url":"https://api.github.com/users/majinding/followers","following_url":"https://api.github.com/users/majinding/following{/other_user}","gists_url":"https://api.github.com/users/majinding/gists{/gist_id}","starred_url":"https://api.github.com/users/majinding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/majinding/subscriptions","organizations_url":"https://api.github.com/users/majinding/orgs","repos_url":"https://api.github.com/users/majinding/repos","events_url":"https://api.github.com/users/majinding/events{/privacy}","received_events_url":"https://api.github.com/users/majinding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T03:34:03Z","updated_at":"2021-06-29T03:34:03Z","body":"计划什么时候升级了, 项目还能赶得上吗 ?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/870203950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"majinding","id":2681645,"node_id":"MDQ6VXNlcjI2ODE2NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2681645?v=4","gravatar_id":"","url":"https://api.github.com/users/majinding","html_url":"https://github.com/majinding","followers_url":"https://api.github.com/users/majinding/followers","following_url":"https://api.github.com/users/majinding/following{/other_user}","gists_url":"https://api.github.com/users/majinding/gists{/gist_id}","starred_url":"https://api.github.com/users/majinding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/majinding/subscriptions","organizations_url":"https://api.github.com/users/majinding/orgs","repos_url":"https://api.github.com/users/majinding/repos","events_url":"https://api.github.com/users/majinding/events{/privacy}","received_events_url":"https://api.github.com/users/majinding/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"Fourcks","id":59686992,"node_id":"MDQ6VXNlcjU5Njg2OTky","avatar_url":"https://avatars.githubusercontent.com/u/59686992?v=4","gravatar_id":"","url":"https://api.github.com/users/Fourcks","html_url":"https://github.com/Fourcks","followers_url":"https://api.github.com/users/Fourcks/followers","following_url":"https://api.github.com/users/Fourcks/following{/other_user}","gists_url":"https://api.github.com/users/Fourcks/gists{/gist_id}","starred_url":"https://api.github.com/users/Fourcks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fourcks/subscriptions","organizations_url":"https://api.github.com/users/Fourcks/orgs","repos_url":"https://api.github.com/users/Fourcks/repos","events_url":"https://api.github.com/users/Fourcks/events{/privacy}","received_events_url":"https://api.github.com/users/Fourcks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T02:19:02Z","updated_at":"2021-08-16T02:19:02Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/617","repository_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper","labels_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/617/labels{/name}","comments_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/617/comments","events_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/617/events","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/617","id":971304347,"node_id":"MDU6SXNzdWU5NzEzMDQzNDc=","number":617,"title":"Sqlserver使用分页时，JSqlParser无法解析中括号问题","user":{"login":"Fourcks","id":59686992,"node_id":"MDQ6VXNlcjU5Njg2OTky","avatar_url":"https://avatars.githubusercontent.com/u/59686992?v=4","gravatar_id":"","url":"https://api.github.com/users/Fourcks","html_url":"https://github.com/Fourcks","followers_url":"https://api.github.com/users/Fourcks/followers","following_url":"https://api.github.com/users/Fourcks/following{/other_user}","gists_url":"https://api.github.com/users/Fourcks/gists{/gist_id}","starred_url":"https://api.github.com/users/Fourcks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fourcks/subscriptions","organizations_url":"https://api.github.com/users/Fourcks/orgs","repos_url":"https://api.github.com/users/Fourcks/repos","events_url":"https://api.github.com/users/Fourcks/events{/privacy}","received_events_url":"https://api.github.com/users/Fourcks/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-08-16T02:19:01Z","updated_at":"2021-10-14T03:58:42Z","closed_at":"2021-10-14T03:58:42Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":20651672,"node_id":"MDEwOlJlcG9zaXRvcnkyMDY1MTY3Mg==","name":"Mybatis-PageHelper","full_name":"pagehelper/Mybatis-PageHelper","private":false,"owner":{"login":"pagehelper","id":7838124,"node_id":"MDQ6VXNlcjc4MzgxMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7838124?v=4","gravatar_id":"","url":"https://api.github.com/users/pagehelper","html_url":"https://github.com/pagehelper","followers_url":"https://api.github.com/users/pagehelper/followers","following_url":"https://api.github.com/users/pagehelper/following{/other_user}","gists_url":"https://api.github.com/users/pagehelper/gists{/gist_id}","starred_url":"https://api.github.com/users/pagehelper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pagehelper/subscriptions","organizations_url":"https://api.github.com/users/pagehelper/orgs","repos_url":"https://api.github.com/users/pagehelper/repos","events_url":"https://api.github.com/users/pagehelper/events{/privacy}","received_events_url":"https://api.github.com/users/pagehelper/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pagehelper/Mybatis-PageHelper","description":"Mybatis通用分页插件","fork":false,"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper","forks_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/forks","keys_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/teams","hooks_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/hooks","issue_events_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events{/number}","events_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/events","assignees_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/assignees{/user}","branches_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/branches{/branch}","tags_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/tags","blobs_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/refs{/sha}","trees_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/statuses/{sha}","languages_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/languages","stargazers_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/stargazers","contributors_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/contributors","subscribers_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/subscribers","subscription_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/subscription","commits_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/commits{/sha}","git_commits_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/commits{/sha}","comments_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/comments{/number}","issue_comment_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments{/number}","contents_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/contents/{+path}","compare_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/merges","archive_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/downloads","issues_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues{/number}","pulls_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/pulls{/number}","milestones_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/milestones{/number}","notifications_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/labels{/name}","releases_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/releases{/id}","deployments_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/deployments","created_at":"2014-06-09T15:32:30Z","updated_at":"2025-11-07T20:00:06Z","pushed_at":"2025-06-19T23:54:53Z","git_url":"git://github.com/pagehelper/Mybatis-PageHelper.git","ssh_url":"git@github.com:pagehelper/Mybatis-PageHelper.git","clone_url":"https://github.com/pagehelper/Mybatis-PageHelper.git","svn_url":"https://github.com/pagehelper/Mybatis-PageHelper","homepage":"https://mybatis.io","size":5333,"stargazers_count":12360,"watchers_count":12360,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3131,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":66,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mybatis","mybatis-plugin"],"visibility":"public","forks":3131,"open_issues":66,"watchers":12360,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"- [√ ] 我已在 [issues](https://github.com/pagehelper/Mybatis-PageHelper/issues) 搜索类似问题，并且不存在相同的问题.\r\n\r\n## 异常模板\r\n\r\n### 使用环境\r\n\r\n* PageHelper 版本: pagehelper-spring-boot-starter 1.3.1\r\n* 数据库类型和版本: SQL Server 2016 (SP1)\r\n* JDBC_URL: jdbc:sqlserver://localhost:1433;DatabaseName=myDbName\r\n\r\n### SQL 解析错误\r\n`### SQL: select count(0) from (  SELECT [1],[2t]  FROM rpt_count  ) tmp_count`\r\n`### Cause: com.github.pagehelper.PageException: 不支持该SQL转换为分页查询!`\r\n`      at com.github.pagehelper.parser.SqlServerParser.convertToPageSql(SqlServerParser.java:106)`\r\n`......`\r\n`Caused by: net.sf.jsqlparser.parser.ParseException: Encountered unexpected token: \"[\" \"[\"`\r\n\r\n#### 分页参数\r\n\r\n```java\r\n`PageHelper.startPage(1,10);`\r\n`Object rs = rptCountMapper.selectAll();`\r\n```\r\n\r\n#### 原 SQL\r\n\r\n```sql\r\nSELECT [1],[2t] FROM rpt_count\r\n```\r\n\r\n###  其他Issue参考\r\n该问题可能与Jsqlparser的版本更新有关。\r\nother JSQLParser Issue : [net.sf.jsqlparser.JSQLParserException: Encountered unexpected token: \"\\[\" \"\\[\"](https://github.com/JSQLParser/JSqlParser/issues/1281)\r\nother PageHelp Issue : [无法解析中括号的问题](https://github.com/pagehelper/Mybatis-PageHelper/issues/568)\r\n\r\n### 修改建议\r\nJSQLParser的Issue建议在解析包含中括号的sqlserver 的 sql 语句 时使用 withSquareBracketQuotation 设置中括号解析规则。\r\n希望PageHelper也能提供类似的选择条件并实现方括号解析。\r\n\r\n例:PageHelper.withSquareBracketQuotation.startPage(1,10) 或 PageHelper.startPage(1,10,(boolean)withSquareBracketQuotation)\r\n\r\n由于目前我生产环境这票人经常用些匪夷所思的字段命名，把保留字和数字命名这种玩意基本用的差不多了。改字段是没得改了。\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/617/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":5416097436,"node_id":"PE_lADOATsemM4sPc7xzwAAAAFC0xac","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/5416097436","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"pinned","commit_id":null,"commit_url":null,"created_at":"2021-10-06T04:46:28Z","performed_via_github_app":null},{"id":6725997939,"node_id":"UNPE_lADOATsemM4sPc7xzwAAAAGQ5pVz","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/6725997939","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unpinned","commit_id":null,"commit_url":null,"created_at":"2022-06-02T07:21:19Z","performed_via_github_app":null},{"id":6726006865,"node_id":"PE_lADOATsemM4sPc7xzwAAAAGQ5rhR","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/6726006865","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"pinned","commit_id":null,"commit_url":null,"created_at":"2022-06-02T07:22:24Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/1172021777","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/568#issuecomment-1172021777","issue_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/568","id":1172021777,"node_id":"IC_kwDOATsemM5F26IR","user":{"login":"gstsgy","id":42596329,"node_id":"MDQ6VXNlcjQyNTk2MzI5","avatar_url":"https://avatars.githubusercontent.com/u/42596329?v=4","gravatar_id":"","url":"https://api.github.com/users/gstsgy","html_url":"https://github.com/gstsgy","followers_url":"https://api.github.com/users/gstsgy/followers","following_url":"https://api.github.com/users/gstsgy/following{/other_user}","gists_url":"https://api.github.com/users/gstsgy/gists{/gist_id}","starred_url":"https://api.github.com/users/gstsgy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gstsgy/subscriptions","organizations_url":"https://api.github.com/users/gstsgy/orgs","repos_url":"https://api.github.com/users/gstsgy/repos","events_url":"https://api.github.com/users/gstsgy/events{/privacy}","received_events_url":"https://api.github.com/users/gstsgy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-01T07:16:41Z","updated_at":"2022-07-01T07:16:41Z","body":"这样就可以了 Select select = (Select) CCJSqlParserUtil.parse(sql,parser->parser.withSquareBracketQuotation(true));","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/1172021777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gstsgy","id":42596329,"node_id":"MDQ6VXNlcjQyNTk2MzI5","avatar_url":"https://avatars.githubusercontent.com/u/42596329?v=4","gravatar_id":"","url":"https://api.github.com/users/gstsgy","html_url":"https://github.com/gstsgy","followers_url":"https://api.github.com/users/gstsgy/followers","following_url":"https://api.github.com/users/gstsgy/following{/other_user}","gists_url":"https://api.github.com/users/gstsgy/gists{/gist_id}","starred_url":"https://api.github.com/users/gstsgy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gstsgy/subscriptions","organizations_url":"https://api.github.com/users/gstsgy/orgs","repos_url":"https://api.github.com/users/gstsgy/repos","events_url":"https://api.github.com/users/gstsgy/events{/privacy}","received_events_url":"https://api.github.com/users/gstsgy/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6930744551,"node_id":"MIE_lADOATsemM4sPc7xzwAAAAGdGsTn","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/6930744551","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-07-05T01:36:05Z","milestone":{"title":"6.x"},"performed_via_github_app":null},{"id":6964862024,"node_id":"REFE_lADOATsemM4sPc7xzwAAAAGfI1xI","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/6964862024","actor":{"login":"majiang213","id":44500209,"node_id":"MDQ6VXNlcjQ0NTAwMjA5","avatar_url":"https://avatars.githubusercontent.com/u/44500209?v=4","gravatar_id":"","url":"https://api.github.com/users/majiang213","html_url":"https://github.com/majiang213","followers_url":"https://api.github.com/users/majiang213/followers","following_url":"https://api.github.com/users/majiang213/following{/other_user}","gists_url":"https://api.github.com/users/majiang213/gists{/gist_id}","starred_url":"https://api.github.com/users/majiang213/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/majiang213/subscriptions","organizations_url":"https://api.github.com/users/majiang213/orgs","repos_url":"https://api.github.com/users/majiang213/repos","events_url":"https://api.github.com/users/majiang213/events{/privacy}","received_events_url":"https://api.github.com/users/majiang213/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c622eae3acb4f72fd99c3f3f54929682426cbe3d","commit_url":"https://api.github.com/repos/majiang213/Mybatis-PageHelper/commits/c622eae3acb4f72fd99c3f3f54929682426cbe3d","created_at":"2022-07-10T09:56:28Z","performed_via_github_app":null},{"id":6966403758,"node_id":"REFE_lADOATsemM4sPc7xzwAAAAGfOuKu","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/6966403758","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"dac4a32ef413c39a23c3f74053e1b995cae16631","commit_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/commits/dac4a32ef413c39a23c3f74053e1b995cae16631","created_at":"2022-07-11T04:30:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/1250261150","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/568#issuecomment-1250261150","issue_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/568","id":1250261150,"node_id":"IC_kwDOATsemM5KhXie","user":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-18T12:34:13Z","updated_at":"2022-09-18T12:34:13Z","body":"`sqlParser`：配置 JSqlParser 解析器，注意是 `com.github.pagehelper.JSqlParser` 接口，用于支持 sqlserver 等需要额外配置的情况。","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/1250261150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":7408868502,"node_id":"CE_lADOATsemM4sPc7xzwAAAAG5mlyW","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/7408868502","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-09-18T12:34:14Z","state_reason":null,"performed_via_github_app":null},{"id":10864489044,"node_id":"UNPE_lADOATsemM4sPc7xzwAAAAKHkvJU","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/10864489044","actor":{"login":"pagehelper","id":7838124,"node_id":"MDQ6VXNlcjc4MzgxMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7838124?v=4","gravatar_id":"","url":"https://api.github.com/users/pagehelper","html_url":"https://github.com/pagehelper","followers_url":"https://api.github.com/users/pagehelper/followers","following_url":"https://api.github.com/users/pagehelper/following{/other_user}","gists_url":"https://api.github.com/users/pagehelper/gists{/gist_id}","starred_url":"https://api.github.com/users/pagehelper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pagehelper/subscriptions","organizations_url":"https://api.github.com/users/pagehelper/orgs","repos_url":"https://api.github.com/users/pagehelper/repos","events_url":"https://api.github.com/users/pagehelper/events{/privacy}","received_events_url":"https://api.github.com/users/pagehelper/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unpinned","commit_id":null,"commit_url":null,"created_at":"2023-11-05T09:26:23Z","performed_via_github_app":null}]