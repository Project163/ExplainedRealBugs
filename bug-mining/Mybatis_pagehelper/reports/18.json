{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/46","repository_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper","labels_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/46/labels{/name}","comments_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/46/comments","events_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/46/events","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/46","id":224654962,"node_id":"MDU6SXNzdWUyMjQ2NTQ5NjI=","number":46,"title":"collection 关联查询 First_PageHelper 缺失异常","user":{"login":"zengqw","id":10457724,"node_id":"MDQ6VXNlcjEwNDU3NzI0","avatar_url":"https://avatars.githubusercontent.com/u/10457724?v=4","gravatar_id":"","url":"https://api.github.com/users/zengqw","html_url":"https://github.com/zengqw","followers_url":"https://api.github.com/users/zengqw/followers","following_url":"https://api.github.com/users/zengqw/following{/other_user}","gists_url":"https://api.github.com/users/zengqw/gists{/gist_id}","starred_url":"https://api.github.com/users/zengqw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zengqw/subscriptions","organizations_url":"https://api.github.com/users/zengqw/orgs","repos_url":"https://api.github.com/users/zengqw/repos","events_url":"https://api.github.com/users/zengqw/events{/privacy}","received_events_url":"https://api.github.com/users/zengqw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":105645348,"node_id":"MDU6TGFiZWwxMDU2NDUzNDg=","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2017-04-27T02:58:08Z","updated_at":"2017-06-01T12:20:27Z","closed_at":"2017-06-01T12:20:27Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"使用版本pagehelper-4.1.3\r\n\r\n重现:\r\n1.使用分页查询某条数据 假设在Mapper里面 id=\"selectA\" (此处会改变 id=\"selectA\" 的sqlSource 为PageDynamicSqlSource)\r\n2.使用分页查询另外一条数据,但是其resultMap里面包含了selectA\r\n如:\r\n```\r\n\t<resultMap id=\"ResultMap\" type=\"XXXForm\" >\r\n \t\t<collection property=\"pros\" column=\"Id=prosID\" select=\"selectA\" />\r\n\t</resultMap>\r\n```\r\n在mybatis在查出主表的数据之后，会执行查询属性pros的语句selectA，在 PageSqlSource.getBoundSql方法里面获取SQL的时候就会将selectA也当作是需要分页查询的语句\r\n\r\n> 原因是getCount()获取的是线程变量Page的countSignal属性(count信号，3种情况，null的时候执行默认BoundSql,true的时候执行count，false执行分页)\r\n\r\n然后这里实际上是不需要分页查询的，所以再获取 First_PageHelper 的时候会报找不到 First_PageHelper 属性的异常。\r\n\r\n请教一下，这个bug在后续的版本有修复吗？\r\n","closed_by":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/46/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/46/timeline","performed_via_github_app":null,"state_reason":"completed"}