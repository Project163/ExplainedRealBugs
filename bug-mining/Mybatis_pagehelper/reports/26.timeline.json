[{"id":986457317,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50OTg2NDU3MzE3","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/986457317","actor":{"login":"wolazy","id":13218836,"node_id":"MDQ6VXNlcjEzMjE4ODM2","avatar_url":"https://avatars.githubusercontent.com/u/13218836?v=4","gravatar_id":"","url":"https://api.github.com/users/wolazy","html_url":"https://github.com/wolazy","followers_url":"https://api.github.com/users/wolazy/followers","following_url":"https://api.github.com/users/wolazy/following{/other_user}","gists_url":"https://api.github.com/users/wolazy/gists{/gist_id}","starred_url":"https://api.github.com/users/wolazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolazy/subscriptions","organizations_url":"https://api.github.com/users/wolazy/orgs","repos_url":"https://api.github.com/users/wolazy/repos","events_url":"https://api.github.com/users/wolazy/events{/privacy}","received_events_url":"https://api.github.com/users/wolazy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-03-04T13:19:10Z","performed_via_github_app":null},{"id":986457318,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDk4NjQ1NzMxOA==","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/986457318","actor":{"login":"wolazy","id":13218836,"node_id":"MDQ6VXNlcjEzMjE4ODM2","avatar_url":"https://avatars.githubusercontent.com/u/13218836?v=4","gravatar_id":"","url":"https://api.github.com/users/wolazy","html_url":"https://github.com/wolazy","followers_url":"https://api.github.com/users/wolazy/followers","following_url":"https://api.github.com/users/wolazy/following{/other_user}","gists_url":"https://api.github.com/users/wolazy/gists{/gist_id}","starred_url":"https://api.github.com/users/wolazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolazy/subscriptions","organizations_url":"https://api.github.com/users/wolazy/orgs","repos_url":"https://api.github.com/users/wolazy/repos","events_url":"https://api.github.com/users/wolazy/events{/privacy}","received_events_url":"https://api.github.com/users/wolazy/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-03-04T13:19:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/284152225","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/26#issuecomment-284152225","issue_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/26","id":284152225,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NDE1MjIyNQ==","user":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-04T13:43:50Z","updated_at":"2017-03-04T13:43:50Z","body":"正常配置的情况下，只有用 pagehelper-starter 1.0.0 版本才会出现。\r\n\r\n单独的分页插件，只有配置多次才会出现。","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/284152225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/284201288","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/26#issuecomment-284201288","issue_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/26","id":284201288,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NDIwMTI4OA==","user":{"login":"cookier","id":5186526,"node_id":"MDQ6VXNlcjUxODY1MjY=","avatar_url":"https://avatars.githubusercontent.com/u/5186526?v=4","gravatar_id":"","url":"https://api.github.com/users/cookier","html_url":"https://github.com/cookier","followers_url":"https://api.github.com/users/cookier/followers","following_url":"https://api.github.com/users/cookier/following{/other_user}","gists_url":"https://api.github.com/users/cookier/gists{/gist_id}","starred_url":"https://api.github.com/users/cookier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cookier/subscriptions","organizations_url":"https://api.github.com/users/cookier/orgs","repos_url":"https://api.github.com/users/cookier/repos","events_url":"https://api.github.com/users/cookier/events{/privacy}","received_events_url":"https://api.github.com/users/cookier/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-05T02:57:08Z","updated_at":"2017-03-05T02:57:08Z","body":"经过断点调试发现，需要以下配置：\r\n```XML\r\n<bean class=\"com.github.pagehelper.PageInterceptor\">\r\n                    <property name=\"properties\">\r\n                        <value>dialect=</value>\r\n                    </property>\r\n                </bean>\r\n```\r\n根据我的观察，`PageIntercepor.setProperties`方法里是设置`dialect`属性值的，如果在配置文件中没有调用到`setProperties`方法，则`dialect`为空，也没有默认值，所以导致执行插件的`intercept`方法时，调用`dialect.afterAll()`方法发生NPE。","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/284201288/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cookier","id":5186526,"node_id":"MDQ6VXNlcjUxODY1MjY=","avatar_url":"https://avatars.githubusercontent.com/u/5186526?v=4","gravatar_id":"","url":"https://api.github.com/users/cookier","html_url":"https://github.com/cookier","followers_url":"https://api.github.com/users/cookier/followers","following_url":"https://api.github.com/users/cookier/following{/other_user}","gists_url":"https://api.github.com/users/cookier/gists{/gist_id}","starred_url":"https://api.github.com/users/cookier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cookier/subscriptions","organizations_url":"https://api.github.com/users/cookier/orgs","repos_url":"https://api.github.com/users/cookier/repos","events_url":"https://api.github.com/users/cookier/events{/privacy}","received_events_url":"https://api.github.com/users/cookier/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/284207170","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/26#issuecomment-284207170","issue_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/26","id":284207170,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NDIwNzE3MA==","user":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-05T05:40:25Z","updated_at":"2017-03-05T05:40:25Z","body":"在 `XMLConfigBuilder` 中：\r\n```java\r\nprivate void pluginElement(XNode parent) throws Exception {\r\n    if (parent != null) {\r\n      for (XNode child : parent.getChildren()) {\r\n        String interceptor = child.getStringAttribute(\"interceptor\");\r\n        Properties properties = child.getChildrenAsProperties();\r\n        Interceptor interceptorInstance = (Interceptor) resolveClass(interceptor).newInstance();\r\n        interceptorInstance.setProperties(properties);\r\n        configuration.addInterceptor(interceptorInstance);\r\n      }\r\n    }\r\n  }\r\n```\r\n源码中，不管 properties 是否有值，都会执行 setProperties 方法，不是你说的问题。你可以看看这里。","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/284207170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/284296913","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/26#issuecomment-284296913","issue_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/26","id":284296913,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NDI5NjkxMw==","user":{"login":"cookier","id":5186526,"node_id":"MDQ6VXNlcjUxODY1MjY=","avatar_url":"https://avatars.githubusercontent.com/u/5186526?v=4","gravatar_id":"","url":"https://api.github.com/users/cookier","html_url":"https://github.com/cookier","followers_url":"https://api.github.com/users/cookier/followers","following_url":"https://api.github.com/users/cookier/following{/other_user}","gists_url":"https://api.github.com/users/cookier/gists{/gist_id}","starred_url":"https://api.github.com/users/cookier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cookier/subscriptions","organizations_url":"https://api.github.com/users/cookier/orgs","repos_url":"https://api.github.com/users/cookier/repos","events_url":"https://api.github.com/users/cookier/events{/privacy}","received_events_url":"https://api.github.com/users/cookier/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-06T03:53:24Z","updated_at":"2017-03-06T03:53:24Z","body":"生成XMLConfigBuilder的前提是有mybatis的配置文件，可我是用spring的属性配置方式。这样在`SqlSessionFactoryBean.buildSqlSessionFactory`的方法里由于`configLocation`属性值为空，不会生成`xmlConfigBuilder`对象，所以都不会执行到`pluginElement`方法。","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/284296913/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cookier","id":5186526,"node_id":"MDQ6VXNlcjUxODY1MjY=","avatar_url":"https://avatars.githubusercontent.com/u/5186526?v=4","gravatar_id":"","url":"https://api.github.com/users/cookier","html_url":"https://github.com/cookier","followers_url":"https://api.github.com/users/cookier/followers","following_url":"https://api.github.com/users/cookier/following{/other_user}","gists_url":"https://api.github.com/users/cookier/gists{/gist_id}","starred_url":"https://api.github.com/users/cookier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cookier/subscriptions","organizations_url":"https://api.github.com/users/cookier/orgs","repos_url":"https://api.github.com/users/cookier/repos","events_url":"https://api.github.com/users/cookier/events{/privacy}","received_events_url":"https://api.github.com/users/cookier/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/284394274","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/26#issuecomment-284394274","issue_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/26","id":284394274,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NDM5NDI3NA==","user":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-06T13:22:45Z","updated_at":"2017-03-06T13:22:45Z","body":"非常感谢！！\r\n确实有这个问题。\r\n后面我会考虑在 `public Object plugin(Object target)` 方法中初始化插件。","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments/284394274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":988827986,"node_id":"MDExOkNsb3NlZEV2ZW50OTg4ODI3OTg2","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/988827986","actor":{"login":"cookier","id":5186526,"node_id":"MDQ6VXNlcjUxODY1MjY=","avatar_url":"https://avatars.githubusercontent.com/u/5186526?v=4","gravatar_id":"","url":"https://api.github.com/users/cookier","html_url":"https://github.com/cookier","followers_url":"https://api.github.com/users/cookier/followers","following_url":"https://api.github.com/users/cookier/following{/other_user}","gists_url":"https://api.github.com/users/cookier/gists{/gist_id}","starred_url":"https://api.github.com/users/cookier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cookier/subscriptions","organizations_url":"https://api.github.com/users/cookier/orgs","repos_url":"https://api.github.com/users/cookier/repos","events_url":"https://api.github.com/users/cookier/events{/privacy}","received_events_url":"https://api.github.com/users/cookier/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2017-03-07T01:47:17Z","state_reason":null,"performed_via_github_app":null},{"id":1822156381,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE4MjIxNTYzODE=","url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events/1822156381","actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0cae02a5cce16e883c2b2ec848ac4fa236dda262","commit_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/commits/0cae02a5cce16e883c2b2ec848ac4fa236dda262","created_at":"2018-09-02T08:19:11Z","performed_via_github_app":null},{"actor":{"login":"abel533","id":1787798,"node_id":"MDQ6VXNlcjE3ODc3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1787798?v=4","gravatar_id":"","url":"https://api.github.com/users/abel533","html_url":"https://github.com/abel533","followers_url":"https://api.github.com/users/abel533/followers","following_url":"https://api.github.com/users/abel533/following{/other_user}","gists_url":"https://api.github.com/users/abel533/gists{/gist_id}","starred_url":"https://api.github.com/users/abel533/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abel533/subscriptions","organizations_url":"https://api.github.com/users/abel533/orgs","repos_url":"https://api.github.com/users/abel533/repos","events_url":"https://api.github.com/users/abel533/events{/privacy}","received_events_url":"https://api.github.com/users/abel533/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-02T08:23:03Z","updated_at":"2018-09-02T08:23:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/219","repository_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper","labels_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/219/labels{/name}","comments_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/219/comments","events_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/219/events","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/219","id":319767146,"node_id":"MDU6SXNzdWUzMTk3NjcxNDY=","number":219,"title":"properties未设置时报dialect对象为空","user":{"login":"zhangxiongbiao","id":10623853,"node_id":"MDQ6VXNlcjEwNjIzODUz","avatar_url":"https://avatars.githubusercontent.com/u/10623853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangxiongbiao","html_url":"https://github.com/zhangxiongbiao","followers_url":"https://api.github.com/users/zhangxiongbiao/followers","following_url":"https://api.github.com/users/zhangxiongbiao/following{/other_user}","gists_url":"https://api.github.com/users/zhangxiongbiao/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangxiongbiao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangxiongbiao/subscriptions","organizations_url":"https://api.github.com/users/zhangxiongbiao/orgs","repos_url":"https://api.github.com/users/zhangxiongbiao/repos","events_url":"https://api.github.com/users/zhangxiongbiao/events{/privacy}","received_events_url":"https://api.github.com/users/zhangxiongbiao/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-05-03T02:02:26Z","updated_at":"2018-09-02T08:23:03Z","closed_at":"2018-09-02T08:23:03Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":20651672,"node_id":"MDEwOlJlcG9zaXRvcnkyMDY1MTY3Mg==","name":"Mybatis-PageHelper","full_name":"pagehelper/Mybatis-PageHelper","private":false,"owner":{"login":"pagehelper","id":7838124,"node_id":"MDQ6VXNlcjc4MzgxMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7838124?v=4","gravatar_id":"","url":"https://api.github.com/users/pagehelper","html_url":"https://github.com/pagehelper","followers_url":"https://api.github.com/users/pagehelper/followers","following_url":"https://api.github.com/users/pagehelper/following{/other_user}","gists_url":"https://api.github.com/users/pagehelper/gists{/gist_id}","starred_url":"https://api.github.com/users/pagehelper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pagehelper/subscriptions","organizations_url":"https://api.github.com/users/pagehelper/orgs","repos_url":"https://api.github.com/users/pagehelper/repos","events_url":"https://api.github.com/users/pagehelper/events{/privacy}","received_events_url":"https://api.github.com/users/pagehelper/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pagehelper/Mybatis-PageHelper","description":"Mybatis通用分页插件","fork":false,"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper","forks_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/forks","keys_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/teams","hooks_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/hooks","issue_events_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events{/number}","events_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/events","assignees_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/assignees{/user}","branches_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/branches{/branch}","tags_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/tags","blobs_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/refs{/sha}","trees_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/statuses/{sha}","languages_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/languages","stargazers_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/stargazers","contributors_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/contributors","subscribers_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/subscribers","subscription_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/subscription","commits_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/commits{/sha}","git_commits_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/commits{/sha}","comments_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/comments{/number}","issue_comment_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments{/number}","contents_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/contents/{+path}","compare_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/merges","archive_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/downloads","issues_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues{/number}","pulls_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/pulls{/number}","milestones_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/milestones{/number}","notifications_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/labels{/name}","releases_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/releases{/id}","deployments_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/deployments","created_at":"2014-06-09T15:32:30Z","updated_at":"2025-11-07T20:00:06Z","pushed_at":"2025-06-19T23:54:53Z","git_url":"git://github.com/pagehelper/Mybatis-PageHelper.git","ssh_url":"git@github.com:pagehelper/Mybatis-PageHelper.git","clone_url":"https://github.com/pagehelper/Mybatis-PageHelper.git","svn_url":"https://github.com/pagehelper/Mybatis-PageHelper","homepage":"https://mybatis.io","size":5333,"stargazers_count":12360,"watchers_count":12360,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3131,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":66,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mybatis","mybatis-plugin"],"visibility":"public","forks":3131,"open_issues":66,"watchers":12360,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"看了插件的使用后，我觉得目前我并不需要配置什么属性，采用默认属性就可以了。于是配置成这样：\r\n```xml\r\n    <bean id=\"sqlSessionFactory\" class=\"com.dm.wmf.core.dataaccess.mybatis.TypeAliasScanSqlSessionFactoryBean\">\r\n        <property name=\"dataSource\" ref=\"dataSource\"/>\r\n        <property name=\"mapperLocations\" value=\"classpath*:com/dm/**/domain/*.xml\"/>\r\n        <!-- 使用typeAliasesPackage时，同名类会引起别名冲突 -->\r\n        <property name=\"typeAliasesPackage\" value=\"classpath*:com.dm.**.domain\"/>\r\n        <property name=\"plugins\">\r\n            <list>\r\n                <!--没有指定任何properties-->\r\n                <bean class=\"com.github.pagehelper.PageInterceptor\"></bean>\r\n            </list>\r\n        </property>\r\n    </bean>\r\n```\r\n然后运行时报错信息如下：\r\n```java\r\n### Error querying database.  Cause: java.lang.NullPointerException\r\n### Cause: java.lang.NullPointerException\r\n\tat org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:150)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)\r\n\t... 34 more\r\nCaused by: java.lang.NullPointerException\r\n\tat com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:147)\r\n\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)\r\n\tat com.sun.proxy.$Proxy33.query(Unknown Source)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)\r\n\t... 41 more\r\n```\r\n经过查看源代码，发现*dialect*对象在*PageInterceptor*对象调用*setProperties()*方法时才会被初始化。即不配置*properties*属性时不会触发*setProperties()*方法的执行，最终导致*dialect*对象未被初始化。\r\n","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/219/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"cx422803902","id":11685794,"node_id":"MDQ6VXNlcjExNjg1Nzk0","avatar_url":"https://avatars.githubusercontent.com/u/11685794?v=4","gravatar_id":"","url":"https://api.github.com/users/cx422803902","html_url":"https://github.com/cx422803902","followers_url":"https://api.github.com/users/cx422803902/followers","following_url":"https://api.github.com/users/cx422803902/following{/other_user}","gists_url":"https://api.github.com/users/cx422803902/gists{/gist_id}","starred_url":"https://api.github.com/users/cx422803902/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cx422803902/subscriptions","organizations_url":"https://api.github.com/users/cx422803902/orgs","repos_url":"https://api.github.com/users/cx422803902/repos","events_url":"https://api.github.com/users/cx422803902/events{/privacy}","received_events_url":"https://api.github.com/users/cx422803902/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-09T05:47:31Z","updated_at":"2018-10-09T05:47:31Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/271","repository_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper","labels_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/271/labels{/name}","comments_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/271/comments","events_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/271/events","html_url":"https://github.com/pagehelper/Mybatis-PageHelper/issues/271","id":354082324,"node_id":"MDU6SXNzdWUzNTQwODIzMjQ=","number":271,"title":"线程安全问题","user":{"login":"cx422803902","id":11685794,"node_id":"MDQ6VXNlcjExNjg1Nzk0","avatar_url":"https://avatars.githubusercontent.com/u/11685794?v=4","gravatar_id":"","url":"https://api.github.com/users/cx422803902","html_url":"https://github.com/cx422803902","followers_url":"https://api.github.com/users/cx422803902/followers","following_url":"https://api.github.com/users/cx422803902/following{/other_user}","gists_url":"https://api.github.com/users/cx422803902/gists{/gist_id}","starred_url":"https://api.github.com/users/cx422803902/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cx422803902/subscriptions","organizations_url":"https://api.github.com/users/cx422803902/orgs","repos_url":"https://api.github.com/users/cx422803902/repos","events_url":"https://api.github.com/users/cx422803902/events{/privacy}","received_events_url":"https://api.github.com/users/cx422803902/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-08-26T10:05:15Z","updated_at":"2018-10-09T05:47:31Z","closed_at":"2018-09-02T07:49:33Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":20651672,"node_id":"MDEwOlJlcG9zaXRvcnkyMDY1MTY3Mg==","name":"Mybatis-PageHelper","full_name":"pagehelper/Mybatis-PageHelper","private":false,"owner":{"login":"pagehelper","id":7838124,"node_id":"MDQ6VXNlcjc4MzgxMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7838124?v=4","gravatar_id":"","url":"https://api.github.com/users/pagehelper","html_url":"https://github.com/pagehelper","followers_url":"https://api.github.com/users/pagehelper/followers","following_url":"https://api.github.com/users/pagehelper/following{/other_user}","gists_url":"https://api.github.com/users/pagehelper/gists{/gist_id}","starred_url":"https://api.github.com/users/pagehelper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pagehelper/subscriptions","organizations_url":"https://api.github.com/users/pagehelper/orgs","repos_url":"https://api.github.com/users/pagehelper/repos","events_url":"https://api.github.com/users/pagehelper/events{/privacy}","received_events_url":"https://api.github.com/users/pagehelper/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pagehelper/Mybatis-PageHelper","description":"Mybatis通用分页插件","fork":false,"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper","forks_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/forks","keys_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/teams","hooks_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/hooks","issue_events_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/events{/number}","events_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/events","assignees_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/assignees{/user}","branches_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/branches{/branch}","tags_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/tags","blobs_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/refs{/sha}","trees_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/statuses/{sha}","languages_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/languages","stargazers_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/stargazers","contributors_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/contributors","subscribers_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/subscribers","subscription_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/subscription","commits_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/commits{/sha}","git_commits_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/git/commits{/sha}","comments_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/comments{/number}","issue_comment_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/comments{/number}","contents_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/contents/{+path}","compare_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/merges","archive_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/downloads","issues_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues{/number}","pulls_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/pulls{/number}","milestones_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/milestones{/number}","notifications_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/labels{/name}","releases_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/releases{/id}","deployments_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/deployments","created_at":"2014-06-09T15:32:30Z","updated_at":"2025-11-07T20:00:06Z","pushed_at":"2025-06-19T23:54:53Z","git_url":"git://github.com/pagehelper/Mybatis-PageHelper.git","ssh_url":"git@github.com:pagehelper/Mybatis-PageHelper.git","clone_url":"https://github.com/pagehelper/Mybatis-PageHelper.git","svn_url":"https://github.com/pagehelper/Mybatis-PageHelper","homepage":"https://mybatis.io","size":5333,"stargazers_count":12360,"watchers_count":12360,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":3131,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":66,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["mybatis","mybatis-plugin"],"visibility":"public","forks":3131,"open_issues":66,"watchers":12360,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"5+版本的分页插件应该是存在线程安全问题的。\r\n在mybatis的插件中，每一种插件实际上都是只有一个实例的。当有多个线程同时做数据库操作时，就会有多个线程同时操作PageInterceptor这个单例，从而对PageIngerceptor#dialect和msCountMap这两个变量操作。\r\n1.在线程A中对PageIngerceptor#dialect做了赋值的操作，并对dialect做修改\r\n2.在线程B中又重新对PageIngerceptor#dialect做了赋值操作，\r\n。。。如此会有问题的","reactions":{"url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pagehelper/Mybatis-PageHelper/issues/271/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]