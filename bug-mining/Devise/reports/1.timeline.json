[{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/186822","html_url":"https://github.com/heartcombo/devise/issues/200#issuecomment-186822","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/200","id":186822,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NjgyMg==","user":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-04-14T07:04:10Z","updated_at":"2010-04-14T07:04:10Z","body":"No need to wait for routes finalization to include UrlHelpers, closed by 4e674ab9a0945da7a0cf0590c15c606e533a7c59.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/186822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/186824","html_url":"https://github.com/heartcombo/devise/issues/200#issuecomment-186824","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/200","id":186824,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NjgyNA==","user":{"login":"bouchard","id":4944,"node_id":"MDQ6VXNlcjQ5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4944?v=4","gravatar_id":"","url":"https://api.github.com/users/bouchard","html_url":"https://github.com/bouchard","followers_url":"https://api.github.com/users/bouchard/followers","following_url":"https://api.github.com/users/bouchard/following{/other_user}","gists_url":"https://api.github.com/users/bouchard/gists{/gist_id}","starred_url":"https://api.github.com/users/bouchard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bouchard/subscriptions","organizations_url":"https://api.github.com/users/bouchard/orgs","repos_url":"https://api.github.com/users/bouchard/repos","events_url":"https://api.github.com/users/bouchard/events{/privacy}","received_events_url":"https://api.github.com/users/bouchard/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-04-14T07:05:48Z","updated_at":"2010-04-14T07:05:48Z","body":"Thanks for the quick response josevalim! Much appreciated.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/186824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bouchard","id":4944,"node_id":"MDQ6VXNlcjQ5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4944?v=4","gravatar_id":"","url":"https://api.github.com/users/bouchard","html_url":"https://github.com/bouchard","followers_url":"https://api.github.com/users/bouchard/followers","following_url":"https://api.github.com/users/bouchard/following{/other_user}","gists_url":"https://api.github.com/users/bouchard/gists{/gist_id}","starred_url":"https://api.github.com/users/bouchard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bouchard/subscriptions","organizations_url":"https://api.github.com/users/bouchard/orgs","repos_url":"https://api.github.com/users/bouchard/repos","events_url":"https://api.github.com/users/bouchard/events{/privacy}","received_events_url":"https://api.github.com/users/bouchard/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/2085388","html_url":"https://github.com/heartcombo/devise/issues/200#issuecomment-2085388","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/200","id":2085388,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODUzODg=","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-09-13T19:13:57Z","updated_at":"2011-09-13T19:13:57Z","body":"I am running into this issue: Devise 1.4.5, ruby 1.9.2-p290, rails 3.1.0 (stable). \n\nTrying to create users from a rake task, the first user fails with:\n\n```\nundefined method `confirmation_url' for #<#<Class:0x007ff6e4107128>:0x007ff6e4095348>\n```\n\nTrying to create users from the console meets with similar doom:\n\n```\n> user = User.new email: 'rob@testing.com', password: 'testing', password_confirmation: 'testing'\n => #<User id: nil, confirmation_token: nil, confirmed_at: nil, confirmation_sent_at: nil, email: \"rob@testing.com\", encrypted_password: \"$2a$10$SJ3YCQ0koY9CJ0vAqt7UU.koKwY7wNSuZI5Clq9b0txs...\", reset_password_token: nil, reset_password_sent_at: nil, remember_created_at: nil, sign_in_count: 0, current_sign_in_at: nil, last_sign_in_at: nil, current_sign_in_ip: nil, last_sign_in_ip: nil, created_at: nil, updated_at: nil> \nruby-1.9.2-p290 :003 > user.save\n   (0.2ms)  SELECT 1 FROM \"users\" WHERE \"users\".\"email\" = 'rob@testing.com' LIMIT 1\n  User Load (0.2ms)  SELECT \"users\".* FROM \"users\" WHERE \"users\".\"confirmation_token\" = 'bepWt1TsZE8kYJ2y8Vxd' LIMIT 1\n  SQL (11.4ms)  INSERT INTO \"users\" (\"confirmation_sent_at\", \"confirmation_token\", \"confirmed_at\", \"created_at\", \"current_sign_in_at\", \"current_sign_in_ip\", \"email\", \"encrypted_password\", \"last_sign_in_at\", \"last_sign_in_ip\", \"remember_created_at\", \"reset_password_sent_at\", \"reset_password_token\", \"sign_in_count\", \"updated_at\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [[\"confirmation_sent_at\", Tue, 13 Sep 2011 12:08:21 MST -07:00], [\"confirmation_token\", \"bepWt1TsZE8kYJ2y8Vxd\"], [\"confirmed_at\", nil], [\"created_at\", Tue, 13 Sep 2011 12:08:21 MST -07:00], [\"current_sign_in_at\", nil], [\"current_sign_in_ip\", nil], [\"email\", \"rob@testing.com\"], [\"encrypted_password\", \"$2a$10$SJ3YCQ0koY9CJ0vAqt7UU.koKwY7wNSuZI5Clq9b0txspKZztC89m\"], [\"last_sign_in_at\", nil], [\"last_sign_in_ip\", nil], [\"remember_created_at\", nil], [\"reset_password_sent_at\", nil], [\"reset_password_token\", nil], [\"sign_in_count\", 0], [\"updated_at\", Tue, 13 Sep 2011 12:08:21 MST -07:00]]\nActionView::Template::Error: ActionView::Template::Error\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/devise-1.4.5/app/views/devise/mailer/confirmation_instructions.html.erb:5:in `___sers_bm_k__rvm_gems_ruby_______p____ns_gems_devise_______app_views_devise_mailer_confirmation_instructions_html_erb___2872287666281352908_70250129450000'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/actionpack-3.1.0/lib/action_view/template.rb:144:in `block in render'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activesupport-3.1.0/lib/active_support/notifications.rb:55:in `instrument'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/actionpack-3.1.0/lib/action_view/template.rb:142:in `render'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/actionpack-3.1.0/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/actionpack-3.1.0/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activesupport-3.1.0/lib/active_support/notifications.rb:53:in `block in instrument'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activesupport-3.1.0/lib/active_support/notifications/instrumenter.rb:21:in `instrument'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activesupport-3.1.0/lib/active_support/notifications.rb:53:in `instrument'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/actionpack-3.1.0/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/actionpack-3.1.0/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/actionpack-3.1.0/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/actionpack-3.1.0/lib/action_view/renderer/template_renderer.rb:38:in `render_template'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/actionpack-3.1.0/lib/action_view/renderer/template_renderer.rb:12:in `block in render'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/actionpack-3.1.0/lib/action_view/renderer/abstract_renderer.rb:17:in `wrap_formats'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/actionpack-3.1.0/lib/action_view/renderer/template_renderer.rb:9:in `render'\n... 30 levels...\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activerecord-3.1.0/lib/active_record/validations.rb:50:in `save'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activerecord-3.1.0/lib/active_record/attribute_methods/dirty.rb:22:in `save'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activerecord-3.1.0/lib/active_record/transactions.rb:241:in `block (2 levels) in save'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activerecord-3.1.0/lib/active_record/transactions.rb:295:in `block in with_transaction_returning_status'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activerecord-3.1.0/lib/active_record/connection_adapters/abstract/database_statements.rb:192:in `transaction'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activerecord-3.1.0/lib/active_record/transactions.rb:208:in `transaction'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activerecord-3.1.0/lib/active_record/transactions.rb:293:in `with_transaction_returning_status'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activerecord-3.1.0/lib/active_record/transactions.rb:241:in `block in save'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activerecord-3.1.0/lib/active_record/transactions.rb:252:in `rollback_active_record_state!'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/activerecord-3.1.0/lib/active_record/transactions.rb:240:in `save'\n    from (irb):3\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/railties-3.1.0/lib/rails/commands/console.rb:45:in `start'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/railties-3.1.0/lib/rails/commands/console.rb:8:in `start'\n    from /Users/bm5k/.rvm/gems/ruby-1.9.2-p290@nsgems/gems/railties-3.1.0/lib/rails/commands.rb:40:in `<top (required)>'\n    from script/rails:6:in `require'\n    from script/rails:6:in `<main>'ruby-1.9.2-p290 :004 > \n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/2085388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3232586,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMyMzI1ODY=","url":"https://api.github.com/repos/heartcombo/devise/issues/events/3232586","actor":null,"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2011-09-13T19:13:57Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/2128393","html_url":"https://github.com/heartcombo/devise/issues/200#issuecomment-2128393","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/200","id":2128393,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjgzOTM=","user":{"login":"marcalc","id":194899,"node_id":"MDQ6VXNlcjE5NDg5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/194899?v=4","gravatar_id":"","url":"https://api.github.com/users/marcalc","html_url":"https://github.com/marcalc","followers_url":"https://api.github.com/users/marcalc/followers","following_url":"https://api.github.com/users/marcalc/following{/other_user}","gists_url":"https://api.github.com/users/marcalc/gists{/gist_id}","starred_url":"https://api.github.com/users/marcalc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcalc/subscriptions","organizations_url":"https://api.github.com/users/marcalc/orgs","repos_url":"https://api.github.com/users/marcalc/repos","events_url":"https://api.github.com/users/marcalc/events{/privacy}","received_events_url":"https://api.github.com/users/marcalc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-09-18T20:23:00Z","updated_at":"2011-09-18T20:23:00Z","body":"Actually, what's the solution for this case? :)\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/2128393/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"marcalc","id":194899,"node_id":"MDQ6VXNlcjE5NDg5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/194899?v=4","gravatar_id":"","url":"https://api.github.com/users/marcalc","html_url":"https://github.com/marcalc","followers_url":"https://api.github.com/users/marcalc/followers","following_url":"https://api.github.com/users/marcalc/following{/other_user}","gists_url":"https://api.github.com/users/marcalc/gists{/gist_id}","starred_url":"https://api.github.com/users/marcalc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcalc/subscriptions","organizations_url":"https://api.github.com/users/marcalc/orgs","repos_url":"https://api.github.com/users/marcalc/repos","events_url":"https://api.github.com/users/marcalc/events{/privacy}","received_events_url":"https://api.github.com/users/marcalc/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3368173,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzNjgxNzM=","url":"https://api.github.com/repos/heartcombo/devise/issues/events/3368173","actor":{"login":"marcalc","id":194899,"node_id":"MDQ6VXNlcjE5NDg5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/194899?v=4","gravatar_id":"","url":"https://api.github.com/users/marcalc","html_url":"https://github.com/marcalc","followers_url":"https://api.github.com/users/marcalc/followers","following_url":"https://api.github.com/users/marcalc/following{/other_user}","gists_url":"https://api.github.com/users/marcalc/gists{/gist_id}","starred_url":"https://api.github.com/users/marcalc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcalc/subscriptions","organizations_url":"https://api.github.com/users/marcalc/orgs","repos_url":"https://api.github.com/users/marcalc/repos","events_url":"https://api.github.com/users/marcalc/events{/privacy}","received_events_url":"https://api.github.com/users/marcalc/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2011-09-18T20:23:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/2130359","html_url":"https://github.com/heartcombo/devise/issues/200#issuecomment-2130359","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/200","id":2130359,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMzAzNTk=","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-09-19T04:38:56Z","updated_at":"2011-09-19T04:38:56Z","body":"Marcalc, I did something horrible, but it works:\n\n```\nuser = User.new email:                 \"#{ name }@testing.com\",\n                password:              'testing',\n                password_confirmation: 'testing'\n\nuser.save rescue ActionView::Template::Error\nuser.save\nuser.confirm!\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/2130359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/2313191","html_url":"https://github.com/heartcombo/devise/issues/200#issuecomment-2313191","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/200","id":2313191,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMTMxOTE=","user":{"login":"snapshot","id":214586,"node_id":"MDQ6VXNlcjIxNDU4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/214586?v=4","gravatar_id":"","url":"https://api.github.com/users/snapshot","html_url":"https://github.com/snapshot","followers_url":"https://api.github.com/users/snapshot/followers","following_url":"https://api.github.com/users/snapshot/following{/other_user}","gists_url":"https://api.github.com/users/snapshot/gists{/gist_id}","starred_url":"https://api.github.com/users/snapshot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snapshot/subscriptions","organizations_url":"https://api.github.com/users/snapshot/orgs","repos_url":"https://api.github.com/users/snapshot/repos","events_url":"https://api.github.com/users/snapshot/events{/privacy}","received_events_url":"https://api.github.com/users/snapshot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2011-10-06T18:18:26Z","updated_at":"2011-10-06T18:18:26Z","body":"FYI  - I have the same problem with the same error when trying to add some initial users in seeds.rb\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/2313191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"snapshot","id":214586,"node_id":"MDQ6VXNlcjIxNDU4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/214586?v=4","gravatar_id":"","url":"https://api.github.com/users/snapshot","html_url":"https://github.com/snapshot","followers_url":"https://api.github.com/users/snapshot/followers","following_url":"https://api.github.com/users/snapshot/following{/other_user}","gists_url":"https://api.github.com/users/snapshot/gists{/gist_id}","starred_url":"https://api.github.com/users/snapshot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snapshot/subscriptions","organizations_url":"https://api.github.com/users/snapshot/orgs","repos_url":"https://api.github.com/users/snapshot/repos","events_url":"https://api.github.com/users/snapshot/events{/privacy}","received_events_url":"https://api.github.com/users/snapshot/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3952237,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM5NTIyMzc=","url":"https://api.github.com/repos/heartcombo/devise/issues/events/3952237","actor":{"login":"snapshot","id":214586,"node_id":"MDQ6VXNlcjIxNDU4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/214586?v=4","gravatar_id":"","url":"https://api.github.com/users/snapshot","html_url":"https://github.com/snapshot","followers_url":"https://api.github.com/users/snapshot/followers","following_url":"https://api.github.com/users/snapshot/following{/other_user}","gists_url":"https://api.github.com/users/snapshot/gists{/gist_id}","starred_url":"https://api.github.com/users/snapshot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snapshot/subscriptions","organizations_url":"https://api.github.com/users/snapshot/orgs","repos_url":"https://api.github.com/users/snapshot/repos","events_url":"https://api.github.com/users/snapshot/events{/privacy}","received_events_url":"https://api.github.com/users/snapshot/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2011-10-06T18:18:26Z","performed_via_github_app":null},{"id":4206807,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQyMDY4MDc=","url":"https://api.github.com/repos/heartcombo/devise/issues/events/4206807","actor":{"login":"mmmaia","id":165865,"node_id":"MDQ6VXNlcjE2NTg2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/165865?v=4","gravatar_id":"","url":"https://api.github.com/users/mmmaia","html_url":"https://github.com/mmmaia","followers_url":"https://api.github.com/users/mmmaia/followers","following_url":"https://api.github.com/users/mmmaia/following{/other_user}","gists_url":"https://api.github.com/users/mmmaia/gists{/gist_id}","starred_url":"https://api.github.com/users/mmmaia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmmaia/subscriptions","organizations_url":"https://api.github.com/users/mmmaia/orgs","repos_url":"https://api.github.com/users/mmmaia/repos","events_url":"https://api.github.com/users/mmmaia/events{/privacy}","received_events_url":"https://api.github.com/users/mmmaia/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2011-10-13T20:42:34Z","performed_via_github_app":null},{"actor":{"login":"g8d3","id":671721,"node_id":"MDQ6VXNlcjY3MTcyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/671721?v=4","gravatar_id":"","url":"https://api.github.com/users/g8d3","html_url":"https://github.com/g8d3","followers_url":"https://api.github.com/users/g8d3/followers","following_url":"https://api.github.com/users/g8d3/following{/other_user}","gists_url":"https://api.github.com/users/g8d3/gists{/gist_id}","starred_url":"https://api.github.com/users/g8d3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/g8d3/subscriptions","organizations_url":"https://api.github.com/users/g8d3/orgs","repos_url":"https://api.github.com/users/g8d3/repos","events_url":"https://api.github.com/users/g8d3/events{/privacy}","received_events_url":"https://api.github.com/users/g8d3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-10-24T21:04:19Z","updated_at":"2013-10-24T21:04:19Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/heartcombo/devise/issues/2704","repository_url":"https://api.github.com/repos/heartcombo/devise","labels_url":"https://api.github.com/repos/heartcombo/devise/issues/2704/labels{/name}","comments_url":"https://api.github.com/repos/heartcombo/devise/issues/2704/comments","events_url":"https://api.github.com/repos/heartcombo/devise/issues/2704/events","html_url":"https://github.com/heartcombo/devise/issues/2704","id":21551880,"node_id":"MDU6SXNzdWUyMTU1MTg4MA==","number":2704,"title":"undefined method `confirmation_url' ","user":{"login":"g8d3","id":671721,"node_id":"MDQ6VXNlcjY3MTcyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/671721?v=4","gravatar_id":"","url":"https://api.github.com/users/g8d3","html_url":"https://github.com/g8d3","followers_url":"https://api.github.com/users/g8d3/followers","following_url":"https://api.github.com/users/g8d3/following{/other_user}","gists_url":"https://api.github.com/users/g8d3/gists{/gist_id}","starred_url":"https://api.github.com/users/g8d3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/g8d3/subscriptions","organizations_url":"https://api.github.com/users/g8d3/orgs","repos_url":"https://api.github.com/users/g8d3/repos","events_url":"https://api.github.com/users/g8d3/events{/privacy}","received_events_url":"https://api.github.com/users/g8d3/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2013-10-24T21:04:19Z","updated_at":"2016-08-19T09:25:53Z","closed_at":"2013-10-24T21:16:04Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":308770,"node_id":"MDEwOlJlcG9zaXRvcnkzMDg3NzA=","name":"devise","full_name":"heartcombo/devise","private":false,"owner":{"login":"heartcombo","id":59584037,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU5NTg0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/59584037?v=4","gravatar_id":"","url":"https://api.github.com/users/heartcombo","html_url":"https://github.com/heartcombo","followers_url":"https://api.github.com/users/heartcombo/followers","following_url":"https://api.github.com/users/heartcombo/following{/other_user}","gists_url":"https://api.github.com/users/heartcombo/gists{/gist_id}","starred_url":"https://api.github.com/users/heartcombo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heartcombo/subscriptions","organizations_url":"https://api.github.com/users/heartcombo/orgs","repos_url":"https://api.github.com/users/heartcombo/repos","events_url":"https://api.github.com/users/heartcombo/events{/privacy}","received_events_url":"https://api.github.com/users/heartcombo/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/heartcombo/devise","description":"Flexible authentication solution for Rails with Warden.","fork":false,"url":"https://api.github.com/repos/heartcombo/devise","forks_url":"https://api.github.com/repos/heartcombo/devise/forks","keys_url":"https://api.github.com/repos/heartcombo/devise/keys{/key_id}","collaborators_url":"https://api.github.com/repos/heartcombo/devise/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/heartcombo/devise/teams","hooks_url":"https://api.github.com/repos/heartcombo/devise/hooks","issue_events_url":"https://api.github.com/repos/heartcombo/devise/issues/events{/number}","events_url":"https://api.github.com/repos/heartcombo/devise/events","assignees_url":"https://api.github.com/repos/heartcombo/devise/assignees{/user}","branches_url":"https://api.github.com/repos/heartcombo/devise/branches{/branch}","tags_url":"https://api.github.com/repos/heartcombo/devise/tags","blobs_url":"https://api.github.com/repos/heartcombo/devise/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/heartcombo/devise/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/heartcombo/devise/git/refs{/sha}","trees_url":"https://api.github.com/repos/heartcombo/devise/git/trees{/sha}","statuses_url":"https://api.github.com/repos/heartcombo/devise/statuses/{sha}","languages_url":"https://api.github.com/repos/heartcombo/devise/languages","stargazers_url":"https://api.github.com/repos/heartcombo/devise/stargazers","contributors_url":"https://api.github.com/repos/heartcombo/devise/contributors","subscribers_url":"https://api.github.com/repos/heartcombo/devise/subscribers","subscription_url":"https://api.github.com/repos/heartcombo/devise/subscription","commits_url":"https://api.github.com/repos/heartcombo/devise/commits{/sha}","git_commits_url":"https://api.github.com/repos/heartcombo/devise/git/commits{/sha}","comments_url":"https://api.github.com/repos/heartcombo/devise/comments{/number}","issue_comment_url":"https://api.github.com/repos/heartcombo/devise/issues/comments{/number}","contents_url":"https://api.github.com/repos/heartcombo/devise/contents/{+path}","compare_url":"https://api.github.com/repos/heartcombo/devise/compare/{base}...{head}","merges_url":"https://api.github.com/repos/heartcombo/devise/merges","archive_url":"https://api.github.com/repos/heartcombo/devise/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/heartcombo/devise/downloads","issues_url":"https://api.github.com/repos/heartcombo/devise/issues{/number}","pulls_url":"https://api.github.com/repos/heartcombo/devise/pulls{/number}","milestones_url":"https://api.github.com/repos/heartcombo/devise/milestones{/number}","notifications_url":"https://api.github.com/repos/heartcombo/devise/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/heartcombo/devise/labels{/name}","releases_url":"https://api.github.com/repos/heartcombo/devise/releases{/id}","deployments_url":"https://api.github.com/repos/heartcombo/devise/deployments","created_at":"2009-09-16T12:15:12Z","updated_at":"2025-11-09T22:24:51Z","pushed_at":"2025-11-03T21:54:16Z","git_url":"git://github.com/heartcombo/devise.git","ssh_url":"git@github.com:heartcombo/devise.git","clone_url":"https://github.com/heartcombo/devise.git","svn_url":"https://github.com/heartcombo/devise","homepage":"","size":5823,"stargazers_count":24284,"watchers_count":24284,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":5528,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":223,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["authentication","devise","rails","ruby"],"visibility":"public","forks":5528,"open_issues":223,"watchers":24284,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi,\n\nI read #200 #1365 and #2012.\n\nI am using devise (3.1.0), warden (1.2.3), rails (4.0.0) and mongoid (4.0.0).\n\nI think the answer to all this issue is http://stackoverflow.com/questions/7461332/rails3-devise-undefined-method-confirmation-url, but I was wondering if there is a solution that does not make me to generate views.\n\nThis is what I did:\n\n\\1. `rails g devise:install`.\n\\2. Wrote `config.action_mailer.default_url_options = { :host => 'localhost:3000' }` in `config/environments/development.rb`.\n\\3. `app/models/user/devise_stuff.rb`:\n\n``` ruby\nmodule User::DeviseStuff\n\n  def self.included(base)\n    base.class_eval do\n      # Include default devise modules. Others available are:\n      # :confirmable, :lockable, :timeoutable and :omniauthable\n      devise :database_authenticatable, :registerable, :confirmable,\n        :recoverable, :rememberable, :trackable, :validatable\n\n      ## Database authenticatable\n      field :email,              :type => String, :default => \"\"\n      field :encrypted_password, :type => String, :default => \"\"\n\n      ## Recoverable\n      field :reset_password_token,   :type => String\n      field :reset_password_sent_at, :type => Time\n\n      ## Rememberable\n      field :remember_created_at, :type => Time\n\n      ## Trackable\n      field :sign_in_count,      :type => Integer, :default => 0\n      field :current_sign_in_at, :type => Time\n      field :last_sign_in_at,    :type => Time\n      field :current_sign_in_ip, :type => String\n      field :last_sign_in_ip,    :type => String\n\n      ## Confirmable\n      field :confirmation_token,   :type => String\n      field :confirmed_at,         :type => Time\n      field :confirmation_sent_at, :type => Time\n      field :unconfirmed_email,    :type => String # Only if using reconfirmable\n\n     end\n  end\n\nend\n```\n\n\\4. `app/models/user.rb`\n\n``` ruby\nclass User\n    include Mongoid::Document\n    include Mongoid::Timestamps\n    include User::DeviseStuff\nend\n```\n\n\\5. `config/routes.rb`\n\n``` ruby\nMyApp::Application.routes.draw do\n\n  devise_for :users\n```\n\n\\6. In my form I am POSTING to `users_path` which is the same as `user_registration_path`, in rake routes appears as:\n\n```\n          user_registration POST   /users(.:format)             devise/registrations#create\n```\n\n\\7. I get this after that POST:\n\n![screen shot 2013-10-24 at 4 08 08 pm](https://f.cloud.github.com/assets/671721/1403241/6a8d4696-3cf0-11e3-8414-1d155d1f82aa.png)\n\nThanks in advance.\n","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/2704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/heartcombo/devise/issues/2704/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/217742789","html_url":"https://github.com/heartcombo/devise/issues/200#issuecomment-217742789","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/200","id":217742789,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzc0Mjc4OQ==","user":{"login":"tilo","id":22553,"node_id":"MDQ6VXNlcjIyNTUz","avatar_url":"https://avatars.githubusercontent.com/u/22553?v=4","gravatar_id":"","url":"https://api.github.com/users/tilo","html_url":"https://github.com/tilo","followers_url":"https://api.github.com/users/tilo/followers","following_url":"https://api.github.com/users/tilo/following{/other_user}","gists_url":"https://api.github.com/users/tilo/gists{/gist_id}","starred_url":"https://api.github.com/users/tilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilo/subscriptions","organizations_url":"https://api.github.com/users/tilo/orgs","repos_url":"https://api.github.com/users/tilo/repos","events_url":"https://api.github.com/users/tilo/events{/privacy}","received_events_url":"https://api.github.com/users/tilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-08T20:01:20Z","updated_at":"2016-05-08T20:01:20Z","body":"@josevalim what is the suggested work-around for this? It still happens on 3.5.9 from the command line\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/217742789/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tilo","id":22553,"node_id":"MDQ6VXNlcjIyNTUz","avatar_url":"https://avatars.githubusercontent.com/u/22553?v=4","gravatar_id":"","url":"https://api.github.com/users/tilo","html_url":"https://github.com/tilo","followers_url":"https://api.github.com/users/tilo/followers","following_url":"https://api.github.com/users/tilo/following{/other_user}","gists_url":"https://api.github.com/users/tilo/gists{/gist_id}","starred_url":"https://api.github.com/users/tilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilo/subscriptions","organizations_url":"https://api.github.com/users/tilo/orgs","repos_url":"https://api.github.com/users/tilo/repos","events_url":"https://api.github.com/users/tilo/events{/privacy}","received_events_url":"https://api.github.com/users/tilo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":653791346,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NjUzNzkxMzQ2","url":"https://api.github.com/repos/heartcombo/devise/issues/events/653791346","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-05-08T20:01:20Z","performed_via_github_app":null},{"id":653791347,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDY1Mzc5MTM0Nw==","url":"https://api.github.com/repos/heartcombo/devise/issues/events/653791347","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-05-08T20:01:20Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/235194004","html_url":"https://github.com/heartcombo/devise/issues/200#issuecomment-235194004","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/200","id":235194004,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTE5NDAwNA==","user":{"login":"masylum","id":28248,"node_id":"MDQ6VXNlcjI4MjQ4","avatar_url":"https://avatars.githubusercontent.com/u/28248?v=4","gravatar_id":"","url":"https://api.github.com/users/masylum","html_url":"https://github.com/masylum","followers_url":"https://api.github.com/users/masylum/followers","following_url":"https://api.github.com/users/masylum/following{/other_user}","gists_url":"https://api.github.com/users/masylum/gists{/gist_id}","starred_url":"https://api.github.com/users/masylum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masylum/subscriptions","organizations_url":"https://api.github.com/users/masylum/orgs","repos_url":"https://api.github.com/users/masylum/repos","events_url":"https://api.github.com/users/masylum/events{/privacy}","received_events_url":"https://api.github.com/users/masylum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T08:15:29Z","updated_at":"2016-07-26T08:15:29Z","body":"It happens to me also on the `seeds.rb`...\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/235194004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"masylum","id":28248,"node_id":"MDQ6VXNlcjI4MjQ4","avatar_url":"https://avatars.githubusercontent.com/u/28248?v=4","gravatar_id":"","url":"https://api.github.com/users/masylum","html_url":"https://github.com/masylum","followers_url":"https://api.github.com/users/masylum/followers","following_url":"https://api.github.com/users/masylum/following{/other_user}","gists_url":"https://api.github.com/users/masylum/gists{/gist_id}","starred_url":"https://api.github.com/users/masylum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masylum/subscriptions","organizations_url":"https://api.github.com/users/masylum/orgs","repos_url":"https://api.github.com/users/masylum/repos","events_url":"https://api.github.com/users/masylum/events{/privacy}","received_events_url":"https://api.github.com/users/masylum/received_events","type":"User","user_view_type":"public","site_admin":false}}]