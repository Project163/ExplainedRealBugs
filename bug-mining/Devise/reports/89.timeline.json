[{"id":11077086,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExMDc3MDg2","url":"https://api.github.com/repos/heartcombo/devise/issues/events/11077086","actor":{"login":"aprescott","id":342081,"node_id":"MDQ6VXNlcjM0MjA4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/342081?v=4","gravatar_id":"","url":"https://api.github.com/users/aprescott","html_url":"https://github.com/aprescott","followers_url":"https://api.github.com/users/aprescott/followers","following_url":"https://api.github.com/users/aprescott/following{/other_user}","gists_url":"https://api.github.com/users/aprescott/gists{/gist_id}","starred_url":"https://api.github.com/users/aprescott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aprescott/subscriptions","organizations_url":"https://api.github.com/users/aprescott/orgs","repos_url":"https://api.github.com/users/aprescott/repos","events_url":"https://api.github.com/users/aprescott/events{/privacy}","received_events_url":"https://api.github.com/users/aprescott/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-03-09T14:47:51Z","performed_via_github_app":null},{"id":11087248,"node_id":"MDExOkNsb3NlZEV2ZW50MTEwODcyNDg=","url":"https://api.github.com/repos/heartcombo/devise/issues/events/11087248","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"0ab28ef8eeb8c92442af7ab1689f87e4edde80af","commit_url":"https://api.github.com/repos/heartcombo/devise/commits/0ab28ef8eeb8c92442af7ab1689f87e4edde80af","created_at":"2012-03-09T17:12:50Z","state_reason":null,"performed_via_github_app":null},{"id":11087249,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExMDg3MjQ5","url":"https://api.github.com/repos/heartcombo/devise/issues/events/11087249","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-03-09T17:12:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/4420125","html_url":"https://github.com/heartcombo/devise/issues/1708#issuecomment-4420125","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/1708","id":4420125,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjAxMjU=","user":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-03-09T17:13:13Z","updated_at":"2012-03-09T17:13:18Z","body":"Pushed `skip_reconfirmation!` that should allow you to skip the second e-mail being sent.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/4420125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/4422194","html_url":"https://github.com/heartcombo/devise/issues/1708#issuecomment-4422194","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/1708","id":4422194,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjIxOTQ=","user":{"login":"aprescott","id":342081,"node_id":"MDQ6VXNlcjM0MjA4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/342081?v=4","gravatar_id":"","url":"https://api.github.com/users/aprescott","html_url":"https://github.com/aprescott","followers_url":"https://api.github.com/users/aprescott/followers","following_url":"https://api.github.com/users/aprescott/following{/other_user}","gists_url":"https://api.github.com/users/aprescott/gists{/gist_id}","starred_url":"https://api.github.com/users/aprescott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aprescott/subscriptions","organizations_url":"https://api.github.com/users/aprescott/orgs","repos_url":"https://api.github.com/users/aprescott/repos","events_url":"https://api.github.com/users/aprescott/events{/privacy}","received_events_url":"https://api.github.com/users/aprescott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-03-09T18:53:36Z","updated_at":"2012-03-09T18:53:36Z","body":"Thanks, but what about the case where the attribute being updated isn't the email address? In this particular case it was some unrelated flag.\n\nIs it not still a bug to send out the confirmation email in the case where you call `update_attribute(:something_that_isnt_email_related, \"foo\")`, but choose not to specify `skip_reconfirmation!`?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/4422194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aprescott","id":342081,"node_id":"MDQ6VXNlcjM0MjA4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/342081?v=4","gravatar_id":"","url":"https://api.github.com/users/aprescott","html_url":"https://github.com/aprescott","followers_url":"https://api.github.com/users/aprescott/followers","following_url":"https://api.github.com/users/aprescott/following{/other_user}","gists_url":"https://api.github.com/users/aprescott/gists{/gist_id}","starred_url":"https://api.github.com/users/aprescott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aprescott/subscriptions","organizations_url":"https://api.github.com/users/aprescott/orgs","repos_url":"https://api.github.com/users/aprescott/repos","events_url":"https://api.github.com/users/aprescott/events{/privacy}","received_events_url":"https://api.github.com/users/aprescott/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/4422300","html_url":"https://github.com/heartcombo/devise/issues/1708#issuecomment-4422300","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/1708","id":4422300,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjIzMDA=","user":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-03-09T18:59:21Z","updated_at":"2012-03-09T18:59:21Z","body":"Here is the thing, you are updating the user in an after create callback and Active Record is still considering the e-mail as changed while it should have reset the fields. In other words, this is an Active Record bug and I don't think it is Devise's job to work around it. That said, `skip_reconfirmation!` is a workaround so you can easily solve the problem. I have started a discussion about this Active Record bug, if you want to open a bug in Rails issues tracker, please go ahead.\n\nAlternatively, you can also consider using update_column or a before_create callback to avoid invoking callbacks.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/4422300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/5270421","html_url":"https://github.com/heartcombo/devise/issues/1708#issuecomment-5270421","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/1708","id":5270421,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzA0MjE=","user":{"login":"radar","id":2687,"node_id":"MDQ6VXNlcjI2ODc=","avatar_url":"https://avatars.githubusercontent.com/u/2687?v=4","gravatar_id":"","url":"https://api.github.com/users/radar","html_url":"https://github.com/radar","followers_url":"https://api.github.com/users/radar/followers","following_url":"https://api.github.com/users/radar/following{/other_user}","gists_url":"https://api.github.com/users/radar/gists{/gist_id}","starred_url":"https://api.github.com/users/radar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/radar/subscriptions","organizations_url":"https://api.github.com/users/radar/orgs","repos_url":"https://api.github.com/users/radar/repos","events_url":"https://api.github.com/users/radar/events{/privacy}","received_events_url":"https://api.github.com/users/radar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-04-22T19:35:33Z","updated_at":"2012-04-22T19:35:33Z","body":"I ran into this issue with Devise 2.0.4 on an `update_attributes` call inside my controller:\n\n``` ruby\ndef update\n  if params[:user][:password].blank?\n    params[:user].delete(:password)\n    params[:user].delete(:password_confirmation)\n  end\n\n  if @user.update_attributes(params[:user])\n    flash[:notice] = \"User has been updated.\"\n    redirect_to admin_users_path\n  else\n    flash[:alert] = \"User has not been updated.\"\n    render :action => \"edit\"\n  end\nend\n```\n\nIt definitely wasn't clear from the test what it was doing, but digging into the `Confirmable` module and finding the `skip_reconfirmation!` method there (on master), led me to the commit which lead me here. Thanks for keeping that all organised, it really helped! \n\nLooks like I'm going to have to wait for Devise 2.1.0 to be released for this to be fixed. Until then I will work around it.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/5270421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"radar","id":2687,"node_id":"MDQ6VXNlcjI2ODc=","avatar_url":"https://avatars.githubusercontent.com/u/2687?v=4","gravatar_id":"","url":"https://api.github.com/users/radar","html_url":"https://github.com/radar","followers_url":"https://api.github.com/users/radar/followers","following_url":"https://api.github.com/users/radar/following{/other_user}","gists_url":"https://api.github.com/users/radar/gists{/gist_id}","starred_url":"https://api.github.com/users/radar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/radar/subscriptions","organizations_url":"https://api.github.com/users/radar/orgs","repos_url":"https://api.github.com/users/radar/repos","events_url":"https://api.github.com/users/radar/events{/privacy}","received_events_url":"https://api.github.com/users/radar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13913361,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEzOTEzMzYx","url":"https://api.github.com/repos/heartcombo/devise/issues/events/13913361","actor":{"login":"radar","id":2687,"node_id":"MDQ6VXNlcjI2ODc=","avatar_url":"https://avatars.githubusercontent.com/u/2687?v=4","gravatar_id":"","url":"https://api.github.com/users/radar","html_url":"https://github.com/radar","followers_url":"https://api.github.com/users/radar/followers","following_url":"https://api.github.com/users/radar/following{/other_user}","gists_url":"https://api.github.com/users/radar/gists{/gist_id}","starred_url":"https://api.github.com/users/radar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/radar/subscriptions","organizations_url":"https://api.github.com/users/radar/orgs","repos_url":"https://api.github.com/users/radar/repos","events_url":"https://api.github.com/users/radar/events{/privacy}","received_events_url":"https://api.github.com/users/radar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-04-22T19:35:33Z","performed_via_github_app":null}]