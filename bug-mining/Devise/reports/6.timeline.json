[{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/210595","html_url":"https://github.com/heartcombo/devise/issues/212#issuecomment-210595","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/212","id":210595,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDU5NQ==","user":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-04-17T05:25:18Z","updated_at":"2010-04-17T05:25:18Z","body":"Can you please isolate the issue in a smaller application (and publish it in Github) or in Devise test suite?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/210595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/211422","html_url":"https://github.com/heartcombo/devise/issues/212#issuecomment-211422","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/212","id":211422,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTQyMg==","user":{"login":"jarijokinen","id":11429,"node_id":"MDQ6VXNlcjExNDI5","avatar_url":"https://avatars.githubusercontent.com/u/11429?v=4","gravatar_id":"","url":"https://api.github.com/users/jarijokinen","html_url":"https://github.com/jarijokinen","followers_url":"https://api.github.com/users/jarijokinen/followers","following_url":"https://api.github.com/users/jarijokinen/following{/other_user}","gists_url":"https://api.github.com/users/jarijokinen/gists{/gist_id}","starred_url":"https://api.github.com/users/jarijokinen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jarijokinen/subscriptions","organizations_url":"https://api.github.com/users/jarijokinen/orgs","repos_url":"https://api.github.com/users/jarijokinen/repos","events_url":"https://api.github.com/users/jarijokinen/events{/privacy}","received_events_url":"https://api.github.com/users/jarijokinen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-04-17T10:40:37Z","updated_at":"2010-04-17T10:40:37Z","body":"You can reproduce the issue by adding before_filter :authenticate_user! into the ApplicationController of the Devise test suite app, and running the app in test or production environment.\n\nIt seems that the require_no_authentication filter in the Devise::SessionsController is not working properly, so it requires authentication for the sign in page, which leads to an infinite loop.\n\nLog:  \n\nStarted GET \"/\" for 127.0.0.1 at 2010-04-17 13:03:59  \nStarted GET \"/users/sign_in\" for 127.0.0.1 at 2010-04-17 13:03:59  \nStarted GET \"/users/sign_in\" for 127.0.0.1 at 2010-04-17 13:03:59  \nStarted GET \"/users/sign_in\" for 127.0.0.1 at 2010-04-17 13:03:59  \n...\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/211422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jarijokinen","id":11429,"node_id":"MDQ6VXNlcjExNDI5","avatar_url":"https://avatars.githubusercontent.com/u/11429?v=4","gravatar_id":"","url":"https://api.github.com/users/jarijokinen","html_url":"https://github.com/jarijokinen","followers_url":"https://api.github.com/users/jarijokinen/followers","following_url":"https://api.github.com/users/jarijokinen/following{/other_user}","gists_url":"https://api.github.com/users/jarijokinen/gists{/gist_id}","starred_url":"https://api.github.com/users/jarijokinen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jarijokinen/subscriptions","organizations_url":"https://api.github.com/users/jarijokinen/orgs","repos_url":"https://api.github.com/users/jarijokinen/repos","events_url":"https://api.github.com/users/jarijokinen/events{/privacy}","received_events_url":"https://api.github.com/users/jarijokinen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/212606","html_url":"https://github.com/heartcombo/devise/issues/212#issuecomment-212606","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/212","id":212606,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjYwNg==","user":{"login":"benedikt","id":9696,"node_id":"MDQ6VXNlcjk2OTY=","avatar_url":"https://avatars.githubusercontent.com/u/9696?v=4","gravatar_id":"","url":"https://api.github.com/users/benedikt","html_url":"https://github.com/benedikt","followers_url":"https://api.github.com/users/benedikt/followers","following_url":"https://api.github.com/users/benedikt/following{/other_user}","gists_url":"https://api.github.com/users/benedikt/gists{/gist_id}","starred_url":"https://api.github.com/users/benedikt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benedikt/subscriptions","organizations_url":"https://api.github.com/users/benedikt/orgs","repos_url":"https://api.github.com/users/benedikt/repos","events_url":"https://api.github.com/users/benedikt/events{/privacy}","received_events_url":"https://api.github.com/users/benedikt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-04-18T08:55:06Z","updated_at":"2010-04-18T08:55:06Z","body":"It looks like it's somehow related to the cache_classes setting. With the before_fitler in the ApplicationController and cache_classes = true I get this redirection loop, too.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/212606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"benedikt","id":9696,"node_id":"MDQ6VXNlcjk2OTY=","avatar_url":"https://avatars.githubusercontent.com/u/9696?v=4","gravatar_id":"","url":"https://api.github.com/users/benedikt","html_url":"https://github.com/benedikt","followers_url":"https://api.github.com/users/benedikt/followers","following_url":"https://api.github.com/users/benedikt/following{/other_user}","gists_url":"https://api.github.com/users/benedikt/gists{/gist_id}","starred_url":"https://api.github.com/users/benedikt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benedikt/subscriptions","organizations_url":"https://api.github.com/users/benedikt/orgs","repos_url":"https://api.github.com/users/benedikt/repos","events_url":"https://api.github.com/users/benedikt/events{/privacy}","received_events_url":"https://api.github.com/users/benedikt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/212632","html_url":"https://github.com/heartcombo/devise/issues/212#issuecomment-212632","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/212","id":212632,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjYzMg==","user":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-04-18T11:30:13Z","updated_at":"2010-04-18T11:30:13Z","body":"Yeah, it makes sense. If you require authentication in ApplicationController, Devise will inherit from it and require authentication for sign, which does not make sense and loop forever. For this while, you can do this:\n\nbefore_filter :authenticate_user!, :unless => :devise_controller?\n\ni'm still pondering if this should be handled by default. \n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/212632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/217500","html_url":"https://github.com/heartcombo/devise/issues/212#issuecomment-217500","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/212","id":217500,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzUwMA==","user":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-04-22T18:00:10Z","updated_at":"2010-04-22T18:00:10Z","body":"Ensure routes are loaded before application classes are eager loaded, closed by 4da63c539534364670bfa0e3ff497afc0d661a90.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/217500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/217501","html_url":"https://github.com/heartcombo/devise/issues/212#issuecomment-217501","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/212","id":217501,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzUwMQ==","user":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-04-22T18:00:41Z","updated_at":"2010-04-22T18:00:41Z","body":"Mate, can you please try devise from git repo and ensure it works? Thanks!\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/217501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/218079","html_url":"https://github.com/heartcombo/devise/issues/212#issuecomment-218079","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/212","id":218079,"node_id":"MDEyOklzc3VlQ29tbWVudDIxODA3OQ==","user":{"login":"benedikt","id":9696,"node_id":"MDQ6VXNlcjk2OTY=","avatar_url":"https://avatars.githubusercontent.com/u/9696?v=4","gravatar_id":"","url":"https://api.github.com/users/benedikt","html_url":"https://github.com/benedikt","followers_url":"https://api.github.com/users/benedikt/followers","following_url":"https://api.github.com/users/benedikt/following{/other_user}","gists_url":"https://api.github.com/users/benedikt/gists{/gist_id}","starred_url":"https://api.github.com/users/benedikt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benedikt/subscriptions","organizations_url":"https://api.github.com/users/benedikt/orgs","repos_url":"https://api.github.com/users/benedikt/repos","events_url":"https://api.github.com/users/benedikt/events{/privacy}","received_events_url":"https://api.github.com/users/benedikt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-04-23T07:03:59Z","updated_at":"2010-04-23T07:03:59Z","body":"Works for me now!\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/218079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"benedikt","id":9696,"node_id":"MDQ6VXNlcjk2OTY=","avatar_url":"https://avatars.githubusercontent.com/u/9696?v=4","gravatar_id":"","url":"https://api.github.com/users/benedikt","html_url":"https://github.com/benedikt","followers_url":"https://api.github.com/users/benedikt/followers","following_url":"https://api.github.com/users/benedikt/following{/other_user}","gists_url":"https://api.github.com/users/benedikt/gists{/gist_id}","starred_url":"https://api.github.com/users/benedikt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benedikt/subscriptions","organizations_url":"https://api.github.com/users/benedikt/orgs","repos_url":"https://api.github.com/users/benedikt/repos","events_url":"https://api.github.com/users/benedikt/events{/privacy}","received_events_url":"https://api.github.com/users/benedikt/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/221917","html_url":"https://github.com/heartcombo/devise/issues/212#issuecomment-221917","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/212","id":221917,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTkxNw==","user":{"login":"jarijokinen","id":11429,"node_id":"MDQ6VXNlcjExNDI5","avatar_url":"https://avatars.githubusercontent.com/u/11429?v=4","gravatar_id":"","url":"https://api.github.com/users/jarijokinen","html_url":"https://github.com/jarijokinen","followers_url":"https://api.github.com/users/jarijokinen/followers","following_url":"https://api.github.com/users/jarijokinen/following{/other_user}","gists_url":"https://api.github.com/users/jarijokinen/gists{/gist_id}","starred_url":"https://api.github.com/users/jarijokinen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jarijokinen/subscriptions","organizations_url":"https://api.github.com/users/jarijokinen/orgs","repos_url":"https://api.github.com/users/jarijokinen/repos","events_url":"https://api.github.com/users/jarijokinen/events{/privacy}","received_events_url":"https://api.github.com/users/jarijokinen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-04-27T11:04:05Z","updated_at":"2010-04-27T11:04:05Z","body":"Devise from the current repo works great, and all my authentication-related Cucumber tests are passing now. Thanks!\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/221917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jarijokinen","id":11429,"node_id":"MDQ6VXNlcjExNDI5","avatar_url":"https://avatars.githubusercontent.com/u/11429?v=4","gravatar_id":"","url":"https://api.github.com/users/jarijokinen","html_url":"https://github.com/jarijokinen","followers_url":"https://api.github.com/users/jarijokinen/followers","following_url":"https://api.github.com/users/jarijokinen/following{/other_user}","gists_url":"https://api.github.com/users/jarijokinen/gists{/gist_id}","starred_url":"https://api.github.com/users/jarijokinen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jarijokinen/subscriptions","organizations_url":"https://api.github.com/users/jarijokinen/orgs","repos_url":"https://api.github.com/users/jarijokinen/repos","events_url":"https://api.github.com/users/jarijokinen/events{/privacy}","received_events_url":"https://api.github.com/users/jarijokinen/received_events","type":"User","user_view_type":"public","site_admin":false}}]