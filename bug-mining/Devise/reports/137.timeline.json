[{"id":336093668,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzM2MDkzNjY4","url":"https://api.github.com/repos/heartcombo/devise/issues/events/336093668","actor":{"login":"stevenmilton58","id":12016412,"node_id":"MDQ6VXNlcjEyMDE2NDEy","avatar_url":"https://avatars.githubusercontent.com/u/12016412?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenmilton58","html_url":"https://github.com/stevenmilton58","followers_url":"https://api.github.com/users/stevenmilton58/followers","following_url":"https://api.github.com/users/stevenmilton58/following{/other_user}","gists_url":"https://api.github.com/users/stevenmilton58/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenmilton58/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenmilton58/subscriptions","organizations_url":"https://api.github.com/users/stevenmilton58/orgs","repos_url":"https://api.github.com/users/stevenmilton58/repos","events_url":"https://api.github.com/users/stevenmilton58/events{/privacy}","received_events_url":"https://api.github.com/users/stevenmilton58/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2015-06-21T07:23:31Z","rename":{"from":"Redirect loop when using `authenticate` in routes.rb","to":"Redirect loop when using `authenticate` in routes.rb (plus pull request that caused it)"},"performed_via_github_app":null},{"actor":{"login":"stevenmilton58","id":12016412,"node_id":"MDQ6VXNlcjEyMDE2NDEy","avatar_url":"https://avatars.githubusercontent.com/u/12016412?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenmilton58","html_url":"https://github.com/stevenmilton58","followers_url":"https://api.github.com/users/stevenmilton58/followers","following_url":"https://api.github.com/users/stevenmilton58/following{/other_user}","gists_url":"https://api.github.com/users/stevenmilton58/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenmilton58/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenmilton58/subscriptions","organizations_url":"https://api.github.com/users/stevenmilton58/orgs","repos_url":"https://api.github.com/users/stevenmilton58/repos","events_url":"https://api.github.com/users/stevenmilton58/events{/privacy}","received_events_url":"https://api.github.com/users/stevenmilton58/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-06-21T07:31:57Z","updated_at":"2015-06-21T07:31:57Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/heartcombo/devise/issues/3613","repository_url":"https://api.github.com/repos/heartcombo/devise","labels_url":"https://api.github.com/repos/heartcombo/devise/issues/3613/labels{/name}","comments_url":"https://api.github.com/repos/heartcombo/devise/issues/3613/comments","events_url":"https://api.github.com/repos/heartcombo/devise/issues/3613/events","html_url":"https://github.com/heartcombo/devise/issues/3613","id":84093263,"node_id":"MDU6SXNzdWU4NDA5MzI2Mw==","number":3613,"title":"Using authenticated routes with mounted engines causes a redirect loop","user":{"login":"ajhodges","id":856738,"node_id":"MDQ6VXNlcjg1NjczOA==","avatar_url":"https://avatars.githubusercontent.com/u/856738?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhodges","html_url":"https://github.com/ajhodges","followers_url":"https://api.github.com/users/ajhodges/followers","following_url":"https://api.github.com/users/ajhodges/following{/other_user}","gists_url":"https://api.github.com/users/ajhodges/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhodges/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhodges/subscriptions","organizations_url":"https://api.github.com/users/ajhodges/orgs","repos_url":"https://api.github.com/users/ajhodges/repos","events_url":"https://api.github.com/users/ajhodges/events{/privacy}","received_events_url":"https://api.github.com/users/ajhodges/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-06-02T16:23:28Z","updated_at":"2016-09-20T07:11:09Z","closed_at":"2016-02-23T14:20:08Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":308770,"node_id":"MDEwOlJlcG9zaXRvcnkzMDg3NzA=","name":"devise","full_name":"heartcombo/devise","private":false,"owner":{"login":"heartcombo","id":59584037,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU5NTg0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/59584037?v=4","gravatar_id":"","url":"https://api.github.com/users/heartcombo","html_url":"https://github.com/heartcombo","followers_url":"https://api.github.com/users/heartcombo/followers","following_url":"https://api.github.com/users/heartcombo/following{/other_user}","gists_url":"https://api.github.com/users/heartcombo/gists{/gist_id}","starred_url":"https://api.github.com/users/heartcombo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heartcombo/subscriptions","organizations_url":"https://api.github.com/users/heartcombo/orgs","repos_url":"https://api.github.com/users/heartcombo/repos","events_url":"https://api.github.com/users/heartcombo/events{/privacy}","received_events_url":"https://api.github.com/users/heartcombo/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/heartcombo/devise","description":"Flexible authentication solution for Rails with Warden.","fork":false,"url":"https://api.github.com/repos/heartcombo/devise","forks_url":"https://api.github.com/repos/heartcombo/devise/forks","keys_url":"https://api.github.com/repos/heartcombo/devise/keys{/key_id}","collaborators_url":"https://api.github.com/repos/heartcombo/devise/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/heartcombo/devise/teams","hooks_url":"https://api.github.com/repos/heartcombo/devise/hooks","issue_events_url":"https://api.github.com/repos/heartcombo/devise/issues/events{/number}","events_url":"https://api.github.com/repos/heartcombo/devise/events","assignees_url":"https://api.github.com/repos/heartcombo/devise/assignees{/user}","branches_url":"https://api.github.com/repos/heartcombo/devise/branches{/branch}","tags_url":"https://api.github.com/repos/heartcombo/devise/tags","blobs_url":"https://api.github.com/repos/heartcombo/devise/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/heartcombo/devise/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/heartcombo/devise/git/refs{/sha}","trees_url":"https://api.github.com/repos/heartcombo/devise/git/trees{/sha}","statuses_url":"https://api.github.com/repos/heartcombo/devise/statuses/{sha}","languages_url":"https://api.github.com/repos/heartcombo/devise/languages","stargazers_url":"https://api.github.com/repos/heartcombo/devise/stargazers","contributors_url":"https://api.github.com/repos/heartcombo/devise/contributors","subscribers_url":"https://api.github.com/repos/heartcombo/devise/subscribers","subscription_url":"https://api.github.com/repos/heartcombo/devise/subscription","commits_url":"https://api.github.com/repos/heartcombo/devise/commits{/sha}","git_commits_url":"https://api.github.com/repos/heartcombo/devise/git/commits{/sha}","comments_url":"https://api.github.com/repos/heartcombo/devise/comments{/number}","issue_comment_url":"https://api.github.com/repos/heartcombo/devise/issues/comments{/number}","contents_url":"https://api.github.com/repos/heartcombo/devise/contents/{+path}","compare_url":"https://api.github.com/repos/heartcombo/devise/compare/{base}...{head}","merges_url":"https://api.github.com/repos/heartcombo/devise/merges","archive_url":"https://api.github.com/repos/heartcombo/devise/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/heartcombo/devise/downloads","issues_url":"https://api.github.com/repos/heartcombo/devise/issues{/number}","pulls_url":"https://api.github.com/repos/heartcombo/devise/pulls{/number}","milestones_url":"https://api.github.com/repos/heartcombo/devise/milestones{/number}","notifications_url":"https://api.github.com/repos/heartcombo/devise/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/heartcombo/devise/labels{/name}","releases_url":"https://api.github.com/repos/heartcombo/devise/releases{/id}","deployments_url":"https://api.github.com/repos/heartcombo/devise/deployments","created_at":"2009-09-16T12:15:12Z","updated_at":"2025-11-09T22:24:51Z","pushed_at":"2025-11-03T21:54:16Z","git_url":"git://github.com/heartcombo/devise.git","ssh_url":"git@github.com:heartcombo/devise.git","clone_url":"https://github.com/heartcombo/devise.git","svn_url":"https://github.com/heartcombo/devise","homepage":"","size":5823,"stargazers_count":24284,"watchers_count":24284,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":5528,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":223,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["authentication","devise","rails","ruby"],"visibility":"public","forks":5528,"open_issues":223,"watchers":24284,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Using Rails 4.2.1, Devise 3.5.1, Warden 1.2.3\n\nThis is a regression in 3.5.x. I have `rails_admin` and `sidekiq` mounted under an authenticated admin route in my app like so:\n\n```\ndevise_for :admin\n\nauthenticate :admin do\n  scope '/admin' do\n    #reqsue admin panel\n    mount Sidekiq::Web => \"/sidekiq\"\n\n    #rails_admin admin panel\n    mount RailsAdmin::Engine => '/', as: 'rails_admin'\n  end\nend\n```\n\nThe behavior with devise 3.4.1 is that if I navigate to `/admin` or `/admin/sidekiq` and I am not authenticated as an `Admin`, I get redirected to `/admin/sign_in`. After upgrading to 3.5.1, I am redirected to `/admin/admin/sign_in` and `/admin/sidekiq/admin/sign_in` respectfully. This causes a redirect loop.\n","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/3613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/heartcombo/devise/issues/3613/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/113870921","html_url":"https://github.com/heartcombo/devise/issues/3643#issuecomment-113870921","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/3643","id":113870921,"node_id":"MDEyOklzc3VlQ29tbWVudDExMzg3MDkyMQ==","user":{"login":"stevenmilton58","id":12016412,"node_id":"MDQ6VXNlcjEyMDE2NDEy","avatar_url":"https://avatars.githubusercontent.com/u/12016412?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenmilton58","html_url":"https://github.com/stevenmilton58","followers_url":"https://api.github.com/users/stevenmilton58/followers","following_url":"https://api.github.com/users/stevenmilton58/following{/other_user}","gists_url":"https://api.github.com/users/stevenmilton58/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenmilton58/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenmilton58/subscriptions","organizations_url":"https://api.github.com/users/stevenmilton58/orgs","repos_url":"https://api.github.com/users/stevenmilton58/repos","events_url":"https://api.github.com/users/stevenmilton58/events{/privacy}","received_events_url":"https://api.github.com/users/stevenmilton58/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-06-21T07:32:52Z","updated_at":"2015-06-21T07:32:52Z","body":"Didn't search before posting this, but issue https://github.com/plataformatec/devise/issues/3613 is related to this one I think. Difference being I tested and it seems to me https://github.com/plataformatec/devise/pull/3452/files is the cause.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/113870921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stevenmilton58","id":12016412,"node_id":"MDQ6VXNlcjEyMDE2NDEy","avatar_url":"https://avatars.githubusercontent.com/u/12016412?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenmilton58","html_url":"https://github.com/stevenmilton58","followers_url":"https://api.github.com/users/stevenmilton58/followers","following_url":"https://api.github.com/users/stevenmilton58/following{/other_user}","gists_url":"https://api.github.com/users/stevenmilton58/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenmilton58/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenmilton58/subscriptions","organizations_url":"https://api.github.com/users/stevenmilton58/orgs","repos_url":"https://api.github.com/users/stevenmilton58/repos","events_url":"https://api.github.com/users/stevenmilton58/events{/privacy}","received_events_url":"https://api.github.com/users/stevenmilton58/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/114020942","html_url":"https://github.com/heartcombo/devise/issues/3643#issuecomment-114020942","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/3643","id":114020942,"node_id":"MDEyOklzc3VlQ29tbWVudDExNDAyMDk0Mg==","user":{"login":"stevenmilton58","id":12016412,"node_id":"MDQ6VXNlcjEyMDE2NDEy","avatar_url":"https://avatars.githubusercontent.com/u/12016412?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenmilton58","html_url":"https://github.com/stevenmilton58","followers_url":"https://api.github.com/users/stevenmilton58/followers","following_url":"https://api.github.com/users/stevenmilton58/following{/other_user}","gists_url":"https://api.github.com/users/stevenmilton58/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenmilton58/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenmilton58/subscriptions","organizations_url":"https://api.github.com/users/stevenmilton58/orgs","repos_url":"https://api.github.com/users/stevenmilton58/repos","events_url":"https://api.github.com/users/stevenmilton58/events{/privacy}","received_events_url":"https://api.github.com/users/stevenmilton58/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-06-22T06:36:07Z","updated_at":"2015-06-22T06:36:07Z","body":"UPDATE: If I add `config.relative_url_root = \"/\"` in development.rb, then `authenticate` works. But I'm not sure if this is the appropriate fix since I do not know what the implications of setting the above config is. \n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/114020942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stevenmilton58","id":12016412,"node_id":"MDQ6VXNlcjEyMDE2NDEy","avatar_url":"https://avatars.githubusercontent.com/u/12016412?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenmilton58","html_url":"https://github.com/stevenmilton58","followers_url":"https://api.github.com/users/stevenmilton58/followers","following_url":"https://api.github.com/users/stevenmilton58/following{/other_user}","gists_url":"https://api.github.com/users/stevenmilton58/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenmilton58/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenmilton58/subscriptions","organizations_url":"https://api.github.com/users/stevenmilton58/orgs","repos_url":"https://api.github.com/users/stevenmilton58/repos","events_url":"https://api.github.com/users/stevenmilton58/events{/privacy}","received_events_url":"https://api.github.com/users/stevenmilton58/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/115956501","html_url":"https://github.com/heartcombo/devise/issues/3643#issuecomment-115956501","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/3643","id":115956501,"node_id":"MDEyOklzc3VlQ29tbWVudDExNTk1NjUwMQ==","user":{"login":"abevoelker","id":153459,"node_id":"MDQ6VXNlcjE1MzQ1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/153459?v=4","gravatar_id":"","url":"https://api.github.com/users/abevoelker","html_url":"https://github.com/abevoelker","followers_url":"https://api.github.com/users/abevoelker/followers","following_url":"https://api.github.com/users/abevoelker/following{/other_user}","gists_url":"https://api.github.com/users/abevoelker/gists{/gist_id}","starred_url":"https://api.github.com/users/abevoelker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abevoelker/subscriptions","organizations_url":"https://api.github.com/users/abevoelker/orgs","repos_url":"https://api.github.com/users/abevoelker/repos","events_url":"https://api.github.com/users/abevoelker/events{/privacy}","received_events_url":"https://api.github.com/users/abevoelker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-06-27T04:25:21Z","updated_at":"2015-06-27T19:33:09Z","body":"I'm having the same problem in my Rails 4.2.3 application. According to git bisect this is the commit that broke it: af8d38e45b24ad06f89af254c4c0dc4c6c39f723\n\nedit: nevermind, I see you already posted that.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/115956501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abevoelker","id":153459,"node_id":"MDQ6VXNlcjE1MzQ1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/153459?v=4","gravatar_id":"","url":"https://api.github.com/users/abevoelker","html_url":"https://github.com/abevoelker","followers_url":"https://api.github.com/users/abevoelker/followers","following_url":"https://api.github.com/users/abevoelker/following{/other_user}","gists_url":"https://api.github.com/users/abevoelker/gists{/gist_id}","starred_url":"https://api.github.com/users/abevoelker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abevoelker/subscriptions","organizations_url":"https://api.github.com/users/abevoelker/orgs","repos_url":"https://api.github.com/users/abevoelker/repos","events_url":"https://api.github.com/users/abevoelker/events{/privacy}","received_events_url":"https://api.github.com/users/abevoelker/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/115980363","html_url":"https://github.com/heartcombo/devise/issues/3643#issuecomment-115980363","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/3643","id":115980363,"node_id":"MDEyOklzc3VlQ29tbWVudDExNTk4MDM2Mw==","user":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-06-27T07:58:14Z","updated_at":"2015-06-27T07:58:14Z","body":"Can someone please send a pull request? Apparently we will need to detect the Rails version because the fix is required for Rails 4.2.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/115980363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":342054573,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM0MjA1NDU3Mw==","url":"https://api.github.com/repos/heartcombo/devise/issues/events/342054573","actor":{"login":"abevoelker","id":153459,"node_id":"MDQ6VXNlcjE1MzQ1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/153459?v=4","gravatar_id":"","url":"https://api.github.com/users/abevoelker","html_url":"https://github.com/abevoelker","followers_url":"https://api.github.com/users/abevoelker/followers","following_url":"https://api.github.com/users/abevoelker/following{/other_user}","gists_url":"https://api.github.com/users/abevoelker/gists{/gist_id}","starred_url":"https://api.github.com/users/abevoelker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abevoelker/subscriptions","organizations_url":"https://api.github.com/users/abevoelker/orgs","repos_url":"https://api.github.com/users/abevoelker/repos","events_url":"https://api.github.com/users/abevoelker/events{/privacy}","received_events_url":"https://api.github.com/users/abevoelker/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"aa675f7f6611de5d40114aa98153f3f0c0b3e8d5","commit_url":"https://api.github.com/repos/abevoelker/devise/commits/aa675f7f6611de5d40114aa98153f3f0c0b3e8d5","created_at":"2015-06-27T19:25:22Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/118398127","html_url":"https://github.com/heartcombo/devise/issues/3643#issuecomment-118398127","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/3643","id":118398127,"node_id":"MDEyOklzc3VlQ29tbWVudDExODM5ODEyNw==","user":{"login":"pragmaticivan","id":301291,"node_id":"MDQ6VXNlcjMwMTI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/301291?v=4","gravatar_id":"","url":"https://api.github.com/users/pragmaticivan","html_url":"https://github.com/pragmaticivan","followers_url":"https://api.github.com/users/pragmaticivan/followers","following_url":"https://api.github.com/users/pragmaticivan/following{/other_user}","gists_url":"https://api.github.com/users/pragmaticivan/gists{/gist_id}","starred_url":"https://api.github.com/users/pragmaticivan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pragmaticivan/subscriptions","organizations_url":"https://api.github.com/users/pragmaticivan/orgs","repos_url":"https://api.github.com/users/pragmaticivan/repos","events_url":"https://api.github.com/users/pragmaticivan/events{/privacy}","received_events_url":"https://api.github.com/users/pragmaticivan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-03T17:35:45Z","updated_at":"2015-07-03T17:35:45Z","body":"I'm having the same problem with Rails 4.2.3. Is there any plans for accepting the last PR?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/118398127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pragmaticivan","id":301291,"node_id":"MDQ6VXNlcjMwMTI5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/301291?v=4","gravatar_id":"","url":"https://api.github.com/users/pragmaticivan","html_url":"https://github.com/pragmaticivan","followers_url":"https://api.github.com/users/pragmaticivan/followers","following_url":"https://api.github.com/users/pragmaticivan/following{/other_user}","gists_url":"https://api.github.com/users/pragmaticivan/gists{/gist_id}","starred_url":"https://api.github.com/users/pragmaticivan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pragmaticivan/subscriptions","organizations_url":"https://api.github.com/users/pragmaticivan/orgs","repos_url":"https://api.github.com/users/pragmaticivan/repos","events_url":"https://api.github.com/users/pragmaticivan/events{/privacy}","received_events_url":"https://api.github.com/users/pragmaticivan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":347767981,"node_id":"MDExOkNsb3NlZEV2ZW50MzQ3NzY3OTgx","url":"https://api.github.com/repos/heartcombo/devise/issues/events/347767981","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"aa675f7f6611de5d40114aa98153f3f0c0b3e8d5","commit_url":"https://api.github.com/repos/heartcombo/devise/commits/aa675f7f6611de5d40114aa98153f3f0c0b3e8d5","created_at":"2015-07-04T09:38:25Z","state_reason":null,"performed_via_github_app":null},{"id":347767982,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM0Nzc2Nzk4Mg==","url":"https://api.github.com/repos/heartcombo/devise/issues/events/347767982","actor":{"login":"josevalim","id":9582,"node_id":"MDQ6VXNlcjk1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9582?v=4","gravatar_id":"","url":"https://api.github.com/users/josevalim","html_url":"https://github.com/josevalim","followers_url":"https://api.github.com/users/josevalim/followers","following_url":"https://api.github.com/users/josevalim/following{/other_user}","gists_url":"https://api.github.com/users/josevalim/gists{/gist_id}","starred_url":"https://api.github.com/users/josevalim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josevalim/subscriptions","organizations_url":"https://api.github.com/users/josevalim/orgs","repos_url":"https://api.github.com/users/josevalim/repos","events_url":"https://api.github.com/users/josevalim/events{/privacy}","received_events_url":"https://api.github.com/users/josevalim/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"737a55f9e19336ac8b337150b9f0f80ad1ed8b86","commit_url":"https://api.github.com/repos/heartcombo/devise/commits/737a55f9e19336ac8b337150b9f0f80ad1ed8b86","created_at":"2015-07-04T09:38:25Z","performed_via_github_app":null},{"id":373823170,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM3MzgyMzE3MA==","url":"https://api.github.com/repos/heartcombo/devise/issues/events/373823170","actor":null,"event":"referenced","commit_id":"ea73b089471e6cd8f13e5b5a46af1684894d5e39","commit_url":"https://api.github.com/repos/jbox-web/deploy-it/commits/ea73b089471e6cd8f13e5b5a46af1684894d5e39","created_at":"2015-08-05T05:45:06Z","performed_via_github_app":null},{"actor":{"login":"jvdp","id":241947,"node_id":"MDQ6VXNlcjI0MTk0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/241947?v=4","gravatar_id":"","url":"https://api.github.com/users/jvdp","html_url":"https://github.com/jvdp","followers_url":"https://api.github.com/users/jvdp/followers","following_url":"https://api.github.com/users/jvdp/following{/other_user}","gists_url":"https://api.github.com/users/jvdp/gists{/gist_id}","starred_url":"https://api.github.com/users/jvdp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvdp/subscriptions","organizations_url":"https://api.github.com/users/jvdp/orgs","repos_url":"https://api.github.com/users/jvdp/repos","events_url":"https://api.github.com/users/jvdp/events{/privacy}","received_events_url":"https://api.github.com/users/jvdp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-08-12T18:49:56Z","updated_at":"2015-08-12T18:49:56Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/heartcombo/devise/issues/3705","repository_url":"https://api.github.com/repos/heartcombo/devise","labels_url":"https://api.github.com/repos/heartcombo/devise/issues/3705/labels{/name}","comments_url":"https://api.github.com/repos/heartcombo/devise/issues/3705/comments","events_url":"https://api.github.com/repos/heartcombo/devise/issues/3705/events","html_url":"https://github.com/heartcombo/devise/issues/3705","id":100609957,"node_id":"MDU6SXNzdWUxMDA2MDk5NTc=","number":3705,"title":"`FailureApp`s `script_name: nil` breaks route generation within mounted engines","user":{"login":"jvdp","id":241947,"node_id":"MDQ6VXNlcjI0MTk0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/241947?v=4","gravatar_id":"","url":"https://api.github.com/users/jvdp","html_url":"https://github.com/jvdp","followers_url":"https://api.github.com/users/jvdp/followers","following_url":"https://api.github.com/users/jvdp/following{/other_user}","gists_url":"https://api.github.com/users/jvdp/gists{/gist_id}","starred_url":"https://api.github.com/users/jvdp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvdp/subscriptions","organizations_url":"https://api.github.com/users/jvdp/orgs","repos_url":"https://api.github.com/users/jvdp/repos","events_url":"https://api.github.com/users/jvdp/events{/privacy}","received_events_url":"https://api.github.com/users/jvdp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2015-08-12T18:49:56Z","updated_at":"2016-05-21T15:00:17Z","closed_at":"2016-05-21T15:00:17Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":308770,"node_id":"MDEwOlJlcG9zaXRvcnkzMDg3NzA=","name":"devise","full_name":"heartcombo/devise","private":false,"owner":{"login":"heartcombo","id":59584037,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU5NTg0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/59584037?v=4","gravatar_id":"","url":"https://api.github.com/users/heartcombo","html_url":"https://github.com/heartcombo","followers_url":"https://api.github.com/users/heartcombo/followers","following_url":"https://api.github.com/users/heartcombo/following{/other_user}","gists_url":"https://api.github.com/users/heartcombo/gists{/gist_id}","starred_url":"https://api.github.com/users/heartcombo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heartcombo/subscriptions","organizations_url":"https://api.github.com/users/heartcombo/orgs","repos_url":"https://api.github.com/users/heartcombo/repos","events_url":"https://api.github.com/users/heartcombo/events{/privacy}","received_events_url":"https://api.github.com/users/heartcombo/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/heartcombo/devise","description":"Flexible authentication solution for Rails with Warden.","fork":false,"url":"https://api.github.com/repos/heartcombo/devise","forks_url":"https://api.github.com/repos/heartcombo/devise/forks","keys_url":"https://api.github.com/repos/heartcombo/devise/keys{/key_id}","collaborators_url":"https://api.github.com/repos/heartcombo/devise/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/heartcombo/devise/teams","hooks_url":"https://api.github.com/repos/heartcombo/devise/hooks","issue_events_url":"https://api.github.com/repos/heartcombo/devise/issues/events{/number}","events_url":"https://api.github.com/repos/heartcombo/devise/events","assignees_url":"https://api.github.com/repos/heartcombo/devise/assignees{/user}","branches_url":"https://api.github.com/repos/heartcombo/devise/branches{/branch}","tags_url":"https://api.github.com/repos/heartcombo/devise/tags","blobs_url":"https://api.github.com/repos/heartcombo/devise/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/heartcombo/devise/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/heartcombo/devise/git/refs{/sha}","trees_url":"https://api.github.com/repos/heartcombo/devise/git/trees{/sha}","statuses_url":"https://api.github.com/repos/heartcombo/devise/statuses/{sha}","languages_url":"https://api.github.com/repos/heartcombo/devise/languages","stargazers_url":"https://api.github.com/repos/heartcombo/devise/stargazers","contributors_url":"https://api.github.com/repos/heartcombo/devise/contributors","subscribers_url":"https://api.github.com/repos/heartcombo/devise/subscribers","subscription_url":"https://api.github.com/repos/heartcombo/devise/subscription","commits_url":"https://api.github.com/repos/heartcombo/devise/commits{/sha}","git_commits_url":"https://api.github.com/repos/heartcombo/devise/git/commits{/sha}","comments_url":"https://api.github.com/repos/heartcombo/devise/comments{/number}","issue_comment_url":"https://api.github.com/repos/heartcombo/devise/issues/comments{/number}","contents_url":"https://api.github.com/repos/heartcombo/devise/contents/{+path}","compare_url":"https://api.github.com/repos/heartcombo/devise/compare/{base}...{head}","merges_url":"https://api.github.com/repos/heartcombo/devise/merges","archive_url":"https://api.github.com/repos/heartcombo/devise/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/heartcombo/devise/downloads","issues_url":"https://api.github.com/repos/heartcombo/devise/issues{/number}","pulls_url":"https://api.github.com/repos/heartcombo/devise/pulls{/number}","milestones_url":"https://api.github.com/repos/heartcombo/devise/milestones{/number}","notifications_url":"https://api.github.com/repos/heartcombo/devise/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/heartcombo/devise/labels{/name}","releases_url":"https://api.github.com/repos/heartcombo/devise/releases{/id}","deployments_url":"https://api.github.com/repos/heartcombo/devise/deployments","created_at":"2009-09-16T12:15:12Z","updated_at":"2025-11-09T22:24:51Z","pushed_at":"2025-11-03T21:54:16Z","git_url":"git://github.com/heartcombo/devise.git","ssh_url":"git@github.com:heartcombo/devise.git","clone_url":"https://github.com/heartcombo/devise.git","svn_url":"https://github.com/heartcombo/devise","homepage":"","size":5823,"stargazers_count":24284,"watchers_count":24284,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":5528,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":223,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["authentication","devise","rails","ruby"],"visibility":"public","forks":5528,"open_issues":223,"watchers":24284,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Since upgrading to Devise 3.5.2, the `Devise::FailureApp` from within a Rails engine no longer generates routes with the path it is mounted under.\n\nThe breaking change was made in https://github.com/plataformatec/devise/commit/aa675f7f6611de5d40114aa98153f3f0c0b3e8d5, which always passes a `script_name` (possibly nil) to the url generator. This is problematic because the mount point path is only computed when `script_name` is not passed to `options`: https://github.com/rails/rails/blob/v4.2.3/actionpack/lib/action_dispatch/routing/mapper.rb#L631\n\nI'm not sure how to fix this (this is all crazy complicated code), but perhaps there's a better fix for #3643 than forcing `path_name` to be passed to `url_for`.\n","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/3705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/heartcombo/devise/issues/3705/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/141755403","html_url":"https://github.com/heartcombo/devise/issues/3643#issuecomment-141755403","issue_url":"https://api.github.com/repos/heartcombo/devise/issues/3643","id":141755403,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTc1NTQwMw==","user":{"login":"sloops77","id":4784403,"node_id":"MDQ6VXNlcjQ3ODQ0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/4784403?v=4","gravatar_id":"","url":"https://api.github.com/users/sloops77","html_url":"https://github.com/sloops77","followers_url":"https://api.github.com/users/sloops77/followers","following_url":"https://api.github.com/users/sloops77/following{/other_user}","gists_url":"https://api.github.com/users/sloops77/gists{/gist_id}","starred_url":"https://api.github.com/users/sloops77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sloops77/subscriptions","organizations_url":"https://api.github.com/users/sloops77/orgs","repos_url":"https://api.github.com/users/sloops77/repos","events_url":"https://api.github.com/users/sloops77/events{/privacy}","received_events_url":"https://api.github.com/users/sloops77/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-20T07:25:59Z","updated_at":"2015-09-20T07:26:08Z","body":"The fix doesnt apply to rails below 4.2 but is an issue on our app with 4.1.12 (and is fixed by the above commit simply by changing the minimum minor_version to 1.)\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/comments/141755403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sloops77","id":4784403,"node_id":"MDQ6VXNlcjQ3ODQ0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/4784403?v=4","gravatar_id":"","url":"https://api.github.com/users/sloops77","html_url":"https://github.com/sloops77","followers_url":"https://api.github.com/users/sloops77/followers","following_url":"https://api.github.com/users/sloops77/following{/other_user}","gists_url":"https://api.github.com/users/sloops77/gists{/gist_id}","starred_url":"https://api.github.com/users/sloops77/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sloops77/subscriptions","organizations_url":"https://api.github.com/users/sloops77/orgs","repos_url":"https://api.github.com/users/sloops77/repos","events_url":"https://api.github.com/users/sloops77/events{/privacy}","received_events_url":"https://api.github.com/users/sloops77/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":454064703,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ1NDA2NDcwMw==","url":"https://api.github.com/repos/heartcombo/devise/issues/events/454064703","actor":{"login":"cipater","id":140580,"node_id":"MDQ6VXNlcjE0MDU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/140580?v=4","gravatar_id":"","url":"https://api.github.com/users/cipater","html_url":"https://github.com/cipater","followers_url":"https://api.github.com/users/cipater/followers","following_url":"https://api.github.com/users/cipater/following{/other_user}","gists_url":"https://api.github.com/users/cipater/gists{/gist_id}","starred_url":"https://api.github.com/users/cipater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cipater/subscriptions","organizations_url":"https://api.github.com/users/cipater/orgs","repos_url":"https://api.github.com/users/cipater/repos","events_url":"https://api.github.com/users/cipater/events{/privacy}","received_events_url":"https://api.github.com/users/cipater/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"81aa4291dd0eba7482cf25232f3dfa17a2a5f4ce","commit_url":"https://api.github.com/repos/cipater/devise/commits/81aa4291dd0eba7482cf25232f3dfa17a2a5f4ce","created_at":"2015-11-04T06:03:08Z","performed_via_github_app":null},{"actor":{"login":"cipater","id":140580,"node_id":"MDQ6VXNlcjE0MDU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/140580?v=4","gravatar_id":"","url":"https://api.github.com/users/cipater","html_url":"https://github.com/cipater","followers_url":"https://api.github.com/users/cipater/followers","following_url":"https://api.github.com/users/cipater/following{/other_user}","gists_url":"https://api.github.com/users/cipater/gists{/gist_id}","starred_url":"https://api.github.com/users/cipater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cipater/subscriptions","organizations_url":"https://api.github.com/users/cipater/orgs","repos_url":"https://api.github.com/users/cipater/repos","events_url":"https://api.github.com/users/cipater/events{/privacy}","received_events_url":"https://api.github.com/users/cipater/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T06:04:48Z","updated_at":"2015-11-04T06:04:48Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/heartcombo/devise/issues/3807","repository_url":"https://api.github.com/repos/heartcombo/devise","labels_url":"https://api.github.com/repos/heartcombo/devise/issues/3807/labels{/name}","comments_url":"https://api.github.com/repos/heartcombo/devise/issues/3807/comments","events_url":"https://api.github.com/repos/heartcombo/devise/issues/3807/events","html_url":"https://github.com/heartcombo/devise/pull/3807","id":114977155,"node_id":"MDExOlB1bGxSZXF1ZXN0NDk2NTE3NTE=","number":3807,"title":"Fix infinite redirect fix that broke engine routes","user":{"login":"cipater","id":140580,"node_id":"MDQ6VXNlcjE0MDU4MA==","avatar_url":"https://avatars.githubusercontent.com/u/140580?v=4","gravatar_id":"","url":"https://api.github.com/users/cipater","html_url":"https://github.com/cipater","followers_url":"https://api.github.com/users/cipater/followers","following_url":"https://api.github.com/users/cipater/following{/other_user}","gists_url":"https://api.github.com/users/cipater/gists{/gist_id}","starred_url":"https://api.github.com/users/cipater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cipater/subscriptions","organizations_url":"https://api.github.com/users/cipater/orgs","repos_url":"https://api.github.com/users/cipater/repos","events_url":"https://api.github.com/users/cipater/events{/privacy}","received_events_url":"https://api.github.com/users/cipater/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":40645,"node_id":"MDU6TGFiZWw0MDY0NQ==","url":"https://api.github.com/repos/heartcombo/devise/labels/Bug","name":"Bug","color":"ededed","default":false,"description":null},{"id":89960,"node_id":"MDU6TGFiZWw4OTk2MA==","url":"https://api.github.com/repos/heartcombo/devise/labels/Need%20tests","name":"Need tests","color":"444444","default":false,"description":null},{"id":121694117,"node_id":"MDU6TGFiZWwxMjE2OTQxMTc=","url":"https://api.github.com/repos/heartcombo/devise/labels/Needs%20review","name":"Needs review","color":"009800","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-11-04T06:04:48Z","updated_at":"2016-05-21T14:59:43Z","closed_at":"2016-05-21T14:59:43Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":308770,"node_id":"MDEwOlJlcG9zaXRvcnkzMDg3NzA=","name":"devise","full_name":"heartcombo/devise","private":false,"owner":{"login":"heartcombo","id":59584037,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU5NTg0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/59584037?v=4","gravatar_id":"","url":"https://api.github.com/users/heartcombo","html_url":"https://github.com/heartcombo","followers_url":"https://api.github.com/users/heartcombo/followers","following_url":"https://api.github.com/users/heartcombo/following{/other_user}","gists_url":"https://api.github.com/users/heartcombo/gists{/gist_id}","starred_url":"https://api.github.com/users/heartcombo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heartcombo/subscriptions","organizations_url":"https://api.github.com/users/heartcombo/orgs","repos_url":"https://api.github.com/users/heartcombo/repos","events_url":"https://api.github.com/users/heartcombo/events{/privacy}","received_events_url":"https://api.github.com/users/heartcombo/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/heartcombo/devise","description":"Flexible authentication solution for Rails with Warden.","fork":false,"url":"https://api.github.com/repos/heartcombo/devise","forks_url":"https://api.github.com/repos/heartcombo/devise/forks","keys_url":"https://api.github.com/repos/heartcombo/devise/keys{/key_id}","collaborators_url":"https://api.github.com/repos/heartcombo/devise/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/heartcombo/devise/teams","hooks_url":"https://api.github.com/repos/heartcombo/devise/hooks","issue_events_url":"https://api.github.com/repos/heartcombo/devise/issues/events{/number}","events_url":"https://api.github.com/repos/heartcombo/devise/events","assignees_url":"https://api.github.com/repos/heartcombo/devise/assignees{/user}","branches_url":"https://api.github.com/repos/heartcombo/devise/branches{/branch}","tags_url":"https://api.github.com/repos/heartcombo/devise/tags","blobs_url":"https://api.github.com/repos/heartcombo/devise/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/heartcombo/devise/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/heartcombo/devise/git/refs{/sha}","trees_url":"https://api.github.com/repos/heartcombo/devise/git/trees{/sha}","statuses_url":"https://api.github.com/repos/heartcombo/devise/statuses/{sha}","languages_url":"https://api.github.com/repos/heartcombo/devise/languages","stargazers_url":"https://api.github.com/repos/heartcombo/devise/stargazers","contributors_url":"https://api.github.com/repos/heartcombo/devise/contributors","subscribers_url":"https://api.github.com/repos/heartcombo/devise/subscribers","subscription_url":"https://api.github.com/repos/heartcombo/devise/subscription","commits_url":"https://api.github.com/repos/heartcombo/devise/commits{/sha}","git_commits_url":"https://api.github.com/repos/heartcombo/devise/git/commits{/sha}","comments_url":"https://api.github.com/repos/heartcombo/devise/comments{/number}","issue_comment_url":"https://api.github.com/repos/heartcombo/devise/issues/comments{/number}","contents_url":"https://api.github.com/repos/heartcombo/devise/contents/{+path}","compare_url":"https://api.github.com/repos/heartcombo/devise/compare/{base}...{head}","merges_url":"https://api.github.com/repos/heartcombo/devise/merges","archive_url":"https://api.github.com/repos/heartcombo/devise/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/heartcombo/devise/downloads","issues_url":"https://api.github.com/repos/heartcombo/devise/issues{/number}","pulls_url":"https://api.github.com/repos/heartcombo/devise/pulls{/number}","milestones_url":"https://api.github.com/repos/heartcombo/devise/milestones{/number}","notifications_url":"https://api.github.com/repos/heartcombo/devise/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/heartcombo/devise/labels{/name}","releases_url":"https://api.github.com/repos/heartcombo/devise/releases{/id}","deployments_url":"https://api.github.com/repos/heartcombo/devise/deployments","created_at":"2009-09-16T12:15:12Z","updated_at":"2025-11-09T22:24:51Z","pushed_at":"2025-11-03T21:54:16Z","git_url":"git://github.com/heartcombo/devise.git","ssh_url":"git@github.com:heartcombo/devise.git","clone_url":"https://github.com/heartcombo/devise.git","svn_url":"https://github.com/heartcombo/devise","homepage":"","size":5823,"stargazers_count":24284,"watchers_count":24284,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":5528,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":223,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["authentication","devise","rails","ruby"],"visibility":"public","forks":5528,"open_issues":223,"watchers":24284,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/heartcombo/devise/pulls/3807","html_url":"https://github.com/heartcombo/devise/pull/3807","diff_url":"https://github.com/heartcombo/devise/pull/3807.diff","patch_url":"https://github.com/heartcombo/devise/pull/3807.patch","merged_at":null},"body":"In Rails 4.2 it appears that not setting :script_name causes routes to\nbe computed within mount points that dont actually contain a devise\nscope (see #3643). Commit aa675f7 unfortunately sets :script_name to\nnil for Rails 4.2, preventing routes from being computed in their\ncorrect contexts.\n\nThis commit recovers the :script_name from env should the found context\nbe that of an engine allowing correct route generation, while still\nsetting :script_name to nil in Rails 4.2 for all other cases.\n","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/3807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/heartcombo/devise/issues/3807/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"basiszwo","id":24071,"node_id":"MDQ6VXNlcjI0MDcx","avatar_url":"https://avatars.githubusercontent.com/u/24071?v=4","gravatar_id":"","url":"https://api.github.com/users/basiszwo","html_url":"https://github.com/basiszwo","followers_url":"https://api.github.com/users/basiszwo/followers","following_url":"https://api.github.com/users/basiszwo/following{/other_user}","gists_url":"https://api.github.com/users/basiszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/basiszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/basiszwo/subscriptions","organizations_url":"https://api.github.com/users/basiszwo/orgs","repos_url":"https://api.github.com/users/basiszwo/repos","events_url":"https://api.github.com/users/basiszwo/events{/privacy}","received_events_url":"https://api.github.com/users/basiszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T10:22:38Z","updated_at":"2016-05-03T10:22:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/heartcombo/devise/issues/4081","repository_url":"https://api.github.com/repos/heartcombo/devise","labels_url":"https://api.github.com/repos/heartcombo/devise/issues/4081/labels{/name}","comments_url":"https://api.github.com/repos/heartcombo/devise/issues/4081/comments","events_url":"https://api.github.com/repos/heartcombo/devise/issues/4081/events","html_url":"https://github.com/heartcombo/devise/pull/4081","id":152742214,"node_id":"MDExOlB1bGxSZXF1ZXN0Njg2ODUxMzc=","number":4081,"title":"Fix authenticated engine routes","user":{"login":"basiszwo","id":24071,"node_id":"MDQ6VXNlcjI0MDcx","avatar_url":"https://avatars.githubusercontent.com/u/24071?v=4","gravatar_id":"","url":"https://api.github.com/users/basiszwo","html_url":"https://github.com/basiszwo","followers_url":"https://api.github.com/users/basiszwo/followers","following_url":"https://api.github.com/users/basiszwo/following{/other_user}","gists_url":"https://api.github.com/users/basiszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/basiszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/basiszwo/subscriptions","organizations_url":"https://api.github.com/users/basiszwo/orgs","repos_url":"https://api.github.com/users/basiszwo/repos","events_url":"https://api.github.com/users/basiszwo/events{/privacy}","received_events_url":"https://api.github.com/users/basiszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":40645,"node_id":"MDU6TGFiZWw0MDY0NQ==","url":"https://api.github.com/repos/heartcombo/devise/labels/Bug","name":"Bug","color":"ededed","default":false,"description":null},{"id":133106,"node_id":"MDU6TGFiZWwxMzMxMDY=","url":"https://api.github.com/repos/heartcombo/devise/labels/Needs%20more%20work","name":"Needs more work","color":"d7e102","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/heartcombo/devise/milestones/9","html_url":"https://github.com/heartcombo/devise/milestone/9","labels_url":"https://api.github.com/repos/heartcombo/devise/milestones/9/labels","id":1739180,"node_id":"MDk6TWlsZXN0b25lMTczOTE4MA==","number":9,"title":"4.2.0","description":"","creator":{"login":"lucasmazza","id":80978,"node_id":"MDQ6VXNlcjgwOTc4","avatar_url":"https://avatars.githubusercontent.com/u/80978?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasmazza","html_url":"https://github.com/lucasmazza","followers_url":"https://api.github.com/users/lucasmazza/followers","following_url":"https://api.github.com/users/lucasmazza/following{/other_user}","gists_url":"https://api.github.com/users/lucasmazza/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasmazza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasmazza/subscriptions","organizations_url":"https://api.github.com/users/lucasmazza/orgs","repos_url":"https://api.github.com/users/lucasmazza/repos","events_url":"https://api.github.com/users/lucasmazza/events{/privacy}","received_events_url":"https://api.github.com/users/lucasmazza/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":9,"state":"closed","created_at":"2016-04-29T19:22:04Z","updated_at":"2019-04-01T17:40:13Z","due_on":null,"closed_at":"2019-04-01T17:40:13Z"},"comments":12,"created_at":"2016-05-03T10:22:38Z","updated_at":"2017-05-31T13:44:07Z","closed_at":"2016-05-21T14:55:56Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":308770,"node_id":"MDEwOlJlcG9zaXRvcnkzMDg3NzA=","name":"devise","full_name":"heartcombo/devise","private":false,"owner":{"login":"heartcombo","id":59584037,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU5NTg0MDM3","avatar_url":"https://avatars.githubusercontent.com/u/59584037?v=4","gravatar_id":"","url":"https://api.github.com/users/heartcombo","html_url":"https://github.com/heartcombo","followers_url":"https://api.github.com/users/heartcombo/followers","following_url":"https://api.github.com/users/heartcombo/following{/other_user}","gists_url":"https://api.github.com/users/heartcombo/gists{/gist_id}","starred_url":"https://api.github.com/users/heartcombo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heartcombo/subscriptions","organizations_url":"https://api.github.com/users/heartcombo/orgs","repos_url":"https://api.github.com/users/heartcombo/repos","events_url":"https://api.github.com/users/heartcombo/events{/privacy}","received_events_url":"https://api.github.com/users/heartcombo/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/heartcombo/devise","description":"Flexible authentication solution for Rails with Warden.","fork":false,"url":"https://api.github.com/repos/heartcombo/devise","forks_url":"https://api.github.com/repos/heartcombo/devise/forks","keys_url":"https://api.github.com/repos/heartcombo/devise/keys{/key_id}","collaborators_url":"https://api.github.com/repos/heartcombo/devise/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/heartcombo/devise/teams","hooks_url":"https://api.github.com/repos/heartcombo/devise/hooks","issue_events_url":"https://api.github.com/repos/heartcombo/devise/issues/events{/number}","events_url":"https://api.github.com/repos/heartcombo/devise/events","assignees_url":"https://api.github.com/repos/heartcombo/devise/assignees{/user}","branches_url":"https://api.github.com/repos/heartcombo/devise/branches{/branch}","tags_url":"https://api.github.com/repos/heartcombo/devise/tags","blobs_url":"https://api.github.com/repos/heartcombo/devise/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/heartcombo/devise/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/heartcombo/devise/git/refs{/sha}","trees_url":"https://api.github.com/repos/heartcombo/devise/git/trees{/sha}","statuses_url":"https://api.github.com/repos/heartcombo/devise/statuses/{sha}","languages_url":"https://api.github.com/repos/heartcombo/devise/languages","stargazers_url":"https://api.github.com/repos/heartcombo/devise/stargazers","contributors_url":"https://api.github.com/repos/heartcombo/devise/contributors","subscribers_url":"https://api.github.com/repos/heartcombo/devise/subscribers","subscription_url":"https://api.github.com/repos/heartcombo/devise/subscription","commits_url":"https://api.github.com/repos/heartcombo/devise/commits{/sha}","git_commits_url":"https://api.github.com/repos/heartcombo/devise/git/commits{/sha}","comments_url":"https://api.github.com/repos/heartcombo/devise/comments{/number}","issue_comment_url":"https://api.github.com/repos/heartcombo/devise/issues/comments{/number}","contents_url":"https://api.github.com/repos/heartcombo/devise/contents/{+path}","compare_url":"https://api.github.com/repos/heartcombo/devise/compare/{base}...{head}","merges_url":"https://api.github.com/repos/heartcombo/devise/merges","archive_url":"https://api.github.com/repos/heartcombo/devise/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/heartcombo/devise/downloads","issues_url":"https://api.github.com/repos/heartcombo/devise/issues{/number}","pulls_url":"https://api.github.com/repos/heartcombo/devise/pulls{/number}","milestones_url":"https://api.github.com/repos/heartcombo/devise/milestones{/number}","notifications_url":"https://api.github.com/repos/heartcombo/devise/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/heartcombo/devise/labels{/name}","releases_url":"https://api.github.com/repos/heartcombo/devise/releases{/id}","deployments_url":"https://api.github.com/repos/heartcombo/devise/deployments","created_at":"2009-09-16T12:15:12Z","updated_at":"2025-11-09T22:24:51Z","pushed_at":"2025-11-03T21:54:16Z","git_url":"git://github.com/heartcombo/devise.git","ssh_url":"git@github.com:heartcombo/devise.git","clone_url":"https://github.com/heartcombo/devise.git","svn_url":"https://github.com/heartcombo/devise","homepage":"","size":5823,"stargazers_count":24284,"watchers_count":24284,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":5528,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":223,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["authentication","devise","rails","ruby"],"visibility":"public","forks":5528,"open_issues":223,"watchers":24284,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/heartcombo/devise/pulls/4081","html_url":"https://github.com/heartcombo/devise/pull/4081","diff_url":"https://github.com/heartcombo/devise/pull/4081.diff","patch_url":"https://github.com/heartcombo/devise/pull/4081.patch","merged_at":"2016-05-21T14:55:56Z"},"body":"_Using Rails 5.0.0.beta4, Devise Edge (latest master), Warden 1.2.6_\n\nThis pull request solves the issue of an infinite redirects for mounted engines when not being logged in.\n\nThis happens in devises' failure app. I was using rails 5 beta 3 when addressing the issue. I could reproduce the broken behaviour in rails 4.2.6 also.\n\nFirst I addressed rails 5 by relaxing the rails 4.2 constraint. Then fixed the infinite loop by initializing `opts[:script_name]` with `nil`.\n\nWhen investigating the behaviour I found the following related issues:\n- https://github.com/plataformatec/devise/issues/3613\n- https://github.com/plataformatec/devise/issues/3643\n- https://github.com/plataformatec/devise/issues/3705\n\nThere's also https://github.com/plataformatec/devise/pull/3807 which also addresses the main issue but imo with unnecessary conditionals.\n\nThe test suite is green as can be seen at https://travis-ci.org/basiszwo/devise/builds/127469964\nI am sure the devise travis will also report green state.\n\nAnyway I am not sure how to cover this issue in the test suite. You may point me to the spot?\n\nI love to see feedback from you. Thank you very much!\n","reactions":{"url":"https://api.github.com/repos/heartcombo/devise/issues/4081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/heartcombo/devise/issues/4081/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]