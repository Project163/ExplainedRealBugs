diff --git a/lib/devise/rails.rb b/lib/devise/rails.rb
index d23aade5..dd4339fb 100644
--- a/lib/devise/rails.rb
+++ b/lib/devise/rails.rb
@@ -34,7 +34,9 @@ module Devise
     end
 
     initializer "devise.secret_key" do |app|
-      if app.respond_to?(:secrets)
+      if app.respond_to?(:credentials)
+        Devise.secret_key ||= app.credentials.secret_key_base
+      elsif app.respond_to?(:secrets)
         Devise.secret_key ||= app.secrets.secret_key_base
       elsif app.config.respond_to?(:secret_key_base)
         Devise.secret_key ||= app.config.secret_key_base
