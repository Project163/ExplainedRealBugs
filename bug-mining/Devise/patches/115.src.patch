diff --git a/app/mailers/devise/mailer.rb b/app/mailers/devise/mailer.rb
index 8b7a536b..e069eefa 100644
--- a/app/mailers/devise/mailer.rb
+++ b/app/mailers/devise/mailer.rb
@@ -1,18 +1,20 @@
-class Devise::Mailer < Devise.parent_mailer.constantize
-  include Devise::Mailers::Helpers
+if defined?(ActionMailer)
+  class Devise::Mailer < Devise.parent_mailer.constantize
+    include Devise::Mailers::Helpers
 
-  def confirmation_instructions(record, token, opts={})
-    @token = token
-    devise_mail(record, :confirmation_instructions, opts)
-  end
+    def confirmation_instructions(record, token, opts={})
+      @token = token
+      devise_mail(record, :confirmation_instructions, opts)
+    end
 
-  def reset_password_instructions(record, token, opts={})
-    @token = token
-    devise_mail(record, :reset_password_instructions, opts)
-  end
+    def reset_password_instructions(record, token, opts={})
+      @token = token
+      devise_mail(record, :reset_password_instructions, opts)
+    end
 
-  def unlock_instructions(record, token, opts={})
-    @token = token
-    devise_mail(record, :unlock_instructions, opts)
+    def unlock_instructions(record, token, opts={})
+      @token = token
+      devise_mail(record, :unlock_instructions, opts)
+    end
   end
 end
