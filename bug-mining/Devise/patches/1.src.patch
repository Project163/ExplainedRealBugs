diff --git a/lib/devise/rails.rb b/lib/devise/rails.rb
index 45eb377c..cced18b5 100644
--- a/lib/devise/rails.rb
+++ b/lib/devise/rails.rb
@@ -15,6 +15,8 @@ module Devise
 
     initializer "devise.add_url_helpers" do |app|
       Devise::FailureApp.send :include, app.routes.url_helpers
+      ActionController::Base.send :include, Devise::Controllers::UrlHelpers
+      ActionView::Base.send :include, Devise::Controllers::UrlHelpers
     end
 
     config.after_initialize do
diff --git a/lib/devise/rails/routes.rb b/lib/devise/rails/routes.rb
index f734cf7e..f42d9f8a 100644
--- a/lib/devise/rails/routes.rb
+++ b/lib/devise/rails/routes.rb
@@ -6,8 +6,6 @@ module ActionDispatch::Routing
       finalize_without_devise!
       Devise.configure_warden!
       ActionController::Base.send :include, Devise::Controllers::Helpers
-      ActionController::Base.send :include, Devise::Controllers::UrlHelpers
-      ActionView::Base.send :include, Devise::Controllers::UrlHelpers
     end
     alias_method_chain :finalize!, :devise
   end
