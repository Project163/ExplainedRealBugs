diff --git a/app/controllers/devise/registrations_controller.rb b/app/controllers/devise/registrations_controller.rb
index 5ee3a61e..4976e688 100644
--- a/app/controllers/devise/registrations_controller.rb
+++ b/app/controllers/devise/registrations_controller.rb
@@ -104,7 +104,7 @@ class Devise::RegistrationsController < ApplicationController
     # We need to use a copy because we don't want actions like update changing
     # the current user in place.
     def authenticate_scope!
-      send(:"authenticate_#{resource_name}!")
+      send(:"authenticate_#{resource_name}!", true)
       self.resource = resource_class.to_adapter.get!(send(:"current_#{resource_name}").to_key)
     end
 end
diff --git a/lib/devise/controllers/helpers.rb b/lib/devise/controllers/helpers.rb
index 11435c32..5f0d5d08 100644
--- a/lib/devise/controllers/helpers.rb
+++ b/lib/devise/controllers/helpers.rb
@@ -36,8 +36,8 @@ module Devise
         mapping = mapping.name
 
         class_eval <<-METHODS, __FILE__, __LINE__ + 1
-          def authenticate_#{mapping}!
-            warden.authenticate!(:scope => :#{mapping})
+          def authenticate_#{mapping}!(force = false)
+            warden.authenticate!(:scope => :#{mapping}) if !devise_controller? || force
           end
 
           def #{mapping}_signed_in?
diff --git a/lib/devise/controllers/internal_helpers.rb b/lib/devise/controllers/internal_helpers.rb
index 7307eb37..6d47421e 100644
--- a/lib/devise/controllers/internal_helpers.rb
+++ b/lib/devise/controllers/internal_helpers.rb
@@ -17,8 +17,6 @@ module Devise
 
         prepend_before_filter :is_devise_resource?
         respond_to *Mime::SET.map(&:to_sym) if mimes_for_respond_to.empty?
-
-        skip_before_filter *Devise.mappings.keys.map { |m| :"authenticate_#{m}!" }
       end
 
       # Gets the actual resource stored in the instance variable
diff --git a/test/rails_app/config/application.rb b/test/rails_app/config/application.rb
index 63897c78..8b8b5e5c 100644
--- a/test/rails_app/config/application.rb
+++ b/test/rails_app/config/application.rb
@@ -31,5 +31,10 @@ module RailsApp
     config.filter_parameters << :password
 
     config.action_mailer.default_url_options = { :host => "localhost:3000" }
+
+    # This was used to break devise in some situations
+    config.to_prepare do
+      Devise::SessionsController.layout "application"
+    end
   end
 end
