{"url":"https://api.github.com/repos/python-pillow/Pillow/issues/2376","repository_url":"https://api.github.com/repos/python-pillow/Pillow","labels_url":"https://api.github.com/repos/python-pillow/Pillow/issues/2376/labels{/name}","comments_url":"https://api.github.com/repos/python-pillow/Pillow/issues/2376/comments","events_url":"https://api.github.com/repos/python-pillow/Pillow/issues/2376/events","html_url":"https://github.com/python-pillow/Pillow/issues/2376","id":203349155,"node_id":"MDU6SXNzdWUyMDMzNDkxNTU=","number":2376,"title":"ImageTk is broken on pypy","user":{"login":"wiredfool","id":19792,"node_id":"MDQ6VXNlcjE5Nzky","avatar_url":"https://avatars.githubusercontent.com/u/19792?v=4","gravatar_id":"","url":"https://api.github.com/users/wiredfool","html_url":"https://github.com/wiredfool","followers_url":"https://api.github.com/users/wiredfool/followers","following_url":"https://api.github.com/users/wiredfool/following{/other_user}","gists_url":"https://api.github.com/users/wiredfool/gists{/gist_id}","starred_url":"https://api.github.com/users/wiredfool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wiredfool/subscriptions","organizations_url":"https://api.github.com/users/wiredfool/orgs","repos_url":"https://api.github.com/users/wiredfool/repos","events_url":"https://api.github.com/users/wiredfool/events{/privacy}","received_events_url":"https://api.github.com/users/wiredfool/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":10115804,"node_id":"MDU6TGFiZWwxMDExNTgwNA==","url":"https://api.github.com/repos/python-pillow/Pillow/labels/Bug","name":"Bug","color":"fef2c0","default":false,"description":"Any unexpected behavior, until confirmed feature."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-01-26T11:30:00Z","updated_at":"2017-01-26T14:12:41Z","closed_at":"2017-01-26T14:12:41Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Pypy 5.6 is segfaulting in _imagingtk.c:_tkinit:\r\n\r\n```\r\n    /* This will bomb if interp is invalid... */\r\n    TkImaging_Init(interp);\r\n```\r\n\r\nIt's consistent back to 2.5.0, which is well before the Tk reorg where we're dynamically getting the interpreter address.\r\n\r\n### What did you do?\r\n\r\nIt's trivially reproducable:\r\n\r\npypy viewer.py [path to image]\r\n\r\nWe're not actually testing this anywhere in our test scripts, and we're not even getting Tk recognized on pypy3 on travis. \r\n\r\nI haven't dug back in the archives yet to determine if this is a pypy5.6 thing, or if it's more general. ","closed_by":{"login":"wiredfool","id":19792,"node_id":"MDQ6VXNlcjE5Nzky","avatar_url":"https://avatars.githubusercontent.com/u/19792?v=4","gravatar_id":"","url":"https://api.github.com/users/wiredfool","html_url":"https://github.com/wiredfool","followers_url":"https://api.github.com/users/wiredfool/followers","following_url":"https://api.github.com/users/wiredfool/following{/other_user}","gists_url":"https://api.github.com/users/wiredfool/gists{/gist_id}","starred_url":"https://api.github.com/users/wiredfool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wiredfool/subscriptions","organizations_url":"https://api.github.com/users/wiredfool/orgs","repos_url":"https://api.github.com/users/wiredfool/repos","events_url":"https://api.github.com/users/wiredfool/events{/privacy}","received_events_url":"https://api.github.com/users/wiredfool/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python-pillow/Pillow/issues/2376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python-pillow/Pillow/issues/2376/timeline","performed_via_github_app":null,"state_reason":"completed"}