{"url":"https://api.github.com/repos/python-pillow/Pillow/issues/2804","repository_url":"https://api.github.com/repos/python-pillow/Pillow","labels_url":"https://api.github.com/repos/python-pillow/Pillow/issues/2804/labels{/name}","comments_url":"https://api.github.com/repos/python-pillow/Pillow/issues/2804/comments","events_url":"https://api.github.com/repos/python-pillow/Pillow/issues/2804/events","html_url":"https://github.com/python-pillow/Pillow/issues/2804","id":266160097,"node_id":"MDU6SXNzdWUyNjYxNjAwOTc=","number":2804,"title":"Error while saving multiple JPEGs as a multi-page PDF","user":{"login":"ixio","id":5647930,"node_id":"MDQ6VXNlcjU2NDc5MzA=","avatar_url":"https://avatars.githubusercontent.com/u/5647930?v=4","gravatar_id":"","url":"https://api.github.com/users/ixio","html_url":"https://github.com/ixio","followers_url":"https://api.github.com/users/ixio/followers","following_url":"https://api.github.com/users/ixio/following{/other_user}","gists_url":"https://api.github.com/users/ixio/gists{/gist_id}","starred_url":"https://api.github.com/users/ixio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ixio/subscriptions","organizations_url":"https://api.github.com/users/ixio/orgs","repos_url":"https://api.github.com/users/ixio/repos","events_url":"https://api.github.com/users/ixio/events{/privacy}","received_events_url":"https://api.github.com/users/ixio/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-10-17T15:00:12Z","updated_at":"2021-04-16T11:38:31Z","closed_at":"2017-11-05T15:18:23Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What did you do?\r\n\r\nI wanted to make a PDF out of multiple JPEG images, I loaded the JPEGs and try to save the first one as a PDF with the other images appended.\r\n\r\n### What did you expect to happen?\r\n\r\nI expected a multi-page PDF, each page being one of my input images.\r\n\r\n### What actually happened?\r\n\r\nI got the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"[...]/lib/python3.5/site-packages/PIL/Image.py\", line 1933, in save\r\n    save_handler(self, fp, filename)\r\n  File \"[...]/lib/python3.5/site-packages/PIL/PdfImagePlugin.py\", line 60, in _save_all\r\n    _save(im, fp, filename, save_all=True)\r\n  File \"[...]/lib/python3.5/site-packages/PIL/PdfImagePlugin.py\", line 187, in _save\r\n    Image.SAVE[\"JPEG\"](im, op, filename)\r\n  File \"[...]/lib/python3.5/site-packages/PIL/JpegImagePlugin.py\", line 609, in _save\r\n    info = im.encoderinfo\r\nAttributeError: 'JpegImageFile' object has no attribute 'encoderinfo'\r\n```\r\n\r\n### What versions of Pillow and Python are you using?\r\n\r\nPillow 4.3.0 on Python 3.5\r\n\r\n### How to reproduce this and more\r\n\r\nI had the problem with JPEGs of mine but even with two very simple JPEGs generated with imagemagick I get the errors. What's interesting is if I try to make a TIFF first I can then make a PDF.\r\n\r\n```python\r\n# The bug should be on any two random JPEGs, I generated the following to test:\r\n# > convert -size 100x100 xc:#990000 a.jpeg\r\n# > convert -size 100x100 xc:#009900 b.jpeg\r\n\r\nfrom PIL import Image\r\n\r\nImage.open('a.jpeg').save('test.pdf', save_all=True, append_images=[Image.open('b.jpeg')])\r\n# AttributeError: 'JpegImageFile' object has no attribute 'encoderinfo'\r\n\r\na = Image.open('a.jpeg')\r\nb = Image.open('b.jpeg')\r\na.save('test.pdf', save_all=True, append_images=[b]) # ERROR \r\na.save('test.gif', save_all=True, append_images=[b]) # SUCCESS\r\na.save('test.pdf', save_all=True, append_images=[b]) # ERROR\r\na.save('test.tiff', save_all=True, append_images=[b]) # SUCCESS\r\na.save('test.pdf', save_all=True, append_images=[b]) # SUCCESS\r\n```\r\n\r\nTest JPEGs you can use:\r\n\r\n![b](https://user-images.githubusercontent.com/5647930/31671519-6cae8b30-b35a-11e7-8335-e069187cb071.jpeg)\r\n![a](https://user-images.githubusercontent.com/5647930/31671521-6cdb21a4-b35a-11e7-8ef0-998d4f6bd8f4.jpeg)","closed_by":{"login":"wiredfool","id":19792,"node_id":"MDQ6VXNlcjE5Nzky","avatar_url":"https://avatars.githubusercontent.com/u/19792?v=4","gravatar_id":"","url":"https://api.github.com/users/wiredfool","html_url":"https://github.com/wiredfool","followers_url":"https://api.github.com/users/wiredfool/followers","following_url":"https://api.github.com/users/wiredfool/following{/other_user}","gists_url":"https://api.github.com/users/wiredfool/gists{/gist_id}","starred_url":"https://api.github.com/users/wiredfool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wiredfool/subscriptions","organizations_url":"https://api.github.com/users/wiredfool/orgs","repos_url":"https://api.github.com/users/wiredfool/repos","events_url":"https://api.github.com/users/wiredfool/events{/privacy}","received_events_url":"https://api.github.com/users/wiredfool/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python-pillow/Pillow/issues/2804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python-pillow/Pillow/issues/2804/timeline","performed_via_github_app":null,"state_reason":"completed"}