{"url":"https://api.github.com/repos/python-pillow/Pillow/issues/642","repository_url":"https://api.github.com/repos/python-pillow/Pillow","labels_url":"https://api.github.com/repos/python-pillow/Pillow/issues/642/labels{/name}","comments_url":"https://api.github.com/repos/python-pillow/Pillow/issues/642/comments","events_url":"https://api.github.com/repos/python-pillow/Pillow/issues/642/events","html_url":"https://github.com/python-pillow/Pillow/issues/642","id":32517909,"node_id":"MDU6SXNzdWUzMjUxNzkwOQ==","number":642,"title":"Inconsistent use of datatypes","user":{"login":"CounterPillow","id":308818,"node_id":"MDQ6VXNlcjMwODgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/308818?v=4","gravatar_id":"","url":"https://api.github.com/users/CounterPillow","html_url":"https://github.com/CounterPillow","followers_url":"https://api.github.com/users/CounterPillow/followers","following_url":"https://api.github.com/users/CounterPillow/following{/other_user}","gists_url":"https://api.github.com/users/CounterPillow/gists{/gist_id}","starred_url":"https://api.github.com/users/CounterPillow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CounterPillow/subscriptions","organizations_url":"https://api.github.com/users/CounterPillow/orgs","repos_url":"https://api.github.com/users/CounterPillow/repos","events_url":"https://api.github.com/users/CounterPillow/events{/privacy}","received_events_url":"https://api.github.com/users/CounterPillow/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2014-04-30T09:02:09Z","updated_at":"2014-05-22T23:09:23Z","closed_at":"2014-05-22T23:09:23Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Compilation breaks for me using msys2 with mingw-w64 due to inconsistent uses of datatypes, and generally datatype weirdness.\n\nImPlatform.h defines INT32 and friends, but the system's basetsd.h which appears to get included somewhere already does this. These two seem to conflict on my system, yielding fun errors such as \n\n```\nD:/msys64/mingw64/x86_64-w64-mingw32/include/basetsd.h:35:30: error: expected identifier or '(' before ',' token\n\n   typedef unsigned int UINT32,*PUINT32;\n```\n\nSo basically, I ripped out most of ImPlatform.h and just made it include basetsd.h (which appears to get included somewhere else anyway?)\nHowever, basetsd.h does not `#define` them to things like `int`, but rather typedefs it to `signed int`, which means that code like Lzw.h line 48 (`unsigned INT16 link[LZWTABLE];`) and Gif.h, line 62 fails to build, as it uses `unsigned INT16` instead of `UINT16`. (which ImPlatform.h would define already as well)\nChanging `unsigned INT16` to `UINT16` in these two instances allows the code to build.\n\nWhy basetsd.h gets included and then conflicts with ImPlatform.h, I do not know; however, using the predefined datatypes consistently would probably be good practice anyway, which is what I'm opening this issue for.\n\n_Note: My nickname is not actually a joke on the library's name, it's coincidence, I swear!_\n","closed_by":{"login":"wiredfool","id":19792,"node_id":"MDQ6VXNlcjE5Nzky","avatar_url":"https://avatars.githubusercontent.com/u/19792?v=4","gravatar_id":"","url":"https://api.github.com/users/wiredfool","html_url":"https://github.com/wiredfool","followers_url":"https://api.github.com/users/wiredfool/followers","following_url":"https://api.github.com/users/wiredfool/following{/other_user}","gists_url":"https://api.github.com/users/wiredfool/gists{/gist_id}","starred_url":"https://api.github.com/users/wiredfool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wiredfool/subscriptions","organizations_url":"https://api.github.com/users/wiredfool/orgs","repos_url":"https://api.github.com/users/wiredfool/repos","events_url":"https://api.github.com/users/wiredfool/events{/privacy}","received_events_url":"https://api.github.com/users/wiredfool/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python-pillow/Pillow/issues/642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python-pillow/Pillow/issues/642/timeline","performed_via_github_app":null,"state_reason":"completed"}