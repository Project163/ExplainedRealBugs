{"url":"https://api.github.com/repos/python-pillow/Pillow/issues/523","repository_url":"https://api.github.com/repos/python-pillow/Pillow","labels_url":"https://api.github.com/repos/python-pillow/Pillow/issues/523/labels{/name}","comments_url":"https://api.github.com/repos/python-pillow/Pillow/issues/523/comments","events_url":"https://api.github.com/repos/python-pillow/Pillow/issues/523/events","html_url":"https://github.com/python-pillow/Pillow/issues/523","id":27524851,"node_id":"MDU6SXNzdWUyNzUyNDg1MQ==","number":523,"title":"Some pcx images are displayed incorrectly","user":{"login":"roarc0","id":130094,"node_id":"MDQ6VXNlcjEzMDA5NA==","avatar_url":"https://avatars.githubusercontent.com/u/130094?v=4","gravatar_id":"","url":"https://api.github.com/users/roarc0","html_url":"https://github.com/roarc0","followers_url":"https://api.github.com/users/roarc0/followers","following_url":"https://api.github.com/users/roarc0/following{/other_user}","gists_url":"https://api.github.com/users/roarc0/gists{/gist_id}","starred_url":"https://api.github.com/users/roarc0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roarc0/subscriptions","organizations_url":"https://api.github.com/users/roarc0/orgs","repos_url":"https://api.github.com/users/roarc0/repos","events_url":"https://api.github.com/users/roarc0/events{/privacy}","received_events_url":"https://api.github.com/users/roarc0/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2014-02-13T15:15:53Z","updated_at":"2014-03-17T13:39:02Z","closed_at":"2014-03-17T13:39:02Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi everyone!\nI'm trying to use pcx images extracted from an old game (Might and Magic VI, the game has 2D UI over the 3D environment. This 2D UI is composed by various internal formats and pcx files.)\n\nThe problem is that one of these pcx is displayed incorrecly by pillow, while being displayed correctly by EyeOfGnome (gdk-pixbuf) image viewer.\nAnother pcx is displayed correctly by pillow!\n\nWhat do I mean by incorrectly? The bad image has a kind of \"red shift\" of pixels colors. the left border is a bit red. It' like a \"3D-ified\" image, it's a bit blurry and the whole is a bit darker.\n\nI opened the pcx files with an hex editor and the main difference I spotted in the pcx-header is that the wrong one has the \"48 byte palette\" field completely empty. while the other one has some data in it. But it shoudn't be a problem because other viewers display it correctly.\n\nI simply use this code\nimg = Image.open(pcxfilename)\nimg.show()\n\nthis archive contains the pcx files https://db.tt/td291VTh\n\ngdk-pixbuf decoding of pcx is a bit more complex than the pillow one:\ngdk-pixbuf/io-pcx.c VS libImaging/PcxDecode.c\n\nthanks for any help!\n\n![border](https://f.cloud.github.com/assets/130094/2161053/c8ed7598-94c1-11e3-8607-1f2ad1f208c1.png)\n","closed_by":{"login":"wiredfool","id":19792,"node_id":"MDQ6VXNlcjE5Nzky","avatar_url":"https://avatars.githubusercontent.com/u/19792?v=4","gravatar_id":"","url":"https://api.github.com/users/wiredfool","html_url":"https://github.com/wiredfool","followers_url":"https://api.github.com/users/wiredfool/followers","following_url":"https://api.github.com/users/wiredfool/following{/other_user}","gists_url":"https://api.github.com/users/wiredfool/gists{/gist_id}","starred_url":"https://api.github.com/users/wiredfool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wiredfool/subscriptions","organizations_url":"https://api.github.com/users/wiredfool/orgs","repos_url":"https://api.github.com/users/wiredfool/repos","events_url":"https://api.github.com/users/wiredfool/events{/privacy}","received_events_url":"https://api.github.com/users/wiredfool/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python-pillow/Pillow/issues/523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python-pillow/Pillow/issues/523/timeline","performed_via_github_app":null,"state_reason":"completed"}