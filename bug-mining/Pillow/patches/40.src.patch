diff --git a/PIL/JpegImagePlugin.py b/PIL/JpegImagePlugin.py
index 07a09232c..da52006ca 100644
--- a/PIL/JpegImagePlugin.py
+++ b/PIL/JpegImagePlugin.py
@@ -442,7 +442,7 @@ samplings = {
             }
 
 def convert_dict_qtables(qtables):
-    qtables = [qtables[key] for key in xrange(len(qtables)) if qtables.has_key(key)]
+    qtables = [qtables[key] for key in range(len(qtables)) if key in qtables]
     for idx, table in enumerate(qtables):
         qtables[idx] = [table[i] for i in zigzag_index]
     return qtables
@@ -504,7 +504,7 @@ def _save(im, fp, filename):
             except ValueError:
                 raise ValueError("Invalid quantization table")
             else:
-                qtables = [lines[s:s+64] for s in xrange(0, len(lines), 64)]
+                qtables = [lines[s:s+64] for s in range(0, len(lines), 64)]
         if isinstance(qtables, (tuple, list, dict)):
             if isinstance(qtables, dict):
                 qtables = convert_dict_qtables(qtables)
